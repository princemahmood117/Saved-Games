/* Twinkle Signature v1 yTVfYeD4FypHwTkBqidoa90auZYbfZGjLb33z7hYTungZn2YwK2e2bxc0P0H4sBRLP5ZKfoCo/LMJ43JpyLKBw== *//*!
 *   Version: release-bf4pc-bf1dlc1_11296_3284083e_warsaw_all_prod
 *   Build #: 11296
 *  Revision: 3284083e34e4f9260f1d7d902a18bfc0013ea641
 *    Branch: release-bf4pc-bf1dlc1
 *   Channel: warsaw
 *  Platform: all
 *    Locale: en-us
 * Timestamp: 2017-02-20 12:52:42 UTC
 */
!function(e) {
function t(r) {
if (n[r]) return n[r].exports;
var o = n[r] = {
exports: {},
id: r,
loaded: !1
};
return e[r].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports;
}
var n = {};
return t.m = e, t.c = n, t.p = "", t(0);
}([ function(e, t, n) {
e.exports = n(893);
}, function(e, t, n) {
"use strict";
e.exports = n(507);
}, function(e, t, n) {
var r = n(219);
e.exports = r.translate;
}, function(e, t, n) {
(function(e) {
"use strict";
function r(e) {
return e + "_" + W++;
}
n(1), n(648), n(669), n(647), e.Promise = n(939);
var o = n(913).AnimatedSurface;
t.AnimatedSurface = o;
var a = n(918);
t.hasSurfaceBounds = a;
var i = n(149);
t.renderer = i;
var s = n(663), l = s.render;
t.render = l;
var u = s.getRootId;
t.getRootId = u;
var c = n(651);
t.loadAssetRequest = c.loadAssetRequest;
var p = n(212);
t.getBoundsSync = p.getBoundsSync, t.getMultipleBoundsSync = p.getMultipleBoundsSync;
var f = n(76);
t.options = f.options;
var d = n(178);
t.HttpMethod = d.HttpMethod, t.MouseEventType = d.MouseEventType, t.MouseButton = d.MouseButton;
var h = n(387);
t.testElement = h;
var y = n(638);
t.Console = y;
var g = n(265);
t.texture = g.textureHandler;
var m = n(101);
t.getBuildInfo = m.getBuildInfo;
var b = n(266);
t.Bounds = b.Bounds;
var v = n(390);
t.Point = v.Point;
var _ = n(82);
t.events = _;
var S = n(664);
t.Sound = S.Sound;
var T = n(265);
t.TexturePreloader = T.TexturePreloader;
var w = n(661);
t.particles = w;
var E = n(262);
t.focus = E;
var I = n(381);
t.Focusable = I.Focusable;
var C = n(665);
t.surfaceChain = C;
var A = n(148);
t.profile = A;
var P = n(211);
t.Tween = P.Tween;
var O = n(147);
t.TweenBatching = O.TweenBatching;
var R = n(261);
t.assign = R.assign;
var k = n(670);
t.video = k;
var x = n(383);
t.httpRequest = x.httpRequest;
var M = n(657);
t.now = M.now;
var N = n(649);
t.inputHandler = N;
var D = n(389);
t.base64 = D;
var U = n(382);
t.frostbite = U.frostbite;
var L = n(650);
t.kvstorage = L;
var $ = n(652), G = n(47);
t.Native = G.nativeApi;
var F = n(640);
t.debug = F;
var B = n(178);
t.types = B, $.initManifestListeners();
var j = function(e, t) {
f.options.urlHook && (t = f.options.urlHook(t)), G.nativeApi.loadFont(e, t);
};
t.loadFont = j;
var H = function(e) {
return m.getBuildInfo().hasVerifyCodeSignature() ? G.nativeApi.verifyCodeSignatureSync(e) : !0;
};
t.verifyCodeSignature = H;
var V = function() {
function e(e, t, n, r, o, a, i, s, l) {
void 0 === o && (o = 60), void 0 === a && (a = 0), void 0 === i && (i = !0), void 0 === s && (s = !1), 
void 0 === l && (l = "SINGLE_TEXTURE"), this.spriteSheet = e, this.frameWidth = t, 
this.frameHeight = n, this.totalFrames = r, this.fps = o, this.startFrame = a, this.running = i, 
this.looping = s, this.spriteSheetAtlas = l;
}
return Object.defineProperty(e.prototype, "duration", {
get: function() {
return (this.totalFrames - this.startFrame) / this.fps * 1e3;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "aspectRatio", {
get: function() {
return this.frameWidth / this.frameHeight;
},
enumerable: !0,
configurable: !0
}), e;
}();
t.SpriteAnimation = V;
var z = function(e) {
return E.focusable(e);
};
t.focusable = z;
var W = 0;
t.autoId = r;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e, t) {
if (e === t) return !1;
if (!e && !t) return !1;
if (!e && t) return !0;
if (e && !t) return !0;
var n = Object.keys(e), r = Object.keys(t);
if (n.length !== r.length) return !0;
var o, a;
for (o = 0; o < n.length; o++) {
a = n[o];
var i = e[a], s = t[a];
if (i !== s) return !0;
}
return !1;
}
function o(e) {
return function t(e, n) {
return e.prototype.shouldComponentUpdate || (e.prototype.shouldComponentUpdate = function o(e, t) {
var n = r(e, this.props) || r(t, this.state);
return !n && a.debug.showWastedRenders && (this._wasteCount ? this._wasteCount++ : this._wasteCount = 1, 
a.Native.surfaceDebugHighlight(this._reactInternalInstance._rootNodeID, 1e3, "#ff0000", i(this) + " x" + this._wasteCount, "#ffffff")), 
n;
}), e;
};
}
t.__esModule = !0, t["default"] = o;
var a = n(3), i = function s(e) {
return e.displayName || e.constructor.displayName || e.constructor.name;
};
t.getDisplayName = i;
}, function(e, t, n) {
var r, o;
(function() {
var n = this, a = n._, i = Array.prototype, s = Object.prototype, l = Function.prototype, u = i.push, c = i.slice, p = i.concat, f = s.toString, d = s.hasOwnProperty, h = Array.isArray, y = Object.keys, g = l.bind, m = function(e) {
return e instanceof m ? e : this instanceof m ? void (this._wrapped = e) : new m(e);
};
"undefined" != typeof e && e.exports && (t = e.exports = m), t._ = m, m.VERSION = "1.7.0";
var b = function(e, t, n) {
if (void 0 === t) return e;
switch (null == n ? 3 : n) {
case 1:
return function(n) {
return e.call(t, n);
};

case 2:
return function(n, r) {
return e.call(t, n, r);
};

case 3:
return function(n, r, o) {
return e.call(t, n, r, o);
};

case 4:
return function(n, r, o, a) {
return e.call(t, n, r, o, a);
};
}
return function() {
return e.apply(t, arguments);
};
};
m.iteratee = function(e, t, n) {
return null == e ? m.identity : m.isFunction(e) ? b(e, t, n) : m.isObject(e) ? m.matches(e) : m.property(e);
}, m.each = m.forEach = function(e, t, n) {
if (null == e) return e;
t = b(t, n);
var r, o = e.length;
if (o === +o) for (r = 0; o > r; r++) t(e[r], r, e); else {
var a = m.keys(e);
for (r = 0, o = a.length; o > r; r++) t(e[a[r]], a[r], e);
}
return e;
}, m.map = m.collect = function(e, t, n) {
if (null == e) return [];
t = m.iteratee(t, n);
for (var r, o = e.length !== +e.length && m.keys(e), a = (o || e).length, i = Array(a), s = 0; a > s; s++) r = o ? o[s] : s, 
i[s] = t(e[r], r, e);
return i;
};
var v = "Reduce of empty array with no initial value";
m.reduce = m.foldl = m.inject = function(e, t, n, r) {
null == e && (e = []), t = b(t, r, 4);
var o, a = e.length !== +e.length && m.keys(e), i = (a || e).length, s = 0;
if (arguments.length < 3) {
if (!i) throw new TypeError(v);
n = e[a ? a[s++] : s++];
}
for (;i > s; s++) o = a ? a[s] : s, n = t(n, e[o], o, e);
return n;
}, m.reduceRight = m.foldr = function(e, t, n, r) {
null == e && (e = []), t = b(t, r, 4);
var o, a = e.length !== +e.length && m.keys(e), i = (a || e).length;
if (arguments.length < 3) {
if (!i) throw new TypeError(v);
n = e[a ? a[--i] : --i];
}
for (;i--; ) o = a ? a[i] : i, n = t(n, e[o], o, e);
return n;
}, m.find = m.detect = function(e, t, n) {
var r;
return t = m.iteratee(t, n), m.some(e, function(e, n, o) {
return t(e, n, o) ? (r = e, !0) : void 0;
}), r;
}, m.filter = m.select = function(e, t, n) {
var r = [];
return null == e ? r : (t = m.iteratee(t, n), m.each(e, function(e, n, o) {
t(e, n, o) && r.push(e);
}), r);
}, m.reject = function(e, t, n) {
return m.filter(e, m.negate(m.iteratee(t)), n);
}, m.every = m.all = function(e, t, n) {
if (null == e) return !0;
t = m.iteratee(t, n);
var r, o, a = e.length !== +e.length && m.keys(e), i = (a || e).length;
for (r = 0; i > r; r++) if (o = a ? a[r] : r, !t(e[o], o, e)) return !1;
return !0;
}, m.some = m.any = function(e, t, n) {
if (null == e) return !1;
t = m.iteratee(t, n);
var r, o, a = e.length !== +e.length && m.keys(e), i = (a || e).length;
for (r = 0; i > r; r++) if (o = a ? a[r] : r, t(e[o], o, e)) return !0;
return !1;
}, m.contains = m.include = function(e, t) {
return null == e ? !1 : (e.length !== +e.length && (e = m.values(e)), m.indexOf(e, t) >= 0);
}, m.invoke = function(e, t) {
var n = c.call(arguments, 2), r = m.isFunction(t);
return m.map(e, function(e) {
return (r ? t : e[t]).apply(e, n);
});
}, m.pluck = function(e, t) {
return m.map(e, m.property(t));
}, m.where = function(e, t) {
return m.filter(e, m.matches(t));
}, m.findWhere = function(e, t) {
return m.find(e, m.matches(t));
}, m.max = function(e, t, n) {
var r, o, a = -(1 / 0), i = -(1 / 0);
if (null == t && null != e) {
e = e.length === +e.length ? e : m.values(e);
for (var s = 0, l = e.length; l > s; s++) r = e[s], r > a && (a = r);
} else t = m.iteratee(t, n), m.each(e, function(e, n, r) {
o = t(e, n, r), (o > i || o === -(1 / 0) && a === -(1 / 0)) && (a = e, i = o);
});
return a;
}, m.min = function(e, t, n) {
var r, o, a = 1 / 0, i = 1 / 0;
if (null == t && null != e) {
e = e.length === +e.length ? e : m.values(e);
for (var s = 0, l = e.length; l > s; s++) r = e[s], a > r && (a = r);
} else t = m.iteratee(t, n), m.each(e, function(e, n, r) {
o = t(e, n, r), (i > o || o === 1 / 0 && a === 1 / 0) && (a = e, i = o);
});
return a;
}, m.shuffle = function(e) {
for (var t, n = e && e.length === +e.length ? e : m.values(e), r = n.length, o = Array(r), a = 0; r > a; a++) t = m.random(0, a), 
t !== a && (o[a] = o[t]), o[t] = n[a];
return o;
}, m.sample = function(e, t, n) {
return null == t || n ? (e.length !== +e.length && (e = m.values(e)), e[m.random(e.length - 1)]) : m.shuffle(e).slice(0, Math.max(0, t));
}, m.sortBy = function(e, t, n) {
return t = m.iteratee(t, n), m.pluck(m.map(e, function(e, n, r) {
return {
value: e,
index: n,
criteria: t(e, n, r)
};
}).sort(function(e, t) {
var n = e.criteria, r = t.criteria;
if (n !== r) {
if (n > r || void 0 === n) return 1;
if (r > n || void 0 === r) return -1;
}
return e.index - t.index;
}), "value");
};
var _ = function(e) {
return function(t, n, r) {
var o = {};
return n = m.iteratee(n, r), m.each(t, function(r, a) {
var i = n(r, a, t);
e(o, r, i);
}), o;
};
};
m.groupBy = _(function(e, t, n) {
m.has(e, n) ? e[n].push(t) : e[n] = [ t ];
}), m.indexBy = _(function(e, t, n) {
e[n] = t;
}), m.countBy = _(function(e, t, n) {
m.has(e, n) ? e[n]++ : e[n] = 1;
}), m.sortedIndex = function(e, t, n, r) {
n = m.iteratee(n, r, 1);
for (var o = n(t), a = 0, i = e.length; i > a; ) {
var s = a + i >>> 1;
n(e[s]) < o ? a = s + 1 : i = s;
}
return a;
}, m.toArray = function(e) {
return e ? m.isArray(e) ? c.call(e) : e.length === +e.length ? m.map(e, m.identity) : m.values(e) : [];
}, m.size = function(e) {
return null == e ? 0 : e.length === +e.length ? e.length : m.keys(e).length;
}, m.partition = function(e, t, n) {
t = m.iteratee(t, n);
var r = [], o = [];
return m.each(e, function(e, n, a) {
(t(e, n, a) ? r : o).push(e);
}), [ r, o ];
}, m.first = m.head = m.take = function(e, t, n) {
return null == e ? void 0 : null == t || n ? e[0] : 0 > t ? [] : c.call(e, 0, t);
}, m.initial = function(e, t, n) {
return c.call(e, 0, Math.max(0, e.length - (null == t || n ? 1 : t)));
}, m.last = function(e, t, n) {
return null == e ? void 0 : null == t || n ? e[e.length - 1] : c.call(e, Math.max(e.length - t, 0));
}, m.rest = m.tail = m.drop = function(e, t, n) {
return c.call(e, null == t || n ? 1 : t);
}, m.compact = function(e) {
return m.filter(e, m.identity);
};
var S = function(e, t, n, r) {
if (t && m.every(e, m.isArray)) return p.apply(r, e);
for (var o = 0, a = e.length; a > o; o++) {
var i = e[o];
m.isArray(i) || m.isArguments(i) ? t ? u.apply(r, i) : S(i, t, n, r) : n || r.push(i);
}
return r;
};
m.flatten = function(e, t) {
return S(e, t, !1, []);
}, m.without = function(e) {
return m.difference(e, c.call(arguments, 1));
}, m.uniq = m.unique = function(e, t, n, r) {
if (null == e) return [];
m.isBoolean(t) || (r = n, n = t, t = !1), null != n && (n = m.iteratee(n, r));
for (var o = [], a = [], i = 0, s = e.length; s > i; i++) {
var l = e[i];
if (t) i && a === l || o.push(l), a = l; else if (n) {
var u = n(l, i, e);
m.indexOf(a, u) < 0 && (a.push(u), o.push(l));
} else m.indexOf(o, l) < 0 && o.push(l);
}
return o;
}, m.union = function() {
return m.uniq(S(arguments, !0, !0, []));
}, m.intersection = function(e) {
if (null == e) return [];
for (var t = [], n = arguments.length, r = 0, o = e.length; o > r; r++) {
var a = e[r];
if (!m.contains(t, a)) {
for (var i = 1; n > i && m.contains(arguments[i], a); i++) ;
i === n && t.push(a);
}
}
return t;
}, m.difference = function(e) {
var t = S(c.call(arguments, 1), !0, !0, []);
return m.filter(e, function(e) {
return !m.contains(t, e);
});
}, m.zip = function(e) {
if (null == e) return [];
for (var t = m.max(arguments, "length").length, n = Array(t), r = 0; t > r; r++) n[r] = m.pluck(arguments, r);
return n;
}, m.object = function(e, t) {
if (null == e) return {};
for (var n = {}, r = 0, o = e.length; o > r; r++) t ? n[e[r]] = t[r] : n[e[r][0]] = e[r][1];
return n;
}, m.indexOf = function(e, t, n) {
if (null == e) return -1;
var r = 0, o = e.length;
if (n) {
if ("number" != typeof n) return r = m.sortedIndex(e, t), e[r] === t ? r : -1;
r = 0 > n ? Math.max(0, o + n) : n;
}
for (;o > r; r++) if (e[r] === t) return r;
return -1;
}, m.lastIndexOf = function(e, t, n) {
if (null == e) return -1;
var r = e.length;
for ("number" == typeof n && (r = 0 > n ? r + n + 1 : Math.min(r, n + 1)); --r >= 0; ) if (e[r] === t) return r;
return -1;
}, m.range = function(e, t, n) {
arguments.length <= 1 && (t = e || 0, e = 0), n = n || 1;
for (var r = Math.max(Math.ceil((t - e) / n), 0), o = Array(r), a = 0; r > a; a++, 
e += n) o[a] = e;
return o;
};
var T = function() {};
m.bind = function(e, t) {
var n, r;
if (g && e.bind === g) return g.apply(e, c.call(arguments, 1));
if (!m.isFunction(e)) throw new TypeError("Bind must be called on a function");
return n = c.call(arguments, 2), r = function() {
if (!(this instanceof r)) return e.apply(t, n.concat(c.call(arguments)));
T.prototype = e.prototype;
var o = new T();
T.prototype = null;
var a = e.apply(o, n.concat(c.call(arguments)));
return m.isObject(a) ? a : o;
};
}, m.partial = function(e) {
var t = c.call(arguments, 1);
return function() {
for (var n = 0, r = t.slice(), o = 0, a = r.length; a > o; o++) r[o] === m && (r[o] = arguments[n++]);
for (;n < arguments.length; ) r.push(arguments[n++]);
return e.apply(this, r);
};
}, m.bindAll = function(e) {
var t, n, r = arguments.length;
if (1 >= r) throw new Error("bindAll must be passed function names");
for (t = 1; r > t; t++) n = arguments[t], e[n] = m.bind(e[n], e);
return e;
}, m.memoize = function(e, t) {
var n = function(r) {
var o = n.cache, a = t ? t.apply(this, arguments) : r;
return m.has(o, a) || (o[a] = e.apply(this, arguments)), o[a];
};
return n.cache = {}, n;
}, m.delay = function(e, t) {
var n = c.call(arguments, 2);
return setTimeout(function() {
return e.apply(null, n);
}, t);
}, m.defer = function(e) {
return m.delay.apply(m, [ e, 1 ].concat(c.call(arguments, 1)));
}, m.throttle = function(e, t, n) {
var r, o, a, i = null, s = 0;
n || (n = {});
var l = function() {
s = n.leading === !1 ? 0 : m.now(), i = null, a = e.apply(r, o), i || (r = o = null);
};
return function() {
var u = m.now();
s || n.leading !== !1 || (s = u);
var c = t - (u - s);
return r = this, o = arguments, 0 >= c || c > t ? (clearTimeout(i), i = null, s = u, 
a = e.apply(r, o), i || (r = o = null)) : i || n.trailing === !1 || (i = setTimeout(l, c)), 
a;
};
}, m.debounce = function(e, t, n) {
var r, o, a, i, s, l = function() {
var u = m.now() - i;
t > u && u > 0 ? r = setTimeout(l, t - u) : (r = null, n || (s = e.apply(a, o), 
r || (a = o = null)));
};
return function() {
a = this, o = arguments, i = m.now();
var u = n && !r;
return r || (r = setTimeout(l, t)), u && (s = e.apply(a, o), a = o = null), s;
};
}, m.wrap = function(e, t) {
return m.partial(t, e);
}, m.negate = function(e) {
return function() {
return !e.apply(this, arguments);
};
}, m.compose = function() {
var e = arguments, t = e.length - 1;
return function() {
for (var n = t, r = e[t].apply(this, arguments); n--; ) r = e[n].call(this, r);
return r;
};
}, m.after = function(e, t) {
return function() {
return --e < 1 ? t.apply(this, arguments) : void 0;
};
}, m.before = function(e, t) {
var n;
return function() {
return --e > 0 ? n = t.apply(this, arguments) : t = null, n;
};
}, m.once = m.partial(m.before, 2), m.keys = function(e) {
if (!m.isObject(e)) return [];
if (y) return y(e);
var t = [];
for (var n in e) m.has(e, n) && t.push(n);
return t;
}, m.values = function(e) {
for (var t = m.keys(e), n = t.length, r = Array(n), o = 0; n > o; o++) r[o] = e[t[o]];
return r;
}, m.pairs = function(e) {
for (var t = m.keys(e), n = t.length, r = Array(n), o = 0; n > o; o++) r[o] = [ t[o], e[t[o]] ];
return r;
}, m.invert = function(e) {
for (var t = {}, n = m.keys(e), r = 0, o = n.length; o > r; r++) t[e[n[r]]] = n[r];
return t;
}, m.functions = m.methods = function(e) {
var t = [];
for (var n in e) m.isFunction(e[n]) && t.push(n);
return t.sort();
}, m.extend = function(e) {
if (!m.isObject(e)) return e;
for (var t, n, r = 1, o = arguments.length; o > r; r++) {
t = arguments[r];
for (n in t) d.call(t, n) && (e[n] = t[n]);
}
return e;
}, m.pick = function(e, t, n) {
var r, o = {};
if (null == e) return o;
if (m.isFunction(t)) {
t = b(t, n);
for (r in e) {
var a = e[r];
t(a, r, e) && (o[r] = a);
}
} else {
var i = p.apply([], c.call(arguments, 1));
e = new Object(e);
for (var s = 0, l = i.length; l > s; s++) r = i[s], r in e && (o[r] = e[r]);
}
return o;
}, m.omit = function(e, t, n) {
if (m.isFunction(t)) t = m.negate(t); else {
var r = m.map(p.apply([], c.call(arguments, 1)), String);
t = function(e, t) {
return !m.contains(r, t);
};
}
return m.pick(e, t, n);
}, m.defaults = function(e) {
if (!m.isObject(e)) return e;
for (var t = 1, n = arguments.length; n > t; t++) {
var r = arguments[t];
for (var o in r) void 0 === e[o] && (e[o] = r[o]);
}
return e;
}, m.clone = function(e) {
return m.isObject(e) ? m.isArray(e) ? e.slice() : m.extend({}, e) : e;
}, m.tap = function(e, t) {
return t(e), e;
};
var w = function(e, t, n, r) {
if (e === t) return 0 !== e || 1 / e === 1 / t;
if (null == e || null == t) return e === t;
e instanceof m && (e = e._wrapped), t instanceof m && (t = t._wrapped);
var o = f.call(e);
if (o !== f.call(t)) return !1;
switch (o) {
case "[object RegExp]":
case "[object String]":
return "" + e == "" + t;

case "[object Number]":
return +e !== +e ? +t !== +t : 0 === +e ? 1 / +e === 1 / t : +e === +t;

case "[object Date]":
case "[object Boolean]":
return +e === +t;
}
if ("object" != typeof e || "object" != typeof t) return !1;
for (var a = n.length; a--; ) if (n[a] === e) return r[a] === t;
var i = e.constructor, s = t.constructor;
if (i !== s && "constructor" in e && "constructor" in t && !(m.isFunction(i) && i instanceof i && m.isFunction(s) && s instanceof s)) return !1;
n.push(e), r.push(t);
var l, u;
if ("[object Array]" === o) {
if (l = e.length, u = l === t.length) for (;l-- && (u = w(e[l], t[l], n, r)); ) ;
} else {
var c, p = m.keys(e);
if (l = p.length, u = m.keys(t).length === l) for (;l-- && (c = p[l], u = m.has(t, c) && w(e[c], t[c], n, r)); ) ;
}
return n.pop(), r.pop(), u;
};
m.isEqual = function(e, t) {
return w(e, t, [], []);
}, m.isEmpty = function(e) {
if (null == e) return !0;
if (m.isArray(e) || m.isString(e) || m.isArguments(e)) return 0 === e.length;
for (var t in e) if (m.has(e, t)) return !1;
return !0;
}, m.isElement = function(e) {
return !(!e || 1 !== e.nodeType);
}, m.isArray = h || function(e) {
return "[object Array]" === f.call(e);
}, m.isObject = function(e) {
var t = typeof e;
return "function" === t || "object" === t && !!e;
}, m.each([ "Arguments", "Function", "String", "Number", "Date", "RegExp" ], function(e) {
m["is" + e] = function(t) {
return f.call(t) === "[object " + e + "]";
};
}), m.isArguments(arguments) || (m.isArguments = function(e) {
return m.has(e, "callee");
}), m.isFunction = function(e) {
return "function" == typeof e || !1;
}, m.isFinite = function(e) {
return isFinite(e) && !isNaN(parseFloat(e));
}, m.isNaN = function(e) {
return m.isNumber(e) && e !== +e;
}, m.isBoolean = function(e) {
return e === !0 || e === !1 || "[object Boolean]" === f.call(e);
}, m.isNull = function(e) {
return null === e;
}, m.isUndefined = function(e) {
return void 0 === e;
}, m.has = function(e, t) {
return null != e && d.call(e, t);
}, m.noConflict = function() {
return n._ = a, this;
}, m.identity = function(e) {
return e;
}, m.constant = function(e) {
return function() {
return e;
};
}, m.noop = function() {}, m.property = function(e) {
return function(t) {
return t[e];
};
}, m.matches = function(e) {
var t = m.pairs(e), n = t.length;
return function(e) {
if (null == e) return !n;
e = new Object(e);
for (var r = 0; n > r; r++) {
var o = t[r], a = o[0];
if (o[1] !== e[a] || !(a in e)) return !1;
}
return !0;
};
}, m.times = function(e, t, n) {
var r = Array(Math.max(0, e));
t = b(t, n, 1);
for (var o = 0; e > o; o++) r[o] = t(o);
return r;
}, m.random = function(e, t) {
return null == t && (t = e, e = 0), e + Math.floor(Math.random() * (t - e + 1));
}, m.now = Date.now || function() {
return new Date().getTime();
};
var E = {
"&": "&amp;",
"<": "&lt;",
">": "&gt;",
'"': "&quot;",
"'": "&#x27;",
"`": "&#x60;"
}, I = m.invert(E), C = function(e) {
var t = function(t) {
return e[t];
}, n = "(?:" + m.keys(e).join("|") + ")", r = RegExp(n), o = RegExp(n, "g");
return function(e) {
return e = null == e ? "" : "" + e, r.test(e) ? e.replace(o, t) : e;
};
};
m.escape = C(E), m.unescape = C(I), m.result = function(e, t) {
if (null == e) return void 0;
var n = e[t];
return m.isFunction(n) ? e[t]() : n;
};
var A = 0;
m.uniqueId = function(e) {
var t = ++A + "";
return e ? e + t : t;
}, m.templateSettings = {
evaluate: /<%([\s\S]+?)%>/g,
interpolate: /<%=([\s\S]+?)%>/g,
escape: /<%-([\s\S]+?)%>/g
};
var P = /(.)^/, O = {
"'": "'",
"\\": "\\",
"\r": "r",
"\n": "n",
"\u2028": "u2028",
"\u2029": "u2029"
}, R = /\\|'|\r|\n|\u2028|\u2029/g, k = function(e) {
return "\\" + O[e];
};
m.template = function(e, t, n) {
!t && n && (t = n), t = m.defaults({}, t, m.templateSettings);
var r = RegExp([ (t.escape || P).source, (t.interpolate || P).source, (t.evaluate || P).source ].join("|") + "|$", "g"), o = 0, a = "__p+='";
e.replace(r, function(t, n, r, i, s) {
return a += e.slice(o, s).replace(R, k), o = s + t.length, n ? a += "'+\n((__t=(" + n + "))==null?'':_.escape(__t))+\n'" : r ? a += "'+\n((__t=(" + r + "))==null?'':__t)+\n'" : i && (a += "';\n" + i + "\n__p+='"), 
t;
}), a += "';\n", t.variable || (a = "with(obj||{}){\n" + a + "}\n"), a = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + a + "return __p;\n";
try {
var i = new Function(t.variable || "obj", "_", a);
} catch (s) {
throw s.source = a, s;
}
var l = function(e) {
return i.call(this, e, m);
}, u = t.variable || "obj";
return l.source = "function(" + u + "){\n" + a + "}", l;
}, m.chain = function(e) {
var t = m(e);
return t._chain = !0, t;
};
var x = function(e) {
return this._chain ? m(e).chain() : e;
};
m.mixin = function(e) {
m.each(m.functions(e), function(t) {
var n = m[t] = e[t];
m.prototype[t] = function() {
var e = [ this._wrapped ];
return u.apply(e, arguments), x.call(this, n.apply(m, e));
};
});
}, m.mixin(m), m.each([ "pop", "push", "reverse", "shift", "sort", "splice", "unshift" ], function(e) {
var t = i[e];
m.prototype[e] = function() {
var n = this._wrapped;
return t.apply(n, arguments), "shift" !== e && "splice" !== e || 0 !== n.length || delete n[0], 
x.call(this, n);
};
}), m.each([ "concat", "join", "slice" ], function(e) {
var t = i[e];
m.prototype[e] = function() {
return x.call(this, t.apply(this._wrapped, arguments));
};
}), m.prototype.value = function() {
return this._wrapped;
}, r = [], o = function() {
return m;
}.apply(t, r), !(void 0 !== o && (e.exports = o));
}).call(this);
}, function(e, t, n) {
(function(t) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return w.colSpan(e);
}
function a(e) {
return w.rowSpan(e);
}
function i(e) {
var t = C[e];
return t || (t = C[e] = {
height: a(e)
}), t;
}
function s(e) {
var t = A[e];
return t || (t = A[e] = {
width: o(e)
}), t;
}
function l(e) {
var t = e.height ? i(e.height) : null;
return d["default"].createElement("surface", c({
style: [ I.row ].concat(t, e.style)
}, e.surfaceProps ? e.surfaceProps : {}), e.children);
}
function u(e) {
var t = e.width ? s(e.width) : null, n = e.style && e.style.width ? I.colWithGutter : I.colWithoutGutter;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: e.children,
style: [ n ].concat(t, e.style)
},
_owner: null
};
}
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = r(f), h = n(833), y = r(h), g = n(190), m = r(g), b = SpartaGlobals.bundleIsPC ? 8 : 10, v = 24, _ = SpartaGlobals.bundleIsPC ? 125 : 97, S = 1384 / 1660, T = SpartaGlobals.bundleIsPC ? S * m["default"].safeZone.width : m["default"].safeZone.width, w = t.contentGrid = new y["default"](T, m["default"].safeZone.height, v, _, b, 0), E = new y["default"](m["default"].safeZone.width, m["default"].safeZone.height, v, _, b, 0), I = {
row: {
margin: [ 0, 0, b, 0 ],
flexDirection: "row",
flexWrap: "nowrap"
},
colWithGutter: {
margin: [ 0, b, 0, 0 ],
flexDirection: "column",
flexWrap: "nowrap"
},
colWithoutGutter: {
margin: [ 0, 0, 0, 0 ],
flexDirection: "column",
flexWrap: "nowrap"
}
}, C = {}, A = {};
e.exports = {
ROWS: _,
COLUMNS: v,
GUTTER: b,
CELL_WIDTH: w.columnWidth,
CELL_HEIGHT: w.rowHeight,
getWidth: o,
getHeight: a,
Row: l,
Col: u,
window: E,
content: w
};
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, a = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, i = n(1), s = r(i), l = n(52), u = n(37), c = n(58), p = n(194), f = n(10), d = f.observer(function(e, t) {
var n = u.getTextSizes(c.localeState.displayLocale), r = {}, i = null, s = 0;
e.letterSpacing ? s = e.letterSpacing : t.routeConfig && t.routeConfig.fonts && t.routeConfig.fonts.letterSpacing && (s = t.routeConfig.fonts.letterSpacing), 
i = e.section ? e.section : t.routeConfig && t.routeConfig.gameId ? t.routeConfig.gameId : "generic", 
null !== i && c.localeState.fonts.hasOwnProperty(i) && (r = c.localeState.fonts[i]);
var l = e.size.toUpperCase(), f = r[e.type] ? r[e.type] : r.normal;
s = e.letterSpacing ? e.letterSpacing : p.getLetterSpacing(f);
var d = Array.isArray(e.style) ? Object.assign.apply(Object, [ {} ].concat(e.style)) : e.style, h = a({
fontSize: n[l],
fontFamily: f.name,
color: e.color,
textLetterSpacing: s
}, d);
return t.color && !h.color && (h.color = t.color), {
$$typeof: o,
type: "surface",
key: "Text",
ref: null,
props: {
onClick: e.onClick,
text: void 0 !== e.value ? e.value : "",
style: h
},
_owner: null
};
});
d.defaultProps = {
type: "normal",
size: "M"
}, d.propTypes = {
size: s["default"].PropTypes.string,
onClick: s["default"].PropTypes.func,
section: s["default"].PropTypes.string,
letterSpacing: s["default"].PropTypes.number
}, d.contextTypes = {
routeConfig: s["default"].PropTypes.instanceOf(l.Route),
color: s["default"].PropTypes.any
};
var h = d;
t.Text = h;
}, function(e, t, n) {
"use strict";
var r = n(570), o = n(562), a = n(559), i = n(561), s = n(255), l = n(558), u = n(586), c = n(551), p = n(556), f = n(362), d = n(560), h = n(209), y = n(620), g = n(621), m = n(203), b = n(557), v = n(375), _ = n(124), S = n(60);
t.settingsStore = new o.SettingsStore(S.nativeClientSettingsMessage, _.frostbiteListenable("sparta.origin.isIgoAvailableResponse")), 
t.gatewayState = new m.GatewayState(), t.gameStore = new r.GameStore(), t.routeStore = new i.RouteStore(), 
t.takeoverStore = new s.TakeoverStore(), t.locationStore = new a.LocationStore(t.routeStore), 
t.layoutStateStore = new l.LayoutStateStore(t.locationStore, t.routeStore), t.quickmatchOptionsStore = new u.QuickmatchOptionsStore(), 
t.backgroundMusicStore = new p.BackgroundMusicStore(), t.shortcutKitsStore = new c.ShortcutKitsStore(), 
t.inputStore = new b.InputStore();
var T = n(19);
t.userStore = new g.UserStore(), t.onlineState = new d.OnlineState(t.userStore, n(41)), 
t.friendStore = new y.FriendStore(t.userStore, v.fetchFriends), t.partyStore = new h.PartyStore(T, t.userStore, n(232), n(233)), 
t.comCenterState = new f.ComCenterState(n(61), n(67), n(36), n(53), t.partyStore, t.friendStore, t.onlineState, n(119), n(29), n(35));
}, function(e, t) {
(function(n) {
"use strict";
function r(e, t, n, r) {
return 1 === arguments.length && "function" == typeof e ? L(e.name || "<unnamed action>", e) : 2 === arguments.length && "function" == typeof t ? L(e, t) : 1 === arguments.length && "string" == typeof e ? o(e) : o(t).apply(null, arguments);
}
function o(e) {
return function(t, n, r) {
return r && "function" == typeof r.value ? (r.value = L(e, r.value), r.enumerable = !1, 
r.configurable = !0, r) : Ot(e).apply(this, arguments);
};
}
function a(e, t, n) {
var r = "string" == typeof e ? e : e.name || "<unnamed action>", o = "function" == typeof e ? e : t, a = "function" == typeof e ? t : n;
return ft("function" == typeof o, "`runInAction` expects a function"), ft(0 === o.length, "`runInAction` expects a function without arguments"), 
ft("string" == typeof r && r.length > 0, "actions should have valid names, got: '" + r + "'"), 
$(r, o, a, void 0);
}
function i(e) {
return "function" == typeof e && e.isMobxAction === !0;
}
function s(e, t, n) {
function r() {
a(s);
}
var o, a, i;
"string" == typeof e ? (o = e, a = t, i = n) : "function" == typeof e && (o = e.name || "Autorun@" + pt(), 
a = e, i = t), Le(a, "autorun methods cannot have modifiers"), ft("function" == typeof a, "autorun expects a function"), 
i && (a = a.bind(i));
var s = new Ft(o, function() {
this.track(r);
});
return s.schedule(), s.getDisposer();
}
function l(e, t, n, r) {
var o, a, i, l;
"string" == typeof e ? (o = e, a = t, i = n, l = r) : "function" == typeof e && (o = "When@" + pt(), 
a = e, i = t, l = n);
var u = s(o, function(e) {
if (a.call(l)) {
e.dispose();
var t = Q();
i.call(l), Z(t);
}
});
return u;
}
function u(e, t, n) {
return dt("`autorunUntil` is deprecated, please use `when`."), l.apply(null, arguments);
}
function c(e, t, n, r) {
function o() {
i(c);
}
var a, i, s, l;
"string" == typeof e ? (a = e, i = t, s = n, l = r) : "function" == typeof e && (a = e.name || "AutorunAsync@" + pt(), 
i = e, s = t, l = n), void 0 === s && (s = 1), l && (i = i.bind(l));
var u = !1, c = new Ft(a, function() {
u || (u = !0, setTimeout(function() {
u = !1, c.isDisposed || c.track(o);
}, s));
});
return c.schedule(), c.getDisposer();
}
function p(e, t, n, o, a, i) {
function s() {
if (!S.isDisposed) {
var e = !1;
S.track(function() {
var t = g(S);
e = vt(m, _, t), _ = t;
}), b && p && c(_, S), b || e !== !0 || c(_, S), b && (b = !1);
}
}
var l, u, c, p, f, d;
"string" == typeof e ? (l = e, u = t, c = n, p = o, f = a, d = i) : (l = e.name || t.name || "Reaction@" + pt(), 
u = e, c = t, p = n, f = o, d = a), void 0 === p && (p = !1), void 0 === f && (f = 0);
var h = Ne(u, Vt.Reference), y = h[0], g = h[1], m = y === Vt.Structure;
d && (g = g.bind(d), c = r(l, c.bind(d)));
var b = !0, v = !1, _ = void 0, S = new Ft(l, function() {
1 > f ? s() : v || (v = !0, setTimeout(function() {
v = !1, s();
}, f));
});
return S.schedule(), S.getDisposer();
}
function f(e, t, n, r) {
return "function" == typeof e && arguments.length < 3 ? "function" == typeof t ? d(e, t, void 0) : d(e, void 0, t) : Rt.apply(null, arguments);
}
function d(e, t, n) {
var r = Ne(e, Vt.Recursive), o = r[0], a = r[1];
return new Ut(a, n, o === Vt.Structure, a.name, t);
}
function h(e, t) {
ft("function" == typeof e && 1 === e.length, "createTransformer expects a function that accepts one argument");
var n = {}, r = Gt.resetId, o = function(r) {
function o(t, n) {
r.call(this, function() {
return e(n);
}, null, !1, "Transformer-" + e.name + "-" + t, void 0), this.sourceIdentifier = t, 
this.sourceObject = n;
}
return Pt(o, r), o.prototype.onBecomeUnobserved = function() {
var e = this.value;
r.prototype.onBecomeUnobserved.call(this), delete n[this.sourceIdentifier], t && t(e, this.sourceObject);
}, o;
}(Ut);
return function(e) {
r !== Gt.resetId && (n = {}, r = Gt.resetId);
var t = y(e), a = n[t];
return a ? a.get() : (a = n[t] = new o(t, e), a.get());
};
}
function y(e) {
if (null === e || "object" != typeof e) throw new Error("[mobx] transform expected some kind of object, got: " + e);
var t = e.$transformId;
return void 0 === t && (t = pt(), Tt(e, "$transformId", t)), t;
}
function g(e, t) {
return z() || console.warn("[mobx.expr] 'expr' should only be used inside other reactive functions."), 
f(e, t).get();
}
function m(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
return ft(arguments.length >= 2, "extendObservable expected 2 or more arguments"), 
ft("object" == typeof e, "extendObservable expects an object as first argument"), 
ft(!(e instanceof tn), "extendObservable should not be used on maps, use map.merge instead"), 
t.forEach(function(t) {
ft("object" == typeof t, "all arguments of extendObservable should be objects"), 
b(e, t, Vt.Recursive, null);
}), e;
}
function b(e, t, n, r) {
var o = qe(e, r, n);
for (var a in t) if (_t(t, a)) {
if (e === t && !Et(e, a)) continue;
var i = Object.getOwnPropertyDescriptor(t, a);
Ke(o, a, i);
}
return e;
}
function v(e, t) {
return _(tt(e, t));
}
function _(e) {
var t = {
name: e.name
};
return e.observing && e.observing.length > 0 && (t.dependencies = yt(e.observing).map(_)), 
t;
}
function S(e, t) {
return T(tt(e, t));
}
function T(e) {
var t = {
name: e.name
};
return re(e) && (t.observers = oe(e).map(T)), t;
}
function w(e, t, n) {
return "function" == typeof n ? I(e, t, n) : E(e, t);
}
function E(e, t) {
return mt(e) && !et(e) ? (dt("Passing plain objects to intercept / observe is deprecated and will be removed in 3.0"), 
nt(P(e)).intercept(t)) : nt(e).intercept(t);
}
function I(e, t, n) {
return mt(e) && !et(e) ? (dt("Passing plain objects to intercept / observe is deprecated and will be removed in 3.0"), 
m(e, {
property: e[t]
}), I(e, t, n)) : nt(e, t).intercept(n);
}
function C(e, t) {
if (null === e || void 0 === e) return !1;
if (void 0 !== t) {
if (e instanceof tn || e instanceof Qt) throw new Error("[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.");
if (et(e)) {
var n = e.$mobx;
return n.values && !!n.values[t];
}
return !1;
}
return !!e.$mobx || e instanceof Mt || e instanceof Ft || e instanceof Ut;
}
function A(e, t, n) {
return ft(arguments.length >= 2 && arguments.length <= 3, "Illegal decorator config", t), 
It(e, t), ft(!n || !n.get, "@observable can not be used on getters, use @computed instead"), 
kt.apply(null, arguments);
}
function P(e, t) {
if (void 0 === e && (e = void 0), "string" == typeof arguments[1]) return A.apply(null, arguments);
if (ft(arguments.length < 3, "observable expects zero, one or two arguments"), C(e)) return e;
var n = Ne(e, Vt.Recursive), r = n[0], o = n[1], a = r === Vt.Reference ? xt.Reference : O(o);
switch (a) {
case xt.Array:
case xt.PlainObject:
return Ue(o, r);

case xt.Reference:
case xt.ComplexObject:
return new sn(o, r);

case xt.ComplexFunction:
throw new Error("[mobx.observable] To be able to make a function reactive it should not have arguments. If you need an observable reference to a function, use `observable(asReference(f))`");

case xt.ViewFunction:
return dt("Use `computed(expr)` instead of `observable(expr)`"), f(e, t);
}
ft(!1, "Illegal State");
}
function O(e) {
return null === e || void 0 === e ? xt.Reference : "function" == typeof e ? e.length ? xt.ComplexFunction : xt.ViewFunction : Array.isArray(e) || e instanceof Qt ? xt.Array : "object" == typeof e ? mt(e) ? xt.PlainObject : xt.ComplexObject : xt.Reference;
}
function R(e, t, n, r) {
return "function" == typeof n ? x(e, t, n, r) : k(e, t, n);
}
function k(e, t, n) {
return mt(e) && !et(e) ? (dt("Passing plain objects to intercept / observe is deprecated and will be removed in 3.0"), 
nt(P(e)).observe(t, n)) : nt(e).observe(t, n);
}
function x(e, t, n, r) {
return mt(e) && !et(e) ? (dt("Passing plain objects to intercept / observe is deprecated and will be removed in 3.0"), 
m(e, {
property: e[t]
}), x(e, t, n, r)) : nt(e, t).observe(n, r);
}
function M(e, t, n) {
function r(r) {
return t && n.push([ e, r ]), r;
}
if (void 0 === t && (t = !0), void 0 === n && (n = null), e instanceof Date || e instanceof RegExp) return e;
if (t && null === n && (n = []), t && null !== e && "object" == typeof e) for (var o = 0, a = n.length; a > o; o++) if (n[o][0] === e) return n[o][1];
if (!e) return e;
if (Array.isArray(e) || e instanceof Qt) {
var i = r([]), s = e.map(function(e) {
return M(e, t, n);
});
i.length = s.length;
for (var o = 0, a = s.length; a > o; o++) i[o] = s[o];
return i;
}
if (e instanceof tn) {
var l = r({});
return e.forEach(function(e, r) {
return l[r] = M(e, t, n);
}), l;
}
if (C(e) && e.$mobx instanceof sn) return M(e(), t, n);
if (e instanceof sn) return M(e.get(), t, n);
if ("object" == typeof e) {
var i = r({});
for (var u in e) i[u] = M(e[u], t, n);
return i;
}
return e;
}
function N(e, t, n) {
return void 0 === t && (t = !0), void 0 === n && (n = null), dt("toJSON is deprecated. Use toJS instead"), 
M.apply(null, arguments);
}
function D(e) {
return console.log(e), e;
}
function U(e, t) {
switch (arguments.length) {
case 0:
if (e = Gt.trackingDerivation, !e) return D("whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested it's value.");
break;

case 2:
e = tt(e, t);
}
return e = tt(e), e instanceof Ut ? D(e.whyRun()) : e instanceof Ft ? D(e.whyRun()) : void ft(!1, "whyRun can only be used on reactions and computed values");
}
function L(e, t) {
ft("function" == typeof t, "`action` can only be invoked on functions"), ft("string" == typeof e && e.length > 0, "actions should have valid names, got: '" + e + "'");
var n = function() {
return $(e, t, this, arguments);
};
return n.isMobxAction = !0, n;
}
function $(e, t, n, r) {
ft(!(Gt.trackingDerivation instanceof Ut), "Computed values or transformers should not invoke actions or trigger other side effects");
var o, a = ye();
if (a) {
o = Date.now();
var i = r && r.length || 0, s = new Array(i);
if (i > 0) for (var l = 0; i > l; l++) s[l] = r[l];
me({
type: "action",
name: e,
fn: t,
target: n,
arguments: s
});
}
var u = Q();
Te(e, n, !1);
var c = j(!0);
try {
return t.apply(n, r);
} finally {
H(c), we(!1), Z(u), a && be({
time: Date.now() - o
});
}
}
function G(e) {
return 0 === arguments.length ? (dt("`useStrict` without arguments is deprecated, use `isStrictModeEnabled()` instead"), 
Gt.strictMode) : (ft(null === Gt.trackingDerivation, "It is not allowed to set `useStrict` when a derivation is running"), 
Gt.strictMode = e, Gt.allowStateChanges = !e, void 0);
}
function F() {
return Gt.strictMode;
}
function B(e, t) {
var n = j(e), r = t();
return H(n), r;
}
function j(e) {
var t = Gt.allowStateChanges;
return Gt.allowStateChanges = e, t;
}
function H(e) {
Gt.allowStateChanges = e;
}
function V(e) {
switch (e.dependenciesState) {
case Dt.UP_TO_DATE:
return !1;

case Dt.NOT_TRACKING:
case Dt.STALE:
return !0;

case Dt.POSSIBLY_STALE:
var t = !0, n = Q();
try {
for (var r = e.observing, o = r.length, a = 0; o > a; a++) {
var i = r[a];
if (i instanceof Ut && (i.get(), e.dependenciesState === Dt.STALE)) return t = !1, 
Z(n), !0;
}
return t = !1, ee(e), Z(n), !1;
} finally {
t && ee(e);
}
}
}
function z() {
return null !== Gt.trackingDerivation;
}
function W() {
Gt.allowStateChanges || ft(!1, Gt.strictMode ? "It is not allowed to create or change state outside an `action` when MobX is in strict mode. Wrap the current method in `action` if this state change is intended" : "It is not allowed to change the state when a computed value or transformer is being evaluated. Use 'autorun' to create reactive functions with side-effects.");
}
function q(e, t) {
ee(e), e.newObserving = new Array(e.observing.length + 100), e.unboundDepsCount = 0, 
e.runId = ++Gt.runId;
var n = Gt.trackingDerivation;
Gt.trackingDerivation = e;
var r, o = !0;
try {
r = t.call(e), o = !1;
} finally {
o ? K(e) : (Gt.trackingDerivation = n, X(e));
}
return r;
}
function K(e) {
var t = "[mobx] An uncaught exception occurred while calculating your computed value, autorun or transformer. Or inside the render() method of an observer based React component. These functions should never throw exceptions as MobX will not always be able to recover from them. " + ("Please fix the error reported after this message or enable 'Pause on (caught) exceptions' in your debugger to find the root cause. In: '" + e.name + "'. ") + "For more details see https://github.com/mobxjs/mobx/issues/462";
ye() && ge({
type: "error",
message: t
}), console.warn(t), ee(e), e.newObserving = null, e.unboundDepsCount = 0, e.recoverFromError(), 
ue(), ne();
}
function X(e) {
var t = e.observing, n = e.observing = e.newObserving;
e.newObserving = null;
for (var r = 0, o = e.unboundDepsCount, a = 0; o > a; a++) {
var i = n[a];
0 === i.diffValue && (i.diffValue = 1, r !== a && (n[r] = i), r++);
}
for (n.length = r, o = t.length; o--; ) {
var i = t[o];
0 === i.diffValue && ie(i, e), i.diffValue = 0;
}
for (;r--; ) {
var i = n[r];
1 === i.diffValue && (i.diffValue = 0, ae(i, e));
}
}
function Y(e) {
for (var t = e.observing, n = t.length; n--; ) ie(t[n], e);
e.dependenciesState = Dt.NOT_TRACKING, t.length = 0;
}
function J(e) {
var t = Q(), n = e();
return Z(t), n;
}
function Q() {
var e = Gt.trackingDerivation;
return Gt.trackingDerivation = null, e;
}
function Z(e) {
Gt.trackingDerivation = e;
}
function ee(e) {
if (e.dependenciesState !== Dt.UP_TO_DATE) {
e.dependenciesState = Dt.UP_TO_DATE;
for (var t = e.observing, n = t.length; n--; ) t[n].lowestObserverState = Dt.UP_TO_DATE;
}
}
function te() {}
function ne() {
Gt.resetId++;
var e = new $t();
for (var t in e) -1 === Lt.indexOf(t) && (Gt[t] = e[t]);
Gt.allowStateChanges = !Gt.strictMode;
}
function re(e) {
return e.observers && e.observers.length > 0;
}
function oe(e) {
return e.observers;
}
function ae(e, t) {
var n = e.observers.length;
n && (e.observersIndexes[t.__mapid] = n), e.observers[n] = t, e.lowestObserverState > t.dependenciesState && (e.lowestObserverState = t.dependenciesState);
}
function ie(e, t) {
if (1 === e.observers.length) e.observers.length = 0, se(e); else {
var n = e.observers, r = e.observersIndexes, o = n.pop();
if (o !== t) {
var a = r[t.__mapid] || 0;
a ? r[o.__mapid] = a : delete r[o.__mapid], n[a] = o;
}
delete r[t.__mapid];
}
}
function se(e) {
e.isPendingUnobservation || (e.isPendingUnobservation = !0, Gt.pendingUnobservations.push(e));
}
function le() {
Gt.inBatch++;
}
function ue() {
if (1 === Gt.inBatch) {
for (var e = Gt.pendingUnobservations, t = 0; t < e.length; t++) {
var n = e[t];
n.isPendingUnobservation = !1, 0 === n.observers.length && n.onBecomeUnobserved();
}
Gt.pendingUnobservations = [];
}
Gt.inBatch--;
}
function ce(e) {
var t = Gt.trackingDerivation;
null !== t ? t.runId !== e.lastAccessedBy && (e.lastAccessedBy = t.runId, t.newObserving[t.unboundDepsCount++] = e) : 0 === e.observers.length && se(e);
}
function pe(e) {
if (e.lowestObserverState !== Dt.STALE) {
e.lowestObserverState = Dt.STALE;
for (var t = e.observers, n = t.length; n--; ) {
var r = t[n];
r.dependenciesState === Dt.UP_TO_DATE && r.onBecomeStale(), r.dependenciesState = Dt.STALE;
}
}
}
function fe(e) {
if (e.lowestObserverState !== Dt.STALE) {
e.lowestObserverState = Dt.STALE;
for (var t = e.observers, n = t.length; n--; ) {
var r = t[n];
r.dependenciesState === Dt.POSSIBLY_STALE ? r.dependenciesState = Dt.STALE : r.dependenciesState === Dt.UP_TO_DATE && (e.lowestObserverState = Dt.UP_TO_DATE);
}
}
}
function de(e) {
if (e.lowestObserverState === Dt.UP_TO_DATE) {
e.lowestObserverState = Dt.POSSIBLY_STALE;
for (var t = e.observers, n = t.length; n--; ) {
var r = t[n];
r.dependenciesState === Dt.UP_TO_DATE && (r.dependenciesState = Dt.POSSIBLY_STALE, 
r.onBecomeStale());
}
}
}
function he() {
if (!(Gt.isRunningReactions === !0 || Gt.inTransaction > 0)) {
Gt.isRunningReactions = !0;
for (var e = Gt.pendingReactions, t = 0; e.length > 0; ) {
if (++t === Bt) throw ne(), new Error("Reaction doesn't converge to a stable state after " + Bt + " iterations. Probably there is a cycle in the reactive function: " + e[0]);
for (var n = e.splice(0), r = 0, o = n.length; o > r; r++) n[r].runReaction();
}
Gt.isRunningReactions = !1;
}
}
function ye() {
return jt;
}
function ge(e) {
if (!jt) return !1;
for (var t = Gt.spyListeners, n = 0, r = t.length; r > n; n++) t[n](e);
}
function me(e) {
var t = bt({}, e, {
spyReportStart: !0
});
ge(t);
}
function be(e) {
ge(e ? bt({}, e, Ht) : Ht);
}
function ve(e) {
return Gt.spyListeners.push(e), jt = Gt.spyListeners.length > 0, ht(function() {
var t = Gt.spyListeners.indexOf(e);
-1 !== t && Gt.spyListeners.splice(t, 1), jt = Gt.spyListeners.length > 0;
});
}
function _e(e) {
return dt("trackTransitions is deprecated. Use mobx.spy instead"), "boolean" == typeof e && (dt("trackTransitions only takes a single callback function. If you are using the mobx-react-devtools, please update them first"), 
e = arguments[1]), e ? ve(e) : (dt("trackTransitions without callback has been deprecated and is a no-op now. If you are using the mobx-react-devtools, please update them first"), 
function() {});
}
function Se(e, t, n) {
void 0 === t && (t = void 0), void 0 === n && (n = !0), Te(e.name || "anonymous transaction", t, n);
var r = e.call(t);
return we(n), r;
}
function Te(e, t, n) {
void 0 === t && (t = void 0), void 0 === n && (n = !0), le(), Gt.inTransaction += 1, 
n && ye() && me({
type: "transaction",
target: t,
name: e
});
}
function we(e) {
void 0 === e && (e = !0), 0 === --Gt.inTransaction && he(), e && ye() && be(), ue();
}
function Ee(e) {
return e.interceptors && e.interceptors.length > 0;
}
function Ie(e, t) {
var n = e.interceptors || (e.interceptors = []);
return n.push(t), ht(function() {
var e = n.indexOf(t);
-1 !== e && n.splice(e, 1);
});
}
function Ce(e, t) {
for (var n = Q(), r = e.interceptors, o = 0, a = r.length; a > o; o++) if (t = r[o](t), 
ft(!t || t.type, "Intercept handlers should return nothing or a change object"), 
!t) return null;
return Z(n), t;
}
function Ae(e) {
return e.changeListeners && e.changeListeners.length > 0;
}
function Pe(e, t) {
var n = e.changeListeners || (e.changeListeners = []);
return n.push(t), ht(function() {
var e = n.indexOf(t);
-1 !== e && n.splice(e, 1);
});
}
function Oe(e, t) {
var n = Q(), r = e.changeListeners;
if (r) {
r = r.slice();
for (var o = 0, a = r.length; a > o; o++) Array.isArray(t) ? r[o].apply(null, t) : r[o](t);
Z(n);
}
}
function Re(e) {
return new zt(e);
}
function ke(e) {
return new Wt(e);
}
function xe(e) {
return new qt(e);
}
function Me(e, t) {
return ze(e, t);
}
function Ne(e, t) {
return e instanceof zt ? [ Vt.Reference, e.value ] : e instanceof Wt ? [ Vt.Structure, e.value ] : e instanceof qt ? [ Vt.Flat, e.value ] : [ t, e ];
}
function De(e) {
return e === Re ? Vt.Reference : e === ke ? Vt.Structure : e === xe ? Vt.Flat : (ft(void 0 === e, "Cannot determine value mode from function. Please pass in one of these: mobx.asReference, mobx.asStructure or mobx.asFlat, got: " + e), 
Vt.Recursive);
}
function Ue(e, t, n) {
var r;
if (C(e)) return e;
switch (t) {
case Vt.Reference:
return e;

case Vt.Flat:
Le(e, "Items inside 'asFlat' cannot have modifiers"), r = Vt.Reference;
break;

case Vt.Structure:
Le(e, "Items inside 'asStructure' cannot have modifiers"), r = Vt.Structure;
break;

case Vt.Recursive:
o = Ne(e, Vt.Recursive), r = o[0], e = o[1];
break;

default:
ft(!1, "Illegal State");
}
return Array.isArray(e) ? je(e, r, n) : mt(e) && Object.isExtensible(e) ? b(e, e, r, n) : e;
var o;
}
function Le(e, t) {
if (e instanceof zt || e instanceof Wt || e instanceof qt) throw new Error("[mobx] asStructure / asReference / asFlat cannot be used here. " + t);
}
function $e(e) {
var t = Ge(e), n = Fe(e);
Object.defineProperty(Qt.prototype, "" + e, {
enumerable: !1,
configurable: !0,
set: t,
get: n
});
}
function Ge(e) {
return function(t) {
var n = this.$mobx, r = n.values;
if (Le(t, "Modifiers cannot be used on array values. For non-reactive array values use makeReactive(asFlat(array))."), 
e < r.length) {
W();
var o = r[e];
if (Ee(n)) {
var a = Ce(n, {
type: "update",
object: n.array,
index: e,
newValue: t
});
if (!a) return;
t = a.newValue;
}
t = n.makeReactiveArrayItem(t);
var i = n.mode === Vt.Structure ? !At(o, t) : o !== t;
i && (r[e] = t, n.notifyArrayChildUpdate(e, t, o));
} else {
if (e !== r.length) throw new Error("[mobx.array] Index out of bounds, " + e + " is larger than " + r.length);
n.spliceWithArray(e, 0, [ t ]);
}
};
}
function Fe(e) {
return function() {
var t = this.$mobx;
return t && e < t.values.length ? (t.atom.reportObserved(), t.values[e]) : void console.warn("[mobx.array] Attempt to read an array index (" + e + ") that is out of bounds (" + t.values.length + "). Please check length first. Out of bound indices will not be tracked by MobX");
};
}
function Be(e) {
for (var t = Xt; e > t; t++) $e(t);
Xt = e;
}
function je(e, t, n) {
return new Qt(e, t, n);
}
function He(e) {
return dt("fastArray is deprecated. Please use `observable(asFlat([]))`"), je(e, Vt.Flat, null);
}
function Ve(e) {
return e instanceof Qt;
}
function ze(e, t) {
return new tn(e, t);
}
function We(e) {
return e instanceof tn;
}
function qe(e, t, n) {
if (void 0 === n && (n = Vt.Recursive), et(e)) return e.$mobx;
mt(e) || (t = e.constructor.name + "@" + pt()), t || (t = "ObservableObject@" + pt());
var r = new nn(e, t, n);
return wt(e, "$mobx", r), r;
}
function Ke(e, t, n) {
e.values[t] ? (ft("value" in n, "cannot redefine property " + t), e.target[t] = n.value) : "value" in n ? Xe(e, t, n.value, !0, void 0) : Xe(e, t, n.get, !0, n.set);
}
function Xe(e, t, n, r, o) {
r && It(e.target, t);
var a, s = e.name + "." + t, l = !0;
if (n instanceof sn) a = n, n.name = s, l = !1; else if (n instanceof Ut) a = n, 
n.name = s, n.scope || (n.scope = e.target); else if ("function" != typeof n || 0 !== n.length || i(n)) if (n instanceof Wt && "function" == typeof n.value && 0 === n.value.length) a = new Ut(n.value, e.target, !0, s, o); else {
if (l = !1, Ee(e)) {
var u = Ce(e, {
object: e.target,
name: t,
type: "add",
newValue: n
});
if (!u) return;
n = u.newValue;
}
a = new sn(n, e.mode, s, !1), n = a.value;
} else a = new Ut(n, e.target, !1, s, o);
e.values[t] = a, r && Object.defineProperty(e.target, t, l ? Je(t) : Ye(t)), l || Ze(e, e.target, t, n);
}
function Ye(e) {
var t = rn[e];
return t ? t : rn[e] = {
configurable: !0,
enumerable: !0,
get: function() {
return this.$mobx.values[e].get();
},
set: function(t) {
Qe(this, e, t);
}
};
}
function Je(e) {
var t = on[e];
return t ? t : on[e] = {
configurable: !0,
enumerable: !1,
get: function() {
return this.$mobx.values[e].get();
},
set: function(t) {
return this.$mobx.values[e].set(t);
}
};
}
function Qe(e, t, n) {
var r = e.$mobx, o = r.values[t];
if (Ee(r)) {
var a = Ce(r, {
type: "update",
object: e,
name: t,
newValue: n
});
if (!a) return;
n = a.newValue;
}
if (n = o.prepareNewValue(n), n !== an) {
var i = Ae(r), s = ye(), a = Oe || Ae ? {
type: "update",
object: e,
oldValue: o.value,
name: t,
newValue: n
} : null;
s && me(a), o.setNewValue(n), i && Oe(r, a), s && be();
}
}
function Ze(e, t, n, r) {
var o = Ae(e), a = ye(), i = o || a ? {
type: "add",
object: t,
name: n,
newValue: r
} : null;
a && me(i), o && Oe(e, i), a && be();
}
function et(e) {
return "object" == typeof e && null !== e ? (it(e), e.$mobx instanceof nn) : !1;
}
function tt(e, t) {
if ("object" == typeof e && null !== e) {
if (Ve(e)) return ft(void 0 === t, "It is not possible to get index atoms from arrays"), 
e.$mobx.atom;
if (We(e)) {
if (void 0 === t) return tt(e._keys);
var n = e._data[t] || e._hasMap[t];
return ft(!!n, "the entry '" + t + "' does not exist in the observable map '" + rt(e) + "'"), 
n;
}
if (it(e), et(e)) {
ft(!!t, "please specify a property");
var r = e.$mobx.values[t];
return ft(!!r, "no observable property '" + t + "' found on the observable object '" + rt(e) + "'"), 
r;
}
if (e instanceof Mt || e instanceof Ut || e instanceof Ft) return e;
} else if ("function" == typeof e && e.$mobx instanceof Ft) return e.$mobx;
ft(!1, "Cannot obtain atom from " + e);
}
function nt(e, t) {
return ft(e, "Expection some object"), void 0 !== t ? nt(tt(e, t)) : e instanceof Mt || e instanceof Ut || e instanceof Ft ? e : We(e) ? e : (it(e), 
e.$mobx ? e.$mobx : void ft(!1, "Cannot obtain administration from " + e));
}
function rt(e, t) {
var n;
return n = void 0 !== t ? tt(e, t) : et(e) || We(e) ? nt(e) : tt(e), n.name;
}
function ot(e, t, n, r, o) {
function a(a, i, s, l) {
if (ft(o || st(arguments), "This function is a decorator, but it wasn't invoked like a decorator"), 
s) {
_t(a, "__mobxLazyInitializers") || Tt(a, "__mobxLazyInitializers", a.__mobxLazyInitializers && a.__mobxLazyInitializers.slice() || []);
var u = s.value, c = s.initializer;
return a.__mobxLazyInitializers.push(function(t) {
e(t, i, c ? c.call(t) : u, l, s);
}), {
enumerable: r,
configurable: !0,
get: function() {
return this.__mobxDidRunLazyInitializers !== !0 && it(this), t.call(this, i);
},
set: function(e) {
this.__mobxDidRunLazyInitializers !== !0 && it(this), n.call(this, i, e);
}
};
}
var p = {
enumerable: r,
configurable: !0,
get: function() {
return this.__mobxInitializedProps && this.__mobxInitializedProps[i] === !0 || at(this, i, void 0, e, l, s), 
t.call(this, i);
},
set: function(t) {
this.__mobxInitializedProps && this.__mobxInitializedProps[i] === !0 ? n.call(this, i, t) : at(this, i, t, e, l, s);
}
};
return arguments.length < 3 && Object.defineProperty(a, i, p), p;
}
return o ? function() {
if (st(arguments)) return a.apply(null, arguments);
var e = arguments;
return function(t, n, r) {
return a(t, n, r, e);
};
} : a;
}
function at(e, t, n, r, o, a) {
_t(e, "__mobxInitializedProps") || Tt(e, "__mobxInitializedProps", {}), e.__mobxInitializedProps[t] = !0, 
r(e, t, n, o, a);
}
function it(e) {
e.__mobxDidRunLazyInitializers !== !0 && e.__mobxLazyInitializers && (Tt(e, "__mobxDidRunLazyInitializers", !0), 
e.__mobxDidRunLazyInitializers && e.__mobxLazyInitializers.forEach(function(t) {
return t(e);
}));
}
function st(e) {
return (2 === e.length || 3 === e.length) && "string" == typeof e[1];
}
function lt() {
return "function" == typeof Symbol && Symbol.iterator || "@@iterator";
}
function ut(e) {
ft(e[ln] !== !0, "Illegal state: cannot recycle array as iterator"), wt(e, ln, !0);
var t = -1;
return wt(e, "next", function n() {
return t++, {
done: t >= this.length,
value: t < this.length ? this[t] : void 0
};
}), e;
}
function ct(e, t) {
wt(e, lt(), t);
}
function pt() {
return ++Gt.mobxGuid;
}
function ft(e, t, n) {
if (!e) throw new Error("[mobx] Invariant failed: " + t + (n ? " in '" + n + "'" : ""));
}
function dt(e) {
-1 === pn.indexOf(e) && (pn.push(e), console.error("[mobx] Deprecated: " + e));
}
function ht(e) {
var t = !1;
return function() {
return t ? void 0 : (t = !0, e.apply(this, arguments));
};
}
function yt(e) {
var t = [];
return e.forEach(function(e) {
-1 === t.indexOf(e) && t.push(e);
}), t;
}
function gt(e, t, n) {
if (void 0 === t && (t = 100), void 0 === n && (n = " - "), !e) return "";
var r = e.slice(0, t);
return "" + r.join(n) + (e.length > t ? " (... and " + (e.length - t) + "more)" : "");
}
function mt(e) {
if (null === e || "object" != typeof e) return !1;
var t = Object.getPrototypeOf(e);
return t === Object.prototype || null === t;
}
function bt() {
for (var e = arguments[0], t = 1, n = arguments.length; n > t; t++) {
var r = arguments[t];
for (var o in r) _t(r, o) && (e[o] = r[o]);
}
return e;
}
function vt(e, t, n) {
return e ? !At(t, n) : t !== n;
}
function _t(e, t) {
return dn.call(e, t);
}
function St(e, t) {
for (var n = 0; n < t.length; n++) Tt(e, t[n], e[t[n]]);
}
function Tt(e, t, n) {
Object.defineProperty(e, t, {
enumerable: !1,
writable: !0,
configurable: !0,
value: n
});
}
function wt(e, t, n) {
Object.defineProperty(e, t, {
enumerable: !1,
writable: !1,
configurable: !0,
value: n
});
}
function Et(e, t) {
var n = Object.getOwnPropertyDescriptor(e, t);
return !n || n.configurable !== !1 && n.writable !== !1;
}
function It(e, t) {
ft(Et(e, t), "Cannot make property '" + t + "' observable, it is not configurable and writable in the target object");
}
function Ct(e) {
var t = [];
for (var n in e) t.push(n);
return t;
}
function At(e, t) {
if (null === e && null === t) return !0;
if (void 0 === e && void 0 === t) return !0;
var n = Array.isArray(e) || Ve(e);
if (n !== (Array.isArray(t) || Ve(t))) return !1;
if (n) {
if (e.length !== t.length) return !1;
for (var r = e.length - 1; r >= 0; r--) if (!At(e[r], t[r])) return !1;
return !0;
}
if ("object" == typeof e && "object" == typeof t) {
if (null === e || null === t) return !1;
if (Ct(e).length !== Ct(t).length) return !1;
for (var o in e) {
if (!(o in t)) return !1;
if (!At(e[o], t[o])) return !1;
}
return !0;
}
return e === t;
}
var Pt = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
};
te(), t.extras = {
allowStateChanges: B,
getAtom: tt,
getDebugName: rt,
getDependencyTree: v,
getObserverTree: S,
isComputingDerivation: z,
isSpyEnabled: ye,
resetGlobalState: ne,
spyReport: ge,
spyReportEnd: be,
spyReportStart: me,
trackTransitions: _e
}, t._ = {
getAdministration: nt,
resetGlobalState: ne
}, "object" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ && __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx(e.exports);
var Ot = ot(function(e, t, n, o, a) {
var i = o && 1 === o.length ? o[0] : n.name || t || "<unnamed action>", s = r(i, n);
Tt(e, t, s);
}, function(e) {
return this[e];
}, function() {
ft(!1, "It is not allowed to assign new values to @action fields");
}, !1, !0);
t.action = r, t.runInAction = a, t.isAction = i, t.autorun = s, t.when = l, t.autorunUntil = u, 
t.autorunAsync = c, t.reaction = p;
var Rt = ot(function(e, t, n, r, o) {
ft("undefined" != typeof o, "@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.");
var a = o.get, i = o.set;
ft("function" == typeof a, "@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'");
var s = !1;
r && 1 === r.length && r[0].asStructure === !0 && (s = !0);
var l = qe(e, void 0, Vt.Recursive);
Xe(l, t, s ? ke(a) : a, !1, i);
}, function(e) {
var t = this.$mobx.values[e];
return void 0 === t ? void 0 : t.get();
}, function(e, t) {
this.$mobx.values[e].set(t);
}, !1, !0);
t.computed = f, t.createTransformer = h, t.expr = g, t.extendObservable = m, t.intercept = w, 
t.isObservable = C;
var kt = ot(function(e, t, n) {
var r = j(!0);
"function" == typeof n && (n = Re(n));
var o = qe(e, void 0, Vt.Recursive);
Xe(o, t, n, !0, void 0), H(r);
}, function(e) {
var t = this.$mobx.values[e];
return void 0 === t ? void 0 : t.get();
}, function(e, t) {
Qe(this, e, t);
}, !0, !1);
t.observable = P;
var xt;
!function(e) {
e[e.Reference = 0] = "Reference", e[e.PlainObject = 1] = "PlainObject", e[e.ComplexObject = 2] = "ComplexObject", 
e[e.Array = 3] = "Array", e[e.ViewFunction = 4] = "ViewFunction", e[e.ComplexFunction = 5] = "ComplexFunction";
}(xt || (xt = {})), t.observe = R, t.toJS = M, t.toJSON = N, t.whyRun = U, t.useStrict = G, 
t.isStrictModeEnabled = F;
var Mt = function() {
function e(e) {
void 0 === e && (e = "Atom@" + pt()), this.name = e, this.isPendingUnobservation = !0, 
this.observers = [], this.observersIndexes = {}, this.diffValue = 0, this.lastAccessedBy = 0, 
this.lowestObserverState = Dt.NOT_TRACKING;
}
return e.prototype.onBecomeUnobserved = function() {}, e.prototype.reportObserved = function() {
ce(this);
}, e.prototype.reportChanged = function() {
Te("propagatingAtomChange", null, !1), pe(this), we(!1);
}, e.prototype.toString = function() {
return this.name;
}, e;
}();
t.BaseAtom = Mt;
var Nt = function(e) {
function t(t, n, r) {
void 0 === t && (t = "Atom@" + pt()), void 0 === n && (n = fn), void 0 === r && (r = fn), 
e.call(this, t), this.name = t, this.onBecomeObservedHandler = n, this.onBecomeUnobservedHandler = r, 
this.isPendingUnobservation = !1, this.isBeingTracked = !1;
}
return Pt(t, e), t.prototype.reportObserved = function() {
return le(), e.prototype.reportObserved.call(this), this.isBeingTracked || (this.isBeingTracked = !0, 
this.onBecomeObservedHandler()), ue(), !!Gt.trackingDerivation;
}, t.prototype.onBecomeUnobserved = function() {
this.isBeingTracked = !1, this.onBecomeUnobservedHandler();
}, t;
}(Mt);
t.Atom = Nt;
var Dt, Ut = function() {
function e(e, t, n, r, o) {
this.derivation = e, this.scope = t, this.compareStructural = n, this.dependenciesState = Dt.NOT_TRACKING, 
this.observing = [], this.newObserving = null, this.isPendingUnobservation = !1, 
this.observers = [], this.observersIndexes = {}, this.diffValue = 0, this.runId = 0, 
this.lastAccessedBy = 0, this.lowestObserverState = Dt.UP_TO_DATE, this.unboundDepsCount = 0, 
this.__mapid = "#" + pt(), this.value = void 0, this.isComputing = !1, this.isRunningSetter = !1, 
this.name = r || "ComputedValue@" + pt(), o && (this.setter = L(r + "-setter", o));
}
return e.prototype.peek = function() {
this.isComputing = !0;
var e = j(!1), t = this.derivation.call(this.scope);
return H(e), this.isComputing = !1, t;
}, e.prototype.peekUntracked = function() {
var e = !0;
try {
var t = this.peek();
return e = !1, t;
} finally {
e && K(this);
}
}, e.prototype.onBecomeStale = function() {
de(this);
}, e.prototype.onBecomeUnobserved = function() {
ft(this.dependenciesState !== Dt.NOT_TRACKING, "INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row"), 
Y(this), this.value = void 0;
}, e.prototype.get = function() {
ft(!this.isComputing, "Cycle detected in computation " + this.name, this.derivation), 
le(), 1 === Gt.inBatch ? V(this) && (this.value = this.peekUntracked()) : (ce(this), 
V(this) && this.trackAndCompute() && fe(this));
var e = this.value;
return ue(), e;
}, e.prototype.recoverFromError = function() {
this.isComputing = !1;
}, e.prototype.set = function(e) {
if (this.setter) {
ft(!this.isRunningSetter, "The setter of computed value '" + this.name + "' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"), 
this.isRunningSetter = !0;
try {
this.setter.call(this.scope, e);
} finally {
this.isRunningSetter = !1;
}
} else ft(!1, "[ComputedValue '" + this.name + "'] It is not possible to assign a new value to a computed value.");
}, e.prototype.trackAndCompute = function() {
ye() && ge({
object: this,
type: "compute",
fn: this.derivation,
target: this.scope
});
var e = this.value, t = this.value = q(this, this.peek);
return vt(this.compareStructural, t, e);
}, e.prototype.observe = function(e, t) {
var n = this, r = !0, o = void 0;
return s(function() {
var a = n.get();
if (!r || t) {
var i = Q();
e(a, o), Z(i);
}
r = !1, o = a;
});
}, e.prototype.toJSON = function() {
return this.get();
}, e.prototype.toString = function() {
return this.name + "[" + this.derivation.toString() + "]";
}, e.prototype.whyRun = function() {
var e = Boolean(Gt.trackingDerivation), t = yt(this.isComputing ? this.newObserving : this.observing).map(function(e) {
return e.name;
}), n = yt(oe(this).map(function(e) {
return e.name;
}));
return "\nWhyRun? computation '" + this.name + "':\n * Running because: " + (e ? "[active] the value of this computation is needed by a reaction" : this.isComputing ? "[get] The value of this computed was requested outside a reaction" : "[idle] not running at the moment") + "\n" + (this.dependenciesState === Dt.NOT_TRACKING ? " * This computation is suspended (not in use by any reaction) and won't run automatically.\n	Didn't expect this computation to be suspended at this point?\n	  1. Make sure this computation is used by a reaction (reaction, autorun, observer).\n	  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).\n" : " * This computation will re-run if any of the following observables changes:\n    " + gt(t) + "\n    " + (this.isComputing && e ? " (... or any observable accessed during the remainder of the current run)" : "") + "\n	Missing items in this list?\n	  1. Check whether all used values are properly marked as observable (use isObservable to verify)\n	  2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.\n  * If the outcome of this computation changes, the following observers will be re-run:\n    " + gt(n) + "\n");
}, e;
}();
!function(e) {
e[e.NOT_TRACKING = -1] = "NOT_TRACKING", e[e.UP_TO_DATE = 0] = "UP_TO_DATE", e[e.POSSIBLY_STALE = 1] = "POSSIBLY_STALE", 
e[e.STALE = 2] = "STALE";
}(Dt || (Dt = {})), t.IDerivationState = Dt, t.untracked = J;
var Lt = [ "mobxGuid", "resetId", "spyListeners", "strictMode", "runId" ], $t = function() {
function e() {
this.version = 4, this.trackingDerivation = null, this.runId = 0, this.mobxGuid = 0, 
this.inTransaction = 0, this.isRunningReactions = !1, this.inBatch = 0, this.pendingUnobservations = [], 
this.pendingReactions = [], this.allowStateChanges = !0, this.strictMode = !1, this.resetId = 0, 
this.spyListeners = [];
}
return e;
}(), Gt = function() {
var e = new $t();
if (n.__mobservableTrackingStack || n.__mobservableViewStack) throw new Error("[mobx] An incompatible version of mobservable is already loaded.");
if (n.__mobxGlobal && n.__mobxGlobal.version !== e.version) throw new Error("[mobx] An incompatible version of mobx is already loaded.");
return n.__mobxGlobal ? n.__mobxGlobal : n.__mobxGlobal = e;
}(), Ft = function() {
function e(e, t) {
void 0 === e && (e = "Reaction@" + pt()), this.name = e, this.onInvalidate = t, 
this.observing = [], this.newObserving = [], this.dependenciesState = Dt.NOT_TRACKING, 
this.diffValue = 0, this.runId = 0, this.unboundDepsCount = 0, this.__mapid = "#" + pt(), 
this.isDisposed = !1, this._isScheduled = !1, this._isTrackPending = !1, this._isRunning = !1;
}
return e.prototype.onBecomeStale = function() {
this.schedule();
}, e.prototype.schedule = function() {
this._isScheduled || (this._isScheduled = !0, Gt.pendingReactions.push(this), le(), 
he(), ue());
}, e.prototype.isScheduled = function() {
return this._isScheduled;
}, e.prototype.runReaction = function() {
this.isDisposed || (this._isScheduled = !1, V(this) && (this._isTrackPending = !0, 
this.onInvalidate(), this._isTrackPending && ye() && ge({
object: this,
type: "scheduled-reaction"
})));
}, e.prototype.track = function(e) {
le();
var t, n = ye();
n && (t = Date.now(), me({
object: this,
type: "reaction",
fn: e
})), this._isRunning = !0, q(this, e), this._isRunning = !1, this._isTrackPending = !1, 
this.isDisposed && Y(this), n && be({
time: Date.now() - t
}), ue();
}, e.prototype.recoverFromError = function() {
this._isRunning = !1, this._isTrackPending = !1;
}, e.prototype.dispose = function() {
this.isDisposed || (this.isDisposed = !0, this._isRunning || (le(), Y(this), ue()));
}, e.prototype.getDisposer = function() {
var e = this.dispose.bind(this);
return e.$mobx = this, e;
}, e.prototype.toString = function() {
return "Reaction[" + this.name + "]";
}, e.prototype.whyRun = function() {
var e = yt(this._isRunning ? this.newObserving : this.observing).map(function(e) {
return e.name;
});
return "\nWhyRun? reaction '" + this.name + "':\n * Status: [" + (this.isDisposed ? "stopped" : this._isRunning ? "running" : this.isScheduled() ? "scheduled" : "idle") + "]\n * This reaction will re-run if any of the following observables changes:\n    " + gt(e) + "\n    " + (this._isRunning ? " (... or any observable accessed during the remainder of the current run)" : "") + "\n	Missing items in this list?\n	  1. Check whether all used values are properly marked as observable (use isObservable to verify)\n	  2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.\n";
}, e;
}();
t.Reaction = Ft;
var Bt = 100, jt = !1, Ht = {
spyReportEnd: !0
};
t.spy = ve, t.transaction = Se;
var Vt;
!function(e) {
e[e.Recursive = 0] = "Recursive", e[e.Reference = 1] = "Reference", e[e.Structure = 2] = "Structure", 
e[e.Flat = 3] = "Flat";
}(Vt || (Vt = {})), t.asReference = Re, t.asStructure = ke, t.asFlat = xe;
var zt = function() {
function e(e) {
this.value = e, Le(e, "Modifiers are not allowed to be nested");
}
return e;
}(), Wt = function() {
function e(e) {
this.value = e, Le(e, "Modifiers are not allowed to be nested");
}
return e;
}(), qt = function() {
function e(e) {
this.value = e, Le(e, "Modifiers are not allowed to be nested");
}
return e;
}();
t.asMap = Me;
var Kt = function() {
var e = !1, t = {};
return Object.defineProperty(t, "0", {
set: function() {
e = !0;
}
}), Object.create(t)[0] = 1, e === !1;
}(), Xt = 0, Yt = function() {
function e() {}
return e;
}();
Yt.prototype = [];
var Jt = function() {
function e(e, t, n, r) {
this.mode = t, this.array = n, this.owned = r, this.lastKnownLength = 0, this.interceptors = null, 
this.changeListeners = null, this.atom = new Mt(e || "ObservableArray@" + pt());
}
return e.prototype.makeReactiveArrayItem = function(e) {
return Le(e, "Array values cannot have modifiers"), this.mode === Vt.Flat || this.mode === Vt.Reference ? e : Ue(e, this.mode, this.atom.name + "[..]");
}, e.prototype.intercept = function(e) {
return Ie(this, e);
}, e.prototype.observe = function(e, t) {
return void 0 === t && (t = !1), t && e({
object: this.array,
type: "splice",
index: 0,
added: this.values.slice(),
addedCount: this.values.length,
removed: [],
removedCount: 0
}), Pe(this, e);
}, e.prototype.getArrayLength = function() {
return this.atom.reportObserved(), this.values.length;
}, e.prototype.setArrayLength = function(e) {
if ("number" != typeof e || 0 > e) throw new Error("[mobx.array] Out of range: " + e);
var t = this.values.length;
e !== t && (e > t ? this.spliceWithArray(t, 0, new Array(e - t)) : this.spliceWithArray(e, t - e));
}, e.prototype.updateArrayLength = function(e, t) {
if (e !== this.lastKnownLength) throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");
this.lastKnownLength += t, t > 0 && e + t + 1 > Xt && Be(e + t + 1);
}, e.prototype.spliceWithArray = function(e, t, n) {
W();
var r = this.values.length;
if (void 0 === e ? e = 0 : e > r ? e = r : 0 > e && (e = Math.max(0, r + e)), t = 1 === arguments.length ? r - e : void 0 === t || null === t ? 0 : Math.max(0, Math.min(t, r - e)), 
void 0 === n && (n = []), Ee(this)) {
var o = Ce(this, {
object: this.array,
type: "splice",
index: e,
removedCount: t,
added: n
});
if (!o) return cn;
t = o.removedCount, n = o.added;
}
n = n.map(this.makeReactiveArrayItem, this);
var a = n.length - t;
this.updateArrayLength(r, a);
var i = (s = this.values).splice.apply(s, [ e, t ].concat(n));
return (0 !== t || 0 !== n.length) && this.notifyArraySplice(e, n, i), i;
var s;
}, e.prototype.notifyArrayChildUpdate = function(e, t, n) {
var r = !this.owned && ye(), o = Ae(this), a = o || r ? {
object: this.array,
type: "update",
index: e,
newValue: t,
oldValue: n
} : null;
r && me(a), this.atom.reportChanged(), o && Oe(this, a), r && be();
}, e.prototype.notifyArraySplice = function(e, t, n) {
var r = !this.owned && ye(), o = Ae(this), a = o || r ? {
object: this.array,
type: "splice",
index: e,
removed: n,
added: t,
removedCount: n.length,
addedCount: t.length
} : null;
r && me(a), this.atom.reportChanged(), o && Oe(this, a), r && be();
}, e;
}(), Qt = function(e) {
function t(t, n, r, o) {
void 0 === o && (o = !1), e.call(this);
var a = new Jt(r, n, this, o);
wt(this, "$mobx", a), t && t.length ? (a.updateArrayLength(0, t.length), a.values = t.map(a.makeReactiveArrayItem, a), 
a.notifyArraySplice(0, a.values.slice(), cn)) : a.values = [], Kt && Object.defineProperty(a.array, "0", Zt);
}
return Pt(t, e), t.prototype.intercept = function(e) {
return this.$mobx.intercept(e);
}, t.prototype.observe = function(e, t) {
return void 0 === t && (t = !1), this.$mobx.observe(e, t);
}, t.prototype.clear = function() {
return this.splice(0);
}, t.prototype.concat = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t - 0] = arguments[t];
return this.$mobx.atom.reportObserved(), Array.prototype.concat.apply(this.slice(), e.map(function(e) {
return Ve(e) ? e.slice() : e;
}));
}, t.prototype.replace = function(e) {
return this.$mobx.spliceWithArray(0, this.$mobx.values.length, e);
}, t.prototype.toJS = function() {
return this.slice();
}, t.prototype.toJSON = function() {
return this.toJS();
}, t.prototype.peek = function() {
return this.$mobx.values;
}, t.prototype.find = function(e, t, n) {
void 0 === n && (n = 0), this.$mobx.atom.reportObserved();
for (var r = this.$mobx.values, o = r.length, a = n; o > a; a++) if (e.call(t, r[a], a, this)) return r[a];
return void 0;
}, t.prototype.splice = function(e, t) {
for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
switch (arguments.length) {
case 0:
return [];

case 1:
return this.$mobx.spliceWithArray(e);

case 2:
return this.$mobx.spliceWithArray(e, t);
}
return this.$mobx.spliceWithArray(e, t, n);
}, t.prototype.push = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t - 0] = arguments[t];
var n = this.$mobx;
return n.spliceWithArray(n.values.length, 0, e), n.values.length;
}, t.prototype.pop = function() {
return this.splice(Math.max(this.$mobx.values.length - 1, 0), 1)[0];
}, t.prototype.shift = function() {
return this.splice(0, 1)[0];
}, t.prototype.unshift = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t - 0] = arguments[t];
var n = this.$mobx;
return n.spliceWithArray(0, 0, e), n.values.length;
}, t.prototype.reverse = function() {
this.$mobx.atom.reportObserved();
var e = this.slice();
return e.reverse.apply(e, arguments);
}, t.prototype.sort = function(e) {
this.$mobx.atom.reportObserved();
var t = this.slice();
return t.sort.apply(t, arguments);
}, t.prototype.remove = function(e) {
var t = this.$mobx.values.indexOf(e);
return t > -1 ? (this.splice(t, 1), !0) : !1;
}, t.prototype.toString = function() {
return "[mobx.array] " + Array.prototype.toString.apply(this.$mobx.values, arguments);
}, t.prototype.toLocaleString = function() {
return "[mobx.array] " + Array.prototype.toLocaleString.apply(this.$mobx.values, arguments);
}, t;
}(Yt);
ct(Qt.prototype, function() {
return ut(this.slice());
}), St(Qt.prototype, [ "constructor", "intercept", "observe", "clear", "concat", "replace", "toJS", "toJSON", "peek", "find", "splice", "push", "pop", "shift", "unshift", "reverse", "sort", "remove", "toString", "toLocaleString" ]), 
Object.defineProperty(Qt.prototype, "length", {
enumerable: !1,
configurable: !0,
get: function() {
return this.$mobx.getArrayLength();
},
set: function(e) {
this.$mobx.setArrayLength(e);
}
}), [ "every", "filter", "forEach", "indexOf", "join", "lastIndexOf", "map", "reduce", "reduceRight", "slice", "some" ].forEach(function(e) {
var t = Array.prototype[e];
Tt(Qt.prototype, e, function() {
return this.$mobx.atom.reportObserved(), t.apply(this.$mobx.values, arguments);
});
});
var Zt = {
configurable: !0,
enumerable: !1,
set: Ge(0),
get: Fe(0)
};
Be(1e3), t.fastArray = He, t.isObservableArray = Ve;
var en = {}, tn = function() {
function e(e, t) {
var n = this;
this.$mobx = en, this._data = {}, this._hasMap = {}, this.name = "ObservableMap@" + pt(), 
this._keys = new Qt(null, Vt.Reference, this.name + ".keys()", !0), this.interceptors = null, 
this.changeListeners = null, this._valueMode = De(t), this._valueMode === Vt.Flat && (this._valueMode = Vt.Reference), 
B(!0, function() {
mt(e) ? n.merge(e) : Array.isArray(e) && e.forEach(function(e) {
var t = e[0], r = e[1];
return n.set(t, r);
});
});
}
return e.prototype._has = function(e) {
return "undefined" != typeof this._data[e];
}, e.prototype.has = function(e) {
return this.isValidKey(e) ? (e = "" + e, this._hasMap[e] ? this._hasMap[e].get() : this._updateHasMapEntry(e, !1).get()) : !1;
}, e.prototype.set = function(e, t) {
this.assertValidKey(e), e = "" + e;
var n = this._has(e);
if (Le(t, "[mobx.map.set] Expected unwrapped value to be inserted to key '" + e + "'. If you need to use modifiers pass them as second argument to the constructor"), 
Ee(this)) {
var r = Ce(this, {
type: n ? "update" : "add",
object: this,
newValue: t,
name: e
});
if (!r) return;
t = r.newValue;
}
n ? this._updateValue(e, t) : this._addValue(e, t);
}, e.prototype["delete"] = function(e) {
var t = this;
if (this.assertValidKey(e), e = "" + e, Ee(this)) {
var n = Ce(this, {
type: "delete",
object: this,
name: e
});
if (!n) return !1;
}
if (this._has(e)) {
var r = ye(), o = Ae(this), n = o || r ? {
type: "delete",
object: this,
oldValue: this._data[e].value,
name: e
} : null;
return r && me(n), Se(function() {
t._keys.remove(e), t._updateHasMapEntry(e, !1);
var n = t._data[e];
n.setNewValue(void 0), t._data[e] = void 0;
}, void 0, !1), o && Oe(this, n), r && be(), !0;
}
return !1;
}, e.prototype._updateHasMapEntry = function(e, t) {
var n = this._hasMap[e];
return n ? n.setNewValue(t) : n = this._hasMap[e] = new sn(t, Vt.Reference, this.name + "." + e + "?", !1), 
n;
}, e.prototype._updateValue = function(e, t) {
var n = this._data[e];
if (t = n.prepareNewValue(t), t !== an) {
var r = ye(), o = Ae(this), a = o || r ? {
type: "update",
object: this,
oldValue: n.value,
name: e,
newValue: t
} : null;
r && me(a), n.setNewValue(t), o && Oe(this, a), r && be();
}
}, e.prototype._addValue = function(e, t) {
var n = this;
Se(function() {
var r = n._data[e] = new sn(t, n._valueMode, n.name + "." + e, !1);
t = r.value, n._updateHasMapEntry(e, !0), n._keys.push(e);
}, void 0, !1);
var r = ye(), o = Ae(this), a = o || r ? {
type: "add",
object: this,
name: e,
newValue: t
} : null;
r && me(a), o && Oe(this, a), r && be();
}, e.prototype.get = function(e) {
return e = "" + e, this.has(e) ? this._data[e].get() : void 0;
}, e.prototype.keys = function() {
return ut(this._keys.slice());
}, e.prototype.values = function() {
return ut(this._keys.map(this.get, this));
}, e.prototype.entries = function() {
var e = this;
return ut(this._keys.map(function(t) {
return [ t, e.get(t) ];
}));
}, e.prototype.forEach = function(e, t) {
var n = this;
this.keys().forEach(function(r) {
return e.call(t, n.get(r), r);
});
}, e.prototype.merge = function(t) {
var n = this;
return Se(function() {
t instanceof e ? t.keys().forEach(function(e) {
return n.set(e, t.get(e));
}) : Object.keys(t).forEach(function(e) {
return n.set(e, t[e]);
});
}, void 0, !1), this;
}, e.prototype.clear = function() {
var e = this;
Se(function() {
J(function() {
e.keys().forEach(e["delete"], e);
});
}, void 0, !1);
}, Object.defineProperty(e.prototype, "size", {
get: function() {
return this._keys.length;
},
enumerable: !0,
configurable: !0
}), e.prototype.toJS = function() {
var e = this, t = {};
return this.keys().forEach(function(n) {
return t[n] = e.get(n);
}), t;
}, e.prototype.toJs = function() {
return dt("toJs is deprecated, use toJS instead"), this.toJS();
}, e.prototype.toJSON = function() {
return this.toJS();
}, e.prototype.isValidKey = function(e) {
return null === e || void 0 === e ? !1 : "string" != typeof e && "number" != typeof e && "boolean" != typeof e ? !1 : !0;
}, e.prototype.assertValidKey = function(e) {
if (!this.isValidKey(e)) throw new Error("[mobx.map] Invalid key: '" + e + "'");
}, e.prototype.toString = function() {
var e = this;
return this.name + "[{ " + this.keys().map(function(t) {
return t + ": " + e.get(t);
}).join(", ") + " }]";
}, e.prototype.observe = function(e, t) {
return ft(t !== !0, "`observe` doesn't support the fire immediately property for observable maps."), 
Pe(this, e);
}, e.prototype.intercept = function(e) {
return Ie(this, e);
}, e;
}();
t.ObservableMap = tn, ct(tn.prototype, function() {
return this.entries();
}), t.map = ze, t.isObservableMap = We;
var nn = function() {
function e(e, t, n) {
this.target = e, this.name = t, this.mode = n, this.values = {}, this.changeListeners = null, 
this.interceptors = null;
}
return e.prototype.observe = function(e, t) {
return ft(t !== !0, "`observe` doesn't support the fire immediately property for observable objects."), 
Pe(this, e);
}, e.prototype.intercept = function(e) {
return Ie(this, e);
}, e;
}(), rn = {}, on = {};
t.isObservableObject = et;
var an = {}, sn = function(e) {
function t(t, n, r, o) {
void 0 === r && (r = "ObservableValue@" + pt()), void 0 === o && (o = !0), e.call(this, r), 
this.mode = n, this.hasUnreportedChange = !1, this.value = void 0;
var a = Ne(t, Vt.Recursive), i = a[0], s = a[1];
this.mode === Vt.Recursive && (this.mode = i), this.value = Ue(s, this.mode, this.name), 
o && ye() && ge({
type: "create",
object: this,
newValue: this.value
});
}
return Pt(t, e), t.prototype.set = function(e) {
var t = this.value;
if (e = this.prepareNewValue(e), e !== an) {
var n = ye();
n && me({
type: "update",
object: this,
newValue: e,
oldValue: t
}), this.setNewValue(e), n && be();
}
}, t.prototype.prepareNewValue = function(e) {
if (Le(e, "Modifiers cannot be used on non-initial values."), W(), Ee(this)) {
var t = Ce(this, {
object: this,
type: "update",
newValue: e
});
if (!t) return an;
e = t.newValue;
}
var n = vt(this.mode === Vt.Structure, this.value, e);
return n ? Ue(e, this.mode, this.name) : an;
}, t.prototype.setNewValue = function(e) {
var t = this.value;
this.value = e, this.reportChanged(), Ae(this) && Oe(this, [ e, t ]);
}, t.prototype.get = function() {
return this.reportObserved(), this.value;
}, t.prototype.intercept = function(e) {
return Ie(this, e);
}, t.prototype.observe = function(e, t) {
return t && e(this.value, void 0), Pe(this, e);
}, t.prototype.toJSON = function() {
return this.get();
}, t.prototype.toString = function() {
return this.name + "[" + this.value + "]";
}, t;
}(Mt), ln = "__$$iterating", un = function() {
function e() {
this.listeners = [], dt("extras.SimpleEventEmitter is deprecated and will be removed in the next major release");
}
return e.prototype.emit = function() {
for (var e = this.listeners.slice(), t = 0, n = e.length; n > t; t++) e[t].apply(null, arguments);
}, e.prototype.on = function(e) {
var t = this;
return this.listeners.push(e), ht(function() {
var n = t.listeners.indexOf(e);
-1 !== n && t.listeners.splice(n, 1);
});
}, e.prototype.once = function(e) {
var t = this.on(function() {
t(), e.apply(this, arguments);
});
return t;
}, e;
}();
t.SimpleEventEmitter = un;
var cn = [];
Object.freeze(cn);
var pn = [], fn = function() {}, dn = Object.prototype.hasOwnProperty;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
!function(t, r) {
e.exports = r(n(9), n(1));
}(this, function(e, t) {
return function(e) {
function t(r) {
if (n[r]) return n[r].exports;
var o = n[r] = {
exports: {},
id: r,
loaded: !1
};
return e[r].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports;
}
var n = {};
return t.m = e, t.c = n, t.p = "", t(0);
}([ function(e, t, n) {
"use strict";
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.reactiveComponent = t.PropTypes = t.propTypes = t.inject = t.Provider = t.trackComponents = t.componentByNodeRegistery = t.renderReporter = t.observer = void 0;
var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
}, i = arguments, s = n(1);
Object.defineProperty(t, "observer", {
enumerable: !0,
get: function() {
return s.observer;
}
}), Object.defineProperty(t, "renderReporter", {
enumerable: !0,
get: function() {
return s.renderReporter;
}
}), Object.defineProperty(t, "componentByNodeRegistery", {
enumerable: !0,
get: function() {
return s.componentByNodeRegistery;
}
}), Object.defineProperty(t, "trackComponents", {
enumerable: !0,
get: function() {
return s.trackComponents;
}
});
var l = n(9);
Object.defineProperty(t, "Provider", {
enumerable: !0,
get: function() {
return o(l)["default"];
}
});
var u = n(6);
Object.defineProperty(t, "inject", {
enumerable: !0,
get: function() {
return o(u)["default"];
}
});
var c = n(2), p = o(c), f = n(3), d = o(f), h = n(10), y = r(h), g = void 0;
if (g = "mobx-react/custom", !p["default"]) throw new Error(g + " requires the MobX package");
if (!d["default"]) throw new Error(g + " requires React to be available");
t.propTypes = y, t.PropTypes = y, t["default"] = e.exports, t.reactiveComponent = function() {
return console.warn("[mobx-react] `reactiveComponent` has been renamed to `observer` and will be removed in 1.1."), 
observer.apply(null, i);
}, "object" === ("undefined" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ ? "undefined" : a(__MOBX_DEVTOOLS_GLOBAL_HOOK__)) && __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(e.exports, p["default"]);
}, function(e, t, n) {
"use strict";
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return y["default"] ? y["default"].findDOMNode(e) : null;
}
function a(e) {
var t = o(e);
t && S && S.set(t, e), T.emit({
event: "render",
renderTime: e.__$mobRenderEnd - e.__$mobRenderStart,
totalTime: Date.now() - e.__$mobRenderStart,
component: e,
node: t
});
}
function i() {
if ("undefined" == typeof WeakMap) throw new Error("[mobx-react] tracking components is not supported in this browser.");
_ || (_ = !0);
}
function s(e, t) {
var n = e[t], r = w[t];
n ? e[t] = function() {
n.apply(this, arguments), r.apply(this, arguments);
} : e[t] = r;
}
function l(e, t) {
if ("string" == typeof e) throw new Error("Store names should be provided as array");
if (Array.isArray(e)) return t ? v["default"].apply(null, e)(l(t)) : function(t) {
return l(e, t);
};
var n = e;
if (!("function" != typeof n || n.prototype && n.prototype.render || n.isReactClass || d["default"].Component.isPrototypeOf(n))) return l(d["default"].createClass({
displayName: n.displayName || n.name,
propTypes: n.propTypes,
contextTypes: n.contextTypes,
getDefaultProps: function() {
return n.defaultProps;
},
render: function() {
return n.call(this, this.props, this.context);
}
}));
if (!n) throw new Error("Please pass a valid component to 'observer'");
var r = n.prototype || n;
return [ "componentWillMount", "componentWillUnmount", "componentDidMount", "componentDidUpdate" ].forEach(function(e) {
s(r, e);
}), r.shouldComponentUpdate || (r.shouldComponentUpdate = w.shouldComponentUpdate), 
n.isMobXReactObserver = !0, n;
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.renderReporter = t.componentByNodeRegistery = void 0;
var u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
};
t.trackComponents = i, t.observer = l;
var c = n(2), p = r(c), f = n(3), d = r(f), h = n(4), y = r(h), g = n(5), m = r(g), b = n(6), v = r(b), _ = !1, S = t.componentByNodeRegistery = "undefined" != typeof WeakMap ? new WeakMap() : void 0, T = t.renderReporter = new m["default"](), w = {
componentWillMount: function() {
var e = this, t = this.displayName || this.name || this.constructor && (this.constructor.displayName || this.constructor.name) || "<component>", n = this._reactInternalInstance && this._reactInternalInstance._rootNodeID, r = this.render.bind(this), o = null, a = !1, i = function() {
return o = new p["default"].Reaction(t + "#" + n + ".render()", function() {
a || (a = !0, "function" == typeof e.componentWillReact && e.componentWillReact(), 
e.__$mobxIsUnmounted !== !0 && d["default"].Component.prototype.forceUpdate.call(e));
}), s.$mobx = o, e.render = s, s();
}, s = function() {
a = !1;
var t = void 0;
return o.track(function() {
_ && (e.__$mobRenderStart = Date.now()), t = p["default"].extras.allowStateChanges(!1, r), 
_ && (e.__$mobRenderEnd = Date.now());
}), t;
};
this.render = i;
},
componentWillUnmount: function() {
if (this.render.$mobx && this.render.$mobx.dispose(), this.__$mobxIsUnmounted = !0, 
_) {
var e = o(this);
e && S && S["delete"](e), T.emit({
event: "destroy",
component: this,
node: e
});
}
},
componentDidMount: function() {
_ && a(this);
},
componentDidUpdate: function() {
_ && a(this);
},
shouldComponentUpdate: function(e, t) {
if (this.render.$mobx && this.render.$mobx.isScheduled() === !0) return !1;
if (this.state !== t) return !0;
var n = Object.keys(this.props);
if (n.length !== Object.keys(e).length) return !0;
for (var r = void 0, o = n.length - 1; r = n[o]; o--) {
var a = e[r];
if (a !== this.props[r]) return !0;
if (a && "object" === ("undefined" == typeof a ? "undefined" : u(a)) && !p["default"].isObservable(a)) return !0;
}
return !1;
}
};
}, function(t, n) {
t.exports = e;
}, function(e, n) {
e.exports = t;
}, function(e, t) {
e.exports = null;
}, function(e, t) {
"use strict";
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), o = function() {
function e() {
n(this, e), this.listeners = [];
}
return r(e, [ {
key: "on",
value: function(e) {
var t = this;
return this.listeners.push(e), function() {
var n = t.listeners.indexOf(e);
-1 !== n && t.listeners.splice(n, 1);
};
}
}, {
key: "emit",
value: function(e) {
this.listeners.forEach(function(t) {
return t(e);
});
}
} ]), e;
}();
t["default"] = o;
}, function(e, t, n) {
(function(e) {
"use strict";
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
var n = u["default"].createClass({
displayName: "MobXStoreInjector",
render: function() {
var n = this, r = {};
for (var o in this.props) this.props.hasOwnProperty(o) && (r[o] = this.props[o]);
var a = e(this.context.mobxStores || {}, r, this.context) || {};
for (var i in a) r[i] = a[i];
return r.ref = function(e) {
n.wrappedInstance = e;
}, u["default"].createElement(t, r);
}
});
return n.contextTypes = {
mobxStores: l.PropTypes.object
}, n.wrappedComponent = t, a(n, t), (0, p["default"])(n, t), n;
}
function a(t, n) {
"undefined" != typeof e && e.env && "production" !== e.env.NODE_ENV && [ "propTypes", "defaultProps", "contextTypes" ].forEach(function(e) {
var r = t[e];
Object.defineProperty(t, e, {
set: function(t) {
var r = n.displayName || n.name;
console.warn("Mobx Injector: you are trying to attach " + e + " to HOC instead of " + r + ". Use `wrappedComponent` property.");
},
get: function() {
return r;
},
configurable: !0
});
});
}
function i(e) {
return function(t, n) {
return e.forEach(function(e) {
if (!(e in n)) {
if (!(e in t)) throw new Error("MobX observer: Store '" + e + "' is not available! Make sure it is provided by some Provider");
n[e] = t[e];
}
}), n;
};
}
function s() {
var e = void 0;
if ("function" == typeof arguments[0]) e = arguments[0]; else {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
e = i(t);
}
return function(t) {
return o(e, t);
};
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = s;
var l = n(3), u = r(l), c = n(8), p = r(c);
}).call(t, n(7));
}, function(e, t) {
function n(e) {
return l === setTimeout ? setTimeout(e, 0) : l.call(null, e, 0);
}
function r(e) {
u === clearTimeout ? clearTimeout(e) : u.call(null, e);
}
function o() {
d && p && (d = !1, p.length ? f = p.concat(f) : h = -1, f.length && a());
}
function a() {
if (!d) {
var e = n(o);
d = !0;
for (var t = f.length; t; ) {
for (p = f, f = []; ++h < t; ) p && p[h].run();
h = -1, t = f.length;
}
p = null, d = !1, r(e);
}
}
function i(e, t) {
this.fun = e, this.array = t;
}
function s() {}
var l, u, c = e.exports = {};
!function() {
try {
l = setTimeout;
} catch (e) {
l = function() {
throw new Error("setTimeout is not defined");
};
}
try {
u = clearTimeout;
} catch (e) {
u = function() {
throw new Error("clearTimeout is not defined");
};
}
}();
var p, f = [], d = !1, h = -1;
c.nextTick = function(e) {
var t = new Array(arguments.length - 1);
if (arguments.length > 1) for (var r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];
f.push(new i(e, t)), 1 !== f.length || d || n(a);
}, i.prototype.run = function() {
this.fun.apply(null, this.array);
}, c.title = "browser", c.browser = !0, c.env = {}, c.argv = [], c.version = "", 
c.versions = {}, c.on = s, c.addListener = s, c.once = s, c.off = s, c.removeListener = s, 
c.removeAllListeners = s, c.emit = s, c.binding = function(e) {
throw new Error("process.binding is not supported");
}, c.cwd = function() {
return "/";
}, c.chdir = function(e) {
throw new Error("process.chdir is not supported");
}, c.umask = function() {
return 0;
};
}, function(e, t) {
"use strict";
var n = {
childContextTypes: !0,
contextTypes: !0,
defaultProps: !0,
displayName: !0,
getDefaultProps: !0,
mixins: !0,
propTypes: !0,
type: !0
}, r = {
name: !0,
length: !0,
prototype: !0,
caller: !0,
arguments: !0,
arity: !0
}, o = "function" == typeof Object.getOwnPropertySymbols;
e.exports = function(e, t, a) {
if ("string" != typeof t) {
var i = Object.getOwnPropertyNames(t);
o && (i = i.concat(Object.getOwnPropertySymbols(t)));
for (var s = 0; s < i.length; ++s) if (!(n[i[s]] || r[i[s]] || a && a[i[s]])) try {
e[i[s]] = t[i[s]];
} catch (l) {}
}
return e;
};
}, function(e, t, n) {
"use strict";
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return !t || "object" != typeof t && "function" != typeof t ? e : t;
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
Object.defineProperty(t, "__esModule", {
value: !0
});
var s = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), l = n(3), u = r(l), c = {
children: !0,
key: !0,
ref: !0
}, p = function(e) {
function t() {
return o(this, t), a(this, Object.getPrototypeOf(t).apply(this, arguments));
}
return i(t, e), s(t, [ {
key: "render",
value: function() {
return u["default"].Children.only(this.props.children);
}
}, {
key: "getChildContext",
value: function() {
var e = {}, t = this.context.mobxStores;
if (t) for (var n in t) e[n] = t[n];
for (var r in this.props) c[r] || (e[r] = this.props[r]);
return {
mobxStores: e
};
}
}, {
key: "componentWillReceiveProps",
value: function(e) {
Object.keys(e).length !== Object.keys(this.props).length && console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children");
for (var t in e) c[t] || this.props[t] === e[t] || console.warn("MobX Provider: Provided store '" + t + "' has changed. Please avoid replacing stores as the change might not propagate to all children");
}
} ]), t;
}(l.Component);
p.contextTypes = {
mobxStores: l.PropTypes.object
}, p.childContextTypes = {
mobxStores: l.PropTypes.object.isRequired
}, t["default"] = p;
}, function(e, t, n) {
"use strict";
function r(e) {
function t(t, n, r, o, a, i) {
for (var s = arguments.length, l = Array(s > 6 ? s - 6 : 0), u = 6; s > u; u++) l[u - 6] = arguments[u];
return (0, c.untracked)(function() {
if (o = o || "<<anonymous>>", i = i || r, null == n[r]) {
if (t) {
var s = null === n[r] ? "null" : "undefined";
return new Error("The " + a + " `" + i + "` is marked as required in `" + o + "`, but its value is `" + s + "`.");
}
return null;
}
return e.apply(void 0, [ n, r, o, a, i ].concat(l));
});
}
var n = t.bind(null, !1);
return n.isRequired = t.bind(null, !0), n;
}
function o(e, t) {
return "symbol" === e ? !0 : "Symbol" === t["@@toStringTag"] ? !0 : "function" == typeof Symbol && t instanceof Symbol;
}
function a(e) {
var t = "undefined" == typeof e ? "undefined" : u(e);
return Array.isArray(e) ? "array" : e instanceof RegExp ? "object" : o(t, e) ? "symbol" : t;
}
function i(e) {
var t = a(e);
if ("object" === t) {
if (e instanceof Date) return "date";
if (e instanceof RegExp) return "regexp";
}
return t;
}
function s(e, t) {
return r(function(n, r, o, s, l) {
return (0, c.untracked)(function() {
if (e && a(n[r]) === t.toLowerCase()) return null;
var s = void 0;
switch (t) {
case "Array":
s = c.isObservableArray;
break;

case "Object":
s = c.isObservableObject;
break;

case "Map":
s = c.isObservableMap;
break;

default:
throw new Error("Unexpected mobxType: " + t);
}
var u = n[r];
if (!s(u)) {
var p = i(u), f = e ? " or javascript `" + t.toLowerCase() + "`" : "";
return new Error("Invalid prop `" + l + "` of type `" + p + "` supplied to `" + o + "`, expected `mobx.Observable" + t + "`" + f + ".");
}
return null;
});
});
}
function l(e, t) {
return r(function(n, r, o, a, i) {
for (var l = arguments.length, u = Array(l > 5 ? l - 5 : 0), p = 5; l > p; p++) u[p - 5] = arguments[p];
return (0, c.untracked)(function() {
if ("function" != typeof t) return new Error("Property `" + i + "` of component `" + o + "` has invalid PropType notation.");
var l = s(e, "Array")(n, r, o);
if (l instanceof Error) return l;
for (var c = n[r], p = 0; p < c.length; p++) if (l = t.apply(void 0, [ c, p, o, a, i + "[" + p + "]" ].concat(u)), 
l instanceof Error) return l;
return null;
});
});
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.objectOrObservableObject = t.arrayOrObservableArrayOf = t.arrayOrObservableArray = t.observableObject = t.observableMap = t.observableArrayOf = t.observableArray = void 0;
var u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
}, c = n(2);
t.observableArray = s(!1, "Array"), t.observableArrayOf = l.bind(null, !1), t.observableMap = s(!1, "Map"), 
t.observableObject = s(!1, "Object"), t.arrayOrObservableArray = s(!0, "Array"), 
t.arrayOrObservableArrayOf = l.bind(null, !0), t.objectOrObservableObject = s(!0, "Object");
} ]);
});
}, function(e, t, n) {
"use strict";
function bbUrl(e) {
return "undefined" == typeof r.onlinePrefix, r.onlinePrefix + e;
}
function bbOfflineUrl(e) {
return "undefined" == typeof r.offlinePrefix, r.offlinePrefix + e;
}
var r = n(377);
n(3);
t.bbUrl = bbUrl, t.bbOfflineUrl = bbOfflineUrl;
}, function(e, t, n) {
"use strict";
var r = n(3), o = n(5), a = n(125), i = 0, s = 0, l = function() {
function e() {}
return e.byFBAction = function(t) {
return e._byFBAction[t];
}, e;
}();
if (l.Accept = new a.Key("Accept", 13, 5, [ "OK", "TwinkleAccept" ], i++, s++, !1), 
l.Decline = new a.Key("Decline", 27, 7, [ "Back", "TwinkleDecline" ], i++, s++, !1), 
l.Option1 = new a.Key("Option1", 88, 6, [ "View", "TwinkleOption1" ], i++, s++, !1), 
l.Option2 = new a.Key("Option2", 89, 4, [ "Edit", "TwinkleOption2" ], i++, s++, !1), 
l.Option3 = new a.Key("Option3", 45, 10, [ "LThumb", "TwinkleOption3" ], i++, s++, !1), 
l.Option4 = new a.Key("Option4", 46, 11, [ "RThumb", "TwinkleOption4" ], i++, s++, !1), 
l.Previous = new a.Key("Previous", 33, 16, [ "TabLeft", "TwinklePrevious" ], i++, s++, !1), 
l.Next = new a.Key("Next", 34, 17, [ "TabRight", "TwinkleNext" ], i++, s++, !1), 
l.Home = new a.Key("Home", 36, 14, [ "MenuTriggerLeft", "TwinkleHome" ], i++, s++, !1), 
l.End = new a.Key("End", 35, 15, [ "MenuTriggerRight", "TwinkleEnd" ], i++, s++, !1), 
l.Up = new a.Key("Up", 38, 0, [ "NavigateUp", "TwinkleUp" ], i++, s++, !0), l.Down = new a.Key("Down", 40, 1, [ "NavigateDown", "TwinkleDown" ], i++, s++, !0), 
l.Left = new a.Key("Left", 37, 2, [ "NavigateLeft", "TwinkleLeft" ], i++, s++, !0), 
l.Right = new a.Key("Right", 39, 3, [ "NavigateRight", "TwinkleRight" ], i++, s++, !0), 
l.Select = new a.Key("Select", 8, 13, [ "Deactivate", "TwinkleSelect" ], i++, s++, !1), 
l.ScrollUp = new a.Key("ScrollUp", 47, 29, [ "NavigateRUp", "TwinkleScrollUp" ], i++, s++, !0), 
l.ScrollDown = new a.Key("ScrollDown", 48, 30, [ "NavigateRDown", "TwinkleScrollDown" ], i++, s++, !0), 
l.Start = new a.Key("Start", 32, 12, [ "Start", "TwinkleStart" ], i++, s++, !1), 
l.list = [ l.Accept, l.Decline, l.Option1, l.Option2, l.Option3, l.Option4, l.Previous, l.Next, l.Home, l.End, l.Up, l.Down, l.Left, l.Right, l.Select, l.ScrollUp, l.ScrollDown, l.Start ], 
l._byFBAction = [ o.object(l.list.map(function(e) {
return [ e.fbAction[0], e ];
})), o.object(l.list.map(function(e) {
return [ e.fbAction[1], e ];
})) ], l.byKeyCode = o.object(l.list.map(function(e) {
return [ e.keyCode, e ];
})), l.byPadCode = o.object(l.list.map(function(e) {
return [ e.padCode, e ];
})), l.prioritized = o.sortBy(l.list, "priority"), l.ordered = o.sortBy(l.list, "order"), 
r.inputHandler.isEnterOnCircle()) {
var u = l.Accept;
l.Accept = l.Decline, l.Decline = u;
}
e.exports = l;
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, o = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
n(this, e), this.label = t.label, this.action = t.action, this.holdAction = t.holdAction, 
this.releaseAction = t.releaseAction, this.key = t.key, this.visible = t.visible, 
this.blockInputFor = "number" == typeof t.blockInputFor ? t.blockInputFor : 0;
}
return e.prototype.equals = function t(e) {
return this === e ? !0 : this.label === e.label && this.action === e.action && this.holdAction === e.holdAction && this.releaseAction === e.releaseAction && this.key === e.key && this.visible === e.visible && this.blockInputFor === e.blockInputFor;
}, e.prototype.extend = function o(t) {
return new e(r({}, this, t));
}, e;
}();
t["default"] = o, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
var n = function(t) {
function n(r) {
o(this, n), t.call(this, r), this._isMounted = !0, this._storeUnsubscribes = [], 
this.state = this.state || {}, this.subscribeToStores(e, !1);
}
return a(n, t), n.prototype.componentWillUnmount = function r() {
t.prototype.componentWillUnmount && t.prototype.componentWillUnmount.call(this), 
this._isMounted = !1, this.unsubscribeFromStores();
}, n.prototype.subscribeToStores = function i(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1], n = !1, r = {};
return u["default"].each(e, function(e, t) {
var o = e.getState;
"function" == typeof o && (r[t] = o.apply(e), n = !0), this._storeUnsubscribes.push(e.listen(this.onStoreChange.bind(this, t)));
}.bind(this)), n && (t ? this.setState(r) : this.state = u["default"].extend(this.state, r)), 
r;
}, n.prototype.unsubscribeFromStores = function s() {
this._storeUnsubscribes.forEach(function(e) {
return e();
}), this._storeUnsubscribes = [];
}, n.prototype.onStoreChange = function l(e, t) {
if (this._isMounted) {
var n = {};
n[e] = t, this.setState(n, null, "updated store value for " + e);
}
}, n;
}(t);
return n.displayName = t.displayName || t.name, n;
};
}
t.__esModule = !0, t["default"] = i;
var s = n(1), l = (r(s), n(5)), u = r(l);
e.exports = t["default"];
}, function(e, t, n) {
"use strict";
var r = n(535);
t.createAction = r.createAction;
var o = n(536);
t.createStore = o.createStore;
}, function(e, t, n) {
"use strict";
var r = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, o = n(5), a = n(3), i = n(613), s = a.assign, l = 0, u = {
easing: "CubicInOut",
duration: 22 / 60 * 1e3
}, c = {
number: {
subtract: function(e, t) {
return e - t;
},
magnitude: function(e) {
return Math.abs(e);
}
},
vector: {
subtract: function(e, t) {
e = i.ensureVector(e), t = i.ensureVector(t);
for (var n = Math.max(e.length, t.length), r = [], o = 0; n > o; o++) r[o] = (e[o] || 0) - (t[o] || 0);
return r;
},
magnitude: function(e) {
e = i.ensureVector(e);
var t = e.reduce(function(e, t) {
return Math.abs(e) + Math.pow(t, 2);
}, 0);
return Math.sqrt(t);
}
}
};
t.Animation = {
defaultItemDelay: 50,
defaultTweenOptions: s({}, u),
defaultTweenOptionsNew: u,
calculateSpeed: function(e, n, r) {
void 0 === r && (r = t.Animation.defaultTweenOptions.duration);
var o = "number" == typeof e ? "number" : "vector", a = c[o], i = a.magnitude(a.subtract(n, e));
return i / r;
},
tweenBetween: function(e, n) {
s({}, {}, {}, {});
return s({}, t.Animation.defaultTweenOptionsNew, {
to: n,
from: e,
speed: t.Animation.calculateSpeed(e, n),
duration: null
});
},
tweenSwitch: function(e, n, r, o, a) {
void 0 === o && (o = {}), void 0 === a && (a = {});
var i = s({}, t.Animation.defaultTweenOptionsNew, r ? o : a), l = t.Animation.calculateSpeed(e, n, i.duration);
return 0 >= l ? (console.warn("Performing Animation.tweenSwitch with negative or 0 speed"), 
s({}, i, {
to: r ? n : e
})) : s({}, i, {
to: r ? n : e,
speed: l,
duration: null
});
},
tweenTo: function(e, n) {
return s({}, t.Animation.defaultTweenOptionsNew, {
to: e
}, n);
},
tween: function(e, n, r) {
return new a.Tween(e + "_" + l++, n, o.extend({}, t.Animation.defaultTweenOptions, r));
}
}, t.Animation.presets = {
transition: r({}, t.Animation.defaultTweenOptions, {
duration: t.Animation.defaultTweenOptions.duration / 1.5
}),
trickleUp: {
values: {
opacity: {
from: 0,
to: 1
},
translateY: {
from: 80,
to: 0
}
},
options: t.Animation.defaultTweenOptions
},
slideRight: {
values: {
opacity: {
from: 0,
to: 1
},
translateX: {
from: -91,
to: 0
}
},
options: o.extend({}, t.Animation.defaultTweenOptions, {
delay: t.Animation.defaultItemDelay
})
},
list: {
enter: {
duration: t.Animation.defaultTweenOptions.duration / 4
},
leave: {
duration: t.Animation.defaultTweenOptions.duration / 2
},
scroll: {
easing: "Linear",
duration: t.Animation.defaultTweenOptions.duration / 4
}
},
text: {
scroll: {
duration: t.Animation.defaultTweenOptions.duration / 2,
easing: "CubicOut"
}
},
focusables: {
enter: {
"default": {
duration: SpartaGlobals.bundleIsPC ? t.Animation.defaultTweenOptions.duration / 4 : t.Animation.defaultTweenOptions.duration / 2.5
},
fast: {
duration: t.Animation.defaultTweenOptions.duration / 4
},
slow: {
duration: t.Animation.defaultTweenOptions.duration / 2
}
},
leave: {
easing: "Linear",
duration: t.Animation.defaultTweenOptions.duration / 2
}
},
press: {
duration: SpartaGlobals.bundleIsPC ? t.Animation.defaultTweenOptions.duration / 10 : t.Animation.defaultTweenOptions.duration / 5
},
easings: {
linear: {
easing: "Linear"
},
quadraticIn: {
easing: "QuadraticIn"
},
quadraticOut: {
easing: "QuadraticOut"
},
quadraticInOut: {
easing: "QuadraticInOut"
},
cubicIn: {
easing: "CubicIn"
},
cubicOut: {
easing: "CubicOut"
},
cubicInOut: {
easing: "CubicInOut"
},
cubicOutBack: {
easing: "CubicOutBack"
},
sineIn: {
easing: "SineIn"
},
sineOut: {
easing: "SineOut"
},
sineInOut: {
easing: "SineInOut"
}
}
};
}, function(e, t, n) {
var r = n(3).Bounds, o = n(6), a = n(190), i = a.dangerZoneSize, s = a.safeZone, l = a.screen, u = {
breadcrumbs: o.getHeight(SpartaGlobals.bundleIsPC ? 4 : 3),
header: o.getHeight(SpartaGlobals.bundleIsPC ? 5 : 4),
headerBottomMargin: o.getHeight(SpartaGlobals.bundleIsPC ? 4 : 3),
tabs: o.getHeight(SpartaGlobals.bundleIsPC ? 4 : 3),
fadeTop: o.getHeight(SpartaGlobals.bundleIsPC ? 4 : 3),
fadeBottom: o.getHeight(SpartaGlobals.bundleIsPC ? 0 : 3),
footerTopMargin: o.getHeight(SpartaGlobals.bundleIsPC ? 0 : 1),
footer: o.getHeight(SpartaGlobals.bundleIsPC ? 0 : 5),
tallContent: o.getHeight(SpartaGlobals.bundleIsPC ? 14 : 10)
}, c = s.height - u.breadcrumbs - u.header - u.headerBottomMargin - u.tabs - u.fadeTop - u.fadeBottom - u.footerTopMargin - u.footer;
SpartaGlobals.bundleIsPC && (c += i.height);
var p = new r(s.left, s.top, s.width, u.breadcrumbs + u.header), f = new r(s.left, p.bottom + u.headerBottomMargin, o.content.width, u.tabs), d = new r(s.left, f.bottom, o.content.width, u.fadeTop), h = new r(s.left, s.bottom - u.footer, s.width, u.footer), y = new r(s.left, h.top - u.footerTopMargin - u.fadeBottom, s.width, u.fadeBottom), g = new r(s.left, d.bottom, o.content.width, c), m = new r(s.left, g.top, s.width, u.tallContent), b = Math.ceil(l.width * (997 / 1920)), v = Math.ceil(l.height * (273 / 1080)), _ = SpartaGlobals.bundleIsConsole ? 277 : 189, S = SpartaGlobals.bundleIsConsole ? 76 : 63, T = o.getWidth(9), w = SpartaGlobals.bundleIsPC ? o.getHeight(5) : h.height, E = SpartaGlobals.bundleIsPC ? a.sideOffset : o.getWidth(7) + i.width;
e.exports = {
header: p,
tabs: f,
fadeAreaTop: d,
footer: h,
fadeAreaBottom: y,
content: g,
tallContent: m,
dangerZoneSize: i,
screen: l,
safeZone: s,
startScreenLogo: new r(Math.floor(l.width / 2 - b / 2), Math.floor(l.height / 2.3 - v / 2), b, v),
background: l,
mainMenu: new r(l.left - E, l.top, E, l.height),
input: h,
logo: new r(p.right - _, p.top, _, S),
comCenterWidth: SpartaGlobals.bundleIsPC ? o.getWidth(6) - 4 * o.GUTTER : o.getWidth(8) + i.width,
userBar: SpartaGlobals.bundleIsPC ? new r(s.right - T, g.bottom - w, T, w) : new r(h.right - T, h.bottom - w, T, w)
};
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
var o = n(15), a = n(3), i = r(a);
e.exports = {
quitSparta: o.createAction(),
gotoLocation: o.createAction(),
setLocationSubtitle: o.createAction(),
goToParentRoute: o.createAction(),
goBackInHistory: o.createAction(),
goForwardInHistory: o.createAction(),
returnFromLocation: o.createAction(),
updateLocation: o.createAction(),
handleSpartaActivated: o.createAction(),
handleSpartaActivatedUpdate: o.createAction(),
handleSpartaWillDeactivate: o.createAction(),
handlePushNotification: o.createAction(),
setResolution: o.createAction(),
setNavigationEnabled: o.createAction(),
updateConfig: o.createAction(),
updateInstallState: o.createAction(),
updateSubscription: o.createAction(),
setClientVideoRecordingEnabled: o.createAction()
}, i.getBuildInfo().isRemoteEngine() && (window.CoreActions = e.exports);
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
_.merge(e), S.trigger(_.getState());
}
function a() {
return n(8).gameStore;
}
function i(e) {
var t = e.envBranchName;
if (t) {
var n = a().games;
return c["default"].find(n.toJS(), function(e, n) {
return e.branchNameTest && -1 !== t.toLowerCase().indexOf(e.branchNameTest);
});
}
return null;
}
function s(e, t, n) {
if ("zh-cn" === e && (e = m["default"].CHINESE), e === m["default"].ENGLISH) return m["default"].ENGLISH;
if (!e) return console.error("Invalid locale argument. Got: '" + e + "'"), m["default"].ENGLISH;
if (!n) return console.error("Invalid region argument. Got: '" + n + "'"), m["default"].ENGLISH;
var r = i({
envBranchName: t
});
if (!r) return console.error("Could not get locales to load. Failed to get hosting game"), 
m["default"].ENGLISH;
var o = r.locales[n.toLowerCase()];
if (!o) return console.error("Missing region in list of supported locales " + ("(region: '" + n + "', game: '" + r.displayName() + "'")), 
m["default"].ENGLISH;
var a = o[SpartaGlobals.bundlePlatform];
return a ? -1 === a.indexOf(e) ? (console.error("Missing locale in list of supported locales " + ("(locale: '" + e + "', platform: '" + SpartaGlobals.bundlePlatform + "', ") + ("region: '" + n + "', game '" + r.displayName() + "')")), 
m["default"].ENGLISH) : e : (console.error("Missing platform in list of supported locales " + ("(platform: '" + SpartaGlobals.bundlePlatform + "', region: '" + n + "', game: '" + r.displayName() + "')")), 
m["default"].ENGLISH);
}
function l(e) {
var t = e.toLowerCase();
return "eu" === t || "ru" === t || "jp" === t ? t : v["default"].NA;
}
t.__esModule = !0;
var u = n(5), c = r(u), p = n(15), f = n(60), d = r(f), h = n(26), y = r(h), g = n(103), m = r(g), b = n(720), v = r(b), _ = new y["default"]("NativePropertiesStore", {
enableInputConcepts: !1,
enableTwinkleInputConcepts: !1,
envBranchName: null,
envChangeListNumber: null,
envOnlineEnvironment: null,
protocolVersion: null,
crossLaunchProtocolVersion: null,
serviceOverride: null,
productCode: null,
gatewayProtocol: "http",
gatewayHost: null,
ready: !1,
hostingGameId: null,
locale: null,
commerceLocale: null,
region: null,
crossLaunch: null,
parentSessionId: null,
isStreamingInstalling: null
}), S = p.createStore({
init: function T() {
d["default"].nativeClientReadyMessage.listen(function(e) {
var t = null, n = null, r = e.nativeClientInformation;
if (!c["default"].isEmpty(r.serviceOverride)) try {
t = JSON.parse(r.serviceOverride);
} catch (a) {
console.warn("Failed to parse service override JSON:", r.serviceOverride);
}
c["default"].isEmpty(r.productCode) || (n = r.productCode);
var u = _.getState(), p = r.region ? l(r.region) : v["default"].EU, f = r.locale, d = (r.commerceLocale || "").toLowerCase(), h = {
enableInputConcepts: r.enableInputConcepts || !1,
enableTwinkleInputConcepts: r.enableTwinkleInputConcepts || !1,
envBranchName: r.env.branchName,
envChangeListNumber: r.env.changeListNumber,
envOnlineEnvironment: r.env.onlineEnvironment,
gatewayHost: r.env.gatewayHost,
protocolVersion: r.protocolVersion,
crossLaunchProtocolVersion: r.crossLaunchProtocolVersion,
serviceOverride: t,
productCode: n,
locale: s(f, r.env.branchName, p) || m["default"].ENGLISH,
commerceLocale: d,
ready: !0,
region: p,
originalLocale: f,
crossLaunch: r.crossLaunch,
parentSessionId: r.parentSessionId,
isStreamingInstalling: r.isStreamingInstalling || !1
};
if (null != r.showStartScreen && (h.showStartScreen = r.showStartScreen), r.env.gatewayProtocol && (h.gatewayProtocol = r.env.gatewayProtocol), 
!u.hostingGameId) {
var y = i(h);
if (!y) throw new Error("Could not get hosting game. Invalid branchName (" + r.env.branchName + ")?");
h.hostingGameId = y ? y.gameId : null;
}
o(h);
}), d["default"].firstPartyConnectedMessage.listen(function(e) {
var t = {
envOnlineEnvironment: e.onlineEnvironment,
gatewayHost: e.gatewayHost,
gatewayProtocol: e.gatewayProtocol,
ready: !0
};
o(t);
});
},
getHostingGame: function w() {
var e = _.getState().hostingGameId;
return e ? a().getGame(e) : null;
},
getState: function E() {
return _.getState();
}
});
t["default"] = S, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return e = u["default"].extend({
ignoreParentIsolation: !1,
passDownId: !0,
group: !1
}, e), function(t) {
var n = function(t) {
function n(r) {
o(this, n), t.call(this, r), this.inputOptions = e, this.state = this.state || {};
}
return a(n, t), n.prototype.getChildContext = function r() {
return s({
parentInputDecoratedComponent: this
}, t.prototype.getChildContext && t.prototype.getChildContext.call(this));
}, n.prototype.updateInput = function i() {
var e = [].concat(t.prototype.getInput && t.prototype.getInput.call(this), this._isActive && t.prototype.getActiveInput && t.prototype.getActiveInput.call(this)).filter(function(e) {
return e;
});
d["default"].register(this.registrationId, this.inputGroupId, e);
}, n.prototype.componentWillEnter = function l(e) {
t.prototype.componentWillEnter && t.prototype.componentWillEnter.call(this, e), 
this._isActive = !0, this.updateInput();
}, n.prototype.componentWillFocus = function u() {
if (t.prototype.componentWillFocus) {
for (var e, n = arguments.length, r = Array(n), o = 0; n > o; o++) r[o] = arguments[o];
(e = t.prototype.componentWillFocus).call.apply(e, [ this ].concat(r));
}
this._isFocused = !0, this.updateInput();
}, n.prototype.componentWillBlur = function c() {
if (t.prototype.componentWillBlur) {
for (var e, n = arguments.length, r = Array(n), o = 0; n > o; o++) r[o] = arguments[o];
(e = t.prototype.componentWillBlur).call.apply(e, [ this ].concat(r));
}
this._isFocused = !1, this.updateInput();
}, n.prototype.componentWillLeave = function p(e) {
t.prototype.componentWillLeave && t.prototype.componentWillLeave.call(this, e), 
this._isActive = !1, this.updateInput();
}, n.prototype.componentWillMount = function f() {
this.updateMobxBindings();
var n = this.context.parentInputDecoratedComponent, r = e.group !== !1 && this.props.group !== !1;
this._allowIsolation = !0, this.isOwnInputGroup = r || !n || !n.inputOptions.passDownId, 
this.inputGroupId = this.isOwnInputGroup ? "inputGroup" + y++ : n.inputGroupId, 
this.registrationId = "inputRegistration" + g++, t.prototype.componentWillMount && t.prototype.componentWillMount.call(this);
}, n.prototype.componentDidMount = function m() {
t.prototype.componentDidMount && t.prototype.componentDidMount.call(this), this.updateInput();
}, n.prototype.componentDidUpdate = function b(e, n) {
t.prototype.componentDidUpdate && t.prototype.componentDidUpdate.call(this, e, n), 
this.updateMobxBindings(), this.updateInput();
}, n.prototype.componentWillUnmount = function v() {
t.prototype.componentWillUnmount && t.prototype.componentWillUnmount.call(this), 
d["default"]["delete"](this.registrationId, this.inputGroupId), this.removeMobxBindings();
}, n.prototype.updateMobxBindings = function _() {
var e = this;
this.removeMobxBindings && this.removeMobxBindings(), this.removeMobxBindings = h.reaction(function() {
return e.getInput && e.getInput();
}, function() {
return e.updateInput();
});
}, n.prototype.allowIsolation = function S(e) {
this._allowIsolation = e;
var t = this.context.parentInputDecoratedComponent;
t && t.allowIsolation(e);
}, n.prototype.isIsolationAllowed = function T() {
if (this.inputOptions.ignoreParentIsolation) return this._allowIsolation;
if (!this._allowIsolation) return !1;
var e = this.context.parentInputDecoratedComponent;
return e ? e.isIsolationAllowed() : !0;
}, n.prototype.isolateInputGroup = function w() {
if (this.isIsolationAllowed()) {
if (this.isOwnInputGroup) {
var e = this.context.parentInputDecoratedComponent;
e && e.allowIsolation(!1);
}
d["default"].isolateGroup(this.inputGroupId);
}
}, n.prototype.releaseInputGroup = function E() {
if (this._allowIsolation) {
if (this.isOwnInputGroup) {
var e = this.context.parentInputDecoratedComponent;
e && e.allowIsolation(!0);
}
d["default"].releaseGroup(this.inputGroupId);
}
}, n;
}(t), r = {
parentInputDecoratedComponent: p["default"].PropTypes.any
};
return n.contextTypes = u["default"].extend({}, t.contextTypes, r), n.childContextTypes = u["default"].extend({}, t.childContextTypes, r), 
n.displayName = t.displayName || t.name, n;
};
}
t.__esModule = !0;
var s = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
};
t["default"] = i;
var l = n(5), u = r(l), c = n(1), p = r(c), f = n(132), d = r(f), h = n(9), y = 0, g = 0;
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {}
t.__esModule = !0;
var a = n(702), i = r(a);
o.prototype.createClient = function(e) {
return i["default"](e);
}, o.prototype.resetClients = function() {
a.instances.forEach(function(e) {
return e.reset();
});
}, t["default"] = new o(), e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return x(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(16), y = n(3), g = n(13), m = s(g), b = n(12), v = s(b), _ = n(6), S = s(_), T = n(7), w = n(54), E = s(w), I = n(11), C = n(8), A = n(19), P = s(A), O = n(10), R = n(58), k = {
_$Button: {
displayName: "Button"
}
}, x = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/buttons/Button.jsx",
components: k,
locals: [],
imports: []
}), M = {
button: {
zOffset: 0,
justifyContent: "center",
height: S["default"].getHeight(7)
},
buttonBorder: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 5,
texture: I.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2
},
background: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
backgroundColor: "#ffffff",
zOffset: 1
},
textContainer: {
position: "absolute",
zOffset: 3,
bottom: 0,
left: 0,
right: 0,
top: 0,
alignItems: "center",
justifyContent: "center"
},
textLight: function D(e) {
return {
color: e ? "#00000066" : "#ffffff",
zOffset: 3
};
},
textDark: {
color: "#000000",
zOffset: 3
}
}, N = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = t.focusItem ? t.focusItem : y.focus.create(this, "button_" + t.text), 
this.focusItem.autoFocusCandidate = !0, y.focus.onComponentUpdate(this, function(e, t) {
r.focusItem.setActive("ead60ad4:62", !e.disabled);
});
}
a(t, e), t.prototype.componentDidMount = function s() {
this.props.stealFocus && this.focusItem.setFocused(y.focus.FocusSource.Auto);
}, t.prototype.getDynamicStyles = function l() {
return y.focus.system.controllerMode ? {
showOnHover: {
opacity: h.Animation.tweenSwitch(0, 1, this.focusItem.isFocused, h.Animation.presets.focusables.enter["default"])
},
hideOnHover: {
opacity: h.Animation.tweenSwitch(1, 0, this.focusItem.isFocused, h.Animation.presets.focusables.enter["default"])
}
} : {
showOnHover: {
opacity: this.focusItem.isFocused ? 1 : 0
},
hideOnHover: {
opacity: this.focusItem.isFocused ? 0 : 1
}
};
}, t.prototype.getTexts = function u(e) {
var t = this.props, n = t.text, o = t.inverted, a = t.textSize, i = t.textStyle, s = null, l = C.layoutStateStore.current;
s = R.localeState.needsFallback && this.props.isInPopup ? P["default"].getHostingGame().gameId : l && l.config ? l.config.gameId || "generic" : P["default"].getHostingGame().gameId;
var u = {
$$typeof: p,
type: T.Text,
key: null,
ref: null,
props: r(T.Text.defaultProps, {
value: n.toUpperCase(),
size: a,
section: s,
type: "emphasis",
style: M.textLight(o)
}),
_owner: null
}, f = {
$$typeof: p,
type: T.Text,
key: null,
ref: null,
props: r(T.Text.defaultProps, {
value: n.toUpperCase(),
size: a,
section: s,
type: "emphasis",
style: c({}, M.textLight(o), e.hideOnHover, i)
}),
_owner: null
}, d = {
$$typeof: p,
type: T.Text,
key: null,
ref: null,
props: r(T.Text.defaultProps, {
value: n.toUpperCase(),
size: a,
section: s,
type: "emphasis",
style: c({}, M.textDark, e.showOnHover)
}),
_owner: null
};
return {
disabled: u,
normal: f,
hover: d
};
}, t.prototype.getIcons = function f(e) {
var t = this.props, n = t.icon, r = t.size, o = {
normal: {
texture: n.normal,
width: r,
height: r
},
hover: {
texture: n.hover,
width: r,
height: r
}
}, a = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, o.normal, {
opacity: .5
}),
skipFade: !0
},
_owner: null
}, i = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, o.normal, e.hideOnHover),
skipFade: !0
},
_owner: null
}, s = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, o.hover, e.showOnHover),
skipFade: !0
},
_owner: null
};
return {
disabled: a,
normal: i,
hover: s
};
}, t.prototype.render = function d() {
var e = this.props, t = e.text, n = e.inputLabel, o = e.action, a = e.disabled, i = e.style, s = e.icon, l = e.inverted, u = e.blockInputFor, f = c({}, M.button, i), d = this.getDynamicStyles(), h = {
disabled: null,
normal: null,
hover: null
};
if (s ? h = this.getIcons(d) : t && (h = this.getTexts(d)), a) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, M.background, {
opacity: 0
})
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: M.buttonBorder
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: h.disabled,
style: M.textContainer
},
_owner: null
} ],
style: c({}, f, {
opacity: .5
})
},
_owner: null
};
var y = n ? n : __("ID_SPARTA_ACTION_SELECT"), g = o ? new m["default"]({
label: y,
action: o,
key: v["default"].Accept,
blockInputFor: u
}) : null, b = l ? {
opacity: 1
} : d.showOnHover;
return {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, M.background, b)
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: M.buttonBorder
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: h.hover,
style: M.textContainer
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: h.normal,
style: M.textContainer
},
_owner: null
} ],
input: g,
glow: !0,
style: f,
focusItem: this.focusItem
}),
_owner: null
};
};
var n = t;
return t = i("_$Button")(t) || t, t = O.observer(t) || t;
}(d["default"].Component);
t["default"] = N, N.propTypes = {
inputLabel: d["default"].PropTypes.string,
action: d["default"].PropTypes.func,
blockInputFor: d["default"].PropTypes.number,
disabled: d["default"].PropTypes.bool,
inverted: d["default"].PropTypes.bool,
text: d["default"].PropTypes.string,
textSize: d["default"].PropTypes.string,
icon: d["default"].PropTypes.object,
size: d["default"].PropTypes.number,
isInPopup: d["default"].PropTypes.bool
}, N.defaultProps = {
blockInputFor: 500,
textSize: "S",
text: " ",
isInPopup: !1
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
function r() {
return o.createAction();
}
var o = n(15);
t.setGameData = o.createAction(), t.refreshGameData = o.createAction(), t.setFilterOptions = o.createAction(), 
t.resetFilters = o.createAction(), t.prepareFilters = o.createAction(), t.toggleFilters = o.createAction(), 
t.setFilterValue = o.createAction(), t.applyFilters = o.createAction(), t.toggleFilterCategory = o.createAction(), 
t.invertFilterCategory = o.createAction(), t.saveFilter = o.createAction(), t.refreshSavedFilters = o.createAction(), 
t.deleteSavedFilter = o.createAction(), t.updateSavedFilter = o.createAction(), 
t.refreshServers = r(), t.fetchServerCounts = o.createAction(), t.setServerCounts = o.createAction(), 
t.updateServers = o.createAction(), t.getDetailsForServer = o.createAction(), t.clearServerDetails = o.createAction(), 
t.trackFilterJoin = o.createAction(), t.cycleSort = o.createAction(), t.setSort = o.createAction(), 
t.toggleBookmark = r(), t.refreshBookmarks = o.createAction(), t.setHistory = o.createAction(), 
t.refreshHistory = o.createAction(), t.refreshRentedServers = o.createAction(), 
t.getDetailsForRentedServer = o.createAction(), t.clearRentedServerDetails = o.createAction(), 
t.receivePingResult = o.createAction(), t.requestPings = r();
}, function(e, t, n) {
"use strict";
function r(e) {
e || (A = void 0);
}
function o(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
console.log(e, t);
}
function a(e) {
var t = "/" === e[e.length - 1];
return t ? e.substr(0, e.length - 1) : e;
}
function i() {
return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
var t = 16 * Math.random() | 0, n = "x" === e ? t : 3 & t | 8;
return n.toString(16);
});
}
function s(e, n, r) {
var o = $.getState(), a = o.gatewayHost + "/jsonrpc/" + SpartaGlobals.bundlePlatform.toLowerCase() + "/api", s = {
jsonrpc: "2.0",
method: n,
params: r,
id: i()
}, l = "X-Guest: no-session-id";
e && "" !== e && (l = "X-GatewaySession: " + e), l += "\r\nX-ClientVersion: release-bf4pc-bf1dlc1_11296_3284083e_warsaw_all_prod";
var u = {
methodName: n,
params: r
};
return t.onRequest(u), new Promise(function(e, r) {
k.httpRequest(k.HttpMethod.POST, a + "?" + n, s, l, !0, function(n, o) {
n && !o.error ? (t.onResponse(o.result, u), e(o.result)) : (t.onError(o.error, u), 
r(new K(o.error.message, o.error.code, u)));
});
});
}
function l() {
return new Promise(function(e) {
B.connect(function(t) {
return t.isReady() ? (e(), !1) : void 0;
});
});
}
function u(e, t) {
return void 0 === t && (t = 3e4), new Promise(function(n, r) {
l().then(function() {
var o, a, i = function(e) {
o(), clearTimeout(a), e ? n(e) : r("Could not get auth code from frostbite. Was this request made while offline?");
};
a = setTimeout(function() {
console.warn("sparta.getNewAuthCode timed out"), i(null);
}, t), o = k.frostbite.registerMessageListener("sparta.authCodeAvailableMessage", function(e, t) {
return i(t.authCode);
}), k.frostbite.sendMessage("sparta.getNewAuthCode", {
clientId: e,
timeout: t
});
})["catch"](r);
});
}
function c(e, t) {
return s(null, "Authentication.viaEmail", {
email: e,
password: t
}).then(function(e) {
return e ? e.data : null;
});
}
function p() {
var e = $.getState();
return e.gatewayEmail ? c(e.gatewayEmail, e.gatewayPassword) : u(W[SpartaGlobals.bundlePlatform]);
}
function f(e) {
var t = F.getState();
return s(null, "Authentication.getEnvIdViaAuthCode", {
authCode: e,
product: t.productCode,
dtab: t.serviceOverride,
locale: t.locale,
branchName: t.envBranchName,
changeListNumber: t.envChangeListNumber
}).then(function(t) {
var n = t.sessionId;
if (!n) throw new Error('Bad response from gateway "getEnvIdViaAuthCode" using auth code ' + e + ": " + ('No session id received (response.sessionId == "' + n + '")'));
return d(n).then(function(e) {
var r = {
personaId: t.personaId,
sessionId: n,
envId: t.envId,
parameters: t.parameters,
entitlements: e
};
return y(r), r;
});
}).then(function(e) {
return new x.GatewaySession(e.personaId, e.sessionId, e.envId, e.parameters, new z(e.entitlements));
});
}
function d(e) {
return C ? C : C = new Promise(function(n, r) {
var o = O.keys(M.gameStore.games.toJS()).concat([ "sparta" ]);
s(e, "Identity.getEntitlementsByGames", {
games: o,
forceRefresh: !0
}).then(function(e) {
e = O.chain(e || {}).map(function(e, t) {
var n = O.map(e, function(e) {
return new V(e);
});
return [ t, n ];
}).object().value(), t.onSessionEntitlementsReceived(e), C = void 0, n(e);
})["catch"](function(e) {
console.error(e), C = void 0, r(e);
});
});
}
function h() {
return M.gatewayState.session.sessionId ? d(M.gatewayState.session.sessionId).then(function(e) {
var t = new x.GatewaySession(M.gatewayState.session.personaId, M.gatewayState.session.sessionId, M.gatewayState.session.envId, M.gatewayState.session.parameters, e);
return y(t), t.entitlements = new z(e), M.gatewayState.setSessionState(M.gatewayState.sessionState, t), 
t;
}) : Promise.reject(new Error("Trying to refresh entitlements without a valid GatewaySession"));
}
function y(e) {
var t = JSON.stringify(e);
return k.kvstorage.storeItem("gwsession", t, function() {
o("GWSESSION: Stored session to disk");
}), e;
}
function g() {
return o("GWSESSION: Trying to get from disk"), new Promise(function(e, n) {
k.kvstorage.getItem("gwsession", function(r, a, i) {
if (i > -1 && a) {
o("GWSESSION: Got session from disk"), B.getState().isReady() || (console.warn("GWSESSION: Presence marked disconnected while restoring from disk"), 
n("Abort gateway go-online - we are not really connected to blaze"));
var s = JSON.parse(a);
t.onSessionEntitlementsReceived(s.entitlements), e(new x.GatewaySession(s.personaId, s.sessionId, s.envId, s.parameters, new z(s.entitlements)));
} else o("GWSESSION: Got error " + i), e(null);
});
});
}
function m() {
return I ? I : B.getState().isReady() ? (M.gatewayState.setSessionState(D.GatewaySessionState.connecting), 
I = g().then(function(e) {
return e ? e : (o("GWSESSION: No session from disk, getting authcode"), p().then(f));
}).then(function(e) {
return q(e), M.gatewayState.setSessionState(D.GatewaySessionState.established, e), 
t.onSessionEstablished(e), e.sessionId;
})["catch"](function(e) {
throw o("GWSESSION: Failed to create session: ", e), I = void 0, M.gatewayState.setSessionState(D.GatewaySessionState.failed), 
e;
})) : Promise.reject("Making gateway request without a gateway session. Check onlineState.hasGatewaySession");
}
function b(e, t, n) {
return void 0 === n && (n = !0), F.getState().ready ? M.gatewayState.sessionState === D.GatewaySessionState.failed ? Promise.reject(new Error("GatewayClient in offline state, call GatewayClient.connect to go online - " + e)) : m().then(function(n) {
return s(n, e, t);
})["catch"](function(r) {
throw r.code === U.GatewayErrorCodes.INVALID_SESSION && (o("GWSESSION: Got invalid session response from GW, clearing session..."), 
k.kvstorage.removeItem("gwsession", function() {
o("GWSESSION: Removed session"), I && M.gatewayState.sessionState === D.GatewaySessionState.established && (I = void 0, 
M.gatewayState.setSessionState(D.GatewaySessionState.none), n && b(e, t, !1));
})), r;
}) : Promise.reject(new Error("Native client not ready, cannot go online on behalf of " + e));
}
function v() {
M.gatewayState.setSessionState(D.GatewaySessionState.failed), I = void 0, r(!1);
}
function _() {
m();
}
function S() {
B.getState().isReady() && M.gatewayState.canConnect && F.getState().ready && (o("GWSESSION: Native Client and Presence Ready, connecting..."), 
_());
}
function T(e, t) {
return void 0 === t && (t = 3e4), new Promise(function(n, r) {
var o, a = k.frostbite.registerMessageListener("sparta.firstPartyTokens", function(e, t) {
clearTimeout(o), a(), n(t.tokens);
});
k.frostbite.sendMessage("sparta.getFirstPartyTokens", e), o = setTimeout(function() {
a(), r("sparta.getFirstPartyTokens timed out");
}, t);
});
}
function w() {
return A ? A : A = b("Inventory.getFirstPartyServices").then(T).then(function(e) {
return b("Inventory.registerFirstPartyTokens", {
tokens: e
});
}).then(function() {
return r(!0);
})["catch"](function(e) {
throw console.error(e), r(!1), e;
});
}
function E(e, t, n) {
return void 0 === n && (n = !0), b(e, t)["catch"](function(o) {
if (console.error(o), o.code === U.GatewayErrorCodes.FIRST_PARTY_TOKEN_EXPIRED && (r(!1), 
n)) return w().then(function() {
return E(e, t, !1);
});
throw o;
});
}
var I, C, A, P = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, O = n(5), R = n(9), k = n(3), x = n(355), M = n(8), N = n(45), D = n(203), U = n(563), L = n(15), $ = n(180), G = n(89), F = n(19), B = n(41), j = n(60), H = n(282), V = H.Entitlement, z = H.GameEntitlements, W = {
PC: "sparta-backend-as-user-pc",
XBOXONE: "sparta-backend-as-user-xone",
PS4: "sparta-backend-as-user-ps4"
};
t.onRequest = L.createAction(), t.onError = L.createAction(), t.onResponse = L.createAction(), 
t.onSessionEstablished = L.createAction(), t.onEnvironmentIdReceived = L.createAction(), 
t.onSessionEntitlementsReceived = L.createAction();
(function() {
function e() {}
return e;
})(), function() {
function e() {}
return e;
}(), function() {
function e() {}
return e;
}(), function() {
function e() {}
return e;
}(), function() {
function e() {}
return e;
}();
t.refreshEntitlements = h;
var q = R.action("recieve session", function(e) {
var n = e.parameters;
N.acceptKeyword("accept_exclusive_keywords_start"), M.settingsStore.featureFlags = n && n.featureFlags ? n.featureFlags : [], 
M.settingsStore.supportsFilterState = n && n.supportsFilterState, M.settingsStore.battlebinaryPrefix = n && n.bbPrefix ? a(n.bbPrefix) : "https://battlebinary.battlelog.com/view", 
n && n.currentUtcTimestamp && M.settingsStore.setCurrentUtcTimestamp(n.currentUtcTimestamp), 
N.acceptKeyword("accept_exclusive_keywords_end"), t.onEnvironmentIdReceived(e.envId);
});
t.sessionRequest = b, t.request = b, t.disconnect = v, t.connect = _, j.nativeClientReadyMessage.listen(function(e) {
e.nativeClientInformation.isOnlineSnapshot ? S() : k.kvstorage.removeItem("gwsession", function() {
o("GWSESSION: Starting with no blaze session, clearing stored gateway session");
});
}), B.connect(S), G.onDisconnected.listen(function() {
M.gatewayState.sessionState === D.GatewaySessionState.established && (console.warn("Presence disconnected, disconnecting gateway"), 
v());
});
var K = (function() {
function e() {}
return e;
}(), function() {
function e() {}
return e;
}(), function() {
function e() {}
return e;
}(), function(e) {
function t(t, n, r) {
var o = e.call(this, t) || this;
return o.message = t, o.code = n, o.requestInfo = r, o;
}
return P(t, e), t;
}(Error));
t.firstPartyRequest = E;
}, function(e, t, n) {
var r = n(15), o = {
display: r.createAction(),
close: r.createAction(),
closeAll: r.createAction(),
closeGroup: r.createAction()
};
e.exports = o;
}, function(e, t, n) {
(function(t) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, n, r) {
function o(n) {
(t.__storageDebug === !0 || t.__storageDebug === e || t.__storageDebug instanceof Array && t.__storageDebug.indexOf(e) >= 0) && console.debug(e, "set", n), 
t.__storage = t.__storage.set(e, n);
}
function a() {
return t.__storage.get(e);
}
if (!t.__storage.hasOwnProperty(e)) {
var s = r ? n : new l["default"](n);
t.__storage = t.__storage.set(e, s);
}
var u = {
set: function p(e, t) {
var n = a();
n = n.set(e, t), o(n);
},
merge: function f(e) {
var t = a();
t = t.merge(e), o(t);
},
remove: function d(e) {
var t = a();
t = t.remove(e), o(t);
},
get: function h(e) {
var t = a();
return t.get(e);
}
}, c = {
setState: function y(e) {
var t = r ? e : new l["default"](e);
o(t);
},
getState: function g() {
var e = a();
return e;
}
};
return r ? c : i["default"].extend({}, u, c);
}
var a = n(5), i = r(a), s = n(131), l = r(s);
t.__storage = new l["default"](), e.exports = o;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(6), y = s(h), g = n(33), m = n(229), b = s(m), v = n(17), _ = s(v), S = n(854), T = s(S), w = n(309), E = s(w), I = n(144), C = {
_$Template: {
displayName: "Template"
}
}, A = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/templates/Template.jsx",
components: C,
locals: [],
imports: []
}), P = [ _["default"].fadeAreaTop.height, _["default"].dangerZoneSize.width, SpartaGlobals.bundleIsPC ? _["default"].dangerZoneSize.height : _["default"].fadeAreaBottom.height, SpartaGlobals.bundleIsPC ? _["default"].content.left - _["default"].mainMenu.width - 1 : _["default"].content.left ], O = [ 0, _["default"].fadeAreaTop.height, 0, SpartaGlobals.bundleIsPC ? _["default"].dangerZoneSize.height : _["default"].fadeAreaBottom.height ], R = {
templateStyle: p({
position: "absolute"
}, _["default"].screen.style),
headerColumn: {
position: "absolute",
top: _["default"].tabs.top,
left: _["default"].tabs.left,
width: _["default"].tabs.width,
height: _["default"].tabs.height + _["default"].fadeAreaTop.height,
zOffset: 1
},
aboveContent: SpartaGlobals.bundleIsPC ? {
position: "absolute",
top: _["default"].tabs.top,
left: _["default"].tabs.left,
width: _["default"].tabs.width,
height: _["default"].tabs.height + _["default"].fadeAreaTop.height
} : {
position: "absolute",
left: 0,
right: 0,
height: _["default"].tallContent.height,
top: -_["default"].tallContent.height,
paddingBottom: 4 * y["default"].GUTTER,
justifyContent: "flex-end"
},
headerRow: {
flexDirection: "row",
alignItems: "flex-end"
},
contentWrapper: {
position: "absolute",
top: _["default"].content.top,
left: _["default"].content.left,
height: _["default"].content.height,
width: _["default"].safeZone.width
},
divider: {
position: "absolute",
bottom: _["default"].fadeAreaTop.height - y["default"].GUTTER,
left: 0,
right: 0
}
}, k = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: "header",
ref: null,
props: {
style: p({
position: "absolute"
}, _["default"].header.style, {
backgroundColor: "#FF660055"
})
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: "tabs",
ref: null,
props: {
style: p({
position: "absolute"
}, _["default"].tabs.style, {
backgroundColor: "#FF660055"
})
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: "fadearea",
ref: null,
props: {
style: p({
position: "absolute"
}, _["default"].fadeAreaTop.style, {
backgroundColor: "#00800055"
})
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: "content",
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: "tallearea",
ref: null,
props: {
style: {
width: _["default"].content.width,
height: _["default"].tallContent.height,
backgroundColor: "#3366FF55"
}
},
_owner: null
},
style: p({
position: "absolute"
}, _["default"].content.style, {
backgroundColor: "#3366FF55"
})
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: "fadeareabottom",
ref: null,
props: {
style: p({
position: "absolute"
}, _["default"].fadeAreaBottom.style, {
backgroundColor: "#00800055"
})
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: "footer",
ref: null,
props: {
style: p({
position: "absolute"
}, _["default"].footer.style, {
backgroundColor: "#FF660055"
})
},
_owner: null
} ]
},
_owner: null
}, x = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.scrollTo = function s(e, t) {
this.refs.scroller && this.refs.scroller.scrollTo(e, t);
}, t.prototype.tiltTo = function l(e, t) {
SpartaGlobals.bundleIsConsole && this.refs.tilter && this.refs.tilter.tiltTo(e, t);
}, t.prototype.renderHeader = function u() {
if (this.props.header) {
var e = this.props.showDivider ? {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
style: R.divider
}),
_owner: null
} : null;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.header,
style: R.headerRow
},
_owner: null
}, e ],
style: R.headerColumn
},
_owner: null
};
}
}, t.prototype.renderAboveContent = function p() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.aboveContent,
style: R.aboveContent
},
_owner: null
};
}, t.prototype.renderTilter = function f() {
return d["default"].createElement(T["default"], {
ref: "tilter"
}, SpartaGlobals.bundleIsConsole && this.renderAboveContent(), this.props.children);
}, t.prototype.render = function h() {
var e = this.props.tallContent ? 0 : _["default"].tallContent.height, t = {
contentWrapper: {
paddingTop: e
}
}, n = this.props.wideContent && SpartaGlobals.bundleIsPC ? _["default"].safeZone.width : _["default"].content.width, o = _["default"].content.height, a = "auto";
return this.props.globalScrollListener && (a = !0), this.props.noScrollListener && (a = !1), 
{
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.props.debugGrid ? k : null, this.renderHeader(), SpartaGlobals.bundleIsPC && this.renderAboveContent(), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: d["default"].createElement("surface", {
ref: "focusable",
style: {
flex: 1
}
}, this.props.scrollContent ? d["default"].createElement(g.Scroller, {
ref: "scroller",
style: {
width: n,
height: o
},
controller: a,
clipMargin: P,
softClip: O,
focus: this.props.scrollToFocus,
scrollbar: this.props.verticalIndicator ? "auto" : !1
}, this.renderTilter()) : {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
children: this.renderTilter(),
width: n,
height: o,
clipContent: this.props.clipContent,
clipPadding: P,
softClip: O
}),
_owner: null
}),
style: [ R.contentWrapper, t.contentWrapper ]
},
_owner: null
} ],
style: R.templateStyle
},
_owner: null
};
};
var n = t;
return t = i("_$Template")(t) || t;
}(d["default"].Component);
t["default"] = x, x.contextTypes = {
viewComponentState: d["default"].PropTypes.instanceOf(I.ViewComponentState)
}, x.defaultProps = {
tallContent: SpartaGlobals.bundleIsPC,
scrollContent: SpartaGlobals.bundleIsPC,
scrollToFocus: SpartaGlobals.bundleIsConsole,
clipContent: !1,
showScrollAction: !1,
debugGrid: !1,
wideContent: !1,
verticalIndicator: SpartaGlobals.bundleIsPC,
useAbsoluteScrollBounds: !1
}, x.propTypes = {
debugGrid: d["default"].PropTypes.bool,
tallContent: d["default"].PropTypes.bool,
scrollContent: d["default"].PropTypes.bool,
scrollToFocus: d["default"].PropTypes.bool,
showDivider: d["default"].PropTypes.bool
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e instanceof o.Store) {
for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; t > r; r++) n[r - 1] = arguments[r];
return e.scope.apply(e, n);
}
throw new Error("scopedStore requires Miniflux Stores");
}
var o = n(51);
e.exports = r;
}, function(e, t, n) {
var r = n(15), o = {
setComponentVisibility: r.createAction(),
setComponentVisibilities: r.createAction(),
hideComponent: r.createAction(),
showComponent: r.createAction(),
focusComponent: r.createAction(),
addRouteConfig: r.createAction({
sync: !0
}),
removeRouteConfig: r.createAction({
sync: !0
}),
replaceRouteConfig: r.createAction({
sync: !0
}),
focusPreviousComponent: r.createAction(),
handleBlackFadeStart: r.createAction(),
handleBlackFadeDone: r.createAction(),
handleStartScreenClosed: r.createAction(),
handleErrorPopupDismissed: r.createAction()
};
e.exports = o;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? !1 : arguments[0];
return e ? f.localeState.originalLocale === h["default"].ARABIC : f.localeState.displayLocale === h["default"].ARABIC;
}
function a(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1];
return e && !o(t) ? e : e.reverse();
}
function i(e) {
return o() && e && (e.textLetterSpacing = 0), e;
}
function s() {
return f.localeState.displayLocale === h["default"].JAPANESE;
}
function l() {
return f.localeState.displayLocale === h["default"].ITALIAN;
}
function u() {
return f.localeState.displayLocale === h["default"].CHINESE;
}
function c() {
return f.localeState.displayLocale === h["default"].RUSSIAN;
}
function p() {
return f.localeState.displayLocale === h["default"].FRENCH;
}
t.__esModule = !0, t.isRTLLanguage = o, t.localeRearrange = a, t.localeLetterSpacing = i, 
t.isJapaneseLanguage = s, t.isItalianLanguage = l, t.isTradChineseLanguage = u, 
t.isRussianLanguage = c, t.isFrenchLanguage = p;
var f = n(58), d = n(103), h = r(d);
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function r(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
return function(t) {
return j(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function s(e, t, n) {
var r = arguments.length <= 3 || void 0 === arguments[3] ? 500 : arguments[3];
return new T["default"]({
label: n ? n : K.confirm(),
key: t,
blockInputFor: r,
action: e
});
}
function l(e, t, n, r, o) {
return G.localeRearrange([ s(e, P["default"].Accept, n ? n : K.confirm(), o), s(t, P["default"].Decline, r ? r : K.deny()) ], !0);
}
function u(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? {} : arguments[2];
return new Promise(function(r, a) {
E["default"].display(new C["default"]({
content: {
$$typeof: m,
type: W,
key: null,
ref: null,
props: o(W.defaultProps, {
message: e,
title: t
}),
_owner: null
},
inputs: [ s(r, P["default"].Accept, K.confirm()) ],
createButtons: !0,
priority: n.priority,
stackable: n.stackable
}));
});
}
function c(e, t, n) {
var r = arguments.length <= 3 || void 0 === arguments[3] ? null : arguments[3];
return new Promise(function(a, i) {
var l = r ? {
id: r
} : {}, u = [];
n.useConfirmInput && u.push(s(a, P["default"].Accept, K.confirm())), n.customInput && u.push(s(n.customInput.action, n.customInput.key, n.customInput.label)), 
E["default"].display(new C["default"](b({
content: {
$$typeof: m,
type: W,
key: null,
ref: null,
props: o(W.defaultProps, {
message: e,
title: t
}),
_owner: null
},
inputs: u,
createButtons: !0
}, l)));
});
}
function p(e, t, n, r) {
var a = arguments.length <= 4 || void 0 === arguments[4] ? !1 : arguments[4];
return new Promise(function(i, l) {
E["default"].display(new C["default"]({
content: {
$$typeof: m,
type: W,
key: null,
ref: null,
props: o(W.defaultProps, {
message: e,
title: t,
image: n,
switchTitleAndImage: a
}),
_owner: null
},
inputs: [ s(i, P["default"].Accept, K.confirm()), s(r.action, r.key, r.label) ],
createButtons: !0
}));
});
}
function f(e, t) {
return new Promise(function(n, r) {
E["default"].display(new C["default"]({
content: {
$$typeof: m,
type: q,
key: null,
ref: null,
props: o(q.defaultProps, {
message: e,
subMessage: t
}),
_owner: null
},
inputs: [ s(n, P["default"].Accept, K["continue"]()) ],
createButtons: !0
}));
});
}
function d(e, t, n, r) {
var a = arguments.length <= 4 || void 0 === arguments[4] ? null : arguments[4], i = arguments.length <= 5 || void 0 === arguments[5] ? {} : arguments[5];
return new Promise(function(s, u) {
var c = a ? {
id: a
} : {}, p = i.blockInputFor ? i.blockInputFor : 500;
E["default"].display(new C["default"](b({
content: {
$$typeof: m,
type: W,
key: null,
ref: null,
props: o(W.defaultProps, {
message: e,
title: t
}),
_owner: null
},
inputs: l(s, u, n, r, p),
createButtons: !0,
priority: i.priority,
stackable: i.stackable
}, c)));
});
}
function h(e, t, n, r) {
return new Promise(function(a, i) {
E["default"].display(new C["default"]({
id: "prompt",
content: {
$$typeof: m,
type: X,
key: null,
ref: null,
props: o(X.defaultProps, {
title: e,
minLength: t,
maxLength: n,
inputType: r.inputType,
defaultMessage: r.message,
onTypingValidate: r.onTypingValidate,
onOkValidate: r.onOkValidate,
onOk: a,
onCancel: i
}),
_owner: null
}
}));
});
}
var y = n(4), g = i(y);
t.__esModule = !0;
var m = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, b = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
};
t.alert = u, t.alertWithOption = c, t.alertWithImageAndOption = p, t.alertWithCenteredContent = f, 
t.confirm = d, t.prompt = h;
var v = n(1), _ = i(v), S = n(13), T = i(S), w = n(25), E = i(w), I = n(42), C = i(I), A = n(12), P = i(A), O = n(6), R = i(O), k = n(7), x = n(22), M = i(x), N = n(160), D = i(N), U = n(8), L = n(19), $ = i(L), G = n(30), F = n(58), B = {
_$PromptContent: {
displayName: "PromptContent"
}
}, j = g["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/popups/StandardPopups.js",
components: B,
locals: [],
imports: []
}), H = {
container: {
flex: 1,
justifyContent: "center",
alignItems: "center"
},
header: {
marginBottom: 2 * R["default"].GUTTER
},
message: {
marginTop: R["default"].getHeight(1),
marginBottom: R["default"].getHeight(3),
flex: 1
},
subMessage: {
color: "#cccccc",
marginTop: R["default"].getHeight(2)
},
messageCentered: {
textAlign: "center",
alignSelf: "stretch"
},
image: {
textureMode: "contain",
height: R["default"].getHeight(36),
width: R["default"].getWidth(36),
marginBottom: 4 * R["default"].GUTTER
},
input: {
zOffset: 2,
marginTop: R["default"].GUTTER,
width: R["default"].getWidth(8.5),
height: R["default"].getHeight(6),
marginBottom: R["default"].GUTTER
},
buttonContainer: {
flexDirection: "column",
width: R["default"].getWidth(6),
alignSelf: "center",
marginTop: 2 * R["default"].GUTTER
},
button: {
width: R["default"].getWidth(6),
marginBottom: R["default"].GUTTER
}
}, V = SpartaGlobals.bundleIsPC ? "M" : "L", z = SpartaGlobals.bundleIsPC ? "S" : "M", W = function Y(e, t) {
var n = null, r = H.header, a = b({}, H.message);
if (G.isRTLLanguage() && (a.width = R["default"].getWidth(14), a.textAlignForRTL = "center"), 
F.localeState.needsFallback) n = $["default"].getHostingGame().gameId; else if (t.fonts) r.fontFamily = t.fonts.normal.name, 
a.fontFamily = t.fonts.normal.name; else {
var i = U.layoutStateStore.current;
n = i && i.config && i.config.gameId ? U.layoutStateStore.current.config.gameId : $["default"].getHostingGame().gameId;
}
var s = [];
return e.title && s.push({
$$typeof: m,
type: k.Text,
key: null,
ref: null,
props: o(k.Text.defaultProps, {
value: e.title.toUpperCase(),
size: V,
style: r,
section: n
}),
_owner: null
}), e.image && s.push({
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
style: b({
texture: e.image
}, H.image)
},
_owner: null
}), e.switchTitleAndImage && (s = s.reverse()), {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: [ s, {
$$typeof: m,
type: k.Text,
key: null,
ref: null,
props: o(k.Text.defaultProps, {
value: e.message,
style: a,
size: z,
section: n
}),
_owner: null
} ],
style: H.container
},
_owner: null
};
};
W.propTypes = {
title: _["default"].PropTypes.string,
message: _["default"].PropTypes.string.isRequired
};
var q = function J(e, t) {
var n = null, r = b({}, H.message);
if (G.isRTLLanguage() && (r.width = R["default"].getWidth(14), r.textAlignForRTL = "center"), 
t.fonts) r.fontFamily = t.fonts.normal.name; else {
var a = U.layoutStateStore.current;
n = a && a.config && a.config.gameId ? U.layoutStateStore.current.config.gameId : $["default"].getHostingGame().gameId;
}
return {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: m,
type: k.Text,
key: null,
ref: null,
props: o(k.Text.defaultProps, {
value: e.message,
style: [ r, H.messageCentered ],
size: "M",
section: n
}),
_owner: null
}, e.subMessage && {
$$typeof: m,
type: k.Text,
key: null,
ref: null,
props: o(k.Text.defaultProps, {
value: e.subMessage,
style: [ r, H.messageCentered, H.subMessage ],
size: "S",
section: n
}),
_owner: null
} ],
style: H.container
},
_owner: null
};
};
q.propTypes = {
message: _["default"].PropTypes.string.isRequired
};
var K = {
confirm: function Q() {
return __("ID_SPARTA_ACTION_OK", !0);
},
deny: function Z() {
return __("ID_SPARTA_ACTION_CANCEL", !0);
},
"continue": function ee() {
return __("ID_SPARTA_ACTION_CONTINUE", !0);
}
}, X = function(t) {
function n(n) {
e(this, i), t.call(this, n), this.state = {
isValid: !0,
validationMessage: null
};
}
r(n, t), n.prototype.getInput = function l() {
return [ s(this.onCancel.bind(this), P["default"].Decline, K.deny()) ];
}, n.prototype.onOk = function u() {
this.props.onOk(this.refs.inputField.state.value), E["default"].close(this.props.popupInfo.id);
}, n.prototype.onOkClicked = function c() {
var e = this;
this.props.onOkValidate ? this.props.onOkValidate(this.refs.inputField.state.value).then(function() {
return e.onOk();
})["catch"](function(t) {
console.error(t), e.setState({
isValid: !1,
validationMessage: t
});
}) : this.onOk();
}, n.prototype.onCancel = function p() {
E["default"].close(this.props.popupInfo.id), this.props.onCancel();
}, n.prototype.onTypingInput = function f(e) {
if (!SpartaGlobals.bundleIsConsole) {
var t = this.isTypingValid(e);
this.state.isValid !== t && this.setState({
isValid: t
});
}
}, n.prototype.isTypingValid = function d(e) {
var t = this.props, n = t.minLength, r = t.maxLength, o = t.onTypingValidate, a = e.trim(), i = a.length >= n && a.length <= r;
return i && o ? o(a) : i;
}, n.prototype.toggleEdit = function h() {
this.refs.inputField.showVirtualKeyboard();
}, n.prototype.renderButtons = function y() {
return {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: m,
type: M["default"],
key: null,
ref: null,
props: o(M["default"].defaultProps, {
text: K.confirm(),
style: H.button,
action: this.onOkClicked.bind(this),
disabled: !this.state.isValid && SpartaGlobals.bundleIsPC
}),
_owner: null
}, SpartaGlobals.bundleIsPC ? {
$$typeof: m,
type: M["default"],
key: null,
ref: null,
props: o(M["default"].defaultProps, {
text: K.deny(),
style: H.button,
action: this.onCancel.bind(this)
}),
_owner: null
} : null ],
style: H.buttonContainer
},
_owner: null
};
}, n.prototype.render = function g() {
var e = this, t = this.renderButtons(), n = null, r = U.layoutStateStore.current;
return n = r && r.config ? r.config.gameId || "generic" : $["default"].getHostingGame().gameId, 
{
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.props.title ? {
$$typeof: m,
type: k.Text,
key: null,
ref: null,
props: o(k.Text.defaultProps, {
value: this.props.title.toUpperCase(),
size: V,
style: H.header,
section: n
}),
_owner: null
} : null, {
$$typeof: m,
type: k.Text,
key: null,
ref: null,
props: o(k.Text.defaultProps, {
value: this.state.validationMessage || this.props.defaultMessage,
size: z,
section: n,
style: {
marginBottom: R["default"].GUTTER
}
}),
_owner: null
}, _["default"].createElement(D["default"], {
key: "field",
ref: "inputField",
title: this.props.title || "",
description: this.props.title || "",
style: H.input,
section: n,
type: this.props.inputType,
maxLength: this.props.maxLength,
isInvalid: !this.state.isValid,
onValueChanged: function(t) {
return e.onTypingInput(t);
},
deactivateOnBlur: !1,
editKey: P["default"].Accept
}), t ],
style: H.container
},
_owner: null
};
};
var i = n;
return n = a("_$PromptContent")(n) || n;
}(_["default"].Component);
X.defaultProps = {
defaultMessage: ""
}, X.propTypes = {
title: _["default"].PropTypes.string.isRequired,
minLength: _["default"].PropTypes.number.isRequired,
maxLength: _["default"].PropTypes.number.isRequired,
inputType: _["default"].PropTypes.string,
defaultMesage: _["default"].PropTypes.string,
onTypingValidate: _["default"].PropTypes.func,
onOkValidate: _["default"].PropTypes.func,
onOk: _["default"].PropTypes.func,
onCancel: _["default"].PropTypes.func
};
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = function(e, t, n, r, o, a, i, s) {
if (!e) {
var l;
if (void 0 === t) l = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."); else {
var u = [ n, r, o, a, i, s ], c = 0;
l = new Error("Invariant Violation: " + t.replace(/%s/g, function() {
return u[c++];
}));
}
throw l.framesToPop = 1, l;
}
};
e.exports = r;
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t, n) {
void 0 === n && (n = 5);
var r = Math.abs(e - t);
return n >= r;
}
function r(e) {
var t = [];
e.forEach(function(e) {
var n = e.getBackingSurfaceId();
n && t.push(n);
});
var n = u.getMultipleBoundsSync(t), r = Number.MAX_VALUE, o = Number.MAX_VALUE, a = -Number.MAX_VALUE, i = -Number.MAX_VALUE;
for (var s in n) if (n.hasOwnProperty(s)) {
var l = u.Bounds.fromRaw(n[s]);
l.left < r && (r = l.left), l.top < o && (o = l.top), l.right > a && (a = l.right), 
l.bottom > i && (i = l.bottom);
}
return new u.Bounds(r, o, a - r, i - o);
}
function o(e) {
return [ e[1], e[2], e[3], e[0] ];
}
var a = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, i = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, s = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, l = n(1), u = n(3), c = n(10), p = n(9), f = n(16), d = n(12), h = n(13), y = n(6), g = n(20), m = function() {
function e(e, t) {
void 0 === e && (e = 0), void 0 === t && (t = 0), this.localX = e, this.localY = t;
}
return Object.defineProperty(e.prototype, "x", {
get: function() {
return this.localX;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "y", {
get: function() {
return this.localY;
},
enumerable: !0,
configurable: !0
}), e;
}(), b = function() {
function e() {
this.scrollOffset = new m(), this.containerBounds = new u.Bounds(), this.contentBounds = new u.Bounds(), 
this.isHovered = !1, this.focusAncestor = u.focus.createAncestor(u.autoId("scrollcontainer")), 
this.scrolledOnOldBoundsY = 0;
}
return Object.defineProperty(e.prototype, "canScrollUp", {
get: function() {
return this.scrollOffset.y > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canScrollLeft", {
get: function() {
return this.scrollOffset.x > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canScrollDown", {
get: function() {
return this.scrollOffset.y < this.maxScrollOffset.y;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canScrollRight", {
get: function() {
return this.scrollOffset.x < this.maxScrollOffset.x;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canScroll", {
get: function() {
return this.contentBounds.width > this.containerBounds.width || this.contentBounds.height > this.containerBounds.height;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "maxScrollOffset", {
get: function() {
return new m(Math.max(this.contentBounds.width - this.containerBounds.width, 0), Math.max(this.contentBounds.height - this.containerBounds.height, 0));
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "viewportBounds", {
get: function() {
return new u.Bounds(this.scrollOffset.x, this.scrollOffset.y, this.containerBounds.width, this.containerBounds.height);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "scrollbarOffset", {
get: function() {
var e = this.scrollOffset.y / this.contentBounds.height;
return new m(0, e * this.containerBounds.height);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "scrollbarHeight", {
get: function() {
var e = this.containerBounds.height / this.contentBounds.height;
return e * this.containerBounds.height;
},
enumerable: !0,
configurable: !0
}), e.prototype.scrollInDirection = function(e, t, n) {
void 0 === n && (n = 100);
var r = this.scrollOffset.x + e * n, o = this.scrollOffset.y + t * n;
this.setScrollOffset(r, o);
}, e.prototype.scrollToBounds = function(e) {
var t = this.viewportBounds, n = 0, r = 0;
e.top < t.top ? n = e.top - t.top : e.bottom > t.bottom && (n = e.bottom - t.bottom), 
e.left < t.left ? r = e.left - t.left : e.right > t.right && (r = e.right - t.right), 
this.setScrollOffset(this.scrollOffset.x + r, this.scrollOffset.y + n + this.scrolledOnOldBoundsY), 
this.scrolledOnOldBoundsY = -n;
}, e.prototype.setScrollOffset = function(e, t) {
var n = Math.max(Math.min(e, this.maxScrollOffset.x), 0), r = Math.max(Math.min(t, this.maxScrollOffset.y), 0);
(this.scrollOffset.x !== n || this.scrollOffset.y !== r) && (this.scrollOffset = new m(n, r));
}, e.prototype.setContainerBounds = function(e) {
e.equals(this.containerBounds, !1) || (this.containerBounds = e);
}, e.prototype.setContentBounds = function(e) {
e.equals(this.contentBounds, !1) || (this.contentBounds = e, this.scrolledOnOldBoundsY = 0);
}, e.prototype.setHovered = function(e) {
this.isHovered = e;
}, e.prototype.getLocalBounds = function(e) {
return e.offset(this.containerBounds.x - this.scrollOffset.x, this.containerBounds.y - this.scrollOffset.y);
}, Object.defineProperty(e.prototype, "smartSoftClipModifier", {
get: function() {
if (!this.canScroll) return [ 0, 0, 0, 0 ];
var e = this.scrollOffset, t = this.maxScrollOffset, n = [ 1, 1, 1, 1 ];
return 0 === e.x ? n[0] = 0 : e.x === t.x && (n[2] = 0), 0 === e.y ? n[1] = 0 : e.y === t.y && (n[3] = 0), 
n;
},
enumerable: !0,
configurable: !0
}), e;
}();
s([ p.observable ], b.prototype, "scrollOffset", void 0), s([ p.observable ], b.prototype, "containerBounds", void 0), 
s([ p.observable ], b.prototype, "contentBounds", void 0), s([ p.observable ], b.prototype, "isHovered", void 0), 
s([ p.computed ], b.prototype, "canScrollUp", null), s([ p.computed ], b.prototype, "canScrollLeft", null), 
s([ p.computed ], b.prototype, "canScrollDown", null), s([ p.computed ], b.prototype, "canScrollRight", null), 
s([ p.computed ], b.prototype, "canScroll", null), s([ p.computed ], b.prototype, "maxScrollOffset", null), 
s([ p.computed ], b.prototype, "viewportBounds", null), s([ p.computed ], b.prototype, "scrollbarOffset", null), 
s([ p.computed ], b.prototype, "scrollbarHeight", null), s([ p.action ], b.prototype, "scrollInDirection", null), 
s([ p.action ], b.prototype, "scrollToBounds", null), s([ p.action ], b.prototype, "setScrollOffset", null), 
s([ p.action ], b.prototype, "setContainerBounds", null), s([ p.action ], b.prototype, "setContentBounds", null), 
s([ p.action ], b.prototype, "setHovered", null), s([ p.computed ], b.prototype, "smartSoftClipModifier", null), 
t.ScrollerState = b;
var v = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.scrollerState = e.scrollerState || new b(), n.scrollerState.focusAncestor = u.focus.createAncestor(u.autoId("scrollcontainer")), 
n.cancelOnFocusChildChanged = n.scrollerState.focusAncestor.onFocusChildChanged.listen(function(e) {
return n.onFocusChildChanged(e);
}), n.cancelBoundingBoxReaction = p.reaction(function() {
return n.scrollerState.focusAncestor.children.filter(function(e) {
return e.bounds;
}).length;
}, function() {
return n.updateContentBounds(n.scrollerState.contentBounds);
}), n;
}
return a(n, t), n.prototype.componentWillUnmount = function() {
this.cancelOnFocusChildChanged(), this.cancelBoundingBoxReaction(), this.scrollerState.focusAncestor.destroy();
}, n.prototype.getInput = function() {
var e = this, t = this.scrollerState.canScrollUp || this.scrollerState.canScrollDown, n = t && u.focus.system.controllerMode;
return n && ("auto" === this.props.controller ? n = this.scrollerState.focusAncestor.hasFocusedChild : this.props.controller || (n = !1)), 
n ? [ new h({
action: function() {
return e.scrollInDirection(0, -1);
},
key: d.ScrollUp,
visible: !1
}), new h({
action: function() {
return e.scrollInDirection(0, 1);
},
key: d.ScrollDown,
label: __("ID_SPARTA_ACTION_SCROLL")
}) ] : void 0;
}, n.prototype.getNearestEdgeVector = function(t) {
var n = r(this.scrollerState.focusAncestor.children);
if (e(t.left, n.left) && this.scrollerState.canScrollLeft) return new m(0, this.scrollerState.scrollOffset.y);
if (e(t.right, n.right) && this.scrollerState.canScrollRight) return new m(this.scrollerState.maxScrollOffset.x, this.scrollerState.scrollOffset.y);
if (e(t.top, n.top) && this.scrollerState.canScrollUp) return new m(this.scrollerState.scrollOffset.x, 0);
if (e(t.bottom, n.bottom) && this.scrollerState.canScrollDown) {
var o = this.props.noVerticalScroll ? 0 : this.scrollerState.maxScrollOffset.y;
return new m(this.scrollerState.scrollOffset.x, o);
}
}, n.prototype.componentDidUpdateBounds = function(e) {
this.scrollerState.setContainerBounds(e);
}, n.prototype.shouldScrollToFocus = function() {
if (u.focus.system.lastFocusSource === u.focus.FocusSource.Auto) return !1;
var e = void 0 !== this.props.focus ? this.props.focus : u.focus.system.controllerMode;
return e === !0 || "key" === e && u.focus.system.lastFocusSource === u.focus.FocusSource.Spatial;
}, n.prototype.updateContentBounds = function(e) {
var t = r(this.scrollerState.focusAncestor.children);
t.width > e.width && (e = new u.Bounds(e.x, e.y, t.width, e.height, e.localX, e.localY)), 
this.scrollerState.setContentBounds(e);
}, n.prototype.onFocusChildChanged = function(e) {
if (e && this.shouldScrollToFocus()) {
var t = e.getBounds();
if (!t) return;
var n = this.getNearestEdgeVector(t);
n ? this.scrollTo(n.x, n.y) : this.scrollToBounds(t);
}
}, n.prototype.onMouseScroll = function(e) {
this.scrollInDirection(0, e.scroll > 0 ? -1 : 1), this.props.onMouseScroll && this.props.onMouseScroll(e);
}, n.prototype.scrollInDirection = function(e, t) {
this.scrollerState.scrollInDirection(e, t);
}, n.prototype.scrollToElement = function(e) {
this.scrollerState.scrollToBounds(this.scrollerState.getLocalBounds(e.bounds));
}, n.prototype.scrollToBounds = function(e) {
this.scrollerState.scrollToBounds(this.scrollerState.getLocalBounds(e));
}, n.prototype.scrollTo = function(e, t) {
this.scrollerState.setScrollOffset(e, t);
}, n.prototype.render = function() {
var e = this;
return l.createElement("surface", {
key: "scroller",
style: this.props.style
}, l.createElement(T, {
clipMargin: this.props.clipMargin,
softClip: this.props.softClip,
scrollerState: this.scrollerState,
onMouseScroll: this.onMouseScroll.bind(this),
onMouseEnter: function() {
return e.scrollerState.setHovered(!0);
},
onMouseLeave: function() {
return e.scrollerState.setHovered(!1);
}
}, l.createElement(_, {
shouldTween: function() {
return void 0 !== e.props.tween ? e.props.tween : u.focus.system.controllerMode;
},
onBoundsChanged: function(t) {
return e.updateContentBounds(t);
},
scrollerState: this.scrollerState
}, this.props.children)), l.createElement(S, {
scrollerState: this.scrollerState,
position: this.props.scrollbarPosition,
enabled: this.props.scrollbar
}), this.props.overlay);
}, n;
}(l.Component);
v.defaultProps = {
controller: "auto",
scrollbar: "auto",
scrollbarPosition: "outside",
noVerticalScroll: !1
}, v = s([ g(), c.observer, u.hasSurfaceBounds() ], v), t.Scroller = v;
var _ = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.translateX = f.Animation.tween("44db0545:479", 0, f.Animation.presets.list.scroll), 
n.translateY = f.Animation.tween("44db0545:480", 0, f.Animation.presets.list.scroll), 
n.offsetSubscription = p.reaction(function() {
return n.props.scrollerState.scrollOffset;
}, function(e) {
return n.updateTweens(e);
}), n;
}
return a(t, e), t.prototype.componentWillUnmount = function() {
this.translateX.destroy(), this.translateY.destroy(), this.offsetSubscription();
}, t.prototype.componentDidUpdateBounds = function(e) {
this.props.onBoundsChanged(e);
}, t.prototype.updateTweens = function(e) {
this.props.shouldTween() ? (this.translateX.to(-e.x), this.translateY.to(-e.y)) : (this.translateX.set(-e.x), 
this.translateY.set(-e.y));
}, t.prototype.render = function() {
var e = {
translateX: this.translateX.getStyle(),
translateY: this.translateY.getStyle()
};
return l.createElement("surface", i({
key: "tilter",
style: e
}, this.props.scrollerState.focusAncestor.hooks), this.props.children);
}, t;
}(l.Component);
_ = s([ u.hasSurfaceBounds() ], _);
var S = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), Object.defineProperty(t.prototype, "visible", {
get: function() {
return this.props.scrollerState.canScrollUp || this.props.scrollerState.canScrollDown ? "auto" === this.props.enabled ? this.props.scrollerState.focusAncestor.hasFocusedChild || this.props.scrollerState.isHovered : this.props.enabled === !0 : !1;
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = 2, t = {
position: "absolute",
top: 0,
bottom: 0,
right: "outside" === this.props.position ? -y.GUTTER : 0,
width: e,
opacity: f.Animation.tweenSwitch(0, 1, this.visible)
}, n = {
position: "absolute",
top: 0,
right: 0,
left: 0,
height: this.props.scrollerState.scrollbarHeight,
translateY: this.props.scrollerState.scrollbarOffset.y,
backgroundColor: "#ffffffa6"
};
return l.createElement("surface", {
key: "scrollbar",
style: t
}, l.createElement("surface", {
style: n
}));
}, t;
}(l.Component);
s([ p.computed ], S.prototype, "visible", null), S = s([ c.observer ], S);
var T = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.softClipTween = f.Animation.tween("44db0545:588", [ 0, 0, 0, 0 ]), t;
}
return a(t, e), t.prototype.componentWillMount = function() {
var e = this;
this.disposeReaction = p.reaction(function() {
return e.props.scrollerState.smartSoftClipModifier;
}, function() {
return e.updateSoftClip();
}, !0);
}, t.prototype.componentDidUpdate = function() {
this.updateSoftClip();
}, t.prototype.componentWillUnmount = function() {
this.disposeReaction();
}, t.prototype.updateSoftClip = function() {
var e = this.props.softClip || [ 0, 0, 0, 0 ], t = this.props.scrollerState.smartSoftClipModifier.map(function(t, n) {
return t * e[n];
});
this.softClipTween.to(o(t));
}, t.prototype.render = function() {
var e = {
flex: 1,
flexDirection: "row",
layer: !0,
layerClip: !0,
layerSoftClip: this.softClipTween.getStyle()
};
return this.props.clipMargin && (e.margin = this.props.clipMargin.map(function(e) {
return -e;
}), e.padding = this.props.clipMargin), l.createElement("surface", {
key: "clipper",
style: e,
onMouseScroll: this.props.onMouseScroll,
onMouseEnter: this.props.onMouseEnter,
onMouseLeave: this.props.onMouseLeave
}, l.createElement("surface", {
style: {
flex: 1
}
}, this.props.children));
}, t;
}(l.Component);
T = s([ c.observer ], T);
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = n(699), i = r(a), s = n(124);
t["default"] = {
setServerQuery: o.createAction(),
setCampaignLevels: o.createAction(),
getCampaignEpisodes: o.createAction(),
getTrackableMedals: o.createAction(),
setTrackableMedals: o.createAction(),
setTrackedMedal: o.createAction(),
gameShowOptions: o.createAction(),
gameShowCredits: o.createAction(),
joinGame: o.createAction(),
enterOperations: o.createAction(),
enterCampaign: o.createAction(),
quitCampaign: o.createAction(),
fetchEorData: o.createAction(),
updateUnrankedEorData: o.createAction(),
setFallbackEorMapName: o.createAction(),
clearEorData: o.createAction(),
updateEorData: o.createAction(),
endOfRoundCountdownCompleted: o.createAction(),
changeGameViewContentVisibility: o.createAction(),
showLoadout: o.createAction(),
buyBattlepack: o.createAction(),
buyBattlepackForScraps: o.createAction(),
viewBattlepack: o.createAction(),
openBattlepack: o.createAction(),
viewBlueprint: o.createAction(),
claimBlueprint: o.createAction(),
scrapItem: o.createAction(),
showCodex: o.createAction(),
showReportEmblemFromGame: o.createAction(),
receivedPlayerList: s.frostbiteListenable("tunguska.getPlayerListResponse"),
getPlayerList: i["default"]("tunguska.getPlayerList")
}, e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15);
t["default"] = {
setGameServer: r.createAction(),
setGameServerRole: r.createAction(),
setSinglePlayer: r.createAction(),
updateGameState: r.createAction(),
setGameServerQueue: r.createAction(),
resetGameServerQueue: r.createAction(),
stopGame: r.createAction(),
joinServer: r.createAction(),
joinFriend: r.createAction(),
joinMatchmakingResult: r.createAction(),
handleJoinReady: r.createAction(),
handleQueueStatusUpdate: r.createAction(),
refreshInstalledGames: r.createAction(),
setInstalledExpansions: r.createAction(),
joinedServer: r.createAction(),
leftServer: r.createAction(),
sendServerInvite: r.createAction(),
activateEor: r.createAction(),
enterSpecificGameMode: r.createAction(),
setDelayedGameInvite: r.createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, s = n(51), l = n(19), u = r(l), c = n(56), p = r(c), f = n(283), d = r(f), h = n(35), y = r(h), g = n(182), m = r(g), b = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, new d["default"]()), y["default"].setGameServerRole.listen(function(e) {
n.setState(new d["default"](i({}, n.getState(), {
role: e
})));
}), y["default"].setGameServer.listen(function(e) {
n.setState(new d["default"](i({}, n.getState(), {
server: e
})));
}), y["default"].resetGameServerQueue.listen(function() {
n.extendQueueState({
queue: new m["default"]()
});
}), y["default"].setGameServerQueue.listen(function(e) {
n.extendQueueState(e);
}), y["default"].setDelayedGameInvite.listen(function(e) {
n.setState(new d["default"](i({}, n.getState(), {
delayedGameInvite: e
})));
}), y["default"].handleQueueStatusUpdate.listen(function(e) {
var t = e.gameId, r = e.queueStatus, o = n.getState(), a = o.queue;
if (!a.blazeGameId || a.blazeGameId === t) {
var i = null !== r.position ? parseInt(r.position, 10) : null;
n.extendQueueState({
blazeGameId: t,
position: i
});
}
}), y["default"].leftServer.listen(function() {
n.setState(new d["default"](i({}, n.getState(), {
server: null,
role: null
})));
}), y["default"].setSinglePlayer.listen(function(e) {
n.setState(new d["default"](i({}, n.getState(), {
isSingleplayer: e,
isMultiplayer: !e
})));
}), y["default"].updateGameState.listen(function(e) {
var t = e.navigationState, r = e;
if (t) if (t === p["default"].FrontEnd) {
var o = n.getState();
o.queue.isPending || (r = i({}, e, {
server: null,
role: null,
isChangingServer: !1
}));
} else t === p["default"].InGameMenu && (r = i({}, e, {
isChangingServer: !1
}));
n.setState(new d["default"](i({}, n.getState(), r)));
}), u["default"].scope("hostingGameId").connect(function(e) {
n.setState(new d["default"](i({}, n.getState(), {
gameId: e
})));
});
}
return a(t, e), t.prototype.extendQueueState = function n(e) {
var t, n = this.getState(), r = n.queue;
if (r.blazeGameId !== e.blazeGameId) {
var o = e.gameId || n.gameId;
t = new m["default"](i({}, e, {
gameId: o
}));
} else t = new m["default"](i({}, r, e));
this.setState(new d["default"](i({}, n, {
queue: t
})));
}, t;
}(s.Store);
t["default"] = new b(), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
var t;
return t = SpartaGlobals.bundleIsPC ? a.hasOwnProperty(e) ? a[e] : a[o] : i.hasOwnProperty(e) ? i[e] : i[o];
}
t.__esModule = !0, t.getTextSizes = r;
var o = "default", a = {
"default": {
XXL: 42,
XL: 30,
L: 24,
M: 18,
S: 12,
XS: 10,
XXS: 8
},
"zh-tw": {
XXL: 42,
XL: 30,
L: 24,
M: 18,
S: 14,
XS: 14,
XXS: 13
}
}, i = {
"default": {
XXL: 52,
XL: 37,
L: 30,
M: 22,
S: 16,
XS: 14,
XXS: 12
},
"zh-tw": {
XXL: 52,
XL: 37,
L: 30,
M: 22,
S: 17,
XS: 17,
XXS: 17
}
}, s = {
XXL: 92,
XL: 62,
L: 42,
M: 32,
S: 22,
XS: 18,
XXS: 14
}, l = {
XXL: 100,
XL: 70,
L: 50,
M: 40,
S: 30,
XS: 25,
XXS: 20
}, u = SpartaGlobals.bundleIsPC ? s : l;
t.LINE_HEIGHTS = u;
}, function(e, t) {
"use strict";
function n(e, t) {
if (null == e) throw new TypeError("Object.assign target cannot be null or undefined");
for (var n = Object(e), r = Object.prototype.hasOwnProperty, o = 1; o < arguments.length; o++) {
var a = arguments[o];
if (null != a) {
var i = Object(a);
for (var s in i) r.call(i, s) && (n[s] = i[s]);
}
}
return n;
}
e.exports = n;
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
var t = l.getHostingGame().gameId;
if (!t) throw new Error("Cannot check hosting game before it is set!");
return t === e;
}
function r() {
return e(u.layoutStateStore.current.config.gameId);
}
function o() {
var e = l.getHostingGame().displayName();
return c(__("ID_SPARTA_RIME_NO_ACCESS", !0).replace("[[game]]", e), "");
}
function a() {
return c(__("ID_SPARTA_RIME_NO_ACCESS_JOINING", !0));
}
function i(e) {
var t = p.gameStore.getGame(e);
return t.supportedRoles && t.supportedRoles.indexOf("spectator") > -1 ? t.hasSpectatorFeatureFlag ? p.settingsStore.isFeatureEnabled("spectator") : !0 : !1;
}
function s(e) {
var t = p.gameStore.getGame(e);
return t.supportedRoles && t.supportedRoles.indexOf("commander") > -1;
}
var l = n(19), u = n(8), c = n(31).alert, p = n(8);
t.isHostingGame = e, t.routeIsHostingGame = r, t.showNotInHostingGameAlert = o, 
t.showCannotShowBecauseMatchmakingAlert = a, t.supportsSpectating = i, t.supportsCommander = s;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = n(86), o = r;
e.exports = o;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e, t) {
var n = t.resultType !== p.ConnectionResultType.success && t.resultType !== p.ConnectionResultType.none;
return n ? t.resultType : e.hasInternet ? p.ConnectionResultType.connectionFailed : p.ConnectionResultType.failure;
}
t.__esModule = !0;
var s = n(51), l = n(78), u = r(l), c = n(252), p = n(111), f = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, new c.PresenceState({
state: c.PresenceStates.disconnected,
mode: p.PresenceModeType.offline
})), u["default"].handleMessage.listen(function(e) {
var t = n.getState().props, r = t.state, o = t.mode, a = t.hasInternet, s = t.resultType, l = t.customMessage, u = t.isFirstPartyConnected, f = t.isQoSReady;
switch (e.eventType) {
case p.ConnectionEventType.modeChanged:
o = e.mode, o === p.PresenceModeType.offline && (r = c.PresenceStates.disconnected);
break;

case p.ConnectionEventType.connectionMessage:
l = e.customMessage;
break;

case p.ConnectionEventType.connecting:
r = c.PresenceStates.connecting;
break;

case p.ConnectionEventType.firstPartyConnected:
u = !0, a = !0;
break;

case p.ConnectionEventType.firstPartyDisconnected:
SpartaGlobals.bundleIsConsole && (a = !1, r = c.PresenceStates.disconnected), u = !1;
break;

case p.ConnectionEventType.connectionReady:
u = !0, a = !0, r = c.PresenceStates.ready, o = p.PresenceModeType.online, s = e.resultType;
break;

case p.ConnectionEventType.onlineFlowDone:
u = !0, a = !0, r = c.PresenceStates.ready, o = p.PresenceModeType.online;

case p.ConnectionEventType.qualityOfServiceDone:
f = !0;
break;

case p.ConnectionEventType.backendDisconnected:
case p.ConnectionEventType.connectFailed:
case p.ConnectionEventType.loginAccountFailed:
case p.ConnectionEventType.disconnected:
r = c.PresenceStates.disconnected, f = null !== e.isQoSReady ? e.isQoSReady : !1, 
s = i(n.getState().props, e);
}
n.setState(new c.PresenceState({
state: r,
mode: o,
hasInternet: a,
resultType: s,
customMessage: l,
isFirstPartyConnected: u,
isQoSReady: f
}));
});
}
return a(t, e), t;
}(s.Store);
t["default"] = new f(), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return "string" == typeof e ? {
$$typeof: s,
type: d.Text,
key: null,
ref: null,
props: a(d.Text.defaultProps, {
value: e
}),
_owner: null
} : e;
}
t.__esModule = !0;
var s = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, l = n(5), u = r(l), c = n(1), p = (r(c), 
n(757)), f = r(p), d = n(7), h = 0, y = function g() {
var e = this, t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, g), "string" == typeof t && (t = {
content: t
}), this.createdDate = new Date(), this.id = t.id || "popup" + h++, this.group = t.group || "default", 
this.content = i(t.content), this.inputs = t.inputs || [], this.createButtons = void 0 !== t.createButtons ? t.createButtons : SpartaGlobals.bundleIsPC, 
this.fullScreen = void 0 !== t.fullScreen ? t.fullScreen : !1, this.containContent = void 0 !== t.containContent ? t.containContent : !0, 
this.centerContent = void 0 !== t.centerContent ? t.centerContent : !0, this.texture = t.texture, 
this.backgroundColor = t.backgroundColor, this.requireOnline = t.requireOnline, 
this.disableBlur = t.disableBlur, this.leftAlignInputs = void 0 !== t.leftAlignInputs ? t.leftAlignInputs : !1, 
this.priority = parseInt(t.priority || 0, 10), this.stackable = void 0 !== t.stackable ? t.stackable : !1, 
this.instantShow = void 0 !== t.instantShow ? t.instantShow : !1, this.inputs = this.inputs.map(function(t) {
return new f["default"](u["default"].extend({}, t, {
popup: e
}));
});
};
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
var r = n(15);
e.exports = {
showLocalUserSelectionUI: r.createAction(),
getOnlinePrivileges: r.createAction(),
showUserProfile: r.createAction(),
setUGCAccessLevel: r.createAction(),
updateCareer: r.createAction(),
refreshCareer: r.createAction(),
onSignInChange: r.createAction(),
setOnboardingFlag: r.createAction(),
setOnboardingState: r.createAction(),
receiveOnboardingFlag: r.createAction(),
receiveOnboardingFlags: r.createAction(),
receiveOnboardingFlagsError: r.createAction(),
getOnboardingFlags: r.createAction()
};
}, function(e, t, n) {
"use strict";
var r = n(3);
t.tunguskaGameId = r.getBuildInfo().isCTE() ? "bf1cte" : "tunguska";
}, function(e, t) {
// Just adding @preserve or ! to a comment will not help to keep it when the compressor is rearranging/optimizing code.
"use strict";
function n(e) {}
t.acceptKeyword = n;
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), f = i(p), d = n(11), h = {
_$Spinner: {
displayName: "Spinner"
}
}, y = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Spinner.jsx",
components: h,
locals: [],
imports: []
}), g = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.timeout = 0, this.state = {
isRunning: this.props.autoRun
};
}
o(t, e), t.prototype.componentDidMount = function i() {
var e = this;
this.timeout = setTimeout(function() {
var t = e._reactInternalInstance ? e._reactInternalInstance._rootNodeID : "{unknown}", n = "Spinner component " + t + " with autoRun " + e.props.autoRun + "\n                         has been mounted for 15+ seconds, stuck in an endless loading state?";
console.error(n);
}, 15e3);
}, t.prototype.componentWillUnmount = function s() {
clearTimeout(this.timeout);
}, t.prototype.toggle = function l(e) {
this.setState({
isRunning: e
});
}, t.prototype.render = function p() {
var e = c({
width: this.props.size,
height: this.props.size,
spriteAnimation: {
spriteSheet: d.bbOfflineUrl("/sparta/assets/ui/sprites/spinner-9900576b.png"),
fps: 60,
frameWidth: 102,
frameHeight: 102,
totalFrames: 87,
looping: !0,
running: this.state.isRunning
}
}, this.props.style);
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: e
},
_owner: null
};
};
var n = t;
return t = a("_$Spinner")(t) || t;
}(f["default"].Component);
t["default"] = g, g.defaultProps = {
autoRun: !0,
size: 26
}, e.exports = t["default"];
}, function(e, t, n) {
(function(e) {
"use strict";
var r, o = n(656), a = n(653), i = n(654), s = n(655), l = n(388);
if (e.TwinkleNative) r = new a.InprocDelegate(); else if ("undefined" != typeof e.jasmine) r = new i.MockDelegate(); else {
var u = new l.RemoteEngine();
r = new o.RemoteDelegate(u);
}
t.nativeApi = new s.NativeAPI(r), r instanceof o.RemoteDelegate ? r.remoteEngine.onScriptCalls = t.nativeApi.onScriptCalls.bind(t.nativeApi) : r instanceof a.InprocDelegate && (e.onScriptCalls = t.nativeApi.onScriptCalls.bind(t.nativeApi));
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
var r = n(15);
e.exports = {
show: r.createAction(),
hide: r.createAction(),
route: r.createAction(),
browseWhileWaiting: r.createAction()
};
}, function(e, t, n) {
"use strict";
var r = n(15);
t.checkout = r.createAction(), t.checkoutStatus = r.createAction(), t.checkoutCompleted = r.createAction(), 
t.updateOffers = r.createAction(), t.setOffers = r.createAction(), t.showUnavailableStore = r.createAction(), 
t.purchasePsPlus = r.createAction(), t.updateRSPTemplate = r.createAction(), t.getShortcutKitsByLicense = r.createAction();
}, function(e, t, n) {
e.exports = n(708);
}, function(e, t, n) {
(function(e) {
"use strict";
function r(e, t) {
for (var n = 0, r = e.length; r > n; n++) {
var o = e[n];
if (!t || !t.hasOwnProperty(o)) return void 0;
t = t[o];
}
return t;
}
var o = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, a = n(9), i = n(245), s = function(t) {
function n(e, n) {
void 0 === n && (n = !1);
var r = t.call(this, n) || this;
return r.previousPayload = [ e ], r.scopeStores = {}, null != e && r.setState(e), 
r.initialize && r.initialize(), r;
}
return o(n, t), n.prototype.setState = function(t) {
t && "object" == typeof t && (t = Object.freeze(t)), this.state = t, this.publishPayload([ t ]);
var n = this.constructor;
e.__storage && n.name && -1 === [ "TransformedStore", "JoinedStore", "Store" ].indexOf(n.name) && (e.__storage = e.__storage.set(n.name, t));
}, n.prototype.getState = function() {
return this.state;
}, n.prototype.scope = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
var n = e.join("/");
return this.scopeStores[n] || (this.scopeStores[n] = this.transform(r.bind(null, e)));
}, n.prototype.transform = function(e) {
return new l(this, e);
}, n.prototype.connect = function(e) {
var t, n = this, r = function() {
e(n.getState()) === !1 && t.unsubscribe();
};
return t = this.subscribe(r), r(), t;
}, n.prototype.promise = function(e, t) {
var n = this;
return void 0 === e && (e = function() {}), void 0 === t && (t = function() {}), 
new Promise(function(r, o) {
n.connect(function(n) {
return e(n) ? (r(), !1) : t(n) ? (o(), !1) : void 0;
});
});
}, n.prototype.join = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return new u([ this ].concat(e));
}, n.join = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return new u(e);
}, n.prototype.listenTo = function(e, t) {
return e && t ? ("string" == typeof t && (t = this[t]), e.listen(t.bind(this))) : void 0;
}, n.fromMobxStore = function(e) {
var t = new n(e());
return a.reaction(e, function(e) {
return t.setState(e);
}), t;
}, n;
}(i.Publisher);
t.Store = s;
var l = function(e) {
function t(t, n) {
var r = e.call(this, n(t.getState()), !0) || this;
return t.subscribe(function() {
r.setState(n(t.getState()));
}), r;
}
return o(t, e), t;
}(s), u = function(e) {
function t(t) {
var n = e.call(this, void 0, !0) || this;
return n.sourceStores = t, n.batchTimeout = -1, n;
}
return o(t, e), t.prototype.subscribe = function(t, n) {
var r = this;
return this.sourceSubscriptions || (this.sourceSubscriptions = this.sourceStores.map(function(e) {
return e.subscribe(function() {
return r.enqueuePublish();
});
})), e.prototype.subscribe.call(this, t, function() {
0 === r.subscriptions.length && r.sourceSubscriptions && (r.sourceSubscriptions.forEach(function(e) {
return e.unsubscribe();
}), r.sourceSubscriptions = null), n && n();
});
}, t.prototype.enqueuePublish = function() {
var e = this;
clearTimeout(this.batchTimeout), this.batchTimeout = setTimeout(function() {
return e.publishPayload(e.getState());
}, 1);
}, t.prototype.getState = function() {
return this.sourceStores.map(function(e) {
return e.getState();
});
}, t.prototype.connect = function(t) {
return e.prototype.connect.call(this, function(e) {
return t.apply(void 0, e);
});
}, t.prototype.transform = function(t) {
return e.prototype.transform.call(this, function(e) {
return t.apply(void 0, e);
});
}, t;
}(s);
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t) {
e.location = new a.Location(o.compact([ t.location.path, e.location.path ]).join("/")), 
s.forEach(function(n) {
var r = e[n], o = t[n];
if (!e.hasOwnProperty(n)) throw Error("Invalid inheritable property: Unknown property name " + n);
void 0 === r && (e[n] = o);
});
}
function r(t, n) {
return n.map(function(n, a) {
var i = o.extend({}, n);
return void 0 === i.priority && (i.priority = a), e(i, t), i.parent = t, i.children = r(i, i.children), 
new l(i);
});
}
var o = n(5), a = n(88), i = n(276), s = [ "logoUrl", "backgroundSize", "backgroundUrl", "backgroundOverlayUrl", "backgroundOverlaySize", "backgroundVideoUrl", "backgroundMusicTrack", "backgroundMask", "backgroundOffset", "backgroundAnimation", "backgroundSkyColor", "requireOnline", "requireMpInstalled", "fonts", "gameId", "postProcess" ], l = function() {
function e(e, t) {
this.parent = void 0, this.skipToFirstChild = !1, this.args = {}, this.gameId = void 0, 
this.logoUrl = void 0, this.excludeFromHistory = !1, this.visible = void 0, this.fonts = void 0, 
this.enableMainMenu = !0, this.hideInMainMenu = !1, this.showHeader = !0, this.disableBackground = !1, 
this.backgroundMask = !1, this.backgroundSize = void 0, this.backgroundUrl = void 0, 
this.backgroundOverlayUrl = void 0, this.backgroundOverlaySize = void 0, this.backgroundVideoUrl = void 0, 
this.backgroundMusicTrack = void 0, this.backgroundOffset = void 0, this.backgroundAnimation = void 0, 
this.backgroundSkyColor = void 0, this.requireOnline = void 0, this.requireMpInstalled = !1, 
this.normalIconUrl = void 0, this.activeIconUrl = void 0, this.view = void 0, this.disabled = !1, 
this.children = [], this.priority = void 0, this.postProcess = void 0, this.getTitle = function() {
return "";
}, this.getSubtitle = function() {
return "";
}, 2 === arguments.length && (e = o.extend({
location: arguments[0]
}, arguments[1]));
for (var n in e) e.hasOwnProperty(n) && (this[n] = e[n]);
if (this.location = i(a.Location, this.location), void 0 === this.visible) {
var r = e.getTitle ? !0 : !1;
this.visible = r;
}
this.children = this.children.filter(function(e) {
return e ? !0 : !1;
});
}
return e.prototype.getDisabledLabel = function() {
return this.disabledLabel ? this.disabledLabel : __("ID_SPARTA_MENU_DISABLED_LABEL", !0);
}, e.prototype.cascade = function() {
return new e(o.extend({}, this, {
children: r(this, this.children)
}));
}, e.prototype.flatten = function() {
for (var e = [ this ], t = []; e.length; ) {
var n = e.pop();
t.push(n);
for (var r = 0; r < n.children.length; r++) e.push(n.children[r]);
}
return t;
}, e;
}();
t.Route = l;
}).call(t, n(2));
}, function(e, t, n) {
(function(r) {
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var s = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, l = n(51), u = n(3), c = n(56), p = o(c), f = n(423), d = o(f), h = n(25), y = o(h), g = n(18), m = o(g), b = n(48), v = o(b), _ = n(35), S = o(_), T = n(29), w = o(T), E = n(36), I = o(E), C = function(e) {
function t() {
var n = this;
a(this, t), e.call(this, new d["default"]({
route: "none",
previousRoute: "none"
})), this.isSubRoute = !1, this.isEORShown = !1, this.isLoadingShown = !1, v["default"].show.listen(function() {
n.setState(new d["default"](s({}, n.getState(), {
isVisible: !0
})));
}), v["default"].hide.listen(function() {
n.setState(new d["default"](s({}, n.getState(), {
isVisible: !1,
previousRoute: "none",
previousSubRoute: null
})));
}), v["default"].route.listen(function(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1], r = n.getState(), o = r.route, a = r.subRoute;
"playing" === e && o !== e && y["default"].closeAll(), n.isEORShown = "eor" === e || n.isEORShown && "playing" !== e, 
n.isSubRoute = !!t, n.isLoadingShown = "loading" === e, n.setState(new d["default"](s({}, r, {
route: e,
subRoute: t,
previousRoute: o,
previousSubRoute: a,
isEORShown: n.isEORShown
})));
}), u.frostbite.registerMessageListener("game.showEndOfRoundMessage", function() {
v["default"].route("eor"), v["default"].show(), n.setState(new d["default"](s({}, n.getState(), {
isEORShown: !0
})));
}), I["default"].scope("navigationState").listen(function(e) {
n.updateLayoutAndGameViewVisibility(e);
}), m["default"].handleSpartaActivated.listen(function() {
n.updateLayoutAndGameViewVisibility(I["default"].getState().navigationState);
}), S["default"].leftServer.listen(function() {
v["default"].hide(), v["default"].route("none");
});
}
return i(t, e), t.prototype.updateLayoutAndGameViewVisibility = function n(e) {
switch (e) {
case p["default"].LoadingScreen:
this.isEORShown || this.isSubRoute || I["default"].getState().isSingleplayer || v["default"].route("loading"), 
v["default"].show();
break;

case p["default"].InGameMenu:
this.isEORShown || this.isSubRoute || this.isLoadingShown || v["default"].route("playing"), 
v["default"].show();
break;

case p["default"].EndOfRound:
v["default"].route("eor"), v["default"].show();
break;

case p["default"].FrontEnd:
var t = I["default"].getState();
t.queue.isPending ? (v["default"].show(), v["default"].route("loading")) : (v["default"].hide(), 
v["default"].route("none")), w["default"].showComponent("all"), setTimeout(function() {
w["default"].handleBlackFadeStart(0);
}, 1e3);
}
}, t;
}(l.Store), A = new C();
t["default"] = A, u.getBuildInfo().isRemoteEngine() && (r.gameViewStateStore = A), 
e.exports = t["default"];
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return O(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e, t) {
return e && t ? function() {
for (var n = arguments.length, r = Array(n), o = 0; n > o; o++) r[o] = arguments[o];
if (!(r && r.length && r[0].isRepeat)) {
var a = e.apply(void 0, r);
a instanceof Promise ? a.then(t) : t.apply(void 0, r);
}
} : e || t;
}
var u = n(4), c = s(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = s(d), y = n(9), g = n(3), m = n(20), b = s(m), v = n(13), _ = s(v), S = n(83), T = s(S), w = n(16), E = n(12), I = s(E), C = n(11), A = n(10), P = {
_$Glow: {
displayName: "Glow"
},
_$Pressable: {
displayName: "Pressable"
}
}, O = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Pressable.jsx",
components: P,
locals: [],
imports: []
}), R = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function r() {
this.tweens = {
glow: w.Animation.tween("f6fa3d1e:31", 0, w.Animation.presets.list.leave)
};
}, t.prototype.componentDidMount = function s() {
var e = this;
this.fadeTo(.6).then(function() {
return e.fadeTo(.2);
});
}, t.prototype.componentWillUnmount = function l() {
this.tweens.glow.destroy(), this.tweens.glow = null;
}, t.prototype.fadeTo = function u(e) {
var t = this;
return new Promise(function(n) {
null == t.tweens.glow || t.tweens.glow.isDestroyed() ? n() : t.tweens.glow.to(e, null, n);
});
}, t.prototype.render = function c() {
var e = {};
return this.props.isFocused && (e = f({
position: "absolute",
bottom: -9,
left: -9,
right: -9,
top: -9,
zOffset: 1,
texture: C.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-blur-42d30442.png"),
textureMode: "fill",
textureBorder: [ 12, 12, 12, 12 ],
opacity: this.tweens.glow.getStyle()
}, this.props.style)), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: e
},
_owner: null
};
};
var n = t;
return t = i("_$Glow")(t) || t;
}(h["default"].Component), k = function(e) {
function t(t) {
var r = this;
if (o(this, n), e.call(this, t), !t.focusItem) throw new Error("No focus item passed to <Pressable>");
this.tweens = {
scaleX: w.Animation.tween("f6fa3d1e:85", 1),
scaleY: w.Animation.tween("f6fa3d1e:86", 1)
}, this.triggerInput = T["default"](function() {
r.mutatedInput && r.mutatedInput.forEach(function(e) {
return e.action();
});
}, 250, !0, !1);
var a = t.focusItem;
g.focus.onComponentUpdate(this, function(e, t) {
a.setActive("f6fa3d1e:97", !e.disabled);
});
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this;
this.mutateInput(this.props.input), this.props.disableFocusInputUpdate || (this.cancelUpdateFocusInput = y.reaction(function() {
return g.focus.system.controllerMode && e.props.focusItem.isFocused;
}, function(t) {
t && e.updateInput();
})), this.pressInOptions = {
easing: "Linear",
duration: w.Animation.presets.press.duration
}, this.pressOutOptions = {
easing: "CubicOut",
duration: w.Animation.presets.press.duration
}, this.updateAnimationSettings();
var t = this.props.focusItem;
this.eventListeners = [ t.onClick.listen(function() {
e.triggerInput();
}), t.onFocus(function() {
return e.playEnter();
}), t.onBlur(function() {
return e.playLeave();
}), t.onHover(function() {
return e.playEnter();
}), t.onLeave(function() {
return e.playLeave();
}) ];
}, t.prototype.componentWillReceiveProps = function u(e) {
this.mutateInput(e.input);
}, t.prototype.componentDidUpdate = function c() {
this.updateAnimationSettings();
}, t.prototype.componentWillUnmount = function d() {
if (this.cancelUpdateFocusInput && this.cancelUpdateFocusInput(), !this._animating) {
for (var e in this.tweens) this.tweens[e].destroy();
for (;this.eventListeners.length; ) this.eventListeners.pop()();
}
}, t.prototype.getInput = function m() {
return this.props.focusItem.isFocused && g.focus.system.controllerMode ? this.mutatedInput : void 0;
}, t.prototype.onClick = function v(e) {
this.triggerInput();
}, t.prototype.updateAnimationSettings = function S() {
this.pressAnimation = {
scaleX: {
from: this.props.scale ? this.props.scaleValues.scaleX.to : 1,
to: this.props.scale ? this.props.pressScale : 1
},
scaleY: {
from: this.props.scale ? this.props.scaleValues.scaleY.to : 1,
to: this.props.scale ? this.props.pressScale : 1
}
};
}, t.prototype.mutateInput = function E(e) {
var t = this;
switch (e && (e = Array.isArray(e) ? e : [ e ]), e && 0 !== e.length || (e = [], 
this.props.useDefaultInput && e.push(new _["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: I["default"].Accept
}))), this.props.triggerMode) {
case "before":
this.mutatedInput = e.map(function(e) {
return e.extend({
action: l(e.action, function() {
return t.playPress();
})
});
});
break;

case "between":
this.mutatedInput = e.map(function(e) {
var n = e.action;
return e.extend({
action: l(function() {
return t.playPressDown();
}, function() {
return n && n(), t.playReleaseUp();
})
});
});
break;

case "after":
this.mutatedInput = e.map(function(e) {
return e.extend({
action: l(function() {
return t.playPress();
}, e.action)
});
});
}
}, t.prototype.playPressDown = function C() {
return this.playAnimation(this.pressAnimation, "to", this.pressInOptions);
}, t.prototype.playReleaseUp = function P() {
return this.playAnimation(this.pressAnimation, "from", this.pressOutOptions);
}, t.prototype.playPress = function O() {
var e = this;
return this.props.disabled ? void 0 : this.playPressDown().then(function() {
return e.playReleaseUp();
});
}, t.prototype.playEnter = function k() {
return this.props.scale ? this.playAnimation(this.props.scaleValues, "to", this.props.scaleInOptions) : void 0;
}, t.prototype.playLeave = function x() {
return this.props.scale ? this.playAnimation(this.props.scaleValues, "from", this.props.scaleOutOptions) : void 0;
}, t.prototype.playAnimation = function M(e, t, n) {
var r = this;
this._animating = !0;
var o = Object.keys(e).map(function(o) {
return new Promise(function(a) {
r.tweens[o].isDestroyed() ? a() : r.tweens[o].to(e[o][t], n, a);
});
});
return Promise.all(o).then(function() {
r._animating = !1;
});
}, t.prototype.render = function N() {
var e, t = f({}, this.props.style, g.Tween.getStyles(this.tweens));
return this.props.glow && (e = {
$$typeof: p,
type: R,
key: null,
ref: null,
props: r(R.defaultProps, {
isFocused: this.props.focusItem.isFocused
}),
_owner: null
}), h["default"].createElement("surface", f({
style: t
}, this.props.focusItem.hooks), e, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: {
flex: 1,
zOffset: 2
}
},
_owner: null
});
};
var n = t;
return t = i("_$Pressable")(t) || t, t = b["default"]()(t) || t, t = A.observer(t) || t;
}(h["default"].Component);
t["default"] = k, k.defaultProps = {
glow: !1,
scale: !1,
scaleValues: {
scaleX: {
from: 1,
to: 1.057
},
scaleY: {
from: 1,
to: 1.057
}
},
useDefaultInput: !0,
scaleInOptions: w.Animation.presets.focusables.enter["default"],
scaleOutOptions: w.Animation.presets.focusables.leave,
triggerMode: "between",
pressScale: .965,
disabled: !1,
disableFocusInputUpdate: !1
}, k.propTypes = {
focusItem: h["default"].PropTypes.instanceOf(g.focus.FocusItem).isRequired,
glow: h["default"].PropTypes.bool,
scale: h["default"].PropTypes.bool,
scaleValues: h["default"].PropTypes.object,
scaleInOptions: h["default"].PropTypes.object,
scaleOutOptions: h["default"].PropTypes.object,
useDefaultInput: h["default"].PropTypes.bool,
input: h["default"].PropTypes.oneOfType([ h["default"].PropTypes.instanceOf(_["default"]), h["default"].PropTypes.arrayOf(h["default"].PropTypes.instanceOf(_["default"])) ]),
triggerMode: h["default"].PropTypes.oneOf([ "before", "between", "after" ]),
disableFocusInputUpdate: h["default"].PropTypes.bool
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
function r(e, t) {
return "string" == typeof e ? s.createElement(f, a({
value: e
}, t)) : e;
}
var o = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, a = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, i = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, s = n(1), l = n(3), u = n(10), c = n(9), p = n(171), f = n(7).Text, d = n(6), h = (n(308), 
n(16)), y = n(30).isRTLLanguage, g = {
heading: {
opacity: .8,
marginBottom: d.GUTTER
},
iconContainer: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
alignItems: "center",
justifyContent: "center"
},
icon: function(e, t, n, r, o) {
var a = 1;
p.activeBackgroundScaleIncrease > 0 && (a = h.Animation.tweenSwitch(a, a + p.activeBackgroundScaleIncrease, e, p.tweenInOptions, p.tweenOutOptions));
var i = {
width: n,
height: n,
texture: t,
textureMode: "contain",
textureAlign: [ .5, 1 ],
scaleX: a,
scaleY: a
};
return o && (i.opacity = r ? 1 : .5, i.grayScale = r ? 0 : 1), i;
}
}, m = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.setCard = function(e) {
n.card = e;
}, n.focusItem = t.focusItem || l.focus.create(n, l.autoId("basicCard")), n;
}
return o(t, e), Object.defineProperty(t.prototype, "iconSize", {
get: function() {
return this.props.iconSize && this.card && this.card.backgroundHeight > 0 ? this.card.backgroundHeight * this.props.iconSize : 0;
},
enumerable: !0,
configurable: !0
}), t.prototype.renderTexts = function(e, t, n, o) {
var i = "split" === n, l = i ? "M" : "XS", u = i ? "XS" : "M", c = i ? .66 : 1, p = Object.assign({}, {
opacity: c,
textAlignForRTL: y() ? "left" : "right"
});
e && (e = e.toUpperCase());
var f = a({}, g.heading, {
textAlignForRTL: y() ? "left" : "right"
});
return s.createElement("surface", {
style: {
height: o
}
}, r(e, {
style: f,
type: "emphasis",
size: l
}), r(t, {
style: p,
size: u
}));
}, t.prototype.render = function() {
var e, t, n = this.props.enabled !== !1, r = this.renderTexts(this.props.heading, this.props.description, this.props.layout, this.props.textHeight), o = this.focusItem.isFocused && n, i = o && this.props.activeIcon ? this.props.activeIcon : this.props.icon, l = i && s.createElement("surface", {
key: "icon",
style: g.iconContainer
}, s.createElement("surface", {
style: g.icon(o, i, this.iconSize, n, this.props.useGrayScale)
})), u = l ? "split" : "inline", c = void 0 !== this.props.layout ? this.props.layout : u;
return "split" === c ? e = r : t = r, this.props.bottom && (e = this.props.bottom, 
t = r), s.createElement(p.Card, a({
ref: this.setCard
}, this.props, {
focusItem: this.focusItem,
enabled: n,
bottom: e
}), this.props.children, l, t);
}, t;
}(s.Component);
m.defaultProps = {
size: "SSM",
useGrayScale: !0,
iconSize: .75
}, i([ c.observable ], m.prototype, "card", void 0), i([ c.computed ], m.prototype, "iconSize", null), 
i([ c.action ], m.prototype, "setCard", void 0), m = i([ u.observer ], m), t.BasicCard = m;
}, function(e, t) {
e.exports = {
None: 0,
FrontEnd: 1,
LoadingScreen: 2,
InGameMenu: 3,
EndOfRound: 4
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function a() {
K.forEach(function(e) {
return e.startListening();
});
}
function i() {
K.forEach(function(e) {
return e.stopListening();
});
}
t.__esModule = !0, t.startListening = a, t.stopListening = i;
var s = n(1), l = (o(s), n(5)), u = o(l), c = n(50), p = n(21), f = r(p), d = n(8), h = n(34), y = r(h), g = n(158), m = r(g), b = n(307), v = r(b), _ = n(189), S = r(_), T = n(467), w = r(T), E = n(830), I = r(E), C = n(49), A = r(C), P = n(151), O = r(P), R = n(152), k = n(39), x = n(19), M = r(x), N = n(44), D = n(166), U = f["default"].createClient({
requestOn: [ y["default"].buyBattlepackForScraps ],
throttle: 1e3,
shouldPerformRequest: function X() {
return !0;
},
request: function Y(e, t, n) {
return new Promise(function(r, o) {
var a = c.gatewayClient.request("Battlepack.buyForScraps", {
game: N.tunguskaGameId,
pack: e
});
a.then(function(o) {
r(o);
var a = {
transactionType: "item_purchase_scraps",
transactionCode: "drain",
itemId: e,
price: t,
balance: n - t,
currency: "scraps",
status: "complete",
revenueModel: "virtual"
};
O["default"].trackEvent(R.Events.Transaction, a);
}), a["catch"](function(e) {
o(e);
});
});
},
parse: function J(e) {
return e;
},
onRequestError: function Q(e, t) {
this.publish(new Error("Request error when attempting to buy item with scraps"));
},
update: function Z(e) {
e ? this.publish(null, e) : this.publish(new Error("Failed to buy item with scraps"));
}
});
t.buyForScraps = U;
var L = f["default"].createClient({
requestOn: [ y["default"].openBattlepack ],
throttle: 3e3,
shouldPerformRequest: function ee() {
return !0;
},
request: function te(e) {
return c.gatewayClient.request("Battlepack.open", {
game: N.tunguskaGameId,
withVoucher: e
});
},
parse: function ne(e) {
return e ? new m["default"](e) : null;
},
onRequestError: function re(e, t) {
this.publish(new Error("Request error when attempting to open battlepack"), t);
},
update: function oe(e, t, n) {
e ? this.publish(null, e) : this.publish(new Error("Failed to open battlepack"), n);
}
});
t.open = L;
var $ = f["default"].createClient({
requestOn: [ y["default"].claimBlueprint ],
throttle: 2e3,
shouldPerformRequest: function ae() {
return !0;
},
request: function ie(e) {
return c.gatewayClient.request("Battlepack.open", {
game: N.tunguskaGameId,
withVoucher: e
});
},
parse: function se(e) {
return e;
},
onRequestError: function le(e, t) {
this.publish(new Error("Request error when attempting to claim blueprint"), t);
},
update: function ue(e, t, n) {
e ? this.publish(null, e) : this.publish(new Error("Failed to claim blueprint"), n);
}
});
t.claimBlueprint = $;
var G = f["default"].createClient({
requestOn: [ L, U ],
throttle: 1e3,
shouldPerformRequest: function ce() {
return d.onlineState.isPresenceReady;
},
request: function pe() {
return c.gatewayClient.request("Battlepack.listBattlepackVouchers", {
game: N.tunguskaGameId
});
},
onRequestError: function fe(e) {
this.publish(null, e);
},
parse: function de(e) {
return e.map(function(e) {
return new m["default"](e);
});
},
update: function he(e) {
this.publish(e);
}
});
t.unopened = G;
var F = f["default"].createClient({
requestOn: [ y["default"].scrapItem ],
throttle: 500,
shouldPerformRequest: function ye() {
return !0;
},
request: function ge(e) {
return c.gatewayClient.request("Battlepack.scrapItem", {
game: N.tunguskaGameId,
item: e.key
});
},
parse: function me(e) {
return e;
},
onRequestError: function be(e, t) {
this.publish(new Error("Request error when attempting to scrap item"), t);
},
update: function ve(e, t, n) {
e ? (n.quantity -= 1, this.publish(null, n)) : this.publish(new Error("Failed to scrap item"), n);
}
});
t.scrap = F;
var B = f["default"].createClient({
throttle: 1e3,
name: "TunguskaBattlepackInventory",
requestOn: [ L, F, $ ],
shouldPerformRequest: function _e() {
return !0;
},
request: function Se() {
return c.gatewayClient.request("Battlepack.listInventory", {
game: N.tunguskaGameId
});
},
parse: function Te(e) {
return {
items: e.items.filter(function(e) {
return e.quantity > 0;
}).map(function(e) {
return new v["default"](e);
}),
categories: e.categories
};
},
update: function we(e) {
this.publish(e);
}
});
t.inventory = B;
var j = f["default"].createClient({
throttle: 3e3,
shouldPerformRequest: function Ee() {
return !0;
},
request: function Ie() {
return c.gatewayClient.request("Battlepack.getPurchasablePacks", {
game: N.tunguskaGameId
});
},
parse: function Ce(e) {
return Object.keys(e).map(function(t) {
return new m["default"](e[t]);
});
},
update: function Ae(e) {
this.publish(e);
}
});
t.purchasable = j;
var H = f["default"].createClient({
throttle: 200,
requestOn: [ L, U, F, A["default"].checkoutCompleted ],
shouldPerformRequest: function Pe() {
return d.onlineState.isPresenceReady;
},
request: function Oe() {
var e = void 0, t = d.onlineState.sessionUser;
return t && (e = t.spartaUserId.personaId), c.gatewayClient.request("Battlepack.getSummary", {
game: N.tunguskaGameId,
personaId: e
});
},
parse: function Re(e) {
return new I["default"](e);
},
update: function ke(e) {
this.publish(e);
}
});
t.summary = H;
var V = f["default"].createClient({
throttle: 200,
shouldPerformRequest: function xe() {
return !0;
},
request: function Me() {
return new Promise(function(e, t) {
c.gatewayClient.firstPartyRequest("Inventory.getPurchases", {
games: [ N.tunguskaGameId ],
categories: [ "battlepacks" ]
}).then(function(n) {
if (!n || !n.purchases) return t();
var r = n.purchases.map(function(e) {
return 0 === e.state.value ? new Promise(function(t, n) {
c.gatewayClient.firstPartyRequest("Inventory.startPurchase", {
game: e.game,
productId: "",
data: e.data,
pinData: null,
deviceIdType: "machash",
deviceId: D.analyticsStore.uuid
}).then(function(r) {
return r && r.purchaseId ? void c.gatewayClient.firstPartyRequest("Inventory.completePurchase", {
game: e.game,
productId: "",
purchaseId: r.purchaseId,
transactionId: r.purchaseId,
result: "completed",
pinData: null,
deviceIdType: "machash",
deviceId: D.analyticsStore.uuid
}).then(t, n) : n();
}, n);
}) : 1 === e.state.value ? c.gatewayClient.firstPartyRequest("Inventory.completePurchase", {
game: e.game,
productId: "",
purchaseId: e.purchaseId,
result: "completed",
pinData: null,
deviceIdType: "machash",
deviceId: D.analyticsStore.uuid
}) : void 0;
}).filter(function(e) {
return null != e;
});
Promise.all(r).then(function() {
var t = r.length > 0;
e(t), t && G.trigger();
}, t);
}, t);
});
},
parse: function Ne(e) {
return e;
},
update: function De(e) {
this.publish(e);
}
});
t.handleStalePurchases = V;
var z = f["default"].createClient({
throttle: 1e3,
retries: null,
shouldPerformRequest: function Ue() {
return !0;
},
request: function Le() {
return null === this.retries && (this.retries = 1), c.gatewayClient.request("Battlepack.getBattlepackOffers", {
game: N.tunguskaGameId,
locale: M["default"].getState().commerceLocale || M["default"].getState().locale || "en-us".toLowerCase()
});
},
onRequestError: function $e(e) {
var t = this;
this.retries-- && setTimeout(function() {
t.trigger();
}, 1e3);
},
parse: function Ge(e) {
return this.retries = null, e.map(function(e) {
return new S["default"](e);
});
},
update: function Fe(e) {
this.publish(e);
}
});
t.getPackOffers = z;
var W = f["default"].createClient({
throttle: 1e3,
shouldPerformRequest: function Be() {
return !0;
},
request: function je() {
return c.gatewayClient.request("Battlepack.getPuzzlePacks", {
game: N.tunguskaGameId
});
},
parse: function He(e) {
return u.values(e).map(function(e) {
return new w["default"]({
pack: new m["default"](e)
});
});
},
update: function Ve(e) {
this.publish(e);
}
});
t.getPuzzlePacks = W;
var q = f["default"].createClient({
throttle: 1e3,
shouldPerformRequest: function ze() {
return k.isHostingGame(N.tunguskaGameId) && !0;
},
request: function We() {
return new Promise(function(e) {
G.trigger(), H.trigger(), B.trigger(), j.trigger(), V.trigger(), W.trigger(), d.settingsStore.isFeatureEnabled("purchaseBattlepacks") && z.trigger(), 
e();
});
},
parse: function qe(e) {
return e;
},
update: function Ke(e) {
this.publish(e);
}
});
t.initialFetch = q;
var K = [ G, L, B, F, H, U, $ ];
}, function(e, t, n) {
"use strict";
function r(e) {
s.loadFont(e.name, e.url);
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(9), i = n(5), s = n(3), l = n(627), u = n(555), c = n(103);
a.observe(u.accountInfoPSN, "language", function(e) {
var n = l.psnAccountLanguageToSpartaLocale(e);
t.localeState.updateFontsForLocale(n);
});
var p = function() {
function e() {
this.locales = [], this.registeredFonts = [];
}
return Object.defineProperty(e.prototype, "fonts", {
get: function() {
return this.originalLocale ? l.fontConfig[this.originalLocale] : l.fontConfig.empty;
},
enumerable: !0,
configurable: !0
}), e.prototype.setInitialLocales = function(e, t, n) {
this.originalLocale = e.toLowerCase(), this.displayLocale = this.originalLocale, 
this.commerceLocale = t.toLowerCase(), this.needsFallback = n;
}, e.prototype.updateFontsForLocale = function(e) {
var t = this;
return new Promise(function(n, r) {
if (e && l.fontConfig.hasOwnProperty(e) ? -1 === t.locales.indexOf(e) && t.locales.push(e) : console.warn("Locale not found in fontConfig. Falling back to en-us. Got locale: " + e), 
t.commerceLocale) {
var o = l.commerceLocaleToRegionFontLocale(t.commerceLocale);
o && -1 === t.locales.indexOf(o) && t.locales.push(o);
}
var a = t.getFontsToLoad();
0 === a.length && n(), t.loadFonts(a);
var u = setTimeout(function() {
if (!i.every(a, "loaded")) {
var e = i.filter(a, function(e) {
return !e.loaded;
}), t = i.map(e, function(e) {
return e.name;
});
console.warn("These fonts could not be loaded in time:", t);
}
clearTimeout(u), n();
}, 3e4), c = s.events.onAssetLoaded.listen(function(e, t) {
var o = !1;
i.every(a, function(n, i) {
var s = n.url.replace("http://offline.twinkle", "");
return -1 !== e.indexOf(s) ? (o = !0, t ? a[i].loaded = !0 : (c(), r()), !1) : !0;
}), o && i.every(a, "loaded") && (clearTimeout(u), c(), n());
});
});
}, e.prototype.getFontsToLoad = function() {
var e = this, t = [];
return this.locales.forEach(function(n) {
var r = l.fontConfig[n];
for (var o in r) if (r.hasOwnProperty(o)) {
var a = r[o], i = a.normal, s = a.emphasis;
e.isFontNotRegistered(i.name) && (e.registeredFonts.push(i.name), t.push({
name: i.name,
url: i.url,
loaded: !1
})), e.isFontNotRegistered(s.name) && (e.registeredFonts.push(s.name), t.push({
name: s.name,
url: s.url,
loaded: !1
}));
}
}), t;
}, e.prototype.loadFonts = function(e) {
for (var t in e) if (e[t]) {
var n = e[t];
r(n);
}
}, e.prototype.isFontNotRegistered = function(e) {
return -1 === this.registeredFonts.indexOf(e);
}, e.prototype.setFallbackAndSection = function(e) {
this.section = e.section, this.displayLocale = e.fallback ? c.ENGLISH : this.originalLocale;
}, e.prototype.markTranslationsAsDone = function() {
this.translationsAreDone = !0;
}, e;
}();
o([ a.observable ], p.prototype, "locales", void 0), o([ a.observable ], p.prototype, "originalLocale", void 0), 
o([ a.observable ], p.prototype, "commerceLocale", void 0), o([ a.observable ], p.prototype, "registeredFonts", void 0), 
o([ a.observable ], p.prototype, "displayLocale", void 0), o([ a.observable ], p.prototype, "needsFallback", void 0), 
o([ a.observable ], p.prototype, "section", void 0), o([ a.observable ], p.prototype, "translationsAreDone", void 0), 
o([ a.computed ], p.prototype, "fonts", null), o([ a.action ], p.prototype, "setInitialLocales", null), 
o([ a.action ], p.prototype, "updateFontsForLocale", null), o([ a.action ], p.prototype, "getFontsToLoad", null), 
o([ a.action ], p.prototype, "setFallbackAndSection", null), o([ a.action ], p.prototype, "markTranslationsAsDone", null), 
t.LocaleState = p, t.localeState = new p();
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return R(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(5), h = l(d), y = n(3), g = r(y), m = n(1), b = l(m), v = n(71), _ = l(v), S = n(137), T = l(S), w = n(229), E = l(w), I = n(7), C = n(6), A = l(C), P = n(10), O = {
_$List: {
displayName: "List"
}
}, R = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/List.jsx",
components: O,
locals: [],
imports: []
}), k = {
groupHeader: {
height: A["default"].getHeight(7),
flexDirection: "column",
alignItems: "flex-start",
justifyContent: "center"
}
}, x = function D(e) {
return Array.isArray(e) && e.length > 0;
}, M = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.itemReferences = {}, x(t.groups) && x(t.groups[0]) ? this.state = {
activeItemId: t.groups[0][0].id
} : x(t.items) ? this.state = {
activeItemId: t.items[0].id
} : this.state = {
activeItemId: void 0
}, this.focusAncestor = g.focus.createAncestor("list-ancestor"), this.focusGroup = g.focus.createGroup("list"), 
this.focusGroup.behavior = g.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | g.focus.GroupBehavior.VERTICAL, 
this.focusAncestor.onFocusChildChanged.listen(function(e) {
t.onFocus && e && e.isFocused && t.onFocus();
});
}
i(t, e), t.prototype.componentWillUnmount = function r() {
this.focusGroup.destroy();
}, t.prototype.componentWillBlur = function l() {
this.props.onBlur && this.props.onBlur();
}, t.prototype.setItemFocus = function u(e) {
this.itemReferences[e].focusItem.setFocused(y.focus.FocusSource.Auto);
}, t.prototype.setActive = function c(e) {
this.setState({
activeItemId: e
}, null, "new list id: " + e);
}, t.prototype.descendantDidFocus = function d(e) {
this.props.autoActivateItems && this.setActive(e.id), this.props.onItemDidFocus && this.props.onItemDidFocus(e);
}, t.prototype.shouldFocusableKeepActiveChild = function m(e) {
return !this.props.forgetItemFocus;
}, t.prototype.renderDivider = function v(e) {
return {
$$typeof: f,
type: E["default"],
key: e,
ref: null,
props: o(E["default"].defaultProps, {
spacing: this.props.dividerSpacing
}),
_owner: null
};
}, t.prototype.renderItem = function S(e, t) {
var n = this;
if (_["default"].isValidElement(e)) return e;
var r = e.key || "item-" + t;
"function" == typeof e.label && (e.label = e.label());
var o = e.hasOwnProperty("id") ? e.id : t, a = o === this.state.activeItemId, i = e.onFocus ? e.onFocus : function() {
return n.descendantDidFocus(e);
};
return b["default"].createElement(y.Focusable, {
ref: function(t) {
return n.itemReferences[e.id] = t;
},
key: r,
groupIndex: t,
group: this.focusGroup,
focusOnHover: this.props.autoActivateItems,
onFocus: i,
debugName: "listitem_" + o
}, function(t) {
var r = {
isActive: a,
id: o,
focusItem: t,
showActiveIndicator: n.props.showActiveIndicator ? !0 : !1
}, i = h["default"].extend({}, r, e);
return b["default"].createElement(n.props.listItemComponent, i);
});
}, t.prototype.render = function T() {
var e, t = this;
e = this.props.groups ? this.props.groups : this.props.items ? [ this.props.items ] : [];
var n = [], r = 0;
return "none" !== this.props.divider && n.push(this.renderDivider(n.length)), h["default"].each(e, function(e, a) {
"string" == typeof a && (n.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: I.Text,
key: n.length,
ref: null,
props: o(I.Text.defaultProps, {
value: a,
size: t.props.headerSize,
type: "emphasis",
style: {
marginTop: A["default"].GUTTER,
marginBottom: A["default"].GUTTER
}
}),
_owner: null
},
style: k.groupHeader
},
_owner: null
}), "item" === t.props.divider && n.push(t.renderDivider(n.length)));
var i = e.length - 1;
e.forEach(function(e, o) {
n.push(t.renderItem(e, r)), r++;
var s = o === i && a;
"item" !== t.props.divider || s || n.push(t.renderDivider(n.length));
}), "group" === t.props.divider && n.push(t.renderDivider(n.length));
}), b["default"].createElement("surface", p({
onMouseDown: this.props.onMouseDown,
style: this.props.style
}, this.focusAncestor.hooks), n, this.props.children);
};
var n = t;
return t = s("_$List")(t) || t, t = P.observer(t) || t;
}(b["default"].Component);
t["default"] = M;
var N = b["default"].PropTypes.array;
M.propTypes = {
onItemDidFocus: b["default"].PropTypes.func,
autoActivateItems: b["default"].PropTypes.bool,
divider: b["default"].PropTypes.oneOf([ "group", "item", "none" ]),
dividerSpacing: b["default"].PropTypes.number,
items: N
}, M.defaultProps = {
divider: "group",
headerSize: "M",
listItemComponent: T["default"]
}, e.exports = t["default"];
}, function(e, t, n) {
var r = n(15);
e.exports = {
nativeClientReadyMessage: r.createAction(),
nativeClientSettingsMessage: r.createAction(),
firstPartyConnectedMessage: r.createAction(),
spartaErrorMessage: r.createAction(),
allModulesDidLoad: r.createAction()
};
}, function(e, t, n) {
(function(r) {
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t, n) {
var r = T.getState(), o = new m["default"](l["default"].extend({}, r.values, e));
r.comCenter && o.mainMenu && (o.mainMenu = !1, o.values.mainMenu = !1), r.mainMenu && o.comCenter && (o.comCenter = !1, 
o.values.comCenter = !1), T.setState(o), E.trigger(T.getState());
var a = new Promise(function(e) {
setTimeout(function() {
if (t) {
var n = t();
if (n instanceof Promise) return void n.then(e);
}
e();
}, n || _.Animation.defaultTweenOptions.duration);
}), i = p["default"].getState();
e.all === !1 ? a.then(function() {
d["default"].handleSpartaWillDeactivate(), w || (w = !0, S.Native.setGlyphTextureSizeSync(2048)), 
S.frostbite.sendMessage("sparta.hideSparta");
}) : "none" === i.route && w && (w = !1, S.Native.setGlyphTextureSizeSync(4096));
}
function i(e, t, n, r) {
var o = {};
o[e] = t, a(o, n, r);
}
t.__esModule = !0;
var s = n(5), l = o(s), u = n(15), c = n(53), p = o(c), f = n(18), d = o(f), h = n(29), y = o(h), g = n(763), m = o(g), b = n(26), v = o(b), _ = n(16), S = n(3), T = new v["default"]("LayoutVisibilityStore", new m["default"]({
mainMenu: !1,
viewTint: !1,
contextMenus: !1,
comCenter: !1,
userBar: SpartaGlobals.bundleIsConsole,
miniMenu: SpartaGlobals.bundleIsPC,
breadcrumbs: !0
}), !0), w = !1, E = u.createStore({
init: function I() {
y["default"].setComponentVisibilities.listen(a), y["default"].setComponentVisibility.listen(i), 
y["default"].hideComponent.listen(function(e, t, n) {
i(e, !1, t, n);
}), y["default"].showComponent.listen(function(e, t, n) {
i(e, !0, t, n);
});
},
getState: function C() {
return T.getState();
}
});
S.getBuildInfo().isRemoteEngine() && (r.LayoutVisibilityStore = E), t["default"] = E, 
e.exports = t["default"];
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(3), i = n(260), s = n(17), l = function() {
function e() {
this.left = 0, this.top = 0, this.width = 0, this.height = 0;
}
return e;
}();
r([ o.observable ], l.prototype, "left", void 0), r([ o.observable ], l.prototype, "top", void 0), 
r([ o.observable ], l.prototype, "width", void 0), r([ o.observable ], l.prototype, "height", void 0);
var u = function() {
function e() {
this.extra = new i.ExtraElements();
}
return e;
}();
r([ o.observable ], u.prototype, "reactComponent", void 0);
var c = function() {
function e() {
this.window = new l(), this.layout = new u();
}
return Object.defineProperty(e.prototype, "viewportScale", {
get: function() {
var e = this.window.width / s.screen.style.width, t = this.window.height / s.screen.style.height, n = Math.min(e, t);
return {
scaleX: n,
scaleY: n
};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "viewportPosition", {
get: function() {
return {
left: this.window.width / 2 - s.screen.style.width / 2 + s.screen.style.left,
top: this.window.height / 2 - s.screen.style.height / 2 + s.screen.style.top
};
},
enumerable: !0,
configurable: !0
}), e.prototype.setWindowSize = function(e, t) {
this.window.width = e, this.window.height = t;
}, e;
}();
r([ o.computed ], c.prototype, "viewportScale", null), r([ o.computed ], c.prototype, "viewportPosition", null), 
r([ o.action ], c.prototype, "setWindowSize", null), t.uiState = new c(), a.events.onWindowSizeChanged.listen(function(e, n) {
t.uiState.setWindowSize(e, n);
});
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15);
t["default"] = {
handleCardsDisplayed: r.createAction(),
handleCardInteraction: r.createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return m(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(7), h = n(6), y = s(h), g = {
_$EmptyState: {
displayName: "EmptyState"
}
}, m = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/EmptyState.jsx",
components: g,
locals: [],
imports: []
}), b = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getFocusInput = function s() {
return [];
}, t.prototype.render = function l() {
var e = {
flex: 1,
alignItems: "center",
justifyContent: "center",
paddingBottom: y["default"].getHeight(2)
}, t = {
marginBottom: y["default"].getHeight(1),
width: y["default"].getWidth(24),
textAlign: "center",
textAlignForRTL: "center"
}, n = this.props.text ? {
$$typeof: c,
type: d.Text,
key: null,
ref: null,
props: r(d.Text.defaultProps, {
value: this.props.text.toUpperCase(),
size: "M",
style: t
}),
_owner: null
} : void 0, o = this.props.subText ? {
$$typeof: c,
type: d.Text,
key: null,
ref: null,
props: r(d.Text.defaultProps, {
value: this.props.subText,
size: "S"
}),
_owner: null
} : void 0;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ n, o, this.props.children ],
style: [ e, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = i("_$EmptyState")(t) || t;
}(f["default"].Component);
t["default"] = b, b.propTypes = {
text: f["default"].PropTypes.string,
subText: f["default"].PropTypes.string
}, e.exports = t["default"];
}, function(e, t) {
"use strict";
var n = (function() {
function e() {}
return e;
}(), {
current: 0,
max: 0
}), r = function() {
function e(e) {
var t = this;
e = e || {}, this.region = e.region, this.country = e.country, this.game = e.game, 
this.gameId = e.gameId + "", this.guid = e.guid, this.mapMode = e.mapMode || "", 
this.mapModePretty = e.mapModePretty || "", this.mapVariant = e.mapVariant, this.mapName = e.mapName || "", 
this.mapNamePretty = e.mapNamePretty || "", this.mapImageUrl = e.mapImageUrl, this.name = e.name ? e.name.trim() : "", 
this.description = e.description || "", this.ranked = e.ranked || !1, this.preset = e.preset || "", 
this.serverType = e.serverType || "", this.tickRate = e.tickRate || "", this.ip = e.ip || "", 
this.pingSiteAlias = e.pingSiteAlias, this.passwordProtected = e.passwordProtected, 
this.custom = e.custom, this.isFavorite = e.isFavorite, this.mapExpansion = e.mapExpansion || !1, 
this.expansions = e.expansions || [], this.isActive = void 0 !== e.isActive ? !!e.isActive : !0, 
this.experience = e.experience || "", this.operationIndex = e.operationIndex, this.forceJoin = e.forceJoin, 
this.slots = {
soldier: n,
queue: n,
spectator: n,
commander: n
}, e.slots && (this.slots.soldier = e.slots.Soldier || e.slots.soldier || n, this.slots.queue = e.slots.Queue || e.slots.queue || n, 
this.slots.spectator = e.slots.Spectator || e.slots.spectator || n, this.slots.commander = e.slots.Commander || e.slots.commander || n), 
this.rsp = e.rsp || {}, this.expansionMask = 0, this.expansions && this.expansions.forEach(function(e) {
t.expansionMask += e.mask;
}), Object.freeze(this);
}
return e.prototype.hasAvailableSlotsForRole = function(e) {
var t = this.slots[e];
return t && t.current < t.max;
}, e.prototype.isRoleSupported = function(e) {
var t = this.slots[e];
return t && t.max > 0;
}, e;
}();
t.Server = r;
}, function(e, t, n) {
"use strict";
var r, o = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, a = n(1), i = n(3), s = n(16), l = n(7).Text, u = n(308);
!function(e) {
e[e.Left = 0] = "Left", e[e.Right = 1] = "Right";
}(r = t.Direction || (t.Direction = {}));
var c = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.origin = t.props.direction === r.Right || t.props.rtl ? 0 : t.props.outerWidth - t.props.innerWidth, 
t.translateX = s.Animation.tween("38e8cd1c:31", t.origin), t.loopTimeout = null, 
t.delayTimeout = null, t.animationStarted = !1, t;
}
return o(t, e), t.prototype.componentWillUnmount = function() {
clearTimeout(this.delayTimeout), clearTimeout(this.loopTimeout), this.translateX.destroy();
}, t.prototype.componentDidUpdate = function() {
var e = this;
this.props.delay ? (clearTimeout(this.delayTimeout), this.delayTimeout = setTimeout(function() {
return e.update();
}, this.props.delay)) : this.update();
}, t.prototype.getDistance = function(e) {
return this.props.loop ? e : Math.abs(e - this.props.outerWidth);
}, t.prototype.update = function() {
var e = this.getDistance(this.props.innerWidth);
if (clearTimeout(this.loopTimeout), this.reset(e), this.props.innerWidth && this.props.outerWidth > 0 && this.props.outerWidth < this.props.innerWidth) {
if (this.props.loop) return void this.loop(e, !0);
if (this.props.scroll) return void this.scroll(e);
}
}, t.prototype.loop = function(e, t) {
var n = this;
void 0 === t && (t = !1), this.animationStarted || (this.animationStarted = !0, 
this.props.onScrollStart());
var o = this.props.direction === r.Left || this.props.rtl, a = o ? e : -e, i = o ? -this.props.outerWidth : this.props.outerWidth, s = {
duration: this.props.durations.enter * (t ? 5 : 10),
easing: "Linear"
};
this.translateX.to(a, s), this.loopTimeout = setTimeout(function() {
n.props.loop && (n.translateX.set(i), n.loop(e));
}, s.duration);
}, t.prototype.scroll = function(e) {
this.animationStarted || (this.animationStarted = !0, this.props.onScrollStart());
var t = {
duration: this.props.durations.enter * Math.ceil(e / 100),
easing: "linear"
};
this.props.direction !== r.Right || this.props.rtl || (e = -e), this.translateX.to(e, t);
}, t.prototype.reset = function(e) {
var t = this;
if (this.animationStarted && !this.props.loop && !this.props.scroll) {
var n = {
duration: this.props.durations.leave * Math.ceil(e / 100),
easing: "linear"
};
this.translateX.to(this.origin, n, function() {
t.props.onScrollStop();
}), this.animationStarted = !1;
}
}, t.prototype.render = function() {
var e = {
translateX: this.translateX.getStyle(),
enableMouseEvents: !1
};
return a.createElement(u, {
style: e,
onBoundsChanged: this.props.onBoundsChanged
}, this.props.children);
}, t;
}(a.Component);
c.defaultProps = {
outerWidth: 0
};
var p = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.state = {
outerBounds: null,
innerBounds: null,
isAnimated: !1
}, t;
}
return o(t, e), t.prototype.getWidth = function(e) {
return e ? e.width : 0;
}, t.isSizeEqual = function(e, t) {
return e && t && e.width === t.width && e.height === t.height;
}, t.prototype.updateOuterBounds = function(e) {
t.isSizeEqual(this.state.outerBounds, e) || this.setState({
outerBounds: e
});
}, t.prototype.updateInnerBounds = function(e) {
t.isSizeEqual(this.state.innerBounds, e) || this.setState({
innerBounds: e
});
}, t.prototype.renderEllipsis = function() {
var e = {
position: "absolute",
right: -22,
bottom: -2,
opacity: s.Animation.tweenSwitch(1, 0, this.props.scroll)
};
return a.createElement(l, {
value: "...",
style: e
});
}, t.prototype.render = function() {
var e = this, t = this.props.rtl, n = this.props.scrollTo === r.Left || t, o = n ? {
justifyContent: "flex-end"
} : {}, l = {};
this.props.width ? l.width = this.props.width : this.props.style && this.props.style.width && (l.width = this.props.style.width);
var p = l.width ? l.width : this.getWidth(this.state.outerBounds), f = this.getWidth(this.state.innerBounds), d = f && p > 0 && f > p, h = this.props.showEllipsis && d, y = {
enter: this.props.durations && this.props.durations.enter ? this.props.durations.enter : s.Animation.defaultTweenOptions.duration,
leave: this.props.durations && this.props.durations.leave ? this.props.durations.leave : s.Animation.defaultTweenOptions.leave
}, g = i.assign(l, this.props.style, {
marginRight: h ? 22 : 0
}), m = i.assign({
layer: !!d || this.state.isAnimated,
layerClip: !!d || this.state.isAnimated,
flexDirection: "row",
flexWrap: "nowrap",
enableMouseEvents: !1
}, o, l, this.props.style);
return a.createElement("surface", {
style: g,
onClick: this.props.onClick
}, h ? this.renderEllipsis() : null, a.createElement(u, {
style: m,
onBoundsChanged: this.updateOuterBounds.bind(this)
}, a.createElement(c, {
scroll: this.props.scroll,
loop: this.props.loop,
delay: this.props.delay,
direction: this.props.scrollTo,
innerWidth: f,
outerWidth: p,
durations: y,
onScrollStart: function() {
e.setState({
isAnimated: !0
});
},
onScrollStop: function() {
e.setState({
isAnimated: !1
});
},
onBoundsChanged: this.updateInnerBounds.bind(this),
rtl: t
}, this.props.children)));
}, t;
}(a.Component);
p.defaultProps = {
scroll: !1,
scrollTo: r.Right,
loop: !1,
showEllipsis: !1,
durations: {
enter: s.Animation.defaultTweenOptions.duration,
leave: s.Animation.defaultTweenOptions.duration
},
rtl: !1
}, t.Marquee = p;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(51), s = n(282), l = n(24), u = r(l), c = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, new s.GameEntitlements()), u["default"].onSessionEntitlementsReceived.listen(function(e) {
n.setState(new s.GameEntitlements(e));
});
}
return a(t, e), t;
}(i.Store);
t["default"] = new c(), e.exports = t["default"];
}, function(e, t) {
"use strict";
var n = !("undefined" == typeof window || !window.document || !window.document.createElement), r = {
canUseDOM: n,
canUseWorkers: "undefined" != typeof Worker,
canUseEventListeners: n && !(!window.addEventListener && !window.attachEvent),
canUseViewport: n && !!window.screen,
isInWorker: !n
};
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t) {
return c.focus.system.withBounds(function() {
var n, r, a = e.focusAncestor.children.map(function(e) {
return e.getBounds();
}).filter(function(e) {
return !!e;
}), i = e.containerBounds.left, s = e.containerBounds.right, l = Number.MAX_VALUE;
"left" === t ? (n = a.map(function(e) {
return e.right < i ? i - e.right : l;
}), r = a.map(function(e) {
return e.right > i && e.left < i ? i - e.left : l;
})) : (n = a.map(function(e) {
return e.left > s ? e.left - s : l;
}), r = a.map(function(e) {
return e.left < s && e.right > s ? e.right - s : l;
}));
var u = o(n), c = o(r);
return u.delta !== l ? a[u.index] : c.delta !== l ? a[c.index] : void 0;
});
}
function o(e) {
var t = e.map(function(e, t) {
return {
delta: e,
index: t
};
});
return l.sortBy(t, "delta")[0];
}
var a = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, i = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, s = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, l = n(5), u = n(1), c = n(3), p = n(33), f = n(10), d = n(9), h = n(11), y = n(16), g = n(6), m = {
left: {
normal: h.bbOfflineUrl("/sparta/jsclient/builds/assets/left_white-03807e66.png"),
hover: h.bbOfflineUrl("/sparta/jsclient/builds/assets/left_black-fab2d5b9.png")
},
right: {
normal: h.bbOfflineUrl("/sparta/jsclient/builds/assets/right_white-8a3f8212.png"),
hover: h.bbOfflineUrl("/sparta/jsclient/builds/assets/right_black-bdf62701.png")
}
}, b = {
arrow: function(e, t, n, r) {
var o = g.getWidth(1), a = (t - o) / 2, i = "left" === e ? {
position: "absolute",
top: a,
left: g.GUTTER - o / 2
} : {
position: "absolute",
top: a,
right: -g.getWidth(1.5)
};
return Object.assign({}, i, {
zOffset: 1e4,
width: o,
height: o,
padding: [ g.GUTTER, 1.5 * g.GUTTER, g.GUTTER, 1.5 * g.GUTTER ],
enableMouseEvents: n,
backgroundColor: r ? "#ffffff" : "#00000055",
opacity: y.Animation.tweenSwitch(0, 1, n, y.Animation.presets.focusables.enter.fast, y.Animation.presets.focusables.leave)
});
},
arrowTexture: function(e, t) {
return {
flex: 1,
texture: m[e][t ? "hover" : "normal"],
textureAtlas: "SpartaCommonAtlas",
textureMode: "cover"
};
}
}, v = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.focusItem = c.focus.create(n, c.autoId("cardCarouselArrow")), n.focusItem.onClick.listen(n.props.onClick), 
n;
}
return a(t, e), t.prototype.render = function() {
var e = b.arrowTexture(this.props.direction, this.focusItem.isHovered), t = b.arrow(this.props.direction, this.props.scrollerHeight, this.props.isVisible, this.focusItem.isHovered);
return u.createElement("surface", i({
style: t
}, this.focusItem.hooks), u.createElement("surface", {
style: e
}));
}, t;
}(u.Component);
v = s([ f.observer ], v);
var _ = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.scrollerState = new p.ScrollerState(), t.shouldKeepArrowsVisible = !1, 
t;
}
return a(t, e), t.prototype.keepArrowsVisibleFor = function(e) {
var t = this;
this.shouldKeepArrowsVisible = !0, this.keepArrowsVisibleTimeout = setTimeout(d.action(function() {
t.shouldKeepArrowsVisible = !1;
}), e);
}, t.prototype.scroll = function(e) {
var t = r(this.scrollerState, e);
t && (this.scrollerState.scrollToBounds(this.scrollerState.getLocalBounds(t)), this.keepArrowsVisibleFor(1e3));
}, t.prototype.onMouseScroll = function(e) {
this.props.mouseScroll && (this.scrollerState.canScrollLeft || this.scrollerState.canScrollRight) && (e.stopPropagation(), 
this.scroll(e.scroll > 0 ? "left" : "right"));
}, t.prototype.renderArrows = function() {
var e = this, t = this.scrollerState.containerBounds.height, n = !c.focus.system.controllerMode, r = n && (this.scrollerState.canScrollLeft || this.shouldKeepArrowsVisible), o = n && (this.scrollerState.canScrollRight || this.shouldKeepArrowsVisible);
return [ u.createElement(v, {
key: "left",
scrollerHeight: t,
direction: "left",
isVisible: r,
onClick: function() {
return e.scroll("left");
}
}), u.createElement(v, {
key: "right",
scrollerHeight: t,
direction: "right",
isVisible: o,
onClick: function() {
return e.scroll("right");
}
}) ];
}, t.prototype.render = function() {
var e = this, t = {
tween: !0,
scrollbar: !1,
scrollerState: this.scrollerState,
onMouseScroll: function(t) {
return e.onMouseScroll(t);
},
softClip: [ this.props.clipLeft ? g.getWidth(.5) : 0, 0, g.getWidth(2.5), 0 ],
clipMargin: [ 3 * g.GUTTER, g.getWidth(2.5), 3 * g.GUTTER, SpartaGlobals.bundleIsPC ? this.props.clipLeft ? g.getWidth(2.5) : 5 * g.GUTTER : g.getWidth(this.props.clipLeft ? .5 : 2) ],
style: Object.assign({
width: this.props.width
}, this.props.style)
};
return u.createElement(p.Scroller, i({}, t, {
overlay: this.renderArrows(),
noVerticalScroll: !0
}), u.createElement("surface", {
key: "wrapper",
style: {
flexWrap: "nowrap",
flexDirection: "row"
}
}, this.props.children));
}, t;
}(u.Component);
_.defaultProps = {
mouseScroll: !0
}, s([ d.observable ], _.prototype, "shouldKeepArrowsVisible", void 0), s([ d.action ], _.prototype, "keepArrowsVisibleFor", null), 
_ = s([ f.observer ], _), t.CardCarousel = _;
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), f = i(p), d = n(3), h = {
_$ProgressBar: {
displayName: "ProgressBar"
}
}, y = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/ProgressBar.jsx",
components: h,
locals: [],
imports: []
}), g = {
S: 4,
M: 8,
L: 16,
XL: 20
}, m = {
segmentsContainer: {
zOffset: 2,
position: "absolute",
bottom: 0,
left: 0,
flexWrap: "nowrap",
flexDirection: "row"
},
line: {
position: "absolute",
top: 0,
width: 1,
backgroundColor: "#000000"
}
}, b = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.state = {
width: this.props.width
};
}
o(t, e), t.prototype.componentDidUpdateBounds = function i() {
0 === this.state.width && this.bounds.width > 0 && this.setState({
width: this.bounds.width
});
}, t.prototype.getProgressWidth = function s() {
var e = this.state.width * Math.min(this.props.completed, 1) - 2 * this.props.padding;
return Math.floor(e > 0 ? e : this.props.defaultWidth);
}, t.prototype.renderSegmentation = function l() {
for (var e = [], t = 0; t < this.props.segmented - 1; t++) {
var n = c({
height: g[this.props.height],
left: Math.floor(this.state.width * ((t + 1) * (1 / this.props.segmented)))
}, m.line);
e.push({
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
});
}
var r = {
width: this.state.width,
height: g[this.props.height]
};
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: [ m.segmentsContainer, r ]
},
_owner: null
};
}, t.prototype.render = function p() {
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: {
width: this.getProgressWidth(),
opacity: 0 === this.getProgressWidth() ? 0 : 1,
height: g[this.props.height] - 2 * this.props.padding,
backgroundColor: this.props.barColor,
margin: this.props.padding,
borderRadius: this.props.borderRadius
}
},
_owner: null
}, this.props.segmented > 0 && this.renderSegmentation() ]
},
_owner: null
},
style: [ {
width: this.state.width,
height: g[this.props.height],
backgroundColor: this.props.backgroundColor
}, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = a("_$ProgressBar")(t) || t, t = d.hasSurfaceBounds()(t) || t;
}(f["default"].Component);
t["default"] = b, b.propTypes = {
height: f["default"].PropTypes.oneOf([ "s", "m", "l", "xl", "S", "M", "L", "XL" ]),
width: f["default"].PropTypes.number.isRequired,
completed: f["default"].PropTypes.number.isRequired,
defaultWidth: f["default"].PropTypes.number,
segmented: f["default"].PropTypes.number
}, b.defaultProps = {
width: 0,
height: "M",
barColor: "#ff9900",
backgroundColor: "#000000AA",
defaultWidth: 0,
segmented: 0,
padding: 0,
borderRadius: [ 0, 0, 0, 0 ]
}, e.exports = t["default"];
}, function(e, t, n) {
"use strict";
var r = n(98), o = n(38), a = (n(241), "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103), i = {
key: !0,
ref: !0,
__self: !0,
__source: !0
}, s = function(e, t, n, r, o, i, s) {
var l = {
$$typeof: a,
type: e,
key: t,
ref: n,
props: s,
_owner: i
};
return l;
};
s.createElement = function(e, t, n) {
var o, a = {}, l = null, u = null, c = null, p = null;
if (null != t) {
u = void 0 === t.ref ? null : t.ref, l = void 0 === t.key ? null : "" + t.key, c = void 0 === t.__self ? null : t.__self, 
p = void 0 === t.__source ? null : t.__source;
for (o in t) t.hasOwnProperty(o) && !i.hasOwnProperty(o) && (a[o] = t[o]);
}
var f = arguments.length - 2;
if (1 === f) a.children = n; else if (f > 1) {
for (var d = Array(f), h = 0; f > h; h++) d[h] = arguments[h + 2];
a.children = d;
}
if (e && e.defaultProps) {
var y = e.defaultProps;
for (o in y) "undefined" == typeof a[o] && (a[o] = y[o]);
}
return s(e, l, u, c, p, r.current, a);
}, s.createFactory = function(e) {
var t = s.createElement.bind(null, e);
return t.type = e, t;
}, s.cloneAndReplaceKey = function(e, t) {
var n = s(e.type, t, e.ref, e._self, e._source, e._owner, e.props);
return n;
}, s.cloneAndReplaceProps = function(e, t) {
var n = s(e.type, e.key, e.ref, e._self, e._source, e._owner, t);
return n;
}, s.cloneElement = function(e, t, n) {
var a, l = o({}, e.props), u = e.key, c = e.ref, p = e._self, f = e._source, d = e._owner;
if (null != t) {
void 0 !== t.ref && (c = t.ref, d = r.current), void 0 !== t.key && (u = "" + t.key);
for (a in t) t.hasOwnProperty(a) && !i.hasOwnProperty(a) && (l[a] = t[a]);
}
var h = arguments.length - 2;
if (1 === h) l.children = n; else if (h > 1) {
for (var y = Array(h), g = 0; h > g; g++) y[g] = arguments[g + 2];
l.children = y;
}
return s(e.type, u, c, p, f, d, l);
}, s.isValidElement = function(e) {
return "object" == typeof e && null !== e && e.$$typeof === a;
}, e.exports = s;
}, function(e, t, n) {
"use strict";
function r(e, t) {
for (var n = Math.min(e.length, t.length), r = 0; n > r; r++) if (e.charAt(r) !== t.charAt(r)) return r;
return e.length === t.length ? -1 : n;
}
function o(e) {
return e ? e.nodeType === j ? e.documentElement : e.firstChild : null;
}
function a(e) {
var t = o(e);
return t && Y.getID(t);
}
function i(e) {
var t = s(e);
if (t) if (F.hasOwnProperty(t)) {
var n = F[t];
n !== e && (p(n, t) ? U(!1) : void 0, F[t] = e);
} else F[t] = e;
return t;
}
function s(e) {
return e && e.getAttribute && e.getAttribute(G) || "";
}
function l(e, t) {
var n = s(e);
n !== t && delete F[n], e.setAttribute(G, t), F[t] = e;
}
function u(e) {
return F.hasOwnProperty(e) && p(F[e], e) || (F[e] = Y.findReactNodeByID(e)), F[e];
}
function c(e) {
var t = C.get(e)._rootNodeID;
return E.isNullComponentID(t) ? null : (F.hasOwnProperty(t) && p(F[t], t) || (F[t] = Y.findReactNodeByID(t)), 
F[t]);
}
function p(e, t) {
if (e) {
s(e) !== t ? U(!1) : void 0;
var n = Y.findReactContainerForID(t);
if (n && N(n, e)) return !0;
}
return !1;
}
function f(e) {
delete F[e];
}
function d(e) {
var t = F[e];
return t && p(t, e) ? void (K = t) : !1;
}
function h(e) {
K = null, I.traverseAncestors(e, d);
var t = K;
return K = null, t;
}
function y(e, t, n, r, o, a) {
T.useCreateElement && (a = x({}, a), n.nodeType === j ? a[V] = n : a[V] = n.ownerDocument);
var i = O.mountComponent(e, t, r, a);
e._renderedComponent._topLevelWrapper = e, Y._mountImageIntoNode(i, n, o, r);
}
function g(e, t, n, r, o) {
var a = k.ReactReconcileTransaction.getPooled(r);
a.perform(y, null, e, t, n, a, r, o), k.ReactReconcileTransaction.release(a);
}
function m(e, t) {
for (O.unmountComponent(e), t.nodeType === j && (t = t.documentElement); t.lastChild; ) t.removeChild(t.lastChild);
}
function b(e) {
var t = a(e);
return t ? t !== I.getReactRootIDFromNodeID(t) : !1;
}
function v(e) {
for (;e && e.parentNode !== e; e = e.parentNode) if (1 === e.nodeType) {
var t = s(e);
if (t) {
var n, r = I.getReactRootIDFromNodeID(t), o = e;
do if (n = s(o), o = o.parentNode, null == o) return null; while (n !== r);
if (o === W[r]) return e;
}
}
return null;
}
var _ = n(164), S = n(237), T = (n(98), n(513)), w = n(71), E = n(520), I = n(139), C = n(199), A = n(524), P = n(87), O = n(123), R = n(330), k = n(74), x = n(38), M = n(195), N = n(499), D = n(243), U = n(32), L = n(244), $ = n(340), G = (n(342), 
n(40), _.ID_ATTRIBUTE_NAME), F = {}, B = 1, j = 9, H = 11, V = "__ReactMount_ownerDocument$" + Math.random().toString(36).slice(2), z = {}, W = {}, q = [], K = null, X = function() {};
X.prototype.isReactComponent = {}, X.prototype.render = function() {
return this.props;
};
var Y = {
TopLevelWrapper: X,
_instancesByReactRootID: z,
scrollMonitor: function(e, t) {
t();
},
_updateRootComponent: function(e, t, n, r) {
return Y.scrollMonitor(n, function() {
R.enqueueElementInternal(e, t), r && R.enqueueCallbackInternal(e, r);
}), e;
},
_registerComponent: function(e, t) {
!t || t.nodeType !== B && t.nodeType !== j && t.nodeType !== H ? U(!1) : void 0, 
S.ensureScrollValueMonitoring();
var n = Y.registerContainer(t);
return z[n] = e, n;
},
_renderNewRootComponent: function(e, t, n, r) {
var o = D(e, null), a = Y._registerComponent(o, t);
return k.batchedUpdates(g, o, a, t, n, r), o;
},
renderSubtreeIntoContainer: function(e, t, n, r) {
return null == e || null == e._reactInternalInstance ? U(!1) : void 0, Y._renderSubtreeIntoContainer(e, t, n, r);
},
_renderSubtreeIntoContainer: function(e, t, n, r) {
w.isValidElement(t) ? void 0 : U(!1);
var i = new w(X, null, null, null, null, null, t), l = z[a(n)];
if (l) {
var u = l._currentElement, c = u.props;
if ($(c, t)) {
var p = l._renderedComponent.getPublicInstance(), f = r && function() {
r.call(p);
};
return Y._updateRootComponent(l, i, n, f), p;
}
Y.unmountComponentAtNode(n);
}
var d = o(n), h = d && !!s(d), y = b(n), g = h && !l && !y, m = Y._renderNewRootComponent(i, n, g, null != e ? e._reactInternalInstance._processChildContext(e._reactInternalInstance._context) : M)._renderedComponent.getPublicInstance();
return r && r.call(m), m;
},
render: function(e, t, n) {
return Y._renderSubtreeIntoContainer(null, e, t, n);
},
registerContainer: function(e) {
var t = a(e);
return t && (t = I.getReactRootIDFromNodeID(t)), t || (t = I.createReactRootID()), 
W[t] = e, t;
},
unmountComponentAtNode: function(e) {
!e || e.nodeType !== B && e.nodeType !== j && e.nodeType !== H ? U(!1) : void 0;
var t = a(e), n = z[t];
if (!n) {
var r = (b(e), s(e));
r && r === I.getReactRootIDFromNodeID(r);
return !1;
}
return k.batchedUpdates(m, n, e), delete z[t], delete W[t], !0;
},
findReactContainerForID: function(e) {
var t = I.getReactRootIDFromNodeID(e), n = W[t];
return n;
},
findReactNodeByID: function(e) {
var t = Y.findReactContainerForID(e);
return Y.findComponentRoot(t, e);
},
getFirstReactDOM: function(e) {
return v(e);
},
findComponentRoot: function(e, t) {
var n = q, r = 0, o = h(t) || e;
for (n[0] = o.firstChild, n.length = 1; r < n.length; ) {
for (var a, i = n[r++]; i; ) {
var s = Y.getID(i);
s ? t === s ? a = i : I.isAncestorIDOf(s, t) && (n.length = r = 0, n.push(i.firstChild)) : n.push(i.firstChild), 
i = i.nextSibling;
}
if (a) return n.length = 0, a;
}
n.length = 0, U(!1);
},
_mountImageIntoNode: function(e, t, n, a) {
if (!t || t.nodeType !== B && t.nodeType !== j && t.nodeType !== H ? U(!1) : void 0, 
n) {
var i = o(t);
if (A.canReuseMarkup(e, i)) return;
var s = i.getAttribute(A.CHECKSUM_ATTR_NAME);
i.removeAttribute(A.CHECKSUM_ATTR_NAME);
var l = i.outerHTML;
i.setAttribute(A.CHECKSUM_ATTR_NAME, s);
var u = e, c = r(u, l);
" (client) " + u.substring(c - 20, c + 20) + "\n (server) " + l.substring(c - 20, c + 20);
t.nodeType === j ? U(!1) : void 0;
}
if (t.nodeType === j ? U(!1) : void 0, a.useCreateElement) {
for (;t.lastChild; ) t.removeChild(t.lastChild);
t.appendChild(e);
} else L(t, e);
},
ownerDocumentContextKey: V,
getReactRootID: a,
getID: i,
setID: l,
getNode: u,
getNodeFromInstance: c,
isValid: p,
purgeID: f
};
P.measureMethods(Y, "ReactMount", {
_renderNewRootComponent: "_renderNewRootComponent",
_mountImageIntoNode: "_mountImageIntoNode"
}), e.exports = Y;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = e.lastIndexOf("/");
return t > -1 ? e.substring(t + 1) : void 0;
}
var o, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(9), s = n(8), l = n(36);
!function(e) {
e[e.highlights = 0] = "highlights", e[e.personal = 1] = "personal", e[e.scoreboard = 2] = "scoreboard", 
e[e.squad = 3] = "squad";
}(o = t.EorPages || (t.EorPages = {}));
var u = function() {
function e() {
this.data = void 0, this.unrankedData = void 0, this.battlePacksData = void 0, this.error = void 0, 
this.isActive = !1, this.fallbackMapName = "", this.fallbackGameMode = "", this.nextLevelName = void 0, 
this.nextGameMode = void 0, this.loadingScreenReady = !1, this.quitInProgress = !1, 
this.viewedPages = [], this.gameReadyToQuit = !1, this.reportedPlayers = [], this.unrankedGame = !1, 
this.readyToShowNextInfo = !1, this.hasReceivedNextRoundInfo = !1;
}
return e.prototype.initializeEor = function() {
this.loadingScreenReady = !1;
}, e.prototype.setEndOfRoundData = function(e) {
this.data = e;
}, e.prototype.setError = function(e) {
this.error = e;
}, e.prototype.clearEndOfRoundData = function(e) {
this.viewedPages = [], this.reportedPlayers = [], this.data = void 0, this.unrankedData = void 0, 
this.error = void 0, this.gameReadyToQuit = !1, this.battlePacksData && this.battlePacksData.gameReportId !== e && (this.battlePacksData = void 0), 
this.fallbackGameMode = "", this.fallbackMapName = "", this.nextGameMode = void 0, 
this.nextLevelName = void 0, this.readyToShowNextInfo = !1, this.hasReceivedNextRoundInfo = !1;
}, Object.defineProperty(e.prototype, "battlePacks", {
get: function() {
return this.data && this.data.battlePacks || this.battlePacksData;
},
enumerable: !0,
configurable: !0
}), e.prototype.setBattlepacks = function(e) {
this.battlePacksData = e;
}, e.prototype.setFallbackMapName = function(e) {
this.fallbackMapName = e;
}, e.prototype.setFallbackGameMode = function(e) {
this.fallbackGameMode = e;
}, e.prototype.setQuitProgress = function(e) {
this.quitInProgress = e;
}, e.prototype.setGameReadyToQuit = function(e) {
this.gameReadyToQuit = e;
}, e.prototype.setReadyToShowNextInfo = function() {
this.readyToShowNextInfo = !0;
}, e.prototype.setLoadingState = function(e) {
var t = this, n = e.levelName || "";
-1 === n.toLowerCase().indexOf("frontend") ? (n && "" !== n && (this.nextLevelName = r(n)), 
e.gameMode && "" !== e.gameMode && (this.nextGameMode = e.gameMode && e.gameMode.replace(/[_0-9]+$/, "")), 
this.loadingScreenReady = !0, this.hasReceivedNextRoundInfo || (this.hasReceivedNextRoundInfo = !0, 
setTimeout(function() {
t.setReadyToShowNextInfo();
}, 1e3))) : (this.nextLevelName = void 0, this.nextGameMode = void 0);
}, e.prototype.clearViewedPages = function() {
this.viewedPages = [];
}, e.prototype.viewPage = function(e) {
this.isViewed(e) || this.viewedPages.push(e);
}, e.prototype.reportPlayer = function(e) {
this.isReported(e) || this.reportedPlayers.push(e);
}, e.prototype.setUnrankedGame = function(e) {
this.unrankedGame = e;
}, e.prototype.setUnRankedData = function(e) {
s.settingsStore.isFeatureEnabled("eorShowOnUnranked") && (this.unrankedData = e);
}, Object.defineProperty(e.prototype, "isLoadingDataEnabled", {
get: function() {
return s.settingsStore.isFeatureEnabled("eorLoadingScreenInfo");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isQuitDuringLoadingEnabled", {
get: function() {
return s.settingsStore.isFeatureEnabled("eorLoadingScreenQuitInProgress");
},
enumerable: !0,
configurable: !0
}), e.prototype.isViewed = function(e) {
return this.viewedPages.indexOf(e) >= 0;
}, e.prototype.isReported = function(e) {
return this.reportedPlayers.indexOf(e) >= 0;
}, e;
}();
a([ i.observable ], u.prototype, "data", void 0), a([ i.observable ], u.prototype, "unrankedData", void 0), 
a([ i.observable ], u.prototype, "battlePacksData", void 0), a([ i.observable ], u.prototype, "error", void 0), 
a([ i.observable ], u.prototype, "isActive", void 0), a([ i.observable ], u.prototype, "fallbackMapName", void 0), 
a([ i.observable ], u.prototype, "fallbackGameMode", void 0), a([ i.observable ], u.prototype, "nextLevelName", void 0), 
a([ i.observable ], u.prototype, "nextGameMode", void 0), a([ i.observable ], u.prototype, "loadingScreenReady", void 0), 
a([ i.observable ], u.prototype, "quitInProgress", void 0), a([ i.observable ], u.prototype, "viewedPages", void 0), 
a([ i.observable ], u.prototype, "gameReadyToQuit", void 0), a([ i.observable ], u.prototype, "reportedPlayers", void 0), 
a([ i.observable ], u.prototype, "unrankedGame", void 0), a([ i.observable ], u.prototype, "readyToShowNextInfo", void 0), 
a([ i.action ], u.prototype, "initializeEor", null), a([ i.action ], u.prototype, "setEndOfRoundData", null), 
a([ i.action ], u.prototype, "setError", null), a([ i.action ], u.prototype, "clearEndOfRoundData", null), 
a([ i.computed ], u.prototype, "battlePacks", null), a([ i.action ], u.prototype, "setBattlepacks", null), 
a([ i.action ], u.prototype, "setFallbackMapName", null), a([ i.action ], u.prototype, "setFallbackGameMode", null), 
a([ i.action ], u.prototype, "setQuitProgress", null), a([ i.action ], u.prototype, "setGameReadyToQuit", null), 
a([ i.action ], u.prototype, "setReadyToShowNextInfo", null), a([ i.action ], u.prototype, "setLoadingState", null), 
a([ i.action ], u.prototype, "clearViewedPages", null), a([ i.action ], u.prototype, "viewPage", null), 
a([ i.action ], u.prototype, "reportPlayer", null), a([ i.action ], u.prototype, "setUnrankedGame", null), 
a([ i.action ], u.prototype, "setUnRankedData", null), a([ i.computed ], u.prototype, "isLoadingDataEnabled", null), 
a([ i.computed ], u.prototype, "isQuitDuringLoadingEnabled", null), t.tunguskaEndOfRoundStore = new u(), 
l.scope("isReady").listen(function(e) {
t.tunguskaEndOfRoundStore.setGameReadyToQuit(e);
});
}, function(e, t, n) {
"use strict";
function r() {
C.ReactReconcileTransaction && _ ? void 0 : g(!1);
}
function o() {
this.reinitializeTransaction(), this.dirtyComponentsLength = null, this.callbackQueue = c.getPooled(), 
this.reconcileTransaction = C.ReactReconcileTransaction.getPooled(!1);
}
function a(e, t, n, o, a, i) {
r(), _.batchedUpdates(e, t, n, o, a, i);
}
function i(e, t) {
return e._mountOrder - t._mountOrder;
}
function s(e) {
var t = e.dirtyComponentsLength;
t !== m.length ? g(!1) : void 0, m.sort(i);
for (var n = 0; t > n; n++) {
var r = m[n], o = r._pendingCallbacks;
if (r._pendingCallbacks = null, d.performUpdateIfNecessary(r, e.reconcileTransaction), 
o) for (var a = 0; a < o.length; a++) e.callbackQueue.enqueue(o[a], r.getPublicInstance());
}
}
function l(e) {
return r(), _.isBatchingUpdates ? void m.push(e) : void _.batchedUpdates(l, e);
}
function u(e, t) {
_.isBatchingUpdates ? void 0 : g(!1), b.enqueue(e, t), v = !0;
}
var c = n(236), p = n(110), f = n(87), d = n(123), h = n(201), y = n(38), g = n(32), m = [], b = c.getPooled(), v = !1, _ = null, S = {
initialize: function() {
this.dirtyComponentsLength = m.length;
},
close: function() {
this.dirtyComponentsLength !== m.length ? (m.splice(0, this.dirtyComponentsLength), 
E()) : m.length = 0;
}
}, T = {
initialize: function() {
this.callbackQueue.reset();
},
close: function() {
this.callbackQueue.notifyAll();
}
}, w = [ S, T ];
y(o.prototype, h.Mixin, {
getTransactionWrappers: function() {
return w;
},
destructor: function() {
this.dirtyComponentsLength = null, c.release(this.callbackQueue), this.callbackQueue = null, 
C.ReactReconcileTransaction.release(this.reconcileTransaction), this.reconcileTransaction = null;
},
perform: function(e, t, n) {
return h.Mixin.perform.call(this, this.reconcileTransaction.perform, this.reconcileTransaction, e, t, n);
}
}), p.addPoolingTo(o);
var E = function() {
for (;m.length || v; ) {
if (m.length) {
var e = o.getPooled();
e.perform(s, null, e), o.release(e);
}
if (v) {
v = !1;
var t = b;
b = c.getPooled(), t.notifyAll(), c.release(t);
}
}
};
E = f.measure("ReactUpdates", "flushBatchedUpdates", E);
var I = {
injectReconcileTransaction: function(e) {
e ? void 0 : g(!1), C.ReactReconcileTransaction = e;
},
injectBatchingStrategy: function(e) {
e ? void 0 : g(!1), "function" != typeof e.batchedUpdates ? g(!1) : void 0, "boolean" != typeof e.isBatchingUpdates ? g(!1) : void 0, 
_ = e;
}
}, C = {
ReactReconcileTransaction: null,
batchedUpdates: a,
enqueueUpdate: l,
flushBatchedUpdates: E,
injection: I,
asap: u
};
e.exports = C;
}, function(e, t) {
"use strict";
var n;
!function(e) {
e[e.None = 0] = "None", e[e.Joinable = 1] = "Joinable", e[e.Playing = 2] = "Playing", 
e[e.Online = 3] = "Online", e[e.Away = 4] = "Away", e[e.Offline = 5] = "Offline";
}(n = t.UserPresenceStates || (t.UserPresenceStates = {}));
}, function(e, t) {
"use strict";
t.options = {
defaultFontFamily: null,
defaultFontSize: 18,
defaultFontColor: "#ffffff",
enableRTV: !1,
enableMouse: !0,
enableDevWarnings: !0,
enableLogging: !0,
rlvSocketUrl: null,
onErrorCallback: null,
urlHook: function(e) {
return e;
},
fontSettings: {},
getFontSettings: function(e) {
return t.options.fontSettings[e] ? t.options.fontSettings[e] : t.options.fontSettings["default"] || {};
},
batchCallTransformer: function(e) {
return e;
}
};
}, function(e, t, n) {
var r = n(15), o = {
trackScreen: r.createAction(),
trackScreenState: r.createAction(),
trackEvent: r.createAction(),
trackTimer: r.createAction(),
trackException: r.createAction(),
trackFunnel: r.createAction(),
trackMetric: r.createAction(),
trackDimension: r.createAction(),
trackJoinSource: r.createAction(),
trackPurchase: r.createAction(),
flush: r.createAction()
};
e.exports = o;
}, function(e, t, n) {
var r = n(15);
e.exports = {
connect: r.createAction(),
disconnect: r.createAction(),
handleMessage: r.createAction()
};
}, function(e, t, n) {
var r = n(15), o = n(26), a = n(23), i = new o("ServerGameDataStore"), s = r.createStore({
init: function l() {
this.listenTo(a.setGameData, function(e) {
i.setState(e), s.trigger(this.getState());
});
},
getState: function u() {
return i.getState();
}
});
e.exports = s;
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15);
t["default"] = {
getArticles: r.createAction(),
getArticleDetail: r.createAction(),
updateDetails: r.createAction(),
saveArticleMetrics: r.createAction(),
resetArticleDetailState: r.createAction(),
getContactChannels: r.createAction(),
updateLocation: r.createAction(),
updateSource: r.createAction(),
updateCategories: r.createAction(),
updateArticleId: r.createAction(),
updateSelectedCategory: r.createAction(),
resetContextDetails: r.createAction(),
updateContactDetails: r.createAction(),
createCase: r.createAction(),
updateSelectedChannel: r.createAction(),
resetCaseDetailState: r.createAction(),
resetChannelDetailState: r.createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
"use strict";
function r(e) {
if (isNaN(e)) return "0";
var t = Math.round(10 * e) / 10;
return t.toLocaleString();
}
function o(e) {
var t = l.getState().locale || "en-us";
if ("number" != typeof e || "undefined" == typeof u[t]) return "";
var n = e.toFixed(2), r = u[t].decimal;
return n.replace(".", r);
}
function a(e, t) {
return "number" != typeof e || "number" != typeof t ? "" : o(e / Math.max(t, 1));
}
function i(e) {
if ("undefined" == typeof e) return "";
var t = l.getState().locale || "en-us", n = e.toString().split("."), r = u[t];
return n[0] = n[0].replace(/\B(?=(\d{3})+(?!\d))/g, r.thousand), n.join(r.decimal);
}
function s(e, t) {
var n = 2, r = 100, o = l.getState().locale || "en-us", a = u[o], i = function(e) {
return "undefined" == typeof u[o] ? e : e.replace(".", a.decimal);
};
if (isNaN(e)) return i("0.00");
(t && !isNaN(t) || 0 === t) && (n = t, r = Math.pow(10, t));
var s = (Math.round(e * r) / r).toFixed(n);
return i(s);
}
var l = n(19);
t.formatNumber = r, t.formatRatio = o, t.formatRatioBetweenNumbers = a, t.formatThousands = i, 
t.formatDecimals = s;
var u = {
"ar-sa": {
decimal: ".",
thousand: ","
},
"cs-cz": {
decimal: ".",
thousand: ","
},
"de-de": {
decimal: ",",
thousand: "."
},
"en-us": {
decimal: ".",
thousand: ","
},
"es-es": {
decimal: ",",
thousand: ""
},
"es-mx": {
decimal: ".",
thousand: " "
},
"fr-fr": {
decimal: ",",
thousand: " "
},
"it-it": {
decimal: ",",
thousand: "."
},
"ja-jp": {
decimal: ".",
thousand: ","
},
"ko-kr": {
decimal: ".",
thousand: ","
},
"pl-pl": {
decimal: ",",
thousand: " "
},
"pt-br": {
decimal: ",",
thousand: "."
},
"ru-ru": {
decimal: ",",
thousand: " "
},
"tr-tr": {
decimal: ",",
thousand: "."
},
"zh-tw": {
decimal: ".",
thousand: ","
}
};
}, function(e, t, n) {
"use strict";
function r(e) {
var t = a[e];
return t || (t = a[e] = new o.TwinkleTypedEvent()), t;
}
var o = n(116);
t.onInputActionDown = new o.TwinkleEvent(), t.onInputActionUp = new o.TwinkleEvent(), 
t.onKeyDown = new o.TwinkleEvent(), t.onKeyUp = new o.TwinkleEvent(), t.onPadButtonDown = new o.TwinkleEvent(), 
t.onPadButtonUp = new o.TwinkleEvent(), t.onTextureLoaded = new o.TwinkleEvent(), 
t.beginReactTransaction = new o.TwinkleEvent(), t.endReactTransaction = new o.TwinkleEvent(), 
t.onTypingInput = new o.TwinkleEvent(), t.onMouseEventBeforePropagation = new o.TwinkleTypedEvent(), 
t.onMouseEventAfterPropagation = new o.TwinkleTypedEvent(), t.onMouseEventHandled = new o.TwinkleTypedEvent(), 
t.onWindowSizeChanged = new o.TwinkleEvent(), t.onConsoleMessage = new o.TwinkleTypedEvent(), 
t.onAssetLoaded = new o.TwinkleEvent(), t.onVideoStopped = new o.TwinkleEvent(), 
t.onVideoLooped = new o.TwinkleEvent(), t.onVideoStartPlaying = new o.TwinkleEvent(), 
t.onManifestDownloaded = new o.TwinkleTypedEvent(), t.onManifestAssetsDownloadStarted = new o.TwinkleTypedEvent(), 
t.onManifestAssetsDownloadCompleted = new o.TwinkleTypedEvent();
var a = {};
t.getCommandHandler = r, t.onConsoleMessage.listen(function(e) {
var t = e.indexOf(" ");
if (!(1 > t)) {
var n = e.substr(0, t), r = e.substr(t + 1), o = a[n];
o && o.trigger(r);
}
});
}, function(e, t) {
t.__esModule = !0, t["default"] = function(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? !0 : arguments[2], r = arguments.length <= 3 || void 0 === arguments[3] ? !0 : arguments[3], o = void 0;
return function() {
var a = this, i = arguments;
n && !o ? (e.apply(this, i), o = setTimeout(function() {
o = null;
}, t)) : (o && clearTimeout(o), o = setTimeout(function() {
r && e.apply(a, i), o = null;
}, t));
};
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, s = n(51), l = n(93), u = r(l), c = n(295), p = r(c), f = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, new p["default"]()), u["default"].newSession.listen(function(e) {
n.setState(new p["default"](e));
}), u["default"].receivedSessionUpdate.listen(function(e) {
var t = e.sessionId, r = e.status, o = n.getState();
if (o && t === o.sessionId) {
var a = new p["default"](i({}, o, {
status: r.name
}));
n.setState(a);
}
}), u["default"].receivedSessionServer.listen(function(e, t) {
var r = e.sessionId, o = n.getState();
if (o && r === o.sessionId) {
var a = new p["default"](i({}, o, {
server: t
}));
n.setState(a);
}
}), u["default"].removeSession.listen(function(e) {
var t = n.getState();
t && t.sessionId === e.sessionId && n.setState(new p["default"]());
}), u["default"].canJoinSession.listen(function(e) {
var t = n.getState();
t && t.sessionId && n.setState(new p["default"](i({}, t, {
canJoin: e
})));
});
}
return a(t, e), t;
}(s.Store);
t["default"] = new f(), e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var a = n(5), i = n(1), s = n(13), l = n(20), u = n(317), c = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.getInput = function a() {
return this.props.action || this.props.holdAction || this.props.releaseAction ? new s({
visible: !1,
key: this.props.inputKey,
action: this.props.action,
align: this.props.align,
holdAction: this.props.holdAction,
releaseAction: this.props.releaseAction,
blockInputFor: this.props.blockInputFor || 0
}) : void 0;
};
var n = t;
return t = l()(t) || t;
}(u);
c.propTypes = a.extend({}, u.propTypes, {
action: i.PropTypes.func,
holdAction: i.PropTypes.func,
releaseAction: i.PropTypes.func
}), t["default"] = c, e.exports = t["default"];
}, function(e, t) {
"use strict";
function n(e) {
return function() {
return e;
};
}
function r() {}
r.thatReturns = n, r.thatReturnsFalse = n(!1), r.thatReturnsTrue = n(!0), r.thatReturnsNull = n(null), 
r.thatReturnsThis = function() {
return this;
}, r.thatReturnsArgument = function(e) {
return e;
}, e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
return n;
}
var o = {
enableMeasure: !1,
storedMeasure: r,
measureMethods: function(e, t, n) {
},
measure: function(e, t, n) {
return n;
},
injection: {
injectMeasure: function(e) {
o.storedMeasure = e;
}
}
};
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
return a.reduce(s.parse(e), function(e, t, n) {
return e[n] = t, e;
}, {});
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(5), i = n(9), s = n(924), l = function() {
function e(t) {
void 0 === t && (t = ""), t = "string" == typeof t ? e.parse(t) : e.parse(t.path, t.args), 
this.path = t.path, this.args = t.args || {};
}
return Object.defineProperty(e.prototype, "section", {
get: function() {
return e.determineSection(this.path);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "queryString", {
get: function() {
return s.stringify(this.args);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "url", {
get: function() {
return this.queryString ? this.path + "?" + this.queryString : this.path;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "expression", {
get: function() {
return new RegExp("^" + this.path);
},
enumerable: !0,
configurable: !0
}), e.indexOfBestMatch = function(e, t, n) {
if (!t) return -1;
for (var r = n ? function(e) {
return t.path === e.path;
} : function(e) {
return e.expression.test(t.path);
}, o = -1, a = Number.MAX_VALUE, i = 0; i < e.length; i++) {
var s = e[i];
if (r(s)) {
var l = Math.abs(s.path.length - t.path.length);
a > l && (o = i, a = l);
}
}
return -1 === o && t.path.length > 0 && (o = 0), o;
}, e.determineSection = function(e) {
"#/" === e.substr(0, 2) && (e = e.substr(2)), "/" === e[0] && (e = e.substr(1));
var t = e.indexOf("/", 1);
return -1 !== t ? e.substr(0, t) : e;
}, e.parse = function(e, t) {
e = e ? e + "" : "", e || (e = "");
var n, o, i = e.indexOf("?");
if (-1 === i) n = e, o = {}; else {
var s = e.substr(i + 1);
n = e.substr(0, i), o = r(s);
}
return {
path: n,
args: a.extend(o, t)
};
}, e.prototype.equals = function(e) {
return e ? e.path === this.path && a.isEqual(e.args, this.args) : !1;
}, e.prototype.toString = function() {
return this.url;
}, e;
}();
o([ i.computed ], l.prototype, "section", null), o([ i.computed ], l.prototype, "queryString", null), 
o([ i.computed ], l.prototype, "url", null), o([ i.computed ], l.prototype, "expression", null), 
t.Location = l;
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15);
t["default"] = {
onConnecting: r.createAction(),
onReady: r.createAction(),
onDisconnected: r.createAction(),
onFirstPartyConnected: r.createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
var r = n(15);
e.exports = {
joinMultiplayerServer: r.createAction(),
joinMultiplayerFriend: r.createAction(),
continueSinglePlayer: r.createAction()
};
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15);
t["default"] = {
onJoinMultiplayerServerResult: r.createAction(),
onMultiplayerServerDisconnection: r.createAction(),
onJoinMultiplayerFailed: r.createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, a = n(5), i = r(a), s = n(15), l = n(26), u = r(l), c = n(279), p = r(c), f = new u["default"]("PingSiteStore"), d = s.createStore({
init: function h() {
var e = this;
this.listenTo(p["default"].setPingSites, function(t, n) {
var r = {};
n.forEach(function(e) {
r[e.alias] = e;
}), f.set(t, r), e.trigger(e.getState());
}), this.listenTo(p["default"].updatePingSites, function(t, n) {
var r = o({}, f.get(t));
n.forEach(function(e) {
r[e.alias] = e;
}), f.set(t, r), e.trigger(e.getState());
});
},
getState: function y() {
return f.getState();
},
getPingSitesByAddress: function g(e, t) {
var n = f.get(e);
return Object.keys(n).filter(function(e) {
return n[e].address === t;
}).map(function(e) {
return n[e];
});
},
getBestPingSiteAlias: function m(e) {
var t = this.getBestPingSite(e);
return null != t ? t.alias : null;
},
getBestPingSite: function b(e) {
var t = f.get(e), n = i["default"].sortBy(i["default"].filter(t, function(e) {
return e.ping > 0;
}), "ping");
return n.length > 0 ? n[0] : null;
}
});
t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
var r = n(15);
e.exports = {
prepare: r.createAction({
children: [ "cancel", "continue" ]
}),
start: r.createAction(),
stop: r.createAction(),
getStatus: r.createAction(),
newSession: r.createAction(),
receivedSessionUpdate: r.createAction(),
receivedSessionServer: r.createAction(),
removeSession: r.createAction(),
canJoinSession: r.createAction(),
handleServerFound: r.createAction(),
onMatchmakingFailedDismiss: r.createAction()
};
}, function(e, t, n) {
(function(__) {
function e(e) {
switch (e) {
case 0:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_RARITY_SPECIAL");

case 1:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_RARITY_DISTINGUISHED");

case 2:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_RARITY_LEGENDARY");

case 3:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_RARITY_LEGENDARY");
}
}
t.__esModule = !0, t.getName = e;
var r = n(11), o = n(45), a = r.bbOfflineUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_white_flare-a3a0b83b.png");
t.standard = a;
var i = r.bbOfflineUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_white_flare-a3a0b83b.png");
t.special = i;
var s = r.bbOfflineUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_blue_flare-3f82da1b.png");
t.distinguished = s;
var l = r.bbOfflineUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_orange_flare-68d1e160.png");
t.legendary = l;
var u = r.bbUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_orange_flare-68d1e160.png");
t.mixed = u, o.acceptKeyword("accept_exclusive_keywords_start");
var c = "fb://Sparta/UI/Movies/tunguskapack_standard_1", p = "fb://Sparta/UI/Movies/tunguskapack_standard_2", f = "fb://Sparta/UI/Movies/tunguskapack_standard_3", d = "fb://Sparta/UI/Movies/tunguskapack_enhanced_2", h = "fb://Sparta/UI/Movies/tunguskapack_enhanced_3", y = "fb://Sparta/UI/Movies/tunguskapack_superior_3";
o.acceptKeyword("accept_exclusive_keywords_end");
var g = {
0: [ c, p, f ],
1: [ d, d, h ],
2: [ y, y, y ]
};
t.videos = g;
var m = {
0: i,
1: s,
2: l,
3: u
};
t.level = m;
var b = {
0: r.bbUrl("/sparta/assets/tunguska/battlepacks/flare-white-grid-6df9d5a2.png"),
1: r.bbUrl("/sparta/assets/tunguska/battlepacks/flare-blue-grid-0712865c.png"),
2: r.bbUrl("/sparta/assets/tunguska/battlepacks/flare-orange-grid-55edbcfe.png"),
width: 206,
height: 170
};
t.fade = b, o.acceptKeyword("accept_exclusive_keywords_start");
var v = {
0: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-white-9297467d.jpg"),
1: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-blue-7e706f88.jpg"),
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-orange-0b2a170f.jpg"),
3: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-orange-0b2a170f.jpg"),
width: 408,
height: 1e3
};
t.flare = v;
var _ = {
0: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-side-white-46ef71e7.jpg"),
1: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-side-blue-627243c1.jpg"),
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-side-orange-84ff029e.jpg"),
3: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-side-orange-84ff029e.jpg"),
width: 1782,
height: 922
};
t.sideFlare = _;
var S = {
0: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/bottom-flare-white-db827b5b.jpg"),
1: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/bottom-flare-blue-c1f2b771.jpg"),
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/bottom-flare-orange-1e65fd65.jpg"),
3: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/bottom-flare-orange-1e65fd65.jpg"),
width: 1e3,
height: 455
};
t.bottomGlow = S;
var T = r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/CircleBoom-d69f3cbb.png");
t.circleTexture = T;
var w = r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/Battlepack_TankSkin-e5669d14.wav"), E = {
DEFAULT: w,
VEHICLE: w,
WEAPON: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/Battlepack_WeaponSkin_WHITE_Small_WITH_TAIL_STE-a70cab95.wav"),
NUGGET: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/Battlepack_WeaponSkin_BLUE_Medium_WITH_TAIL_STE-1e40f11e.wav")
};
t.openingAudio = E;
var I = r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/endframe-8d869f8a.jpg");
t.backgroundEnd = I, o.acceptKeyword("accept_exclusive_keywords_end"), o.acceptKeyword("accept_exclusive_keywords_start");
var C = {
0: {
frames: [ r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f1-5290508a.dds"), r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f2-50222f29.dds") ],
0: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f3_0-39f4d8f9.dds"),
1: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f3_1-b21130e3.dds"),
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f3_2-e9f7c6bd.dds")
},
1: {
frames: [ r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f1-c606bf16.dds"), r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f2-1a493088.dds"), r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f3-fb397a41.dds") ],
1: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f4_1-b21ed798.dds"),
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f4_2-fcce5e8b.dds")
},
2: {
frames: [ r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f1-9eca1ab6.dds"), r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f2-59efaf46.dds"), r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f3-533da6a1.dds"), r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f4-fc815f1c.dds") ],
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f5_2-50caedf7.dds")
}
};
t.openingFrames = C;
var A = {
0: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/tunguska_battlepack_open_standard-024d5c78.wav"),
1: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/tunguska_battlepack_open_enhanced-ded90293.wav"),
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/tunguska_battlepack_open_superior-b25bc55e.wav")
};
t.frameSounds = A, o.acceptKeyword("accept_exclusive_keywords_end");
var P = {
0: "#ffffffee",
1: "#6baee5",
2: "#d48311",
3: "#d48311"
};
t.rgb = P;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(20), h = s(d), y = n(16), g = n(54), m = s(g), b = n(5), v = s(b), _ = n(9), S = n(10), T = n(13), w = s(T), E = n(12), I = s(E), C = {
_$IconButton: {
displayName: "IconButton"
}
}, A = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/buttons/IconButton.jsx",
components: C,
locals: [],
imports: []
}), P = {
duration: y.Animation.defaultTweenOptions.duration / 8
}, O = {
duration: y.Animation.defaultTweenOptions.duration / 4
}, R = {
easing: "CubicOut",
duration: 1e3
}, k = {
easing: "CubicIn",
duration: 1e3
}, x = {
easing: "CubicIn",
duration: 250
}, M = {
blur: {
position: "absolute",
layer: !0,
layerGrabBackground: !1
},
icon: {
textureMode: "contain",
zOffset: 1
}
}, N = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.input = new w["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function a() {
r.doAction();
},
blockInputFor: 500,
key: I["default"].Accept
}), this.tweens = {
opacity: y.Animation.tween("843dea7f:57", 0),
scale: y.Animation.tween("843dea7f:58", 1)
};
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this;
this.cancelAutorun = _.autorun(function() {
e.props.focusItem && e.props.focusItem.isFocused ? e.props.blur && e.startBlur() : e.stopBlurring();
});
}, t.prototype.componentWillUnmount = function l() {
var e = this;
this.cancelAutorun && this.cancelAutorun(), this.stopBlurring(), this.blurPromise ? this.blurPromise.then(function() {
e.destroyTweens();
}) : this.destroyTweens();
}, t.prototype.onTweenFinished = function u() {
this.loopBlur && this.tweenBlur(!this.isBlurActive);
}, t.prototype.destroyTweens = function p() {
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.tweenBlur = function f(e) {
var t = this;
this.blurPromise && (this.blurPromise.isCanceled = !0);
var n = new Promise(function(n) {
t.isBlurActive = e;
var r = e ? 1 : 0, o = e ? 1.2 : 1, a = e ? R : k;
t.loopBlur === !1 && (a = x), t.tweens.opacity.to(r, a, n), t.tweens.scale.to(o, a);
}).then(function() {
n.isCanceled || t.onTweenFinished();
});
this.blurPromise = n;
}, t.prototype.startBlur = function d() {
this.loopBlur = !0, this.tweenBlur(!0);
}, t.prototype.stopBlurring = function g() {
this.loopBlur = !1, this.tweenBlur(!1);
}, t.prototype.doAction = function b() {
this.props.action();
}, t.prototype.renderIcon = function T() {
var e = this.props.muted ? .85 : 1;
1 === this.props.opacity && (e = .5);
var t = v["default"].defaults({
width: this.props.size,
height: this.props.size,
texture: this.props.icon,
textureAtlas: "SpartaCommonAtlas",
opacity: y.Animation.tweenSwitch(this.props.opacity, e, this.props.focusItem.isFocused, P, O)
}, M.icon);
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
};
}, t.prototype.renderBlur = function E() {
var e = this.props.size, t = v["default"].defaults({
width: e,
height: e,
opacity: this.tweens.opacity.getStyle(),
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle(),
textureAtlas: "SpartaCommonAtlas",
texture: this.props.blur
}, M.blur);
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
};
}, t.prototype.render = function C() {
var e = this.props.blur && !this.props.muted;
return {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
children: [ e ? this.renderBlur() : null, this.renderIcon() ],
input: this.input,
triggerMode: "after",
focusItem: this.props.focusItem,
style: this.props.style,
pressScale: .7
}),
_owner: null
};
};
var n = t;
return t = i("_$IconButton")(t) || t, t = h["default"]()(t) || t, t = S.observer(t) || t;
}(f["default"].Component);
t["default"] = N, N.propTypes = {
icon: f["default"].PropTypes.string,
action: f["default"].PropTypes.func,
size: f["default"].PropTypes.number,
blur: f["default"].PropTypes.string,
muted: f["default"].PropTypes.bool,
opacity: f["default"].PropTypes.number
}, N.defaultProps = {
muted: !1,
opacity: .66
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = n(26), i = r(a), s = n(80), l = r(s), u = n(36), c = r(u), p = new i["default"]("WwceSupportStore"), f = o.createStore({
init: function d() {
l["default"].updateSource.listen(function(e) {
p.set("source", e), f.trigger(p.getState());
}), c["default"].listen(function(e) {
var t = void 0;
if (e.isRunning) if (e.isMultiplayer) {
var n = e.server || {};
t = "mp_" + (n.mapName || "");
} else {
var r = (e.levelName || "").split("/");
t = "sp_" + r[2];
} else t = "";
p.set("contextForInGame", t.toLowerCase()), f.trigger(p.getState());
}), l["default"].updateCategories.listen(function(e) {
p.set("categories", e), f.trigger(p.getState());
}), l["default"].updateSelectedCategory.listen(function(e) {
p.set("selectedCategory", e), f.trigger(p.getState());
}), l["default"].updateArticleId.listen(function(e) {
p.set("articleId", e), f.trigger(p.getState());
}), l["default"].updateLocation.listen(function(e) {
p.set("userLocation", e), f.trigger(p.getState());
}), l["default"].updateContactDetails.listen(function(e, t) {
p.set("countryCode", e), p.set("phoneNumber", t);
}), l["default"].updateSelectedChannel.listen(function(e) {
p.set("selectedChannel", e);
}), l["default"].resetContextDetails.listen(function() {
p.set("source", null);
});
},
getState: function h() {
return p.getState();
},
getInitialState: function y() {
return this.getState();
}
});
t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(639).__Logger;
}, function(e, t) {
"use strict";
var n = {
current: null
};
e.exports = n;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = function() {
function e(e, t) {
this.selectionState = e, this.index = t;
}
return Object.defineProperty(e.prototype, "active", {
get: function() {
return this.selectionState.index === this.index;
},
enumerable: !0,
configurable: !0
}), e;
}();
r([ o.computed ], a.prototype, "active", null), t.CareerItemSelectionState = a;
var i = function() {
function e() {
this.index = -1, this.itemStates = {};
}
return e.prototype.setActiveItem = function(e, t, n) {
this.item = e, this.index = t, this.category = n;
}, e.prototype.getItemState = function(e) {
return this.itemStates[e] || (this.itemStates[e] = new a(this, e)), this.itemStates[e];
}, e;
}();
r([ o.observable ], i.prototype, "item", void 0), r([ o.observable ], i.prototype, "category", void 0), 
r([ o.observable ], i.prototype, "index", void 0), r([ o.action ], i.prototype, "setActiveItem", null), 
t.CareerSelectionState = i;
}, function(e, t) {
"use strict";
var n = function() {
function e(e) {
void 0 === e && (e = {}), this.unlocked = !1, this.acquired = 0, this.needed = 0, 
this.percent = 0;
for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t], ("valueAcquired" === t || "acquired" === t) && (this.acquired = parseFloat(e[t])), 
("valueNeeded" === t || "needed" === t) && (this.needed = parseInt(e[t], 10)));
this.unlocked ? this.percent = 1 : this.acquired >= 0 && this.needed > 0 && (this.percent = Math.min(this.acquired / this.needed, 1)), 
1 === this.percent && (this.unlocked = !0);
}
return e;
}();
t.Progression = n;
}, function(e, t, n) {
"use strict";
function r() {
if (!o) try {
var e = a.nativeApi.getBuildInfoSync(), t = e.features, n = e.platform, r = e.buildConfig, s = e.scriptEngine, l = e.branchName || "", u = e.databaseId || "", c = e.functions ? e.functions : {}, p = e.surfaceProps ? e.surfaceProps : {};
o = new i(n, r, s, l, u, t, c, p);
} catch (f) {
o = new i("unknown", "unknown", "unknown", "unknown", "unknown", {}, {}, {});
}
return o;
}
var o, a = n(47), i = function() {
function e(e, t, n, r, o, a, i, s) {
this.platform = e, this.buildConfig = t, this.scriptEngine = n, this.fbBranchName = r, 
this.fbDatabaseId = o, this.features = a, this.functions = i, this.surfaceProps = s;
}
return e.prototype.isFeatureSupported = function(e) {
var t = this.features[e];
return t ? t.enabled : !1;
}, e.prototype.isCTE = function() {
return -1 !== this.fbDatabaseId.indexOf("CTE");
}, e.prototype.isRetail = function() {
return "retail" === this.buildConfig;
}, e.prototype.isEndUserBuild = function() {
return "final" !== this.buildConfig && "performance" !== this.buildConfig && "release" !== this.buildConfig && "debug" !== this.buildConfig;
}, e.prototype.getSurfaceProps = function() {
var e = Object.keys(this.surfaceProps);
return 0 === e.length ? [ "enable", "zIndex", "zOffset", "blendMode", "layer", "layerOpacity", "layerBlur", "layerBlurStrength", "layerBlurTintColor", "layerBlurSamples", "layerBlurPass", "layerClip", "layerSoftClip", "layerGrabBackground", "layerClearColor", "layerGrayScale", "layerStereoPostProcess", "layerStereoPostProcessIntensity", "layerStereoPostProcessColorShift", "layerStereoPostProcessScanlines", "layerStereoPostProcessDistort", "localBounds", "focusable", "events", "opacity", "selfOpacity", "backgroundColor", "borderColor", "color", "grayScale", "text", "textEdgeOffset", "textSoftness", "textLetterSpacing", "textLineSpacing", "enableMouseEvents", "texture", "video", "textureMode", "textureAlign", "textureOffset", "textureOffsetX", "textureOffsetY", "textureScale", "textureRotateZ", "textureBorder", "texture1", "video1", "texture1Mode", "texture1Align", "texture1Offset", "texture1OffsetX", "texture1OffsetY", "texture1Scale", "texture1RotateZ", "texture1Border", "texture2", "video2", "texture2Mode", "texture2Align", "texture2Offset", "texture2OffsetX", "texture2OffsetY", "texture2Scale", "texture2RotateZ", "texture2Border", "texture3", "video3", "texture3Mode", "texture3Align", "texture3Offset", "texture3OffsetX", "texture3OffsetY", "texture3Scale", "texture3RotateZ", "texture3Border", "width", "height", "minWidth", "maxWidth", "minHeight", "maxHeight", "flex", "flexWrap", "flexDirection", "fontFamily", "fontSize", "justifyContent", "alignContent", "alignItems", "alignSelf", "textAlign", "wordWrap", "whiteSpace", "position", "margin", "marginTop", "marginRight", "marginBottom", "marginLeft", "padding", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "left", "top", "right", "bottom", "translate", "translateX", "translateY", "translateZ", "rotate", "rotateX", "rotateY", "rotateZ", "scale", "scaleX", "scaleY", "borderSize", "shaderUrl", "shaderProgram", "shaderSurfaceUv", "spriteAnimation", "borderRadius" ] : ([ "texture", "texture1", "texture2", "texture3", "spriteAnimation" ].forEach(function(t) {
-1 === e.indexOf(t) && e.push(t);
}), e);
}, e.prototype.isRemoteEngine = function() {
return "remote" === this.scriptEngine;
}, e.prototype.hasBatchedRemoteCalls = function() {
return this.isRemoteEngine() && this.isFeatureSupported("BatchedRemoteCalls");
}, e.prototype.hasLoadAssetRequest = function() {
return this.isFeatureSupported("LoadAssetRequest");
}, e.prototype.hasConsoleCalls = function() {
return this.isFeatureSupported("ConsoleCalls");
}, e.prototype.hasVerifyCodeSignature = function() {
return this.isFeatureSupported("VerifyCodeSignature");
}, e.prototype.hasUseTextureUrl = function() {
return this.isFeatureSupported("UseTextureUrl");
}, e.prototype.hasJsStartSync = function() {
return this.isFeatureSupported("JsStartSync");
}, e.prototype.hasJsCreateAtlas = function() {
return this.isFeatureSupported("JsCreateAtlas");
}, e.prototype.hasAudioBus = function() {
return this.isFeatureSupported("AudioBus");
}, e.prototype.hasSetGlyphSamplesSync = function() {
return this.isFeatureSupported("SetGlyphSamplesSync");
}, e.prototype.hasSetGlyphTextureSizeSync = function() {
return this.isFeatureSupported("SetGlyphTextureSizeSync");
}, e.prototype.hasSetFullscreenResampleSync = function() {
return this.isFeatureSupported("SetFullscreenResampleSync");
}, e.prototype.hasSurfaceDebugHighlight = function() {
return this.isFeatureSupported("SurfaceDebugHighlight");
}, e.prototype.hasOpenUrl = function() {
return this.isFeatureSupported("OpenUrl");
}, e.prototype.isPC = function() {
return "win64" === this.platform;
}, e.prototype.isXboxOne = function() {
return "xboxone" === this.platform;
}, e.prototype.isPS4 = function() {
return "ps4" === this.platform;
}, e.prototype.hasSDF = function() {
return this.hasConsoleCalls();
}, e;
}();
t.getBuildInfo = r;
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return k(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function s(e, t) {
if (!e) return {};
var n = 0, r = 0;
t ? e.items.forEach(function(e) {
n += l(e), r += e.items.length;
}) : (n = l(e), r = e.items.length);
var o = n === r;
return {
allUnlocked: o,
numTotal: r,
numUnlocked: n
};
}
function l(e) {
return e.items.filter(function(e) {
return e.progression ? e.progression.unlocked : !1;
}).length;
}
var u = n(4), c = i(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = i(d), y = n(10), g = n(5), m = i(g), b = n(6), v = i(b), _ = n(59), S = i(_), T = n(33), w = n(17), E = i(w), I = n(22), C = i(I), A = n(7), P = n(8), O = n(3), R = {
_$CompletedText: {
displayName: "CompletedText"
},
_$CareerSectionProgression: {
displayName: "CareerSectionProgression"
},
_$CareerSection: {
displayName: "CareerSection"
}
}, k = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/CareerSection.jsx",
components: R,
locals: [],
imports: []
}), x = [ E["default"].fadeAreaTop.height + v["default"].getHeight(2), E["default"].dangerZoneSize.width, SpartaGlobals.bundleIsPC ? E["default"].dangerZoneSize.height : E["default"].fadeAreaBottom.height, SpartaGlobals.bundleIsPC ? E["default"].content.left - E["default"].mainMenu.width - 1 : 0 ], M = [ -50, E["default"].fadeAreaTop.height, -50, SpartaGlobals.bundleIsPC ? E["default"].dangerZoneSize.height : E["default"].fadeAreaBottom.height ], N = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = P.gameStore.getGame(this.props.gameId), t = e && !this.props.isFocused && this.props.isCompleted && !this.props.muted, n = t ? e.styles.completedText : void 0, r = this.props.muted ? .5 : 1, o = f({}, this.props.style, n, {
opacity: r
});
return h["default"].createElement(A.Text, f({}, this.props, {
style: o
}));
};
var n = t;
return t = a("_$CompletedText")(t) || t, t = y.observer(t) || t;
}(h["default"].Component);
t.CompletedText = N, N.propTypes = {
gameId: h["default"].PropTypes.string.isRequired
};
var D = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.render = function s() {
if (!this.props.category) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var t = this.props.categoryUnlockStatus, n = this.props.fontColor ? this.props.fontColor : "#ffffff";
return this.props.focused && (n = "#000000"), {
$$typeof: p,
type: N,
key: null,
ref: null,
props: e(N.defaultProps, {
style: {
zOffset: 10
},
gameId: this.props.gameId,
size: "S",
isFocused: this.props.focused,
color: n,
muted: this.props.muted,
isCompleted: t.numUnlocked === t.numTotal,
value: t.numUnlocked + "/" + t.numTotal
}),
_owner: null
};
};
var i = n;
return n = a("_$CareerSectionProgression")(n) || n;
}(h["default"].Component), U = function(t) {
function n(e) {
var n = this;
r(this, i), t.call(this, e), this.currentlyFocusedItem = null, this.scrollToSelectedItem = function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? 10 : arguments[0], t = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1], r = n.refs["item" + n.props.selectionState.index];
r && r.bounds && void 0 !== r.bounds.localY ? t ? r.focusItem.setFocused() : n.refs.itemScroller.scrollToElement(r) : e > 0 && setTimeout(function() {
return n.scrollToSelectedItem(e - 1, t);
}, 250);
}, this.state = {
page: 1,
activeCategory: this.props.categorizedData[0] || null
};
}
o(n, t), n.prototype.componentDidMount = function l() {
this.preSelect(this.props);
}, n.prototype.componentWillReceiveProps = function u(e) {
e.categorizedData.length && this.preSelect(e, !0);
}, n.prototype.onItemFocus = function c(e, t, n) {
var r = arguments.length <= 3 || void 0 === arguments[3] ? !1 : arguments[3];
this.currentlyFocusedItem = e.name, this.props.selectionState.setActiveItem(e, t), 
this.refs.focusPaneScroller && !r && this.refs.focusPaneScroller.scrollTo(0, 0);
}, n.prototype.onItemSelect = function d() {
if (O.focus.system.controllerMode && this.refs.focuspane && this.props.allowSelect) {
var e = this.refs.focuspane.focusAncestor.getChildren();
e.length && e[0].setFocused(O.focus.FocusSource.Spatial);
}
SpartaGlobals.bundleIsPC && this.refs.focusPaneScroller && this.refs.focusPaneScroller.scrollTo(0, 0);
}, n.prototype.compareCategories = function g(e, t) {
if (void 0 !== e.sortOrder || void 0 !== t.sortOrder) {
var n = void 0 !== e.sortOrder ? e.sortOrder : Number.MAX_VALUE, r = void 0 !== t.sortOrder ? t.sortOrder : Number.MAX_VALUE;
if (n !== r) return r > n ? -1 : 1;
}
if (this.props.sortCategoriesByLabel) {
var o = String(e.label).toLowerCase(), a = String(t.label).toLowerCase();
return o.localeCompare(a);
}
return e;
}, n.prototype.preSelect = function b(e) {
var t, n = this, r = e.categorizedData, o = void 0 === r ? [] : r, a = e.preSelectedCategory, i = e.preSelectedId, s = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1], l = o.slice().sort(this.compareCategories.bind(this));
if (o.length) {
var u = m["default"].find(l, function(e) {
return e.items.length > 0;
}), c = a && m["default"].find(o, function(e) {
return e.name && e.name.toLowerCase() === a.toLowerCase();
}), p = this.state.activeCategory && s && m["default"].find(o, function(e) {
return e.name && e.name === n.state.activeCategory.name;
});
t = c || p || u;
}
var f, d, h;
if (this.currentlyFocusedItem ? h = this.findItemInfo(o, this.currentlyFocusedItem) : i && (h = this.findItemInfo(o, this.props.preSelectedId)), 
h && (t = h.category, f = h.item, d = h.index), this.props.ensureItemFocus && t && !f && (f = this.props.hasCategories ? t.items[0].items[0] : t.items[0], 
d = 0), t) {
var y = t.hasOwnProperty("name") ? this.state.activeCategory && t.name === this.state.activeCategory.name : t === this.state.activeCategory;
y || this.setActiveCategory(t, s);
}
var g = l.indexOf(t);
if (SpartaGlobals.bundleIsConsole && g >= 0 && this.props.showCategorization, (!this.props.onlyPreselectCategory || this.currentlyFocusedItem) && f) {
var b = SpartaGlobals.bundleIsConsole && void 0 !== this.props.preSelectedId;
b && this.onItemFocus(f, d, void 0, s), this.scrollToSelectedItem(void 0, b);
}
}, n.prototype.findItemInfo = function _(e, t) {
var n, r, o, a, i, s = function c(e, n, r) {
var o = !1;
if (n.packages) {
var a = m["default"].find(n.packages, function(e) {
return e === t;
});
a && (o = !0);
} else n.code === t ? o = !0 : n.name === t && (o = !0);
return o ? !0 : void 0;
};
if (this.props.hasCategories) for (n = 0; n < e.length; n++) {
a = e[n];
var l = -1;
for (r = 0; r < a.items.length; r++) {
var u = a.items[r];
for (o = 0; o < u.items.length; o++) if (i = u.items[o], s(a, i, ++l)) return {
category: a,
item: i,
index: l
};
}
} else for (n = 0; n < e.length; n++) for (a = e[n], r = 0; r < a.items.length; r++) if (i = a.items[r], 
s(a, i, r)) return {
category: a,
item: i,
index: r
};
}, n.prototype.showMore = function w() {
this.setState(function(e) {
return e.page += 1, e;
});
}, n.prototype.setActiveCategory = function I(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1];
if (this.refs.list && this.refs.list.setActive("function" == typeof e.name ? e.name() : e.name), 
this.setState({
activeCategory: e
}), this.props.ensureItemFocus) {
var n = this.props.hasCategories ? e.items[0].items[0] : e.items[0];
this.onItemFocus(n, 0);
} else this.props.selectionState.setActiveItem();
this.refs.itemScroller && !t && this.refs.itemScroller.scrollTo(0, 0), this.props.selectionState.setActiveItem();
}, n.prototype.renderCategories = function P() {
var t = this;
if (!this.props.categorizedData) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = (this.props.categorizedData || []).slice().sort(this.compareCategories.bind(this)), r = n.map(function(n) {
var r = "function" == typeof n.name ? n.name() : n.name, o = s(n, t.props.hasCategories), a = n.muted || !1;
return {
label: r,
scrollLabel: !0,
id: r,
muted: a,
sortOrder: n.sortOrder || 0,
showActiveIndicator: n.name === t.state.activeCategory.name,
onTrigger: function i() {
return t.setActiveCategory(n);
},
subLabel: {
$$typeof: p,
type: D,
key: null,
ref: null,
props: e(D.defaultProps, {
gameId: t.props.gameId,
categoryUnlockStatus: o,
category: n,
muted: a,
hasCategories: t.props.hasCategories
}),
_owner: null
}
};
});
return h["default"].createElement(S["default"], {
ref: "list",
items: r,
divider: "item"
});
}, n.prototype.renderItemCategories = function R() {
var t = this;
if (!this.props.categorizedData || !this.state.activeCategory) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = 0, r = this.state.activeCategory.items.length - 1;
return this.state.activeCategory.items.map(function(o, a) {
if (!o.items.length) return null;
var i = 0 === a, s = a === r, l = t.renderItems(o, i, n);
return n += o.items.length, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: A.Text,
key: null,
ref: null,
props: e(A.Text.defaultProps, {
value: o.name,
size: "S",
style: {
marginBottom: v["default"].GUTTER
}
}),
_owner: null
}, l ],
style: {
localBounds: !1,
marginBottom: s ? 0 : v["default"].GUTTER
}
},
_owner: null
};
});
}, n.prototype.renderItems = function k() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], n = this, r = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1], o = arguments.length <= 2 || void 0 === arguments[2] ? 0 : arguments[2];
if (!this.props.categorizedData || !this.state.activeCategory) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var a = t.items || this.state.activeCategory.items;
if (!a || !a.length) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var i = this.props.showCategorization ? this.props.rowItemLength : 6, s = this.props.showCategorization ? this.props.widthGridCells : 18, l = v["default"].GUTTER, u = l * (i - 1), c = v["default"].getWidth(s) / i - u / i, f = Math.ceil(a.length / i);
a = a.map(function(e, a) {
var s = Math.floor(a / i) + 1, u = 1 === s, p = s === f, d = {
width: c,
marginBottom: p ? 0 : l,
marginLeft: a % i === 0 ? 0 : l
}, h = o + a;
return e = n.props.renderItem(d, e, h, n.onItemSelect.bind(n, e, h), n.onItemFocus.bind(n, e, h, r && u), t);
});
var d = 100 * this.state.page, h = a.slice(0, d), y = SpartaGlobals.bundleIsConsole ? 4 * c + 3 * l : 2 * c + l, g = a.length - d;
return g > 100 && (g = 100), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: h,
style: {
flexDirection: "row",
flexWrap: "wrap",
localBounds: !1
}
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: a.length > d ? {
$$typeof: p,
type: C["default"],
key: null,
ref: null,
props: e(C["default"].defaultProps, {
textSize: "M",
text: __("ID_SPARTA_CAREER_ITEMS_NEXT100").replace("100", g + ""),
style: {
width: y
},
action: function() {
return n.showMore();
}
}),
_owner: null
} : {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
},
style: {
alignItems: "center",
localBounds: !1
}
},
_owner: null
} ],
style: {
localBounds: !1
}
},
_owner: null
};
}, n.prototype.render = function N() {
var t = this.props.disableFocusPage ? 2 : 3;
t = this.props.showCategorization ? t : t - 1;
var n = O.focus.system.controllerMode ? E["default"].content.height - 2 * v["default"].GUTTER : E["default"].content.height - 16 * v["default"].GUTTER, r = {
clipPadding: x,
clipContent: !0,
scrollToFocus: O.focus.system.controllerMode,
softClip: M,
verticalIndicator: !0
}, o = this.props.categoryInFocusPane ? this.state.activeCategory.name : null;
if (!this.props.categorizedData) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var a = this.props.showCategorization ? 6 : 0, i = this.props.showCategorization ? this.props.widthGridCells : 18, s = 24 - a - i - (t - 1), l = !this.props.disableFocusPane && {
$$typeof: p,
type: v["default"].Col,
key: null,
ref: null,
props: e(v["default"].Col.defaultProps, {
children: h["default"].createElement(T.Scroller, f({
style: {
height: n
},
controller: !0
}, r, {
ref: "focusPaneScroller"
}), this.props.renderFocusPane(s, function() {}, o)),
width: s
}),
_owner: null
}, u = E["default"].content.height;
return this.props.renderCategoryInfo && (u -= 4 * v["default"].GUTTER), SpartaGlobals.bundleIsPC && (u -= 2 * v["default"].GUTTER), 
{
$$typeof: p,
type: v["default"].Row,
key: null,
ref: null,
props: e(v["default"].Row.defaultProps, {
children: [ this.props.showCategorization ? {
$$typeof: p,
type: v["default"].Col,
key: null,
ref: null,
props: e(v["default"].Col.defaultProps, {
children: h["default"].createElement(T.Scroller, f({
style: {
height: n
}
}, r), this.renderCategories()),
width: a
}),
_owner: null
} : null, {
$$typeof: p,
type: v["default"].Col,
key: null,
ref: null,
props: e(v["default"].Col.defaultProps, {
children: [ this.props.renderCategoryInfo ? this.props.renderCategoryInfo(this.state.activeCategory) : null, h["default"].createElement("surface", {
ref: "items",
style: {
flex: 1
}
}, h["default"].createElement(T.Scroller, f({
ref: "itemScroller",
key: this.state.activeCategory,
style: {
height: u
}
}, r, {
controller: !1
}), this.props.hasCategories ? this.renderItemCategories() : this.renderItems(this.state.activeCategory, !0))) ],
width: i
}),
_owner: null
}, l ],
style: {
justifyContent: "space-between",
width: E["default"].content.width
}
}),
_owner: null
};
};
var i = n;
return n = a("_$CareerSection")(n) || n, n = y.observer(n) || n;
}(h["default"].Component);
t["default"] = U, U.defaultProps = {
onlyPreselectCategory: !1,
ensureItemFocus: !1,
sortCategoriesByLabel: !0,
categoryInFocusPane: !1,
showCategorization: !0,
rowItemLength: 4,
widthGridCells: 10,
allowSelect: !1
}, U.propTypes = {
gameId: h["default"].PropTypes.string.isRequired,
categorizedData: h["default"].PropTypes.array.isRequired,
renderItem: h["default"].PropTypes.func.isRequired,
renderFocusPane: h["default"].PropTypes.func.isRequired,
categoryInFocusPane: h["default"].PropTypes.bool,
preSelectedCategory: h["default"].PropTypes.string,
preSelectedId: h["default"].PropTypes.string,
sortCategoriesByLabel: h["default"].PropTypes.bool,
showCategorization: h["default"].PropTypes.bool,
onlyPreselectCategory: h["default"].PropTypes.bool,
ensureItemFocus: h["default"].PropTypes.bool
};
}).call(t, n(2));
}, function(e, t) {
e.exports = {
ARABIC: "ar-sa",
CHINESE: "zh-tw",
CZECH: "cs-cz",
ENGLISH: "en-us",
FRENCH: "fr-fr",
GERMAN: "de-de",
ITALIAN: "it-it",
JAPANESE: "ja-jp",
KOREAN: "ko-kr",
POLISH: "pl-pl",
PORTUGUESE_BRAZIL: "pt-br",
RUSSIAN: "ru-ru",
SPANISH: "es-es",
SPANISH_MEXICO: "es-mx",
TURKISH: "tr-tr"
};
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r() {
var e = __("ID_SPARTA_FILTER_PASSWORD_NAME");
return [ {
name: e,
type: "bool",
filterKey: "passwordProtected",
defaultValue: void 0,
prettyName: e.toUpperCase(),
description: __("ID_SPARTA_FILTER_PASSWORD_DESCRIPTION")
} ];
}
function o(e) {
return e.advanced = u["default"].filter(e.settings.all, function(e) {
return g.indexOf(e.filterKey) > -1;
}), e.advanced = e.advanced.concat(r()), e.rules = u["default"].filter(e.settings.all, function(e) {
return m.indexOf(e.filterKey) > -1;
}), e.rules.forEach(function(e) {
e.format = b[e.filterKey];
}), delete e.settings, e;
}
function a(e) {
var t = u["default"].object(u["default"].map(e.settings, function(e, t) {
var n = "Weapons" === t ? "weaponClasses" : t.toLowerCase();
return [ n, e ];
})), n = u["default"].extend({}, e, t);
return delete n.settings, n;
}
function i(e) {
return u["default"].object(u["default"].map(e, function(e, t) {
var n = u["default"].extend({}, e);
return n.gameModes = u["default"].filter(n.gameModes, function(e) {
return -1 === e.disabledFor.indexOf("ServerFilter");
}), n.gameModes = u["default"].sortBy(n.gameModes, function(e) {
return e.prettyName;
}), n.settings ? n.settings.all ? [ t, o(n) ] : [ t, a(n) ] : [ t, n ];
}));
}
function s(e) {
var t = y.getState(), n = t;
u["default"].each(e, function(e, t) {
var r = u["default"].extend({}, n[t], e);
n = n.set(t, r);
}), y.setState(n), v.trigger(y.getState());
}
var l = n(5), u = t(l), c = n(15), p = n(26), f = t(p), d = n(23), h = t(d), y = new f["default"]("ServerFilterOptionsStore"), g = [ "osls", "vvsa", "vffi", "vaba", "vkca", "v3ca", "v3sp", "vrhe", "vmsp", "vhud", "vmin", "vnta" ], m = [ "vtkk", "vnit", "vtkc", "vvsd", "vgmc", "vbdm", "vprt", "vshe" ], b = {
vnit: "seconds",
vvsd: "percent",
vgmc: "percent",
vbdm: "percent",
vprt: "percent",
vshe: "percent"
}, v = c.createStore({
init: function _() {
this.listenTo(h["default"].setGameData, function(e) {
s(i(e));
}), this.listenTo(h["default"].setFilterOptions, function(e) {
s(e);
});
},
getState: function S() {
return y.getState();
}
});
e.exports = v;
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(774), a = r(o), i = n(773), s = r(i), l = n(772), u = r(l), c = n(298), p = r(c), f = n(771), d = r(f), h = n(777), y = r(h), g = n(446), m = r(g), b = n(775), v = r(b), _ = n(776), S = r(_), T = n(299), w = r(T), E = n(770), I = r(E), C = n(5), A = n(1), P = {
types: {
Recommendation: n(443)
},
actions: {
RecommendationActions: n(63)
},
stores: {
RecommendationStore: n(445),
WelcomeMessageStore: n(297)
},
decorators: {
recommend: n(134)
},
renderCards: function O(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? "" : arguments[2];
return C.chain(e).filter(function(e) {
return e.group !== n;
}).map(function(e, n) {
return P.renderCard(e, n, t);
}).compact().value();
},
renderCard: function R(e, t, n) {
var r = P.getCardComponent(e);
if (r) {
var o = e.group.charAt(0).toUpperCase() + e.group.slice(1);
return A.createElement(r, {
key: "rcmnd" + o + t,
recommendation: C.extend({
positionIndex: t + 1
}, e),
size: C.isFunction(n) ? n(e, t) : n
});
}
console.warn("Recommendation has no card implementation", e);
},
getCardComponent: function k(e) {
switch (e.group) {
case "friends":
return v["default"];

case "item":
return a["default"];

case "filter":
return s["default"];

case "server":
return m["default"];

case "continue":
return u["default"];

case "article":
return p["default"];

case "video":
return y["default"];

case "churn":
return d["default"];

case "route":
return S["default"];

case "offer":
return w["default"];

case "battlepack":
return I["default"];
}
}
};
e.exports = P;
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return E(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(5), g = r(y), m = n(10), b = n(16), v = n(7), _ = n(37), S = n(11), T = n(30), w = {
_$TunguskaBattlepackScraps: {
displayName: "TunguskaBattlepackScraps"
}
}, E = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackScraps.jsx",
components: w,
locals: [],
imports: []
}), I = S.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-scraps-black2-l-9b6c5c4a.png");
t.dark = I;
var C = S.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-scraps-white2-l-bb954c75.png");
t.light = C;
var A = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
animatedValue: t.animated ? t.value : null
}, this.tweens = {
scale: b.Animation.tween("31b7629a:23", 1)
};
}
i(t, e), t.prototype.componentWillReceiveProps = function r(e) {
var t = this;
e.animated && (e.value > this.props.value ? this.tweens.scale.to(2, {
delay: 1800,
duration: 200,
easing: "CubicIn"
}, function() {
t._unmounting || (t.setState({
animatedValue: e.value
}), t.tweens.scale.to(1, {
duration: 500,
easing: "CubicOut"
}));
}) : this.setState({
animatedValue: e.value
}));
}, t.prototype.componentWillUnmount = function l() {
this._unmounting = !0, g.each(this.tweens, function(e) {
return e.destroy();
});
}, t.prototype.render = function u() {
var e = this.props.dark ? I : C, t = this.props.dark ? "#000000" : "#ffffff", n = _.LINE_HEIGHTS[this.props.size] || _.LINE_HEIGHTS[v.Text.defaultProps.size], r = void 0;
this.props.prefix && (r = {
$$typeof: f,
type: v.Text,
key: null,
ref: null,
props: o(v.Text.defaultProps, {
value: this.props.prefix.trim() + " ",
color: t,
size: this.props.size,
style: {
marginRight: 8
}
}),
_owner: null
});
var a = void 0;
this.props.suffix && (a = {
$$typeof: f,
type: v.Text,
key: null,
ref: null,
props: o(v.Text.defaultProps, {
value: " " + this.props.suffix.trim(),
color: t,
size: this.props.size,
style: {
marginLeft: 8
}
}),
_owner: null
});
var i = (this.props.animated ? this.state.animatedValue : this.props.value) || 0;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: T.localeRearrange([ r, [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: {
texture: e,
textureMode: "contain",
width: n,
height: n,
marginLeft: 4,
marginRight: 4
}
},
_owner: null
}, {
$$typeof: f,
type: v.Text,
key: null,
ref: null,
props: o(v.Text.defaultProps, {
value: "" + i,
color: t,
size: this.props.size,
style: {
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle()
}
}),
_owner: null
} ], a ]),
style: p({
flexDirection: "row"
}, this.props.style)
},
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackScraps")(t) || t, t = m.observer(t) || t;
}(h.Component);
t.TunguskaBattlepackScraps = A;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = n(26), i = r(a), s = n(57), l = new i["default"]("TunguskaBattlepackBalanceStore"), u = o.createStore({
init: function c() {
s.summary.listen(function(e) {
l.setState(e), u.trigger(l.getState());
});
},
getState: function p() {
return l.getState();
},
getInitialState: function f() {
return this.getState();
}
});
t["default"] = u, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var i = n(51), s = n(43), l = r(s), u = n(8), c = {
None: "none",
Friends: "friends",
Everyone: "everyone"
};
t.UGCAccessLevel = c;
var p = function() {
function e(t) {
a(this, e), this.level = t;
}
return e.prototype.hasAccess = function t(e) {
var t = u.onlineState.sessionUser;
if (t && e && e.id === t.id) return !0;
switch (this.level) {
case c.None:
return !1;

case c.Everyone:
return !0;

case c.Friends:
return e && u.friendStore.findFriendById(e.id) ? !0 : !1;
}
return !1;
}, e;
}();
t.UGCAccess = p;
var f = function(e) {
function t() {
var n = this;
a(this, t);
var r = SpartaGlobals.bundleIsPC ? c.Everyone : null;
e.call(this, new p(r)), l["default"].setUGCAccessLevel.listen(function(e) {
n.setState(new p(e));
});
}
return o(t, e), t;
}(i.Store), d = new f();
t.UGCAccessStore = d;
}, function(e, t, n) {
"use strict";
var r = n(234), o = r({
bubbled: null,
captured: null
}), a = r({
topAbort: null,
topBlur: null,
topCanPlay: null,
topCanPlayThrough: null,
topChange: null,
topClick: null,
topCompositionEnd: null,
topCompositionStart: null,
topCompositionUpdate: null,
topContextMenu: null,
topCopy: null,
topCut: null,
topDoubleClick: null,
topDrag: null,
topDragEnd: null,
topDragEnter: null,
topDragExit: null,
topDragLeave: null,
topDragOver: null,
topDragStart: null,
topDrop: null,
topDurationChange: null,
topEmptied: null,
topEncrypted: null,
topEnded: null,
topError: null,
topFocus: null,
topInput: null,
topKeyDown: null,
topKeyPress: null,
topKeyUp: null,
topLoad: null,
topLoadedData: null,
topLoadedMetadata: null,
topLoadStart: null,
topMouseDown: null,
topMouseMove: null,
topMouseOut: null,
topMouseOver: null,
topMouseUp: null,
topPaste: null,
topPause: null,
topPlay: null,
topPlaying: null,
topProgress: null,
topRateChange: null,
topReset: null,
topScroll: null,
topSeeked: null,
topSeeking: null,
topSelectionChange: null,
topStalled: null,
topSubmit: null,
topSuspend: null,
topTextInput: null,
topTimeUpdate: null,
topTouchCancel: null,
topTouchEnd: null,
topTouchMove: null,
topTouchStart: null,
topVolumeChange: null,
topWaiting: null,
topWheel: null
}), i = {
topLevelTypes: a,
PropagationPhases: o
};
e.exports = i;
}, function(e, t, n) {
"use strict";
var r = n(32), o = function(e) {
var t = this;
if (t.instancePool.length) {
var n = t.instancePool.pop();
return t.call(n, e), n;
}
return new t(e);
}, a = function(e, t) {
var n = this;
if (n.instancePool.length) {
var r = n.instancePool.pop();
return n.call(r, e, t), r;
}
return new n(e, t);
}, i = function(e, t, n) {
var r = this;
if (r.instancePool.length) {
var o = r.instancePool.pop();
return r.call(o, e, t, n), o;
}
return new r(e, t, n);
}, s = function(e, t, n, r) {
var o = this;
if (o.instancePool.length) {
var a = o.instancePool.pop();
return o.call(a, e, t, n, r), a;
}
return new o(e, t, n, r);
}, l = function(e, t, n, r, o) {
var a = this;
if (a.instancePool.length) {
var i = a.instancePool.pop();
return a.call(i, e, t, n, r, o), i;
}
return new a(e, t, n, r, o);
}, u = function(e) {
var t = this;
e instanceof t ? void 0 : r(!1), e.destructor(), t.instancePool.length < t.poolSize && t.instancePool.push(e);
}, c = 10, p = o, f = function(e, t) {
var n = e;
return n.instancePool = [], n.getPooled = t || p, n.poolSize || (n.poolSize = c), 
n.release = u, n;
}, d = {
addPoolingTo: f,
oneArgumentPooler: o,
twoArgumentPooler: a,
threeArgumentPooler: i,
fourArgumentPooler: s,
fiveArgumentPooler: l
};
e.exports = d;
}, function(e, t) {
"use strict";
function n(e, t) {
for (var n in e) if (e[n] === t) return n;
return null;
}
var r;
!function(e) {
e[e.none = 0] = "none", e[e.modeChanged = 1] = "modeChanged", e[e.disconnected = 2] = "disconnected", 
e[e.backendDisconnected = 3] = "backendDisconnected", e[e.connecting = 4] = "connecting", 
e[e.connectFailed = 5] = "connectFailed", e[e.connectionReady = 6] = "connectionReady", 
e[e.onlineFlowDone = 7] = "onlineFlowDone", e[e.telemetryTokenReceived = 8] = "telemetryTokenReceived", 
e[e.firstPartyConnected = 9] = "firstPartyConnected", e[e.firstPartyDisconnected = 10] = "firstPartyDisconnected", 
e[e.pingValueResolved = 11] = "pingValueResolved", e[e.connectionMessage = 12] = "connectionMessage", 
e[e.qualityOfServiceDone = 13] = "qualityOfServiceDone", e[e.loginAccountFailed = 14] = "loginAccountFailed";
}(r = t.ConnectionEventType || (t.ConnectionEventType = {}));
var o;
!function(e) {
e[e.none = 0] = "none", e[e.success = 1] = "success", e[e.authCodeFailed = 2] = "authCodeFailed", 
e[e.connectionFailed = 3] = "connectionFailed", e[e.duplicateLogin = 4] = "duplicateLogin", 
e[e.failure = 5] = "failure", e[e.invalidUser = 6] = "invalidUser", e[e.loginCancelled = 7] = "loginCancelled", 
e[e.missingOnlineAccess = 8] = "missingOnlineAccess", e[e.needUserInteraction = 9] = "needUserInteraction", 
e[e.networkDisconnect = 10] = "networkDisconnect", e[e.networkError = 11] = "networkError", 
e[e.noMultiplayerPrivilege = 12] = "noMultiplayerPrivilege", e[e.originOffline = 13] = "originOffline", 
e[e.originStartupFailed = 14] = "originStartupFailed", e[e.requiredUpdateExists = 15] = "requiredUpdateExists", 
e[e.serverConfiguration = 16] = "serverConfiguration", e[e.serverDisconnect = 17] = "serverDisconnect", 
e[e.serverNotFound = 18] = "serverNotFound", e[e.systemError = 19] = "systemError", 
e[e.timeout = 20] = "timeout", e[e.tooYoung = 21] = "tooYoung", e[e.tooYoungForContent = 22] = "tooYoungForContent", 
e[e.userLost = 23] = "userLost", e[e.originMandatoryUpdate = 24] = "originMandatoryUpdate", 
e[e.noService = 25] = "noService", e[e.originNotLoggedIn = 26] = "originNotLoggedIn", 
e[e.psuLimitExceeded = 27] = "psuLimitExceeded", e[e.accountBanned = 28] = "accountBanned";
}(o = t.ConnectionResultType || (t.ConnectionResultType = {}));
var a;
!function(e) {
e[e.none = 0] = "none", e[e.offline = 1] = "offline", e[e.silentOnline = 2] = "silentOnline", 
e[e.online = 3] = "online";
}(a = t.PresenceModeType || (t.PresenceModeType = {}));
var i = function() {
function e(e) {
var t = void 0 === e ? {} : e, n = t.gameId, i = void 0 === n ? "" : n, s = t.customMessage, l = void 0 === s ? "" : s, u = t.eventType, c = void 0 === u ? r.none : u, p = t.mode, f = void 0 === p ? a.none : p, d = t.resultType, h = void 0 === d ? o.none : d, y = t.isQoSReady, g = void 0 === y ? !1 : y;
this.gameId = i, this.customMessage = l, this.eventType = c, this.resultType = h, 
this.mode = f, this.isQoSReady = g, Object.freeze(this);
}
return e.prototype.toString = function() {
return [ this.gameId, this.customMessage, n(r, this.eventType), n(o, this.resultType), n(a, this.mode) ].filter(function(e) {
return null != e && "" != e;
}).join(", ");
}, e;
}();
t.PresenceStatusMessage = i;
}, function(e, t, n) {
"use strict";
function r(e) {
return "0" === e ? null : e;
}
var o = function() {
function e(e) {
void 0 === e && (e = {}), e.sceNpId && (this.sceNpId = "" + e.sceNpId), e.xUid && "0" !== e.xUid && (this.xUid = "" + e.xUid), 
e.nucleusId && "0" !== e.nucleusId && (this.nucleusId = "" + e.nucleusId), e.personaId && "0" !== e.personaId && (this.personaId = "" + e.personaId), 
e.personaName && (this.personaName = "" + e.personaName), Object.freeze(this);
}
return e.update = function(t, n) {
return void 0 === t && (t = {}), void 0 === n && (n = {}), new e({
sceNpId: n.sceNpId || t.sceNpId,
xUid: r(n.xUid) || t.xUid,
nucleusId: r(n.nucleusId) || t.nucleusId,
personaId: r(n.personaId) || t.personaId,
personaName: n.personaName || t.personaName
});
}, e.getPlatformId = function(e) {
return SpartaGlobals.bundleIsPS4 && e.sceNpId ? e.sceNpId : SpartaGlobals.bundleIsXBOXONE && e.xUid ? r(e.xUid) : SpartaGlobals.bundleIsPC && e.nucleusId ? r(e.nucleusId) : void 0;
}, e.fromPlatformId = function(t) {
if (SpartaGlobals.bundleIsPS4) return new e({
sceNpId: t
});
if (SpartaGlobals.bundleIsXBOXONE) return new e({
xUid: t
});
if (SpartaGlobals.bundleIsPC) return new e({
nucleusId: t
});
throw Error("Unknown platform");
}, e.prototype.getPlatformId = function() {
return e.getPlatformId(this);
}, e.prototype.equals = function(e) {
return e ? this.sceNpId && e.sceNpId && this.sceNpId === e.sceNpId ? !0 : this.xUid && e.xUid && this.xUid === e.xUid ? !0 : this.nucleusId && e.nucleusId && this.nucleusId === e.nucleusId ? !0 : this.personaId && e.personaId && this.personaId === e.personaId ? !0 : this.personaName && e.personaName && this.personaName === e.personaName ? !0 : !1 : this.isNull();
}, e.prototype.isNull = function() {
var e = this.getPlatformId();
return !e || "0" === e;
}, e;
}();
t.SpartaUserId = o;
}, function(e, t, n) {
(function(__) {
"use strict";
function e() {
return f(__("ID_SPARTA_RIME_NO_ACCESS_MATCHMAKING", !0));
}
function r() {
return f(__("ID_SPARTA_RIME_NO_ACCESS_QUEUED", !0));
}
function o(n, o) {
u(n) ? t.rimeTransitionState.isMatchmaking ? e() : t.rimeTransitionState.isQueued ? r() : t.rimeTransitionState.hasServer ? console.warn("RIME screen requested while joining a server, ignored") : o() : c();
}
function a(e, t) {
u(e) ? t() : c();
}
function i(e, t) {
o(e, t);
}
var s = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, l = n(39), u = l.isHostingGame, c = l.showNotInHostingGameAlert, p = n(9), f = n(31).alert, d = n(84), h = n(36), y = function() {
function e() {
this.isMatchmaking = !1, this.isQueued = !1, this.hasServer = !1;
}
return Object.defineProperty(e.prototype, "isInJoinFlow", {
get: function() {
return this.isMatchmaking || this.isQueued || this.hasServer;
},
enumerable: !0,
configurable: !0
}), e;
}();
s([ p.observable ], y.prototype, "isMatchmaking", void 0), s([ p.observable ], y.prototype, "isQueued", void 0), 
s([ p.observable ], y.prototype, "hasServer", void 0), s([ p.computed ], y.prototype, "isInJoinFlow", null), 
t.rimeTransitionState = new y(), d.transform(function(e) {
return e && !!e.sessionId;
}).listen(p.action("rimeTransitionState.isMatchmaking", function(e) {
t.rimeTransitionState.isMatchmaking = e;
})), h.scope("queue").listen(p.action("rimeTransitionState.isQueued", function(e) {
t.rimeTransitionState.isQueued = e.isPending;
})), h.scope("server").transform(function(e) {
return null != e;
}).listen(p.action("rimeTransitionState.hasServer", function(e) {
t.rimeTransitionState.hasServer = e;
})), t.requiresHostingGame = a, t.requiresRime = i;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = n(15);
t.showOptions = r.createAction(), t.showCredits = r.createAction(), t.showBattlepacks = r.createAction(), 
t.showSoldierProgression = r.createAction(), t.showAwards = r.createAction(), t.showDogTags = r.createAction(), 
t.showCampaign = r.createAction(), t.showSquadJoin = r.createAction(), t.joinGame = r.createAction(), 
t.purchaseRSP = r.createAction(), t.playTestRange = r.createAction();
}, function(e, t, n) {
"use strict";
var r = n(3);
t.quicklinksGroup = r.focus.createGroup("quicklinks"), t.comcenterGroup = r.focus.createGroup("comcenter"), 
t.mainmenuGroup = r.focus.createGroup("mainmenu"), t.minimainmenuGroup = r.focus.createGroup("minimainmenu"), 
t.topmenuGroup = r.focus.createGroup("topmenu"), t.contextMenuGroup = r.focus.createGroup("contextmenu"), 
t.scoreboardTeamLeftGroup = r.focus.createGroup("teamleft"), t.scoreboardTeamRightGroup = r.focus.createGroup("teamright"), 
t.battlepackWinnersGroup = r.focus.createGroup("battlepackwinners"), t.handleIfNotTheSameGroup = function(e, t) {
return function(n, o) {
var a = r.focus.system.findNextItem(n, o);
return a && a.group === e ? {
result: 2,
toItem: a
} : t(n, o);
};
}, t.stopIfNotTheSameGroup = function(e) {
return t.handleIfNotTheSameGroup(e, function(e, t) {
return {
result: 0
};
});
}, t.comcenterGroup.handleDirection(r.focus.Direction.Up, t.stopIfNotTheSameGroup(t.comcenterGroup)), 
t.comcenterGroup.handleDirection(r.focus.Direction.Down, t.stopIfNotTheSameGroup(t.comcenterGroup)), 
t.quicklinksGroup.behavior = r.focus.GroupBehavior.HORIZONTAL | r.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | r.focus.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET, 
t.quicklinksGroup.handleDirection(r.focus.Direction.Right, t.handleIfNotTheSameGroup(t.quicklinksGroup, function(e, n) {
return t.comcenterGroup.navigateToGroup(e, n);
})), t.quicklinksGroup.handleDirection(r.focus.Direction.Left, t.handleIfNotTheSameGroup(t.quicklinksGroup, function(e, n) {
return SpartaGlobals.bundleIsPC ? t.minimainmenuGroup.navigateToGroup(e, n) : t.mainmenuGroup.navigateToGroup(e, n);
})), t.mainmenuGroup.behavior = r.focus.GroupBehavior.VERTICAL | r.focus.GroupBehavior.WRAP_AROUND, 
t.mainmenuGroup.handleDirection(r.focus.Direction.Left, function(e, t) {
return {
result: 0
};
}), t.minimainmenuGroup.behavior = r.focus.GroupBehavior.VERTICAL | r.focus.GroupBehavior.WRAP_AROUND, 
t.minimainmenuGroup.handleDirection(r.focus.Direction.Left, function(e, t) {
return {
result: 0
};
}), t.contextMenuGroup.behavior = r.focus.GroupBehavior.VERTICAL | r.focus.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET, 
t.contextMenuGroup.handleDirection(r.focus.Direction.Left, function(e, t) {
return {
result: 0
};
}), t.contextMenuGroup.handleDirection(r.focus.Direction.Right, function(e, t) {
return {
result: 0
};
}), t.contextMenuGroup.handleDirection(r.focus.Direction.Up, t.stopIfNotTheSameGroup(t.contextMenuGroup)), 
t.contextMenuGroup.handleDirection(r.focus.Direction.Down, t.stopIfNotTheSameGroup(t.contextMenuGroup)), 
t.scoreboardTeamLeftGroup.behavior = r.focus.GroupBehavior.VERTICAL | r.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | r.focus.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET, 
t.scoreboardTeamRightGroup.behavior = r.focus.GroupBehavior.VERTICAL | r.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | r.focus.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET, 
t.battlepackWinnersGroup.behavior = r.focus.GroupBehavior.HORIZONTAL | r.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | r.focus.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET;
}, function(e, t) {
"use strict";
var n = function() {
function e() {
this.callbacks = [];
}
return e.prototype.listen = function(e) {
var t = this;
return this.callbacks.push(e), function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
};
}, e.prototype.listenOnce = function(e) {
var t = this.listen(function() {
for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
t(), e.apply(void 0, n);
});
return t;
}, e.prototype.trigger = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
for (var n = this.callbacks.slice(), r = 0; r < n.length; r++) n[r].apply(null, e);
}, e.prototype.destroy = function() {
this.callbacks.length = 0;
}, e;
}();
t.TwinkleEvent = n;
var r = function() {
function e() {
this.callbacks = [];
}
return e.prototype.listen = function(e) {
var t = this;
return this.callbacks.push(e), function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
};
}, e.prototype.listenOnce = function(e) {
var t = this.listen(function() {
t(), e();
});
return t;
}, e.prototype.trigger = function() {
for (var e = this.callbacks.slice(), t = 0; t < e.length; t++) e[t]();
}, e.prototype.destroy = function() {
this.callbacks.length = 0;
}, e;
}();
t.TwinkleSignal = r;
var o = function() {
function e() {
this.callbacks = [];
}
return e.prototype.listen = function(e) {
var t = this;
return this.callbacks.push(e), function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
};
}, e.prototype.listenOnce = function(e) {
var t = this.listen(function(n) {
t(), e(n);
});
return t;
}, e.prototype.trigger = function(e) {
for (var t = this.callbacks.slice(), n = 0; n < t.length; n++) t[n](e);
}, e.prototype.destroy = function() {
this.callbacks.length = 0;
}, e;
}();
t.TwinkleTypedEvent = o;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(51), s = n(19), l = r(s), u = n(710), c = r(u), p = n(89), f = r(p), d = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, {}), (SpartaGlobals.bundleIsPC || SpartaGlobals.bundleIsXBOXONE) && f["default"].onReady.listen(function() {
n.setCopy({}), n.setThreeLetterCountry("usa"), n.setApiEnv(), n.setPlatform(), n.setLocale(), 
n.setCountryAndCopy();
});
}
return a(t, e), t.prototype.setCountryAndCopy = function n() {
var e = this, t = "https://api1.origin.com/ecommerce2/ipToStoreFront";
c["default"].get({
url: t,
headers: "Accept: application/json",
isJson: !0,
retry: 5,
success: function n(t) {
e.setThreeLetterCountry(t.country), e.retrieveCopy();
},
failure: function r(t, n) {
e.retrieveCopy();
}
});
}, t.prototype.retrieveCopy = function r() {
var e = this, t = "https://data1.origin.com/{apiEnv}/odc/messaging/sparta/{platform}.{locale}.{country}.xjson".replace("{apiEnv}", this.getApiEnv()).replace("{platform}", this.getPlatform().toLowerCase()).replace("{locale}", this.getLocale()).replace("{country}", this.getThreeLetterCountry());
c["default"].get({
url: t,
isJson: !0,
retry: 3,
success: function n(t) {
e.setCopy(t), e.retrieveUrlData();
}
});
}, t.prototype.retrieveUrlData = function i() {
var e = this, t = this.getProperty(this.getCopy(), "settings.url.accessTos") || "";
t = t.replace("{country}", this.getThreeLetterCountry()).replace("{lang}", this.getLanguage());
var n = this.getProperty(this.getCopy(), "settings.url.accessTosData") || "", r = this.getProperty(this.getCopy(), "settings.url.accessTosPrepend") || "", o = this.getProperty(this.getCopy(), "settings.url.accessTosDate") || "";
"" !== o && (o = new Date(o).toLocaleDateString()), "" !== n ? (n = r + n, n = n.replace("%accessTosDate%", o), 
this.getCopy().settings.url.accessTosData = this.sanitizeUrlData(n)) : "" !== t && c["default"].get({
url: t,
retry: 3,
success: function a(t) {
n = r + t, n = n.replace("%accessTosDate%", o), e.getCopy().settings.url.accessTosData = e.sanitizeUrlData(n);
}
});
}, t.prototype.sanitizeUrlData = function s(e) {
var t = "\n";
return e = e.replace(new RegExp("<br>", "g"), t), e = e.replace(new RegExp(t + t, "g"), t), 
e = e.trim(), e = e.replace(new RegExp(/<.*?>/g), ""), e.split(/\n/);
}, t.prototype.strReplace = function u(e, t, n) {
return "string" != typeof e || "string" != typeof n ? e : (e = e.replace(t.toLowerCase(), n), 
e = e.replace(t.toUpperCase(), n.toUpperCase()));
}, t.prototype.updateCopyRecurse = function p(e, t, n) {
for (var r = "%" + t + "%", o = Object.keys(e), a = 0; a < o.length; a++) {
var i = o[a];
"string" == typeof e[i] ? e[i] = this.strReplace(e[i], r, n) : "object" == typeof e[i] && (e[i] = this.updateCopyRecurse(e[i], t, n));
}
return e;
}, t.prototype.getProperty = function d(e, t) {
return t.split(".").reduce(function(e, t) {
return "undefined" == typeof e || null === e ? e : e[t];
}, e);
}, t.prototype.getCopyPage = function h(e, t) {
if ("object" != typeof this.getCopy()) return {};
if ("object" != typeof this.getCopy()[e]) return {};
var n = this.getCopy()[e];
if ("object" == typeof t) for (var r = Object.keys(t), o = 0; o < r.length; o++) n = this.updateCopyRecurse(n, r[o], t[r[o]]);
return n;
}, t.prototype.getLanguage = function y() {
var e = [ "de", "es", "fr", "it", "ja", "ko", "pl", "pt", "ru", "zh" ], t = this.getLocale().substr(0, 2);
return -1 === e.indexOf(t) && (t = "en"), t;
}, t.prototype.setCopy = function g(e) {
this.copy = e;
}, t.prototype.getCopy = function m() {
return this.copy;
}, t.prototype.setPlatform = function b() {
this.platform = SpartaGlobals.bundlePlatform;
}, t.prototype.getPlatform = function v() {
return this.platform;
}, t.prototype.setApiEnv = function _() {
this.apiEnv = "live";
}, t.prototype.getApiEnv = function S() {
return this.apiEnv;
}, t.prototype.setLocale = function T() {
var e = l["default"].getState().locale;
this.locale = e ? e.toLowerCase() : "en-us";
}, t.prototype.getLocale = function w() {
return this.locale;
}, t.prototype.setThreeLetterCountry = function E(e) {
this.threeLetterCountry = e;
}, t.prototype.getThreeLetterCountry = function I() {
return this.threeLetterCountry;
}, t;
}(i.Store);
t["default"] = new d(), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
var n = function(t) {
function n(e) {
o(this, n), t.call(this, e), this._isMounted = !0, this._actionUnsubscribes = [];
}
return a(n, t), n.prototype.componentWillMount = function r() {
t.prototype.componentWillMount && t.prototype.componentWillMount.call(this), e && this.subscribeToActions(e);
}, n.prototype.componentWillUnmount = function i() {
t.prototype.componentWillUnmount && t.prototype.componentWillUnmount.call(this), 
this._isMounted = !1, this._actionUnsubscribes.forEach(function(e) {
return e();
}), this._actionUnsubscribes = [];
}, n.prototype.triggerActionHandler = function s(e) {
if (this._isMounted) {
var t = this[e];
if (t) {
for (var n = arguments.length, r = Array(n > 1 ? n - 1 : 0), o = 1; n > o; o++) r[o - 1] = arguments[o];
t.apply(this, r);
} else console.warn("Missing handler", e, "on component", this.displayName);
}
}, n.prototype.subscribeToActions = function l(e) {
var t = this;
u["default"].each(e, function(e, n) {
e = Array.isArray(e) ? e : [ e ], e.forEach(function(e) {
t._actionUnsubscribes.push(e.listen(t.triggerActionHandler.bind(t, n)));
});
});
}, n;
}(t);
return n.displayName = t.displayName || t.name, n;
};
}
t.__esModule = !0, t["default"] = i;
var s = n(1), l = (r(s), n(5)), u = r(l);
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(51), s = n(278), l = r(s), u = n(18), c = r(u), p = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, new l["default"]({
progress: 1,
isInstalling: !1,
isMpInstalled: !0
})), c["default"].updateInstallState.listen(function(e) {
n.setState(e);
});
}
return a(t, e), t;
}(i.Store);
t["default"] = new p(), e.exports = t["default"];
}, function(e, t, n) {
var r = n(15), o = n(429), a = n(23), i = n(26), s = new i("RentedServerDetailsStore"), l = r.createStore({
init: function u() {
this.listenTo(o, function(e, t) {
s.setState({
data: e,
error: t
}), this.trigger(this.getState());
}), this.listenTo(a.clearRentedServerDetails, function(e, t) {
var n = !0, r = s.getState();
r.data && (e && r.data.server.serverId === e && (n = !1), t && r.data.server.persistedGameId === t && (n = !1)), 
n && (s.setState(null), this.trigger(this.getState()));
});
},
getState: function c() {
return s.getState();
}
});
e.exports = l;
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return k(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(14), d = i(f), h = n(20), y = i(h), g = n(13), m = i(g), b = n(12), v = i(b), _ = n(27), S = i(_), T = n(46), w = i(T), E = n(6), I = i(E), C = n(96), A = i(C), P = n(8), O = n(310), R = {
_$WwceSupportTemplate: {
displayName: "WwceSupportTemplate"
}
}, k = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportTemplate.jsx",
components: R,
locals: [],
imports: []
}), x = {
dynContentStyle: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 10,
flexDirection: "column",
justifyContent: "center",
maxWidth: I["default"].getWidth(25),
alignItems: "center"
}
}, M = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.componentDidMount = function s() {
this.updateInput();
}, n.prototype.getInput = function l() {
var e = this, t = [];
return "InGame" === this.state.context.source && this.props.onBackClick && t.push(new m["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
action: function n() {
return e.props.onBackClick();
},
key: v["default"].Decline,
visible: !0
})), t;
}, n.prototype.render = function c() {
return P.onlineState.isOnlineBlazeAndGateway ? this.props.loading ? {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: u,
type: w["default"],
key: null,
ref: null,
props: e(w["default"].defaultProps, {
size: 50,
style: {
marginBottom: 3 * I["default"].GUTTER
}
}),
_owner: null
},
style: x.dynContentStyle
},
_owner: null
} : "InGame" === this.state.context.source ? this.props.children : {
$$typeof: u,
type: S["default"],
key: null,
ref: null,
props: e(S["default"].defaultProps, {
children: this.props.children,
tallContent: !0
}),
_owner: null
} : {
$$typeof: u,
type: O.ConnectionState,
key: null,
ref: null,
props: e(O.ConnectionState.defaultProps, {}),
_owner: null
};
};
var i = n;
return n = a("_$WwceSupportTemplate")(n) || n, n = d["default"]({
context: A["default"]
})(n) || n, n = y["default"]()(n) || n;
}(p["default"].Component);
t.WwceSupportTemplate = M;
}).call(t, n(2));
}, function(e, t) {
"use strict";
var n = function(e) {
var t;
for (t in e) if (e.hasOwnProperty(t)) return t;
return null;
};
e.exports = n;
}, function(e, t, n) {
"use strict";
function r() {
o.attachRefs(this, this._currentElement);
}
var o = n(973), a = {
mountComponent: function(e, t, n, o) {
var a = e.mountComponent(t, n, o);
return e._currentElement && null != e._currentElement.ref && n.getReactMountReady().enqueue(r, e), 
a;
},
unmountComponent: function(e) {
o.detachRefs(e, e._currentElement), e.unmountComponent();
},
receiveComponent: function(e, t, n, a) {
var i = e._currentElement;
if (t !== i || a !== e._context) {
var s = o.shouldUpdateRefs(i, t);
s && o.detachRefs(e, i), e.receiveComponent(t, n, a), s && e._currentElement && null != e._currentElement.ref && n.getReactMountReady().enqueue(r, e);
}
},
performUpdateIfNecessary: function(e, t) {
e.performUpdateIfNecessary(t);
}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = {
listen: function(t) {
var n = function(e, n) {
t(n);
};
return o.frostbite.registerMessageListener(e, n), function() {
o.frostbite.removeMessageListener(e, n);
};
}
};
return t;
}
var o = n(3);
t.frostbiteListenable = r;
}, function(e, t) {
"use strict";
var n = 0, r = function() {
function e(e, t, r, o, a, i, s) {
this.name = e, this.keyCode = t, this.padCode = r, this.fbAction = o, this.order = a, 
this.priority = i, this.enableRepeat = s, this.id = n++, this.fbAction = this.fbAction.map(function(e) {
return "UIInputAction_" + e;
}), Object.freeze(this);
}
return e.prototype.toString = function() {
return this.name;
}, e;
}();
t.Key = r;
var o = function() {
function e(e, t, n, r) {
void 0 === t && (t = !1), void 0 === n && (n = !1), void 0 === r && (r = !1), this.key = e, 
this.isRelease = t, this.isRepeat = n, this.isHold = r, this.isPress = !this.isRelease && !this.isHold;
}
return e;
}();
t.KeyEvent = o;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
var r = n;
if (a.partyStore.canGroupJoin(e.game)) if (null == r && (r = {}), a.partyStore.isInSquadJoin) {
if (null == a.partyStore.id) throw new Error("Attempting to squad join without a party id!");
r.squad = {
size: a.partyStore.squadSize,
expansionMask: a.partyStore.expansionMask,
id: a.partyStore.id
};
} else r.party = a.partyStore;
return new o.JoinMultiplayerServerOptions(e, t, r);
}
var o = n(358), a = n(8);
t.createJoinOptions = r;
}, function(e, t, n) {
"use strict";
var r = n(112), o = n(176), a = n(622), i = function() {
function e(e) {
void 0 === e && (e = {}), this.isLeader = !1, this.friendState = void 0 !== e.friendState ? a.parseFriendState(e.friendState) : void 0, 
this.spartaUserId = new r.SpartaUserId(e.spartaUserId), this.avatarUrl = e.avatarUrl, 
this.isLeader = e.isLeader, this.name = e.name || "", this.displayName = e.name || "", 
this.presence = new o.UserPresence(Object.assign({}, e.presence, {
userId: this.id
}));
}
return Object.defineProperty(e.prototype, "id", {
get: function() {
return this.spartaUserId.getPlatformId();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isFriend", {
get: function() {
return void 0 !== this.friendState;
},
enumerable: !0,
configurable: !0
}), e.prototype.extend = function() {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
var r = [ this ].concat(t).reduce(function(e, t) {
for (var n in t) if (t.hasOwnProperty(n)) {
var r = t[n];
void 0 !== r && "" !== r && (e[n] = r);
}
return e;
}, {});
return new e(r);
}, e;
}();
t.User = i;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return M(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(5), y = s(h), g = n(10), m = n(3), b = n(20), v = s(b), _ = n(8), S = n(16), T = n(6), w = s(T), E = n(70), I = s(E), C = n(7), A = n(11), P = n(12), O = s(P), R = n(13), k = s(R), x = {
_$AwardItem: {
displayName: "AwardItem"
}
}, M = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/AwardItem.jsx",
components: x,
locals: [],
imports: []
}), N = {
box: {
position: "relative"
},
focusedCard: {
backgroundColor: "#ffffff"
},
activeCard: {
backgroundColor: "#ffffff33"
},
blurredCard: {
backgroundColor: "#00000055"
},
positionWrapper: {
position: "relative"
},
award: {
height: w["default"].getHeight(12),
opacity: .3,
grayScale: 1,
zOffset: 1,
textureMode: "contain",
textureScale: .9
},
dependency: {
width: w["default"].getWidth(3),
height: w["default"].getHeight(5),
opacity: .5,
position: "relative",
textureMode: "contain",
textureScale: 1.2
},
dependencySeparator: {
height: 1,
backgroundColor: "#000000"
},
dependencySeparatorFocused: {
opacity: .07
},
dependencySeparatorNotFocused: {
opacity: 0
},
unlockedImage: {
opacity: 1,
grayScale: 0
},
progressBar: {
position: "relative"
},
multiplier: {
position: "absolute",
bottom: 10,
right: 10,
zOffset: 2
},
multiplierFocused: {
color: "#000000"
},
multiplierNotFocused: {
color: "#FFFFFF"
},
expansionIcon: {
textureMode: "contain",
height: w["default"].getHeight(2),
width: w["default"].getHeight(2),
position: "absolute",
left: w["default"].GUTTER,
top: w["default"].GUTTER
},
starContainer: {
zOffset: 10,
flexDirection: "row",
position: "absolute",
left: w["default"].GUTTER,
bottom: w["default"].GUTTER - 1
},
star: {
width: w["default"].getHeight(2),
height: w["default"].getHeight(2),
texture: A.bbOfflineUrl("/sparta/assets/ui/icons/ui/small-star-white-b3141b80.png"),
textureMode: "contain",
marginRight: w["default"].GUTTER / 2,
color: "#ff9900"
},
starNumber: {
marginTop: -1
},
checkmark: {
zOffset: 10,
position: "absolute",
left: w["default"].GUTTER,
bottom: w["default"].GUTTER,
width: 1.5 * w["default"].GUTTER * (23 / 16),
height: 1.5 * w["default"].GUTTER,
texture: A.bbOfflineUrl("/sparta/assets/ui/checkmark-32184656.png"),
textureMode: "contain"
}
}, D = {
"in": {
duration: S.Animation.defaultTweenOptions.duration / 2
},
out: {
duration: S.Animation.defaultTweenOptions.duration / 4
}
}, U = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = m.focus.create(this, "awardimage"), 
m.focus.onComponentUpdate(this, function(e, t) {
r.focusItem.debugName = "awarditem_" + e.awardImage, e.input ? r.focusItem.setClickInput(e.input) : e.onFocus ? SpartaGlobals.bundleIsPC && r.focusItem.setClickInput(new k["default"]({
action: e.onFocus,
label: __("ID_SPARTA_ACTION_SELECT"),
key: O["default"].Accept
})) : console.warn("No action for awarditem " + e.awardImage);
}), this.focusItem.onChange.listen(function(e) {
e && m.focus.system.controllerMode && r.props.onFocus();
});
}
a(t, e), t.prototype.renderAward = function s(e) {
var t = {
award: p({}, N.award, {
texture: this.props.awardImage,
textureAtlas: this.props.atlas,
color: e ? this.props.activeColor : this.props.inactiveColor,
width: this.props.style.width
}, this.props.unlocked && N.unlockedImage, this.props.imageStyle),
awardCount: p({}, N.multiplier, e ? N.multiplierFocused : N.multiplierNotFocused, {
right: N.multiplier.right + (this.props.expansion ? w["default"].getHeight(2) + 5 : 0)
})
};
this.props.imageType && ("rectangle" === this.props.imageType ? t.award.textureScale = .5 : "normal" === this.props.imageType && (t.award.textureScale = 1.2));
var n = 0;
return this.props.hideAwardCount || (n = this.props.awardCount ? this.props.awardCount : Math.floor(this.props.dependencyAcquired / this.props.dependencyNeeded)), 
{
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: t.award
},
_owner: null
}, {
$$typeof: c,
type: C.Text,
key: null,
ref: null,
props: r(C.Text.defaultProps, {
value: n > 0 ? "x" + n : "",
type: "emphasis",
size: "S",
style: t.awardCount
}),
_owner: null
} ],
style: N.positionWrapper
},
_owner: null
};
}, t.prototype.renderDependency = function l(e, t, n) {
var o = {
dependency: {
texture: e,
width: this.props.style.width
}
};
return {
$$typeof: c,
type: "surface",
key: "dependency" + t,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ N.dependency, o.dependency, this.props.unlocked ? N.unlockedImage : null ]
},
_owner: null
}, {
$$typeof: c,
type: C.Text,
key: null,
ref: null,
props: r(C.Text.defaultProps, {
value: "x" + this.props.dependencyAcquired,
size: "XS",
type: "emphasis",
style: [ N.multiplier, n ? N.multiplierFocused : N.multiplierNotFocused ]
}),
_owner: null
} ],
style: N.positionWrapper
},
_owner: null
};
}, t.prototype.renderDependencies = function u(e) {
var t = this, n = y["default"].map(this.props.dependencies, function(n, r) {
return t.renderDependency(n.images.Small, r, e);
});
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderSeparator(), n ]
},
_owner: null
};
}, t.prototype.renderSeparator = function f(e) {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ N.dependencySeparator, e ? N.dependencySeparatorFocused : N.dependencySeparatorNotFocused ]
},
_owner: null
};
}, t.prototype.renderProgressBar = function h() {
return {
$$typeof: c,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {
height: "S",
width: this.props.style.width,
completed: this.props.progressPercent,
segmented: this.props.stages.length || this.props.segmented,
style: N.progressBar,
backgroundColor: this.props.progressionBackground
}),
_owner: null
};
}, t.prototype.renderStars = function b(e) {
var t = this.props.star;
if (!t) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = 100 === t.timesAquired, o = e ? "#000000" : "#ffffff", a = n && !e ? "#ff9900" : o, i = {
star: p({}, N.star, {
color: a
}),
starNumber: p({}, N.starNumber, {
color: a
})
}, s = n ? 100 : t.timesAquired;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: i.star
},
_owner: null
}, {
$$typeof: c,
type: C.Text,
key: null,
ref: null,
props: r(C.Text.defaultProps, {
style: i.starNumber,
value: "" + s,
size: "XS",
gameId: this.props.gameId
}),
_owner: null
} ],
style: N.starContainer
},
_owner: null
};
}, t.prototype.renderCheckmark = function T(e, t) {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, N.checkmark, {
color: t ? "#000000" : "#ffffff",
opacity: S.Animation.tweenSwitch(0, 1, e, D["in"], D.out)
})
},
_owner: null
};
}, t.prototype.renderExpansionIcon = function E() {
var e = _.gameStore.getGame(this.props.gameId).expansions, t = this.props.expansion, n = null;
return e && t && (n = t.license ? e[t.license] : e[t]), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, N.expansionIcon, {
texture: n,
opacity: this.props.unlocked ? 1 : .5
})
},
_owner: null
};
}, t.prototype.renderDependencyIcon = function P() {
var e = this.props, t = e.icon, n = e.unlocked, r = void 0;
switch (t) {
case "rank":
r = A.bbUrl("/sparta/jsclient/builds/assets/icon-rank-dd34db7c.png");
break;

case "previous":
r = A.bbUrl("/sparta/jsclient/builds/assets/icon-prerequisite-62c37f63.png");
break;

case "premium":
r = A.bbUrl("/sparta/jsclient/builds/assets/icon-p-shield-a91bad20.png");
break;

default:
r = null;
}
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, N.expansionIcon, {
texture: r,
opacity: n ? 1 : .5
})
},
_owner: null
};
}, t.prototype.renderLockIcon = function R(e) {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: {
position: "absolute",
right: 5,
bottom: 6,
opacity: .3,
width: w["default"].getHeight(2),
height: w["default"].getHeight(2),
color: e ? this.props.activeColor : this.props.inactiveColor,
texture: A.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-lock-white-242e77e0.png")
}
},
_owner: null
};
}, t.prototype.render = function x() {
var e = this.props.itemState.active, t = this.focusItem.isFocused, n = void 0;
n = t ? N.focusedCard : e ? N.activeCard : N.blurredCard;
var r = void 0;
return this.props.showLockIcon && !this.props.unlocked && (r = this.renderLockIcon(t)), 
d["default"].createElement("surface", p({
style: [ N.box, this.props.style ]
}, this.focusItem.hooks), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderAward(t), this.props.dependencies.length > 0 && this.renderDependencies(t), this.props.expansion ? this.renderExpansionIcon() : this.renderDependencyIcon(), this.renderStars(t), this.renderCheckmark(this.props.checked, t), r ],
style: n
},
_owner: null
}, null !== this.props.progressPercent && this.renderProgressBar());
};
var n = t;
return t = i("_$AwardItem")(t) || t, t = m.hasSurfaceBounds()(t) || t, t = v["default"]()(t) || t, 
t = g.observer(t) || t;
}(d["default"].Component);
t["default"] = U, U.propTypes = {
checked: d["default"].PropTypes.bool,
unlocked: d["default"].PropTypes.bool,
dependencies: d["default"].PropTypes.array,
dependencyAcquired: d["default"].PropTypes.number,
dependencyNeeded: d["default"].PropTypes.number,
progressionBackground: d["default"].PropTypes.string,
activeColor: d["default"].PropTypes.string,
inactiveColor: d["default"].PropTypes.string
}, U.defaultProps = {
checked: !1,
stages: [],
dependencies: [],
dependencyAcquired: 0,
dependencyNeeded: 1,
progressPercent: null,
progressionBackground: "#FFFFFF75"
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
this.code = e.code, this.images = e.images || {}, this.index = e.index, e.description && (this.description = e.description), 
e.name && (this.name = e.name), e.dependencies && (this.dependencies = e.dependencies), 
e.progression && (this.progression = e.progression), e.criterias && (this.criterias = e.criterias), 
e.equipped && (this.equipped = e.equipped), e.type && (this.type = e.type), e.stages && (this.stages = e.stages), 
e.unlocks && (this.unlocks = e.unlocks), e.expansions && (this.expansions = e.expansions), 
e.timesTaken && (this.timesTaken = e.timesTaken), e.xp && (this.xp = e.xp), e.icon && (this.icon = e.icon);
}
var a = n(5), i = r(a);
o.prototype.getCriteriaProgression = function() {
if (!this.criterias) return 0;
var e = this.criterias.length, t = 0;
return i["default"].each(this.criterias, function(e) {
t += e.progression.percent;
}), 0 !== t ? t / e : 0;
}, o.prototype.hasUnlockedAllDependencies = function() {
return this.dependencies ? i["default"].every(this.dependencies, function(e) {
return e.progression ? e.progression.unlocked : !0;
}) : !0;
}, e.exports = o;
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(51), s = n(5), l = r(s), u = n(49), c = r(u), p = n(410), f = r(p), d = n(8), h = n(11), y = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, {});
var r = {};
l["default"].each(l["default"].keys(d.gameStore.games.toJS()), function(e) {
r[e] = {
offers: [],
available: !1,
loading: !0,
error: !1
};
}), c["default"].setOffers.listen(function(e, t, r, o, a) {
var i = l["default"].extend({}, n.getState());
i[e] = {
offers: t,
available: r,
loading: o,
error: a
}, n.setState(i);
});
}
return a(t, e), t.prototype.getGameState = function n(e) {
var t = l["default"].extend({}, this.getState());
return t[e] || {
offers: [],
available: !1,
loading: !1,
error: !1
};
}, t.prototype.getOffers = function r(e) {
return this.getGameState(e).offers;
}, t.prototype.getOffersByGroup = function i(e, t) {
return l["default"].filter(this.getOffers(e), function(e) {
return e.group === t;
});
}, t.prototype.getGameOffers = function s(e) {
return this.getOffersByGroup(e, "game");
}, t.prototype.getPremiumOffers = function u(e) {
return this.getOffersByGroup(e, "premium");
}, t.prototype.getExpansionOffers = function p(e) {
return this.getOffersByGroup(e, "xpacks");
}, t.prototype.getBattlepackOffers = function y(e) {
return this.getOffersByGroup(e, "battlepacks");
}, t.prototype.getKitShortcutOffers = function g(e) {
return this.getOffersByGroup(e, "shortcuts");
}, t.prototype.getRSPOffers = function m(e) {
return this.getOffersByGroup(e, "rsp");
}, t.prototype.getRSPVirtualOffers = function b(e) {
var t = this.getRSPOffers(e);
return t.length ? [ new f["default"]({
id: "virtualRSP-custom",
productId: "virtualRSP.custom",
group: "virtualRSP",
gameId: e,
backgroundUrl: h.bbUrl("/sparta/jsclient/builds/assets/rsp-card-7e768e07.png"),
displayName: __("ID_SPARTA_COMMERCE_RSP") + " (" + __("ID_SPARTA_COMMERCE_RSP_OFFER_PRICE").toUpperCase() + ")",
description: {
longDesc: __("ID_SPARTA_COMMERCE_RSP_OFFER_DESCRIPTION_LONG"),
shortDesc: __("ID_SPARTA_COMMERCE_RSP_OFFER_DESCRIPTION_SHORT")
},
owned: !1
}) ] : [];
}, t.prototype.getPreorderOffers = function v(e) {
return this.getOffersByGroup(e, "pre-order");
}, t.prototype.getBetaOffers = function _(e) {
return this.getOffersByGroup(e, "beta");
}, t.prototype.getDeluxeOffers = function S(e) {
return this.getOffersByGroup(e, "deluxe");
}, t.prototype.getAccessOffers = function T() {
return this.getOffersByGroup("access", "access");
}, t.prototype.getOfferById = function w(e, t) {
var n = this.getOffers(e);
return l["default"].find(n, function(e) {
return e.id === t;
});
}, t;
}(i.Store);
t["default"] = new y(), e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var o = n(5), a = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
r(this, e), o.extend(this, t);
}
return e.prototype.merge = function t(n) {
return new e(o.extend({}, this, n));
}, e.prototype.get = function n(e) {
return this[e];
}, e.prototype.set = function a(e, t) {
var n = {};
return n[e] = t, this.merge(n);
}, e.prototype.remove = function i(t) {
var n = o.without(o.keys(this), t);
return new e(o.extend({}, o.pick(this, n)));
}, e.prototype.hasValue = function s(e) {
return o.any(o.values(this), function(t) {
return t === e;
});
}, e.prototype.values = function l() {
return o.values(this);
}, e.prototype.size = function u() {
return Object.keys(this).length;
}, e.prototype.isEmpty = function c() {
return 0 === Object.keys(this).length;
}, e;
}();
t["default"] = a, e.exports = t["default"];
}, function(e, t, n) {
var r = n(15);
e.exports = {
register: r.createAction({
sync: !0
}),
"delete": r.createAction({
sync: !0
}),
isolateGroup: r.createAction({
sync: !0
}),
releaseGroup: r.createAction({
sync: !0
}),
trigger: r.createAction({
sync: !0
}),
calledAction: r.createAction(),
calledHoldAction: r.createAction(),
calledReleaseAction: r.createAction()
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return v["default"].getState()[e];
}
function a(e, t) {
var n = C.get(e);
n ? (n.id || n.filterName) && (n = new _.GameFilter(f["default"].omit(n, "id", "filterName"))) : n = new _.GameFilter(), 
n = t(n), C.set(e, n), R(e, n);
}
function i(e) {
if (e && "scale" === e[0].type) {
var t = function() {
var t = {};
return e.forEach(function(e) {
return t[e.defaultOption] = "on";
}), {
v: t
};
}();
if ("object" == typeof t) return t.v;
} else {
var n = function() {
var t = {};
return e.forEach(function(e) {
return t[e.filterKey] = e.defaultValue ? "on" : "off";
}), {
v: t
};
}();
if ("object" == typeof n) return n.v;
}
}
function s(e, t) {
var n = o(t);
n && O.forEach(function(t) {
n[t] && (e[t] = i(n[t]));
});
}
function l(e) {
var t = S.gameStore.getGame(e).serverListDefaultFilter;
if (!t) return t = {}, s(t, e), new _.GameFilter(t);
t = f["default"].extend({}, t);
var n = w["default"].getBestPingSite(e), r = null;
return n && (r = n.region || P[n.alias]), r && void 0 !== t.regions && (t.regions = {}, 
t.regions[r] = "on"), s(t, e), new _.GameFilter(t);
}
function u(e, t) {
var n = t(l(e));
C.set(e, n), R(e, n);
}
function c(e, t) {
S.settingsStore.supportsFilterState && A.indexOf(e) > -1 && I.saveFilterState(e, t);
}
t.__esModule = !0;
var p = n(5), f = r(p), d = n(15), h = n(26), y = r(h), g = n(23), m = r(g), b = n(104), v = r(b), _ = n(574), S = n(8), T = n(92), w = r(T), E = n(9), I = n(572), C = new y["default"]("ServerFilterStore"), A = [], P = {
ams: "EU",
dub: "EU",
gru: "SAm",
brz: "SAm",
sjc: "NAm",
lax: "NAm",
iad: "NAm",
nrt: "Asia",
syd: "OC",
hkg: "Asia",
dxb: "Asia",
jnb: "Afr"
}, O = [ "kits", "vehicles", "weaponClasses", "misc", "scales" ], R = f["default"].debounce(c, 3e3), k = d.createStore({
init: function x() {
var e = this;
this.listenTo(m["default"].setFilterValue, function(e, t, n, r) {
var o = "advanced" !== t && "name" !== t && -1 === O.indexOf(t);
a(e, function(e) {
return e.setFilterCondition(t, n, r, o);
}), this.trigger(this.getState());
}), this.listenTo(m["default"].toggleFilters, function(e, t, n, r) {
a(e, function(e) {
return e.replaceFilterKeys(t, n, r);
}), this.trigger(this.getState());
}), this.listenTo(m["default"].prepareFilters, function(e) {
null == C.get(e) && (u(e, function(t) {
return l(e);
}), this.trigger(this.getState()));
}), this.listenTo(m["default"].resetFilters, function(e) {
u(e, function(t) {
return l(e);
}), this.trigger(this.getState());
}), this.listenTo(m["default"].applyFilters, function(e, t) {
u(e, function(e) {
return new _.GameFilter(t);
}), this.trigger(this.getState());
}), this.listenTo(m["default"].toggleFilterCategory, function(e, t) {
var n = o(e), r = f["default"].map(n[t], function(e) {
return e.filterKey;
});
a(e, function(e) {
return e.toggleConditionsInCategory(t, r, "on");
}), this.trigger(this.getState());
}), this.listenTo(m["default"].invertFilterCategory, function(e, t) {
var n = o(e), r = f["default"].map(n[t], function(e) {
return e.filterKey;
});
a(e, function(e) {
return e.invertCategory(t, r);
}), this.trigger(this.getState());
}), E.when(function() {
return S.onlineState.isOnlineBlazeAndGateway && S.settingsStore.supportsFilterState;
}, function() {
return e.loadFilterState();
});
},
_receiveState: function M(e) {
var t = f["default"].object(f["default"].map(e, function(e, t) {
return null == e || "object" != typeof e ? [] : null == t || "string" != typeof t ? [] : [ t, new _.GameFilter(e) ];
}));
C.setState(t), this.trigger(this.getState());
},
loadFilterState: function N() {
var e = this, t = Object.keys(S.gameStore.games.toJS());
A = t, I.getFilterState(t).then(function(t) {
e._receiveState(t);
})["catch"](function(e) {
return console.warn("Could not load filter state from gateway", e);
});
},
getState: function D() {
return C.getState();
},
getStateByGameId: function U(e) {
return C.get(e);
}
});
t["default"] = k, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
var t = I["default"](e);
return Object.keys(t).length > 0 ? JSON.stringify(t) : !1;
}
function s() {
var e, t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], n = t, r = {}, s = t;
return function(t) {
var l = function(t) {
function l() {
o(this, c), t.apply(this, arguments);
}
a(l, t), l.prototype.componentWillMount = function f() {
var e = this;
t.prototype.componentWillMount && t.prototype.componentWillMount.call(this), this.updateBatch = !0, 
p.when(function() {
return O.onlineState.isOnlineBlazeAndGateway;
}, function() {
return e.updateRecommenderOptions();
});
}, l.prototype.componentWillEnter = function h() {
t.prototype.componentWillEnter && t.prototype.componentWillEnter.call(this), O.onlineState.isOnlineBlazeAndGateway && (this.updateServerCounters(), 
this.updateRecommenderOptions());
}, l.prototype.componentDidMount = function g() {
t.prototype.componentDidMount && t.prototype.componentDidMount.call(this), this.updateRecommendationBatch();
}, l.prototype.componentDidUpdate = function b(e, n) {
t.prototype.componentDidUpdate && t.prototype.componentDidUpdate.call(this, e, n), 
this.updateRecommendationBatch(), this.state.recommendations && this.state.recommendations !== n.recommendations && this.updateServerCounters();
}, l.prototype.updateServerCounters = function _() {
var e = u["default"].chain(this.state.recommendations).filter(function(e) {
return e.recommendationId && e.matchmake;
}).map(function(e) {
var t = {
id: e.recommendationId,
game: e.game,
signalFilterJson: JSON.stringify(C.formatFilter(e.matchmake))
}, n = P["default"].getByGameId(e.game);
return n && (t.protocolVersion = n), t;
}).value();
e.length > 0 && v["default"].fetchServerCounts(e);
}, l.prototype.updateRecommendationBatch = function T() {
this.updateBatch && this.state.recommendations && (this.updateBatch = !1, m["default"].handleCardsDisplayed(this.state.recommendations, d["default"].getBatchId()));
}, l.prototype.updateRecommenderOptions = function E(t) {
r = u["default"].extend({}, r, t), s = u["default"].extend({}, n, r), e = i(s), 
s && s.hasOwnProperty("ruleCategories") && !function() {
var e = k["default"].getHostingGame().gameId;
s.ruleCategories = u["default"].map(s.ruleCategories, function(t) {
return e + "_" + t;
});
}(), e && (y["default"].trigger(e, s), this.unsubscribeFromStores(), this.subscribeToStores({
recommendations: w["default"](d["default"], e)
}));
};
var c = l;
return l = S["default"]()(l) || l;
}(t);
return l.displayName = t.displayName || t.name, l;
};
}
t.__esModule = !0, t["default"] = s;
var l = n(5), u = r(l), c = n(1), p = (r(c), n(9)), f = n(445), d = r(f), h = n(444), y = r(h), g = n(63), m = r(g), b = n(23), v = r(b), _ = n(14), S = r(_), T = n(28), w = r(T), E = n(701), I = r(E), C = n(155), A = n(224), P = r(A), O = n(8), R = n(19), k = r(R);
e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return S(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function s(e) {
switch (e) {
case b.UserPresenceStates.Joinable:
return "#02A0E2";

case b.UserPresenceStates.Playing:
return "#02A0E2";

case b.UserPresenceStates.Online:
return "#007F00";

case b.UserPresenceStates.Away:
return "#DC453E";

case b.UserPresenceStates.Offline:
return "#B3B3B3";
}
return "#00000000";
}
var l = n(4), u = i(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), d = n(1), h = i(d), y = n(127), g = n(6), m = i(g), b = n(75), v = n(11), _ = {
_$Avatar: {
displayName: "Avatar"
}
}, S = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Avatar.jsx",
components: _,
locals: [],
imports: []
}), T = 2, w = 2, E = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.getAvatarUrl = function i(e) {
return e && e.avatarUrl || v.bbOfflineUrl("/sparta/assets/ui/avatars/default-76365f9d.jpg");
}, t.prototype.render = function l() {
var e = this.props.showPresence, n = p({
position: "relative",
textureMode: "cover",
width: this.props.size ? this.props.size : void 0,
height: this.props.size ? this.props.size : void 0,
texture: t.getAvatarUrl(this.props.user),
textureAtlas: "AvatarAtlas",
marginLeft: T + w
}, this.props.style), r = e && {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: {
zOffset: 1,
width: T,
position: "absolute",
top: 0,
bottom: 0,
left: -(T + w),
backgroundColor: s(this.props.user.presence.state)
}
},
_owner: null
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: r,
onMouseEnter: this.props.onMouseEnter,
onMouseLeave: this.props.onMouseLeave,
style: n
},
_owner: null
};
}, f(t, null, [ {
key: "propTypes",
value: {
user: h["default"].PropTypes.instanceOf(y.User)
},
enumerable: !0
}, {
key: "defaultProps",
value: {
size: m["default"].getHeight(4)
},
enumerable: !0
} ]);
var n = t;
return t = a("_$Avatar")(t) || t;
}(h["default"].Component);
t["default"] = E, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return e ? f.on : {};
}
t.__esModule = !0;
var a = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, i = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, s = n(1), l = r(s), u = n(11), c = u.bbOfflineUrl("/sparta/assets/ui/checkbox_on-3892f9f9.png"), p = u.bbOfflineUrl("/sparta/assets/ui/checkbox-ee4a5c14.png"), f = {
on: {
texture: c
},
texture: {
texture: p,
alignSelf: "center",
width: 16,
height: 16,
textureBorder: 2,
textureMode: "fill"
}
}, d = function h(e) {
var t = e.value, n = e.style;
return {
$$typeof: i,
type: "surface",
key: null,
ref: null,
props: {
style: a({}, f.texture, o(t), n)
},
_owner: null
};
};
d.propTypes = {
value: l["default"].PropTypes.bool
}, d.defaultProps = {
style: {}
}, t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return L(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), h = n(1), y = l(h), g = n(10), m = n(3), b = r(m), v = n(9), _ = n(13), S = l(_), T = n(12), w = l(T), E = n(6), I = l(E), C = n(7), A = n(313), P = l(A), O = n(37), R = n(54), k = l(R), x = n(66), M = n(16), N = n(58), D = n(30), U = {
_$ListItem: {
displayName: "ListItem"
}
}, L = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/ListItem.jsx",
components: U,
locals: [],
imports: []
}), $ = {
background: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
backgroundColor: "#ffffff",
zOffset: 3
},
itemBase: {
paddingLeft: 2 * I["default"].GUTTER,
paddingRight: 2 * I["default"].GUTTER,
flex: 1,
zOffset: 3,
flexDirection: "row",
justifyContent: "space-between",
alignItems: "center",
height: I["default"].getHeight(7)
},
itemActive: {
backgroundColor: "#ffffff33"
},
activeIndicator: {
position: "absolute",
left: 0,
top: 0,
bottom: 0,
width: 2,
backgroundColor: "#ffffff",
zOffset: 2
},
mutedText: {
opacity: .5
}
}, G = {
enter: M.Animation.defaultTweenOptions.duration / 3,
leave: M.Animation.defaultTweenOptions.duration / 3
}, F = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = t.focusItem || b.focus.create(this, "listitem-" + t.label), 
this.focusItem.autoFocusCandidate = !0;
}
i(t, e), t.prototype.renderLabel = function r(e, t) {
var n = t ? {
marginLeft: I["default"].GUTTER / 2
} : {
paddingRight: I["default"].GUTTER / 2
};
n = this.props.muted ? f({}, n, $.mutedText) : n;
var r = this.props.label, a = O.getTextSizes(N.localeState.displayLocale);
if ("function" == typeof r && (r = this.props.label()), "string" == typeof r) {
var i = this.isFocused || this.props.isActive && this.props.showActiveIndicator === !0, s = i && !this.props.muted ? "emphasis" : "normal", l = t ? x.Direction.Left : x.Direction.Right;
r = this.props.scrollLabel ? {
$$typeof: p,
type: x.Marquee,
key: null,
ref: null,
props: o(x.Marquee.defaultProps, {
children: {
$$typeof: p,
type: C.Text,
key: null,
ref: null,
props: o(C.Text.defaultProps, {
value: this.props.upperCase ? r.toUpperCase() : r,
size: this.props.fontSize,
style: {
flex: 1
},
color: e,
type: s
}),
_owner: null
},
style: f({
zOffset: 4,
flex: 1
}, n),
scroll: this.isFocused,
scrollTo: l,
delay: 100,
onClick: this.props.onLabelClick
}),
_owner: null
} : {
$$typeof: p,
type: C.Text,
key: null,
ref: null,
props: o(C.Text.defaultProps, {
value: this.props.upperCase ? r.toUpperCase() : r,
size: this.props.fontSize,
onClick: this.props.onLabelClick,
color: e,
type: s,
style: f({
zOffset: 4,
flex: 1,
textAlignForRTL: D.isRTLLanguage() ? "left" : "right"
}, n)
}),
_owner: null
};
}
var u = this.props.icon || (this.isFocused && !this.props.muted ? this.props.focusIcon : this.props.blurIcon);
if (u) {
var c = this.props.iconSize ? this.props.iconSize : this.props.fontSize;
r = {
$$typeof: p,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
style: {
zOffset: 4,
opacity: this.props.muted ? .5 : 1
},
height: a[c],
icon: u,
label: r,
iconSpace: this.props.iconSpace
}),
_owner: null
};
}
return r;
}, t.prototype.renderSubLabel = function l(e, t) {
var n = {
marginLeft: I["default"].GUTTER / 2
};
n = this.props.muted ? f({}, n, $.mutedText) : n;
var r = this.props.subLabel;
if ("function" == typeof this.props.subLabel && (r = this.props.subLabel()), "string" == typeof r) {
var a = r || " ";
return {
$$typeof: p,
type: x.Marquee,
key: null,
ref: null,
props: o(x.Marquee.defaultProps, {
children: {
$$typeof: p,
type: C.Text,
key: null,
ref: null,
props: o(C.Text.defaultProps, {
value: a,
size: "XS",
color: e,
style: {
marginTop: 3
}
}),
_owner: null
},
style: f({
zOffset: 4
}, n),
scroll: this.isFocused,
scrollTo: x.Direction.Left,
onClick: this.props.onSubLabelClick,
durations: G
}),
_owner: null
};
}
return r ? (r = y["default"].cloneElement(r, f({}, r.props, {
focused: this.isFocused,
fontColor: this.props.fontColor,
isArabic: t
})), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: r,
onClick: this.props.onSubLabelClick,
style: {
zOffset: 4,
justifyContent: "flex-end"
}
},
_owner: null
}) : void 0;
}, t.prototype.renderContent = function u(e) {
var t = f({}, $.itemBase, e ? $.itemActive : {});
if (this.props.style && this.props.style.height && (t.height = this.props.style.height), 
this.props.children) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: t
},
_owner: null
};
var n = this.props.fontColor ? this.props.fontColor : "#ffffff";
this.isFocused && !this.props.muted && (n = "#000000");
var r = e && {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: $.activeIndicator
},
_owner: null
}, o = D.isRTLLanguage();
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: D.localeRearrange([ this.renderLabel(n, o), this.renderSubLabel(n, o) ]),
style: t
},
_owner: null
}, r ]
},
_owner: null
};
}, t.prototype.render = function c() {
var e, t = this.props.isActive && !this.isFocused && this.props.showActiveIndicator === !0, n = {
opacity: this.isFocused && !this.props.muted ? 1 : 0
};
return e = this.props.input ? this.props.input : this.props.onTrigger && new S["default"]({
label: this.props.inputLabel || __("ID_SPARTA_ACTION_SELECT"),
action: this.props.onTrigger,
blockInputFor: this.props.blockInputFor ? this.props.blockInputFor : 0,
key: w["default"].Accept
}), {
$$typeof: p,
type: k["default"],
key: null,
ref: null,
props: o(k["default"].defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ $.background, n ]
},
_owner: null
}, this.renderContent(t) ],
input: e,
glow: !0,
style: this.props.style,
id: this.props.id,
focusItem: this.focusItem,
onClick: this.props.onClick,
item: this.props.item
}),
_owner: null
};
}, d(t, [ {
key: "isFocused",
decorators: [ v.computed ],
get: function h() {
return this.focusItem.isHovered;
}
} ]);
var n = t;
return t = s("_$ListItem")(t) || t, t = g.observer(t) || t;
}(y["default"].Component);
t["default"] = F, F.propTypes = {
focusItem: y["default"].PropTypes.instanceOf(b.focus.FocusItem),
fontSize: y["default"].PropTypes.string,
isActive: y["default"].PropTypes.bool,
muted: y["default"].PropTypes.bool,
upperCase: y["default"].PropTypes.bool,
scrollLabel: y["default"].PropTypes.bool,
label: y["default"].PropTypes.oneOfType([ y["default"].PropTypes.string, y["default"].PropTypes.element, y["default"].PropTypes.func ]).isRequired,
subLabel: y["default"].PropTypes.oneOfType([ y["default"].PropTypes.string, y["default"].PropTypes.element, y["default"].PropTypes.func ]),
inputLabel: y["default"].PropTypes.string,
onTrigger: y["default"].PropTypes.func,
blockInputFor: y["default"].PropTypes.number,
icon: y["default"].PropTypes.string,
iconSize: y["default"].PropTypes.string,
iconSpace: y["default"].PropTypes.number,
focusIcon: y["default"].PropTypes.string,
blurIcon: y["default"].PropTypes.string,
onClick: y["default"].PropTypes.func,
onLabelClick: y["default"].PropTypes.func,
onSubLabelClick: y["default"].PropTypes.func
}, F.defaultProps = {
fontSize: "S",
upperCase: !0,
muted: !1
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return h(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), p = i(c), f = n(16), d = {
_$FlexibleTweener: {
displayName: "FlexibleTweener"
}
}, h = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/tweeners/FlexibleTweener.jsx",
components: d,
locals: [],
imports: []
}), y = {
easing: "CubicOut",
duration: f.Animation.defaultTweenOptions.duration / 2
}, g = {
easing: "CubicIn",
duration: y.duration
}, m = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.componentWillMount = function i() {
var e = this;
this.content = this.props.children, this.state = {
tweenState: "in"
}, this.inTweens = {}, this.outTweens = {}, this.allowUpdates = !0, this.updateTweens(this.props), 
this.props.playInOnMount || this.props.inTweens.map(function(t) {
var n = e.inTweens[t.propertyName];
n.set(t.toValue);
});
}, t.prototype.componentDidMount = function s() {
this.props.playInOnMount && this.playIn(this.props);
}, t.prototype.componentWillReceiveProps = function l(e) {
var t = this;
return e.transitionId === this.props.transitionId ? (this.content = e.children, 
void (this.nextContent = e.children)) : (this.nextContent = e.children, this.updateTweens(e), 
void this.setState({
tweenState: "out"
}, function() {
t.allowUpdates = !1;
var n = t.playOut(e);
n.then(function() {
t.allowUpdates = !0, t.content = t.nextContent, t.updateTweens(e), t._reactInternalInstance && t.setState({
tweenState: "in"
}, function() {
t.playIn(e).then(t.props.onTransitionFinished);
});
});
}));
}, t.prototype.shouldComponentUpdate = function c() {
return this.allowUpdates;
}, t.prototype.componentWillUnmount = function d() {
var e;
for (e in this.inTweens) this.inTweens[e].destroy();
for (e in this.outTweens) this.outTweens[e].destroy();
}, t.prototype.updateTweens = function h(e) {
var t = this;
this._reactInternalInstance && (e.inTweens.forEach(function(e) {
var n = t.inTweens[e.propertyName];
n && n.destroy();
var r = void 0 !== e.fromValue ? e.fromValue : e.toValue;
t.inTweens[e.propertyName] = f.Animation.tween("6dcc6051:104", r);
}), e.outTweens.forEach(function(e) {
var n = t.outTweens[e.propertyName];
n && n.destroy();
var r = void 0 !== e.fromValue ? e.fromValue : e.toValue;
t.outTweens[e.propertyName] = f.Animation.tween("6dcc6051:114", r);
}));
}, t.prototype.playOut = function m() {
var e = this, t = arguments.length <= 0 || void 0 === arguments[0] ? this.props : arguments[0];
return Promise.all(t.outTweens.map(function(t) {
var n = e.outTweens[t.propertyName], r = t.options || g;
return new Promise(function(e) {
return n.transition(t.fromValue, t.toValue, r, e);
});
}));
}, t.prototype.playIn = function b() {
var e = this, t = arguments.length <= 0 || void 0 === arguments[0] ? this.props : arguments[0];
return Promise.all(t.inTweens.map(function(t) {
var n = e.inTweens[t.propertyName], r = t.options || y;
return new Promise(function(e) {
return n.transition(t.fromValue, t.toValue, r, e);
});
}));
}, t.prototype.render = function v() {
var e = u({}, this.props.style), t = "in" === this.state.tweenState ? this.inTweens : this.outTweens;
for (var n in t) e[n] = t[n].getStyle();
return p["default"].createElement("surface", u({}, this.props, {
style: e
}), this.content);
};
var n = t;
return t = a("_$FlexibleTweener")(t) || t;
}(p["default"].Component);
t["default"] = m;
var b = p["default"].PropTypes.shape({
propertyName: p["default"].PropTypes.string.isRequired,
fromValue: p["default"].PropTypes.number,
toValue: p["default"].PropTypes.number.isRequired,
options: p["default"].PropTypes.object
});
m.defaultProps = {
playInOnMount: !0
}, m.propTypes = {
transitionId: p["default"].PropTypes.oneOfType([ p["default"].PropTypes.string, p["default"].PropTypes.number ]),
inTweens: p["default"].PropTypes.arrayOf(b),
outTweens: p["default"].PropTypes.arrayOf(b)
}, e.exports = t["default"];
}, function(e, t, n) {
"use strict";
function r(e) {
return d + e.toString(36);
}
function o(e, t) {
return e.charAt(t) === d || t === e.length;
}
function a(e) {
return "" === e || e.charAt(0) === d && e.charAt(e.length - 1) !== d;
}
function i(e, t) {
return 0 === t.indexOf(e) && o(t, e.length);
}
function s(e) {
return e ? e.substr(0, e.lastIndexOf(d)) : "";
}
function l(e, t) {
if (a(e) && a(t) ? void 0 : f(!1), i(e, t) ? void 0 : f(!1), e === t) return e;
var n, r = e.length + h;
for (n = r; n < t.length && !o(t, n); n++) ;
return t.substr(0, n);
}
function u(e, t) {
var n = Math.min(e.length, t.length);
if (0 === n) return "";
for (var r = 0, i = 0; n >= i; i++) if (o(e, i) && o(t, i)) r = i; else if (e.charAt(i) !== t.charAt(i)) break;
var s = e.substr(0, r);
return a(s) ? void 0 : f(!1), s;
}
function c(e, t, n, r, o, a) {
e = e || "", t = t || "", e === t ? f(!1) : void 0;
var u = i(t, e);
u || i(e, t) ? void 0 : f(!1);
for (var c = 0, p = u ? s : l, d = e; ;d = p(d, t)) {
var h;
if (o && d === e || a && d === t || (h = n(d, u, r)), h === !1 || d === t) break;
c++ < y ? void 0 : f(!1);
}
}
var p = n(528), f = n(32), d = ".", h = d.length, y = 1e4, g = {
createReactRootID: function() {
return r(p.createReactRootIndex());
},
createReactID: function(e, t) {
return e + t;
},
getReactRootIDFromNodeID: function(e) {
if (e && e.charAt(0) === d && e.length > 1) {
var t = e.indexOf(d, 1);
return t > -1 ? e.substr(0, t) : e;
}
return null;
},
traverseEnterLeave: function(e, t, n, r, o) {
var a = u(e, t);
a !== e && c(e, a, n, r, !1, !0), a !== t && c(a, t, n, o, !0, !1);
},
traverseTwoPhase: function(e, t, n) {
e && (c("", e, t, n, !0, !1), c(e, "", t, n, !1, !0));
},
traverseTwoPhaseSkipTarget: function(e, t, n) {
e && (c("", e, t, n, !0, !0), c(e, "", t, n, !0, !0));
},
traverseAncestors: function(e, t, n) {
c("", e, t, n, !0, !1);
},
getFirstCommonAncestorID: u,
_getNextDescendantID: l,
isAncestorIDOf: i,
SEPARATOR: d
};
e.exports = g;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
this.dispatchConfig = e, this.dispatchMarker = t, this.nativeEvent = n, this.target = r, 
this.currentTarget = r;
var o = this.constructor.Interface;
for (var a in o) if (o.hasOwnProperty(a)) {
var s = o[a];
s ? this[a] = s(n) : this[a] = n[a];
}
var l = null != n.defaultPrevented ? n.defaultPrevented : n.returnValue === !1;
l ? this.isDefaultPrevented = i.thatReturnsTrue : this.isDefaultPrevented = i.thatReturnsFalse, 
this.isPropagationStopped = i.thatReturnsFalse;
}
var o = n(110), a = n(38), i = n(86), s = (n(40), {
type: null,
currentTarget: i.thatReturnsNull,
eventPhase: null,
bubbles: null,
cancelable: null,
timeStamp: function(e) {
return e.timeStamp || Date.now();
},
defaultPrevented: null,
isTrusted: null
});
a(r.prototype, {
preventDefault: function() {
this.defaultPrevented = !0;
var e = this.nativeEvent;
e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1, this.isDefaultPrevented = i.thatReturnsTrue);
},
stopPropagation: function() {
var e = this.nativeEvent;
e && (e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0, this.isPropagationStopped = i.thatReturnsTrue);
},
persist: function() {
this.isPersistent = i.thatReturnsTrue;
},
isPersistent: i.thatReturnsFalse,
destructor: function() {
var e = this.constructor.Interface;
for (var t in e) this[t] = null;
this.dispatchConfig = null, this.dispatchMarker = null, this.nativeEvent = null;
}
}), r.Interface = s, r.augmentClass = function(e, t) {
var n = this, r = Object.create(n.prototype);
a(r, e.prototype), e.prototype = r, e.prototype.constructor = e, e.Interface = a({}, n.Interface, t), 
e.augmentClass = n.augmentClass, o.addPoolingTo(e, o.fourArgumentPooler);
}, o.addPoolingTo(r, o.fourArgumentPooler), e.exports = r;
}, function(e, t) {
"use strict";
function n(e, t) {
return e.progression.needed > 1 && t.progression.needed > 1 ? e.progression.needed - t.progression.needed : e.progression.needed > 1 ? -1 : t.progression.needed > 1 ? 1 : e.progression.needed === t.progression.needed ? e.progression.unlocked ? -1 : t.progression.unlocked ? 1 : 0 : 1 === e.progression.needed ? 1 : 1 === t.progression.needed ? -1 : e.progression.needed - t.progression.needed;
}
function r(e, t) {
var n = [ "xp0", "xp1", "xp2", "xp3", "xp4", "xp5", "xp6", "xp7" ], r = e.expansions.length > 0 ? n.indexOf(e.expansions[0].license) : -1, o = t.expansions.length > 0 ? n.indexOf(t.expansions[0].license) : -1;
return r - o;
}
function o(e, t) {
var n = !1;
return -1 !== e.indexOf("__si") ? (t.valueNeeded = t.valueNeeded / 60, t.valueAcquired = t.valueAcquired / 60, 
n = !0) : -1 !== e.indexOf("__so") && (t.valueNeeded = t.valueNeeded / 3600, t.valueAcquired = t.valueAcquired / 3600, 
n = !0), n && (t.valueNeeded && (t.valueNeeded = Math.ceil(t.valueNeeded)), t.valueAcquired && (t.valueAcquired = Math.floor(t.valueAcquired))), 
t;
}
t.sortItemsByProgression = n, t.sortByExpansion = r, t.adjustTimeBasedProgression = o;
}, function(e, t, n) {
"use strict";
var r = n(249), o = n(248), a = n(210), i = n(49), s = n(5), l = n(50).gatewayClient, u = n(41), c = n(77), p = {
requestPerformer: l.request
}, f = {
requestPerformer: l.firstPartyRequest
}, d = function() {
return u.getState().isReady();
};
t.updateServerClient = new a.Client("RSP.updateServer", p), t.updateServerClient.addRequirement(d), 
t.updateServerClient.addResultHandler(function(e) {
e.onSuccess(function() {
c.trackEvent("RSP", "UpdateServer", "Success");
}), e.onError(function() {
c.trackEvent("RSP", "UpdateServer", "Failure");
});
}), t.getPingSitesClient = new a.Client("RSP.getPingSites", p), t.getPingSitesClient.addRequirement(d), 
t.getResumablePurchasesClient = new a.Client("Inventory.getPurchases", f), t.getResumablePurchasesClient.addRequirement(d), 
t.getResumablePurchasesClient.addResultHandler(function(e) {
e.onSuccess(function(t) {
var n = t.purchases.length;
n > 0 && c.trackEvent("RSP", "ResumablePurchases", n), o.rspPurchaseStore.setPurchases(e.request.params.games[0], t.purchases);
});
}), t.completePendingPurchaseClient = new a.Client("Inventory.completePurchase", f), 
t.completePendingPurchaseClient.addRequirement(d), t.completePendingPurchaseClient.addResultHandler(function(e) {
e.onSuccess(function() {
c.trackEvent("RSP", "CompletePendingPurchase", "Success");
}), e.onError(function() {
c.trackEvent("RSP", "CompletePendingPurchase", "Failure");
});
}), t.getTemplateClient = new a.Client("RSP.getTemplate", p), t.getTemplateClient.addRequirement(d), 
t.getTemplateClient.addResultHandler(function(e) {
e.onSuccess(function() {
var t = s.find(e.response.templates, function(e) {
return "default" === e.name;
}), n = s.map(t.levelList, function(e) {
var t = e.levelName, n = e.gameModes;
return {
levelName: t,
gameModes: n
};
}), o = s.map(t.gameModeList, function(e) {
var t = e.gameModeShortName, n = e.gameModeName, r = e.playerCount;
return {
gameModeShortName: t,
gameModeName: n,
playerCount: parseInt(r, 10)
};
}), a = s.map(t.maskTemplateList, function(e) {
var t = e.maskName, n = e.maskEntries;
return {
maskName: t,
entries: n
};
}), l = new r.RSPTemplate(n, o, a);
i.updateRSPTemplate(e.request.params.game, l);
});
}), t.kickPlayer = new a.Client("RSP.kickPlayer", p), t.kickPlayer.addRequirement(d), 
t.kickPlayer.addResultHandler(function(e) {
e.onSuccess(function() {
c.trackEvent("RSP", "KickPlayer", "Success");
}), e.onError(function() {
c.trackEvent("RSP", "KickPlayer", "Failure");
});
}), t.banPlayer = new a.Client("RSP.addServerBan", p), t.banPlayer.addRequirement(d), 
t.banPlayer.addResultHandler(function(e) {
e.onSuccess(function() {
c.trackEvent("RSP", "AddServerBan", "Success");
}), e.onError(function() {
c.trackEvent("RSP", "AddServerBan", "Failure");
});
}), t.liftBanPlayer = new a.Client("RSP.removeServerBan", p), t.liftBanPlayer.addRequirement(d), 
t.liftBanPlayer.addResultHandler(function(e) {
e.onSuccess(function() {
c.trackEvent("RSP", "RemoveServerBan", "Success");
}), e.onError(function() {
c.trackEvent("RSP", "RemoveServerBan", "Failure");
});
}), t.getPersonas = new a.Client("RSP.getPersonasByIds", p), t.getPersonas.addRequirement(d), 
t.getPersonas.addResultHandler(function(e) {
e.onSuccess(function() {
c.trackEvent("RSP", "GetPersonasByIds", "Success");
}), e.onError(function() {
c.trackEvent("RSP", "GetPersonasByIds", "Failure");
});
});
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(349), i = function(e) {
function t(t) {
return e.call(this, t) || this;
}
return r(t, e), Object.defineProperty(t.prototype, "area", {
get: function() {
return this.context.isPopup ? a.ps4StoreIconStore.popup : a.ps4StoreIconStore.content;
},
enumerable: !0,
configurable: !0
}), t.prototype.componentWillMount = function() {
SpartaGlobals.bundleIsPS4 && this.area.add();
}, t.prototype.componentWillUnmount = function() {
SpartaGlobals.bundleIsPS4 && this.area.remove();
}, t.prototype.render = function() {
return this.props.children;
}, t;
}(o.Component);
i.contextTypes = {
isPopup: o.PropTypes.bool
}, t.PS4StoreContent = i;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
return t > e ? t : e > n ? n : e;
}
function o(e, t, n) {
var r = e.map(function(e) {
return e.location;
});
return l.Location.indexOfBestMatch(r, t, n);
}
function a(e, t) {
var n = -1 === e.mainMenuIndex || -1 === t.mainMenuIndex, a = -1 === e.subMenuIndex || -1 === t.subMenuIndex;
if (a && n) {
var i = t.config.priority > e.config.priority ? 1 : -1;
return new h(0, i, 0);
}
var s = !n && r(t.mainMenuIndex - e.mainMenuIndex, -1, 1), l = !a && r(t.subMenuIndex - e.subMenuIndex, -1, 1), u = e.breadcrumbs.length >= b || t.breadcrumbs.length >= b ? t.breadcrumbs.length - e.breadcrumbs.length : 0;
if (0 === s && 0 === l && 0 === u && t.breadcrumbs.length >= b) {
var c = t.activeSubMenuConfig ? t.activeSubMenuConfig.children : [], p = o(c, e.location, !1), f = o(c, t.location, !1);
l = r(f - p, -1, 1);
}
return s ? new h(0, s, 0) : u ? new h(0, 0, u) : l ? new h(l, 0, 0) : new h(0, 0, 0);
}
var i = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, s = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, l = n(88), u = n(168), c = n(8), p = n(10), f = (p.observer, n(9)), d = n(61), h = (n(17), 
n(419)), y = function(e) {
function t(t, n) {
var r = e.call(this) || this;
return r.name = t, r.aggregate = null, r.activeSlot = null, r.setContent(n), r;
}
return i(t, e), t.prototype.slideDown = function(e, t) {
this.activeSlot && this.activeSlot.slideDown(e, t);
}, t.prototype.setContent = function(e) {
this.aggregate = e;
}, t.prototype.contentEquals = function(e) {
return this.aggregate ? this.aggregate.location.path === e.location.path : !1;
}, t;
}(u.ItemState);
s([ f.observable ], y.prototype, "aggregate", void 0), s([ f.observable ], y.prototype, "activeSlot", void 0), 
s([ f.action ], y.prototype, "setContent", null), t.ViewComponentState = y;
var g = d.getState(), m = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.viewTint = g.viewTint, t.mainMenu = g.mainMenu, t.comCenter = g.comCenter, 
t;
}
return i(t, e), Object.defineProperty(t.prototype, "navigationVector", {
get: function() {
return this.previous && this.current && this.previous.aggregate && this.current.aggregate ? a(this.previous.aggregate, this.current.aggregate) : null;
},
enumerable: !0,
configurable: !0
}), t;
}(u.EnterLeaveState);
s([ f.computed ], m.prototype, "navigationVector", null), s([ f.observable ], m.prototype, "viewTint", void 0), 
s([ f.observable ], m.prototype, "mainMenu", void 0), s([ f.observable ], m.prototype, "comCenter", void 0), 
t.ViewState = m, t.viewState = new m(c.layoutStateStore.current, new y("0", null), new y("1", null), new y("2", null), new y("3", null)), 
f.reaction(function() {
return c.layoutStateStore.current;
}, function(e) {
t.viewState.switchToItem(e);
}), d.listen(f.action("update viewstate visibility", function(e) {
t.viewState.viewTint = e.viewTint, t.viewState.mainMenu = e.mainMenu, t.viewState.comCenter = e.comCenter;
}));
var b = 4;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = function() {
function e() {
this.timeLeft = 0, this.active = !1, this.prevTime = 0;
}
return e.prototype.start = function(e, t) {
this.active || (this.prevTime = Date.now(), this.timeLeft = 60 * e + t, this.active = !0, 
this.updateTimer());
}, e.prototype.stop = function() {
this.timeLeft = 0, this.active = !1;
}, e.prototype.updateMsLeft = function(e) {
this.timeLeft = e;
}, e.prototype.updateTimer = function() {
var e = this, t = Date.now(), n = t - this.prevTime;
this.prevTime = t;
var r = this.timeLeft - Math.floor(n / 1e3);
this.updateMsLeft(r), this.active && r > 0 && setTimeout(function() {
e.updateTimer();
}, 1e3);
}, e;
}();
r([ o.observable ], a.prototype, "timeLeft", void 0), r([ o.observable ], a.prototype, "active", void 0), 
r([ o.action ], a.prototype, "start", null), r([ o.action ], a.prototype, "stop", null), 
r([ o.action ], a.prototype, "updateMsLeft", null), t.NextRoundCountDown = a, t.nextRoundCountDown = new a();
}, function(e, t, n) {
(function(e) {
"use strict";
function r() {
d.onlineState.isPresenceReady && !t.operationFlow.byPassGlobe && h.hideComponent("all", function() {
c.cloudTransition.setToSpace(), t.operationFlow.enter(function() {
v.route("none"), l.frostbite.sendMessage("game.enterOperations");
});
});
}
function o(e) {
if (t.operationFlow.state !== i.none) switch (e) {
case S.LoadingScreen:
t.operationFlow.state === i.joined && h.hideComponent("all", function() {
v.route("playing"), v.hide(), t.operationFlow.startPlaying();
});
break;

case S.InGameMenu:
t.operationFlow.state !== i.eor && v.route("playing"), h.handleBlackFadeStart(0), 
c.cloudTransition.state !== c.CloudTransitionState.earth && c.cloudTransition.setToEarth();
break;

case S.FrontEnd:
t.operationFlow.byPassGlobe ? t.operationFlow.clear() : t.operationFlow.state === i.globe ? (c.cloudTransition.setToSpace(c.CloudTransitionState.clouds), 
p.globeState.set("Sparta"), setTimeout(function() {
c.cloudTransition.landOnEarth(function() {
t.operationFlow.clear();
}, c.CloudTransitionSound.planet);
}, 600)) : t.operationFlow.state === i.matchmaking ? (v.route("loading"), v.show()) : t.operationFlow.state !== i.error && r();
}
}
function a() {
w.enterOperations.listen(function() {
t.operationFlow.enter();
}), m.enterSpecificGameMode.listen(function(e) {
"operations" === e && t.operationFlow.enter();
}), g.onMatchmakingFailedDismiss.listen(function(e, n) {
t.operationFlow.state === i.matchmaking && (console.log(e), t.operationFlow.failMatchmaking(e), 
n && d.onlineState.isPresenceReady ? h.hideComponent("all", function() {
t.operationFlow.enter(function() {});
}) : h.showComponent("all", function() {
t.operationFlow.clear(), c.cloudTransition.landOnEarth();
}));
}), g.prepare.cancel.listen(function() {
t.operationFlow.state === i.matchmaking && h.hideComponent("all", function() {
l.frostbite.sendMessage("sparta.matchmakingResult", {
gameId: "tunguska",
result: I.failure
}), t.operationFlow.enter(function() {});
});
}), g.handleServerFound.listen(function() {
t.operationFlow.state === i.matchmaking && t.operationFlow.serverFound();
}), m.setGameServer.listen(function(e) {
void 0 === e && (e = {});
var n = e.mapMode || "", r = n.indexOf("Breakthrough") >= 0;
if (t.operationFlow.state !== i.none && t.operationFlow.state !== i.queued || !r) t.operationFlow.state === i.none || r || t.operationFlow.clear(); else {
var o = _.getState().queue;
"Queued" === o.status ? t.operationFlow.queued() : t.operationFlow.join(), t.operationFlow.setGlobeByPassing(!0);
}
}), _.scope("queue").listen(function(e) {
t.operationFlow.state === i.joined && "Queued" === e.status ? (t.operationFlow.queued(), 
h.handleBlackFadeStart(0)) : t.operationFlow.state === i.queued && "Cancelled" === e.status && t.operationFlow.clear();
}), b.onJoinMultiplayerFailed.listen(function() {
t.operationFlow.state !== i.none && t.operationFlow.clear();
}), b.onMultiplayerServerDisconnection.listen(function(e) {
e.shouldShowErrorMessage() && t.operationFlow.state !== i.none && (d.onlineState.isPresenceReady && !t.operationFlow.byPassGlobe && c.cloudTransition.setToSpace(), 
t.operationFlow.error());
}), h.handleErrorPopupDismissed.listen(function() {
t.operationFlow.state === i.error && r();
}), y.handleSpartaActivated.listen(function() {
o(_.getState().navigationState);
}), _.scope("navigationState").listen(o);
}
var i, s = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, l = n(3), u = n(9), c = n(170), p = n(207), f = n(44), d = n(8), h = n(29), y = n(18), g = n(93), m = n(35), b = n(91), v = n(48), _ = n(36), S = n(56), T = n(153).checkGameState, w = n(34), E = e.get("TunguskaOperationFlowState");
!function(e) {
e[e.none = 0] = "none", e[e.globe = 1] = "globe", e[e.matchmaking = 2] = "matchmaking", 
e[e.serverFound = 3] = "serverFound", e[e.queued = 4] = "queued", e[e.joined = 5] = "joined", 
e[e.playing = 6] = "playing", e[e.eor = 7] = "eor", e[e.error = 8] = "error";
}(i = t.OperationState || (t.OperationState = {}));
var I;
!function(e) {
e[e.success = 0] = "success", e[e.failure = 1] = "failure", e[e.timeout = 2] = "timeout", 
e[e.canceled = 3] = "canceled";
}(I || (I = {}));
var C = function() {
function e() {
this.state = i.none, this.byPassGlobe = !1, this.index = -1, this.debug = !1;
}
return e.prototype.log = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.debug && E.log.apply(E, [ e ].concat(t));
}, e.prototype.setGlobeByPassing = function(e) {
this.log("setGlobeByPassing to", e), this.byPassGlobe = e;
}, e.prototype.enter = function(e) {
var t = this;
void 0 === e && (e = null), this.state !== i.globe && (this.log("enter", this.state), 
this.state = i.none, this.index = -1, e ? (e(), this.enterGlobe()) : T().then(function() {
c.cloudTransition.flyToClouds(function() {
c.cloudTransition.fadeOutFromWhite(200, function() {
h.hideComponent("all", function() {
c.cloudTransition.setToSpace(), p.globeState.set("Disable", !0);
});
}), t.enterGlobe(), l.frostbite.sendMessage("game.enterOperations");
}, c.CloudTransitionSound.planet);
}));
}, e.prototype.enterGlobe = function() {
this.log("enterGlobe", this.state), this.state = i.globe;
}, e.prototype.startMatchmaking = function(e) {
this.log("startMatchmaking", this.state), g.prepare(f.tunguskaGameId, e), this.state = i.matchmaking, 
this.index = e.operationIndex;
}, e.prototype.failMatchmaking = function(e) {
this.log("failMatchmaking", this.state);
var t = "JoinFailed" === e.status ? I.failure : I.timeout;
l.frostbite.sendMessage("sparta.matchmakingResult", {
gameId: f.tunguskaGameId,
result: t
});
}, e.prototype.cancelMatchmaking = function(e) {
var t = this;
void 0 === e && (e = !1), this.log("cancelMatchmaking", this.state), e ? l.frostbite.sendMessage("sparta.matchmakingResult", {
gameId: f.tunguskaGameId,
result: I.canceled
}) : h.hideComponent("all", function() {
t.enterGlobe(), l.frostbite.sendMessage("sparta.matchmakingResult", {
gameId: "tunguska",
result: I.canceled
});
});
}, e.prototype.startPlaying = function() {
this.log("startPlaying", this.state), this.state = i.playing;
}, e.prototype.serverFound = function() {
this.log("serverFound", this.state), this.state = i.serverFound;
}, e.prototype.queued = function() {
this.log("queued", this.state), this.state = i.queued;
}, e.prototype.join = function() {
this.log("join", this.state), this.state = i.joined, h.handleBlackFadeStart(1);
}, e.prototype.endRound = function() {
this.log("endRound", this.state), this.state === i.playing && (this.state = i.eor);
}, e.prototype.error = function() {
this.log("error", this.state), this.state !== i.none && (this.state = i.error);
}, e.prototype.clear = function() {
this.log("clear"), this.state = i.none, this.index = -1, p.globeState.set("Sparta"), 
this.setGlobeByPassing(!1);
}, Object.defineProperty(e.prototype, "showLoadingScreen", {
get: function() {
return this.state === i.none || this.state === i.queued;
},
enumerable: !0,
configurable: !0
}), e;
}();
s([ u.observable ], C.prototype, "state", void 0), s([ u.observable ], C.prototype, "byPassGlobe", void 0), 
s([ u.action ], C.prototype, "setGlobeByPassing", null), s([ u.action ], C.prototype, "enter", null), 
s([ u.action ], C.prototype, "enterGlobe", null), s([ u.action ], C.prototype, "startMatchmaking", null), 
s([ u.action ], C.prototype, "failMatchmaking", null), s([ u.action ], C.prototype, "startPlaying", null), 
s([ u.action ], C.prototype, "serverFound", null), s([ u.action ], C.prototype, "queued", null), 
s([ u.action ], C.prototype, "join", null), s([ u.action ], C.prototype, "endRound", null), 
s([ u.action ], C.prototype, "error", null), s([ u.action ], C.prototype, "clear", null), 
s([ u.computed ], C.prototype, "showLoadingScreen", null), t.TunguskaOperationFlowState = C, 
t.operationFlow = new C(), t.startOperationFlow = a;
}).call(t, n(97));
}, function(e, t, n) {
"use strict";
var r = n(47);
t.TweenBatching = {
batch: [],
depth: 0,
start: function() {
t.TweenBatching.depth++;
},
stop: function() {
t.TweenBatching.depth--, 0 === t.TweenBatching.depth && t.TweenBatching.flush();
},
flush: function() {
var e = t.TweenBatching.batch, n = e.length;
if (0 !== n) {
for (var o = [], a = 0; n > a; a++) {
var i = e[a], s = i.instruction, l = s.options;
o.push({
id: i.tween.id,
from: void 0 === s.from ? null : s.from,
to: void 0 === s.to ? null : s.to,
duration: void 0 === l.duration ? null : l.duration,
speed: void 0 === l.speed ? null : l.speed,
easing: void 0 === l.easing ? null : l.easing,
delay: void 0 === l.delay ? null : l.delay
});
}
e.length = 0, r.nativeApi.updateTweens(o);
}
}
};
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
var r = Math.round(6 * e), o = 6 * e - r, a = n * (1 - t), i = n * (1 - o * t), s = n * (1 - (1 - o) * t), l = 255, u = 0, c = 255;
switch (r) {
case 0:
l = n, u = s, c = a;
break;

case 1:
l = i, u = n, c = a;
break;

case 2:
l = a, u = n, c = s;
break;

case 3:
l = a, u = n, c = i;
break;

case 4:
l = s, u = a, c = n;
break;

case 5:
l = n, u = a, c = i;
}
return [ Math.round(256 * l), Math.round(256 * u), Math.round(256 * c), 255 ];
}
function o() {
return c += .618033988749895, c %= 1, r(c, .5, .95);
}
function a() {
return "undefined" == typeof t.enabled && (t.enabled = !l.getBuildInfo().isEndUserBuild()), 
t.enabled ? u.nativeApi.getPerfCounter() : "0";
}
function i(e, n, r) {
return t.enabled ? (r || (r = p[e] || (p[e] = o())), u.nativeApi.addTimingEvent("twJs-" + e, n, r)) : "0";
}
function s(e, t, n) {
var r = a();
try {
return e();
} finally {
i(t, r, n);
}
}
var l = n(101), u = n(47), c = 0, p = {};
t.start = a, t.end = i, t.wrap = s;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
p || (p = g.getBuildInfo().getSurfaceProps());
var r = y.start(), o = !1, a = p;
(e.shaderUrl || e.shaderProgram || t.shaderUrl || t.shaderProgram) && (a = p.slice(), 
Object.keys(e).forEach(function(e) {
e.startsWith("shaderParam_") && a.push(e);
}), Object.keys(t).forEach(function(e) {
e.startsWith("shaderParam_") && a.push(e);
}));
for (var i, s, l, u, c, f = a.length, d = 0; f > d; d++) if (i = a[d], s = e[i], 
l = t[i], u = typeof s, c = typeof l, u === c) switch (u) {
case "undefined":
break;

case "object":
m.isEqual(s, l) || (o = !0, n[i] = l);
break;

case "number":
case "string":
case "boolean":
s !== l && (o = !0, n[i] = l);
break;

default:
throw new Error("Unknown type " + u + " for property " + i);
} else "undefined" === c ? (o = !0, n[i] = null) : "undefined" === u ? (o = !0, 
n[i] = l) : (o = !0, n[i] = l);
return y.end("changeProps", r), o;
}
function o(e) {
f.nativeApi.createRootSurface(e);
}
function a(e, t) {
f.nativeApi.updateSurfaceChildren(t, e);
}
function i(e, t) {
if ("string" != typeof e) throw new Error("Got non string as surfaceId: " + typeof e);
f.nativeApi.updateSurface(e, t);
}
function s(e, t) {
if ("string" != typeof e) throw new Error("Got non string as surfaceId: " + typeof e);
f.nativeApi.replaceSurface(e, t);
}
function l(e, t, n) {
return r(e, t, n);
}
function u() {
h.beginReactTransaction.trigger(), d.TweenBatching.start();
}
function c() {
d.TweenBatching.stop(), h.endReactTransaction.trigger();
}
var p, f = n(47), d = n(147), h = n(82), y = n(148), g = n(101), m = n(5);
t.replaceRoot = o, t.processChildrenUpdates = a, t.updateSurface = i, t.replaceSurface = s, 
t.diffProps = l, t.beginTransaction = u, t.endTransaction = c;
}, function(e, t, n) {
function r(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), i = n(9), s = n(125), l = n(19), u = n(179), c = n(12), p = n(132), f = n(18), d = n(3), h = 400, y = 300, g = 35, m = !0, b = 0;
l.getState().enableTwinkleInputConcepts && (b = 1), l.listen(function(e) {
var t = e.enableTwinkleInputConcepts;
b = t ? 1 : 0;
});
var v = function() {
function e(t) {
o(this, e), this.key = t;
}
return e.prototype.trigger = function t(e) {
d.TweenBatching.start(), e = e || {};
var t = new s.KeyEvent(this.key, !!e.isRelease, !!e.isRepeat, !!e.isHold);
if (p.trigger(t), !e.isRelease && !e.isHold && m) switch (this.key) {
case c.Left:
d.focus.system.navigate(d.focus.Direction.Left, function() {
return u.playEffect(1);
});
break;

case c.Up:
d.focus.system.navigate(d.focus.Direction.Up, function() {
return u.playEffect(1);
});
break;

case c.Right:
d.focus.system.navigate(d.focus.Direction.Right, function() {
return u.playEffect(1);
});
break;

case c.Down:
d.focus.system.navigate(d.focus.Direction.Down, function() {
return u.playEffect(1);
});
}
d.TweenBatching.stop();
}, e.prototype.hold = function n() {
this.trigger({
isHold: !0
}), this.holdTriggered = !0;
}, e.prototype.repeat = function r() {
var e = this;
this.trigger({
isRepeat: !0
}), this.repeatId = setInterval(function() {
return e.trigger({
isRepeat: !0
});
}, g), this.repeatTriggered = !0;
}, e.prototype.update = function a(e) {
var t = this;
if (this.isDown === e) return !1;
if (clearTimeout(this.holdDelayId), clearTimeout(this.repeatDelayId), clearInterval(this.repeatId), 
this.isDown = e, e) {
this.trigger(), this.holdDelayId = setTimeout(function() {
return t.hold();
}, h);
var n = this.key === c.ScrollDown || this.key === c.ScrollUp ? 50 : y;
this.key.enableRepeat && (this.repeatDelayId = setTimeout(function() {
return t.repeat();
}, n));
} else this.trigger({
isRelease: !0,
isRepeat: this.repeatTriggered,
isHold: this.holdTriggered
});
return this.holdTriggered = !1, this.repeatTriggered = !1, !0;
}, e;
}(), _ = "PC";
SpartaGlobals.bundleIsXBOXONE ? _ = "XBOXONE" : SpartaGlobals.bundleIsPS4 && (_ = "PS4");
var S = function() {
function e() {
o(this, e), r(this, "currentInputType", t), this.states = {}, this.subscriptions = [];
}
var t = {}, t = {};
return a(e, [ {
key: "currentInputType",
decorators: [ i.observable ],
initializer: function n() {
return _;
},
enumerable: !0
} ], null, t), e.prototype.getState = function s(e) {
return this.states[e.id] || (this.states[e.id] = new v(e));
}, e.prototype.updateKey = function l(e, t) {
e && this.getState(e).update(t);
}, e.prototype.start = function u() {
var e = this;
f.setNavigationEnabled.listen(function(e) {
m = e;
}), d.frostbite.registerMessageListener("sparta.activated", function() {
Object.keys(e.states).forEach(function(t) {
var n = e.states[t];
n.update(!1) && console.log("Force release key '" + n.key.name + "' as it was down when Sparta deactivated");
});
}), d.events.onMouseEventBeforePropagation.listen(function() {
e.setUsingGamePad(!1);
}), d.events.onInputActionDown.listen(function(t, n, r) {
e.setUsingGamePad(r), e.updateKey(c.byFBAction(b)[n], !0);
}), d.events.onInputActionUp.listen(function(t, n, r) {
e.updateKey(c.byFBAction(b)[n], !1);
});
}, a(e, [ {
key: "setUsingGamePad",
decorators: [ i.action ],
value: function p(e) {
SpartaGlobals.bundleIsPC && (e ? this.currentInputType = "XBOXONE" : this.currentInputType = "PC");
}
} ], null, t), e;
}();
e.exports = new S();
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15), o = {
trackEvent: r.createAction(),
trackJoinSources: r.createAction()
};
t["default"] = o, e.exports = t["default"];
}, function(e, t) {
t.__esModule = !0;
var n = {
Error: "error",
GameEnd: "game_end",
GameStart: "game_start",
Login: "login",
Logout: "logout",
Message: "message",
MultiplayerJoin: "mp_match_join",
PageView: "page_view",
SessionStart: "boot_start",
Transaction: "transaction",
SpartaStart: "sparta_start",
SpartaEnd: "sparta_end"
}, r = {
error: "error",
normal: "normal",
success: "success"
};
t.Events = n, t.Status = r;
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e, t, n) {
h.confirm(__("ID_SPARTA_GAMESTATE_STOP_QUICKMATCH", !0), __("ID_SPARTA_GAMESTATE_STOP_MATCHMAKING_TITLE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "quitMatchmaking").then(function() {
u["default"].stopMatchmaking().then(function() {
t(e);
})["catch"](n);
})["catch"](function(e) {
console.error(e), n();
});
}
function o(e, t, n) {
h.confirm(__("ID_SPARTA_GAMESTATE_LEAVE_QUEUE", !0), __("ID_SPARTA_MATCHMAKING_LEAVE_QUEUE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "leaveQueue").then(function() {
d["default"].stopGame(), t(e);
})["catch"](function(e) {
console.error(e), n();
});
}
function a(e) {
return new Promise(function(t, n) {
var a = p["default"].getState(), i = s["default"].getState();
if (i.isPending || i.sessionId) "SessionCanceling" === i.status ? (console.warn("Rejecting game start, last matchmaking not yet canceled"), 
n()) : i.isCancellable && i.getDuration() > 1e3 ? r(e, t, n) : (console.warn("Rejecting game start, matchmaking not yet cancellable"), 
n()); else if (a.server) if (a.isRunning && e && e.server) {
var l = a.isServerJoiningAllowed(e.server.gameId);
l ? (d["default"].updateGameState({
isChangingServer: !0
}), t(e)) : h.alert(__("ID_SPARTA_GAMESTATE_ALREADY_IN_SERVER", !0), "").then(function() {
return n();
});
} else a.queue.isPending ? o(e, t, n) : (console.warn("Rejecting game start, in-game/join not cancellable"), 
n()); else t(e);
});
}
t.__esModule = !0, t.checkGameState = a;
var i = n(84), s = e(i), l = n(294), u = e(l), c = n(36), p = e(c), f = n(35), d = e(f), h = n(31);
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {
c["default"].toggleBookmark.listen(function(e) {
g[e.guid] || (g[e.guid] = y["default"](function(e) {
return m.trigger(e);
}, 1e3, !1)), g[e.guid](e);
});
}
t.__esModule = !0, t.startToggleBookmarkClient = o;
var a = n(21), i = r(a), s = n(24), l = r(s), u = n(23), c = r(u), p = n(5), f = r(p), d = n(8), h = n(83), y = r(h), g = [], m = i["default"].createClient({
shouldPerformRequest: function b(e) {
return e ? e.game ? e.guid ? d.onlineState.isOnlineBlazeAndGateway : (console.error("ToggleServerBookmarkClient - Server is missing guid property", e), 
!1) : (console.error("ToggleServerBookmarkClient - Server is missing game property", e), 
!1) : (console.error("ToggleServerBookmarkClient - No server provided"), !1);
},
request: function v(e) {
delete g[e.guid];
var t = f["default"].pick(e, [ "game", "guid" ]);
return e.isFavorite ? l["default"].request("ServerBookmark.unbookmarkServer", t) : l["default"].request("ServerBookmark.bookmarkServer", t);
},
onRequestError: function _(e, t) {
this.publish(t);
},
parse: function S(e) {
return e;
},
update: function T(e, t, n) {}
});
t.ToggleServerBookmarkClient = m;
}, function(e, t, n) {
function r(e) {
var t = {};
return a.each(e, function(e, n) {
a.values(e).length > 0 && (t[n] = a.extend({}, e)), "passwordProtected" === n && (t[n] = e);
}), o(t, "advanced", i), o(t, "name", [ "name" ]), "" === t.name && delete t.name, 
e && e.version && (t.version = e.version), t;
}
function o(e, t, n) {
e[t] && (Object.keys(e[t]).forEach(function(r) {
n.indexOf(r) >= 0 && (e[r] = e[t][r], delete e[t][r]);
}), a.values(e[t]).length < 1 && n.indexOf(t) < 0 && delete e[t]);
}
t.__esModule = !0, t.formatFilter = r;
var a = n(5), i = [ "passwordProtected", "mapRotation", "modeRotation" ];
}, function(e, t, n) {
(function(__, e) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return be(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
Re = e;
}
function u(e) {
var t;
if (e) t = Ae.promise(function(e) {
return e;
}); else {
var n = new Promise(function(e) {
var t = b.frostbite.registerMessageListener("sparta.pressToStartCompleted", function() {
t(), e();
});
b.frostbite.sendMessage("sparta.pressToStart");
});
t = Promise.all([ n, Ae.promise(function(e) {
return e;
}) ]);
}
return t;
}
function c(e) {
var t = e.src, n = e.width, r = e.height;
return {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
style: {
height: r,
backgroundColor: "#ffffff",
textureAlign: [ .5, .5 ],
marginRight: 20,
texture: t,
width: n
}
},
_owner: null
};
}
var p = n(4), f = s(p);
t.__esModule = !0;
var d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103;
t.overrideDismissCallback = l;
var y = n(1), g = s(y), m = n(51), b = n(3), v = n(9), _ = n(10), S = n(14), T = s(S), w = n(20), E = s(w), I = n(31), C = n(25), A = s(C), P = n(19), O = s(P), R = n(36), k = s(R), x = n(8), M = n(442), N = n(62), D = n(56), U = s(D), L = n(856), $ = s(L), G = n(43), F = s(G), B = n(29), j = s(B), H = n(12), V = s(H), z = n(17), W = s(z), q = n(190), K = s(q), X = n(6), Y = s(X), J = n(16), Q = n(7), Z = n(85), ee = s(Z), te = n(851), ne = s(te), re = n(161), oe = s(re), ae = n(320), ie = s(ae), se = n(11), le = n(48), ue = s(le), ce = n(53), pe = s(ce), fe = n(35), de = s(fe), he = n(364), ye = n(203), ge = n(439), me = {
_$StartScreen: {
displayName: "StartScreen"
},
_$BottomBar: {
displayName: "BottomBar"
}
}, be = f["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/StartScreen.jsx",
components: me,
locals: [],
imports: []
}), ve = 3e4, _e = SpartaGlobals.bundleIsXBOXONE, Se = SpartaGlobals.bundleIsXBOXONE, Te = {
easing: J.Animation.defaultTweenOptions.easing,
duration: 800
}, we = {
padding: [ 1.5 * Y["default"].GUTTER, 3 * Y["default"].GUTTER, Y["default"].GUTTER, 3 * Y["default"].GUTTER ],
backgroundColor: "#00000099",
color: "#ffffff",
height: SpartaGlobals.bundleIsPC ? Y["default"].getHeight(6) : Y["default"].getHeight(5),
alignItems: "center",
justifyContent: "center"
}, Ee = we, Ie = SpartaGlobals.bundleIsPC ? "M" : "S", Ce = !1, Ae = new m.Store(!1), Pe = O["default"].scope("hostingGameId").transform(function(e) {
var t = x.gameStore.getGame(e);
return t;
}), Oe = new m.Store(!1), Re = void 0, ke = m.Store.join(Oe, Pe, k["default"].scope("isRunning")).transform(function(e, t, n) {
return e && t && !n ? !0 : !1;
});
t.isVisibleStore = ke, k["default"].scope("hideStartScreen").connect(function(e) {
return null != e ? (e || Oe.setState(!0), !1) : void 0;
}), O["default"].scope("showStartScreen").connect(function(e) {
return null != e ? (e && Oe.setState(!0), !1) : void 0;
}), k["default"].scope("navigationState").connect(function(e) {
return e ? (e !== U["default"].FrontEnd && Oe.setState(!1), !1) : void 0;
}), ke.connect(function(e) {
j["default"].setComponentVisibilities({
only: e ? [] : !1
}), e || j["default"].handleStartScreenClosed();
});
var xe;
_e && F["default"].onSignInChange.listen(function() {
var e = function t() {
var e = __("ID_SPARTA_START_SIGNIN_CHANGE_PC");
SpartaGlobals.bundleIsXBOXONE ? e = __("ID_SPARTA_START_SIGNIN_CHANGE_XB1") : SpartaGlobals.bundleIsPS4 && (e = __("ID_SPARTA_START_SIGNIN_CHANGE_PS4"));
var t = pe["default"].getState();
t.isVisible && (ue["default"].hide(), ue["default"].route("none"));
var n = k["default"].getState();
n.navigationState !== U["default"].FrontEnd && de["default"].stopGame(!0, !1), xe = I.alert(e).then(function() {
M.clearLegalPromise(), A["default"].closeAll(), Oe.setState(!0), xe = null;
});
};
if (Oe.getState()) Ce && l(function() {
e();
}); else {
if (xe) return;
e();
}
});
var Me = n(921), Ne = b.focus.system.createScaledComponent(), De = function(t) {
function n(e) {
var n = this;
o(this, s), t.call(this, e), this.state = {}, this.isolated = !1, this.userStartOpacity = J.Animation.tween("52181048:243", 0), 
this.startScreenOpacity = J.Animation.tween("52181048:244", 0), this.tryToIsolateInput(), 
this.emitters = {
first: new b.particles.Emitter(),
second: new b.particles.Emitter(),
third: new b.particles.Emitter()
}, this.preloader = b.texture.createPreloader(this);
var r = [ se.bbOfflineUrl("/sparta/assets/ui/particles/red-dash-76860a51.png"), se.bbOfflineUrl("/sparta/jsclient/builds/assets/PRT_Start_Blur-fb108348.jpg"), se.bbOfflineUrl("/sparta/jsclient/builds/assets/PRT_Start_Glow-f47cfeb1.jpg") ];
v.action("configure emitters", function() {
for (var e in n.emitters) n.emitters[e].config.fromJson(Me), n.emitters[e].config.textureList = r;
})();
}
a(n, t), n.prototype.getChildContext = function l() {
var e = {};
return this.state.localGame && this.state.localGame.fonts && (e.fonts = this.state.localGame.fonts), 
e;
}, n.prototype.componentDidMount = function c() {
var e = this;
this.subscriptions = [ ke.connect(function(t) {
t && e.initialize();
}) ];
}, n.prototype.componentDidUpdate = function p() {
this.tryToIsolateInput();
}, n.prototype.componentWillUnmount = function f() {
for (;this.subscriptions.length; ) this.subscriptions.pop().unsubscribe();
clearTimeout(this.secondEmitterTimeout), clearTimeout(this.thirdEmitterTimeout);
for (var e in this.emitters) this.emitters[e].stop();
}, n.prototype.onUserStart = function y(t) {
var n = this;
if (!Ce) {
if (k["default"].getState().navigationState !== U["default"].FrontEnd) return void console.info("Ignoring StartScreen user-start, waiting for navigationState to be FrontEnd");
Ce = !0;
var r = function o() {
n.playStartAnimation().then(function() {
return v.when(function() {
return !x.onlineState.isConnecting && x.gatewayState.sessionState !== ye.GatewaySessionState.none;
}, function() {
x.onlineState.isOnlineBlazeAndGateway ? he.GetTakeoversClient.trigger(n.state.localGame.gameId) : x.takeoverStore.disable();
}), n.setState({
waitingForUserStart: !1
}), u(t);
}).then(function() {
return new Promise(function(t) {
var n = setTimeout(function() {
e.warn("StartScreen waiting too long (" + ve + "ms) for connections and calls, forcing resolve."), 
x.takeoverStore.disable(), t();
}, ve);
!x.onlineState.isConnecting && x.takeoverStore.populated ? (clearTimeout(n), t()) : v.when(function() {
return !x.onlineState.isConnecting;
}, function() {
x.onlineState.isOnlineBlazeAndGateway ? v.when(function() {
return x.takeoverStore.populated;
}, function() {
clearTimeout(n), t();
}) : (clearTimeout(n), t());
});
});
}).then(function() {
for (var e = x.takeoverStore.usedAssets, t = Array.isArray(e), r = 0, e = t ? e : e[Symbol.iterator](); ;) {
var o;
if (t) {
if (r >= e.length) break;
o = e[r++];
} else {
if (r = e.next(), r.done) break;
o = r.value;
}
var a = o;
n.preloader.preload(a, "SINGLE_TEXTURE");
}
return b.texture.waitForReady(void 0, function() {
return n.preloader.textures.filter(function(e) {
return !e.isLoaded();
});
}).then(function(e) {
e || x.takeoverStore.disable();
});
}).then(function() {
return n.dismiss();
});
};
this.refs.startButton && this.refs.startButton.pulsate(), r();
}
}, n.prototype.onUserChange = function m() {
F["default"].showLocalUserSelectionUI();
}, n.prototype.onOnboarded = function S() {
Ae.setState(!0);
}, n.prototype.tryToIsolateInput = function w() {
this.state.isVisible && !this.isolated ? (this.isolated = !0, this.isolateInputGroup()) : !this.state.isVisible && this.isolated && (this.isolated = !1, 
this.releaseInputGroup());
}, n.prototype.playStartAnimation = function I() {
var e = this;
return this.refs.startButton ? new Promise(function(t) {
e.refs.startButton && e.refs.startButton.refs.icon && e.refs.startButton.refs.icon.separate(Te), 
e.userStartOpacity.to(0), setTimeout(t, 1e3);
}) : Promise.resolve();
}, n.prototype.startParticles = function C() {
var e = this;
this.emitters.first.start();
var t = this.emitters.first.config.lifetimeMs.value / 3;
this.secondEmitterTimeout = setTimeout(function() {
return e.emitters.second.start();
}, t), this.thirdEmitterTimeout = setTimeout(function() {
return e.emitters.third.start();
}, 2 * t);
}, n.prototype.initialize = function A() {
var e = this;
Ce = !1, this.setState({
waitingForUserStart: !0
}), ge.initialBlackFade.then(function() {
e.startScreenOpacity.to(1), e.userStartOpacity.to(1), e.refs.bottomBar && e.refs.bottomBar.appear(), 
e.state.localGame.hasParticleEffects && e.startParticles(), (SpartaGlobals.bundleIsPC || O["default"].getState().crossLaunch && SpartaGlobals.bundleIsPS4) && k["default"].scope("navigationState").connect(function(t) {
return t === U["default"].FrontEnd ? (e.onUserStart(), !1) : void 0;
});
}), b.frostbite.registerMessageListener("sparta.skipPressToStart", function() {
e.onUserStart(!0);
});
}, n.prototype.dismiss = function P() {
var e = this, t = J.Animation.defaultTweenOptions.duration;
j["default"].handleBlackFadeStart(1, {
duration: t,
easing: "Linear"
}, function() {
e.finishDismiss();
});
}, n.prototype.finishDismiss = function R() {
Ce = !1, Oe.setState(!1), Re ? !function() {
console.info("Dismissing StartScreen with callback override"), Re(), Re = void 0;
var e = J.Animation.defaultTweenOptions.duration;
setTimeout(function() {
j["default"].handleBlackFadeStart(0, {
duration: e,
easing: "Linear"
});
}, e);
}() : this.props.onDismiss && this.props.onDismiss(), this.preloader.unloadAll();
}, n.prototype.renderProgress = function M() {
var e = this;
if (this.state.isOnboarded) {
var t = {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
return (x.onlineState.isConnecting || !x.takeoverStore.populated) && (t = {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: h,
type: Q.Text,
key: null,
ref: null,
props: r(Q.Text.defaultProps, {
size: Ie,
section: this.state.localGame.gameId,
value: __("ID_SPARTA_ONLINE_PRESENCE_CONNECTING").toUpperCase()
}),
_owner: null
},
style: Ee
},
_owner: null
}), {
id: "presence",
content: t
};
}
var n = $["default"].onboarded_home.onboarding, o = O["default"].getState();
if (o.crossLaunch) {
var a = o.crossLaunch.gameMode;
a && "SP" === a ? n = $["default"].crossLaunch.SP : a && "MP" === a && (n = o.crossLaunch.friend ? $["default"].crossLaunch.MP_FRIEND : $["default"].crossLaunch.MP);
}
var i = {
size: Ie,
section: this.state.localGame.gameId,
style: {}
};
return {
id: "onboarding",
content: {
$$typeof: h,
type: ne["default"],
key: null,
ref: null,
props: r(ne["default"].defaultProps, {
messages: n,
style: Ee,
textProps: i,
onEnd: function() {
return e.onOnboarded();
}
}),
_owner: null
}
};
}, n.prototype.renderStartButtons = function D() {
var e = this;
if (!Se) return {
id: "anonymous-start",
content: g["default"].createElement(ee["default"], {
ref: "startButton",
label: __("ID_SPARTA_START_BUTTON"),
inputKey: V["default"].Accept,
action: function() {
return e.onUserStart();
},
section: this.state.localGame.gameId,
style: d({
opacity: this.userStartOpacity.getStyle()
}, Ee, {
paddingTop: Y["default"].GUTTER,
zOffset: 1
})
})
};
var t = d({
alignItems: "center"
}, Ee, {
paddingTop: Y["default"].GUTTER,
zOffset: 1
}), n = x.onlineState.sessionUser && "0" !== x.onlineState.sessionUser.id && {
$$typeof: h,
type: ie["default"],
key: null,
ref: null,
props: r(ie["default"].defaultProps, {
children: g["default"].createElement(ee["default"], {
ref: "startButton",
inputKey: V["default"].Accept,
action: function() {
return e.onUserStart();
},
style: t,
section: this.state.localGame.gameId,
label: __("ID_SPARTA_START_PLAYAS") + " " + x.onlineState.sessionUser.displayName
}),
transitionId: x.onlineState.sessionUser.id,
height: Y["default"].getHeight(5),
style: {
marginBottom: Y["default"].GUTTER
}
}),
_owner: null
};
return {
id: "userchange_" + (x.onlineState.sessionUser ? "online" : "offline"),
content: {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ n, {
$$typeof: h,
type: ee["default"],
key: null,
ref: null,
props: r(ee["default"].defaultProps, {
label: __("ID_SPARTA_START_SELECTUSER"),
inputKey: V["default"].Select,
action: this.onUserChange,
section: this.state.localGame.gameId,
style: d({
opacity: this.userStartOpacity.getStyle()
}, Ee, {
zOffset: 1
})
}),
_owner: null
} ],
style: {
justifyContent: "center",
alignItems: "center"
}
},
_owner: null
}
};
}, n.prototype.renderStartupState = function L() {
return this.state.waitingForUserStart === !1 ? this.renderProgress() : SpartaGlobals.bundleIsPC ? {
id: "loading",
content: {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: h,
type: Q.Text,
key: null,
ref: null,
props: r(Q.Text.defaultProps, {
value: __("ID_SPARTA_START_LOADING").toUpperCase(),
size: Ie,
section: this.state.localGame.gameId
}),
_owner: null
},
style: Ee
},
_owner: null
}
} : this.renderStartButtons();
}, n.prototype.render = function G() {
if (!this.state.isVisible) return null;
var e = this.state.localGame.startScreenAnimation, t = e ? {
$$typeof: h,
type: e,
key: null,
ref: null,
props: r(e.defaultProps, {
style: {
zOffset: 26
}
}),
_owner: null
} : null, n = d({
position: "absolute",
zOffset: 9e4
}, N.uiState.window, {
backgroundColor: null,
texture: this.state.localGame.startScreenImageUrl,
textureMode: "none",
textureScale: N.uiState.viewportScale.scaleX
}), o = d({
position: "absolute",
width: W["default"].screen.width,
height: W["default"].screen.height
}, N.uiState.viewportPosition, N.uiState.viewportScale, {
opacity: this.startScreenOpacity.getStyle()
}), a = d({
position: "absolute"
}, W["default"].startScreenLogo.style), i = {
position: "absolute",
width: W["default"].startScreenLogo.style.width,
height: W["default"].startScreenLogo.style.height,
left: 0,
top: 0,
texture: this.state.localGame.startScreenLogoUrl
}, s = {
position: "absolute",
width: W["default"].screen.width,
left: W["default"].screen.left,
top: W["default"].startScreenLogo.bottom + Y["default"].window.rowSpan(4),
flexDirection: "column",
alignItems: "center",
justifyContent: "flex-start",
zOffset: 20
}, l = {
height: 60
}, u = this.renderStartupState(), c = x.settingsStore.isFeatureEnabled("particles") ? null : {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: b.particles.Renderer,
key: null,
ref: null,
props: r(b.particles.Renderer.defaultProps, {
emitter: this.emitters.first
}),
_owner: null
}, {
$$typeof: h,
type: b.particles.Renderer,
key: null,
ref: null,
props: r(b.particles.Renderer.defaultProps, {
emitter: this.emitters.second
}),
_owner: null
}, {
$$typeof: h,
type: b.particles.Renderer,
key: null,
ref: null,
props: r(b.particles.Renderer.defaultProps, {
emitter: this.emitters.third
}),
_owner: null
} ],
style: {
position: "absolute",
top: -100,
left: 100,
zOffset: 26
}
},
_owner: null
};
return {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: "test",
key: null,
ref: null,
props: {
guid: "startscreen"
},
_owner: null
}, t, c, g["default"].createElement("surface", {
style: o,
ref: Ne
}, {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
style: i
},
_owner: null
},
style: a
},
_owner: null
}, {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: oe["default"],
key: null,
ref: null,
props: r(oe["default"].defaultProps, {
children: u.content,
transitionId: u.id,
style: l
}),
_owner: null
}, null ],
style: s
},
_owner: null
}, g["default"].createElement(Ue, {
ref: "bottomBar",
game: this.state.localGame
})) ],
style: n
},
_owner: null
};
};
var s = n;
return n = i("_$StartScreen")(n) || n, n = T["default"]({
isVisible: ke,
localGame: Pe,
isOnboarded: Ae
})(n) || n, n = _.observer(n) || n, n = E["default"]({
group: !0
})(n) || n;
}(g["default"].Component);
t["default"] = De, De.childContextTypes = d({}, De.childContextTypes, {
fonts: g["default"].PropTypes.shape({
normal: g["default"].PropTypes.any,
emphasis: g["default"].PropTypes.any,
letterSpacing: g["default"].PropTypes.number
})
});
var Ue = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.tweens = {
opacity: J.Animation.tween("52181048:786", 0, {
duration: 500
}),
translateY: J.Animation.tween("52181048:787", 0, {
duration: 1e3
})
};
}
a(t, e), t.prototype.componentDidMount = function s() {
var e = this;
setTimeout(function() {
return e.appear();
}, 2500);
}, t.prototype.componentWillUnmount = function l() {
this.tweens.opacity.destroy(), this.tweens.translateY.destroy();
}, t.prototype.appear = function u() {
return this.animateVisibility(!0);
}, t.prototype.disappear = function p() {
return this.animateVisibility(!1);
}, t.prototype.animateVisibility = function f(e) {
var t = this;
return new Promise(function(n) {
var r = 2 * K["default"].dangerZoneSize.height;
t.tweens.opacity.to(e ? 1 : 0), t.tweens.translateY.to(e ? 0 : r, null, n);
});
}, t.prototype.render = function d() {
var e = {
zOffset: 3,
position: "absolute",
bottom: K["default"].dangerZoneSize.height,
left: K["default"].dangerZoneSize.width,
right: K["default"].dangerZoneSize.width,
flexDirection: "row",
justifyContent: "space-between",
opacity: this.tweens.opacity.getStyle(),
translateY: this.tweens.translateY.getStyle()
}, t = {
alignSelf: "center",
color: "#ffffff",
textLineSpacing: 1
}, n = __("ID_SPARTA_START_COPYRIGHT_YEAR").replace("[[YEAR]]", this.props.game.copyrightYear);
return {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: c,
key: null,
ref: null,
props: r(c.defaultProps, {
src: se.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-ea-300d3ce5.png"),
width: 50,
height: 50
}),
_owner: null
}, {
$$typeof: h,
type: c,
key: null,
ref: null,
props: r(c.defaultProps, {
src: se.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-dice-c4e44205.png"),
width: 74,
height: 18
}),
_owner: null
}, {
$$typeof: h,
type: c,
key: null,
ref: null,
props: r(c.defaultProps, {
src: se.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-uprise-8b0e9297.png"),
width: 90,
height: 18
}),
_owner: null
} ],
style: {
flexDirection: "row",
alignItems: "center"
}
},
_owner: null
}, {
$$typeof: h,
type: Q.Text,
key: null,
ref: null,
props: r(Q.Text.defaultProps, {
style: t,
size: "S",
value: n,
section: this.props.game.gameId
}),
_owner: null
} ],
style: e
},
_owner: null
};
};
var n = t;
return t = i("_$BottomBar")(t) || t;
}(g["default"].Component);
}).call(t, n(2), n(97));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
t.__esModule = !0;
var a = n(15), i = n(5), s = o(i), l = n(131), u = r(l), c = n(26), p = r(c), f = n(57), d = new p["default"]("TunguskaBattlepackStore"), h = !1, y = a.createStore({
init: function g() {
var e = this;
d.setState(new u["default"]({
packs: new u["default"]({}),
error: null
})), f.unopened.listen(function(t, n) {
var r = s.extend({}, e.getState(), {
error: n
});
t && (h = !0, r.packs = new u["default"](t.reduce(function(e, t) {
return e[t.packName] = t, e;
}, {}))), d.setState(new u["default"](r)), y.trigger(d.getState());
});
},
hasLoadedOnce: function m() {
return h;
},
getState: function b() {
return d.getState();
},
getInitialState: function v() {
return this.getState();
},
getNum: function _() {
return d.getState().packs.length;
},
getPackByName: function S(e) {
return d.getState().packs.get(e);
}
});
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
this.descriptionText = e.descriptionText || "", this.images = e.images, this.items = (e.items || []).map(function(e) {
return new i["default"](e);
}), this.origin = e.origin, this.packId = e.packId, this.packKey = e.packKey, this.packName = e.packName, 
this.personaId = e.personaId, this.prices = e.prices;
var t = parseInt(e.quantity, 10);
t && (this.quantity = t), this.rarenessLevel = e.rarenessLevel, this.revision = e.revision || "", 
this.visualName = e.visualName || e.packName || "", this.getScrapPrice = function() {
var e = void 0;
return this.prices && this.prices.forEach(function(t) {
var n = t[0];
"scraps" === n.name && (e = n.quantity);
}), e;
};
}
t.__esModule = !0;
var a = n(307), i = r(a);
t["default"] = o, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, a = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, i = n(1), s = r(i), l = n(6), u = r(l), c = {
XS: u["default"].getHeight(1.5),
S: u["default"].getHeight(2),
M: u["default"].getHeight(4),
L: u["default"].getHeight(6)
}, p = function f(e) {
var t = a({
width: c[e.size],
height: c[e.size],
textureMode: "contain"
}, e.style, {
grayScale: e.isDisabled ? 1 : 0
});
return e.image && (t.texture = e.image), t.textureAtlas = "SpartaCommonAtlas", {
$$typeof: o,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
};
};
p.propTypes = {
size: s["default"].PropTypes.string,
isDisabled: s["default"].PropTypes.bool
}, p.defaultProps = {
size: "S"
}, t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return U(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e, t, n) {
return t > e ? t : e > n ? n : e;
}
var c = n(4), p = l(c);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(5), y = l(h), g = n(1), m = l(g), b = n(850), v = l(b), _ = n(3), S = r(_), T = n(10), w = n(20), E = l(w), I = n(16), C = n(7), A = n(13), P = l(A), O = n(125), R = n(18), k = l(R), x = n(52), M = n(12), N = l(M), D = {
_$InputField: {
displayName: "InputField"
}
}, U = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Text/InputField.jsx",
components: D,
locals: [],
imports: []
}), L = /[\u0020-\u007E\u00A0-\u017F\u0192\u01FA-\u01FF\u20AC\u2122\u2012\u2013\u2014\u2018\u2019\u201C\u201D\u0410-\u042F\u0490\u0406\u0402\u0452\u0403\u0453\u0456\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\u040B\u045B\u040C\u045C\u0455\u040E\u045E\u040F\u045F\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E]/, $ = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, G = {
LatinFull: 1,
Numeric: 2,
Alphabet: 4,
Gamertag: 8,
Password: 16,
AlphabetSpace: 32
}, F = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t);
var o = this.props.initialValue || "";
this.state = {
value: o,
cursorStart: o.length,
cursorEnd: o.length
}, this.focusItem = S.focus.create(this, "inputfield"), this.focusItem.autoFocusCandidate = !0, 
this.props.useVirtualKeyboard ? (this.focusItem.onFocus(function() {
return r.activate();
}), this.focusItem.onBlur(function() {
return r.deactivate();
})) : (this.focusItem.onFocus(function() {
r.isolateInputGroup(), r.updateInput();
}), this.focusItem.onBlur(function() {
return r.releaseInputGroup();
})), this.eventSubscriptions = [], this.cursorOpacity = I.Animation.tween("1f1aa49a:83", 0);
}
i(t, e), t.prototype.componentWillReceiveProps = function r(e) {
if (e.initialValue !== this.props.initialValue) {
var t = e.initialValue || "";
this.setState({
value: t,
cursorStart: t.length,
cursorEnd: t.length
});
}
}, t.prototype.componentWillUnmount = function l() {
this.deactivate(), this.cursorOpacity.destroy();
}, t.prototype.getInput = function c() {
var e = this;
if (this.focusItem.isFocused) {
var t = this.props.useVirtualKeyboard ? !1 : this.state.isActive;
if (t) return [ new P["default"]({
label: __("ID_SPARTA_ACTION_CANCEL"),
action: function r() {
return e.deactivate();
},
key: this.props.cancelKey
}) ];
var n = this.props.useVirtualKeyboard ? function() {
return e.showVirtualKeyboard();
} : function() {
return e.activate();
};
return [ new P["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: n,
key: this.props.editKey
}) ];
}
}, t.prototype.onKeyDown = function p(e) {
switch (e) {
case 27:
this.props.useVirtualKeyboard || this.deactivate();
break;

case 37:
this.offsetCursor(-1);
break;

case 39:
this.offsetCursor(1);
break;

case 8:
this.deleteOffset(-1);
break;

case 46:
this.deleteOffset(1);
break;

case 35:
this.offsetCursor(this.state.value.length);
break;

case 36:
this.offsetCursor(-this.state.value.length);
break;

case 160:
this.isShiftDown = !0;
break;

case 162:
this.isControlDown = !0;
break;

case 65:
this.isControlDown && this.setState({
cursorStart: 0,
cursorEnd: this.state.value.length
});
}
}, t.prototype.onKeyUp = function h(e) {
switch (e) {
case 160:
this.isShiftDown = !1;
break;

case 162:
this.isControlDown = !1;
}
}, t.prototype.onCharacterClicked = function g(e) {
if (this.state.isActive) {
var t = e - this.state.cursorEnd;
this.offsetCursor(t);
} else this.activate();
}, t.prototype.cursorMin = function m() {
return Math.min(this.state.cursorStart, this.state.cursorEnd);
}, t.prototype.cursorMax = function b() {
return Math.min(this.state.cursorStart, this.state.cursorEnd);
}, t.prototype.selectionSize = function _() {
return this.cursorMax() - this.cursorMin();
}, t.prototype.subscribeToEvents = function w() {
var e = this;
this.unsubscribeFromEvents(), this.props.useVirtualKeyboard || (this.eventSubscriptions.push(S.events.onMouseEventBeforePropagation.listen(function(t) {
return e.deactivateOnClickOutside(t);
})), this.eventSubscriptions.push(S.events.onKeyUp.listen(this.onKeyUp.bind(this))), 
this.eventSubscriptions.push(S.events.onKeyDown.listen(this.onKeyDown.bind(this))), 
this.eventSubscriptions.push(S.events.onTypingInput.listen(function(t, n, r) {
return e.insertValue(r);
})), S.frostbite.sendMessage("sparta.toggleVirtualKeyboard", {
show: !0
}), this.eventSubscriptions.push(function() {
S.frostbite.sendMessage("sparta.toggleVirtualKeyboard", {
show: !1
});
}));
}, t.prototype.unsubscribeFromEvents = function A() {
this.eventSubscriptions.forEach(function(e) {
return e();
}), this.eventSubscriptions = [];
}, t.prototype.deactivate = function O() {
this.state.isActive && (this.props.useCursor && (this.releaseInputGroup(), k["default"].setNavigationEnabled(!0), 
clearInterval(this.cursorVisibilityInterval), this.cursorOpacity.set(0)), this.unsubscribeFromEvents(), 
this.setState({
isActive: !1
}));
}, t.prototype.activate = function R() {
if (!this.props.disabled) {
if (this.state.isActive) return void this.offsetCursor(this.state.value.length);
this.props.useCursor && (this.isolateInputGroup(), k["default"].setNavigationEnabled(!1), 
this.cursorVisibilityInterval = setInterval(this.toggleCursorVisibility.bind(this), 500), 
this.cursorOpacity.set(1)), this.subscribeToEvents(), this.setState({
isActive: !0
});
}
}, t.prototype.deactivateOnClickOutside = function x(e) {
var t = this;
if (e.event === S.MouseEventType.onClick && e.button <= S.MouseButton.Wheel) {
if (y["default"].some(e.surfaces, function(e) {
return e.surfaceId.indexOf(t._reactInternalInstance._rootNodeID) > -1;
})) return;
this.deactivate();
}
}, t.prototype.insertValue = function M(e) {
var t = e.split("").filter(function(e) {
return L.test(e);
}).join("");
t && this.splice(this.cursorMin(), this.selectionSize(), t);
}, t.prototype.replaceValue = function N(e) {
var t = e.split("").filter(function(e) {
return L.test(e);
}).join("");
this.setState({
value: t,
cursorStart: t.length,
cursorEnd: t.length
}), this.props.onValueChanged && this.props.onValueChanged(e);
}, t.prototype.splice = function D(e, t, n) {
var r;
0 > e && (r = e + t, e = 0, t = r > 0 ? r : 0), r = e + t, r > this.state.value.length && (e >= this.state.value.length ? (e = this.state.value.length, 
t = 0) : t = this.state.value.length - e);
var o = this.state.value.split("");
if (n && n.length > 0) {
var a = this.props.maxLength - (o.length - t);
n = n.substring(0, a);
} else n = "";
o.splice(e, t, n);
var i = o.join(""), s = e + n.length, l = u(s, 0, i.length);
this.setState({
value: i,
cursorStart: l,
cursorEnd: l
}), this.props.onValueChanged && this.props.onValueChanged(i);
}, t.prototype.deleteOffset = function U(e) {
var t = this.selectionSize();
if (t) this.splice(this.cursorMin(), t); else if (e > 0) this.splice(this.state.cursorStart, e); else if (0 > e) {
var n = Math.abs(e);
this.splice(this.state.cursorStart - n, n);
}
}, t.prototype.offsetCursor = function F(e) {
if (!e) return this.state.value.length;
var t;
if (this.isShiftDown) t = u(this.state.cursorEnd + e, 0, this.state.value.length), 
this.setState({
cursorEnd: t
}); else {
var n = 0 > e ? this.cursorMin() : this.cursorMax();
t = u(n + e, 0, this.state.value.length), this.setState({
cursorStart: t,
cursorEnd: t
});
}
}, t.prototype.toggleCursorVisibility = function B() {
this.cursorOpacity.set(this.cursorOpacity.previousInstruction.to ? 0 : 1);
}, t.prototype.showVirtualKeyboard = function j() {
var e = this;
return this.props.disabled ? !1 : (this.props.useVirtualKeyboard && this.eventSubscriptions.length < 1 && this.eventSubscriptions.push(S.events.onTypingInput.listen(function(t, n, r) {
n && e.replaceValue(r);
})), void S.frostbite.sendMessage("sparta.toggleVirtualKeyboard", {
show: !0,
title: this.props.title || "",
description: this.props.description || "",
defaultText: this.state.value,
maxTextLength: this.props.maxLength,
characterType: G[this.props.type]
}));
}, t.prototype.renderPaddingChar = function H(e, t) {
return " " === e ? {
$$typeof: d,
type: C.Text,
key: null,
ref: null,
props: o(C.Text.defaultProps, {
value: "_",
style: f({}, t, {
opacity: 0
}),
section: this.props.section,
size: this.props.size
}),
_owner: null
} : {
$$typeof: d,
type: C.Text,
key: null,
ref: null,
props: o(C.Text.defaultProps, {
value: e,
style: t,
section: this.props.section,
size: this.props.size
}),
_owner: null
};
}, t.prototype.render = function V() {
var e = this, t = this.state.value;
if ("Password" === this.props.type) {
t = "";
for (var n = 0; n < this.state.value.length; n++) t += "*";
}
var r;
if (this.props.useCursor && 0 === this.selectionSize()) {
var a, i, s;
!function() {
a = t.substr(0, e.state.cursorStart), e.context.fonts ? i = e.context.fonts : e.context.routeConfig && (i = e.context.routeConfig.fonts);
var n = i ? i.letterSpacing : 0, l = n > 0 ? {
paddingLeft: n,
opacity: 0
} : {
opacity: 0
};
s = y["default"].map(a, function(t, n) {
return e.renderPaddingChar(t, l);
}), r = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ s, {
$$typeof: d,
type: C.Text,
key: null,
ref: null,
props: o(C.Text.defaultProps, {
value: "|",
size: e.props.size,
section: e.props.section,
style: {
color: "#ffffff",
opacity: e.cursorOpacity.getStyle()
}
}),
_owner: null
} ],
style: f({
paddingLeft: 10,
flexDirection: "row",
zOffset: 10
}, $)
},
_owner: null
};
}();
}
return {
$$typeof: d,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
children: r,
onClick: function(t) {
return e.activate(t);
},
onCharacterClicked: function(t) {
return e.onCharacterClicked(t);
},
selectionStart: this.cursorMin(),
focusItem: this.focusItem,
selectionEnd: this.cursorMax(),
style: this.props.style,
size: this.props.size,
section: this.props.section,
isActive: this.state.isActive,
isInvalid: this.props.isInvalid,
placeholder: this.props.placeholder,
value: t
}),
_owner: null
};
};
var n = t;
return t = s("_$InputField")(t) || t, t = E["default"]({
group: SpartaGlobals.bundleIsPC
})(t) || t, t = T.observer(t) || t;
}(m["default"].Component);
t["default"] = F, F.defaultProps = {
type: "LatinFull",
title: "",
maxLength: 255,
useVirtualKeyboard: SpartaGlobals.bundleIsConsole,
useCursor: SpartaGlobals.bundleIsPC,
initialValue: "",
size: "M",
isInvalid: !1,
deactivateOnBlur: !0,
disabled: !1,
cancelKey: N["default"].Decline
}, F.propTypes = {
initialValue: m["default"].PropTypes.string,
type: m["default"].PropTypes.oneOf(Object.keys(G)).isRequired,
title: m["default"].PropTypes.string,
description: m["default"].PropTypes.string,
maxLength: m["default"].PropTypes.number.isRequired,
onValueChanged: m["default"].PropTypes.func,
editKey: m["default"].PropTypes.instanceOf(O.Key),
cancelKey: m["default"].PropTypes.instanceOf(O.Key),
size: m["default"].PropTypes.string,
style: m["default"].PropTypes.object,
useCursor: m["default"].PropTypes.bool.isRequired,
useVirtualKeyboard: m["default"].PropTypes.bool.isRequired,
disabled: m["default"].PropTypes.bool
}, F.contextTypes = f({}, F.contextTypes, {
routeConfig: m["default"].PropTypes.instanceOf(x.Route),
fonts: m["default"].PropTypes.shape({
normal: m["default"].PropTypes.any,
emphasis: m["default"].PropTypes.any,
letterSpacing: m["default"].PropTypes.number
})
}), e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), p = i(c), f = n(484), d = i(f), h = {
_$Fader: {
displayName: "Fader"
}
}, y = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/tweeners/Fader.jsx",
components: h,
locals: [],
imports: []
}), g = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = {
propertyName: "opacity",
inValue: 1,
outValue: 0
};
return this.props.duration && (e.inOptions = {
duration: this.props.duration
}, e.outOptions = {
duration: this.props.duration
}), p["default"].createElement(d["default"], u({}, this.props, {
tweens: [ e ]
}));
};
var n = t;
return t = a("_$Fader")(t) || t;
}(p["default"].Component);
t["default"] = g, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = n(396), i = r(a), s = n(5), l = r(s), u = n(486), c = n(322), p = n(26), f = new p("CareerStore", new c(), !0), d = o.createStore({
init: function h() {
u.listen(function(e) {
f.setState(e), d.trigger(f.getState());
}), i["default"].listen(function(e, t) {
var n, r = d.getState(), o = l["default"].extend({}, r.gameStats[e].props);
o.equippedDogtags = t;
var a = l["default"].extend({}, r.gameStats, (n = {}, n[e] = o, n)), i = new c(l["default"].extend({}, r, {
gameStats: a
}));
f.setState(i), d.trigger(f.getState());
});
},
getState: function y() {
return f.getState();
},
getGameStats: function g(e) {
var t = f.getState();
return t ? t.gameStats[e] : null;
}
});
e.exports = d;
}, function(e, t, n) {
"use strict";
function r() {}
function o(e) {
try {
return e.then;
} catch (t) {
return m = t, b;
}
}
function a(e, t) {
try {
return e(t);
} catch (n) {
return m = n, b;
}
}
function i(e, t, n) {
try {
e(t, n);
} catch (r) {
return m = r, b;
}
}
function s(e) {
if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
if ("function" != typeof e) throw new TypeError("not a function");
this._45 = 0, this._81 = 0, this._65 = null, this._54 = null, e !== r && y(e, this);
}
function l(e, t, n) {
return new e.constructor(function(o, a) {
var i = new s(r);
i.then(o, a), u(e, new h(t, n, i));
});
}
function u(e, t) {
for (;3 === e._81; ) e = e._65;
return s._10 && s._10(e), 0 === e._81 ? 0 === e._45 ? (e._45 = 1, void (e._54 = t)) : 1 === e._45 ? (e._45 = 2, 
void (e._54 = [ e._54, t ])) : void e._54.push(t) : void c(e, t);
}
function c(e, t) {
g(function() {
var n = 1 === e._81 ? t.onFulfilled : t.onRejected;
if (null === n) return void (1 === e._81 ? p(t.promise, e._65) : f(t.promise, e._65));
var r = a(n, e._65);
r === b ? f(t.promise, m) : p(t.promise, r);
});
}
function p(e, t) {
if (t === e) return f(e, new TypeError("A promise cannot be resolved with itself."));
if (t && ("object" == typeof t || "function" == typeof t)) {
var n = o(t);
if (n === b) return f(e, m);
if (n === e.then && t instanceof s) return e._81 = 3, e._65 = t, void d(e);
if ("function" == typeof n) return void y(n.bind(t), e);
}
e._81 = 1, e._65 = t, d(e);
}
function f(e, t) {
e._81 = 2, e._65 = t, s._97 && s._97(e, t), d(e);
}
function d(e) {
if (1 === e._45 && (u(e, e._54), e._54 = null), 2 === e._45) {
for (var t = 0; t < e._54.length; t++) u(e, e._54[t]);
e._54 = null;
}
}
function h(e, t, n) {
this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, 
this.promise = n;
}
function y(e, t) {
var n = !1, r = i(e, function(e) {
n || (n = !0, p(t, e));
}, function(e) {
n || (n = !0, f(t, e));
});
n || r !== b || (n = !0, f(t, m));
}
var g = n(497), m = null, b = {};
e.exports = s, s._10 = null, s._97 = null, s._61 = r, s.prototype.then = function(e, t) {
if (this.constructor !== s) return l(this, e, t);
var n = new s(r);
return u(this, new h(e, t, n)), n;
};
}, function(e, t, n) {
"use strict";
function r(e, t) {
return (e & t) === t;
}
var o = n(32), a = {
MUST_USE_ATTRIBUTE: 1,
MUST_USE_PROPERTY: 2,
HAS_SIDE_EFFECTS: 4,
HAS_BOOLEAN_VALUE: 8,
HAS_NUMERIC_VALUE: 16,
HAS_POSITIVE_NUMERIC_VALUE: 48,
HAS_OVERLOADED_BOOLEAN_VALUE: 64,
injectDOMPropertyConfig: function(e) {
var t = a, n = e.Properties || {}, i = e.DOMAttributeNamespaces || {}, l = e.DOMAttributeNames || {}, u = e.DOMPropertyNames || {}, c = e.DOMMutationMethods || {};
e.isCustomAttribute && s._isCustomAttributeFunctions.push(e.isCustomAttribute);
for (var p in n) {
s.properties.hasOwnProperty(p) ? o(!1) : void 0;
var f = p.toLowerCase(), d = n[p], h = {
attributeName: f,
attributeNamespace: null,
propertyName: p,
mutationMethod: null,
mustUseAttribute: r(d, t.MUST_USE_ATTRIBUTE),
mustUseProperty: r(d, t.MUST_USE_PROPERTY),
hasSideEffects: r(d, t.HAS_SIDE_EFFECTS),
hasBooleanValue: r(d, t.HAS_BOOLEAN_VALUE),
hasNumericValue: r(d, t.HAS_NUMERIC_VALUE),
hasPositiveNumericValue: r(d, t.HAS_POSITIVE_NUMERIC_VALUE),
hasOverloadedBooleanValue: r(d, t.HAS_OVERLOADED_BOOLEAN_VALUE)
};
if (h.mustUseAttribute && h.mustUseProperty ? o(!1) : void 0, !h.mustUseProperty && h.hasSideEffects ? o(!1) : void 0, 
h.hasBooleanValue + h.hasNumericValue + h.hasOverloadedBooleanValue <= 1 ? void 0 : o(!1), 
l.hasOwnProperty(p)) {
var y = l[p];
h.attributeName = y;
}
i.hasOwnProperty(p) && (h.attributeNamespace = i[p]), u.hasOwnProperty(p) && (h.propertyName = u[p]), 
c.hasOwnProperty(p) && (h.mutationMethod = c[p]), s.properties[p] = h;
}
}
}, i = {}, s = {
ID_ATTRIBUTE_NAME: "data-reactid",
properties: {},
getPossibleStandardName: null,
_isCustomAttributeFunctions: [],
isCustomAttribute: function(e) {
for (var t = 0; t < s._isCustomAttributeFunctions.length; t++) {
var n = s._isCustomAttributeFunctions[t];
if (n(e)) return !0;
}
return !1;
},
getDefaultValueForProperty: function(e, t) {
var n, r = i[e];
return r || (i[e] = r = {}), t in r || (n = document.createElement(e), r[t] = n[t]), 
r[t];
},
injection: a
};
e.exports = s;
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t, n, r, o) {
return h.updateServerClient.request({
deviceIdMap: {
machash: c.analyticsStore.uuid
},
game: e,
serverId: t,
bannerSettings: {
bannerUrl: n.bannerUrl,
clearBanner: !n.bannerUrl
},
mapRotation: r,
serverSettings: p.extend({}, n, {
mapRotationId: r.id
}, {
customGameSettings: JSON.stringify(o)
})
});
}
function r(e, t, n, r) {
var o = "rsp:ServerId=" + e + ";Slots=64,PingSiteAlias=" + n;
return new Promise(function(e, n) {
d.triggerAsPromise(t, o, r).then(function() {
var r = g.checkoutCompleted.listen(function(o, a, i) {
a.productId === t.productId && (r(), o.status === o.CHECKOUT_COMPLETED ? i.serverId ? e(i.serverId) : (m.spartaErrorMessage(__("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_RETRY"), __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT")), 
n()) : n());
});
})["catch"](function(e) {
console.error(e);
var t = "";
switch (e.code) {
case -22505:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT_PINGSITE_CAPACITY_MAX_REACHED");
break;

case -22506:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT_SERVER_USER_OWNER_MAX_REACHED");
break;

default:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT_GENERIC");
}
m.spartaErrorMessage(t, __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT")), n(e);
});
});
}
function o(e, t) {
return new Promise(function(n, r) {
var o = b.findByRSPId(e, t);
if (o) n(o); else {
var a = b.listen(function() {
o = b.findByRSPId(e, t), o && (a(), n(o));
});
v.refreshRentedServers(e);
}
});
}
function a(e) {
return new Promise(function(t) {
var n = h.getPingSitesClient.request({
game: e
});
n.onSuccess(function() {
return t(n.response.pingSites);
}), n.onError(function() {
return t();
});
});
}
function i(e) {
return new Promise(function(t, n) {
var r = _.getRSPOffers(e);
if (r.length) t(r); else {
var o = _.listen(function() {
var n = _.getGameState(e);
n.loading || (o(), r = _.getRSPOffers(e), t(r));
});
g.updateOffers([ e ]);
}
});
}
function s(e, t) {
return new Promise(function(n) {
var r = f.rspPurchaseStore.getType(e, t);
if (r instanceof Array) n(r[0]); else {
var o = h.getResumablePurchasesClient.request({
games: [ e ],
categories: [ "rsp" ]
});
o.onSuccess(function() {
var e = o.response.purchases;
if (e instanceof Array) {
var r = e.filter(function(e) {
return e.state.name === t;
});
n(r[0]);
} else n();
}), o.onError(function() {
return n();
});
}
});
}
function l(e) {
return new Promise(function(t) {
var n = y.rspTemplateStore.getTemplate(e);
if (n) return void t(n);
var r = h.getTemplateClient.request({
game: e
});
r.onSuccess(function() {
setTimeout(function() {
t(y.rspTemplateStore.getTemplate(e));
}, 5);
}), r.onError(function() {
t();
});
});
}
function u(e, t, n) {
return new Promise(function(r) {
v.clearRentedServerDetails(t, n);
var o = S.listen(function(e) {
e.data && (o(), r(e.data));
});
v.getDetailsForRentedServer({
game: e,
serverId: t,
persistedGameId: n
});
});
}
var c = n(166), p = n(5), f = n(248), d = n(247).StartPurchaseRequest, h = n(142), y = n(550), g = n(49), m = n(60), b = n(289), v = n(23), _ = n(130), S = n(120);
t.updateServer = e, t.purchaseServer = r, t.fetchServer = o, t.fetchRspPingSites = a, 
t.fetchRspOffers = i, t.fetchResumablePurchase = s, t.fetchRSPTemplate = l, t.fetchServerDetails = u;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = n(8), o = n(9), a = n(5), i = n(35), s = n(91), l = n(63), u = n(84), c = n(77), p = n(151), f = n(277), d = n(3), h = Object.freeze({
uuidKey: "hubble-uuid"
}), y = new f(), g = function() {
function e() {
this.joinServerBrowser = null, this.joinRecommendation = null, this.joinFriend = null, 
this.joinParty = null, this.joinMatchmaking = null, this.uuid = "", this.fetchUuid();
}
return e.prototype.getSources = function() {
return a.compact([ this.joinServerBrowser ? "serverbrowser" : void 0, this.joinRecommendation ? "recommendation/" + this.joinRecommendation.group : void 0, this.joinMatchmaking ? "matchmaking" : void 0, this.joinFriend ? "friend" : void 0, this.joinParty ? "party" : void 0 ]);
}, e.prototype.trackJoinSources = function(e) {
var t = this.getSources();
t.forEach(function(t) {
c.trackEvent("ServerJoin", e, t);
}), p.trackJoinSources(e, t);
}, e.prototype.clearJoinSources = function() {
this.joinServerBrowser = null, this.joinRecommendation = null, this.joinFriend = null, 
this.joinParty = null, this.joinMatchmaking = null;
}, e.prototype.fetchUuid = function() {
var e = this;
return new Promise(function(t) {
return "" !== e.uuid ? void t(e.uuid) : void y.get(h.uuidKey, function(n) {
n || (n = e.createUUID(), y.save(h.uuidKey, n)), e.uuid = n, t(e.uuid);
});
});
}, e.prototype.createUUID = function() {
return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
var t = 16 * Math.random() | 0, n = "x" === e ? t : 3 & t | 8;
return n.toString(16);
});
}, e;
}();
t.AnalyticsStore = g, t.analyticsStore = new g(), c.trackJoinSource.listen(function(e, n) {
d.assign(t.analyticsStore, (r = {}, r[e] = n, r));
var r;
}), l.handleCardInteraction.listen(function(e) {
t.analyticsStore.joinRecommendation = e;
}), u.listen(function(e) {
e.server && (t.analyticsStore.joinMatchmaking = e);
}), o.reaction(function() {
return r.partyStore;
}, function(e) {
t.analyticsStore.joinParty = e.size > 1 ? e : null;
}), i.joinServer.listen(function(e) {
t.analyticsStore.joinFriend = e.friend;
}), i.handleJoinReady.listen(function() {
t.analyticsStore.trackJoinSources("Ready");
}), i.joinedServer.listen(function() {
t.analyticsStore.trackJoinSources("Joined"), t.analyticsStore.clearJoinSources();
}), s.onJoinMultiplayerFailed.listen(function() {
t.analyticsStore.trackJoinSources("Failed"), t.analyticsStore.clearJoinSources();
});
}, function(e, t, n) {
"use strict";
var r = {
eu: {
PC: [],
XBOXONE: [],
PS4: []
},
jp: {
PC: [],
XBOXONE: [],
PS4: []
},
na: {
PC: [],
XBOXONE: [],
PS4: []
},
ru: {
PC: [],
XBOXONE: [],
PS4: []
}
}, o = function() {
function e(e) {
void 0 === e && (e = {}), this.crossLaunchIds = Object, this.releaseDate = new Date(), 
this.copyrightYear = 2016, this.isEnabled = !0, this.consolePartyBar = !0, this.rspConfig = {
isEnabled: function() {
return !1;
}
}, this.joinConfig = {}, this.styles = {
rankBadge: {},
alignBadgeInfo: "none"
}, this.locales = r, this.supportedRoles = [ "soldier" ], this.supportedServerTypes = [ "OFFICIAL", "RANKED", "UNRANKED", "PRIVATE" ], 
this.hasParticleEffects = !1, this.showUnlockInfo = !0, this.shouldDisplayMedalProgression = !1, 
this.hasSpectatorFeatureFlag = !1, this.invalidateStats = !1, this.soldierConfig = {
showCategorizationForVehicles: !1,
showBiggerCardImages: !1,
showAccessoriesForWeapons: !1
};
for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
}
return Object.defineProperty(e.prototype, "recentServersRoute", {
get: function() {
return this.serverListRoute + "?tab=recent";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "subscriberAccessFeatureFlagName", {
get: function() {
return this.gameId + "_Access_" + SpartaGlobals.bundlePlatform.toLowerCase();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "subscriberAccessPdpFeatureFlagName", {
get: function() {
return this.gameId + "_AccessPDP_" + SpartaGlobals.bundlePlatform.toLowerCase();
},
enumerable: !0,
configurable: !0
}), e;
}();
t.Game = o;
}, function(e, t, n) {
"use strict";
var r, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(10), i = (a.observer, n(9));
n(17), n(419);
!function(e) {
e[e.IDLE = 0] = "IDLE", e[e.ENTERING = 1] = "ENTERING", e[e.ACTIVE = 2] = "ACTIVE", 
e[e.LEAVING = 3] = "LEAVING";
}(r = t.EnterLeaveStates || (t.EnterLeaveStates = {}));
var s = 0, l = function() {
function e() {
this.currentState = r.IDLE, this.previousState = r.IDLE, this.stateTimer = 0, this.stateTimeout = 500, 
this.lastChangeId = 0;
}
return e.prototype.changeState = function(e) {
var t = this;
this.lastChangeId = s++, this.previousState = this.currentState, this.currentState = e, 
e === r.IDLE && this.setContent(null), clearTimeout(this.stateTimer), e === r.LEAVING && (this.stateTimer = setTimeout(i.action("state timer leaving", function() {
t.currentState === r.LEAVING && t.changeState(r.IDLE);
}), this.stateTimeout)), e === r.ENTERING && (this.stateTimer = setTimeout(i.action("state timer entering", function() {
t.currentState === r.ENTERING && t.changeState(r.ACTIVE);
}), this.stateTimeout));
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
return this.currentState === r.ACTIVE || this.currentState === r.ENTERING;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isVisible", {
get: function() {
return this.currentState === r.ACTIVE || this.currentState === r.ENTERING || this.currentState === r.LEAVING;
},
enumerable: !0,
configurable: !0
}), e;
}();
o([ i.observable ], l.prototype, "currentState", void 0), o([ i.observable ], l.prototype, "previousState", void 0), 
o([ i.action ], l.prototype, "changeState", null), o([ i.computed ], l.prototype, "isActive", null), 
o([ i.computed ], l.prototype, "isVisible", null), t.ItemState = l;
var u = function() {
function e(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.states = r, this.previous = null, this.items = t, this.switchToItem(e);
}
return Object.defineProperty(e.prototype, "current", {
get: function() {
for (var e = null, t = 0; t < this.items.length; t++) {
var n = this.items[t];
if (n.isActive) {
if (e) throw console.error(this.items), new Error("Cannot have more than one active item!");
e = n;
}
}
return e;
},
enumerable: !0,
configurable: !0
}), e.prototype.allocateItem = function(e) {
for (var t = null, n = [], o = 0; o < this.items.length; o++) {
var a = this.items[o];
if (!a.isActive) {
if (a.contentEquals(e)) return a;
a.currentState === r.IDLE && (t = a), a.currentState === r.LEAVING && n.push(a);
}
}
if (!t) {
if (n.length > 0) return n.sort(function(e, t) {
return e.lastChangeId - t.lastChangeId;
}), n[0];
throw console.error("Cannot allocate an item, they are all busy (" + this.items.length + ")"), 
new Error("Cannot allocate an item, they are all busy (" + this.items.length + ")");
}
return t;
}, e.prototype.switchToItem = function(e) {
if (this.current && this.current.contentEquals(e)) return void this.current.setContent(e);
var t = this.current, n = this.allocateItem(e);
this.previous = t, n.changeState(r.ENTERING), n.setContent(e), t && t.changeState(r.LEAVING);
}, e;
}();
o([ i.observable ], u.prototype, "previous", void 0), o([ i.computed ], u.prototype, "current", null), 
o([ i.action ], u.prototype, "switchToItem", null), t.EnterLeaveState = u;
}, function(e, t, n) {
"use strict";
var r, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(9), i = n(5), s = n(251);
!function(e) {
e[e.DoubleXp = 0] = "DoubleXp", e[e.Success = 1] = "Success", e[e.Info = 2] = "Info", 
e[e.Warning = 3] = "Warning", e[e.Danger = 4] = "Danger";
}(r = t.NoticeType || (t.NoticeType = {})), t.stringToNoticeType = function(e) {
switch (e) {
case "star":
return r.DoubleXp;

case "success":
return r.Success;

case "info":
return r.Info;

case "warn":
return r.Warning;

case "high":
return r.Danger;

default:
return r.Info;
}
};
var l = function(e) {
return e.type === r.DoubleXp;
}, u = function(e, t) {
return e.type < t.type ? 1 : e.type > t.type ? -1 : 0;
}, c = function() {
function e() {
this.notices = a.map(), this.doubleXpNotice = a.map();
}
return e.prototype.setNotices = function(e) {
var t = this;
Object.keys(e).forEach(function(n) {
var r = i.reject(e[n], l);
t.notices.set(n, r);
var o = i.find(e[n], l);
o && t.doubleXpNotice.set(n, o);
});
}, e.prototype.isNoticeAvailable = function(e) {
return s.store.isMandatoryUpdateInstalled ? !0 : this.getNotice(e) ? !0 : !1;
}, e.prototype.getNotice = function(e) {
var t = this.notices.get(e) || [], n = t.sort(u);
return n[0] || null;
}, e.prototype.getDoubleXpNotice = function(e) {
return this.doubleXpNotice.get(e) || null;
}, e;
}();
o([ a.action ], c.prototype, "setNotices", null), t.store = new c();
}, function(e, t, n) {
(function(e) {
"use strict";
var r, o = n(1), a = n(3), i = n(62), s = n(207), l = n(205), u = n(11), c = n(8), p = n(16), f = n(10).observer, d = e.get("TunguskaCloudTransition"), h = u.bbOfflineUrl("/sparta/assets/tunguska/animations/background_transition_clouds-fedb40b8.png"), y = {
w: 1e3,
h: 540
}, g = u.bbOfflineUrl("/sparta/assets/tunguska/UI_Globe_WarStories_EpisodeBack_Whoosh-f6614d1a.wav"), m = u.bbOfflineUrl("/sparta/assets/tunguska/Sparta_Whoosh_Up-1eac9f4c.wav"), b = u.bbOfflineUrl("/sparta/assets/tunguska/Sparta_Whoosh_Down-ebbd3dac.wav");
!function(e) {
e[e.earth = 0] = "earth", e[e.clouds = 1] = "clouds", e[e.space = 2] = "space";
}(r = t.CloudTransitionState || (t.CloudTransitionState = {}));
var v;
!function(e) {
e[e.down = 0] = "down", e[e.up = 1] = "up", e[e.planet = 2] = "planet";
}(v = t.CloudTransitionSound || (t.CloudTransitionSound = {}));
var _ = f(function(e) {
var t = Math.round(e.scale * y.w * i.uiState.viewportScale.scaleX), n = Math.round(e.scale * y.h * i.uiState.viewportScale.scaleY), r = -(t - i.uiState.window.width) / 2, a = {
width: t,
height: n,
left: r,
top: -n,
position: "absolute",
texture: h,
opacity: 1,
zOffset: 1e6,
enableMouseEvents: !1,
translateY: e.yTween.getStyle()
};
return o.createElement("surface", {
style: a
});
}), S = f(function(e) {
var t = {
width: i.uiState.window.width,
height: i.uiState.window.height,
left: 0,
top: 0,
position: "absolute",
backgroundColor: "#ffffff",
opacity: e.opacityTween.getStyle(),
zOffset: 1e6,
enableMouseEvents: !1
};
return o.createElement("surface", {
style: t
});
}), T = f(function(e) {
var t = 6 * i.uiState.window.height, n = {
width: i.uiState.window.width,
height: t,
top: -t,
left: 0,
zOffset: -2e3,
position: "absolute",
backgroundColor: l.backgroundContainer.getSkyColor() || "#657790",
enableMouseEvents: !1,
opacity: e.opacityTween.getStyle()
};
return o.createElement("surface", {
style: n
});
}), w = 1;
t.gameViewTweenY = p.Animation.tween("41adda09:93", 0), t.gameBackgroundTweenY = p.Animation.tween("41adda09:94", 0);
var E = function() {}, I = function() {
function e() {
this.debug = !1, this.resizeListener = null, this.whiteFadeOpacityTween = p.Animation.tween("41adda09:104", 0), 
this.skyOpacityTween = p.Animation.tween("41adda09:105", 1), this.id = w++, this.yTweenCloud1 = p.Animation.tween("41adda09:111", 0), 
this.yTweenCloud2 = p.Animation.tween("41adda09:112", 0), this.planetTransitionSound = a.Sound.load(g), 
this.cloudTransitionSoundUp = a.Sound.load(m), this.cloudTransitionSoundDown = a.Sound.load(b), 
this._state = r.earth, this._destination = r.earth, this.currentTransitionTimeouts = [], 
this.sky = o.createElement(T, {
key: "sky" + this.id,
opacityTween: this.skyOpacityTween
}), this.whiteFade = o.createElement(S, {
key: "whitefade" + this.id,
opacityTween: this.whiteFadeOpacityTween
}), this.cloud1 = o.createElement(_, {
key: "cloud1" + this.id,
scale: 7,
yTween: this.yTweenCloud1
}), this.cloud2 = o.createElement(_, {
key: "cloud2" + this.id,
scale: 4,
yTween: this.yTweenCloud2
});
}
return e.prototype.log = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.debug && d.log.apply(d, [ e ].concat(t));
}, Object.defineProperty(e.prototype, "state", {
get: function() {
return this._state;
},
enumerable: !0,
configurable: !0
}), e.prototype.flyToSpace = function(e) {
var t = this;
return void 0 === e && (e = E), this.log("flyToSpace - currentState: " + this._state + ", currentDestination: " + this._destination + ", newDestination: " + r.space), 
this._destination === r.space ? (this.log("Transition ignored."), void d.warn("Calling flyToSpace while already in/going to space")) : (this.resizeListener || (this.resizeListener = this.onResize()), 
this.stopTransition(), this._destination = r.space, this.playSound(v.planet), void this.moveFromEarthToClouds(function() {
s.globeState.show(), t.zoomFromCloudsToSpace(1500, e);
}));
}, e.prototype.landOnEarth = function(e, t) {
var n = this;
return void 0 === e && (e = E), void 0 === t && (t = v.down), this.log("landOnEarth - currentState: " + this._state + ", currentDestination: " + this._destination + ", newDestination: " + r.earth), 
this._destination === r.earth ? (this.log("Transition ignored."), void d.warn("Calling landOnEarth while already on/going to earth")) : (this.stopTransition(), 
void (this._state === r.space || this._destination === r.space ? (this._destination = r.earth, 
this.playSound(v.planet), this.zoomFromSpaceToClouds(1e3, function() {
n.moveFromCloudsToEarth(e);
})) : (this._state === r.clouds || this._destination === r.clouds) && (this._destination = r.earth, 
this.playSound(t), this.moveFromCloudsToEarth(e))));
}, e.prototype.flyToClouds = function(e, t) {
return void 0 === e && (e = E), void 0 === t && (t = v.up), this.log("flyToClouds - currentState: " + this._state + ", currentDestination: " + this._destination + ", newDestination: " + r.clouds), 
this._destination === r.clouds ? (this.log("Transition ignored."), void d.warn("Calling flyToClouds while already in/going to clouds")) : (this.resizeListener || (this.resizeListener = this.onResize()), 
this.stopTransition(), this._destination = r.clouds, this.playSound(t), void this.moveFromEarthToClouds(function() {
e();
}));
}, e.prototype.setToEarth = function(e) {
void 0 === e && (e = {
changeGlobe: !0
}), this.log("SET EARTH"), this.stopTransition(), this._state = r.earth, this._destination = r.earth, 
t.gameViewTweenY.set(0), t.gameBackgroundTweenY.set(0), c.comCenterState.translateY.set(0), 
i.uiState.layout.reactComponent.tweenTranslateY.set(0), this.skyOpacityTween.set(0), 
this.yTweenCloud1.set(0), this.yTweenCloud2.set(0), this.whiteFadeOpacityTween.set(0), 
e.changeGlobe && (s.globeState.hide(), s.globeState.setOffViewport());
}, e.prototype.setToSpace = function(e) {
void 0 === e && (e = r.space), this.log("SET TO SPACE", e), this.stopTransition(), 
this._state = e, this._destination = e, i.uiState.layout.reactComponent.tweenTranslateY.autorun(function(e) {
return e.set(6 * i.uiState.window.height);
}), t.gameViewTweenY.autorun(function(e) {
return e.set(-6 * i.uiState.window.height * (1 / i.uiState.viewportScale.scaleY));
}), t.gameBackgroundTweenY.autorun(function(e) {
return e.set(-6 * i.uiState.window.height);
}), c.comCenterState.translateY.autorun(function(e) {
return e.set(-6 * i.uiState.window.height * (1 / i.uiState.viewportScale.scaleY));
}), this.skyOpacityTween.set(0), this.yTweenCloud1.set(-200), this.yTweenCloud2.set(800), 
s.globeState.show(), s.globeState.setOnClouds();
}, e.prototype.fadeOutFromWhite = function(e, t) {
void 0 === t && (t = E), this.whiteFadeOpacityTween.to(0, {
duration: e
}), this.currentTransitionTimeouts.push(setTimeout(function() {
return t();
}, e));
}, e.prototype.stopTransition = function() {
this.currentTransitionTimeouts.forEach(function(e) {
clearTimeout(e);
}), this.currentTransitionTimeouts = [];
}, e.prototype.moveFromEarthToClouds = function(e) {
var n = this;
this.log("EARTH ---> CLOUDS"), s.globeState.setOnClouds();
var o = 1e3, u = 300, p = 1e3;
c.inputStore.blockInputFor(o + u);
var f = 6 * -i.uiState.window.height * (1 / i.uiState.viewportScale.scaleY), d = 6 * -i.uiState.window.height;
i.uiState.layout.extra.addElements([ this.whiteFade ]), l.backgroundContainer.extra.addElements([ this.sky, this.cloud1, this.cloud2 ]), 
this.skyOpacityTween.set(1), this.currentTransitionTimeouts.push(setTimeout(function() {
a.TweenBatching.start(), i.uiState.layout.reactComponent.tweenTranslateY.to(6 * i.uiState.window.height, {
duration: p,
easing: "CubicIn"
}), t.gameViewTweenY.to(f, {
duration: p,
easing: "CubicIn"
}), t.gameBackgroundTweenY.set(d), c.comCenterState.translateY.to(f, {
duration: p,
easing: "CubicIn"
}), a.TweenBatching.stop(), n.yTweenCloud1.to(-200, {
duration: p,
easing: "CubicIn"
});
}, 300)), this.yTweenCloud2.to(800, {
duration: p,
easing: "CubicIn"
}), this.currentTransitionTimeouts.push(setTimeout(function() {
n.fadeToWhite(300, function() {
n.skyOpacityTween.set(0), n.yTweenCloud2.set(600), n._state = r.clouds, e();
});
}, o));
}, e.prototype.moveFromCloudsToEarth = function(e) {
var n = this;
this.log("CLOUDS ---> EARTH");
var o = 300, u = 1e3;
c.inputStore.blockInputFor(o + u), i.uiState.layout.extra.addElements([ this.whiteFade ]), 
l.backgroundContainer.extra.addElements([ this.sky, this.cloud1, this.cloud2 ]), 
this.fadeToWhite(o, function() {
s.globeState.hide(), n.fadeOutFromWhite(o), n.skyOpacityTween.set(1), n.yTweenCloud1.to(0, {
duration: u,
easing: "CubicOut"
}), n.currentTransitionTimeouts.push(setTimeout(function() {
n.yTweenCloud2.to(0, {
duration: u,
easing: "CubicOut"
});
}, 600)), a.TweenBatching.start(), i.uiState.layout.reactComponent.tweenTranslateY.to(0, {
duration: u,
easing: "CubicOut"
}), t.gameViewTweenY.to(0, {
duration: u,
easing: "CubicOut"
}), t.gameBackgroundTweenY.set(0), c.comCenterState.translateY.to(0, {
duration: u,
easing: "CubicOut"
}), a.TweenBatching.stop(), n.currentTransitionTimeouts.push(setTimeout(function() {
n._state = r.earth, n.skyOpacityTween.set(0), s.globeState.setOffViewport(), n.currentTransitionTimeouts.push(setTimeout(function() {
a.focus.system.focusedItem || a.focus.system.recalculate();
}, 100));
}, u)), e();
});
}, e.prototype.zoomFromCloudsToSpace = function(e, t) {
var n = this;
return this._state !== r.clouds ? void t() : (this.log("CLOUDS ---> SPACE"), c.inputStore.blockInputFor(e), 
s.globeState.moveToSpace({
duration: e,
easing: "CubicOut"
}), this.fadeOutFromWhite(400), void this.currentTransitionTimeouts.push(setTimeout(function() {
n._state = r.space, t();
}, e)));
}, e.prototype.zoomFromSpaceToClouds = function(e, t) {
var n = this;
return this._state !== r.space ? void t() : (this.log("SPACE ---> CLOUDS"), c.inputStore.blockInputFor(e), 
s.globeState.moveToClouds({
duration: e,
easing: "CubicIn"
}), this.currentTransitionTimeouts.push(setTimeout(function() {
n.fadeToWhite(200);
}, e - 200)), void this.currentTransitionTimeouts.push(setTimeout(function() {
n._state = r.clouds, t();
}, e)));
}, e.prototype.fadeToWhite = function(e, t) {
void 0 === t && (t = E), this.whiteFadeOpacityTween.to(1, {
duration: e
}), this.currentTransitionTimeouts.push(setTimeout(function() {
return t();
}, e));
}, e.prototype.playSound = function(e) {
switch (e) {
case v.down:
this.cloudTransitionSoundDown.setVolume(.6), this.cloudTransitionSoundDown.play();
break;

case v.up:
this.cloudTransitionSoundUp.setVolume(.6), this.cloudTransitionSoundUp.play();
break;

case v.planet:
this.planetTransitionSound.setVolume(.5), this.planetTransitionSound.play();
}
}, e.prototype.onResize = function() {
switch (this.log("onResize", this._state), this._state) {
case r.clouds:
case r.space:}
}, e;
}();
t.cloudTransition = new I();
}).call(t, n(97));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(3), i = n(10), s = n(9), l = n(11), u = n(16), c = n(308), p = n(54), f = n(6), d = n(852), h = n(172), y = h.CARD_WIDTH, g = h.CARD_HEIGHT, m = n(13), b = n(12), v = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, _ = {
position: "absolute",
top: 0,
right: 0,
left: 0
};
t.tweenInOptions = u.Animation.presets.focusables.enter.fast, t.tweenOutOptions = u.Animation.presets.focusables.leave, 
t.activeBackgroundScaleIncrease = SpartaGlobals.bundleIsConsole ? .05 : 0;
var S = f.GUTTER, T = {
container: function(e, n, r, o, a) {
var i, s;
return o && (i = f.getWidth(y.cells[o]), s = f.getHeight(g.cells[o])), Object.assign({
width: i,
height: s,
backgroundColor: r,
opacity: u.Animation.tweenSwitch(0, 1, e, t.tweenInOptions, t.tweenOutOptions),
marginRight: f.GUTTER,
marginBottom: f.GUTTER,
layer: !0,
layerClip: !0,
zOffset: n ? 10 : 0
}, a);
},
top: {
flex: 1,
layer: !0,
layerClip: !0
},
texture: function(e, n, r, o, a, i) {
void 0 === n && (n = {});
var s = n.textureScale || o || 1;
return i && (s += .1), t.activeBackgroundScaleIncrease > 0 && (s = u.Animation.tweenSwitch(s, s + t.activeBackgroundScaleIncrease, e, t.tweenInOptions, t.tweenOutOptions)), 
Object.assign({}, n, {
textureMode: "cover",
textureOffsetY: u.Animation.tweenSwitch(0, -f.GUTTER, e, t.tweenInOptions, t.tweenOutOptions),
textureScale: s,
grayScale: a && !r ? 1 : 0
});
},
backgroundShade: function() {
return {
zOffset: 1,
textureMode: "fill",
texture: l.bbOfflineUrl("/sparta/jsclient/builds/assets/card-gradient-active-news-abc6b204.png")
};
},
content: [ v, {
flex: 1,
zOffset: 3,
padding: 3 * f.GUTTER
} ],
highlight: function(e) {
return {
minHeight: u.Animation.tweenSwitch(0, S, e, t.tweenInOptions, t.tweenOutOptions),
zOffset: 2,
justifyContent: "flex-end"
};
},
bottom: {
padding: 3 * f.GUTTER
},
blind: function(e, n, r) {
return {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
backgroundColor: r,
height: u.Animation.tweenSwitch(0, n, e, t.tweenInOptions, t.tweenOutOptions)
};
},
fold: function(e, n) {
return {
marginBottom: e ? u.Animation.tweenSwitch(-e, 0, n, t.tweenInOptions, t.tweenOutOptions) : 0
};
},
overlay: [ v, {
enableMouseEvents: !1,
zOffset: 4
} ],
dimmer: function(e) {
return [ v, {
enableMouseEvents: !1,
backgroundColor: "#000000",
opacity: u.Animation.tweenSwitch(0, .5, e, t.tweenInOptions, t.tweenOutOptions),
zOffset: 5
} ];
}
}, w = function(n) {
function r(e) {
var t = n.call(this, e) || this;
return t.width = 0, t.height = 0, t.foldHeight = 0, t.bottomHeight = 0, t.contentTextColorTween = u.Animation.tween("3132c7f8:322", "#ffffff"), 
t.bottomTextColorTween = u.Animation.tween("3132c7f8:323", "#ffffff"), t.highlightColorTween = u.Animation.tween("3132c7f8:324", t.props.inactiveHighlightColor), 
t.focusItem = t.props.focusItem || a.focus.create(t, a.autoId("card")), t.stopTweening = s.reaction(function() {
return [ t.isActive, t.hasBackground ];
}, function() {
return t.updateTweens();
}), t.focusItem.onFocus(function() {
t.props.onFocus && t.props.onFocus();
}), t.focusItem.onBlur(function() {
t.props.onBlur && t.props.onBlur();
}), t.updateActiveOverride(e.forcedActive, e.enabled), t;
}
return e(r, n), Object.defineProperty(r.prototype, "isBoundsReady", {
get: function() {
return 0 !== this.width && 0 !== this.height;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(r.prototype, "isActive", {
get: function() {
return void 0 !== this.isActiveOverride ? this.isActiveOverride : this.focusItem.isFocused || this.focusItem.isHovered;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(r.prototype, "scaleValues", {
get: function() {
var e = 2 * f.GUTTER;
return {
scaleX: {
from: 1,
to: 0 === this.width ? 1 : (this.width + e) / this.width
},
scaleY: {
from: 1,
to: 0 === this.height ? 1 : (this.height + e) / this.height
}
};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(r.prototype, "backgroundHeight", {
get: function() {
return this.height - this.bottomHeight;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(r.prototype, "backgroundUrls", {
get: function() {
return this.props.background ? "string" == typeof this.props.background ? [ this.props.background ] : this.props.background : [];
},
enumerable: !0,
configurable: !0
}), r.prototype.setSize = function(e, t) {
this.width = e, this.height = t;
}, r.prototype.setFoldHeight = function(e) {
this.foldHeight = e;
}, r.prototype.setBottomHeight = function(e) {
this.bottomHeight = e;
}, r.prototype.updateActiveOverride = function(e, t) {
t ? e ? this.isActiveOverride = !0 : this.isActiveOverride = void 0 : this.isActiveOverride = !1;
}, r.prototype.getInput = function() {
return this.props.input ? this.props.input : this.props.onPress ? new m({
label: __("ID_SPARTA_ACTION_SELECT"),
action: this.props.onPress,
blockInputFor: 500,
key: b.Accept
}) : void 0;
}, r.prototype.componentWillReceiveProps = function(e) {
this.updateActiveOverride(e.forcedActive, e.enabled);
}, r.prototype.componentDidUpdate = function() {
this.updateTweens();
}, r.prototype.componentWillUnmount = function() {
this.contentTextColorTween.destroy(), this.bottomTextColorTween.destroy(), this.highlightColorTween.destroy(), 
this.stopTweening();
}, Object.defineProperty(r.prototype, "hasBackground", {
get: function() {
return this.backgroundUrls.length || void 0 !== this.props.backgroundVideo ? !0 : !1;
},
enumerable: !0,
configurable: !0
}), r.prototype.updateTweens = function() {
var e = this.isActive ? t.tweenInOptions : t.tweenOutOptions;
this.contentTextColorTween.to(this.isActive && !this.hasBackground ? "#000000" : "#ffffff", e), 
this.bottomTextColorTween.to(this.isActive ? "#000000" : "#ffffff", e), this.highlightColorTween.to(this.isActive ? this.props.activeHighlightColor : this.props.inactiveHighlightColor, e);
}, r.prototype.renderBackground = function() {
var e = this, t = this.backgroundUrls.length > 1, n = Object.assign({
height: this.backgroundHeight
}, _), r = T.texture(this.isActive, this.props.backgroundStyle, this.props.enabled, this.props.backgroundScale, this.props.useGrayScale, t);
if (t) return o.createElement(d, {
style: n,
textures: this.backgroundUrls,
textureStyle: r
});
var a = Object.assign({
texture: this.backgroundUrls[0]
}, n, r);
return void 0 !== this.props.backgroundVideo ? o.createElement(E, {
ref: function(t) {
return e.video = t;
},
style: a,
isActive: this.isActive,
source: this.props.backgroundVideo,
option: this.props.backgroundVideoOption
}) : o.createElement("surface", {
style: a
});
}, r.prototype.render = function() {
var e, t = this, n = this.props.bottom && o.createElement(c, {
style: T.bottom,
onBoundsChanged: function(e) {
return t.setBottomHeight(e.height);
}
}, this.props.bottom), r = this.props.fold && o.createElement(c, {
style: T.fold(this.foldHeight, this.isActive),
onBoundsChanged: function(e) {
return t.setFoldHeight(e.height);
}
}, this.props.fold), a = this.hasBackground && this.props.backgroundShade && o.createElement("surface", {
style: [ {
height: this.backgroundHeight
}, _, T.backgroundShade() ]
}), i = this.props.overlay && o.createElement("surface", {
style: T.overlay
}, this.props.overlay), s = this.highlightColorTween.getStyle();
if (SpartaGlobals.bundleIsConsole) {
var l = this.hasBackground ? this.foldHeight + this.bottomHeight || S : this.height;
s = this.props.inactiveHighlightColor, e = o.createElement("surface", {
style: T.blind(this.isActive, l, this.props.activeHighlightColor)
});
}
return o.createElement(p, {
focusItem: this.focusItem,
input: this.getInput(),
scale: SpartaGlobals.bundleIsConsole,
scaleValues: this.scaleValues,
triggerMode: this.props.triggerMode,
style: T.container(this.isBoundsReady, this.isActive, s, this.props.size, this.props.style)
}, o.createElement("surface", {
style: T.top
}, this.renderBackground(), a, o.createElement(I, {
style: T.content,
color: this.contentTextColorTween.getStyle()
}, o.createElement("surface", {
style: {
flex: 1,
justifyContent: "flex-end"
}
}, this.props.children))), o.createElement(I, {
style: T.highlight(this.isActive),
color: this.bottomTextColorTween.getStyle()
}, n, r), e, i, o.createElement(c, {
style: T.dimmer(!this.props.enabled),
onBoundsChanged: function(e) {
return t.setSize(e.width, e.height);
}
}));
}, r;
}(o.Component);
w.defaultProps = {
size: "M",
enabled: !0,
backgroundScale: 1,
backgroundShade: !0,
backgroundVideoOption: "focus",
activeHighlightColor: "#ffffff",
inactiveHighlightColor: "#00000085"
}, r([ s.observable ], w.prototype, "width", void 0), r([ s.observable ], w.prototype, "height", void 0), 
r([ s.observable ], w.prototype, "foldHeight", void 0), r([ s.observable ], w.prototype, "bottomHeight", void 0), 
r([ s.observable ], w.prototype, "isActiveOverride", void 0), r([ s.computed ], w.prototype, "isBoundsReady", null), 
r([ s.computed ], w.prototype, "isActive", null), r([ s.computed ], w.prototype, "scaleValues", null), 
r([ s.computed ], w.prototype, "backgroundHeight", null), r([ s.action ], w.prototype, "setSize", null), 
r([ s.action ], w.prototype, "setFoldHeight", null), r([ s.action ], w.prototype, "setBottomHeight", null), 
r([ s.action ], w.prototype, "updateActiveOverride", null), w = r([ i.observer ], w), 
t.Card = w;
var E = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.isPlaying = !1, n.reactToChanges({
source: void 0
}, e), n;
}
return e(n, t), n.prototype.componentWillUpdate = function(e) {
this.reactToChanges(this.props, e);
}, n.prototype.componentWillUnmount = function() {
this.stop();
}, n.prototype.reactToChanges = function(e, t) {
t.source !== e.source && (this.stop(), this.updateVideo(t.source)), t.isActive !== e.isActive && "focus" === t.option && (t.isActive ? this.play() : this.stop());
}, n.prototype.updateVideo = function(e) {
this.video = "string" == typeof e ? a.video.loadVideo(e) : e, this.video.setVolume(0), 
"auto" === this.props.option && this.play();
}, n.prototype.play = function() {
this.video && (this.isPlaying = !0, this.video.play());
}, n.prototype.stop = function() {
this.video && (this.isPlaying = !1, this.video.stop());
}, n.prototype.render = function() {
return o.createElement("surface", {
style: [ this.props.style, {
video: this.isPlaying ? this.video.id : void 0
} ]
});
}, n;
}(o.Component);
r([ s.observable ], E.prototype, "video", void 0), r([ s.observable ], E.prototype, "isPlaying", void 0), 
r([ s.action ], E.prototype, "updateVideo", null), r([ s.action ], E.prototype, "play", null), 
r([ s.action ], E.prototype, "stop", null), E = r([ i.observer ], E);
var I = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.getChildContext = function() {
return {
color: this.props.color
};
}, n.prototype.render = function() {
return o.createElement("surface", {
style: this.props.style
}, this.props.children);
}, n;
}(o.Component);
I.childContextTypes = {
color: o.PropTypes.any
};
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = {
cells: {
SSL: 12,
XL: 6,
L: 10,
SSM: 6,
M: 5,
S: 4,
SW: 5.75
},
parts: {
S: 8
}
}, o = {
cells: {
SSL: 55,
XL: 55,
L: 45,
SSM: 55,
M: 45,
S: 34,
SW: 22
},
parts: {
S: 3.4
}
}, a = {
cells: {
SSL: 9.6,
XL: 6,
L: 8,
SSM: 4.8,
M: 4,
S: 5,
SW: 5.75
},
parts: {
S: 8
}
}, i = {
cells: {
SSL: 43.5,
XL: 55,
L: 35.5,
SSM: 43.5,
M: 35.5,
S: 22,
SW: 22
},
parts: {
S: 3.55
}
};
t.CARD_WIDTH = SpartaGlobals.bundleIsPC ? a : r, t.CARD_HEIGHT = SpartaGlobals.bundleIsPC ? i : o;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(3), s = n(10), l = n(9), u = n(171), c = n(66), p = n(7).Text, f = n(6), d = n(37).LINE_HEIGHTS, h = n(172).CARD_WIDTH, y = n(316), g = n(135), m = n(13), b = n(12), v = n(20), _ = n(732), S = n(30), T = S.isRTLLanguage, w = S.localeRearrange, E = 3, I = 57, C = 13, A = {
heading: {
position: "absolute",
bottom: 0,
left: 0,
zOffset: 51
},
headingColor: {
opacity: .66
},
type: {
opacity: .8,
textAlignForRTL: "left"
},
custom: {
color: [ 255, 153, 0, 255 ]
},
text: {
textLineSpacing: d.S
},
textRTL: {
textAlignForRTL: "left",
flex: 1
},
avatarContainer: {
flexDirection: "row",
flexWrap: "wrap",
marginTop: 10,
zOffset: 51,
marginBottom: f.GUTTER
},
avatar: {
backgroundColor: [ 0, 0, 0, 124 ],
marginRight: f.GUTTER / 2
},
infoZone: {
height: f.getHeight(C),
zOffset: 51
},
joinButton: {
marginTop: 1.5 * f.GUTTER,
marginBottom: 1.5 * f.GUTTER,
flexDirection: "row",
textAlign: "center",
textAlignForRTL: "center"
},
hrLine: {
height: 1,
flexDirection: "row",
backgroundColor: "#0000001a"
},
contextMenu: {
zOffset: 52,
width: 21
},
bottomRowContainer: function(e) {
return {
alignItems: "center",
justifyContent: "space-between",
flexDirection: "row"
};
}
};
A.secondaryText = Object.assign({}, A.text, {
opacity: .65
});
var P = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.isContextMenuOpen = !1, n.focusItem = e.focusItem || i.focus.create(n, i.autoId("playCard")), 
n;
}
return e(n, t), Object.defineProperty(n.prototype, "isActive", {
get: function() {
return this.focusItem.isFocused || this.focusItem.isHovered || this.isContextMenuOpen;
},
enumerable: !0,
configurable: !0
}), n.prototype.getInput = function() {
var e = this;
return this.isContextMenuOpen ? new m({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: b.Decline,
action: function() {
return e.contextMenu.close();
}
}) : void 0;
}, n.prototype.componentDidUpdateBounds = function() {
this.previousBounds && this.previousBounds.height === this.bounds.height || (this.previousBounds = this.bounds, 
this.forceUpdate());
}, n.prototype.renderInfoZone = function(e) {
var t = T() ? c.Direction.Left : c.Direction.Right, n = T() ? {
textLineSpacing: d.S + f.GUTTER / 2
} : {}, r = this.props.modes ? a.createElement(c.Marquee, {
scroll: e,
scrollTo: t,
style: {
flex: 1
}
}, a.createElement(p, {
value: this.props.modes,
style: [ A.text, n ],
type: "emphasis",
size: "S"
})) : void 0, o = this.props.maps ? a.createElement(c.Marquee, {
scroll: e,
scrollTo: t,
style: {
flex: 1
}
}, a.createElement(p, {
value: this.props.maps,
style: A.text,
type: "emphasis",
size: "S"
})) : void 0;
return a.createElement("surface", null, r, o);
}, n.prototype.renderFriendNames = function(e, t) {
if (1 === e.length && 0 === t.length) return e[0].displayName;
var n = e.map(function(e) {
return e.displayName;
});
return t.length ? __("ID_SPARTA_GENERIC_X_AND_Y_MORE").replace("[[x]]", n.join(", ")).replace("[[y]]", t.length + "") : __("ID_SPARTA_GENERIC_X_AND_Y").replace("[[x]]", n.slice(0, n.length - 1).join(", ")).replace("[[y]]", n[n.length - 1]);
}, n.prototype.renderFriendAvatars = function(e) {
var t = e.map(function(e, t) {
return a.createElement(g, {
user: e,
key: t,
size: I,
style: A.avatar
});
});
return a.createElement("surface", {
style: A.avatarContainer
}, t);
}, n.prototype.renderHeading = function() {
var e, t = this.props.heading.toUpperCase();
if (this.props.friends.length > 0) {
var n = this.props.friends.slice(0, E), r = this.props.friends.slice(E);
t += " - " + this.renderFriendNames(n, r), e = this.renderFriendAvatars(n);
}
var o = this.props.custom && a.createElement(p, {
value: __("ID_SPARTA_SERVER_TYPE_CUSTOM_GAME"),
size: "XS",
style: [ A.custom, A.textRTL ]
}), i = Object.assign({}, A.type, this.props.headingColor ? {
color: this.props.headingColor
} : A.headingColor), s = t ? a.createElement(p, {
value: t,
type: "emphasis",
size: "XS",
style: i
}) : void 0;
return a.createElement("surface", {
style: A.heading
}, e, o, s);
}, n.prototype.renderBottom = function() {
var e = this, t = this.props.contextMenu ? a.createElement(y, {
key: "contextMenuButton",
ref: function(t) {
return e.contextMenu = t;
},
dark: this.isActive,
position: {
x: this.bounds.x,
y: this.bounds.y + this.bounds.height
},
options: this.props.contextMenu.options,
style: A.contextMenu,
onOpen: l.action(function() {
return e.isContextMenuOpen = !0;
}),
onClose: l.action(function() {
return e.isContextMenuOpen = !1;
}),
menuWidth: f.getWidth(h.cells[this.props.size])
}) : void 0, n = this.props.counterId ? a.createElement(_, {
key: "serverCount",
style: Object.assign({}, A.secondaryText, {
zOffset: 1
}),
gameId: this.props.game,
size: "XS",
counterId: this.props.counterId
}) : void 0, r = this.props.playersInfo ? a.createElement(p, {
key: "playersInfo",
value: this.props.playersInfo,
style: [ A.text, A.textRTL ],
size: "S"
}) : void 0, o = this.props.filters && a.createElement(p, {
size: "XS",
value: this.props.filters,
style: A.secondaryText
});
return a.createElement("surface", null, this.renderInfoZone(this.isActive), o, a.createElement("surface", {
style: A.bottomRowContainer(this.isActive, this.bottomRowHeight)
}, w([ r, n, t ])));
}, n.prototype.renderFold = function() {
return this.props.joinButtonName && a.createElement("surface", null, a.createElement("surface", {
style: A.hrLine
}), a.createElement(p, {
value: this.props.joinButtonName,
style: A.joinButton,
type: "emphasis",
size: "S"
}));
}, n.prototype.render = function() {
return a.createElement(u.Card, r({}, this.props, {
forcedActive: this.isContextMenuOpen,
focusItem: this.focusItem,
bottom: this.renderBottom(),
fold: this.renderFold()
}), this.renderHeading());
}, n;
}(a.Component);
P.defaultProps = {
size: "M",
friends: [],
custom: !1
}, o([ l.observable ], P.prototype, "isContextMenuOpen", void 0), o([ l.observable ], P.prototype, "bottomRowHeight", void 0), 
o([ l.computed ], P.prototype, "isActive", null), P = o([ i.hasSurfaceBounds(), s.observer, v() ], P), 
t.PlayCard = P;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(7).Text, i = (n(37).LINE_HEIGHTS, n(11)), s = {
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
textureAlign: [ 0, .5 ],
textureScale: [ 8096, 1 ],
textureMode: "none",
texture: i.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png")
}, l = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.render = function() {
var e = Object.assign({}, s, {
color: this.props.color ? this.props.color : "#ffffff"
});
return o.createElement("surface", null, o.createElement(a, {
value: this.props.value,
size: this.props.size,
color: this.props.color,
section: this.props.section
}), o.createElement("surface", {
style: e
}));
}, t;
}(o.Component);
t.Strikethrough = l;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(88), i = n(1), s = n(9), l = n(10).observer, u = n(168), c = n(144), p = n(3), f = n(16), d = n(5), h = n(27), y = n(6), g = n(480), m = n(17), b = n(18), v = function() {
function e(e, t) {
this.index = e, this.tab = t;
}
return e;
}(), _ = function(e) {
function t(t, n) {
var r = e.call(this) || this;
return r.name = t, r.content = null, r.setContent(n), r;
}
return r(t, e), t.prototype.setContent = function(e) {
this.content = e;
}, t.prototype.contentEquals = function(e) {
return !!this.content && this.content.index === e.index;
}, t;
}(u.ItemState);
o([ s.observable ], _.prototype, "content", void 0), o([ s.action ], _.prototype, "setContent", null);
var S = function(e) {
function t(t, n) {
for (var r = [], o = 2; o < arguments.length; o++) r[o - 2] = arguments[o];
var a = e.apply(this, [ n ].concat(r)) || this;
return a.viewComponentState = t, a;
}
return r(t, e), Object.defineProperty(t.prototype, "leftToRight", {
get: function() {
return this.previous && this.current && this.previous.content && this.current.content ? this.previous.content.index > this.current.content.index : !1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "activeTabIndex", {
get: function() {
return this.current && this.current.content ? this.current.content.index : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "activeTab", {
get: function() {
return this.current && this.current.content && this.current.content.tab;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "location", {
get: function() {
return this.viewComponentState && this.viewComponentState.aggregate && this.viewComponentState.aggregate.location;
},
enumerable: !0,
configurable: !0
}), t.prototype.setActiveTab = function(e, t, n) {
if (!this.activeTab || this.activeTabIndex !== e) {
this.switchToItem(new v(e, t[e]));
var r = this.location;
n && r && this.activeTab && (0 === e && r.path ? r = new a.Location(r.path) : r.args && r.args.tab !== this.activeTab.name && (r = new a.Location(r.path + "?tab=" + this.activeTab.name)), 
b.updateLocation(r));
}
}, t;
}(u.EnterLeaveState);
o([ s.computed ], S.prototype, "leftToRight", null), o([ s.computed ], S.prototype, "activeTabIndex", null), 
o([ s.computed ], S.prototype, "activeTab", null), o([ s.computed ], S.prototype, "location", null), 
o([ s.action ], S.prototype, "setActiveTab", null);
var T = {
header: {
flex: 1,
flexDirection: "row",
justifyContent: "space-between"
},
contentHeader: {
flexDirection: "row",
alignSelf: "center",
height: y.getHeight(2.4)
}
}, w = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.tweens = {
translateX: f.Animation.tween("TabslotTranlateX", 0)
}, t;
}
return r(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.dispose = s.reaction(function() {
return e.props.item.currentState;
}, function() {
var t = e.props.item;
e.handleSlideOutOrIn(t.previousState, t.currentState);
});
}, t.prototype.handleSlideOutOrIn = function(e, t) {
var n = this, r = s.untracked(function() {
return n.props.tabbedTemplate.leftToRight;
}) ? -1 : 1;
t === u.EnterLeaveStates.LEAVING && this.tweens.translateX.to(-1920 * r), t === u.EnterLeaveStates.ENTERING && (e !== u.EnterLeaveStates.IDLE ? this.tweens.translateX.to(0) : this.tweens.translateX.transition(1920 * r, 0)), 
t === u.EnterLeaveStates.ACTIVE && this.tab && this.tab.onSelect && this.tab.onSelect();
}, Object.defineProperty(t.prototype, "tab", {
get: function() {
return this.props.item.content && this.props.item.content.tab;
},
enumerable: !0,
configurable: !0
}), t.prototype.componentWillUnmount = function() {
this.dispose();
}, t.prototype.render = function() {
var e = this.tab;
if (!e) return null;
if (!this.props.item.isVisible) return null;
var t = e.render ? e.render() : i.createElement(e.component, p.assign({}, e.props, {
key: e.name
})), n = {
width: m.content.width,
position: "absolute",
marginTop: this.props.topGutter ? y.GUTTER : 0,
translateX: this.tweens.translateX.getStyle()
};
return i.createElement("surface", {
style: n
}, t);
}, t;
}(i.Component);
w = o([ l ], w);
var E = l(function(e) {
var t = null;
if (e.header) t = e.header; else {
var n = e.tabbedTemplate.activeTab;
n && n.renderHeader && (t = n.renderHeader());
}
var r = p.assign({}, T.contentHeader, {
opacity: f.Animation.tweenSwitch(0, 1, t)
});
return i.createElement("surface", {
style: T.header
}, i.createElement(g, {
tabs: e.tabs,
activeTabIndex: e.tabbedTemplate.activeTabIndex,
onTabSelect: function(t) {
e.tabbedTemplate.setActiveTab(t, e.tabs, !0);
}
}), i.createElement("surface", {
style: r
}, t));
}), I = function(e) {
function t(t) {
return e.call(this, t) || this;
}
return r(t, e), t.prototype.componentWillMount = function() {
var e = this.props.tabs.map(function(e, t) {
return new _("slot" + t, null);
});
this.tabbedTemplate = new (S.bind.apply(S, [ void 0, this.context.viewComponentState, new v(0, null) ].concat(e)))();
var t = 0, n = this.tabbedTemplate.location;
if (n && n.args && n.args.tab) {
var r = d.find(this.props.tabs, function(e) {
return e.name === n.args.tab;
});
r && (t = this.props.tabs.indexOf(r));
}
this.handleTabSelected(t, !1);
}, t.prototype.handleTabSelected = function(e, t) {
void 0 === t && (t = !0), this.tabbedTemplate.setActiveTab(e, this.props.tabs, t);
}, t.prototype.render = function() {
var e = this, t = this.tabbedTemplate.items.map(function(t) {
return i.createElement(w, {
key: t.name,
topGutter: e.props.topGutter,
item: t,
tabbedTemplate: e.tabbedTemplate
});
}), n = i.createElement(E, {
tabbedTemplate: this.tabbedTemplate,
tabs: this.props.tabs,
header: this.props.header
});
return i.createElement(h, {
ref: "template",
tallContent: !0,
scrollContent: this.props.scrollContent,
header: n,
showDivider: this.props.showDivider
}, t);
}, t;
}(i.Component);
I.propTypes = {
tabs: i.PropTypes.arrayOf(i.PropTypes.shape({
name: i.PropTypes.string.isRequired,
title: i.PropTypes.any.isRequired,
component: i.PropTypes.element,
props: i.PropTypes.object,
onSelect: i.PropTypes.func
})),
header: i.PropTypes.element,
showDivider: i.PropTypes.bool,
topGutter: i.PropTypes.bool
}, I.contextTypes = {
viewComponentState: i.PropTypes.instanceOf(c.ViewComponentState).isRequired
}, I.defaultProps = {
scrollContent: !1,
topGutter: !0
}, t.TabbedTemplate = I;
}, function(e, t, n) {
"use strict";
var r = n(5), o = n(75), a = n(619), i = function() {
function e(e) {
if (void 0 === e && (e = {}), e = e || {}, this.userId = e.userId + "", this.state = e.state || o.UserPresenceStates.Offline, 
this.firstPartyState = e.firstPartyState || o.UserPresenceStates.Offline, this.text = e.text, 
this.server = e.server, !r.contains(r.values(o.UserPresenceStates), this.state)) throw Error("Unknown presence state: " + this.state);
this.state !== o.UserPresenceStates.Joinable || this.server || (this.state = o.UserPresenceStates.Playing), 
Object.freeze(this);
}
return e.getStateString = function(e) {
return a.getTranslatedPresence(e);
}, e.prototype.getStateString = function() {
return e.getStateString(this.state);
}, e.prototype.toString = function() {
return this.text || this.getStateString();
}, e;
}();
t.UserPresence = i;
}, function(e, t) {
"use strict";
var n;
!function(e) {
e[e.Left = 0] = "Left", e[e.Right = 1] = "Right", e[e.Up = 2] = "Up", e[e.Down = 3] = "Down";
}(n = t.Direction || (t.Direction = {}));
var r;
!function(e) {
e[e.HORIZONTAL = 1] = "HORIZONTAL", e[e.VERTICAL = 2] = "VERTICAL", e[e.WRAP_AROUND = 4] = "WRAP_AROUND", 
e[e.EDGE_STOP = 8] = "EDGE_STOP", e[e.REMEMBER_LAST_FOCUSED_MEMBER = 16] = "REMEMBER_LAST_FOCUSED_MEMBER", 
e[e.PREFER_FIRST_MEMBER_OVER_TARGET = 32] = "PREFER_FIRST_MEMBER_OVER_TARGET";
}(r = t.GroupBehavior || (t.GroupBehavior = {}));
var o;
!function(e) {
e[e.Spatial = 0] = "Spatial", e[e.Mouse = 1] = "Mouse", e[e.Auto = 2] = "Auto";
}(o = t.FocusSource || (t.FocusSource = {}));
}, function(e, t) {
"use strict";
var n;
!function(e) {
e[e.GET = 0] = "GET", e[e.POST = 1] = "POST";
}(n = t.HttpMethod || (t.HttpMethod = {}));
var r;
!function(e) {
e[e.onMouseDown = 0] = "onMouseDown", e[e.onMouseUp = 1] = "onMouseUp", e[e.onClick = 2] = "onClick", 
e[e.onDoubleClick = 3] = "onDoubleClick", e[e.onMouseScroll = 4] = "onMouseScroll", 
e[e.onMouseEnter = 5] = "onMouseEnter", e[e.onMouseLeave = 6] = "onMouseLeave";
}(r = t.MouseEventType || (t.MouseEventType = {}));
var o;
!function(e) {
e[e.onBoundsChanged = 7] = "onBoundsChanged";
}(o = t.OtherEventType || (t.OtherEventType = {}));
var a;
!function(e) {
e[e.None = -1] = "None", e[e.Primary = 0] = "Primary", e[e.Secondary = 1] = "Secondary", 
e[e.Wheel = 2] = "Wheel", e[e.Back = 3] = "Back", e[e.Forward = 4] = "Forward";
}(a = t.MouseButton || (t.MouseButton = {}));
var i;
!function(e) {
e[e.OK = 0] = "OK", e[e.KEY_INVALID = -1] = "KEY_INVALID", e[e.NO_FILESYSTEM = -2] = "NO_FILESYSTEM", 
e[e.KEY_NOT_FOUND = -3] = "KEY_NOT_FOUND", e[e.FAILED_FILE_INFO = -4] = "FAILED_FILE_INFO";
}(i = t.GetItemResult || (t.GetItemResult = {}));
var s;
!function(e) {
e[e.OK = 0] = "OK", e[e.KEY_INVALID = -1] = "KEY_INVALID", e[e.FILE_DELETE_FAILURE = -2] = "FILE_DELETE_FAILURE";
}(s = t.RemoveKeyResult || (t.RemoveKeyResult = {}));
var l;
!function(e) {
e[e.OK = 0] = "OK", e[e.KEY_INVALID = -1] = "KEY_INVALID", e[e.KEY_TOO_LONG = -2] = "KEY_TOO_LONG", 
e[e.NO_FILESYSTEM = -3] = "NO_FILESYSTEM", e[e.FILE_CREATION_FAILURE = -4] = "FILE_CREATION_FAILURE";
}(l = t.StoreItemResult || (t.StoreItemResult = {}));
var u;
!function(e) {
e[e.OK = 0] = "OK", e[e.FILE_SYSTEM_ERROR = -1] = "FILE_SYSTEM_ERROR", e[e.DELETE_ERROR = -2] = "DELETE_ERROR";
}(u = t.ClearResult || (t.ClearResult = {}));
}, function(e, t, n) {
var r = n(15), o = {
playEffect: r.createAction(),
playTrack: r.createAction(),
stopTrack: r.createAction()
};
e.exports = o;
}, function(e, t, n) {
function r(e) {
s.merge(e), l.trigger(s.getState());
}
t.__esModule = !0;
var o = n(15), a = n(18), i = n(26), s = new i("ConfigStore", {
debug: !1,
gatewayHost: "http://sparta-gw-cert.test.ops.dice.se",
onlineEnvironment: "test",
webEndpoint: "omaha.test"
}), l = o.createStore({
init: function u() {
a.updateConfig.listen(r);
},
getState: function c() {
return s.getState();
}
});
t["default"] = l, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function n(e) {
return i[e] || o.unknownError;
}
function r(e) {
var t = "";
switch (e) {
case o.success:
case o.gameFull:
return;

case o.timeOut:
t = __("ID_SPARTA_ONLINE_JOIN_TIMEOUT");
break;

case o.gameNotFound:
t = __("ID_SPARTA_ONLINE_JOIN_GAME_NOT_FOUND");
break;

case o.gameNotJoinable:
t = __("ID_SPARTA_ONLINE_JOIN_UNABLE_TO_JOIN");
break;

case o.invalidGameState:
t = __("ID_SPARTA_ONLINE_JOIN_INVALID_GAME_STATE");
break;

case o.wrongVersion:
t = __("ID_SPARTA_ONLINE_JOIN_WRONG_VERSION");
break;

case o.noServerFound:
t = __("ID_SPARTA_ONLINE_JOIN_SERVER_NOT_FOUND");
break;

case o.playerNotFound:
t = __("ID_SPARTA_ONLINE_JOIN_PLAYER_NOT_FOUND");
break;

case o.failedReputationCheck:
t = __("ID_SPARTA_ONLINE_JOIN_FAILED_REPUTATION_CHECK");
break;

case o.banned:
t = __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_ONLINE_JOIN_BANNED_XB1" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_ONLINE_JOIN_BANNED_PS4" : "ID_SPARTA_ONLINE_JOIN_BANNED_PC");
break;

case o.roleFull:
t = __("ID_SPARTA_ONLINE_JOIN_ROLE_FULL");
break;

case o.roleNotAllowed:
t = __("ID_SPARTA_ONLINE_JOIN_ROLE_NOT_ALLOWED");
break;

case o.roleCriteriaFailed:
t = __("ID_SPARTA_ONLINE_JOIN_ROLE_CRITERIA_FAILED");
break;

case o.indirectJoinFail:
t = __("ID_SPARTA_ONLINE_JOIN_INDIRECT_JOIN_FAILED");
break;

case o.rankCriteriaFailed:
t = __("ID_SPARTA_ONLINE_JOIN_RANK_CRITERIA_FAILED");
break;

case o.noMultiplayerPrivilege:
t = __("ID_SPARTA_ONLINE_JOIN_NO_MULTIPLAYER_PRIVILEGE");
break;

case o.alreadyInSession:
t = __("ID_SPARTA_ONLINE_JOIN_ALREADY_IN_SESSION");
break;

case o.inviteExpired:
t = __("ID_SPARTA_ONLINE_JOIN_INVITATION_EXPIRED");
break;

case o.tooYoung:
t = __("ID_SPARTA_ONLINE_JOIN_TOO_YOUNG");
break;

case o.streamInstallInProgress:
t = __("ID_SPARTA_ONLINE_JOIN_STREAM_INSTALL_IN_PROGRESS");
break;

case o.reservationAlreadyExists:
t = __("ID_SPARTA_ONLINE_JOIN_RESERVATION_ALREADY_EXISTS");
break;

case o.noReservationFound:
t = __("ID_SPARTA_ONLINE_JOIN_NO_RESERVATION_FOUND");
break;

case o.unknownError:
default:
t = __("ID_SPARTA_ONLINE_JOIN_UNKNOWN_ERROR");
}
return t;
}
t.__esModule = !0, t.lookupGatewayJoinError = n, t.getHumanReadableMessage = r;
var o = {
none: 0,
unknownError: 1,
success: 2,
timeOut: 3,
gameNotFound: 4,
gameFull: 5,
gameNotJoinable: 6,
invalidGameState: 7,
wrongVersion: 8,
noServerFound: 9,
playerNotFound: 10,
failedReputationCheck: 11,
banned: 12,
roleFull: 13,
roleNotAllowed: 14,
roleCriteriaFailed: 15,
indirectJoinFail: 16,
queued: 17,
rankCriteriaFailed: 18,
noMultiplayerPrivilege: 19,
alreadyInSession: 20,
inviteExpired: 21,
tooYoung: 22,
streamInstallInProgress: 23,
reservationAlreadyExists: 24,
noReservationFound: 25
};
t.JoinResultType = o;
var a = {
none: 0,
joined: 1,
joinFailed: 2,
queued: 3,
disconnected: 4,
gameAttributeUpdated: 5,
playerClaimingReservation: 6,
otherPlayerJoined: 7,
otherPlayerLeft: 8
};
t.JoinEventType = a;
var i = {
GAMEMANAGER_ERR_INVALID_GAME_ID: o.noServerFound,
GAMEMANAGER_ERR_GAME_FULL: o.gameFull,
GAMEMANAGER_ERR_ALREADY_GAME_MEMBER: o.alreadyInSession,
GAMEMANAGER_ERR_INVALID_GAME_STATE_ACTION: o.invalidGameState,
GAMEMANAGER_ERR_PLAYER_NOT_FOUND: o.playerNotFound,
GAMEMANAGER_ERR_PLAYER_BANNED: o.banned,
GAMEMANAGER_ERR_GAME_ENTRY_CRITERIA_FAILED: o.rankCriteriaFailed,
GAMEMANAGER_ERR_GAME_PROTOCOL_VERSION_MISMATCH: o.wrongVersion,
GAMEMANAGER_ERR_SPECTATOR_SLOTS_FULL: o.roleFull,
GAMEMANAGER_ERR_RESERVATION_ALREADY_EXISTS: o.reservationAlreadyExists,
GAMEMANAGER_ERR_ROLE_NOT_ALLOWED: o.roleNotAllowed,
GAMEMANAGER_ERR_ROLE_FULL: o.roleFull,
GAMEMANAGER_ERR_ROLE_CRITERIA_FAILED: o.roleCriteriaFailed,
GAMEMANAGER_ERR_FAILED_REPUTATION_CHECK: o.failedReputationCheck
}, s = function() {
function t() {
var n = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
e(this, t), this.gameId = n.gameId, this.blazeGameId = n.blazeGameId, this.server = n.server, 
this.customMessage = n.customMessage, this.resultType = n.resultType || o.none, 
this.eventType = n.eventType || a.none;
}
return t.prototype.toHumanReadable = function n() {
return this.customMessage ? this.customMessage : r(this.resultType);
}, t.prototype.getTitle = function i() {
return __("ID_SPARTA_ONLINE_JOIN_FAILED_TITLE");
}, t;
}();
t["default"] = s;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var n = {
None: "None",
Joined: "Joined",
Queued: "Queued",
Failed: "Failed",
Cancelled: "Cancelled"
};
t.QueueStatus = n;
var r = function() {
function t() {
var r = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
e(this, t), this.gameId = r.gameId, this.blazeGameId = r.blazeGameId, this.status = r.status || n.none, 
this.position = void 0 === r.position || null === r.position ? -1 : r.position, 
this.isPending = this.status === n.Queued;
}
return t.prototype.getPrettyStatus = function r(e) {
return this.status !== n.Queued ? "" : -1 === this.position ? __("ID_SPARTA_ONLINE_QUEUE_RESERVING_SLOT") : 0 === this.position && this.status === n.Queued ? __("ID_SPARTA_ONLINE_QUEUED") : this.position > 0 && this.status === n.Queued ? e ? __("ID_SPARTA_ONLINE_QUEUE_POSITION_PREMIUM").replace("[[position]]", this.position) : __("ID_SPARTA_ONLINE_QUEUE_POSITION").replace("[[position]]", this.position) : (console.warn("QueueInfo - Impossible to find a queue message, we should never enter this else"), 
"");
}, t;
}();
t["default"] = r;
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(5), s = r(i), l = n(51), u = n(25), c = r(u), p = n(42), f = r(p), d = n(36), h = r(d), y = n(53), g = r(y), m = n(56), b = r(m), v = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, {}), c["default"].display.listen(function(e) {
var t = h["default"].getState().navigationState;
if (t) n.openPopupWhenReady(e, t); else var r = h["default"].scope("navigationState").listen(function(t) {
r(), n.openPopupWhenReady(e, t);
});
}), c["default"].close.listen(function(e) {
var t = s["default"].extend({}, n.getState());
delete t[e], n.setState(t);
}), c["default"].closeAll.listen(function() {
for (var e in n.getState()) n.getState().hasOwnProperty(e) && c["default"].close(e);
}), c["default"].closeGroup.listen(function(e) {
var t = n.getState(), r = s["default"].extend({}, n.getState());
s["default"].each(t, function(t) {
t.group === e && delete r[t.id];
}), n.setState(r);
});
}
return a(t, e), t.prototype.getTopPopup = function n() {
var e = s["default"].values(this.getState());
return e.length ? e[e.length - 1] : null;
}, t.prototype.openPopup = function r(e) {
var t = this;
e instanceof f["default"] || (e = new f["default"](e));
var n = this.getTopPopup();
if (n && n.priority > e.priority) var r = this.listen(function(n) {
r();
var o = h["default"].getState().navigationState;
t.openPopupWhenReady(e, o);
}); else {
var o = s["default"].extend({}, this.getState());
e.id in o || (o[e.id] = e, this.setState(o));
}
}, t.prototype.openPopupWhenReady = function i(e, t) {
var n = this;
switch (t) {
case b["default"].FrontEnd:
case b["default"].LoadingScreen:
this.openPopup(e);
break;

case b["default"].InGameMenu:
var r = g["default"].getState(), o = r.isVisible;
if (o) this.openPopup(e); else var a = g["default"].listen(function(t) {
t.isVisible && (a(), n.openPopup(e));
});
break;

case b["default"].EndOfRound:}
}, t;
}(l.Store);
t["default"] = new v(), e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return X(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = n(5), y = l(h), g = n(1), m = l(g), b = n(16), v = n(17), _ = l(v), S = n(52), T = n(58), w = n(324), E = l(w), I = n(41), C = l(I), A = n(183), P = l(A), O = n(12), R = l(O), k = n(13), x = l(k), M = n(6), N = l(M), D = n(22), U = l(D), L = n(317), $ = l(L), G = n(14), F = l(G), B = n(3), j = n(20), H = l(j), V = n(62), z = n(10), W = n(9), q = n(8), K = {
_$PopupContainer: {
displayName: "PopupContainer"
},
_$Popup: {
displayName: "Popup"
},
_$Popups: {
displayName: "Popups"
}
}, X = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/popups/Popups.jsx",
components: K,
locals: [],
imports: []
}), Y = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, J = {
flexDirection: "row",
alignSelf: "center",
marginTop: N["default"].GUTTER,
zOffset: 100
}, Q = B.focus.system.createScaledComponent(), Z = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = this.props.children, t = d({
justifyContent: "center"
}, _["default"].screen.style, V.uiState.viewportPosition, V.uiState.viewportScale, this.props.style);
return m["default"].createElement("surface", {
ref: Q,
style: t
}, e);
};
var n = t;
return t = s("_$PopupContainer")(t) || t, t = z.observer(t) || t;
}(m["default"].Component);
t.PopupContainer = Z;
var ee = function(e) {
function t(t) {
a(this, l), e.call(this, t), o(this, "isVisible", n), this.focusAncestor = B.focus.createAncestor("popupgroup_" + t.popup.id), 
this.opacityTween = b.Animation.tween("6b2fb63c:62", t.popup.instantShow ? 1 : 0), 
t.popup.instantShow && this.setVisible(!0);
}
var n = {};
i(t, e), t.prototype.componentWillEnter = function u(e) {
var t = this;
this.isolateInputGroup(), this.refs.content && this.refs.content.popupWillShow && this.refs.content.popupWillShow(), 
this.focusAncestor.isolate(), this.props.popup.instantShow || (this.opacityTween.to(1), 
this.setVisible(!0)), this.updateInput(), this.cancelReaction = W.reaction(function() {
return B.focus.system.controllerMode;
}, function() {
return t.updateInput();
}), e();
}, t.prototype.componentDidEnter = function c() {
var e = this.focusAncestor.getChildren()[0];
e && e.setFocused(B.focus.FocusSource.Auto);
}, t.prototype.componentWillLeave = function h(e) {
this.releaseInputGroup(), this.cancelReaction && this.cancelReaction(), this.focusAncestor.deisolate(), 
this.refs.content && this.refs.content.popupWillHide && this.refs.content.popupWillHide(), 
this.opacityTween.to(0, null, e), this.setVisible(!1), this.updateInput();
}, t.prototype.componentWillUnmount = function g() {
this.focusAncestor.destroy(), this.opacityTween.destroy(), this.releaseInputGroup();
}, t.prototype.getInput = function v() {
var e = this;
if (this.isVisible || SpartaGlobals.bundleIsPC) {
var t = [];
return this.props.popup.inputs && (t = B.focus.system.controllerMode && SpartaGlobals.bundleIsConsole ? this.props.popup.inputs.map(function(t) {
var n = e.props.popup.createButtons;
return n ? new x["default"](d({}, t, {
visible: !1,
action: function r() {
var n = e.refs[t.key.id];
n.pulsate().then(t.action);
}
})) : t;
}) : y["default"].filter(this.props.popup.inputs, function(e) {
return e.key !== R["default"].Accept;
})), this.refs.content && this.refs.content.getInput && (t = t.concat(this.refs.content.getInput())), 
t;
}
return [];
}, t.prototype.getFontStyle = function S() {
var e, t, n = q.layoutStateStore.current.config, r = n.fonts, o = n.gameId;
return r ? (t = r.letterSpacing || 0, e = o ? T.localeState.fonts[o].normal.name : T.localeState.fonts.generic.normal.name) : (console.log("No font config available, using default for route config:", q.layoutStateStore.current.config), 
e = T.localeState.fonts.generic.normal.name), {
fontFamily: e,
textLetterSpacing: t
};
}, t.prototype.renderButtons = function w(e) {
var t = this.getFontStyle(), n = e.inputs.length - 1, o = e.inputs.map(function(e, o) {
var a;
return B.focus.system.controllerMode && SpartaGlobals.bundleIsConsole ? (a = {
marginRight: o !== n ? 4 * N["default"].GUTTER : 0
}, m["default"].createElement($["default"], {
ref: e.key.id,
inputKey: e.key,
style: a,
labelStyle: t,
label: e.label,
key: "button" + o
})) : (a = {
width: N["default"].getWidth(2.5),
marginRight: o !== n ? N["default"].GUTTER : 0
}, {
$$typeof: p,
type: B.focus.Focusable,
key: null,
ref: null,
props: r(B.focus.Focusable.defaultProps, {
children: function i(t) {
return m["default"].createElement(U["default"], d({
ref: "button_" + o
}, e, {
focusItem: t,
isInPopup: !0,
text: e.label,
style: a,
key: "button" + o
}));
},
debugName: "popupbutton_" + o
}),
_owner: null
});
}), a = {};
return !e.fullScreen && e.leftAlignInputs && (a = {
justifyContent: "flex-start",
alignSelf: "flex-start",
marginLeft: -(_["default"].screen.width / 4) + _["default"].dangerZoneSize.width
}), m["default"].createElement("surface", {
ref: "buttons",
style: [ J, a ]
}, o);
}, t.prototype.renderContent = function E(e) {
var t = e.content, n = {
popupInfo: e
};
return t.type.prototype instanceof m["default"].Component && (n.ref = "content"), 
m["default"].cloneElement(t, n);
}, t.prototype.render = function I() {
var e = this.props.popup, t = {
opacity: this.opacityTween.getStyle(),
position: "absolute",
top: 0,
left: 0,
width: V.uiState.window.width,
height: V.uiState.window.height,
zOffset: void 0 !== this.props.index ? 100 * this.props.index : 0
}, n = d({
opacity: this.opacityTween.getStyle(),
zOffset: -1,
layer: !0,
layerBlur: e.disableBlur ? void 0 : b.Animation.tweenSwitch(0, 1, this.isVisible),
layerBlurStrength: e.disableBlur ? void 0 : b.Animation.tweenSwitch(0, 2, this.isVisible),
layerGrabBackground: !0
}, Y);
if (e.texture ? (t.backgroundColor = "#000000FF", n.textureMode = "cover", n.texture = e.texture, 
n.layerGrabBackground = !1, n.zOffset = 0) : n.backgroundColor = e.backgroundColor ? e.backgroundColor : "#000000B2", 
"undefined" != typeof e.containContent && !e.containContent) return m["default"].createElement("surface", d({
style: t
}, this.focusAncestor.hooks), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: n,
skipFade: !0
},
_owner: null
}, this.renderContent(e), e.createButtons ? this.renderButtons(e) : null);
var o = {
opacity: this.opacityTween.getStyle()
}, a = {
zOffset: 2,
layer: !1
}, i = e.centerContent ? {
alignSelf: "center",
alignItems: "center"
} : null;
return a = e.fullScreen ? d({}, a, Y) : d({}, a, {
width: _["default"].screen.width / 2
}), m["default"].createElement("surface", d({
style: t
}, this.focusAncestor.hooks), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
}, {
$$typeof: p,
type: Z,
key: null,
ref: null,
props: r(Z.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderContent(e), e.createButtons ? this.renderButtons(e) : null ],
style: [ a, i ]
},
_owner: null
},
style: o,
onClick: function() {}
}),
_owner: null
});
}, f(t, [ {
key: "setVisible",
decorators: [ W.action ],
value: function A(e) {
this.isVisible = e;
}
}, {
key: "isVisible",
decorators: [ W.observable ],
initializer: function P() {
return !1;
},
enumerable: !0
} ], null, n);
var l = t;
return t = s("_$Popup")(t) || t, t = F["default"]({
presence: C["default"]
})(t) || t, t = H["default"]({
group: !0,
ignoreParentIsolation: !0
})(t) || t, t = z.observer(t) || t;
}(m["default"].Component), te = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.getChildContext = function o() {
var e = q.layoutStateStore.current.config, t = e.gameId, n = {
routeConfig: e,
isPopup: !0
};
return null !== t && T.localeState.fonts.hasOwnProperty(t) && (n.fonts = T.localeState.fonts[t]), 
n;
}, t.prototype.getStackablePopups = function l(e) {
for (var t = [], n = e.length - 1; n >= 0; ) {
var r = e[n];
if (!r.stackable) break;
t.push(r), n--;
}
return t.reverse(), t;
}, t.prototype.render = function u() {
var e = y["default"].sortBy(this.state.popups, "createdDate"), t = e.length && e[e.length - 1], n = [];
t && t.stackable ? n = this.getStackablePopups(e).map(function(e, t) {
return {
$$typeof: p,
type: ee,
key: e.id,
ref: null,
props: r(ee.defaultProps, {
popup: e,
index: t
}),
_owner: null
};
}) : t && n.push({
$$typeof: p,
type: ee,
key: t.id,
ref: null,
props: r(ee.defaultProps, {
popup: t
}),
_owner: null
});
var o = d({
zOffset: 1e5,
enableMouseEvents: n.length ? !0 : !1
}, Y);
return {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
children: n,
tag: "surface",
style: o
}),
_owner: null
};
};
var n = t;
return t = s("_$Popups")(t) || t, t = F["default"]({
popups: P["default"]
})(t) || t, t = z.observer(t) || t;
}(m["default"].Component);
t["default"] = te, te.childContextTypes = d({}, te.childContextTypes, {
isPopup: m["default"].PropTypes.bool,
routeConfig: m["default"].PropTypes.instanceOf(S.Route),
fonts: m["default"].PropTypes.shape({
normal: m["default"].PropTypes.any,
emphasis: m["default"].PropTypes.any,
letterSpacing: m["default"].PropTypes.number
})
});
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
var t = new Promise(function(e) {
y["default"].hide(), e();
});
v["default"].hideComponent("all", function() {
return t.then(e);
}, 1);
}
function a() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? function() {} : arguments[0], t = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1], n = t ? N : x, r = t ? D : M;
v["default"].handleBlackFadeStart(1, n, function() {
e(), v["default"].handleBlackFadeStart(0, r);
});
}
function i() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
e.showGameReadyPopup ? C.confirm(__("ID_SPARTA_TUNGUSKA_PLAYING_JOIN_NOW", !0), __("ID_SPARTA_TUNGUSKA_PLAYING_GAME_READY", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "gotoGame").then(function() {
u(e);
}) : u(e);
}
function s(e) {
e && C.confirm(__("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_EXIT_PROMPT", !0), __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_EXIT_TITLE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_CANCEL", !0), "leaveServer").then(function() {
return e();
});
}
function l(e, t) {
var n = "quitprogresspopup";
e ? (S.tunguskaEndOfRoundStore.setQuitProgress(!0), C.alertWithOption("", __("ID_SPARTA_GAMESTATE_END_OF_ROUND_STATUS_QUITTING"), {
useConfirmInput: !1,
customInput: {
action: function r() {
return S.tunguskaEndOfRoundStore.setQuitProgress(!1);
},
key: k["default"].Decline,
label: __("ID_SPARTA_ACTION_CANCEL")
}
}, n)) : (S.tunguskaEndOfRoundStore.setQuitProgress(!1), O["default"].close(n), 
T.nextRoundCountDown.stop(), m["default"].stopGame(), t && t());
}
function u(e) {
e.withBlackFade ? p(e) : c(e);
}
function c(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? function() {} : arguments[1];
o(function() {
e.changeRoute && y["default"].route(e.changeRoute), I.frostbite.sendMessage("sparta.gameResume"), 
t();
});
}
function p(e) {
v["default"].handleBlackFadeStart(1, x, function() {
E["default"].changeGameViewContentVisibility(!1), c(e, function() {
d.action("e14ccf5c:149", function() {
_.tunguskaLevelStore.clearMpLevel(), A.backgroundState.isVisible = !1;
}), v["default"].handleBlackFadeStart(0, M);
});
});
}
t.__esModule = !0, t.hideSparta = o, t.fadeBlack = a, t.goToGame = i, t.quitWithConfirm = s, 
t.toggleQuittingOverlay = l;
var f = n(1), d = (r(f), n(9)), h = n(48), y = e(h), g = n(35), m = e(g), b = n(29), v = e(b), _ = n(208), S = n(73), T = n(145), w = n(34), E = e(w), I = n(3), C = n(31), A = n(188), P = n(25), O = e(P), R = n(12), k = e(R), x = {
duration: 700
}, M = {
duration: 1e3
}, N = {
duration: 700
}, D = {
duration: 500,
delay: 700
}, U = {
totalSlowDuration: D.duration + D.delay + N.duration,
totalDuration: x.duration + M.duration
};
t.fadeOptions = U;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return se(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = s(d), y = n(5), g = s(y), m = n(3), b = n(8), v = n(9), _ = n(17), S = s(_), T = n(16), w = n(6), E = s(w), I = n(29), C = s(I), A = n(28), P = s(A), O = n(14), R = s(O), k = n(118), x = s(k), M = n(34), N = s(M), D = n(283), U = s(D), L = n(35), $ = s(L), G = n(423), F = s(G), B = n(61), j = s(B), H = n(67), V = s(H), z = n(803), W = s(z), q = n(188), K = n(809), X = s(K), Y = n(808), J = s(Y), Q = n(145), Z = n(185), ee = n(170), te = n(146), ne = n(73), re = n(183), oe = s(re), ae = n(10), ie = {
_$Header: {
displayName: "Header"
},
_$TunguskaGameViewRoute: {
displayName: "TunguskaGameViewRoute"
}
}, se = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/TunguskaGameViewRoute.jsx",
components: ie,
locals: [],
imports: []
}), le = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, ue = E["default"].window.rowSpan(11), ce = E["default"].window.rowSpan(7), pe = E["default"].window.rowSpan(SpartaGlobals.bundleIsPC ? 9 : 3), fe = S["default"].footer.top - S["default"].dangerZoneSize.height - pe, de = ce + pe, he = SpartaGlobals.bundleIsPC ? S["default"].dangerZoneSize.width : 0, ye = 40, ge = E["default"].window.rowSpan(SpartaGlobals.bundleIsPC ? 12 : 3), me = -ge - E["default"].window.rowSpan(6), be = {
duration: 100
}, ve = {
duration: 50
}, _e = {
header: {
rotate: {
duration: 200,
delay: 200
},
opacity: {
duration: 100,
delay: 200
}
},
inputBar: {
translation: {
duration: 150
},
opacity: {
duration: 100
}
}
}, Se = {
container: f({
zOffset: 11e3
}, S["default"].screen.style, {
position: "absolute"
}),
containerForeground: f({}, le, {
zOffset: 20,
layer: !0,
layerGrabBackground: !1
}),
header: {
padding: [ S["default"].dangerZoneSize.height, S["default"].dangerZoneSize.width + he, S["default"].dangerZoneSize.height, S["default"].dangerZoneSize.width ],
flexDirection: "row",
zOffset: 1,
height: ue,
justifyContent: "center",
pivot: [ 0, ue / 4, 0 ],
alignItems: "center"
},
column: {
flex: 1,
justifyContent: "center",
zOffset: 1
},
content: {
justifyContent: "center",
flex: 1,
padding: [ S["default"].dangerZoneSize.height / 2, S["default"].dangerZoneSize.width + he, S["default"].dangerZoneSize.height + de, S["default"].dangerZoneSize.width ]
},
input: {
position: "absolute",
left: 0,
top: fe,
height: ce,
flexDirection: "row",
justifyContent: "space-between",
alignContent: "stretch",
alignItems: "flex-end",
marginLeft: 0,
marginRight: 0,
zOffset: 9050
},
borderContainerMiddle: {
flex: 1,
height: SpartaGlobals.bundleIsConsole ? 32 : E["default"].window.rowSpan(4)
},
borderContainerRight: {
flex: 0,
width: S["default"].dangerZoneSize.width,
height: SpartaGlobals.bundleIsConsole ? 32 : E["default"].window.rowSpan(4)
},
borderContainerLeft: {
flex: 0,
width: S["default"].dangerZoneSize.width,
height: SpartaGlobals.bundleIsConsole ? 32 : E["default"].window.rowSpan(4)
},
rightButtons: {
flex: 0,
zOffset: 1,
alignItems: "center"
},
storeButtons: {
flex: 0
},
inputBorder: {
position: "absolute",
left: 0,
right: 0,
bottom: 0,
height: 2,
backgroundColor: "#e6e6e680"
},
bottomBar: {
position: "absolute",
flexDirection: "row",
justifyContent: "center",
alignItems: "center",
left: 0,
right: 0,
height: ye,
bottom: me
}
}, Te = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function r() {
var e = this.props.header, t = f({}, Se.header, {
rotateX: T.Animation.tweenSwitch(90, 0, this.props.isVisible, _e.header.rotate, ve),
opacity: T.Animation.tweenSwitch(0, 1, this.props.isVisible, _e.header.opacity, ve)
});
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: e.left,
style: f({
alignItems: "flex-start"
}, Se.column)
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: e.middle,
style: f({
alignItems: "center"
}, Se.column)
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: e.right,
style: f({
alignItems: "flex-end"
}, Se.column)
},
_owner: null
} ],
style: t
},
_owner: null
};
};
var n = t;
return t = i("_$Header")(t) || t;
}(h["default"].Component), we = h["default"].PropTypes.shape({
left: h["default"].PropTypes.any,
middle: h["default"].PropTypes.any,
right: h["default"].PropTypes.any
});
Te.propTypes = {
header: we,
isVisible: h["default"].PropTypes.bool
}, Te.defaultProps = {
isVisible: !1
};
var Ee = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.state = {
fadeInReady: !1
}, this.currentVisibility = !1, this.opacityTween = T.Animation.tween("a3ae5796:222", 0), 
this.focusAncestor = m.focus.createAncestor("gameview"), this.focusAncestor.getIsolationExceptions = function() {
return b.comCenterState.focusAncestor.getChildren();
}, this.cancelQueryListener = m.focus.system.onInvalidQuery.listen(function(e) {
r.props.gameViewState.isVisible && e.setAsVisible(r.focusAncestor.getChildren());
}), this.defaultLayoutComponents = {
userBar: SpartaGlobals.bundleIsConsole,
comCenter: void 0,
tint: void 0,
footer: void 0
};
}
a(t, e), t.prototype.componentWillMount = function s() {
this.configureVisibility(!1);
}, t.prototype.componentDidMount = function l() {
var e = this, t = "eor" === this.props.gameViewState.route && "loading" !== this.props.gameViewState.previousRoute;
this.props.fadeInBlack && t ? Z.fadeBlack(v.action("hide background", function() {
q.backgroundState.isVisible = !1, e.setRendered();
})) : this.setRendered();
}, t.prototype.componentDidUpdate = function u() {
this.configureVisibility(), this.updateBackgroundState();
}, t.prototype.componentWillUnmount = function d() {
this.focusAncestor.getChildren().forEach(function(e) {
e.setActive("a3ae5796:270", !1);
}), this.cancelQueryListener(), this.opacityTween.destroy(), delete this.opacityTween, 
this.configureVisibility(!1), this.focusAncestor.destroy();
}, t.prototype.setRendered = function y() {
this.setState({
fadeInReady: !0,
hasRendered: !0
});
}, t.prototype.configureVisibility = function _() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? this.props.gameViewState.isVisible : arguments[0], t = this.state.hasRendered ? e : !1;
this.currentVisibility !== t && (this.currentVisibility = t, this.currentVisibility && this.opacityTween ? this.opacityTween.to(1) : this.opacityTween && this.opacityTween.to(0), 
this.focusAncestor.setActive("gameViewVisibility", t), t ? (this.focusAncestor.isolate(), 
m.focus.system.recalculate(), C["default"].setComponentVisibilities({
only: f({}, this.defaultLayoutComponents, this.props.layoutComponents)
})) : (this.focusAncestor.deisolate(), C["default"].setComponentVisibilities({
only: !1
})));
}, t.prototype.render = function w() {
var e = this, t = this.state.hasRendered ? this.props.gameViewState.isVisible : !1, n = b.comCenterState.isEnabled && b.comCenterState.isExpanded, o = {
container: f({}, Se.container, {
opacity: this.opacityTween.getStyle(),
translateY: ee.gameViewTweenY.getStyle(),
enableMouseEvents: t
}),
containerForeground: f({}, Se.containerForeground, {
layerBlur: SpartaGlobals.bundleIsConsole ? T.Animation.tweenSwitch(0, 1, n, be, ve) : 0
}),
input: f({}, Se.input, {
opacity: T.Animation.tweenSwitch(0, 1, t && (SpartaGlobals.bundleIsConsole || !n), _e.inputBar.opacity, ve),
translateY: T.Animation.tweenSwitch(Math.max(1, (S["default"].screen.height - fe) / 2), 0, t, _e.inputBar.translation, ve),
enableMouseEvents: !n,
layer: n,
layerClip: n,
width: S["default"].screen.width,
layerSoftClip: n ? [ 0, 0, 100, 0 ] : [ 0, 0, 0, 0 ]
}),
rightButtons: f({}, Se.rightButtons, {
opacity: T.Animation.tweenSwitch(0, 1, !n, be, ve)
})
}, a = this.props.header ? {
$$typeof: p,
type: Te,
key: null,
ref: null,
props: r(Te.defaultProps, {
header: this.props.header,
isVisible: t
}),
_owner: null
} : null, i = {
$$typeof: p,
type: W["default"],
key: null,
ref: null,
props: r(W["default"].defaultProps, {
style: Se.storeButtons,
height: Se.input.height
}),
_owner: null
}, s = n || this.state.hasVisiblePopups || !this.props.rightButtons ? null : {
$$typeof: p,
type: W["default"],
key: null,
ref: null,
props: r(W["default"].defaultProps, {
style: o.rightButtons,
height: Se.input.height,
custom: this.props.rightButtons
}),
_owner: null
}, l = te.operationFlow.state === te.OperationState.eor, u = void 0;
if (this.props.nextRoundCountDown && Q.nextRoundCountDown.active) u = {
$$typeof: p,
type: J["default"],
key: null,
ref: null,
props: r(J["default"].defaultProps, {
gameState: this.props.gameState,
style: Se.bottomBar,
text: l ? "" : __("ID_SPARTA_GAMESTATE_NEXT_ROUND_STARTS_IN"),
callback: function() {
N["default"].endOfRoundCountdownCompleted(), l ? $["default"].stopGame() : ne.tunguskaEndOfRoundStore.quitInProgress && ne.tunguskaEndOfRoundStore.isQuitDuringLoadingEnabled || Z.goToGame({
withBlackFade: !0,
showGameReadyPopup: !e.props.nextRoundCountDown.autoDismiss,
changeRoute: "playing"
}), e.props.nextRoundCountDown.callback && e.props.nextRoundCountDown.callback();
}
}),
_owner: null
}; else if ("loading" === this.props.gameViewState.route) {
this.server = this.props.gameState && this.props.gameState.server || this.props.match && this.props.match.server;
var c = "";
if (this.server) {
var d = V["default"].getState().hasPremiumAccess(this.server.game);
c = this.props.gameState.queue.getPrettyStatus(d) || __("ID_SPARTA_SERVER_LOADING_GAME");
} else this.props.match && this.props.match.gameId && (c = __("ID_SPARTA_GAMESTATE_MATCHMAKING"));
u = {
$$typeof: p,
type: X["default"],
key: null,
ref: null,
props: r(X["default"].defaultProps, {
style: Se.bottomBar,
text: c
}),
_owner: null
};
}
var y = this.props.fadeInBlack && !this.state.fadeInReady ? null : {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: Se.inputBorder
},
_owner: null
},
style: Se.borderContainerLeft
},
_owner: null
}, i, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: Se.inputBorder
},
_owner: null
},
style: Se.borderContainerMiddle
},
_owner: null
}, s, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: Se.inputBorder
},
_owner: null
},
style: Se.borderContainerRight
},
_owner: null
} ],
style: o.input
},
_owner: null
}, g = this.props.fadeInBlack && !this.state.fadeInReady ? null : {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.props.children, u ],
style: {
flex: 1
}
},
_owner: null
},
style: Se.content
},
_owner: null
} ],
style: o.containerForeground
},
_owner: null
};
return h["default"].createElement("surface", f({
style: o.container
}, this.focusAncestor.hooks), g, y);
}, c(t, [ {
key: "updateBackgroundState",
decorators: [ v.action ],
value: function E() {
var e = this;
g["default"].each(g["default"].keys(this.props.backgroundState), function(t) {
q.backgroundState[t] = e.props.backgroundState[t];
}), q.backgroundState.isVisible = this.currentVisibility;
}
} ]);
var n = t;
return t = i("_$TunguskaGameViewRoute")(t) || t, t = R["default"]({
isComCenterVisible: P["default"](j["default"], "comCenter"),
hasVisiblePopups: oe["default"].transform(function(e) {
return Object.keys(e).length > 0;
})
})(t) || t, t = x["default"]({
configureVisibility: N["default"].changeGameViewContentVisibility
})(t) || t, t = ae.observer(t) || t;
}(h["default"].Component);
t["default"] = Ee, Ee.defaultProps = {
nextRoundCountDown: null,
fadeInBlack: !1
}, Ee.propTypes = {
nextRoundCountDown: h["default"].PropTypes.object,
fadeInBlack: h["default"].PropTypes.bool,
gameState: h["default"].PropTypes.instanceOf(U["default"]).isRequired,
gameViewState: h["default"].PropTypes.instanceOf(F["default"]).isRequired
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t) {
e.exports = {
segment: {
scale: {
duration: 2500
},
baseDelay: 0,
scaleBack: {
duration: 500
}
},
rankImage: {
move: {
duration: 500,
delay: 300
},
scale: {
"in": {
duration: 500,
delay: 300
},
out: {
delay: 1e3,
duration: 500
}
}
},
rankUpOverlay: {
opacity: {
duration: 500
},
left: {
duration: 500
}
},
bonds: {
scale: {
duration: 500,
delay: 100
},
flare: {
duration: 500,
delay: 0
}
},
highlights: {
highlight: {
base: {
delay: 600
},
grow: {
duration: 500
}
}
}
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, a = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, i = n(1), s = (r(i), n(10)), l = n(9), u = n(16), c = n(11), p = n(62), f = n(170), d = n(79), h = r(d), y = c.bbUrl("/sparta/jsclient/builds/assets/loading-map-placeholder-1e71f22a.jpg"), g = [ c.bbUrl("/sparta/jsclient/builds/assets/map-overlay1-ccac3d98.png"), c.bbUrl("/sparta/jsclient/builds/assets/map-overlay2-dd8c642f.png"), c.bbUrl("/sparta/jsclient/builds/assets/map-overlay3-fd478149.png"), c.bbUrl("/sparta/jsclient/builds/assets/map-overlay4-1298a885.png") ], m = function _(e, t) {
var n = {
mp_desert: {
overlay: g[0]
},
mp_faofortress: {
overlay: g[0]
},
mp_suez: {
overlay: g[0]
},
mp_italiancoast: {
overlay: g[1]
},
mp_mountainfort: {
overlay: g[1]
},
mp_amiens: {
overlay: g[2]
},
mp_chateau: {
overlay: g[3]
},
mp_forest: {
overlay: g[3]
},
mp_scar: {
overlay: g[2]
},
mp_giant: {
overlay: g[2]
}
}, r = n[e] || {}, o = t.tunguska, a = o && o.maps && o.maps.filter(function(t) {
return t.filterKey.toLowerCase() === e;
});
if (a && a.length > 0) {
var i = a[0];
r.background = i.images && i.images.Jpg1000xANY;
}
return r;
}, b = l.observable({
mapName: null,
isVisible: !1,
isBlurred: !1,
showMap: !1,
hideOverlay: !1,
tweenOptions: u.Animation.defaultTweenOptions
});
t.backgroundState = b;
var v = s.observer(function() {
var e = b.tweenOptions, t = b.showMap && b.isBlurred, n = b.hideOverlay || !1, r = {
width: p.uiState.window.width,
height: p.uiState.window.height,
left: 0,
top: 0,
position: "absolute",
zOffset: 11e3,
backgroundColor: b.isBlurred ? "#00000040" : "#00000001",
opacity: b.isVisible ? 1 : 0,
translateY: f.gameBackgroundTweenY.getStyle()
}, i = {
flex: 1,
layer: !0,
layerGrabBackground: !0,
layerBlur: u.Animation.tweenSwitch(0, 1, b.isBlurred, e),
textureAtlas: "SpartaCommonAtlas",
textureMode: "cover"
}, s = {
position: "absolute",
right: 0,
top: 0,
bottom: 0,
left: 0,
zOffset: 1,
opacity: t ? 1 : 0,
backgroundColor: "#00000040"
}, l = {
position: "absolute",
right: 0,
top: 0,
bottom: 0,
left: 0,
zOffset: 2,
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
textureAlign: [ 1, .5 ]
}, c = "";
if (b.mapName && (c = b.mapName.toLowerCase()), t) {
var d = h["default"].getState(), g = m(c, d), v = g.background, _ = g.overlay;
i = a({}, i, {
texture: v ? v : y
}), _ && (l = a({}, l, {
texture: _,
opacity: u.Animation.tweenSwitch(0, 1, !n, {
duration: 300
}, {
duration: 300
})
}));
}
return {
$$typeof: o,
type: "surface",
key: "gameBackground",
ref: null,
props: {
children: [ {
$$typeof: o,
type: "surface",
key: null,
ref: null,
props: {
style: i
},
_owner: null
}, {
$$typeof: o,
type: "surface",
key: null,
ref: null,
props: {
style: s
},
_owner: null
}, {
$$typeof: o,
type: "surface",
key: null,
ref: null,
props: {
style: l
},
_owner: null
} ],
style: r
},
_owner: null
};
});
t.GameBackground = v;
}, function(e, t, n) {
function r(e) {
e = e || {}, this.amount = parseInt(e.amount, 10), this.battlepack = o(a, e.battlepack), 
this.data = e.data, this.offerId = e.offerId, this.productId = e.productId, this.packType = e.packType, 
this.pinData = e.pinData, this.price = e.price, this.listPrice = e.listPrice, this.shortDesc = e.shortDesc, 
this.longDesc = e.longDesc;
}
t.__esModule = !0;
var o = n(276), a = n(158);
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
var r = n(3).Bounds, o = new r(0, 0, 1920, 1080), a = {
width: SpartaGlobals.bundleIsPC ? 40 / 1920 : 101 / 1920,
height: SpartaGlobals.bundleIsPC ? 40 / 1080 : 55 / 1080
}, i = {
width: a.width * o.width,
height: a.height * o.height
}, s = SpartaGlobals.bundleIsPC ? 90 : 0, l = new r(o.left + i.width + s, o.top + i.height, o.width - 2 * i.width - 2 * s, o.height - 2 * i.height);
e.exports = {
screen: o,
dangerZoneSize: i,
safeZone: l,
sideOffset: s
};
}, function(e, t, n) {
var r = n(614);
e.exports = r.inputButtonIcons;
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r() {
[ T, w, E, I, C ].forEach(function(e) {
return e.startListening();
});
}
function o() {
[ T, w, E, I, C ].forEach(function(e) {
return e.stopListening();
});
}
t.__esModule = !0, t.startListening = r, t.stopListening = o;
var a = n(48), i = e(a), s = n(80), l = e(s), u = n(18), c = e(u), p = n(5), f = n(21), d = n(50).gatewayClient, h = n(885), y = n(886), g = n(888), m = n(887), b = n(8).locationStore, v = n(19), _ = n(60), S = n(96), T = f.createClient({
requestOn: [ l["default"].getArticles ],
request: function A(e) {
var t = v.getState().locale, n = t.replace("-", "_").replace(/\_(.*)/, function a(e) {
return e.toUpperCase();
}), r = this.getContext(e), o = {
locale: n,
context: r || v.getHostingGame().gameId
};
return d.request("Aegis.listArticles", o);
},
getContext: function P(e) {
var t;
if ("InGame" === e) {
var n = S.getState().contextForInGame;
t = n.replace(/\//g, "-");
} else for (var r = b.history, o = r.length - 1; o >= 0; o--) if (-1 === r[o].path.indexOf("wwcesupport")) {
var a = r[o].path.replace(/\//g, "-");
t = a, console.log("Context being passed to fetch articles " + t);
break;
}
return t;
},
parse: function O(e) {
var t = this.sortArticlesByDate(e.articles), n = p.map(t, function(e) {
return new h({
id: e.articleId,
title: e.articleTitle,
summary: e.articleSummary,
categories: e.articleCategories
});
});
return {
showContactUs: e.showContactUs,
articleList: n
};
},
sortArticlesByDate: function R(e) {
var t = p.sortBy(e, function(e) {
return e.articlePublishDate;
});
return t.reverse();
},
onRequestError: function k(e) {
var t = this.getContext(S.getState().source);
t = t.replace(/-/g, "/"), _.spartaErrorMessage(__("ID_SPARTA_HELP_ERROR_MSG"), __("ID_SPARTA_MAIN_TITLE_HELP"), function n() {
"InGame" === S.getState().source ? i["default"].route("playing") : c["default"].gotoLocation(t);
});
},
update: function x(e) {
this.publish(e);
}
});
t.articleList = T;
var w = f.createClient({
requestOn: [ l["default"].getArticleDetail ],
request: function M(e) {
var t = v.getState().locale, n = t.replace("-", "_").replace(/\_(.*)/, function o(e) {
return e.toUpperCase();
}), r = {
locale: n,
articleId: e
};
return d.request("Aegis.parsedArticle", r);
},
onRequestError: function N(e) {
_.spartaErrorMessage(__("ID_SPARTA_HELP_ERROR_MSG"), __("ID_SPARTA_MAIN_TITLE_HELP"), function t() {
"InGame" === S.getState().source ? i["default"].route("playing") : c["default"].gotoLocation("wwcesupport/help");
});
},
parse: function D(e) {
var t = e.response, n = new y({
id: t.article.articleId,
content: t.article.articleContent,
categories: t.article.articleCategories,
title: t.article.articleTitle,
summary: t.article.articleSummary
});
return {
showContactUs: t.showContactUs,
article: n,
parsedArticle: e.parsedChunks
};
},
update: function U(e) {
this.publish(e);
}
});
t.articleDetail = w;
var E = f.createClient({
requestOn: [ l["default"].saveArticleMetrics ],
request: function L(e, t) {
var n = {
articleId: e,
isHelpful: t
};
return d.request("Aegis.articleMetrics", n);
},
parse: function $(e) {
return e;
},
update: function G(e) {
this.publish(e);
}
});
t.articleMetrics = E;
var I = f.createClient({
requestOn: [ l["default"].getContactChannels ],
request: function F(e, t) {
var n = v.getState().locale, r = n.replace("-", "_").replace(/\_(.*)/, function a(e) {
return e.toUpperCase();
}), o = {
locale: r,
category: e,
location: t
};
return d.request("Aegis.channels", o);
},
onRequestError: function B(e) {
_.spartaErrorMessage(__("ID_SPARTA_HELP_ERROR_MSG"), __("ID_SPARTA_MAIN_TITLE_HELP"), function t() {
"InGame" === S.getState().source ? i["default"].route("playing") : c["default"].gotoLocation("wwcesupport/help");
});
},
parse: function j(e) {
(p.isUndefined(e.channels) || null === e.channels || e.channels && 0 === e.channels.length) && _.spartaErrorMessage(__("ID_SPARTA_HELP_ERROR_MSG"), __("ID_SPARTA_MAIN_TITLE_HELP"), function r() {
"InGame" === S.getState().source ? i["default"].route("playing") : c["default"].gotoLocation("wwcesupport/help");
});
var t = this.sortByRecommendedChannel(e.channels), n = p.map(t, function(e) {
return new g({
message: e.channelMessage,
name: e.channelName,
rank: e.channelRank,
customerValue: e.customerValue,
lifeCycle: e.lifeCycle,
skill: e.skill,
waitTime: e.waitTime,
waitTimeRange: e.waitTimeRange,
notInBusinessHours: e.notBussinessHours
});
});
return {
countryCodes: e.countryCodes,
email: e.email,
phoneNumber: e.phoneNumber,
countryCode: e.countryCode,
channels: n
};
},
sortByRecommendedChannel: function H(e) {
var t = null;
if (p.each(e, function(e) {
"phone" === e.channelName && (t = e);
}, this), null != t && e.length > 1) {
var n = e.indexOf(t);
return e.splice(n, 1), e.splice(0, 0, t), e;
}
return e;
},
update: function V(e) {
this.publish(e);
}
});
t.contactChannels = I;
var C = f.createClient({
requestOn: [ l["default"].createCase ],
request: function z(e) {
var t = v.getState().locale, n = t.replace("-", "_").replace(/\_(.*)/, function i(e) {
return e.toUpperCase();
}), r = p.isUndefined(S.getState()) ? null : S.getState().selectedChannel, o = null != r ? {
lifeCycle: r.lifeCycle,
customerValue: r.customerValue,
countryCode: S.getState().countryCode,
skill: r.skill
} : null, a = {
locale: n,
email: e,
category: S.getState().selectedCategory,
callbackNumber: S.getState().phoneNumber,
channel: r.name,
payload: JSON.stringify(o)
};
return d.request("Aegis.createCase", a);
},
onRequestError: function W(e) {
_.spartaErrorMessage(__("ID_SPARTA_HELP_ERROR_MSG"), __("ID_SPARTA_MAIN_TITLE_HELP"), function t() {
"InGame" === S.getState().source ? i["default"].route("playing") : c["default"].gotoLocation("wwcesupport/help");
});
},
parse: function q(e) {
if (p.isUndefined(e.message) || "" === e.message) {
var t = new m({
channel: e.channel,
caseNumber: e.caseNumber,
waitTime: e.waitTime,
waitTimeRange: e.waitTimeRange
});
return {
caseDetail: t
};
}
return {
message: e.message,
messageCode: e.messageCode
};
},
update: function K(e) {
this.publish(e);
}
});
t.createCase = C;
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = n(26), i = r(a), s = n(192), l = n(80), u = r(l), c = new i["default"]("WwceSupportContactChannelStore"), p = o.createStore({
init: function f() {
s.contactChannels.listen(function(e) {
c = e, p.trigger(c);
}), u["default"].resetChannelDetailState.listen(function() {
c = {};
});
},
getState: function d() {
return c;
},
getInitialState: function h() {
return this.getState();
}
});
t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return i[e.name] || 0;
}
var o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start");
var a = {
FRUTIGER: {
LIGHT: "FrutigerLTStd-Light",
ROMAN: "FrutigerLTStd-Roman"
},
FUTURA: {
LIGHT: "FuturaMaxiStd-Light",
MEDIUM: "FuturaMaxiBook"
},
PURISTA: {
BOLD: "Purista-Bold",
MEDIUM: "Purista-Medium",
SEMI_BOLD: "Purista-SemiBold"
},
ROBOTO: {
BOLD: "Roboto-Bold",
LIGHT: "Roboto-Light",
MEDIUM: "Roboto-Medium",
THIN: "Roboto-Thin",
CONDENSED_BOLD: "RobotoCondensed-Bold",
CONDENSED_BOLD_ITALIC: "RobotoCondensed-BoldItalic",
CONDENSED_ITALIC: "RobotoCondensed-Italic",
CONDENSED_LIGHT: "RobotoCondensed-Light",
CONDENSED_LIGHT_ITALIC: "RobotoCondensed-LightItalic",
CONDENSED_REGULAR: "RobotoCondensed-Regular"
},
DFP_sougeitai_W5: "DFP_sougeitai_W5",
TunguskaJapanese: "TunguskaJapanese",
Asiajunggothic: "Asiajunggothic",
TunguskaKorean: "TunguskaKorean",
FuturaJP: "FuturaMaxiBook-JP",
FuturaAR: "FuturaMaxiBook-AR",
FuturaTC: "FuturaMaxiBook-TC",
HeitMedium: "ARHeitMediumB5"
}, i = {
"FuturaMaxiStd-Light": 2,
FuturaMaxiBook: 2
};
o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = {
fonts: a,
getLetterSpacing: r
};
}, function(e, t, n) {
"use strict";
var r = {};
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(506), o = n(954), a = n(521), i = n(530), s = n(531), l = n(32), u = (n(40), 
{}), c = null, p = function(e, t) {
e && (o.executeDispatchesInOrder(e, t), e.isPersistent() || e.constructor.release(e));
}, f = function(e) {
return p(e, !0);
}, d = function(e) {
return p(e, !1);
}, h = null, y = {
injection: {
injectMount: o.injection.injectMount,
injectInstanceHandle: function(e) {
h = e;
},
getInstanceHandle: function() {
return h;
},
injectEventPluginOrder: r.injectEventPluginOrder,
injectEventPluginsByName: r.injectEventPluginsByName
},
eventNameDispatchConfigs: r.eventNameDispatchConfigs,
registrationNameModules: r.registrationNameModules,
putListener: function(e, t, n) {
"function" != typeof n ? l(!1) : void 0;
var o = u[t] || (u[t] = {});
o[e] = n;
var a = r.registrationNameModules[t];
a && a.didPutListener && a.didPutListener(e, t, n);
},
getListener: function(e, t) {
var n = u[t];
return n && n[e];
},
deleteListener: function(e, t) {
var n = r.registrationNameModules[t];
n && n.willDeleteListener && n.willDeleteListener(e, t);
var o = u[t];
o && delete o[e];
},
deleteAllListeners: function(e) {
for (var t in u) if (u[t][e]) {
var n = r.registrationNameModules[t];
n && n.willDeleteListener && n.willDeleteListener(e, t), delete u[t][e];
}
},
extractEvents: function(e, t, n, o, a) {
for (var s, l = r.plugins, u = 0; u < l.length; u++) {
var c = l[u];
if (c) {
var p = c.extractEvents(e, t, n, o, a);
p && (s = i(s, p));
}
}
return s;
},
enqueueEvents: function(e) {
e && (c = i(c, e));
},
processEventQueue: function(e) {
var t = c;
c = null, e ? s(t, f) : s(t, d), c ? l(!1) : void 0, a.rethrowCaughtError();
},
__purge: function() {
u = {};
},
__getListenerBank: function() {
return u;
}
};
e.exports = y;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
var r = t.dispatchConfig.phasedRegistrationNames[n];
return b(e, r);
}
function o(e, t, n) {
var o = t ? m.bubbled : m.captured, a = r(e, n, o);
a && (n._dispatchListeners = y(n._dispatchListeners, a), n._dispatchIDs = y(n._dispatchIDs, e));
}
function a(e) {
e && e.dispatchConfig.phasedRegistrationNames && h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker, o, e);
}
function i(e) {
e && e.dispatchConfig.phasedRegistrationNames && h.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker, o, e);
}
function s(e, t, n) {
if (n && n.dispatchConfig.registrationName) {
var r = n.dispatchConfig.registrationName, o = b(e, r);
o && (n._dispatchListeners = y(n._dispatchListeners, o), n._dispatchIDs = y(n._dispatchIDs, e));
}
}
function l(e) {
e && e.dispatchConfig.registrationName && s(e.dispatchMarker, null, e);
}
function u(e) {
g(e, a);
}
function c(e) {
g(e, i);
}
function p(e, t, n, r) {
h.injection.getInstanceHandle().traverseEnterLeave(n, r, s, e, t);
}
function f(e) {
g(e, l);
}
var d = n(109), h = n(196), y = (n(40), n(530)), g = n(531), m = d.PropagationPhases, b = h.getListener, v = {
accumulateTwoPhaseDispatches: u,
accumulateTwoPhaseDispatchesSkipTarget: c,
accumulateDirectDispatches: f,
accumulateEnterLeaveDispatches: p
};
e.exports = v;
}, function(e, t, n) {
"use strict";
var r = n(32), o = !1, a = {
unmountIDFromEnvironment: null,
replaceNodeWithMarkupByID: null,
processChildrenUpdates: null,
injection: {
injectEnvironment: function(e) {
o ? r(!1) : void 0, a.unmountIDFromEnvironment = e.unmountIDFromEnvironment, a.replaceNodeWithMarkupByID = e.replaceNodeWithMarkupByID, 
a.processChildrenUpdates = e.processChildrenUpdates, o = !0;
}
}
};
e.exports = a;
}, function(e, t) {
"use strict";
var n = {
remove: function(e) {
e._reactInternalInstance = void 0;
},
get: function(e) {
return e._reactInternalInstance;
},
has: function(e) {
return void 0 !== e._reactInternalInstance;
},
set: function(e, t) {
e._reactInternalInstance = t;
}
};
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(140), a = n(336), i = {
view: function(e) {
if (e.view) return e.view;
var t = a(e);
if (null != t && t.window === t) return t;
var n = t.ownerDocument;
return n ? n.defaultView || n.parentWindow : window;
},
detail: function(e) {
return e.detail || 0;
}
};
o.augmentClass(r, i), e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(32), o = {
reinitializeTransaction: function() {
this.transactionWrappers = this.getTransactionWrappers(), this.wrapperInitData ? this.wrapperInitData.length = 0 : this.wrapperInitData = [], 
this._isInTransaction = !1;
},
_isInTransaction: !1,
getTransactionWrappers: null,
isInTransaction: function() {
return !!this._isInTransaction;
},
perform: function(e, t, n, o, a, i, s, l) {
this.isInTransaction() ? r(!1) : void 0;
var u, c;
try {
this._isInTransaction = !0, u = !0, this.initializeAll(0), c = e.call(t, n, o, a, i, s, l), 
u = !1;
} finally {
try {
if (u) try {
this.closeAll(0);
} catch (p) {} else this.closeAll(0);
} finally {
this._isInTransaction = !1;
}
}
return c;
},
initializeAll: function(e) {
for (var t = this.transactionWrappers, n = e; n < t.length; n++) {
var r = t[n];
try {
this.wrapperInitData[n] = a.OBSERVED_ERROR, this.wrapperInitData[n] = r.initialize ? r.initialize.call(this) : null;
} finally {
if (this.wrapperInitData[n] === a.OBSERVED_ERROR) try {
this.initializeAll(n + 1);
} catch (o) {}
}
}
},
closeAll: function(e) {
this.isInTransaction() ? void 0 : r(!1);
for (var t = this.transactionWrappers, n = e; n < t.length; n++) {
var o, i = t[n], s = this.wrapperInitData[n];
try {
o = !0, s !== a.OBSERVED_ERROR && i.close && i.close.call(this, s), o = !1;
} finally {
if (o) try {
this.closeAll(n + 1);
} catch (l) {}
}
}
this.wrapperInitData.length = 0;
}
}, a = {
Mixin: o,
OBSERVED_ERROR: {}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = function() {
function e(e, t) {
this.personaId = e, this.url = t;
}
return e;
}(), i = function() {
function e() {
this.personaEmblems = o.map();
}
return e.prototype.setEquippedEmblem = function(e) {
this.equippedEmblemTemplate = e;
}, e.prototype.addEmblemForPersona = function(e, t) {
this.personaEmblems.set(e, new a(e, t));
}, e.prototype.clearPersonaEmblems = function() {
this.personaEmblems.clear();
}, e.prototype.getEmblemForPersona = function(e) {
return this.personaEmblems.get(e);
}, e;
}();
r([ o.observable ], i.prototype, "equippedEmblemTemplate", void 0), r([ o.action ], i.prototype, "setEquippedEmblem", null), 
r([ o.action ], i.prototype, "addEmblemForPersona", null), r([ o.action ], i.prototype, "clearPersonaEmblems", null), 
t.emblemState = new i();
}, function(e, t, n) {
"use strict";
var r, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(9), i = n(355), s = n(282);
!function(e) {
e[e.none = 0] = "none", e[e.connecting = 1] = "connecting", e[e.established = 2] = "established", 
e[e.failed = 3] = "failed";
}(r = t.GatewaySessionState || (t.GatewaySessionState = {}));
var l = function() {
function e() {
this.session = new i.GatewaySession("", "", "", {}, new s.GameEntitlements()), this.sessionState = r.none;
}
return Object.defineProperty(e.prototype, "canConnect", {
get: function() {
return this.sessionState == r.none || this.sessionState == r.failed;
},
enumerable: !0,
configurable: !0
}), e.prototype.setSessionState = function(e, t) {
this.sessionState = e, this.session = t ? t : this.session;
}, e;
}();
o([ a.observable ], l.prototype, "session", void 0), o([ a.observable ], l.prototype, "sessionState", void 0), 
o([ a.computed ], l.prototype, "canConnect", null), o([ a.action ], l.prototype, "setSessionState", null), 
t.GatewayState = l;
}, function(e, t, n) {
"use strict";
var r = n(15);
t.launchGame = r.createAction(), t.countdownThenLaunchGame = r.createAction({
children: [ "cancel", "continue" ]
});
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(8), i = n(62), s = n(9), l = n(168), u = n(260), c = n(11), p = n(16), f = n(61), d = (n(29), 
[ 2180, 1226 ]), h = 80, y = SpartaGlobals.bundleIsPC ? p.Animation.presets.transition : p.Animation.defaultTweenOptions, g = .4, m = function() {
function e(e) {
var t = e.config;
this.url = t.backgroundUrl || c.bbOfflineUrl("/sparta/jsclient/builds/assets/generic_bg_2-6a4a26e3.jpg"), 
this.overlayUrl = t.backgroundOverlayUrl, this.size = t.backgroundSize || d, this.overlaySize = t.backgroundOverlaySize, 
this.skyColor = t.backgroundSkyColor, this.mainMenuIndex = e.mainMenuIndex, this.subMenuIndex = e.subMenuIndex, 
this.subMenuCount = e.subMenuConfigs.length, this.breadcrumbsCount = e.breadcrumbs.length, 
this.animation = t.backgroundAnimation;
}
return e.prototype.equals = function(e) {
var t = this.mainMenuIndex === e.mainMenuIndex, n = this.url === e.url;
return t && n;
}, e;
}();
o([ s.observable ], m.prototype, "url", void 0), o([ s.observable ], m.prototype, "overlayUrl", void 0), 
o([ s.observable ], m.prototype, "size", void 0), o([ s.observable ], m.prototype, "overlaySize", void 0), 
o([ s.observable ], m.prototype, "skyColor", void 0), o([ s.observable ], m.prototype, "mainMenuIndex", void 0), 
o([ s.observable ], m.prototype, "subMenuIndex", void 0), o([ s.observable ], m.prototype, "subMenuCount", void 0), 
o([ s.observable ], m.prototype, "breadcrumbsCount", void 0), o([ s.observable ], m.prototype, "animation", void 0), 
t.BackgroundInfo = m;
var b = function(e) {
function t(t, n) {
var r = e.call(this) || this;
return r.name = t, r.info = n, r;
}
return r(t, e), t.prototype.setContent = function(e) {
this.info = e;
}, t.prototype.contentEquals = function(e) {
return !!this.info && this.info.equals(e);
}, t;
}(l.ItemState);
o([ s.observable ], b.prototype, "info", void 0), o([ s.action ], b.prototype, "setContent", null), 
t.BackgroundItem = b;
var v = f.getState(), _ = function() {
function e() {
this.offsetX = p.Animation.tween("b4ef07c1:75", 0, y), this.offsetY = p.Animation.tween("b4ef07c1:76", 0, y), 
this.textureScale = p.Animation.tween("b4ef07c1:77", 1, y), this.blurStrength = p.Animation.tween("b4ef07c1:78", 0, y);
}
return e;
}(), S = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.viewOffsetX = v.viewOffsetX, t.comCenter = v.comCenter, t.extra = new u.ExtraElements(), 
t.backgroundTweens = new _(), t.overlayTweens = new _(), t;
}
return r(t, e), Object.defineProperty(t.prototype, "offsetX", {
get: function() {
return this.current && this.current.info ? this.getViewOffset(this.current.info) : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "overlayOffsetX", {
get: function() {
return 1.5 * this.offsetX + 600;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "offsetY", {
get: function() {
return 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "blurDepth", {
get: function() {
if (!this.current || !this.current.info) return 0;
var e = Math.max(1, this.current.info.breadcrumbsCount - 2);
return e > 1 ? e : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "blurStrength", {
get: function() {
return Math.min(2 * this.blurDepth, 20);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "overlayBlurStrength", {
get: function() {
return .2 * this.blurStrength;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "overlayOffsetY", {
get: function() {
var e = 0;
return 2 === this.blurDepth ? e = 100 : 3 === this.blurDepth && (e = 250), 1.4 * this.offsetY + e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "zoom", {
get: function() {
return 1 + this.getMenuDepth(this.current && this.current.info) * g;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "overlayZoom", {
get: function() {
return 1.05 * this.zoom;
},
enumerable: !0,
configurable: !0
}), t.getViewOffsetXStepWidth = function(e) {
var t = e.size[0];
if (i.uiState.window.width > t) return 0;
var n = Math.abs(i.uiState.window.width - t) / 2, r = Math.floor(n / (e.subMenuCount + 1));
return Math.min(r, h);
}, t.prototype.getViewOffset = function(e) {
var n = this.viewOffsetX ? 190 : 0, r = t.getViewOffsetXStepWidth(e), o = Math.max(e.subMenuIndex, 0), a = n + o * -r;
return SpartaGlobals.bundleIsConsole && this.comCenter && (a -= r), a * i.uiState.viewportScale.scaleX;
}, t.prototype.getMenuDepth = function(e) {
return e ? Math.max(e.breadcrumbsCount - 3, 0) : 0;
}, t.prototype.getSkyColor = function() {
return this.current && this.current.info && this.current.info.skyColor;
}, t;
}(l.EnterLeaveState);
o([ s.observable ], S.prototype, "viewOffsetX", void 0), o([ s.observable ], S.prototype, "comCenter", void 0), 
o([ s.computed ], S.prototype, "offsetX", null), o([ s.computed ], S.prototype, "overlayOffsetX", null), 
o([ s.computed ], S.prototype, "offsetY", null), o([ s.computed ], S.prototype, "blurDepth", null), 
o([ s.computed ], S.prototype, "blurStrength", null), o([ s.computed ], S.prototype, "overlayBlurStrength", null), 
o([ s.computed ], S.prototype, "overlayOffsetY", null), o([ s.computed ], S.prototype, "zoom", null), 
o([ s.computed ], S.prototype, "overlayZoom", null), t.backgroundContainer = new S(new m(a.layoutStateStore.current), new b("0", null), new b("1", null), new b("2", null), new b("3", null)), 
s.autorun(function() {
t.backgroundContainer.backgroundTweens.offsetX.to(t.backgroundContainer.offsetX), 
t.backgroundContainer.backgroundTweens.offsetY.to(t.backgroundContainer.offsetY), 
t.backgroundContainer.backgroundTweens.textureScale.to(t.backgroundContainer.zoom), 
t.backgroundContainer.backgroundTweens.blurStrength.to(t.backgroundContainer.blurStrength), 
t.backgroundContainer.overlayTweens.offsetX.to(t.backgroundContainer.overlayOffsetX), 
t.backgroundContainer.overlayTweens.offsetY.to(t.backgroundContainer.overlayOffsetY), 
t.backgroundContainer.overlayTweens.textureScale.to(t.backgroundContainer.overlayZoom), 
t.backgroundContainer.overlayTweens.blurStrength.to(t.backgroundContainer.overlayBlurStrength);
}), f.listen(s.action("background container visibility", function(e) {
t.backgroundContainer.viewOffsetX = e.viewOffsetX, t.backgroundContainer.comCenter = e.comCenter;
}));
var T = null;
s.reaction(function() {
return a.layoutStateStore.current;
}, s.action("bginfo route aggregate", function(e) {
var n = new m(e);
T && n.equals(T) ? t.backgroundContainer.current && t.backgroundContainer.current.setContent(n) : (T = n, 
t.backgroundContainer.switchToItem(n));
}));
}, function(e, t, n) {
"use strict";
function r(e, n, r) {
return a.Animation.tweenSwitch(e, n, r, t.slideOptions);
}
function o(e, t, n) {
return n ? t : e;
}
var a = n(16);
t.slideOptions = {
duration: SpartaGlobals.bundleIsPC ? 200 : 300,
easing: "CubicOut"
}, t.slideTween = r, t.focusTween = o;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(3), i = n(9), s = n(10).observer, l = n(62), u = n(16), c = n(36), p = n(56), f = {
x: -600,
y: 1600,
radius: 3e3,
angleX: -10,
angleY: -20,
angleZ: 15
}, d = {
x: -250,
y: 750,
radius: 1500,
angleX: -10,
angleY: -20,
angleZ: 15
}, h = function() {
function e() {
this.isVisible = !1, this.surfaceId = null, this.stateName = "Disable", this.stateChangeDuration = .8, 
this.radius = 10.04, this.fadeDistance = 2.05, this.glow = "#bbccff22", this.stateLocked = !1, 
this.tweens = {
x: u.Animation.tween("0bb62e6c:39", f.x),
y: u.Animation.tween("0bb62e6c:40", f.y),
radius: u.Animation.tween("0bb62e6c:41", f.radius),
cameraAngleX: u.Animation.tween("0bb62e6c:42", f.angleX),
cameraAngleY: u.Animation.tween("0bb62e6c:43", f.angleY),
cameraAngleZ: u.Animation.tween("0bb62e6c:44", f.angleZ)
};
}
return Object.defineProperty(e.prototype, "visible", {
get: function() {
return null !== this.surfaceId && this.isVisible;
},
enumerable: !0,
configurable: !0
}), e.prototype.setSurfaceId = function(e) {
this.surfaceId = e;
}, e.prototype.set = function(e, t, n) {
void 0 === t && (t = !1), void 0 === n && (n = this.stateChangeDuration), this.stateName = e, 
this.stateChangeDuration = n, this.stateLocked = t;
}, e.prototype.show = function() {
this.isVisible = !0;
}, e.prototype.hide = function() {
this.isVisible = !1;
}, e.prototype.moveToSpace = function(e) {
a.TweenBatching.start(), this.tweens.cameraAngleX.transition(f.angleX, d.angleX, e), 
this.tweens.cameraAngleY.transition(f.angleY, d.angleY, e), this.tweens.cameraAngleZ.transition(f.angleZ, d.angleZ, e), 
this.tweens.radius.transition(f.radius, d.radius, e), this.tweens.x.transition(f.x, d.x, e), 
this.tweens.y.transition(f.y, d.y, e), a.TweenBatching.stop();
}, e.prototype.moveToClouds = function(e) {
a.TweenBatching.start(), this.tweens.cameraAngleX.transition(d.angleX, f.angleX, e), 
this.tweens.cameraAngleY.transition(d.angleY, f.angleY, e), this.tweens.cameraAngleZ.transition(d.angleZ, f.angleZ, e), 
this.tweens.radius.transition(d.radius, f.radius, e), this.tweens.x.transition(d.x, f.x, e), 
this.tweens.y.transition(d.y, f.y, e), a.TweenBatching.stop();
}, e.prototype.setOnClouds = function() {
this.tweens.cameraAngleX.set(f.angleX), this.tweens.cameraAngleY.set(f.angleY), 
this.tweens.cameraAngleZ.set(f.angleZ), this.tweens.radius.set(f.radius), this.tweens.x.set(f.x), 
this.tweens.y.set(f.y);
}, e.prototype.setOffViewport = function() {
"Disable" !== this.stateName && (this.tweens.y.set(-Math.max(l.uiState.window.height, 2e3)), 
this.tweens.radius.set(Math.max(l.uiState.window.width / 2, 1200)));
}, e;
}();
r([ i.observable ], h.prototype, "isVisible", void 0), r([ i.observable ], h.prototype, "surfaceId", void 0), 
r([ i.observable ], h.prototype, "stateName", void 0), r([ i.observable ], h.prototype, "stateChangeDuration", void 0), 
r([ i.observable ], h.prototype, "radius", void 0), r([ i.observable ], h.prototype, "fadeDistance", void 0), 
r([ i.observable ], h.prototype, "glow", void 0), r([ i.computed ], h.prototype, "visible", null), 
r([ i.action ], h.prototype, "setSurfaceId", null), r([ i.action ], h.prototype, "set", null), 
r([ i.action ], h.prototype, "show", null), r([ i.action ], h.prototype, "hide", null), 
r([ i.action ], h.prototype, "moveToSpace", null), r([ i.action ], h.prototype, "moveToClouds", null), 
r([ i.action ], h.prototype, "setOnClouds", null), r([ i.action ], h.prototype, "setOffViewport", null), 
t.GlobeState = h, t.globeState = new h(), i.autorun(function() {
if (t.globeState.surfaceId) {
var e = {
enable: !0,
surfId: t.globeState.surfaceId || "",
radius: t.globeState.radius,
fadeDistance: t.globeState.fadeDistance,
glow: t.globeState.glow
};
a.frostbite.sendMessage("sparta.setGlobeSurface", e);
}
});
var y = !0;
c.scope("navigationState").listen(function(e) {
t.globeState.stateLocked || (e === p.FrontEnd ? (t.globeState.set("Sparta"), y && (t.globeState.setOffViewport(), 
y = !1)) : e === p.LoadingScreen && t.globeState.set("Disable"));
}), i.autorun(function() {
a.frostbite.sendMessage("sparta.setGlobeState", {
state: t.globeState.stateName,
duration: t.globeState.stateChangeDuration
});
});
var g = {
translateX: t.globeState.tweens.x.getStyle(),
translateY: t.globeState.tweens.y.getStyle(),
scaleX: t.globeState.tweens.radius.getStyle(),
scaleY: t.globeState.tweens.radius.getStyle(),
rotateX: t.globeState.tweens.cameraAngleX.getStyle(),
rotateY: t.globeState.tweens.cameraAngleY.getStyle(),
rotateZ: t.globeState.tweens.cameraAngleZ.getStyle()
}, m = function(e) {
return t.globeState.setSurfaceId(e);
};
t.TunguskaGlobe = s(function() {
var e = {
enable: t.globeState.visible,
zOffset: 75,
position: "absolute",
left: l.uiState.viewportPosition.left,
top: l.uiState.viewportPosition.top,
width: l.uiState.window.width,
height: l.uiState.window.height,
opacity: t.globeState.visible ? 1 : 0
};
return o.createElement("surface", {
style: e,
onSurfaceId: m
}, o.createElement("surface", {
style: g
}));
});
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(3), a = n(9), i = function() {
function e(e, t, n, r) {
this.title = e, this.description = t, this.codeBooksTotal = n, this.codeBooksCollected = r;
}
return e;
}();
t.ObjectiveItem = i;
var s = function() {
function e(e, t, n, r) {
this.title = e, this.description = t, this.levelPath = n, this.gameMode = r;
}
return e;
}();
t.MPLevelItem = s;
var l = function() {
function e() {
this.currentObjective = null, this.currentMPLevel = null;
}
return e.prototype.updateObjective = function(e) {
this.currentObjective = e;
}, e.prototype.updateMPLevel = function(e) {
this.currentMPLevel = e;
}, e.prototype.clearObjective = function() {
this.currentObjective = null;
}, e.prototype.clearMpLevel = function() {
this.currentMPLevel = null;
}, e;
}();
r([ a.observable ], l.prototype, "currentObjective", void 0), r([ a.observable ], l.prototype, "currentMPLevel", void 0), 
r([ a.action ], l.prototype, "updateObjective", null), r([ a.action ], l.prototype, "updateMPLevel", null), 
r([ a.action ], l.prototype, "clearObjective", null), r([ a.action ], l.prototype, "clearMpLevel", null), 
t.TunguskaLevelStore = l, t.tunguskaLevelStore = new l(), o.frostbite.registerMessageListener("tunguska.CurrentObjectiveResponse", function(e, n) {
if (n) {
var r = n.objective || "", o = n.description || "", a = n.codeBooksCollected || 0, s = n.codeBooksTotal || 0;
t.tunguskaLevelStore.updateObjective(new i(r, o, s, a));
}
}), o.frostbite.registerMessageListener("tunguska.levelDescriptionResponse", function(e, n) {
if (n) {
var r = n.name || "", o = n.description || "", a = n.levelPath || "", i = n.currentGameMode || "";
t.tunguskaLevelStore.updateMPLevel(new s(r, o, a, i));
}
});
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(75), i = 5e3;
t.maxPartySize = 0, SpartaGlobals.bundleIsPC ? t.maxPartySize = 16 : SpartaGlobals.bundleIsXBOXONE ? t.maxPartySize = 5 : SpartaGlobals.bundleIsPS4 && (t.maxPartySize = 8);
var s;
!function(e) {
e[e.None = 0] = "None", e[e.Creating = 1] = "Creating", e[e.Stable = 2] = "Stable", 
e[e.Leaving = 3] = "Leaving";
}(s = t.PartyState || (t.PartyState = {}));
var l = function() {
function e(e) {
this.spartaUserId = e, this.createdAt = new Date();
}
return e;
}();
t.PartyInvite = l;
var u = function() {
function e(e, t, n, r) {
var o = this;
this.nativePropertiesStore = e, this.userStore = t, this.partyActions = n, this.partyEvents = r, 
this.expansionMask = 0, this.squadSize = 0, this.state = s.None, this.invitations = {}, 
this.memberIds = {}, this.invitationTimeouts = {}, this.onPartyDisbanded = function() {
o.blazeGroupId = void 0, o.state = s.None, o.memberIds = {}, o.invitations = {};
}, this.onPartyMembersUpdated = function(e) {
o.memberIds = e, o.members.forEach(function(e) {
return o.expireInvitationForUser(e.spartaUserId);
});
}, this.onPartyUpdated = function(e) {
for (var t in e) e.hasOwnProperty(t) && (o[t] = e[t]);
}, this.partyEvents.onPartyMembersUpdated.listen(this.onPartyMembersUpdated), this.partyEvents.onPartyUpdated.listen(this.onPartyUpdated), 
this.partyEvents.onPartyDisbanded.listen(this.onPartyDisbanded);
}
return Object.defineProperty(e.prototype, "members", {
get: function() {
var e = this;
return Object.keys(this.memberIds).map(function(t) {
return e.userStore.users.get(t);
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "playableMemberIds", {
get: function() {
return this.members.filter(function(e) {
return e.presence.state === a.UserPresenceStates.Playing || e.presence.state === a.UserPresenceStates.Joinable;
}).map(function(e) {
return e.spartaUserId;
});
},
enumerable: !0,
configurable: !0
}), e.prototype.canGroupJoin = function(e) {
return this.isInSquadJoin ? !0 : this.isInAParty && this.playableMemberIds.length > 1;
}, Object.defineProperty(e.prototype, "size", {
get: function() {
return this.members.length;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isFull", {
get: function() {
return this.size >= t.maxPartySize;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isInAParty", {
get: function() {
return this.blazeGroupId && "0" !== this.blazeGroupId;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canCreateParty", {
get: function() {
return this.state === s.None;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canLeaveParty", {
get: function() {
return SpartaGlobals.bundleIsXBOXONE && 1 === this.size ? !1 : this.state === s.Stable;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canSquadJoin", {
get: function() {
return null != this.gotoSquadJoin;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "gotoSquadJoin", {
get: function() {
var e = this.nativePropertiesStore.getHostingGame();
return e && e.joinConfig.squadJoin ? e.joinConfig.squadJoin : null;
},
enumerable: !0,
configurable: !0
}), e.prototype.waitForCreation = function() {
var e = this;
return new Promise(function(t, n) {
if (e.isInAParty) t(e); else {
var r = setTimeout(function() {
return n(e);
}, 5e3), o = function() {
return setTimeout(function() {
e.isInAParty ? (clearTimeout(r), t(e)) : o();
}, 100);
};
o();
}
});
}, e.prototype.leaveParty = function() {
this.partyActions.leave();
}, e.prototype.createParty = function() {
this.partyActions.create();
}, e.prototype.inviteToParty = function(e) {
var t = this;
this.hasInvitationForUser(e.spartaUserId) || this.waitForCreation().then(function() {
var n = e.spartaUserId.getPlatformId();
t.invitations[n] = new l(e.spartaUserId), t.invitationTimeouts[n] = setTimeout(function() {
return t.expireInvitationForUser(e.spartaUserId);
}, i), t.partyActions.invite(e);
});
}, e.prototype.hasMember = function(e) {
return this.memberIds.hasOwnProperty(e.getPlatformId());
}, e.prototype.hasInvitationForUser = function(e) {
return this.invitations.hasOwnProperty(e.getPlatformId());
}, e.prototype.expireInvitationForUser = function(e) {
var t = e.getPlatformId();
delete this.invitations[t], delete this.invitationTimeouts[t];
}, e.prototype.setInSquadJoin = function(e) {
this.isInSquadJoin = e;
}, e.prototype.canInviteUserToParty = function(e) {
if (this.canSquadJoin) return !1;
if (!this.isInAParty) return !1;
var n = Math.max(0, t.maxPartySize - this.size);
return 0 === n ? !1 : e ? e.presence.state !== a.UserPresenceStates.Offline && !this.isFull && !this.hasMember(e.spartaUserId) && !this.hasInvitationForUser(e.spartaUserId) : !0;
}, e;
}();
r([ o.observable ], u.prototype, "id", void 0), r([ o.observable ], u.prototype, "gameId", void 0), 
r([ o.observable ], u.prototype, "blazeGroupId", void 0), r([ o.observable ], u.prototype, "expansionMask", void 0), 
r([ o.observable ], u.prototype, "isInSquadJoin", void 0), r([ o.observable ], u.prototype, "squadSize", void 0), 
r([ o.observable ], u.prototype, "state", void 0), r([ o.observable ], u.prototype, "invitations", void 0), 
r([ o.observable ], u.prototype, "memberIds", void 0), r([ o.computed ], u.prototype, "members", null), 
r([ o.computed ], u.prototype, "playableMemberIds", null), r([ o.computed ], u.prototype, "size", null), 
r([ o.computed ], u.prototype, "isFull", null), r([ o.computed ], u.prototype, "isInAParty", null), 
r([ o.computed ], u.prototype, "canCreateParty", null), r([ o.computed ], u.prototype, "canLeaveParty", null), 
r([ o.computed ], u.prototype, "canSquadJoin", null), r([ o.computed ], u.prototype, "gotoSquadJoin", null), 
r([ o.action ], u.prototype, "expireInvitationForUser", null), r([ o.action ], u.prototype, "setInSquadJoin", null), 
r([ o.action ], u.prototype, "onPartyDisbanded", void 0), r([ o.action ], u.prototype, "onPartyMembersUpdated", void 0), 
r([ o.action ], u.prototype, "onPartyUpdated", void 0), t.PartyStore = u;
}, function(e, t, n) {
"use strict";
function r(e, t) {
var n = JSON.stringify(t);
return e.currentRequests.findAll(function(e) {
return JSON.stringify(e.params) === n;
}).length > 0;
}
function o(e, t, n, r) {
return t === u.ERROR;
}
var a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(9), s = n(630), l = function() {
function e(e, t) {
this.endpoint = e, this.resultHandlers = [], this.requirementDeterminators = [], 
this.currentRequests = new c(this), this.config = t;
}
return e.prototype.clearHandlers = function() {
this.resultHandlers = [], this.requirementDeterminators = [];
}, e.prototype.withThrottling = function(e, t) {
return this.config.throttleTimeout = e, t && t.throttleDeterminator && (this.config.throttleDeterminator = t.throttleDeterminator), 
this;
}, e.prototype.withRetries = function(e, t, n) {
return this.config.maxRetries = e, this.config.retryTimeout = t, n && (n.retryDeterminator && (this.config.retryDeterminator = n.retryDeterminator), 
n.retryParams && (this.config.retryParams = n.retryParams)), this;
}, e.prototype.withRequestPerformer = function(e) {
return this.config.requestPerformer = e, this;
}, e.prototype.addResultHandler = function(e) {
var t = this, n = function() {
var n = t.resultHandlers.indexOf(e);
t.resultHandlers.splice(n, 1);
};
return this.resultHandlers.push(e), n;
}, e.prototype.handleResult = function(e) {
return this.resultHandlers.forEach(function(t) {
t(e);
}), e;
}, e.prototype.addRequirement = function(e) {
var t = this, n = function() {
var n = t.requirementDeterminators.indexOf(e);
t.requirementDeterminators.splice(n, 1);
};
return this.requirementDeterminators.push(e), n;
}, e.prototype.checkRequirements = function(e) {
var t = this;
if (0 === this.requirementDeterminators.length) return !0;
var n = !0;
return this.requirementDeterminators.forEach(function(r) {
return n ? void (n = r(t, e)) : !1;
}), n;
}, e.prototype.request = function(e) {
var t = this;
if (!this.checkRequirements(e)) {
var n = new d(u.UNSATISFIED);
return this.handleResult(n);
}
if (this.config.throttleTimeout) {
var o = this.config.throttleDeterminator || r, a = this.currentRequests.length > 0, s = a && o && o(this, e);
if (s) {
var l = new d(u.THROTTLED);
return this.handleResult(l);
}
}
var c = new f(this, e, this.config.requestPerformer), p = new d(u.PENDING, c);
return this.currentRequests.add(c), i.when(function() {
return p.isComplete;
}, function() {
t.currentRequests.remove(c, t.config.throttleTimeout || 0);
}), this.handleResult(p);
}, e;
}();
t.Client = l;
var u, c = function() {
function e(e) {
this.client = e, this.requests = [];
}
return e.prototype.add = function(e) {
this.requests.push(e);
}, Object.defineProperty(e.prototype, "length", {
get: function() {
return this.requests.length;
},
enumerable: !0,
configurable: !0
}), e.prototype.findAll = function(e) {
var t = [];
return this.requests.forEach(function(n) {
e(n) && t.push(n);
}), t;
}, e.prototype.remove = function(e, t) {
var n = this;
void 0 === t && (t = 0), setTimeout(function() {
var t = n.requests.indexOf(e);
t >= 0 && n.requests.splice(t, 1);
}, t);
}, e;
}();
!function(e) {
e[e.THROTTLED = 0] = "THROTTLED", e[e.UNSATISFIED = 1] = "UNSATISFIED", e[e.PENDING = 2] = "PENDING", 
e[e.RETRYING = 3] = "RETRYING", e[e.SUCCESS = 4] = "SUCCESS", e[e.ERROR = 5] = "ERROR";
}(u = t.RequestState || (t.RequestState = {}));
var p = [ u.THROTTLED, u.UNSATISFIED, u.ERROR, u.SUCCESS ], f = function() {
function e(e, t, n) {
this.client = e, this.performer = n, this.status = u.PENDING, this.attempt = 1, 
this.performRequest(t);
}
return e.prototype.performRequest = function(e, t) {
var n = this;
void 0 === t && (t = 1), this.params = e, this.attempt = t, this.update(u.PENDING), 
this.performer(this.client.endpoint, e).then(function(e) {
n.shouldRetry(u.SUCCESS, e, void 0) || n.update(u.SUCCESS, e);
})["catch"](function(e) {
if (n.shouldRetry(u.ERROR, void 0, e) || n.update(u.ERROR, void 0, e), e && e.stack) throw new Error(e.stack);
});
}, e.prototype.update = function(e, t, n) {
this.status = e, this.response = t, this.error = n;
}, e.prototype.shouldRetry = function(e, t, n) {
var r = this, a = this.client.config;
if (a.maxRetries && this.attempt <= a.maxRetries) {
var i = a.retryDeterminator || o;
if (i && i(this, e, t, n)) {
this.update(u.RETRYING);
var s = a.retryParams ? a.retryParams(this) : this.params;
return setTimeout(function() {
r.performRequest(s, r.attempt + 1);
}, a.retryTimeout), !0;
}
}
}, e;
}();
a([ i.observable ], f.prototype, "status", void 0), a([ i.observable ], f.prototype, "response", void 0), 
a([ i.observable ], f.prototype, "error", void 0), a([ i.action ], f.prototype, "update", null), 
t.Request = f;
var d = function() {
function e(e, t) {
this.initialStatus = e, this.request = t, this.disposers = [];
}
return Object.defineProperty(e.prototype, "status", {
get: function() {
return this.request ? this.request.status : this.initialStatus;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "error", {
get: function() {
return this.request ? this.request.error : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "response", {
get: function() {
return this.request ? this.request.response : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isComplete", {
get: function() {
switch (this.status) {
case u.PENDING:
case u.RETRYING:
return !1;

case u.UNSATISFIED:
case u.THROTTLED:
case u.SUCCESS:
case u.ERROR:
return !0;

default:
return s.unexhaustiveSwitch(this.status);
}
},
enumerable: !0,
configurable: !0
}), e.prototype.dispose = function() {
this.disposers.forEach(function(e) {
e();
});
}, e.prototype.onStatusChange = function(e, t, n) {
var r = this;
void 0 === n && (n = !1), "function" == typeof t && this.disposers.push(i.reaction(function() {
return r.status;
}, function() {
r.status === e && (t(), n && setTimeout(function() {
return r.dispose();
}, 0));
}, !0));
}, e.prototype.onThrottled = function(e) {
return this.onStatusChange(u.THROTTLED, function() {
return e();
}, !0), this;
}, e.prototype.onPending = function(e) {
return this.onStatusChange(u.PENDING, function() {
return e();
}), this;
}, e.prototype.onUnsatisfied = function(e) {
return this.onStatusChange(u.UNSATISFIED, function() {
return e();
}, !0), this;
}, e.prototype.onRetrying = function(e) {
return this.onStatusChange(u.RETRYING, function() {
return e();
}), this;
}, e.prototype.onSuccess = function(e) {
var t = this;
return this.onStatusChange(u.SUCCESS, function() {
return e(t.response);
}, !0), this;
}, e.prototype.onError = function(e) {
var t = this;
return this.onStatusChange(u.ERROR, function() {
return e(t.error);
}, !0), this;
}, e.prototype.onFinished = function(e) {
var t = this, n = function() {
setTimeout(function() {
return e();
}, 0);
};
p.forEach(function(e) {
t.onStatusChange(e, function() {
return n();
});
});
}, e;
}();
a([ i.computed ], d.prototype, "status", null), a([ i.computed ], d.prototype, "error", null), 
a([ i.computed ], d.prototype, "response", null), a([ i.computed ], d.prototype, "isComplete", null), 
t.Result = d;
}, function(e, t, n) {
"use strict";
function r(e) {
if (!l.getBuildInfo().isRetail()) throw new Error(e);
}
function o(e) {
return "string" == typeof e ? "#" === e.substr(0, 1) : "number" == typeof e ? isFinite(e) : "undefined" == typeof e ? !0 : "object" == typeof e ? null === e || Array.isArray(e) && 4 === e.length : !1;
}
function a(e) {
if (o(e.from) || (e = i.assign({}, e, {
from: null
}), r("Infinity or NaN passed in Tween from value")), o(e.to) || (e = i.assign({}, e, {
to: null
}), r("Infinity or NaN passed in Tween to value")), e.options && null != e.options.duration && !isFinite(e.options.duration)) {
var t = i.assign({}, e.options, {
duration: null
});
e = i.assign({}, e, {
options: t
}), r("Infinity or NaN passed in Tween duration value");
}
return e;
}
var i = n(261), s = n(9), l = n(101), u = n(148), c = n(76), p = n(147), f = n(47), d = {}, h = function() {
function e(e, t, n) {
void 0 === n && (n = {}), this.id = e, this.initialValue = t, this.defaultOptions = n, 
this._isDestroyed = !1, this.isTweening = !1, this.previousInstruction = {
to: t,
options: n
}, d[e] = this, f.nativeApi.createTween(e, "undefined" != typeof t ? t : null);
}
return e.instructionsEquals = function(t, n) {
return t.from === n.from && t.to === n.to && e.optionsEquals(t.options, n.options);
}, e.optionsEquals = function(e, t) {
return e.duration === t.duration && e.speed === t.speed && e.easing === t.easing && e.delay === t.delay;
}, e.getStyles = function(t) {
var n = {};
for (var r in t) if (t.hasOwnProperty(r)) {
var o = t[r];
o instanceof e ? n[r] = o.getStyle() : n[r] = e.getStyles(o);
}
return n;
}, e.prototype.onTweenStatus = function(e) {
0 === e && (this.isTweening = !1, this._endCallback && this._endCallback());
}, e.prototype.addCallback = function(e) {
var t = this;
if (e) {
var n = this._endCallback;
this._endCallback = function() {
t._endCallback = null, n && n(), e();
};
}
}, e.prototype.isDestroyed = function() {
return this._isDestroyed;
}, e.prototype.destroy = function() {
this.cancelAutorun && this.cancelAutorun(), this._isDestroyed = !0, delete d[this.id], 
f.nativeApi.destroyTween(this.id);
}, e.prototype.instruct = function(t, n) {
var o = u.start();
this._isDestroyed ? c.options.enableDevWarnings && r("Tween.instruct: Trying to update destroyed Tween with id " + this.id) : (n || (t = {
from: t.from,
to: t.to,
options: i.assign({}, this.defaultOptions, t.options)
}), void 0 === t.from && e.instructionsEquals(this.previousInstruction, t) ? this.isTweening || this._endCallback && this._endCallback() : (t = a(t), 
this.previousInstruction = t, this.isTweening = !0, p.TweenBatching.batch.push({
tween: this,
instruction: t
}), 0 === p.TweenBatching.depth && p.TweenBatching.flush())), u.end("instruct", o);
}, e.prototype.transition = function(e, t, n, o) {
if (this._isDestroyed) c.options.enableDevWarnings && r("Tween.transition: Trying to update destroyed Tween with id " + this.id); else {
this.cancelAutorun && this.cancelAutorun();
var a = i.assign({}, this.defaultOptions, n);
this._isDestroyed || this.instruct({
from: e,
to: t,
options: a
}, !0), "function" == typeof o ? setTimeout(o, a.delay ? a.delay + a.duration : a.duration) : "undefined" != typeof o && console.error("Invalid callback passed as argument to Tween.transition", o);
}
}, e.prototype.from = function(e, t, n) {
this._isDestroyed ? c.options.enableDevWarnings && r("Tween.from: Trying to update destroyed Tween with id " + this.id) : this.transition(e, void 0, t || {}, n);
}, e.prototype.autorun = function(e) {
var t = this;
this.cancelAutorun && this.cancelAutorun(), this.cancelAutorun = s.autorun(function() {
return e(t);
});
}, e.prototype.to = function(e, t, n) {
this._isDestroyed ? c.options.enableDevWarnings && r("Tween.to: Trying to update destroyed Tween with id " + this.id) : this.transition(void 0, e, t || {}, n);
}, e.prototype.set = function(e, t) {
this._isDestroyed ? c.options.enableDevWarnings && r("Tween.set: Trying to update destroyed Tween with id " + this.id) : this.transition(e, e, {
speed: null,
duration: 1
}, t);
}, e.prototype.get = function() {
return this._isDestroyed ? (c.options.enableDevWarnings && r("Tween.get: Trying to get a value for destroyed Tween with id " + this.id), 
0) : f.nativeApi.getTweenValueSync(this.id);
}, e.prototype.getStyle = function() {
return this.id;
}, e;
}();
t.Tween = h, f.nativeApi.onTweenStatus = function(e, t) {
var n = d[e];
n && n.onTweenStatus(t);
};
}, function(e, t, n) {
"use strict";
function r(e) {
var t = p.nativeApi.getSurfaceBoundsSync(e);
return t && "number" == typeof t.x ? t : null;
}
function o(e) {
if (p.nativeApi.isCallSupported("getSurfacesBoundsSync")) return p.nativeApi.getSurfacesBoundsSync(e);
for (var t = u.batchSyncCalls(e.map(function(e) {
return {
func: "getSurfaceBoundsSync",
args: [ e ]
};
})), n = {}, r = 0; r < e.length; r++) {
var o = e[r], a = t[r];
a && "number" == typeof a.x && (n[o] = a);
}
return n;
}
function a(e) {
f[e] ? f[e]++ : f[e] = 1;
}
function i(e) {
f[e] && (f[e]--, 0 === f[e] && delete f[e]);
}
function s(e, n) {
a(e);
var r = c.reaction(function() {
return t.surfaceToBounds.get(e);
}, function(e) {
e && n(e);
});
return function o() {
r(), i(e);
};
}
function l(e) {
return !!f[e];
}
var u = n(379), c = n(9), p = n(47);
p.nativeApi.onSurfaceBoundsChanged = c.action("onSurfaceBoundsChanged", function(e) {
e.forEach(function(e) {
l(e.surfaceId) && t.surfaceToBounds.set(e.surfaceId, e);
});
}), t.getBoundsSync = r, t.getMultipleBoundsSync = o, t.surfaceToBounds = c.map();
var f = {};
t.addSubscription = a, t.removeSubscription = i, t.subscribeToBounds = s, t.hasSubscription = l;
}, function(e, t, n) {
function r(e) {
for (var t in e) {
if ("rateOfFire" === t) {
var n = e[t];
e[t] = n && "0" !== n ? n : null;
}
if ("range" === t) {
var r = e.statRange;
r > 0 && (e[t] = "");
}
}
return e;
}
function o(e) {
var t = [ "WeaponAccessory/Fancy/TDD_fancy" ];
return d.some(t, function(t) {
return e.images.Small && -1 !== e.images.Small.indexOf(t);
});
}
t.__esModule = !0;
var a = n(347), i = n(346), s = n(543), l = n(345), u = n(100), c = n(141), p = n(8), f = n(246), d = n(5), h = n(21), y = n(50).gatewayClient, g = h.createClient({
throttle: 3e4,
request: function b(e) {
return y.request("Progression.getWeapons", {
game: e
});
},
parse: function v(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? "" : arguments[1], n = arguments.length <= 2 || void 0 === arguments[2] ? {
black: "",
white: ""
} : arguments[2];
return d.compact(d.map(e, function(e) {
var o = d.map(e.weapons, function(o) {
return new a.Weapon({
code: o.guid,
images: o.images,
hires: o.hires.hasOwnProperty("Small") ? o.hires : o.images,
name: o.name,
description: o.description,
progression: new u.Progression(o.progression),
stats: o.stats,
info: r(o.info),
star: o.star,
price: o.price,
kit: {
name: t,
images: n
},
category: e.name,
categoryId: e.categoryId,
expansion: o.expansion,
premium: o.premium,
unlockRequirements: o.unlockRequirements.map(function(e) {
return new i.Unlock(e);
})
});
});
return new s.WeaponCategory({
name: e.name,
categoryId: e.categoryId,
items: d.filter(o, function(e) {
return e;
})
});
}));
},
onRequestError: function _(e, t) {
this.publish(t, null, e);
},
update: function S(e, t, n) {
this.publish(n, e);
}
});
t.WeaponClient = g;
var m = h.createClient({
throttle: 3e4,
request: function T(e, t) {
var n = p.onlineState.sessionUserId.personaId;
return y.request("Progression.getWeaponAccessories", {
game: e,
guid: t,
personaId: n
});
},
parse: function w(e, t, n) {
return e = d.map(e, function(e) {
return e.progression || (e.progression = {}), new l.Accessory({
images: e.images,
name: e.name,
description: e.description.replace("\\n", ""),
progression: new u.Progression(e.progression)
});
}).sort(c.sortItemsByProgression), e = "6EE7C001-3551-4842-AB91-A0ABE81B798B" === n ? [ e, [] ] : d.partition(e, function(e) {
return e.progression.needed > 1 || o(e);
}), e = {
progression: e[0] || [],
battlepacks: e[1] || []
};
},
update: function E(e, t, n, r) {
f.weaponAccessoriesStore.addAccessoriesForWeapon(r, e);
}
});
t.AccessoriesClient = m;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(51), s = n(268), l = r(s), u = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, {}), this.externalStores = [], this.clientMedals = {}, 
l["default"].listen(function(e, t) {
n.clientMedals[e] = t, n.rebuildState();
});
}
return a(t, e), t.prototype.rebuildState = function n() {
var e = {};
for (var t in this.clientMedals) e[t] = this.clientMedals[t].slice();
this.externalStores.forEach(function(t) {
var n = t.getState();
for (var r in n) {
var o = n[r], a = e[r];
a ? a.push.apply(a, o) : e[r] = o;
}
}), this.setState(e);
}, t.prototype.addExternal = function r(e) {
var t = this;
this.externalStores.push(e), e.listen(function() {
return t.rebuildState();
});
}, t;
}(i.Store);
t["default"] = new u(), e.exports = t["default"];
}, function(e, t) {
function n(e) {
this.id = e.id, this.name = e.name, this.items = e.items, this.infoComponent = e.infoComponent, 
this.muted = !e.items || 0 === e.items.length, this.sortOrder = e.sortOrder || 0;
}
e.exports = n;
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return b(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(6), h = s(d), y = n(7), g = n(33), m = {
_$LegalContent: {
displayName: "LegalContent"
}
}, b = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/components/LegalContent.jsx",
components: m,
locals: [],
imports: []
}), v = n(117), _ = {
paragraph: {
margin: [ 0, 0, 30, 0 ]
},
scrollerContainer: {
margin: [ 40, 40, 40, 40 ]
}
}, S = {
header: SpartaGlobals.bundleIsConsole ? "XL" : "XXL",
heading: SpartaGlobals.bundleIsConsole ? "S" : "M",
text: SpartaGlobals.bundleIsConsole ? "S" : "M",
subtext: SpartaGlobals.bundleIsConsole ? "XS" : "S",
fineprint: SpartaGlobals.bundleIsConsole ? "XXS" : "S"
}, T = "PC" === v.getPlatform() ? 1 : .75, w = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.createScroller = function s(e) {
var t = h["default"].getHeight(105 * T), n = h["default"].getWidth(24 * T), o = [];
switch (this.settings = v.getCopyPage("settings"), this.props.legal) {
case "terms":
o = v.getProperty(this.settings, "url.accessTosData");
}
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: g.Scroller,
key: null,
ref: null,
props: r(g.Scroller.defaultProps, {
children: this.createContent(o),
style: {
height: t,
width: n
},
controller: !0,
scrollbarPosition: "inside"
}),
_owner: null
},
style: _.scrollerContainer
},
_owner: null
};
}, t.prototype.createContent = function l(e) {
for (var t = [], n = 0; n < e.length; n++) t.push({
$$typeof: c,
type: y.Text,
key: null,
ref: null,
props: r(y.Text.defaultProps, {
value: e[n],
size: S.text,
style: _.paragraph
}),
_owner: null
});
return t;
}, t.prototype.render = function u() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.createScroller(this.props.legal)
},
_owner: null
};
};
var n = t;
return t = i("_$LegalContent")(t) || t;
}(f["default"].Component);
t["default"] = w, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return function(t) {
return H(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l() {
D["default"].display(new L["default"]({
content: {
$$typeof: p,
type: G["default"],
key: null,
ref: null,
props: a(G["default"].defaultProps, {
legal: "terms"
}),
_owner: null
},
id: "linkTextPopup",
fullScreen: !0,
inputs: [ new M["default"]({
label: __("ID_SPARTA_ACTION_CLOSE", !0),
key: O["default"].Decline
}) ]
}));
}
var u = n(4), c = s(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(105), y = s(h), g = n(7), m = n(6), b = s(m), v = n(37), _ = n(408), S = s(_), T = n(409), w = s(T), E = n(407), I = s(E), C = n(27), A = s(C), P = n(12), O = s(P), R = n(20), k = s(R), x = n(13), M = s(x), N = n(25), D = s(N), U = n(42), L = s(U), $ = n(216), G = s($), F = n(8), B = n(30), j = {
_$LearnMore: {
displayName: "LearnMore"
}
}, H = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/LearnMore.jsx",
components: j,
locals: [],
imports: []
}), V = v.getTextSizes("en-us".toLowerCase()), z = n(117), W = "/store/access/common-questions", q = "/store/list?tab=access", K = "PC" === z.getPlatform() ? 1 : .75, X = 3 * K, Y = .1, J = {
header: "XL",
heading: "S",
text: "S",
subtext: "XS",
fineprint: "XXS"
}, Q = {
container: {},
columnMain: {
width: SpartaGlobals.bundleIsPC ? b["default"].getWidth(12) : b["default"].getWidth(10.5)
},
columnSidebar: {
width: SpartaGlobals.bundleIsPC ? b["default"].getWidth(5) : b["default"].getWidth(6)
},
columnAuxiliary: {
width: SpartaGlobals.bundleIsPC ? b["default"].getWidth(5) : b["default"].getWidth(7)
},
columnLegal: {
width: b["default"].getWidth(24)
},
columnBorder: {},
rowMain: {
height: SpartaGlobals.bundleIsPC ? b["default"].getHeight(88) : b["default"].getHeight(68)
},
rowLegal: {
height: b["default"].getHeight(X)
},
rowBorder: {
height: b["default"].getHeight(Y)
},
header: {
marginBottom: 35
},
heading: {
marginBottom: 15
},
paragraph: {
marginBottom: 25
},
image: {
marginBottom: 25,
textureMode: "none",
textureAlign: [ 0, 0 ]
},
surfaceLegal: {
opacity: .33
},
labelPressMoreInfoText: {
fontSize: V[J.text]
},
callToActionHeading: {
fontSize: V[J.text]
},
callToAction: {
width: SpartaGlobals.bundleIsPC ? b["default"].getWidth(5) : b["default"].getWidth(7)
},
callToActionSubText: {
fontSize: V[J.subtext],
marginTop: 7
},
callToActionButton: {
fontSize: V[J.text],
width: SpartaGlobals.bundleIsPC ? b["default"].getWidth(5) : b["default"].getWidth(7)
}
}, Z = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.copy = z.getCopyPage("learn-more"), this.settings = z.getCopyPage("settings");
try {
this.gameId = this.props.gameId || this.props.viewLocation.args.gameId;
} catch (o) {
this.gameId = void 0;
}
this.gameId && !this.props.gameId && F.locationStore.setLocation(F.gameStore.getGame(this.gameId).startRoute + q, !0);
}
o(t, e), t.prototype.getInput = function s() {
return new M["default"]({
action: function e() {
return l();
},
key: O["default"].Option2,
label: z.getProperty(this.settings, "label.terms")
});
}, t.prototype.createVideo = function u() {
var e = [ {
author: "EA",
group: "video",
game: z.getProperty(this.copy, "video.game") || "",
imageUrl: z.getProperty(this.copy, "video.imageUrl") || "",
title: z.getProperty(this.copy, "video.title") || "",
url: z.getProperty(this.copy, "video.url") || ""
} ], t = (SpartaGlobals.bundleIsConsole, "M");
return y["default"].renderCards(e, t);
}, t.prototype.createCommonQuestions = function c() {
var e = F.gameStore.getGame(this.gameId).startRoute + W, t = B.isJapaneseLanguage() || B.isTradChineseLanguage() ? Q.callToActionHeading : Q.callToActionSubText;
return "PC" === z.getPlatform() ? {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: a(w["default"].defaultProps, {
action: "link",
text: z.getProperty(this.settings, "label.commonQuestions"),
style: t,
location: e
}),
_owner: null
}, {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: a(w["default"].defaultProps, {
action: "popup",
text: z.getProperty(this.settings, "label.terms"),
style: t
}),
_owner: null
} ]
},
_owner: null
} : {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: I["default"],
key: null,
ref: null,
props: a(I["default"].defaultProps, {
text: z.getProperty(this.settings, "label.commonQuestions"),
button: "X",
action: "link",
width: Q.columnAuxiliary.width,
style: Q.callToActionSubText,
location: e
}),
_owner: null
}
},
_owner: null
};
}, t.prototype.buildPointImage = function f(e) {
try {
if (e) {
var t = e.split("|") || [];
if (4 === t.length) {
var n = {
texture: t[3],
width: parseInt(t[1], 10),
height: parseInt(t[2], 10)
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ Q.image, n ]
},
_owner: null
};
}
}
} catch (r) {
return null;
}
}, t.prototype.buildPointText = function d(e) {
try {
return {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: a(g.Text.defaultProps, {
value: e,
size: J.text,
style: Q.paragraph
}),
_owner: null
};
} catch (t) {
return null;
}
}, t.prototype.buildPoints = function h() {
for (var e = [], t = z.getProperty(this.copy, "list") || [], n = 0; n < t.length; n++) {
for (var r = t[n], o = z.getProperty(r, "items") || [], i = [], s = 0; s < o.length; s++) {
var l = 0 === o[s].indexOf("image|") ? this.buildPointImage(o[s]) : this.buildPointText(o[s]);
l && i.push(l);
}
e.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: a(g.Text.defaultProps, {
value: r.heading,
size: J.heading,
style: Q.heading,
type: "emphasis"
}),
_owner: null
}, i ]
},
_owner: null
});
}
return e;
}, t.prototype.render = function m() {
var e = B.isJapaneseLanguage() || B.isTradChineseLanguage() ? Q.callToActionHeading : Q.callToActionSubText, t = B.isJapaneseLanguage() || B.isTradChineseLanguage() ? J.heading : J.fineprint, n = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: b["default"].Row,
key: null,
ref: null,
props: a(b["default"].Row.defaultProps, {
children: [ {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: a(b["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.createVideo(),
style: Q.surfaceSidebar
},
_owner: null
},
style: Q.columnSidebar
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: a(b["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.buildPoints()
},
_owner: null
},
style: Q.columnMain
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: a(b["default"].Col.defaultProps, {
style: {
width: b["default"].getWidth(SpartaGlobals.bundleIsPC ? 1 : .5)
}
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: a(b["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: a(S["default"].defaultProps, {
gameId: this.gameId,
headingStyle: Q.callToActionHeading,
buttonStyle: Q.callToActionButton,
subTextStyle: e
}),
_owner: null
}, this.createCommonQuestions() ],
style: Q.callToAction
},
_owner: null
}
},
_owner: null
},
style: Q.columnAuxiliary
}),
_owner: null
} ],
style: Q.rowMain
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Row,
key: null,
ref: null,
props: a(b["default"].Row.defaultProps, {
children: {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: a(b["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: a(g.Text.defaultProps, {
value: this.copy.legal,
size: t
}),
_owner: null
},
style: Q.surfaceLegal
},
_owner: null
},
style: Q.columnLegal
}),
_owner: null
},
style: Q.rowLegal
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Row,
key: null,
ref: null,
props: a(b["default"].Row.defaultProps, {
children: {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: a(b["default"].Col.defaultProps, {
style: Q.columnBorder
}),
_owner: null
},
style: Q.rowBorder
}),
_owner: null
} ],
style: Q.container
},
_owner: null
};
return this.props.noTemplate ? n : {
$$typeof: p,
type: A["default"],
key: null,
ref: null,
props: a(A["default"].defaultProps, {
children: n,
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$LearnMore")(t) || t, t = k["default"]()(t) || t;
}(d["default"].Component);
t["default"] = Z, Z.defaultProps = {
noTemplate: !1
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
d && h && s.areTranslationsDone() ? e() : f ? f.then(e) : setTimeout(function() {
return r(e);
}, 50);
}
function o() {
return d && h && s.areTranslationsDone() ? (p = null, Promise.resolve()) : (p || (p = new Promise(function(e) {
r(e);
})), p);
}
function a(e, t) {
var n = null, r = null, o = s.needsFallbackForLocale(e), a = e.replace("-", "_"), p = c[a] || "", g = c[y];
d = !1, h = !o;
var m = i(m, p), b = null;
return o && (b = i(b, g)), f = new Promise(function(e, t) {
function a(e, t) {
r = new Date();
var a = r.getTime() - n.getTime();
e ? (console.log("Translations loaded in " + a + " ms", m), u.currentTranslations = JSON.parse(t), 
o || (u.fallbackTranslations = u.currentTranslations)) : console.warn("Failed to download translations after " + a + " ms", m), 
d = !0;
}
function i(e, t) {
r = new Date();
var o = r.getTime() - n.getTime();
e ? (console.log("Fallback translations loaded in " + o + " ms", b), u.fallbackTranslations = JSON.parse(t)) : console.warn("Failed to download fallback translations after " + o + " ms", b), 
h = !0;
}
function s() {
return h && d ? void e() : void setTimeout(s, 100);
}
n = new Date(), setTimeout(s, 100), l.getBuildInfo().hasLoadAssetRequest() ? (l.loadAssetRequest(m, a), 
o && b && l.loadAssetRequest(b, i)) : (l.httpRequest(l.HttpMethod.GET, m, "", "", !1, a), 
o && b && l.httpRequest(l.HttpMethod.GET, b, "", "", !1, i));
});
}
function i(e, t) {
return e = "http://offline.twinkle/sparta/jsclient/builds/assets/translations" + t.substr(t.lastIndexOf("/")), 
l.options.urlHook(e);
}
t.__esModule = !0, t.waitForTranslations = o, t.loadTranslations = a;
var s = n(250), l = n(3), u = n(414), c = {
ar_sa: "assets/ar_SA-1c106ff7.json",
cs_cz: "assets/cs_CZ-6f7c5eff.json",
de_de: "assets/de_DE-30afe6e9.json",
en_us: "assets/en_US-3695c3ad.json",
es_es: "assets/es_ES-f5e17bcf.json",
es_mx: "assets/es_MX-b9a9758a.json",
fr_fr: "assets/fr_FR-4498da2c.json",
it_it: "assets/it_IT-56e6bbfe.json",
ja_jp: "assets/ja_JP-a79476b6.json",
ko_kr: "assets/ko_KR-fdc09ec1.json",
pl_pl: "assets/pl_PL-2aa34f99.json",
pt_br: "assets/pt_BR-2df7a019.json",
ru_ru: "assets/ru_RU-127d6379.json",
tr_tr: "assets/tr_TR-d351d979.json",
zh_tw: "assets/zh_TW-a075ed17.json"
}, p = null, f = null, d = !1, h = !1, y = "en_us";
}, function(e, t, n) {
function r() {
i();
}
function o(e) {
l.reaction(function() {
return e.location.section;
}, function(e) {
u.localeState.needsFallback ? i() : u.localeState.setFallbackAndSection({
section: e,
fallback: !1
});
}, !0);
}
function a(e) {
l.when(function() {
return u.localeState.needsFallback;
}, function() {
e.scope("isVisible").listen(function(e) {
e ? (u.localeState.setFallbackAndSection({
section: "generic",
fallback: !1
}), f = p.currentTranslations) : i();
});
});
}
function i() {
var e = c.getFallbackInfo();
u.localeState.setFallbackAndSection(e), f = e.fallback ? p.fallbackTranslations : p.currentTranslations, 
Object.keys(f).length > 0 && !u.localeState.translationsAreDone && u.localeState.markTranslationsAsDone();
}
function s(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1];
return t ? p.currentTranslations[e] || e : f[e] || e;
}
t.__esModule = !0, t.handleTranslationSetup = r, t.initTranslatorForLocationStore = o, 
t.initTranslatorForGameView = a, t.translate = s;
var l = n(9), u = n(58), c = n(250), p = n(414), f = p.currentTranslations;
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15);
t["default"] = {
ping: r.createAction(),
qosPing: r.createAction(),
resolve: r.createAction(),
flushCache: r.createAction(),
emptyQueue: r.createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15);
t["default"] = {
pingCompleted: r.createAction(),
qosPingCompleted: r.createAction(),
resolveCompleted: r.createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__, e) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = function n(t) {
return new Promise(function(n, r) {
t.trim().length < 1 && r(__("ID_SPARTA_ONLINE_JOIN_ENTER_VALID_PASSWORD")), E["default"].triggerAsPromise(e, t).then(function(e) {
var t = (e.gameId, e.verified);
t ? n() : r(__("ID_SPARTA_ONLINE_JOIN_INVALID_PASSWORD"));
});
});
};
return T.prompt(__("ID_SPARTA_ONLINE_JOIN_PASSWORD_PROTECTED"), 1, 36, {
onOkValidate: t,
inputType: "Password",
message: __("ID_SPARTA_ONLINE_JOIN_ENTER_PASSWORD")
});
}
function a(t, n, r) {
var o = !1, a = M.gameStore.getGame(r);
if (a.showMissingExpansionsPopupOverride) return new Promise(function(i) {
e.info("Custom showMissingExpansionsPopupOverride called."), o = a.showMissingExpansionsPopupOverride(t, n, r), 
o && e.info("Custom missing expansion Popup rendered."), i();
});
var i = "";
t.length && (i = __("ID_SPARTA_ONLINE_JOIN_MISSING_EXPANSION_MESSAGE") + "\n\n" + m["default"].map(t, function(e) {
return "- " + e.prettyName;
}).join("\n")), n.length && (t.length && (i += "\n\n"), i = i + __("ID_SPARTA_ONLINE_JOIN_EXPANSION_NOT_INSTALLED") + "\n\n" + m["default"].map(n, function(e) {
return "- " + e.prettyName;
}).join("\n"));
var s = {
title: __("ID_SPARTA_ONLINE_JOIN_MISSING_EXPANSION_TITLE"),
details: i,
image: a.expansionsImage,
label: __("ID_SPARTA_ACTION_GET_EXPANSIONS")
};
return T.alertWithImageAndOption(s.details, s.title, s.image, {
action: function l() {
P["default"].gotoLocation(a.storeConfig.route + "?tab=expansions");
},
key: C["default"].Option2,
label: s.label
});
}
function i(e, t) {
var n = __("ID_SPARTA_ONLINE_JOIN_MISSING_PREMIUM_MESSAGE"), r = m["default"].map(e, function(e) {
return "- " + e.prettyName;
}), o = M.gameStore.getGame(t);
return T.alertWithOption(n + "\n\n" + r.join("\n"), __("ID_SPARTA_ONLINE_JOIN_MISSING_PREMIUM_TITLE"), {
useConfirmInput: !0,
customInput: {
action: function a() {
P["default"].gotoLocation(o.storeConfig.route + "?tab=premium");
},
key: C["default"].Option2,
label: __("ID_SPARTA_ACTION_GET_PREMIUM_ACCESS")
}
});
}
function s(e, t) {
var n = _["default"].getState();
return m["default"].filter(e, function(e) {
return "DEFAULT" !== e.name && !n.hasExpansionAccess(t, e.name);
});
}
function l(e, t) {
var n = S.installedExpansions.getMask(t);
return n ? m["default"].filter(e, function(e) {
return "DEFAULT" !== e.name && !(e.mask & n);
}) : [];
}
function u(e, t) {
if ("DEFAULT" === e.name) return !0;
var n = _["default"].getState(), r = S.installedExpansions.getMask(t), o = n.hasExpansionAccess(t, e.name);
return r ? o && e.mask & r : o;
}
function c(e) {
var t = x["default"].getGameStats(e);
return t ? t.rank.number >= 10 : !0;
}
function p(e, t) {
var n = s(e, t), r = l(e, t), o = m["default"].filter(r, function(e) {
return !m["default"].some(n, function(t) {
return t.license === e.license;
});
});
return [ n, o ];
}
function f(e) {
var t = p(e.expansions, e.game), n = t[0], r = t[1];
return n.length || r.length ? (a(n, r, e.game), !1) : !0;
}
function d(e) {
return new Promise(function(t, n) {
var r = p(e.server.expansions, e.server.game), i = r[0], s = r[1], l = e.server.mapExpansion ? u(e.server.mapExpansion, e.server.game) : 0 === i.length && 0 === s.length;
if (e.server.forceJoin) t(e); else if (l) if (e.server.isRoleSupported(e.role)) if ("commander" !== e.role || c(e.server.game)) if (e.server.passwordProtected) o(e.server).then(function(n) {
t(e.withPassword(n));
})["catch"](n); else if (e.squad) {
var f = e.server.expansionMask;
(f & e.squad.expansionMask) !== f ? T.confirm(__("ID_SPARTA_USER_PARTY_MISSING_CONTENT_MESSAGE", !0), __("ID_SPARTA_USER_PARTY_MISSING_CONTENT_TITLE", !0), __("ID_SPARTA_ACTION_CONTINUE", !0), __("ID_SPARTA_ACTION_CANCEL", !0), "missingContent").then(function() {
t(e);
})["catch"](n) : t(e);
} else t(e); else T.alert(__("ID_SPARTA_ONLINE_JOIN_RANK_10", !0), __("ID_SPARTA_ONLINE_JOIN_FAILED_TITLE", !0)).then(n); else {
var d = "";
switch (e.role) {
case "spectator":
d = __("ID_SPARTA_ONLINE_JOIN_ROLE_NOT_SUPPORTED_SPECTATOR", !0);
break;

case "commander":
d = __("ID_SPARTA_ONLINE_JOIN_ROLE_NOT_SUPPORTED_COMMANDER", !0);
break;

default:
d = __("ID_SPARTA_ONLINE_JOIN_ROLE_NOT_SUPPORTED", !0).replace("[[role]]", e.role);
}
T.alert(d, __("ID_SPARTA_ONLINE_JOIN_FAILED_TITLE", !0)).then(n);
} else a(i, s, e.server.game).then(n);
});
}
function h(e, t, n) {
var r = Object.keys(t[n])[0];
if (!r) return null;
var o = e[n] && m["default"].find(e[n], function(e) {
return e.filterKey === r;
});
return o || console.warn("Could not find " + r + " in " + n), o;
}
function y(e, t) {
return new Promise(function(n, r) {
var o = _["default"].getState(), s = [], l = [], u = !1;
if (!e) return console.warn("Matchmaking - Game id is undefined!! Something wrong!"), 
void T.alert(__("ID_SPARTA_MATCHMAKING_FAILED_GENERIC", !0), __("ID_SPARTA_MATCHMAKING_FAILED", !0)).then(r);
var f = void 0;
if (t.gameModes ? f = h(R["default"].getState()[e], t, "gameModes") : t.experiences && (f = h(R["default"].getState()[e], t, "experiences")), 
f && f.expansions) {
var d = p(f.expansions, e);
l = d[0], s = d[1], u = f.premium;
}
l.length || s.length ? !u || o.hasPremiumAccess(e) || s.length ? a(l, s, e).then(r) : i(l, e).then(r) : "commander" !== t.role || c(e) ? n(e, t) : T.alert(__("ID_SPARTA_ONLINE_JOIN_RANK_10", !0), __("ID_SPARTA_MATCHMAKING_CHECK_FAILED", !0)).then(r);
});
}
t.__esModule = !0, t.validateExpansionAccess = u, t.validateContentAccessToServerWithPopup = f, 
t.checkJoinOptions = d, t.checkMatchmakingOptions = y;
var g = n(5), m = r(g), b = n(1), v = (r(b), n(67)), _ = r(v), S = n(569), T = n(31), w = n(737), E = r(w), I = n(12), C = r(I), A = n(18), P = r(A), O = n(79), R = r(O), k = n(162), x = r(k), M = n(8);
}).call(t, n(2), n(97));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
for (var n = e.length, r = 0; r >= 0 && n > r; r += 1) if (t(e[r])) return r;
return -1;
}
function a(e, t) {
if (e) {
var n = o(e, function(e) {
return e.guid === t.guid;
});
if (!(0 > n)) {
var r = e.slice();
return r.splice(n, 1, t), r;
}
}
}
function i(e, t) {
return e.name.toLowerCase().localeCompare(t.name.toLowerCase());
}
function s(e, t) {
var n = e.slots.soldier, r = t.slots.soldier;
return n.current !== r.current ? n.current - r.current : n.max - r.max;
}
function l(e, t) {
var n = void 0;
return f.pingResults.has(e.ip) ? n = f.pingResults.get(e.ip) : t[e.pingSiteAlias] && (n = t[e.pingSiteAlias].ping), 
0 > n || null == n ? y : n;
}
function u(e, t, n) {
var r = t === p.SortDirection.ASC ? 1 : -1, o = n && h["default"].getState()[n] ? h["default"].getState()[n] : {};
switch (e) {
case "ping":
return function(e, t) {
var n = (l(e, o) - l(t, o)) * r;
return 0 === n ? i(e, t) : n;
};

case "players":
return function(e, t) {
var n = s(e, t) * r;
return 0 === n ? i(e, t) : n;
};

case "name":
return function(e, t) {
return i(e, t) * r;
};

default:
throw new Error("Unknown sortkey: ", e);
}
}
function c(e, t, n) {
if ("none" !== n && "none" !== t && e.length) {
var r = u(t, n, e[0].game), o = e.slice();
return o.sort(r), o;
}
return e;
}
t.__esModule = !0, t.updateByGuid = a, t.sortServers = c;
var p = n(292), f = n(359), d = n(92), h = r(d), y = 99999;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = n(5), i = r(a), s = n(26), l = r(s), u = n(8), c = n(19), p = r(c), f = new l["default"]("ProtocolVersionStore"), d = o.createStore({
init: function h() {
var e = this;
p["default"].listen(function(t) {
var n = u.gameStore.games.toJS();
i["default"].forEach(n, function(e) {
return f.set(e.gameId, t.hostingGameId === e.gameId ? t.protocolVersion : t.crossLaunchProtocolVersion);
}), e.trigger(f.getState());
});
},
getState: function y() {
return f.getState();
},
getByGameId: function g(e) {
return f.get(e);
}
});
t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(5), a = r(o), i = n(15), s = n(26), l = r(s), u = n(430), c = r(u), p = n(428), f = r(p), d = n(426), h = r(d), y = new l["default"]("SavedFiltersStore"), g = i.createStore({
init: function m() {
this.listenTo(c["default"], function(e, t) {
var n = y.get(e) || {}, r = n.data || [];
if (!r || !a["default"].some(r, function(e) {
return e.filterName === t.filterName;
})) {
var o = r.concat([ t ]);
y.set(e, {
data: o
}), this.trigger(this.getState());
}
}), this.listenTo(f["default"], function(e, t, n) {
y.set(e, {
data: t,
error: n
}), this.trigger(this.getState());
}), this.listenTo(h["default"], function(e, t) {
var n = y.get(e);
if (n && n.data) {
var r = a["default"].filter(n.data, function(e) {
return e.id !== t.id;
});
y.set(e, {
data: r,
error: n.error
}), this.trigger(this.getState());
}
});
},
getState: function b() {
return y.getState();
}
});
e.exports = g;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return x(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(6), y = s(h), g = n(12), m = s(g), b = n(22), v = s(b), _ = n(85), S = s(_), T = n(25), w = s(T), E = n(42), I = s(E), C = n(31), A = n(795), P = s(A), O = n(106), R = n(30), k = {
_$BattlepackItemScrapButton: {
displayName: "BattlepackItemScrapButton"
}
}, x = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackItemScrapButton.jsx",
components: k,
locals: [],
imports: []
}), M = {
container: {
flexDirection: "row"
},
inputButton: {
marginRight: 2 * y["default"].GUTTER
},
valueButtonContent: {
flexDirection: "row"
},
scrapIcon: {
marginLeft: y["default"].GUTTER
}
}, N = function(e) {
function t() {
o(this, t), e.apply(this, arguments);
}
return a(t, e), t.prototype.getTexts = function n(t) {
var n = e.prototype.getTexts.call(this, t);
return p({}, n, {
normal: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: R.localeRearrange([ n.normal, {
$$typeof: c,
type: O.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(O.TunguskaBattlepackScraps.defaultProps, {
value: this.props.value,
size: this.props.textSize,
style: M.scrapIcon
}),
_owner: null
} ]),
style: [ M.valueButtonContent, t.hideOnHover ]
},
_owner: null
},
hover: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: R.localeRearrange([ n.hover, {
$$typeof: c,
type: O.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(O.TunguskaBattlepackScraps.defaultProps, {
value: this.props.value,
size: this.props.textSize,
style: M.scrapIcon,
dark: !0
}),
_owner: null
} ]),
style: [ M.valueButtonContent, t.showOnHover ]
},
_owner: null
},
disabled: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: R.localeRearrange([ n.disabled, {
$$typeof: c,
type: O.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(O.TunguskaBattlepackScraps.defaultProps, {
value: this.props.value,
size: this.props.textSize,
style: M.scrapIcon
}),
_owner: null
} ]),
style: M.valueButtonContent
},
_owner: null
}
});
}, t;
}(v["default"]), D = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.onClick = function s() {
var e = this;
C.confirm(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_CONFIRM", !0), null, null, null, null, {
priority: 1,
stackable: !0
}).then(function() {
w["default"].display(new I["default"]({
id: "scrapPopup",
group: "battlepack",
content: {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
item: e.props.item,
onSuccess: e.props.onSuccess,
onError: e.props.onError,
onCancel: e.props.onCancel,
noConfirmation: !0
}),
_owner: null
},
fullScreen: !0,
createButtons: !1,
priority: 1,
stackable: !0
}));
}, function() {
"function" == typeof e.props.onCancel && e.props.onCancel();
});
}, t.prototype.render = function l() {
var e = this, t = this.props.item;
if (!t.scrapValue) return null;
var n = this.props.label || __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_FOR");
return SpartaGlobals.bundleIsPC || !this.props.useInputButton ? d["default"].createElement(N, p({
text: n,
value: t.scrapValue,
action: function() {
return e.onClick();
}
}, this.props)) : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
inputKey: m["default"].Option2,
label: n,
style: M.inputButton,
action: function() {
return e.onClick();
}
}),
_owner: null
}, {
$$typeof: c,
type: O.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(O.TunguskaBattlepackScraps.defaultProps, {
value: t.scrapValue,
size: "S"
}),
_owner: null
} ],
style: [ M.container, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = i("_$BattlepackItemScrapButton")(t) || t;
}(d["default"].Component);
t["default"] = D, D.propTypes = {
item: d["default"].PropTypes.object.isRequired,
onSuccess: d["default"].PropTypes.func,
onError: d["default"].PropTypes.func,
onCancel: d["default"].PropTypes.func,
useInputButton: d["default"].PropTypes.bool
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return T(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(44), y = n(855), g = s(y), m = n(7), b = n(30), v = n(6), _ = s(v), S = {
_$Title: {
displayName: "Title"
}
}, T = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/Title.jsx",
components: S,
locals: [],
imports: []
}), w = {
textLetterSpacing: 9,
marginTop: SpartaGlobals.bundleIsPC ? 2 * _["default"].GUTTER : 4 * _["default"].GUTTER
}, E = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = w;
return b.isRTLLanguage() && (e = p({}, w), e.textLetterSpacing = 0), {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
children: {
$$typeof: c,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
style: e,
size: "XXL",
value: this.props.text.toUpperCase(),
section: h.tunguskaGameId
}),
_owner: null
},
transitionId: this.props.text
}),
_owner: null
};
};
var n = t;
return t = i("_$Title")(t) || t;
}(d["default"].Component);
t["default"] = E, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
t.__esModule = !0;
var a = n(15), i = n(5), s = o(i), l = n(26), u = r(l), c = n(57), p = new u["default"]("TunguskaBattlepackInventoryStore"), f = a.createStore({
init: function d() {
c.inventory.listen(function(e) {
p.setState(e), f.trigger(p.getState());
});
},
getState: function h() {
return p.getState();
},
getInitialState: function y() {
return this.getState();
},
getItemByKey: function g(e) {
return s.find(this.getState().items, function(t) {
return t.key === e;
});
}
});
t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), f = i(p), d = n(11), h = {
_$Divider: {
displayName: "Divider"
}
}, y = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Divider.jsx",
components: h,
locals: [],
imports: []
}), g = {
height: 8,
marginTop: -4,
marginBottom: -3,
textureMode: "none",
textureScale: [ 8096, 1 ],
texture: d.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png"),
opacity: .1
}, m = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = {};
null != this.props.spacing && (e = {
marginTop: this.props.spacing - 4,
marginBottom: this.props.spacing - 3
});
var t = c({}, g, this.props.style, e);
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
};
};
var n = t;
return t = a("_$Divider")(t) || t;
}(f["default"].Component);
t["default"] = m, m.propTypes = {
spacing: f["default"].PropTypes.number
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return y(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(7), h = {
_$DateText: {
displayName: "DateText"
}
}, y = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Text/DateText.jsx",
components: h,
locals: [],
imports: []
}), g = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.output = "", this.updateParsedTime(this.props.date, this.props.timestamp, this.props.timePlayed, this.props.unit);
}, t.prototype.componentWillUpdate = function l(e) {
this.updateParsedTime(e.date, e.timestamp, e.timePlayed, e.unit);
}, t.prototype.updateParsedTime = function u(e, t, n, r) {
if (e || t) {
var o = new Date(), a = e ? e : new Date(1e3 * t), i = Math.round(Math.abs((a.getTime() - o.getTime()) / 864e5));
0 === i ? this.output = __("ID_SPARTA_DATETIME_TODAY").toLocaleUpperCase() : 1 === i ? this.output = __("ID_SPARTA_DATETIME_YESTERDAY").toLocaleUpperCase() : this.output = a.toDateString().toUpperCase();
}
if (void 0 !== n) if (r) switch (r) {
case "minutes":
this.output = Math.floor(n / 60) + " " + __("ID_SPARTA_DATETIME_MIN");
break;

case "hours":
this.output = Math.floor(n / 3600) + " " + __("ID_SPARTA_DATETIME_H");
break;

case "days":
this.output = Math.floor(n / 86400) + " " + __("ID_SPARTA_DATETIME_DAYS");
} else {
var s = Math.floor(n / 86400), l = Math.floor(n % 86400 / 3600), u = Math.floor(n % 86400 % 3600 / 60);
this.output = "0", n > 60 && (this.output = "", this.output += s > 0 ? s + " " + __("ID_SPARTA_DATETIME_DAY") + (s > 1 ? "S" : "") : "", 
this.output += l > 0 ? (s > 0 ? " & " : "") + l + __("ID_SPARTA_DATETIME_H") : "", 
this.output += u > 0 ? (l > 0 || s > 0 ? " & " : "") + u + __("ID_SPARTA_DATETIME_MIN") : "");
}
}, t.prototype.render = function p() {
return {
$$typeof: c,
type: d.Text,
key: null,
ref: null,
props: r(d.Text.defaultProps, {
value: this.output,
type: this.props.type,
style: this.props.style,
size: this.props.size,
section: this.props.section,
letterSpacing: this.props.letterSpacing
}),
_owner: null
};
};
var n = t;
return t = i("_$DateText")(t) || t;
}(f["default"].Component);
t["default"] = g, g.propTypes = {
date: f["default"].PropTypes.instanceOf(Date),
timePlayed: f["default"].PropTypes.number,
unit: f["default"].PropTypes.oneOf([ "minutes", "hours", "days" ])
}, g.defaultProps = {
section: "generic",
letterSpacing: 0
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? 1e3 : arguments[1];
if (!e) return [];
for (var n = [], r = null; -1 !== r; ) r = Math.max(e.indexOf("\n", t), e.indexOf("\r", t)), 
n.push(e.substr(0, r)), e = e.substr(r + 1);
return n.push(e), n;
}
function i(e) {
return a(e).map(function(e) {
return {
$$typeof: s,
type: u.Text,
key: null,
ref: null,
props: o(u.Text.defaultProps, {
size: "S",
value: e
}),
_owner: null
};
});
}
t.__esModule = !0;
var s = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103;
t.chunkTextByLines = a, t.createChunkedTexts = i;
var l = n(1), u = (r(l), n(7));
}, function(e, t, n) {
var r = n(15);
e.exports = {
create: r.createAction(),
leave: r.createAction(),
invite: r.createAction(),
getStatus: r.createAction(),
getMembers: r.createAction()
};
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15);
t["default"] = {
onPartyMembersUpdated: r.createAction(),
onPartyUpdated: r.createAction(),
onPartyDisbanded: r.createAction(),
onGameSessionJoinRefused: r.createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
"use strict";
var r = n(32), o = function(e) {
var t, n = {};
e instanceof Object && !Array.isArray(e) ? void 0 : r(!1);
for (t in e) e.hasOwnProperty(t) && (n[t] = t);
return n;
};
e.exports = o;
}, function(e, t, n) {
!function(t, r) {
e.exports = r(n(9), n(1), n(925));
}(this, function(e, t, n) {
return function(e) {
function t(r) {
if (n[r]) return n[r].exports;
var o = n[r] = {
exports: {},
id: r,
loaded: !1
};
return e[r].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports;
}
var n = {};
return t.m = e, t.c = n, t.p = "", t(0);
}([ function(e, t, n) {
"use strict";
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.reactiveComponent = t.PropTypes = t.propTypes = t.inject = t.Provider = t.trackComponents = t.componentByNodeRegistery = t.renderReporter = t.observer = void 0;
var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
}, i = arguments, s = n(1);
Object.defineProperty(t, "observer", {
enumerable: !0,
get: function() {
return s.observer;
}
}), Object.defineProperty(t, "renderReporter", {
enumerable: !0,
get: function() {
return s.renderReporter;
}
}), Object.defineProperty(t, "componentByNodeRegistery", {
enumerable: !0,
get: function() {
return s.componentByNodeRegistery;
}
}), Object.defineProperty(t, "trackComponents", {
enumerable: !0,
get: function() {
return s.trackComponents;
}
});
var l = n(9);
Object.defineProperty(t, "Provider", {
enumerable: !0,
get: function() {
return o(l)["default"];
}
});
var u = n(6);
Object.defineProperty(t, "inject", {
enumerable: !0,
get: function() {
return o(u)["default"];
}
});
var c = n(2), p = o(c), f = n(3), d = o(f), h = n(10), y = r(h), g = void 0;
if (g = "mobx-react", !p["default"]) throw new Error(g + " requires the MobX package");
if (!d["default"]) throw new Error(g + " requires React to be available");
t.propTypes = y, t.PropTypes = y, t["default"] = e.exports, t.reactiveComponent = function() {
return console.warn("[mobx-react] `reactiveComponent` has been renamed to `observer` and will be removed in 1.1."), 
observer.apply(null, i);
}, "object" === ("undefined" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ ? "undefined" : a(__MOBX_DEVTOOLS_GLOBAL_HOOK__)) && __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(e.exports, p["default"]);
}, function(e, t, n) {
"use strict";
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return y["default"] ? y["default"].findDOMNode(e) : null;
}
function a(e) {
var t = o(e);
t && S && S.set(t, e), T.emit({
event: "render",
renderTime: e.__$mobRenderEnd - e.__$mobRenderStart,
totalTime: Date.now() - e.__$mobRenderStart,
component: e,
node: t
});
}
function i() {
if ("undefined" == typeof WeakMap) throw new Error("[mobx-react] tracking components is not supported in this browser.");
_ || (_ = !0);
}
function s(e, t) {
var n = e[t], r = w[t];
n ? e[t] = function() {
n.apply(this, arguments), r.apply(this, arguments);
} : e[t] = r;
}
function l(e, t) {
if ("string" == typeof e) throw new Error("Store names should be provided as array");
if (Array.isArray(e)) return t ? v["default"].apply(null, e)(l(t)) : function(t) {
return l(e, t);
};
var n = e;
if (!("function" != typeof n || n.prototype && n.prototype.render || n.isReactClass || d["default"].Component.isPrototypeOf(n))) return l(d["default"].createClass({
displayName: n.displayName || n.name,
propTypes: n.propTypes,
contextTypes: n.contextTypes,
getDefaultProps: function() {
return n.defaultProps;
},
render: function() {
return n.call(this, this.props, this.context);
}
}));
if (!n) throw new Error("Please pass a valid component to 'observer'");
var r = n.prototype || n;
return [ "componentWillMount", "componentWillUnmount", "componentDidMount", "componentDidUpdate" ].forEach(function(e) {
s(r, e);
}), r.shouldComponentUpdate || (r.shouldComponentUpdate = w.shouldComponentUpdate), 
n.isMobXReactObserver = !0, n;
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.renderReporter = t.componentByNodeRegistery = void 0;
var u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
};
t.trackComponents = i, t.observer = l;
var c = n(2), p = r(c), f = n(3), d = r(f), h = n(4), y = r(h), g = n(5), m = r(g), b = n(6), v = r(b), _ = !1, S = t.componentByNodeRegistery = "undefined" != typeof WeakMap ? new WeakMap() : void 0, T = t.renderReporter = new m["default"](), w = {
componentWillMount: function() {
var e = this, t = this.displayName || this.name || this.constructor && (this.constructor.displayName || this.constructor.name) || "<component>", n = this._reactInternalInstance && this._reactInternalInstance._rootNodeID, r = this.render.bind(this), o = null, a = !1, i = function() {
return o = new p["default"].Reaction(t + "#" + n + ".render()", function() {
a || (a = !0, "function" == typeof e.componentWillReact && e.componentWillReact(), 
e.__$mobxIsUnmounted !== !0 && d["default"].Component.prototype.forceUpdate.call(e));
}), s.$mobx = o, e.render = s, s();
}, s = function() {
a = !1;
var t = void 0;
return o.track(function() {
_ && (e.__$mobRenderStart = Date.now()), t = p["default"].extras.allowStateChanges(!1, r), 
_ && (e.__$mobRenderEnd = Date.now());
}), t;
};
this.render = i;
},
componentWillUnmount: function() {
if (this.render.$mobx && this.render.$mobx.dispose(), this.__$mobxIsUnmounted = !0, 
_) {
var e = o(this);
e && S && S["delete"](e), T.emit({
event: "destroy",
component: this,
node: e
});
}
},
componentDidMount: function() {
_ && a(this);
},
componentDidUpdate: function() {
_ && a(this);
},
shouldComponentUpdate: function(e, t) {
if (this.render.$mobx && this.render.$mobx.isScheduled() === !0) return !1;
if (this.state !== t) return !0;
var n = Object.keys(this.props);
if (n.length !== Object.keys(e).length) return !0;
for (var r = void 0, o = n.length - 1; r = n[o]; o--) {
var a = e[r];
if (a !== this.props[r]) return !0;
if (a && "object" === ("undefined" == typeof a ? "undefined" : u(a)) && !p["default"].isObservable(a)) return !0;
}
return !1;
}
};
}, function(t, n) {
t.exports = e;
}, function(e, n) {
e.exports = t;
}, function(e, t) {
e.exports = n;
}, function(e, t) {
"use strict";
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), o = function() {
function e() {
n(this, e), this.listeners = [];
}
return r(e, [ {
key: "on",
value: function(e) {
var t = this;
return this.listeners.push(e), function() {
var n = t.listeners.indexOf(e);
-1 !== n && t.listeners.splice(n, 1);
};
}
}, {
key: "emit",
value: function(e) {
this.listeners.forEach(function(t) {
return t(e);
});
}
} ]), e;
}();
t["default"] = o;
}, function(e, t, n) {
(function(e) {
"use strict";
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
var n = u["default"].createClass({
displayName: "MobXStoreInjector",
render: function() {
var n = this, r = {};
for (var o in this.props) this.props.hasOwnProperty(o) && (r[o] = this.props[o]);
var a = e(this.context.mobxStores || {}, r, this.context) || {};
for (var i in a) r[i] = a[i];
return r.ref = function(e) {
n.wrappedInstance = e;
}, u["default"].createElement(t, r);
}
});
return n.contextTypes = {
mobxStores: l.PropTypes.object
}, n.wrappedComponent = t, a(n, t), (0, p["default"])(n, t), n;
}
function a(t, n) {
"undefined" != typeof e && e.env && "production" !== e.env.NODE_ENV && [ "propTypes", "defaultProps", "contextTypes" ].forEach(function(e) {
var r = t[e];
Object.defineProperty(t, e, {
set: function(t) {
var r = n.displayName || n.name;
console.warn("Mobx Injector: you are trying to attach " + e + " to HOC instead of " + r + ". Use `wrappedComponent` property.");
},
get: function() {
return r;
},
configurable: !0
});
});
}
function i(e) {
return function(t, n) {
return e.forEach(function(e) {
if (!(e in n)) {
if (!(e in t)) throw new Error("MobX observer: Store '" + e + "' is not available! Make sure it is provided by some Provider");
n[e] = t[e];
}
}), n;
};
}
function s() {
var e = void 0;
if ("function" == typeof arguments[0]) e = arguments[0]; else {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
e = i(t);
}
return function(t) {
return o(e, t);
};
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = s;
var l = n(3), u = r(l), c = n(8), p = r(c);
}).call(t, n(7));
}, function(e, t) {
function n(e) {
return l === setTimeout ? setTimeout(e, 0) : l.call(null, e, 0);
}
function r(e) {
u === clearTimeout ? clearTimeout(e) : u.call(null, e);
}
function o() {
d && p && (d = !1, p.length ? f = p.concat(f) : h = -1, f.length && a());
}
function a() {
if (!d) {
var e = n(o);
d = !0;
for (var t = f.length; t; ) {
for (p = f, f = []; ++h < t; ) p && p[h].run();
h = -1, t = f.length;
}
p = null, d = !1, r(e);
}
}
function i(e, t) {
this.fun = e, this.array = t;
}
function s() {}
var l, u, c = e.exports = {};
!function() {
try {
l = setTimeout;
} catch (e) {
l = function() {
throw new Error("setTimeout is not defined");
};
}
try {
u = clearTimeout;
} catch (e) {
u = function() {
throw new Error("clearTimeout is not defined");
};
}
}();
var p, f = [], d = !1, h = -1;
c.nextTick = function(e) {
var t = new Array(arguments.length - 1);
if (arguments.length > 1) for (var r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];
f.push(new i(e, t)), 1 !== f.length || d || n(a);
}, i.prototype.run = function() {
this.fun.apply(null, this.array);
}, c.title = "browser", c.browser = !0, c.env = {}, c.argv = [], c.version = "", 
c.versions = {}, c.on = s, c.addListener = s, c.once = s, c.off = s, c.removeListener = s, 
c.removeAllListeners = s, c.emit = s, c.binding = function(e) {
throw new Error("process.binding is not supported");
}, c.cwd = function() {
return "/";
}, c.chdir = function(e) {
throw new Error("process.chdir is not supported");
}, c.umask = function() {
return 0;
};
}, function(e, t) {
"use strict";
var n = {
childContextTypes: !0,
contextTypes: !0,
defaultProps: !0,
displayName: !0,
getDefaultProps: !0,
mixins: !0,
propTypes: !0,
type: !0
}, r = {
name: !0,
length: !0,
prototype: !0,
caller: !0,
arguments: !0,
arity: !0
}, o = "function" == typeof Object.getOwnPropertySymbols;
e.exports = function(e, t, a) {
if ("string" != typeof t) {
var i = Object.getOwnPropertyNames(t);
o && (i = i.concat(Object.getOwnPropertySymbols(t)));
for (var s = 0; s < i.length; ++s) if (!(n[i[s]] || r[i[s]] || a && a[i[s]])) try {
e[i[s]] = t[i[s]];
} catch (l) {}
}
return e;
};
}, function(e, t, n) {
"use strict";
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return !t || "object" != typeof t && "function" != typeof t ? e : t;
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
Object.defineProperty(t, "__esModule", {
value: !0
});
var s = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), l = n(3), u = r(l), c = {
children: !0,
key: !0,
ref: !0
}, p = function(e) {
function t() {
return o(this, t), a(this, Object.getPrototypeOf(t).apply(this, arguments));
}
return i(t, e), s(t, [ {
key: "render",
value: function() {
return u["default"].Children.only(this.props.children);
}
}, {
key: "getChildContext",
value: function() {
var e = {}, t = this.context.mobxStores;
if (t) for (var n in t) e[n] = t[n];
for (var r in this.props) c[r] || (e[r] = this.props[r]);
return {
mobxStores: e
};
}
}, {
key: "componentWillReceiveProps",
value: function(e) {
Object.keys(e).length !== Object.keys(this.props).length && console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children");
for (var t in e) c[t] || this.props[t] === e[t] || console.warn("MobX Provider: Provided store '" + t + "' has changed. Please avoid replacing stores as the change might not propagate to all children");
}
} ]), t;
}(l.Component);
p.contextTypes = {
mobxStores: l.PropTypes.object
}, p.childContextTypes = {
mobxStores: l.PropTypes.object.isRequired
}, t["default"] = p;
}, function(e, t, n) {
"use strict";
function r(e) {
function t(t, n, r, o, a, i) {
for (var s = arguments.length, l = Array(s > 6 ? s - 6 : 0), u = 6; s > u; u++) l[u - 6] = arguments[u];
return (0, c.untracked)(function() {
if (o = o || "<<anonymous>>", i = i || r, null == n[r]) {
if (t) {
var s = null === n[r] ? "null" : "undefined";
return new Error("The " + a + " `" + i + "` is marked as required in `" + o + "`, but its value is `" + s + "`.");
}
return null;
}
return e.apply(void 0, [ n, r, o, a, i ].concat(l));
});
}
var n = t.bind(null, !1);
return n.isRequired = t.bind(null, !0), n;
}
function o(e, t) {
return "symbol" === e ? !0 : "Symbol" === t["@@toStringTag"] ? !0 : "function" == typeof Symbol && t instanceof Symbol;
}
function a(e) {
var t = "undefined" == typeof e ? "undefined" : u(e);
return Array.isArray(e) ? "array" : e instanceof RegExp ? "object" : o(t, e) ? "symbol" : t;
}
function i(e) {
var t = a(e);
if ("object" === t) {
if (e instanceof Date) return "date";
if (e instanceof RegExp) return "regexp";
}
return t;
}
function s(e, t) {
return r(function(n, r, o, s, l) {
return (0, c.untracked)(function() {
if (e && a(n[r]) === t.toLowerCase()) return null;
var s = void 0;
switch (t) {
case "Array":
s = c.isObservableArray;
break;

case "Object":
s = c.isObservableObject;
break;

case "Map":
s = c.isObservableMap;
break;

default:
throw new Error("Unexpected mobxType: " + t);
}
var u = n[r];
if (!s(u)) {
var p = i(u), f = e ? " or javascript `" + t.toLowerCase() + "`" : "";
return new Error("Invalid prop `" + l + "` of type `" + p + "` supplied to `" + o + "`, expected `mobx.Observable" + t + "`" + f + ".");
}
return null;
});
});
}
function l(e, t) {
return r(function(n, r, o, a, i) {
for (var l = arguments.length, u = Array(l > 5 ? l - 5 : 0), p = 5; l > p; p++) u[p - 5] = arguments[p];
return (0, c.untracked)(function() {
if ("function" != typeof t) return new Error("Property `" + i + "` of component `" + o + "` has invalid PropType notation.");
var l = s(e, "Array")(n, r, o);
if (l instanceof Error) return l;
for (var c = n[r], p = 0; p < c.length; p++) if (l = t.apply(void 0, [ c, p, o, a, i + "[" + p + "]" ].concat(u)), 
l instanceof Error) return l;
return null;
});
});
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.objectOrObservableObject = t.arrayOrObservableArrayOf = t.arrayOrObservableArray = t.observableObject = t.observableMap = t.observableArrayOf = t.observableArray = void 0;
var u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
}, c = n(2);
t.observableArray = s(!1, "Array"), t.observableArrayOf = l.bind(null, !1), t.observableMap = s(!1, "Map"), 
t.observableObject = s(!1, "Object"), t.arrayOrObservableArray = s(!0, "Array"), 
t.arrayOrObservableArrayOf = l.bind(null, !0), t.objectOrObservableObject = s(!0, "Object");
} ]);
});
}, function(e, t, n) {
"use strict";
function r() {
this._callbacks = null, this._contexts = null;
}
var o = n(110), a = n(38), i = n(32);
a(r.prototype, {
enqueue: function(e, t) {
this._callbacks = this._callbacks || [], this._contexts = this._contexts || [], 
this._callbacks.push(e), this._contexts.push(t);
},
notifyAll: function() {
var e = this._callbacks, t = this._contexts;
if (e) {
e.length !== t.length ? i(!1) : void 0, this._callbacks = null, this._contexts = null;
for (var n = 0; n < e.length; n++) e[n].call(t[n]);
e.length = 0, t.length = 0;
}
},
reset: function() {
this._callbacks = null, this._contexts = null;
},
destructor: function() {
this.reset();
}
}), o.addPoolingTo(r), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
return Object.prototype.hasOwnProperty.call(e, g) || (e[g] = h++, f[e[g]] = {}), 
f[e[g]];
}
var o = n(109), a = n(196), i = n(506), s = n(967), l = n(87), u = n(529), c = n(38), p = n(338), f = {}, d = !1, h = 0, y = {
topAbort: "abort",
topBlur: "blur",
topCanPlay: "canplay",
topCanPlayThrough: "canplaythrough",
topChange: "change",
topClick: "click",
topCompositionEnd: "compositionend",
topCompositionStart: "compositionstart",
topCompositionUpdate: "compositionupdate",
topContextMenu: "contextmenu",
topCopy: "copy",
topCut: "cut",
topDoubleClick: "dblclick",
topDrag: "drag",
topDragEnd: "dragend",
topDragEnter: "dragenter",
topDragExit: "dragexit",
topDragLeave: "dragleave",
topDragOver: "dragover",
topDragStart: "dragstart",
topDrop: "drop",
topDurationChange: "durationchange",
topEmptied: "emptied",
topEncrypted: "encrypted",
topEnded: "ended",
topError: "error",
topFocus: "focus",
topInput: "input",
topKeyDown: "keydown",
topKeyPress: "keypress",
topKeyUp: "keyup",
topLoadedData: "loadeddata",
topLoadedMetadata: "loadedmetadata",
topLoadStart: "loadstart",
topMouseDown: "mousedown",
topMouseMove: "mousemove",
topMouseOut: "mouseout",
topMouseOver: "mouseover",
topMouseUp: "mouseup",
topPaste: "paste",
topPause: "pause",
topPlay: "play",
topPlaying: "playing",
topProgress: "progress",
topRateChange: "ratechange",
topScroll: "scroll",
topSeeked: "seeked",
topSeeking: "seeking",
topSelectionChange: "selectionchange",
topStalled: "stalled",
topSuspend: "suspend",
topTextInput: "textInput",
topTimeUpdate: "timeupdate",
topTouchCancel: "touchcancel",
topTouchEnd: "touchend",
topTouchMove: "touchmove",
topTouchStart: "touchstart",
topVolumeChange: "volumechange",
topWaiting: "waiting",
topWheel: "wheel"
}, g = "_reactListenersID" + String(Math.random()).slice(2), m = c({}, s, {
ReactEventListener: null,
injection: {
injectReactEventListener: function(e) {
e.setHandleTopLevel(m.handleTopLevel), m.ReactEventListener = e;
}
},
setEnabled: function(e) {
m.ReactEventListener && m.ReactEventListener.setEnabled(e);
},
isEnabled: function() {
return !(!m.ReactEventListener || !m.ReactEventListener.isEnabled());
},
listenTo: function(e, t) {
for (var n = t, a = r(n), s = i.registrationNameDependencies[e], l = o.topLevelTypes, u = 0; u < s.length; u++) {
var c = s[u];
a.hasOwnProperty(c) && a[c] || (c === l.topWheel ? p("wheel") ? m.ReactEventListener.trapBubbledEvent(l.topWheel, "wheel", n) : p("mousewheel") ? m.ReactEventListener.trapBubbledEvent(l.topWheel, "mousewheel", n) : m.ReactEventListener.trapBubbledEvent(l.topWheel, "DOMMouseScroll", n) : c === l.topScroll ? p("scroll", !0) ? m.ReactEventListener.trapCapturedEvent(l.topScroll, "scroll", n) : m.ReactEventListener.trapBubbledEvent(l.topScroll, "scroll", m.ReactEventListener.WINDOW_HANDLE) : c === l.topFocus || c === l.topBlur ? (p("focus", !0) ? (m.ReactEventListener.trapCapturedEvent(l.topFocus, "focus", n), 
m.ReactEventListener.trapCapturedEvent(l.topBlur, "blur", n)) : p("focusin") && (m.ReactEventListener.trapBubbledEvent(l.topFocus, "focusin", n), 
m.ReactEventListener.trapBubbledEvent(l.topBlur, "focusout", n)), a[l.topBlur] = !0, 
a[l.topFocus] = !0) : y.hasOwnProperty(c) && m.ReactEventListener.trapBubbledEvent(c, y[c], n), 
a[c] = !0);
}
},
trapBubbledEvent: function(e, t, n) {
return m.ReactEventListener.trapBubbledEvent(e, t, n);
},
trapCapturedEvent: function(e, t, n) {
return m.ReactEventListener.trapCapturedEvent(e, t, n);
},
ensureScrollValueMonitoring: function() {
if (!d) {
var e = u.refreshScrollValues;
m.ReactEventListener.monitorScrollValue(e), d = !0;
}
},
eventNameDispatchConfigs: a.eventNameDispatchConfigs,
registrationNameModules: a.registrationNameModules,
putListener: a.putListener,
getListener: a.getListener,
deleteListener: a.deleteListener,
deleteAllListeners: a.deleteAllListeners
});
l.measureMethods(m, "ReactBrowserEventEmitter", {
putListener: "putListener",
deleteListener: "deleteListener"
}), e.exports = m;
}, function(e, t, n) {
"use strict";
var r = {};
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(234), o = r({
prop: null,
context: null,
childContext: null
});
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(200), a = n(529), i = n(335), s = {
screenX: null,
screenY: null,
clientX: null,
clientY: null,
ctrlKey: null,
shiftKey: null,
altKey: null,
metaKey: null,
getModifierState: i,
button: function(e) {
var t = e.button;
return "which" in e ? t : 2 === t ? 2 : 4 === t ? 1 : 0;
},
buttons: null,
relatedTarget: function(e) {
return e.relatedTarget || (e.fromElement === e.srcElement ? e.toElement : e.fromElement);
},
pageX: function(e) {
return "pageX" in e ? e.pageX : e.clientX + a.currentScrollLeft;
},
pageY: function(e) {
return "pageY" in e ? e.pageY : e.clientY + a.currentScrollTop;
}
};
o.augmentClass(r, s), e.exports = r;
}, function(e, t, n) {
"use strict";
var r = !1;
e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
return o[e];
}
function r(e) {
return ("" + e).replace(a, n);
}
var o = {
"&": "&amp;",
">": "&gt;",
"<": "&lt;",
'"': "&quot;",
"'": "&#x27;"
}, a = /[&><"']/g;
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
return "function" == typeof e && "undefined" != typeof e.prototype && "function" == typeof e.prototype.mountComponent && "function" == typeof e.prototype.receiveComponent;
}
function o(e) {
var t;
if (null === e || e === !1) t = new i(o); else if ("object" == typeof e) {
var n = e;
!n || "function" != typeof n.type && "string" != typeof n.type ? u(!1) : void 0, 
t = "string" == typeof n.type ? s.createInternalComponent(n) : r(n.type) ? new n.type(n) : new c();
} else "string" == typeof e || "number" == typeof e ? t = s.createInstanceForText(e) : u(!1);
return t.construct(e), t._mountIndex = 0, t._mountImage = null, t;
}
var a = n(958), i = n(519), s = n(525), l = n(38), u = n(32), c = (n(40), function() {});
l(c.prototype, a.Mixin, {
_instantiateReactComponent: o
}), e.exports = o;
}, function(e, t, n) {
"use strict";
var r = n(68), o = /^[ \r\n\t\f]/, a = /<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/, i = function(e, t) {
e.innerHTML = t;
};
if ("undefined" != typeof MSApp && MSApp.execUnsafeLocalFunction && (i = function(e, t) {
MSApp.execUnsafeLocalFunction(function() {
e.innerHTML = t;
});
}), r.canUseDOM) {
var s = document.createElement("div");
s.innerHTML = " ", "" === s.innerHTML && (i = function(e, t) {
if (e.parentNode && e.parentNode.replaceChild(e, e), o.test(t) || "<" === t[0] && a.test(t)) {
e.innerHTML = String.fromCharCode(65279) + t;
var n = e.firstChild;
1 === n.data.length ? e.removeChild(n) : n.deleteData(0, 1);
} else e.innerHTML = t;
});
}
e.exports = i;
}, function(e, t, n) {
"use strict";
function r(e, t) {
t < e.length - 1 ? e[t] = e.pop() : e.pop();
}
var o = n(5), a = n(537), i = function() {
function e(e) {
void 0 === e && (e = !1), this.onlyPublishOnChange = e, this.subscriptions = [];
}
return Object.defineProperty(e.prototype, "before", {
get: function() {
return this._before || (this._before = new e());
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "after", {
get: function() {
return this._after || (this._after = new e());
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "interceptor", {
get: function() {
return this._interceptor || (this._interceptor = new e());
},
enumerable: !0,
configurable: !0
}), e.prototype.publish = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
this.publishPayload(e);
}, e.prototype.publishPayload = function(e) {
if (this.interceptor.subscriptions.length > 0) {
var t = !1, n = {
cancel: function() {
t = !0;
},
change: function(t) {
e = t;
}
};
if ((s = this.interceptor).publish.apply(s, [ n ].concat(e)), t) return;
}
if (this.onlyPublishOnChange) {
if (o.isEqual(e, this.previousPayload)) return;
this.previousPayload = e;
}
if (0 !== this.subscriptions.length) {
this.before.publishPayload(e);
for (var r = this.subscriptions.slice(), a = 0, i = r.length; i > a; a++) (l = r[a]).onPublish.apply(l, e);
this.after.publishPayload(e);
var s, l;
}
}, e.prototype.subscribe = function(e, t) {
var n = new a.Subscription(this, e, t);
return this.subscriptions.push(n), n;
}, e.prototype.removeSubscription = function(e) {
var t = this.subscriptions.indexOf(e);
-1 !== t && (r(this.subscriptions, t), e.onUnsubscribe && e.onUnsubscribe());
}, e.prototype.trigger = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
this.publishPayload(e);
}, e.prototype.listen = function(e, t) {
var n = this.subscribe(e, t);
return this.removeSubscription.bind(this, n);
}, e;
}();
t.Publisher = i;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = function() {
function e() {
this.weaponAccessories = o.map();
}
return e.prototype.getAccessoriesForWeapon = function(e) {
return this.weaponAccessories.get(e) || null;
}, e.prototype.addAccessoriesForWeapon = function(e, t) {
this.weaponAccessories.set(e, t);
}, e;
}();
r([ o.action ], a.prototype, "addAccessoriesForWeapon", null), t.WeaponAccessoriesStore = a, 
t.weaponAccessoriesStore = new a();
}, function(e, t, n) {
(function(__) {
"use strict";
var e = n(24), r = n(8), o = n(3), a = n(49), i = n(349), s = n(166), l = n(21), u = n(31).alert, c = n(696), p = n(411), f = n(695).openPopupSuccess, d = n(548).openShortcutKitSuccess, h = 0;
t.StartPurchaseRequest = l.createClient({
requestOn: [ a.checkout ],
request: function(t, n) {
var r = n ? n : t.data;
return i.ps4StoreIconStore.setPurchaseActive(!0), e.firstPartyRequest("Inventory.startPurchase", {
game: t.gameId,
productId: t.offerId,
data: r ? r : null,
pinData: t.pinData,
deviceIdType: "machash",
deviceId: s.analyticsStore.uuid
});
},
onRequestError: function() {
i.ps4StoreIconStore.setPurchaseActive(!1);
},
parse: function(e, t) {
var n = new c({
jobId: ++h,
purchaseId: e.purchaseId,
offer: t
});
return p.add(n), n;
},
update: function(e, t, n, r, i) {
i ? a.checkoutStatus({
status: 1,
CHECKOUT_COMPLETED: 1
}, e) : o.frostbite.sendMessage("sparta.commerceCheckout", {
offerId: e.offer.productId,
crossTitleCheckout: "game" === e.offer.type,
owned: e.offer.owned,
jobId: e.jobId
}), this.publish(e);
}
});
var y = l.createClient({
requestOn: [ a.checkoutStatus ],
request: function(t, n) {
var r = "error";
return t.status === t.CHECKOUT_COMPLETED ? r = "completed" : t.status === t.CHECKOUT_CANCELLED ? r = "cancelled" : t.status === t.CHECKOUT_FAILURE ? r = "error" : t.status === t.CHECKOUT_OIG_DISABLED && (r = "disabled"), 
i.ps4StoreIconStore.setPurchaseActive(!1), e.firstPartyRequest("Inventory.completePurchase", {
game: n.offer.gameId,
productId: n.offer.offerId,
purchaseId: n.purchaseId,
pinData: n.offer.pinData,
result: r,
deviceIdType: "machash",
deviceId: s.analyticsStore.uuid
});
},
parse: function(e) {
return e;
},
update: function(t, n, o, i) {
if (!i.offer.owned) if (o.status === o.CHECKOUT_COMPLETED) {
a.updateOffers([ i.offer.gameId ]), e.refreshEntitlements();
var s = r.gameStore.getGame(i.offer.gameId);
i && i.offer && i.offer.gameId && "access" === i.offer.gameId ? f() : i && i.offer && "shortcuts" === i.offer.group && s.storeConfig.showShortcutKitReceipt ? d(i) : u(__("ID_SPARTA_COMMERCE_CHECKOUT_COMPLETED", !0), "");
} else SpartaGlobals.bundleIsPC && !r.settingsStore.isOriginInGameOverlayAvailable ? u(__("ID_SPARTA_COMMERCE_CHECKOUT_OIG_DISABLED", !0), "") : o.status === o.CHECKOUT_CANCELLED ? u(__("ID_SPARTA_COMMERCE_CHECKOUT_CANCELLED", !0), "") : o.status === o.CHECKOUT_FAILURE ? u(__("ID_SPARTA_COMMERCE_CHECKOUT_FAILURE", !0), "") : u(__("ID_SPARTA_COMMERCE_CHECKOUT_OTHER", !0), "");
a.checkoutCompleted(o, i.offer, n);
}
});
t.PurchaseClient = {
startListening: function() {
t.StartPurchaseRequest.startListening(), y.startListening();
}
};
}).call(t, n(2));
}, function(e, t) {
"use strict";
var n = function() {
function e() {
this.purchasesByGame = {};
}
return e.prototype.getType = function(e, t) {
var n = this.purchasesByGame[e];
return void 0 === n ? void 0 : n.filter(function(e) {
return e.state.name === t;
});
}, e.prototype.setPurchases = function(e, t) {
this.purchasesByGame[e] = t;
}, e;
}();
t.rspPurchaseStore = new n();
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(5), i = n(9), s = "on", l = "off", u = function() {
function e(e, t) {
this.key = e, this.value = t;
}
return e;
}();
t.Setting = u;
var c = function() {
function e(e, t, n, r, o, a, i, s) {
this.id = e, this.label = t, this.description = n, this.options = r, this.defaultSetting = o, 
this.initialSetting = a, this._isEnabled = !0, this.setting = a, this.optionFormatter = i, 
this.optionQualifier = s;
}
return Object.defineProperty(e.prototype, "value", {
get: function() {
return this.formatSetting(this.setting);
},
enumerable: !0,
configurable: !0
}), e.prototype.set = function(e) {
this.setting = e;
}, e.prototype.enable = function() {
this._isEnabled = !0;
}, e.prototype.disable = function() {
this._isEnabled = !1;
}, Object.defineProperty(e.prototype, "isEnabled", {
get: function() {
return this._isEnabled;
},
enumerable: !0,
configurable: !0
}), e.prototype.formatSetting = function(e) {
return this.optionFormatter ? this.optionFormatter(e, this.defaultSetting) : e.value;
}, e.prototype.toSetting = function() {
return e = {}, e[this.setting.key] = s, e;
var e;
}, e.prototype.equalSettings = function(e, t) {
return e.value === t.value;
}, e.prototype.isValid = function(e) {
return this.optionQualifier ? this.optionQualifier(e) : !0;
}, e.prototype.nextSetting = function() {
var e = this, t = a.find(this.options, function(t) {
return e.equalSettings(t, e.setting);
}), n = this.options.indexOf(t), r = this.options.slice(n + 1), o = a.find(r, function(t) {
return e.isValid(t);
});
return o || (o = a.find(this.options, function(t) {
return e.isValid(t);
})), o;
}, e.prototype.toggle = function() {
this.set(this.nextSetting());
}, e;
}();
o([ i.observable ], c.prototype, "setting", void 0), o([ i.observable ], c.prototype, "_isEnabled", void 0), 
o([ i.computed ], c.prototype, "value", null), o([ i.action ], c.prototype, "set", null), 
o([ i.action ], c.prototype, "enable", null), o([ i.action ], c.prototype, "disable", null), 
t.Option = c;
var p = function(e) {
function t(t, n, r, o, a, i, s) {
var l, c = [ new u(t, !0), new u(t, !1) ];
return l = e.call(this, t, n, r, c, new u(t, !!o), new u(t, !!a), i, s) || this;
}
return r(t, e), t.prototype.toSetting = function() {
return e = {}, e[this.setting.key] = this.setting.value ? s : l, e;
var e;
}, t.fromSetting = function(e) {
return e === s;
}, t;
}(c);
t.BooleanOption = p;
var f = function(e) {
function t(t, n, r, o, a, i, s, l) {
var c, p = o.map(function(e) {
return new u(t, e);
});
return c = e.call(this, t, n, r, p, new u(t, a), new u(t, i), s, l) || this;
}
return r(t, e), t.prototype.toSetting = function() {
return e = {}, e[this.setting.key] = this.setting.value, e;
var e;
}, t;
}(c);
t.NumberOption = f;
var d = function(e) {
function t(t, n, r, o, a, i, s, l) {
var c, p = o.map(function(e) {
return new u(t, e);
});
return c = e.call(this, t, n, r, p, new u(t, a), new u(t, i), s, l) || this;
}
return r(t, e), t;
}(c);
t.ObjectOption = d;
var h = function() {
function e(e) {
this.images = e;
}
return e.prototype.image = function(e) {
var t = a.find(this.images, function(t) {
return t.id === e;
});
return t ? t.url : null;
}, e;
}();
t.ImageSet = h;
var y = function() {
function e(e, t, n, r) {
this.id = e, this.label = t, this.description = n, this.images = r;
}
return e;
}();
t.Map = y;
var g = function() {
function e(e, t, n, r, o) {
this.id = e, this.filterKey = t, this.label = n, this.description = r, this.images = o;
}
return e;
}();
t.GameMode = g;
var m = function() {
function e(e, t, n, r, o) {
this.id = e, this.mapOptions = t, this.gameModeOptions = n, this.defaultEntry = r, 
this.minimumMapEntries = 1, this.maximumMapEntries = 15, o && 0 !== o.length ? this.entries = o : this.entries = [ r ];
}
return Object.defineProperty(e.prototype, "hasMaxEntries", {
get: function() {
return this.entries.length === this.maximumMapEntries;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasMinEntries", {
get: function() {
return this.entries.length === this.minimumMapEntries;
},
enumerable: !0,
configurable: !0
}), e.prototype.addEntry = function(e) {
return this.hasMaxEntries ? void 0 : (this.entries.push(e || this.defaultEntry), 
this.entries[this.entries.length - 1]);
}, e.prototype.changeEntry = function(e, t) {
this.entries.splice(e, 1, t);
}, e.prototype.removeEntry = function(e) {
0 > e || e >= this.entries.length || this.hasMinEntries || this.entries.splice(e, 1);
}, e.prototype.resetEntries = function() {
this.entries = [ this.defaultEntry ];
}, e.prototype.toSetting = function() {
return this.entries.map(function(e) {
return {
gameMode: e.gameMode.id,
mapName: e.map.id
};
});
}, e;
}();
o([ i.observable ], m.prototype, "entries", void 0), o([ i.computed ], m.prototype, "hasMaxEntries", null), 
o([ i.computed ], m.prototype, "hasMinEntries", null), o([ i.action ], m.prototype, "addEntry", null), 
o([ i.action ], m.prototype, "changeEntry", null), o([ i.action ], m.prototype, "removeEntry", null), 
o([ i.action ], m.prototype, "resetEntries", null), t.MapRotationOption = m;
var b = function() {
function e(e, t, n, r) {
void 0 === n && (n = ""), void 0 === r && (r = 255), this.id = e, this.label = t, 
this.defaultSetting = n, this.maxLength = r, this._isVisible = !0, this._isEnabled = !0, 
this.setting = n;
}
return Object.defineProperty(e.prototype, "value", {
get: function() {
return this.setting;
},
enumerable: !0,
configurable: !0
}), e.prototype.toSetting = function() {
return e = {}, e[this.id] = this.value, e;
var e;
}, e.prototype.change = function(e) {
this.setting = e;
}, e.prototype.hide = function() {
this._isVisible = !1;
}, e.prototype.disable = function() {
this._isEnabled = !1;
}, Object.defineProperty(e.prototype, "isEnabled", {
get: function() {
return this._isEnabled;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isVisible", {
get: function() {
return this._isVisible;
},
enumerable: !0,
configurable: !0
}), e;
}();
o([ i.observable ], b.prototype, "setting", void 0), o([ i.computed ], b.prototype, "value", null), 
o([ i.action ], b.prototype, "change", null), o([ i.action ], b.prototype, "hide", null), 
o([ i.action ], b.prototype, "disable", null), t.TextOption = b;
var v = function() {
function e(e, t, n, r, o) {
this.id = e, this.label = t, this.items = n, this.configurator = r, this.configFormatter = o;
}
return Object.defineProperty(e.prototype, "value", {
get: function() {
return this.configFormatter ? this.configFormatter(this.items) : this.items.length;
},
enumerable: !0,
configurable: !0
}), e;
}();
o([ i.computed ], v.prototype, "value", null), t.ConfigGroup = v;
var _ = function() {
function e(e, t) {
this.rspSettings = e, this.groups = t;
}
return e.prototype.getOption = function(e) {
var t = a.flatten(this.groups.map(function(e) {
return e.items;
}));
return a.find(t, function(t) {
return e === t.id;
});
}, e.prototype.getGroup = function(e) {
return a.find(this.groups, function(t) {
return t.id === e;
});
}, e;
}();
t.RSPConfig = _;
var S = function() {
function e(e, t, n) {
this.levels = e, this.gameModes = t, this.masks = n;
}
return e.prototype.getLevel = function(e) {
return a.find(this.levels, function(t) {
return t.levelName === e;
});
}, e.prototype.getGameMode = function(e) {
return a.find(this.gameModes, function(t) {
return t.gameModeName === e;
});
}, e.prototype.getSmallestGameModeSize = function(e) {
var t = this, n = e.map(function(e) {
return t.getGameMode(e).playerCount;
});
return a.first(n.sort());
}, e.prototype.getMask = function(e) {
return a.find(this.masks, function(t) {
return t.maskName === e;
});
}, e;
}();
t.RSPTemplate = S;
}, function(e, t, n) {
"use strict";
function r(e) {
if (!e) return !1;
for (var t in c) if (c[t] && -1 !== c[t].indexOf(e)) return !0;
return !1;
}
function o() {
var e = "generic";
e = i.locationStore && i.locationStore.location ? i.locationStore.location.section : u.getState().hostingGameId;
var t = s.localeState.displayLocale || u.getState().locale;
return {
section: e,
fallback: c[e] && -1 !== c[e].indexOf(t)
};
}
function a() {
return s.localeState.translationsAreDone;
}
var i = n(8), s = n(58), l = n(103), u = n(19), c = {
warsaw: [ l.ARABIC, l.TURKISH ],
tunguska: [ l.CZECH, l.KOREAN ]
};
SpartaGlobals.bundleIsConsole && (c.warsaw.push(l.CZECH), c.warsaw.push(l.KOREAN), 
c.warsaw.push(l.CHINESE)), t.needsFallbackForLocale = r, t.getFallbackInfo = o, 
t.areTranslationsDone = a;
}, function(e, t, n) {
"use strict";
function r() {
a.events.onManifestDownloaded.listen(function(e) {
i.action("onManifestDownloaded", function() {
var n = e.bundleVersion != e.newBundleVersion;
t.store.isUpdateAvailable = n, t.store.isUpdateMandatory = e.isMandatory;
})();
}), a.events.onManifestAssetsDownloadStarted.listen(function(e) {
i.action("onManifestAssetsDownloadStarted", function() {
t.store.isUpdateDownloading = !0;
})();
}), a.events.onManifestAssetsDownloadCompleted.listen(function(e) {
i.action("onManifestAssetsDownloadCompleted", function() {
t.store.isUpdateDownloading = !1, t.store.isUpdateDownloaded = !0;
})();
});
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(3), i = n(9), s = function() {
function e() {
this.isUpdateAvailable = !1, this.isUpdateMandatory = !1, this.isUpdateDownloading = !1, 
this.isUpdateDownloaded = !1;
}
return Object.defineProperty(e.prototype, "isMandatoryUpdateInstalled", {
get: function() {
return this.isUpdateAvailable && this.isUpdateMandatory && this.isUpdateDownloaded;
},
enumerable: !0,
configurable: !0
}), e;
}();
o([ i.observable ], s.prototype, "isUpdateAvailable", void 0), o([ i.observable ], s.prototype, "isUpdateMandatory", void 0), 
o([ i.observable ], s.prototype, "isUpdateDownloading", void 0), o([ i.observable ], s.prototype, "isUpdateDownloaded", void 0), 
o([ i.computed ], s.prototype, "isMandatoryUpdateInstalled", null), t.BundleUpdateStore = s, 
t.init = r, t.store = new s(), window.bundleUpdateStore = t.store;
}, function(e, t, n) {
"use strict";
var r, o = n(111);
!function(e) {
e[e.none = 0] = "none", e[e.disconnected = 1] = "disconnected", e[e.connecting = 2] = "connecting", 
e[e.ready = 3] = "ready";
}(r = t.PresenceStates || (t.PresenceStates = {}));
var a = function() {
function e(e) {
void 0 === e && (e = {}), this.props = e, this.state = void 0 !== e.state ? e.state : r.none, 
this.hasInternet = void 0 !== e.hasInternet ? e.hasInternet : !1, this.isFirstPartyConnected = null != e.isFirstPartyConnected ? e.isFirstPartyConnected : !1, 
this.isQoSReady = null != e.isQoSReady ? e.isQoSReady : !1, this.mode = void 0 !== e.mode ? e.mode : o.PresenceModeType.none, 
this.resultType = void 0 !== e.resultType ? e.resultType : o.ConnectionResultType.none, 
this.customMessage = e.customMessage || "", Object.freeze(this);
}
return e.prototype.shouldDisplayPresenceErrors = function() {
return this.mode !== o.PresenceModeType.silentOnline;
}, e.prototype.isUnknown = function() {
return this.state === r.none;
}, e.prototype.isDisconnected = function() {
return this.state === r.disconnected;
}, e.prototype.isTooYoung = function() {
return this.resultType === o.ConnectionResultType.tooYoung || this.resultType === o.ConnectionResultType.tooYoungForContent;
}, e.prototype.isReady = function() {
return this.state === r.ready;
}, e.prototype.isConnecting = function() {
return this.state === r.connecting;
}, e.prototype.isMissingMPPrivileges = function() {
return this.resultType === o.ConnectionResultType.noMultiplayerPrivilege;
}, e.prototype.resultToHumanReadable = function() {
throw new Error("deprecated");
}, e;
}();
t.PresenceState = a;
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, n) {
var o = r();
switch (o) {
case t.CrosslaunchSetting.Full:
i(e, n);
break;

case t.CrosslaunchSetting.None:
c.showNotInHostingGameAlert();
}
}
function r() {
return s.settingsStore.isFeatureEnabled(g) ? t.CrosslaunchSetting.Full : t.CrosslaunchSetting.None;
}
function o(e) {
if (SpartaGlobals.bundleIsConsole) return !0;
var t = y.getState();
return t.ownsGame(e);
}
function a(e) {
function t() {
h.gotoLocation(n.startRoute + "/store/list?specific=game");
}
var n = u.gameStore.getGame(e), r = n.displayName(), o = {
title: __("ID_SPARTA_COMMERCE_UNOWNED_GAME").replace("[[game]]", r.toUpperCase()),
details: __("ID_SPARTA_COMMERCE_UNOWNED_GAME_DESC").replace("[[game]]", r),
label: __("ID_SPARTA_COMMERCE_UNOWNED_GAME_GET"),
image: n.boxShot
};
return f(o.details, o.title, o.image, {
action: t,
key: d.Option2,
label: o.label
}, !0);
}
function i(e, t) {
p.countdownThenLaunchGame(u.gameStore.getGame(e), new l.CrossLaunchOptions({
gameId: e,
params: t
}));
}
var s = n(8), l = n(357), u = n(8), c = n(39), p = n(204), f = n(31).alertWithImageAndOption, d = n(12), h = n(18), y = n(67);
t.CrosslaunchSetting = {
Full: "fullCrosslaunch",
None: "none"
};
var g = t.CrosslaunchSetting.Full + SpartaGlobals.bundlePlatform.replace("XBOXONE", "XB1");
t.continueCrosslaunch = e, t.getCrosslaunchSetting = r, t.ownsGame = o, t.showMissingGamePopup = a;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t) {
switch (t.type) {
case "bool":
return t.defaultValue ? "on" === e[t.filterKey] : "off" === e[t.filterKey];

case "scale":
return "on" === e[t.defaultOption];

case "int":
return null == e[t.filterKey];

default:
return e[t.filterKey] === String(t.defaultValue);
}
}
function n(e, t) {
return "on" === e ? t.prettyName || t.name : "off" === e ? __("ID_SPARTA_FILTER_NO_FILTERS").replace("[[filterCategory]]", t.prettyName || t.name) : "";
}
function r(e, t) {
return t.name + " " + 100 * t.options[e] + "%";
}
function o(e, t) {
var n = t.filter(function(t) {
return t.filterKey === e;
});
return n.length ? n[0].prettyName || n[0].name : e;
}
function a(e, t, n) {
void 0 === n && (n = !1);
var r = Object.keys(e), a = r.length, i = t ? t.length : 0;
return 0 === a ? "" : 1 === a ? o(r[0], t) : a === i ? __("ID_SPARTA_FILTER_ANY_FILTERS") : n ? r.map(function(e) {
return o(e, t);
}).join(", ") : a + " / " + i;
}
function i(t, r) {
var o = r.filter(function(n) {
return !e(t, n);
}), a = o.length;
if (0 === a) return "";
if (1 === a) {
var i = t[o[0].filterKey];
if (i) return n(i, o[0]);
}
return __("ID_SPARTA_FILTER_CUSTOM_FILTERS");
}
function s(e, t) {
var r = Object.keys(e), o = r.length, a = t ? t.length : 0;
if (0 === o) return "";
if (1 === o) {
var i = t.filter(function(e) {
return e.filterKey === r[0];
}), s = e[r[0]];
if (s) return n(s, i[0]);
}
return o + " / " + a;
}
function l(t, n) {
var o = n.filter(function(n) {
return !e(t, n);
}), a = o.length;
if (0 === a) return "";
if (1 === a) {
var i = Object.keys(t).filter(function(e) {
return null != o[0].options[e];
});
if (i.length) return r(i[0], o[0]);
}
return __("ID_SPARTA_FILTER_CUSTOM_FILTERS");
}
function u(e, t) {
var n = Object.keys(e), r = n.length, a = t ? t.length : 0;
return 0 === r ? "" : 1 === r ? o(n[0], t) : r + " / " + a;
}
function c(e, t, n) {
return "name" === n ? e.name || "" : h.indexOf(n) > -1 ? a(e, t, "slots" === n) : "scales" === n ? l(e, t) : "rules" === n ? u(e, t) : "advanced" === n ? s(e, t) : [ "kits", "vehicles", "weaponClasses", "misc" ].indexOf(n) > -1 ? i(e, t) : "???";
}
function p(e) {
return "maps" === e ? __("ID_SPARTA_FILTER_MAPS") : "gameModes" === e ? __("ID_SPARTA_FILTER_GAMEMODES") : "vehicles" === e ? __("ID_SPARTA_FILTER_VEHICLES") : "kits" === e ? __("ID_SPARTA_FILTER_KITS") : "weaponClasses" === e ? __("ID_SPARTA_FILTER_WEAPONS") : "misc" === e ? __("ID_SPARTA_FILTER_ADVANCED") : "scales" === e ? __("ID_SPARTA_FILTER_RULES") : "serverType" === e ? __("ID_SPARTA_FILTER_SERVERTYPE") : "presets" === e ? __("ID_SPARTA_FILTER_PRESET") : "rules" === e ? __("ID_SPARTA_FILTER_RULES") : "advanced" === e ? __("ID_SPARTA_FILTER_ADVANCED") : "slots" === e ? __("ID_SPARTA_FILTER_SLOTS") : "regions" === e ? __("ID_SPARTA_FILTER_REGIONS") : "gameSizes" === e ? __("ID_SPARTA_FILTER_GAMESIZE") : "name" === e ? __("ID_SPARTA_FILTER_NAME") : "tickRates" === e ? __("ID_SPARTA_FILTER_TICKRATE") : "";
}
function f(e, t, n) {
var r = n.map(function(n) {
return c(e[n], t[n], n);
});
return r.reduce(function(e, t) {
return "" === e ? t : "" === t ? e : __("ID_SPARTA_FILTER_CUSTOM_FILTERS");
});
}
function d(t, n) {
void 0 === n && (n = {});
var r = [], a = !1, i = Object.keys(n).filter(function(e) {
return "maps" !== e && "gameModes" !== e;
}), s = [ "gameModes", "maps" ].concat(i);
return s.forEach(function(i) {
var s = t[i], l = n[i];
if (l && s) if (m.indexOf(i) > -1) {
var u = Object.keys(s);
u.length && (1 === u.length && y.indexOf(i) > -1 ? r.push(o(u[0], l)) : "maps" === i || "gameModes" === i ? r.push(u.length + "/" + l.length + " " + p(i)) : r.push(p(i)));
} else {
var c = l.filter(function(t) {
return !e(s, t);
});
c.length && (b.indexOf(i) > -1 ? a || (a = !0) : r.push(p(i)));
}
}), t.name && t.name.name && r.push(p("name")), {
text: r.join(", "),
isCustomGames: a
};
}
var h = [ "maps", "gameModes", "regions", "slots", "presets", "serverType", "tickRates", "gameSizes" ], y = [ "maps", "gameModes", "regions", "presets", "serverType", "tickRates" ], g = [ "advanced", "rules" ], m = h.concat(g);
t.describeFilterCategory = c;
var b = [ "kits", "vehicles", "weaponClasses", "misc", "scales" ];
t.describeFilterCategories = f, t.getFilterSummary = d;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(9);
!function(e) {
e[e.Popup = 0] = "Popup", e[e.Inline = 1] = "Inline";
}(r = t.TakeoverType || (t.TakeoverType = {}));
var i;
!function(e) {
e[e.PC = 0] = "PC", e[e.PS4 = 1] = "PS4", e[e.XB1 = 2] = "XB1";
}(i || (i = {}));
var s = function() {
function e() {
this.type = r.Popup, this.dismissed = !1;
}
return e.prototype.dismiss = function() {
this.dismissed = !0;
}, e;
}();
o([ a.observable ], s.prototype, "dismissed", void 0), o([ a.action ], s.prototype, "dismiss", null), 
t.Takeover = s;
var l = function() {
function e() {
this.disabled = !1, this.populated = !1, this.takeovers = [];
}
return Object.defineProperty(e.prototype, "activeTakeover", {
get: function() {
if (this.disabled) return void 0;
var e = this.takeovers.filter(function(e) {
return !e.dismissed;
});
return e.length ? e[0] : void 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "usedAssets", {
get: function() {
var e = [];
return this.activeTakeover && this.activeTakeover.backgroundUrl && e.push(this.activeTakeover.backgroundUrl), 
e;
},
enumerable: !0,
configurable: !0
}), e.prototype.disable = function() {
this.disabled = !0, this.populated = !0;
}, e.prototype.populateTakeovers = function(e) {
this.populated || this.disabled || (this.populated = !0, this.takeovers = this.takeovers.concat(e));
}, e;
}();
o([ a.observable ], l.prototype, "disabled", void 0), o([ a.observable ], l.prototype, "populated", void 0), 
o([ a.observable ], l.prototype, "takeovers", void 0), o([ a.computed ], l.prototype, "activeTakeover", null), 
o([ a.computed ], l.prototype, "usedAssets", null), o([ a.action ], l.prototype, "disable", null), 
o([ a.action ], l.prototype, "populateTakeovers", null), t.TakeoverStore = l;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(10), s = n(3), l = n(11), u = n(16), c = n(6), p = n(7).Text, f = n(70), d = n(172), h = d.CARD_WIDTH, y = d.CARD_HEIGHT, g = n(54), m = l.bbOfflineUrl("/sparta/assets/tunguska/career/golden-texture-eae85f40.png"), b = l.bbOfflineUrl("/sparta/jsclient/builds/assets/codex-locked-m-dc2f03d1.png"), v = l.bbOfflineUrl("/sparta/jsclient/builds/assets/codex-locked-2b76a9ee.png"), _ = l.bbOfflineUrl("/sparta/jsclient/builds/assets/card-gradient-inactive-news-1bef4fc7.png"), S = l.bbOfflineUrl("/sparta/jsclient/builds/assets/card-gradient-active-news-abc6b204.png"), T = function(e) {
function t(t) {
var n = e.call(this, t) || this;
n.preLoader = s.texture.createPreloader(n), t.entry && (n.focusItem = s.focus.create(n, "codexcard_" + t.entry.code));
var r = n.props.isInPopup ? [ 15, 15, 15, 15 ] : [ 5, 5, 5, 5 ], o = n.props.isInPopup ? [ 0, 0, 15, 15 ] : [ 0, 0, 5, 5 ], a = c.GUTTER * (n.props.isInPopup ? 4 : 2);
return n.styles = {
dock: {
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0
},
image: {
zOffset: 1,
textureMode: "cover",
borderRadius: r
},
info: {
position: "absolute",
bottom: 0,
right: 0,
left: 0,
zOffset: 55,
padding: a
},
goldenText: {
texture2: m,
texture2Mode: "fill",
opacity: 1
},
textCategory: {
opacity: .66,
textAlignForRTL: "left"
},
textName: {
textAlignForRTL: "left"
},
goldenLine: {
position: "absolute",
bottom: -1,
right: 0,
left: 0,
height: n.props.isInPopup ? 16 : 8,
zOffset: 51,
texture2: m,
texture2Mode: "fill",
borderRadius: o
},
progressBar: {
position: "absolute",
bottom: -1,
left: 0,
right: 0,
borderRadius: o,
zOffset: 51
},
lockedBackground: {
texture: b,
opacity: .4
},
lockedBackgroundLarge: {
texture: v,
opacity: .4
},
overlayStyle: {
position: "absolute",
bottom: 0,
top: 0,
left: 0,
right: 0,
zOffset: 2,
textureMode: "cover",
borderRadius: r
}
}, n;
}
return r(t, e), t.prototype.componentWillMount = function() {
this.preLoader.preload(S, void 0), this.preLoader.preload(_, void 0), this.preLoader.preload(m, void 0), 
this.isCollected() && this.props.entry && this.props.entry.imageUrl ? this.preLoader.preload(this.props.entry.imageUrl, void 0) : (this.preLoader.preload(v, void 0), 
this.preLoader.preload(b, void 0));
}, t.prototype.isCollected = function() {
return this.props.completedOverride || this.props.entry && this.props.entry.isCollected;
}, t.prototype.renderGoldenLine = function() {
return a.createElement("surface", {
style: this.styles.goldenLine
});
}, t.prototype.renderInfo = function(e) {
var t = e.isCollected || this.props.completedOverride, n = e.category || "", r = t ? this.styles.goldenText : {}, o = e.displayName || "";
return a.createElement("surface", {
style: this.styles.info
}, a.createElement(p, {
key: "category",
value: n.toUpperCase(),
size: this.props.isInPopup ? "L" : "XXS",
style: [ this.styles.textCategory, r ]
}), a.createElement(p, {
key: "name",
value: o.toUpperCase(),
size: this.props.isInPopup ? "XL" : "XS",
type: "emphasis",
style: [ this.styles.textName, r ]
}));
}, t.prototype.renderProgress = function(e) {
var t = e.criteria || [], n = t.length ? 0 : 1, r = 0;
t.forEach(function(e) {
n += e.progression ? e.progression.valueNeeded : 0, r += e.progression ? e.progression.valueAcquired : 0;
});
var o = this.props.isInPopup ? [ 0, 0, 0, 16 ] : [ 0, 0, 0, 5 ];
return a.createElement(f, {
style: this.styles.progressBar,
barColor: "#FF9900",
backgroundColor: "#000000",
height: this.props.isInPopup ? "L" : "M",
borderRadius: o,
completed: 100 * r / n / 100
});
}, t.prototype.render = function() {
var e, t = this.props.isInPopup, n = this.props.entry, r = this.props.skipProgress, o = this.focusItem.isFocused, i = this.isCollected();
e = i && n ? {
texture: n.imageUrl
} : t ? this.styles.lockedBackgroundLarge : this.styles.lockedBackground;
var s = Object.assign({}, this.styles.dock, this.styles.image, e), l = Object.assign({
texture: _
}, this.styles.overlayStyle, {
opacity: u.Animation.tweenSwitch(1, 0, o, u.Animation.presets.focusables.enter.fast, u.Animation.presets.focusables.leave)
}), p = Object.assign({
texture: S
}, this.styles.overlayStyle, {
opacity: u.Animation.tweenSwitch(0, 1, o, u.Animation.presets.focusables.enter.fast, u.Animation.presets.focusables.leave)
}), f = Object.assign({
width: c.getWidth(h.cells.S),
height: c.getHeight(y.cells.S),
borderRadius: this.styles.image.borderRadius,
enableMouseEvents: !this.props.isInPopup
}, this.props.style);
return a.createElement(g, {
style: f,
input: this.props.buttons,
scale: !t,
focusItem: this.focusItem
}, a.createElement("surface", {
style: s
}), a.createElement("surface", {
style: l
}), a.createElement("surface", {
style: p
}), !i && !r && n && this.renderProgress(n), n && this.renderInfo(n), n && i && n.isGolden && this.renderGoldenLine());
}, t;
}(a.Component);
T.defaultProps = {
isInPopup: !1,
buttons: [],
skipProgress: !1,
completedOverride: !1,
hasNoSideMargin: !1
}, T = o([ i.observer ], T), t.TunguskaCodexCard = T;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(5), i = n(259), s = function() {
function e() {
this.codexEntries = [];
}
return e.prototype.setCodexEntries = function(e) {
this.codexEntries = e;
}, e.prototype.getCodexNumber = function(e) {
var t = e.code;
if (t) {
var n = "x" === t[t.length - 1], r = Number(t.slice(1, 4));
return r + (n ? .5 : 0);
}
return 0;
}, Object.defineProperty(e.prototype, "careerCodexCategories", {
get: function() {
var e = this, t = a.groupBy(this.codexEntries, function(e) {
return e.category;
});
return a.map(t, function(t, n) {
var r = t.length, o = 0;
t.forEach(function(e) {
e.isCollected && o++;
}), t.sort(function(t, n) {
return e.getCodexNumber(t) - e.getCodexNumber(n);
});
var a = new i.CodexCategoryProgression(r, o);
return new i.CodexCategoryGroup(n, t, a);
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "totalCodexProgression", {
get: function() {
var e = 0, t = this.codexEntries.length;
return this.codexEntries.forEach(function(t) {
t.isCollected && e++;
}), {
total: t,
completed: e
};
},
enumerable: !0,
configurable: !0
}), e.prototype.getCodexEntryById = function(e) {
return a.find(this.codexEntries.slice(), function(t) {
return t.id === e;
});
}, e.prototype.getCodexEntryByCode = function(e) {
return a.find(this.codexEntries.slice(), function(t) {
return t.code === e;
});
}, e;
}();
r([ o.observable ], s.prototype, "codexEntries", void 0), r([ o.action ], s.prototype, "setCodexEntries", null), 
r([ o.computed ], s.prototype, "careerCodexCategories", null), r([ o.computed ], s.prototype, "totalCodexProgression", null), 
t.TunguskaCodexStore = s, t.tunguskaCodexStore = new s();
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, r = n(9), o = n(146), a = n(93), i = n(53), s = n(31), l = function() {
function e() {
this.isServerReady = !1, this.isMatchmakingActive = !1;
}
return e.prototype.initializeSteps = function(e) {
this.steps = {
mode: {
done: !!e.mode,
name: __("ID_SPARTA_GAMESTATE_MATCHMAKING_MODE")
},
map: {
done: !!e.map,
name: __("ID_SPARTA_GAMESTATE_MATCHMAKING_MAP")
},
location: {
done: !!e.location,
name: __("ID_SPARTA_GAMESTATE_MATCHMAKING_AREA")
},
skill: {
done: !!e.skill,
name: __("ID_SPARTA_GAMESTATE_MATCHMAKING_SKILL")
}
};
}, e.prototype.startNewCheckList = function(e) {
a.canJoinSession(!1), this.isMatchmakingActive = !0, this.initializeSteps(e), this.processSteps();
}, e.prototype.setCanJoinSession = function() {
this.isMatchmakingActive && (a.canJoinSession(!0), this.reset());
}, e.prototype.processSteps = function() {
var e = this;
this.checkNextStep("mode").then(function() {
e.checkNextStep("map").then(function() {
e.checkNextStep("location").then(function() {
e.isServerReady && e.checkNextStep("skill").then(function() {
i.getState().subRoute && o.operationFlow.state !== o.OperationState.none ? s.confirm(__("ID_SPARTA_TUNGUSKA_PLAYING_JOIN_NOW"), __("ID_SPARTA_TUNGUSKA_PLAYING_GAME_READY"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_NO"), "setCanJoinSession").then(function() {
e.setCanJoinSession();
}) : setTimeout(function() {
e.setCanJoinSession();
}, 1500);
});
});
});
});
}, e.prototype.checkNextStep = function(e) {
var t = this;
return new Promise(function(n, o) {
t.isMatchmakingActive || o(), t.steps[e].done ? n() : setTimeout(r.action("Step done", function() {
t.steps[e].done = !0, n();
}), t.randomTime());
});
}, e.prototype.randomTime = function() {
var e = this.isServerReady ? 1 : 10;
return Math.random() * e * 1e3;
}, e.prototype.handleServerFound = function() {
this.isServerReady = !0, this.isMatchmakingActive && this.processSteps();
}, e.prototype.reset = function() {
this.isMatchmakingActive = !1, this.isServerReady = !1;
}, e;
}();
e([ r.observable ], l.prototype, "steps", void 0), e([ r.observable ], l.prototype, "isServerReady", void 0), 
e([ r.observable ], l.prototype, "isMatchmakingActive", void 0), e([ r.action ], l.prototype, "initializeSteps", null), 
e([ r.action ], l.prototype, "startNewCheckList", null), e([ r.action ], l.prototype, "handleServerFound", null), 
e([ r.action ], l.prototype, "reset", null), t.matchmakingCheckList = new l(), a.handleServerFound.listen(function() {
t.matchmakingCheckList.handleServerFound();
}), a.stop.listen(function() {
t.matchmakingCheckList.reset();
});
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = function() {
function e(e, t) {
this.total = e, this.completed = t;
}
return e;
}();
t.CodexCategoryProgression = a;
var i = function() {
function e(e, t, n) {
this.name = e, this.items = t, this.progression = n;
}
return e;
}();
t.CodexCategoryGroup = i;
var s = function() {
function e(e, t, n, r, a, i, s, l, u, c, p, f) {
void 0 === l && (l = !1), void 0 === u && (u = !1);
var d = this;
this.category = e, this.code = t, this.criteria = n, this.details = r, this.displayName = a, 
this.id = i, this.imageUrl = s, this.isGolden = u, this.voiceOver = p, this.score = f, 
this.isCollected = !1, this.category = e, this.code = t, this.criteria = n, this.details = r, 
this.displayName = a, this.id = i, this.imageUrl = s, o.action("entry init", function() {
d.isCollected = l, d.progression = c;
})(), this.isGolden = u, this.voiceOver = p, this.score = f;
}
return e;
}();
r([ o.observable ], s.prototype, "isCollected", void 0), r([ o.observable ], s.prototype, "progression", void 0), 
t.CodexEntry = s;
var l = function() {
function e(e, t, n, r) {
var a = this;
this.description = "", this.unlocked = !1, this.valueAcquired = 0, this.valueNeeded = 0, 
o.action("entry progression init", function() {
a.description = e, a.unlocked = t, a.valueAcquired = n, a.valueNeeded = r;
})();
}
return e;
}();
r([ o.observable ], l.prototype, "description", void 0), r([ o.observable ], l.prototype, "unlocked", void 0), 
r([ o.observable ], l.prototype, "valueAcquired", void 0), r([ o.observable ], l.prototype, "valueNeeded", void 0), 
t.CodexEntryProgression = l;
var u = function() {
function e(e, t, n, r, o) {
void 0 === r && (r = null), void 0 === o && (o = null), this.description = e, this.header = t, 
this.images = n, this.subHeader = r, this.text2 = o;
}
return e;
}();
t.CodexEntryDetails = u;
var c = function() {
function e(e, t, n) {
this.code = e, this.name = t, this.progression = n;
}
return e;
}();
t.CodexEntryCriteria = c;
var p = function() {
function e(e, t, n) {
var r = this;
this.unlocked = !1, this.valueAcquired = 0, this.valueNeeded = 0, o.action("entry criteria progression init", function() {
r.unlocked = e, r.valueAcquired = t, r.valueNeeded = n;
})();
}
return e;
}();
r([ o.observable ], p.prototype, "unlocked", void 0), r([ o.observable ], p.prototype, "valueAcquired", void 0), 
r([ o.observable ], p.prototype, "valueNeeded", void 0), t.CodexEntryCriteriaProgression = p;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = function() {
function e() {
this.elements = [];
}
return e.prototype.addElements = function(e) {
var t = this;
return e.forEach(function(e) {
-1 === t.elements.indexOf(e) && t.elements.push(e);
}), function() {
return t.removeElements(e);
};
}, e.prototype.removeElements = function(e) {
var t = this;
e.forEach(function(e) {
var n = t.elements.indexOf(e);
n > -1 && t.elements.splice(n, 1);
});
}, e;
}();
r([ o.observable ], a.prototype, "elements", void 0), r([ o.action ], a.prototype, "addElements", null), 
r([ o.action ], a.prototype, "removeElements", null), t.ExtraElements = a;
}, function(e, t) {
"use strict";
function n(e, t, n, r, o) {
return Object.assign(e, t, n, r, o);
}
t.assign = n;
}, function(e, t, n) {
"use strict";
function r(e, t) {
return m.create(e, t);
}
function o(e) {
return new d.FocusGroup(m, e);
}
function a(e) {
return new h.FocusAncestor(m, e);
}
function i(e) {
if ("string" != typeof e) throw new Error("Invalid debugName");
return function(t) {
var n = function(t) {
function n(n) {
var o = t.call(this, n) || this;
return o.focusItem = null, o.focusItem = r(o, "@focusable " + e), o;
}
return s(n, t), n.prototype.focus = function() {
m.setAsFocused(this.focusItem, y.FocusSource.Auto);
}, n.prototype.blur = function() {
m.removeFocus(this.focusItem);
}, n;
}(t);
return n = l([ g ], n);
};
}
var s = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, l = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, u = n(381);
t.Focusable = u.Focusable;
var c = n(644);
t.FocusableAncestor = c.FocusableAncestor;
var p = n(643), f = n(380);
t.FocusItem = f.FocusItem;
var d = n(642);
t.FocusGroup = d.FocusGroup;
var h = n(641);
t.FocusAncestor = h.FocusAncestor;
var y = n(177);
t.Direction = y.Direction, t.GroupBehavior = y.GroupBehavior, t.FocusSource = y.FocusSource;
var g = n(10).observer, m = new p.FocusSystem();
t.system = m, t.create = r, t.createGroup = o, t.createAncestor = a, t.focusable = i;
var b = function(e, t) {
var n = e.componentWillUpdate;
e.componentWillUpdate = function(r, o) {
n && n.apply(e, r, o), t(r, o);
};
var r = e.componentWillMount;
e.componentWillMount = function() {
r && r.apply(e), t(e.props, e.state);
};
};
t.onComponentUpdate = b;
}, function(e, t, n) {
"use strict";
var r = n(76), o = function() {
function e() {
this.needStateChanges = !1;
}
return e.prototype.call = function(e, t, n, o) {
if ("applyStateChanges" === e) {
if (!this.needStateChanges) return;
this.needStateChanges = !1;
} else this.needStateChanges = !0;
if (this.functions) {
var a = this.functions[e];
if (!a) return "undefined" != typeof o ? o : (console.warn("Native API does not expose function " + e), 
console.warn("Please update method information in TwinkleNative.ts!"), null);
if (r.options.enableDevWarnings) {
if (a.argc !== n.length) return console.warn("Native API " + e + " expects " + a.argc + " arguments, got " + n.length), 
console.warn("Please update method information in TwinkleNative.ts!"), null;
if (a.sync !== t) return console.warn("Native API " + e + " sync mismatch (expects " + a.sync + " but got " + t), 
console.warn("Please update method information in TwinkleNative.ts!"), null;
}
}
var i = this.delegateCall(e, t, n);
return "getBuildInfoSync" === e && i.functions && (this.functions = i.functions), 
i;
}, e;
}();
t.AbstractDelegate = o;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = function() {
function e(e, t, n) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = null);
var r = this;
this.variance = 0, this.value = 0, this.absolute = null, o.action("jittervalue init", function() {
r.value = e, r.variance = t, r.absolute = n;
})();
}
return e.prototype.generateValue = function() {
return this.value + (Math.random() * (2 * this.variance) - this.variance);
}, e.prototype.toJson = function() {
return {
value: this.value,
variance: this.variance,
absolute: this.absolute
};
}, e.prototype.fromJson = function(e) {
this.value = e.value, this.variance = e.variance, this.absolute = e.absolute;
}, e;
}();
r([ o.observable ], a.prototype, "variance", void 0), r([ o.observable ], a.prototype, "value", void 0), 
r([ o.observable ], a.prototype, "absolute", void 0), r([ o.action ], a.prototype, "fromJson", null), 
t.JitterValue = a;
}, function(e, t, n) {
"use strict";
var r = n(667), o = n(666), a = n(76), i = n(101), s = n(82), l = n(668), u = n(47);
t.GAME_SCREEN_TEXTURE = "GAME_SCREEN_TEXTURE", t.STATIC_ATLAS = "STATIC_ATLAS", 
t.SINGLE_TEXTURE = "SINGLE_TEXTURE", t.DYNAMIC_ATLAS = "DYNAMIC_ATLAS", t.twinkleAtlasIds = {
StaticAtlas: 0,
SingleTexture: 1,
DynamicAtlas: 2
}, t.atlasToId = {}, t.atlasToId[t.STATIC_ATLAS] = t.twinkleAtlasIds.StaticAtlas, 
t.atlasToId[t.SINGLE_TEXTURE] = t.twinkleAtlasIds.SingleTexture, t.atlasToId[t.DYNAMIC_ATLAS] = t.twinkleAtlasIds.DynamicAtlas;
var c = function() {
function e(e) {
var t = this;
this.component = e, this.unmounted = !1, this.unloaders = [], this.textures = [];
var n = e.componentWillUnmount;
e.componentWillUnmount = function() {
t.unmounted = !0, t.unloadAll(), n && n.apply(e);
};
}
return e.prototype.preload = function(e, n) {
var r = this;
if (this.unmounted) throw new Error("Trying to preload on an unmounted component");
var o = t.textureHandler.getOrCreateTexture(a.options.urlHook(e), n), i = this.textures.push(o) - 1;
l.TextureKeepAlive.increaseRefCount(o);
var s = !1, u = function() {
s || (s = !0, r.textures.splice(i, 1), l.TextureKeepAlive.decreaseRefCount(o));
};
return this.unloaders.push(u), u;
}, e.prototype.unloadAll = function() {
this.unloaders.forEach(function(e) {
return e();
}), this.unloaders.length = 0;
}, e;
}();
t.TexturePreloader = c;
var p = function() {
function e() {
this.keyToTexture = {}, this.keepAlive = l.TextureKeepAlive;
}
return e.backwardsCompatibleAtlas = function(e, n) {
if ("string" == typeof n) return i.getBuildInfo().hasJsCreateAtlas() ? n : "SpartaCommonAtlas" === n ? t.DYNAMIC_ATLAS : t.SINGLE_TEXTURE;
if ("number" == typeof n) {
if (n === t.twinkleAtlasIds.StaticAtlas) return t.STATIC_ATLAS;
if (n === t.twinkleAtlasIds.SingleTexture) return t.SINGLE_TEXTURE;
if (n === t.twinkleAtlasIds.DynamicAtlas) return t.DYNAMIC_ATLAS;
} else if ("undefined" == typeof n) return t.SINGLE_TEXTURE;
throw new Error("Got invalid atlas " + n + " for url " + e);
}, e.prototype.unmount = function(e) {
l.TextureKeepAlive.unmount(e), r.TextureFadeIn.unmount(e);
}, e.prototype.createPreloader = function(e) {
return new c(e);
}, e.prototype.getTextures = function() {
var e = this, t = Object.keys(this.keyToTexture);
return t.map(function(t) {
return e.keyToTexture[t];
});
}, e.prototype.loadDefaultTexture = function(e, t, n) {
u.nativeApi.loadDefaultTexture(e, a.options.urlHook(t), n);
}, e.prototype.getTexture = function(t, n) {
var r = o.Texture.toReference(t, e.backwardsCompatibleAtlas(t, n));
return this.keyToTexture[r.key];
}, e.prototype.getOrCreateTexture = function(t, n) {
var r = o.Texture.toReference(t, e.backwardsCompatibleAtlas(t, n)), a = this.keyToTexture[r.key];
return a || (a = this.keyToTexture[r.key] = new o.Texture(r)), a;
}, e.prototype.handle = function(e, n, o, a) {
if (n === t.GAME_SCREEN_TEXTURE) return t.SINGLE_TEXTURE;
if ("" === n) return void console.error("Trying to load empty string as texture in surface: " + e._rootNodeID);
var i = this.getOrCreateTexture(n, o);
return i.isLoaded() || i.loading(), a && !a.skipFade && (l.TextureKeepAlive.handle(e, i, a), 
r.TextureFadeIn.handle(e, i, a)), i.reference.atlas;
}, e.prototype.update = function(e, n) {
"string" == typeof n.texture && (n.texture = a.options.urlHook(n.texture), n.textureAtlas = this.handle(e, n.texture, n.textureAtlas, n)), 
"string" == typeof n.texture1 && (n.texture1 = a.options.urlHook(n.texture1), n.texture1Atlas = this.handle(e, n.texture1, n.texture1Atlas)), 
"string" == typeof n.texture2 && (n.texture2 = a.options.urlHook(n.texture2), n.texture2Atlas = this.handle(e, n.texture2, n.texture2Atlas)), 
"string" == typeof n.texture3 && (n.texture3 = a.options.urlHook(n.texture3), n.texture3Atlas = this.handle(e, n.texture3, n.texture3Atlas)), 
n.spriteAnimation && "string" == typeof n.spriteAnimation.spriteSheet && (n.spriteAnimation.spriteSheet = a.options.urlHook(n.spriteAnimation.spriteSheet), 
n.spriteAnimation.spriteSheetAtlas = this.handle(e, n.spriteAnimation.spriteSheet, t.SINGLE_TEXTURE)), 
delete n.isPreloader;
}, e.prototype.onTextureUnloaded = function(e, n) {
if (e !== t.GAME_SCREEN_TEXTURE) {
var r = this.getTexture(e, n);
return r ? void r.unloaded() : void console.warn("Got unload for unknown texture:", e, n);
}
}, e.prototype.onTextureLoaded = function(e, n, r, o, a) {
if (e !== t.GAME_SCREEN_TEXTURE) {
var i = this.getOrCreateTexture(e, n);
i.loaded(r), s.onTextureLoaded.trigger();
}
}, e.prototype.getPendingTextures = function() {
return this.getTextures().filter(function(e) {
return !e.isLoaded();
});
}, e.prototype.waitForReady = function(e, t) {
return void 0 === e && (e = 5e3), void 0 === t && (t = this.getPendingTextures.bind(this)), 
new Promise(function(n) {
function r(e) {
a(), clearTimeout(o), n(e);
}
if (0 === t().length) return void n(!0);
var o, a;
a = s.onTextureLoaded.listen(function() {
0 === t().length && r(!0);
}), o = setTimeout(function() {
console.warn("Timed out while waiting for all textures to be ready. Textures still loading:", t()), 
r(!1);
}, e);
});
}, e;
}();
t.textureHandler = new p(), u.nativeApi.onTextureLoaded = t.textureHandler.onTextureLoaded.bind(t.textureHandler), 
u.nativeApi.onTextureUnloaded = t.textureHandler.onTextureUnloaded.bind(t.textureHandler);
}, function(e, t, n) {
"use strict";
var r = n(390), o = function() {
function e(e, t, n, o, a, i) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = 0), void 0 === o && (o = 0), 
this.x = e, this.y = t, this.width = n, this.height = o, this.localX = a, this.localY = i, 
this.top = t, this.right = e + n, this.bottom = t + o, this.left = e, this.center = new r.Point(this.left + (this.right - this.left) / 2, this.top + (this.bottom - this.top) / 2), 
this.style = {
left: this.left,
top: this.top,
width: this.width,
height: this.height
};
}
return e.fromRaw = function(t) {
return new e(t.x, t.y, t.width, t.height, t.localX, t.localY);
}, e.prototype.equals = function(e, t) {
void 0 === t && (t = !0);
var n = !0;
return t && (n = this.localX === e.localX && this.localY === e.localY), this.x === e.x && this.y === e.y && this.width === e.width && this.height === e.height && n;
}, e.prototype.empty = function() {
return 0 === this.width && 0 === this.height;
}, e.prototype.intersects = function(e) {
return e.x < this.x + this.width && this.x < e.x + e.width && e.y < this.y + this.height ? this.y <= e.y + e.height : !1;
}, e.prototype.offset = function(t, n) {
return void 0 === t && (t = 0), void 0 === n && (n = 0), new e(this.x - t, this.y - n, this.width, this.height);
}, e.prototype.subtract = function(t) {
var n = this.right, r = this.left, o = this.top, a = this.bottom;
return t && (n = t.left < this.right && t.left > this.left ? t.left : this.right, 
r = t.right > this.left && t.right < this.right ? t.right : this.left, o = t.bottom > this.top && t.bottom < this.bottom ? t.bottom : this.top, 
a = t.top < this.bottom && t.top > this.top ? t.top : this.bottom), new e(r, o, n - r, a - o);
}, e.prototype.edgeDistance = function(e) {
var t = this.edgePoint(this.center.angle(e.center)), n = e.edgePoint(e.center.angle(this.center));
return t.distance(n);
}, e.prototype.edgeDistanceSquared = function(e) {
var t = this.edgePoint(this.center.angle(e.center)), n = e.edgePoint(e.center.angle(this.center));
return t.squaredDistance(n);
}, e.prototype.edgePoint = function(e) {
var t = Math.cos(e), n = Math.sin(e), o = Math.abs(t), a = Math.abs(n), i = this.width / 2 * a <= this.height / 2 * o ? this.width / 2 / (o || 1) : this.height / 2 / (a || 1);
return new r.Point(this.center.x + t * i, this.center.y + n * i);
}, e;
}();
t.Bounds = o;
}, function(e, t, n) {
(function(__) {
function t(e, t) {
t = l.filter(t, function(e) {
return !e.isNative;
});
var r = l.map(t, function(t) {
return new c(t.route.toLowerCase(), {
args: {
gameId: e
},
getTitle: function n() {
return t.getTitle();
},
view: t.view
});
});
return r.unshift(new c("details", {
args: {
gameId: e
},
getTitle: function o() {
return "Detailed Stats";
},
view: n(402)
})), r;
}
function r() {
var e = SpartaGlobals.bundleIsPC ? i.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-4dd7c086.png") : i.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-15285efc.png"), r = o;
o = new c("career", {
requireOnline: !0,
getTitle: function a() {
return __("ID_SPARTA_MAIN_TITLE_CAREER", !0);
},
getSubtitle: function p() {
return __("ID_SPARTA_MAIN_TITLE_CAREER");
},
view: n(690),
normalIconUrl: e,
backgroundUrl: i.bbOfflineUrl("/sparta/jsclient/builds/assets/background-generic-c08a5fa5.dds"),
backgroundSize: [ 4084, 1440 ],
priority: 3,
children: l.map(s.gameStore.games.toJS(), function(e) {
return new c(e.gameId, {
fonts: e.fonts,
visible: !1,
backgroundSize: [ 2048, 1200 ],
getTitle: function r() {
return e.displayName();
},
args: {
gameId: e.gameId
},
view: n(270),
children: t(e.gameId, e.careerConfig)
});
})
}), r ? u.replaceRouteConfig(r, o) : u.addRouteConfig(o);
}
var o, a = n(9), i = n(11), s = n(8), l = n(5), u = n(29), c = n(52).Route;
e.exports = {
stores: {
MedalStore: n(214)
},
initialize: function p() {
a.reaction(function() {
return s.gameStore.games;
}, function() {
r();
}), r();
},
generateChildrenRoutes: t
};
}).call(t, n(2));
}, function(e, t, n) {
var r = n(100), o = n(141), a = n(5), i = n(21), s = n(50).gatewayClient, l = n(129), u = n(215), c = i.createClient({
throttle: 3e4,
request: function p(e) {
return s.request("Progression.getMedals", {
game: e
});
},
parse: function f(e) {
return a.map(e, function(e) {
var t = a.map(e.awards, function(e) {
var t, n = e.dependencies && e.dependencies[0], o = e.stages && e.stages.length > 0;
if (o) {
var i = a.countBy(e.stages, function(e) {
return e.progression.unlocked ? "done" : "todo";
}).done || 0, s = e.stages.length;
t = new r.Progression({
unlocked: e.progression.unlocked,
acquired: i,
needed: s
});
} else t = n ? new r.Progression({
unlocked: n.progression.unlocked,
acquired: n.progression.valueAcquired,
needed: n.progression.valueNeeded
}) : new r.Progression({
unlocked: e.progression.unlocked,
acquired: e.progression.valueAcquired,
needed: e.progression.valueNeeded
});
return new l({
xp: e.xp,
code: e.code,
description: e.description,
name: e.name,
images: e.images,
progression: t,
dependencies: a.map(e.dependencies, function(e) {
return new l({
code: e.code,
name: e.name,
description: e.description,
images: e.images,
progression: new r.Progression({
unlocked: e.progression.unlocked,
acquired: e.progression.valueAcquired,
needed: e.progression.valueNeeded
})
});
}),
stages: a.map(e.stages, function(e) {
return new l({
code: e.code,
name: e.name,
description: e.description,
images: e.images,
progression: new r.Progression({
unlocked: e.progression.unlocked,
acquired: e.progression.valueAcquired,
needed: e.progression.valueNeeded
})
});
}),
expansions: e.expansions
});
});
return new u({
name: e.name,
items: t.sort(o.sortByExpansion)
});
});
},
update: function d(e, t, n) {
this.publish(n, e);
}
});
e.exports = c;
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function s(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function l(e) {
return function(t) {
return H(t, e);
};
}
function u(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var c = n(4), p = u(c);
t.__esModule = !0;
var f = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, y = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), g = n(5), m = u(g), b = n(1), v = u(b), _ = n(3), S = r(_), T = n(6), w = u(T), E = n(7), I = n(70), C = u(I), A = n(20), P = u(A), O = n(10), R = n(9), k = n(11), x = n(37), M = n(136), N = u(M), D = n(81), U = n(8), L = n(676), $ = u(L), G = n(30), F = n(213), B = n(246), j = {
_$Weapon: {
displayName: "Weapon"
},
_$WeaponFocusPane: {
displayName: "WeaponFocusPane"
}
}, H = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/WeaponFocusPane.jsx",
components: j,
locals: [],
imports: []
}), V = {
weaponImageWrapper: {
height: 180,
justifyContent: "center",
alignItems: "center"
},
weaponImage: {
flexDirection: "row",
height: 256,
width: 256,
textureAlign: [ .5, .5 ]
},
weaponName: {
marginBottom: w["default"].getHeight(2),
textAlignForRTL: "left"
},
weaponDescription: {
textLineSpacing: x.LINE_HEIGHTS.S,
marginBottom: w["default"].getHeight(2),
textAlignForRTL: "left"
},
usageStatsContainer: {
flexDirection: "row",
justifyContent: "space-between"
},
usageStatsHeading: {
marginBottom: 5
},
statsLine: {
flexDirection: "row",
justifyContent: "space-between",
marginBottom: w["default"].GUTTER,
alignItems: "center"
},
statsTableKey: {
color: "#ffffff",
width: 140
},
wideStatsTableKey: {
color: "#ffffff",
width: w["default"].getWidth(3)
},
hrLine: {
height: 1,
backgroundColor: "#FFFFFF33",
marginTop: w["default"].getHeight(.5),
marginBottom: w["default"].getHeight(.5)
},
fireModeContainer: {
flexDirection: "row"
},
fireMode: {
width: 23,
height: 15,
marginLeft: 10,
textureMode: "contain",
textureAlign: [ 0, .5 ],
opacity: .5
},
fireModeEnabled: {
opacity: 1
},
noLocalBounds: {
localBounds: !1
},
warBond: {
texture: k.bbUrl("/sparta/assets/tunguska/icons/icon-warbonds-d313ce05.png"),
height: w["default"].getHeight(3),
width: w["default"].getHeight(3),
marginRight: w["default"].GUTTER
},
starContainer: {
zOffset: 10,
flexDirection: "row",
alignItems: "center"
},
star: {
width: w["default"].getHeight(2),
height: w["default"].getHeight(2),
texture: k.bbOfflineUrl("/sparta/assets/ui/icons/ui/small-star-white-b3141b80.png"),
textureMode: "contain",
marginRight: w["default"].GUTTER / 2,
color: "#ff9900"
},
progressInfoWrapper: {
flexDirection: "row",
marginBottom: 2 * w["default"].GUTTER
},
progressData: {
flex: 3,
textAlign: "right"
},
progressLabel: {
flex: 4
},
unlockContainer: {
marginBottom: 2 * w["default"].GUTTER
},
unlockTitle: {
marginTop: w["default"].GUTTER,
marginBottom: w["default"].GUTTER
},
criteria: {
flexDirection: "row",
justifyContent: "space-between",
marginBottom: w["default"].GUTTER
},
criteriaCheckbox: {
marginRight: w["default"].GUTTER,
alignSelf: "flex-start"
},
nameSizing: {
flex: 2,
paddingRight: w["default"].GUTTER
}
}, z = function(e) {
function t(t) {
i(this, n), e.call(this, t), this.mapWeaponValues(this.props);
var r = this.props.gameId, o = this.props.weapon.code;
this.props.canShowAccessories && !B.weaponAccessoriesStore.weaponAccessories.has(o) && U.gameStore.getGame(r).soldierConfig.showAccessoriesForWeapons && F.AccessoriesClient.trigger(r, o);
}
s(t, e), t.prototype.componentWillUpdate = function r(e) {
this.mapWeaponValues(e);
}, t.prototype.getBaseStats = function o(e) {
var t = [];
if (void 0 !== e.kills) {
var n = D.formatThousands(e.kills);
t.push({
name: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
value: n,
suffix: ""
});
}
if (void 0 !== e.accuracy) {
var r = D.formatDecimals(e.accuracy, 1);
t.push({
name: __("ID_SPARTA_CAREER_WEAPON_ACCURACY"),
value: r,
suffix: "%"
});
}
if (void 0 !== e.seconds) {
var o = D.formatDecimals(e.seconds / 60, 0);
t.push({
name: __("ID_SPARTA_CAREER_KILLS_TIME"),
value: o,
suffix: __("ID_SPARTA_DATETIME_MIN")
});
}
return t;
}, t.prototype.mapWeaponValues = function u(e) {
if (e.weapon.stats && e.weapon.stats.values) {
var t = U.gameStore.getGame(this.props.gameId).extraWeaponInfoStats, n = e.weapon.stats;
if (this.stats = null, Object.keys(n.values).length > 0) {
if (this.stats = this.getBaseStats(n.values), t && t.stats && t.stats.length) for (var r in t.stats) {
var o = t.stats[r];
if (n.values[o.key]) {
var a = o.getName(), i = e.weapon.info.ammo, s = null == i || "" === i;
"shots" === o.key && s && (a = __("ID_SPARTA_CAREER_WEAPON_TIMES_USED")), this.stats.push({
suffix: o.suffix || "",
name: a,
value: n.values[o.key]
});
}
}
if (t && t.specialStats && t.specialStats.length) for (var r in t.specialStats) {
var o = t.specialStats[r];
n.values[o.key] > -1 && this.stats.push({
suffix: o.suffix || "",
name: o.getName(),
value: n.values[o.key]
});
}
}
if (this.weaponStats = null, e.weapon.info) {
var l = e.weapon.info;
if (this.weaponStats = [ {
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_DAMAGE"),
value: l.statDamage
}, {
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_ACCURACY"),
value: l.statAccuracy
}, {
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_HIP_FIRE"),
value: l.statMobility
}, {
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_STABILITY"),
value: l.statHandling
}, {
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_CONTROL"),
value: l.statControl
} ], t && t.progress && t.progress.length && !this.props.isGadget) for (var r in t.progress) {
var o = t.progress[r];
l[o.key] && this.weaponStats.push({
type: "progress",
name: o.getName(),
value: l[o.key]
});
}
if ((e.weapon.info.fireModeSingle || e.weapon.info.fireModeBurst || e.weapon.info.fireModeAuto) && this.weaponStats.push({
type: "firemodes",
settings: [ {
enabled: e.weapon.info.fireModeSingle,
image: k.bbUrl("/sparta/assets/career/weapon_single_mode-c13d88f5.png")
}, {
enabled: e.weapon.info.fireModeBurst,
image: k.bbUrl("/sparta/assets/career/weapon_burst_mode-cd3475ca.png")
}, {
enabled: e.weapon.info.fireModeAuto,
image: k.bbUrl("/sparta/assets/career/weapon_auto_mode-46f44ffd.png")
} ]
}), l.ammo > 0 && l.numberOfMagazines > 0) {
var u = parseInt(l.ammo, 10) * l.numberOfMagazines;
this.weaponStats.push({
type: "text",
name: __("ID_SPARTA_CAREER_WEAPON_MAGAZINE_SIZE"),
value: l.ammo + "/" + u
});
}
if (t && t.text && t.text.length && !this.props.isGadget) for (var r in t.text) {
var o = t.text[r];
l[o.key] && this.weaponStats.push({
type: "text",
name: o.getName(),
value: l[o.key]
});
}
}
this.levelRequirement = null, e.weapon.progression && !e.weapon.progression.unlocked && (this.levelRequirement = e.weapon.progression.needed), 
this.price = null, e.weapon.price && !e.weapon.progression.unlocked && (this.price = e.weapon.price), 
this.unlocked = !1, e.weapon.progression && (this.unlocked = e.weapon.progression.unlocked), 
this.kit = null, e.weapon.kit && (this.kit = e.weapon.kit), this.star = null, e.weapon.star && (this.star = e.weapon.star);
}
}, t.prototype.renderUnlockBar = function c() {
var e = this.price, t = this.levelRequirement, n = this.unlocked, r = this.kit;
if (n || !this.showUnlockInfo) return null;
var o = {
flexDirection: "row",
alignItems: "center",
flex: 1,
zOffset: 1
}, i = h({}, o, {
justifyContent: "space-between",
marginBottom: w["default"].GUTTER,
padding: [ w["default"].GUTTER / 2, w["default"].GUTTER, w["default"].GUTTER / 2, w["default"].GUTTER ],
backgroundColor: t ? "#b9282866" : "#4b9b2d66"
}), s = {
texture: k.bbUrl("/sparta/assets/tunguska/icons/icon-lock-white-242e77e0.png"),
height: w["default"].getHeight(2),
width: w["default"].getHeight(2),
textureMode: "contain",
flex: 1,
zOffset: 1
}, l = {
texture: r.images && r.images.white ? r.images.white : null,
height: w["default"].getHeight(2),
width: w["default"].getHeight(2),
textureMode: "contain",
marginRight: w["default"].GUTTER
}, u = h({}, o, {
justifyContent: "flex-end"
}), c = e && e > 0 ? {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: V.warBond
},
_owner: null
}, {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
value: e + "",
size: "S"
}),
_owner: null
} ],
style: u
},
_owner: null
} : {
$$typeof: d,
type: "surfacee",
key: null,
ref: null,
props: {
style: o
},
_owner: null
}, p = t ? {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.kit ? {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: l
},
_owner: null
} : {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
}, {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
value: t + "",
size: "S"
}),
_owner: null
} ],
style: o
},
_owner: null
} : {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: o
},
_owner: null
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ p, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: s
},
_owner: null
}, c ],
style: i
},
_owner: null
};
}, t.prototype.renderStars = function p(e) {
var t = 100 === this.star.timesAquired, n = t ? "#ff9900" : "ffffff", r = {
star: h({}, V.star, {
color: n
}),
starNumber: {
color: n
}
}, o = h({}, V.statsLine, {
marginBottom: 0
}), i = t ? 100 : this.star.timesAquired, s = {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_STARS"),
size: "S"
}),
_owner: null
}, l = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: r.star
},
_owner: null
}, {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
style: r.starNumber,
value: "" + i,
size: "S",
gameId: this.props.gameId
}),
_owner: null
} ],
style: V.starContainer
},
_owner: null
}, u = e ? l : s, c = e ? s : l;
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ u, c ],
style: o
},
_owner: null
};
}, t.prototype.renderProgressItem = function f(e, t) {
var n = "" + Math.round(100 * e.value), r = {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
size: "S",
value: e.name,
style: {
width: w["default"].getWidth(2),
whiteSpace: "nowrap",
textAlignForRTL: "left"
}
}),
_owner: null
}, o = {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
size: "S",
value: n,
style: {
width: w["default"].getWidth(.5),
whiteSpace: "nowrap"
}
}),
_owner: null
}, i = void 0, s = void 0;
return t ? (i = o, s = r) : (i = r, s = o), s.props.style.textAlign = "right", {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ i, {
$$typeof: d,
type: C["default"],
key: null,
ref: null,
props: a(C["default"].defaultProps, {
width: 150,
height: "S",
barColor: "#ffffff",
completed: e.value
}),
_owner: null
}, s ],
style: V.statsLine
},
_owner: null
};
}, t.prototype.renderTextItem = function g(e, t) {
var n = t ? "" + e.value : e.name, r = t ? e.name : "" + e.value, o = t ? null : V.wideStatsTableKey, i = t ? h({}, V.wideStatsTableKey, {
textAlignForRTL: "left"
}) : null;
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
size: "S",
value: n,
style: o
}),
_owner: null
}, {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
size: "S",
value: r,
style: i
}),
_owner: null
} ],
style: V.statsLine
},
_owner: null
};
}, t.prototype.renderFiremodes = function b(e, t) {
var n = e.settings.map(function(e) {
var t = h({}, V.fireMode, {
texture: e.image,
textAlignForRTL: "left"
});
return e.enabled && (t = h({}, t, V.fireModeEnabled)), {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
};
}), r = t ? n : {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_WEAPON_FIRE_MODES"),
style: V.statsTableKey
}),
_owner: null
}, o = t ? {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_WEAPON_FIRE_MODES"),
style: h({}, V.statsTableKey, {
textAlignForRTL: "left"
})
}),
_owner: null
} : n;
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ r, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: o,
style: V.fireModeContainer
},
_owner: null
} ],
style: V.statsLine
},
_owner: null
};
}, t.prototype.renderProgression = function v(e) {
var t = e.getUnlockProgression(), n = e.getProgressionInfo(), r = n && n.showUnlockTitle, o = t || e.progression, i = this.showUnlockInfo && null == t;
if (i || o.unlocked && !r) return null;
var s = o.percent, l = o.acquired, u = o.needed;
l > u && (l = u);
var c = D.formatThousands(l) + " / " + D.formatThousands(u), p = "", f = V.progressLabel;
if (null !== n) switch (p = n.label, n.type) {
case "battlepack":
case "veteran_bf3":
c = "0 / 1", f.flex = 5;
break;

case "phantom":
f.flex = 7;
break;

case "assignment":
f.flex = 7;
} else e.category && (p = e.category.toLocaleUpperCase() + " "), p += __("ID_SPARTA_CAREER_SCORE").toLocaleUpperCase();
var h = !o.unlocked || r;
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ h && {
$$typeof: d,
type: C["default"],
key: null,
ref: null,
props: a(C["default"].defaultProps, {
width: this.props.contentWidth,
height: "S",
segmented: this.props.segmented,
completed: s,
style: {
marginBottom: w["default"].GUTTER
}
}),
_owner: null
}, !this.showUnlockInfo && (!t || r) && {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
value: p,
size: "S",
style: f
}),
_owner: null
}, {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
value: c,
size: "S",
style: V.progressData
}),
_owner: null
} ],
style: V.progressInfoWrapper
},
_owner: null
} ]
},
_owner: null
};
}, t.prototype.renderUnlockRequirements = function _(e) {
var t = this;
return e && e.length > 0 ? e.map(function(e, n) {
var r = t.renderCriterias(e.criterias);
return r ? {
$$typeof: d,
type: "surface",
key: "unlock-" + n,
ref: null,
props: {
children: r,
style: h({}, V.unlockContainer, {
width: t.props.contentWidth,
marginTop: t.showUnlockInfo ? 0 : w["default"].GUTTER
})
},
_owner: null
} : null;
}) : null;
}, t.prototype.renderCriterias = function S(e) {
var t = this;
if (e && e.length > 0) {
var n = e.map(function(e, n) {
var r = e.progression, o = r.acquired, i = r.needed, s = r.unlocked, l = s ? 1 : .66, u = h({}, V.criteriaCheckbox, {
marginTop: t.props.canShowAccessories ? 0 : .5 * w["default"].GUTTER
});
return {
$$typeof: d,
type: "surface",
key: "criteria-" + n,
ref: null,
props: {
children: [ {
$$typeof: d,
type: N["default"],
key: null,
ref: null,
props: a(N["default"].defaultProps, {
value: s,
style: u
}),
_owner: null
}, {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
size: "S",
style: V.nameSizing,
value: e.name
}),
_owner: null
}, i > 1 && {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
size: "S",
value: D.formatThousands(o) + "/" + D.formatThousands(i)
}),
_owner: null
} ],
style: h({}, V.criteria, {
opacity: l
})
},
_owner: null
};
});
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: {
width: this.props.contentWidth
}
},
_owner: null
};
}
return null;
}, t.prototype.render = function T() {
var e = this, t = [], n = G.isRTLLanguage();
m["default"].each(this.stats, function(e) {
var r = h({}, V.statsLine, {
marginBottom: 0
}), o = n ? e.value + " " + e.suffix : e.name, i = n ? e.name : e.value + " " + e.suffix, s = n ? null : V.statsTableKey, l = n ? h({}, V.statsTableKey, {
textAlignForRTL: "left"
}) : null;
t.push({
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
size: "S",
value: o,
style: s
}),
_owner: null
}, {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
size: "S",
value: i,
style: l
}),
_owner: null
} ],
style: r
},
_owner: null
}), t.push({
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: V.hrLine
},
_owner: null
});
});
var r = [];
this.weaponStats && m["default"].each(this.weaponStats, function(t) {
"progress" === t.type && t.value && t.value > 0 && r.push(e.renderProgressItem(t, n)), 
"text" === t.type && t.value && (t.value > 0 || "" !== t.value) && r.push(e.renderTextItem(t, n)), 
"firemodes" === t.type && r.push(e.renderFiremodes(t, n));
}), this.star && (t.push(this.renderStars(n)), t.push({
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: V.hrLine
},
_owner: null
}));
var o = this.props.weapon, i = o.hires.Png256xANY || o.hires.Small || o.images.Small, s = o.description && o.description.toLowerCase() !== o.name.toLowerCase() ? {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
size: "S",
value: o.description,
style: V.weaponDescription
}),
_owner: null
} : null, l = "contain", u = n ? {
marginRight: w["default"].GUTTER
} : {};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderUnlockBar(), {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: [ V.weaponImage, {
texture: i,
textureMode: l
} ]
},
_owner: null
},
style: V.weaponImageWrapper
},
_owner: null
}, {
$$typeof: d,
type: E.Text,
key: null,
ref: null,
props: a(E.Text.defaultProps, {
size: "M",
value: o.name,
style: V.weaponName
}),
_owner: null
}, this.renderProgression(o), this.renderUnlockRequirements(o.unlockRequirements), s, t.length || r.length ? {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: V.hrLine
},
_owner: null
} : null, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: t
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: r,
style: {
marginTop: w["default"].GUTTER
}
},
_owner: null
} ],
style: h({}, this.props.style, u)
},
_owner: null
};
}, y(t, [ {
key: "showUnlockInfo",
get: function I() {
return U.gameStore.getGame(this.props.gameId).showUnlockInfo;
}
} ]);
var n = t;
return t = l("_$Weapon")(t) || t;
}(v["default"].Component);
z.defaultProps = {
isGadget: !1
};
var W = function() {
function e() {
i(this, e), o(this, "item", t), o(this, "index", t), o(this, "ref", t);
}
var t = {};
return f(e, [ {
key: "setAccessory",
decorators: [ R.action ],
value: function n(e, t, r) {
this.item = e, this.index = t, this.ref = r;
}
}, {
key: "item",
decorators: [ R.observable ],
initializer: function r() {
return null;
},
enumerable: !0
}, {
key: "index",
decorators: [ R.observable ],
initializer: function a() {
return -1;
},
enumerable: !0
}, {
key: "ref",
decorators: [ R.observable ],
initializer: function s() {
return null;
},
enumerable: !0
} ], null, t), e;
}(), q = new W(), K = function(e) {
function t(t) {
var r = this;
i(this, n), e.call(this, t), this.focusAncestor = S.focus.createAncestor("weaponfocuspane"), 
S.focus.system.onInvalidQuery.listen(function(e) {
r.focusAncestor.hasFocusedChild || e.reportInvalid(r.focusAncestor.getChildren());
});
}
s(t, e), t.prototype.componentWillUnmount = function r() {
this.focusAncestor.destroy();
}, t.prototype.render = function o() {
if (!this.weapon) return null;
var e = this.props.widthGridCells, t = w["default"].getWidth(e), n = B.weaponAccessoriesStore.getAccessoriesForWeapon(this.weapon.code) || null, r = !1, o = !1;
return n && "ID_P_CAT_GADGET" !== this.weapon.categoryId && (r = n.progression.length > 0, 
o = n.battlepacks.length > 0), v["default"].createElement("surface", this.focusAncestor.hooks, v["default"].createElement(z, {
ref: "weapon",
key: "weapon",
segmented: this.props.segmented,
contentWidth: t,
gameId: this.props.gameId,
isGadget: this.props.isGadget,
canShowAccessories: this.props.canShowAccessories,
weapon: this.weapon
}), r && v["default"].createElement($["default"], {
key: "progressAccessories",
ref: "progressAccessories",
containerWidth: t,
weaponName: this.weapon.name,
title: __("ID_SPARTA_CAREER_WEAPON_ACCESSORIES"),
accessories: n.progression,
accessoryState: q,
onEscape: this.props.onEscape
}), o && v["default"].createElement($["default"], {
key: "bpAccessories",
ref: "bpAccessories",
containerWidth: t,
weaponName: this.weapon.name,
title: __("ID_SPARTA_CAREER_WEAPON_ACCESSORIES_BP"),
accessories: n.battlepacks,
accessoryState: q,
onEscape: this.props.onEscape
}));
}, y(t, [ {
key: "weapon",
get: function a() {
return this.props.selectionState.item;
}
} ]);
var n = t;
return t = l("_$WeaponFocusPane")(t) || t, t = P["default"]()(t) || t, t = O.observer(t) || t;
}(v["default"].Component);
K.defaultProps = {
widthGridCells: 7,
segmented: null,
isGadget: !1,
canShowAccessories: !1
}, t["default"] = K, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return ie(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = s(d), y = n(5), g = s(y), m = n(18), b = s(m), v = n(27), _ = s(v), S = n(6), T = s(S), w = n(7), E = n(59), I = s(E), C = n(315), A = s(C), P = n(849), O = s(P), R = n(66), k = n(309), x = s(k), M = n(33), N = n(848), D = s(N), U = n(400), L = n(64), $ = s(L), G = n(674), F = s(G), B = n(10), j = n(81), H = n(39), V = n(113), z = n(14), W = s(z), q = n(8), K = n(162), X = s(K), Y = n(108), J = n(119), Q = s(J), Z = n(11), ee = n(202), te = n(343), ne = n(353), re = n(22), oe = s(re), ae = {
_$LinkedHighlightCard: {
displayName: "LinkedHighlightCard"
},
_$CareerGameOverview: {
displayName: "CareerGameOverview"
}
}, ie = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerGameOverview.jsx",
components: ae,
locals: [],
imports: []
}), se = {
top: T["default"].getHeight(4.5),
left: T["default"].getWidth(10),
right: T["default"].getWidth(1)
}, le = {
statsOverviewContainer: {
width: T["default"].getWidth(16),
zOffset: 1,
marginRight: 2 * T["default"].CELL_WIDTH
},
rankNumber: {
marginRight: 2 * T["default"].GUTTER,
padding: [ 0, T["default"].GUTTER, 0, T["default"].GUTTER ],
texture: Z.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
width: 7 * T["default"].GUTTER,
textureBorder: [ 2, 2, 2, 2 ]
},
timeToRankUp: {
opacity: .66,
color: "#ffffff"
},
userName: {
marginBottom: 5,
marginTop: 5
},
dogtagsContainer: {
alignSelf: "center",
width: T["default"].getWidth(5.9),
height: T["default"].getHeight(11),
marginBottom: -T["default"].getHeight(8),
zOffset: 100
},
gameStatsContainer: {
flexDirection: "row",
height: T["default"].getHeight(13)
},
gameStatsPair: {
marginRight: 10
},
gameStatsHeading: {
marginBottom: T["default"].getHeight(1),
color: "#ffffff",
textAlignForRTL: "left"
},
gameStatsValue: {
marginLeft: -3,
textAlignForRTL: "left"
},
soldierImage: {
position: "absolute",
top: -se.top,
right: -se.right,
paddingRight: se.right,
paddingLeft: se.left,
paddingBottom: T["default"].getHeight(23),
width: T["default"].getWidth(7) + se.left + se.right,
height: T["default"].getHeight(87) + se.top,
textureMode: "contain",
textureAlign: [ 1, 0 ],
zOffset: 0,
texture2: Z.bbOfflineUrl("/sparta/jsclient/builds/assets/soldier_gradient2-d93a9314.png"),
texture2Mode: "fill",
texture2Offset: [ 0, -65 ],
justifyContent: "flex-end"
},
topCardsRow: {
zOffset: 11,
justifyContent: "space-between"
},
platoonEmblemBackgroundImage: {
textureMode: "fill",
texture2: Z.bbOfflineUrl("/sparta/jsclient/builds/assets/emblemgradient-8596ee37.png"),
texture2Mode: "fill",
texture2Offset: [ 0, -100 ],
position: "absolute",
top: -T["default"].getHeight(26),
right: 0,
height: T["default"].getHeight(55),
width: T["default"].getHeight(55),
opacity: .2
}
}, ue = void 0, ce = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this.props.startRoute, t = this.props.link, n = this.props.label, o = this.props.item, a = this.props.biggerImages, i = function s() {
return b["default"].gotoLocation(e + t + "?id=" + o.itemId);
};
return {
$$typeof: f,
type: O["default"],
key: null,
ref: null,
props: r(O["default"].defaultProps, {
item: o,
onClick: i,
label: n,
biggerImages: a
}),
_owner: null
};
};
var n = t;
return t = i("_$LinkedHighlightCard")(t) || t;
}(h["default"].Component), pe = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.menuItems = this.getMenuItems();
}, t.prototype.componentDidMount = function l() {
te.refreshEquippedEmblem(), this.trySetInitialFocus();
}, t.prototype.componentWillUpdate = function u() {
this.menuItems = this.getMenuItems();
}, t.prototype.componentDidUpdate = function d() {
this.trySetInitialFocus();
}, t.prototype.componentWillUnmount = function y() {
ue = void 0 !== this.pendingItemId ? this.pendingItemId : void 0;
}, t.prototype.getMenuItems = function m() {
var e = this, t = H.routeIsHostingGame(), n = !V.rimeTransitionState.isInJoinFlow && t, o = q.gameStore.getGame(this.gameId).careerConfig;
return o = o.filter(function(t) {
return !t.requiresInstallation || !e.state.isInstalling;
}).filter(function(e) {
return !e.featureFlag || q.settingsStore.isFeatureEnabled(e.featureFlag);
}).map(function(o, a) {
if (o = c({}, o), o.id = o.hasOwnProperty("id") ? o.id : a, o.isNative && !n ? (o.muted = !0, 
o.onTrigger = function() {
return V.requiresRime(e.gameId, o.onTrigger);
}) : o.requiresHostingGame && !t ? (o.muted = !0, o.onTrigger = H.showNotInHostingGameAlert) : !function() {
var t = o.onTrigger.bind(o) || function() {};
o.onTrigger = function() {
e.pendingItemId = o.id, t();
};
}(), o.completion) {
var i = e.getGameStats() || {}, s = g["default"].filter(i.completion, function(e) {
return Array.isArray(o.completion) ? -1 !== o.completion.indexOf(e.name) : e.name === o.completion;
});
if (s.length) {
var l = s.reduce(function(e, t) {
return e.add(t);
});
o.subLabel = {
$$typeof: f,
type: D["default"],
key: null,
ref: null,
props: r(D["default"].defaultProps, {
completionName: o.completion,
completionObj: l
}),
_owner: null
};
}
}
return o;
});
}, t.prototype.getStartRoute = function v() {
return q.gameStore.getGame(this.gameId).startRoute;
}, t.prototype.getGameStats = function S() {
return this.state.career.gameStats[this.gameId];
}, t.prototype.getRankUpTime = function E() {
var e, t = this.getGameStats(), n = t.rank.progress.total - t.rank.progress.current, r = t.spm;
return r > 0 && (e = n / r / 60, e = 1 > e ? 0 : e.toFixed()), e;
}, t.prototype.trySetInitialFocus = function C() {
this.initialFocusDone || this.refs.menu && void 0 !== ue && (this.initialFocusDone = !0, 
this.refs.menu.setItemFocus(ue));
}, t.prototype.renderPlatoonImage = function P() {
if (ee.emblemState.equippedEmblemTemplate && this.state.ugcAccess.hasAccess(q.onlineState.sessionUser)) {
var e = ne.imageUrlFromTemplate(ee.emblemState.equippedEmblemTemplate, 512, "png");
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, le.platoonEmblemBackgroundImage, {
texture: e
})
},
_owner: null
};
}
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
}, t.prototype.renderSoldierImage = function k() {
var e = this.state.career.gameStats[this.gameId], t = {
texture: e && e.soldierImageUrl
};
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderDogtags(),
style: [ le.soldierImage, t ]
},
_owner: null
};
}, t.prototype.renderDogtags = function N() {
var e = q.gameStore.getGame(this.gameId), t = this.getGameStats(), n = le.dogtagsContainer;
return t && t.equippedDogtags ? {
$$typeof: f,
type: F["default"],
key: null,
ref: null,
props: r(F["default"].defaultProps, {
tags: t.equippedDogtags,
style: n,
size: e.dogtagsConfig.size,
type: e.dogtagsConfig.type
}),
_owner: null
} : {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
};
}, t.prototype.renderGameStats = function L() {
var e = this.getGameStats(), t = SpartaGlobals.bundleIsConsole ? "XL" : "L", n = e && e.spm && e.spm.length > 6 ? "S" : t, o = 10 / 3, a = {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: [ {
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_WINS").toUpperCase(),
size: "S",
style: le.gameStatsHeading
}),
_owner: null
}, {
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
value: "" + (e ? e.winPercentage : 0) + "%",
size: t,
type: "emphasis",
style: le.gameStatsValue
}),
_owner: null
} ],
width: o,
style: le.gameStatsPair
}),
_owner: null
}, i = {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: [ {
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_SPM").toUpperCase(),
size: "S",
style: le.gameStatsHeading
}),
_owner: null
}, {
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
value: "" + (e ? e.spm : 0),
size: n,
type: "emphasis",
style: c({}, le.gameStatsValue)
}),
_owner: null
} ],
width: o,
style: le.gameStatsPair
}),
_owner: null
}, s = {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: [ {
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_KPM").toUpperCase(),
size: "S",
style: le.gameStatsHeading
}),
_owner: null
}, {
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
value: "" + (e ? e.kpm : 0),
size: t,
type: "emphasis",
style: le.gameStatsValue
}),
_owner: null
} ],
width: o,
style: le.gameStatsPair
}),
_owner: null
};
return {
$$typeof: f,
type: T["default"].Row,
key: null,
ref: null,
props: r(T["default"].Row.defaultProps, {
children: [ a, i, s ],
style: le.gameStatsContainer
}),
_owner: null
};
}, t.prototype.renderSoldierInfo = function G() {
var e = this.getGameStats(), t = this.getRankUpTime(), n = 0 === t ? __("ID_SPARTA_CAREER_DETAILS_RANK_LESS_1H") : __("ID_SPARTA_CAREER_DETAILS_RANK_HOURS").replace("[[time]]", t), o = t >= 0 ? __("ID_SPARTA_CAREER_DETAILS_RANK_HOURS_TEXT").replace("[[time]]", n) : "", a = 1 === e.rank.progress.percentage;
a && (o = "");
var i = q.gameStore.getGame(this.gameId).styles.rankNumberPadding || le.rankNumber.padding;
return {
$$typeof: f,
type: T["default"].Row,
key: null,
ref: null,
props: r(T["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: this.renderRank(),
style: {
width: T["default"].getHeight(12)
}
}),
_owner: null
}, {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: [ {
$$typeof: f,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
children: {
$$typeof: f,
type: R.Marquee,
key: null,
ref: null,
props: r(R.Marquee.defaultProps, {
children: {
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
type: "emphasis",
size: "L",
value: q.onlineState.sessionUser && q.onlineState.sessionUser.displayName ? q.onlineState.sessionUser.displayName : "",
style: c({
marginLeft: 1.5 * T["default"].GUTTER,
marginRight: 3 * T["default"].GUTTER
}, le.userName)
}),
_owner: null
},
showEllipsis: !0,
width: T["default"].getWidth(13)
}),
_owner: null
},
width: T["default"].getWidth(13.5),
height: T["default"].getHeight(7),
clipContent: !0,
softClip: [ 15, 0, 30, 0 ]
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
size: "S",
value: "" + e.rank.number,
style: {
alignSelf: "center"
}
}),
_owner: null
},
style: c({}, le.rankNumber, {
padding: i
})
},
_owner: null
}, {
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
size: "S",
value: j.formatThousands(e.rank.progress.current) + " / " + j.formatThousands(e.rank.progress.total)
}),
_owner: null
}, {
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
size: "S",
value: o,
style: le.timeToRankUp
}),
_owner: null
} ],
style: {
flexDirection: "row",
marginLeft: 1.5 * T["default"].GUTTER
}
},
_owner: null
} ],
width: 14
}),
_owner: null
} ],
style: {
height: T["default"].getHeight(14)
}
}),
_owner: null
};
}, t.prototype.renderCards = function z() {
var e = this.getGameStats(), t = this.getStartRoute(), n = 5, o = e.highlights && e.highlights.kit && e.highlights.kit.name ? U.getImagesByKit(e.highlights.kit.name) : null, a = q.gameStore.getGame(this.gameId).soldierConfig, i = a.showBiggerCardImages, s = a.showCategorizationForVehicles, l = s ? e.highlights.vehicleCategory : e.highlights.vehicle, u = t + "/soldier/vehicles?" + (s ? "category=" + l.name : "id=" + l.name);
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: T["default"].Row,
key: null,
ref: null,
props: r(T["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: {
$$typeof: f,
type: O["default"],
key: null,
ref: null,
props: r(O["default"].defaultProps, {
item: l,
onClick: function() {
return b["default"].gotoLocation(u);
},
label: __("ID_SPARTA_CAREER_VEHICLES")
}),
_owner: null
},
width: n
}),
_owner: null
}, {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: {
$$typeof: f,
type: ce,
key: null,
ref: null,
props: r(ce.defaultProps, {
item: e.highlights.primary,
biggerImages: i,
startRoute: t,
link: q.gameStore.getGame(this.gameId).shouldDisplayMedalProgression ? "/soldier/weapons" : "/soldier/kits",
label: __("ID_SPARTA_CAREER_KITS")
}),
_owner: null
},
width: n
}),
_owner: null
} ],
style: le.topCardsRow
}),
_owner: null
}, {
$$typeof: f,
type: T["default"].Row,
key: null,
ref: null,
props: r(T["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: {
$$typeof: f,
type: O["default"],
key: null,
ref: null,
props: r(O["default"].defaultProps, {
item: e.highlights.kit,
onClick: function() {
b["default"].gotoLocation(t + "/soldier/kits?category=" + e.highlights.kit.name);
},
imageUrl: o ? o.white : null,
label: __("ID_SPARTA_CAREER_KITS")
}),
_owner: null
},
width: n
}),
_owner: null
}, {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: {
$$typeof: f,
type: ce,
key: null,
ref: null,
props: r(ce.defaultProps, {
item: e.highlights.sidearm,
startRoute: t,
biggerImages: i,
link: q.gameStore.getGame(this.gameId).shouldDisplayMedalProgression ? "/soldier/weapons" : "/soldier/kits",
label: __("ID_SPARTA_CAREER_KITS")
}),
_owner: null
},
width: n
}),
_owner: null
} ],
style: le.topCardsRow
}),
_owner: null
} ],
style: {
marginTop: 2
}
},
_owner: null
};
}, t.prototype.renderRank = function K() {
var e = q.gameStore.getGame(this.gameId);
return {
$$typeof: f,
type: A["default"],
key: null,
ref: null,
props: r(A["default"].defaultProps, {
style: {
marginTop: 15,
marginLeft: 15,
zOffset: 10
},
skipAnimation: !0,
noAnimation: !0,
badgeSize: T["default"].getHeight(8),
gameId: this.gameId,
rankIconScaling: e.styles.rankIconScaling
}),
_owner: null
};
}, t.prototype.renderContent = function J() {
V.rimeTransitionState.isInJoinFlow;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderPlatoonImage(), {
$$typeof: f,
type: T["default"].Row,
key: null,
ref: null,
props: r(T["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: this.renderSoldierImage(),
width: 7
}),
_owner: null
}, {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: [ this.renderSoldierInfo(), {
$$typeof: f,
type: T["default"].Row,
key: null,
ref: null,
props: r(T["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: {
$$typeof: f,
type: M.Scroller,
key: null,
ref: null,
props: r(M.Scroller.defaultProps, {
children: h["default"].createElement(I["default"], {
ref: "menu",
items: this.menuItems,
divider: "item"
}),
style: {
height: T["default"].getHeight(58)
},
softClip: [ 0, 20, 0, 20 ]
}),
_owner: null
},
width: 6
}),
_owner: null
}, {
$$typeof: f,
type: T["default"].Col,
key: null,
ref: null,
props: r(T["default"].Col.defaultProps, {
children: [ this.renderGameStats(), this.renderCards() ],
width: 10
}),
_owner: null
} ],
style: {
justifyContent: "space-between"
}
}),
_owner: null
} ],
width: 17
}),
_owner: null
} ],
style: {
justifyContent: "space-between"
}
}),
_owner: null
} ],
style: {
width: T["default"].getWidth(24)
}
},
_owner: null
};
}, t.prototype.render = function Z() {
var e = this;
if (!q.gatewayState.session.entitlements.ownsGame(this.gameId)) {
var t = function() {
var t = q.gameStore.getGame(e.gameId), n = t.displayName(), o = __("ID_SPARTA_COMMERCE_UNOWNED_GAME").replace("[[game]]", n.toUpperCase()), a = __("ID_SPARTA_COMMERCE_UNOWNED_GAME_SOLDIER_DESC").replace("[[game]]", n);
return {
v: {
$$typeof: f,
type: $["default"],
key: null,
ref: null,
props: r($["default"].defaultProps, {
children: {
$$typeof: f,
type: oe["default"],
key: null,
ref: null,
props: r(oe["default"].defaultProps, {
text: __("ID_SPARTA_COMMERCE_UNOWNED_GAME_GET").toUpperCase(),
style: {
width: T["default"].getWidth(5),
marginTop: T["default"].getHeight(2)
},
action: function() {
return b["default"].gotoLocation(t.startRoute + "/store/list?specific=game");
}
}),
_owner: null
},
text: o,
subText: a
}),
_owner: null
}
};
}();
if ("object" == typeof t) return t.v;
}
return this.state.career && this.getGameStats() ? {
$$typeof: f,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
children: this.renderContent(),
tallContent: !0,
scrollContent: !1
}),
_owner: null
} : {
$$typeof: f,
type: $["default"],
key: null,
ref: null,
props: r($["default"].defaultProps, {
text: __("ID_SPARTA_CAREER_ERROR_TEXT"),
subText: __("ID_SPARTA_CAREER_ERROR_SUBTEXT")
}),
_owner: null
};
}, p(t, [ {
key: "gameId",
get: function re() {
return this.props.viewLocation.args.gameId;
}
} ]);
var n = t;
return t = i("_$CareerGameOverview")(t) || t, t = W["default"]({
career: X["default"],
ugcAccess: Y.UGCAccessStore,
isInstalling: Q["default"].scope("isInstalling")
})(t) || t, t = B.observer(t) || t;
}(h["default"].Component);
t["default"] = pe, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(51), s = n(406), l = r(s), u = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, !1), l["default"].listen(function(e) {
n.setState(e);
});
}
return a(t, e), t;
}(i.Store);
t["default"] = new u(), e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return T(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(7), h = n(6), y = s(h), g = n(59), m = s(g), b = n(37), v = n(27), _ = s(v), S = {
_$CommonQuestions: {
displayName: "CommonQuestions"
}
}, T = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/CommonQuestions.jsx",
components: S,
locals: [],
imports: []
}), w = b.getTextSizes("en-us".toLowerCase()), E = n(117), I = {
header: "XL",
heading: "M",
text: "S",
subtext: "XS",
fineprint: "XXS"
}, C = {
container: {},
columnHeading: {},
columnMain: {
width: y["default"].getWidth(14)
},
columnSidebar: {
width: y["default"].getWidth(10)
},
rowMain: {
height: SpartaGlobals.bundleIsPC ? y["default"].getHeight(88) : y["default"].getHeight(68)
},
header: {
marginBottom: 35
},
heading: {
marginBottom: 15
},
paragraph: {
marginBottom: 25,
textLineSpacing: Math.round(1.2 * b.LINE_HEIGHTS[I.text])
},
surfaceMain: {},
surfaceSidebar: {
padding: [ 0, 30, 0, 0 ]
},
surfaceLegal: {
opacity: .6
},
hiddenAnswer: {
opacity: 0
},
menuItems: {
fontSize: w[I.text]
},
shownAnswer: {
opacity: 100,
position: "absolute",
left: 0,
top: 0
},
answerParagraph: {
margin: [ 0, 0, 20, 0 ]
},
columnBorder: {
position: "absolute",
top: 0,
bottom: 0,
width: 2,
backgroundColor: "#FFFFFF",
opacity: .2
}
}, A = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.copy = E.getCopyPage("common-questions"), this.settings = E.getCopyPage("settings"), 
this.questions = E.getProperty(this.copy, "list") || [], this.state = {
displayedAnswer: this.questions.length > 0 ? 0 : -1
};
}
a(t, e), t.prototype.showAnswer = function s(e) {
this.setState({
displayedAnswer: e
});
}, t.prototype.createQuestions = function l() {
var e = this, t = [];
if (this.questions) for (var n = function(n) {
t.push({
id: n,
label: e.questions[n].heading || "",
showActiveIndicator: !0,
onFocus: function r() {
e.refs.list && (e.refs.list.setActive(n), e.showAnswer(n));
},
onTrigger: function o() {
e.refs.list && (e.refs.list.setActive(n), e.showAnswer(n));
}
});
}, r = 0; r < this.questions.length; r++) n(r);
return t;
}, t.prototype.createAnswers = function u() {
for (var e = [], t = 0; t < this.questions.length; t++) e.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: d.Text,
key: null,
ref: null,
props: r(d.Text.defaultProps, {
value: this.questions[t].heading,
style: C.heading,
size: I.heading
}),
_owner: null
}, this.createAnswerParagraphs(t) ],
style: this.state.displayedAnswer === t ? C.shownAnswer : C.hiddenAnswer
},
_owner: null
});
return e;
}, t.prototype.createAnswerParagraphs = function p(e) {
for (var t = [], n = this.questions[e].items, o = 0; o < n.length; o++) t.push({
$$typeof: c,
type: d.Text,
key: null,
ref: null,
props: r(d.Text.defaultProps, {
value: n[o],
style: C.paragraph,
size: I.text
}),
_owner: null
});
return t;
}, t.prototype.render = function h() {
return {
$$typeof: c,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: y["default"].Row,
key: null,
ref: null,
props: r(y["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: y["default"].Col,
key: null,
ref: null,
props: r(y["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: f["default"].createElement(m["default"], {
items: this.createQuestions(),
ref: "list",
divider: "item",
activeItemId: 0,
forgetItemFocus: !1
}),
style: C.surfaceSidebar
},
_owner: null
},
style: C.columnSidebar
}),
_owner: null
}, {
$$typeof: c,
type: y["default"].Col,
key: null,
ref: null,
props: r(y["default"].Col.defaultProps, {}),
_owner: null
}, {
$$typeof: c,
type: y["default"].Col,
key: null,
ref: null,
props: r(y["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.createAnswers(),
style: C.surfaceMain
},
_owner: null
},
style: C.columnMain
}),
_owner: null
} ],
style: C.rowMain
}),
_owner: null
},
style: C.container
},
_owner: null
},
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$CommonQuestions")(t) || t;
}(f["default"].Component);
t["default"] = A, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return function(t) {
return B(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l() {
A["default"].display(new O["default"]({
content: {
$$typeof: p,
type: k["default"],
key: null,
ref: null,
props: a(k["default"].defaultProps, {
legal: "terms"
}),
_owner: null
},
id: "linkTextPopup",
fullScreen: !0,
inputs: [ new G["default"]({
label: __("ID_SPARTA_ACTION_CLOSE", !0),
key: D["default"].Decline
}) ]
}));
}
var u = n(4), c = s(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(105), y = s(h), g = n(7), m = n(6), b = s(m), v = n(37), _ = n(408), S = s(_), T = n(409), w = s(T), E = n(407), I = s(E), C = n(25), A = s(C), P = n(42), O = s(P), R = n(216), k = s(R), x = n(27), M = s(x), N = n(12), D = s(N), U = n(20), L = s(U), $ = n(13), G = s($), F = {
_$PlayFirst: {
displayName: "PlayFirst"
}
}, B = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/PlayFirst.jsx",
components: F,
locals: [],
imports: []
}), j = v.getTextSizes("en-us".toLowerCase()), H = n(117), V = "commerce/store/access", z = "/store/list?tab=access", W = "PC" === H.getPlatform() ? 1 : .75, q = 3 * W, K = .1, X = .8 * W, Y = {
header: "XL",
heading: "S",
text: "S",
subtext: "XS",
fineprint: "XXS"
}, J = {
container: {},
columnMain: {
width: b["default"].getWidth(13)
},
columnSidebar: {
width: b["default"].getWidth(10)
},
columnLegal: {
width: b["default"].getWidth(24),
padding: [ 0, b["default"].getWidth(X), 0, 0 ]
},
columnBorder: {},
rowMain: {
height: SpartaGlobals.bundleIsPC ? b["default"].getHeight(88) : b["default"].getHeight(68)
},
rowLegal: {
height: b["default"].getHeight(q)
},
rowBorder: {
height: b["default"].getHeight(K)
},
surfaceMain: {},
surfaceSidebar: {
alignItems: "flex-start"
},
surfaceLegal: {
opacity: .33
},
header: {
marginBottom: 3 * b["default"].GUTTER
},
list: {
marginBottom: 20
},
listItem: {
padding: [ 0, 0, 1.5 * b["default"].GUTTER, 0 ]
},
listIndicator: {
width: b["default"].getWidth(.5) - b["default"].GUTTER
},
videoItem: {},
callToActionHeading: {
fontSize: j[Y.text]
},
callToActionButton: {
fontSize: j[Y.text]
},
callToActionSubText: {
fontSize: j[Y.subtext]
},
listItemText: {
textLineSpacing: v.LINE_HEIGHTS[Y.text]
},
legalText: {
fontSize: j[Y.fineprint]
},
callToAction: {
width: 500,
marginTop: 2 * b["default"].GUTTER
}
}, Q = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.gameName = H.getProperty(H.getCopy(), "play-first-trial.gameName") || "", 
this.copy = H.getCopyPage("play-first-trial", {
game: this.gameName
}), this.settings = H.getCopyPage("settings");
}
o(t, e), t.prototype.getInput = function s() {
return new G["default"]({
action: function e() {
return l();
},
key: D["default"].Option2,
label: H.getProperty(this.settings, "label.terms")
});
}, t.prototype.createItemList = function u() {
var e = [], t = H.getProperty(this.copy, "list") || [];
if (t.length > 0) {
t = H.getProperty(t[0], "items") || [];
for (var n = 0; n < t.length; n++) e.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: a(g.Text.defaultProps, {
value: "- " + t[n],
style: J.listItemText,
size: Y.text
}),
_owner: null
},
style: J.listItem
},
_owner: null
});
}
return e;
}, t.prototype.createVideo = function c() {
var e = [ {
author: "EA",
group: "video",
game: H.getProperty(this.copy, "video.game") || "",
imageUrl: H.getProperty(this.copy, "video.imageUrl") || "",
title: H.getProperty(this.copy, "video.title") || "",
url: H.getProperty(this.copy, "video.url") || ""
} ], t = SpartaGlobals.bundleIsConsole ? "L" : "SSL";
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: y["default"].renderCards(e, t),
style: J.videoItem
},
_owner: null
};
}, t.prototype.createLegal = function f() {
return "PC" === H.getPlatform() ? {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: a(w["default"].defaultProps, {
action: "popup",
text: H.getProperty(this.settings, "label.terms"),
style: J.callToActionSubText
}),
_owner: null
} : {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: a(g.Text.defaultProps, {
value: this.copy.legal,
size: Y.fineprint
}),
_owner: null
};
}, t.prototype.createMoreInfo = function d() {
var e = V;
return this.props.viewLocation.args.gameId && (e = this.props.viewLocation.args.gameId + z), 
"PC" === H.getPlatform() ? {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: a(w["default"].defaultProps, {
action: "link",
text: H.getProperty(this.settings, "label.learnMore"),
style: J.callToActionSubText,
location: e
}),
_owner: null
}
},
_owner: null
} : {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: I["default"],
key: null,
ref: null,
props: a(I["default"].defaultProps, {
button: "X",
action: "link",
text: H.getProperty(this.settings, "label.learnMore"),
style: J.callToActionSubText,
location: e
}),
_owner: null
}
},
_owner: null
};
}, t.prototype.render = function h() {
return {
$$typeof: p,
type: M["default"],
key: null,
ref: null,
props: a(M["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: b["default"].Row,
key: null,
ref: null,
props: a(b["default"].Row.defaultProps, {
children: [ {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: a(b["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: a(g.Text.defaultProps, {
value: this.copy.header,
size: Y.header,
style: J.header
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.createItemList(),
style: J.list
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: a(S["default"].defaultProps, {
headingStyle: J.callToActionHeading,
buttonStyle: J.callToActionButton,
subTextStyle: J.callToActionSubText
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.createMoreInfo(),
style: {
paddingTop: b["default"].GUTTER
}
},
_owner: null
} ],
style: J.callToAction
},
_owner: null
} ],
style: J.surfaceMain
},
_owner: null
},
style: J.columnMain
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: a(b["default"].Col.defaultProps, {
style: {
width: b["default"].getWidth(1)
}
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: a(b["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.createVideo(),
style: J.surfaceSidebar
},
_owner: null
},
style: J.columnSidebar
}),
_owner: null
} ],
style: J.rowMain
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Row,
key: null,
ref: null,
props: a(b["default"].Row.defaultProps, {
children: {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: a(b["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.createLegal(),
style: J.surfaceLegal
},
_owner: null
},
style: J.columnLegal
}),
_owner: null
},
style: J.rowLegal
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Row,
key: null,
ref: null,
props: a(b["default"].Row.defaultProps, {
children: {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: a(b["default"].Col.defaultProps, {
style: J.columnBorder
}),
_owner: null
},
style: J.rowBorder
}),
_owner: null
} ],
style: J.container
},
_owner: null
},
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$PlayFirst")(t) || t, t = L["default"]()(t) || t;
}(d["default"].Component);
t["default"] = Q, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function s(e) {
return function(t) {
return re(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = l(h), g = n(5), m = l(g), b = n(3), v = n(37), _ = n(9), S = n(10), T = n(130), w = l(T), E = n(67), I = l(E), C = r(b), A = n(175), P = n(69), O = n(27), R = l(O), k = n(6), x = l(k), M = n(64), N = l(M), D = n(7), U = n(33), L = n(17), $ = l(L), G = n(14), F = l(G), B = n(299), j = l(B), H = n(351), V = n(275), z = l(V), W = n(49), q = l(W), K = n(8), X = n(18), Y = l(X), J = n(29), Q = l(J), Z = n(217), ee = l(Z), te = n(39), ne = {
_$TabContent: {
displayName: "TabContent"
},
_$TabSingleOffer: {
displayName: "TabSingleOffer"
},
_$TabGameOffer: {
displayName: "TabGameOffer"
},
_$TabAccess: {
displayName: "TabAccess"
},
_$StoreGameOverview: {
displayName: "StoreGameOverview"
}
}, re = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/StoreGameOverview.jsx",
components: ne,
locals: [],
imports: []
}), oe = [ "battlepacks", "shortcuts", "expansions", "premium" ], ae = {
flex: 1,
alignItems: "center",
justifyContent: "center",
flexDirection: "row",
width: $["default"].content.width,
height: $["default"].content.height - x["default"].getHeight(10)
}, ie = {
separation: {
width: 1,
height: x["default"].getHeight(43),
marginLeft: 4 * x["default"].GUTTER,
marginRight: 4 * x["default"].GUTTER,
backgroundColor: "#ffffff26"
},
text: {
pc: {
textLineSpacing: Math.round(1.2 * v.LINE_HEIGHTS.S),
width: x["default"].getWidth(8)
},
console: {
textLineSpacing: Math.round(1.2 * v.LINE_HEIGHTS.S)
}
},
singleOfferText: {
pc: {
textLineSpacing: Math.round(1.2 * v.LINE_HEIGHTS.S)
},
console: {
textLineSpacing: Math.round(1.2 * v.LINE_HEIGHTS.S)
}
},
descriptionColumn: {
width: x["default"].getWidth(8),
height: $["default"].content.height - x["default"].getHeight(15),
marginLeft: x["default"].getWidth(1)
}
}, se = [ 0, $["default"].fadeAreaTop.height, 0, $["default"].dangerZoneSize.height ], le = S.observer(function(e) {
return {
$$typeof: d,
type: D.Text,
key: null,
ref: null,
props: i(D.Text.defaultProps, {
value: e.description.text,
style: e.textStyle,
size: "S"
}),
_owner: null
};
}), ue = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusAncestor = C.focus.createAncestor("tabcontent"), 
this.description = _.observable({
text: ""
}), this.focusAncestor.onFocusChildChanged.listen(function(e) {
e || r.setDescription("");
});
}
a(t, e), t.prototype.componentWillUnmount = function r() {
Q["default"].focusComponent("content");
}, t.prototype.getUnownedOffers = function l(e) {
return m["default"].filter(e, function(e) {
return !e.owned || e.isRepurchaseable;
});
}, t.prototype.onSelectOffer = function u(e) {
this.setDescription(e.description.longDesc || e.description.shortDesc);
}, t.prototype.setDescription = function c(e) {
this.updateDescription(e), this.refs.description && this.refs.description.scrollTo(0, 0);
}, t.prototype.renderOffersPC = function h(e) {
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: U.Scroller,
key: "scroller_pc",
ref: null,
props: i(U.Scroller.defaultProps, {
children: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: {
flexWrap: "wrap",
flexDirection: "row"
}
},
_owner: null
},
style: {
width: x["default"].getWidth(25),
height: $["default"].content.height
},
softClip: se
}),
_owner: null
},
style: {
marginTop: -x["default"].GUTTER,
flexDirection: "row"
}
},
_owner: null
};
}, t.prototype.renderOffersConsole = function g(e) {
var t = p({}, ie.text.console);
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: P.CardCarousel,
key: null,
ref: null,
props: i(P.CardCarousel.defaultProps, {
children: e,
width: x["default"].getWidth(24)
}),
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: {
height: x["default"].getHeight(4)
}
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: y["default"].createElement(U.Scroller, {
style: {
width: x["default"].getWidth(20),
height: x["default"].getHeight(13)
},
controller: !0,
scrollbarPosition: "inside",
softClip: [ 0, x["default"].getHeight(2), 0, x["default"].getHeight(2) ],
ref: "description",
clipPadding: [ x["default"].getHeight(2), x["default"].getHeight(2), x["default"].getHeight(2), 0 ]
}, {
$$typeof: d,
type: le,
key: null,
ref: null,
props: i(le.defaultProps, {
description: this.description,
textStyle: t
}),
_owner: null
}),
style: {
flexDirection: "row"
}
},
_owner: null
} ],
style: {
flexDirection: "column"
}
},
_owner: null
};
}, t.prototype.render = function b() {
var e, t = this, n = m["default"].map(this.props.offers, function(e, n) {
var r = 0 === n && t.props.refCb ? t.props.refCb : function() {};
return {
$$typeof: d,
type: C.Focusable,
key: null,
ref: null,
props: i(C.Focusable.defaultProps, {
children: function o(a) {
return a.onFocus(function() {
return t.onSelectOffer(e);
}), {
$$typeof: d,
type: j["default"],
key: "offer" + n,
ref: null,
props: i(j["default"].defaultProps, {
refCb: r,
recommendation: e,
focusItem: a
}),
_owner: null
};
},
debugName: "tabcontent_" + n
}),
_owner: null
};
});
return e = n.length > 0 ? SpartaGlobals.bundleIsPC ? this.renderOffersPC(n) : this.renderOffersConsole(n) : {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: N["default"],
key: "emptyCategory",
ref: null,
props: i(N["default"].defaultProps, {
text: __("ID_SPARTA_COMMERCE_OFFER_ERROR_CATEGORY")
}),
_owner: null
},
style: ae
},
_owner: null
}, y["default"].createElement("surface", this.focusAncestor.hooks, e);
}, f(t, [ {
key: "updateDescription",
decorators: [ _.action ],
value: function v(e) {
this.description.text = e;
}
} ]);
var n = t;
return t = s("_$TabContent")(t) || t, t = S.observer(t) || t;
}(y["default"].Component);
ue.defaultProps = {
isStoreIconRequired: !0
};
var ce = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusAncestor = C.focus.createAncestor("TabSingleOffer");
}
a(t, e), t.prototype.componentDidMount = function r() {
this.mounted = !0;
}, t.prototype.componentWillUnmount = function l() {
this.mounted = !1;
}, t.prototype.renderOfferPC = function u(e) {
var t = p({}, ie.singleOfferText.pc, {
textAlignForRTL: "left"
});
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: {
marginBottom: x["default"].getHeight(4)
}
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: D.Text,
key: null,
ref: null,
props: i(D.Text.defaultProps, {
value: this.props.offer.description.longDesc,
style: t,
size: "S"
}),
_owner: null
}
},
_owner: null
} ],
style: {
width: x["default"].getWidth(17)
}
},
_owner: null
},
style: {
marginTop: -x["default"].GUTTER,
flexDirection: "row"
}
},
_owner: null
};
}, t.prototype.renderOfferConsole = function c(e) {
var t = p({}, ie.singleOfferText.console, {
textAlignForRTL: "left"
});
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: {
marginBottom: x["default"].getHeight(4)
}
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: D.Text,
key: null,
ref: null,
props: i(D.Text.defaultProps, {
value: this.props.offer.description.longDesc,
style: t,
size: "S"
}),
_owner: null
}
},
_owner: null
} ],
style: {
width: x["default"].getWidth(24)
}
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: {
height: x["default"].getHeight(4)
}
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: {
width: x["default"].getWidth(20),
height: x["default"].getHeight(22)
}
},
_owner: null
},
style: {
flexDirection: "row"
}
},
_owner: null
} ],
style: {
flexDirection: "column"
}
},
_owner: null
};
}, t.prototype.render = function f() {
var e, t = {
$$typeof: d,
type: j["default"],
key: "offer",
ref: null,
props: i(j["default"].defaultProps, {
focusItem: this.focusItem,
refCb: this.props.refCb,
recommendation: this.props.offer
}),
_owner: null
};
return e = this.props.offer ? SpartaGlobals.bundleIsPC ? this.renderOfferPC(t) : this.renderOfferConsole(t) : {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: N["default"],
key: "emptyCategory",
ref: null,
props: i(N["default"].defaultProps, {
text: __("ID_SPARTA_COMMERCE_OFFER_ERROR_CATEGORY")
}),
_owner: null
},
style: ae
},
_owner: null
}, y["default"].createElement("surface", this.focusAncestor.hooks, e);
};
var n = t;
return t = s("_$TabSingleOffer")(t) || t, t = b.focusable("e00a5b05:189")(t) || t;
}(y["default"].Component);
ce.defaultProps = {
isStoreIconRequired: !0
};
var pe = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.render = function r() {
return this.props.offers && this.props.offers.length > 0 ? {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: H.GameOffer,
key: null,
ref: null,
props: i(H.GameOffer.defaultProps, {
refCb: this.props.refCb,
isInstallable: this.props.isInstallable,
offers: this.props.offers,
owned: this.props.owned,
gameId: this.props.gameId
}),
_owner: null
}
},
_owner: null
} : {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: N["default"],
key: "emptyCategory",
ref: null,
props: i(N["default"].defaultProps, {
text: __("ID_SPARTA_COMMERCE_OFFER_ERROR_CATEGORY")
}),
_owner: null
},
style: ae
},
_owner: null
};
};
var n = t;
return t = s("_$TabGameOffer")(t) || t;
}(y["default"].Component);
pe.defaultProps = {
isInstallable: !0
};
var fe = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function r() {
return {
$$typeof: d,
type: ee["default"],
key: null,
ref: null,
props: i(ee["default"].defaultProps, {
noTemplate: !0,
gameId: this.props.gameId
}),
_owner: null
};
};
var n = t;
return t = s("_$TabAccess")(t) || t;
}(y["default"].Component), de = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function r() {
this.storeAvailability = !0, q["default"].updateOffers([ this.props.viewLocation.args.gameId ]);
}, t.prototype.componentWillUpdate = function l(e, t) {
var n = function o(e, t) {
return m["default"].contains(m["default"].keys(e), t) ? e[t].available : null;
}, r = n(t.store, this.props.viewLocation.args.gameId);
this.storeAvailability === !0 && r === !1 && (this.storeAvailability = r, q["default"].showUnavailableStore(), 
SpartaGlobals.bundleIsPS4 && Y["default"].goBackInHistory());
}, t.prototype.getBaseConfiguration = function u(e) {
var t = K.gameStore.getGame(e), n = {}, r = __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_TAB_ORIGIN_ACCESS" : "ID_SPARTA_TAB_EA_ACCESS"), o = pe, a = [], i = K.gameStore.getGame(e).subscriberAccessFeatureFlagName;
K.settingsStore.isFeatureEnabled(i) ? o = fe : a = w["default"].getAccessOffers();
var s = [ {
name: "pre-order",
title: __("ID_SPARTA_CARD_PREORDER"),
component: ue,
props: {
offers: w["default"].getPreorderOffers(e)
}
}, {
name: "beta",
title: "Beta",
component: ue,
props: {
offers: w["default"].getBetaOffers(e)
}
}, {
name: "battlepacks",
title: __("ID_SPARTA_TAB_BATTLEPACKS"),
component: ue,
props: {
offers: w["default"].getBattlepackOffers(e)
}
}, {
name: "shortcuts",
title: __("ID_SPARTA_TAB_KITSHORTCUTS"),
component: ue,
props: {
offers: w["default"].getKitShortcutOffers(e)
}
}, {
name: "expansions",
title: __("ID_SPARTA_TAB_EXPANSIONS"),
component: ue,
props: {
offers: w["default"].getExpansionOffers(e)
}
}, {
name: "premium",
title: __("ID_SPARTA_TAB_PREMIUM"),
component: pe,
props: {
offers: w["default"].getPremiumOffers(e),
isInstallable: SpartaGlobals.bundleIsConsole && !this.hasPremium(e),
gameId: e
}
}, {
name: "deluxe",
title: __("ID_SPARTA_TAB_DELUXE"),
component: pe,
props: {
offers: w["default"].getDeluxeOffers(e),
owned: this.hasDeluxe(e),
isInstallable: SpartaGlobals.bundleIsConsole && !this.hasDeluxe(e),
gameId: e
}
}, {
name: "game",
title: t.displayName(),
component: pe,
props: {
offers: w["default"].getGameOffers(e),
isInstallable: SpartaGlobals.bundleIsConsole && this.ownsGame(e),
gameId: e
}
}, {
name: "rent",
title: __("ID_SPARTA_TAB_RSP"),
component: ce,
props: {
offer: m["default"].first(w["default"].getRSPVirtualOffers(e)),
isStoreIconRequired: !1
}
}, {
name: "access",
title: r,
component: o,
props: {
offers: a,
isInstallable: !1,
gameId: e,
owned: I["default"].getState().hasAccess()
}
} ], l = [ "rent" ];
return SpartaGlobals.bundleIsPS4 && l.push("battlepacks"), te.routeIsHostingGame() || (s = s.filter(function(e) {
return -1 === l.indexOf(e.name);
})), s.map(function(e) {
return e.props.refCb = function(t) {
n[e.name] = t;
}, e.onSelect = function() {}, e;
});
}, t.prototype.getTabs = function c(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? oe : arguments[1], n = this.getBaseConfiguration(e), r = m["default"].map(t, function(e) {
return m["default"].find(n, function(t) {
return t.name === e;
});
});
return m["default"].compact(r);
}, t.prototype.hasPremium = function p(e) {
return e && I["default"].getState().hasPremiumAccess(e);
}, t.prototype.hasDeluxe = function f(e) {
return e && I["default"].getState().hasDeluxeEdition(e);
}, t.prototype.ownsGame = function h(e) {
return I["default"].getState().hasOnlineAccess(e);
}, t.prototype.render = function y() {
var e = this.props.viewLocation.args, t = e.gameId, n = e.specific, r = K.gameStore.getGame(t), o = r.storeConfig.getTabs(), a = null, s = w["default"].getGameState(t), l = w["default"].getOffers(t), u = s.available && !s.error, c = SpartaGlobals.bundleIsConsole, p = r.startRoute;
if (n) {
switch (n) {
case "pre-order":
l = w["default"].getPreorderOffers(t);
break;

case "beta":
l = w["default"].getBetaOffers(t), c = SpartaGlobals.bundleIsConsole && !this.hasPremium(t);
break;

case "premium":
l = w["default"].getPremiumOffers(t);
break;

case "deluxe":
l = w["default"].getOffersByGroup(t, "deluxe");
break;

case "game":
l = w["default"].getGameOffers(t);
break;

default:
l = w["default"].getOffersByGroup(t, n);
}
a = {
$$typeof: d,
type: R["default"],
key: null,
ref: null,
props: i(R["default"].defaultProps, {
children: {
$$typeof: d,
type: H.GameOffer,
key: null,
ref: null,
props: i(H.GameOffer.defaultProps, {
baseRoute: p,
offers: l,
gameId: t,
isInstallable: c
}),
_owner: null
},
tallContent: !0,
scrollContent: !1
}),
_owner: null
};
} else this.ownsGame(t) ? (l = w["default"].getOffers(t), a = {
$$typeof: d,
type: A.TabbedTemplate,
key: null,
ref: null,
props: i(A.TabbedTemplate.defaultProps, {
baseRoute: p,
topGutter: !1,
tabs: this.getTabs(t, o),
scrollContent: !1
}),
_owner: null
}) : (l = w["default"].getGameOffers(t), a = {
$$typeof: d,
type: R["default"],
key: null,
ref: null,
props: i(R["default"].defaultProps, {
children: {
$$typeof: d,
type: H.GameOffer,
key: null,
ref: null,
props: i(H.GameOffer.defaultProps, {
baseRoute: p,
offers: l,
gameId: t
}),
_owner: null
},
tallContent: !0,
scrollContent: !1
}),
_owner: null
});
return {
$$typeof: d,
type: z["default"],
key: null,
ref: null,
props: i(z["default"].defaultProps, {
children: a,
available: u && l && l.length > 0,
loading: s.loading
}),
_owner: null
};
};
var n = t;
return t = s("_$StoreGameOverview")(t) || t, t = F["default"]({
store: w["default"]
})(t) || t, t = b.focusable("e00a5b05:307")(t) || t;
}(y["default"].Component);
t["default"] = de, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return E(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(64), h = s(d), y = n(27), g = s(y), m = n(6), b = s(m), v = n(17), _ = s(v), S = n(46), T = s(S), w = {
_$StoreLoadingState: {
displayName: "StoreLoadingState"
}
}, E = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/StoreLoadingState.jsx",
components: w,
locals: [],
imports: []
}), I = {
flex: 1,
alignItems: "center",
justifyContent: "center",
flexDirection: "row",
width: _["default"].content.width,
height: _["default"].content.height - b["default"].getHeight(10)
}, C = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this.props.available, t = this.props.loading;
return t ? {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
autoRun: !0,
size: 50
}),
_owner: null
}
}),
_owner: null
},
style: I
},
_owner: null
},
tallContent: !0
}),
_owner: null
} : e ? this.props.children : {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
text: __("ID_SPARTA_COMMERCE_EMPTY_NOCONTENT_TEXT"),
subText: __("ID_SPARTA_COMMERCE_EMPTY_NOCONTENT_SUBTEXT")
}),
_owner: null
},
style: I
},
_owner: null
},
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$StoreLoadingState")(t) || t;
}(f["default"].Component);
t["default"] = C, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t) {
function n(e, t, n) {
return t instanceof e ? t : new e(t, n);
}
e.exports = n;
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var o = n(3), a = function() {
function e() {
r(this, e);
}
return e.prototype.get = function t(e, n) {
o.kvstorage.getItem(e, function(e, t, r) {
r !== o.kvstorage.GetItemResult.OK && r !== o.kvstorage.GetItemResult.KEY_NOT_FOUND && console.warn("Error " + r + " loading key " + e);
var a = void 0;
if (t) try {
a = JSON.parse(t);
} catch (i) {
console.warn("Error parsing JSON from kvstorage:", e, t, i);
}
n(a);
});
}, e.prototype.load = function n(e, t) {
o.kvstorage.getItem(e, function(e, n, r) {
if (r === o.kvstorage.GetItemResult.KEY_NOT_FOUND) return void t(null);
if (r !== o.kvstorage.GetItemResult.OK) return console.warn("Error " + r + " loading key " + e), 
void t(null);
if (o.kvstorage.removeItem(e, function(e, t) {
0 > t && console.warn("Got error  " + t + " removing key " + e + ".");
}), n) {
var a = null;
try {
a = JSON.parse(n);
} catch (i) {
console.warn("Error parsing JSON from kvstorage:", e, n, i);
}
t(a);
}
});
}, e.prototype.save = function a(e, t) {
if (null == t) return void console.error("data is null/undefined");
if (!e) return void console.error("Key parameter is missing");
var n = JSON.stringify(t);
o.kvstorage.storeItem(e, n, function(e, t) {
0 > t && console.warn("Got error " + t + " saving key " + e);
});
}, e;
}();
t["default"] = a, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], t = e.progress, r = void 0 === t ? 0 : t, a = e.isInstalling, i = void 0 === a ? !1 : a, s = e.isMpInstalled, l = void 0 === s ? !1 : s;
n(this, o), this.progress = r, this.isInstalling = i, this.isMpInstalled = l;
};
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15);
t["default"] = {
setPingSites: r.createAction(),
updatePingSites: r.createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
return new Promise(function(t, n) {
var r = a["default"].getState();
return r.isReady() ? void t(e) : void i.alert(__("ID_SPARTA_GAMESTATE_MUST_LOGIN", !0), "").then(function() {
return n();
});
});
}
t.__esModule = !0, t.checkPresenceReady = r;
var o = n(41), a = e(o), i = n(31);
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
var n = s["default"].getState().server;
if (n && (!e || n.gameId === e)) return new Promise(function(e) {
return e(n);
});
var r = t || u["default"].getState().hostingGameId;
return e && r ? new Promise(function(t) {
p["default"].request({
game: r,
gameId: e
}).then(function(e) {
t(e ? new a.Server(e) : null);
})["catch"](function() {
return t(null);
});
}) : new Promise(function(e) {
return e(null);
});
}
t.__esModule = !0, t["default"] = o;
var a = n(65), i = n(36), s = r(i), l = n(19), u = r(l), c = n(286), p = r(c);
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(5), i = r(a), s = n(8), l = {
ONLINE_ACCESS: "ONLINE_ACCESS",
DELUXE_EDITION: "EDITION_DELUXE",
ORIGIN_ACCESS: "ORIGIN_ACCESS",
EA_ACCESS: "EA_ACCESS",
TRIAL: "TRIAL_ONLINE_ACCESS",
PREMIUM_ACCESS: "PREMIUM_ACCESS",
xpack: function h(e) {
return (e || "").toUpperCase() + "_ACCESS";
}
}, u = l;
t.EntitlementTag = u;
var c = {
ACTIVE: "ACTIVE",
DELETED: "DELETED",
PENDING: "PENDING",
BANNED: "BANNED",
DISABLED: "DISABLED"
};
t.EntitlementStatus = c;
var p = function y(e) {
o(this, y), this.entitlementTag = e.entitlementTag, this.status = e.status, this.entitlementTag && this.status || console.warn("Incomplete entitlement", this);
};
t.Entitlement = p;
var f = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, e), this.lookup = t;
}
return e.prototype.isEmpty = function t(e) {
return "undefined" == typeof this.lookup[e] || 0 === i["default"].keys(this.lookup[e]).length;
}, e.prototype.findEntitlement = function n(e, t, r) {
var o = this.lookup[e] || [];
return i["default"].find(o, function(e) {
return r ? e.entitlementTag === t && e.status === r : e.entitlementTag === t;
});
}, e.prototype.hasExpansionAccess = function r(e, t) {
var n = u.xpack(t);
return this.findEntitlement(e, n, c.ACTIVE) ? !0 : !1;
}, e.prototype.hasOnlineAccess = function a(e) {
return s.gameStore.getGame(e).enforceEntitlements ? this.findEntitlement(e, u.ONLINE_ACCESS, c.ACTIVE) ? !0 : !1 : !0;
}, e.prototype.hasDeluxeEdition = function l(e) {
return this.findEntitlement(e, u.DELUXE_EDITION) ? !0 : !1;
}, e.prototype.ownsGame = function p(e) {
return s.gameStore.getGame(e).enforceEntitlements ? this.findEntitlement(e, u.ONLINE_ACCESS, c.ACTIVE) ? !0 : !1 : !0;
}, e.prototype.isBanned = function f(e) {
return this.findEntitlement(e, u.ONLINE_ACCESS, c.BANNED) ? !0 : !1;
}, e.prototype.hasAccess = function d() {
return SpartaGlobals.bundleIsPC ? this.findEntitlement("origin", u.ORIGIN_ACCESS, c.ACTIVE) ? !0 : !1 : this.findEntitlement("origin", u.EA_ACCESS, c.ACTIVE) ? !0 : !1;
}, e.prototype.hasTrial = function h(e) {
return this.findEntitlement(e, u.ONLINE_ACCESS) ? !1 : this.findEntitlement(e, u.TRIAL, c.ACTIVE) ? !0 : !1;
}, e.prototype.hasPremiumAccess = function y(e) {
return this.findEntitlement(e, u.PREMIUM_ACCESS, c.ACTIVE) ? !0 : !1;
}, e;
}(), d = f;
t.GameEntitlements = d, t["default"] = d;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(182), i = r(a), s = n(56), l = r(s), u = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, e), this.role = t.role, this.server = t.server, this.queue = new i["default"](t.queue), 
this.navigationState = t.navigationState, this.levelName = t.levelName, this.isMultiplayer = t.isMultiplayer, 
this.isSingleplayer = !this.isMultiplayer, this.isOnline = t.isOnline, this.isDeployed = t.isDeployed || !1, 
this.isChangingServer = t.isChangingServer || !1, this.isSpectator = t.isSpectator || !1, 
this.delayedGameInvite = t.delayedGameInvite, t.hasOwnProperty("hideStartScreen") && (this.hideStartScreen = t.hideStartScreen), 
this.gameId = this.server && this.server.game || t.gameId, this.isRunning = this.navigationState && this.navigationState !== l["default"].FrontEnd, 
this.isReady = this.navigationState === l["default"].InGameMenu, this.isLoading = this.isMultiplayer ? !this.isReady && this.server && !this.queue.isPending : !this.isReady;
}
return e.prototype.isServerJoiningAllowed = function t(e) {
return !this.server || this.server && this.server.gameId !== e && !this.isLoading && this.navigationState !== l["default"].LoadingScreen;
}, e.prototype.getPrettyState = function n() {
return this.server ? this.server.name : null;
}, e;
}();
t["default"] = u, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var n = {
ok: 0,
wrongProtocolVersion: 1,
wrongTitleVersion: 2,
serverFull: 3,
kickedOut: 4,
banned: 5,
genericError: 6,
wrongPassword: 7,
kickedOutDemoOver: 8,
rankRestricted: 9,
configurationNotAllowed: 10,
serverReclaimed: 11,
missingContent: 12,
notVerified: 13,
timedOut: 14,
connectFailed: 15,
noReply: 16,
acceptFailed: 17,
mismatchingContent: 18,
kickedOutRankTooHigh: 19,
interactivityTimeout: 20,
kickedFromQueue: 21,
teamKills: 22,
kickedByAdmin: 23,
kickedViaPunkBuster: 24,
kickedOutServerFull: 25,
eSportsMatchStarting: 26,
notInESportsRosters: 27,
eSportsMatchEnding: 28,
virtualServerExpired: 29,
virtualServerRecreate: 30,
eSportsTeamFull: 31,
eSportsMatchAborted: 32,
eSportsMatchWalkover: 33,
eSportsMatchWarmupTimedOut: 34,
notAllowedToSpectate: 35,
noSpectateSlotAvailable: 36,
invalidSpectateJoin: 37,
kickedViaFairFight: 38,
kickedCommanderOnLeave: 39,
kickedCommanderAfterMutiny: 40,
serverMaintenance: 41,
kickedGameTimeAccountOnUnofficial: 42,
kickedViaShield: 43
};
t.DisconnectionType = n;
var r = {
unknown: 0,
timeout: 1,
connectionLost: 2,
backendConnectionLost: 3,
reservationTimeout: 4,
kicked: 5,
banned: 6,
playerLeft: 7,
groupLeft: 8,
joinedAnotherGame: 9,
gameDestroyed: 10,
gameEnded: 11,
migrationFailed: 12,
hostEjected: 13,
hostInjectedFailed: 14,
joinFirstPartySessionFailed: 15,
queuePromotionFailed: 16
};
t.DisconnectionReasonType = r;
var o = function() {
function t() {
var n = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
e(this, t), this.gameId = n.gameId, this.customMessage = n.customMessage, this.disconnectionType = n.disconnectionType, 
this.disconnectionReasonType = n.disconnectionReasonType;
}
return t.prototype.toHumanReadable = function o() {
if (this.customMessage) return this.customMessage;
var e = this.getDisconnectionReasonMessage();
return "" === e && (e = this.getDisconnectionMessage()), e;
}, t.prototype.getDisconnectionReasonMessage = function a() {
var e = "";
switch (this.disconnectionReasonType) {
case r.timeout:
e = __("ID_SPARTA_ONLINE_DISCONNECT_TIMEOUT");
break;

case r.connectionLost:
case r.backendConnectionLost:
e = __("ID_SPARTA_ONLINE_DISCONNECT_CONNECTIONLOST");
break;

case r.playerLeft:
e = __("ID_SPARTA_ONLINE_DISCONNECT_PLAYERLEFT");
break;

case r.gameDestroyed:
e = __("ID_SPARTA_ONLINE_DISCONNECT_GAMEDESTROYED");
}
return e;
}, t.prototype.getTitle = function i() {
var e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER");
return this.disconnectionReasonType === r.gameDestroyed && (e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER")), 
e;
}, t.prototype.getDisconnectionMessage = function s() {
var e = "";
switch (this.disconnectionType) {
case n.wrongProtocolVersion:
e = __("ID_SPARTA_ONLINE_DISCONNECT_WRONG_PROTOCOLVERSION");
break;

case n.wrongTitleVersion:
e = __("ID_SPARTA_ONLINE_DISCONNECT_WRONG_TITLEVERSION");
break;

case n.serverFull:
e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER_FULL");
break;

case n.kickedOut:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED");
break;

case n.banned:
e = __("ID_SPARTA_ONLINE_DISCONNECT_BANNED");
break;

case n.wrongPassword:
e = __("ID_SPARTA_ONLINE_DISCONNECT_WRONG_PASSWORD");
break;

case n.missingContent:
e = __("ID_SPARTA_ONLINE_DISCONNECT_MISSING_CONTENT");
break;

case n.timedOut:
e = __("ID_SPARTA_ONLINE_DISCONNECT_TIMEDOUT");
break;

case n.connectFailed:
e = __("ID_SPARTA_ONLINE_DISCONNECT_CONNECT_FAILED");
break;

case n.noReply:
e = __("ID_SPARTA_ONLINE_DISCONNECT_NO_REPLY");
break;

case n.acceptFailed:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ACCEPT_FAILED");
break;

case n.mismatchingContent:
e = __("ID_SPARTA_ONLINE_DISCONNECT_MISMATCHING_CONTENT");
break;

case n.kickedOutRankTooHigh:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKOUT_HIGH_RANK");
break;

case n.interactivityTimeout:
e = __("ID_SPARTA_ONLINE_DISCONNECT_INTERACTIVITY_TIMEOUT");
break;

case n.kickedFromQueue:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_FROM_QUEUE");
break;

case n.teamKills:
e = __("ID_SPARTA_ONLINE_DISCONNECT_TEAM_KILLS");
break;

case n.kickedByAdmin:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_BY_ADMIN");
break;

case n.kickedViaPunkBuster:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_BY_PUNKBUSTER");
break;

case n.kickedViaFairFight:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_BY_FAIRFIGHT");
break;

case n.kickedOutServerFull:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_FULL_SERVER");
break;

case n.eSportsMatchStarting:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_START");
break;

case n.notInESportsRosters:
e = __("ID_SPARTA_ONLINE_DISCONNECT_NOT_ESPORT_ROSTERS");
break;

case n.eSportsMatchEnding:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_END");
break;

case n.virtualServerExpired:
e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER_EXPIRED");
break;

case n.virtualServerRecreate:
e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER_MAINTENANCE");
break;

case n.eSportsTeamFull:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_FULL_TEAM");
break;

case n.eSportsMatchAborted:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_ABORTED");
break;

case n.eSportsMatchWalkover:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_WALKOVER");
break;

case n.eSportsMatchWarmupTimedOut:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_WARUMP_TIMEOUT");
break;

case n.serverMaintenance:
e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER_MAINTENANCE");
break;

case n.ok:
case n.genericError:
case n.kickedGameTimeAccountOnUnofficial:
case n.kickedViaShield:
case n.notAllowedToSpectate:
case n.noSpectateSlotAvailable:
case n.invalidSpectateJoin:
case n.kickedCommanderOnLeave:
case n.kickedCommanderAfterMutiny:
case n.kickedOutDemoOver:
case n.rankRestricted:
case n.configurationNotAllowed:
case n.serverReclaimed:
case n.notVerified:
default:
e = __("ID_SPARTA_ONLINE_DISCONNECT_GENERIC_MESSAGE");
}
return e;
}, t.prototype.shouldShowErrorMessage = function l() {
return null != this.disconnectionReasonType && this.disconnectionReasonType !== r.unknown && this.disconnectionReasonType !== r.playerLeft && this.disconnectionReasonType !== r.groupLeft && this.disconnectionReasonType !== r.joinedAnotherGame || this.disconnectionType !== n.ok;
}, t;
}();
t["default"] = o;
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, a = n(5), i = r(a), s = n(21), l = r(s), u = n(50), c = n(65), p = n(23), f = r(p), d = l["default"].createClient({
requestOn: [ f["default"].refreshRentedServers ],
request: function h(e) {
return u.gatewayClient.request("RSP.listServers", {
game: e
});
},
onRequestError: function y(e, t) {
this.publish(t, void 0, e);
},
parse: function g(e, t) {
var n = i["default"].map(e, function(e) {
var n = e.server, r = e.rspServer;
return n ? new c.Server(o({
rsp: r
}, n)) : new c.Server({
rsp: r,
game: t,
name: r.name,
pingSiteAlias: r.pingSiteAlias,
isActive: !1
});
});
return i["default"].compact(n);
},
update: function m(e, t, n) {
this.publish(n, e);
}
});
t.ListRSPClient = d;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(24), a = r(o), i = n(41), s = r(i), l = n(21), u = n(23), c = l.createClient({
requestOn: [ u.getDetailsForServer ],
shouldPerformRequest: function p() {
return s["default"].getState().isReady();
},
request: function f(e) {
if (!e || !e.game || !e.gameId) throw new Error("You need to provide at least a game and gameId when fetching server details");
var t = {
game: e.game,
gameId: e.gameId
};
return a["default"].request("GameServer.getServerDetails", t);
},
onRequestError: function d(e) {
this.publish(void 0, e);
},
parse: function h(e) {
return e;
},
update: function y(e) {
this.publish(e);
}
});
e.exports = c;
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
return "gameModes" === e || "maps" === e || "weaponClasses" === e;
}
function o(e, t) {
var n = C["default"].filter(t, function(t) {
return "on" === e[t.filterKey];
}), r = C["default"].filter(t, function(t) {
return "off" === e[t.filterKey];
});
return n.length > 0 ? n : r;
}
function a(e, t) {
return C["default"].filter(t, function(t) {
return null == e[t.filterKey];
});
}
function i(e, t) {
arguments.length <= 2 || void 0 === arguments[2] ? !1 : arguments[2];
return C["default"].filter(t, function(t) {
return "scale" === t.type ? C["default"].some(C["default"].keys(t.options), function(t) {
return e[t];
}) : "int" === t.type ? null != e[t.filterKey] : e.hasOwnProperty(t.filterKey);
});
}
function s(e, t) {
return "off" === t ? __("ID_SPARTA_FILTER_NO_FILTERS").replace("[[filterCategory]]", e.prettyName || e.name) : e.prettyName || e.name;
}
function l(e, t) {
var n = C["default"].filter(Object.keys(t), function(t) {
return e.options[t];
});
return n.length > 0 ? e.name + " " + 100 * e.options[n[0]] + "%" : __("ID_SPARTA_FILTER_NO_FILTERS").replace("[[filterCategory]]", e.name);
}
function u(e, t) {
var n = t[e.filterKey];
return Array.isArray(n) ? e.name + " " + n[0] + " - " + n[1] : null == n ? __("ID_SPARTA_FILTER_ANY_FILTERS").replace("[[filterCategory]]", e.name) : e.name + " " + n;
}
function c(e, t) {
return "int" === e.type ? u(e, t) : "scale" === e.type ? l(e, t) : "bool" === e.type || null == e.type ? s(e, t[e.filterKey]) : void 0;
}
function p(e) {
for (var t = ""; e && e.length && t.length + e[0].length < A; ) t += 0 === t.length ? e.shift() : ", " + e.shift();
return e.length && (t += " +" + e.length), t;
}
function f(e, t) {
if (!e) return [ "" ];
if (e.name) return [ e.name ];
var n = i(e, t);
return n.map(function(t) {
return c(t, e);
});
}
function d(e, t) {
var n = C["default"].keys(e).length, r = C["default"].keys(t).length, o = "mixed";
return 0 === n ? o = "none" : n === r && (o = "all"), o;
}
function h(e, t, n) {
return function(r, o, a) {
switch (r) {
case "all":
return e();

case "none":
return t();

default:
return n(o, a);
}
};
}
function y(e, t) {
var n = C["default"].keys(e).length, r = C["default"].keys(t).length, i = r - n > 1, s = i || 3 > r ? o(e, t) : a(e, t), l = s.map(function(t) {
var n = t.prettyName || t.name;
return "on" === e[t.filterKey] ? n : __("ID_SPARTA_FILTER_NO_FILTERS").replace("[[filterCategory]]", n);
});
return p(l);
}
function g(e) {
return "object" == typeof e && e && (!e.isEmpty || !e.isEmpty());
}
function m(e, t, n) {
return C["default"].object(C["default"].compact(C["default"].map(e, function(e, r) {
var o = g(e);
if ("name" === r && e.name) return [ r, e.name ];
var a = o ? i(e, t[r] || [], n) : [], s = a.map(function(t) {
return c(t, e);
});
return s.length > 0 ? [ r, s.join(", ") ] : null;
})));
}
function b(e, t) {
return {
subHeading: e.toUpperCase(),
content: C["default"].compact(t).join("\n").toUpperCase()
};
}
function v(e, t) {
return !C["default"].some(e, function(e, n) {
if (!g(e)) return !1;
var r = i(e, t[n]);
return r.length > 0;
});
}
function _(e, t) {
return t(e.status, e.filter, e.options);
}
function S(e) {
return "maps" === e ? O : "gameModes" === e ? R : P;
}
function T(e) {
return C["default"].compact(C["default"].map(e, function(e, t) {
return "none" !== e.status || "maps" === t || "gameModes" === t ? _(e, S(t)) : null;
}));
}
function w(e, t) {
var n = C["default"].object(C["default"].map(e, function(e, n) {
return [ n, {
filter: e,
options: t[n],
status: d(e, t[n])
} ];
}));
return "mixed" === n.maps.status && "mixed" !== n.gameModes.status ? b(_(n.maps, O), T(C["default"].omit(n, [ "maps", "presets", "serverType" ]))) : b(_(n.gameModes, R), T(C["default"].omit(n, [ "gameModes", "presets", "serverType" ])));
}
function E(e, t) {
var n = m(e, t, !0);
return C["default"].values(n).join(", ");
}
t.__esModule = !0, t.shouldSummarizeAllNone = r, t.isDefaultFilter = v, t.getFilterCardSummary = w, 
t.getServerSettingsOneliner = E;
var I = n(5), C = e(I), A = 30, P = function k(e, t, n) {
var r = f(t, n);
return p(r);
}, O = h(function() {
return __("ID_SPARTA_FILTER_ALL_MAPS");
}, function() {
return __("ID_SPARTA_FILTER_ALL_MAPS");
}, y), R = h(function() {
return __("ID_SPARTA_FILTER_ALL_MODES");
}, function() {
return __("ID_SPARTA_FILTER_ALL_MODES");
}, y);
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return l["default"].each(c, function(t) {
e.hasOwnProperty(t) && (e.hasOwnProperty("advanced") || (e.advanced = {}), e.advanced[t] = e[t], 
delete e[t]);
}), e.hasOwnProperty("name") && (e.name = {
name: e.name
}), e;
}
function a(e) {
return JSON.stringify(u.formatFilter(e));
}
function i(e) {
try {
var t = JSON.parse(e);
return t ? o(t) : {};
} catch (n) {
return console.error("Error parsing filter:", n.stack), {};
}
}
t.__esModule = !0, t.writeFilterJson = a, t.parseFilterJson = i;
var s = n(5), l = r(s), u = n(155), c = [ "passwordProtected", "mapRotation", "modeRotation" ];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(5), a = r(o), i = n(15), s = n(285), l = n(223), u = n(65), c = n(154), p = n(26), f = n(23), d = new p("RentedServerStore"), h = i.createStore({
init: function y() {
var e = this;
this.listenTo(s.ListRSPClient, function(e, t, n) {
d.set(e, {
data: t,
error: n
}), this.trigger(this.getState()), f.requestPings(a["default"].pluck(t, "ip"));
}), this.listenTo(f.toggleBookmark, function(t) {
var n = new u.Server(a["default"].extend({}, t, {
isFavorite: !t.isFavorite
}));
e.updateServerBookmarked(n);
}), this.listenTo(c.ToggleServerBookmarkClient, this.updateServerBookmarked);
},
findAll: function g(e) {
var t = d.get(e);
return t && t.data;
},
findByRSPId: function m(e, t) {
var n = d.get(e) || [];
return a["default"].find(n.data, function(e) {
return e.rsp.serverId === t;
});
},
updateServerBookmarked: function b(e) {
if (e.guid) {
var t = d.get(e.game) || {}, n = t.data ? t.data.slice() : [], r = l.updateByGuid(n, e);
r && (d.set(e.game, {
data: r,
error: t.error
}), this.trigger(this.getState()));
}
},
getState: function v() {
return d.getState();
}
});
e.exports = h;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(5), a = r(o), i = n(15), s = n(154), l = n(65), u = n(286), c = n(23), p = n(26), f = new p("ServerDetailsStore"), d = i.createStore({
init: function h() {
var e = this;
this.listenTo(u, function(e, t) {
f.setState({
data: e,
error: t
}), this.trigger(this.getState());
}), this.listenTo(c.toggleBookmark, function(t) {
var n = new l.Server(a["default"].extend({}, t, {
isFavorite: !t.isFavorite
}));
e.updateServerBookmarked(n);
}), this.listenTo(s.ToggleServerBookmarkClient, this.updateServerBookmarked), this.listenTo(c.clearServerDetails, function() {
f.setState(null), this.trigger(this.getState());
});
},
updateServerBookmarked: function y(e) {
if (e.guid) {
var t = f.getState();
t.data && t.data.guid && e.guid === t.data.guid && (f.merge({
data: a["default"].extend({}, t.data, {
isFavorite: e.isFavorite
})
}), this.trigger(this.getState()));
}
},
getState: function g() {
return f.getState();
}
});
e.exports = d;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(223), a = n(15), i = n(154), s = n(65), l = n(432), u = r(l), c = n(5), p = r(c), f = n(26), d = n(23), h = new f("ServerHistoryStore"), y = a.createStore({
init: function g() {
var e = this;
this.listenTo(u["default"], function(e, t, n) {
h.set(e, {
data: t,
error: n
}), this.trigger(this.getState()), d.requestPings(p["default"].pluck(t, "ip"));
}), this.listenTo(d.toggleBookmark, function(t) {
var n = new s.Server(p["default"].extend({}, t, {
isFavorite: !t.isFavorite
}));
e.updateServerBookmarked(n);
}), this.listenTo(i.ToggleServerBookmarkClient, this.updateServerBookmarked);
},
updateServerBookmarked: function m(e) {
if (e.guid) {
var t = h.get(e.game) || {}, n = t.data ? t.data.slice() : [], r = o.updateByGuid(n, e);
r && (h.set(e.game, {
data: r,
error: t.error
}), this.trigger(this.getState()));
}
},
getState: function b() {
return h.getState();
}
});
t["default"] = y, e.exports = t["default"];
}, function(e, t) {
t.__esModule = !0, t["default"] = {
SortKeys: {
NAME: "name",
PING: "ping",
PLAYERS: "players",
NONE: "none"
},
SortDirection: {
ASC: "asc",
DESC: "desc",
NONE: "none"
}
}, e.exports = t["default"];
}, function(e, t, n) {
var r = n(15), o = {
blur: r.createAction(),
focus: r.createAction(),
enableVideo: r.createAction(),
disableVideo: r.createAction()
};
e.exports = o;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = y["default"].getState(), n = t[e];
if (!n) return console.error("Matchmaking: Falsey pingSites for gameId " + e), [];
var r = Object.keys(n).filter(function(e) {
return null != n[e].ping && n[e].ping >= 0;
});
return 0 === r.length ? (console.error("Matchmaking: Zero responsive ping sites available"), 
[]) : r.map(function(e) {
return {
alias: e,
latencyMS: n[e].ping
};
});
}
var a = n(5), i = r(a), s = n(24), l = r(s), u = n(21), c = r(u), p = n(65), f = n(224), d = r(f), h = n(92), y = r(h), g = n(8), m = n(19), b = r(m), v = n(93), _ = r(v), S = n(295), T = r(S), w = n(84), E = r(w), I = c["default"].createClient({
requestOn: [ _["default"].prepare["continue"] ],
listener: function A(e, t) {
var n = new T["default"]({
gameId: e,
status: "SessionStarting",
filter: t
});
return _["default"].newSession(n), _["default"].start(n), arguments;
},
request: function P(e, t) {
var n = {
game: e,
filterJson: JSON.stringify(i["default"].extend({}, t, {
version: 1
})),
pingSiteLatencyList: o(e),
currentGame: b["default"].getState().hostingGameId
}, r = "Matchmaking.startMatchmaking";
g.partyStore.canGroupJoin(e) && (n.blazeGroupId = g.partyStore.blazeGroupId, n.blazeGroupMembers = g.partyStore.playableMemberIds.map(function(e) {
return e.personaId;
}), r = "Matchmaking.startGroupMatchmaking");
var a = d["default"].getByGameId(e);
return a && (n.protocolVersion = a), l["default"].request(r, n);
},
onRequestError: function O() {
_["default"].newSession(new T["default"]({
status: "JoinFailed"
}));
},
parse: function R(e, t, n) {
var r = g.gameStore.getGame(t), o = e.env.game !== b["default"].getState().hostingGameId;
return new T["default"]({
personaId: e.personaId,
sessionId: e.sessionId,
gameId: e.env.game,
env: e.env || {},
status: "SessionStarting",
server: e.server ? new p.Server(e.server) : void 0,
filter: n,
canJoin: r && !!r.joinConfig.mmAutoJoin || o
});
},
update: function k(e) {
_["default"].newSession(e);
}
}), C = {
startListening: function x() {
I.startListening();
},
stopMatchmaking: function M(e) {
return new Promise(function(t, n) {
var r = E["default"].getState();
r.sessionId ? (_["default"].stop(e), _["default"].receivedSessionUpdate({
sessionId: r.sessionId,
status: {
name: "SessionCanceling"
}
}), l["default"].request("Matchmaking.stopMatchmaking", {
sessionId: r.sessionId,
game: r.env.game
}).then(function() {
_["default"].removeSession(r), t();
})["catch"](function(e) {
n(e);
})) : (console.warn("Received a stop matchmaking request but no matchmaking session was started."), 
t());
});
}
};
e.exports = C;
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(5), i = r(a), s = void 0, l = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, e), t.status && "SessionStarting" === t.status && (s = new Date().getTime()), 
this.personaId = t.personaId, this.sessionId = t.sessionId, this.gameId = t.gameId, 
this.env = t.env || {}, this.status = t.status, this.server = t.server ? t.server : void 0, 
this.canJoin = void 0 !== t.canJoin ? t.canJoin : !1, this.isResolved = this.status && i["default"].contains([ "SuccessJoined", "SessionTimedOut", "JoinFailed", "SessionCanceling", "SessionCanceled" ], this.status), 
this.isPending = this.status && !this.isResolved, this.isCancellable = this.isPending && !!this.sessionId, 
this.filter = t.filter || {};
}
return e.prototype.getDuration = function t() {
return new Date().getTime() - s;
}, e.prototype.getPrettyStatus = function n() {
switch (this.status) {
case "SessionStarting":
return __("ID_SPARTA_MATCHMAKING_SESSION_STARTING");

case "SessionStarted":
return __("ID_SPARTA_MATCHMAKING_SESSION_STARTED");

case "SessionTimedOut":
return __("ID_SPARTA_MATCHMAKING_SESSION_TIMEOUT");

case "SuccessJoined":
return __("ID_SPARTA_MATCHMAKING_JOINED");

case "JoinFailed":
return __("ID_SPARTA_MATCHMAKING_FAILED");

case "SessionCanceled":
return __("ID_SPARTA_MATCHMAKING_SESSION_CANCELED");
}
}, e;
}();
t["default"] = l, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(21), a = r(o), i = n(24), s = r(i), l = n(19), u = r(l), c = a["default"].createClient({
throttle: 108e3,
request: function p(e) {
if (!e.game || "number" != typeof e.minutesToUTC) throw new Error("You need to provide at least game and minutesToUtc when fetching a recommendation message");
return e.gameClient = u["default"].getHostingGame().gameId, s["default"].request("Onboarding.welcomeMessage", e);
},
parse: function f(e) {
return e;
},
update: function d(e, t, n) {
this.publish(n.game, e);
}
});
t["default"] = c, e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15), o = n(26), a = n(296), i = new o("WelcomeMessageStore"), s = r.createStore({
init: function l() {
this.listenTo(a, function(e, t) {
i.set(e, t), this.trigger(this.getState());
});
},
getState: function u() {
return i.getState();
}
});
t["default"] = s, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return L(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(25), d = i(f), h = n(590), y = i(h), g = n(63), m = i(g), b = n(3), v = n(13), _ = i(v), S = n(12), T = i(S), w = n(354), E = i(w), I = n(33), C = n(6), A = i(C), P = n(95), O = i(P), R = n(55), k = n(17), x = i(k), M = n(8), N = n(10), D = n(11), U = {
_$ArticleRecommendationCard: {
displayName: "ArticleRecommendationCard"
},
_$ArticlePopup: {
displayName: "ArticlePopup"
}
}, L = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/ArticleRecommendationCard.jsx",
components: U,
locals: [],
imports: []
}), $ = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.getButtons = function s(e) {
var t = this;
return new _["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: T["default"].Accept,
blockInputFor: 500,
action: function n() {
m["default"].handleCardInteraction(t.props.recommendation), t.openArticlePopup();
}
});
}, n.prototype.getBackgroundImage = function l(e) {
return e.featuredImage && e.featuredImage.fileReference;
}, n.prototype.getGameDisplayName = function c(e) {
return e && e.game;
}, n.prototype.getTitle = function p(e) {
return e && e.pageTitle && e.pageTitle.text || "";
}, n.prototype.getArticle = function f() {
return this.props.recommendation instanceof E["default"] ? this.props.recommendation : new E["default"](this.props.recommendation);
}, n.prototype.openArticlePopup = function h() {
var t = this.getArticle();
d["default"].display({
id: "articlePopup",
fullScreen: !0,
createButtons: !1,
content: {
$$typeof: u,
type: G,
key: null,
ref: null,
props: e(G.defaultProps, {
article: t,
popupId: "articlePopup"
}),
_owner: null
},
inputs: [ new _["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: T["default"].Decline
}) ]
});
}, n.prototype.render = function y() {
var t = this, n = this.getArticle(), r = this.getBackgroundImage(n);
return r ? {
$$typeof: u,
type: b.Focusable,
key: null,
ref: null,
props: e(b.Focusable.defaultProps, {
children: function o(a) {
return {
$$typeof: u,
type: R.BasicCard,
key: null,
ref: null,
props: e(R.BasicCard.defaultProps, {
input: t.getButtons(n),
focusItem: a,
heading: __("ID_SPARTA_CARD_ARTICLE"),
description: t.getTitle(n),
game: t.getGameDisplayName(n),
background: r,
size: t.props.size
}),
_owner: null
};
},
debugName: "article_scard_" + n.id,
autoFocusCandidate: !0
}),
_owner: null
} : {
$$typeof: u,
type: b.Focusable,
key: null,
ref: null,
props: e(b.Focusable.defaultProps, {
children: function a(r) {
return {
$$typeof: u,
type: R.BasicCard,
key: null,
ref: null,
props: e(R.BasicCard.defaultProps, {
input: t.getButtons(n),
focusItem: r,
heading: "NEWS",
description: t.getTitle(n),
size: t.props.size
}),
_owner: null
};
},
debugName: "article_tcard_" + n.id,
autoFocusCandidate: !0
}),
_owner: null
};
};
var i = n;
return n = a("_$ArticleRecommendationCard")(n) || n;
}(p["default"].Component);
t["default"] = $, $.propTypes = {
recommendation: p["default"].PropTypes.object.isRequired
};
var G = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.onClose = function s() {
d["default"].close(this.props.popupId);
}, n.prototype.render = function l() {
var t = this, n = M.layoutStateStore.current.config, r = {
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0
}, o = D.bbOfflineUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"), a = {
position: "absolute",
top: x["default"].dangerZoneSize.height,
right: x["default"].dangerZoneSize.width - 3 * A["default"].GUTTER,
zOffset: 100
}, i = SpartaGlobals.bundleIsPC ? {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: u,
type: b.Focusable,
key: null,
ref: null,
props: e(b.Focusable.defaultProps, {
children: function m(n) {
return {
$$typeof: u,
type: O["default"],
key: null,
ref: null,
props: e(O["default"].defaultProps, {
action: t.onClose.bind(t),
focusItem: n,
size: 24,
icon: o,
style: {
padding: A["default"].GUTTER
}
}),
_owner: null
};
},
debugName: "article_close"
}),
_owner: null
},
style: a
},
_owner: null
} : null, s = A["default"].getWidth(18), l = A["default"].getHeight(3), c = 5 * A["default"].GUTTER, p = {
clipPadding: [ l, c, A["default"].getHeight(5), 0 ],
softClip: [ 0, l, 0, l ],
scrollHeight: x["default"].screen.style.height - 2 * x["default"].dangerZoneSize.height
}, f = {
clipPadding: [ l, c, 0, 0 ],
softClip: [ 0, l, 0, A["default"].getHeight(15) ],
scrollHeight: x["default"].screen.style.height - 2 * x["default"].dangerZoneSize.height - A["default"].getHeight(5)
}, d = SpartaGlobals.bundleIsPC ? p : f, h = {
marginTop: x["default"].dangerZoneSize.height,
marginBottom: SpartaGlobals.bundleIsPC ? 0 : x["default"].dangerZoneSize.height,
paddingLeft: (x["default"].screen.style.width - s) / 2
}, g = null;
return g = this.props.rawNewsContent ? this.props.rawNewsContent : {
$$typeof: u,
type: y["default"],
key: this.props.article.id,
ref: null,
props: e(y["default"].defaultProps, {
article: this.props.article,
routeConfig: n
}),
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ i, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: u,
type: I.Scroller,
key: null,
ref: null,
props: e(I.Scroller.defaultProps, {
children: g,
style: {
width: s,
height: d.scrollHeight
},
controller: !0,
clipMargin: d.clipPadding,
softClip: d.softClip
}),
_owner: null
},
style: h
},
_owner: null
} ],
style: r
},
_owner: null
};
};
var i = n;
return n = a("_$ArticlePopup")(n) || n, n = N.observer(n) || n;
}(p["default"].Component);
t.ArticlePopup = G, G.propTypes = {
article: p["default"].PropTypes.object
};
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return D(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(3), y = r(h), g = n(18), m = l(g), b = n(49), v = l(b), _ = n(143), S = n(63), T = l(S), w = n(13), E = l(w), I = n(12), C = l(I), A = n(55), P = n(7), O = n(174), R = n(6), k = l(R), x = n(10), M = n(8), N = {
_$OfferRecommendationCard: {
displayName: "OfferRecommendationCard"
}
}, D = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/OfferRecommendationCard.jsx",
components: N,
locals: [],
imports: []
}), U = {
priceTag: {
flexDirection: "row",
justifyContent: "flex-end",
position: "absolute",
top: 0,
right: 3 * -k["default"].GUTTER
},
price: {
marginTop: 4 * k["default"].GUTTER,
padding: SpartaGlobals.bundleIsPC ? [ k["default"].GUTTER, 2 * k["default"].GUTTER, k["default"].GUTTER, 2 * k["default"].GUTTER ] : [ 2 * k["default"].GUTTER, 4 * k["default"].GUTTER, 2 * k["default"].GUTTER, 4 * k["default"].GUTTER ],
backgroundColor: "#00000080"
},
discount: {
opacity: .5,
flexDirection: "column"
}
}, L = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.getButtons = function r(e) {
var t = this;
return new E["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: C["default"].Accept,
blockInputFor: 500,
action: function n() {
if (T["default"].handleCardInteraction(t.props.recommendation), "virtualRSP" === e.group) return void m["default"].gotoLocation(e.gameId + "/store/list/rsp");
if (SpartaGlobals.bundleIsPC) {
var n = M.gameStore.getGame(e.gameId);
m["default"].gotoLocation(n.startRoute + "/store/list/details?offerId=" + e.id);
} else v["default"].checkout(e);
}
});
}, t.prototype.render = function l() {
var e = this.props.recommendation, t = e.backgroundUrl, n = e.price || "", r = e.listPrice;
"0.00" === n.replace(/^\D+|\D+$/g, "") && (n = __("ID_SPARTA_COMMERCE_OFFER_FREE").toLocaleUpperCase());
var a = !1;
"xpacks" !== e.group && "shortcuts" !== e.group || !e.owned || (a = !0, n = __("ID_SPARTA_COMMERCE_OFFER_OWNED").toLocaleUpperCase());
var i = null;
e.isDiscounted && !a && (i = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: O.Strikethrough,
key: null,
ref: null,
props: o(O.Strikethrough.defaultProps, {
value: r,
size: "S"
}),
_owner: null
},
style: U.discount
},
_owner: null
});
var s = e.price && {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: d["default"].createElement("surface", {
style: U.price,
ref: "discount"
}, i, {
$$typeof: p,
type: _.PS4StoreContent,
key: null,
ref: null,
props: o(_.PS4StoreContent.defaultProps, {
children: {
$$typeof: p,
type: P.Text,
key: null,
ref: null,
props: o(P.Text.defaultProps, {
value: n || e.cardTag,
size: SpartaGlobals.bundleIsPC ? "S" : "M"
}),
_owner: null
}
}),
_owner: null
}),
style: U.priceTag
},
_owner: null
}, l = e.displayName.replace("", "");
return d["default"].createElement(A.BasicCard, {
input: this.getButtons(e),
focusItem: this.props.focusItem,
description: l,
background: t,
size: this.props.size,
ref: this.props.refCb || function() {}
}, s);
};
var n = t;
return t = s("_$OfferRecommendationCard")(t) || t, t = x.observer(t) || t;
}(d["default"].Component);
t["default"] = L, L.propTypes = {
focusItem: d["default"].PropTypes.instanceOf(y.focus.FocusItem).isRequired,
recommendation: d["default"].PropTypes.object.isRequired
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function a(e) {
l(e, y.MENU);
}
function i(e) {
l(e, y.CODEX);
}
function s() {
i("vo_stop_all");
}
function l(e, t) {
var n = f["default"].getState().navigationState === h["default"].FrontEnd;
e && t && n && c.frostbite.sendMessage("tunguska.playVO", {
voName: e,
category: t
});
}
t.__esModule = !0, t.playMenuVO = a, t.playCodexVO = i, t.stopCodexVO = s;
var u = n(3), c = o(u), p = n(36), f = r(p), d = n(56), h = r(d), y = {
MENU: "MenuVO",
CODEX: "CodexVO"
};
t.voCategories = y;
var g = {
CLASS_UNLOCKED_ASSAULT: "vo_menu_npx_18",
CLASS_UNLOCKED_MEDIC: "vo_menu_npx_19",
CLASS_UNLOCKED_SUPPORT: "vo_menu_npx_20",
CLASS_UNLOCKED_SCOUT: "vo_menu_npx_21",
CLASS_UNLOCKED_TANKER: "vo_menu_npx_22",
CLASS_UNLOCKED_PILOT: "vo_menu_npx_23",
BATTLEPACK_YOU_HAVE_UNOPENED_BATTLEPACKS: "vo_sparta_recurring_01",
BATTLEPACK_RECEIVED_FIRST_BATTLEPACK: "vo_sparta_npx_02",
BATTLEPACK_RECEIVED_BATTLEPACK: "vo_sparta_recurring_03",
BATTLEPACK_RECEIVED_LEGENDARY_ITEM: "vo_sparta_recurring_04",
BATTLEPACK_REVEIVED_DISTINGUISHED_ITEM: "vo_sparta_recurring_05",
BATTLEPACK_YOU_CAN_NOW_RECEIVE_SUPERIOR_BATTLEBACK: "vo_sparta_recurring_06",
BATTLEPACK_YOU_CAN_NOW_RECEIVE_ENHANCHED_BATTLEBACK: "vo_sparta_recurring_07",
BATTLEPACK_RECEIVED_SPECIAL_ITEM: "vo_sparta_recurring_08",
EOR_YOU_HAVE_RANKED_UP: "vo_sparta_recurring_09",
EOR_YOU_RECEIVED_MEDAL: "vo_sparta_recurring_10",
EOR_SQUAD_DOMINATED_THE_BATTLE: "vo_sparta_recurring_11",
EOR_WELL_PLAYED_MAJOR_CONTRIBUTION: "vo_sparta_recurring_12",
EOR_FRIEND_PLAYED_A_BIG_ROLE_IN_BATTLE: "vo_sparta_recurring_13",
MENU_SECTION_NPX_CODEX_EXPLANATION: "vo_sparta_npx_59",
MENU_SECTION_NPX_CREATE_PARTY_OR_JOIN_FRIENDS_ON_THE_BATTLEFIELD: "vo_sparta_npx_14",
MENU_SECTION_NPX_BROWSE_THE_BATTLEFIELD_TITLES: "vo_sparta_npx_15",
MENU_SECTION_NPX_SOLDIER: "vo_sparta_npx_46",
GREETINGS_WELCOME_TO_THE_BATTLEFIELD: "vo_sparta_npx_16",
GREETINGS_GOOD_MORNING_SOLDIER: "vo_sparta_recurring_17",
GREETINGS_GOOD_AFTERNOON_SOLDIER: "vo_sparta_recurring_18",
GREETINGS_GOOD_EVENING_SOLDIER: "vo_sparta_recurring_19",
GREETINGS_THESE_ARE_YOUR_PERSONALIZED_SHORTCUTS: "vo_sparta_npx_20",
GREETINGS_WHAT_AN_ELITE_TIME_FOR_SOME_BATTLEFIELD: "vo_sparta_recurring_21",
SPLASH_WELCOME_TO_THE_BATTLEFIELD_PREPARING_YOUR_EXPERIENCE: "vo_sparta_recurring_54",
SPLASH_WELCOME_BACK_TO_YOUR_BATTLEFIELD_SOLDIER: "vo_sparta_recurring_55",
SPLASH_WELCOME_BACK_SOLDIER: "vo_sparta_recurring_56",
CALLOUTS_ARE_YOU_AWAKE_SOLDIER: "vo_sparta_recurring_22",
CALLOUTS_REPORT_IN_SOLDIER: "vo_sparta_recurring_23",
CALLOUTS_HEEEELLLLOOOOOO: "vo_sparta_recurring_24",
CALLOUTS_IMPRESSIVE_STAMINA_SOLDIER: "vo_sparta_recurring_25",
CALLOUTS_MAKE_UP_YOUR_MIND_SOLDIER: "vo_sparta_recurring_26",
LOADING_PICK_A_WEEKLY_MEDAL_TO_TRACK: "vo_sparta_npx_27",
LOADING_PICK_A_WEEKLY_ASSIGNMENT_TO_TRACK: "vo_sparta_npx_28",
MP_NPX_FIND_NEW_BF1_EXPERIENCES_OR_CREATE_CUSTOM_GAMES: "vo_sparta_npx_29",
MP_NPX_QUICKMATCH_SECTION: "vo_sparta_npx_30",
MP_NPX_EXPERIENCE_SECTION: "vo_sparta_npx_31",
MP_NPX_OPERATIONS_SECTION: "vo_sparta_npx_32",
MP_NPX_CUSTOM_GAMES_SECTION: "vo_sparta_npx_33",
MP_NPX_SERVER_BROWSER_SECTION: "vo_sparta_npx_34",
MP_NPX_SERVERBROWSER_FILTER: "vo_sparta_npx_38",
MP_MATCHMAKING_IN_PROGRESS: "vo_sparta_recurring_35",
MP_MATCHMAKING_COMPLETED: "vo_sparta_recurring_36",
MP_SERVERBROWSER_NO_SERVERS_FOUND: "vo_sparta_recurring_37",
EVENTS_NEW_COMMUNITY_MISSION_HAS_STARTED: "vo_sparta_recurring_40",
EVENTS_COMMUNITY_MISSION_COMPLETED: "vo_sparta_recurring_41",
EVENTS_NEW_WEEKLY_ASSIGNMENT_AVAILABLE: "vo_sparta_recurring_42",
EVENTS_DOUBLE_EXPERIENCE_WEEKEND_ONGOING: "vo_sparta_recurring_49",
FEATURE_NPX_CUSTOM_GAMES_UNLOCKED: "vo_sparta_recurring_43",
FEATURE_NPX_OPERATIONS_UNLOCKED: "vo_sparta_recurring_44",
FEATURE_NPX_CUSTOMIZATION: "vo_sparta_recurring_45",
SOCIAL_YOU_HAVE_FRIENDS_PLAYING: "vo_sparta_recurring_50",
SOCIAL_YOU_HAVE_UNREAD_NOTIFICATIONS: "vo_sparta_recurring_51",
SOCIAL_YOU_RECEIVED_A_PARTY_INVITE: "vo_sparta_recurring_52",
SOCIAL_PLATOON_MEMBERS_ARE_PLAYING: "vo_sparta_recurring_53",
VETERAN_VETERAN_PROGRAM_NPX: "vo_sparta_npx_57",
VETERAN_VETERAN_LEVEL_HAS_BEEN_UPGRADED: "vo_sparta_npx_58",
GAME_MODE_UNLOCKED_CONQUEST: "vo_sparta_recurring_60",
GAME_MODE_UNLOCKED_DOMINATION: "vo_sparta_recurring_61",
GAME_MODE_UNLOCKED_TEAM_DEATHMATCH: "vo_sparta_recurring_62",
GAME_MODE_UNLOCKED_PIGEON_CARRIER: "vo_sparta_recurring_63",
GAME_MODE_UNLOCKED_AIRSHIP_RAID: "vo_sparta_recurring_64",
GAME_MODE_UNLOCKED_RUSH: "vo_sparta_recurring_65",
SQUAD_SELECT_SQUAD_TO_JOIN: "vo_menu_npx_01",
SQUAD_YOU_BECAME_SQUADLEADER: "vo_menu_recurring_03",
SQUAD_PROMOTED_TO_SQUADLEADER: "vo_menu_recurring_04",
SQUAD_CREATED: "vo_menu_recurring_05",
IN_GAME_NPX_SCREEN_INFO_CLASS_SELECTION: "vo_menu_npx_08",
IN_GAME_NPX_SCREEN_INFO_SQUAD_SELECTION: "vo_menu_npx_02",
IN_GAME_NPX_SCREEN_INFO_LOADOUT_CUSTOMIZATION: "vo_menu_npx_10",
IN_GAME_NPX_SCREEN_INFO_VEHICLE_CUSTOMIZATION: "vo_menu_npx_17",
IN_GAME_NPX_SCREEN_INFO_ADJUST_SOUND: "vo_menu_npx_26",
IN_GAME_USE_SELECTION_TO_CHOOSE_VEHICLE_DEPLOY_TYPE: "vo_menu_npx_06",
IN_GAME_SELECT_YOUR_DEPLOY_POINT_TO_JOIN_BATTLE: "vo_menu_npx_07",
IN_GAME_DEPLOYMENT_FAILED: "vo_menu_recurring_09",
IN_GAME_SPAWN_ON_SQUAD_OR_OBJECTIVE_INFO: "vo_menu_npx_25",
IN_GAME_NPX_MODIFY_WEAPON_INFO: "vo_menu_npx_11",
IN_GAME_NPX_WEAPON_NEEDS_TO_BE_DEPLOYED_TO_GROUND: "vo_menu_npx_28",
IN_GAME_NPX_EXTRA_LOADOUT_SLOT_UNLOCKED: "vo_menu_npx_24",
IN_GAME_RANK_NOT_HIGH_ENOUGH_RANK_TO_ACCESS_ITEM: "vo_menu_npx_15",
IN_GAME_MOTHER_TURN_OF_MOTHER_VOICE_INFO: "vo_menu_npx_27",
IN_GAME_NPX_ITEM_FIRST_ITEM_UNLOCKED: "vo_menu_npx_16",
WARBONDS_FIRST_EARNED_INFO: "vo_menu_npx_12",
WARBONDS_NPX_INFO: "vo_menu_npx_13",
WARBONDS_INSUFFICIENT_WARBONDS_TO_UNLOCK: "vo_menu_npx_14",
TRACKED_MEDAL_COMPLETED: "vo_sparta_npx_47",
NEW_WEEKLY_MEDALS_AVAILABLE: "vo_sparta_recurring_48",
YOU_ARE_CLOSE_TO_RANKING_UP: "vo_sparta_recurring_39"
};
t.menuSounds = g;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return T(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(22), h = s(d), y = n(6), g = s(y), m = n(25), b = s(m), v = n(456), _ = s(v), S = {
_$BattlepackItemInspectView: {
displayName: "BattlepackItemInspectView"
}
}, T = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackItemInspectView.jsx",
components: S,
locals: [],
imports: []
}), w = {
btn: {
flex: 1,
marginTop: g["default"].GUTTER
},
dock: {
justifyContent: "center",
alignItems: "center",
position: "absolute",
top: 0,
right: 0,
left: 0,
bottom: 0
},
actions: {
width: g["default"].getWidth(6),
marginTop: 2 * g["default"].GUTTER
}
}, E = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.closePopup = function s() {
b["default"].close(this.props.popupInfo.id);
}, t.prototype.render = function l() {
var e = this, t = void 0;
return SpartaGlobals.bundleIsPC && (t = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_CLOSE"),
action: function() {
return e.closePopup();
},
style: w.btn
}),
_owner: null
},
style: w.actions
},
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
item: this.props.item
}),
_owner: null
}, t ],
style: w.dock
},
_owner: null
};
};
var n = t;
return t = i("_$BattlepackItemInspectView")(t) || t;
}(f["default"].Component);
t["default"] = E, E.propTypes = {
popupInfo: f["default"].PropTypes.object.isRequired,
item: f["default"].PropTypes.object.isRequired
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return k(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), p = i(c), f = n(20), d = i(f), h = n(3), y = n(13), g = i(y), m = n(12), b = i(m), v = n(186), _ = i(v), S = n(185), T = n(145), w = n(208), E = n(258), I = n(146), C = n(48), A = i(C), P = n(56), O = i(P), R = {
_$TunguskaGameViewSubRoute: {
displayName: "TunguskaGameViewSubRoute"
}
}, k = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/TunguskaGameViewSubRoute.jsx",
components: R,
locals: [],
imports: []
}), x = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.isReadyToPlay = !1;
}
o(t, e), t.prototype.componentWillReceiveProps = function i(e) {
this.props.gameState.navigationState !== O["default"].LoadingScreen || !e.gameState.isReady || e.gameState.isChangingServer || T.nextRoundCountDown.active || (this.isReadyToPlay = !0, 
S.goToGame({
withBlackFade: !0,
showGameReadyPopup: !0,
changeRoute: "playing"
}));
}, t.prototype.getInput = function s() {
var e = this;
return [ new g["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_BACK"),
key: b["default"].Decline,
action: function t() {
return e.gotoLoadingOrPlaying();
}
}) ];
}, t.prototype.gotoLoadingOrPlaying = function l() {
this.isReadyToPlay ? (w.tunguskaLevelStore.clearMpLevel(), S.goToGame({
changeRoute: "playing"
})) : this.props.gameState.isReady && !T.nextRoundCountDown.active ? (w.tunguskaLevelStore.clearMpLevel(), 
h.frostbite.sendMessage("tunguska.levelDescriptionRequest"), A["default"].route("playing")) : I.operationFlow.state === I.OperationState.serverFound ? E.matchmakingCheckList.setCanJoinSession() : A["default"].route("loading");
}, t.prototype.render = function c() {
var e = this, t = I.operationFlow.state !== I.OperationState.none, n = t ? {
isVisible: !0,
isBlurred: !0,
hideOverlay: !0
} : {
hideOverlay: !0
}, r = u({}, this.props, {
backgroundState: n,
nextRoundCountDown: {
autoDismiss: !1,
callback: function o() {
e.isReadyToPlay = !0;
}
}
});
return p["default"].createElement(_["default"], r, this.props.children);
};
var n = t;
return t = a("_$TunguskaGameViewSubRoute")(t) || t, t = d["default"]()(t) || t;
}(p["default"].Component);
t["default"] = x, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(12), h = s(d), y = n(85), g = s(y), m = n(6), b = s(m), v = n(17), _ = s(v), S = n(804), T = s(S), w = n(3), E = n(10), I = {
_$GameViewTabs: {
displayName: "GameViewTabs"
}
}, C = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/GameViewTabs.jsx",
components: I,
locals: [],
imports: []
}), A = n(20), P = b["default"].window.rowSpan(4), O = 2, R = {
container: {
flexDirection: "column",
alignItems: "center",
justifyContent: "center"
},
tabContainer: {
flexDirection: "row",
alignItems: "center",
width: _["default"].screen.width,
marginBottom: b["default"].window.rowSpan(3),
marginLeft: -_["default"].dangerZoneSize.width,
marginRight: -_["default"].dangerZoneSize.width
},
lineContainerLeft: {
flex: 1,
alignItems: "flex-end",
height: P + O,
marginRight: b["default"].GUTTER / 2
},
lineContainerRight: {
flex: 1,
alignItems: "flex-start",
height: P + O,
marginLeft: b["default"].GUTTER / 2
},
lineBorderLeft: {
backgroundColor: "#e6e6e680",
position: "absolute",
bottom: 0,
height: O,
left: 0,
right: 0
},
lineBorderRight: {
backgroundColor: "#e6e6e680",
position: "absolute",
bottom: 0,
height: O,
left: 0,
right: 0
},
button: {
margin: [ b["default"].GUTTER / 2, 0, 0, 0 ]
},
buttonContainerLeft: {
marginRight: 2 * b["default"].GUTTER,
height: P,
width: 4 * b["default"].GUTTER,
marginTop: -2
},
buttonContainerRight: {
marginLeft: 2 * b["default"].GUTTER,
height: P,
width: 4 * b["default"].GUTTER,
marginTop: -2
}
}, k = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.prevTab = function s() {
this.props.prevTab();
}, t.prototype.nextTab = function l() {
this.props.nextTab();
}, t.prototype.goToTab = function u(e) {
this.props.goToTab(e);
}, t.prototype.render = function p() {
var e = this.props.active, t = e.id, n = w.focus.system.controllerMode ? null : {
opacity: 0
}, o = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: f["default"].createElement(g["default"], {
ref: "button1",
align: "right",
label: "",
inputKey: h["default"].Previous,
style: R.button,
action: this.prevTab.bind(this),
useConsoleStyle: !0
}),
style: [ R.buttonContainerLeft, n ]
},
_owner: null
}, a = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: f["default"].createElement(g["default"], {
ref: "button2",
align: "left",
label: "",
inputKey: h["default"].Next,
style: R.button,
action: this.nextTab.bind(this),
useConsoleStyle: !0
}),
style: [ R.buttonContainerRight, n ]
},
_owner: null
}, i = this.props.tabs.map(function(e, n) {
var o = e.id === t;
return {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
bordered: !0,
text: e.title(),
active: o,
index: n,
onClick: this.props.goToTab.bind(this, n, e)
}),
_owner: null
};
}.bind(this)), s = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ o, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: R.lineBorderLeft
},
_owner: null
} ],
style: R.lineContainerLeft
},
_owner: null
}, l = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: R.lineBorderRight
},
_owner: null
} ],
style: R.lineContainerRight
},
_owner: null
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ s, i, l ],
style: R.tabContainer
},
_owner: null
},
style: R.container
},
_owner: null
};
};
var n = t;
return t = i("_$GameViewTabs")(t) || t, t = A()(t) || t, t = E.observer(t) || t;
}(f["default"].Component);
t["default"] = k, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = n(131), i = r(a), s = n(26), l = r(s), u = n(57), c = new l["default"]("TunguskaBattlepackPurchasableStore"), p = !1, f = o.createStore({
init: function d() {
u.purchasable.listen(function(e) {
p = !0;
var t = e.reduce(function(e, t) {
return e[t.packName] = t, e;
}, {});
c.setState(new i["default"](t)), f.trigger(c.getState());
});
},
hasLoadedOnce: function h() {
return p;
},
getState: function y() {
return c.getState();
},
getInitialState: function g() {
return this.getState();
},
getPackByName: function m(e) {
return c.getState().get(e);
}
});
t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(51), s = n(9), l = n(34), u = r(l), c = n(8), p = n(44), f = n(19), d = r(f), h = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, []), u["default"].setTrackableMedals.listen(function(e) {
n.setState(e);
}), d["default"].scope("hostingGameId").listen(function(e) {
if (e === p.tunguskaGameId) var t = s.autorun(function() {
c.onlineState.hasGatewaySession && 0 === n.getState().length && (u["default"].getTrackableMedals(), 
t());
});
});
}
return a(t, e), t;
}(i.Store);
t["default"] = new h(), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
for (var t in e) {
var n = e[t];
if (n.isTracked) return n;
}
}
function s(e) {
for (var t in e) {
var n = e[t];
if (!n.completion.completed) return n;
}
}
t.__esModule = !0;
var l = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, u = n(5), c = r(u), p = n(51), f = n(305), d = r(f), h = n(34), y = r(h), g = n(468), m = r(g), b = n(8), v = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, i(d["default"].getState())), d["default"].listen(function(e) {
var t = i(e), r = s(e);
t ? n.setState(t) : r && y["default"].setTrackedMedal(r);
}), y["default"].setTrackedMedal.listen(function(e) {
var t = d["default"].getState(), r = t.reduce(function(e, t) {
return e[t.id] = t, e;
}, {}), o = n.getState();
o && (r[o.id] = new m["default"](l({}, o, {
isTracked: !1
}))), r[e.id] = new m["default"](l({}, e, {
isTracked: !0
}));
var a = c["default"].values(r);
y["default"].setTrackableMedals(a);
});
}
return a(t, e), t.prototype.getTimeToNextReset = function n() {
var e = 210866803200, t = 604800, n = b.settingsStore.getServerAdjustedTimestamp() + e, r = Math.floor(n / t) * t;
return r + t - n;
}, t;
}(p.Store);
t["default"] = new v(), e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o(e) {
n(this, o), this.category = e.category, this.description = e.description, this.images = e.images || {}, 
this.itemType = (e.itemType || "").toUpperCase(), this.key = e.key, this.name = e.name, 
this.nugget = e.nugget, this.parentKey = e.key.replace("_v", ""), this.parentName = e.parentName, 
this.quantity = parseInt(e.quantity, 10), this.rarenessLevel = e.rarenessLevel, 
this.scrapValue = parseInt(e.scrapValue, 10);
};
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return h(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(3), d = {
_$BoundedZone: {
displayName: "BoundedZone"
}
}, h = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/BoundedZone.jsx",
components: d,
locals: [],
imports: []
}), y = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.componentDidUpdateBounds = function i() {
this.props.onBoundsChanged && this.props.onBoundsChanged(this.bounds);
}, t.prototype.render = function s() {
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: this.props.style
},
_owner: null
};
};
var n = t;
return t = a("_$BoundedZone")(t) || t, t = f.hasSurfaceBounds()(t) || t;
}(p["default"].Component);
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return d(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), p = i(c), f = {
_$Clipper: {
displayName: "Clipper"
}
}, d = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Clipper.jsx",
components: f,
locals: [],
imports: []
}), h = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = {};
if (this.props.clipContent) {
var t = this.props.width + (this.props.clipPadding[1] + this.props.clipPadding[3]), n = this.props.height + (this.props.clipPadding[0] + this.props.clipPadding[2]);
e = {
layer: this.props.clipContent,
layerClip: this.props.clipContent,
layerGrabBackground: !1,
layerSoftClip: this.props.softClip,
width: t,
height: n,
margin: [ -this.props.clipPadding[0], -this.props.clipPadding[1], -this.props.clipPadding[2], -this.props.clipPadding[3] ],
padding: [ this.props.clipPadding[0], this.props.clipPadding[1], this.props.clipPadding[2], this.props.clipPadding[3] ]
};
}
var r = u({}, e, this.props.style), o = this.props.extra || {};
return p["default"].createElement("surface", u({
style: r
}, o), this.props.children);
};
var n = t;
return t = a("_$Clipper")(t) || t;
}(p["default"].Component);
t["default"] = h, h.defaultProps = {
clipContent: !0,
clipPadding: [ 0, 0, 0, 0 ],
softClip: [ 0, 0, 0, 0 ]
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return $(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), f = i(p), d = n(20), h = i(d), y = n(13), g = i(y), m = n(12), b = i(m), v = n(78), _ = i(v), S = n(22), T = i(S), w = n(7), E = n(9), I = n(6), C = i(I), A = n(46), P = i(A), O = n(43), R = i(O), k = n(8), x = n(10), M = n(24), N = i(M), D = n(111), U = n(156), L = {
_$ConnectionState: {
displayName: "ConnectionState"
}
}, $ = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/ConnectionState.jsx",
components: L,
locals: [],
imports: []
}), G = SpartaGlobals.bundleIsXBOXONE, F = {
container: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 10,
justifyContent: "center",
alignItems: "center"
},
content: {
flexDirection: "column",
alignItems: "center"
},
box: {
maxWidth: C["default"].getWidth(25),
justifyContent: "center",
alignItems: "center"
},
title: {
marginBottom: C["default"].getHeight(2)
},
description: {
opacity: .5,
textAlign: "center",
textAlignForRTL: "center",
width: C["default"].getWidth(18),
marginBottom: C["default"].getHeight(2)
}
}, B = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.componentDidMount = function s() {
var e = this;
this.dispose = E.autorun(function() {
e.onOnlineStateChanged(k.onlineState.canGoOnline, k.onlineState.canChangeUser);
});
}, n.prototype.componentWillUnmount = function l() {
this.dispose();
}, n.prototype.getMessage = function p(e) {
if (e.isOnlineBlazeAndGateway) return {
title: "",
description: ""
};
if (e.isConnecting) return {
title: __("ID_SPARTA_ONLINE_PRESENCE_CONNECTING"),
description: e.presenceState.customMessage
};
if (e.isPresenceReady) return {
title: __("ID_SPARTA_ONLINE_GATEWAY_NOT_LOGGED_IN"),
description: __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED") + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO") + " (2000)"
};
var t = e.presenceState, n = "", r = "";
switch (t.hasInternet ? (n = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED") + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO") + " (1000)") : (n = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED") + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO") + " (1001)"), 
t.resultType) {
case D.ConnectionResultType.duplicateLogin:
n = __("ID_SPARTA_ONLINE_PRESENCE_ALREADY_IN_USE"), r = __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case D.ConnectionResultType.loginCancelled:
n = __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_ONLINE_PRESENCE_LOGIN_CANCELLED_XB1" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_ONLINE_PRESENCE_LOGIN_CANCELLED_PS4" : "ID_SPARTA_ONLINE_PRESENCE_LOGIN_CANCELLED_PC"), 
r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_UNAVAILABLE"), r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case D.ConnectionResultType.invalidUser:
case D.ConnectionResultType.accountBanned:
case D.ConnectionResultType.missingOnlineAccess:
n = __("ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS"), r = __("ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS_DESC"), 
r += __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS_XBLIVE" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS_PSNETWORK" : "ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case D.ConnectionResultType.noMultiplayerPrivilege:
n = __("ID_SPARTA_ONLINE_PRESENCE_MISSING_PRIVILEGES"), r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO"), SpartaGlobals.bundleIsPS4 && (r = __("ID_SPARTA_ONLINE_PRESENCE_MISSING_PS_PLUS"));
break;

case D.ConnectionResultType.originOffline:
n = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_OFFLINE"), r = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_OFFLINE_DESC");
break;

case D.ConnectionResultType.originStartupFailed:
n = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_FAILED"), r = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_FAILED_DESC");
break;

case D.ConnectionResultType.originMandatoryUpdate:
n = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_UPDATE"), r = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_UPDATE_DESC"), 
r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case D.ConnectionResultType.originNotLoggedIn:
n = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_NOT_LOGGED_IN"), r = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_NOT_LOGGED_IN_DESC"), 
r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case D.ConnectionResultType.psuLimitExceeded:
n = __("ID_SPARTA_ONLINE_PRESENCE_PSU_LIMIT_EXCEEDED"), r = __("ID_SPARTA_ONLINE_PRESENCE_PSU_LIMIT_EXCEEDED_DESC");
break;

case D.ConnectionResultType.requiredUpdateExists:
n = __("ID_SPARTA_ONLINE_PRESENCE_REQUIRED_UPDATE"), r = __("ID_SPARTA_ONLINE_PRESENCE_REQUIRED_UPDATE_DESC"), 
r += "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case D.ConnectionResultType.authCodeFailed:
case D.ConnectionResultType.networkError:
case D.ConnectionResultType.serverConfiguration:
case D.ConnectionResultType.systemError:
case D.ConnectionResultType.failure:
n = __("ID_SPARTA_ONLINE_PRESENCE_FAILED_EA_ONLINE"), r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case D.ConnectionResultType.connectionFailed:
case D.ConnectionResultType.networkDisconnect:
case D.ConnectionResultType.serverDisconnect:
case D.ConnectionResultType.serverNotFound:
case D.ConnectionResultType.timeout:
n = __("ID_SPARTA_ONLINE_PRESENCE_LOST_EA_CONNECTION"), r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case D.ConnectionResultType.tooYoung:
case D.ConnectionResultType.tooYoungForContent:
n = __("ID_SPARTA_ONLINE_PRESENCE_ACCESS_DENIED"), r = __("ID_SPARTA_ONLINE_PRESENCE_ACCESS_DENIED_DESC");
break;

case D.ConnectionResultType.userLost:
n = __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_ONLINE_PRESENCE_SIGNIN_CHANGE" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_ONLINE_PRESENCE_LOST_PSN_CONNECTION" : "ID_SPARTA_ONLINE_PRESENCE_LOST_USER"), 
r = "";
break;

case D.ConnectionResultType.noService:
n = __("ID_SPARTA_ONLINE_PRESENCE_NO_SERVICE"), r = __("ID_SPARTA_ONLINE_PRESENCE_NO_SERVICE_DESC"), 
r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
}
return {
title: n,
description: r
};
}, n.prototype.getConnectAction = function f() {
return {
action: k.onlineState.isPresenceReady ? N["default"].connect : _["default"].connect,
label: __(k.onlineState.goOnlineIsRetry ? "ID_SPARTA_ONLINE_PRESENCE_TRY_AGAIN" : "ID_SPARTA_ONLINE_PRESENCE_GO_ONLINE")
};
}, n.prototype.getChangeUserAction = function d() {
return {
action: R["default"].showLocalUserSelectionUI,
label: __("ID_SPARTA_MENU_CHANGE_PROFILE")
};
}, n.prototype.getInput = function y() {
var e = [];
return k.onlineState.canGoOnline && e.push(new g["default"](c({
key: b["default"].Option1
}, this.getConnectAction()))), G && k.onlineState.canChangeUser && e.push(new g["default"](c({
key: b["default"].Option2
}, this.getChangeUserAction()))), e;
}, n.prototype.getConnectButton = function m() {
var t = this.getConnectAction();
return {
$$typeof: u,
type: T["default"],
key: null,
ref: null,
props: e(T["default"].defaultProps, {
text: t.label,
style: {
width: C["default"].getWidth(4)
},
action: t.action
}),
_owner: null
};
}, n.prototype.onOnlineStateChanged = function v() {
this.updateInput();
}, n.prototype.render = function S() {
var t = SpartaGlobals.bundleIsPC && k.onlineState.canGoOnline ? this.getConnectButton() : null, n = this.getMessage(k.onlineState), r = k.onlineState.isConnecting && !U.isVisibleStore.getState() && {
$$typeof: u,
type: P["default"],
key: null,
ref: null,
props: e(P["default"].defaultProps, {
size: 50,
style: {
marginBottom: 3 * C["default"].GUTTER
}
}),
_owner: null
}, o = c({}, F.box), a = c({}, F.content), i = c({}, F.title), s = c({}, F.description);
this.props.width && (o.width = this.props.width, i.width = this.props.width, s.width = this.props.width);
var l = {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ r, {
$$typeof: u,
type: w.Text,
key: null,
ref: null,
props: e(w.Text.defaultProps, {
value: n.title.toUpperCase(),
type: "normal",
size: "L",
style: i
}),
_owner: null
} ],
style: a
},
_owner: null
}, {
$$typeof: u,
type: w.Text,
key: null,
ref: null,
props: e(w.Text.defaultProps, {
value: n.description,
type: "normal",
size: "S",
style: s
}),
_owner: null
}, t ],
style: o
},
_owner: null
}, p = SpartaGlobals.bundleIsPC ? {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: l,
style: F.container
},
_owner: null
} : {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: l,
style: F.container
},
_owner: null
};
return p;
};
var i = n;
return n = a("_$ConnectionState")(n) || n, n = h["default"]()(n) || n, n = x.observer(n) || n;
}(f["default"].Component);
t.ConnectionState = B;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return g(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = e / 60 / 60 / 1e3;
if (t > 24) {
var n = Math.round(t / 24), r = __(1 === n ? "ID_SPARTA_DATETIME_DAY" : "ID_SPARTA_DATETIME_DAYS");
return n + " " + r;
}
var o = Math.floor(t), a = t - o, i = 60 * a, s = Math.floor(i);
a = i - s;
var l = 60 * a, u = Math.floor(l);
return 10 > s && (s = "0" + s), 10 > u && (u = "0" + u), o + ":" + s + ":" + u;
}
var u = n(4), c = s(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(7), y = {
_$Countdown: {
displayName: "Countdown"
}
}, g = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Countdown.jsx",
components: y,
locals: [],
imports: []
}), m = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
currentTime: new Date().getTime()
};
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this;
this.intervalId = setInterval(function() {
return e.setState({
currentTime: new Date().getTime()
});
}, 1e3);
}, t.prototype.componentWillUnmount = function l() {
clearInterval(this.intervalId), delete this.intervalId;
}, t.prototype.render = function u() {
var e = this.props, t = e.format, n = e.targetTime, o = e.timeDelta, a = e.doneText, i = r(e, [ "format", "targetTime", "timeDelta", "doneText" ]);
void 0 === o ? o = n - this.state.currentTime : "function" == typeof o && (o = o());
var s = o > 0 || !a ? t(o) : a;
return d["default"].createElement(h.Text, p({
value: s
}, i));
};
var n = t;
return t = i("_$Countdown")(t) || t;
}(d["default"].Component);
t["default"] = m, m.propTypes = {
format: d["default"].PropTypes.func.isRequired,
targetTime: d["default"].PropTypes.number.isRequired,
doneText: d["default"].PropTypes.string
}, m.defaultProps = {
format: l
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
t.__esModule = !0;
var r = {
XXL: 46,
XL: 33,
L: 28,
M: 22,
S: 16,
XS: 13,
XXS: 13
}, o = {
XXL: 55,
XL: 42,
L: 33,
M: 27,
S: 22,
XS: 18,
XXS: 16
}, a = SpartaGlobals.bundleIsPC ? r : o;
t.ELLIPSIS_OFFSET = a;
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return b(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l), c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(3), y = n(16), g = n(7), m = {
_$LabeledIcon: {
displayName: "LabeledIcon"
}
}, b = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/LabeledIcon.jsx",
components: m,
locals: [],
imports: []
}), v = {
container: {
alignItems: "center",
justifyContent: "flex-start",
flexDirection: "row"
}
}, _ = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.tweens = {
container: {
opacity: y.Animation.tween("91fd6d18:22", 1)
},
icon: {
translateX: y.Animation.tween("91fd6d18:23", 0)
},
label: {
translateX: y.Animation.tween("91fd6d18:24", 0)
}
}, this.tweenStyles = h.Tween.getStyles(this.tweens);
}
a(t, e), t.prototype.componentWillUnmount = function s() {
this.tweens.container.opacity.destroy(), this.tweens.icon.translateX.destroy(), 
this.tweens.label.translateX.destroy();
}, t.prototype.separate = function l(e, t) {
this.tweens.container.opacity.transition(1, 0, e);
var n = "left" === this.props.align ? this.tweens.icon : this.tweens.label, r = "left" === this.props.align ? this.tweens.label : this.tweens.icon;
n.translateX.transition(0, -100, e), r.translateX.transition(0, 100, e, t);
}, t.prototype.join = function u(e) {
this.tweens.container.opacity.to(1, e), this.tweens.icon.translateX.to(0, e), this.tweens.label.translateX.to(0, e);
}, t.prototype.render = function f() {
var e = (void 0 !== this.props.width ? this.props.width : this.props.height) || 0, t = (void 0 !== this.props.height ? this.props.height : this.props.width) || 0, n = void 0 !== this.props.space ? this.props.space : e / 2, o = this.props.icon;
"string" == typeof o && (o = {
$$typeof: p,
type: "surface",
key: "iconelement",
ref: null,
props: {
style: {
texture: this.props.icon,
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
width: e,
height: t,
grayScale: this.props.isDisabled ? 1 : 0
}
},
_owner: null
});
var a;
a = this.props.iconSpace ? 2 * this.props.iconSpace + n : "left" === this.props.align ? n : 0;
var i = this.props.iconSpace || ("right" === this.props.align ? n : 0), s = {
$$typeof: p,
type: "surface",
key: "icon",
ref: null,
props: {
children: o,
style: [ this.tweenStyles.icon, {
height: t,
width: e,
marginRight: a,
marginLeft: i
} ]
},
_owner: null
}, l = {
$$typeof: p,
type: "surface",
key: "label",
ref: null,
props: {
children: "string" == typeof this.props.label ? {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: r(g.Text.defaultProps, {
value: this.props.label
}),
_owner: null
} : this.props.label,
"static": !0,
style: this.tweenStyles.label
},
_owner: null
}, u = "left" === this.props.align ? [ s, l ] : [ l, s ], f = c({}, this.tweenStyles.container, v.container, this.props.style), d = this.props.labelDecoration;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ u, d ],
style: f,
onClick: this.props.onClick
},
_owner: null
};
};
var n = t;
return t = i("_$LabeledIcon")(t) || t;
}(d["default"].Component);
_.defaultProps = {
align: "left"
}, _.propTypes = {
height: d["default"].PropTypes.number,
width: d["default"].PropTypes.number,
space: d["default"].PropTypes.number,
label: d["default"].PropTypes.node,
align: d["default"].PropTypes.oneOf([ "left", "right" ]),
iconSpace: d["default"].PropTypes.number
}, e.exports = _;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
var t = "unknown";
return null == e ? t : (e >= 0 && 50 > e ? t = "best" : e >= 50 && 100 > e ? t = "good" : e >= 100 && 170 > e ? t = "ok" : e >= 170 && 220 > e ? t = "bad" : e >= 220 && (t = "worst"), 
t);
}
function i(e, t) {
var n = g["default"].getState()[e], r = n[t];
return r ? r.ping : null;
}
t.__esModule = !0;
var s = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, l = n(1), u = r(l), c = n(7), p = n(159), f = r(p), d = n(10), h = n(359), y = n(92), g = r(y), m = n(11), b = {
normal: {
unknown: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-unknown-1f157eef.png"),
worst: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-worst-8132a91f.png"),
bad: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-bad-44eb0603.png"),
ok: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-ok-dark-cf767f8d.png"),
good: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-good-8bf696ce.png"),
best: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-best-541aba08.png")
},
dark: {
unknown: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-unknown-dark-e1371818.png"),
worst: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-worst-dark-9788a96a.png"),
bad: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-bad-dark-70bffc72.png"),
ok: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-ok-dark-cf767f8d.png"),
good: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-good-dark-cae1727b.png"),
best: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-best-541aba08.png")
}
}, v = d.observer(function(e) {
var t = e.children, n = e.server, r = null;
return SpartaGlobals.bundleIsConsole || "" === n.ip ? n.pingSiteAlias && (r = i(n.game, n.pingSiteAlias)) : n.ip && h.pingResults.has(n.ip) && (r = h.pingResults.get(n.ip)), 
"function" == typeof t ? t(r) : (console.warn("Expected a function as the children to ServerPingObserver"), 
null);
});
t.ServerPingLookup = v;
var _ = function S(e) {
function t(t) {
var n = a(t), i = e.dark ? b.dark : b.normal;
return i[n] || console.warn("could not find texture:", n, i), {
$$typeof: s,
type: f["default"],
key: null,
ref: null,
props: o(f["default"].defaultProps, {
image: i[n],
size: "S",
style: r.pingIcon
}),
_owner: null
};
}
function n(t) {
return {
$$typeof: s,
type: c.Text,
key: null,
ref: null,
props: o(c.Text.defaultProps, {
style: [ r.pingText, e.textStyle ],
type: e.fontType,
size: "XS",
value: null != t && t >= 0 ? "" + t : "-"
}),
_owner: null
};
}
var r = {
pingText: {
alignSelf: "center"
},
pingIcon: {
zOffset: 1,
marginRight: 10
}
};
return {
$$typeof: s,
type: "surface",
key: null,
ref: null,
props: {
children: [ t(e.ping), SpartaGlobals.bundleIsPC ? n(e.ping) : null ],
style: e.style
},
_owner: null
};
};
t.PingDisplay = _, _.propTypes = {
style: u["default"].PropTypes.object,
fontType: u["default"].PropTypes.string,
textStyle: u["default"].PropTypes.object,
ping: u["default"].PropTypes.number
}, _.defaultProps = {
style: {},
fontType: "",
textStyle: {}
};
}, function(e, t, n) {
(function(__) {
function t(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return D(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l), c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(5), y = s(h), g = n(3), m = t(g), b = n(162), v = s(b), _ = n(16), S = n(835), T = s(S), w = n(14), E = s(w), I = n(61), C = s(I), A = n(28), P = s(A), O = n(11), R = n(7), k = n(6), x = t(k), M = n(10), N = {
_$RankBadge: {
displayName: "RankBadge"
}
}, D = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Soldier/RankBadge.jsx",
components: N,
locals: [],
imports: []
}), U = {
initialState: "from",
values: {
scaleX: {
from: .3,
to: .7
},
scaleY: {
from: .3,
to: .7
},
opacity: {
from: 0,
to: 1
}
},
options: y["default"].extend({}, _.Animation.defaultTweenOptions, {
easing: "cubicOut",
duration: 250
})
}, L = {
initialState: "from",
values: {
scaleX: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: y["default"].extend({}, _.Animation.defaultTweenOptions, {
easing: "cubicOut",
duration: 250
})
}, $ = {
initialState: "from",
values: {
opacity: {
from: 0,
to: .5
}
},
options: y["default"].extend({}, _.Animation.defaultTweenOptions, {
easing: "linear",
duration: 375
})
}, G = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.componentDidMount = function s() {
this.componentDidUpdate(this.props, this.state);
}, t.prototype.shouldComponentUpdate = function l(e, t) {
return (this.props.gameId !== e.gameId || this.state.career.gameStats !== t.career.gameStats || this.state.isVisible !== t.isVisible) && t.isVisible === !0;
}, t.prototype.componentDidUpdate = function u(e, t) {
var n = this;
this.props.noAnimation ? (this.refs.flare && this.refs.flare.rewind(0), this.refs.progress && this.refs.progress.rewind(0)) : (this.play(300), 
setTimeout(function() {
n.refs && n.refs.rankBadgeRadial && m.Native.playSpriteAnimation(n.refs.rankBadgeRadial.getSurfaceId(), !0);
}, 400), setTimeout(function() {
n.refs && n.refs.progress && (n.refs.progress.play(), n.refs.progress.rewind($.options.duration + 100));
}, 940));
}, t.prototype.getLeftInfo = function f() {
var e = this.props.gameId || "generic", t = this.state.career.gameStats[this.props.gameId], n = t && t.rank.number || 0, o = SpartaGlobals.bundleIsPC ? 2 * -x.GUTTER : -x.GUTTER, a = {
alignItems: "flex-end",
justifyContent: "center",
height: this.props.badgeSize,
marginRight: o
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: R.Text,
key: null,
ref: null,
props: r(R.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_RANK").toUpperCase() + " " + n,
size: "S",
section: e
}),
_owner: null
},
style: a
},
_owner: null
};
}, t.prototype.getRightInfo = function h() {
var e = this.props.gameId || "generic", t = this.state.career.gameStats[this.props.gameId], n = t && t.rank.number || 0, o = SpartaGlobals.bundleIsPC ? 2 * -x.GUTTER : -x.GUTTER, a = {
alignItems: "flex-start",
justifyContent: "center",
height: this.props.badgeSize,
marginLeft: o
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: R.Text,
key: null,
ref: null,
props: r(R.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_RANK").toUpperCase() + " " + n,
size: "S",
section: e
}),
_owner: null
},
style: a
},
_owner: null
};
}, t.prototype.getBottomInfo = function y() {
var e = this.props.gameId || "generic", t = this.state.career.gameStats[this.props.gameId], n = t && t.rank.number || 0, o = {
scale: this.props.bottomInfoScale,
marginTop: 4 * this.props.barSize,
alignSelf: "center",
textAlign: "center",
padding: [ 0, x.GUTTER, 0, x.GUTTER ],
texture: O.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
width: 7 * x.GUTTER,
textureBorder: [ 2, 2, 2, 2 ]
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: R.Text,
key: null,
ref: null,
props: r(R.Text.defaultProps, {
value: "" + n,
size: "S",
section: e,
style: {
alignSelf: "center"
}
}),
_owner: null
},
style: o
},
_owner: null
};
}, t.prototype.play = function b(e) {
this.refs.animation && this.refs.animation.play(e), this.refs.flare && (this.refs.flare.play(e + 400), 
this.refs.flare.rewind(e + U.options.duration + 400));
}, t.prototype.render = function _() {
var e = this.state.career && this.state.career.gameStats[this.props.gameId];
if (!e) return null;
var t = e && e.rank.imageUrl || O.bbOfflineUrl("/sparta/jsclient/builds/assets/blank-69d0497e.png"), n = O.bbOfflineUrl("/sparta/jsclient/builds/assets/rankbadge_flare-d34b0fcb.png"), o = O.bbOfflineUrl("/sparta/jsclient/builds/assets/rankbadge_glow-4add5478.png"), a = e && e.rank && e.rank.progress || {}, i = a.percentage || 0, s = U;
this.props.rankIconScaling && (s = Object.assign({}, U, {
values: {
scaleX: this.props.rankIconScaling,
scaleY: this.props.rankIconScaling
}
})), s.initialState = this.props.skipAnimation ? "to" : "from", L.initialState = this.props.skipAnimation ? "to" : "from", 
$.initialState = this.props.skipAnimation ? "to" : "from";
var l = {
width: this.props.badgeSize,
height: this.props.badgeSize
}, u = c({
textureMode: "contain"
}, l), f = {
position: "absolute",
width: this.props.badgeSize + 3 * this.props.barSize,
height: this.props.badgeSize + 3 * this.props.barSize,
left: 1.5 * -this.props.barSize,
top: 1.5 * -this.props.barSize
}, h = {
position: "absolute",
width: this.props.badgeSize + 5 * this.props.barSize,
height: this.props.badgeSize + 5 * this.props.barSize,
left: 2.5 * -this.props.barSize,
top: 2.5 * -this.props.barSize
}, y = c({}, h, {
scaleX: 1.6,
scaleY: 1.6
}), m = c({
zOffset: 50
}, y, {
spriteAnimation: {
spriteSheet: O.bbOfflineUrl("/sparta/jsclient/builds/assets/rankbadge_radial-54c5be99.png"),
fps: 60,
frameWidth: 155,
frameHeight: 155,
totalFrames: 60,
looping: !1
}
}), b = {
flexDirection: "row"
};
"left" === this.props.align && (b = c({}, b, {
marginLeft: -this.props.badgeSize * (SpartaGlobals.bundleIsPC ? .35 : .5)
}));
var v = {
texture: t,
textureAtlas: "SpartaCommonAtlas",
zOffset: 2
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ "left" === this.props.align && this.getLeftInfo(), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ d["default"].createElement(g.AnimatedSurface, {
ref: "animation",
animation: s,
style: [ u, v ]
}), d["default"].createElement(g.AnimatedSurface, {
ref: "flare",
animation: L,
style: [ h, {
texture: n,
textureAtlas: "SpartaCommonAtlas",
zOffset: 1
} ]
}), d["default"].createElement(g.AnimatedSurface, {
ref: "progress",
animation: $,
style: [ y, {
texture: o,
textureAtlas: "SpartaCommonAtlas"
} ]
}), d["default"].createElement("surface", {
style: m,
ref: "rankBadgeRadial"
}), {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
progress: i,
progressColor: "#ff9900ff",
bgColor: "#33333333",
size: this.props.barSize,
style: f
}),
_owner: null
}, "bottom" === this.props.align && this.getBottomInfo() ],
style: [ l, this.props.badgeStyle ]
},
_owner: null
}, "right" === this.props.align && this.getRightInfo() ],
onClick: this.props.onClick,
style: c({}, b, this.props.style)
},
_owner: null
};
};
var n = t;
return t = i("_$RankBadge")(t) || t, t = E["default"]({
career: v["default"],
isVisible: P["default"](C["default"], "logo")
})(t) || t, t = M.observer(t) || t;
}(d["default"].Component);
G.defaultProps = {
bottomInfoScale: SpartaGlobals.bundleIsConsole ? 1.5 : 1.45,
badgeSize: 130,
barSize: 10,
align: "none"
}, e.exports = G;
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return S(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), f = n(1), d = s(f), h = n(437), y = s(h), g = n(9), m = n(10), b = n(62), v = n(11), _ = {
_$ContextMenuButton: {
displayName: "ContextMenuButton"
}
}, S = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/buttons/ContextMenuButton.jsx",
components: _,
locals: [],
imports: []
}), T = {
dots: {
width: 21,
zOffset: 1,
height: 5,
textureMode: "none"
},
container: {
flexDirection: "column",
alignItems: "center",
justifyContent: "center",
width: 60,
height: 40
}
}, w = {
white: v.bbOfflineUrl("/sparta/jsclient/builds/assets/dots-white-03a7610a.png"),
black: v.bbOfflineUrl("/sparta/jsclient/builds/assets/dots-black-87f8f273.png")
}, E = function(e) {
function t() {
r(this, s), e.apply(this, arguments), o(this, "isHovered", n);
}
var n = {};
a(t, e), t.prototype.componentWillUnmount = function l() {
this.close();
}, t.prototype.onClick = function u(e) {
e.stopPropagation(), this.props.onPreOpen && this.props.onPreOpen();
var t = this.surface.getBounds();
this.props.offset && (t.x = t.x + this.props.offset.x, t.y = t.y + this.props.offset.y);
var n = {
x: t.x,
y: t.y
};
"function" == typeof this.props.position ? n = this.props.position() : this.props.position && (n = Object.assign({}, this.props.position)), 
n.x = n.x - b.uiState.viewportPosition.left, n.y = n.y - b.uiState.viewportPosition.top, 
this.openAt(n, this.props.align);
}, t.prototype.openAt = function f(e, t) {
y["default"].display(this.props.options, e, t, this.props.onOpen, this.props.onClose, this.props.menuWidth, this.props.parentHeight);
}, t.prototype.close = function h() {
y["default"].hide();
}, t.prototype.render = function v() {
var e = this, t = this.isHovered || this.props.isForceHighlighted, n = {
dots: {
texture: w[this.props.dark ? "black" : "white"],
opacity: t ? 1 : .5
}
};
return d["default"].createElement("surface", {
ref: function(t) {
return e.surface = t;
},
style: [ T.container, this.props.style ],
onClick: this.onClick.bind(this),
onMouseEnter: function() {
return e.setHovered(!0);
},
onMouseLeave: function() {
return e.setHovered(!1);
}
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ T.dots, n.dots ]
},
_owner: null
});
}, p(t, [ {
key: "setHovered",
decorators: [ g.action ],
value: function _(e) {
this.isHovered = e;
}
}, {
key: "isHovered",
decorators: [ g.observable ],
initializer: function S() {
return !1;
},
enumerable: !0
} ], null, n);
var s = t;
return t = i("_$ContextMenuButton")(t) || t, t = m.observer(t) || t;
}(d["default"].Component);
E.propTypes = {
isForceHighlighted: d["default"].PropTypes.bool,
options: d["default"].PropTypes.arrayOf(d["default"].PropTypes.object).isRequired,
align: d["default"].PropTypes.string,
width: d["default"].PropTypes.number,
position: d["default"].PropTypes.oneOfType([ d["default"].PropTypes.object, d["default"].PropTypes.func ]),
dark: d["default"].PropTypes.bool,
onPreOpen: d["default"].PropTypes.func,
onOpen: d["default"].PropTypes.func,
onClose: d["default"].PropTypes.func,
offset: d["default"].PropTypes.object
}, E.defaultProps = {
align: "left",
dark: !1
}, t["default"] = E, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return v(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(13), f = i(p), d = n(7), h = n(3), y = n(10), g = n(125), m = n(11), b = {
_$VisualButton: {
displayName: "VisualButton"
}
}, v = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/buttons/VisualButton.jsx",
components: b,
locals: [],
imports: []
}), _ = n(1), S = n(313), T = n(125).Key, w = n(6), E = n(3), I = n(132), C = n(191), A = m.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-inv-83f715ff.png"), P = m.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"), O = {
pcButton: {
backgroundColor: "#ffffff33",
height: w.getHeight(5),
justifyContent: "center",
alignItems: "center",
padding: [ 0, 2 * w.GUTTER, 0, 2 * w.GUTTER ],
marginRight: w.GUTTER
},
pcButtonLarge: {
height: w.getHeight(7)
},
pcButtonHovered: {
backgroundColor: "#ffffff66"
},
pcButtonInverted: {
backgroundColor: "#00000011"
},
pcButtonInvertedHovered: {
backgroundColor: "#00000033"
},
pcButtonBorder: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
texture: P,
textureAtlas: "SpartaCommonAtlas",
textureBorder: [ 2, 2, 2, 2 ],
textureMode: "fill"
},
pcButtonBorderLarge: {},
pcButtonInvertedBorder: {
textureAtlas: "SpartaCommonAtlas",
texture: A
},
label: {
color: [ 255, 255, 255, 200 ]
},
labelInverted: {
color: [ 0, 0, 0, 200 ]
}
}, R = w.getHeight(3), k = 58, x = 59, M = m.bbOfflineUrl("/sparta/assets/ui/sprites/visualbuttonpulsate-96eb83fc.png"), N = function(e) {
function t(t) {
var o = this;
r(this, n), e.call(this, t), this.focusItem = h.focus.create(this, "visual-button"), 
this.preloader = E.texture.createPreloader(this), t.useConsoleStyle && (this.preloader.preload(A, "SpartaCommonAtlas"), 
this.preloader.preload(P, "SpartaCommonAtlas"));
var a = C[t.inverted ? "inverted" : "normal"][t.inputKey.name];
this.preloader.preload(a, "SpartaCommonAtlas"), this.preloader.preload(M, "SINGLE_TEXTURE"), 
h.focus.onComponentUpdate(this, function(e, t) {
o.focusItem.setClickInput(new f["default"]({
key: e.inputKey,
action: function n() {
return o.triggerAction();
},
visible: !1
}));
});
}
o(t, e), t.prototype.pulsate = function i() {
var e = this;
return new Promise(function(t) {
E.focus.system.controllerMode ? (E.Native.playSpriteAnimation(e.refs.iconSprite.getSurfaceId(), !0), 
setTimeout(t, 350)) : t();
});
}, t.prototype.triggerAction = function s(e) {
this.props.inputKey && I.trigger(new g.KeyEvent(this.props.inputKey));
}, t.prototype.renderIcon = function l(e) {
var t = this.props.iconSize || R;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: {
zOffset: 1,
texture: e,
width: t,
height: t,
textureAtlas: "SpartaCommonAtlas"
}
},
_owner: null
}, _.createElement("surface", {
ref: "iconSprite",
style: {
zOffset: 2,
position: "absolute",
width: k,
height: x,
top: (t - x) / 2,
left: (t - k) / 2,
spriteAnimation: {
spriteSheet: M,
fps: 60,
frameWidth: k,
frameHeight: x,
totalFrames: 31,
startFrame: 10,
looping: !1
}
}
}) ]
},
_owner: null
};
}, t.prototype.render = function p() {
var e = this.props.styleSheetOverride ? this.props.styleSheetOverride : O, t = u({}, e.label, this.props.inverted ? e.labelInverted : null, this.props.labelStyle), n = this.props.label ? _.createElement(d.Text, u({
value: this.props.label.toUpperCase(),
type: this.props.labelType,
section: this.props.section,
size: this.props.large ? "M" : "S",
style: t
}, this.props.labelProps)) : null, r = "undefined" != typeof this.props.useConsoleStyle ? this.props.useConsoleStyle : E.focus.system.controllerMode;
if (r) {
var o = C[this.props.inverted ? "inverted" : "normal"][this.props.inputKey.name];
o || console.warn("Rendering VisualButton with missing icon", this.props.inputKey);
var a = this.props.styleSheetOverride && e.labelContainer ? u({}, e.labelContainer, this.props.large ? e.labelContainerLarge : null) : this.props.style, i = this.props.iconSize || R, s = this.renderIcon(o);
return _.createElement(S, u({}, this.props, {
ref: "icon",
height: i,
space: w.GUTTER,
labelDecoration: this.props.labelDecoration,
style: a,
icon: s,
label: n,
onClick: this.triggerAction.bind(this)
}));
}
var l = u({}, e.pcButton, this.props.inverted ? e.pcButtonInverted : null, this.focusItem.isFocused ? e.pcButtonHovered : null, this.props.inverted && this.focusItem.isFocused ? e.pcButtonInvertedHovered : null, this.props.large ? e.pcButtonLarge : null), p = u({}, e.pcButtonBorder, this.props.inverted ? e.pcButtonInvertedBorder : null, this.props.large ? e.pcButtonBorderLarge : null);
return _.createElement("surface", u({
style: l
}, this.focusItem.hooks), n, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p
},
_owner: null
});
};
var n = t;
return t = a("_$VisualButton")(t) || t, t = y.observer(t) || t;
}(_.Component);
N.propTypes = {
inputKey: _.PropTypes.instanceOf(T),
label: _.PropTypes.string,
template: _.PropTypes.string,
labelProps: _.PropTypes.object,
labelStyle: _.PropTypes.object,
useConsoleStyle: _.PropTypes.bool,
iconSize: _.PropTypes.number,
large: _.PropTypes.bool,
style: _.PropTypes.object
}, N.defaultProps = {
large: !1,
labelBorder: null,
labelType: "normal"
}, t["default"] = N, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
return new Promise(function(t) {
c.routeIsHostingGame() || t(!0);
var n = u.onlineState.sessionUser, r = n && n.id, o = "gameMode-" + e.shortFilterKey;
y.get(o, function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
t(!(!r || !e[r]));
});
});
}
function o(e) {
return new Promise(function(t, n) {
var r = u.onlineState.sessionUser, o = r && r.id, a = "gameMode-" + e.shortFilterKey;
y.get(a, function() {
var n = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], r = !n[o], s = "";
r && (s = __("ID_SPARTA_ACTION_SKIP")), i.showFullscreenVideo(e.videoUrl, e.prettyName, e.catchphrase, s).then(function() {
r && (console.info("Saving " + o + " to gameMode-" + e.shortFilterKey), n[o] = !0, 
y.save(a, n)), t();
});
});
});
}
function a(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? "soldier" : arguments[2];
return new Promise(function(a) {
var i = f["default"].getState(), s = i[t];
s && "spectator" !== n ? !function() {
var t = h["default"].find(s.gameModes, function(t) {
return t.filterKey === e;
});
t && t.videoUrl ? r(t).then(function(e) {
e ? a() : o(t).then(function() {
a();
});
}) : a();
}() : a();
});
}
t.__esModule = !0, t.showTutorialForGameMode = o, t.tryShowTutorial = a;
var i = n(482), s = n(277), l = e(s), u = n(8), c = n(39), p = n(79), f = e(p), d = n(5), h = e(d), y = new l["default"]();
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return S(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(27), d = i(f), h = n(6), y = i(h), g = n(33), m = n(17), b = i(m), v = n(172), _ = {
_$SideColTemplate: {
displayName: "SideColTemplate"
}
}, S = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/templates/SideColTemplate.jsx",
components: _,
locals: [],
imports: []
}), T = SpartaGlobals.bundleIsPC ? y["default"].getHeight(4) : 0, w = SpartaGlobals.bundleIsPC ? 2 * (y["default"].getWidth(v.CARD_WIDTH.cells.M) + y["default"].GUTTER) : y["default"].getWidth(6), E = y["default"].getWidth(24) - w, I = {
container: {
flexDirection: "row",
width: y["default"].getWidth(24)
},
sideCol: {
width: w,
paddingRight: y["default"].getWidth(1)
},
mainCol: {
width: E,
flexWrap: SpartaGlobals.bundleIsPC ? "wrap" : "nowrap",
height: b["default"].content.height
}
}, C = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.tiltToSideCol = function i() {
this.props.tilting && this.refs.template && this.refs.template.tiltTo(0, 0);
}, t.prototype.tiltToMainCol = function s() {
this.props.tilting && this.refs.template && this.refs.template.tiltTo(-310, 0);
}, t.prototype.renderMainColScroller = function l() {
return p["default"].createElement("surface", {
ref: "focusable"
}, p["default"].createElement(g.Scroller, {
ref: "scroller",
style: I.mainCol,
controller: !0,
softClip: [ 0, T, 0, 0 ]
}, this.props.children));
}, t.prototype.renderMainColFocusable = function c() {
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: I.mainCol,
onFocus: this.tiltToMainCol.bind(this),
onBlur: this.tiltToSideCol.bind(this)
},
_owner: null
};
}, t.prototype.render = function f() {
return p["default"].createElement(d["default"], {
ref: "template",
tallContent: this.props.tallContent,
scrollContent: !1,
clipContent: !0,
scrollToFocus: !1
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.sideContent,
style: I.sideCol,
onFocus: this.tiltToSideCol.bind(this)
},
_owner: null
}, SpartaGlobals.bundleIsPC || this.props.useScroller ? this.renderMainColScroller() : this.renderMainColFocusable() ],
style: I.container
},
_owner: null
});
};
var n = t;
return t = a("_$SideColTemplate")(t) || t;
}(p["default"].Component);
t["default"] = C, C.defaultProps = {
tilting: !0,
useScroller: !1,
sideContent: {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
}
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return g(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), f = i(p), d = n(138), h = i(d), y = {
_$Slider: {
displayName: "Slider"
}
}, g = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/tweeners/Slider.jsx",
components: y,
locals: [],
imports: []
}), m = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = this.props.height || this.props.style && this.props.style.height, t = e || 100, n = [ {
propertyName: "translateY",
fromValue: t,
toValue: 0,
options: this.props.options
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1,
options: this.props.options
} ], r = [ {
propertyName: "translateY",
fromValue: 0,
toValue: -t,
options: this.props.options
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0,
options: this.props.options
} ], o = c({
height: e,
layer: !0,
layerClip: !0
}, this.props.style);
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: f["default"].createElement(h["default"], {
ref: "tweener",
inTweens: n,
outTweens: r,
onTransitionFinished: this.props.onTransitionFinished,
transitionId: this.props.transitionId
}, this.props.children),
style: o
},
_owner: null
};
};
var n = t;
return t = a("_$Slider")(t) || t;
}(f["default"].Component);
t["default"] = m, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
var n = t ? c.SpartaUserId.update(t.spartaUserId, e.spartaUserId) : e.spartaUserId, r = t || new u.User();
return r.extend({
isLeader: e.isLeader,
name: r.name ? void 0 : e.onlineId,
avatarUrl: f["default"](e.profileImageUrl),
spartaUserId: n
});
}
function a(e, t) {
var n = t ? c.SpartaUserId.update(t.spartaUserId, e.spartaUserId) : e.spartaUserId, r = t || new u.User();
return r.extend({
spartaUserId: n,
displayName: e.Persona,
name: e.Persona,
friendState: e.State,
presence: i(e, n, t && t.presence)
});
}
function i(e, t, n) {
var r = d[e.Presence], o = r, a = n && n.server;
return o !== l.UserPresenceStates.Offline && a && (o = l.UserPresenceStates.Joinable), 
new s.UserPresence({
userId: t.id,
state: o,
firstPartyState: r,
text: e.RichPresence,
server: a
});
}
t.__esModule = !0, t.parsePartyUser = o, t.parsePlatformUser = a, t.parsePlatformPresence = i;
var s = n(176), l = n(75), u = n(127), c = n(112), p = n(485), f = r(p), d = {
ONLINE: l.UserPresenceStates.Online,
OFFLINE: l.UserPresenceStates.Offline,
IDLE: l.UserPresenceStates.Away,
INGAME: l.UserPresenceStates.Playing,
JOINABLE: l.UserPresenceStates.Joinable
};
}, function(e, t, n) {
function r(e) {
e = e || {}, this.stats = new a(e.stats), this.gameStats = o.object(o.map(e.gameStats, function(e, t) {
return [ t, new a(e) ];
}));
}
var o = n(5), a = n(418);
e.exports = r;
}, function(e, t, n) {
(function(e) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a() {
return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function(e) {
var t = 16 * Math.random() | 0, n = "x" === e ? t : 3 & t | 8;
return n.toString(16);
});
}
function i(e) {
var t = void 0;
try {
var n = c.onlineState.sessionUser;
n.id && (h.user.id = n.id), n.nucleusId && (h.user.nucleusId = n.nucleusId), n.displayName && (h.user.username = n.displayName), 
n.personaId && (h.user.personaId = n.personaId);
var r = {}, o = p.getState();
o.envBranchName && (r.gameBranch = o.envBranchName), o.envChangeListNumber && (r.gameChangelist = o.envChangeListNumber), 
o.envOnlineEnvironment && (r.gameOnlineEnv = o.envOnlineEnvironment), o.protocolVersion && (r.gameProtocolVer = o.protocolVersion), 
o.gatewayHost && (r.gatewayHost = o.gatewayHost), t = h.captureException(e, {
tags: r
});
} catch (a) {}
return t;
}
t.__esModule = !0, t.generateEvent = i;
var s = n(3), l = n(5), u = r(l), c = n(8), p = n(19), f = 100, d = function() {
function t(e) {
o(this, t), this.projectId = e.projectId, this.baseUrl = e.baseUrl, this.publicKey = e.publicKey, 
this.baseTags = e.tags || {}, this.baseExtra = e.extra || {}, this.release = e.release, 
this.numExceptionsSent = 0, this.debugLog = e.debugLog ? console.log : function() {}, 
this.user = {};
}
return t.prototype.captureException = function n(e, t) {
if (this.numExceptionsSent > f) return void this.debugLog("Max exceptions to send exceeded. Backing off...");
t = t || {};
var n = this._createEvent(e, t.tags || {}, t.extra || {});
return this._sendEvent(n), this.numExceptionsSent++, n;
}, t.prototype._sendEvent = function r(e) {
var t = this;
s.httpRequest(s.HttpMethod.POST, this._getUrl(), JSON.stringify(e), this._getHeaders(), !0, function(e, n) {
return e ? void t.debugLog("Successfully sent report to Sentry! ID: " + n.id) : void t.debugLog("Error sending when sending report to Sentry. Reason: " + JSON.stringify(n));
});
}, t.prototype._createEvent = function i(t, n, r) {
var o = {
event_id: a(),
platform: "javascript",
message: t.name + ": " + t.message
};
o.tags = u["default"].extend({}, this.baseTags, n), o.extra = u["default"].extend({}, this.baseExtra, r);
var i = null;
try {
i = e.isJSC ? this._getJscStacktrace(t) : this._getStacktrace(t);
} catch (s) {
this.debugLog("Error converting Duktape stacktrace to Sentry format");
}
return i ? o.exception = [ {
type: t.name,
value: t.message,
stacktrace: {
frames: i
}
} ] : o.extra.stacktraceStr = t.stack, this.release && (o.release = this.release), 
Object.keys(this.user).length > 0 && (o.user = this.user), o;
}, t.prototype._getUrl = function l() {
return this.baseUrl + "/api/" + this.projectId + "/store/";
}, t.prototype._getHeaders = function c() {
var e = this._generateAuthHeader();
return e += "\nOrigin: http://twinkle.ea.com";
}, t.prototype._generateAuthHeader = function p() {
var e = {
sentry_version: 7,
sentry_client: "raven-twinkle/1.0",
sentry_timestamp: parseInt(Date.now() / 1e3, 10),
sentry_key: this.publicKey
};
return "X-Sentry-Auth: Sentry " + u["default"].map(e, function(e, t) {
return t + "=" + e;
}).join(", ");
}, t.prototype._getStacktrace = function d(e) {
var t = e.stack.replace(/\t/gm, "").replace(/preventsyield/gm, "").replace(/native/gm, "").replace(/strict/gm, ""), n = function o(e) {
return e.indexOf(".cpp:") > 0 || e.indexOf(".h:") > 0 || e.indexOf("TnT") > 0;
}, r = t.split("\n");
return r.shift(), r = r.filter(function(e) {
return !n(e);
}), r = r.map(function(e) {
var t = e.indexOf(".js:") > 0;
if (n(e)) {
var r = e.substr(e.lastIndexOf(":") + 1), o = e.substr(0, e.lastIndexOf(":"));
return {
filename: o.substr(o.lastIndexOf("\\") + 1),
abs_path: o,
lineno: parseInt(r, 10)
};
}
if (t) {
var a = e.split(" "), i = a[0], s = parseInt(a[1].split(":")[1], 10);
return {
filename: "bundle.js",
"function": i,
lineno: s
};
}
return null;
}), r = u["default"].compact(r), r.reverse(), r;
}, t.prototype._getJscStacktrace = function h(e) {
var t = e.stack.split("\n"), n = function p(e, t) {
return e.indexOf(t) >= 0;
}, r = function f(e) {
return e.indexOf("[native code]") >= 0;
}, o = "bundle-release-bf4pc-bf1dlc1_11296_3284083e_warsaw_all_prod.js", a = "http://collector.ops.dice.se/artifacts/sparta-client/sources/release-bf4pc-bf1dlc1/warsaw/ALL/bundle-release-bf4pc-bf1dlc1_11296_3284083e_warsaw_all_prod.js";
t = t.filter(function(e) {
return !r(e);
});
var i, s, l, c;
return t = t.map(function(e) {
return n(e, "@") ? (i = e.match(/\s*(.*?)@(.*?):(\d+):(\d+)/), c = i[1], s = parseInt(i[3], 10), 
l = parseInt(i[4], 10), {
in_app: !0,
filename: o,
"function": c,
lineno: s,
colno: l,
abs_path: a
}) : n(e, ":") ? (i = e.match(/\s*(.*?):(\d+):(\d+)/), c = "__unknown", s = parseInt(i[2], 10), 
l = parseInt(i[3], 10), {
in_app: !0,
filename: o,
"function": "__unknown",
lineno: s,
colno: l,
abs_path: a
}) : {
filename: o,
"function": e
};
}), t = u["default"].compact(t), t.reverse(), t;
}, t;
}();
t.Raven = d;
var h = new d({
baseUrl: "https://sentry-public.battlelog.com",
projectId: 7,
publicKey: "c05110aa1a754ac0acb10e3385cf0eee",
release: "release-bf4pc-bf1dlc1_11296_3284083e_warsaw_all_prod",
tags: {
platform: SpartaGlobals.bundlePlatform.toLowerCase(),
jsEnv: "prod",
version: "11296",
branch: "release-bf4pc-bf1dlc1",
channel: "warsaw"
}
});
t.raven = h;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
e.exports = n(978);
}, function(e, t, n) {
"use strict";
function r(e) {
return c.hasOwnProperty(e) ? !0 : u.hasOwnProperty(e) ? !1 : l.test(e) ? (c[e] = !0, 
!0) : (u[e] = !0, !1);
}
function o(e, t) {
return null == t || e.hasBooleanValue && !t || e.hasNumericValue && isNaN(t) || e.hasPositiveNumericValue && 1 > t || e.hasOverloadedBooleanValue && t === !1;
}
var a = n(164), i = n(87), s = n(997), l = (n(40), /^[a-zA-Z_][\w\.\-]*$/), u = {}, c = {}, p = {
createMarkupForID: function(e) {
return a.ID_ATTRIBUTE_NAME + "=" + s(e);
},
setAttributeForID: function(e, t) {
e.setAttribute(a.ID_ATTRIBUTE_NAME, t);
},
createMarkupForProperty: function(e, t) {
var n = a.properties.hasOwnProperty(e) ? a.properties[e] : null;
if (n) {
if (o(n, t)) return "";
var r = n.attributeName;
return n.hasBooleanValue || n.hasOverloadedBooleanValue && t === !0 ? r + '=""' : r + "=" + s(t);
}
return a.isCustomAttribute(e) ? null == t ? "" : e + "=" + s(t) : null;
},
createMarkupForCustomAttribute: function(e, t) {
return r(e) && null != t ? e + "=" + s(t) : "";
},
setValueForProperty: function(e, t, n) {
var r = a.properties.hasOwnProperty(t) ? a.properties[t] : null;
if (r) {
var i = r.mutationMethod;
if (i) i(e, n); else if (o(r, n)) this.deleteValueForProperty(e, t); else if (r.mustUseAttribute) {
var s = r.attributeName, l = r.attributeNamespace;
l ? e.setAttributeNS(l, s, "" + n) : r.hasBooleanValue || r.hasOverloadedBooleanValue && n === !0 ? e.setAttribute(s, "") : e.setAttribute(s, "" + n);
} else {
var u = r.propertyName;
r.hasSideEffects && "" + e[u] == "" + n || (e[u] = n);
}
} else a.isCustomAttribute(t) && p.setValueForAttribute(e, t, n);
},
setValueForAttribute: function(e, t, n) {
r(t) && (null == n ? e.removeAttribute(t) : e.setAttribute(t, "" + n));
},
deleteValueForProperty: function(e, t) {
var n = a.properties.hasOwnProperty(t) ? a.properties[t] : null;
if (n) {
var r = n.mutationMethod;
if (r) r(e, void 0); else if (n.mustUseAttribute) e.removeAttribute(n.attributeName); else {
var o = n.propertyName, i = a.getDefaultValueForProperty(e.nodeName, o);
n.hasSideEffects && "" + e[o] === i || (e[o] = i);
}
} else a.isCustomAttribute(t) && e.removeAttribute(t);
}
};
i.measureMethods(p, "DOMPropertyOperations", {
setValueForProperty: "setValueForProperty",
setValueForAttribute: "setValueForAttribute",
deleteValueForProperty: "deleteValueForProperty"
}), e.exports = p;
}, function(e, t, n) {
"use strict";
function r(e) {
null != e.checkedLink && null != e.valueLink ? u(!1) : void 0;
}
function o(e) {
r(e), null != e.value || null != e.onChange ? u(!1) : void 0;
}
function a(e) {
r(e), null != e.checked || null != e.onChange ? u(!1) : void 0;
}
function i(e) {
if (e) {
var t = e.getName();
if (t) return " Check the render method of `" + t + "`.";
}
return "";
}
var s = n(527), l = n(239), u = n(32), c = (n(40), {
button: !0,
checkbox: !0,
image: !0,
hidden: !0,
radio: !0,
reset: !0,
submit: !0
}), p = {
value: function(e, t, n) {
return !e[t] || c[e.type] || e.onChange || e.readOnly || e.disabled ? null : new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.");
},
checked: function(e, t, n) {
return !e[t] || e.onChange || e.readOnly || e.disabled ? null : new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.");
},
onChange: s.func
}, f = {}, d = {
checkPropTypes: function(e, t, n) {
for (var r in p) {
if (p.hasOwnProperty(r)) var o = p[r](t, r, e, l.prop);
if (o instanceof Error && !(o.message in f)) {
f[o.message] = !0;
i(n);
}
}
},
getValue: function(e) {
return e.valueLink ? (o(e), e.valueLink.value) : e.value;
},
getChecked: function(e) {
return e.checkedLink ? (a(e), e.checkedLink.value) : e.checked;
},
executeOnChange: function(e, t) {
return e.valueLink ? (o(e), e.valueLink.requestChange(t.target.value)) : e.checkedLink ? (a(e), 
e.checkedLink.requestChange(t.target.checked)) : e.onChange ? e.onChange.call(void 0, t) : void 0;
}
};
e.exports = d;
}, function(e, t, n) {
"use strict";
var r = n(328), o = n(72), a = {
processChildrenUpdates: r.dangerouslyProcessChildrenUpdates,
replaceNodeWithMarkupByID: r.dangerouslyReplaceNodeWithMarkupByID,
unmountIDFromEnvironment: function(e) {
o.purgeID(e);
}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
var r = n(505), o = n(325), a = n(72), i = n(87), s = n(32), l = {
dangerouslySetInnerHTML: "`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",
style: "`style` must be set using `updateStylesByID()`."
}, u = {
updatePropertyByID: function(e, t, n) {
var r = a.getNode(e);
l.hasOwnProperty(t) ? s(!1) : void 0, null != n ? o.setValueForProperty(r, t, n) : o.deleteValueForProperty(r, t);
},
dangerouslyReplaceNodeWithMarkupByID: function(e, t) {
var n = a.getNode(e);
r.dangerouslyReplaceNodeWithMarkup(n, t);
},
dangerouslyProcessChildrenUpdates: function(e, t) {
for (var n = 0; n < e.length; n++) e[n].parentNode = a.getNode(e[n].parentID);
r.processUpdates(e, t);
}
};
i.measureMethods(u, "ReactDOMIDOperations", {
dangerouslyReplaceNodeWithMarkupByID: "dangerouslyReplaceNodeWithMarkupByID",
dangerouslyProcessChildrenUpdates: "dangerouslyProcessChildrenUpdates"
}), e.exports = u;
}, function(e, t, n) {
"use strict";
var r = n(234), o = r({
INSERT_MARKUP: null,
MOVE_EXISTING: null,
REMOVE_NODE: null,
SET_MARKUP: null,
TEXT_CONTENT: null
});
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
s.enqueueUpdate(e);
}
function o(e, t) {
var n = i.get(e);
return n ? n : null;
}
var a = (n(98), n(71)), i = n(199), s = n(74), l = n(38), u = n(32), c = (n(40), 
{
isMounted: function(e) {
var t = i.get(e);
return t ? !!t._renderedComponent : !1;
},
enqueueCallback: function(e, t) {
"function" != typeof t ? u(!1) : void 0;
var n = o(e);
return n ? (n._pendingCallbacks ? n._pendingCallbacks.push(t) : n._pendingCallbacks = [ t ], 
void r(n)) : null;
},
enqueueCallbackInternal: function(e, t) {
"function" != typeof t ? u(!1) : void 0, e._pendingCallbacks ? e._pendingCallbacks.push(t) : e._pendingCallbacks = [ t ], 
r(e);
},
enqueueForceUpdate: function(e) {
var t = o(e, "forceUpdate");
t && (t._pendingForceUpdate = !0, r(t));
},
enqueueReplaceState: function(e, t) {
var n = o(e, "replaceState");
n && (n._pendingStateQueue = [ t ], n._pendingReplaceState = !0, r(n));
},
enqueueSetState: function(e, t) {
var n = o(e, "setState");
if (n) {
var a = n._pendingStateQueue || (n._pendingStateQueue = []);
a.push(t), r(n);
}
},
enqueueSetProps: function(e, t) {
var n = o(e, "setProps");
n && c.enqueueSetPropsInternal(n, t);
},
enqueueSetPropsInternal: function(e, t) {
var n = e._topLevelWrapper;
n ? void 0 : u(!1);
var o = n._pendingElement || n._currentElement, i = o.props, s = l({}, i.props, t);
n._pendingElement = a.cloneAndReplaceProps(o, a.cloneAndReplaceProps(i, s)), r(n);
},
enqueueReplaceProps: function(e, t) {
var n = o(e, "replaceProps");
n && c.enqueueReplacePropsInternal(n, t);
},
enqueueReplacePropsInternal: function(e, t) {
var n = e._topLevelWrapper;
n ? void 0 : u(!1);
var o = n._pendingElement || n._currentElement, i = o.props;
n._pendingElement = a.cloneAndReplaceProps(o, a.cloneAndReplaceProps(i, t)), r(n);
},
enqueueElementInternal: function(e, t) {
e._pendingElement = t, r(e);
}
});
e.exports = c;
}, function(e, t) {
"use strict";
e.exports = "0.14.3";
}, function(e, t, n) {
"use strict";
function r(e) {
return null == e ? null : 1 === e.nodeType ? e : o.has(e) ? a.getNodeFromInstance(e) : (null != e.render && "function" == typeof e.render ? i(!1) : void 0, 
void i(!1));
}
var o = (n(98), n(199)), a = n(72), i = n(32);
n(40);
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
var r = e, o = void 0 === r[n];
o && null != t && (r[n] = t);
}
function o(e) {
if (null == e) return e;
var t = {};
return a(e, r, t), t;
}
var a = n(341);
n(40);
e.exports = o;
}, function(e, t) {
"use strict";
function n(e) {
var t, n = e.keyCode;
return "charCode" in e ? (t = e.charCode, 0 === t && 13 === n && (t = 13)) : t = n, 
t >= 32 || 13 === t ? t : 0;
}
e.exports = n;
}, function(e, t) {
"use strict";
function n(e) {
var t = this, n = t.nativeEvent;
if (n.getModifierState) return n.getModifierState(e);
var r = o[e];
return r ? !!n[r] : !1;
}
function r(e) {
return n;
}
var o = {
Alt: "altKey",
Control: "ctrlKey",
Meta: "metaKey",
Shift: "shiftKey"
};
e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
var t = e.target || e.srcElement || window;
return 3 === t.nodeType ? t.parentNode : t;
}
e.exports = n;
}, function(e, t) {
"use strict";
function n(e) {
var t = e && (r && e[r] || e[o]);
return "function" == typeof t ? t : void 0;
}
var r = "function" == typeof Symbol && Symbol.iterator, o = "@@iterator";
e.exports = n;
}, function(e, t, n) {
"use strict";
/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(e, t) {
if (!a.canUseDOM || t && !("addEventListener" in document)) return !1;
var n = "on" + e, r = n in document;
if (!r) {
var i = document.createElement("div");
i.setAttribute(n, "return;"), r = "function" == typeof i[n];
}
return !r && o && "wheel" === e && (r = document.implementation.hasFeature("Events.wheel", "3.0")), 
r;
}
var o, a = n(68);
a.canUseDOM && (o = document.implementation && document.implementation.hasFeature && document.implementation.hasFeature("", "") !== !0), 
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(68), o = n(242), a = n(244), i = function(e, t) {
e.textContent = t;
};
r.canUseDOM && ("textContent" in document.documentElement || (i = function(e, t) {
a(e, o(t));
})), e.exports = i;
}, function(e, t) {
"use strict";
function n(e, t) {
var n = null === e || e === !1, r = null === t || t === !1;
if (n || r) return n === r;
var o = typeof e, a = typeof t;
return "string" === o || "number" === o ? "string" === a || "number" === a : "object" === a && e.type === t.type && e.key === t.key;
}
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
return y[e];
}
function o(e, t) {
return e && null != e.key ? i(e.key) : t.toString(36);
}
function a(e) {
return ("" + e).replace(g, r);
}
function i(e) {
return "$" + a(e);
}
function s(e, t, n, r) {
var a = typeof e;
if (("undefined" === a || "boolean" === a) && (e = null), null === e || "string" === a || "number" === a || u.isValidElement(e)) return n(r, e, "" === t ? d + o(e, 0) : t), 
1;
var l, c, y = 0, g = "" === t ? d : t + h;
if (Array.isArray(e)) for (var m = 0; m < e.length; m++) l = e[m], c = g + o(l, m), 
y += s(l, c, n, r); else {
var b = p(e);
if (b) {
var v, _ = b.call(e);
if (b !== e.entries) for (var S = 0; !(v = _.next()).done; ) l = v.value, c = g + o(l, S++), 
y += s(l, c, n, r); else for (;!(v = _.next()).done; ) {
var T = v.value;
T && (l = T[1], c = g + i(T[0]) + h + o(l, 0), y += s(l, c, n, r));
}
} else if ("object" === a) {
String(e);
f(!1);
}
}
return y;
}
function l(e, t, n) {
return null == e ? 0 : s(e, "", t, n);
}
var u = (n(98), n(71)), c = n(139), p = n(337), f = n(32), d = (n(40), c.SEPARATOR), h = ":", y = {
"=": "=0",
".": "=1",
":": "=2"
}, g = /[=.:]/g;
e.exports = l;
}, function(e, t, n) {
"use strict";
var r = (n(38), n(86)), o = (n(40), r);
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
c("Emblems.getEquippedEmblem", {
personaId: e,
platform: SpartaGlobals.bundlePlatform.toLowerCase()
}).then(function(e) {
return s.emblemState.setEquippedEmblem(e);
})["catch"](function() {
return console.warn("Error fetching equipped emblem");
});
}
function o() {
var e = u.onlineState.sessionUser;
e && e.spartaUserId.personaId && p(e.spartaUserId.personaId);
}
function a(e) {
c("Petition.reportEquippedEmblem", {
personaId: e
}).then(function(e) {
e || console.warn("Error reporting the equipped emblem, reporting failed");
})["catch"](function() {
return console.warn("Error reporting the equipped emblem");
});
}
function i(e) {
c("Emblems.getEquippedEmblem", {
personaId: e,
platform: SpartaGlobals.bundlePlatform.toLowerCase()
}).then(function(t) {
return s.emblemState.addEmblemForPersona(e, t);
})["catch"](function() {
s.emblemState.addEmblemForPersona(e), console.warn("Error fetching equipped emblem");
});
}
var s = n(202), l = n(5), u = n(8), c = n(24).request, p = l.debounce(r, 3e4, !0);
t.refreshEquippedEmblem = o, t.reportEquippedEmblem = a, t.requestEmblemForPersona = i;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = function() {
function e(e, t) {
this.name = e, this.amount = 0, this.amount = t;
}
return e.prototype.updateAmount = function(e) {
this.amount = e;
}, e;
}();
r([ o.observable ], a.prototype, "amount", void 0), r([ o.action ], a.prototype, "updateAmount", null), 
t.GameWalletConsumable = a;
var i = function() {
function e(e) {
this.game = e, this.consumables = {};
}
return e.prototype.getValueOf = function(e) {
return this.consumables[e] ? this.consumables[e].amount : 0;
}, e.prototype.updateData = function(e) {
var t = this;
Object.keys(e).forEach(function(n) {
t.consumables[n] ? t.consumables[n].updateAmount(e[n]) : t.consumables[n] = new a(n, e[n]);
});
}, e;
}();
r([ o.observable ], i.prototype, "consumables", void 0), r([ o.action ], i.prototype, "updateData", null), 
t.GameWallet = i;
var s = function() {
function e() {
this.wallets = {};
}
return e.prototype.getWallet = function(e) {
return this.wallets[e] || (this.wallets[e] = new i(e)), this.wallets[e];
}, e.prototype.updateWallet = function(e, t) {
this.wallets[e] || (this.wallets[e] = new i(e)), this.wallets[e].updateData(t);
}, e;
}();
r([ o.action ], s.prototype, "updateWallet", null), t.WalletStore = s, t.walletStore = new s();
}, function(e, t) {
"use strict";
var n = function() {
function e(e) {
void 0 === e && (e = {}), this.images = {};
for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
}
return e;
}();
t.Accessory = n;
}, function(e, t, n) {
"use strict";
var r = n(100), o = n(541), a = n(141), i = function() {
function e(e) {
var t = this;
this.code = e.code, this.progression = new r.Progression(e.progression), this.unlockType = e.unlockType, 
this.criterias = e.criterias.map(function(e) {
return e.code && (e.progression = a.adjustTimeBasedProgression(e.code, e.progression)), 
(t.progression.unlocked || e.progression.unlocked) && (e.progression.valueAcquired = e.progression.valueNeeded, 
e.progression.unlocked = !0), new o.AwardCriteria(e);
});
}
return e.prototype.getCriteriaProgression = function() {
var e = 0, t = 0;
return this.criterias ? (this.criterias.forEach(function(n) {
n.progression && (e += n.progression.acquired, t += n.progression.needed);
}), new r.Progression({
needed: t,
acquired: e
})) : new r.Progression({
needed: t,
acquired: e
});
}, e;
}();
t.Unlock = i;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = n(100), r = function() {
function t(e) {
void 0 === e && (e = {}), this.images = {}, this.hires = {}, this.unlockRequirements = [];
for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
}
return t.prototype.getUnlockProgression = function() {
if (!this.unlockRequirements || !this.unlockRequirements.length) return null;
var t = 0, n = 0;
return this.unlockRequirements.forEach(function(e) {
if (e.criterias.length) {
var r = e.getCriteriaProgression();
r.needed > 0 && (t += r.needed, n += r.acquired);
}
}), 0 !== t ? new e.Progression({
needed: t,
acquired: n
}) : null;
}, t.prototype.getProgressionInfo = function() {
if (!this.unlockRequirements || !this.unlockRequirements.length) return null;
var e = this.getUnlockProgression() || this.progression, t = "", n = "", r = !1;
return this.unlockRequirements.forEach(function(o) {
if ("" === t) if ("Rank" === o.unlockType) t = "rank", n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_RANK").split("[[rank]]").join(e.needed + ""); else if ("Consumable" === o.unlockType) t = "battlepack", 
n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_BATTLEPACK"), "ct_dlSHTR" === o.code && (t = "phantom", 
n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_PHANTOM")); else if ("U_ACB-90" === o.code) t = "veteran_bf3", 
n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_VETERAN_BF3"); else if ("bucket" === o.unlockType.toLowerCase()) switch (o.code) {
case "sc_recon":
t = "recon", n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_RECON");
break;

case "sc_support":
t = "support", n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_SUPPORT");
break;

case "sc_engineer":
t = "engineer", n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_ENGINEER");
break;

case "sc_assault":
t = "assault", n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_ASSAULT");
} else "award" === o.unlockType.toLowerCase() && o.criterias.length && null !== o.criterias[0].awardName && (t = "assignment", 
r = !0, n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_COMPLETE").replace("[[item]]", o.criterias[0].awardName.toUpperCase()));
}), "" === t ? null : (n = n.toUpperCase(), {
type: t,
label: n,
showUnlockTitle: r
});
}, t;
}();
t.Weapon = r;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
function r(e) {
var t = c.find(e, function(e) {
return "card" === e.type;
});
return t ? t.url : (t = c.find(e, function(e) {
return "offer" === e.type;
}), t ? t.url : (t = c.find(e, function(e) {
return "boxart" === e.type;
}), t ? t.url : null));
}
function o(e) {
c.each(e.gameIds, function(e) {
l.setOffers(e, [], !0, !0, !1);
});
var t = !!e.gameIds && e.gameIds.length > 0 && e.gameIds || [];
0 === t.length && (t = c.keys(s.gameStore.games.toJS())), t.push("access");
var n = "Store.getOffers";
return SpartaGlobals.bundleIsXBOXONE && (n = "Store.getOffersWithGeoIp"), i.firstPartyRequest(n, {
games: t,
locale: d.getState().commerceLocale || d.getState().locale || "en-us".toLowerCase()
});
}
var a = n(3), i = n(24), s = n(8), l = n(49), u = n(15), c = n(5), p = n(21), f = n(41), d = n(19), h = n(410), y = n(415).stripHTML, g = u.createAction();
t.OfferClient = p.createClient({
requestOn: [ g ],
gameIds: [],
initialize: function() {
l.updateOffers.listen(function(e) {
if (SpartaGlobals.bundleIsPS4) {
var t = a.frostbite.registerMessageListener("sparta.orbis.isStoreAvailableResponse", function(n, r) {
g({
available: r.available,
gameIds: e
}), t();
});
a.frostbite.sendMessage("sparta.orbis.isStoreAvailable");
} else g({
available: !0,
gameIds: e
});
});
},
shouldPerformRequest: function() {
return f.getState().isReady();
},
onRequestError: function(e, t) {
c.each(t.gameIds, function(e) {
l.setOffers(e, [], !1, !1, !0);
});
},
request: function(e) {
return c.each(e.gameIds, function(e) {
l.setOffers(e, [], !0, !0, !1);
}), e.available === !1 ? new Promise(function(t) {
t({
gameIds: e.gameIds,
unavailable: !0
});
}) : o(e);
},
parse: function(e) {
var t = {
offers: {},
available: !1,
gameIds: []
};
return e.unavailable ? (t.gameIds = e.gameIds, t) : (t.available = !0, t.offers = c.object(c.map(e.feeds, function(e) {
return t.gameIds.push(e.game), [ e.game, c.map(e.offers, function(t) {
return new h({
id: t.ownership.id,
group: t.ownership.group,
gameId: e.game,
displayName: t.displayName,
price: t.price,
listPrice: t.listPrice,
productId: t.productId,
offerId: t.offerId,
data: t.data,
owned: t.ownership.owned,
type: t.ownership.type.name.toLowerCase(),
licenses: t.meta && t.meta.licenses,
description: {
shortDesc: t.description.shortDesc,
longDesc: y(t.description.longDesc)
},
backgroundUrl: r(t.images),
pinData: t.pinData
});
}) ];
})), t);
},
update: function(e) {
var t = e.offers, n = e.available, r = e.gameIds;
c.each(r, function(e) {
l.setOffers(e, t[e], n, !1, !1);
});
}
});
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(3), a = n(9), i = n(53), s = n(61), l = n(183), u = a.observable({
gameViewVisible: !1,
contentVisible: !1,
popupVisible: !1,
mainMenuVisible: !1,
comCenterVisible: !1
});
i.listen(a.action("storeIconState.gameViewVisible", function(e) {
u.gameViewVisible = e.isVisible;
})), s.listen(a.action("storeIconState.contentViewVisible", function(e) {
u.contentVisible = e.content && !e.mainMenu && !e.comCenter, u.mainMenuVisible = e.mainMenu, 
u.comCenterVisible = e.comCenter;
})), l.listen(a.action("storeIconState.contentViewVisible", function(e) {
u.popupVisible = Object.keys(e).length > 0;
}));
var c = function() {
function e() {
var e = this;
this.popup = new p(function() {
return u.contentVisible && u.popupVisible;
}), this.content = new p(function() {
return u.contentVisible && !u.gameViewVisible && !u.mainMenuVisible && !u.popupVisible;
}), this.isPurchaseActive = !1, a.reaction(function() {
return e.showPrice;
}, function(e) {
return o.frostbite.sendMessage(e ? "sparta.orbis.showStoreIcon" : "sparta.orbis.hideStoreIcon");
}, !0);
}
return Object.defineProperty(e.prototype, "showPrice", {
get: function() {
return !this.isPurchaseActive && (this.content.visibility || this.popup.visibility);
},
enumerable: !0,
configurable: !0
}), e.prototype.setPurchaseActive = function(e) {
this.isPurchaseActive = e;
}, e;
}();
r([ a.observable ], c.prototype, "isPurchaseActive", void 0), r([ a.computed ], c.prototype, "showPrice", null), 
r([ a.action ], c.prototype, "setPurchaseActive", null);
var p = function() {
function e(e) {
this.visibilityCheck = e, this.numPricesMounted = 0;
}
return Object.defineProperty(e.prototype, "visibility", {
get: function() {
return this.numPricesMounted > 0 && this.visibilityCheck();
},
enumerable: !0,
configurable: !0
}), e.prototype.add = function() {
++this.numPricesMounted;
}, e.prototype.remove = function() {
--this.numPricesMounted;
}, e;
}();
r([ a.observable ], p.prototype, "numPricesMounted", void 0), r([ a.computed ], p.prototype, "visibility", null), 
r([ a.action ], p.prototype, "add", null), r([ a.action ], p.prototype, "remove", null), 
t.AreaState = p, t.ps4StoreIconStore = new c();
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
var t = b.first(e).setting.value;
return t.capacity > 0 ? y.PingSiteLabelByAlias(t.alias) : __("ID_SPARTA_COMMERCE_RSP_NO_CAPACITY");
}
function r(e, t) {
void 0 === t && (t = __("ID_SPARTA_COMMERCE_RSP_DESC_ALL"));
var n = e.filter(function(e) {
return e.setting.value != e.defaultSetting.value;
});
if (0 === n.length) return t;
var r = n.filter(function(e) {
return e.setting.value;
}), o = n.filter(function(e) {
return !e.setting.value;
});
if (o.length === e.length) return __("ID_SPARTA_COMMERCE_RSP_DESC_NONE");
if (r.length === e.length) return t;
var a = null, i = null;
return r.length && (a = r[0].label + (r.length > 1 ? " +" + (r.length - 1) : "")), 
o.length && (i = __("ID_SPARTA_COMMERCE_RSP_DESC_NO") + " " + o[0].label + (o.length > 1 ? " +" + (o.length - 1) : "")), 
b.compact([ a, i ]).join(", ");
}
function o(e) {
var t = e.filter(function(e) {
return e.setting.value != e.defaultSetting.value;
});
if (0 === t.length) return "";
var n = t[0].label + " " + t[0].value;
return n + (t.length > 1 ? " +" + (t.length - 1) : "");
}
var a = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, i = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, s = n(165), l = n(1), u = n(235), c = n(8), p = n(3), f = n(33), d = n(143), h = n(249), y = n(547), g = n(549), m = n(115), b = n(5), v = n(137), _ = n(27), S = n(6), T = n(59), w = n(22), E = n(108).UGCAccessStore, I = n(92), C = n(18), A = n(77), P = n(60), O = n(79), R = n(275), k = function() {
function e(e, t, n, r) {
this.ping = e, this.alias = t, this.capacity = n, this.ip = r;
}
return e;
}();
t.RichPingSite = k;
var x = function() {
function e(e, t, n, r, o, a) {
void 0 === t && (t = 100), void 0 === n && (n = "CUSTOM"), void 0 === r && (r = "1"), 
void 0 === o && (o = "0"), void 0 === a && (a = "0"), this.maps = e, this.rotationType = n, 
this.mod = r, this.name = o, this.description = a, this.id = (t > 100 ? t : 100).toString();
}
return e;
}();
t.MapRotation = x;
var M = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.rightFocusGroup = p.focus.createGroup("settingsRight"), n.rightFocusGroup.behavior = p.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | p.focus.GroupBehavior.VERTICAL | p.focus.GroupBehavior.WRAP_AROUND, 
n.leftFocusGroup = p.focus.createGroup("categoryLeft"), n.leftFocusGroup.behavior = p.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | p.focus.GroupBehavior.VERTICAL, 
n.leftFocusGroup.handleDirection(p.focus.Direction.Right, m.handleIfNotTheSameGroup(n.leftFocusGroup, function(e, t) {
return n.rightFocusGroup.navigateToGroup(e, t);
})), n.saveButtonFocusGroup = p.focus.createGroup("saveButton"), n.leftFocusGroup.handleDirection(p.focus.Direction.Down, m.handleIfNotTheSameGroup(n.leftFocusGroup, function(e, t) {
return n.saveButtonFocusGroup.navigateToGroup(e, t);
})), n.saveButtonFocusGroup.handleDirection(p.focus.Direction.Up, m.handleIfNotTheSameGroup(n.saveButtonFocusGroup, function(e, t) {
return n.leftFocusGroup.navigateToGroup(e, t);
})), n.state = {
isLoading: !0,
isAvailable: !0,
isSaving: !1,
activeCategory: void 0
}, n.load().then(function() {
n.buildConfig(), n.onLoadingComplete();
})["catch"](function(e) {
console.error(e), n.setState({
isLoading: !1,
isAvailable: !1
});
}), n.focusAncestor = p.focus.createAncestor("rentedserverform"), n;
}
return a(n, t), n.prototype.onCategoryItemFocused = function(e) {
this.setState({
activeCategory: e
});
}, n.prototype.getCategoryItems = function() {
var e = this;
return this.config && this.config.groups ? this.config.groups.map(function(t) {
return l.createElement(p.Focusable, {
debugName: "categories",
key: t.id,
group: e.leftFocusGroup,
onFocus: function() {
p.focus.system.controllerMode && e.onCategoryItemFocused(t);
}
}, function(n) {
return l.createElement(v, {
focusItem: n,
id: t.id,
key: t.id,
label: t.label,
scrollLabel: !0,
subLabel: function() {
return t.value;
},
isActive: e.state.activeCategory && e.state.activeCategory.id === t.id,
item: t,
onTrigger: function() {
e.setState({
activeCategory: t
});
}
});
});
}) : [];
}, n.prototype.buildBaseSettingsConfig = function(e) {
e = e || {};
var t = c.onlineState.sessionUser, n = __("ID_SPARTA_COMMERCE_RSP_CONFIG_NAME_DEFAULT");
if (t) {
var r = t.name, o = __("ID_SPARTA_COMMERCE_RSP_CONFIG_NAME_DEFAULT_PERSONAL");
n = o.replace("[[username]]", r);
}
var a = new h.TextOption("name", __("ID_SPARTA_COMMERCE_RSP_CONFIG_NAME"), e.name || n, 64), i = new h.TextOption("password", __("ID_SPARTA_COMMERCE_RSP_CONFIG_PASSWORD"), e.password || "", 8), s = new h.TextOption("bannerUrl", __("ID_SPARTA_COMMERCE_RSP_CONFIG_BANNER"), e.bannerUrl || "", 250), l = new h.TextOption("description", __("ID_SPARTA_COMMERCE_RSP_CONFIG_DESCRIPTION"), e.description || "", 250), u = new h.TextOption("message", __("ID_SPARTA_COMMERCE_RSP_CONFIG_MESSAGE"), e.message || "", 250);
return E.getState().hasAccess() || (a.disable(), l.hide(), u.hide()), s.hide(), 
i.hide(), new h.ConfigGroup("details", __("ID_SPARTA_COMMERCE_RSP_CONFIG_DETAILS"), [ a, l, u, i, s ], y.TextConfigurator, function(e) {
return e[0].value;
});
}, n.prototype.buildMapRotationConfig = function(e) {
var t = this.rspSettings.gameModes, n = this.rspSettings.defaultGameMode, r = this.rspSettings.maps, o = this.rspSettings.defaultMap, a = {
gameMode: n,
map: o
}, i = e ? b.map(e, function(e) {
var n = b.find(t, function(t) {
return t.id === e.gameMode;
}), o = b.find(r, function(t) {
return t.id === e.mapName;
});
return {
gameMode: n,
map: o
};
}) : void 0;
return new h.ConfigGroup("mapRotation", __("ID_SPARTA_COMMERCE_RSP_CONFIG_MAPSMODES"), [ new h.MapRotationOption("mapRotation", r, t, a, i) ], y.MapRotationConfigurator, function(e) {
var t = e[0].entries;
return 1 === t.length ? t[0].map.label : "" + t.length;
});
}, n.prototype.buildWeaponClassesConfig = function(e) {
e = e || {};
var t = this.rspSettings.weapons.map(function(t) {
var n = t.filterKey, r = t.prettyName, o = t.description, a = t.defaultValue, i = "undefined" != typeof e[n] ? h.BooleanOption.fromSetting(e[n]) : a;
return new h.BooleanOption(n, r, o, 1 == a, 1 == i);
});
return new h.ConfigGroup("weaponClasses", __("ID_SPARTA_COMMERCE_RSP_CONFIG_WEAPONS"), t, y.WeaponsConfigurator, r);
}, n.prototype.buildKitsConfig = function(e) {
e = e || {};
var t = this.rspSettings.kits.map(function(t) {
var n = t.filterKey, r = t.prettyName, o = t.description, a = t.defaultValue, i = "undefined" != typeof e[n] ? h.BooleanOption.fromSetting(e[n]) : a;
return new h.BooleanOption(n, r, o, 1 == a, 1 == i);
});
return new h.ConfigGroup("kits", __("ID_SPARTA_COMMERCE_RSP_CONFIG_KITS"), t, y.KitsConfigurator, r);
}, n.prototype.buildVehiclesConfig = function(e) {
e = e || {};
var t = this.rspSettings.vehicles.map(function(t) {
var n = t.filterKey, r = t.prettyName, o = t.description, a = t.defaultValue, i = "undefined" != typeof e[n] ? h.BooleanOption.fromSetting(e[n]) : a;
return new h.BooleanOption(n, r, o, 1 == a, 1 == i);
});
return new h.ConfigGroup("vehicles", __("ID_SPARTA_COMMERCE_RSP_CONFIG_VEHICLES"), t, y.CheckmarkConfigurator, r);
}, n.prototype.buildMiscConfig = function(e) {
e = e || {};
var t = this.rspSettings.misc.map(function(t) {
var n = t.filterKey, r = t.prettyName, o = t.description, a = t.defaultValue, i = "undefined" != typeof e[n] ? h.BooleanOption.fromSetting(e[n]) : a;
return new h.BooleanOption(n, r, o, 1 == a, 1 == i);
});
return new h.ConfigGroup("misc", __("ID_SPARTA_COMMERCE_RSP_CONFIG_MISC"), t, y.BooleanConfigurator, function(e) {
return r(e, "");
});
}, n.prototype.buildScalesConfig = function(e) {
e = e || {};
var t = this.rspSettings.scales.map(function(t) {
var n = t.filterKey, r = t.prettyName, o = t.description, a = t.defaultOption, i = t.options;
if (Object.keys(i).length) {
var s = b.map(i, function(e, t) {
return new h.Setting(t, e);
}), l = b.find(s, function(e) {
return e.key === a;
}), u = b.find(s, function(t) {
return "undefined" != typeof e[t.key] && h.BooleanOption.fromSetting(e[t.key]);
});
return new h.Option(n, r, o, s, l, u || l, function(e) {
return 100 * e.value + "%";
});
}
});
return new h.ConfigGroup("scales", __("ID_SPARTA_COMMERCE_RSP_CONFIG_RULES"), b.compact(t), y.SettingsConfigurator, o);
}, n.prototype.buildPingSiteConfig = function(t) {
var n = this.rspSettings.pingSites, r = this.rspSettings.defaultPingSite;
return new h.ConfigGroup("pingSiteAlias", __("ID_SPARTA_COMMERCE_RSP_CONFIG_REGION"), [ new h.ObjectOption("pingSiteAlias", __("ID_SPARTA_COMMERCE_RSP_CONFIG_REGION"), "", n, r, t ? t : r) ], y.PingSiteConfigurator, e);
}, n.prototype.buildRentalPeriodConfig = function(e) {
var t = this.rspSettings.offers;
return new h.ConfigGroup("days", __("ID_SPARTA_COMMERCE_RSP_CONFIG_RENTALPERIOD"), [ new h.ObjectOption("days", __("ID_SPARTA_COMMERCE_RSP_CONFIG_RENTALPERIOD"), "", t, b.first(t), e ? e : b.first(t)) ], y.DaysConfigurator, function(e) {
var t = b.first(e).setting.value.days, n = __(1 === t ? "ID_SPARTA_COMMERCE_RSP_DAYSTOLIVE_SINGULAR" : "ID_SPARTA_COMMERCE_RSP_DAYSTOLIVE_PLURAL");
return n.replace("[[daysToLive]]", t);
});
}, n.prototype.internalSave = function() {
var e = this, t = {}, n = {};
this.config.getGroup("details") && (t = b.reduce(this.config.getGroup("details").items, function(e, t) {
return e = b.extend({}, e, t.toSetting());
}, {})), this.config.getGroup("mapRotation") && (n = this.config.getOption("mapRotation").toSetting());
var r = [ "weaponClasses", "kits", "vehicles", "misc", "scales" ], o = b.reduce(r, function(t, n) {
var r = e.config.getGroup(n);
return r && (t[r.id] = b.reduce(r.items, function(e, t) {
return e = b.extend({}, e, t.toSetting());
}, {})), t;
}, {});
this.setState({
isSaving: !0
}), this.save(t, n, o);
}, n.prototype.isSavingEnabled = function() {
if (!this.config) return !1;
var e = !0, t = this.config.getOption("pingSiteAlias");
return t && (e = t.setting.value.capacity > 0), e;
}, n.prototype.hideLoadingStatus = function() {
this.setState({
isSaving: !1,
isLoading: !1
});
}, n.prototype.render = function() {
var e = this, t = S.getHeight(SpartaGlobals.bundleIsPC ? 80 : 60), n = S.getHeight(SpartaGlobals.bundleIsPC ? 0 : 4);
return l.createElement(R, {
available: this.state.isAvailable,
loading: this.state.isLoading || this.state.isSaving
}, l.createElement(_, {
tallContent: !0,
scrollContent: !1
}, l.createElement(S.Row, {
surfaceProps: this.focusAncestor.hooks
}, l.createElement(S.Col, {
width: 6
}, l.createElement(f.Scroller, {
style: {
height: t
}
}, l.createElement(T, {
divider: "item",
items: this.getCategoryItems(),
autoActivateItems: p.focus.system.controllerMode,
showActiveIndicator: !0
})), l.createElement(p.Focusable, {
debugName: "saveButton",
group: this.saveButtonFocusGroup,
groupIndex: 0
}, function(t) {
return l.createElement(w, {
text: e.getSaveButtonText(),
focusItem: t,
style: {
marginTop: n
},
disabled: !e.isSavingEnabled(),
action: function() {
return e.internalSave();
}
});
})), l.createElement(S.Col, {
style: {
margin: [ 0, 2 * S.GUTTER, 0, S.CELL_WIDTH ]
}
}, l.createElement("surface", {
style: {
height: t,
marginBottom: n
}
}, l.createElement(y.CategoryConfigurator, {
ref: "categoryConfigurator",
focusGroup: this.rightFocusGroup,
config: this.config,
category: this.state.activeCategory
})), this.renderPurchaseInfo()))));
}, n;
}(l.Component), N = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.load = function() {
var e = this, t = this.props.viewLocation.args.gameId, n = this.props.viewLocation.args.serverId, r = c.gameStore.getGame(t).rspConfig, o = O.getState()[t];
return Promise.all([ s.fetchRSPTemplate(t), s.fetchServerDetails(t, n), s.fetchServer(t, n) ]).then(function(n) {
var a = n[0], i = n[1], s = n[2];
e.rspSettings = new g.RSPSettings(t, s, o, a, r), e.serverDetails = i;
});
}, t.prototype.onLoadingComplete = function() {
var e = this.serverDetails && this.rspSettings.hasTemplate && this.rspSettings.hasServer;
this.setState({
isLoading: !1,
isAvailable: !!e
});
}, t.prototype.buildConfig = function() {
var e = this.serverDetails.serverSettings, t = b.find(this.serverDetails.mapRotations, function(t) {
return t.mapRotationId === e.mapRotationId;
});
this.config = new h.RSPConfig(this.rspSettings, b.compact([ this.buildBaseSettingsConfig(e), this.buildMapRotationConfig(t ? t.maps : null), this.buildWeaponClassesConfig(e.customGameSettings.weaponClasses), this.buildKitsConfig(e.customGameSettings.kits), this.buildVehiclesConfig(e.customGameSettings.vehicles), this.buildMiscConfig(e.customGameSettings.misc), this.buildScalesConfig(e.customGameSettings.scales) ]));
}, t.prototype.getSaveButtonText = function() {
return __("ID_SPARTA_COMMERCE_RSP_RENTED_SAVE_BUTTON");
}, t.prototype.renderPurchaseInfo = function() {
return l.createElement("surface", null);
}, t.prototype.save = function(e, t, n) {
var r = this, o = this.props.viewLocation.args.gameId, a = this.props.viewLocation.args.serverId, i = this.serverDetails.serverSettings.mapRotationId, l = new x(t, i), u = s.updateServer(o, a, e, l, n);
u.onSuccess(function() {
var e = c.gameStore.getGame(o);
C.gotoLocation(e.serverListRoute + "?tab=rented");
}), u.onError(function(e) {
console.error(e);
var t = "";
switch (e.code) {
case -32807:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_NAME_PROFANITY_RETRY");
break;

case -32808:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_DESCRIPTION_PROFANITY_RETRY");
break;

case -32809:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_PASSWORD_PROFANITY_RETRY");
break;

case -32810:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_MESSAGE_PROFANITY_RETRY");
break;

default:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_RETRY");
}
r.hideLoadingStatus(), P.spartaErrorMessage(t, __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG"));
});
}, t;
}(M);
t.ConfigureExistingServer = N;
var D = function(e) {
function t(t) {
return e.call(this, t) || this;
}
return a(t, e), t.prototype.load = function() {
var e = this, t = this.props.viewLocation.args.gameId, n = this.props.viewLocation.args.serverId, r = c.gameStore.getGame(t).rspConfig, o = O.getState()[t];
return Promise.all([ s.fetchResumablePurchase(t, "Orphaned"), s.fetchRspOffers(t), s.fetchRSPTemplate(t), s.fetchServerDetails(t, n), s.fetchServer(t, n) ]).then(function(n) {
var a = n[0], i = n[1], s = n[2], l = n[3], u = n[4];
e.rspSettings = new g.RSPSettings(t, u, o, s, r, i, a), e.serverDetails = l;
});
}, t.prototype.onLoadingComplete = function() {
var e = this.rspSettings.hasOffers && this.rspSettings.hasTemplate && this.rspSettings.hasServer && this.serverDetails;
this.setState({
isLoading: !1,
isAvailable: !!e
});
}, t.prototype.buildConfig = function() {
this.config = new h.RSPConfig(this.rspSettings, b.compact([ this.buildRentalPeriodConfig() ]));
}, t.prototype.getSaveButtonText = function() {
return __(this.rspSettings.orphanedPurchase ? "ID_SPARTA_COMMERCE_RSP_RESUME_PURCHASE_SAVE_BUTTON" : "ID_SPARTA_COMMERCE_RSP_RENEW_SAVE_BUTTON");
}, t.prototype.renderPurchaseInfo = function() {
return l.createElement(d.PS4StoreContent, null, l.createElement(y.PurchaseInfo, {
gameId: this.props.viewLocation.args.gameId,
display: [ "resume" ]
}));
}, t.prototype.save = function(e, t, n) {
var r = this, o = this.props.viewLocation.args.gameId, a = this.rspSettings.server.rsp.serverId, i = this.config.getOption("days").setting.value.offer, l = this.rspSettings.server.pingSiteAlias;
s.purchaseServer(a, i, l, this.rspSettings.orphanedPurchase).then(function() {
var e = c.gameStore.getGame(o);
A.trackEvent("RSP", "RenewServer", "Success"), C.gotoLocation(e.serverListRoute + "?tab=rented");
})["catch"](function(e) {
A.trackEvent("RSP", "RenewServer", "Failure"), console.error(e), r.hideLoadingStatus();
});
}, t;
}(M);
D = i([ u.observer ], D), t.RenewExpiredServer = D;
var U = function(e) {
function t(t) {
return e.call(this, t) || this;
}
return a(t, e), t.prototype.load = function() {
var e = this, t = this.props.viewLocation.args.gameId, n = c.gameStore.getGame(t).rspConfig, r = O.getState()[t];
return Promise.all([ s.fetchResumablePurchase(t, "Orphaned"), s.fetchRspOffers(t), s.fetchRspPingSites(t), s.fetchRSPTemplate(t) ]).then(function(o) {
var a = o[0], i = o[1], s = o[2], l = o[3];
e.rspSettings = new g.RSPSettings(t, void 0, r, l, n, i, a, s, I.getState()[t]);
});
}, t.prototype.onLoadingComplete = function() {
var e = this.rspSettings.hasOffers && this.rspSettings.hasPingSites && this.rspSettings.hasTemplate;
this.setState({
isLoading: !1,
isAvailable: e
});
}, t.prototype.buildConfig = function() {
this.config = new h.RSPConfig(this.rspSettings, b.compact([ this.buildBaseSettingsConfig(), this.buildMapRotationConfig(), this.buildWeaponClassesConfig(), this.buildKitsConfig(), this.buildVehiclesConfig(), this.buildMiscConfig(), this.buildScalesConfig(), this.buildPingSiteConfig(), this.buildRentalPeriodConfig() ]));
}, t.prototype.getSaveButtonText = function() {
return __(this.rspSettings.orphanedPurchase ? "ID_SPARTA_COMMERCE_RSP_RESUME_PURCHASE_SAVE_BUTTON" : "ID_SPARTA_COMMERCE_RSP_PURCHASE_SAVE_BUTTON");
}, t.prototype.renderPurchaseInfo = function() {
return l.createElement(d.PS4StoreContent, null, l.createElement(y.PurchaseInfo, {
gameId: this.props.viewLocation.args.gameId,
display: [ "resume", "servers" ]
}));
}, t.prototype.save = function(e, t, n) {
var r = this, o = this.props.viewLocation.args.gameId, a = 0, i = this.config.getOption("days").setting.value.offer, l = this.config.getOption("pingSiteAlias").setting.value.alias;
s.purchaseServer(a, i, l, this.rspSettings.orphanedPurchase).then(function(r) {
var a = c.gameStore.getGame(o);
A.trackEvent("RSP", "PurchaseServer", "Success");
var i = new x(t), l = s.updateServer(o, r, e, i, n);
l.onSuccess(function() {
C.gotoLocation(a.serverListRoute + "?tab=rented");
}), l.onError(function(e) {
console.error(e);
var t = "";
switch (e.code) {
case -32807:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_NAME_PROFANITY_RETRY");
break;

case -32808:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_DESCRIPTION_PROFANITY_RETRY");
break;

case -32809:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_PASSWORD_PROFANITY_RETRY");
break;

case -32810:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_MESSAGE_PROFANITY_RETRY");
break;

default:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_RETRY");
}
P.spartaErrorMessage(t, __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG")), C.gotoLocation(a.serverListRoute + "?tab=rented");
});
})["catch"](function(e) {
A.trackEvent("RSP", "PurchaseServer", "Failure"), console.error(e), r.hideLoadingStatus();
});
}, t;
}(M);
U = i([ u.observer ], U), t.PurchaseNewServer = U;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, o = n(1), a = n(3), i = n(8), s = n(6), l = n(7).Text, u = n(174), c = n(33), p = n(17), f = n(59), d = n(49), h = n(22), y = n(37).LINE_HEIGHTS, g = n(271), m = n(18), b = n(130), v = n(143), _ = (SpartaGlobals.bundleIsPC, 
"S"), S = "/store/access/common-questions", T = "/store/access/join-buy", w = n(117), E = {
leftCol: {
width: s.getWidth(1),
paddingRight: s.getWidth(1)
},
mainCol: {
width: s.getWidth(1),
flexWrap: SpartaGlobals.bundleIsPC ? "wrap" : "nowrap",
height: p.content.height
},
rightCol: {
width: s.getWidth(1),
flexWrap: SpartaGlobals.bundleIsPC ? "wrap" : "nowrap",
height: p.content.height
},
gameLogo: {
textureMode: "contain",
textureAlign: [ 0, 0 ],
width: s.getWidth(4),
height: s.getHeight(8),
marginBottom: 3 * s.GUTTER
},
offerDescription: {
textLineSpacing: Math.round(1.2 * y[_])
},
offerImage: {
textureMode: "contain",
width: s.getWidth(6),
height: s.getWidth(9),
textureAlign: [ 0, 0 ]
},
centered: {
flex: 1,
alignItems: "center",
justifyContent: "center",
flexDirection: "row",
width: p.content.width,
height: p.content.height - s.getHeight(10)
},
buttonContainer: {
margin: [ 0, 0, 20, 0 ]
},
bottomSpacer: {
margin: [ 0, 0, 20, 0 ]
},
labelOr: {
margin: [ 0, 0, 20, 0 ],
flexDirection: "row"
},
labelOrHandleBars: {
opacity: .3,
backgroundColor: "#FFFFFF",
flex: 1,
height: 1,
margin: [ 9, 0, 0, 0 ]
},
labelOrHandleBarLeft: {
marginRight: 10
},
labelOrHandleBarRight: {
marginLeft: 10
},
linkText: {
color: "#2bcff7"
}
}, I = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.joinAndBuy = !1, n.state = {
selectedOfferIndex: 0
}, n.focusAncestor = a.focus.createAncestor("gameoffer"), n.copy = w.getCopyPage("pdp"), 
n.baseRoute = i.gameStore.getGame(n.props.gameId).startRoute, n;
}
return e(n, t), n.prototype.getMenuItems = function() {
var e = this, t = this.props.offers.map(function(t, n) {
return {
id: n,
label: t.displayName.replace("", ""),
showActiveIndicator: !0,
onClick: function() {
e.refs.list.setActive(n), e.setState({
selectedOfferIndex: n
});
},
onTrigger: function() {
e.refs.list.setActive(n), e.setState({
selectedOfferIndex: n
});
}
};
});
return t;
}, n.prototype.getNotification = function() {
var e = w.getProperty(this.copy, "subscribeAndSave.notification") || "";
return "" === e ? null : SpartaGlobals.bundleIsPC ? o.createElement(l, {
value: e,
style: E.bottomSpacer,
size: "XS"
}) : SpartaGlobals.bundleIsXBOXONE ? o.createElement(l, {
value: e,
style: E.bottomSpacer,
size: "XS"
}) : void 0;
}, n.prototype.getAccessInfo = function() {
var e = w.getProperty(this.copy, "subscribeAndSave.accessInfo") || "";
if ("" === e) return null;
var t = b.getAccessOffers();
return 0 === t.length ? null : (e = e.replace("%PRICE%", t[0].price), SpartaGlobals.bundleIsPC ? o.createElement(l, {
value: e,
size: "XS"
}) : SpartaGlobals.bundleIsXBOXONE ? o.createElement(l, {
value: e,
style: E.bottomSpacer,
size: "XS"
}) : void 0);
}, n.prototype.getAccessLink = function() {
var e = w.getProperty(this.copy, "subscribeAndSave.accessLinkLabel") || "";
if ("" === e) return null;
var t = this.baseRoute + S;
return SpartaGlobals.bundleIsPC ? o.createElement(l, {
value: e,
style: [ E.bottomSpacer, E.linkText ],
size: "XXS",
onClick: function() {
m.gotoLocation(t);
}
}) : SpartaGlobals.bundleIsXBOXONE ? o.createElement(l, {
value: e,
style: E.bottomSpacer,
size: "XS"
}) : void 0;
}, n.prototype.getJoinAndBuyButton = function(e) {
var t = i.gameStore.getGame(this.props.gameId).subscriberAccessFeatureFlagName, n = i.gameStore.getGame(this.props.gameId).subscriberAccessPdpFeatureFlagName;
if (i.settingsStore.isFeatureEnabled(t) && i.settingsStore.isFeatureEnabled(n) && !g.state && !this.ownsGame(e)) {
this.joinAndBuy = !0;
var r = this.props.refCb || function() {}, a = w.getProperty(this.copy, "subscribeAndSave.ctaLabel") || "", s = w.getProperty(this.copy, "subscribeAndSave.dividerLabel") || "";
return o.createElement("surface", null, this.getNotification(), o.createElement("surface", {
style: E.buttonContainer
}, o.createElement(h, {
ref: r,
stealFocus: !0,
text: a,
textSize: "S",
action: this.joinAndBuyGame.bind(this, e)
})), this.getAccessInfo(), this.getAccessLink(), o.createElement("surface", {
style: [ E.labelOr, this.props.style ]
}, o.createElement("surface", {
style: [ E.labelOrHandleBars, E.labelOrHandleBarLeft ]
}), o.createElement(l, {
value: s,
size: "XS"
}), o.createElement("surface", {
style: [ E.labelOrHandleBars, E.labelOrHandleBarRight ]
})));
}
return null;
}, n.prototype.getBuyButton = function(e, t) {
var n = this.props.refCb || function() {};
if (this.ownsGame(e) && !t) return o.createElement(h, {
ref: n,
disabled: !0,
text: __("ID_SPARTA_COMMERCE_OFFER_OWNED"),
textSize: "M"
});
var r = this.ownsGame(e) ? __("ID_SPARTA_COMMERCE_OFFER_GAME_INSTALLATION").toUpperCase() : __("ID_SPARTA_COMMERCE_OFFER_GAME_BUY").toUpperCase() + " " + e.price;
return this.joinAndBuy === !0 ? o.createElement(h, {
ref: n,
text: r,
textSize: "S",
action: this.buyGame.bind(this, e)
}) : o.createElement(h, {
ref: n,
stealFocus: !0,
text: r,
textSize: "S",
action: this.buyGame.bind(this, e)
});
}, n.prototype.showOriginalPrice = function(e) {
return o.createElement("surface", {
style: {
flexDirection: "row",
marginTop: s.GUTTER,
opacity: 2 / 3
}
}, o.createElement(l, {
size: "XS",
value: __("ID_SPARTA_COMMERCE_OFFER_ORIGINAL_PRICE"),
style: {
marginRight: 10
}
}), o.createElement(v.PS4StoreContent, null, o.createElement(u.Strikethrough, {
value: e,
size: "XS"
})));
}, n.prototype.ownsGame = function(e) {
return e.owned || this.props.owned;
}, n.prototype.buyGame = function(e) {
d.checkout(e);
}, n.prototype.joinAndBuyGame = function(e) {
m.gotoLocation(this.baseRoute + T);
}, n.prototype.render = function() {
var e, t = this.props.offers || [], n = t[this.state.selectedOfferIndex] || null;
this.props.gameId && (e = {
texture: i.gameStore.getGame(this.props.gameId).logoUrl
});
var a = n.backgroundUrl ? n.backgroundUrl : n.images && n.images.length > 0 && n.images[0] || null, u = this.getMenuItems(), d = SpartaGlobals.bundleIsPC ? 85 : 52, h = s.getHeight(d - 7 * (u.length - 1)), y = s.getWidth(11) + 2 * s.GUTTER + 3;
return o.createElement(s.Row, {
surfaceProps: this.focusAncestor.hooks
}, o.createElement(s.Col, {
width: 6
}, o.createElement("surface", {
style: r({}, E.offerImage, {
texture: a
})
})), o.createElement(s.Col, {
width: 1
}), o.createElement(s.Col, {
width: 11.5
}, this.props.gameId ? o.createElement("surface", {
style: r({}, E.gameLogo, e)
}) : null, o.createElement(f, {
items: u,
ref: "list",
divider: "item",
activeItemId: 0,
forgetItemFocus: !1
}), o.createElement("surface", {
style: {
marginTop: 2 * s.GUTTER
}
}, o.createElement(c.Scroller, {
ref: "scroller",
key: n.id,
style: {
height: h,
width: y
},
controller: !0,
softClip: [ 0, s.getHeight(2), 0, s.getHeight(2) ]
}, o.createElement(l, {
style: E.offerDescription,
size: _,
value: n.description.longDesc
})))), o.createElement(s.Col, {
width: 1
}), o.createElement(s.Col, {
width: 5,
style: {
height: p.content.height
}
}, o.createElement(v.PS4StoreContent, null, o.createElement("surface", null, this.getJoinAndBuyButton(n), this.getBuyButton(n, this.props.isInstallable), null !== n.listPrice || n.owned ? this.showOriginalPrice(n.listPrice || n.price) : null))));
}, n;
}(o.Component);
I.defaultProps = {
isPremium: !1,
useImage: !1,
width: s.getWidth(11.4),
isInstallable: !0
}, t.GameOffer = I;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(351), i = n(130), s = n(27), l = n(18), u = n(64), c = n(46), p = function(e) {
function t(t) {
var n = e.call(this, t) || this, r = t.viewLocation.args, o = r.gameId, a = r.offerId;
return n.gameId = o, n.offer = i.getOfferById(o, a), n.offer || l.goBackInHistory(), 
n;
}
return r(t, e), t.prototype.render = function() {
var e = null;
return e = this.offer && this.gameId ? o.createElement(a.GameOffer, {
offers: [ this.offer ],
owned: this.offer.owned,
gameId: this.gameId,
isInstallable: !1
}) : o.createElement(u, null, o.createElement(c, {
autoRun: !0,
size: 50
})), o.createElement(s, {
tallContent: !0,
scrollContent: !1
}, e);
}, t;
}(o.Component);
t.OfferDetails = p;
}, function(e, t) {
"use strict";
function n(e, t, n) {
var r = t || 256, o = n || "png";
return e.replace(/\[SIZE\]/, r.toString()).replace(/\[FORMAT\]/, o);
}
t.imageUrlFromTemplate = n;
}, function(e, t, n) {
"use strict";
var r = n(5), o = n(8), a = n(415), i = n(700), s = function() {
function e(e, t) {
this.group = "article", this.creationDate = e.creationDate ? new Date(e.creationDate.substr(0, 19)) : new Date(), 
this.featuredImage = e.featuredImage, this.pageTitle = e.pageTitle, this.description = e.description || "", 
this.parsedChunks = e.parsedChunks || [], e.body ? this.body = r.map(e.body.children, function(e) {
var t = e.resourceType.replace("ea/core/contentapi/components/", ""), n = {
type: t
};
return "image" === t ? n.image = e.fileReference : "text" === t && (n.text = a.stripHTML(e.text)), 
n;
}) : this.body = [], this.isFeatured = e.featuredFrom && e.featuredTo && i(e.featuredFrom, e.featuredTo), 
this.game = t ? o.gameStore.getGame(t).displayName : "", this.id = e.slug;
}
return e.prototype.hasRequiredFields = function() {
var e = null !== this.pageTitle, t = this.parsedChunks.length > 0 && !this.parsedChunks[0].hasOwnProperty("warning");
return e && t;
}, e;
}();
t.Article = s, Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = s;
}, function(e, t) {
"use strict";
var n = function() {
function e(e, t, n, r, o) {
this.personaId = e, this.sessionId = t, this.envId = n, this.parameters = r, this.entitlements = o;
}
return e;
}();
t.GatewaySession = n;
}, function(e, t, n) {
"use strict";
function r(e) {
if (f.getState().hostingGameId !== e) return null;
var t = i.gameStore.getGame(e);
if (!t) throw new Error("Could not find Game with gameId '" + e + "'");
return t.gameViewComponent;
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(9), i = n(8), s = n(36), l = n(56), u = n(93), c = n(35), p = n(48), f = n(19), d = function() {
function e() {
this.showNotice = !1, this.gameViewComponent = null, this.gameId = null, this.isRunning = !1;
}
return e.prototype.toggleNotice = function(e) {
this.showNotice = e;
}, e.prototype.start = function(e) {
this.gameId = e, this.gameViewComponent = r(e), this.showNotice = null == this.gameViewComponent, 
this.isRunning = !0;
}, e.prototype.end = function() {
this.gameId = null, this.showNotice = !1, this.isRunning = !1;
}, e;
}();
o([ a.observable ], d.prototype, "showNotice", void 0), o([ a.observable ], d.prototype, "gameViewComponent", void 0), 
o([ a.action ], d.prototype, "toggleNotice", null), o([ a.action ], d.prototype, "start", null), 
o([ a.action ], d.prototype, "end", null), t.joinFlowState = new d(), u.start.listen(function(e) {
t.joinFlowState.start(e.gameId);
}), c.handleJoinReady.listen(function(e) {
var n = e.squad;
t.joinFlowState.isRunning || n || t.joinFlowState.start(e.server.game);
}), c.leftServer.listen(function() {
t.joinFlowState.end();
}), u.removeSession.listen(function() {
t.joinFlowState.end();
}), p.browseWhileWaiting.listen(function(e) {
t.joinFlowState.toggleNotice(e);
}), s.scope("navigationState").listen(function(e) {
e === l.LoadingScreen && t.joinFlowState.end();
});
}, function(e, t, n) {
"use strict";
var r = n(5), o = function() {
function e(e) {
Object.keys(e).forEach(function(t) {
"role" === t ? "spectator" === e[t] ? this.isSpectator = "true" : this.role = e[t] ? e[t] : "soldier" : this[t] = e[t];
}, this), Object.freeze(this);
}
return e.prototype.toString = function() {
var e = r.chain(this).pairs().map(function(e) {
return e[0] + '="' + e[1] + '"';
}).value().join(" ").replace(/\"/g, '\\"');
return "<data " + e + "></data>";
}, e;
}(), a = function() {
function e(e) {
Object.keys(e).forEach(function(t) {
"requestStateParams" === t ? this.requestStateParams = e.requestStateParams instanceof o ? e.requestStateParams : new o(e.requestStateParams) : this[t] = e[t];
}, this), Object.freeze(this);
}
return e.prototype.toString = function() {
var e = [];
return Object.keys(this).forEach(function(t) {
e.push("-" + t);
var n = this[t];
"requestStateParams" === t && n instanceof o && (n = n.toString()), null != n && "" !== n && e.push('"' + n + '"');
}, this), e.join(" ");
}, e;
}();
t.LaunchParams = a;
var i = function() {
function e(e) {
this.gameId = e.gameId, e.params && (this.params = e.params && e.params instanceof a ? e.params : new a(e.params));
}
return e;
}();
t.CrossLaunchOptions = i;
}, function(e, t) {
"use strict";
var n = function() {
function e(e, t, n) {
void 0 === t && (t = "soldier"), this.password = null, this.server = e, this.role = t, 
n && (this.squad = n.squad, this.party = n.party, this.password = n.password, this.friend = n.friend);
}
return e.prototype.withPassword = function(t) {
return new e(this.server, this.role, {
party: this.party,
squad: this.squad,
friend: this.friend,
password: t
});
}, e;
}();
t.JoinMultiplayerServerOptions = n;
var r = function() {
function e(e, t, n) {
void 0 === n && (n = "soldier"), this.friend = {
spartaUserId: e
}, this.gameId = t, this.role = n;
}
return e;
}();
t.JoinMultiplayerFriendOptions = r;
}, function(e, t, n) {
"use strict";
var r = n(9), o = n(23), a = n(220), i = n(221);
t.pingResults = r.map(), SpartaGlobals.bundleIsPC && (o.requestPings.listen(function(e) {
a.ping(e);
}), i.pingCompleted.listen(r.action("pingCompleted", function(e, n, r) {
t.pingResults.set(e, r ? -1 : n);
})));
}, function(e, t, n) {
"use strict";
function r(e) {
return null != e.name && "" !== e.name.trim();
}
var o = n(3), a = n(5), i = n(24), s = n(65), l = n(23), u = n(133), c = n(155).formatFilter, p = n(224), f = n(41), d = n(21), h = o.getBuildInfo().isCTE(), y = 50;
t.ServerClient = d.createClient({
requestOn: [ l.refreshServers ],
shouldPerformRequest: function() {
return f.getState().isReady();
},
request: function(e) {
if (!e || !e.game) throw new Error("You need to provide at least a game when fetching servers");
var t = "";
if (h) t = JSON.stringify({
version: 6
}); else {
var n = c(e.filter ? e.filter : u.getStateByGameId(e.game));
t = JSON.stringify(n);
}
var r = {
filterJson: t,
game: e.game,
limit: e.limit ? e.limit : y
}, o = p.getByGameId(e.game);
return o && (r.protocolVersion = o), i.request("GameServer.searchServers", r);
},
onRequestError: function(e, t) {
this.publish(t.game, null, e);
},
parse: function(e) {
var t = a.partition(e.gameservers, r), n = t[0], o = t[1];
return o.length && console.warn("Invalid servers returned", o), {
servers: a.map(n, function(e) {
return new s.Server(e);
}),
hasMoreResults: e.hasMoreResults
};
},
update: function(e, t, n) {
this.publish(n.game, e);
}
});
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(5), a = n(51), i = n(23), s = n(65), l = n(360), u = n(3), c = n(223).updateByGuid, p = n(154).ToggleServerBookmarkClient, f = (n(26), 
function(e) {
function t() {
var t = e.call(this, {}) || this;
return l.ServerClient.listen(function(e, n, r) {
t.updateGame(e, {
data: n,
error: r
}), t.trigger(t.getState()), n && n.servers && i.requestPings(o.pluck(n.servers, "ip"));
}), i.toggleBookmark.listen(function(e) {
var n = new s.Server(o.extend({}, e, {
isFavorite: !e.isFavorite
}));
t.updateServer(n);
}), p.listen(function(e) {
return t.updateServer(e);
}), t;
}
return r(t, e), t.prototype.updateGame = function(e, t) {
var n = this.getState(), r = Object.assign({}, n, (o = {}, o[e] = t, o));
this.setState(r);
var o;
}, t.prototype.updateServer = function(e) {
if (e.guid) {
var t = this.getState(), n = t[e.game] || {}, r = n.data && n.data.servers ? n.data.servers.slice() : [], o = c(r, e);
if (o) {
var a = u.assign({}, n.data, {
servers: o
});
this.updateGame(e.game, {
data: a,
error: n.error
});
}
}
}, t;
}(a.Store));
t.ServerStore = new f();
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t) {
return e.displayName.localeCompare(t.displayName);
}
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(5), i = n(3), s = n(9), l = n(75), u = n(11), c = n(126), p = n(206), f = n(16), d = n(39).supportsSpectating, h = n(150), y = n(83), g = function() {
function e(e, t, n, r, o, a, s, c, d, h) {
this.layoutVisibilityStore = e, this.gameEntitlementStore = t, this.gameStateStore = n, 
this.gameViewStateStore = r, this.partyStore = o, this.friendStore = a, this.onlineState = s, 
this.installState = c, this.layoutActions = d, this.gameActions = h, this.isHovered = !1, 
this.isForceExpanded = !1, this.isLegacyExpanded = !1, this.isGameViewVisible = !1, 
this.isPlaying = !1, this.isMpInstalled = !1, this.expansionOpacityTween = f.Animation.tween("ComCenterState.expansionOpacityTween", 0, p.slideOptions), 
this.translateY = f.Animation.tween("ComCenterState.translateY", 0), this.focusAncestor = i.focus.createAncestor(i.autoId("comCenter")), 
this.partyCategory = new b(this.partyStore), this.availableUserCategories = [ new m(this.friendStore, this.partyStore, function() {
return __("ID_SPARTA_LAYOUT_COMCENTER_PLAYING", !0);
}, [ l.UserPresenceStates.Joinable, l.UserPresenceStates.Playing ], function() {
return u.bbOfflineUrl("/sparta/jsclient/builds/assets/playing-minimized-741453a6.png");
}), new m(this.friendStore, this.partyStore, function() {
return __("ID_SPARTA_LAYOUT_COMCENTER_ONLINE", !0);
}, [ l.UserPresenceStates.Online, l.UserPresenceStates.Away ], function() {
return u.bbOfflineUrl("/sparta/jsclient/builds/assets/online-minimized-91629ff7.png");
}), new m(this.friendStore, this.partyStore, function() {
return __("ID_SPARTA_LAYOUT_COMCENTER_OFFLINE", !0);
}, [ l.UserPresenceStates.Offline ], function() {
return u.bbOfflineUrl("/sparta/jsclient/builds/assets/offline-minimized-49aaf16e.png");
}) ], this.setupVisibilityReactions();
}
return Object.defineProperty(e.prototype, "isExpanded", {
get: function() {
return this.isLegacyExpanded || this.isForceExpanded;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isEnabled", {
get: function() {
return this.partyStore.isInSquadJoin ? !1 : this.onlineState.isPresenceReady && !this.onlineState.isTooYoung && this.onlineState.presenceState.isFirstPartyConnected && this.isMpInstalled;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isModal", {
get: function() {
return SpartaGlobals.bundleIsConsole;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "showPartyInUserBar", {
get: function() {
return !this.partyStore.canSquadJoin;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isInGame", {
get: function() {
return this.isGameViewVisible || this.isPlaying;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "showUserBar", {
get: function() {
return this.isInGame || this.isModal;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hideWhenMinimized", {
get: function() {
return this.isInGame || this.isModal;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canOpen", {
get: function() {
return this.isEnabled && !this.isExpanded;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "shouldUseInput", {
get: function() {
return this.isExpanded && this.isEnabled && i.focus.system.controllerMode;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "shouldUseGlobalActions", {
get: function() {
return i.focus.system.controllerMode && "PC" !== h.currentInputType;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "friendCategories", {
get: function() {
var e = this;
return this.availableUserCategories.filter(function(t) {
return t.matches(e.friendStore.presenceStates);
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isEmpty", {
get: function() {
return this.friendStore.totalFriends < 1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canShowProfile", {
get: function() {
return SpartaGlobals.bundleIsConsole;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "usePagination", {
get: function() {
return this.friendStore.pagination.totalPages > 1;
},
enumerable: !0,
configurable: !0
}), e.prototype.setupVisibilityReactions = function() {
var e = this, t = s.action(function(t) {
return e.isLegacyExpanded = t;
}), n = y(t, 200);
this.layoutVisibilityStore.scope("comCenter").listen(function(r) {
!r && e.isHovered && e.setHovered(!1), i.focus.system.controllerMode ? t(r) : n(r);
}), s.reaction(function() {
return e.isHovered;
}, function(t) {
e.layoutActions.setComponentVisibility("comCenter", t);
}), s.reaction(function() {
return !e.isEnabled;
}, function(t) {
t && e.layoutActions.hideComponent("comCenter");
}), this.gameViewStateStore.scope("isVisible").connect(s.action(function(t) {
e.isGameViewVisible = t;
})), this.gameStateStore.scope("isRunning").connect(s.action(function(t) {
e.isPlaying = t;
})), this.installState.scope("isMpInstalled").connect(s.action(function(t) {
e.isMpInstalled = t;
})), s.reaction(function() {
return e.isExpanded;
}, function(t) {
return e.expansionOpacityTween.to(t ? 1 : 0);
}), s.reaction(function() {
return {
active: e.isEnabled && e.isExpanded,
children: e.focusAncestor.children
};
}, function(e) {
e.children.forEach(function(t) {
t.setActive("Com center focus activity automation", e.active);
});
}, !0), i.focus.system.onInvalidQuery.listen(function(t) {
return t.setAsVisible(e.focusAncestor.children);
});
}, e.prototype.setHovered = function(e) {
this.isHovered = e;
}, e.prototype.joinServer = function(e, t, n) {
void 0 === n && (n = "soldier"), this.gameActions.joinServer(c.createJoinOptions(e, n, {
friend: t
}));
}, e.prototype.inviteToServer = function(e) {
this.gameActions.sendServerInvite(e);
}, e.prototype.canJoinServer = function(e, t, n) {
if (void 0 === n && (n = "soldier"), t && t.spartaUserId.equals(this.onlineState.sessionUserId)) return !1;
var r = this.gameEntitlementStore.getState().hasOnlineAccess(e.game), o = this.gameStateStore.getState().isServerJoiningAllowed(e.gameId), a = t.presence.state === l.UserPresenceStates.Joinable, i = !0;
return "spectator" === n ? i = d(e.game) : "commander" === n && (i = e.slots.commander.max > 0), 
r && a && o && i;
}, e.prototype.canInviteToServer = function(e) {
return e.spartaUserId.equals(this.onlineState.sessionUserId) ? !1 : this.onlineState.sessionUser && this.onlineState.sessionUser.presence.server ? !0 : !1;
}, e;
}();
o([ s.observable ], g.prototype, "isHovered", void 0), o([ s.observable ], g.prototype, "isForceExpanded", void 0), 
o([ s.observable ], g.prototype, "isLegacyExpanded", void 0), o([ s.observable ], g.prototype, "isGameViewVisible", void 0), 
o([ s.observable ], g.prototype, "isPlaying", void 0), o([ s.observable ], g.prototype, "isMpInstalled", void 0), 
o([ s.computed ], g.prototype, "isExpanded", null), o([ s.computed ], g.prototype, "isEnabled", null), 
o([ s.computed ], g.prototype, "isInGame", null), o([ s.computed ], g.prototype, "showUserBar", null), 
o([ s.computed ], g.prototype, "hideWhenMinimized", null), o([ s.computed ], g.prototype, "canOpen", null), 
o([ s.computed ], g.prototype, "shouldUseInput", null), o([ s.computed ], g.prototype, "shouldUseGlobalActions", null), 
o([ s.computed ], g.prototype, "friendCategories", null), o([ s.computed ], g.prototype, "isEmpty", null), 
o([ s.computed ], g.prototype, "usePagination", null), o([ s.action ], g.prototype, "setHovered", null), 
t.ComCenterState = g;
var m = function() {
function t(e, t, n, r, o) {
this.friendStore = e, this.partyStore = t, this.getName = n, this.presenceStates = r, 
this.getIcon = o;
}
return Object.defineProperty(t.prototype, "users", {
get: function() {
var t = this;
return this.friendStore ? this.friendStore.pagination.friends.filter(function(e) {
return -1 !== t.presenceStates.indexOf(e.presence.state) && !t.partyStore.memberIds[e.spartaUserId.getPlatformId()];
}).sort(e) : [];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "name", {
get: function() {
return this.getName();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "icon", {
get: function() {
return this.getIcon();
},
enumerable: !0,
configurable: !0
}), t.prototype.matches = function(e) {
var t = a.find(this.presenceStates, function(t) {
return -1 !== e.indexOf(t);
});
return void 0 !== t;
}, t;
}();
o([ s.computed ], m.prototype, "users", null), t.UserCategory = m;
var b = function(e) {
function t(t) {
return e.call(this, void 0, t, function() {
return "";
}, [], function() {
return "";
}) || this;
}
return r(t, e), Object.defineProperty(t.prototype, "users", {
get: function() {
return this.partyStore.members;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "name", {
get: function() {
return this.partyStore.canSquadJoin ? __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD", !0) : __("ID_SPARTA_LAYOUT_COMCENTER_PARTY_PC", !0);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "icon", {
get: function() {
return this.partyStore.canSquadJoin ? u.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-squadjoin-highres-82188e85.png") : u.bbOfflineUrl("/sparta/jsclient/builds/assets/party-minimized-3ce3d604.png");
},
enumerable: !0,
configurable: !0
}), t;
}(m);
o([ s.computed ], b.prototype, "users", null), t.PartyCategory = b, t.compareUsers = e;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(66), i = n(3), s = n(169), l = n(251), u = n(11), c = n(7).Text, p = n(6), f = n(10).observer, d = {
noticePadder: {
marginBottom: 20
},
notice: {
position: "absolute",
width: 24,
left: 0,
top: 2,
height: 24,
bottom: 0
},
noticeContainer: {
left: 34,
top: 5
},
noticeText: {
height: 32
},
noticeMarquee: {
width: 1200,
height: 32
}
}, h = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.render = function() {
var e = s.store.getNotice(this.props.gameId);
if (l.store.isMandatoryUpdateInstalled && (e = {
text: __("ID_SPARTA_UPDATE_AVAILABLE"),
type: s.NoticeType.Success
}), !e) return null;
var t = u.bbOfflineUrl("/sparta/jsclient/builds/assets/notice-blue-e74eff5d.png"), n = "#89f0ff";
e.type === s.NoticeType.Warning ? (t = u.bbOfflineUrl("/sparta/jsclient/builds/assets/notice-roange-d2b09bdd.png"), 
n = "#ffad32") : e.type === s.NoticeType.Danger ? (t = u.bbOfflineUrl("/sparta/jsclient/builds/assets/notice-red-d6a4b298.png"), 
n = "#f69a9a") : e.type === s.NoticeType.Success && (t = u.bbOfflineUrl("/sparta/jsclient/builds/assets/notice-green-e9fbae03.png"), 
n = "#a6f59c");
var r = i.assign({}, d.notice, {
texture: t
}), f = i.assign({}, d.noticeText, {
color: n
});
return o.createElement("surface", {
style: d.noticePadder
}, o.createElement("surface", {
style: r
}), o.createElement("surface", {
style: d.noticeContainer
}, o.createElement(a.Marquee, {
loop: !0,
style: d.noticeMarquee,
width: p.getWidth(22)
}, o.createElement(c, {
style: f,
value: e.text.toUpperCase(),
type: "emphasis",
size: "S"
}))));
}, n;
}(o.Component);
h = r([ f ], h), Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = h;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = n(255), o = n(8), a = n(3), i = n(21), s = n(50).gatewayClient;
t.GetTakeoversClient = i.createClient({
shouldPerformRequest: function() {
return !o.takeoverStore.populated;
},
request: function(e) {
return s.request("Takeover.getTakeovers", {
game: e
});
},
parse: function(e, t) {
if (!e || 0 === e.length) return [];
for (var n = [], o = 0, i = e; o < i.length; o++) {
var s = i[o], l = new r.Takeover();
if (l.id = s.id, l.gameId = t, l.title = s.title, l.subTitle = s.subtitle, l.description = s.description, 
s.backgroundUrl && (l.backgroundUrl = s.backgroundUrl), a.getBuildInfo().isCTE()) switch (s.type) {
case "POPUP":
l.type = r.TakeoverType.Popup;
break;

case "INLINE":
l.type = r.TakeoverType.Inline;
} else l.type = r.TakeoverType.Popup;
n.push(l);
}
return n;
},
onRequestError: function() {
o.takeoverStore.disable();
},
update: function(e) {
o.takeoverStore.populateTakeovers(e);
}
}), t.TakeoverSeenClient = i.createClient({
request: function(e) {
return s.request("Takeover.takeoverSeen", {
game: e.gameId,
takeoverId: e.id
});
},
parse: function() {},
update: function() {}
});
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t, n) {
void 0 === n && (n = {});
var o = function(o) {
function i() {
return o.apply(this, arguments) || this;
}
return r(i, o), i.prototype.render = function() {
return a.createElement(N, {
gameId: e,
filterDefaults: t,
filterExceptions: n
});
}, i;
}(a.Component);
return o;
}
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(3), s = n(9), l = n(10), u = n(8), c = n(3), p = n(33), f = n(11), d = n(16), h = n(12), y = n(93), g = n(319), m = n(17), b = n(6), v = n(7).Text, _ = n(59), S = n(37), T = n(13), w = n(54), E = n(318), I = E.showTutorialForGameMode, C = E.tryShowTutorial, A = function() {
function e() {
this.selectedItem = null;
}
return e.prototype.setSelectedItem = function(e) {
this.selectedItem = e;
}, e;
}();
o([ s.observable ], A.prototype, "selectedItem", void 0), o([ s.action ], A.prototype, "setSelectedItem", null);
var P = new A(), O = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.textSizes = {
heading: SpartaGlobals.bundleIsConsole ? "L" : "M",
subHeading: SpartaGlobals.bundleIsConsole ? "M" : "S",
text: (SpartaGlobals.bundleIsConsole, "S")
}, t.maxWidth = b.getWidth(14), t.itemMargin = [ 0, 0, b.GUTTER, 0 ], t;
}
return r(t, e), t.prototype.render = function() {
var e = this, t = P.selectedItem;
if (!t) return a.createElement("surface", null);
var n = t.images && t.images.Jpg1000xANY ? t.images.Jpg1000xANY : t.imageUrl, r = {
wrapper: {
width: this.maxWidth
},
image: {
texture: n,
textureMode: "cover",
textureAlign: .8,
backgroundColor: "#00000099",
width: b.getWidth(14),
height: b.getHeight(36),
marginBottom: 4 * b.GUTTER
},
objectiveWrapper: {
flex: 1,
flexDirection: "row",
marginBottom: 2 * this.itemMargin[2]
},
objective: {
width: this.maxWidth - b.getWidth(.5),
textLineSpacing: S[this.textSizes.text]
},
listIndicator: {
width: b.getWidth(.5) - b.GUTTER
},
heading: {
margin: this.itemMargin,
textAlignForRTL: "left"
},
text: {
margin: this.itemMargin,
textLineSpacing: S[this.textSizes.text],
textAlignForRTL: "left"
}
}, o = (t.objectives || []).map(function(t, n) {
return a.createElement("surface", {
key: n,
style: r.objectiveWrapper
}, a.createElement(v, {
value: "-",
style: r.listIndicator,
size: e.textSizes.text
}), a.createElement(v, {
value: t,
style: r.objective,
size: e.textSizes.text
}));
}), i = t.catchphrase ? a.createElement(v, {
value: t.catchphrase.toUpperCase(),
size: this.textSizes.subHeading,
style: r.heading
}) : null, s = t.videoUrl && u.settingsStore.isFeatureEnabled("tutorials") ? a.createElement(M, {
item: t
}) : a.createElement("surface", {
style: r.image
});
return a.createElement("surface", {
style: r.wrapper
}, s, a.createElement(v, {
value: t.prettyName.toUpperCase(),
type: "emphasis",
size: this.textSizes.heading,
style: r.heading
}), i, a.createElement(v, {
value: t.description,
size: this.textSizes.text,
style: r.text
}), o);
}, t;
}(a.Component);
O = o([ l.observer ], O);
var R = f.bbOfflineUrl("/sparta/jsclient/builds/assets/play_active-b7f2b328.png"), k = f.bbOfflineUrl("/sparta/jsclient/builds/assets/play-f2e293cf.png"), x = "SpartaCommonAtlas", M = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.focusItem = i.focus.create(t, "quickmatch_video"), t.preloader = i.texture.createPreloader(t), 
t;
}
return r(t, e), t.prototype.componentWillMount = function() {
this.preloader.preload(R, x), this.preloader.preload(k, x);
}, t.prototype.showFullScreenPopup = function() {
I(this.props.item);
}, t.prototype.render = function() {
var e = this.props.item;
if (!e || !e.videoUrl) return a.createElement("surface", null);
var t = e.images && e.images.Jpg1000xANY ? e.images.Jpg1000xANY : e.imageUrl, n = [ new T({
label: __("ID_SPARTA_ACTION_WATCH_TUTORIAL"),
blockInputFor: 500,
action: this.showFullScreenPopup.bind(this),
key: h.Accept
}) ], r = {
video: {
texture: t,
textureMode: "cover",
textureAlign: .8,
textureScale: d.Animation.tweenSwitch(1, 1.02, this.focusItem.isFocused && !SpartaGlobals.bundleIsPC, d.Animation.presets.focusables.enter.slow, d.Animation.presets.focusables.leave["default"]),
backgroundColor: "#00000099",
width: b.getWidth(14),
height: b.getHeight(36),
marginBottom: 4 * b.GUTTER
}
}, o = a.createElement("surface", {
style: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
texture: this.focusItem.isFocused ? R : k,
textureAtlas: x,
textureMode: "none",
textureAlign: [ .5, .5 ]
}
});
return a.createElement(w, {
input: n,
focusItem: this.focusItem,
style: r.video
}, o);
}, t;
}(a.Component), N = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.labelColor = {
regular: "#FFFFFF",
premium: "#ff9900"
}, n.state = {
selectedItem: null
}, P.setSelectedItem(null), n;
}
return r(t, e), t.prototype.createRoleItem = function(e) {
var t = this;
return {
label: e.prettyName,
onTrigger: function() {
return t.quickMatch({
role: "commander"
});
},
onFocus: function() {
return t.selectItem(e);
},
fontColor: e.premium ? this.labelColor.premium : this.labelColor.regular,
scrollLabel: !0
};
}, t.prototype.createExperienceItem = function(e) {
var t = this, n = {
experiences: {}
};
return n.experiences[e.filterKey] = "on", {
label: e.prettyName,
onTrigger: function() {
return t.quickMatch(n);
},
onFocus: function() {
return t.selectItem(e);
},
fontColor: e.premium ? this.labelColor.premium : this.labelColor.regular,
scrollLabel: !0
};
}, t.prototype.createGameModeItem = function(e) {
var t = this, n = {
gameModes: {}
};
n.gameModes[e.filterKey] = "on";
var r = this.props.filterExceptions[e.name.toLowerCase()];
return r && (n = c.assign({}, n, r)), {
label: e.prettyName,
onTrigger: function() {
return t.quickMatch(n);
},
onFocus: function() {
return t.selectItem(e);
},
scrollLabel: !0
};
}, t.prototype.getMatchmakingModeList = function() {
var e = this, t = u.quickmatchOptionsStore.quickmatchOptions && u.quickmatchOptionsStore.quickmatchOptions[this.props.gameId], n = [];
return t && (t.experiences && (n = n.concat(t.experiences.map(function(t) {
return e.createExperienceItem(t);
}))), t.gameModes && (n = n.concat(t.gameModes.map(function(t) {
return e.createGameModeItem(t);
}))), t.roles && (n = n.concat(t.roles.map(function(t) {
return e.createRoleItem(t);
})))), n;
}, t.prototype.quickMatch = function(e) {
var t = this, n = P.selectedItem, r = c.assign({}, this.props.filterDefaults, e);
n ? C(n.filterKey, this.props.gameId).then(function() {
y.prepare(t.props.gameId, r);
}) : y.prepare(this.props.gameId, r);
}, t.prototype.selectItem = function(e) {
P.setSelectedItem(e);
}, t.prototype.renderSideContent = function() {
return a.createElement("surface", {
style: {
marginTop: 2 * -b.GUTTER,
paddingTop: 2 * b.GUTTER
}
}, a.createElement(p.Scroller, {
style: {
height: m.content.height
},
controller: !1
}, a.createElement(_, {
items: this.getMatchmakingModeList(),
divider: "item"
})));
}, t.prototype.render = function() {
return a.createElement(g, {
tilting: !1,
tallContent: !0,
sideContent: this.renderSideContent()
}, a.createElement(O, null));
}, t;
}(a.Component);
N = o([ l.observer ], N), t.getGameSpecificQuickMatch = e;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
var t = m(e.value), n = t.map(function(e, t) {
return a.createElement(w, {
value: e,
size: "S",
key: t,
style: P.paragraphText
});
});
return a.createElement("surface", null, n);
}
function r(e) {
var t = e.topMargin ? e.topMargin : T.GUTTER, n = {
marginTop: t
};
return d() && (n.textAlignForRTL = "left", n.marginRight = 2 * T.GUTTER), a.createElement(w, {
size: e.size,
value: e.value,
style: n
});
}
var o = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, a = n(1), i = n(256), s = n(3), l = n(11), u = n(33), c = n(37).LINE_HEIGHTS, p = n(30), f = p.localeRearrange, d = p.isRTLLanguage, h = n(300), y = h.playCodexVO, g = h.stopCodexVO, m = n(231).chunkTextByLines, b = n(136), v = n(25), _ = n(17), S = n(95), T = n(6), w = n(7).Text, E = 160, I = 225, C = c.S, A = SpartaGlobals.bundleIsPC ? _.dangerZoneSize.height : _.fadeAreaBottom.height, P = {
container: {
width: _.safeZone.width,
height: .75 * _.safeZone.height,
marginBottom: T.getHeight(5),
flexDirection: "row"
},
cardContainer: {
width: T.window.colSpan(8.5),
height: .75 * _.safeZone.height
},
cardContainerSmall: {
width: E + T.window.colSpan(1),
height: .75 * _.safeZone.height
},
cardSmall: {
width: E,
height: I,
opacity: 1
},
card: {
width: T.window.colSpan(7.5),
height: .75 * _.safeZone.height,
opacity: 1
},
criteriaContainer: {
marginBottom: T.GUTTER,
marginTop: T.GUTTER
},
criteria: {
flexDirection: "row",
marginBottom: T.GUTTER,
marginTop: T.GUTTER
},
paragraphText: {
marginTop: T.GUTTER,
textLineSpacing: SpartaGlobals.bundleIsConsole ? Math.round(1.2 * C) : Math.round(1.2 * C),
textAlignForRTL: "left",
marginRight: 2 * T.GUTTER
},
goldenText: {
texture2: l.bbOfflineUrl("/sparta/assets/tunguska/career/golden-texture-eae85f40.png"),
texture2Mode: "fill",
opacity: 1
}
}, O = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return o(n, t), n.prototype.renderProgressInfo = function(e) {
var t = this;
if (e && e.criteria && e.criteria.length) {
var n = e.criteria.map(function(n, r) {
var o = e.isCollected;
return t.renderCriteria(r, n, o);
});
return a.createElement("surface", {
key: "criteria-info"
}, n);
}
return this.renderCriteria(0, {
code: "codex-criteria-code",
name: e.progression && e.progression.description ? e.progression.description : "",
progression: {
unlocked: e.isCollected ? 1 : 0
}
}, !1);
}, n.prototype.renderCollectedInfo = function(t) {
if (t.isCollected || this.props.completedOverride) {
var n = t.details, o = SpartaGlobals.bundleIsConsole ? "L" : "M", i = a.createElement("surface", null), s = a.createElement("surface", null), l = a.createElement("surface", null);
return n && n.subHeader && "" !== n.subHeader && (s = a.createElement(r, {
size: o,
value: n.subHeader.toUpperCase(),
topMargin: 4 * T.GUTTER
})), n && n.text2 && "" !== n.text2 && (i = a.createElement(e, {
key: "collected-text2",
value: n.text2
})), t && t.details && (l = a.createElement(e, {
key: "collected-details",
value: t.details.description
})), a.createElement("surface", {
key: "collected-info"
}, l, s, i);
}
}, n.prototype.renderCriteria = function(e, t, n) {
var r = t.progression && t.progression.unlocked || this.props.completedOverride || n, o = r === !0 || r > 0, i = r ? P.goldenText : {}, s = 2 * T.GUTTER, l = d() ? {
marginRight: s,
textAlignForRTL: "left",
width: SpartaGlobals.bundleIsConsole ? T.getWidth(13) : T.getWidth(16),
flexWrap: "wrap"
} : {
marginLeft: s,
width: SpartaGlobals.bundleIsConsole ? T.getWidth(13.5) : T.getWidth(17),
flexWrap: "wrap"
};
return a.createElement("surface", {
key: "criteria-" + e,
style: P.criteriaContainer
}, a.createElement("surface", {
style: P.criteria
}, f([ a.createElement(b, {
key: "checkbox",
value: o,
style: i
}), a.createElement(w, {
value: t.name,
key: "criteria-name",
size: "S",
type: "normal",
style: [ i, l ]
}) ])));
}, n.prototype.renderEliteInfo = function(e) {
return a.createElement("surface", {
key: "elite-xp"
}, a.createElement(w, {
value: e.score + __("ID_SPARTA_GENERIC_XP"),
key: "xp-value",
size: "M",
type: "normal",
style: [ P.paragraphText ]
}));
}, n.prototype.render = function() {
var e = this.props.codex, t = e.category || "", n = e.details && e.details.header ? e.details.header : "", o = e.score > 0;
return a.createElement(u.Scroller, {
style: {
width: T.window.colSpan(14),
height: P.container.height,
flex: 1
},
softClip: [ 0, 0, 0, A ],
controller: !0,
ref: "rightPane"
}, a.createElement(w, {
size: "S",
value: t.toUpperCase(),
style: {
opacity: .66,
textAlignForRTL: "left",
marginRight: 2 * T.GUTTER
}
}), a.createElement(r, {
size: "XL",
value: n.toUpperCase()
}), o && this.renderEliteInfo(e), this.renderProgressInfo(e), this.renderCollectedInfo(e));
}, n;
}(a.Component), R = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.isVOPlaying = !1, n;
}
return o(t, e), t.prototype.componentDidMount = function() {
this.canPlayVoiceOver(), this.isVOPlaying = !0, y(this.props.codex.voiceOver);
}, t.prototype.componentWillUnmount = function() {
this.isVOPlaying && g();
}, t.prototype.canPlayVoiceOver = function() {
return this.props.codex && this.props.codex.voiceOver && (this.props.codex.isCollected || this.props.completedOverride) && this.props.shouldPlayVoiceOver;
}, t.prototype.closePopup = function() {
this.isVOPlaying && (this.isVOPlaying = !1, g()), v.close(this.props.popupInfo.id);
}, t.prototype.renderCloseButton = function() {
var e = this, t = l.bbOfflineUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"), n = {
position: "absolute",
top: 13 * -T.GUTTER,
right: 8 * -T.GUTTER,
zOffset: 100
};
return a.createElement("surface", {
style: n
}, a.createElement(s.Focusable, {
debugName: "popup_close_" + this.props.popupInfo.id
}, function(n) {
return a.createElement(S, {
action: function() {
return e.closePopup();
},
focusItem: n,
size: 24,
icon: t,
style: {
padding: T.GUTTER
}
});
}));
}, t.prototype.render = function() {
var e = this.props.completedOverride || !1, t = this.props.codex;
return t.displayName ? a.createElement("surface", {
style: P.container
}, f([ a.createElement("surface", {
style: P.cardContainer,
key: "card-container"
}, a.createElement(i.TunguskaCodexCard, {
entry: t,
isInPopup: !0,
hasNoSideMargin: !0,
style: P.card,
completedOverride: e
})), a.createElement(O, {
codex: t,
key: "right-pane",
ref: "rightPane",
completedOverride: e
}) ]), SpartaGlobals.bundleIsPC && this.renderCloseButton()) : a.createElement(w, {
value: __("ID_SPARTA_TUNGUSKA_CODEX_INFO_UNAVAILABLE")
});
}, t;
}(a.Component);
R.defaultProps = {
shouldPlayVoiceOver: !1,
completedOverride: !1,
isOffline: !1
}, t.TunguskaCodexPopup = R;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = n(371), o = n(571), a = n(34);
t.voipState = new r.VoipState(), t.teamsStore = new o.TeamsStore(a.receivedPlayerList);
}, function(e, t, n) {
"use strict";
function r(e) {
return A[e] < C;
}
function o(e, t, n) {
setTimeout(function() {
w.fetchEorData(e, t, n);
}, 5e3);
}
function a(e) {
var t = e.serverInfo || {}, n = e.personalInfo || {}, r = e.squadInfo || {}, o = e.highlights || [], a = e.scoreboard || {}, l = e.battlePacks || {}, u = e.ranks, c = e.reportId, d = e.roundDuration, h = e.timeStamp, m = p(t), b = f(n), v = y(r), _ = g(o), S = s(a), T = i(l);
return new I.EndOfRoundData(c, d, u, T, _, b, m, v, S, h);
}
function i(e) {
var t = e.gameReportId;
if (t) {
var n = e.packs || [], r = e.players || [], o = n.map(function(e) {
return new I.EndOfRoundBattlepackInfo(e.id, e.imageUrl);
}), a = r.map(function(e) {
return new I.EndOfRoundPlayerBattlePack((e.personaId || "").toString(), (e.platformId || "").toString(), e.name, e.avatarUrl, e.packId);
});
return new I.EndOfRoundBattlepacks(t, a, o);
}
}
function s(e) {
var t = e.winner, n = e.teams || [], r = n.map(function(e) {
return l(e, t);
});
return new I.EndOfRoundScoreboard(r, t);
}
function l(e, t) {
var n = e.teamId, r = n === t, o = u(e.counter), a = c(e.faction || {}), i = e.players.map(function(e) {
return new I.EndOfRoundScoreboardEntry(e);
});
return new I.EndOfRoundTeam(n, a, i, o, r);
}
function u(e) {
var t = e || {};
return new I.EndOfRoundCounter(t.attacker || 0, t.bases || 0, t.counterType, t.life || 0, t.startingLife || 0, t.teamId || 0);
}
function c(e) {
return new I.EndOfRoundFaction(e.id, e.imageUrl, e.name);
}
function p(e) {
return new I.EndOfRoundServerInfo(e);
}
function f(e) {
var t = e.awardTrain || [], n = e.stats || {}, r = e.rankProgression || {}, o = t.map(function(e) {
return new I.EndOfRoundAward(e);
}), a = d(r), i = h(n);
return new I.EndOfRoundPersonalStats(e, [], a, i, o);
}
function d(e) {
var t = e.ranks || [], n = e.scores || [], r = t.map(function(e) {
return new I.EndOfRoundRank(e.imageUrl, e.number, e.name, e.scoreNeeded, e.warBonds, e.isMaxRank);
}), o = n.map(function(e) {
return new I.EndOfRoundRankScore(e.id, e.name, e.value);
}), a = parseInt(e.initialValue, 10) || 0, i = parseInt(e.minutesToNextRank, 10) || 0;
return new I.EndOfRoundRankProgression(a, i, r, o);
}
function h(e) {
return new I.EndOfRoundStats(e);
}
function y(e) {
var t = e.squadId, n = e.teamId, r = e.highlights || [], o = e.stats || {}, a = h(o), i = r.map(function(e) {
return m(e);
});
return new I.EndOfRoundSquadInfo(t, n, i, a);
}
function g(e) {
var t = e.map(function(e) {
return m(e);
});
return t;
}
function m(e) {
var t = b(e.player), n = e.value, r = 0;
return isNaN(n) || (r = parseInt(n, 10) || parseFloat(n)), new I.EndOfRoundHighlight(e.id, e.name, t, e.unit, r);
}
function b(e) {
return new I.EndOfRoundPlayer(e.avatar, e.name, (e.personaId || "").toString(), (e.platformId || "").toString(), e.rank, e.teamId);
}
var v = n(44), _ = n(73), S = n(21), T = n(24), w = n(34), E = n(77), I = n(372), C = 5, A = {}, P = S.createClient({
requestOn: [ w.fetchEorData ],
throttle: 600,
shouldPerformRequest: function(e) {
return A[e] = (A[e] || 0) + 1, A[e] <= C;
},
request: function(e, t, n) {
void 0 === t && (t = !1), void 0 === n && (n = !1);
var r = "EndOfRound.getEorData";
return n ? r = "EndOfRound.getEorDataForSpectator" : t && (r = "EndOfRound.getOldEorData"), 
T.request(r, {
game: v.tunguskaGameId,
gameReportId: e,
attempts: A[e]
});
},
onRequestError: function(e, t, n, a) {
E.trackEvent("EndOfRound", "FailedAttempt", e.code), r(t) ? o(t, n, a) : (_.tunguskaEndOfRoundStore.setEndOfRoundData(void 0), 
_.tunguskaEndOfRoundStore.setError(e), E.trackEvent("EndOfRound", "Error", "MaxAttempts"));
},
parse: function(e) {
return e ? a(e) : void 0;
},
update: function(e, t, n, a, i) {
e ? (_.tunguskaEndOfRoundStore.setEndOfRoundData(e), E.trackEvent("EndOfRound", "Success", A[n])) : r(n) ? (E.trackEvent("EndOfRound", "FailedAttempt", "NoData"), 
o(n, a, i)) : E.trackEvent("EndOfRound", "Error", "NoData");
}
});
t.parseEndOfRoundData = a, t.parseBattlePacks = i, Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = P;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(10), i = n(1), s = n(3), l = n(33), u = n(16), c = n(59), p = n(137), f = n(22), d = n(6), h = n(17), y = SpartaGlobals.bundleIsPC ? d.window.rowSpan(35) : d.window.rowSpan(15), g = h.content.height - y, m = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), Object.defineProperty(t.prototype, "players", {
get: function() {
var e = this;
return this.props.players.map(function(t, n) {
return i.createElement(b, {
player: t,
input: e.props.getInput(t),
buttons: e.props.getButtons(t),
focusGroup: e.props.focusGroup,
index: n,
key: "playerrow" + t.personaId
});
});
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
return i.createElement(l.Scroller, {
softClip: [ 0, 2 * d.GUTTER, 0, 2 * d.GUTTER ],
style: {
width: d.getWidth(11),
height: g,
top: d.GUTTER
}
}, i.createElement(c, {
items: this.players
}));
}, t;
}(i.Component);
m = o([ a.observer ], m), t.PlayerList = m;
var b = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.opacityTween = u.Animation.tween("c1b3608a:70", 0), n.buttonFocuses = t.buttons.map(function() {
return s.focus.create(n, "button:" + t.player.name);
}), n.rowFocus = s.focus.create(n, "row:" + t.player.name), n.rowFocus.autoFocusCandidate = !0, 
n.rowFocus.inheritStateFrom(n.buttonFocuses), t.focusGroup.addMember(n.rowFocus, t.index), 
n.rowFocus.onFocus(function() {
return n.opacityTween.set(1);
}), n.rowFocus.onBlur(function() {
return n.opacityTween.set(0);
}), n;
}
return r(t, e), t.prototype.renderControls = function() {
if (SpartaGlobals.bundleIsConsole) return i.createElement("surface", null);
var e = {
opacity: this.opacityTween.getStyle(),
flexDirection: "row",
alignContent: "flex-end"
};
return i.createElement("surface", {
style: e
}, this.renderButtons());
}, t.prototype.renderButtons = function() {
var e = this;
return this.props.buttons.map(function(t, n) {
return i.createElement(f, {
textSize: "XS",
key: "button" + n,
text: t.label,
action: t.action,
focusItem: e.buttonFocuses[n],
inverted: !0,
style: {
marginLeft: d.GUTTER,
width: d.getWidth(1.5),
height: d.getHeight(5)
}
});
});
}, t.prototype.render = function() {
return i.createElement(p, {
focusItem: this.rowFocus,
label: this.props.player.name,
input: this.props.input,
subLabel: this.renderControls()
});
}, t;
}(i.Component);
b = o([ a.observer ], b);
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
var t = {
CodexEntryCategory_Weapons: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_WEAPONS"),
CodexEntryCategory_Vehicles: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_VEHICLES"),
CodexEntryCategory_Tactics: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_TACTICS"),
CodexEntryCategory_War: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_WAR"),
CodexEntryCategory_World: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_WORLD")
};
return t[e] || "";
}
function r(e) {
var t = {
c124: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c124-787d4263.jpg"),
c125: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c125-9edd4227.jpg"),
c126: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c126-8fc65ecb.jpg"),
c127: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c127-b60ec47f.jpg"),
c128: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c128-9f2341bc.jpg"),
c129: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c129-ad93a5e7.jpg"),
c130: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c130-6805066c.jpg"),
c131: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c131-3c4bf8b7.jpg"),
c132: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c132-2c7f6e1d.jpg"),
c133: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c133-190ec9fb.jpg"),
c134: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c134-e673fc4f.jpg"),
c135: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c135-d5841139.jpg"),
c136: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c136-d9ce7cc2.jpg"),
c137: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c137-92012e01.jpg"),
c138: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c138-fd86daf9.jpg"),
c139: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c139-ef086b0e.jpg"),
c140: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c140-e4905a6c.jpg"),
c141: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c141-fa768ea4.jpg"),
c142: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c142-c8b9ccfc.jpg"),
c143: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c143-383cdefa.jpg"),
c144: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c144-7373e4dc.jpg"),
c145: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c145-93b0e6a4.jpg"),
c146: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c146-ced86c68.jpg"),
c147: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c147-cd022aea.jpg"),
c148: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c148-178c6d7b.jpg"),
c149: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c149-de6e339a.jpg"),
c150: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c150-f833fc42.jpg"),
c151: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c151-6f822064.jpg"),
c152: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c152-8334825a.jpg"),
c153: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c153-adc146c2.jpg"),
c154: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c154-9cfad38f.jpg"),
c155: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c155-b02b8ead.jpg"),
c156: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c156-0d84eb70.jpg"),
c157: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c157-10baafa3.jpg"),
c158: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c158-96776f14.jpg"),
c159: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c159-2a2198ae.jpg"),
c160: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c160-3808716a.jpg"),
c161: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c161-2cb12c6e.jpg"),
c162: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c162-37e71bb5.jpg"),
c163: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c163-15d71729.jpg"),
c164: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c164-69a2885a.jpg"),
c165: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c165-2d3c99a1.jpg"),
c166: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c166-b1866421.jpg"),
c167: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c167-84a50e8f.jpg"),
c168: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c168-1b795dd4.jpg"),
c169: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c169-2dbd19ed.jpg"),
c170: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c170-c08f2edd.jpg"),
c171: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c171-ef5720fd.jpg"),
c172: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c172-b2f1ede1.jpg"),
c173: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c173-6215f641.jpg"),
c174: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c174-292983ea.jpg"),
c175: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c175-dc82f620.jpg"),
c176: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c176-47aff5b9.jpg"),
c177: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c177-8f6a27a4.jpg")
};
return t[e];
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(3), i = n(9), s = n(5), l = n(259), u = n(11), c = n(83), p = n(34), f = "Levels/SP/EP6_Epilogue/SP_Epilogue/SP_Epilogue", d = function() {
function e(e, t, n, r) {
this.title = e, this.description = t, this.codeBooksTotal = n, this.codeBooksCollected = r;
}
return e;
}();
o([ i.observable ], d.prototype, "title", void 0), o([ i.observable ], d.prototype, "description", void 0), 
o([ i.observable ], d.prototype, "codeBooksTotal", void 0), o([ i.observable ], d.prototype, "codeBooksCollected", void 0), 
t.ObjectiveItem = d;
var h = function() {
function e(e, t, n) {
var r = this;
this.chapters = e, this.name = n, this.isCompleted = !1, i.action("CampaignEpisode init", function() {
r.chapters = e, r.isCompleted = t, r.name = n;
})();
}
return Object.defineProperty(e.prototype, "isEpilogue", {
get: function() {
var e = !1;
return this.chapters.forEach(function(t) {
t.isEpilogue && (e = !0);
}), e;
},
enumerable: !0,
configurable: !0
}), e;
}();
o([ i.observable ], h.prototype, "isCompleted", void 0), o([ i.computed ], h.prototype, "isEpilogue", null), 
t.CampaignEpisode = h;
var y = function() {
function e(e, t, n, r, o, a, i, s, l, u, c) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === r && (r = ""), void 0 === o && (o = !1), 
void 0 === a && (a = !1), void 0 === i && (i = !1), void 0 === s && (s = !1), void 0 === l && (l = ""), 
void 0 === u && (u = ""), void 0 === c && (c = []), this.codeBooksCollected = e, 
this.codeBooksTotal = t, this.codexEntries = n, this.currentObjective = r, this.isCompleted = o, 
this.isCooperative = a, this.isEpilogue = i, this.isMenu = s, this.name = l, this.path = u, 
this.startPoints = c;
}
return e;
}();
t.EpisodeChapter = y;
var g = function() {
function e(e, t, n) {
void 0 === e && (e = ""), void 0 === t && (t = !1), void 0 === n && (n = ""), this.category = e, 
this.isDefault = t, this.name = n;
}
return e;
}();
t.ChapterStartPoint = g;
var m = function() {
function e() {
this.episodes = [], this.currentObjective = null;
}
return e.prototype.updateObjective = function(e) {
this.currentObjective = e;
}, e.prototype.setCampaigns = function(e) {
this.episodes = e;
}, Object.defineProperty(e.prototype, "allCodexEntries", {
get: function() {
var e = [];
return this.episodes.forEach(function(t) {
t.chapters.forEach(function(t) {
e = e.concat(t.codexEntries);
});
}), e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "campaignProgress", {
get: function() {
var e = 0, t = 0, n = 0, r = 0, o = 0, a = 0;
return this.episodes.forEach(function(i) {
i.isEpilogue || (i.isCompleted && e++, i.chapters.forEach(function(e) {
var t = e.codexEntries;
a += e.codeBooksTotal, o += e.codeBooksCollected, n += t.length, t.forEach(function(e) {
e.isCollected && r++;
});
}), t++);
}), {
totalEpisodes: t,
totalCodexEntries: n,
totalCodeBooks: a,
completedEpisodes: e,
completedCodexEntries: r,
completedCodeBooks: o
};
},
enumerable: !0,
configurable: !0
}), e.prototype.getChapter = function(e) {
var t = [];
this.episodes.forEach(function(e) {
t = t.concat(e.chapters);
});
var n = s.find(t, function(t) {
return t.path && e === t.path.toLowerCase();
});
return n;
}, e.prototype.getCodexEntryById = function(e) {
var t = [];
return this.episodes.forEach(function(e) {
e.chapters.forEach(function(e) {
t = t.concat(e.codexEntries);
});
}), s.find(t, function(t) {
return t.id === e;
});
}, e;
}();
o([ i.observable ], m.prototype, "episodes", void 0), o([ i.observable ], m.prototype, "currentObjective", void 0), 
o([ i.action ], m.prototype, "updateObjective", null), o([ i.action ], m.prototype, "setCampaigns", null), 
o([ i.computed ], m.prototype, "allCodexEntries", null), o([ i.computed ], m.prototype, "campaignProgress", null), 
t.TunguskaCampaignStore = m, t.tunguskaCampaignStore = new m();
var b = c(function() {
a.frostbite.sendMessage("tunguska.campaignInformationRequest");
}, 1e4, !0, !1);
p.getCampaignEpisodes.listen(function() {
b();
}), a.frostbite.registerMessageListener("tunguska.campaignInformationResponse", function(n, o) {
if (o && o.campaignInformation && o.campaignInformation.episodes) {
var a = o.campaignInformation.episodes.map(function(t) {
var n = t.chapters.map(function(t) {
var n = t.codexEntries.map(function(t) {
var n = t.criteria || [], o = !0, a = n.map(function(e) {
var t = e.progression || [], n = t.map(function(e) {
return new l.CodexEntryCriteriaProgression(e.unlocked, e.valueAcquired, e.valueNeeded);
});
return new l.CodexEntryCriteria(e.code, e.name, n);
}), i = new l.CodexEntryProgression(t.criteriaName, t.isCompleted, t.progression ? t.progression.valueAcquired : 0, t.progression ? t.progression.valueNeeded : 1), s = new l.CodexEntryDetails(t.description, t.header, [], t.subheader, t.text2), u = r(t.code), c = void 0;
return new l.CodexEntry(e(t.category), t.code, a, s, t.nameSid, t.codexId, u, t.isCompleted, o, i, c);
}), o = t.startPoints || [], a = o.map(function(e) {
return new g(e.category, e.isDefault, e.name);
});
return new y(t.codeBooksCollected, t.codeBooksTotal, n, t.currentObjective, t.isCompleted, t.isCooperative, t.path ? t.path.toLowerCase() === f.toLowerCase() : !1, t.isMenu, t.name, t.path, a);
});
return new h(n, t.isCompleted, t.name);
});
t.tunguskaCampaignStore.setCampaigns(a);
}
}), a.frostbite.registerMessageListener("tunguska.CurrentObjectiveResponse", function(e, n) {
if (n) {
var r = n.objective || "", o = n.description || "", a = n.codeBooksCollected || 0, i = n.codeBooksTotal || 0;
t.tunguskaCampaignStore.updateObjective(new d(r, o, i, a));
}
});
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(9), i = n(3);
!function(e) {
e[e.Muted = 0] = "Muted", e[e.Disabled = 1] = "Disabled", e[e.Silent = 2] = "Silent", 
e[e.Speaking = 3] = "Speaking";
}(r = t.SpeakingStatus || (t.SpeakingStatus = {}));
var s = function() {
function e(e) {
this.onlineId = e, this.status = r.Silent;
}
return e.prototype.update = function(e) {
this.speakerId = e.speakerId, this.status = e.status;
}, e;
}();
o([ a.observable ], s.prototype, "speakerId", void 0), o([ a.observable ], s.prototype, "status", void 0), 
o([ a.action ], s.prototype, "update", null), t.VoipPlayer = s;
var l = function() {
function e() {
this.voipPlayers = a.map(), i.frostbite.registerMessageListener("sparta.onVoipSpeakerStatusChanged", this.onVoipSpeakerStatusChanged.bind(this));
}
return e.prototype.getPlayer = function(e) {
return this.voipPlayers.get(e);
}, e.prototype.addPlayer = function(e) {
this.voipPlayers.set(e, new s(e));
}, e.prototype.onVoipSpeakerStatusChanged = function(e, t) {
var n = this;
t && t.speakerChanges && t.speakerChanges.forEach(function(e) {
var t = n.getOrCreatePlayer(e.onlineId);
t.update(e);
});
}, e.prototype.getOrCreatePlayer = function(e) {
return this.voipPlayers.has(e) || this.addPlayer(e), this.voipPlayers.get(e);
}, e;
}();
o([ a.action ], l.prototype, "addPlayer", null), o([ a.action ], l.prototype, "onVoipSpeakerStatusChanged", null), 
t.VoipState = l;
}, function(e, t) {
"use strict";
function n(e, t) {
return t = t || 0, "object" == typeof e ? new d(e.value || t, e.place || 0) : new d(e || t, 0);
}
var r = function() {
function e(e) {
this.code = "", this.awardType = "", this.count = 0, this.score = 0, this.title = "", 
this.description = "", this.imageUrl = "", this.dependencies = void 0, this.progression = void 0, 
this.code = e.code, this.awardType = e.awardType, this.count = e.completionCount, 
this.score = e.score, this.title = e.title, this.description = e.description, this.imageUrl = e.imageUrl, 
this.dependencies = e.dependencies, this.progression = e.progression;
}
return e;
}();
t.EndOfRoundAward = r;
var o = function() {
function e(e, t) {
this.id = e, this.imageUrl = t;
}
return e;
}();
t.EndOfRoundBattlepackInfo = o;
var a = function() {
function e(e, t, n, r, o) {
this.personaId = e, this.platformId = t, this.name = n, this.avatarUrl = r, this.packId = o;
}
return e;
}();
t.EndOfRoundPlayerBattlePack = a;
var i = function() {
function e(e, t, n) {
this.gameReportId = e, this.players = t, this.packs = n;
}
return e;
}();
t.EndOfRoundBattlepacks = i;
var s = function() {
function e(e, t, n, r, o, a) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = ""), void 0 === r && (r = 0), 
void 0 === o && (o = 0), void 0 === a && (a = 0), this.attacker = e, this.bases = t, 
this.counterType = n, this.life = r, this.startingLife = o, this.teamId = a;
}
return e.prototype.getCounterValue = function() {
var e = 0;
switch (this.counterType) {
case "attacker":
e = this.attacker;
break;

case "bases":
e = this.bases;
break;

case "life":
e = this.life;
break;

default:
e = 0;
}
return e;
}, e;
}();
t.EndOfRoundCounter = s;
var l = function() {
function e(e, t, n, r, o, a) {
void 0 === e && (e = ""), void 0 === t && (t = 0), void 0 === n && (n = ""), void 0 === r && (r = 0), 
void 0 === o && (o = 0), void 0 === a && (a = !1), this.imageUrl = e, this.number = t, 
this.name = n, this.scoreNeeded = r, this.warBonds = o, this.isMaxRank = a;
}
return e;
}();
t.EndOfRoundRank = l;
var u = function() {
function e(e, t, n, r, o, a) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = ""), void 0 === r && (r = ""), 
void 0 === o && (o = 0), void 0 === a && (a = 0), this.avatarUrl = e, this.name = t, 
this.personaId = n, this.platformId = r, this.rank = o, this.teamId = a;
}
return e;
}();
t.EndOfRoundPlayer = u;
var c = function() {
function e(e, t, n, r, o) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = void 0), 
void 0 === r && (r = ""), void 0 === o && (o = 0), this.id = e, this.name = t, this.player = n, 
this.unit = r, this.unitValue = o;
}
return e;
}();
t.EndOfRoundHighlight = c;
var p = function() {
function e(e, t, n) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = 0), this.id = e, 
this.name = t, this.value = n;
}
return e;
}();
t.EndOfRoundRankScore = p;
var f = function() {
function e(e, t, n, r) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = []), void 0 === r && (r = []), 
this.initialValue = e, this.minutesToNextRank = t, this.ranks = n, this.scores = r;
}
return e;
}();
t.EndOfRoundRankProgression = f;
var d = function() {
function e(e, t) {
void 0 === e && (e = 0), void 0 === t && (t = 0), this.value = e, this.placing = t;
}
return e;
}();
t.EndOfRoundStatsValue = d;
var h = function() {
function e(e) {
this.modeSpecifics = {};
var t = n(e.totalScore, 0), r = n(e.totalSecondsPlayed, 60), o = n(e.secondsPlayed, 60);
this.deaths = n(e.deaths, 0), this.kills = n(e.kills, 0), this.kd = n(e.kdRatio, 0), 
this.totalDeaths = n(e.totalDeaths, 0), this.totalKills = n(e.totalKills, 0), this.skill = n(e.skill, 0), 
this.skillDelta = n(e.skillDelta, 0), this.rankScore = n(e.rankScore, 0), this.score = n(e.score, 0), 
this.generalScore = n(e.generalScore, 0), this.awardScore = n(e.awardScore, 0), 
this.teamScore = n(e.teamScore, 0), this.squadScore = n(e.squadScore, 0), this.bonusScore = n(e.bonusScore, 0), 
this.flagsCaptured = n(e.flagsCaptured, 0), this.flagsDefended = n(e.flagsDefended, 0), 
this.resupplies = n(e.resupplies, 0), this.repairs = n(e.repairs, 0), this.revives = n(e.revives, 0), 
this.heals = n(e.heals, 0), this.spm = n(e.scorePerMinute, 0), this.minutesPlayed = new d(o.value / 60, 0), 
this.totalKd = new d(this.totalKills.value / (this.totalDeaths.value || 1), 0), 
this.totalSpm = new d(t.value / (r.value / 60), 0), this.modeSpecifics = e.modeSpecifics || {};
}
return e;
}();
t.EndOfRoundStats = h;
var y = function() {
function e(e, t, n, r, o) {
void 0 === n && (n = void 0), void 0 === r && (r = void 0), void 0 === o && (o = []), 
this.medals = t, this.rankProgression = n, this.stats = r, this.awardTrain = o, 
this.personaId = "", this.squadId = 0, this.teamId = 0, this.name = "", this.personaId = e.personaId, 
this.squadId = e.squadId, this.teamId = e.teamId, this.name = e.name;
}
return e.prototype.updateInfo = function(e, t, n) {
this.squadId = e, this.teamId = t, this.name = n;
}, e;
}();
t.EndOfRoundPersonalStats = y;
var g = function() {
function e(e, t, n) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = ""), this.id = e, 
this.imageUrl = t, this.name = n;
}
return e;
}();
t.EndOfRoundMap = g;
var m = function() {
function e(e, t) {
void 0 === e && (e = ""), void 0 === t && (t = ""), this.id = e, this.name = t;
}
return e;
}();
t.EndOfRoundGameMode = m;
var b = function() {
function e(e) {
this.gameType = "", this.map = void 0, this.nextMap = void 0, this.maxClientCount = 0, 
this.mod = "", this.mode = void 0, this.nextMode = void 0, this.name = "", this.ranked = !1, 
this.roundDuration = 0, this.serverType = "", this.time = 0;
var t = e.nextMap, n = e.map, r = e.mode, o = e.nextMode, a = new g(n.id, n.imageUrl, n.name), i = t ? new g(t.id, t.imageUrl, t.name) : null, s = new m(r.id, r.name), l = t ? new m(o.id, o.name) : null;
this.gameType = e.gameType, this.map = a, this.nextMap = i, this.maxClientCount = e.maxClientCount, 
this.mod = e.mod, this.mode = s, this.nextMode = l, this.name = e.name, this.ranked = e.ranked, 
this.roundDuration = e.roundDuration, this.serverType = e.serverType, this.time = e.time;
}
return e;
}();
t.EndOfRoundServerInfo = b;
var v = function() {
function e(e, t, n, r, o, a) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = ""), void 0 === r && (r = ""), 
void 0 === o && (o = 0), void 0 === a && (a = 0), this.avatarUrl = e, this.name = t, 
this.personaId = n, this.platoon = r, this.squadId = o, this.teamId = a;
}
return e;
}();
t.EndOfRoundSquadPlayer = v;
var _ = function() {
function e(e, t, n, r) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = []), void 0 === r && (r = void 0), 
this.squadId = e, this.teamId = t, this.highlights = n, this.stats = r;
}
return e;
}();
t.EndOfRoundSquadInfo = _;
var S = function() {
function e(e, t, n) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = ""), this.id = e, 
this.imageUrl = t, this.name = n;
}
return e;
}();
t.EndOfRoundFaction = S;
var T = function() {
function e(e) {
this.deaths = 0, this.didFinish = !1, this.kills = 0, this.name = "", this.personaId = "", 
this.platformId = "", this.placing = 0, this.rank = 0, this.score = 0, this.squadId = 0, 
this.teamId = 0, this.deaths = e.deaths, this.didFinish = e.didFinish, this.kills = e.kills, 
this.name = e.name, this.personaId = e.personaId, this.platformId = e.platformId, 
this.placing = e.placing, this.rank = e.rank, this.score = e.score, this.squadId = e.squadId, 
this.teamId = e.teamId;
}
return e;
}();
t.EndOfRoundScoreboardEntry = T;
var w = function() {
function e(e, t, n, r, o) {
void 0 === e && (e = 0), void 0 === t && (t = void 0), void 0 === n && (n = []), 
void 0 === r && (r = void 0), void 0 === o && (o = !1), this.teamId = e, this.faction = t, 
this.players = n, this.counter = r, this.isWinner = o;
}
return e.prototype.updatePlayer = function(e) {
this.players = e;
}, e;
}();
t.EndOfRoundTeam = w;
var E = function() {
function e(e, t) {
void 0 === e && (e = []), void 0 === t && (t = 0), this.teams = e, this.winner = t;
}
return e;
}();
t.EndOfRoundScoreboard = E;
var I = function() {
function e(e, t, n, r, o, a, i, s, l, u) {
void 0 === e && (e = ""), void 0 === t && (t = 0), void 0 === n && (n = []), void 0 === r && (r = void 0), 
void 0 === o && (o = []), void 0 === a && (a = void 0), void 0 === i && (i = void 0), 
void 0 === s && (s = void 0), void 0 === l && (l = void 0), void 0 === u && (u = ""), 
this.reportId = e, this.roundDuration = t, this.ranks = n, this.battlePacks = r, 
this.highlights = o, this.personalInfo = a, this.serverInfo = i, this.squadInfo = s, 
this.scoreboard = l, this.timestamp = u;
}
return e.prototype.getRankByNumber = function(e) {
return this.ranks[e];
}, e;
}();
t.EndOfRoundData = I;
var C = function() {
function e(e, t, n, r) {
this.roundId = e, this.personalInfo = t, this.scoreboard = n, this.serverInfo = r;
}
return e;
}();
t.UnrankedEndOfRoundData = C;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(7).Text, i = n(6), s = n(17), l = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.render = function() {
var e = s.dangerZoneSize.height + (SpartaGlobals.bundleIsConsole ? s.footer.height + 2 * i.GUTTER : 0), t = {
position: "absolute",
bottom: e,
right: 0,
opacity: .5
};
return o.createElement("surface", {
style: t
}, o.createElement(a, {
value: "v11296",
size: "XS"
}));
}, t;
}(o.Component);
l.defaultProps = {}, t.BundleInfo = l;
}, function(e, t, n) {
"use strict";
var r = n(11);
t.flagIcons = {
AD: r.bbUrl("/sparta/assets/ui/flags/AD-e4adff7d.png"),
AE: r.bbUrl("/sparta/assets/ui/flags/AE-34aeeb45.png"),
AF: r.bbUrl("/sparta/assets/ui/flags/AF-f4881338.png"),
AG: r.bbUrl("/sparta/assets/ui/flags/AG-4f7153e5.png"),
AI: r.bbUrl("/sparta/assets/ui/flags/AI-7a085bf1.png"),
AL: r.bbUrl("/sparta/assets/ui/flags/AL-a8bfa21a.png"),
AM: r.bbUrl("/sparta/assets/ui/flags/AM-56e77b86.png"),
AN: r.bbUrl("/sparta/assets/ui/flags/AN-e00b5e97.png"),
AO: r.bbUrl("/sparta/assets/ui/flags/AO-8841662d.png"),
AQ: r.bbUrl("/sparta/assets/ui/flags/AQ-9a8eefd0.png"),
AR: r.bbUrl("/sparta/assets/ui/flags/AR-151d1e46.png"),
AS: r.bbUrl("/sparta/assets/ui/flags/AS-bac10830.png"),
AT: r.bbUrl("/sparta/assets/ui/flags/AT-496ebc6e.png"),
AU: r.bbUrl("/sparta/assets/ui/flags/AU-c78ee63c.png"),
AW: r.bbUrl("/sparta/assets/ui/flags/AW-46ef162b.png"),
AX: r.bbUrl("/sparta/assets/ui/flags/AX-5635d351.png"),
AZ: r.bbUrl("/sparta/assets/ui/flags/AZ-d5b6a7a6.png"),
BA: r.bbUrl("/sparta/assets/ui/flags/BA-99323356.png"),
BB: r.bbUrl("/sparta/assets/ui/flags/BB-b8996737.png"),
BD: r.bbUrl("/sparta/assets/ui/flags/BD-c4e23a5d.png"),
BE: r.bbUrl("/sparta/assets/ui/flags/BE-fb78d11e.png"),
BF: r.bbUrl("/sparta/assets/ui/flags/BF-27a4adc9.png"),
BG: r.bbUrl("/sparta/assets/ui/flags/BG-6aebcc10.png"),
BH: r.bbUrl("/sparta/assets/ui/flags/BH-bc6116e2.png"),
BI: r.bbUrl("/sparta/assets/ui/flags/BI-05145efa.png"),
BJ: r.bbUrl("/sparta/assets/ui/flags/BJ-cff84c9f.png"),
BL: r.bbUrl("/sparta/assets/ui/flags/BL-49a69e98.png"),
BM: r.bbUrl("/sparta/assets/ui/flags/BM-c2589543.png"),
BN: r.bbUrl("/sparta/assets/ui/flags/BN-49969ca8.png"),
BO: r.bbUrl("/sparta/assets/ui/flags/BO-29112a71.png"),
BR: r.bbUrl("/sparta/assets/ui/flags/BR-9ea3dd9d.png"),
BS: r.bbUrl("/sparta/assets/ui/flags/BS-06c54b61.png"),
BT: r.bbUrl("/sparta/assets/ui/flags/BT-1191498b.png"),
BW: r.bbUrl("/sparta/assets/ui/flags/BW-d28b1034.png"),
BY: r.bbUrl("/sparta/assets/ui/flags/BY-61745439.png"),
BZ: r.bbUrl("/sparta/assets/ui/flags/BZ-7ee3e3f9.png"),
CA: r.bbUrl("/sparta/assets/ui/flags/CA-1cb4ebdd.png"),
CC: r.bbUrl("/sparta/assets/ui/flags/CC-c4ae74d9.png"),
CD: r.bbUrl("/sparta/assets/ui/flags/CD-7ffcc4fb.png"),
CF: r.bbUrl("/sparta/assets/ui/flags/CF-13c60a13.png"),
CG: r.bbUrl("/sparta/assets/ui/flags/CG-764b5ee3.png"),
CH: r.bbUrl("/sparta/assets/ui/flags/CH-d0466f31.png"),
CI: r.bbUrl("/sparta/assets/ui/flags/CI-6c10a667.png"),
CK: r.bbUrl("/sparta/assets/ui/flags/CK-5b6e46cb.png"),
CL: r.bbUrl("/sparta/assets/ui/flags/CL-91ef7fad.png"),
CM: r.bbUrl("/sparta/assets/ui/flags/CM-0f23f4b8.png"),
CN: r.bbUrl("/sparta/assets/ui/flags/CN-4f9b63e1.png"),
CO: r.bbUrl("/sparta/assets/ui/flags/CO-df91b71e.png"),
CR: r.bbUrl("/sparta/assets/ui/flags/CR-15895bd4.png"),
CU: r.bbUrl("/sparta/assets/ui/flags/CU-080f7630.png"),
CV: r.bbUrl("/sparta/assets/ui/flags/CV-40c2d2be.png"),
CW: r.bbUrl("/sparta/assets/ui/flags/CW-e6c2517b.png"),
CX: r.bbUrl("/sparta/assets/ui/flags/CX-726d4c60.png"),
CY: r.bbUrl("/sparta/assets/ui/flags/CY-7e351f71.png"),
CZ: r.bbUrl("/sparta/assets/ui/flags/CZ-2186557c.png"),
DE: r.bbUrl("/sparta/assets/ui/flags/DE-3f0ece5b.png"),
DJ: r.bbUrl("/sparta/assets/ui/flags/DJ-731ff03d.png"),
DK: r.bbUrl("/sparta/assets/ui/flags/DK-e6ae2fd1.png"),
DM: r.bbUrl("/sparta/assets/ui/flags/DM-08bde27b.png"),
DO: r.bbUrl("/sparta/assets/ui/flags/DO-8dbc556c.png"),
DZ: r.bbUrl("/sparta/assets/ui/flags/DZ-0a977a8f.png"),
EC: r.bbUrl("/sparta/assets/ui/flags/EC-231273bd.png"),
EE: r.bbUrl("/sparta/assets/ui/flags/EE-21c26c51.png"),
EG: r.bbUrl("/sparta/assets/ui/flags/EG-d58f60dc.png"),
EH: r.bbUrl("/sparta/assets/ui/flags/EH-39b91f9a.png"),
ER: r.bbUrl("/sparta/assets/ui/flags/ER-ed880635.png"),
ES: r.bbUrl("/sparta/assets/ui/flags/ES-b73d720d.png"),
ET: r.bbUrl("/sparta/assets/ui/flags/ET-4d0ae275.png"),
EU: r.bbUrl("/sparta/assets/ui/flags/EU-320e862e.png"),
FI: r.bbUrl("/sparta/assets/ui/flags/FI-61123a1d.png"),
FJ: r.bbUrl("/sparta/assets/ui/flags/FJ-879730c4.png"),
FK: r.bbUrl("/sparta/assets/ui/flags/FK-5704bf47.png"),
FM: r.bbUrl("/sparta/assets/ui/flags/FM-a9c3f10c.png"),
FO: r.bbUrl("/sparta/assets/ui/flags/FO-8249d71d.png"),
FR: r.bbUrl("/sparta/assets/ui/flags/FR-d96086fc.png"),
GA: r.bbUrl("/sparta/assets/ui/flags/GA-ba126721.png"),
GB: r.bbUrl("/sparta/assets/ui/flags/GB-7daf4fd0.png"),
GD: r.bbUrl("/sparta/assets/ui/flags/GD-a8341409.png"),
GE: r.bbUrl("/sparta/assets/ui/flags/GE-1ee8f5d0.png"),
GG: r.bbUrl("/sparta/assets/ui/flags/GG-d56b0224.png"),
GH: r.bbUrl("/sparta/assets/ui/flags/GH-e69af5ad.png"),
GI: r.bbUrl("/sparta/assets/ui/flags/GI-05d2c630.png"),
GL: r.bbUrl("/sparta/assets/ui/flags/GL-8e00a7de.png"),
GM: r.bbUrl("/sparta/assets/ui/flags/GM-db071389.png"),
GN: r.bbUrl("/sparta/assets/ui/flags/GN-a04cd28f.png"),
GQ: r.bbUrl("/sparta/assets/ui/flags/GQ-595ac586.png"),
GR: r.bbUrl("/sparta/assets/ui/flags/GR-bb5e4eb4.png"),
GS: r.bbUrl("/sparta/assets/ui/flags/GS-4e207b92.png"),
GT: r.bbUrl("/sparta/assets/ui/flags/GT-66c6de72.png"),
GU: r.bbUrl("/sparta/assets/ui/flags/GU-7396a516.png"),
GW: r.bbUrl("/sparta/assets/ui/flags/GW-269ec765.png"),
GY: r.bbUrl("/sparta/assets/ui/flags/GY-59b053dc.png"),
HK: r.bbUrl("/sparta/assets/ui/flags/HK-27077c47.png"),
HN: r.bbUrl("/sparta/assets/ui/flags/HN-c17bfb28.png"),
HR: r.bbUrl("/sparta/assets/ui/flags/HR-23ab6bf3.png"),
HT: r.bbUrl("/sparta/assets/ui/flags/HT-9baeec8d.png"),
HU: r.bbUrl("/sparta/assets/ui/flags/HU-15146d95.png"),
IC: r.bbUrl("/sparta/assets/ui/flags/IC-1d88fd18.png"),
ID: r.bbUrl("/sparta/assets/ui/flags/ID-c00e98ab.png"),
IE: r.bbUrl("/sparta/assets/ui/flags/IE-0902c961.png"),
IL: r.bbUrl("/sparta/assets/ui/flags/IL-b1e6df32.png"),
IM: r.bbUrl("/sparta/assets/ui/flags/IM-9b6dfad3.png"),
IN: r.bbUrl("/sparta/assets/ui/flags/IN-faacf69d.png"),
IQ: r.bbUrl("/sparta/assets/ui/flags/IQ-fd96bef3.png"),
IR: r.bbUrl("/sparta/assets/ui/flags/IR-06b2b498.png"),
IS: r.bbUrl("/sparta/assets/ui/flags/IS-ebeb633f.png"),
IT: r.bbUrl("/sparta/assets/ui/flags/IT-3dd2a276.png"),
JE: r.bbUrl("/sparta/assets/ui/flags/JE-5d1e66cb.png"),
JM: r.bbUrl("/sparta/assets/ui/flags/JM-239552fe.png"),
JO: r.bbUrl("/sparta/assets/ui/flags/JO-2b6fd088.png"),
JP: r.bbUrl("/sparta/assets/ui/flags/JP-e879a1c8.png"),
KE: r.bbUrl("/sparta/assets/ui/flags/KE-b75186ce.png"),
KG: r.bbUrl("/sparta/assets/ui/flags/KG-9f9b8a89.png"),
KH: r.bbUrl("/sparta/assets/ui/flags/KH-66c625eb.png"),
KI: r.bbUrl("/sparta/assets/ui/flags/KI-f4d2aadb.png"),
KM: r.bbUrl("/sparta/assets/ui/flags/KM-ab5d5854.png"),
KN: r.bbUrl("/sparta/assets/ui/flags/KN-1b4a1629.png"),
KP: r.bbUrl("/sparta/assets/ui/flags/KP-35f95e2b.png"),
KR: r.bbUrl("/sparta/assets/ui/flags/KR-044e720c.png"),
KW: r.bbUrl("/sparta/assets/ui/flags/KW-ebb336cb.png"),
KY: r.bbUrl("/sparta/assets/ui/flags/KY-5d87bdea.png"),
KZ: r.bbUrl("/sparta/assets/ui/flags/KZ-0a9aa87b.png"),
LA: r.bbUrl("/sparta/assets/ui/flags/LA-eb21d164.png"),
LB: r.bbUrl("/sparta/assets/ui/flags/LB-9158ae1b.png"),
LC: r.bbUrl("/sparta/assets/ui/flags/LC-10120f60.png"),
LI: r.bbUrl("/sparta/assets/ui/flags/LI-0d1ea135.png"),
LK: r.bbUrl("/sparta/assets/ui/flags/LK-b5a963cc.png"),
LR: r.bbUrl("/sparta/assets/ui/flags/LR-e88bf94b.png"),
LS: r.bbUrl("/sparta/assets/ui/flags/LS-6bc2b679.png"),
LT: r.bbUrl("/sparta/assets/ui/flags/LT-debf99d2.png"),
LU: r.bbUrl("/sparta/assets/ui/flags/LU-b7838ab6.png"),
LV: r.bbUrl("/sparta/assets/ui/flags/LV-b2f24089.png"),
LY: r.bbUrl("/sparta/assets/ui/flags/LY-fa400dde.png"),
MA: r.bbUrl("/sparta/assets/ui/flags/MA-6b4517ad.png"),
MD: r.bbUrl("/sparta/assets/ui/flags/MD-63951696.png"),
ME: r.bbUrl("/sparta/assets/ui/flags/ME-a9593d1d.png"),
MF: r.bbUrl("/sparta/assets/ui/flags/MF-c92f9c50.png"),
MG: r.bbUrl("/sparta/assets/ui/flags/MG-9b4dacfc.png"),
MH: r.bbUrl("/sparta/assets/ui/flags/MH-b0c3855c.png"),
MK: r.bbUrl("/sparta/assets/ui/flags/MK-79c0a0db.png"),
ML: r.bbUrl("/sparta/assets/ui/flags/ML-e798d38e.png"),
MM: r.bbUrl("/sparta/assets/ui/flags/MM-ea30c673.png"),
MN: r.bbUrl("/sparta/assets/ui/flags/MN-b926f134.png"),
MO: r.bbUrl("/sparta/assets/ui/flags/MO-c3e6327d.png"),
MP: r.bbUrl("/sparta/assets/ui/flags/MP-19d69554.png"),
MQ: r.bbUrl("/sparta/assets/ui/flags/MQ-5866388c.png"),
MR: r.bbUrl("/sparta/assets/ui/flags/MR-4c5750cd.png"),
MS: r.bbUrl("/sparta/assets/ui/flags/MS-2b8d8f74.png"),
MT: r.bbUrl("/sparta/assets/ui/flags/MT-736e2d9e.png"),
MU: r.bbUrl("/sparta/assets/ui/flags/MU-4ef5c631.png"),
MV: r.bbUrl("/sparta/assets/ui/flags/MV-5b7bbfd0.png"),
MW: r.bbUrl("/sparta/assets/ui/flags/MW-ce5608e7.png"),
MX: r.bbUrl("/sparta/assets/ui/flags/MX-57283c58.png"),
MY: r.bbUrl("/sparta/assets/ui/flags/MY-f7e43df2.png"),
MZ: r.bbUrl("/sparta/assets/ui/flags/MZ-c29168e1.png"),
NA: r.bbUrl("/sparta/assets/ui/flags/NA-4fd5ff15.png"),
NC: r.bbUrl("/sparta/assets/ui/flags/NC-a856653e.png"),
NE: r.bbUrl("/sparta/assets/ui/flags/NE-70b14b65.png"),
NF: r.bbUrl("/sparta/assets/ui/flags/NF-99457e75.png"),
NG: r.bbUrl("/sparta/assets/ui/flags/NG-3de8b11c.png"),
NI: r.bbUrl("/sparta/assets/ui/flags/NI-877b6b79.png"),
NL: r.bbUrl("/sparta/assets/ui/flags/NL-3dbf7fba.png"),
NO: r.bbUrl("/sparta/assets/ui/flags/NO-cc5a119b.png"),
NP: r.bbUrl("/sparta/assets/ui/flags/NP-a2d224e2.png"),
NR: r.bbUrl("/sparta/assets/ui/flags/NR-a1c8802e.png"),
NU: r.bbUrl("/sparta/assets/ui/flags/NU-21ce1ccb.png"),
NZ: r.bbUrl("/sparta/assets/ui/flags/NZ-623ae5d6.png"),
OM: r.bbUrl("/sparta/assets/ui/flags/OM-5e2c5328.png"),
PA: r.bbUrl("/sparta/assets/ui/flags/PA-b18627d2.png"),
PE: r.bbUrl("/sparta/assets/ui/flags/PE-e39e726f.png"),
PF: r.bbUrl("/sparta/assets/ui/flags/PF-b0b49a4d.png"),
PG: r.bbUrl("/sparta/assets/ui/flags/PG-3fd13ef9.png"),
PH: r.bbUrl("/sparta/assets/ui/flags/PH-15f7ee1c.png"),
PK: r.bbUrl("/sparta/assets/ui/flags/PK-db8fc9c9.png"),
PL: r.bbUrl("/sparta/assets/ui/flags/PL-75c0761b.png"),
PN: r.bbUrl("/sparta/assets/ui/flags/PN-3ac40607.png"),
PR: r.bbUrl("/sparta/assets/ui/flags/PR-566f6e29.png"),
PS: r.bbUrl("/sparta/assets/ui/flags/PS-df64769b.png"),
PT: r.bbUrl("/sparta/assets/ui/flags/PT-74f6bf4d.png"),
PW: r.bbUrl("/sparta/assets/ui/flags/PW-caf8552c.png"),
PY: r.bbUrl("/sparta/assets/ui/flags/PY-001da2b8.png"),
QA: r.bbUrl("/sparta/assets/ui/flags/QA-fb925b16.png"),
RO: r.bbUrl("/sparta/assets/ui/flags/RO-e661d49f.png"),
RS: r.bbUrl("/sparta/assets/ui/flags/RS-778fd48d.png"),
RU: r.bbUrl("/sparta/assets/ui/flags/RU-e3a12eab.png"),
RW: r.bbUrl("/sparta/assets/ui/flags/RW-89fa2533.png"),
SA: r.bbUrl("/sparta/assets/ui/flags/SA-91d38b6d.png"),
SB: r.bbUrl("/sparta/assets/ui/flags/SB-9264ba48.png"),
SC: r.bbUrl("/sparta/assets/ui/flags/SC-cc9811a8.png"),
SD: r.bbUrl("/sparta/assets/ui/flags/SD-86fb33aa.png"),
SE: r.bbUrl("/sparta/assets/ui/flags/SE-608bbd2c.png"),
SG: r.bbUrl("/sparta/assets/ui/flags/SG-838fe09f.png"),
SH: r.bbUrl("/sparta/assets/ui/flags/SH-f239fab0.png"),
SI: r.bbUrl("/sparta/assets/ui/flags/SI-b3980327.png"),
SK: r.bbUrl("/sparta/assets/ui/flags/SK-c479360f.png"),
SL: r.bbUrl("/sparta/assets/ui/flags/SL-ac9be6e3.png"),
SM: r.bbUrl("/sparta/assets/ui/flags/SM-66fdf4f5.png"),
SN: r.bbUrl("/sparta/assets/ui/flags/SN-9d032e3d.png"),
SO: r.bbUrl("/sparta/assets/ui/flags/SO-ef2fd436.png"),
SR: r.bbUrl("/sparta/assets/ui/flags/SR-091bb522.png"),
SS: r.bbUrl("/sparta/assets/ui/flags/SS-fcab5cb2.png"),
ST: r.bbUrl("/sparta/assets/ui/flags/ST-e259df2c.png"),
SV: r.bbUrl("/sparta/assets/ui/flags/SV-d8856f13.png"),
SY: r.bbUrl("/sparta/assets/ui/flags/SY-8f5cdb1f.png"),
SZ: r.bbUrl("/sparta/assets/ui/flags/SZ-4dc0f9a7.png"),
TC: r.bbUrl("/sparta/assets/ui/flags/TC-a156dfd1.png"),
TD: r.bbUrl("/sparta/assets/ui/flags/TD-f04f31ce.png"),
TF: r.bbUrl("/sparta/assets/ui/flags/TF-4f7a0223.png"),
TG: r.bbUrl("/sparta/assets/ui/flags/TG-d021a954.png"),
TH: r.bbUrl("/sparta/assets/ui/flags/TH-8c2a3d98.png"),
TJ: r.bbUrl("/sparta/assets/ui/flags/TJ-df83741b.png"),
TK: r.bbUrl("/sparta/assets/ui/flags/TK-c87af5e4.png"),
TL: r.bbUrl("/sparta/assets/ui/flags/TL-531fe62f.png"),
TM: r.bbUrl("/sparta/assets/ui/flags/TM-808180a4.png"),
TN: r.bbUrl("/sparta/assets/ui/flags/TN-e487ea19.png"),
TO: r.bbUrl("/sparta/assets/ui/flags/TO-14931588.png"),
TR: r.bbUrl("/sparta/assets/ui/flags/TR-af48fd2a.png"),
TT: r.bbUrl("/sparta/assets/ui/flags/TT-f5b8db94.png"),
TV: r.bbUrl("/sparta/assets/ui/flags/TV-7e653864.png"),
TW: r.bbUrl("/sparta/assets/ui/flags/TW-27961448.png"),
TZ: r.bbUrl("/sparta/assets/ui/flags/TZ-4b08d222.png"),
UA: r.bbUrl("/sparta/assets/ui/flags/UA-b6b75d48.png"),
UG: r.bbUrl("/sparta/assets/ui/flags/UG-710c7a4e.png"),
US: r.bbUrl("/sparta/assets/ui/flags/US-24c80f7b.png"),
UY: r.bbUrl("/sparta/assets/ui/flags/UY-b38a0a1b.png"),
UZ: r.bbUrl("/sparta/assets/ui/flags/UZ-83c792e5.png"),
VA: r.bbUrl("/sparta/assets/ui/flags/VA-71d050c3.png"),
VC: r.bbUrl("/sparta/assets/ui/flags/VC-7eebd710.png"),
VE: r.bbUrl("/sparta/assets/ui/flags/VE-6d34bf9d.png"),
VG: r.bbUrl("/sparta/assets/ui/flags/VG-a425a235.png"),
VI: r.bbUrl("/sparta/assets/ui/flags/VI-c16a5faf.png"),
VN: r.bbUrl("/sparta/assets/ui/flags/VN-d17eb47d.png"),
VU: r.bbUrl("/sparta/assets/ui/flags/VU-aef21d3d.png"),
WF: r.bbUrl("/sparta/assets/ui/flags/WF-26a80e56.png"),
WS: r.bbUrl("/sparta/assets/ui/flags/WS-b3a806b0.png"),
YE: r.bbUrl("/sparta/assets/ui/flags/YE-f4dbdf42.png"),
YT: r.bbUrl("/sparta/assets/ui/flags/YT-febdebbe.png"),
ZA: r.bbUrl("/sparta/assets/ui/flags/ZA-4e295308.png"),
ZM: r.bbUrl("/sparta/assets/ui/flags/ZM-8775588c.png"),
ZW: r.bbUrl("/sparta/assets/ui/flags/ZW-6b58d77a.png"),
other: r.bbUrl("/sparta/assets/ui/flags/default-870fef7b.png")
};
}, function(e, t, n) {
"use strict";
var r = n(15);
t.fetchFriends = r.createAction();
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(8), i = function() {
function e() {
this.games = [];
}
return e.prototype.addGameToFetch = function(e) {
-1 === this.games.indexOf(e) && this.games.push(e);
}, e.prototype.addGamesToFetch = function(e) {
for (var t in e) e.hasOwnProperty(t) && this.addGameToFetch(e[t]);
}, e;
}();
r([ o.observable ], i.prototype, "games", void 0), r([ o.action ], i.prototype, "addGameToFetch", null), 
r([ o.action ], i.prototype, "addGamesToFetch", null), t.CareerFetchingState = i, 
t.careerFetchingState = new i(), o.reaction(function() {
return a.layoutStateStore.current;
}, function(e) {
var n = e.config.gameId;
n && -1 === t.careerFetchingState.games.indexOf(n) && t.careerFetchingState.addGameToFetch(n);
});
}, function(e, t) {
"use strict";
t.offlinePrefix = "http://offline.twinkle", t.offlinePrefixLen = t.offlinePrefix.length, 
t.onlinePrefix = "http://online.twinkle", t.onlinePrefixLen = t.onlinePrefix.length, 
t.bbPrefix = "[BB_PREFIX]", t.bbPrefixLen = t.bbPrefix.length;
}, function(e, t) {
"use strict";
var n = {}, r = function() {
function e() {}
return e.inc = function(e, t) {
void 0 === t && (t = 1), n[e] || (n[e] = 0), n[e] += t;
}, e.reset = function() {
n = {};
}, e.get = function() {
return n;
}, e;
}();
t.Metrics = r;
}, function(e, t, n) {
"use strict";
function r(e) {
if (a.options.enableDevWarnings) {
if (!Array.isArray(e)) throw console.error(e), new Error("Batch calls was not an array");
e.forEach(function(t) {
if ("string" != typeof t.func) throw console.error(e), new Error("Batch call function name was not a string");
if (!Array.isArray(t.args)) throw console.error(e), new Error("Batch call args was not an array");
if ("Sync" !== t.func.substr(t.func.length - 4)) throw console.error(e), new Error("Batch call can only be made for sync functions, not: " + t.func);
});
}
if (o.getBuildInfo().hasBatchedRemoteCalls()) {
var t = [];
return e.forEach(function(e) {
t.push(e.func, e.args);
}), i.RemoteEngine.syncRequest(JSON.stringify(t));
}
return e.map(function(e) {
return s.nativeApi.delegate.call(e.func, !0, e.args);
});
}
var o = n(101), a = n(76), i = n(388), s = n(47);
t.batchSyncCalls = r;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(266), i = n(177), s = n(116), l = n(76), u = function() {
function e(e, t) {
var n = this;
this.focusSystem = e, this.debugName = t, this.inputs = [], this.clickInput = null, 
this.group = null, this.surfaceElement = null, this.inheritsStateFrom = [], this.focusOnHover = !0, 
this.autoFocusCandidate = !1, this.disablers = [], this.onDestroy = new s.TwinkleSignal(), 
this.onClick = new s.TwinkleSignal(), this.onChange = new s.TwinkleTypedEvent(), 
this.element = null, this.directionHandlers = {}, this.bounds = null, this.isActiveCache = !0, 
this.onFocus(function() {
return n.onChange.trigger(!0);
}), this.onBlur(function() {
return n.onChange.trigger(!1);
}), this.onDestroy.listen(o.autorun(function() {
n.isFocused && !n.isActive && o.untracked(function() {
return n.focusSystem.removeFocus(n);
});
})), this.hooks = {
ref: function(e) {
return n.setSurfaceElement(e);
},
onBounds: function(e) {
return n.setBounds(e);
},
onClick: this.handleClick.bind(this),
onMouseEnter: this.handleMouseEnter.bind(this),
onMouseLeave: this.handleMouseLeave.bind(this)
}, this.onDestroy.listen(o.reaction(function() {
return n.isActive;
}, o.action("set active cache", function(e) {
n.isActiveCache = e;
}), !0));
}
return e.prototype.setBounds = function(e) {
this.bounds = a.Bounds.fromRaw(e);
}, e.prototype.inheritStateFrom = function(e) {
this.inheritsStateFrom = e;
}, e.prototype.setSurfaceElement = function(e) {
this.surfaceElement = e, e && this.didMount();
}, e.prototype.toString = function() {
return "FocusItem(" + this.debugName + ")";
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
if (this.focusSystem.isolatedGroups.length > 0 && (!this.group || -1 === this.focusSystem.isolatedGroups.indexOf(this.group))) return !1;
var e = this.focusSystem.isolatedAncestors.length;
if (e > 0) {
var t = this.focusSystem.isolatedAncestors[e - 1];
if (-1 === t.getChildren().indexOf(this) && -1 === t.getIsolationExceptions().indexOf(this)) return !1;
}
return 0 === this.disablers.length && (!this.group || this.group.isActive);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isFocused", {
get: function() {
var e = this.inheritsStateFrom.length > 0 && this.inheritsStateFrom.filter(function(e) {
return e.isFocused;
}).length > 0;
return e || this.focusSystem.focusedItem === this;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isHovered", {
get: function() {
var e = this.inheritsStateFrom.length > 0 && this.inheritsStateFrom.filter(function(e) {
return e.isHovered;
}).length > 0;
return e || this.focusSystem.hoveredItem === this;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "activeInputs", {
get: function() {
return this.clickInput ? [ this.clickInput ] : this.inputs ? this.inputs : [];
},
enumerable: !0,
configurable: !0
}), e.prototype.didMount = function() {
this.autoFocusCandidate && !this.focusSystem.focusedItem && this.focusSystem.controllerMode && this.setFocused(i.FocusSource.Auto);
}, e.prototype.handleDirection = function(e, t) {
this.directionHandlers[e] = t;
}, e.prototype.isValidForFocus = function() {
return this.isActiveCache && null !== this.getBackingSurfaceId();
}, e.prototype.navigate = function(e) {
if (this.focusSystem.log("Navigating from " + this.debugName + " to " + i.Direction[e]), 
this.group) {
var t = this.group.navigateFromItem(this, e);
if (1 !== t.result) return t;
}
return this.directionHandlers[e] ? this.directionHandlers[e](e) : {
result: 1
};
}, e.prototype.setClickInput = function(e) {
this.clickInput = e;
}, e.prototype.setInputs = function(e) {
e || (e = []), Array.isArray(e) || (e = [ e ]), this.inputs = e;
}, e.prototype.setActive = function(e, t) {
var n = this.disablers.indexOf(e);
n > -1 && t && this.disablers.splice(n, 1), -1 !== n || t || this.disablers.push(e);
}, e.prototype.setFocused = function(e) {
this.focusSystem.setAsFocused(this, e);
}, e.prototype.setHovered = function(e) {
this.focusOnHover ? this.focusSystem.setAsFocused(this, e) : this.focusSystem.setAsHovered(this, e);
}, e.prototype.removeHover = function() {
this.focusOnHover ? this.focusSystem.removeFocus(this) : this.focusSystem.removeHover(this);
}, e.prototype.isEventOnInheritedFocusItem = function(e) {
if (this.inheritsStateFrom.length > 0) for (var t = this.inheritsStateFrom.map(function(e) {
return e.getBackingSurfaceId();
}), n = 0; n < e.surfaces.length; n++) {
var r = e.surfaces[n];
if (t.indexOf(r.surfaceId) >= 0) return !0;
}
return !1;
}, e.prototype.handleClick = function(e) {
this.isEventOnInheritedFocusItem(e) || (this.onClick.trigger(), this.focusSystem.controllerMode = !1, 
this.setFocused(i.FocusSource.Mouse), this.clickInput && this.clickInput.action());
}, e.prototype.handleMouseEnter = function(e) {
this.isEventOnInheritedFocusItem(e) || (this.focusSystem.log("Mouse enter " + this.debugName), 
this.focusSystem.controllerMode = !1, this.setHovered(i.FocusSource.Mouse));
}, e.prototype.handleMouseLeave = function(e) {
this.isEventOnInheritedFocusItem(e) || (this.focusSystem.log("Mouse leave " + this.debugName), 
this.focusSystem.controllerMode = !1, this.removeHover());
}, e.prototype.onFocus = function(e) {
var t = this, n = o.autorun(function() {
t.isFocused && o.untracked(e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.onBlur = function(e) {
var t = this, n = this.onFocus(function() {
return o.when(function() {
return !t.isFocused;
}, e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.onHover = function(e) {
var t = this, n = o.autorun(function() {
t.isHovered && o.untracked(e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.onLeave = function(e) {
var t = this, n = this.onHover(function() {
return o.when(function() {
return !t.isHovered;
}, e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.connectLifeCycle = function(e) {
var t = this, n = e.componentWillUnmount, r = e.componentDidMount, o = 0;
e.componentDidMount = function() {
l.options.enableDevWarnings && (o = setTimeout(function() {
!t.surfaceElement && t.isActive && console.warn("Mounted focusable " + t.debugName + " without a surface element, did you forget to hook it to a surface?");
}, 1e3)), r && r.apply(e);
}, e.componentWillUnmount = function() {
l.options.enableDevWarnings && clearTimeout(o), t.destroy(), n && n.apply(e);
};
}, e.prototype.getBackingSurfaceId = function() {
return this.surfaceElement && this.surfaceElement._rootNodeID ? this.surfaceElement._rootNodeID : null;
}, e.prototype.getBounds = function() {
return this.bounds;
}, e.prototype.destroy = function() {
this.inputs = [], this.onChange.destroy(), this.onClick.destroy(), this.onDestroy.trigger(), 
this.onDestroy.destroy(), this.focusSystem.remove(this);
}, e;
}();
r([ o.observable ], u.prototype, "inputs", void 0), r([ o.observable ], u.prototype, "clickInput", void 0), 
r([ o.observable ], u.prototype, "group", void 0), r([ o.observable ], u.prototype, "surfaceElement", void 0), 
r([ o.observable ], u.prototype, "inheritsStateFrom", void 0), r([ o.observable ], u.prototype, "disablers", void 0), 
r([ o.observable ], u.prototype, "isActiveCache", void 0), r([ o.action ], u.prototype, "inheritStateFrom", null), 
r([ o.action ], u.prototype, "setSurfaceElement", null), r([ o.computed ], u.prototype, "isActive", null), 
r([ o.computed ], u.prototype, "isFocused", null), r([ o.computed ], u.prototype, "isHovered", null), 
r([ o.computed ], u.prototype, "activeInputs", null), r([ o.action ], u.prototype, "setClickInput", null), 
r([ o.action ], u.prototype, "setInputs", null), r([ o.action ], u.prototype, "setActive", null), 
r([ o.action ], u.prototype, "setFocused", null), r([ o.action ], u.prototype, "setHovered", null), 
r([ o.action ], u.prototype, "removeHover", null), r([ o.action ], u.prototype, "handleClick", null), 
r([ o.action ], u.prototype, "handleMouseEnter", null), r([ o.action ], u.prototype, "handleMouseLeave", null), 
r([ o.action ], u.prototype, "destroy", null), t.FocusItem = u;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(262), s = n(10).observer, l = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.focusItem = i.create(n, n.props.debugName), t.autoFocusCandidate && (n.focusItem.autoFocusCandidate = !0), 
t.group && t.group.addMember(n.focusItem, t.groupIndex), i.onComponentUpdate(n, function(e, t) {
"undefined" != typeof e.focusOnHover && (n.focusItem.focusOnHover = e.focusOnHover), 
n.focusItem.setActive("Focusable.tsx", "boolean" == typeof e.isActive ? e.isActive : !0);
}), n;
}
return r(t, e), t.prototype.componentWillMount = function() {
var e = this;
this.focusItem.onFocus(function() {
"function" == typeof e.props.onFocus && e.props.onFocus();
}), this.focusItem.onBlur(function() {
"function" == typeof e.props.onBlur && e.props.onBlur();
});
}, t.prototype.render = function() {
var e = this.props.children;
return "function" == typeof e ? e(this.focusItem) : (console.warn("Expected a function as the children to Focusable"), 
null);
}, t;
}(a.Component);
l = o([ s ], l), t.Focusable = l;
}, function(e, t, n) {
"use strict";
var r = n(116), o = n(76), a = n(47), i = {};
t.frostbite = {
sendMessage: function(e, t) {
void 0 === t && (t = null), o.options.enableLogging && console.info("Frostbite event (send):", e, t), 
a.nativeApi.sendMessage(e, t);
},
getMessageListener: function(e) {
return i[e] || (i[e] = new r.TwinkleEvent());
},
registerMessageListener: function(e, n) {
var r = t.frostbite.getMessageListener(e);
return r.listen(function() {
n && n.apply(n, arguments);
});
},
removeMessageListener: function(e, t) {
var n = i[e] || (i[e] = new r.TwinkleEvent()), o = n.callbacks.indexOf(t);
-1 !== o && n.callbacks.splice(o, 1);
}
}, a.nativeApi.onFrostbiteMessage = function(e, t) {
var n = i[e];
if (n) try {
n.trigger(e, t);
} catch (r) {
throw r.message = "Failed to handle frostbite message " + e + ":" + r.message, r;
}
o.options.enableLogging && console.info("Frostbite event (receive):", e, t);
};
}, function(e, t, n) {
"use strict";
function r(e, t, n, r, o, a) {
o && (n = "string" == typeof n ? n : JSON.stringify(n));
var s = {
id: i++,
method: e,
url: t,
data: n,
headers: r,
isJson: o,
callback: a
};
l.add(s);
}
var o = n(47), a = 8, i = 1, s = function() {
function e() {
this.queuedIds = [], this.requestMap = {}, this.numInProgress = 0;
}
return e.prototype.next = function() {
if (0 !== this.queuedIds.length) {
if (this.numInProgress >= a) return void console.warn("Queueing request, max concurrent HTTP requests reached:", a);
var e = this.queuedIds.shift();
if (e) {
var t = this.requestMap[e];
t && (this.numInProgress++, o.nativeApi.httpRequest(t.id, t.method, t.url, t.data, t.headers));
}
}
}, e.prototype.add = function(e) {
this.requestMap[e.id] = e, this.queuedIds.push(e.id), this.next();
}, e.prototype.remove = function(e) {
delete this.requestMap[e.id], this.numInProgress--, this.next();
}, e;
}(), l = new s();
t.httpRequest = r, o.nativeApi.onHttpRequestCompleted = function(e, t, n, r, o) {
var a = l.requestMap[e];
if (!a) return void console.warn("Unable to handle unknown http response", {
requestId: e,
data: n,
headers: r,
statusCode: o
});
if (a.isJson) {
try {
n = "" !== n ? JSON.parse(n) : {};
} catch (i) {
console.error("Bad JSON from server:", n), n = {};
}
null === n && (n = {}), n || (n = {}), t || n.error || (n.error = {
message: "HTTP REQUEST FAILED (status code: " + o + ")",
code: o
});
}
l.remove(a), a.callback && a.callback(t, n, r);
};
}, function(e, t) {
"use strict";
function n(e, n, r) {
t.lookup[e + "_" + n] = r;
}
function r(e, n) {
delete t.lookup[e + "_" + n];
}
function o(e, n) {
return t.lookup[e + "_" + n];
}
t.lookup = {}, t.setCallback = n, t.clearCallback = r, t.getCallback = o;
}, function(e, t, n) {
"use strict";
var r = n(116), o = function() {
function e(e, t, n, o, a, i, s) {
var l = this;
this.lifespan = e, this.x = t, this.y = n, this.opacity = o, this.scale = a, this.rotate = i, 
this.color = s, this.death = new r.TwinkleSignal(), setTimeout(function() {
return l.death.trigger();
}, this.lifespan);
}
return e;
}();
t.Particle = o;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(264), i = function() {
function e(e, t, n, r, o, a, i) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = "Linear"), 
void 0 === r && (r = .2), void 0 === o && (o = .2), void 0 === a && (a = .8), void 0 === i && (i = .8), 
this.from = e, this.to = t, this.easing = n, this.p1x = r, this.p1y = o, this.p2x = a, 
this.p2y = i;
}
return e;
}();
t.TweenConfig = i;
var s = function() {
function e(e, t, n) {
var r = this;
this.easing = "Linear", this.p1x = new a.JitterValue(.2, 0, null), this.p1y = new a.JitterValue(.2, 0, null), 
this.p2x = new a.JitterValue(.8, 0, null), this.p2y = new a.JitterValue(.8, 0, null), 
o.action("JitterTweenConfig init", function() {
r.from = e, r.to = t, r.easing = n;
})();
}
return e.prototype.generateConfig = function() {
var e = this.from.generateValue(), t = this.to.generateValue();
return this.from.absolute && !this.to.absolute ? t += e : !this.from.absolute && this.to.absolute && (e += t), 
new i(e, t, this.easing, this.p1x.generateValue(), this.p1y.generateValue(), this.p2x.generateValue(), this.p2y.generateValue());
}, e.prototype.toJson = function() {
return {
from: this.from.toJson(),
to: this.to.toJson(),
easing: this.easing,
p1x: this.p1x.toJson(),
p1y: this.p1y.toJson(),
p2x: this.p2x.toJson(),
p2y: this.p2y.toJson()
};
}, e.prototype.fromJson = function(e) {
this.from.fromJson(e.from), this.to.fromJson(e.to), this.easing = e.easing, this.p1x.fromJson(e.p1x), 
this.p1y.fromJson(e.p1y), this.p2x.fromJson(e.p2x), this.p2y.fromJson(e.p2y);
}, e;
}();
r([ o.observable ], s.prototype, "from", void 0), r([ o.observable ], s.prototype, "to", void 0), 
r([ o.observable ], s.prototype, "easing", void 0), r([ o.observable ], s.prototype, "p1x", void 0), 
r([ o.observable ], s.prototype, "p1y", void 0), r([ o.observable ], s.prototype, "p2x", void 0), 
r([ o.observable ], s.prototype, "p2y", void 0), t.JitterTweenConfig = s;
}, function(e, t) {
"use strict";
function n(e, t) {
if (!t.group && !t.guid) return void console.error("Test element at '" + e + "' is missing a guid or group");
var n = {
props: t,
surfaceId: e
};
if (t.guid) {
var r = f[t.guid];
if (r) return void console.error("Test element guid '" + t.guid + "' cannot be set on '" + t.guid + "' since it is already in use at '" + r.props.guid + "'");
f[t.guid] = n, l("mount", t.guid);
}
t.group && d.get(t.group).addElement(n);
}
function r(e, t) {
t.guid && (l("unmount", t.guid), delete f[t.guid]), t.group && d.get(t.group).removeElementById(e);
}
function o(e, t, o) {
return o.guid || o.group ? (t.guid && o.guid ? t.guid !== o.guid ? (r(e, t), n(e, o)) : f[t.guid].props = o : t.guid ? r(e, t) : o.guid && n(e, o), 
void (t.group && o.group ? t.group !== o.group ? (d.get(t.group).removeElementById(e), 
d.get(o.group).addElement({
surfaceId: e,
props: o
})) : d.get(o.group).updateElementById(e, o) : t.group ? d.get(t.group).removeElementById(e) : o.group && d.get(o.group).addElement({
surfaceId: e,
props: o
}))) : void console.error("Test element at '" + e + "' is missing a guid or group");
}
function a(e) {
return f.hasOwnProperty(e);
}
function i(e) {
return f[e];
}
function s(e) {
return d.get(e).elements;
}
function l(e, t) {
var n = e + "_" + t;
h[n] && (h[n].slice().forEach(function(e) {
e();
}), delete h[n]);
}
function u(e, t, n) {
var r = e + "_" + t;
h[r] || (h[r] = []), h[r].push(n);
}
function c(e, t) {
a(e) ? t() : u("mount", e, t);
}
function p(e, t) {
a(e) ? u("unmount", e, t) : t();
}
var f = {}, d = function() {
function e(e) {
this.name = e, this.elements = [];
}
return e.prototype.addElement = function(e) {
this.elements.push(e), this.trigger();
}, e.prototype.removeElementById = function(e) {
this.elements = this.elements.filter(function(t) {
return t.surfaceId !== e;
}), this.trigger();
}, e.prototype.updateElementById = function(e, t) {
this.elements.forEach(function(n) {
n.surfaceId === e && (n.props = t);
}), this.trigger();
}, e.prototype.trigger = function() {}, e.get = function(t) {
return e.groups[t] || (e.groups[t] = new e(t)), e.groups[t];
}, e;
}();
d.groups = {}, t.mount = n, t.unmount = r, t.update = o, t.isMounted = a, t.getByGuid = i, 
t.getGroup = s;
var h = {};
t.onMount = c, t.onUnmount = p;
}, function(e, t, n) {
(function(e) {
"use strict";
var r = n(389), o = n(76), a = function() {
function t() {
this.clientIsOpen = !1, this.queuedPayloads = [];
}
return t.prototype.start = function(n) {
var r = this;
this.client = new WebSocket("ws://" + e.location.host + "/ws"), this.client.onopen = function() {
r.clientIsOpen = !0, r.queuedPayloads.forEach(function(e) {
return r.sendPayload(e);
}), r.queuedPayloads.length = 0, n();
}, this.client.onerror = function(e) {
r.clientIsOpen = !1, console.error("WebSocket connection closed down.", e), n && n();
}, this.client.onmessage = function(e) {
r.onScriptCalls ? r.onScriptCalls(t.getCallsFromMessage(e)) : console.log("onScriptCalls not added to RemoteEngine");
};
}, t.decodeResponse = function(e) {
return e.replace(/"__BASE64(.*?)"/g, function(e, t) {
return JSON.stringify(r.decode(t));
});
}, t.createPayload = function(e, t) {
return JSON.stringify([ e, t ]);
}, t.syncRequest = function(n) {
var r = new e.XMLHttpRequest();
if (r.open("POST", "/sync_call", !1), r.send(n), 200 !== r.status) throw console.error("Got status: ", r.status, " for payload ", n), 
new Error("Sync call returned status " + r.status + ". See console for more detail.");
try {
return JSON.parse(t.decodeResponse(r.responseText));
} catch (o) {
throw console.error("Could not parse TwinkleNative sync reply as JSON", o), console.info("Reply: ", r.responseText), 
new Error("Sync call failed to parse as JSON. See console for more detail.");
}
}, t.getCallsFromMessage = function(e) {
var n, r = t.decodeResponse(e.data);
try {
n = JSON.parse(r);
} catch (a) {
return console.error("Could not parse TwinkleNative websocket message as JSON", a), 
console.info("Websocket message: ", e.data), [];
}
var i;
return i = "string" == typeof n[0] && Array.isArray(n[1]) ? [ n ] : n, o.options.batchCallTransformer(i);
}, t.prototype.sendPayload = function(e) {
if (this.client.readyState === this.client.OPEN) try {
this.client.send(e);
} catch (t) {
console.error("Failed to send payload over WebSocket:", t);
}
}, t.prototype.call = function(e, n, r) {
if ("getPerfCounter" === e) return "0";
if ("addTimingEvent" === e) return "0";
var o = t.createPayload(e, r);
return n ? t.syncRequest(o)[0] : void (this.clientIsOpen ? this.sendPayload(o) : this.queuedPayloads.push(o));
}, t;
}();
t.RemoteEngine = a;
}).call(t, function() {
return this;
}());
}, function(e, t) {
"use strict";
function n(e) {
var t, n, r, a, s, l, u, c = "", p = 0;
for (e = o(e); p < e.length; ) t = e.charCodeAt(p++), n = e.charCodeAt(p++), r = e.charCodeAt(p++), 
a = t >> 2, s = (3 & t) << 4 | n >> 4, l = (15 & n) << 2 | r >> 6, u = 63 & r, isNaN(n) ? l = u = 64 : isNaN(r) && (u = 64), 
c = c + i.charAt(a) + i.charAt(s) + i.charAt(l) + i.charAt(u);
return c;
}
function r(e) {
var t, n, r, o, s, l, u, c = "", p = 0;
for (e = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""); p < e.length; ) o = i.indexOf(e.charAt(p++)), 
s = i.indexOf(e.charAt(p++)), l = i.indexOf(e.charAt(p++)), u = i.indexOf(e.charAt(p++)), 
t = o << 2 | s >> 4, n = (15 & s) << 4 | l >> 2, r = (3 & l) << 6 | u, c += String.fromCharCode(t), 
64 !== l && (c += String.fromCharCode(n)), 64 !== u && (c += String.fromCharCode(r));
return a(c);
}
function o(e) {
e = e.replace(/\r\n/g, "\n");
for (var t = "", n = 0; n < e.length; n++) {
var r = e.charCodeAt(n);
128 > r ? t += String.fromCharCode(r) : r > 127 && 2048 > r ? (t += String.fromCharCode(r >> 6 | 192), 
t += String.fromCharCode(63 & r | 128)) : (t += String.fromCharCode(r >> 12 | 224), 
t += String.fromCharCode(r >> 6 & 63 | 128), t += String.fromCharCode(63 & r | 128));
}
return t;
}
function a(e) {
for (var t = "", n = 0, r = 0, o = 0, a = 0; n < e.length; ) r = e.charCodeAt(n), 
128 > r ? (t += String.fromCharCode(r), n++) : r > 191 && 224 > r ? (o = e.charCodeAt(n + 1), 
t += String.fromCharCode((31 & r) << 6 | 63 & o), n += 2) : (o = e.charCodeAt(n + 1), 
a = e.charCodeAt(n + 2), t += String.fromCharCode((15 & r) << 12 | (63 & o) << 6 | 63 & a), 
n += 3);
return t;
}
var i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
t.encode = n, t.decode = r;
}, function(e, t) {
"use strict";
var n = function() {
function e(e, t) {
this.x = e, this.y = t;
}
return e.prototype.angle = function(e) {
return Math.atan2(e.y - this.y, e.x - this.x);
}, e.prototype.distance = function(e) {
return Math.sqrt(Math.pow(e.x - this.x, 2) + Math.pow(e.y - this.y, 2));
}, e.prototype.squaredDistance = function(e) {
var t = e.x - this.x, n = e.y - this.y;
return t * t + n * n;
}, e;
}();
t.Point = n;
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15), o = {
medalsPageVisited: r.createAction()
};
t["default"] = o, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
for (var n = 0; n < e.length; n++) {
var r = e[n];
if ("ID_M_UNSORTED" !== r.name) for (var o = 0; o < r.awards.length; o++) {
var a = r.awards[o];
if (a.code === t) return a;
}
}
return null;
}
function o(e) {
var t = e.indexOf("bf4/XP");
if (-1 === t) return [];
var n = e.substring(t + 4, t + 7).toLowerCase();
return [ n ];
}
function a(e, t) {
var n = e[0];
if (!n || !n.license) return null;
var r = s.gatewayState.session.entitlements.hasExpansionAccess(t, n.name);
return new f({
code: n.license,
name: n.prettyName,
progression: new i.Progression({
unlocked: r,
acquired: r ? 1 : 0,
needed: 1
}),
expansions: [ n ],
icon: "expansion"
});
}
var i = n(100), s = n(8), l = n(141), u = n(5), c = n(21), p = n(50).gatewayClient, f = n(129), d = n(215), h = c.createClient({
throttle: 3e4,
request: function y(e) {
return p.request("Progression.getMissions", {
game: e
});
},
parse: function g(e, t) {
return u.compact(u.map(e, function(n) {
var s = u.map(n.awards, function(n) {
var s = u.map(n.unlocks, function(e) {
return u.omit(e, function(e) {
return null == e;
});
}), c = null, p = n.expansions;
0 === n.code.indexOf("ghost") && (p = o(n.imageUrl));
var d = n.progression.unlocked, h = u.map(n.dependencies, function(t) {
var n = null;
0 === t.code.indexOf("rk") ? (n = "rank", "previous" !== c && (c = "rank")) : 0 === t.code.indexOf("apremium") && (n = "premium", 
("previous" !== c || "rank" !== c) && (c = "premium"));
var o = r(e, t.code);
return o && (n = "previous", c = "previous"), new f({
code: t.code,
name: t.name,
description: t.description,
images: t.images,
progression: new i.Progression({
unlocked: d ? !0 : t.progression.unlocked,
acquired: d ? t.progression.valueNeeded : t.progression.valueAcquired,
needed: t.progression.valueNeeded
}),
expansions: t.expansions,
icon: n
});
});
if (p.length) {
var y = a(p, t);
y && h.unshift(y);
}
return new f({
code: n.code,
name: n.name,
description: n.description,
images: n.images,
progression: new i.Progression({
unlocked: n.progression.unlocked,
acquired: n.progression.valueAcquired,
needed: n.progression.valueNeeded
}),
dependencies: h,
criterias: u.map(n.criterias, function(e) {
var t = null, n = e.progression;
return e.code && (n = l.adjustTimeBasedProgression(e.code, n)), new f({
code: e.code,
name: e.name,
type: t,
progression: new i.Progression({
unlocked: d ? !0 : n.unlocked,
acquired: d ? n.valueNeeded : n.valueAcquired,
needed: n.valueNeeded
})
});
}),
unlocks: u.omit(s, function(e) {
return u.isEmpty(e);
}),
expansions: p,
icon: c
});
});
return new d({
name: n.name,
items: s
});
}));
},
onRequestError: function m(e, t) {
this.publish(t, null, e);
},
update: function b(e, t, n) {
this.publish(n, e);
}
});
e.exports = h;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(5), a = r(o), i = n(21), s = r(i), l = n(24), u = r(l), c = n(129), p = r(c), f = n(215), d = r(f), h = n(100), y = s["default"].createClient({
throttle: 3e4,
request: function g(e) {
return u["default"].request("Progression.getDogtags", {
game: e
});
},
parse: function m(e) {
return a["default"].map(e, function(e) {
return new d["default"]({
name: e.name,
sortOrder: e.sortOrder,
items: a["default"].compact(a["default"].map(e.dogtags, function(e) {
return new p["default"]({
code: e.unlockId,
description: e.description,
index: e.index,
images: e.images,
name: e.name,
progression: new h.Progression({
unlocked: e.progression.unlocked,
acquired: e.progression.valueAcquired,
needed: e.progression.valueNeeded
}),
equipped: e.equipped,
type: e.tagType.name,
timesTaken: e.timesTaken
});
}))
});
});
},
update: function b(e, t, n) {
this.publish(n, e);
}
});
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
var n = [ "D54F47DD-8C88-457A-804D-8072AB7B5AB4", "1DA5257A-FC25-4CF6-89D7-C71318BEB932", "3DBDDF9C-C07D-4714-89D2-178B9AE0C42B", "1E23F021-5749-4D8E-A9EB-8E1501C41CD7" ];
return -1 !== n.indexOf(e.guid) ? -1 : -1 !== n.indexOf(t.guid) ? 1 : d.sortItemsByProgression(e, t);
}
t.__esModule = !0;
var a = n(5), i = r(a), s = n(21), l = r(s), u = n(24), c = r(u), p = n(542), f = n(100), d = n(141), h = n(347), y = n(346), g = l["default"].createClient({
throttle: 3e4,
request: function m(e) {
return c["default"].request("Progression.getGadgetsAndUpgrades", {
game: e
});
},
parse: function b(e) {
return i["default"].map(e, function(e) {
var t = e.gadgets.map(function(e) {
return e.code = e.guid, e.progression = new f.Progression(e.progression), e.hires = e.hires && e.hires.hasOwnProperty("Small") ? e.hires : e.images, 
e.unlockRequirements = e.unlockRequirements.map(function(e) {
return new y.Unlock(e);
}), new h.Weapon(e);
}).sort(o), n = e.upgrades.map(function(e) {
return e.progression = new f.Progression(e.progression), e.hires = e.hires && e.hires.hasOwnProperty("Small") ? e.hires : e.images, 
e.stats = {
values: {}
}, new h.Weapon(e);
}).filter(function(e) {
return e.progression.needed > 1;
}).sort(d.sortItemsByProgression);
return new p.KitGadgetUpgradesCategory({
name: e.kit,
items: [ {
name: __("ID_SPARTA_CAREER_GADGETS").toLocaleUpperCase(),
items: t
}, {
name: __("ID_SPARTA_CAREER_UPGRADES").toLocaleUpperCase(),
items: n
} ]
});
});
},
onRequestError: function v(e, t) {
this.publish(t, null, e);
},
update: function _(e, t, n) {
this.publish(n, e);
}
});
t["default"] = g, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(21), a = r(o), i = n(24), s = r(i), l = n(213), u = n(686), c = r(u), p = n(400), f = a["default"].createClient({
throttle: 3e4,
request: function d(e) {
return s["default"].request("Progression.getKitItems", {
game: e
});
},
parse: function h(e) {
return e.map(function(e) {
var t = p.getImagesByKit(e.id);
return new c["default"]({
name: e.kit,
progression: e.progression,
weapons: l.WeaponClient.parse(e.weapons, e.kit, t),
images: t
});
});
},
update: function y(e, t, n) {
this.publish(n, e);
}
});
e.exports = f;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(21), a = r(o), i = n(24), s = r(i), l = a["default"].createClient({
request: function u(e, t) {
if (!e || !t) throw new Error("Missing parameter, expected game and dogtag");
var n = {
game: e,
tagType: t.type,
index: t.index
};
return s["default"].request("Loadout.equipDogtag", n);
},
parse: function c(e) {
return e;
},
update: function p(e, t, n) {
this.publish(n, e);
}
});
t["default"] = l, e.exports = t["default"];
}, function(e, t, n) {
var r = n(21), o = n(50).gatewayClient, a = n(418), i = r.createClient({
throttle: 3e4,
request: function s(e) {
return o.request("Stats.detailedStats", {
game: e
});
},
parse: function l(e) {
return e.basicStats.favoriteClass = e.favoriteClass, e.basicStats.roundHistory = e.roundHistory, 
new a(e.basicStats);
},
update: function u(e, t, n) {
this.publish(n, e);
}
});
e.exports = i;
}, function(e, t, n) {
(function(__) {
function t(e, t) {
var n = l.map(e.accessories, function(n) {
return new a.Accessory({
name: n.name,
description: n.description,
images: n.images,
stats: e.stats,
star: e.star,
category: e.name,
progression: new i.Progression(n.progression),
vehicleStats: t
});
});
return n.sort(s.sortItemsByProgression);
}
function r(e) {
var t = 0, n = l.map(e, function(e) {
return {
name: e.name,
kills: e.stats.values.kills
};
}), r = l.groupBy(n, "name"), o = l.map(r, function(e, n) {
var r = 0;
return l.each(e, function(e) {
r += e.kills;
}), t += r, {
name: n,
kills: r
};
});
return o.push({
name: __("ID_SPARTA_CAREER_VEHICLE_TOTAL_KILLS"),
kills: t
}), o;
}
function o(e) {
for (var t = [], n = 0; n < e.length; n++) {
var r = e[n];
if (r.vehicles.length > 0) {
var o = r.vehicles[0];
t.push(new f({
id: r.sortOrder,
description: o.description,
images: o.images,
name: r.name,
stats: r.stats,
star: r.star,
progression: new i.Progression({
unlocked: !0
}),
packages: l.map(r.vehicles, function(e) {
return e.name;
})
}));
}
}
return t.sort(function(e, t) {
return e.id < t.id ? -1 : e.id > t.id ? 1 : 0;
});
}
var a = n(345), i = n(100), s = n(141), l = n(5), u = n(21), c = n(50).gatewayClient, p = n(688), f = n(687), d = u.createClient({
throttle: 3e4,
request: function h(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1];
return t ? c.request("Progression.getVehiclesWithAccessories", {
game: e
}) : c.request("Progression.getVehicles", {
game: e
});
},
parse: function y(e, n, a) {
var i = [];
if (a) for (var s = 0; s < e.length; s++) {
var l = e[s];
if (l.accessories.length > 0) {
var u = r(l.vehicles), c = t(l, u);
i.push(new p({
name: l.name,
star: l.star,
stats: l.stats,
sortOrder: l.sortOrder,
items: c
}));
}
} else i.push(new p({
name: "all",
items: o(e)
}));
return i;
},
update: function g(e, t, n) {
this.publish(n, e);
}
});
e.exports = d;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return k(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), d = n(1), h = s(d), y = n(6), g = s(y), m = n(7), b = n(5), v = s(b), _ = n(70), S = s(_), T = n(129), w = s(T), E = n(10), I = n(30), C = n(136), A = s(C), P = n(229), O = s(P), R = {
_$AwardFocusPane: {
displayName: "AwardFocusPane"
}
}, k = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/AwardFocusPane.jsx",
components: R,
locals: [],
imports: []
}), x = {
image: {
height: g["default"].getHeight(29),
textureMode: "contain",
marginBottom: 2 * g["default"].GUTTER
},
name: {
marginBottom: g["default"].GUTTER,
textAlignForRTL: "left"
},
progressBar: {
marginBottom: 2 * g["default"].GUTTER
},
segmentedProgressBar: {
marginBottom: 2 * g["default"].GUTTER
},
progressSpecContainer: {
flexDirection: "row",
marginBottom: 2 * g["default"].GUTTER,
justifyContent: "space-between"
},
description: {
width: 300,
color: "#EEEEEE"
},
progressText: {
color: "#EEEEEE"
},
dependencies: {
marginBottom: 2 * g["default"].GUTTER
},
dependencyImage: {
textureMode: "contain",
width: 100,
height: 100,
alignSelf: "center"
},
dependencySpecContainer: {
flexDirection: "row",
justifyContent: "space-between"
},
dependencyText: {
width: 300,
marginTop: g["default"].GUTTER,
marginBottom: g["default"].GUTTER,
opacity: .66
},
dependencyDescription: {
color: "#EEEEEE"
},
criterias: {
marginBottom: 2 * g["default"].GUTTER
},
criteriaSpecContainer: {
flexDirection: "row",
justifyContent: "space-between",
marginBottom: 2 * g["default"].GUTTER
},
criteriaText: {
color: "#EEEEEE",
width: 300
},
criteriaSpec: {
color: "#EEEEEE"
},
awardCount: {
marginBottom: 2 * g["default"].GUTTER
},
stagesContainer: {
marginBottom: 2 * g["default"].GUTTER
},
hrLine: {
height: 1,
backgroundColor: "#ffffff1a",
marginBottom: 2 * g["default"].GUTTER
}
}, M = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.renderProgress = function s(e) {
var t = this.item.progression.percent, n = this.item.stages && this.item.stages.length;
if (this.item.progression.unlocked && this.props.useContinuousProgression) {
var o = this.item.progression.acquired % this.item.progression.needed;
t = o / this.item.progression.needed;
}
var a = this.props.showProgressBar && {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
width: e,
completed: t,
segmented: n,
style: n > 0 ? x.segmentedProgressBar : x.progressBar,
backgroundColor: "#FFFFFF75"
}),
_owner: null
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, this.renderProgressDescription(e) ]
},
_owner: null
};
}, t.prototype.renderProgressDescription = function l(e) {
var t = I.isRTLLanguage(), n = c({}, x.progressText, {
flex: 2,
textAlignForRTL: "left",
marginRight: t ? g["default"].GUTTER / 2 : 0
}), o = {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "S",
value: this.item.description,
style: n
}),
_owner: null
}, a = this.item.stages && this.item.stages.length;
if (this.item.stages && a > 0) {
for (var i = [], s = 0; a > s; s++) {
var l = this.item.stages[s], u = l.progression.unlocked ? 1 : .66, f = 3 * g["default"].GUTTER, d = {
position: "absolute",
left: -f,
top: g["default"].GUTTER * (2 / 3)
}, h = {
textAlignForRTL: "left"
};
I.isRTLLanguage() && (d.left = 12.5 * f, h.left = -f), i.push({
$$typeof: p,
type: "surface",
key: "stage-" + l.code,
ref: null,
props: {
children: [ {
$$typeof: p,
type: A["default"],
key: null,
ref: null,
props: r(A["default"].defaultProps, {
value: l.progression.unlocked,
style: d
}),
_owner: null
}, {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: l.name,
size: "S",
style: h
}),
_owner: null
} ],
style: {
opacity: u,
marginLeft: f,
marginBottom: g["default"].GUTTER
}
},
_owner: null
});
}
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: i,
style: c({}, x.stagesContainer, {
width: e
})
},
_owner: null
};
}
var y = this.item.progression;
if (y.unlocked && this.props.useContinuousProgression) {
var b = y.acquired % y.needed;
y = c({}, y, {
acquired: b
});
}
var v = this.props.showProgressNumbers && 0 !== y.needed ? {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "S",
value: "" + y.acquired + "/" + y.needed
}),
_owner: null
} : null, _ = t ? v : o, S = t ? o : v;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ _, S ],
"static": !0,
style: c({}, x.progressSpecContainer, {
width: e
})
},
_owner: null
};
}, t.prototype.renderDependencies = function u(e) {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: O["default"],
key: null,
ref: null,
props: r(O["default"].defaultProps, {
style: {
opacity: .2,
marginTop: 2 * g["default"].GUTTER
}
}),
_owner: null
}, v["default"].map(this.item.dependencies, function(t, n) {
return {
$$typeof: p,
type: "surface",
key: n,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, x.dependencyImage, {
texture: t.images.Small
})
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
type: "emphasis",
size: "S",
value: t.name
}),
_owner: null
}, {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
type: "emphasis",
size: "S",
value: "x" + t.progression.acquired
}),
_owner: null
} ],
style: c({}, x.dependencySpecContainer)
},
_owner: null
}, {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "XS",
value: t.description,
style: c({}, x.dependencyText, {
width: e
})
}),
_owner: null
} ]
},
_owner: null
};
}) ],
"static": !0,
style: x.dependencies
},
_owner: null
};
}, t.prototype.renderCriterias = function d(e) {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: v["default"].map(this.item.criterias, function(t, n) {
return {
$$typeof: p,
type: "surface",
key: n,
ref: null,
props: {
children: [ {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "S",
value: t.name,
style: c({}, x.criteriaText, {
width: e,
paddingRight: 3 * g["default"].GUTTER
})
}),
_owner: null
}, {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "S",
value: "" + t.progression.acquired + "/" + t.progression.needed
}),
_owner: null
} ],
style: x.criteriaSpecContainer
},
_owner: null
};
}),
"static": !0,
style: x.criterias
},
_owner: null
};
}, t.prototype.renderAwardCount = function h(e) {
var t = this.item.timesTaken, n = "";
return n = 0 === t ? __("ID_SPARTA_CAREER_DOGTAGS_NEVER") : 1 === t ? t + " " + __("ID_SPARTA_CAREER_DOGTAGS_TAKEN_ONCE") : t + " " + __("ID_SPARTA_CAREER_DOGTAGS_TAKEN_SEVERAL"), 
n = n.replace("[[timesTaken]]", t), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: n + " " + __("ID_SPARTA_CAREER_DOGTAGS_TAKEN_FROM_ENEMIES"),
size: "S",
type: "emphasis",
style: {
width: e
}
}),
_owner: null
},
"static": !0,
style: x.awardCount
},
_owner: null
};
}, t.prototype.renderDescription = function y(e) {
var t = {
width: e,
marginBottom: 2 * g["default"].GUTTER,
textAlignForRTL: "left"
};
return {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: this.item.description,
style: t,
size: "S"
}),
_owner: null
};
}, t.prototype.renderFocusedItem = function b(e) {
var t = this.item.progression || {}, n = t.needed || 0 === t.needed, o = {
opacity: .66,
textAlignForRTL: "left",
marginBottom: g["default"].GUTTER,
marginRight: I.isRTLLanguage() ? g["default"].GUTTER : 0
}, a = {
marginRight: I.isRTLLanguage() ? g["default"].GUTTER / 2 + 1 : 0
}, i = void 0 !== this.item.xp && {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: this.item.xp + __("ID_SPARTA_GENERIC_XP"),
size: "S",
style: o
}),
_owner: null
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ x.image, {
texture: this.item.images.Small
}, this.props.imageStyle ]
},
_owner: null
}, {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "M",
style: c({}, x.name, a),
value: this.item.name
}),
_owner: null
}, i, this.props.showDescription && this.item.description && this.renderDescription(e), n && this.renderProgress(e), this.item.dependencies && this.renderDependencies(e), this.item.criterias && this.renderCriterias(e), this.item.timesTaken && this.renderAwardCount(e) ]
},
_owner: null
};
}, t.prototype.render = function _() {
var e = this.item, t = this.props.widthGridCells, n = g["default"].getWidth(t);
return {
$$typeof: p,
type: g["default"].Col,
key: null,
ref: null,
props: r(g["default"].Col.defaultProps, {
children: e && this.renderFocusedItem(n),
width: t
}),
_owner: null
};
}, f(t, [ {
key: "item",
get: function T() {
return this.props.selectionState.item;
}
} ]);
var n = t;
return t = i("_$AwardFocusPane")(t) || t, t = E.observer(t) || t;
}(h["default"].Component);
M.propTypes = {
item: h["default"].PropTypes.instanceOf(w["default"]),
widthGridCells: h["default"].PropTypes.number.isRequired,
useContinuousProgression: h["default"].PropTypes.bool,
showDescription: h["default"].PropTypes.bool,
showProgressBar: h["default"].PropTypes.bool,
showProgressNumbers: h["default"].PropTypes.bool
}, M.defaultProps = {
useContinuousProgression: !1,
showDescription: !1,
showProgress: !0,
showProgressNumbers: !0
}, t["default"] = M, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e ? i[e.toLowerCase()] || null : null;
}
t.__esModule = !0, t.getImagesByKit = r;
var o = n(11), a = n(45);
a.acceptKeyword("accept_exclusive_keywords_start");
var i = {
medic: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconMedicLarge-229bba54.png"),
black: o.bbUrl("/sparta/jsclient/builds/assets/medic-black-ea4e2a1a.png")
},
assault: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconAssaultLarge-563b3a10.png"),
black: o.bbUrl("/sparta/jsclient/builds/assets/assault-black-0dcc3fe4.png")
},
support: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconSupportLarge-17c34ab8.png"),
black: o.bbUrl("/sparta/jsclient/builds/assets/support-black-3eca0136.png")
},
scout: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconScoutLarge-886eef18.png"),
black: o.bbUrl("/sparta/jsclient/builds/assets/scout-black-7ef7dbaf.png")
},
cavalry: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconRiderLarge-c946be3c.png"),
black: null
},
pilot: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconPilotLarge-b482de39.png"),
black: null
},
tanker: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconTankerLarge-8a5201f7.png"),
black: null
}
};
a.acceptKeyword("accept_exclusive_keywords_end");
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return M(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(27), h = s(d), y = n(102), g = s(y), m = n(128), b = s(m), v = n(673), _ = s(v), S = n(14), T = s(S), w = n(99), E = n(28), I = s(E), C = n(64), A = s(C), P = n(17), O = s(P), R = n(46), k = s(R), x = {
_$CareerAssignments: {
displayName: "CareerAssignments"
}
}, M = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerAssignments.jsx",
components: x,
locals: [],
imports: []
}), N = n(392), D = n(678), U = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.selectionState = new w.CareerSelectionState();
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this.props.viewLocation.args.gameId;
this.subscribeToStores({
assignments: I["default"](D, e, "data"),
error: I["default"](D, e, "error")
});
}, t.prototype.componentDidMount = function l() {
N.trigger(this.props.viewLocation.args.gameId);
}, t.prototype.renderItem = function u(e, t, n, o, a) {
var i = t.progression && t.progression.unlocked, s = t.getCriteriaProgression(), l = t.expansions && t.expansions.length > 0 ? t.expansions[0] : null;
return {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
awardImage: t.images.Small,
gameId: this.props.viewLocation.args.gameId,
itemState: this.selectionState.getItemState(n),
style: e,
atlas: "AssignmentsAtlas",
checked: t.equipped,
unlocked: i,
progressPercent: s,
expansion: l,
onSelect: o,
onFocus: a,
icon: t.icon
}),
_owner: null
};
}, t.prototype.renderFocusPane = function p(e) {
return {
$$typeof: c,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
selectionState: this.selectionState,
widthGridCells: e,
gameId: this.props.viewLocation.args.gameId
}),
_owner: null
};
}, t.prototype.render = function f() {
var e = this.state, t = e.assignments, n = e.error, o = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
return o = n || t && 0 === t.length ? {
$$typeof: c,
type: A["default"],
key: null,
ref: null,
props: r(A["default"].defaultProps, {
text: __("ID_SPARTA_CAREER_ERROR_LOADING_ASSIGNMENTS"),
subText: __("ID_SPARTA_CAREER_ERROR_LOADING_ASSIGNMENTS_MESSAGE")
}),
_owner: null
} : null == t ? {
$$typeof: c,
type: A["default"],
key: null,
ref: null,
props: r(A["default"].defaultProps, {
children: {
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
autoRun: !0,
size: 50
}),
_owner: null
}
}),
_owner: null
} : {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
gameId: this.props.viewLocation.args.gameId,
categorizedData: t,
selectionState: this.selectionState,
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this)
}),
_owner: null
}, {
$$typeof: c,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: o,
style: {
height: O["default"].content.height
}
},
_owner: null
},
tallContent: !0,
scrollContent: !1
}),
_owner: null
};
};
var n = t;
return t = i("_$CareerAssignments")(t) || t, t = T["default"]()(t) || t;
}(f["default"].Component);
t["default"] = U, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return x(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(10), h = n(5), y = s(h), g = n(14), m = s(g), b = n(6), v = s(b), _ = n(7), S = n(230), T = s(S), w = n(27), E = s(w), I = n(683), C = s(I), A = n(397), P = s(A), O = n(81), R = n(30), k = {
_$CareerDetails: {
displayName: "CareerDetails"
}
}, x = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerDetails.jsx",
components: k,
locals: [],
imports: []
}), M = 25, N = "#e73b3b", D = "#0e8dc2", U = {
statHighlightsRow: {
flex: 1,
flexWrap: "wrap"
},
statHighlightsRow2: {
marginTop: v["default"].getHeight(9)
},
statHighlightCell: {
height: v["default"].getHeight(8),
width: v["default"].getWidth(6)
},
statHighlightCellHeading: {
marginBottom: v["default"].GUTTER,
marginRight: v["default"].ROWS,
textAlignForRTL: "left"
},
statRowInitial: {
flexDirection: "row",
paddingBottom: M,
justifyContent: "space-between"
},
statRow: {
flexDirection: "row",
paddingTop: M,
paddingBottom: M,
justifyContent: "space-between"
},
statRowUnderline: {
height: 1,
flexDirection: "row",
backgroundColor: "#ffffff55"
},
ghHeading: {
marginTop: v["default"].getHeight(2),
marginBottom: M,
textAlignForRTL: "left"
},
ghTime: {
height: v["default"].getHeight(4)
},
ghTimeText: {
fontSize: 14,
textAlign: "left",
color: "#FFFFFF",
position: "absolute",
top: 0,
marginBottom: v["default"].GUTTER
},
ghTimeTextAgo: {
left: 0
},
ghTimeTextToday: {
right: 0
},
ghLegend: {
width: v["default"].getWidth(2),
marginRight: 0,
textAlignForRTL: "left"
},
ghLegendText: {
fontSize: 14,
textAlign: "right",
position: "absolute",
textAlignForRTL: "left"
},
ghLegendTextWin: {
bottom: 5,
color: D,
textAlignForRTL: "left"
},
ghLegendTextLose: {
top: 5,
color: N,
textAlignForRTL: "left"
},
ghGraph: {
width: v["default"].getWidth(17)
},
ghGraphContainer: {
flexWrap: "nowrap",
flexDirection: "row"
},
ghGraphDay: {
flex: 1
},
ghGraphBar: {
position: "absolute",
right: 0,
width: 8
},
ghGraphWinBar: {
bottom: 0,
backgroundColor: D
},
ghGraphLoseBar: {
top: 0,
backgroundColor: N
},
ghHalf: {
height: v["default"].getHeight(10)
},
ghLine: {
height: 1,
flexDirection: "row",
backgroundColor: "#ffffff55"
}
}, L = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidMount = function s() {
P["default"].trigger(this.props.viewLocation.args.gameId);
}, t.prototype.renderLeftStats = function l(e) {
return {
$$typeof: c,
type: v["default"].Col,
key: null,
ref: null,
props: r(v["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: v["default"].Row,
key: null,
ref: null,
props: r(v["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_SPM"),
size: "S",
style: U.statHighlightCellHeading
}),
_owner: null
}, {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "XXL",
value: "" + e.spm,
style: U.statHighlightCellHeading
}),
_owner: null
} ],
style: U.statHighlightCell
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_WIN_RATIO"),
size: "S",
style: U.statHighlightCellHeading
}),
_owner: null
}, {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "XXL",
value: "" + e.winPercentage + "%",
style: U.statHighlightCellHeading
}),
_owner: null
} ],
style: U.statHighlightCell
},
_owner: null
} ],
style: U.statHighlightsRow
}),
_owner: null
}, {
$$typeof: c,
type: v["default"].Row,
key: null,
ref: null,
props: r(v["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
size: "S",
style: U.statHighlightCellHeading
}),
_owner: null
}, {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "XXL",
value: "" + O.formatThousands(e.kills),
style: U.statHighlightCellHeading
}),
_owner: null
} ],
style: U.statHighlightCell
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_KD_RATIO"),
size: "S",
style: U.statHighlightCellHeading
}),
_owner: null
}, {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "XXL",
value: "" + e.kdRatio,
style: U.statHighlightCellHeading
}),
_owner: null
} ],
style: U.statHighlightCell
},
_owner: null
} ],
style: [ U.statHighlightsRow, U.statHighlightsRow2 ]
}),
_owner: null
} ],
width: 12
}),
_owner: null
};
}, t.prototype.renderRightStats = function u(e, t) {
return {
$$typeof: c,
type: v["default"].Col,
key: null,
ref: null,
props: r(v["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: R.localeRearrange([ {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_DETAILS_TIME_PLAYED")
}),
_owner: null
}, {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
size: "S",
timePlayed: e.timePlayed,
section: t
}),
_owner: null
} ]),
style: U.statRowInitial
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: U.statRowUnderline
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: R.localeRearrange([ {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_DETAILS_KPM"),
style: U.statRowHeading
}),
_owner: null
}, {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "S",
value: "" + e.kpm,
style: U.statRowValue
}),
_owner: null
} ]),
style: U.statRow
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: U.statRowUnderline
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: R.localeRearrange([ {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_DETAILS_SKILL")
}),
_owner: null
}, {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "S",
value: "" + e.skill
}),
_owner: null
} ]),
style: U.statRow
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: U.statRowUnderline
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: R.localeRearrange([ {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_DETAILS_MOST_PLAYED_CLASS")
}),
_owner: null
}, {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "S",
value: e.favoriteClass.toUpperCase()
}),
_owner: null
} ]),
style: U.statRow
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: U.statRowUnderline
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: R.localeRearrange([ {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_DETAILS_MOST_PLAYED_MAP")
}),
_owner: null
}, {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
size: "S",
value: "" + e.favoriteMap.toUpperCase()
}),
_owner: null
} ]),
style: U.statRow
},
_owner: null
} ],
width: 7
}),
_owner: null
};
}, t.prototype.renderGameHistory = function p(e, t) {
var n = {}, o = {};
R.isRTLLanguage() && (e = e.reverse(), n.marginRight = v["default"].getWidth(1.75), 
n.marginLeft = -v["default"].getWidth(1.75), o.marginLeft = v["default"].getWidth(19));
var a = y["default"].max(e, function(e) {
return e.results.wins >= e.results.losses ? e.results.wins : e.results.losses;
}), i = a.results.wins >= a.results.losses ? a.results.wins : a.results.losses, s = [], l = [], u = function d(e) {
return e / i * v["default"].getHeight(10);
};
if (y["default"].each(e, function(e) {
s.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ U.ghGraphBar, U.ghGraphWinBar, {
height: u(e.results.wins)
} ]
},
_owner: null
},
style: U.ghGraphDay
},
_owner: null
}), l.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ U.ghGraphBar, U.ghGraphLoseBar, {
height: u(e.results.losses)
} ]
},
_owner: null
},
style: U.ghGraphDay
},
_owner: null
});
}), s.length + l.length === 0) return null;
var p = R.isRTLLanguage() ? {
marginLeft: -v["default"].getWidth(1.5)
} : {
left: 0
}, f = R.isRTLLanguage() ? {
marginLeft: v["default"].getWidth(13.5)
} : {
right: 0
};
return {
$$typeof: c,
type: v["default"].Col,
key: null,
ref: null,
props: r(v["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_GAME_HISTORY"),
style: U.ghHeading
}),
_owner: null
}, {
$$typeof: c,
type: v["default"].Row,
key: null,
ref: null,
props: r(v["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: v["default"].Col,
key: null,
ref: null,
props: r(v["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: U.ghTime
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_WINS"),
style: [ U.ghLegendText, U.ghLegendTextWin, o ]
}),
_owner: null
},
style: U.ghHalf
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: U.ghLine
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: _.Text,
key: null,
ref: null,
props: r(_.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_LOSSES"),
style: [ U.ghLegendText, U.ghLegendTextLose, o ]
}),
_owner: null
},
style: U.ghHalf
},
_owner: null
} ],
style: U.ghLegend
}),
_owner: null
}, {
$$typeof: c,
type: v["default"].Col,
key: null,
ref: null,
props: r(v["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
timestamp: e.length && e[0].timestamp,
style: [ U.ghTimeText, p ],
section: t
}),
_owner: null
}, {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
timestamp: e.length && e[e.length - 1].timestamp,
style: [ U.ghTimeText, f ],
section: t
}),
_owner: null
} ],
style: U.ghTime
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: s,
style: [ U.ghHalf, U.ghGraphContainer, n ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: U.ghLine
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: l,
style: [ U.ghHalf, U.ghGraphContainer, n ]
},
_owner: null
} ],
style: U.ghGraph
}),
_owner: null
} ]
}),
_owner: null
} ],
width: 19
}),
_owner: null
};
}, t.prototype.render = function f() {
var e = this.props.viewLocation.args.gameId;
if (!this.state.stats[e]) return {
$$typeof: c,
type: v["default"].Col,
key: null,
ref: null,
props: r(v["default"].Col.defaultProps, {}),
_owner: null
};
var t = this.state.stats[e];
return {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
children: [ {
$$typeof: c,
type: v["default"].Row,
key: null,
ref: null,
props: r(v["default"].Row.defaultProps, {
children: [ this.renderLeftStats(t), this.renderRightStats(t, e) ]
}),
_owner: null
}, {
$$typeof: c,
type: v["default"].Row,
key: null,
ref: null,
props: r(v["default"].Row.defaultProps, {
children: this.renderGameHistory(t.roundsPerDay, e),
height: 20
}),
_owner: null
} ],
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$CareerDetails")(t) || t, t = m["default"]({
stats: C["default"]
})(t) || t, t = d.observer(t) || t;
}(f["default"].Component);
t["default"] = L, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
function s(e) {
return function(t) {
return se(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e, t) {
return v["default"].some(e, function(e) {
return t && t.hasOwnProperty("code") ? e.unlockId === t.code : !1;
});
}
var c = n(4), p = l(c);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), h = n(1), y = l(h), g = n(9), m = n(10), b = n(5), v = l(b), _ = n(128), S = l(_), T = n(399), w = l(T), E = n(102), I = l(E), C = n(14), A = l(C), P = n(20), O = l(P), R = n(13), k = l(R), x = n(12), M = l(x), N = n(483), D = l(N), U = n(22), L = l(U), $ = n(6), G = l($), F = n(393), B = l(F), j = n(396), H = l(j), V = n(679), z = l(V), W = n(8), q = n(162), K = l(q), X = n(99), Y = n(28), J = l(Y), Q = n(27), Z = l(Q), ee = n(64), te = l(ee), ne = n(46), re = l(ne), oe = n(17), ae = l(oe), ie = {
_$CareerDogtags: {
displayName: "CareerDogtags"
}
}, se = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerDogtags.jsx",
components: ie,
locals: [],
imports: []
}), le = function() {
function e() {
a(this, e), i(this, "isEquipping", t);
}
var t = {};
return d(e, [ {
key: "start",
decorators: [ g.action ],
value: function n() {
this.isEquipping = !0;
}
}, {
key: "done",
decorators: [ g.action ],
value: function r() {
this.isEquipping = !1;
}
}, {
key: "isEquipping",
decorators: [ g.observable ],
initializer: function o() {
return !1;
},
enumerable: !0
} ], null, t), e;
}(), ue = m.observer(function(e) {
var t = e.selectionState.item, n = e.equippedDogtags ? u(e.equippedDogtags, t) : !1;
if (t && t.progression && t.progression.unlocked) {
var r = __(n ? "ID_SPARTA_CAREER_DOGTAGS_EQUIPPED" : "ID_SPARTA_ACTION_EQUIP");
return {
$$typeof: f,
type: L["default"],
key: null,
ref: null,
props: o(L["default"].defaultProps, {
textSize: "S",
disabled: n || e.equippingState.isEquipping,
text: r,
action: e.doEquip,
style: {
width: G["default"].getWidth(6),
marginTop: G["default"].getHeight(2),
textAlignForRTL: "left"
}
}),
_owner: null
};
}
return null;
}), ce = function(e) {
function t() {
a(this, n), e.call(this), this.selectionState = new X.CareerSelectionState(), this.equippingState = new le();
}
r(t, e), t.prototype.componentWillMount = function i() {
this.subscribeToStores({
equippedDogtags: J["default"](K["default"], "gameStats", this.props.viewLocation.args.gameId, "equippedDogtags")
});
}, t.prototype.componentDidMount = function l() {
B["default"].trigger(this.props.viewLocation.args.gameId);
}, t.prototype.getTabs = function c() {
var e = this, t = this.props.viewLocation.args.gameId, n = W.gameStore.getGame(t).dogtagsConfig, r = this.state.dogtags[t], o = this.state.equippedDogtags;
return n || (console.error("Dogtags config for " + t + " not present"), n = {
getLeft: function a() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_LEFT");
},
getRight: function i() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_RIGHT");
}
}), [ {
name: "left",
title: n.getLeft(),
component: I["default"],
onSelect: function s() {
e.selectionState.setActiveItem();
},
props: {
gameId: t,
ref: "careerSection",
onlyPreselectCategory: !0,
selectionState: this.selectionState,
categorizedData: r ? r.left : [],
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this),
preSelectedId: o && 2 === o.length ? o[0].unlockId + "" : null
}
}, {
name: "right",
title: n.getRight(),
component: I["default"],
onSelect: function l() {
e.selectionState.setActiveItem();
},
props: {
gameId: t,
ref: "careerSection",
onlyPreselectCategory: !0,
selectionState: this.selectionState,
categorizedData: r ? r.right : [],
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this),
preSelectedId: o && 2 === o.length ? o[1].unlockId + "" : null
}
} ];
}, t.prototype.equipDogtag = function p(e) {
var t = this;
if (!this.equippingState.isEquipping) {
this.equippingState.start(), H["default"].trigger(this.props.viewLocation.args.gameId, e);
var n = H["default"].listen(function() {
n(), t.equippingState.done();
});
}
}, t.prototype.renderItem = function d(e, t, n, r, a) {
var i = this, s = this.state.equippedDogtags ? u(this.state.equippedDogtags, t) : !1, l = t.progression && t.progression.unlocked && !s ? new k["default"]({
label: __("ID_SPARTA_ACTION_EQUIP"),
key: M["default"].Option1,
action: function c() {
return i.equipDogtag(t);
}
}) : null;
return {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
awardCount: t.timesTaken,
awardImage: t.images.Small,
style: e,
atlas: "DogtagsAtlas",
itemState: this.selectionState.getItemState(n),
checked: s,
unlocked: t.progression && t.progression.unlocked,
onFocus: a,
input: SpartaGlobals.bundleIsConsole ? l : null
}),
_owner: null
};
}, t.prototype.renderFocusPane = function h() {
var e = this, t = SpartaGlobals.bundleIsPC ? {
$$typeof: f,
type: ue,
key: null,
ref: null,
props: o(ue.defaultProps, {
selectionState: this.selectionState,
equippingState: this.equippingState,
equippedDogtags: this.state.equippedDogtags,
doEquip: function() {
return e.equipDogtag(e.selectionState.item);
}
}),
_owner: null
} : null;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
imageStyle: {
textureMode: "none"
},
selectionState: this.selectionState,
widthGridCells: 6,
showProgressBar: !1,
showProgressNumbers: !1
}),
_owner: null
}, t ]
},
_owner: null
};
}, t.prototype.render = function y() {
return !this.state.dogtags || v["default"].isEmpty(this.state.dogtags) ? {
$$typeof: f,
type: Z["default"],
key: null,
ref: null,
props: o(Z["default"].defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: te["default"],
key: null,
ref: null,
props: o(te["default"].defaultProps, {
children: {
$$typeof: f,
type: re["default"],
key: null,
ref: null,
props: o(re["default"].defaultProps, {
autoRun: !0,
size: 50
}),
_owner: null
}
}),
_owner: null
},
style: {
height: ae["default"].content.height
}
},
_owner: null
}
}),
_owner: null
} : {
$$typeof: f,
type: D["default"],
key: null,
ref: null,
props: o(D["default"].defaultProps, {
topGutter: !1,
tabs: this.getTabs()
}),
_owner: null
};
};
var n = t;
return t = s("_$CareerDogtags")(t) || t, t = A["default"]({
dogtags: z["default"]
})(t) || t, t = O["default"]()(t) || t, t = m.observer(t) || t;
}(y["default"].Component);
t["default"] = ce, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(27), h = s(d), y = n(102), g = s(y), m = n(128), b = s(m), v = n(399), _ = s(v), S = n(14), T = s(S), w = n(8), E = n(99), I = n(391), C = s(I), A = {
_$CareerMedals: {
displayName: "CareerMedals"
}
}, P = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerMedals.jsx",
components: A,
locals: [],
imports: []
}), O = n(268), R = n(214), k = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.selectionState = new E.CareerSelectionState();
}
a(t, e), t.prototype.componentDidMount = function s() {
O.trigger(this.props.viewLocation.args.gameId), C["default"].medalsPageVisited();
}, t.prototype.renderCategoryInfo = function l(e) {
return e && e.infoComponent ? f["default"].createElement(e.infoComponent) : void 0;
}, t.prototype.renderItem = function u(e, t, n, r, o, a) {
var i = !0, s = this.props.viewLocation.args.gameId;
w.gameStore.getGame(s).shouldDisplayMedalProgression || (i = "WEEKLY" === a.id);
var l = t.expansions && t.expansions.length > 0 ? t.expansions[0] : null;
return f["default"].createElement(b["default"], {
awardImage: t.images.Small,
style: e,
atlas: "AwardsAtlas",
stages: t.stages,
ref: "item" + n,
dependencies: t.dependencies,
itemState: this.selectionState.getItemState(n),
checked: t.equipped,
expansion: l,
unlocked: t.progression && t.progression.unlocked,
dependencyAcquired: t.progression && t.progression.acquired,
dependencyNeeded: t.progression && t.progression.needed,
progressPercent: i ? t.progression && t.progression.percent : null,
gameId: s,
onFocus: o
});
}, t.prototype.renderFocusPane = function p(e) {
var t = this.props.viewLocation.args.gameId, n = w.gameStore.getGame(t).shouldDisplayMedalProgression;
return f["default"].createElement(_["default"], {
ref: "focuspane",
selectionState: this.selectionState,
widthGridCells: e,
showProgressBar: !0,
useContinuousProgression: n,
gameId: this.props.viewLocation.args.gameId
});
}, t.prototype.render = function d() {
var e = this.state.medals[this.props.viewLocation.args.gameId] || [];
return {
$$typeof: c,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
children: {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
gameId: this.props.viewLocation.args.gameId,
preSelectedId: this.props.viewLocation.args.id,
categorizedData: e,
selectionState: this.selectionState,
renderCategoryInfo: this.renderCategoryInfo.bind(this),
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this)
}),
_owner: null
},
tallContent: !0,
scrollContent: !1
}),
_owner: null
};
};
var n = t;
return t = i("_$CareerMedals")(t) || t, t = T["default"]({
medals: R
})(t) || t;
}(f["default"].Component);
t["default"] = k, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return M(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), f = n(1), d = s(f), h = n(64), y = s(h), g = n(14), m = s(g), b = n(27), v = s(b), _ = n(128), S = s(_), T = n(675), w = s(T), E = n(102), I = s(E), C = n(99), A = n(17), P = s(A), O = n(46), R = s(O), k = n(8), x = {
_$CareerVehicles: {
displayName: "CareerVehicles"
}
}, M = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerVehicles.jsx",
components: x,
locals: [],
imports: []
}), N = n(398), D = n(684), U = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.selectionState = new C.CareerSelectionState();
}
a(t, e), t.prototype.componentDidMount = function s() {
var e = k.gameStore.getGame(this.gameId).soldierConfig.showCategorizationForVehicles;
N.trigger(this.gameId, e);
}, t.prototype.renderItem = function l(e, t, n, r, o) {
var a = k.gameStore.getGame(this.gameId).soldierConfig.showCategorizationForVehicles ? "normal" : "rectangle";
return d["default"].createElement(S["default"], {
awardImage: t.images.Small,
imageType: a,
itemState: this.selectionState.getItemState(n),
style: e,
ref: "item" + n,
star: t.star,
activeColor: "#000000",
unlocked: t.progression && t.progression.unlocked,
progressPercent: t.progression && !t.progression.unlocked ? t.progression.percent || t.progression.unlocked : null,
onFocus: o
});
}, t.prototype.renderFocusPane = function u(e) {
return d["default"].createElement(w["default"], {
ref: "focuspane",
widthGridCells: e,
selectionState: this.selectionState,
gameId: this.gameId
});
}, t.prototype.render = function f() {
var e = this.state.vehicles[this.gameId] || [], t = k.gameStore.getGame(this.gameId).soldierConfig.showCategorizationForVehicles, n = null;
return n = 0 === e.length ? {
$$typeof: c,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
children: {
$$typeof: c,
type: R["default"],
key: null,
ref: null,
props: r(R["default"].defaultProps, {
autoRun: !0,
size: 50
}),
_owner: null
}
}),
_owner: null
} : {
$$typeof: c,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {
gameId: this.gameId,
preSelectedCategory: this.props.viewLocation.args.category,
preSelectedId: this.props.viewLocation.args.id,
categorizedData: e,
selectionState: this.selectionState,
showCategorization: t,
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this),
ensureItemFocus: !0
}),
_owner: null
}, {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: {
height: P["default"].content.height
}
},
_owner: null
},
tallContent: !0,
scrollContent: !1
}),
_owner: null
};
}, p(t, [ {
key: "gameId",
get: function h() {
return this.props.viewLocation.args.gameId;
}
} ]);
var n = t;
return t = i("_$CareerVehicles")(t) || t, t = m["default"]({
vehicles: D
})(t) || t;
}(d["default"].Component);
t["default"] = U, e.exports = t["default"];
}, function(e, t, n) {
var r = n(21), o = n(24), a = n(18), i = r.createClient({
requestOn: [ o.onSessionEstablished, o.onSessionEntitlementsReceived, a.updateSubscription ],
throttleAll: 1e4,
shouldPerformRequest: function s() {
return !SpartaGlobals.bundleIsPS4;
},
request: function l() {
return o.request("Inventory.getSubscriptionStatus");
},
parse: function u(e) {
return e.subscribed;
},
update: function c(e) {
this.publish(e);
}
});
e.exports = i;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return x(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(25), y = s(h), g = n(42), m = s(g), b = n(18), v = s(b), _ = n(191), S = s(_), T = n(20), w = s(T), E = n(13), I = s(E), C = n(12), A = s(C), P = n(7), O = n(216), R = s(O), k = {
_$ButtonCallout: {
displayName: "ButtonCallout"
}
}, x = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/components/ButtonCallout.jsx",
components: k,
locals: [],
imports: []
}), M = {
buttonCallout: {
margin: [ 0, 0, 10, 0 ],
flexDirection: "row"
},
iconButton: {
width: 32,
height: 32,
margin: [ -4.4, 3, 0, 5 ]
},
iconButtonX: {
texture: S["default"].normal.Option1
},
iconButtonY: {
texture: S["default"].normal.Option2
}
}, N = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.getInput = function s() {
var e = this, t = "";
switch (this.props.button) {
case "X":
t = A["default"].Option1;
break;

case "Y":
t = A["default"].Option2;
}
return [ new I["default"]({
visible: !1,
action: function n() {
return e.pressAction();
},
key: t
}) ];
}, t.prototype.pressAction = function l() {
switch (this.props.action) {
case "link":
v["default"].gotoLocation(this.props.location);
break;

case "popup":
this.showPopupTerms();
}
}, t.prototype.showPopupTerms = function u() {
y["default"].display(new m["default"]({
content: {
$$typeof: p,
type: R["default"],
key: null,
ref: null,
props: r(R["default"].defaultProps, {
legal: "terms"
}),
_owner: null
},
id: "linkTextPopup",
fullScreen: !0,
inputs: [ new I["default"]({
label: __("ID_SPARTA_ACTION_CLOSE", !0),
key: A["default"].Decline
}) ]
}));
}, t.prototype.endsWith = function f(e, t, n) {
var r = e;
("number" != typeof n || !isFinite(n) || Math.floor(n) !== n || n > r.length) && (n = r.length), 
n -= t.length;
var o = r.indexOf(t, n);
return -1 !== o && o === n;
}, t.prototype.render = function d() {
var e = "%btn%", t = "";
switch (this.props.button) {
case "X":
t = M.iconButtonX;
break;

case "Y":
t = M.iconButtonY;
}
var n = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ M.iconButton, t ]
},
_owner: null
}, o = [], a = [], i = this.props.text;
if (i && i.length > 0) if (i.indexOf(e) < 0) o.push({
$$typeof: p,
type: P.Text,
key: null,
ref: null,
props: r(P.Text.defaultProps, {
value: i,
style: this.props.style,
size: "XS"
}),
_owner: null
}); else if (0 === i.indexOf(e)) o.push(n), a = i.split(e), o.push({
$$typeof: p,
type: P.Text,
key: null,
ref: null,
props: r(P.Text.defaultProps, {
value: a[1],
style: this.props.style,
size: "XS"
}),
_owner: null
}); else if (this.endsWith(i, e)) a = i.split(e), o.push({
$$typeof: p,
type: P.Text,
key: null,
ref: null,
props: r(P.Text.defaultProps, {
value: a[0],
style: this.props.style,
size: "XS"
}),
_owner: null
}), o.push(n); else {
a = i.split(e);
for (var s = 1; s < a.length; s++) o.push(n), o.push({
$$typeof: p,
type: P.Text,
key: null,
ref: null,
props: r(P.Text.defaultProps, {
value: a[s],
style: this.props.style,
size: "XS"
}),
_owner: null
});
}
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: o,
style: c({}, M.buttonCallout, {
width: this.props.width
})
},
_owner: null
};
};
var n = t;
return t = i("_$ButtonCallout")(t) || t, t = w["default"]()(t) || t;
}(d["default"].Component);
t["default"] = N, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return M(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(3), d = r(f), h = n(1), y = l(h), g = n(247), m = n(14), b = l(m), v = n(271), _ = l(v), S = n(22), T = l(S), w = n(7), E = n(46), I = l(E), C = n(18), A = l(C), P = n(49), O = l(P), R = n(130), k = l(R), x = {
_$CallToAction: {
displayName: "CallToAction"
}
}, M = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/components/CallToAction.jsx",
components: x,
locals: [],
imports: []
}), N = n(117), D = {
ACCESSMONTHID: "ACCESSMONTHID",
ACCESSYEARID: "ACCESSYEARID"
}, U = {
buttonContainer: {
margin: [ 0, 0, 20, 0 ]
},
labelChoosePlan: {
margin: [ 0, 0, 20, 0 ]
},
labelOr: {
margin: [ 0, 0, 20, 0 ],
flexDirection: "row"
},
labelOrHandleBars: {
opacity: .3,
backgroundColor: "#FFFFFF",
flex: 1,
height: 1,
margin: [ 13, 0, 0, 0 ]
},
labelOrHandleBarLeft: {
marginRight: 10
},
labelOrHandleBarRight: {
marginLeft: 10
},
labelPressMoreInfo: {
margin: [ 20, 0, 0, 0 ],
flexDirection: "row"
},
calltoAction: {
margin: [ 0, 0, 0, 0 ]
},
spinner: {
height: 40
}
}, L = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.settings = N.getCopyPage("settings"), this.state = {
ticks: 0,
loaded: !1
}, this.subscriptionStatus = null, O["default"].updateOffers();
}
i(t, e), t.prototype.componentDidMount = function r() {
this.requestSubscriptionStatus();
}, t.prototype.componentDidUpdate = function l(e, t) {
t.unparsedOffers !== this.state.unparsedOffers && this.state.unparsedOffers.access && this.createOffersMap({
offers: this.state.unparsedOffers
});
}, t.prototype.requestSubscriptionStatus = function u() {
SpartaGlobals.bundleIsPS4 || A["default"].updateSubscription();
}, t.prototype.createOffersMap = function c(e) {
for (var t = N.getProperty(e, "offers.access") || [], n = {}, r = 0; r < t.offers.length; r++) switch (!0) {
case 0 === r:
n[D.ACCESSMONTHID] = t.offers[r];
break;

case 1 === r:
n[D.ACCESSYEARID] = t.offers[r];
}
this.setState({
offers: n,
loaded: !0
});
}, t.prototype.setPrice = function f(e) {
var t = "", n = "";
switch (e) {
case "monthly":
t = "subscription.button.monthly", n = D.ACCESSMONTHID;
break;

case "yearly":
t = "subscription.button.yearly", n = D.ACCESSYEARID;
}
var r = this.state.offers;
if (r && r[n]) {
var o = N.getProperty(this.settings, t) || "";
return o.replace("%PRICE%", r[n].price);
}
return "";
}, t.prototype.setFooter = function h() {
var e = N.getProperty(this.settings, "subscription.text") || "", t = this.findOffer(D.ACCESSMONTHID);
return t && t.price && (e = e.replace("%PRICE%", t.price)), e;
}, t.prototype.createCallToAction = function m() {
return this.isInstallActionShown() ? this.createInstallButton() : this.isCallToActionShown() ? "PC" === N.getPlatform() ? this.createCallToActionPC() : this.createCallToActionXboxOne() : this.createSpinner();
}, t.prototype.findOffer = function v(e) {
return this.state.offers && this.state.offers[e] ? this.state.offers[e] : null;
}, t.prototype.purchasePCMonthly = function S() {
this.purchaseSubscription(this.findOffer(D.ACCESSMONTHID));
}, t.prototype.purchaseConsoleMonthly = function E() {
this.purchaseSubscription(this.findOffer(D.ACCESSMONTHID));
}, t.prototype.purchaseConsoleYearly = function C() {
this.purchaseSubscription(this.findOffer(D.ACCESSYEARID));
}, t.prototype.purchaseSubscription = function P(e) {
if (e) {
var t = {
component: this
};
g.StartPurchaseRequest.triggerAsPromise(e).then(this.requestSubscriptionStatus(t));
}
}, t.prototype.installAccess = function R() {
try {
if (this.state.offers) for (var e in this.state.offers) {
var t = this.state.offers[e].offerId;
if (t) {
d.frostbite.sendMessage("sparta.commerceShowDetails", {
offerId: t,
jobId: 0
});
break;
}
}
} catch (n) {}
}, t.prototype.isInstallActionShown = function x() {
return "undefined" != typeof this.state.subscriptionStatus && null !== this.state.subscriptionStatus && this.state.subscriptionStatus && this.state.loaded;
}, t.prototype.isCallToActionShown = function M() {
return "undefined" != typeof this.state.subscriptionStatus && null !== this.state.subscriptionStatus && !this.state.subscriptionStatus && this.state.loaded;
}, t.prototype.isSpinnerShown = function L() {
return !(this.isCallToActionShown() || this.isInstallActionShown());
}, t.prototype.createCallToActionPC = function $() {
var e = this;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
text: this.setPrice("monthly"),
style: this.props.buttonStyle,
action: function() {
return e.purchasePCMonthly();
}
}),
_owner: null
},
style: U.buttonContainer
},
_owner: null
}, {
$$typeof: p,
type: w.Text,
key: null,
ref: null,
props: o(w.Text.defaultProps, {
value: this.setFooter(),
style: [ U.labelPressMoreInfoText, this.props.subTextStyle ]
}),
_owner: null
} ],
style: [ U.calltoAction ]
},
_owner: null
};
}, t.prototype.createCallToActionXboxOne = function G() {
var e = this;
try {
if (this.state.loaded && this.state.offers && Object.keys(this.state.offers).length > 0) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: w.Text,
key: null,
ref: null,
props: o(w.Text.defaultProps, {
value: N.getProperty(this.settings, "subscription.heading"),
type: "emphasis",
style: [ U.labelChoosePlan, this.props.headingStyle ]
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
text: this.setPrice("monthly"),
style: this.props.buttonStyle,
action: function() {
return e.purchaseConsoleMonthly();
}
}),
_owner: null
},
style: U.buttonContainer
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ U.labelOrHandleBars, U.labelOrHandleBarLeft ]
},
_owner: null
}, {
$$typeof: p,
type: w.Text,
key: null,
ref: null,
props: o(w.Text.defaultProps, {
value: "OR",
size: "XS"
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ U.labelOrHandleBars, U.labelOrHandleBarRight ]
},
_owner: null
} ],
style: [ U.labelOr, this.props.style ]
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
text: this.setPrice("yearly"),
style: this.props.buttonStyle,
action: function() {
return e.purchaseConsoleYearly();
}
}),
_owner: null
},
style: U.buttonContainer
},
_owner: null
} ],
style: [ U.calltoAction ]
},
_owner: null
};
} catch (t) {}
}, t.prototype.createInstallButton = function F() {
var e = this, t = SpartaGlobals.bundleIsPC ? __("ID_SPARTA_COMMERCE_OFFER_OWNED") : N.getProperty(this.settings, "label.installAccess");
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
text: t,
disabled: SpartaGlobals.bundleIsPC,
style: this.props.buttonStyle,
action: function() {
return e.installAccess();
}
}),
_owner: null
},
style: U.buttonContainer
},
_owner: null
},
style: [ U.calltoAction ]
},
_owner: null
};
}, t.prototype.createSpinner = function B() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: y["default"].createElement(I["default"], {
ref: "indicator",
size: 20
}),
style: [ U.spinner ]
},
_owner: null
};
}, t.prototype.render = function j() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.createCallToAction()
},
_owner: null
};
};
var n = t;
return t = s("_$CallToAction")(t) || t, t = b["default"]({
subscriptionStatus: _["default"],
unparsedOffers: k["default"]
})(t) || t;
}(y["default"].Component);
t["default"] = L, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return R(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(3), y = n(25), g = s(y), m = n(42), b = s(m), v = n(13), _ = s(v), S = n(12), T = s(S), w = n(216), E = s(w), I = n(18), C = s(I), A = n(10), P = n(7), O = {
_$LinkText: {
displayName: "LinkText"
}
}, R = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/components/LinkText.jsx",
components: O,
locals: [],
imports: []
}), k = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.state = {
isHovered: !1
}, this.focusItem = h.focus.create(this, "linktext-" + t.text), this.focusItem.setClickInput(new _["default"]({
key: T["default"].Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function a() {
var a = r.props.action, e = r.props.location;
"link" === a && e ? C["default"].gotoLocation(e) : "popup" === a && r.showPopupTerms();
}
}));
}
a(t, e), t.prototype.showPopupTerms = function s() {
g["default"].display(new b["default"]({
content: {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
legal: "terms"
}),
_owner: null
},
id: "linkTextPopup",
fullScreen: !0,
inputs: [ new _["default"]({
label: __("ID_SPARTA_ACTION_CLOSE", !0),
key: T["default"].Decline
}) ]
}));
}, t.prototype.render = function l() {
var e = this, t = {
color: "#ffffff",
opacity: this.state.isHovered ? 1 : .66
}, n = function o() {
return e.setState({
isHovered: !0
});
}, r = function a() {
return e.setState({
isHovered: !1
});
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: d["default"].createElement(P.Text, c({
value: this.props.text,
size: "XS",
style: [ this.props.style, t ]
}, this.focusItem.hooks)),
onMouseEnter: n,
onMouseLeave: r
},
_owner: null
};
};
var n = t;
return t = i("_$LinkText")(t) || t, t = A.observer(t) || t;
}(d["default"].Component);
t["default"] = k, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t) {
function n(e) {
this.id = e.id, this.group = e.group, this.gameId = e.gameId, this.displayName = e.displayName, 
this.description = e.description, this.owned = e.owned, this.type = e.type, this.licenses = e.licenses, 
this.backgroundUrl = e.backgroundUrl, this.offerId = e.offerId || "", this.price = e.price, 
this.listPrice = e.listPrice || null, this.isDiscounted = null !== this.listPrice && this.price !== this.listPrice, 
this.productId = e.productId, this.offerId = e.offerId, this.data = e.data, this.pinData = e.pinData, 
this.isRepurchaseable = "bundle" === this.type || "consumable" === this.type, this.licenses = this.licenses ? this.licenses.split(",") : [];
}
e.exports = n;
}, function(e, t, n) {
var r = n(26), o = {
_transactions: new r("TransactionLog"),
get: function a(e) {
return this._transactions.get(e);
},
add: function i(e) {
this._transactions.set(e.jobId, e);
}
};
e.exports = o;
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return S(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(27), h = s(d), y = n(7), g = s(y), m = n(6), b = s(m), v = n(37), _ = {
_$JoinBuy: {
displayName: "JoinBuy"
}
}, S = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/JoinBuy.jsx",
components: _,
locals: [],
imports: []
}), T = n(117), w = {
header: "XL",
heading: "M",
text: "M",
subtext: "XS",
fineprint: "XXS"
}, E = {
container: {},
columnRight: {
width: b["default"].getWidth(12)
},
columnLeft: {
width: b["default"].getWidth(12)
},
rowMain: {
height: SpartaGlobals.bundleIsPC ? b["default"].getHeight(88) : b["default"].getHeight(68)
},
header: {
marginBottom: 35
},
heading: {
marginBottom: 15
},
paragraph: {
marginBottom: 25,
textLineSpacing: Math.round(1.2 * v.LINE_HEIGHTS[w.text])
},
surfaceRight: {
padding: [ 0, 30, 0, 0 ],
alignItems: "center"
},
surfaceLeft: {
padding: [ 0, 0, 0, 30 ],
alignItems: "center"
},
surfaceLegal: {
opacity: .6
},
columnBorder: {
position: "absolute",
top: 0,
bottom: 0,
width: 2,
backgroundColor: "#ffffff",
opacity: .2
}
}, I = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.copy = T.getCopyPage("join-buy"), this.settings = T.getCopyPage("settings");
}
a(t, e), t.prototype.render = function s() {
return {
$$typeof: c,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: b["default"].Row,
key: null,
ref: null,
props: r(b["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: b["default"].Col,
key: null,
ref: null,
props: r(b["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
value: "access subscription",
size: w.text
}),
_owner: null
},
style: E.surfaceRight
},
_owner: null
},
style: E.columnRight
}),
_owner: null
}, {
$$typeof: c,
type: b["default"].Col,
key: null,
ref: null,
props: r(b["default"].Col.defaultProps, {
style: E.columnBorder
}),
_owner: null
}, {
$$typeof: c,
type: b["default"].Col,
key: null,
ref: null,
props: r(b["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
value: "product purchase",
size: w.text
}),
_owner: null
},
style: E.surfaceLeft
},
_owner: null
},
style: E.columnLeft
}),
_owner: null
} ],
style: E.rowMain
}),
_owner: null
},
style: E.container
},
_owner: null
},
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$JoinBuy")(t) || t;
}(f["default"].Component);
t["default"] = I, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return U(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e, t) {
return 0 === t ? "L" : "M";
}
function u(e, t) {
return 0 === t ? "SSL" : "SSM";
}
var c = n(4), p = s(c);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), h = n(1), y = s(h), g = n(5), m = s(g), b = n(59), v = s(b), _ = n(18), S = s(_), T = n(69), w = n(319), E = s(w), I = n(6), C = s(I), A = n(105), P = s(A), O = n(134), R = s(O), k = n(27), x = s(k), M = n(39), N = n(8), D = {
_$StoreLanding: {
displayName: "StoreLanding"
}
}, U = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/StoreLanding.jsx",
components: D,
locals: [],
imports: []
}), L = [ "battlepacks", "shortcuts", "expansions", "premium" ], $ = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.recommendationCategory = this.props.viewLocation.args.recommendationCategory ? [ this.props.viewLocation.args.recommendationCategory ] : [ this.getRecoCategory() ];
}
a(t, e), t.prototype.componentWillMount = function s() {
this.updateRecommenderOptions({
count: 4,
games: [ this.gameId ],
ruleCategories: this.recommendationCategory
});
}, t.prototype.getRecoCategory = function c() {
return this.ownsGame ? "store_game_overview" : "store_game_overview_promo";
}, t.prototype.getBaseConfiguration = function p() {
var e = __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_TAB_ORIGIN_ACCESS" : "ID_SPARTA_TAB_EA_ACCESS"), t = [ {
id: "battlepacks",
label: __("ID_SPARTA_TAB_BATTLEPACKS")
}, {
id: "deluxe",
label: __("ID_SPARTA_TAB_DELUXE")
}, {
id: "shortcuts",
label: __("ID_SPARTA_TAB_KITSHORTCUTS")
}, {
id: "expansions",
label: __("ID_SPARTA_TAB_EXPANSIONS")
}, {
id: "premium",
label: __("ID_SPARTA_TAB_PREMIUM")
}, {
id: "rent",
label: __("ID_SPARTA_TAB_RSP")
}, {
id: "access",
label: e
} ], n = {
id: "game",
label: N.gameStore.getGame(this.gameId).displayName()
};
this.ownsGame ? t.push(n) : t.unshift(n);
var r = [ "rent" ];
return SpartaGlobals.bundleIsPS4 && r.push("battlepacks"), M.routeIsHostingGame() || (t = t.filter(function(e) {
return -1 === r.indexOf(e.id);
})), t;
}, t.prototype.getOffers = function h() {
return this.state.offers && this.state.offers.hasOwnProperty(this.gameId) ? this.state.offers[this.gameId] : [];
}, t.prototype.getMenuItems = function g(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? L : arguments[1], n = this.getBaseConfiguration(e);
return m["default"].compact(m["default"].map(t, function(t) {
var r = m["default"].find(n, function(e) {
return e.id === t;
}), o = N.gameStore.getGame(e).startRoute + "/store/list?tab=" + t;
if (r) {
var a = r.disabled ? function() {
return M.showNotInHostingGameAlert();
} : function() {
return S["default"].gotoLocation(o);
};
return m["default"].extend({}, r, {
route: o,
onClick: a,
muted: r.disabled,
blockInputFor: 500,
onTrigger: a
});
}
}));
}, t.prototype.render = function b() {
var e = this.props.viewLocation.args.gameId, t = N.gameStore.getGame(e).storeConfig, n = t.getTabs(), o = this.getMenuItems(e, n), a = SpartaGlobals.bundleIsPC ? u : l;
return o.length > 1 ? y["default"].createElement(E["default"], {
ref: "template",
sideContent: {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
items: o,
divider: "item"
}),
_owner: null
}
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: T.CardCarousel,
key: null,
ref: null,
props: r(T.CardCarousel.defaultProps, {
children: P["default"].renderCards(this.state.recommendations, a, "friends"),
width: C["default"].getWidth(12.5)
}),
_owner: null
},
style: {
marginLeft: C["default"].getWidth(1)
}
},
_owner: null
}) : {
$$typeof: f,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
children: {
$$typeof: f,
type: T.CardCarousel,
key: null,
ref: null,
props: r(T.CardCarousel.defaultProps, {
children: P["default"].renderCards(this.state.recommendations, a, "friends"),
width: C["default"].getWidth(24)
}),
_owner: null
}
}),
_owner: null
};
}, d(t, [ {
key: "gameId",
get: function _() {
return this.props.viewLocation.args.gameId;
}
}, {
key: "ownsGame",
get: function w() {
var e = N.gatewayState.session.entitlements;
return e.ownsGame(this.gameId);
}
} ]);
var n = t;
return t = i("_$StoreLanding")(t) || t, t = R["default"]()(t) || t;
}(y["default"].Component);
t["default"] = $, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t) {
e.exports = {
currentTranslations: {},
fallbackTranslations: {}
};
}, function(e, t) {
function n(e) {
if (!e) return "";
for (var t = [ "<p>", "</p>", "<b>", "</b>", "<ul>", "</ul>", "<li>", "</li>", "<i>", "</i>", "<br>", "&nbsp;", "<p .+>", "<a[^>]*>", "</a>", "<div>", "</div>" ], n = e, r = 0; r < t.length; r++) {
var o = t[r];
n = n.replace(new RegExp(o, "g"), "");
}
return n.replace(/\n\s*\n\s*\n/g, "\n\n");
}
t.__esModule = !0, t.stripHTML = n;
}, function(e, t) {
function n(e) {
e = e || {}, this.current = e.current || 0, this.total = e.total || 0, this.percentage = this.total ? this.current / this.total : 0;
}
e.exports = n;
}, function(e, t, n) {
(function(__) {
function t(e) {
e = e || {}, this.number = e.number || 0, this.name = e.name || __("ID_SPARTA_CAREER_RANK") + " " + this.number, 
this.imageUrl = e.imageUrl || "", this.progress = new r(e.progress);
}
var r = n(416);
e.exports = t;
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
if (this.props = e, e = e || {}, e.highlights = e.highlights || {}, this.rank = new s(o.extend({}, e.rank, {
progress: e.rankProgress
})), this.timePlayed = e.timePlayed || 0, this.kills = e.kills ? parseInt(e.kills, 10) : 0, 
this.deaths = e.deaths || 0, this.wins = e.wins || 0, this.losses = e.losses || 0, 
this.kpm = l.formatRatio(e.kpm), this.spm = l.formatThousands(Math.round(e.spm || 0)), 
this.soldierImageUrl = e.soldierImageUrl || u, e.equippedDogtags && (this.equippedDogtags = e.equippedDogtags), 
this.skill = e.skill ? parseFloat(e.skill).toFixed(0) : 0, this.favoriteClass = e.favoriteClass ? e.favoriteClass : "", 
this.favoriteMap = "-", e.roundHistory && e.roundHistory.favouriteMap) {
var t = e.roundHistory.favouriteMap;
this.favoriteMap = t.substr(3, t.length);
}
e.highlights instanceof Array ? this.highlights = o.chain(e.highlights).map(function(e) {
return e && e.highlightType ? [ e.highlightType, new i(e) ] : void 0;
}).compact().object().value() : this.highlights = e.highlights, this.completion = o.map(e.completion, function(e) {
return new a(e);
}), this.roundsPerDay = [], e.roundHistory && e.roundHistory.roundsPerDay && (this.roundsPerDay = o.map(e.roundHistory.roundsPerDay, function(e, t) {
var n = {
wins: e && e.wins || 0,
losses: e && e.losses || 0
};
return {
timestamp: parseInt(t, 10),
results: n
};
})), this.games = this.wins + this.losses, this.kdRatio = l.formatRatioBetweenNumbers(this.kills, this.deaths), 
this.wlRatio = l.formatRatioBetweenNumbers(this.wins, this.losses), this.winPercentage = (100 * (this.wins / Math.max(this.games, 1))).toFixed(0), 
this.losePercentage = l.formatRatioBetweenNumbers(this.losses, this.games);
}
var o = n(5), a = n(703), i = n(704), s = n(417), l = n(81), u = "//eaassets-a.akamaihd.net/battlelog/bb/sparta/soldier-silhouette-40850146.png";
e.exports = r;
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0], r = arguments.length <= 1 || void 0 === arguments[1] ? 0 : arguments[1], o = arguments.length <= 2 || void 0 === arguments[2] ? 0 : arguments[2];
n(this, e), this.x = t, this.y = r, this.z = o;
}
return e.prototype.add = function t(n) {
return new e(this.x + n.x, this.y + n.y, this.z + n.z);
}, e.prototype.subtract = function r(t) {
return new e(this.x - t.x, this.y - t.y, this.z - t.z);
}, e.prototype.scale = function o() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? 1 : arguments[0], n = arguments.length <= 1 || void 0 === arguments[1] ? 1 : arguments[1], r = arguments.length <= 2 || void 0 === arguments[2] ? 1 : arguments[2];
return new e(this.x * t, this.y * n, this.z * r);
}, e;
}();
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(5), a = r(o), i = n(220), s = r(i), l = n(221), u = r(l), c = n(718), p = r(c), f = n(15), d = n(26), h = r(d), y = new h["default"]("NetworkStore", {
pingTargetsQueue: [],
qosPingTargetsQueue: [],
resolveTargetsQueue: [],
pingCache: {},
qosPingCache: {},
resolveCache: {}
}), g = f.createStore({
init: function m() {
var e = this;
s["default"].ping.listen(function(t) {
y.merge({
pingTargetsQueue: a["default"].compact(a["default"].union(y.getState().pingTargetsQueue, t))
}), e.trigger(e.getState());
}), s["default"].qosPing.listen(function(t) {
y.merge({
qosPingTargetsQueue: a["default"].compact(a["default"].union(y.getState().qosPingTargetsQueue, t))
}), e.trigger(e.getState());
}), s["default"].resolve.listen(function(t) {
y.merge({
resolveTargetsQueue: a["default"].compact(a["default"].union(y.getState().resolveTargetsQueue, t))
}), e.trigger(e.getState());
}), u["default"].pingCompleted.listen(function(e, t, n) {
var r = y.getState().pingCache;
r[e] = new p["default"]({
ip: e,
ping: n ? null : t
}), y.merge({
pingCache: r
});
}), u["default"].qosPingCompleted.listen(function(e, t, n) {
if (!n) {
var r = y.getState().qosPingCache;
r[e] = new p["default"]({
pingSiteAlias: e,
ping: t
}), y.merge({
qosPingCache: r
});
}
}), u["default"].resolveCompleted.listen(function(e, t) {
if (t) {
var n = y.getState().resolveCache;
n[e] = new p["default"]({
host: e,
ip: t
}), y.merge({
resolveCache: n
});
}
}), s["default"].flushCache.listen(function() {
var e = Date.now(), t = y.getState().pingCache, n = y.getState().qosPingCache, r = y.getState().resolveCache;
Object.keys(t).forEach(function(n) {
e - t[n].createdAt > 6e4 && delete t[n];
}), Object.keys(n).forEach(function(t) {
e - n[t].createdAt > 6e5 && delete n[t];
}), Object.keys(r).forEach(function(t) {
e - r[t].createdAt > 6e5 && delete r[t];
}), y.merge({
pingCache: t,
qosPingCache: n,
resolveCache: r
});
}), s["default"].emptyQueue.listen(function() {
y.merge({
pingTargetsQueue: [],
qosPingTargetsQueue: [],
resolveTargetsQueue: []
});
});
},
getState: function b() {
return y.getState();
}
});
t["default"] = g, e.exports = t["default"];
}, function(e, t) {
function n(e, t, n) {
this.name = e, this.identifier = t, this.blazeNamespace = n;
}
n.prototype.toString = function() {
return this.name;
}, e.exports = n;
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
return new Promise(function(t, n) {
var r = setTimeout(function() {
n(__("ID_SPARTA_ONLINE_JOIN_QOS_NOT_READY"));
}, 3e4);
return c["default"].getState().isQoSReady ? (t(e), void clearTimeout(r)) : (l["default"].connect(), 
void c["default"].scope("isQoSReady").listen(function(n) {
n && (t(e), clearTimeout(r));
}));
});
}
function o(e) {
return new Promise(function(t, n) {
i["default"].getState().isMpInstalled ? t(e) : p.alert(__("ID_SPARTA_ONLINE_JOIN_UNABLE_TO_JOIN", !0), __("ID_SPARTA_INSTALL_INSTALLING_MP", !0)).then(function() {
return n();
});
});
}
t.__esModule = !0, t.checkQoSReady = r, t.checkMPInstalled = o;
var a = n(119), i = e(a), s = n(78), l = e(s), u = n(41), c = e(u), p = n(31);
}).call(t, n(2));
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
n(this, o), this.isVisible = e.isVisible, this.route = e.route, this.subRoute = e.subRoute, 
this.previousRoute = e.previousRoute, this.previousSubRoute = e.previousSubRoute, 
this.isEORShown = e.isEORShown;
};
t["default"] = r, e.exports = t["default"];
}, function(e, t) {
function n() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
this.alias = e.alias, this.address = e.address, this.region = e.region, this.matchingAliases = e.matchingAliases || [], 
this.ip = e.ip || "", this.ping = e.ping || null;
}
t.__esModule = !0, t["default"] = n, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return D(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(5), h = s(d), y = n(6), g = s(y), m = n(7), b = n(28), v = s(b), _ = n(14), S = s(_), T = n(291), w = s(T), E = n(23), I = s(E), C = n(446), A = s(C), P = n(22), O = s(P), R = n(18), k = s(R), x = n(8), M = n(9), N = {
_$RecentServersGroup: {
displayName: "RecentServersGroup"
}
}, D = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-gameservers/src/RecentServersGroup.jsx",
components: N,
locals: [],
imports: []
}), U = {
seeAll: {
width: g["default"].getWidth(2),
position: "absolute",
top: 4 * -g["default"].GUTTER,
right: 0
}
}, L = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this;
this.subscribeToStores({
servers: v["default"](w["default"], this.props.gameId, "data")
}), this.dispose = M.reaction(function() {
return x.onlineState.hasGatewaySession;
}, function(t) {
t && I["default"].refreshHistory({
game: e.props.gameId
});
}, !0);
}, t.prototype.componentWillUnmount = function l() {
this.dispose();
}, t.prototype.renderServerCards = function u() {
var e = this, t = (this.state.servers || []).slice(0, 6);
return h["default"].map(t, function(t) {
var n = {
group: "server",
game: e.props.gameId,
server: {
server: t
}
};
return {
$$typeof: c,
type: A["default"],
key: null,
ref: null,
props: r(A["default"].defaultProps, {
recommendation: n,
size: "M"
}),
_owner: null
};
});
}, t.prototype.render = function p() {
if (!this.state.servers || 0 === this.state.servers.length) return null;
var e = x.gameStore.getGame(this.props.gameId), t = SpartaGlobals.bundleIsPC && this.state.servers.length > 6 && {
$$typeof: c,
type: O["default"],
key: null,
ref: null,
props: r(O["default"].defaultProps, {
textSize: "S",
text: __("ID_SPARTA_CONTENT_TITLE_SEEALL"),
style: U.seeAll,
action: function() {
return k["default"].gotoLocation(e.recentServersRoute);
}
}),
_owner: null
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: __("ID_SPARTA_CONTENT_TITLE_RECENTLYPLAYED").toUpperCase(),
style: {
marginBottom: g["default"].getHeight(2)
},
size: "S",
type: "emphasis"
}),
_owner: null
}, t ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderServerCards(),
style: {
flexDirection: "row"
}
},
_owner: null
} ],
style: this.props.style
},
_owner: null
};
};
var n = t;
return t = i("_$RecentServersGroup")(t) || t, t = S["default"]()(t) || t;
}(f["default"].Component);
t["default"] = L, L.propTypes = {
gameId: f["default"].PropTypes.string
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(21), a = r(o), i = n(24), s = r(i), l = n(23), u = r(l), c = a["default"].createClient({
requestOn: [ u["default"].deleteSavedFilter ],
request: function p(e, t) {
if (!e || !t) throw new Error("Missing parameter, expected gameId, savedFilter");
var n = {
id: t.id
};
return s["default"].request("GameServer.deleteFilter", n);
},
onRequestError: function f(e, t) {
this.publish(t.game, null, e);
},
parse: function d(e) {
return e;
},
update: function h(e, t, n, r) {
this.publish(n, r);
}
});
t["default"] = c, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, a = n(5), i = r(a), s = n(21), l = r(s), u = n(24), c = r(u), p = n(19), f = r(p), d = n(23), h = r(d), y = n(41), g = r(y), m = n(50), b = l["default"].createClient({
requestOn: [ m.gatewayClient.onSessionEstablished, h["default"].refreshGameData ],
shouldPerformRequest: function v() {
return g["default"].getState().isReady() && !1;
},
listener: function _() {
return {
game: f["default"].getHostingGame().gameId
};
},
request: function S(e) {
if (!e || !e.game) throw new Error("You need to provide at least a game when fetching game hints");
var t = {
game: e.game
};
return c["default"].request("Gamedata.getGameHints", t);
},
onRequestError: function T() {
this.publish([]);
},
parse: function w(e) {
var t = {
general: []
};
return i["default"].map(e, function(e) {
e.tags.length > 0 ? e.tags.map(function(n) {
if (!t[n]) {
var r;
t = o({}, t, (r = {}, r[n] = [], r));
}
t[n].push(e);
}) : t.general.push(e);
}), t;
},
update: function E(e) {
this.publish(e);
}
});
t["default"] = b, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(5), a = r(o), i = n(21), s = r(i), l = n(24), u = r(l), c = n(23), p = r(c), f = n(41), d = r(f), h = n(288), y = s["default"].createClient({
requestOn: [ p["default"].refreshSavedFilters ],
shouldPerformRequest: function g() {
return d["default"].getState().isReady();
},
request: function m(e) {
if (!e) throw new Error("You need to provide at least a game when fetching saved filters");
var t = {
game: e
};
return u["default"].request("GameServer.getFilters", t);
},
onRequestError: function b(e, t) {
this.publish(t.game, [], e);
},
parse: function v(e) {
return a["default"].map(e, function(e) {
return a["default"].extend({}, {
id: e.id,
filterName: e.name
}, h.parseFilterJson(e.filter));
});
},
update: function _(e, t, n) {
this.publish(n, e);
}
});
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(24), a = r(o), i = n(41), s = r(i), l = n(21), u = n(23), c = l.createClient({
requestOn: [ u.getDetailsForRentedServer ],
shouldPerformRequest: function p() {
return s["default"].getState().isReady();
},
request: function f(e) {
return a["default"].request("RSP.getServerDetails", e);
},
onRequestError: function d(e) {
this.publish(void 0, e);
},
parse: function h(e) {
if (e && e.serverSettings && e.serverSettings.customGameSettings) try {
e.serverSettings.customGameSettings = JSON.parse(e.serverSettings.customGameSettings);
} catch (t) {
console.warn("Failed to parse customGameSettings JSON:", e.serverSettings.customGameSettings);
}
return e;
},
update: function y(e) {
this.publish(e);
}
});
e.exports = c;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(5), a = r(o), i = n(21), s = r(i), l = n(24), u = r(l), c = n(23), p = r(c), f = n(288), d = s["default"].createClient({
requestOn: [ p["default"].saveFilter ],
request: function h(e, t, n) {
if (!e || !t || !n) throw new Error("Missing parameter, expected gameId, filter, name");
var r = {
game: e,
name: n,
filterJson: f.writeFilterJson(t)
};
return u["default"].request("GameServer.saveFilter", r);
},
onRequestError: function y(e, t) {
this.publish(t.game, null, e);
},
parse: function g(e) {
return a["default"].extend({}, {
id: e.id,
filterName: e.name
}, f.parseFilterJson(e.filter));
},
update: function m(e, t, n, r, o) {
this.publish(n, e);
}
});
t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(5), a = r(o), i = n(21), s = r(i), l = n(24), u = r(l), c = n(65), p = n(23), f = r(p), d = n(41), h = r(d), y = s["default"].createClient({
requestOn: [ f["default"].refreshBookmarks ],
shouldPerformRequest: function g() {
return h["default"].getState().isReady();
},
request: function m(e) {
if (!e || !e.game) throw new Error("You need to provide at least a game when fetching favorite servers");
var t = {
game: e.game
};
return u["default"].request("ServerBookmark.getBookmarks", t);
},
onRequestError: function b(e, t) {
this.publish(t.game, [], e);
},
parse: function v(e) {
return a["default"].map(e, function(e) {
return new c.Server(e);
});
},
update: function _(e, t, n) {
this.publish(n.game, e);
}
});
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(5), a = r(o), i = n(21), s = r(i), l = n(24), u = r(l), c = n(65), p = n(23), f = r(p), d = n(8), h = s["default"].createClient({
requestOn: [ f["default"].refreshHistory ],
shouldPerformRequest: function y() {
return d.onlineState.hasGatewaySession;
},
request: function g(e) {
if (!e || !e.game) throw new Error("You need to provide at least a game when fetching server history");
var t = d.onlineState.sessionUser;
if (!t) return Promise.reject("No session user state available");
if (!t.spartaUserId) return Promise.reject("No spartaUserId available in state: " + JSON.stringify(t));
if (!t.spartaUserId.personaId) return Promise.reject("No spartaUserId.personaId available in state: " + JSON.stringify(t));
var n = {
game: e.game,
personaId: t.spartaUserId.personaId
};
return u["default"].request("ServerHistory.mostRecentServers", n);
},
onRequestError: function m(e, t) {
this.publish(t.game, [], e);
},
parse: function b(e) {
return a["default"].map(e, function(e) {
return new c.Server(e);
});
},
update: function v(e, t, n) {
this.publish(n.game, e);
}
});
t["default"] = h, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = n(427), i = r(a), s = n(5), l = r(s), u = n(26), c = new u("GameHintStore"), p = o.createStore({
init: function f() {
this.listenTo(i["default"], function(e) {
c.set("hints", e), this.trigger(this.getState());
});
},
getState: function d() {
return c.getState();
},
getHints: function h(e, t) {
var n = c.get("hints");
if (!n) return [];
var r = [];
return e && (r = r.concat(l["default"].sample(n[e], 1))), t && (r = r.concat(l["default"].sample(n[t], 1))), 
r = r.concat(l["default"].sample(n.general, 6 - r.length)), l["default"].shuffle(r.map(function(e) {
return e.name;
}));
}
});
e.exports = p;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = n(431), i = r(a), s = n(154), l = n(65), u = n(5), c = r(u), p = n(26), f = n(23), d = new p("ServerBookmarkStore"), h = o.createStore({
init: function y() {
var e = this;
this.listenTo(i["default"], function(e, t, n) {
d.set(e, {
data: t,
error: n
}), this.trigger(this.getState()), f.requestPings(c["default"].pluck(t, "ip"));
}), this.listenTo(f.toggleBookmark, function(t) {
var n = new l.Server(c["default"].extend({}, t, {
isFavorite: !t.isFavorite
}));
e.updateServerBookmarked(n);
}), this.listenTo(s.ToggleServerBookmarkClient, this.updateServerBookmarked);
},
updateServerBookmarked: function g(e) {
var t = d.get(e.game) || {}, n = t.data ? t.data.slice() : [], r = !1;
if (e.isFavorite) c["default"].every(n, function(t) {
return t.guid !== e.guid;
}) && (n.push(e), r = !0); else for (var o = 0; o < n.length; o++) if (n[o].guid === e.guid) {
n.splice(o, 1), r = !0;
break;
}
r && (d.set(e.game, {
data: n,
error: t.error
}), this.trigger(this.getState()));
},
getState: function m() {
return d.getState();
}
});
e.exports = h;
}, function(e, t, n) {
var r = n(15), o = n(26), a = n(23), i = new o("ServerCountStore"), s = r.createStore({
init: function l() {
this.listenTo(a.setServerCounts, function(e) {
i.merge(e), this.trigger(this.getState());
});
},
getState: function u() {
return i.getState();
}
});
e.exports = s;
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var r = n(15), o = n(26), a = t(o), i = n(23), s = t(i), l = n(292), u = n(5), c = t(u), p = [ {
key: l.SortKeys.NONE,
direction: l.SortDirection.NONE,
getLabel: function h() {
return __("ID_SPARTA_SERVER_SORT_NONE");
}
}, {
key: l.SortKeys.NAME,
direction: l.SortDirection.ASC,
getLabel: function y() {
return __("ID_SPARTA_SERVER_SORT_NAME");
}
}, {
key: l.SortKeys.PLAYERS,
direction: l.SortDirection.DESC,
getLabel: function g() {
return __("ID_SPARTA_SERVER_SORT_PLAYERS");
}
}, {
key: l.SortKeys.PING,
direction: l.SortDirection.ASC,
getLabel: function m() {
return __("ID_SPARTA_SERVER_SORT_PING");
}
} ], f = new a["default"]("ServerSortStore", {
current: p[0],
next: p[1]
}), d = r.createStore({
init: function b() {
this.listenTo(s["default"].cycleSort, function() {
var e = f.get("next"), t = p.indexOf(e), n = t + 1;
n === p.length && (n = 0);
var r = p[n];
f.set("current", e), f.set("next", r), this.trigger(this.getState());
}), this.listenTo(s["default"].setSort, function(e) {
var t = f.get("current");
if (t.key === e) {
var n = void 0;
switch (t.direction) {
case l.SortDirection.ASC:
n = l.SortDirection.DESC;
break;

case l.SortDirection.DESC:
n = l.SortDirection.NONE;
break;

default:
n = l.SortDirection.ASC;
}
f.set("current", {
key: t.key,
direction: n,
getLabel: function r() {
return t.getLabel();
}
});
} else f.set("current", c["default"].find(p, function(t) {
return t.key === e;
}));
this.trigger(this.getState());
});
},
getState: function v() {
return f.getState();
},
reset: function _() {
f.set("current", p[0]), f.set("next", p[1]), this.trigger(this.getState());
}
});
e.exports = d;
}).call(t, n(2));
}, function(e, t, n) {
var r = n(15), o = {
display: r.createAction(),
hide: r.createAction()
};
e.exports = o;
}, function(e, t, n) {
var r = n(15);
e.exports = {
spartaClientCaptureMouse: r.createAction(),
spartaClientMinimizeWindow: r.createAction(),
spartaClientExitToWindows: r.createAction()
};
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return Se(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e) {
return SpartaGlobals.bundleIsConsole && "mainMenu" === e || "comCenter" === e;
}
var c = n(4), p = l(c);
t.__esModule = !0;
var f, d = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), h = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, y = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, g = n(1), m = l(g), b = n(17), v = l(b), _ = n(16), S = n(61), T = l(S), w = n(53), E = l(w), I = n(3), C = r(I), A = n(29), P = l(A), O = n(36), R = l(O), k = n(56), x = l(k), M = n(12), N = l(M), D = n(13), U = l(D), L = n(20), $ = l(L), G = n(118), F = l(G), B = n(14), j = l(B), H = n(746), V = l(H), z = n(745), W = l(z), q = n(747), K = l(q), X = n(748), Y = l(X), J = n(749), Q = l(J), Z = n(578), ee = n(156), te = l(ee), ne = n(576), re = n(205), oe = n(750), ae = l(oe), ie = n(751), se = (l(ie), 
n(756)), le = n(184), ue = l(le), ce = n(744), pe = l(ce), fe = n(440), de = l(fe), he = n(62), ye = n(10), ge = n(9), me = n(585), be = n(8), ve = n(553), _e = {
_$BlackFade: {
displayName: "BlackFade"
},
_$FooterLineBar: {
displayName: "FooterLineBar"
},
_$BackgroundContainer: {
displayName: "BackgroundContainer"
},
_$Layout: {
displayName: "Layout"
}
}, Se = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/Layout.jsx",
components: _e,
locals: [],
imports: []
}), Te = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, we = {
footerLine: {
zOffset: 61e3,
left: 0,
right: 0,
top: v["default"].fadeAreaBottom.bottom,
height: 1,
backgroundColor: [ 255, 255, 255, 26 ]
}
}, Ee = !1, Ie = !1, Ce = new Promise(function(e) {
f = e;
});
t.initialBlackFade = Ce, R["default"].scope("navigationState").connect(function(e) {
return e ? (e !== x["default"].FrontEnd && (Ie = !0, Ee = !1, P["default"].handleBlackFadeStart(0, {
duration: 0
})), !1) : void 0;
});
var Ae = function(e) {
function t(t) {
a(this, n), e.call(this, t), this._timeout = 0, this.opacityTween = _.Animation.tween("d48a9bda:132", 0);
}
i(t, e), t.prototype.componentDidMount = function r() {
f();
}, t.prototype.componentWillUnmount = function o() {
this.clearTimeout();
}, t.prototype.runTimeout = function l() {
var e = this, t = 15e3;
this.clearTimeout(), this._timeout = setTimeout(function() {
var n = R["default"].getState(), r = n.levelName || "";
return n.navigationState === x["default"].LoadingScreen && r.toLowerCase().indexOf("frontend") > -1 ? (console.warn("BlackFade - Trying to hide the black fade but the game is still in a loading state. " + ("Re-initiating a timeout of " + t + "ms")), 
void e.runTimeout()) : (console.warn("BlackFade - BlackFade wasn't hidden within a reasonable " + ("timelimit (" + t + "ms). Forcing BlackFade to hide")), 
void e.opacityTween.to(0, null, function() {
P["default"].handleBlackFadeDone();
}));
}, t);
}, t.prototype.clearTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
clearTimeout(this._timeout);
}), t.prototype.changeOpacity = function u(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1], n = arguments.length <= 2 || void 0 === arguments[2] ? null : arguments[2];
return Ee ? void console.warn("Trying to change opacity of BlackFade while it's locked (to value: " + e + ")") : (console.info("BlackFade - Setting opacity to " + e), 
0 === e ? this.clearTimeout() : this.runTimeout(), void this.opacityTween.to(e, t, function() {
P["default"].handleBlackFadeDone(), n && n();
}));
}, t.prototype.render = function c() {
var e = y({}, Te, {
zOffset: 9999999999,
backgroundColor: "#000000",
enableMouseEvents: !1,
opacity: this.opacityTween.getStyle()
});
return {
$$typeof: h,
type: "surface",
key: "blackfade",
ref: null,
props: {
style: e
},
_owner: null
};
};
var n = t;
return t = s("_$BlackFade")(t) || t, t = F["default"]({
changeOpacity: P["default"].handleBlackFadeStart
})(t) || t;
}(m["default"].Component), Pe = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
return SpartaGlobals.bundleIsConsole && !this.state.gameView.isVisible ? {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
style: y({}, we.footerLine, {
opacity: this.props.opacityTween.getStyle()
})
},
_owner: null
} : null;
};
var n = t;
return t = s("_$FooterLineBar")(t) || t, t = j["default"]({
gameView: E["default"]
})(t) || t;
}(m["default"].Component), Oe = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = re.backgroundContainer.items.map(function(e) {
return m["default"].createElement(me.Background, {
ref: e.name,
key: e.name,
bgItem: e
});
});
return {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ e, re.backgroundContainer.extra.elements.slice() ]
},
_owner: null
};
};
var n = t;
return t = s("_$BackgroundContainer")(t) || t, t = ye.observer(t) || t;
}(m["default"].Component), Re = C.focus.system.createScaledComponent(), ke = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.footerLineOpacityTween = _.Animation.tween("d48a9bda:278", 1), 
this.gameViewVisible = !1, this.isInGame = !1, this.isPresenceReady = !1, this.tweenOpacity = _.Animation.tween("d48a9bda:282", ee.isVisibleStore.getState() ? 0 : 1), 
this.tweenTranslateY = _.Animation.tween("d48a9bda:283", 0);
}
i(t, e), t.prototype.getInput = function r() {
var e = T["default"].getState(), t = e.mainMenu || be.comCenterState.isExpanded;
if (!C.focus.system.controllerMode || t || be.partyStore.isInSquadJoin) return [];
var n = [];
return be.layoutStateStore.current.config.enableMainMenu && SpartaGlobals.bundleIsConsole && (n.push(new U["default"]({
visible: !1,
action: function r() {
return P["default"].showComponent("mainMenu");
},
key: N["default"].Home
})), be.layoutStateStore.current.breadcrumbs.length <= 3 && SpartaGlobals.bundleIsConsole && n.push(new U["default"]({
visible: !1,
action: function o() {
return P["default"].showComponent("mainMenu");
},
key: N["default"].Decline
}))), be.comCenterState.canOpen && n.push(new U["default"]({
visible: !1,
action: function a() {
return P["default"].showComponent("comCenter");
},
key: N["default"].End
})), n;
}, t.prototype.getComponent = function l(e) {
var t = this.refs[e];
if (t) return t;
var n = this.refs.view;
if ("header" === e) return n.getHeader();
if ("content" === e) return n.getContent();
throw Error("Could not find layout component by reference: " + e);
}, t.prototype.onComponentHidden = function c(e) {
SpartaGlobals.bundleIsPC || u(e) && this.focusPreviousComponent();
}, t.prototype.onIsRunningChanged = function p(e) {
this.isInGame = e, this.isInGame || this.focusPreviousComponent();
}, t.prototype.onGameViewVisibilityChanged = function f(e) {
this.gameViewVisible = e, this.isInGame || this.focusPreviousComponent();
}, t.prototype.onIsStartScreenVisibleChanged = function g(e) {
var t = e ? 0 : 1;
console.info("Changing opacity in Layout to " + t), this.tweenOpacity.to(t);
}, t.prototype.onVisibilityChanged = function b(e) {
SpartaGlobals.bundleIsConsole && this.updateInput();
var t = e.content === !1;
this.footerLineOpacityTween.to(t ? 0 : 1);
}, t.prototype.onDismiss = function S() {
var e = this;
!function() {
var t = _.Animation.defaultTweenOptions.duration;
setTimeout(function() {
P["default"].handleBlackFadeStart(0, {
duration: t,
easing: "Linear"
}, function() {
e.startLoadingContent();
});
}, t);
}();
}, t.prototype.startLoadingContent = function w() {
this.focusPreviousComponent(), this.playStartAnimations();
}, t.prototype.focusPreviousComponent = function I() {
if (this.gameViewVisible) this.focusComponent("gameView"); else {
var e = T["default"].getState();
e.mainMenu ? this.focusComponent("mainMenu") : e.comCenter ? this.focusComponent("comCenter") : ee.isVisibleStore.getState() ? this.focusComponent("startScreen") : this.focusComponent("view");
}
}, t.prototype.focusComponent = function A(e) {}, t.prototype.playStartAnimations = function O() {
var e = this.getComponent("content");
e && e.trickleUp();
}, t.prototype.render = function k() {
var e = !1, t = SpartaGlobals.bundleIsPC ? {
$$typeof: h,
type: pe["default"],
key: "contextMenus",
ref: null,
props: o(pe["default"].defaultProps, {}),
_owner: null
} : null, n = SpartaGlobals.bundleIsPC ? m["default"].createElement(Q["default"], {
key: "mainMenu",
ref: "mainMenu"
}) : m["default"].createElement(Y["default"], {
key: "mainMenu",
ref: "mainMenu"
}), r = y({}, v["default"].screen.style, he.uiState.viewportPosition, he.uiState.viewportScale, {
zOffset: 80
}), a = {
position: "absolute",
left: 0,
top: 0,
width: he.uiState.window.width,
height: he.uiState.window.height
};
return {
$$typeof: h,
type: "surface",
key: "bgcontainer",
ref: null,
props: {
children: [ he.uiState.layout.extra.elements.slice(), {
$$typeof: h,
type: Ae,
key: "blackFade",
ref: null,
props: o(Ae.defaultProps, {}),
_owner: null
}, {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: Oe,
key: null,
ref: null,
props: o(Oe.defaultProps, {}),
_owner: null
}, m["default"].createElement("surface", {
key: "layout",
style: r,
ref: Re
}, m["default"].createElement(ne.ViewContainer, {
key: "view",
ref: "view"
}), m["default"].createElement(V["default"], {
key: "gameView",
ref: "gameView"
}), {
$$typeof: h,
type: W["default"],
key: "gameJoinNotice",
ref: null,
props: o(W["default"].defaultProps, {}),
_owner: null
}, n, {
$$typeof: h,
type: K["default"],
key: "input",
ref: null,
props: o(K["default"].defaultProps, {}),
_owner: null
}, {
$$typeof: h,
type: ae["default"],
key: "tint",
ref: null,
props: o(ae["default"].defaultProps, {}),
_owner: null
}, m["default"].createElement(Z.ComCenter, {
ref: "comCenter"
}), {
$$typeof: h,
type: de["default"],
key: "rCfgLayout",
ref: null,
props: o(de["default"].defaultProps, {
children: [ {
$$typeof: h,
type: se.Notifications,
key: "notifications",
ref: null,
props: o(se.Notifications.defaultProps, {}),
_owner: null
}, t ],
auto: !0,
style: Te
}),
_owner: null
}, {
$$typeof: h,
type: Pe,
key: null,
ref: null,
props: o(Pe.defaultProps, {
opacityTween: this.footerLineOpacityTween
}),
_owner: null
}, e, {
$$typeof: h,
type: ve.AccessImage,
key: null,
ref: null,
props: o(ve.AccessImage.defaultProps, {}),
_owner: null
}) ],
style: {
translateY: this.tweenTranslateY.getStyle(),
opacity: this.tweenOpacity.getStyle()
}
},
_owner: null
}, {
$$typeof: h,
type: ue["default"],
key: "popups",
ref: null,
props: o(ue["default"].defaultProps, {}),
_owner: null
}, m["default"].createElement(te["default"], {
key: "startScreen",
ref: "startScreen",
onDismiss: this.onDismiss.bind(this)
}) ],
style: a
},
_owner: null
};
}, d(t, [ {
key: "componentWillMount",
decorators: [ ge.action("setting layout react component") ],
value: function x() {
he.uiState.layout.reactComponent = this;
}
}, {
key: "componentWillUnmount",
decorators: [ ge.action("removing layout react component") ],
value: function M() {
he.uiState.layout.reactComponent = null, this.disposeReaction();
}
} ]);
var n = t;
return t = s("_$Layout")(t) || t, t = $["default"]({
passDownId: !1
})(t) || t, t = F["default"]({
focusComponent: P["default"].focusComponent,
focusPreviousComponent: P["default"].focusPreviousComponent,
onComponentHidden: P["default"].hideComponent,
onVisibilityChanged: T["default"],
onIsRunningChanged: R["default"].scope("isRunning").transform(function(e) {
return !!e;
}),
onGameViewVisibilityChanged: E["default"].scope("isVisible").transform(function(e) {
return !!e;
}),
onIsStartScreenVisibleChanged: ee.isVisibleStore
})(t) || t, t = ye.observer(t) || t;
}(m["default"].Component);
t["default"] = ke;
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return m(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), p = i(c), f = n(52), d = n(8), h = n(88), y = n(9), g = {
_$RouteConfigContext: {
displayName: "RouteConfigContext"
}
}, m = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/RouteConfigContext.jsx",
components: g,
locals: [],
imports: []
}), b = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.state = {
routeConfig: d.layoutStateStore.current.config
};
}
o(t, e), t.prototype.getChildContext = function i() {
return {
routeConfig: this.props.routeConfig || this.state.routeConfig,
location: this.props.location
};
}, t.prototype.componentWillMount = function s() {
var e = this;
this.props.auto && (this.unsubscribe = y.reaction(function() {
return d.layoutStateStore.current;
}, function(t) {
e.setState({
routeConfig: t.config
});
}));
}, t.prototype.componentWillUnmount = function l() {
this.props.auto && this.unsubscribe();
}, t.prototype.render = function u() {
return p["default"].createElement("surface", this.props, this.props.children);
};
var n = t;
return t = a("_$RouteConfigContext")(t) || t;
}(p["default"].Component);
t["default"] = b, b.childContextTypes = u({}, b.childContextTypes, {
routeConfig: p["default"].PropTypes.instanceOf(f.Route),
location: p["default"].PropTypes.instanceOf(h.Location)
}), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(21), a = r(o), i = n(5), s = r(i), l = n(8), u = n(169), c = n(50).gatewayClient, p = a["default"].createClient({
request: function f() {
return c.request("Notice.getNotices", {
games: s["default"].keys(l.gameStore.games.toJS())
});
},
parse: function d(e) {
return e;
},
update: function h(e) {
var t = {};
s["default"].each(e, function(e, n) {
s["default"].each(e, function(e) {
e.type = u.stringToNoticeType(e.severity);
}), t[n] = e;
}), u.store.setNotices(t);
}
});
t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return te(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l() {
return new Promise(function(e) {
var t = _.frostbite.registerMessageListener("sparta.getLocalUserResp", function(n, r) {
t(), e(r.gamerTag);
});
_.frostbite.sendMessage("sparta.getLocalUser");
});
}
function u(e) {
return new Promise(function(t, n) {
R["default"].display(new x["default"]({
content: {
$$typeof: m,
type: ae,
key: null,
ref: null,
props: r(ae.defaultProps, {
textsToShow: e.textsToShow,
textsToAccept: e.textsToAccept,
acceptMessage: e.getAcceptMessage(),
onCompleted: t,
onCancel: n
}),
_owner: null
}
}));
});
}
function c(e, t) {
return new Promise(function(n, r) {
return SpartaGlobals.bundleIsPC ? (console.info("Resolving Legal Flow instantly due to platform being PC"), 
void n()) : void re.get("legal", function() {
var r = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
r[t] ? (console.info("Legal Flow already accepted by gamerTag '" + t + "'"), n()) : u(e).then(function() {
r[t] = !0, re.save("legal", r);
}).then(function() {
return n();
});
});
});
}
function p(e) {
return new Promise(function(t, n) {
e.companionNotification || t(), e.companionNotification().then(function() {
return t();
});
});
}
function f(e, t) {
return new Promise(function(n, r) {
re.get("legal_companion", function() {
var r = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
r[t] ? (console.info("Companion Legal Flow already accepted by gamerTag '" + t + "'"), 
n()) : p(e).then(function() {
r[t] = !0, re.save("legal_companion", r);
}).then(function() {
return n();
});
});
});
}
function d() {
ne = null;
}
function h() {
return ne || (ne = new Promise(function(e) {
console.info("Trying to show Legal Flow (waiting for gamerTag)"), l().then(function(t) {
var n = P["default"].getHostingGame(), r = n && n.legal;
return r && r.textsToAccept || (console.warn("Cannot show legal popups, current game did not provide texts to accept"), 
e()), t ? void c(r, t).then(function() {
return f(r, t);
}).then(function() {
return e();
}) : (console.warn("No gamerTag returned, showing Legal Flow for unknown user without saving save-state"), 
void c(r).then(function() {
return e();
}));
});
}).then(function() {
_.frostbite.sendMessage("sparta.legalAccepted");
})), ne;
}
var y = n(4), g = s(y);
t.__esModule = !0;
var m = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, b = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
};
t.showCompanionNotification = f, t.clearLegalPromise = d, t.tryShowLegal = h;
var v = n(3), _ = e(v), S = n(5), T = s(S), w = n(1), E = s(w), I = n(277), C = s(I), A = n(19), P = s(A), O = n(25), R = s(O), k = n(42), x = s(k), M = n(7), N = n(231), D = n(6), U = s(D), L = n(33), $ = n(22), G = s($), F = n(20), B = s(F), j = n(13), H = s(j), V = n(12), z = s(V), W = n(16), q = n(17), K = s(q), X = n(18), Y = s(X), J = n(103), Q = s(J), Z = n(30), ee = {
_$LegalFlow: {
displayName: "LegalFlow"
}
}, te = g["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/tryShowLegal.js",
components: ee,
locals: [],
imports: []
}), ne = void 0, re = new C["default"](), oe = {
button: {
width: U["default"].getWidth(6),
marginRight: U["default"].GUTTER
},
container: {
backgroundColor: "#FF000000",
marginTop: -U["default"].getHeight(6),
width: U["default"].getWidth(18),
justifyContent: "center",
alignItems: "flex-start",
height: K["default"].safeZone.height - K["default"].footer.height
},
buttonContainer: {
justifyContent: "flex-start",
flexDirection: "row",
width: U["default"].getWidth(18),
alignSelf: "center",
marginTop: U["default"].getHeight(4)
},
iconsContainerStyle: {
flexDirection: "row",
marginTop: U["default"].getHeight(4)
}
}, ae = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.preloaded = !1, this.state = {
didNotAccept: !1,
currentKey: 0,
data: null
}, this.acceptMessage = "", this.fadeTween = W.Animation.tween("ca03392e:67", 1), 
this.error = {
translateY: W.Animation.tween("ca03392e:69", U["default"].getHeight(4)),
opacity: W.Animation.tween("ca03392e:70", 0)
};
}
a(t, e), t.prototype.componentDidMount = function s() {
this.setState({
currentKey: "EULA"
}), this.preloadData();
}, t.prototype.componentWillUpdate = function l(e, t) {
if (t.currentKey !== this.state.currentKey && this.fadeTween.to(1), t.didNotAccept && t.didNotAccept !== this.state.didNotAccept) {
var n = {
easing: [ 0, .33, .33, 1 ]
};
this.error.translateY.to(0, n), this.error.opacity.to(1, n);
}
}, t.prototype.componentWillUnmount = function u() {
this.fadeTween.destroy(), this.error.translateY.destroy(), this.error.opacity.destroy();
}, t.prototype.getInput = function c() {
return this.modifyInput(!0);
}, t.prototype.onAccepted = function p() {
R["default"].close(this.props.popupInfo.id), this.props.onCompleted();
}, t.prototype.modifyInput = function f(e) {
var t = [], n = this.state.currentKey, r = "TOS" === n, o = "PP" === n, a = "EULA" === n;
if (this.state.data) {
if (this.state.data.TOS) {
var i = b({}, this.state.data.TOS.input, {
visible: !r
});
t.push(new H["default"](i));
}
if (this.state.data.PP) {
var s = b({}, this.state.data.PP.input, {
visible: !o
});
t.push(new H["default"](s));
}
if (this.state.data.EULA) {
var l = b({}, this.state.data.EULA.input, {
visible: !a
});
t.push(new H["default"](l));
}
e !== !0 && t.unshift({
visible: !0,
key: z["default"].Accept,
label: __("ID_SPARTA_ACTION_SELECT")
});
}
return t;
}, t.prototype.preloadData = function d() {
var e = this;
if (!this.preloaded) {
this.preloaded = !0;
var t = P["default"].getState(), n = this.props, r = n.textsToShow, o = n.textsToAccept, a = n.acceptMessage;
t.locale === Q["default"].GERMAN && (a = a.concat(" " + __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_CONSOLE_GERMANY_ADDENDUM"))), 
this.acceptMessage = a;
var i = {
EULA: null,
TOS: null,
PP: null
}, s = {
EULA: !1,
TOS: !1,
PP: !1
}, l = function p(t) {
s[t] = !0, s.EULA && s.TOS && s.PP && e.setState({
data: i
});
}, u = {
EULA: o.EULA,
TOS: r.TOS,
PP: r.PP
}, c = function f(n) {
var r = t.locale, o = u[n] && u[n].sources ? u[n].sources[r] : null;
return o ? void _.loadAssetRequest(_.options.urlHook(o), function(t, r) {
if (t) {
var o = {
EULA: z["default"].Decline,
TOS: z["default"].Option1,
PP: z["default"].Option2
};
i[n] = {
text: N.createChunkedTexts(r),
title: u[n].getTitle(),
input: {
label: u[n].getTitle(),
action: function a() {
return e.showText(n);
},
key: o[n]
}
};
} else console.warn("Failed to fetch: " + n);
l(n);
}) : (console.warn("Missing source for: " + n + " with locale: " + r), void l(n));
};
c("EULA"), c("TOS"), c("PP");
}
}, t.prototype.showText = function h(e) {
var t = this;
this.state.currentKey !== e && !function() {
var n = {
duration: 1e3
};
t.fadeTween.to(0, n, function() {
t.setState({
currentKey: e
}), t.fadeTween.to(1, n);
});
}();
}, t.prototype.render = function y() {
var e = this, t = this.state.currentKey;
if (0 === t || !this.state.data || !this.state.data[t]) return {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = this.state.data[t].text, o = this.state.data[t].title.toUpperCase(), a = oe.buttonContainer;
Z.isRTLLanguage() && (T["default"].each(n, function(e) {
e.props.style = {
textAlignForRTL: "left",
marginRight: U["default"].GUTTER
};
}), a.justifyContent = "flex-end");
var i = {
textAlign: "left",
width: oe.container.width,
color: "#c2c2c2",
opacity: this.fadeTween.getStyle()
}, s = {
width: oe.container.width,
marginTop: U["default"].GUTTER,
translateY: this.error.translateY.getStyle(),
opacity: this.error.opacity.getStyle(),
textAlignForRTL: "left"
}, l = E["default"].createElement(G["default"], {
ref: "acceptButton",
text: __("ID_SPARTA_LEGAL_ACCEPT"),
style: oe.button,
action: function() {
return e.onAccepted();
}
}), u = (!SpartaGlobals.bundleIsPC || !this.state.didNotAccept) && {
$$typeof: m,
type: G["default"],
key: null,
ref: null,
props: r(G["default"].defaultProps, {
text: __("ID_SPARTA_LEGAL_DONOTACCEPT"),
style: oe.button,
action: function() {
return e.setState({
didNotAccept: !0
});
}
}),
_owner: null
}, c = SpartaGlobals.bundleIsPC && this.state.didNotAccept && {
$$typeof: m,
type: G["default"],
key: null,
ref: null,
props: r(G["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_QUIT"),
style: oe.button,
action: function() {
return Y["default"].quitSparta();
}
}),
_owner: null
};
return {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: m,
type: L.Scroller,
key: t,
ref: null,
props: r(L.Scroller.defaultProps, {
children: {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: m,
type: M.Text,
key: null,
ref: null,
props: r(M.Text.defaultProps, {
value: o,
size: "L",
type: "emphasis",
style: {
marginBottom: U["default"].getHeight(5),
textAlignForRTL: "left"
}
}),
_owner: null
}, n ],
style: i
},
_owner: null
},
style: {
width: oe.container.width,
height: U["default"].getHeight(56)
},
controller: !0,
clipMargin: [ U["default"].getHeight(5), 0, 0, U["default"].getWidth(3) ],
softClip: [ 0, 20, 0, 20 ]
}),
_owner: null
}, {
$$typeof: m,
type: M.Text,
key: null,
ref: null,
props: r(M.Text.defaultProps, {
value: this.acceptMessage,
size: "S",
style: {
width: oe.container.width,
marginTop: U["default"].getHeight(4),
color: "#FF9900",
textAlignForRTL: "left",
marginRight: U["default"].GUTTER
}
}),
_owner: null
}, {
$$typeof: m,
type: M.Text,
key: null,
ref: null,
props: r(M.Text.defaultProps, {
size: "S",
color: "#b92828",
style: s,
value: __("ID_SPARTA_LEGAL_ACCEPT_ERROR")
}),
_owner: null
}, {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: Z.localeRearrange([ l, u, c ]),
style: a
},
_owner: null
} ],
style: oe.container
},
_owner: null
};
};
var n = t;
return t = i("_$LegalFlow")(t) || t, t = B["default"]()(t) || t;
}(E["default"].Component);
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
o.extend(this, e), e.filter && (this.filter = e.filter);
}
var o = n(5);
e.exports = r;
}, function(e, t, n) {
function r(e, t) {
return Math.random() * (t - e) + e;
}
function o(e) {
var t;
if (t = e.hasOwnProperty("recommendationType") ? e.recommendationType : Object.keys(e).filter(function(e) {
return -1 !== f.indexOf(e);
})[0]) {
var n = e[t];
return new u(i.extend({
group: t,
game: e.game,
telemetryId: e.telemetryId,
ruleName: e.ruleName
}, n));
}
console.error("Unable to parseRecommendation", e);
}
var a = n(152), i = n(5), s = n(21), l = n(63), u = n(443), c = n(151), p = n(24), f = [ "matchmake", "campaign", "article", "item", "battlepack", "server", "filter", "continue", "video", "churn" ], d = {}, h = s.createClient({
requestOn: [ l.fetchRecommendations ],
throttle: 3e4,
request: function y(e, t) {
return t.count || (t.count = 10), d[JSON.stringify(t)] = Date.now(), p.request("Recommender.recommend", t);
},
parse: function g(e) {
var t = i.chain(e.recommendations).filter(function(e) {
return !e.churn;
}).map(o).filter(function(e) {
return e;
}).value();
if (t.length > 0 && "item" === t[0].group) {
var n = t.shift();
t.splice(r(1, t.length), 0, n);
}
return t;
},
update: function m(e, t, n, r) {
var o = JSON.stringify(r), i = d[o];
delete d[o];
var s = (Date.now() - i) / 1e3, l = "received";
e.forEach(function(e) {
c.trackEvent(a.Events.Message, {
recommendation: e,
secondsDuration: s,
messageType: l
});
}), this.publish(n, e, r);
}
});
e.exports = h;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return i["default"].chain(e).map(function(e) {
var t = c.friendStore.playingFriends.filter(function(t) {
return t.presence.server.game === e;
});
return t.length ? {
group: "friends",
playingFriends: t
} : void 0;
}).compact().value();
}
var a = n(5), i = r(a), s = n(15), l = n(444), u = r(l), c = n(8), p = n(9), f = n(26), d = new f("RecommendationStore"), h = new f("RecommendationBucketsPatchedWithFriends"), y = 0, g = !0, m = s.createStore({
init: function b() {
var e = this;
this.listenTo(u["default"], function(t, n, r) {
g && (h.set(t, r.games), n = o(r.games).concat(n)), d.set(t, n), e.trigger(e.getState());
}), g && p.reaction(function() {
return c.friendStore.playingFriends;
}, function() {
h.getState().isEmpty() || (i["default"].each(h.getState(), function(e, t) {
var n = i["default"].filter(d.get(t), function(e) {
return "friends" !== e.group;
}), r = o(e), a = r.concat(n);
d.set(t, a);
}), e.trigger(e.getState()));
});
},
getBatchId: function v() {
return y++;
},
getState: function _() {
return d.getState();
}
});
e.exports = m;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(13), h = s(d), y = n(12), g = s(y), m = n(63), b = s(m), v = n(35), _ = s(v), S = n(3), T = n(173), w = n(39), E = n(126), I = n(8), C = {
_$ServerRecommendationCard: {
displayName: "ServerRecommendationCard"
}
}, A = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/ServerRecommendationCard.jsx",
components: C,
locals: [],
imports: []
}), P = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = S.focus.create(this, "server_rec_card");
}
a(t, e), t.prototype.getButtons = function s(e) {
var t = this, n = [ new h["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN"),
key: g["default"].Accept,
blockInputFor: 500,
action: function r() {
return t.onJoinServer(e);
}
}) ];
return SpartaGlobals.bundleIsConsole && !I.partyStore.canGroupJoin(e.game) && (w.supportsSpectating(e.game) && n.push(new h["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
key: g["default"].Option1,
blockInputFor: 500,
action: function o() {
return t.onJoinServer(e, "spectator");
}
})), w.supportsCommander(e.game) && e.isRoleSupported("commander") && n.push(new h["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER"),
key: g["default"].Option2,
blockInputFor: 500,
action: function a() {
return t.onJoinServer(e, "commander");
}
}))), n;
}, t.prototype.getContextMenuConfig = function l(e) {
var t = this, n = [];
return I.partyStore.canGroupJoin(e.game) || (w.supportsSpectating(e.game) && n.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
action: function r() {
return t.onJoinServer(e, "spectator");
}
}), w.supportsCommander(e.game) && e.isRoleSupported("commander") && n.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER"),
action: function o() {
return t.onJoinServer(e, "commander");
}
})), n.length ? {
options: n
} : null;
}, t.prototype.onJoinServer = function u(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? "soldier" : arguments[1];
b["default"].handleCardInteraction(this.props.recommendation), _["default"].joinServer(E.createJoinOptions(e, t));
}, t.prototype.render = function p() {
var e = this.props.recommendation, t = e.server.server, n = SpartaGlobals.bundleIsPC ? this.getContextMenuConfig(t) : null;
return {
$$typeof: c,
type: T.PlayCard,
key: null,
ref: null,
props: r(T.PlayCard.defaultProps, {
heading: __("ID_SPARTA_SERVER_RECENT"),
focusItem: this.focusItem,
input: this.getButtons(t),
contextMenu: n,
joinButtonName: __("ID_SPARTA_ACTION_SERVER_JOIN").toLocaleUpperCase(),
modes: t.name.toUpperCase(),
maps: t.mapModePretty,
playersInfo: t.mapNamePretty,
size: this.props.size,
background: t.mapImageUrl
}),
_owner: null
};
};
var n = t;
return t = i("_$ServerRecommendationCard")(t) || t;
}(f["default"].Component);
t["default"] = P, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
var a = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, i = n(1), s = (r(i), 
n(25)), l = t(s), u = n(42), c = t(u), p = n(13), f = t(p), d = n(12), h = t(d), y = n(597), g = n(11), m = {
"ar-sa": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_ARA_SA-e1299a03.txt"),
"cs-cz": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_CZE_CZ-2f5cf166.txt"),
"de-de": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_GER_DE-e6a5fea4.txt"),
"en-us": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_ENG_US-eee34ba6.txt"),
"es-es": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_SPA_ES-7cac774b.txt"),
"es-mx": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_SPA_MX-787efc14.txt"),
"fr-fr": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_FRE_FR-6516a345.txt"),
"it-it": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_ITA_IT-3bcc4a1f.txt"),
"ja-jp": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_JPN_JP-963199c0.txt"),
"ko-kr": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_KOR_KR-562d3b5c.txt"),
"pl-pl": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_POL_PL-ab9eea33.txt"),
"pt-br": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_POR_BR-b17f8208.txt"),
"ru-ru": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_RUS_RU-ef067c66.txt"),
"tr-tr": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_TUR_TR-be6c0713.txt"),
"zh-tw": g.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_CHT_CN-9801c961.txt")
}, b = {
xboxone: {
EULA: m,
TOS: {
"ar-sa": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-ar-838e26f3.txt"),
"cs-cz": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-cs-c1e79c5a.txt"),
"de-de": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-de-50049396.txt"),
"en-us": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-en-e5b14b41.txt"),
"es-es": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-es-6fd278b8.txt"),
"es-mx": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-mx-d2a1ff28.txt"),
"fr-fr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-fr-75e4500d.txt"),
"it-it": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-it-19f00637.txt"),
"ja-jp": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-jp-def3fcc7.txt"),
"ko-kr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-ko-2d0db025.txt"),
"pl-pl": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-pl-330ae929.txt"),
"pt-br": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-br-742841a0.txt"),
"ru-ru": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-ru-049703a6.txt"),
"tr-tr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-tr-cbb786c1.txt"),
"zh-tw": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-tc-47f8cfcf.txt")
},
PP: {
"ar-sa": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ar-c5b69842.txt"),
"cs-cz": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-cs-e8558212.txt"),
"de-de": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-de-87aa792f.txt"),
"en-us": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-en-19b7fd61.txt"),
"es-es": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-es-58a02f3a.txt"),
"es-mx": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-mx-c16db0b8.txt"),
"fr-fr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-fr-65fbf187.txt"),
"it-it": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-it-58253880.txt"),
"ja-jp": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-jp-b69421f7.txt"),
"ko-kr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ko-45b894c8.txt"),
"pl-pl": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-pl-421c8f85.txt"),
"pt-br": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-br-f63d2687.txt"),
"ru-ru": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ru-2cc0c661.txt"),
"tr-tr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-tr-ecb70fcd.txt"),
"zh-tw": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-tc-a26a741a.txt")
}
},
ps4: {
EULA: m,
TOS: {
"ar-sa": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-ar-a24c85bd.txt"),
"cs-cz": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-cs-041c269d.txt"),
"de-de": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-de-2fda6c89.txt"),
"en-us": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-en-e6cd1be4.txt"),
"es-es": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-es-117b19dd.txt"),
"es-mx": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-mx-207e473a.txt"),
"fr-fr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-fr-921878e1.txt"),
"it-it": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-it-b7c13e4c.txt"),
"ja-jp": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-ja-cebe5dbd.txt"),
"ko-kr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-ko-fad1f1cf.txt"),
"pl-pl": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-pl-5300e7dd.txt"),
"pt-br": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-br-692d98a9.txt"),
"ru-ru": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-ru-cf76eb3e.txt"),
"tr-tr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-tr-f922a86e.txt"),
"zh-tw": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-tc-d3ea9753.txt")
},
PP: {
"ar-sa": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ar-d23e6be9.txt"),
"cs-cz": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-cz-10dcf052.txt"),
"de-de": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-de-5db91fe6.txt"),
"en-us": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-en-16fa45b7.txt"),
"es-es": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-es-6eeac95c.txt"),
"es-mx": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-mx-1430f8e3.txt"),
"fr-fr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-fr-928bd643.txt"),
"it-it": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-it-0d3747ea.txt"),
"ja-jp": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ja-2f18926b.txt"),
"ko-kr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ko-8e236800.txt"),
"pl-pl": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-pl-b99d410e.txt"),
"pt-br": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-br-8254622f.txt"),
"ru-ru": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ru-c6b56e0d.txt"),
"tr-tr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-tr-375ff060.txt"),
"zh-tw": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-tc-3289d77a.txt")
}
},
pc: {
EULA: {
"ar-sa": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ARA_SA-9f1bb4e4.txt"),
"cs-cz": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ENG_US-a9f0a043.txt"),
"de-de": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.30.16_GER_DE-19c12cfd.txt"),
"en-us": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ENG_US-a9f0a043.txt"),
"es-es": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_SPA_ES-21991268.txt"),
"es-mx": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_SPA_MX-c15115f5.txt"),
"fr-fr": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_FRE_FR-650af657.txt"),
"it-it": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ITA_IT-eb9da764.txt"),
"ja-jp": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_JPN_JP-a65900c0.txt"),
"ko-kr": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ENG_US-a9f0a043.txt"),
"pl-pl": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_POL_PL-be5cd911.txt"),
"pt-br": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_POR_BR-c2728510.txt"),
"ru-ru": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_RUS_RU-35cfb05f.txt"),
"tr-tr": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_TUR_TR-26a86f73.txt"),
"zh-tw": g.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_CHT_CN-23d94b14.txt")
},
TOS: {
"ar-sa": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-ar-99d3ac63.txt"),
"cs-cz": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-cs-b51352dc.txt"),
"de-de": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-de-9fef088a.txt"),
"en-us": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-en-fc85ec7e.txt"),
"es-es": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-es-de5f00b2.txt"),
"es-mx": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-mx-9bc74e74.txt"),
"fr-fr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-fr-bd3ace93.txt"),
"it-it": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-it-16a9da23.txt"),
"ja-jp": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-jp-de6a5a0e.txt"),
"ko-kr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-ko-5428e67d.txt"),
"pl-pl": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-pl-80950584.txt"),
"pt-br": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-br-bcab0db8.txt"),
"ru-ru": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-ru-5c77c7d9.txt"),
"tr-tr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-tr-f731ec3a.txt"),
"zh-tw": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-tc-267334b9.txt")
},
PP: {
"ar-sa": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ar-e158ccf8.txt"),
"cs-cz": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-cs-08e36f8e.txt"),
"de-de": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-de-5acd94c7.txt"),
"en-us": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-en-d41c6ce1.txt"),
"es-es": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-es-9b5b964e.txt"),
"es-mx": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-mx-239b4588.txt"),
"fr-fr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-fr-751c0122.txt"),
"it-it": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-it-e918e658.txt"),
"ja-jp": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-jp-d0447da4.txt"),
"ko-kr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ko-a64cd41f.txt"),
"pl-pl": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-pl-9011ec1f.txt"),
"pt-br": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-br-40bcc8f5.txt"),
"ru-ru": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ru-eeb84d61.txt"),
"tr-tr": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-tr-1162c67a.txt"),
"zh-tw": g.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-tc-20c38a96.txt")
}
}
}, v = [], _ = [], S = [], T = {
PC: function O() {
return __("ID_SPARTA_ONLINE_SERVICE_PC");
},
PS4: function R() {
return __("ID_SPARTA_ONLINE_SERVICE_PS4");
},
XBOXONE: function k() {
return __("ID_SPARTA_ONLINE_SERVICE_XBOXONE");
}
};
v.XBOXONE = {
getTitle: function x() {
return __("ID_SPARTA_LEGAL_EULA_TITLE");
},
sources: b.xboxone.EULA
}, v.PS4 = {
getTitle: function M() {
return __("ID_SPARTA_LEGAL_EULA_TITLE");
},
sources: b.ps4.EULA
}, v.PC = {
getTitle: function N() {
return __("ID_SPARTA_LEGAL_EULA_TITLE");
},
sources: b.pc.EULA
}, _.XBOXONE = {
getTitle: function D() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: b.xboxone.PP
}, _.PS4 = {
getTitle: function U() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: b.ps4.PP
}, _.PC = {
getTitle: function L() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: b.pc.PP
}, S.XBOXONE = {
getTitle: function $() {
return __("ID_SPARTA_LEGAL_TOS_TITLE");
},
sources: b.xboxone.TOS
}, S.PS4 = {
getTitle: function G() {
return __("ID_SPARTA_LEGAL_TOS_TITLE");
},
sources: b.ps4.TOS
}, S.PC = {
getTitle: function F() {
return __("ID_SPARTA_LEGAL_TOS_TITLE");
},
sources: b.pc.TOS
};
var w = v[SpartaGlobals.bundlePlatform], E = _[SpartaGlobals.bundlePlatform], I = S[SpartaGlobals.bundlePlatform], C = T[SpartaGlobals.bundlePlatform || "PC"], A = function B() {
var e = __("ID_SPARTA_TUNGUSKA_COMPANION_LEGAL_TEXT").replace("[[online_service]]", C());
return new Promise(function(t) {
l["default"].display(new c["default"]({
content: {
$$typeof: a,
type: y.CompanionNotificationPopup,
key: null,
ref: null,
props: o(y.CompanionNotificationPopup.defaultProps, {
legal: e
}),
_owner: null
},
createButtons: !0,
inputs: [ new f["default"]({
label: __("ID_SPARTA_ACTION_OK"),
key: h["default"].Accept,
action: function n() {
return t();
}
}) ]
}));
});
}, P = {
PC: {
getAcceptMessage: function j() {
return __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_PC");
},
textsToShow: {
TOS: I,
PP: E
},
textsToAccept: {
EULA: w
},
companionNotification: A
},
PS4: {
getAcceptMessage: function H() {
return __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_CONSOLE");
},
textsToShow: {
TOS: I,
PP: E
},
textsToAccept: {
EULA: w
},
companionNotification: A
},
XBOXONE: {
getAcceptMessage: function V() {
return __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_CONSOLE");
},
textsToShow: {
TOS: I,
PP: E
},
textsToAccept: {
EULA: w
},
companionNotification: A
}
};
e.exports = P[SpartaGlobals.bundlePlatform];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return k(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(5), h = s(d), y = n(44), g = n(23), m = s(g), b = n(290), v = s(b), _ = n(104), S = s(_), T = n(14), w = s(T), E = n(7), I = n(475), C = s(I), A = n(28), P = s(A), O = n(165), R = {
_$TunguskaServerDetails: {
displayName: "TunguskaServerDetails"
}
}, k = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaServerDetails.js",
components: R,
locals: [],
imports: []
}), x = n(120), M = function(e) {
function t(t) {
o(this, n), e.call(this, t);
var r = v["default"].listen(function(e) {
e.data && (r(), O.fetchServerDetails(y.tunguskaGameId, null, e.data.guid));
});
}
a(t, e), t.prototype.componentWillMount = function s() {
this.loadServerDetails(this.props.viewLocation.args.blazeGameId);
}, t.prototype.componentWillReceiveProps = function l(e, t) {
this.loadServerDetails(e.viewLocation.args.blazeGameId);
}, t.prototype.loadServerDetails = function u(e) {
m["default"].clearServerDetails();
var t = {
game: y.tunguskaGameId,
gameId: e
};
m["default"].getDetailsForServer(t);
}, t.prototype.getOptionsMapping = function p() {
var e = this.state.details.settings, t = this.state.filterOptions;
if (h["default"].isEmpty(e)) return [ {
key: "CLASSESVEHICLES",
name: __("ID_SPARTA_FILTER_CLASSESVEHICLES"),
settings: [],
filterOptions: []
}, {
key: "WEAPONS",
name: __("ID_SPARTA_FILTER_WEAPONS"),
settings: [],
filterOptions: []
}, {
key: "ADVANCED",
name: __("ID_SPARTA_FILTER_ADVANCED"),
settings: [],
filterOptions: []
}, {
key: "RULES",
name: __("ID_SPARTA_FILTER_RULES"),
settings: [],
filterOptions: []
} ];
var n = h["default"].extend({}, e.Kits, e.Vehicles);
return [ {
key: "CLASSESVEHICLES",
name: __("ID_SPARTA_FILTER_CLASSESVEHICLES"),
settings: n,
filterOptions: t.kits.concat(t.vehicles)
}, {
key: "WEAPONS",
name: __("ID_SPARTA_FILTER_WEAPONS"),
settings: e.Weapons,
filterOptions: t.weaponClasses
}, {
key: "ADVANCED",
name: __("ID_SPARTA_FILTER_ADVANCED"),
settings: e.Misc,
filterOptions: t.misc
}, {
key: "RULES",
name: __("ID_SPARTA_FILTER_RULES"),
settings: e.Scales,
filterOptions: t.scales
} ];
}, t.prototype.getSettings = function f() {
var e = this, t = this.getOptionsMapping(), n = {}, r = {
on: __("ID_SPARTA_FILTER_SETTING_ON"),
off: __("ID_SPARTA_FILTER_SETTING_OFF")
};
return h["default"].each(t, function(t) {
var o = [];
h["default"].each(t.settings, function(n, a) {
var i = h["default"].find(t.filterOptions, function(e) {
return e.name === a;
}), s = i.defaultValue + "", l = !1, u = e.translateSettingValue(r, n);
"RULES" !== t.key ? (1 === i.defaultValue ? s = "on" : 0 === i.defaultValue && (s = "off"), 
l = s === n) : "scale" === i.type && n && (l = "1.0" === n, u = Math.round(100 * n) + "%"), 
o.push({
name: i.prettyName || i.name,
setting: u,
isDefault: l
});
}), n[t.name] = o;
}), n;
}, t.prototype.translateSettingValue = function d(e, t) {
return e.hasOwnProperty(t) ? e[t] : t;
}, t.prototype.render = function g() {
return !this.state.details || this.state.detailsError ? {
$$typeof: c,
type: E.Text,
key: null,
ref: null,
props: r(E.Text.defaultProps, {
value: this.state.detailsError,
size: "L"
}),
_owner: null
} : {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
details: this.state.details,
settings: this.getSettings(),
rspDetails: this.state.rspDetails
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaServerDetails")(t) || t, t = w["default"]({
details: P["default"](v["default"], "data"),
detailsError: P["default"](v["default"], "error"),
filterOptions: P["default"](S["default"], y.tunguskaGameId),
rspDetails: P["default"](x, "data")
})(t) || t;
}(f["default"].Component);
t["default"] = M, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return q(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(3), g = r(y), m = n(5), b = l(m), v = n(44), _ = n(6), S = l(_), T = n(7), w = n(22), E = l(w), I = n(46), C = l(I), A = n(33), P = n(25), O = l(P), R = n(49), k = l(R), x = n(143), M = n(31), N = n(14), D = l(N), U = n(107), L = l(U), $ = n(158), G = l($), F = n(189), B = l(F), j = n(34), H = l(j), V = n(106), z = n(57), W = {
_$BattlepackConfirmBuy: {
displayName: "BattlepackConfirmBuy"
}
}, q = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackConfirmBuy.jsx",
components: W,
locals: [],
imports: []
}), K = {
container: {
position: "absolute",
top: 0,
left: 8 * S["default"].GUTTER,
bottom: SpartaGlobals.bundleIsPC ? 0 : S["default"].getHeight(12),
right: 8 * S["default"].GUTTER,
alignItems: "center",
justifyContent: "center"
},
image: {
width: S["default"].getWidth(10),
height: S["default"].getHeight(36),
textureMode: "contain"
},
name: {
marginBottom: 2 * S["default"].GUTTER
},
description: {
marginBottom: 2 * S["default"].GUTTER
},
priceLabel: {
marginBottom: 2 * S["default"].GUTTER
},
actions: {
minHeight: 2 * S["default"].getHeight(7) + 2 * S["default"].GUTTER
},
btn: {
width: S["default"].getWidth(6),
marginBottom: S["default"].GUTTER
}
}, X = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
isLoading: !1
}, this.focusAncestor = g.focus.createAncestor("BattlepackConfirmBuy");
}
i(t, e), t.prototype.getPrice = function r() {
if (this.props.realMoney) return this.props.offer.price;
var e = this.props.pack || this.props.offer && this.props.offer.battlepack, t = b["default"].findWhere(e.prices.map(function(e) {
return e[0];
}), {
name: "scraps"
});
return t && t.quantity;
}, t.prototype.onConfirmClick = function l() {
return this.props.realMoney ? this.buy() : this.buyForScraps();
}, t.prototype.buy = function u() {
var e = this;
this.setState({
isLoading: !0
});
var t = k["default"].checkoutCompleted.listen(function(n, r, o) {
r.offerId === e.props.offer.offerId && (t(), e.closePopup(), n.status === n.CHECKOUT_COMPLETED && "function" == typeof e.props.onBuy && e.props.onBuy());
}), n = Object.assign({
gameId: v.tunguskaGameId
}, this.props.offer);
k["default"].checkout(n);
}, t.prototype.buyForScraps = function c() {
var e = this;
this.setState({
isLoading: !0
});
var t = this.props.pack || this.props.offer && this.props.offer.battlepack, n = z.buyForScraps.listen(function(t, r) {
return n(), t ? (M.alert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_BUY_ERROR", !0)), void e.setState({
isLoading: !1
})) : (e.closePopup(), void ("function" == typeof e.props.onBuy && e.props.onBuy()));
}), r = this.state.balance && this.state.balance.scraps || 0;
H["default"].buyBattlepackForScraps(t.packKey, this.getPrice(), r);
}, t.prototype.closePopup = function d() {
var e = this.props.popupInfo && this.props.popupInfo.id;
O["default"].close(e);
}, t.prototype.render = function y() {
var e = this, t = this.props.offer, n = this.props.pack || t && t.battlepack, r = n.images && (n.images.side_big || n.images.side_normal || n.images.side_small), a = n.visualName, i = t && t.amount > 1 ? " x" + t.amount : "", s = this.getPrice(), l = void 0, u = void 0;
this.props.realMoney ? (l = {
$$typeof: f,
type: x.PS4StoreContent,
key: null,
ref: null,
props: o(x.PS4StoreContent.defaultProps, {
children: {
$$typeof: f,
type: T.Text,
key: null,
ref: null,
props: o(T.Text.defaultProps, {
style: K.priceLabel,
value: s
}),
_owner: null
}
}),
_owner: null
}, u = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(A.Scroller, {
style: {
width: S["default"].getWidth(16),
height: S["default"].getHeight(22)
},
ref: "description",
softClip: [ 0, S["default"].getHeight(2), 0, S["default"].getHeight(2) ],
scrollPosition: "inside",
controller: !0
}, {
$$typeof: f,
type: T.Text,
key: null,
ref: null,
props: o(T.Text.defaultProps, {
size: "S",
value: t.longDesc
}),
_owner: null
}),
style: K.description
},
_owner: null
}) : l = {
$$typeof: f,
type: V.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(V.TunguskaBattlepackScraps.defaultProps, {
style: K.priceLabel,
value: s
}),
_owner: null
};
var c = void 0;
return c = this.state.isLoading ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
autoRun: !0
}),
_owner: null
}, {
$$typeof: f,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
text: "",
disabled: !0
}),
_owner: null
} ],
style: K.actions
},
_owner: null
} : {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_CONFIRM").toUpperCase(),
style: K.btn,
action: function() {
return e.onConfirmClick();
},
blockInputFor: 1e3
}),
_owner: null
}, {
$$typeof: f,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_CANCEL").toUpperCase(),
style: K.btn,
action: function() {
return e.closePopup();
}
}),
_owner: null
} ],
style: K.actions
},
_owner: null
}, h["default"].createElement("surface", p({
style: K.container
}, this.focusAncestor.hooks), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: [ K.image, {
texture: r
} ]
},
_owner: null
}, {
$$typeof: f,
type: T.Text,
key: null,
ref: null,
props: o(T.Text.defaultProps, {
style: K.name,
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_BUY_NAME").replace("[[name]]", a + i),
size: "L",
type: "emphasis"
}),
_owner: null
}, u, l, c);
};
var n = t;
return t = s("_$BattlepackConfirmBuy")(t) || t, t = D["default"]({
balance: L["default"]
})(t) || t;
}(h["default"].Component);
t["default"] = X, X.propTypes = {
offer: h["default"].PropTypes.instanceOf(B["default"]),
pack: h["default"].PropTypes.instanceOf(G["default"]),
popupInfo: h["default"].PropTypes.object,
onBuy: h["default"].PropTypes.func,
realMoney: h["default"].PropTypes.bool
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return fe(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(5), h = r(d), y = n(1), g = r(y), m = n(3), b = r(m), v = n(10), _ = n(44), S = n(6), T = l(S), w = n(7), E = n(174), I = n(13), C = l(I), A = n(12), P = l(A), O = n(46), R = l(O), k = n(22), x = l(k), M = n(25), N = l(M), D = n(42), U = l(D), L = n(31), $ = n(14), G = l($), F = n(53), B = l(F), j = n(304), H = l(j), V = n(465), z = l(V), W = n(107), q = l(W), K = n(454), X = l(K), Y = n(789), J = l(Y), Q = n(106), Z = n(449), ee = l(Z), te = n(57), ne = n(8), re = n(158), oe = l(re), ae = n(189), ie = l(ae), se = n(70), le = l(se), ue = n(143), ce = n(55), pe = {
_$BattlepackPurchaseCard: {
displayName: "BattlepackPurchaseCard"
},
_$TunguskaBattlepackGet: {
displayName: "TunguskaBattlepackGet"
}
}, fe = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackGet.jsx",
components: pe,
locals: [],
imports: []
}), de = {
emptyContainer: {
zOffset: 10,
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
marginTop: T["default"].getHeight(24)
},
empty: {
alignSelf: "center",
marginBottom: T["default"].getWidth(1)
}
}, he = {
width: T["default"].getWidth(6),
height: T["default"].getHeight(21)
}, ye = {
text: {
marginTop: T["default"].GUTTER
},
purchasePrice: {
flexDirection: "row"
},
listPrice: {
marginRight: T["default"].GUTTER,
opacity: .6
},
image: {
textureMode: "contain",
height: T["default"].getHeight(10)
}
}, ge = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = t.focusItem || b.focus.create(this, b.autoId("battlepackCard"));
}
i(t, e), t.prototype.render = function r() {
var e = this.focusItem.isFocused, t = this.props.pack, n = this.props.offer, r = t.getScrapPrice(), a = e ? "#000000" : "#ffffff", i = f({}, ye.image, {
texture: e ? t.images.front_white : t.images.front_normal
}), s = void 0, l = void 0, u = void 0;
if (n && this.props.isPurchasable) {
l = 1;
var c = void 0;
n.listPrice && (c = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: E.Strikethrough,
key: null,
ref: null,
props: o(E.Strikethrough.defaultProps, {
size: "S",
value: n.listPrice,
color: a
}),
_owner: null
},
style: ye.listPrice
},
_owner: null
}), s = {
$$typeof: p,
type: ue.PS4StoreContent,
key: null,
ref: null,
props: o(ue.PS4StoreContent.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ c, {
$$typeof: p,
type: w.Text,
key: null,
ref: null,
props: o(w.Text.defaultProps, {
size: "S",
value: n.price
}),
_owner: null
} ],
style: ye.purchasePrice
},
_owner: null
}
}),
_owner: null
};
} else this.props.scrapBalance < r && (l = .6, u = {
$$typeof: p,
type: le["default"],
key: null,
ref: null,
props: o(le["default"].defaultProps, {
completed: this.props.scrapBalance / r,
style: {
position: "absolute",
bottom: 0,
left: 0,
right: 0
}
}),
_owner: null
});
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: ce.BasicCard,
key: null,
ref: null,
props: o(ce.BasicCard.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: i
},
_owner: null
},
style: f({}, he, this.props.style),
focusItem: this.focusItem,
onFocus: this.props.onFocus,
onPress: this.props.onPress,
heading: t.visualName.toUpperCase(),
description: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: Q.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(Q.TunguskaBattlepackScraps.defaultProps, {
size: "S",
dark: e,
value: r
}),
_owner: null
}, s ],
style: {
flexDirection: "row",
justifyContent: "space-between"
}
},
_owner: null
},
overlay: u
}),
_owner: null
},
style: {
opacity: l
}
},
_owner: null
};
};
var n = t;
return t = s("_$BattlepackPurchaseCard")(t) || t, t = v.observer(t) || t;
}(g.Component);
ge.propTypes = {
pack: g.PropTypes.instanceOf(oe["default"]).isRequired,
offer: g.PropTypes.instanceOf(ie["default"]),
scrapBalance: g.PropTypes.number,
isPurchasable: g.PropTypes.bool,
style: g.PropTypes.object,
onFocus: g.PropTypes.func,
onPress: g.PropTypes.func
};
var me = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusAncestor = b.focus.createAncestor("TunguskaBattlepackGet");
}
i(t, e), t.prototype.getItems = function r(e) {
var t = e && e.items.sort(function(e, t) {
return t.rarenessLevel.value - e.rarenessLevel.value;
});
return t;
}, t.prototype.getOffer = function l(e) {
return this.state.offers ? h.chain(this.state.offers).values().find(function(t) {
return t.battlepack.packKey === e.packKey;
}).value() : null;
}, t.prototype.getPurchasesEnabled = function u() {
return "none" === B["default"].getState().route && ne.settingsStore.isFeatureEnabled("purchaseBattlepacks");
}, t.prototype.onTryAgainClick = function c() {
te.initialFetch.trigger();
}, t.prototype.selectPack = function f(e) {
this.setState({
selectedPack: e
});
}, t.prototype.buyPack = function d(e) {
if (this.getPurchasesEnabled() && this.getOffer(e)) return void N["default"].display(new U["default"]({
id: "buyPopup",
group: "battlepack",
content: {
$$typeof: p,
type: J["default"],
key: null,
ref: null,
props: o(J["default"].defaultProps, {
pack: e
}),
_owner: null
},
requireOnline: !0,
fullScreen: !0,
createButtons: !1,
backgroundColor: "#00000033",
inputs: [ new C["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: P["default"].Decline
}) ]
}));
var t = this.state.balance && this.state.balance.scraps || 0, n = h.findWhere(e.prices.map(function(e) {
return e[0];
}), {
name: "scraps"
}), r = n && n.quantity;
return r > t ? void L.alert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_NOT_ENOUGH_SCRAPS", !0)) : void N["default"].display(new U["default"]({
id: "battlepackConfirmPopup",
group: "battlepack",
content: {
$$typeof: p,
type: ee["default"],
key: null,
ref: null,
props: o(ee["default"].defaultProps, {
popupId: "battlepackConfirmPopup",
currency: "scraps",
pack: e
}),
_owner: null
},
requireOnline: !0,
fullScreen: !0,
createButtons: !1
}));
}, t.prototype.renderLoading = function y() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: g.createElement(R["default"], {
ref: "spinner",
autoRun: !0
}),
style: de.emptyContainer
},
_owner: null
};
}, t.prototype.renderError = function m() {
var e = this;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: w.Text,
key: null,
ref: null,
props: o(w.Text.defaultProps, {
style: de.empty,
size: "M",
gameId: _.tunguskaGameId,
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_TEXT").toUpperCase()
}),
_owner: null
}, {
$$typeof: p,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
textSize: "M",
text: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_SUBTEXT"),
style: {
width: T["default"].getWidth(9)
},
action: function() {
return e.onTryAgainClick();
}
}),
_owner: null
} ],
flex: "4",
style: {
width: T["default"].getWidth(16),
justifyContent: "center",
alignItems: "center"
}
},
_owner: null
},
style: de.emptyContainer
},
_owner: null
};
}, t.prototype.render = function v() {
var e = this;
if (!H["default"].hasLoadedOnce()) return this.renderLoading();
var t = h.values(this.state.purchasable).sort(function(e, t) {
return e.rarenessLevel.value - t.rarenessLevel.value;
});
if (!t.length) return this.renderError();
var n = this.state.balance && this.state.balance.scraps || 0, r = t.map(function(t) {
return {
$$typeof: p,
type: ge,
key: null,
ref: null,
props: o(ge.defaultProps, {
onFocus: e.selectPack.bind(e, t),
onPress: e.buyPack.bind(e, t),
pack: t,
offer: e.getOffer(t),
scrapBalance: n,
isPurchasable: e.getPurchasesEnabled()
}),
_owner: null
};
}), a = this.state.selectedPack || t[0];
return g.createElement("surface", this.focusAncestor.hooks, {
$$typeof: p,
type: T["default"].Row,
key: null,
ref: null,
props: o(T["default"].Row.defaultProps, {
children: [ {
$$typeof: p,
type: T["default"].Col,
key: null,
ref: null,
props: o(T["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: w.Text,
key: null,
ref: null,
props: o(w.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SELECT_TYPE").toUpperCase(),
size: "S",
style: {
textAlignForRTL: "left",
width: T["default"].getWidth(6)
}
}),
_owner: null
},
style: {
width: T["default"].getWidth(7)
}
}),
_owner: null
}, {
$$typeof: p,
type: T["default"].Col,
key: null,
ref: null,
props: o(T["default"].Col.defaultProps, {
style: {
width: T["default"].getWidth(9)
}
}),
_owner: null
}, {
$$typeof: p,
type: T["default"].Col,
key: null,
ref: null,
props: o(T["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: w.Text,
key: null,
ref: null,
props: o(w.Text.defaultProps, {
size: "S",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_REVISION_CONTAINS").replace("[[revision]]", a.revision).toUpperCase(),
style: {
textAlignForRTL: "left"
}
}),
_owner: null
},
style: {
width: T["default"].getWidth(8)
}
}),
_owner: null
} ]
}),
_owner: null
}, {
$$typeof: p,
type: T["default"].Row,
key: null,
ref: null,
props: o(T["default"].Row.defaultProps, {
children: [ {
$$typeof: p,
type: T["default"].Col,
key: null,
ref: null,
props: o(T["default"].Col.defaultProps, {
children: r,
style: {
width: T["default"].getWidth(7)
}
}),
_owner: null
}, {
$$typeof: p,
type: T["default"].Col,
key: null,
ref: null,
props: o(T["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: w.Text,
key: null,
ref: null,
props: o(w.Text.defaultProps, {
value: a && a.descriptionText,
size: "S",
style: {
textAlignForRTL: "left"
}
}),
_owner: null
},
style: {
width: T["default"].getWidth(9)
}
}),
_owner: null
}, {
$$typeof: p,
type: T["default"].Col,
key: null,
ref: null,
props: o(T["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: X["default"],
key: null,
ref: null,
props: o(X["default"].defaultProps, {
items: this.getItems(a)
}),
_owner: null
},
style: {
width: T["default"].getWidth(8)
}
}),
_owner: null
} ]
}),
_owner: null
});
};
var n = t;
return t = s("_$TunguskaBattlepackGet")(t) || t, t = G["default"]({
purchasable: H["default"],
offers: z["default"],
balance: q["default"]
})(t) || t;
}(g.Component);
t["default"] = me, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return z(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(5), y = r(h), g = n(7), m = n(6), b = l(m), v = n(33), _ = n(17), S = l(_), T = n(59), w = l(T), E = n(14), I = l(E), C = n(57), A = n(3), P = r(A), O = n(10), R = n(228), k = l(R), x = n(793), M = l(x), N = n(452), D = l(N), U = n(226), L = l(U), $ = n(794), G = l($), F = n(13), B = l(F), j = n(12), H = l(j), V = {
_$TunguskaBattlepackInventoryFocusItem: {
displayName: "TunguskaBattlepackInventoryFocusItem"
},
_$TunguskaBattlepackInventoryItem: {
displayName: "TunguskaBattlepackInventoryItem"
},
_$TunguskaBattlepackInventory: {
displayName: "TunguskaBattlepackInventory"
}
}, z = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackInventory.jsx",
components: V,
locals: [],
imports: []
}), W = {
box: {
position: "relative",
width: b["default"].getWidth(4),
height: b["default"].getHeight(14)
},
focusedCard: {
backgroundColor: "#ffffff"
},
focusedCardText: {
color: "#000000"
},
hoverCard: {
backgroundColor: "#00000088"
},
blurredCard: {
backgroundColor: "#00000055"
},
itemList: {
flex: 1,
flexDirection: "row",
flexWrap: "wrap"
},
actions: {
marginTop: b["default"].GUTTER,
marginLeft: b["default"].GUTTER,
marginRight: b["default"].GUTTER
},
btn: {
marginBottom: b["default"].GUTTER
}
}, q = [ 0, S["default"].fadeAreaTop.height, 0, SpartaGlobals.bundleIsPC ? S["default"].dangerZoneSize.height : S["default"].fadeAreaBottom.height ], K = [ "ID_P_CAT_SEMI", "ID_P_CAT_SMG", "ID_P_CAT_LMG", "ID_P_CAT_BOLT", "ID_P_CAT_SHOTGUN", "ID_P_CAT_SIDEARM", "ID_P_CAT_CLUB" ], X = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = this.props.item;
if (!e) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var t = {
$$typeof: p,
type: D["default"],
key: null,
ref: null,
props: o(D["default"].defaultProps, {
item: e,
style: W.btn,
useInputButton: !0
}),
_owner: null
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: G["default"],
key: null,
ref: null,
props: o(G["default"].defaultProps, {
item: e
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ t, {
$$typeof: p,
type: L["default"],
key: null,
ref: null,
props: o(L["default"].defaultProps, {
item: e,
style: W.btn,
useInputButton: !0
}),
_owner: null
} ],
style: W.actions
},
_owner: null
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackInventoryFocusItem")(t) || t, t = O.observer(t) || t;
}(d["default"].Component), Y = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.focusItem = P.focus.create(this, t.item.key), 
P.focus.onComponentUpdate(this, function(e, t) {
e.onFocus ? SpartaGlobals.bundleIsPC && r.focusItem.setClickInput(new B["default"]({
action: e.onFocus,
label: __("ID_SPARTA_ACTION_SELECT"),
key: H["default"].Accept
})) : console.warn("No action for battlepack item ");
}), this.focusItem.onChange.listen(function(e) {
e && P.focus.system.controllerMode && r.props.onFocus();
});
}
i(t, e), t.prototype.componentWillUnmount = function r() {
this.focusItem.setActive("7fa395e8:120", !1);
}, t.prototype.render = function l() {
var e = this.props.item;
if (!e) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var t = W.blurredCard, n = void 0;
return this.props.isActive || this.focusItem.isFocused ? (t = W.focusedCard, n = W.focusedCardText) : this.focusItem.isHovered && (t = W.hoverCard), 
{
$$typeof: p,
type: M["default"],
key: null,
ref: null,
props: o(M["default"].defaultProps, {
focusItem: this.focusItem,
onFocus: this.props.onFocus,
item: e,
style: [ W.box, t, this.props.style ],
textStyle: n,
showRarity: !this.props.isActive && !this.focusItem.isFocused
}),
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackInventoryItem")(t) || t, t = O.observer(t) || t;
}(d["default"].Component), J = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusAncestor = P.focus.createAncestor("tunguskabattlepackinventory");
}
i(t, e), t.prototype.componentDidMount = function r() {
C.inventory.trigger();
}, t.prototype.componentWillUpdate = function l(e, t) {
var n = this, r = this.state.inventory, o = t.inventory;
o && o.items && r && r.items && r.items.length !== o.items.length && t.focusedItem && !y.find(t.inventory.items, function(e) {
return e.key === t.focusedItem;
}) && !function() {
var e = n.focusAncestor.getChildren()[0];
e && setTimeout(function() {
e.setFocused(P.focus.FocusSource.Auto);
}, 1e3);
}();
}, t.prototype.componentWillUnmount = function u() {
this.focusAncestor.destroy();
}, t.prototype.getFocusedItem = function c() {
var e = this;
return this.state.inventory && this.state.inventory.items && this.state.focusedItem && y.find(this.state.inventory.items, function(t) {
return t.key === e.state.focusedItem;
});
}, t.prototype.onFocusedItem = function f(e) {
this.setState({
focusedItem: e.key
});
}, t.prototype.onCategoriesFocused = function d() {
this.state.focusedItem && SpartaGlobals.bundleIsConsole && this.setState({
focusedItem: null
});
}, t.prototype.setCategory = function h(e) {
this.setState({
focusedCategory: e,
focusedItem: null
});
}, t.prototype.renderCategories = function m(e, t) {
var n = this;
if (!e) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var r = this.state.inventory.items || [], a = {};
r.forEach(function(e) {
a[e.category] || (a[e.category] = 0), a[e.category]++;
});
var i = e.map(function(e) {
var r = a[e.key], o = e.name + (r ? " (" + r + ")" : "");
return {
label: o,
inputLabel: __("ID_SPARTA_ACTION_SELECT"),
isActive: t === e.key,
onTrigger: function i() {
return n.setCategory(e.key);
}
};
});
return {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
items: i,
onFocus: function() {
return n.onCategoriesFocused();
},
divider: "item",
showActiveIndicator: !0
}),
_owner: null
};
}, t.prototype.renderItems = function _(e) {
var t = this;
if (!e) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = this.state.inventory.items || [], r = n.filter(function(t) {
return t.category === e;
});
return r = r.sort(function(e, t) {
return t.rarenessLevel.value - e.rarenessLevel.value;
}), r.length ? r.map(function(e, n) {
var r = {
marginTop: n > 2 ? b["default"].GUTTER : 0,
marginLeft: n % 3 ? b["default"].GUTTER : 0
};
return {
$$typeof: p,
type: Y,
key: e.key,
ref: null,
props: o(Y.defaultProps, {
style: r,
isActive: t.state.focusedItem === e.key,
onFocus: t.onFocusedItem.bind(t, e),
item: e
}),
_owner: null
};
}) : [ {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: o(g.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_NO_ITEMS"),
size: "S",
style: {
textAlignForRTL: "left",
width: b["default"].getWidth(12)
}
}),
_owner: null
} ];
}, t.prototype.renderFocusPane = function T() {
return {
$$typeof: p,
type: X,
key: null,
ref: null,
props: o(X.defaultProps, {
item: this.getFocusedItem()
}),
_owner: null
};
}, t.prototype.render = function E() {
if (!this.state.inventory || !this.state.inventory.categories) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var e = this.state.inventory.categories.filter(function(e) {
return null != e.key;
}).sort(function(e, t) {
return -1 === K.indexOf(e.key) ? 1 : -1 === K.indexOf(t.key) ? -1 : K.indexOf(e.key) - K.indexOf(t.key);
}), t = this.state.focusedCategory || e[0].key, n = S["default"].content.height - b["default"].window.rowSpan(SpartaGlobals.bundleIsPC ? 20 : 7);
return {
$$typeof: p,
type: b["default"].Row,
key: null,
ref: null,
props: o(b["default"].Row.defaultProps, {
children: [ {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: o(b["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: v.Scroller,
key: "scroller" + this.props.side,
ref: null,
props: o(v.Scroller.defaultProps, {
children: this.renderCategories(e, t),
style: {
height: n
},
softClip: q
}),
_owner: null
},
width: 6,
style: {
marginRight: 3 * b["default"].GUTTER
}
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: o(b["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: v.Scroller,
key: null,
ref: null,
props: o(v.Scroller.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderItems(t),
style: W.itemList
},
_owner: null
},
style: {
height: n
},
softClip: q
}),
_owner: null
},
width: 12
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: o(b["default"].Col.defaultProps, {
children: this.renderFocusPane(),
width: 6,
style: {
marginLeft: 3 * b["default"].GUTTER
}
}),
_owner: null
} ],
style: {
justifyContent: "space-between"
},
surfaceProps: this.focusAncestor.hooks
}),
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackInventory")(t) || t, t = I["default"]({
inventory: k["default"]
})(t) || t, t = O.observer(t) || t;
}(d["default"].Component);
t["default"] = J, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return k(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(6), y = s(h), g = n(13), m = s(g), b = n(12), v = s(b), _ = n(22), S = s(_), T = n(85), w = s(T), E = n(25), I = s(E), C = n(42), A = s(C), P = n(301), O = s(P), R = {
_$BattlepackItemInspectButton: {
displayName: "BattlepackItemInspectButton"
}
}, k = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackItemInspectButton.jsx",
components: R,
locals: [],
imports: []
}), x = {
container: {
flexDirection: "row"
},
inputButton: {
marginRight: 2 * y["default"].GUTTER
}
}, M = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.onClick = function s() {
I["default"].display(new A["default"]({
id: "inspectPopup",
group: "battlepack",
content: {
$$typeof: p,
type: O["default"],
key: null,
ref: null,
props: r(O["default"].defaultProps, {
item: this.props.item
}),
_owner: null
},
fullScreen: !0,
createButtons: !1,
inputs: [ new m["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: v["default"].Decline
}) ]
}));
}, t.prototype.render = function l() {
var e = this, t = this.props.item, n = this.props.label || __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_INSPECT");
return SpartaGlobals.bundleIsPC || !this.props.useInputButton ? d["default"].createElement(S["default"], c({
text: n,
value: t.scrapValue,
action: function() {
return e.onClick();
}
}, this.props)) : {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
inputKey: v["default"].Accept,
label: n,
style: x.inputButton,
action: function() {
return e.onClick();
}
}),
_owner: null
},
style: [ x.container, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = i("_$BattlepackItemInspectButton")(t) || t;
}(d["default"].Component);
t["default"] = M, M.propTypes = {
item: d["default"].PropTypes.object.isRequired,
useInputButton: d["default"].PropTypes.bool
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return $(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(5), g = r(y), m = n(3), b = n(17), v = l(b), _ = n(6), S = l(_), T = n(7), w = n(22), E = l(w), I = n(16), C = n(94), A = r(C), P = n(226), O = l(P), R = n(10), k = n(62), x = n(14), M = l(x), N = n(184), D = n(228), U = l(D), L = {
_$TunguskaBattlepackOpenedItem: {
displayName: "TunguskaBattlepackOpenedItem"
}
}, $ = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackOpenedItem.jsx",
components: L,
locals: [],
imports: []
}), G = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, F = 1024, B = 256, j = {
"default": {
duration: 500,
delay: 300
},
image: {
move: {
duration: 500,
delay: 500
},
moveUp: {
duration: 500
}
},
flare: {
opacity: {
duration: 300
},
scale: {
duration: 300,
delay: 300
}
},
parentName: {
opacity: {
duration: 700
}
}
}, H = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
isInputEnabled: !1,
hideScrapButton: !1
}, this.tweens = {
opacity: I.Animation.tween("b19353cb:65", 0),
scale: I.Animation.tween("b19353cb:66", 0),
translateX: I.Animation.tween("b19353cb:67", 0),
translateY: I.Animation.tween("b19353cb:68", 0),
flareWidth: I.Animation.tween("b19353cb:71", A.flare.width),
flareHeight: I.Animation.tween("b19353cb:72", A.flare.height),
flareRotate: I.Animation.tween("b19353cb:73", 0),
flareScaleX: I.Animation.tween("b19353cb:74", 1),
flareScaleY: I.Animation.tween("b19353cb:75", 0),
flareOpacity: I.Animation.tween("b19353cb:76", 0),
flareTranslateX: I.Animation.tween("b19353cb:77", 0),
flareTranslateY: I.Animation.tween("b19353cb:78", 0),
flash1TranslateX: I.Animation.tween("b19353cb:81", 0),
flash1TranslateY: I.Animation.tween("b19353cb:82", 0),
flash1Opacity: I.Animation.tween("b19353cb:83", 0),
flash2TranslateX: I.Animation.tween("b19353cb:84", 0),
flash2TranslateY: I.Animation.tween("b19353cb:85", 0),
flash2Opacity: I.Animation.tween("b19353cb:86", 0),
sideFlareOpacity: I.Animation.tween("b19353cb:89", 0),
sideFlareTranslateY: I.Animation.tween("b19353cb:90", 0),
circleScale: I.Animation.tween("b19353cb:93", 0),
circleOpacity: I.Animation.tween("b19353cb:94", 0),
glowOpacity: I.Animation.tween("b19353cb:97", 0),
itemNameTranslateY: I.Animation.tween("b19353cb:100", 0),
itemNameOpacity: I.Animation.tween("b19353cb:101", 0),
rarityNameOpacity: I.Animation.tween("b19353cb:102", 0),
rarityTranslateY: I.Animation.tween("b19353cb:103", 0),
inventoryStatusOpacity: I.Animation.tween("b19353cb:104", 0),
buttonScale: I.Animation.tween("b19353cb:107", 0),
buttonOpacity: I.Animation.tween("b19353cb:108", 0)
};
}
i(t, e), t.prototype.componentDidMount = function r() {
this.startAnimations();
}, t.prototype.componentWillUnmount = function l() {
g.each(this.tweens, function(e) {
return e.destroy();
});
}, t.prototype.getHighestResolutionImage = function u(e) {
return e.Png1024xANY ? e.Png1024xANY : e.Png300xANY ? e.Png300xANY : e.Png180xANY ? e.Png180xANY : void 0;
}, t.prototype.onDoneCallback = function c() {
"function" == typeof this.props.onDone && this.props.onDone();
}, t.prototype.startAnimations = function d() {
var e = this;
this.playSound().then(function() {
return e.step1();
}).then(function() {
return e.step2();
}).then(function() {
return e.step3();
}).then(function() {
return e.step4();
}).then(function() {
return e.onDoneCallback();
});
}, t.prototype.playSound = function h() {
var e = this, t = this.props.item && this.props.item.itemType, n = A.openingAudio[t] || A.openingAudio.DEFAULT;
return new Promise(function(t) {
e.sound = m.Sound.load(n), e.sound && e.sound.play(), setTimeout(function() {
return t();
}, 100);
});
}, t.prototype.stopSound = function y() {
this.sound && this.sound.stop();
}, t.prototype.step1 = function b() {
var e = this, t = v["default"].screen.height / 2 - B / 2, n = {
duration: 250,
easing: "Linear"
}, r = {
duration: n.duration,
delay: n.duration,
easing: "Linear"
}, o = {
duration: n.duration / 3,
delay: n.duration / 3,
easing: "Linear"
}, a = {
duration: o.duration,
delay: o.delay + o.duration,
easing: "Linear"
}, i = {
duration: n.duration + r.duration,
easing: "Linear"
}, s = {
duration: o.duration + a.duration,
delay: o.delay,
easing: "Linear"
}, l = {
duration: j["default"].duration,
delay: 200,
easing: "CubicOut"
};
return new Promise(function(u) {
var c = 4, p = A.flare.width * c, f = A.flare.height * c, d = -50, h = -350, y = p / f, g = (d - h) * y, m = 300, b = m - g, v = 600;
e.tweens.flash1Opacity.to(1, n), e.tweens.flash1Opacity.to(0, r), e.tweens.flash1TranslateX.set(b), 
e.tweens.flash1TranslateX.to(m, i), e.tweens.flash1TranslateY.set(h), e.tweens.flash1TranslateY.to(d, i), 
e.tweens.flash2Opacity.to(1, o), e.tweens.flash2Opacity.to(0, a), e.tweens.flash2TranslateX.set(b + v), 
e.tweens.flash2TranslateX.to(m + v, s), e.tweens.flash2TranslateY.set(h), e.tweens.flash2TranslateY.to(d, s, u), 
e.tweens.translateY.set(t), e.tweens.opacity.to(1, l), e.tweens.scale.to(.75, l);
});
}, t.prototype.step2 = function _() {
var e = this, t = v["default"].screen.height / 2 - A.flare.height / 2, n = {
duration: j.image.move.duration,
easing: "CubicInOut"
}, r = {
duration: j.flare.scale.duration,
easing: "QuadraticInOut"
}, o = {
duration: j.flare.opacity.duration,
delay: r.duration - 200,
easing: "CubicInOut"
};
return new Promise(function(a) {
e.tweens.flareRotate.set(160), e.tweens.flareOpacity.set(1), e.tweens.flareTranslateY.set(t), 
e.tweens.flareScaleX.set(1), e.tweens.flareScaleY.set(0), e.tweens.flareScaleX.to(2, r), 
e.tweens.flareScaleY.to(2, r), e.tweens.flareOpacity.to(0, o), e.tweens.sideFlareOpacity.to(1, r), 
e.tweens.glowOpacity.to(1, r), e.tweens.circleOpacity.set(1), e.tweens.circleOpacity.to(0, n), 
e.tweens.circleScale.to(2, n), e.tweens.scale.to(1, n, a);
});
}, t.prototype.step3 = function w() {
var e = this, t = {
duration: 800,
easing: "Linear"
};
return new Promise(function(n) {
e.tweens.sideFlareOpacity.to(0, t), e.tweens.scale.to(1.1, t, n);
});
}, t.prototype.step4 = function C() {
var e = this, t = {
duration: j.image.moveUp.duration
}, n = {
duration: j.parentName.opacity.duration
}, r = {
duration: j.image.move.duration,
delay: 200
}, o = {
duration: j.parentName.opacity.duration,
delay: r.delay + 200
}, a = {
duration: j.image.move.duration,
delay: r.delay + r.duration
}, i = {
duration: 700,
easing: "CubicOut",
delay: a.delay + 240
}, s = v["default"].screen.height / 2 - B / 2, l = 250;
return new Promise(function(u) {
var c = .75;
e.tweens.translateY.to(l, t), e.tweens.scale.to(c, t), e.tweens.itemNameTranslateY.set(s), 
e.tweens.buttonScale.to(1, r), e.tweens.buttonOpacity.to(1, r, function() {
return e.setState({
isInputEnabled: !0
});
}), e.tweens.itemNameOpacity.to(1, n), e.tweens.itemNameTranslateY.to(l, n), e.tweens.inventoryStatusOpacity.to(1, o), 
e.tweens.rarityTranslateY.set(S["default"].getHeight(3)), e.tweens.rarityTranslateY.to(S["default"].getHeight(2), a), 
e.tweens.rarityNameOpacity.to(1, a);
var p = A.flare.width, f = A.flare.height, d = -f / 2 + 120, h = -f + 120, y = p / f, g = (d - h) * y, m = 0, b = m - g;
e.tweens.flareRotate.set(-20), e.tweens.flareOpacity.set(0), e.tweens.flareScaleX.set(1), 
e.tweens.flareScaleY.set(1), e.tweens.flareTranslateY.set(h), e.tweens.flareTranslateX.set(b), 
e.tweens.flareTranslateX.to(m, i), e.tweens.flareTranslateY.to(d, i), e.tweens.flareOpacity.to(1, i, u);
});
}, t.prototype["continue"] = function P() {
this.setState({
hideScrapButton: !0
}), this.props.continueCallback && "function" == typeof this.props.continueCallback && this.props.continueCallback();
}, t.prototype.renderButtons = function x() {
var e = this, t = this.props.item, n = {
zOffset: 1e3,
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
scaleY: this.tweens.buttonScale.getStyle(),
scaleX: this.tweens.buttonScale.getStyle(),
opacity: this.tweens.buttonOpacity.getStyle()
}, r = {
marginTop: 2 * S["default"].GUTTER,
height: S["default"].getHeight(6),
width: S["default"].getWidth(8)
}, a = [];
return a.push({
$$typeof: f,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_BATTLEPACKS_ADD_TO_INVENTORY"),
stealFocus: !0,
style: r,
action: function() {
return e["continue"]();
},
disabled: !this.state.isInputEnabled
}),
_owner: null
}), t.scrapValue > 0 && !this.state.hideScrapButton && a.push({
$$typeof: f,
type: O["default"],
key: null,
ref: null,
props: o(O["default"].defaultProps, {
item: t,
style: r,
onSuccess: function() {
return e["continue"]();
},
disabled: !this.state.isInputEnabled
}),
_owner: null
}), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: a,
style: n
},
_owner: null
};
}, t.prototype.renderInventoryStatus = function D() {
var e = this, t = g.find(this.state.inventory.items, function(t) {
return t.key === e.props.item.key;
});
if (!t || 1 === t.quantity) return null;
var n = t.quantity - 1, r = {
width: S["default"].getWidth(8),
marginTop: 2 * S["default"].GUTTER,
flexDirection: "row",
justifyContent: n > 1 ? "space-between" : "center",
alignItems: "center",
opacity: this.tweens.inventoryStatusOpacity.getStyle()
}, a = {
marginLeft: 2 * S["default"].GUTTER,
backgroundColor: "#ffffffaa"
}, i = {
zOffset: 1,
margin: [ .5 * S["default"].GUTTER, 1.5 * S["default"].GUTTER, .5 * S["default"].GUTTER, 1.5 * S["default"].GUTTER ]
}, s = {
marginLeft: .5 * S["default"].GUTTER,
marginRight: .5 * S["default"].GUTTER,
width: n > 1 ? S["default"].getWidth(6.75) : null,
textAlignForRTL: n > 1 ? "left" : "center"
}, l = void 0;
return n > 1 && (l = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: T.Text,
key: null,
ref: null,
props: o(T.Text.defaultProps, {
value: "x" + n,
size: "S",
color: "#000000",
style: i
}),
_owner: null
},
style: a
},
_owner: null
}), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: T.Text,
key: null,
ref: null,
props: o(T.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ITEM_ALREADY_OWNED"),
size: "S",
color: "#ffffffcc",
style: s
}),
_owner: null
}, l ],
style: r
},
_owner: null
};
}, t.prototype.render = function L() {
var e = this.props.item;
if (!e) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var t = e.rarenessLevel.value, n = A.getName(e.rarenessLevel.value).toUpperCase(), r = this.getHighestResolutionImage(e.images), a = "Weapon" === e.itemType || "Vehicle" === e.itemType ? '"' + e.name + '"' : e.name, i = void 0;
e.parentName && e.parentName !== e.name && (i = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SKIN_FOR").replace("[[value]]", e.parentName).toUpperCase());
var s = {
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
zOffset: 1e3,
opacity: this.tweens.opacity.getStyle(),
translateX: this.tweens.translateX.getStyle(),
translateY: this.tweens.translateY.getStyle()
}, l = {
texture: r,
width: F,
height: B,
textureAtlas: "SINGLE_TEXTURE",
textureMode: "contain",
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle()
}, u = {
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
width: this.tweens.flareWidth.getStyle()
}, c = {
texture: A.flare[t],
textureAtlas: "SINGLE_TEXTURE",
zOffset: 1100,
enableMouseEvents: !1,
rotateZ: this.tweens.flareRotate.getStyle(),
blendMode: "screen",
width: this.tweens.flareWidth.getStyle(),
height: this.tweens.flareHeight.getStyle(),
position: "absolute",
top: 0,
left: 0,
translateX: this.tweens.flareTranslateX.getStyle(),
translateY: this.tweens.flareTranslateY.getStyle(),
scaleX: this.tweens.flareScaleX.getStyle(),
scaleY: this.tweens.flareScaleY.getStyle(),
opacity: this.tweens.flareOpacity.getStyle()
}, d = {
texture: A.sideFlare[t],
zOffset: 1050,
enableMouseEvents: !1,
width: A.sideFlare.width,
height: A.sideFlare.height,
position: "absolute",
blendMode: "screen",
top: 0,
left: 0,
translateY: k.uiState.window.height / 2 - A.sideFlare.height / 2,
opacity: this.tweens.sideFlareOpacity.getStyle()
}, h = {
texture: A.bottomGlow[t],
width: A.bottomGlow.width,
height: A.bottomGlow.height,
opacity: this.tweens.glowOpacity.getStyle(),
blendMode: "screen",
zOffset: 800,
enableMouseEvents: !1,
position: "absolute",
left: 0,
top: 0,
translateX: k.uiState.window.width / 2 - A.bottomGlow.width / 2,
translateY: k.uiState.window.height - A.bottomGlow.height
}, y = {
zOffset: 999,
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
translateY: this.tweens.itemNameTranslateY.getStyle(),
opacity: this.tweens.itemNameOpacity.getStyle()
}, g = {
zOffset: 999,
marginBottom: S["default"].getHeight(3),
translateY: this.tweens.rarityTranslateY.getStyle(),
opacity: this.tweens.rarityNameOpacity.getStyle(),
color: A.rgb[t]
}, m = p({
width: k.uiState.window.width,
height: k.uiState.window.height
}, G), b = p({
texture: A.flare[t],
width: A.flare.width,
height: A.flare.height,
rotateZ: -20,
blendMode: "screen",
enableMouseEvents: !1
}, G), v = p({}, b, {
zOffset: 1600,
scaleX: 4,
scaleY: 4,
translateX: this.tweens.flash1TranslateX.getStyle(),
translateY: this.tweens.flash1TranslateY.getStyle(),
opacity: this.tweens.flash1Opacity.getStyle()
}), _ = p({}, b, {
zOffset: 1601,
scaleX: 1.5,
scaleY: 4,
translateX: this.tweens.flash2TranslateX.getStyle(),
translateY: this.tweens.flash2TranslateY.getStyle(),
opacity: this.tweens.flash2Opacity.getStyle()
}), w = {
zOffset: 900,
alignItems: "center",
alignSelf: "center",
justifyContent: "center",
width: 1028
}, E = t > 1 ? p({
texture: A.circleTexture,
blendMode: "screen",
enableMouseEvents: !1,
width: 1028,
height: 996,
scaleX: this.tweens.circleScale.getStyle(),
scaleY: this.tweens.circleScale.getStyle(),
opacity: this.tweens.circleOpacity.getStyle()
}, G) : null, I = this.renderButtons(), C = this.renderInventoryStatus();
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: v
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: _
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: d
},
_owner: null
},
style: {
justifyContent: "center"
}
},
_owner: null
}, {
$$typeof: f,
type: N.PopupContainer,
key: null,
ref: null,
props: o(N.PopupContainer.defaultProps, {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: c
},
_owner: null
},
style: u
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: E
},
_owner: null
},
style: w
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: l
},
_owner: null
},
style: s
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: T.Text,
key: null,
ref: null,
props: o(T.Text.defaultProps, {
value: i,
size: "M",
color: "#ffffffdd"
}),
_owner: null
}, {
$$typeof: f,
type: T.Text,
key: null,
ref: null,
props: o(T.Text.defaultProps, {
value: a,
size: "L"
}),
_owner: null
}, {
$$typeof: f,
type: T.Text,
key: null,
ref: null,
props: o(T.Text.defaultProps, {
value: n,
style: g,
size: "M"
}),
_owner: null
}, I, C ],
style: y
},
_owner: null
} ],
style: {
justifyContent: "flex-start"
}
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: h
},
_owner: null
} ],
style: m
},
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackOpenedItem")(t) || t, t = M["default"]({
inventory: U["default"]
})(t) || t, t = R.observer(t) || t;
}(h.Component);
H.propTypes = {
item: h.PropTypes.object.isRequired,
continueCallback: h.PropTypes.func.isRequired
}, t["default"] = H, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function s(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function l(e) {
return function(t) {
return G(t, e);
};
}
function u(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var c = n(4), p = u(c);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = r(h), g = n(3), m = r(g), b = n(10), v = n(5), _ = r(v), S = n(33), T = n(7), w = n(6), E = u(w), I = n(94), C = n(13), A = u(C), P = n(12), O = u(P), R = n(25), k = u(R), x = n(42), M = u(x), N = n(301), D = u(N), U = n(54), L = u(U), $ = {
_$PotentialItem: {
displayName: "PotentialItem"
},
_$PotentialItems: {
displayName: "PotentialItems"
}
}, G = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackPotentialItems.jsx",
components: $,
locals: [],
imports: []
}), F = {
box: {
backgroundColor: "#00000055",
width: E["default"].getWidth(8),
height: E["default"].getHeight(7),
flexDirection: "row",
alignItems: "center"
},
image: {
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
zOffset: 2,
width: E["default"].getWidth(2),
height: E["default"].getHeight(6)
},
flareWrapper: {
width: E["default"].getWidth(8),
height: E["default"].getHeight(7),
position: "absolute",
top: 0,
left: -E["default"].getWidth(1) / 2,
zOffset: 1
},
info: {
marginLeft: E["default"].GUTTER,
marginRight: E["default"].GUTTER,
width: E["default"].getWidth(5.5)
},
name: {
textAlignForRTL: "left"
},
parentName: {
textAlignForRTL: "left",
opacity: .75
}
}, B = function(e) {
function t(t) {
i(this, n), e.call(this, t), this.focusItem = m.focus.create(this, m.autoId("PotentialItem"));
}
s(t, e), t.prototype.openPreview = function r() {
k["default"].display(new M["default"]({
id: "inspectPopup",
group: "battlepack",
content: {
$$typeof: d,
type: D["default"],
key: null,
ref: null,
props: a(D["default"].defaultProps, {
item: this.props.item
}),
_owner: null
},
fullScreen: !0,
priority: 1,
createButtons: !1,
inputs: [ new A["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: O["default"].Decline
}) ]
}));
}, t.prototype.render = function u() {
var e = this, t = void 0, n = void 0, r = this.props, i = r.item, s = r.style, l = o(r, [ "item", "style" ]);
if (i.images) {
var u = i.images;
u.Png180xANY && (t = u.Png180xANY);
}
if (t) {
var c = {
texture: t,
marginLeft: 2 * E["default"].GUTTER,
marginRight: E["default"].GUTTER
};
n = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: [ F.image, c ]
},
_owner: null
};
}
var p = {
texture: I.fade[i.rarenessLevel.value],
width: I.fade.width,
height: E["default"].getHeight(7)
}, h = void 0;
i.parentName && i.parentName !== i.name && (h = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SKIN_FOR").replace("[[value]]", i.parentName).toUpperCase());
var g = new A["default"]({
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_INSPECT"),
action: function _() {
return e.openPreview();
},
key: O["default"].Accept
}), m = this.focusItem.isHovered || this.focusItem.isFocused, b = void 0, v = f({}, F.box, s);
return m && (v = f({}, v, {
backgroundColor: "#ffffff"
}), b = "#000000"), {
$$typeof: d,
type: L["default"],
key: null,
ref: null,
props: a(L["default"].defaultProps, {
children: y.createElement("surface", f({
style: v
}, l), !m && {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: p
},
_owner: null
},
style: F.flareWrapper
},
_owner: null
}, n, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: T.Text,
key: null,
ref: null,
props: a(T.Text.defaultProps, {
value: i.name,
style: [ F.name ],
size: "XS",
color: b
}),
_owner: null
}, {
$$typeof: d,
type: T.Text,
key: null,
ref: null,
props: a(T.Text.defaultProps, {
value: h,
style: F.parentName,
size: "XXS",
color: b
}),
_owner: null
} ],
style: F.info
},
_owner: null
}),
focusItem: this.focusItem,
input: g
}),
_owner: null
};
};
var n = t;
return t = l("_$PotentialItem")(t) || t, t = b.observer(t) || t;
}(y.Component), j = function(e) {
function t() {
i(this, n), e.apply(this, arguments);
}
s(t, e), t.prototype.componentDidUpdate = function r(e, t) {
this.refs.scroller && e.items !== this.props.items && this.refs.scroller.scrollTo(0, 0, !0);
}, t.prototype.render = function o() {
if (!this.props.items) return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var e = _.where(this.props.items, {
nugget: !1
}).map(function(e, t) {
return {
$$typeof: d,
type: B,
key: null,
ref: null,
props: a(B.defaultProps, {
item: e,
style: {
marginTop: 0 === t ? 0 : 3
}
}),
_owner: null
};
}), t = _.where(this.props.items, {
nugget: !0
}).map(function(e) {
return {
$$typeof: d,
type: B,
key: null,
ref: null,
props: a(B.defaultProps, {
item: e,
style: {
marginTop: 3
}
}),
_owner: null
};
});
return y.createElement(S.Scroller, {
ref: "scroller",
style: {
width: E["default"].getWidth(8),
height: E["default"].getHeight(65)
},
controller: !this.props.hideScrollAction,
scrollbar: !0
}, e, {
$$typeof: d,
type: T.Text,
key: null,
ref: null,
props: a(T.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_POSSIBLE_NUGGET").toUpperCase(),
style: {
marginTop: 12,
textAlignForRTL: "left"
},
size: "S"
}),
_owner: null
}, t);
};
var n = t;
return t = l("_$PotentialItems")(t) || t;
}(y.Component);
t["default"] = j, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ae(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(3), g = r(y), m = n(5), b = r(m), v = n(10), _ = n(6), S = l(_), T = n(16), w = n(69), E = n(7), I = n(46), C = l(I), A = n(22), P = l(A), O = n(171), R = n(13), k = l(R), x = n(12), M = l(x), N = n(14), D = l(N), U = n(466), L = l(U), $ = n(70), G = l($), F = n(226), B = l(F), j = n(452), H = l(j), V = n(25), z = l(V), W = n(42), q = l(W), K = n(34), X = l(K), Y = n(787), J = l(Y), Q = n(301), Z = l(Q), ee = n(94), te = r(ee), ne = n(11), re = n(37), oe = {
_$PuzzleAssembleButton: {
displayName: "PuzzleAssembleButton"
},
_$PuzzleCard: {
displayName: "PuzzleCard"
},
_$TunguskaBattlepackPuzzles: {
displayName: "TunguskaBattlepackPuzzles"
}
}, ae = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackPuzzles.jsx",
components: oe,
locals: [],
imports: []
}), ie = {
"true": ne.bbUrl("/sparta/jsclient/builds/assets/icon-puzzle-black-d4424f92.png"),
"false": ne.bbUrl("/sparta/jsclient/builds/assets/icon-puzzle-white-e253d349.png"),
width: re.LINE_HEIGHTS.M,
height: re.LINE_HEIGHTS.M
}, se = {
width: S["default"].getWidth(11),
height: S["default"].getHeight(44)
}, le = {
moreRow: {
marginTop: S["default"].getHeight(1)
},
moreRowCentered: {
marginTop: S["default"].getHeight(16),
justifyContent: "center"
},
outsideCardContent: {
width: se.width,
marginTop: 3 * S["default"].GUTTER
},
cardText: {
flexDirection: "row",
justifyContent: "space-between",
alignItems: "flex-end"
},
cardNameAndRarity: {
flexDirection: "column"
},
cardBuildStatus: {
flexDirection: "column",
alignItems: "flex-end"
},
cardPieceCount: {
flexDirection: "row"
},
cardDescription: {
textAlignForRTL: "left"
},
btn: {
width: se.width,
marginTop: 2 * S["default"].GUTTER
}
}, ue = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
return SpartaGlobals.bundleIsConsole ? null : {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
text: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CLAIM_ITEM"),
style: le.btn,
action: this.props.onClick
}),
_owner: null
};
};
var n = t;
return t = s("_$PuzzleAssembleButton")(t) || t;
}(h.Component), ce = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = t.focusItem || g.focus.create(this, g.autoId("puzzleCard")), 
this.activeTextColorTween = T.Animation.tween("e656020c:103", "#ffffff"), this.activeProgressColorTween = T.Animation.tween("e656020c:104", "#ffffff33");
}
i(t, e), t.prototype.componentWillUnmount = function r() {
this.activeTextColorTween.destroy(), this.activeProgressColorTween.destroy();
}, t.prototype.viewBlueprint = function l() {
X["default"].viewBlueprint(this.props.pieceItem.key), z["default"].display(new q["default"]({
id: "blueprintPopup",
group: "battlepack",
content: {
$$typeof: f,
type: J["default"],
key: null,
ref: null,
props: o(J["default"].defaultProps, {}),
_owner: null
},
requireOnline: !0,
fullScreen: !0,
createButtons: !1,
containContent: !1,
centerContent: !1,
inputs: [ new k["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: M["default"].Decline
}) ]
}));
}, t.prototype.inspect = function u() {
X["default"].viewBlueprint(this.props.pieceItem.key), z["default"].display(new q["default"]({
id: "inspectPopup",
group: "battlepack",
content: {
$$typeof: f,
type: Z["default"],
key: null,
ref: null,
props: o(Z["default"].defaultProps, {
item: this.props.item
}),
_owner: null
},
fullScreen: !0,
createButtons: !1,
inputs: [ new k["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: M["default"].Decline
}) ]
}));
}, t.prototype.renderProgressBar = function c() {
var e = this.focusItem.isFocused ? O.tweenInOptions : O.tweenOutOptions;
this.activeProgressColorTween.to(this.focusItem.isFocused ? "#00000033" : "#ffffff33", e);
var t = {
position: "absolute",
bottom: 0,
right: 0,
left: 0
};
return {
$$typeof: f,
type: G["default"],
key: null,
ref: null,
props: o(G["default"].defaultProps, {
style: t,
height: "M",
completed: this.props.pieceItem.quantity / this.props.price.quantity,
segmented: this.props.price.quantity,
backgroundColor: this.activeProgressColorTween.getStyle()
}),
_owner: null
};
}, t.prototype.renderAssembleButton = function p() {
var e = this;
return {
$$typeof: f,
type: ue,
key: null,
ref: null,
props: o(ue.defaultProps, {
item: this.props.pieceItem,
onClick: function() {
return e.viewBlueprint();
}
}),
_owner: null
};
}, t.prototype.renderExtraInfo = function d() {
var e = SpartaGlobals.bundleIsPC && this.props.isUnlocked ? {
$$typeof: f,
type: H["default"],
key: null,
ref: null,
props: o(H["default"].defaultProps, {
item: this.props.item,
style: le.btn,
useInputButton: !0
}),
_owner: null
} : null, t = this.props.pieceItem.quantity > 0 ? {
$$typeof: f,
type: B["default"],
key: null,
ref: null,
props: o(B["default"].defaultProps, {
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_1_PIECE"),
item: this.props.pieceItem,
style: le.btn,
useInputButton: !0
}),
_owner: null
} : null;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: E.Text,
key: null,
ref: null,
props: o(E.Text.defaultProps, {
value: this.props.item.description,
size: "S",
style: le.cardDescription
}),
_owner: null
}, !this.props.isUnlocked && this.props.pieceItem.quantity >= this.props.price.quantity && this.renderAssembleButton(), e, t ],
style: le.outsideCardContent
},
_owner: null
};
}, t.prototype.renderContent = function h() {
var e = this.focusItem.isFocused ? O.tweenInOptions : O.tweenOutOptions;
this.activeTextColorTween.to(this.focusItem.isFocused ? "#000000" : "#ffffff", e);
var t = this.focusItem && this.focusItem.isFocused, n = this.props.item, r = this.props.isUnlocked, a = this.props.price, i = this.props.pieceItem, s = {
texture: ie[t ? !0 : !1],
width: ie.width,
height: ie.height,
marginRight: 8
}, l = void 0;
if (!r || i.quantity > 0) {
var u = void 0;
u = r ? i.quantity + " " + (1 === i.quantity ? __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_PUZZLE_PIECE").toUpperCase() : __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_PUZZLE_PIECES").toUpperCase()) : i.quantity + "/" + a.quantity + " " + __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_PUZZLE_PIECES").toUpperCase(), 
l = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: s
},
_owner: null
}, {
$$typeof: f,
type: E.Text,
key: null,
ref: null,
props: o(E.Text.defaultProps, {
value: u,
color: this.activeTextColorTween.getStyle()
}),
_owner: null
} ],
style: le.cardPieceCount
},
_owner: null
};
}
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: E.Text,
key: null,
ref: null,
props: o(E.Text.defaultProps, {
value: n.name,
color: this.activeTextColorTween.getStyle()
}),
_owner: null
}, {
$$typeof: f,
type: E.Text,
key: null,
ref: null,
props: o(E.Text.defaultProps, {
value: te.getName(n.rarenessLevel.value),
color: te.rgb[n.rarenessLevel.value]
}),
_owner: null
} ],
style: le.cardNameAndRarity
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ r && {
$$typeof: f,
type: E.Text,
key: null,
ref: null,
props: o(E.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_PUZZLE_UNLOCKED").toUpperCase(),
color: this.activeTextColorTween.getStyle()
}),
_owner: null
}, l ],
style: le.cardBuildStatus
},
_owner: null
} ],
style: le.cardText
},
_owner: null
};
}, t.prototype.render = function y() {
var e = this, t = this.props.item.images.Png1024xANY, n = {
marginLeft: this.props.index > 0 ? S["default"].getWidth(1) : null
}, r = {
textureMode: "contain",
textureScale: .3,
opacity: this.props.isUnlocked ? 1 : .5
}, a = void 0;
return a = SpartaGlobals.bundleIsConsole && !this.props.isUnlocked && this.props.pieceItem.quantity >= this.props.price.quantity ? new k["default"]({
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CLAIM_ITEM"),
action: function i() {
return e.viewBlueprint();
},
blockInputFor: 500,
key: M["default"].Accept
}) : SpartaGlobals.bundleIsConsole && this.props.isUnlocked ? new k["default"]({
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_INSPECT"),
action: function s() {
return e.inspect();
},
blockInputFor: 500,
key: M["default"].Accept
}) : new k["default"]({
action: function l() {},
visible: !1
}), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: O.Card,
key: null,
ref: null,
props: o(O.Card.defaultProps, {
children: this.renderContent(),
focusItem: this.focusItem,
style: se,
backgroundShade: !1,
background: t,
backgroundStyle: r,
input: a,
overlay: !this.props.isUnlocked && this.renderProgressBar(),
onFocus: this.props.onFocus,
onBlur: this.props.onBlur
}),
_owner: null
}, this.props.active && this.renderExtraInfo() ],
style: n
},
_owner: null
};
};
var n = t;
return t = s("_$PuzzleCard")(t) || t, t = v.observer(t) || t;
}(h.Component), pe = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
activePuzzle: null
};
}
i(t, e), t.prototype.renderCards = function r() {
var e = this, t = b.values(this.state.puzzles), n = t.map(function(t, n) {
return h.createElement(ce, p({
key: t.packKey,
index: n,
onFocus: function() {
return e.setState({
activePuzzle: t.packKey
});
},
active: e.state.activePuzzle === t.packKey
}, t));
}), r = S["default"].getWidth(26);
return {
$$typeof: f,
type: w.CardCarousel,
key: null,
ref: null,
props: o(w.CardCarousel.defaultProps, {
children: n,
width: r,
useAbsoluteBounds: !0
}),
_owner: null
};
}, t.prototype.renderLoading = function l() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: h.createElement(C["default"], {
ref: "spinner",
autoRun: !0
}),
style: le.emptyContainer
},
_owner: null
};
}, t.prototype.renderEmpty = function u() {
return null;
}, t.prototype.render = function c() {
var e = void 0;
e = L["default"].hasLoadedOnce() ? this.state.puzzles < 1 ? this.renderEmpty() : this.renderCards() : this.renderLoading();
var t = this.props.centerCarousel ? le.moreRowCentered : le.moreRow;
return {
$$typeof: f,
type: S["default"].Row,
key: null,
ref: null,
props: o(S["default"].Row.defaultProps, {
children: e,
style: t
}),
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackPuzzles")(t) || t, t = D["default"]({
puzzles: L["default"]
})(t) || t;
}(h.Component);
t["default"] = pe, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function i(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
t.__esModule = !0;
var s = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, l = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, u = n(1), c = o(u), p = n(6), f = o(p), d = n(7), h = n(94), y = r(h), g = {
box: {
flex: 0,
width: 1024,
height: f["default"].getHeight(48)
},
rarity: {
position: "absolute",
top: -y.flare.height + f["default"].getHeight(42),
left: 512 - f["default"].getWidth(4),
width: y.flare.width,
height: y.flare.height,
textureMode: "contain",
zOffset: 2,
rotateZ: -20,
blendMode: "screen"
},
image: {
textureAtlas: "SINGLE_TEXTURE",
textureMode: "contain",
position: "absolute",
top: f["default"].GUTTER,
left: 0,
width: 1024,
height: 256,
zOffset: 1
},
info: {
position: "absolute",
bottom: 4,
left: 8,
right: 8,
zOffset: 3,
alignItems: "center"
}
}, m = function b(e) {
var t = void 0, n = void 0, r = e.item, o = e.style, u = a(e, [ "item", "style" ]);
if (!r) return {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
if (r.images) {
var p = r.images;
p.Png1024xANY ? t = p.Png1024xANY : p.Png300xANY ? t = p.Png300xANY : p.Png180xANY && (t = p.Png180xANY);
}
if (t) {
var f = {
texture: t
};
n = {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
style: [ g.image, f ]
},
_owner: null
};
}
var h = void 0;
r.parentName && r.parentName !== r.name && (h = r.parentName);
var m = void 0, b = void 0, v = void 0, _ = "Weapon" === r.itemType || "Vehicle" === r.itemType ? '"' + r.name + '"' : r.name;
return r.rarenessLevel && (m = y.getName(r.rarenessLevel.value).toUpperCase(), b = {
color: y.rgb[r.rarenessLevel.value]
}, v = {
texture: y.flare[r.rarenessLevel.value]
}), c["default"].createElement("surface", s({
style: [ g.box ].concat(o)
}, u), n, {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
style: [ g.rarity, v ]
},
_owner: null
}, {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: l,
type: d.Text,
key: null,
ref: null,
props: i(d.Text.defaultProps, {
value: h,
size: "S"
}),
_owner: null
}, {
$$typeof: l,
type: d.Text,
key: null,
ref: null,
props: i(d.Text.defaultProps, {
value: _,
size: "M"
}),
_owner: null
}, {
$$typeof: l,
type: d.Text,
key: null,
ref: null,
props: i(d.Text.defaultProps, {
value: m,
size: "S",
type: "emphasis",
style: b
}),
_owner: null
} ],
style: g.info
},
_owner: null
});
};
t["default"] = m, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return G(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(5), g = r(y), m = n(44), b = n(6), v = l(b), _ = n(69), S = n(7), T = n(46), w = l(T), E = n(22), I = l(E), C = n(125), A = n(12), P = l(A), O = n(14), R = l(O), k = n(132), x = l(k), M = n(157), N = l(M), D = n(791), U = l(D), L = n(57), $ = {
_$TunguskaBattlepackUnopened: {
displayName: "TunguskaBattlepackUnopened"
}
}, G = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackUnopened.jsx",
components: $,
locals: [],
imports: []
}), F = {
moreRow: {
marginTop: v["default"].getHeight(1)
},
moreRowCentered: {
marginTop: v["default"].getHeight(16),
justifyContent: "center"
},
card: {
marginRight: v["default"].GUTTER
},
icon: {
alignItems: "center"
},
iconTextureStyle: {
width: v["default"].getWidth(2),
height: v["default"].getWidth(2),
marginTop: v["default"].getWidth(2)
},
emptyContainer: {
width: v["default"].getWidth(24),
height: v["default"].getHeight(69),
zOffset: 10,
justifyContent: "center",
alignSelf: "center",
alignItems: "center"
},
empty: {
alignSelf: "center",
marginBottom: v["default"].getWidth(1)
}
}, B = function(e) {
function t(t) {
a(this, n), e.call(this, t);
}
i(t, e), t.prototype.componentWillMount = function r() {
L.unopened.trigger();
}, t.prototype.onGetBattlepacksClick = function l() {
this.hasNavigatedAway || (x["default"].trigger(new C.KeyEvent(P["default"].Next)), 
this.hasNavigatedAway = !0);
}, t.prototype.onTryAgainClick = function u() {
this.setState({
unopened: {
error: null
}
}), L.initialFetch.trigger();
}, t.prototype.renderCards = function c(e) {
var t = this.props.centerCarousel ? F.moreRowCentered : F.moreRow, n = Math.min(e.length * (D.cardSize.width + v["default"].GUTTER), v["default"].getWidth(24));
return {
$$typeof: f,
type: v["default"].Row,
key: null,
ref: null,
props: o(v["default"].Row.defaultProps, {
children: {
$$typeof: f,
type: _.CardCarousel,
key: "carousel",
ref: null,
props: o(_.CardCarousel.defaultProps, {
children: e,
width: n
}),
_owner: null
},
style: t
}),
_owner: null
};
}, t.prototype.renderLoading = function d() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: h.createElement(w["default"], {
ref: "spinner",
autoRun: !0
}),
style: F.emptyContainer
},
_owner: null
};
}, t.prototype.renderError = function y() {
var e = this;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: S.Text,
key: null,
ref: null,
props: o(S.Text.defaultProps, {
style: F.empty,
size: "M",
gameId: m.tunguskaGameId,
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_TEXT").toUpperCase()
}),
_owner: null
}, {
$$typeof: f,
type: I["default"],
key: null,
ref: null,
props: o(I["default"].defaultProps, {
textSize: "M",
text: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_SUBTEXT"),
style: {
width: v["default"].getWidth(9)
},
action: function() {
return e.onTryAgainClick();
},
stealFocus: !0
}),
_owner: null
} ],
flex: "4",
style: {
width: v["default"].getWidth(16),
justifyContent: "center",
alignItems: "center"
}
},
_owner: null
},
style: F.emptyContainer
},
_owner: null
};
}, t.prototype.renderEmpty = function b() {
var e = this;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: S.Text,
key: null,
ref: null,
props: o(S.Text.defaultProps, {
style: F.empty,
size: "M",
gameId: m.tunguskaGameId,
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_NO_UNOPENED").toUpperCase()
}),
_owner: null
}, {
$$typeof: f,
type: I["default"],
key: null,
ref: null,
props: o(I["default"].defaultProps, {
textSize: "M",
text: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_GET"),
style: {
width: v["default"].getWidth(9)
},
action: function() {
return e.onGetBattlepacksClick();
},
stealFocus: !0,
blockInputFor: 0
}),
_owner: null
} ],
flex: "4",
style: {
width: v["default"].getWidth(16),
justifyContent: "center",
alignItems: "center"
}
},
_owner: null
},
style: F.emptyContainer
},
_owner: null
};
}, t.prototype.render = function T() {
var e = g.values(this.state.unopened.packs).filter(function(e) {
return e.quantity > 0;
}).map(function(e, t) {
return h.createElement(U["default"], p({
style: F.card
}, e, {
key: e.packKey
}));
}), t = void 0;
return t = !N["default"].hasLoadedOnce() && this.state.unopened.error ? this.renderError() : N["default"].hasLoadedOnce() ? e.length < 1 ? this.renderEmpty() : this.renderCards(e) : this.renderLoading();
};
var n = t;
return t = s("_$TunguskaBattlepackUnopened")(t) || t, t = R["default"]({
unopened: N["default"]
})(t) || t;
}(h.Component);
t["default"] = B, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(5), a = r(o), i = n(8), s = n(257), l = n(259), u = n(21), c = n(50).gatewayClient, p = u.createClient({
throttle: 3e4,
request: function f(e) {
return c.request("Progression.getCodex", {
game: e
});
},
shouldPerformRequest: function d(e) {
return i.onlineState.isPresenceReady;
},
parse: function h(e) {
var t = [];
return e.forEach(function(e) {
var n = e.awards, r = n.map(function(e) {
var t = e.codexEntry, n = t.imageUrl || t && t.images.Png640xANY, r = e.progression && e.progression.unlocked, o = !0, i = new l.CodexEntryProgression(e.description, r, e.progression ? e.progression.valueAcquired : 0, e.progression ? e.progression.valueNeeded : 1), s = e.criterias || [], u = s.map(function(e) {
var t = new l.CodexEntryCriteriaProgression(e.progression ? e.progression.unlocked : !1, e.progression ? e.progression.valueAcquired : 0, e.progression ? e.progression.valueNeeded : 1);
return new l.CodexEntryCriteria(e.code, e.name, t);
}), c = new l.CodexEntryDetails(t.description, t.header, a["default"].map(t.images, function(e) {
return e;
}), t.subHeader, t.text2);
return new l.CodexEntry(t.category, e.code, u, c, e.name, t.id, n, r, o, i, t.voId, e.score);
});
t = t.concat(r);
}), t;
},
update: function y(e) {
s.tunguskaCodexStore.setCodexEntries(e);
}
});
e.exports = p;
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return q(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e, t) {
var n = e.rarenessLevel.value, r = t.rarenessLevel.value;
return n === r ? 0 : n > r ? -1 : 1;
}
function c(e) {
var t = e.color, n = e.trackedMedal;
return n ? {
$$typeof: h,
type: "surface",
key: "medalCallout",
ref: null,
props: {
children: [ {
$$typeof: h,
type: z["default"],
key: null,
ref: null,
props: o(z["default"].defaultProps, {
timeDelta: function() {
return 1e3 * D["default"].getTimeToNextReset();
},
color: t,
size: "XS"
}),
_owner: null
}, {
$$typeof: h,
type: v.Text,
key: null,
ref: null,
props: o(v.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_TIME_LEFT"),
color: t,
size: "XS",
style: {
marginLeft: S["default"].GUTTER
}
}),
_owner: null
} ],
style: {
flexDirection: "row",
marginBottom: S["default"].GUTTER
}
},
_owner: null
} : {
$$typeof: h,
type: "surface",
key: "medalCallout",
ref: null,
props: {
children: {
$$typeof: h,
type: v.Text,
key: null,
ref: null,
props: o(v.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_NONE"),
color: t,
size: "XS",
style: {
opacity: .66
}
}),
_owner: null
},
style: {
flexDirection: "row",
marginBottom: S["default"].GUTTER
}
},
_owner: null
};
}
var p = n(4), f = l(p);
t.__esModule = !0;
var d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, y = n(1), g = r(y), m = n(3), b = r(m), v = n(7), _ = n(6), S = l(_), T = n(70), w = l(T), E = n(28), I = l(E), C = n(8), A = n(11), P = n(10), O = n(12), R = l(O), k = n(802), x = l(k), M = n(57), N = n(306), D = l(N), U = n(157), L = l(U), $ = n(48), G = l($), F = n(14), B = l(F), j = n(13), H = l(j), V = n(311), z = l(V), W = {
_$BattlepackBox: {
displayName: "BattlepackBox"
},
_$GameViewBoxes: {
displayName: "GameViewBoxes"
}
}, q = f["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/GameViewBoxes.jsx",
components: W,
locals: [],
imports: []
}), K = {
front_normal: A.bbUrl("/sparta/assets/tunguska/battlepacks/default-battlepack-9531d9fe.png"),
front_white: A.bbUrl("/sparta/assets/tunguska/battlepacks/default-battlepack-w-8886d79f.png")
}, X = {
medal_black: A.bbUrl("/sparta/assets/tunguska/icons/icon-medal-black-86eb22e9.png"),
medal_white: A.bbUrl("/sparta/assets/tunguska/icons/icon-medal-white-f8267284.png")
}, Y = {
position: "absolute",
left: 0,
bottom: 0,
right: 0
}, J = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, Q = {
width: S["default"].content.colSpan(5),
height: S["default"].content.rowSpan(18)
}, Z = {
boxContainer: {
flexDirection: "row",
width: 2 * Q.width + 2 * S["default"].GUTTER,
height: Q.height,
justifyContent: "space-between"
},
battlepack: {
textureMode: "contain",
textureAtlas: "SpartaCommonAtlas",
width: Q.width - 10 * S["default"].GUTTER,
height: Q.height - 4 * S["default"].GUTTER,
marginTop: 3 * -S["default"].GUTTER
},
bpCounter: {
zOffset: 10,
position: "absolute",
flexDirection: "row",
bottom: 2 * -S["default"].GUTTER,
left: 3 * S["default"].GUTTER,
padding: [ .75 * S["default"].GUTTER, 1.5 * S["default"].GUTTER, .75 * S["default"].GUTTER, 1.5 * S["default"].GUTTER ],
backgroundColor: "#d4d4d4",
alignItems: "center",
justifyContent: "center"
}
}, ee = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = b.focus.create(this, "battlepack_box"), 
this.preloader = b.texture.createPreloader(this), this.focusItem.autoFocusCandidate = !0;
}
i(t, e), t.prototype.componentWillMount = function r() {
M.unopened.trigger(), this.props.pack && this.props.pack.images && (this.preloader.preload(this.props.pack.images.front_white), 
this.preloader.preload(this.props.pack.images.front_normal)), this.preloader.preload(K.front_normal), 
this.preloader.preload(K.front_white);
}, t.prototype.componentWillReceiveProps = function l(e) {
var t = this.props.pack && this.props.pack.images, n = e.pack && e.pack.images;
n && t && n.front_normal !== t.front_normal && (this.preloader.preload(n.front_white), 
this.preloader.preload(n.front_normal));
}, t.prototype.render = function c() {
var e = this, t = this.state.packs.values().reduce(function(e, t) {
return e + t.quantity;
}, 0), n = this.state.packs.values().sort(u)[0], r = new H["default"]({
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_VIEW"),
action: function f() {
return G["default"].route(e.props.route, "battlepacks" + (0 >= t ? "?tab=get" : ""));
},
key: R["default"].Accept
}), a = this.focusItem.isFocused ? "front_white" : "front_normal", i = .8, s = K[a], l = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_GET"), c = void 0, p = void 0;
return t > 0 && (i = 1, s = n.images[a], l = __("ID_SPARTA_TAB_BATTLEPACKS"), p = {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: h,
type: v.Text,
key: null,
ref: null,
props: o(v.Text.defaultProps, {
value: "x" + t,
size: "XS",
style: {
zOffset: 1
},
color: "#000000"
}),
_owner: null
},
style: Z.bpCounter
},
_owner: null
}), L["default"].hasLoadedOnce() && (c = {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
style: d({}, Z.battlepack, {
texture: s,
opacity: i
})
},
_owner: null
}), g.createElement(x["default"], d({}, Q, {
input: r,
title: l,
focusItem: this.focusItem
}), c, p);
};
var n = t;
return t = s("_$BattlepackBox")(t) || t, t = B["default"]({
packs: I["default"](L["default"], "packs")
})(t) || t, t = P.observer(t) || t;
}(g.Component), te = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = b.focus.create(this, "medalbox"), 
this.focusItem.autoFocusCandidate = !0;
}
i(t, e), t.prototype.componentWillMount = function r() {
this.state.trackedMedal && (this.preloader = b.texture.createPreloader(this), this.preloader.preload(this.state.trackedMedal.imageUrl, void 0));
}, t.prototype.render = function l() {
var e, t = this;
e = {
$$typeof: h,
type: c,
key: null,
ref: null,
props: o(c.defaultProps, {
trackedMedal: !!this.state.trackedMedal
}),
_owner: null
};
var n = this.state.trackedMedal && [ e, {
$$typeof: h,
type: w["default"],
key: "progress",
ref: null,
props: o(w["default"].defaultProps, {
width: Q.width,
height: "S",
completed: this.state.trackedMedal.completion.percentage,
segmented: this.state.trackedMedal.stages.length,
style: d({}, Y, {
bottom: -1
})
}),
_owner: null
} ];
n = [ e ];
var r, a = this.state.trackedMedal ? {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
style: d({}, J, {
texture: this.state.trackedMedal.imageUrl,
textureMode: "contain"
})
},
_owner: null
} : {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
style: d({}, J, {
texture: this.focusItem.isFocused ? X.medal_black : X.medal_white,
opacity: .66,
textureMode: "contain"
})
},
_owner: null
}, i = new H["default"]({
label: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_CHANGE"),
action: function l() {
return G["default"].route(t.props.route, "medals");
},
key: R["default"].Accept
}), s = g.createElement(x["default"], d({}, Q, {
focusItem: this.focusItem,
shimmer: !this.state.trackedMedal,
input: i,
bottom: n,
title: __(this.state.trackedMedal ? "ID_SPARTA_TUNGUSKA_TRACKEDMEDAL" : "ID_SPARTA_TUNGUSKA_SELECTMEDAL")
}), a);
return C.settingsStore.isFeatureEnabled("ingameBattlepacks") && "playing" !== this.props.route && (r = {
$$typeof: h,
type: ee,
key: null,
ref: null,
props: o(ee.defaultProps, {
route: this.props.route
}),
_owner: null
}), {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ r, s ],
style: d({}, Z.boxContainer, this.props.style)
},
_owner: null
};
};
var n = t;
return t = s("_$GameViewBoxes")(t) || t, t = B["default"]({
trackedMedal: D["default"]
})(t) || t, t = P.observer(t) || t;
}(g.Component);
t["default"] = te, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return S(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(5), y = s(h), g = n(7), m = n(6), b = s(m), v = n(30), _ = {
_$TwinColumns: {
displayName: "TwinColumns"
}
}, S = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/TwinColumns.jsx",
components: _,
locals: [],
imports: []
}), T = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this, t = {
marginLeft: 1.5 * b["default"].GUTTER,
marginRight: 1.5 * b["default"].GUTTER
}, n = y["default"].map(v.localeRearrange(y["default"].filter(this.props.elements), function(e) {
return !!e.text;
}), function(n, o) {
var a = o === e.props.elements.length - 1 ? null : {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: r(g.Text.defaultProps, {
color: "#ffffff",
size: "S",
value: "|",
style: t
}),
_owner: null
};
return [ {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: r(g.Text.defaultProps, {
color: n.color || "#ffffff",
size: "S",
value: n.text
}),
_owner: null
}, a ];
});
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: c({}, this.props.style, {
flexDirection: "row"
})
},
_owner: null
};
};
var n = t;
return t = i("_$TwinColumns")(t) || t;
}(d["default"].Component);
t["default"] = T, T.defaultProps = {
elements: []
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(25), h = s(d), y = n(7), g = n(17), m = s(g), b = n(6), v = s(b), _ = n(22), S = s(_), T = n(73), w = n(343), E = n(10), I = n(202), C = n(353), A = {
_$ScoreboardPlayerPopup: {
displayName: "ScoreboardPlayerPopup"
}
}, P = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/ScoreboardPlayerPopup.jsx",
components: A,
locals: [],
imports: []
}), O = 256, R = {
container: {
width: m["default"].safeZone.width,
height: .75 * m["default"].safeZone.height,
marginBottom: v["default"].getHeight(5),
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
content: {
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
title: {
marginBottom: 2 * v["default"].GUTTER
},
description: {
marginBottom: 4 * v["default"].GUTTER
},
playerImage: {
width: O,
height: O,
marginBottom: 2 * v["default"].GUTTER
},
button: {
width: v["default"].getWidth(2.5),
margin: [ v["default"].GUTTER, v["default"].GUTTER, 0, v["default"].GUTTER ]
},
reportControls: {
flexDirection: "row",
justifyContent: "center"
}
}, k = function(e) {
function t(t) {
o(this, n), e.call(this, t), I.emblemState.personaEmblems.has(t.player.personaId) || w.requestEmblemForPersona(t.player.personaId);
}
a(t, e), t.prototype.closePopup = function s() {
h["default"].close(this.props.popupInfo.id);
}, t.prototype.reportEmblem = function l(e) {
w.reportEquippedEmblem(e.personaId), T.tunguskaEndOfRoundStore.reportPlayer(e.personaId), 
this.closePopup();
}, t.prototype.render = function u() {
var e = this, t = __("ID_SPARTA_EOR_REPORT_EMBLEM"), n = this.props.player, o = null, a = null, i = null, s = "", l = I.emblemState.getEmblemForPersona(n.personaId);
if (l) if (l.url) {
var u = {
texture: C.imageUrlFromTemplate(l.url, O, "png")
};
i = __("ID_SPARTA_EOR_REPORT_EMBLEM_POPUP_MESSAGE"), s = __("ID_SPARTA_ACTION_CANCEL"), 
o = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ R.playerImage, u ]
},
_owner: null
}, a = {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
text: __("ID_SPARTA_EOR_REPORT_EMBLEM_POPUP_CONFIRM"),
action: function() {
return e.reportEmblem(n);
},
style: R.button
}),
_owner: null
};
} else i = __("ID_SPARTA_EOR_REPORT_EMBLEM_POPUP_MESSAGE_NOT_FOUND"), s = __("ID_SPARTA_ACTION_OK"); else i = __("ID_SPARTA_START_LOADING"), 
s = __("ID_SPARTA_ACTION_CANCEL");
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: y.Text,
key: null,
ref: null,
props: r(y.Text.defaultProps, {
value: t.toUpperCase(),
type: "emphasis",
size: "L",
style: R.title
}),
_owner: null
}, o, {
$$typeof: c,
type: y.Text,
key: null,
ref: null,
props: r(y.Text.defaultProps, {
value: i,
type: "emphasis",
size: "S",
style: R.description
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
text: s,
action: function() {
return e.closePopup();
},
style: R.button
}),
_owner: null
} ],
style: R.reportControls
},
_owner: null
} ],
style: R.container
},
_owner: null
};
};
var n = t;
return t = i("_$ScoreboardPlayerPopup")(t) || t, t = E.observer(t) || t;
}(f["default"].Component);
t["default"] = k, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function r(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
return function(t) {
return T(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(3), d = n(16), h = n(5), y = i(h), g = n(6), m = i(g), b = n(7), v = n(30), _ = n(81), S = {
_$AnimatedStatRow: {
displayName: "AnimatedStatRow"
},
_$AnimatedStatBlock: {
displayName: "AnimatedStatBlock"
}
}, T = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/eor/StatsComponents.jsx",
components: S,
locals: [],
imports: []
}), w = {
statBlockStyle: {
alignItems: "center",
margin: [ m["default"].GUTTER, m["default"].GUTTER, 3 * m["default"].GUTTER, m["default"].GUTTER ]
},
statBlockValue: {
margin: [ 2, 0, 2, 0 ],
fontSize: 52
},
statRowStyle: {
justifyContent: "space-between",
margin: [ m["default"].GUTTER, 0, m["default"].GUTTER, 0 ]
},
smallStatBlockStyle: {
alignItems: "center",
margin: m["default"].GUTTER
},
placing: {
position: "absolute",
alignItems: "center",
justifyContent: "center",
width: 80,
left: -100,
top: 0,
height: 28,
bottom: 0
},
placingText: {
marginTop: SpartaGlobals.bundleIsPC ? 1 : 2
},
borderTop: {
position: "absolute",
top: 0,
height: 1,
left: 0,
right: 0
},
borderRight: {
position: "absolute",
top: 0,
width: 1,
bottom: 0,
right: 0
},
borderBottom: {
position: "absolute",
bottom: 0,
height: 1,
left: 0,
right: 0
},
borderLeft: {
position: "absolute",
top: 0,
bottom: 1,
left: 0,
width: 1
},
gold: {
backgroundColor: "#FF9900"
},
goldText: {
color: "#FF9900"
}
}, E = function k(e) {
var t = e.place, n = {
backgroundColor: "#ffffff"
}, r = {
color: "#ffffff"
}, a = "";
switch (t) {
case 1:
n = w.gold, r = w.goldText, a = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_BEST");
break;

case 2:
a = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SECOND");
break;

case 3:
a = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_THIRD");
break;

case 4:
a = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_FOURTH");
break;

case 5:
a = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_FIFTH");
}
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ n, w.borderTop ]
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ n, w.borderRight ]
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ n, w.borderBottom ]
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ n, w.borderLeft ]
},
_owner: null
}, {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: a,
style: [ r, w.placingText ],
size: "S"
}),
_owner: null
} ],
style: w.placing
},
_owner: null
};
}, I = function x(e) {
var t = e.name, n = e.value, r = e.width, a = e.note, i = a ? {
color: "#FF9900"
} : null, s = SpartaGlobals.bundleIsPC ? "M" : "S", l = n ? n.toString() : "0";
return {
$$typeof: u,
type: m["default"].Col,
key: null,
ref: null,
props: o(m["default"].Col.defaultProps, {
children: [ {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: t,
size: s
}),
_owner: null
}, {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: l,
type: "emphasis",
style: [ i, w.statBlockValue ],
size: "XXL"
}),
_owner: null
}, {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: a,
type: "emphasis",
style: i,
size: s
}),
_owner: null
} ],
style: [ w.statBlockStyle, {
width: r
} ]
}),
_owner: null
};
};
t.StatBlock = I;
var C = function M(e) {
var t = e.name, n = e.value, r = e.place, a = e.decimals, i = r && 1 === r && n > 0 ? w.goldText : null, s = parseInt(a, 10) || 0, l = r && r > 0 && 6 > r && n > 0 ? {
$$typeof: u,
type: E,
key: null,
ref: null,
props: o(E.defaultProps, {
place: r
}),
_owner: null
} : null, c = SpartaGlobals.bundleIsPC ? "M" : "S";
return {
$$typeof: u,
type: m["default"].Row,
key: null,
ref: null,
props: o(m["default"].Row.defaultProps, {
children: [ v.localeRearrange([ {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
type: "normal",
value: t.toUpperCase(),
size: c,
style: i
}),
_owner: null
}, {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
type: "emphasis",
value: _.formatDecimals(n, s),
size: c,
style: i
}),
_owner: null
} ]), l ],
style: w.statRowStyle
}),
_owner: null
};
};
t.StatRow = C;
var A = function N(e) {
var t = e.name, n = e.value, r = (e.place, SpartaGlobals.bundleIsPC ? "M" : "S"), a = SpartaGlobals.bundleIsPC ? "XL" : "L", i = n ? n.toString() : "0";
return {
$$typeof: u,
type: m["default"].Col,
key: null,
ref: null,
props: o(m["default"].Col.defaultProps, {
children: [ {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: t,
style: {
marginBottom: 8
},
size: r
}),
_owner: null
}, {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: i,
type: "emphasis",
style: {
textLetterSpacing: 2
},
size: a
}),
_owner: null
} ],
style: w.smallStatBlockStyle
}),
_owner: null
};
};
t.SmallStatBlock = A;
var P = function D() {
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: {
backgroundColor: "#ffffff11",
height: 1
}
},
_owner: null
};
};
t.Divider = P;
var O = function(t) {
function n(n) {
e(this, o), t.call(this, n), this.statRowAnimation = {
initialState: n.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: y["default"].extend({}, d.Animation.defaultTweenOptions, {
easing: "CubicOut",
duration: 500
})
};
}
r(n, t), n.prototype.componentDidMount = function i() {
this.props.skipAnimation || this.play(100 * this.props.delay);
}, n.prototype.play = function s(e) {
this.refs.animation.play(e);
}, n.prototype.render = function l() {
return p["default"].createElement(f.AnimatedSurface, {
ref: "animation",
animation: this.statRowAnimation
}, this.props.children);
};
var o = n;
return n = a("_$AnimatedStatRow")(n) || n;
}(p["default"].Component);
t.AnimatedStatRow = O;
var R = function(t) {
function n(n) {
e(this, o), t.call(this, n), this.statBlockAnimation = {
initialState: n.skipAnimation ? "to" : "from",
values: {
scaleY: {
from: 1.3,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: y["default"].extend({}, d.Animation.defaultTweenOptions, {
easing: "CubicOut",
duration: 500
})
};
}
r(n, t), n.prototype.componentDidMount = function i() {
this.props.skipAnimation || this.play(100 * this.props.delay);
}, n.prototype.play = function s(e) {
this.refs.animation.play(e);
}, n.prototype.render = function l() {
return p["default"].createElement(f.AnimatedSurface, {
ref: "animation",
animation: this.statBlockAnimation
}, this.props.children);
};
var o = n;
return n = a("_$AnimatedStatBlock")(n) || n;
}(p["default"].Component);
t.AnimatedStatBlock = R;
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = n(26), i = r(a), s = n(34), l = r(s), u = n(57), c = n(157), p = r(c), f = new i["default"]("TunguskaBattlepackActiveStore"), d = {
UNOPENED: "UNOPENED",
OPENING: "OPENING",
OPEN: "OPEN"
}, h = o.createStore({
init: function y() {
l["default"].viewBattlepack.listen(function(e) {
var t = {};
t.name = e, t.state = d.UNOPENED, t.data = p["default"].getPackByName(e), f.setState(t), 
h.trigger(f.getState());
}), l["default"].openBattlepack.listen(function(e) {
f.set("state", d.OPENING), h.trigger(f.getState());
}), u.open.listen(function(e, t) {
e ? f.set("state", d.UNOPENED) : (f.set("open", t), f.set("state", d.OPEN)), h.trigger(f.getState());
});
},
getState: function g() {
return f.getState();
},
getInitialState: function m() {
return this.getState();
}
});
t["default"] = h, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = n(26), i = r(a), s = n(34), l = r(s), u = n(57), c = n(228), p = r(c), f = n(466), d = r(f), h = new i["default"]("TunguskaBattlepackActiveStore"), y = {
VIEW: "VIEW",
CLAIMING: "CLAIMING",
CLAIMED: "CLAIMED"
}, g = o.createStore({
init: function m() {
l["default"].viewBlueprint.listen(function(e) {
var t = {};
t.key = e, t.state = y.VIEW, t.item = p["default"].getItemByKey(e), t.puzzle = d["default"].getPuzzleByKey(e), 
t.reward = null, h.setState(t), g.trigger(h.getState());
}), l["default"].claimBlueprint.listen(function(e) {
h.set("state", y.CLAIMING), g.trigger(h.getState());
}), u.claimBlueprint.listen(function(e, t) {
e ? h.set("state", y.VIEW) : (h.set("reward", t), h.set("state", y.CLAIMED)), g.trigger(h.getState());
});
},
getState: function b() {
return h.getState();
},
getInitialState: function v() {
return this.getState();
}
});
t["default"] = g, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, a = n(15), i = n(131), s = r(i), l = n(26), u = r(l), c = n(130), p = r(c), f = n(304), d = r(f), h = n(158), y = r(h), g = n(189), m = r(g), b = void 0, v = void 0, _ = new u["default"]("TunguskaBattlepackOfferStore"), S = !1, T = a.createStore({
init: function w() {
var e = this;
p["default"].listen(function(t) {
var n = t && t.tunguska;
if (n) {
var r = n.offers.filter(function(e) {
return "battlepacks" === e.group;
});
r.length && (b = r), e.aggregate();
}
}), d["default"].listen(function(t) {
v = t, e.aggregate();
});
},
aggregate: function E() {
if (b && v) {
var e = v.values().filter(function(e) {
return "STANDARD" === e.rarenessLevel.originalName;
})[0], t = b.map(function(t) {
var n = {
amount: 1,
battlepack: null,
data: t.data,
offerId: t.offerId,
productId: t.productId,
packType: "",
pinData: t.pinData,
price: t.price,
listPrice: t.listPrice,
shortDesc: t.shortDesc,
longDesc: t.longDesc
}, r = void 0;
r = t.id.match(/[0-9]+$/), r && r.length && (n.amount = parseInt(r[0], 10)), r = t.data.match(/[^:]+$/), 
r && r.length && (n.packType = r[0]);
var a = e.packKey, i = [ [ {
name: "scraps",
quantity: e.prices[0][0].quantity * n.amount
} ] ];
return n.amount > 1 && (a = e.packKey.replace(/^(p_st)d/, "$1" + n.amount)), n.battlepack = new y["default"](o({}, e, {
packKey: a,
prices: i
})), new m["default"](n);
});
S = !0, _.setState(new s["default"](t)), this.trigger(this.getState());
}
},
hasLoadedOnce: function I() {
return S;
},
getState: function C() {
return _.getState();
},
getInitialState: function A() {
return this.getState();
}
});
t["default"] = T, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
t.__esModule = !0;
var a = n(5), i = o(a), s = n(15), l = n(131), u = r(l), c = n(26), p = r(c), f = n(228), d = r(f), h = n(57), y = n(467), g = r(y), m = n(307), b = r(m), v = new p["default"]("TunguskaBattlepackPuzzleStore"), _ = !1, S = s.createStore({
init: function T() {
var e = this;
h.getPuzzlePacks.listen(function(t) {
_ = !0;
var n = t.reduce(e._reducer, {});
v.setState(new u["default"](n)), S.trigger(v.getState());
}), d["default"].listen(function(t) {
if (_) {
var n = e.getState().values().reduce(e._reducer, {});
v.setState(new u["default"](n)), S.trigger(v.getState());
}
});
},
_reducer: function w(e, t) {
var n = i.extend({}, t), r = d["default"].getItemByKey(n.item.key);
return n.pieceItem = d["default"].getItemByKey(n.price.name) || new b["default"]({
key: n.price.name,
quantity: 0
}), n.isUnlocked = r && r.quantity > 0, e[n.packKey] = new g["default"](n), e;
},
hasLoadedOnce: function E() {
return _;
},
getState: function I() {
return v.getState();
},
getInitialState: function C() {
return this.getState();
},
getPuzzleByKey: function A(e) {
return this.getState()[e];
}
});
t["default"] = S, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
e = e || {}, this.pack = o(a, e.pack), this.descriptionText = e.descriptionText || this.pack.descriptionText, 
this.images = e.images || this.pack.images, this.packKey = e.packKey || this.pack.packKey, 
this.items = e.items || this.pack.items, this.item = this.getItem(), this.prices = e.prices || this.pack.prices, 
this.price = this.getPrice(), this.pieceItem = e.pieceItem, this.isUnlocked = e.isUnlocked || !1;
}
t.__esModule = !0;
var o = n(276), a = n(158);
r.prototype.getItem = function() {
return this.items && this.items.length && this.items[0];
}, r.prototype.getPrice = function() {
return this.prices && this.prices.length && this.prices[0] && this.prices[0][0];
}, t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(129), i = r(a), s = function u(e) {
var t = e.done, n = void 0 === t ? 0 : t, r = e.needed, a = void 0 === r ? 1 : r, i = e.completed, s = void 0 === i ? !1 : i, l = e.percentage;
o(this, u), this.completed = s, this.done = n, this.needed = a, this.percentage = void 0 !== l ? l : n / a, 
this.completed && (this.percentage = 1, this.done = this.needed);
}, l = function c(e) {
var t = e.id, n = e.displayName, r = e.imageUrl, a = e.isTracked, l = e.description, u = e.completion, p = e.currentStage, f = e.stages;
o(this, c), this.id = t, this.displayName = n || t, this.description = l, this.imageUrl = r, 
this.isTracked = a, this.completion = new s(u || {}), this.currentStage = p && new i["default"](p), 
this.stages = f;
};
t["default"] = l, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t, n) {
return e ? n ? p.disabled_on : t ? p.focused_on : p.on : {};
}
t.__esModule = !0;
var a = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, i = n(1), s = r(i), l = n(11), u = l.bbUrl("/sparta/assets/ui/checkmark-32184656.png"), c = l.bbUrl("/sparta/assets/ui/checkmark2-d0ec994a.png"), p = {
on: {
texture: u
},
disabled_on: {
texture: u,
opacity: .3
},
focused_on: {
texture: c
},
texture: {
alignSelf: "center",
width: 40,
height: 28,
textureMode: "none"
}
}, f = function d(e) {
var t = e.value, n = e.focused, r = e.disabled;
return {
$$typeof: a,
type: "surface",
key: null,
ref: null,
props: {
style: [ p.texture, o(t, n, r) ]
},
_owner: null
};
};
f.propTypes = {
value: s["default"].PropTypes.bool,
focused: s["default"].PropTypes.bool,
disabled: s["default"].PropTypes.bool
}, f.defaultProps = {
focused: !1,
disabled: !1
}, t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, a = n(1), i = r(a), s = n(6), l = r(s), u = n(374), c = n(11), p = {
S: 2,
M: 4,
L: 6
}, f = SpartaGlobals.bundleIsPC ? 1 : 1.5, d = function h(e) {
var t, n = e.country ? e.country.toUpperCase() : "other";
t = u.flagIcons[n], t || (console.warn("Trying to get a flag that doesn't exist: " + n), 
t = c.bbUrl("/sparta/assets/ui/flags/default-870fef7b.png"));
var r = l["default"].getHeight(p[e.size] * f), a = {
texture: t,
width: r,
height: r,
textureMode: "contain",
marginRight: l["default"].GUTTER,
marginTop: 0
};
return {
$$typeof: o,
type: "surface",
key: null,
ref: null,
props: {
style: a
},
_owner: null
};
};
d.propTypes = {
country: i["default"].PropTypes.string,
size: i["default"].PropTypes.string
}, d.defaultProps = {
country: "other",
size: "S"
}, t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return m(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(7), h = n(278), y = s(h), g = {
_$InstallState: {
displayName: "InstallState"
}
}, m = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/InstallState.jsx",
components: g,
locals: [],
imports: []
}), b = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
justifyContent: "center",
alignItems: "center"
}, v = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = Math.round(100 * this.props.state.progress), t = "";
return e >= 0 && (t = __("ID_SPARTA_INSTALL_INSTALLING_STATUS"), this.props.state.isInstalling || (t = __("ID_SPARTA_INSTALL_INSTALLING_STATUS_PAUSED")), 
t = t.replace("[[percentage]]", e)), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: d.Text,
key: null,
ref: null,
props: r(d.Text.defaultProps, {
value: this.props.text,
type: "normal",
size: "L"
}),
_owner: null
}, {
$$typeof: c,
type: d.Text,
key: null,
ref: null,
props: r(d.Text.defaultProps, {
value: t,
type: "normal",
size: "S"
}),
_owner: null
} ],
style: [ b, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = i("_$InstallState")(t) || t;
}(f["default"].Component);
t["default"] = v, v.propTypes = {
text: f["default"].PropTypes.string.isRequired,
state: f["default"].PropTypes.instanceOf(y["default"]).isRequired
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), d = n(1), h = s(d), y = n(5), g = s(y), m = n(3), b = n(10), v = n(9), _ = n(6), S = s(_), T = n(16), w = n(7), E = n(95), I = s(E), C = n(115), A = {
_$QuickLinks: {
displayName: "QuickLinks"
}
}, P = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/QuickLinks.jsx",
components: A,
locals: [],
imports: []
}), O = {
container: {
marginTop: S["default"].getHeight(3.5),
marginLeft: -S["default"].GUTTER,
marginBottom: S["default"].getHeight(3),
height: S["default"].getHeight(15)
},
descriptionRow: {
paddingLeft: S["default"].GUTTER,
marginTop: SpartaGlobals.bundleIsPC ? 2 * -S["default"].GUTTER : 0
},
iconRow: {
flexDirection: "row",
marginBottom: S["default"].getHeight(2),
zOffset: 1
},
iconButton: {
marginRight: S["default"].getWidth(1),
padding: SpartaGlobals.bundleIsPC ? [ S["default"].GUTTER, S["default"].GUTTER, S["default"].GUTTER, S["default"].GUTTER ] : 0,
alignItems: "center"
},
notifier: {
position: "absolute",
top: SpartaGlobals.bundleIsPC ? 1.5 * S["default"].GUTTER : 0,
left: SpartaGlobals.bundleIsPC ? S["default"].getHeight(5.5) : S["default"].getHeight(4),
height: S["default"].getHeight(3),
paddingLeft: S["default"].getHeight(1),
paddingRight: S["default"].getHeight(1),
alignItems: "center",
justifyContent: "center",
zOffset: 10,
backgroundColor: [ 255, 153, 0, 255 ],
borderRadius: S["default"].getHeight(1.3),
enableMouseEvents: !1
}
}, R = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.renderNotification = function s(e, t, n, o) {
return e.notificationText ? {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
size: "XS",
value: e.notificationText,
color: "#000000"
}),
_owner: null
},
style: c({}, O.notifier, {
opacity: T.Animation.tweenSwitch(.8, 1, t.isFocused, n, o)
})
},
_owner: null
} : null;
}, t.prototype.render = function l() {
var e = this, t = {
duration: T.Animation.defaultTweenOptions.duration
}, n = {
duration: T.Animation.defaultTweenOptions.duration / 2
}, o = c({}, O.descriptionRow, {
opacity: T.Animation.tweenSwitch(0, 1, this.hasFocus, t, n)
}), a = g["default"].map(this.props.items, function(o, a) {
var i = o.blur || null;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: m.Focusable,
key: null,
ref: null,
props: r(m.Focusable.defaultProps, {
children: function s(l) {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: I["default"],
key: a,
ref: null,
props: r(I["default"].defaultProps, {
focusItem: l,
icon: o.icon,
blur: i,
action: o.action,
size: S["default"].getHeight(6),
style: O.iconButton,
muted: o.muted
}),
_owner: null
}, e.renderNotification(o, l, t, n) ]
},
_owner: null
};
},
debugName: "quicklink_" + a,
groupIndex: a,
group: C.quicklinksGroup
}),
_owner: null
}
},
_owner: null
};
}), i = {
marginLeft: S["default"].GUTTER,
paddingRight: S["default"].GUTTER,
zOffset: 999,
width: S["default"].getWidth(Math.max(2 * a.length, 4))
}, s = {
paddingRight: S["default"].GUTTER,
width: S["default"].getWidth(Math.max(2 * a.length, 4))
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
value: __("ID_SPARTA_CONTENT_TITLE_QUICKLINKS").toUpperCase(),
size: "S",
type: "emphasis",
style: i
}),
_owner: null
}, h["default"].createElement("surface", {
style: O.iconRow,
ref: "icons"
}, a), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
value: this.description.toUpperCase(),
size: "S",
style: s
}),
_owner: null
},
style: o
},
_owner: null
} ],
style: O.container
},
_owner: null
};
}, f(t, [ {
key: "description",
decorators: [ v.computed ],
get: function u() {
if (C.quicklinksGroup.focusedIndex > -1) {
var e = this.props.items[C.quicklinksGroup.focusedIndex];
if (e) return e.description;
}
return "";
}
}, {
key: "hasFocus",
decorators: [ v.computed ],
get: function d() {
return C.quicklinksGroup.focusedIndex > -1;
}
} ]);
var n = t;
return t = i("_$QuickLinks")(t) || t, t = b.observer(t) || t;
}(h["default"].Component);
t["default"] = R, R.propTypes = {
items: h["default"].PropTypes.array
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return j(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(5), f = s(p), d = n(1), h = s(d), y = n(59), g = s(y), m = n(14), b = s(m), v = n(28), _ = s(v), S = n(225), T = s(S), w = n(133), E = s(w), I = n(23), C = s(I), A = n(6), P = s(A), O = n(12), R = s(O), k = n(13), x = s(k), M = n(64), N = s(M), D = n(22), U = s(D), L = n(17), $ = s(L), G = n(31), F = n(33), B = {
_$SavedFiltersView: {
displayName: "SavedFiltersView"
}
}, j = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/SavedFiltersView.jsx",
components: B,
locals: [],
imports: []
}), H = {
itemSpacing: {
marginTop: P["default"].GUTTER
}
}, V = P["default"].getHeight(26), z = P["default"].getHeight(3), W = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.subscribeToStores({
savedFilters: _["default"](T["default"], this.props.gameId, "data"),
savedFiltersError: _["default"](T["default"], this.props.gameId, "error")
}, !0), C["default"].refreshSavedFilters(this.props.gameId);
}, t.prototype.onDelete = function l(e) {
var t = this, n = SpartaGlobals.bundleIsPC ? this.state.activeItem : e;
G.confirm(__("ID_SPARTA_FILTER_DELETE_MESSAGE", !0).replace("[[filterName]]", n.filterName), __("ID_SPARTA_FILTER_DELETE_TITLE", !0), __("ID_SPARTA_FILTER_DELETE_TITLE", !0)).then(function() {
var e = E["default"].getState()[t.props.gameId];
e && e.id === n.id && C["default"].resetFilters(t.props.gameId), C["default"].deleteSavedFilter(t.props.gameId, n), 
t.state.activeItem && t.setState({
activeItem: null
});
});
}, t.prototype.onApply = function u(e) {
var t = SpartaGlobals.bundleIsPC ? this.state.activeItem : e;
C["default"].applyFilters(this.props.gameId, t), this.props.switchTab && this.props.switchTab(0);
}, t.prototype.renderButtons = function p(e) {
var t = this;
return [ {
$$typeof: c,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_FILTER_APPLY").toUpperCase(),
style: H.itemSpacing,
disabled: !e,
action: function() {
return t.onApply();
}
}),
_owner: null
}, {
$$typeof: c,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_FILTER_DELETE").toUpperCase(),
style: H.itemSpacing,
disabled: !e,
action: function() {
return t.onDelete();
}
}),
_owner: null
} ];
}, t.prototype.renderItem = function d(e) {
var t = this, n = SpartaGlobals.bundleIsPC ? null : [ new x["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function r() {
return t.onApply(e);
},
key: R["default"].Accept
}), new x["default"]({
label: __("ID_SPARTA_ACTION_FILTER_DELETE"),
action: function o() {
return t.onDelete(e);
},
key: R["default"].Option2
}) ];
return {
id: e.id,
label: e.filterName,
isActive: e === this.state.activeItem,
input: n,
scrollLabel: !0,
upperCase: !1,
onTrigger: function a() {
return t.setState({
activeItem: e
});
}
};
}, t.prototype.render = function y() {
var e = this.state, t = e.savedFilters, n = e.savedFiltersError, o = {
height: $["default"].content.height - P["default"].getHeight(8)
};
if (n) return {
$$typeof: c,
type: N["default"],
key: "error",
ref: null,
props: r(N["default"].defaultProps, {
text: __("ID_SPARTA_FILTER_ERROR_TEXT"),
style: o,
subText: __("ID_SPARTA_FILTER_ERROR_SUBTEXT")
}),
_owner: null
};
if (null == t) return {
$$typeof: c,
type: "surface",
key: "loading",
ref: null,
props: {},
_owner: null
};
if (0 === t.length) return {
$$typeof: c,
type: N["default"],
key: "empty",
ref: null,
props: r(N["default"].defaultProps, {
style: o,
text: __("ID_SPARTA_FILTER_EMPTY_TEXT"),
subText: __("ID_SPARTA_FILTER_EMPTY_SUBTEXT")
}),
_owner: null
};
var a = f["default"].map(t, this.renderItem.bind(this)), i = SpartaGlobals.bundleIsPC ? $["default"].content.height - V : $["default"].content.height - z;
return {
$$typeof: c,
type: P["default"].Col,
key: null,
ref: null,
props: r(P["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: F.Scroller,
key: null,
ref: null,
props: r(F.Scroller.defaultProps, {
children: h["default"].createElement(g["default"], {
divider: "item",
ref: "itemList",
items: a,
showActiveIndicator: !0
}),
style: {
height: i,
width: P["default"].getWidth(7)
},
softClip: [ 0, z, 0, z ]
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: SpartaGlobals.bundleIsPC ? this.renderButtons(this.state.activeItem) : null,
style: {
marginBottom: P["default"].getHeight(4)
}
},
_owner: null
} ],
width: 7,
style: {
height: $["default"].content.height,
justifyContent: "space-between"
}
}),
_owner: null
};
};
var n = t;
return t = i("_$SavedFiltersView")(t) || t, t = b["default"]()(t) || t;
}(h["default"].Component);
t["default"] = W, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return Z(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function s(e) {
j["default"].applyFilters(e, {
version: 6
}), j["default"].refreshServers({
game: e
});
}
var l = n(4), u = i(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = i(p), d = n(477), h = i(d), y = n(14), g = i(y), m = n(28), b = i(m), v = n(3), _ = n(9), S = n(13), T = i(S), w = n(12), E = i(w), I = n(95), C = i(I), A = n(838), P = i(A), O = n(6), R = i(O), k = n(18), x = i(k), M = n(20), N = i(M), D = n(841), U = i(D), L = n(842), $ = n(361), G = n(436), F = i(G), B = n(23), j = i(B), H = n(118), V = i(H), z = n(11), W = n(91), q = i(W), K = n(85), X = i(K), Y = n(22), J = i(Y), Q = {
_$SearchServersHeader: {
displayName: "SearchServersHeader"
},
_$SearchServers: {
displayName: "SearchServers"
}
}, Z = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/SearchServers.jsx",
components: Q,
locals: [],
imports: []
}), ee = v.getBuildInfo().isCTE(), te = z.bbUrl("/sparta/assets/ui/icons/ui/refresh-a64e967a.png"), ne = {
marginRight: 1.5 * -R["default"].GUTTER,
marginLeft: R["default"].GUTTER,
marginBottom: 4,
padding: R["default"].GUTTER
}, re = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.render = function s() {
var t = this, n = this.props, r = n.gameId, o = n.filtersRoute, a = SpartaGlobals.bundleIsConsole && {
$$typeof: c,
type: X["default"],
key: null,
ref: null,
props: e(X["default"].defaultProps, {
inputKey: E["default"].Option2,
action: function() {
return x["default"].gotoLocation(t.props.filtersRoute);
},
blockInputFor: 1e3
}),
_owner: null
}, i = SpartaGlobals.bundleIsPC && {
$$typeof: c,
type: v.Focusable,
key: null,
ref: null,
props: e(v.Focusable.defaultProps, {
children: function s(t) {
return {
$$typeof: c,
type: C["default"],
key: "refreshButton",
ref: null,
props: e(C["default"].defaultProps, {
icon: te,
focusItem: t,
action: function() {
return j["default"].refreshServers({
game: r
});
},
size: R["default"].getHeight(2.4),
glow: !1,
style: ne
}),
_owner: null
};
},
debugName: "server_refresh"
}),
_owner: null
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ ee ? void 0 : a, ee ? void 0 : {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: e(P["default"].defaultProps, {
gameId: r,
filtersRoute: o
}),
_owner: null
}, i ],
style: {
flexDirection: "row",
alignItems: "center"
}
},
_owner: null
};
};
var i = n;
return n = a("_$SearchServersHeader")(n) || n;
}(f["default"].Component);
t.SearchServersHeader = re;
var oe = function ie(t) {
var n = t.filtersRoute, r = t.serverCount, o = __("ID_SPARTA_SERVER_MORERESULTS").replace("[[serverCount]]", r);
return {
$$typeof: c,
type: J["default"],
key: null,
ref: null,
props: e(J["default"].defaultProps, {
text: o,
textSize: "XS",
action: function() {
return x["default"].gotoLocation(n);
},
style: {
marginTop: R["default"].GUTTER
}
}),
_owner: null
};
}, ae = function(t) {
function n(e) {
r(this, i), t.call(this, e), this.emptyState = {
text: __("ID_SPARTA_SERVER_DEFAULT_EMPTY_TEXT"),
subText: ee ? void 0 : __("ID_SPARTA_SERVER_DEFAULT_EMPTY_SUBTEXT")
}, this.errorState = {
text: __("ID_SPARTA_SERVER_DEFAULT_ERROR_TEXT"),
subText: __("ID_SPARTA_SERVER_DEFAULT_ERROR_SUBTEXT")
}, this.focusAncestor = v.focus.createAncestor("searchservers");
}
o(n, t), n.prototype.componentWillMount = function l() {
var e = this;
this.cancelReaction = _.reaction(function() {
return e.showInput;
}, function() {
return e.updateInput();
}), this.subscribeToStores({
searchResults: b["default"]($.ServerStore, this.props.gameId, "data"),
error: b["default"]($.ServerStore, this.props.gameId, "error"),
sort: F["default"]
}), $.ServerStore.listen(function() {
return e.doneLoading();
}), j["default"].prepareFilters(this.props.gameId), j["default"].refreshServers({
game: this.props.gameId
}), this.focusAncestor.onInputFocusChanged.listen(function() {
e.updateInput();
});
}, n.prototype.componentDidMount = function u() {
this.startLoading();
}, n.prototype.componentWillUnmount = function p() {
this.focusAncestor.destroy(), this.cancelReaction();
}, n.prototype.getInput = function d() {
var e = this;
if (this.focusAncestor.hasInputFocus) {
var t = [ new T["default"]({
label: __("ID_SPARTA_ACTION_REFRESH"),
action: function n() {
return j["default"].refreshServers({
game: e.props.gameId
});
},
key: E["default"].Option4
}) ];
return v.getBuildInfo().isEndUserBuild() || t.push(new T["default"]({
label: "[DBG] Show All Servers",
action: function r() {
return s(e.props.gameId);
},
key: E["default"].Start
})), t;
}
}, n.prototype.startLoading = function y() {
this.refs.list && this.refs.list.startLoading();
}, n.prototype.doneLoading = function m() {
this.refs.list && this.refs.list.doneLoading();
}, n.prototype.refreshOnReturn = function S() {
j["default"].refreshServers({
game: this.props.gameId
});
}, n.prototype.renderMoreResults = function w() {
return {
$$typeof: c,
type: oe,
key: null,
ref: null,
props: e(oe.defaultProps, {
filtersRoute: this.props.filtersRoute,
serverCount: this.state.searchResults.servers.length
}),
_owner: null
};
}, n.prototype.renderSidebar = function I() {
var t = this, n = v.getBuildInfo().isEndUserBuild() ? null : {
$$typeof: c,
type: J["default"],
key: null,
ref: null,
props: e(J["default"].defaultProps, {
text: "[DBG] Show All Servers",
textSize: "XS",
action: function() {
return s(t.props.gameId);
},
style: {
marginTop: 2 * R["default"].GUTTER
}
}),
_owner: null
};
return {
$$typeof: c,
type: R["default"].Col,
key: null,
ref: null,
props: e(R["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: L.QuickPresets,
key: null,
ref: null,
props: e(L.QuickPresets.defaultProps, {
gameId: this.props.gameId
}),
_owner: null
}, {
$$typeof: c,
type: U["default"],
key: null,
ref: null,
props: e(U["default"].defaultProps, {
gameId: this.props.gameId,
filtersRoute: this.props.filtersRoute
}),
_owner: null
}, n ],
width: 4,
style: {
marginLeft: R["default"].getWidth(1)
}
}),
_owner: null
};
}, n.prototype.render = function C() {
var t = this.state, n = t.searchResults, r = t.sort, o = t.error, a = this.props, i = a.gameId, s = a.gameData, l = a.pingSites, u = n ? n.servers : null, p = !ee && n && n.hasMoreResults ? this.renderMoreResults() : null, d = !ee && SpartaGlobals.bundleIsPC ? this.renderSidebar() : null;
return {
$$typeof: c,
type: R["default"].Row,
key: null,
ref: null,
props: e(R["default"].Row.defaultProps, {
children: [ f["default"].createElement(h["default"], {
ref: "list",
key: "search",
servers: u,
bannerItem: p,
error: o,
sortBy: r.current,
gameId: i,
gameData: s,
pingSites: l,
errorState: this.errorState,
emptyState: this.emptyState
}), d ],
style: {
justifyContent: "flex-end"
},
surfaceProps: this.focusAncestor.hooks
}),
_owner: null
};
};
var i = n;
return n = a("_$SearchServers")(n) || n, n = V["default"]({
startLoading: j["default"].refreshServers.before,
refreshOnReturn: q["default"].onMultiplayerServerDisconnection
})(n) || n, n = g["default"]()(n) || n, n = N["default"]()(n) || n;
}(f["default"].Component);
t.SearchServers = ae, ae.propTypes = {
showFilters: f["default"].PropTypes.bool
};
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ie(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e, t) {
K["default"].trackJoinSource("joinServerBrowser", t || "soldier"), N["default"].joinServer(ee.createJoinOptions(e, t));
}
var c = n(4), p = l(c);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = n(1), y = l(h), g = n(27), m = l(g), b = n(7), v = n(3), _ = r(v), S = n(23), T = l(S), w = n(6), E = l(w), I = n(22), C = l(I), A = n(470), P = l(A), O = n(159), R = l(O), k = n(5), x = l(k), M = n(35), N = l(M), D = n(8), U = n(173), L = n(13), $ = l(L), G = n(314), F = n(10), B = n(65), j = n(20), H = l(j), V = n(12), z = l(V), W = n(11), q = n(77), K = l(q), X = n(37), Y = n(108), J = n(30), Q = n(66), Z = n(39), ee = n(126), te = n(54), ne = l(te), re = n(43), oe = l(re), ae = {
_$ServerDetails: {
displayName: "ServerDetails"
},
_$BasicInformation: {
displayName: "BasicInformation"
},
_$ServerOwner: {
displayName: "ServerOwner"
},
_$MapRotation: {
displayName: "MapRotation"
},
_$MapRotationItem: {
displayName: "MapRotationItem"
},
_$Settings: {
displayName: "Settings"
},
_$SettingsItem: {
displayName: "SettingsItem"
}
}, ie = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerDetails.jsx",
components: ae,
locals: [],
imports: []
}), se = _.getBuildInfo().isCTE(), le = {
textAlignForRTL: "left"
}, ue = {
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0
}, ce = {
shortValues: {
name: SpartaGlobals.bundleIsConsole ? 3.5 : 4.3,
value: SpartaGlobals.bundleIsConsole ? 1.4 : .9
},
longValues: {
name: SpartaGlobals.bundleIsConsole ? 2.2 : 2,
value: SpartaGlobals.bundleIsConsole ? 2.8 : 3.2
}
}, pe = {
flexWrap: "wrap",
flexDirection: "row"
}, fe = {
settings: SpartaGlobals.bundleIsConsole ? "S" : "XS",
serverName: SpartaGlobals.bundleIsConsole ? "XL" : "L",
serverInfo: SpartaGlobals.bundleIsConsole ? "M" : "S",
description: "S"
}, de = {
off: {
normal: W.bbUrl("/sparta/assets/ui/icons/ui/new_star_outline_white-deecfbe1.png"),
hover: W.bbUrl("/sparta/assets/ui/icons/ui/new_star_outline_black-4e413160.png")
},
on: {
normal: W.bbUrl("/sparta/assets/ui/icons/ui/new_star_white-00780cc3.png"),
hover: W.bbUrl("/sparta/assets/ui/icons/ui/new_star_black-4eaa2c88.png")
}
}, he = {
official: W.bbUrl("/sparta/assets/ui/gameservers/type/official-6e10d16b.png"),
ranked: W.bbUrl("/sparta/assets/ui/gameservers/type/ranked-63ddf668.png"),
unranked: W.bbUrl("/sparta/assets/ui/gameservers/type/unranked-5b77f221.png"),
"private": W.bbUrl("/sparta/assets/ui/gameservers/type/private-40d383c1.png")
}, ye = {
serverDescription: d({
width: E["default"].getWidth(16),
textLineSpacing: X.LINE_HEIGHTS[fe.description],
marginTop: 2 * E["default"].GUTTER
}, pe),
serverInfoColumn: {
width: E["default"].getWidth(3),
flexDirection: "column",
marginRight: E["default"].getWidth(1)
},
serverInfoTitle: d({}, le),
serverInfoValue: d({}, le, {
paddingTop: 5,
zOffset: 1
}),
serverPingValue: d({}, le, {
paddingTop: 10
}),
mapRotationWrapper: d({}, pe, {
width: E["default"].getWidth(24) + 4 * E["default"].GUTTER
}),
mapRotation: {
marginRight: 2.4 * E["default"].GUTTER
},
serverSettings: {
marginLeft: 2 * E["default"].GUTTER,
marginRight: 2 * E["default"].GUTTER,
width: E["default"].getWidth(5.5) - 2 * E["default"].GUTTER,
textAlignForRTL: "left"
},
serverSettingsItemHighlight: {
zOffset: 0,
position: "absolute",
top: -E["default"].GUTTER,
left: 0,
bottom: E["default"].GUTTER,
width: E["default"].getWidth(6) - 2 * E["default"].GUTTER,
backgroundColor: "#ffffff"
},
serverSettingsItemContent: {
flexWrap: "wrap",
flexDirection: "row",
justifyContent: "space-between",
marginLeft: 2 * E["default"].GUTTER,
marginRight: 2 * E["default"].GUTTER
},
serverSettingsUnderline: {
height: 8,
marginTop: E["default"].GUTTER - 4,
marginBottom: E["default"].GUTTER - 3,
textureMode: "none",
textureScale: [ 8096, 1 ],
texture: W.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png"),
opacity: .1,
width: E["default"].getWidth(6) - 2 * E["default"].GUTTER
},
serverSettingsKey: d({}, pe, {
zOffset: 1,
width: E["default"].getWidth(ce.shortValues.name),
marginRight: E["default"].GUTTER,
marginLeft: 2 * E["default"].GUTTER,
color: "#FFFFFF55",
textAlignForRTL: "right"
}),
serverSettingsValue: d({}, pe, {
zOffset: 1,
width: E["default"].getWidth(ce.shortValues.value),
justifyContent: "flex-end",
color: "#FFFFFF55",
textAlign: "right",
textAlignForRTL: "left"
}),
infoColumn: {
width: E["default"].getWidth(6) - 2 * E["default"].GUTTER,
marginRight: 4 * E["default"].GUTTER
},
contextButton: {
height: E["default"].getHeight(7),
width: E["default"].getHeight(7)
},
contextMenuButton: {
zOffset: 2
},
contextButtonBorder: d({}, ue, {
zOffset: 1,
texture: W.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2
})
}, ge = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.getInput = function r() {
if (SpartaGlobals.bundleIsPC) return [];
var e = this.props.details;
if (!e.guid) return [];
var t = new B.Server(e), n = [];
return se || n.push(new $["default"]({
label: __(t.isFavorite ? "ID_SPARTA_ACTION_SERVER_UNFAVORITE" : "ID_SPARTA_ACTION_SERVER_FAVORITE"),
key: z["default"].Option3,
action: function r() {
return T["default"].toggleBookmark(t);
}
})), n;
}, t.prototype.render = function l() {
var e = this.props.details.rotation, t = new B.Server(this.props.details);
return {
$$typeof: f,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
children: [ {
$$typeof: f,
type: me,
key: null,
ref: null,
props: o(me.defaultProps, {
rspDetails: this.props.rspDetails,
server: t,
roles: this.props.roles
}),
_owner: null
}, {
$$typeof: f,
type: Se,
key: null,
ref: null,
props: o(Se.defaultProps, {
settings: this.props.settings
}),
_owner: null
}, {
$$typeof: f,
type: ve,
key: null,
ref: null,
props: o(ve.defaultProps, {
rotation: e,
server: t
}),
_owner: null
} ],
scrollContent: !0,
tallContent: !0,
verticalIndicator: !0,
clipContent: !0,
showScrollAction: SpartaGlobals.bundleIsConsole,
useAbsoluteScrollBounds: !0
}),
_owner: null
};
};
var n = t;
return t = s("_$ServerDetails")(t) || t, t = H["default"]()(t) || t;
}(y["default"].Component);
t["default"] = ge;
var me = function(e) {
function t(t) {
a(this, n), e.call(this, t);
var r = D.gameStore.getGame(t.server.game);
this.game = r, this.localizedServerTypes = {
official: __("ID_SPARTA_SERVER_TYPE_OFFICIAL"),
ranked: __("ID_SPARTA_SERVER_TYPE_RANKED"),
unranked: __("ID_SPARTA_SERVER_TYPE_UNRANKED"),
"private": __("ID_SPARTA_SERVER_TYPE_PRIVATE")
}, this.state = {
isFavorite: t.server.isFavorite
};
}
i(t, e), t.prototype.componentWillReceiveProps = function r(e) {
this.setState({
isFavorite: e.server.isFavorite
});
}, t.prototype.getTopBar = function l() {
var e = this.props.server, t = e.name, n = e.gameId, r = t;
return Y.UGCAccessStore.getState().level !== Y.UGCAccessLevel.Everyone && (r = n), 
{
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
type: "emphasis",
value: r,
size: fe.serverName,
style: {
marginTop: -E["default"].GUTTER,
textAlignForRTL: "left"
}
}),
_owner: null
}, {
$$typeof: f,
type: be,
key: null,
ref: null,
props: o(be.defaultProps, {
rspDetails: this.props.rspDetails
}),
_owner: null
} ],
style: {
justifyContent: "space-between",
flexDirection: "row",
height: E["default"].getHeight(5)
}
},
_owner: null
};
}, t.prototype.getStandardInformation = function c() {
var e = this.props.server, t = {}, n = this.getServerType(e.serverType), r = e.country ? {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
size: fe.serverInfo,
country: e.country
}),
_owner: null
} : null, a = {
marginTop: 2 * E["default"].GUTTER,
height: E["default"].getHeight(3),
alignItems: "center"
}, i = J.localeRearrange([ e.mapModePretty, "|", e.mapNamePretty ]).join(" ").toUpperCase(), s = null != n ? n.icon : null, l = null != n ? n.text : null;
return J.isRTLLanguage() && (t = {
width: E["default"].getWidth(24),
justifyContent: "flex-end"
}), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: J.localeRearrange([ r, {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
size: fe.serverInfo,
value: i
}),
_owner: null
}, s, l ]),
style: d({}, pe, a, t)
},
_owner: null
};
}, t.prototype.getAdditionalInformation = function p() {
var e = this.props.server;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
style: ye.serverInfoTitle,
value: __("ID_SPARTA_SERVER_PLAYERS").toUpperCase(),
size: "S"
}),
_owner: null
}, {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
style: ye.serverInfoValue,
value: e.slots.soldier.current + " / " + e.slots.soldier.max
}),
_owner: null
} ],
style: ye.serverInfoColumn
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
style: ye.serverInfoTitle,
value: __("ID_SPARTA_SERVER_PING").toUpperCase(),
size: "S"
}),
_owner: null
}, this.renderPing(e) ],
style: ye.serverInfoColumn
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
style: ye.serverInfoTitle,
value: __("ID_SPARTA_SERVER_TICKRATE").toUpperCase(),
size: "S"
}),
_owner: null
}, {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
style: ye.serverInfoValue,
value: e.tickRate + __("ID_SPARTA_SERVER_TICKRATE_UNIT")
}),
_owner: null
} ],
style: ye.serverInfoColumn
},
_owner: null
} ],
style: d({}, pe, {
marginTop: E["default"].getHeight(4)
})
},
_owner: null
};
}, t.prototype.getFavoriteIcon = function h() {
var e = this, t = this.props.server, n = this.state.isFavorite ? de.on : de.off, r = SpartaGlobals.bundleIsPC ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
action: function() {
return e.toggleFavorite(t);
},
icon: n,
size: E["default"].getHeight(3)
}),
_owner: null
},
style: {
marginLeft: E["default"].GUTTER
}
},
_owner: null
} : {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: {
texture: n.normal,
textureScale: .7,
textureMode: "contain",
width: E["default"].getHeight(7),
height: E["default"].getHeight(7)
}
},
_owner: null
};
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: r,
style: {
width: E["default"].getWidth(1.2),
marginLeft: E["default"].GUTTER
}
},
_owner: null
};
}, t.prototype.getServerType = function y(e) {
if (!e) return null;
if (-1 === this.game.supportedServerTypes.indexOf(e)) return null;
var t = he[e.toLowerCase()];
if (!t) return null;
var n = "M" === fe.serverInfo ? "S" : "XS", r = this.localizedServerTypes[e.toLowerCase()] || e;
return {
icon: {
$$typeof: f,
type: R["default"],
key: null,
ref: null,
props: o(R["default"].defaultProps, {
image: t,
size: n,
style: {
margin: [ 0, E["default"].GUTTER, 0, 2 * E["default"].GUTTER ]
}
}),
_owner: null
},
text: {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: r.toUpperCase(),
size: fe.serverInfo
}),
_owner: null
}
};
}, t.prototype.toggleFavorite = function g(e) {
T["default"].toggleBookmark(e);
}, t.prototype.renderButtons = function m() {
var e = this.props.server, t = D.gameStore.getGame(e.game).supportedRoles, n = D.partyStore.canGroupJoin(e.game), r = !se && this.props.server.guid ? this.getFavoriteIcon() : null, a = {
width: E["default"].getWidth(6) - 2 * E["default"].GUTTER
}, i = d({}, a, {
marginLeft: E["default"].GUTTER
}), s = !n && Z.supportsSpectating(e.game) ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
action: function() {
return u(e, "spectator");
},
text: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR")
}),
_owner: null
},
style: i
},
_owner: null
} : null, l = !n && t.indexOf("commander") > -1 ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
action: function() {
return u(e, "commander");
},
text: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER")
}),
_owner: null
},
style: i
},
_owner: null
} : null;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
action: function() {
return u(e);
},
text: __("ID_SPARTA_ACTION_JOIN")
}),
_owner: null
},
style: a
},
_owner: null
}, s, l, r ],
style: d({}, pe, {
marginTop: E["default"].getHeight(4)
})
},
_owner: null
};
}, t.prototype.renderPing = function v(e) {
return {
$$typeof: f,
type: G.ServerPingLookup,
key: null,
ref: null,
props: o(G.ServerPingLookup.defaultProps, {
children: function t(e) {
if (SpartaGlobals.bundleIsConsole) {
var t = ye.serverPingValue;
return J.isRTLLanguage() && (t.paddingLeft = E["default"].getWidth(2.7)), {
$$typeof: f,
type: G.PingDisplay,
key: null,
ref: null,
props: o(G.PingDisplay.defaultProps, {
style: t,
ping: e
}),
_owner: null
};
}
var n = null != e && e >= 0 ? e + __("ID_SPARTA_DATETIME_MS") : "-";
return {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
style: ye.serverInfoValue,
value: n
}),
_owner: null
};
},
server: e
}),
_owner: null
};
}, t.prototype.render = function _() {
if (!this.props.server) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var e = Y.UGCAccessStore.getState().level === Y.UGCAccessLevel.Everyone;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.getTopBar(), this.getStandardInformation(), this.props.server.description && e ? {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
size: fe.description,
style: ye.serverDescription,
value: this.props.server.description
}),
_owner: null
} : null, this.renderButtons(), this.getAdditionalInformation() ]
},
_owner: null
};
};
var n = t;
return t = s("_$BasicInformation")(t) || t, t = F.observer(t) || t;
}(y["default"].Component), be = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = _.focus.create(this, "RSPServerOwner");
}
i(t, e), t.prototype.render = function r() {
var e = this;
if (!this.props.rspDetails || !this.props.rspDetails.owner) return null;
var t = new $["default"]({
key: z["default"].Accept,
label: __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD" : "ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE"),
action: function r() {
return oe["default"].showUserProfile(e.props.rspDetails.owner.platformId);
}
}), n = this.focusItem.isFocused || this.focusItem.isHovered;
return y["default"].createElement("surface", d({
style: {
alignItems: "center",
flexDirection: "row"
}
}, this.focusItem.hooks), {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
size: "S",
style: {
marginRight: 2 * E["default"].GUTTER
},
value: __("ID_SPARTA_SERVER_OWNER").toUpperCase()
}),
_owner: null
}, {
$$typeof: f,
type: ne["default"],
key: null,
ref: null,
props: o(ne["default"].defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: {
texture: this.props.rspDetails.owner.avatar,
textureMode: "fill",
height: E["default"].getHeight(5),
width: E["default"].getHeight(5),
marginRight: 2 * E["default"].GUTTER,
zOffset: 1
}
},
_owner: null
}, {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
size: "S",
color: n ? "#000000" : "#ffffff",
style: d({}, ye.serverInfoValue, {
textAlignForRTL: null
}),
value: this.props.rspDetails.owner.displayName
}),
_owner: null
} ],
style: {
flexDirection: "row",
alignItems: "center",
backgroundColor: n ? "#ffffff" : void 0,
paddingRight: 2 * E["default"].GUTTER
}
},
_owner: null
},
input: t,
focusItem: this.focusItem,
glow: !0
}),
_owner: null
});
};
var n = t;
return t = s("_$ServerOwner")(t) || t, t = F.observer(t) || t;
}(y["default"].Component), ve = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.isCurrentlyPlaying = function r(e) {
var t = this.props.server, r = t.mapNamePretty.toUpperCase() === e.mapPrettyName.toUpperCase() && t.mapModePretty.toUpperCase() === e.modePrettyName.toUpperCase();
return this.hasCurrentlyPlaying === !0 ? r = !1 : r !== !0 || this.hasCurrentlyPlaying || (this.hasCurrentlyPlaying = !0), 
r;
}, t.prototype.mapRotation = function l() {
var e = this, t = this.props.rotation;
return x["default"].map(t, function(n, r) {
var a = e.isCurrentlyPlaying(n), i = t.length > 4 && r % 4 > 0;
return {
$$typeof: f,
type: _e,
key: r,
ref: null,
props: o(_e.defaultProps, {
settings: n,
currentlyPlaying: a,
bottomMargin: i
}),
_owner: null
};
});
}, t.prototype.render = function u() {
this.hasCurrentlyPlaying = !1;
var e = this.mapRotation();
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: __("ID_SPARTA_SERVER_MAPROTATION").toUpperCase(),
size: "S",
type: "emphasis"
}),
_owner: null
},
style: {
flexDirection: "row",
marginTop: E["default"].getHeight(4),
marginBottom: E["default"].getHeight(2)
}
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: d({
localBounds: !1
}, ye.mapRotationWrapper)
},
_owner: null
} ],
style: {
localBounds: !1,
flexDirection: "column"
}
},
_owner: null
};
};
var n = t;
return t = s("_$MapRotation")(t) || t;
}(y["default"].Component), _e = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = _.focus.create(this, "map_rotation_item");
}
i(t, e), t.prototype.render = function r() {
var e = this.props, t = e.settings, n = e.currentlyPlaying, r = n ? __("ID_SPARTA_SERVER_PLAYINGNOW").toUpperCase() : "", a = d({}, ye.mapRotation, {
marginBottom: this.props.bottomMargin ? 2.4 * E["default"].GUTTER : 0
});
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: U.PlayCard,
key: null,
ref: null,
props: o(U.PlayCard.defaultProps, {
heading: r,
headingColor: "#FFFFFF",
focusItem: this.focusItem,
useDefaultInput: !1,
modes: t.modePrettyName.toUpperCase(),
maps: t.mapPrettyName.toUpperCase(),
background: t.mapImage,
size: "SW"
}),
_owner: null
},
style: a
},
_owner: null
};
};
var n = t;
return t = s("_$MapRotationItem")(t) || t;
}(y["default"].Component), Se = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.createSettingsGroup = function r(e, t) {
var n = t.hasOwnProperty("settings") ? t.settings : t, r = t.hasOwnProperty("size") ? t.size : "short", a = x["default"].compact(x["default"].map(n, function(e) {
return e.name && e.setting ? y["default"].createElement(we, d({}, e, {
size: r
})) : null;
})), i = {
marginLeft: 2 * E["default"].GUTTER,
opacity: .5
};
return J.isRTLLanguage() && (i.marginRight = 3 * E["default"].GUTTER, i.textAlignForRTL = "left"), 
0 === a.length && (a = {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: __("ID_SPARTA_SERVER_SETTINGS_EMPTY"),
size: fe.settings,
style: i
}),
_owner: null
}), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: Ee,
key: null,
ref: null,
props: o(Ee.defaultProps, {
title: e
}),
_owner: null
}, a ],
style: ye.infoColumn
},
_owner: null
};
}, t.prototype.render = function l() {
var e = this, t = x["default"].compact(x["default"].map(this.props.settings, function(t, n) {
return e.createSettingsGroup(n, t);
}));
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: {
flexDirection: "row",
marginTop: E["default"].getHeight(4)
}
},
_owner: null
};
};
var n = t;
return t = s("_$Settings")(t) || t;
}(y["default"].Component), Te = "#FF9900", we = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = _.focus.create(this, "settings_item_" + t.setting);
}
i(t, e), t.prototype.render = function r() {
var e = this.props, t = e.name, n = e.setting, r = e.isDefault, a = e.size, i = J.isRTLLanguage(), s = ye.serverSettingsKey, l = ye.serverSettingsValue;
"long" === a && (s = d({}, s, {
width: E["default"].getWidth(ce.longValues.name)
}), l = d({}, l, {
width: E["default"].getWidth(ce.longValues.value)
}));
var u = {};
i && (u = {
justifyContent: "flex-end"
}, s = d({}, s, {
marginLeft: 4 * E["default"].GUTTER
}), l = d({}, l, {
marginLeft: 4 * -E["default"].GUTTER
}));
var c = this.focusItem.isFocused, p = c ? "#000000" : "#ffffff", h = r ? "normal" : "emphasis";
r || (p = Te);
var g = c && {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: ye.serverSettingsItemHighlight
},
_owner: null
};
return y["default"].createElement("surface", this.focusItem.hooks, g, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: J.localeRearrange([ {
$$typeof: f,
type: Q.Marquee,
key: null,
ref: null,
props: o(Q.Marquee.defaultProps, {
children: {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: t.toLocaleUpperCase(),
size: fe.settings,
color: p,
style: {
textAlignForRTL: s.textAlignForRTL,
zOffset: 2
},
type: h
}),
_owner: null
},
scroll: c,
style: u,
rtl: i
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: n.toLocaleUpperCase(),
size: fe.settings,
style: {
color: p
},
type: h
}),
_owner: null
},
style: l
},
_owner: null
} ]),
style: ye.serverSettingsItemContent
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: ye.serverSettingsUnderline
},
_owner: null
});
};
var n = t;
return t = s("_$SettingsItem")(t) || t, t = F.observer(t) || t;
}(y["default"].Component), Ee = function Ie(e) {
var t = e.title;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
style: ye.serverSettings,
value: t.toLocaleUpperCase(),
type: "emphasis",
size: "S"
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: ye.serverSettingsValue
},
_owner: null
} ],
style: {
flexWrap: "wrap",
flexDirection: "row",
flex: 1
}
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
width: 5.5,
style: ye.serverSettingsUnderline
},
_owner: null
} ]
},
_owner: null
};
};
e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ce(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(5), d = l(f), h = n(1), y = l(h), g = n(3), m = r(g), b = n(14), v = l(b), _ = n(118), S = l(_), T = n(10), w = n(9), E = n(28), I = l(E), C = n(18), A = l(C), P = n(23), O = l(P), R = n(133), k = l(R), x = n(225), M = l(x), N = n(104), D = l(N), U = n(8), L = n(20), $ = l(L), G = n(13), F = l(G), B = n(12), j = l(B), H = n(17), V = l(H), z = n(6), W = l(z), q = n(22), K = l(q), X = n(59), Y = l(X), J = n(33), Q = n(843), Z = l(Q), ee = n(733), te = l(ee), ne = n(254), re = n(155), oe = n(224), ae = l(oe), ie = n(31), se = n(839), le = l(se), ue = {
_$ServerFilterView: {
displayName: "ServerFilterView"
}
}, ce = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerFilterView.jsx",
components: ue,
locals: [],
imports: []
}), pe = W["default"].getHeight(1), fe = -pe, de = V["default"].content.height - pe, he = 36, ye = {
scrollClipper: {
marginTop: fe,
height: V["default"].content.height - fe,
marginLeft: -pe,
padding: pe,
layer: !0,
layerClip: !0,
layerSoftClip: [ 0, pe, 0, pe ]
},
buttonContainer: {
flex: 1,
justifyContent: "flex-end",
marginTop: W["default"].GUTTER,
marginBottom: SpartaGlobals.bundleIsPC ? W["default"].getHeight(4) : 0
},
button: {
width: W["default"].getWidth(6)
},
serverCount: {
marginBottom: W["default"].GUTTER,
height: W["default"].getHeight(2),
width: W["default"].getWidth(1),
flexWrap: "nowrap",
flexDirection: "row"
},
itemSpacing: {
marginTop: W["default"].GUTTER
}
}, ge = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.categoryId = t.filterLayout[0].id, this.buttons = this.getButtons(t), 
this.onFilterChanged = d["default"].debounce(this.updateServerCount.bind(this), 250);
var r = U.gameStore.getGame(this.props.gameId);
this.expansionIcons = r ? r.expansions : null;
}
i(t, e), t.prototype.componentWillMount = function r() {
var e = this, t = I["default"](k["default"], this.props.gameId);
this.subscribeToStores({
filter: t,
filterOptions: I["default"](D["default"], this.props.gameId),
protocolVersion: I["default"](ae["default"], this.props.gameId)
}, !0), this.subscribeToActions({
onFilterChanged: t
}), this.cancelReaction = w.reaction(function() {
return m.focus.system.controllerMode;
}, function() {
e.buttons = e.getButtons(e.props), e.forceUpdate();
});
}, t.prototype.componentDidMount = function l() {
this.state.filterOptions || O["default"].refreshGameData(), this.state.filter && this.state.filter.filterName && A["default"].setLocationSubtitle(__("ID_SPARTA_MENU_TITLE_FILTER"), this.state.filter.filterName), 
this.updateServerCount();
}, t.prototype.componentWillReceiveProps = function u(e) {
this.buttons = this.getButtons(e);
}, t.prototype.componentWillUpdate = function c(e, t) {
A["default"].setLocationSubtitle(__("ID_SPARTA_MENU_TITLE_FILTER"), t.filter.filterName);
}, t.prototype.componentWillUnmount = function f() {
this.cancelReaction();
}, t.prototype.getInput = function h() {
var e = this, t = [ new F["default"]({
label: __("ID_SPARTA_ACTION_SERVER_VIEW"),
action: function n() {
return e.gotoServerBrowserAction();
},
key: j["default"].Option2
}), new F["default"]({
label: __("ID_SPARTA_ACTION_FILTER_RESET"),
action: function r() {
return O["default"].resetFilters(e.props.gameId);
},
key: j["default"].Option1
}) ];
return t;
}, t.prototype.getButtons = function g(e) {
var t = this, n = [];
return n.push({
$$typeof: p,
type: te["default"],
key: null,
ref: null,
props: o(te["default"].defaultProps, {
counterId: "filterCount",
style: ye.itemSpacing,
action: function() {
return t.gotoServerBrowserAction();
},
scale: !0
}),
_owner: null
}), n.push({
$$typeof: p,
type: K["default"],
key: null,
ref: null,
props: o(K["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_FILTER_SAVE").toUpperCase(),
style: ye.itemSpacing,
action: function() {
return t.saveFilter();
}
}),
_owner: null
}), SpartaGlobals.bundleIsPC && (m.focus.system.controllerMode ? n.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: {
height: W["default"].getHeight(7) + W["default"].GUTTER
}
},
_owner: null
}) : n.push({
$$typeof: p,
type: K["default"],
key: null,
ref: null,
props: o(K["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_FILTER_RESET").toUpperCase(),
style: ye.itemSpacing,
action: function() {
return O["default"].resetFilters(e.gameId);
}
}),
_owner: null
})), n;
}, t.prototype.getCategoryItems = function b(e, t, n) {
var r = this;
return e.map(function(e) {
return d["default"].extend(e, {
scrollLabel: !0,
onTrigger: r.onCategoryItemTriggered.bind(r, e),
subLabel: e.filters ? ne.describeFilterCategories(t, n, e.filters.map(function(e) {
return e.id;
})) : ne.describeFilterCategory(t[e.id], n[e.id], e.id)
});
});
}, t.prototype.onCategoryItemFocused = function _(e) {
if (this.onFilterItemSelected(null), e.props) return void console.error("component config passed to onCategoryItemFocused");
var t = e.id;
if (this.categoryId !== t) {
this.categoryId = t;
var n = d["default"].find(this.props.filterLayout, function(e) {
return e.id === t;
});
this.refs.filterCategory && n && this.refs.filterCategory.setCategory(n);
}
}, t.prototype.onCategoryItemTriggered = function E(e) {
SpartaGlobals.bundleIsPC ? (this.onCategoryItemFocused(e), this.refs.categoryList.setActive(e.id)) : this.refs.filterCategory.focus();
}, t.prototype.onFilterItemSelected = function C(e) {
this.refs.itemInfo && this.refs.itemInfo.setFilterItem && this.refs.itemInfo.setFilterItem(e);
}, t.prototype.saveFilter = function P() {
var e = this, t = function n(e) {
return new Promise(function(t, n) {
e.length > he ? n(__("ID_SPARTA_FILTER_ERROR_NAMETOOLONG").replace("[[length]]", he)) : e.trim().length < 1 ? n(__("ID_SPARTA_FILTER_ERROR_VALIDNAME")) : t();
});
};
O["default"].refreshSavedFilters(this.props.gameId), ie.prompt(__("ID_SPARTA_FILTER_NAMEYOURFILTER").toUpperCase(), 1, he, {
onOkValidate: t
}).then(function(t) {
var n = M["default"].getState()[e.props.gameId].data, r = d["default"].find(n, function(e) {
return e.filterName.toLowerCase() === t.toLowerCase();
});
if (r) {
var o = __("ID_SPARTA_FILTER_OVERWRITE_FILTER").replace("[[filterName]]", r.filterName);
ie.confirm(o, __("ID_SPARTA_FILTER_EXISTS")).then(function() {
O["default"].updateSavedFilter(e.props.gameId, r, e.state.filter);
});
} else O["default"].saveFilter(e.props.gameId, e.state.filter, t), e.props.switchTab && e.props.switchTab(1);
});
}, t.prototype.updateServerCount = function R() {
var e = {
id: "filterCount",
game: this.props.gameId,
signalFilterJson: JSON.stringify(re.formatFilter(this.state.filter))
};
this.state.protocolVersion && (e.protocolVersion = this.state.protocolVersion), 
O["default"].setServerCounts({
filterCount: null
}), O["default"].fetchServerCounts([ e ]);
}, t.prototype.gotoServerBrowserAction = function x() {
var e = U.gameStore.getGame(this.props.gameId).serverListRoute, t = U.locationStore.isPreviousLocationPath(e);
t ? A["default"].goBackInHistory() : A["default"].gotoLocation(e);
}, t.prototype.render = function N() {
var e = this, t = this.props, n = t.filterLayout, r = t.gameId, a = t.filterIcons, i = this.state, s = i.filter, l = i.filterOptions, u = this.getCategoryItems(n, s, l), c = d["default"].find(this.props.filterLayout, function(t) {
return t.id === e.categoryId;
}), f = W["default"].getHeight(9 * this.buttons.length);
return {
$$typeof: p,
type: W["default"].Row,
key: null,
ref: null,
props: o(W["default"].Row.defaultProps, {
children: [ {
$$typeof: p,
type: W["default"].Col,
key: null,
ref: null,
props: o(W["default"].Col.defaultProps, {
children: [ {
$$typeof: p,
type: J.Scroller,
key: null,
ref: null,
props: o(J.Scroller.defaultProps, {
children: y["default"].createElement(Y["default"], {
divider: "item",
items: u,
ref: "categoryList",
onItemDidFocus: this.onCategoryItemFocused.bind(this),
autoActivateItems: m.focus.system.controllerMode,
showActiveIndicator: !0
}),
style: {
height: de - f,
marginBottom: W["default"].getHeight(2)
},
controller: !1
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.buttons,
style: ye.buttonContainer
},
_owner: null
} ],
width: 6,
style: {
height: de
}
}),
_owner: null
}, {
$$typeof: p,
type: W["default"].Col,
key: null,
ref: null,
props: o(W["default"].Col.defaultProps, {
children: y["default"].createElement(Z["default"], {
ref: "filterCategory",
gameId: r,
config: c,
state: s,
options: l,
icons: a,
onBlur: function() {
return e.onFilterItemSelected(null);
},
onFilterItemSelected: this.onFilterItemSelected.bind(this)
})
}),
_owner: null
}, {
$$typeof: p,
type: W["default"].Col,
key: null,
ref: null,
props: o(W["default"].Col.defaultProps, {
children: y["default"].createElement(le["default"], {
ref: "itemInfo",
icons: this.props.icons,
expansions: this.expansionIcons
})
}),
_owner: null
} ]
}),
_owner: null
};
};
var n = t;
return t = s("_$ServerFilterView")(t) || t, t = S["default"]()(t) || t, t = v["default"]()(t) || t, 
t = $["default"]()(t) || t, t = T.observer(t) || t;
}(y["default"].Component);
ge.propTypes = {
supportsRentServer: y["default"].PropTypes.bool,
filterIcons: y["default"].PropTypes.object,
filterLayout: y["default"].PropTypes.array,
gameId: y["default"].PropTypes.string
}, ge.defaultProps = {
supportsRentServer: !1
}, t["default"] = ge, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return le(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(845), g = l(y), m = n(3), b = r(m), v = n(6), _ = l(v), S = n(10), T = n(5), w = l(T), E = n(13), I = l(E), C = n(12), A = l(C), P = n(20), O = l(P), R = n(35), k = l(R), x = n(36), M = l(x), N = n(67), D = l(N), U = n(8), L = n(23), $ = l(L), G = n(7), F = (n(222), 
n(17)), B = l(F), j = n(33), H = n(14), V = l(H), z = n(28), W = l(z), q = n(64), K = l(q), X = n(292), Y = n(223), J = n(478), Q = l(J), Z = n(16), ee = n(46), te = l(ee), ne = n(11), re = n(108), oe = n(53), ae = l(oe), ie = n(126), se = {
_$SortHeading: {
displayName: "SortHeading"
},
_$ServerList: {
displayName: "ServerList"
}
}, le = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerList.jsx",
components: se,
locals: [],
imports: []
}), ue = ne.bbUrl("/sparta/assets/ui/icons/ui/down-1c405104.png"), ce = ne.bbUrl("/sparta/assets/ui/icons/ui/up-45fe9908.png"), pe = {
navListDivider: {
height: 8,
marginTop: -4,
marginBottom: -3,
textureMode: "none",
textureScale: [ 8096, 1 ],
texture: ne.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png"),
opacity: .1
},
sortIndicator: {
marginLeft: _["default"].GUTTER,
width: _["default"].getHeight(1.5),
height: _["default"].getHeight(1.5),
textureMode: "contain",
marginTop: _["default"].getHeight(.25)
},
sortIndicatorDesc: {
texture: ue
},
sortIndicatorAsc: {
texture: ce
},
nameSpan: {
flex: 1,
flexDirection: "row"
},
slotsSpan: {
width: Q["default"].slots,
flexDirection: "row"
},
pingSpan: {
width: Q["default"].ping,
flexDirection: "row"
},
actionsSpan: {
width: Q["default"].actions,
flexDirection: "row"
},
loadingOverlay: {
position: "absolute",
zOffset: 3,
top: 0,
left: 0,
width: B["default"].content.width,
height: B["default"].content.height,
flexDirection: "row",
justifyContent: "center",
alignItems: "center",
enableMouseEvents: !1
}
}, fe = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.focusItem = m.focus.create(this, "sortheading-" + t.label), 
this.focusItem.setActive("ef12675a:102", SpartaGlobals.bundleIsPC), this.focusItem.setClickInput(new I["default"]({
key: A["default"].Accept,
label: t.label,
action: function o() {
r.setSortKey(r.props.sortKey);
}
}));
}
i(t, e), t.prototype.getSortIndicatorStyle = function r(e) {
return this.props.sortBy && e === this.props.sortBy.key && "none" !== this.props.sortBy.direction ? this.props.sortBy.direction === X.SortDirection.ASC ? [ pe.sortIndicator, pe.sortIndicatorAsc ] : [ pe.sortIndicator, pe.sortIndicatorDesc ] : [ pe.sortIndicator ];
}, t.prototype.setSortKey = function l(e) {
$["default"].setSort(e);
}, t.prototype.render = function u() {
var e = this.props, t = e.sortKey, n = e.label, r = this.focusItem.isFocused || t === this.props.sortBy.key, a = f({
flexDirection: "row",
opacity: r ? 1 : .7
}, this.props.style), i = SpartaGlobals.bundleIsPC ? {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: this.getSortIndicatorStyle(t)
},
_owner: null
} : null;
return h["default"].createElement("surface", f({
style: a
}, this.focusItem.hooks), {
$$typeof: p,
type: G.Text,
key: null,
ref: null,
props: o(G.Text.defaultProps, {
value: n.toUpperCase(),
size: "S"
}),
_owner: null
}, i);
};
var n = t;
return t = s("_$SortHeading")(t) || t, t = S.observer(t) || t;
}(h["default"].Component), de = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusAncestor = b.focus.createAncestor("serverlist"), 
this.contentTween = Z.Animation.tween("ef12675a:158", 0, {
duration: Z.Animation.defaultTweenOptions.duration / 4
}), this.loadingTween = Z.Animation.tween("ef12675a:159", 1, {
duration: Z.Animation.defaultTweenOptions.duration / 4
}), this.fadingContentStyle = {
opacity: this.contentTween.getStyle()
}, this.loadingDone = !1;
}
i(t, e), t.prototype.componentWillMount = function r() {
var e = this;
this.focusAncestor.onInputFocusChanged.listen(function() {
return e.updateInput();
});
}, t.prototype.componentWillUnmount = function l() {
this.focusAncestor.destroy(), this.contentTween.destroy(), this.loadingTween.destroy();
}, t.prototype.getInput = function u() {
return !this.state.isGameViewVisible && this.props.servers && this.props.servers.length > 0 ? new I["default"]({
label: this.props.sortBy.key === X.SortKeys.NONE ? __("ID_SPARTA_ACTION_SORT") : __("ID_SPARTA_ACTION_SORTBY") + this.props.sortBy.getLabel(),
action: this.updateSorting.bind(this),
key: A["default"].Option3
}) : void 0;
}, t.prototype.doneLoading = function c() {
this.loadingDone || (this.loadingDone = !0, this.loadingTween._isDestroyed || (this.loadingTween.to(0), 
this.contentTween.to(1)), this.refs.scroller && this.refs.scroller.scrollTo(0, 0));
}, t.prototype.updateSorting = function d() {
$["default"].cycleSort(), this.updateInput();
}, t.prototype.startLoading = function y() {
var e = this;
this.loadingDone = !1, this.contentTween.to(0, void 0, function() {
e.loadingDone || e.loadingTween.to(1);
});
}, t.prototype.renderItems = function m() {
var e = this, t = this.props.sortBy, n = t.key, r = t.direction, o = this.props.sortBy ? Y.sortServers(this.props.servers, n, r) : this.props.servers, a = this.state.ugcAccess.level === re.UGCAccessLevel.Everyone, i = U.gameStore.getGame(this.props.gameId).supportedRoles;
return o.map(function(t, n) {
var r = t.pingSiteAlias && e.props.pingSites ? e.props.pingSites[t.pingSiteAlias] : null, o = w["default"].filter(t.expansions, function(n) {
return "DEFAULT" !== n.name && !e.state.gameEntitlements.hasExpansionAccess(t.game, n.name);
}), s = 0 === o.length;
return {
$$typeof: p,
type: "surface",
key: "server" + n,
ref: null,
props: {
children: [ h["default"].createElement(g["default"], {
ref: "server" + n,
roles: i,
canJoin: s,
server: t,
disabled: !e.state.gameState.isServerJoiningAllowed(t.gameId),
pingSite: r,
hasUGCAccess: a,
gameData: e.props.gameData,
onSelect: function(e) {
k["default"].joinServer(ie.createJoinOptions(t, e));
}
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: pe.navListDivider
},
_owner: null
} ],
style: {
localBounds: !1
}
},
_owner: null
};
});
}, t.prototype.renderHeader = function v() {
return {
$$typeof: p,
type: _["default"].Row,
key: null,
ref: null,
props: o(_["default"].Row.defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: fe,
key: null,
ref: null,
props: o(fe.defaultProps, {
sortKey: X.SortKeys.NAME,
label: __("ID_SPARTA_SERVER_SORT_NAME"),
sortBy: this.props.sortBy
}),
_owner: null
},
style: pe.nameSpan
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: fe,
key: null,
ref: null,
props: o(fe.defaultProps, {
sortKey: X.SortKeys.PLAYERS,
label: __("ID_SPARTA_SERVER_SORT_PLAYERS"),
sortBy: this.props.sortBy
}),
_owner: null
},
style: pe.slotsSpan
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: fe,
key: null,
ref: null,
props: o(fe.defaultProps, {
sortKey: X.SortKeys.PING,
label: __("ID_SPARTA_SERVER_SORT_PING"),
sortBy: this.props.sortBy
}),
_owner: null
},
style: pe.pingSpan
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: pe.actionsSpan
},
_owner: null
} ],
style: {
zOffset: 1
}
}),
_owner: null
};
}, t.prototype.renderServerItems = function T() {
var e = this.renderItems();
return this.props.bannerItem && e.push(this.props.bannerItem), h["default"].createElement(j.Scroller, {
style: f({}, this.fadingContentStyle, {
height: B["default"].content.height - _["default"].getHeight(10)
}),
ref: "scroller",
controller: !1,
tween: !1,
softClip: [ 0, _["default"].getHeight(1), 0, _["default"].getHeight(3) ]
}, e);
}, t.prototype.renderLoadingOverlay = function E() {
return {
$$typeof: p,
type: "surface",
key: "loading",
ref: null,
props: {
children: h["default"].createElement(te["default"], {
ref: "indicator",
autoRun: !0,
size: 50
}),
style: [ pe.loadingOverlay, {
opacity: this.loadingTween.getStyle()
} ]
},
_owner: null
};
}, t.prototype.renderContent = function C() {
return this.props.error ? h["default"].createElement(K["default"], f({
key: "errorState",
style: f({}, this.fadingContentStyle, pe.loadingOverlay, {
flexDirection: "column"
})
}, this.props.errorState)) : null == this.props.servers ? {
$$typeof: p,
type: "surface",
key: "unknown",
ref: null,
props: {},
_owner: null
} : this.props.servers.length > 0 ? {
$$typeof: p,
type: "surface",
key: "items",
ref: null,
props: {
children: [ this.renderHeader(), this.renderServerItems() ],
style: {
flexDirection: "column"
}
},
_owner: null
} : h["default"].createElement(K["default"], f({
key: "emptyState",
style: f({}, this.fadingContentStyle, pe.loadingOverlay, {
flexDirection: "column"
})
}, this.props.emptyState));
}, t.prototype.render = function P() {
var e = SpartaGlobals.bundleIsPC ? 2 * _["default"].GUTTER : 0;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderLoadingOverlay(), this.renderContent() ],
style: {
flex: 1,
paddingRight: e
}
},
_owner: null
};
};
var n = t;
return t = s("_$ServerList")(t) || t, t = V["default"]({
gameState: M["default"],
ugcAccess: re.UGCAccessStore,
isGameViewVisible: W["default"](ae["default"], "isVisible"),
gameEntitlements: D["default"]
})(t) || t, t = O["default"]()(t) || t, t = S.observer(t) || t;
}(h["default"].Component);
t["default"] = de, de.propTypes = {
gameId: h["default"].PropTypes.string.isRequired,
showFilters: h["default"].PropTypes.bool,
roles: h["default"].PropTypes.arrayOf(h["default"].PropTypes.string),
errorState: h["default"].PropTypes.object.isRequired,
emptyState: h["default"].PropTypes.object.isRequired
}, de.defaultProps = {
showFilters: !1
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(6), a = r(o), i = {
name: null,
slots: a["default"].getWidth(2.6),
ping: a["default"].getWidth(1.2),
actions: a["default"].getWidth(2.6)
}, s = {
name: null,
slots: a["default"].getWidth(3.9),
ping: a["default"].getWidth(3)
};
t["default"] = SpartaGlobals.bundleIsPC ? i : s, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function r(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function o(e) {
return function(t) {
return k(t, e);
};
}
function a(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var i = n(4), s = a(i);
t.__esModule = !0;
var l = n(1), u = a(l), c = n(477), p = a(c), f = n(14), d = a(f), h = n(28), y = a(h), g = n(434), m = a(g), b = n(291), v = a(b), _ = n(289), S = a(_), T = n(436), w = a(T), E = n(118), I = a(E), C = n(23), A = a(C), P = n(91), O = a(P), R = {
_$FavoriteServers: {
displayName: "FavoriteServers"
},
_$RecentServers: {
displayName: "RecentServers"
},
_$RentedServers: {
displayName: "RentedServers"
}
}, k = s["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerLists.jsx",
components: R,
locals: [],
imports: []
}), x = function(t) {
function n(n) {
e(this, a), t.call(this, n), this.emptyState = {
text: __("ID_SPARTA_SERVER_FAVORITE_EMPTY_TEXT"),
subText: __("ID_SPARTA_SERVER_FAVORITE_EMPTY_SUBTEXT")
}, this.errorState = {
text: __("ID_SPARTA_SERVER_FAVORITE_ERROR_TEXT"),
subText: __("ID_SPARTA_SERVER_FAVORITE_ERROR_SUBTEXT")
};
}
r(n, t), n.prototype.componentWillMount = function i() {
var e = this;
this.subscribeToStores({
servers: y["default"](m["default"], this.props.gameId, "data"),
error: y["default"](m["default"], this.props.gameId, "error"),
sort: w["default"]
}), m["default"].listen(function() {
return e.doneLoading();
}), A["default"].refreshBookmarks({
game: this.props.gameId
});
}, n.prototype.componentDidMount = function s() {
this.startLoading();
}, n.prototype.startLoading = function l() {
this.refs.list && this.refs.list.startLoading();
}, n.prototype.doneLoading = function c() {
this.refs.list && this.refs.list.doneLoading();
}, n.prototype.refreshOnReturn = function f() {
A["default"].refreshBookmarks({
game: this.props.gameId
});
}, n.prototype.render = function h() {
var e = this.state, t = e.servers, n = e.sort, r = e.error, o = this.props, a = o.gameId, i = o.gameData;
return u["default"].createElement(p["default"], {
ref: "list",
key: "favorite",
servers: t,
error: r,
sortBy: n.current,
emptyState: this.emptyState,
errorState: this.errorState,
pingSites: this.props.pingSites,
gameId: a,
gameData: i
});
};
var a = n;
return n = o("_$FavoriteServers")(n) || n, n = I["default"]({
refreshOnReturn: O["default"].onMultiplayerServerDisconnection
})(n) || n, n = d["default"]()(n) || n;
}(u["default"].Component);
t.FavoriteServers = x;
var M = function(t) {
function n(n) {
e(this, a), t.call(this, n), this.emptyState = {
text: __("ID_SPARTA_SERVER_RECENT_EMPTY_TEXT"),
subText: __("ID_SPARTA_SERVER_RECENT_EMPTY_SUBTEXT")
}, this.errorState = {
text: __("ID_SPARTA_SERVER_RECENT_ERROR_TEXT"),
subText: __("ID_SPARTA_SERVER_RECENT_ERROR_SUBTEXT")
};
}
r(n, t), n.prototype.componentWillMount = function i() {
var e = this;
this.subscribeToStores({
servers: y["default"](v["default"], this.props.gameId, "data"),
error: y["default"](v["default"], this.props.gameId, "error"),
sort: w["default"]
}), v["default"].listen(function() {
return e.doneLoading();
}), A["default"].refreshHistory({
game: this.props.gameId
});
}, n.prototype.componentDidMount = function s() {
w["default"].reset(), this.startLoading();
}, n.prototype.startLoading = function l() {
this.refs.list && this.refs.list.startLoading();
}, n.prototype.doneLoading = function c() {
this.refs.list && this.refs.list.doneLoading();
}, n.prototype.refreshOnReturn = function f() {
A["default"].refreshHistory({
game: this.props.gameId
});
}, n.prototype.render = function h() {
var e = this.state, t = e.servers, n = e.sort, r = e.error, o = this.props, a = o.gameId, i = o.gameData;
return u["default"].createElement(p["default"], {
ref: "list",
key: "recent",
servers: t,
error: r,
sortBy: n.current,
emptyState: this.emptyState,
errorState: this.errorState,
pingSites: this.props.pingSites,
gameId: a,
gameData: i
});
};
var a = n;
return n = o("_$RecentServers")(n) || n, n = I["default"]({
refreshOnReturn: O["default"].onMultiplayerServerDisconnection
})(n) || n, n = d["default"]()(n) || n;
}(u["default"].Component);
t.RecentServers = M;
var N = function(t) {
function n(n) {
e(this, a), t.call(this, n), this.emptyState = {
text: __("ID_SPARTA_SERVER_RENTED_EMPTY_TEXT"),
subText: __("ID_SPARTA_SERVER_RENTED_EMPTY_SUBTEXT")
}, this.errorState = {
text: __("ID_SPARTA_SERVER_RENTED_ERROR_TEXT"),
subText: __("ID_SPARTA_SERVER_RENTED_ERROR_SUBTEXT")
};
}
r(n, t), n.prototype.componentWillMount = function i() {
var e = this;
this.subscribeToStores({
servers: y["default"](S["default"], this.props.gameId, "data"),
error: y["default"](S["default"], this.props.gameId, "error"),
sort: w["default"]
}), S["default"].listen(function() {
return e.doneLoading();
}), A["default"].refreshRentedServers(this.props.gameId);
}, n.prototype.componentDidMount = function s() {
this.startLoading();
}, n.prototype.startLoading = function l() {
this.refs.list && this.refs.list.startLoading();
}, n.prototype.doneLoading = function c() {
this.refs.list && this.refs.list.doneLoading();
}, n.prototype.refreshOnReturn = function f() {
A["default"].refreshRentedServers(this.props.gameId);
}, n.prototype.render = function h() {
var e = this.state, t = e.servers, n = e.sort, r = e.error, o = this.props, a = o.gameId, i = o.gameData;
return u["default"].createElement(p["default"], {
ref: "list",
key: "rented",
servers: t,
error: r,
sortBy: n.current,
emptyState: this.emptyState,
errorState: this.errorState,
pingSites: this.props.pingSites,
gameId: a,
gameData: i
});
};
var a = n;
return n = o("_$RentedServers")(n) || n, n = I["default"]({
refreshOnReturn: O["default"].onMultiplayerServerDisconnection
})(n) || n, n = d["default"]()(n) || n;
}(u["default"].Component);
t.RentedServers = N;
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(7), y = n(6), g = s(y), m = n(20), b = s(m), v = n(13), _ = s(v), S = n(12), T = s(S), w = n(191), E = s(w), I = n(3), C = n(10), A = {
_$TabMenu: {
displayName: "TabMenu"
},
_$TabMenuItem: {
displayName: "TabMenuItem"
}
}, P = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/TabMenu.jsx",
components: A,
locals: [],
imports: []
}), O = {
tabMenu: {
flexDirection: "row",
alignSelf: "center"
},
tab: {
marginRight: 2 * g["default"].GUTTER
}
}, R = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getInput = function s() {
return [ new _["default"]({
visible: !1,
action: this.gotoOffset.bind(this, 1),
key: T["default"].Next
}), new _["default"]({
visible: !1,
action: this.gotoOffset.bind(this, -1),
key: T["default"].Previous
}) ];
}, t.prototype.gotoOffset = function l(e) {
var t = Math.min(Math.max(0, this.props.activeTabIndex + e), this.props.tabs.length - 1);
this.props.onTabSelect(t);
}, t.prototype.rbIcon = function u() {
return E["default"].normal.Next ? {
texture: E["default"].normal.Next,
height: 3 * g["default"].CELL_HEIGHT,
width: 3 * g["default"].CELL_HEIGHT,
marginTop: 1
} : void 0;
}, t.prototype.lbIcon = function c() {
return E["default"].normal.Previous ? {
texture: E["default"].normal.Previous,
height: 3 * g["default"].CELL_HEIGHT,
width: 3 * g["default"].CELL_HEIGHT,
marginRight: 2 * g["default"].GUTTER,
marginTop: 1
} : void 0;
}, t.prototype.renderTabs = function f() {
var e = this;
return this.props.tabs.map(function(t, n) {
var o = "function" == typeof t.title ? t.title() : t.title;
return {
$$typeof: p,
type: k,
key: null,
ref: null,
props: r(k.defaultProps, {
value: o.toUpperCase(),
isActive: n === e.props.activeTabIndex,
onClick: e.props.onTabSelect.bind(e, n)
}),
_owner: null
};
});
}, t.prototype.render = function d() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.props.tabs.length > 1 ? {
$$typeof: p,
type: "surface",
key: "lb",
ref: null,
props: {
style: I.focus.system.controllerMode ? this.lbIcon() : {}
},
_owner: null
} : null, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderTabs(),
style: O.tabMenu
},
_owner: null
}, this.props.tabs.length > 1 ? {
$$typeof: p,
type: "surface",
key: "rb",
ref: null,
props: {
style: I.focus.system.controllerMode ? this.rbIcon() : {}
},
_owner: null
} : null ],
style: [ O.tabMenu, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = i("_$TabMenu")(t) || t, t = b["default"]()(t) || t, t = C.observer(t) || t;
}(d["default"].Component);
t["default"] = R;
var k = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = I.focus.create(this, "tabmenuitem_" + t.value), 
this.focusItem.setActive("e1af6d6c:93", SpartaGlobals.bundleIsPC), this.focusItem.setClickInput(new _["default"]({
action: function a() {
return r.onClick();
},
label: t.value,
key: T["default"].Accept
}));
}
a(t, e), t.prototype.onClick = function s() {
this.props.onClick && this.props.onClick();
}, t.prototype.render = function l() {
var e = this, t = this.props, n = t.value, o = t.isActive, a = .66;
this.focusItem.isFocused ? a = .9 : o && (a = 1);
var i = c({}, O.tab, {
opacity: a
});
return d["default"].createElement("surface", this.focusItem.hooks, {
$$typeof: p,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: n,
type: o ? "emphasis" : "normal",
size: "S",
onClick: function() {
return e.onClick();
},
style: i
}),
_owner: null
});
};
var n = t;
return t = i("_$TabMenuItem")(t) || t, t = b["default"]()(t) || t, t = C.observer(t) || t;
}(d["default"].Component);
e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return w(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), f = i(p), d = n(10), h = n(8), y = n(132), g = i(y), m = n(16), b = n(317), v = i(b), _ = n(6), S = i(_), T = {
_$InputButtons: {
displayName: "InputButtons"
}
}, w = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/buttons/InputButtons.jsx",
components: T,
locals: [],
imports: []
}), E = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.opacityTween = m.Animation.tween("a01bae1e:18", 1);
}
o(t, e), t.prototype.componentWillMount = function i() {
this.unsubscribe = g["default"].trigger.listen(this.onTrigger.bind(this));
}, t.prototype.shouldComponentUpdate = function s(e, t) {
return this.props.shouldUpdate;
}, t.prototype.componentDidUpdate = function l(e, t) {
var n = this;
this.props.visibleMenu && this.opacityTween.to(0, {
duration: 150
}, function() {
n.opacityTween.to(1, {
duration: 400
});
});
}, t.prototype.onTrigger = function p(e) {
var t = this.refs[e.key.id];
t && t.pulsate();
}, t.prototype.render = function y() {
var e = this, t = c({
zOffset: 10,
marginRight: 2 * S["default"].GUTTER
}, this.props.style), n = h.inputStore.appearanceInputs.map(function(n) {
return f["default"].createElement(v["default"], {
key: n.key.id,
ref: n.key.id,
inputKey: n.key,
style: t,
iconSize: e.props.iconSize,
inverted: e.props.inverted,
label: n.label,
labelStyle: e.props.labelStyle,
labelProps: e.props.labelProps,
labelType: e.props.labelType,
labelDecoration: e.props.labelDecoration,
styleSheetOverride: e.props.styleSheetOverride
});
});
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: n,
"static": !0,
style: {
flexDirection: "row",
flexWrap: "wrap",
opacity: this.opacityTween.getStyle()
}
},
_owner: null
};
};
var n = t;
return t = a("_$InputButtons")(t) || t, t = d.observer(t) || t;
}(f["default"].Component);
t["default"] = E, E.defaultProps = {
shouldUpdate: !0
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t, n) {
var r = this, o = arguments.length <= 3 || void 0 === arguments[3] ? null : arguments[3], a = arguments.length <= 4 || void 0 === arguments[4] ? 0 : arguments[4];
return "string" == typeof e && (e = u.video.loadVideo(e)), this.currentTrack = c.backgroundMusicStore.currentTrackId, 
g["default"].stopTrack(this.currentTrack), h["default"].disableVideo(), e.stop(), 
e.loop = !1, e.setVolume(0), e.play(), new Promise(function(i, l) {
var p = s["default"].createElement(v["default"], {
heading: t,
author: n,
video: e,
onClose: i,
timeout: a,
label: o
}), d = [];
f["default"].display({
id: "fullScreenVideo",
fullScreen: !0,
backgroundColor: "#000000",
createButtons: !1,
content: p,
inputs: d
}), r.unsubVideoStartedPlaying = u.events.onVideoStartPlaying.listen(function(t) {
t === e.id && (e.setVolume(1), e.play(), r.unsubVideoStartedPlaying());
});
var h = function y(e) {
f["default"].close("fullScreenVideo"), i();
};
r.unsubVideoStopped = u.events.onVideoStopped.listen(function(t) {
t === e.id && h();
}), r.disposeOnlineState = m.when(function() {
return !c.onlineState.isOnlineBlazeAndGateway;
}, function() {
return h();
});
}).then(function() {
r.unsubVideoStopped(), r.disposeOnlineState(), e.setVolume(0), e.stop(), h["default"].enableVideo(), 
g["default"].playTrack(r.currentTrack);
});
}
t.__esModule = !0, t.showFullscreenVideo = a;
var i = n(1), s = o(i), l = n(3), u = r(l), c = n(8), p = n(25), f = o(p), d = n(293), h = o(d), y = n(179), g = o(y), m = n(9), b = n(832), v = o(b);
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return M(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), d = n(5), h = s(d), y = n(1), g = s(y), m = n(27), b = s(m), v = n(6), _ = s(v), S = n(480), T = s(S), w = n(88), E = n(138), I = s(E), C = n(17), A = s(C), P = n(16), O = n(18), R = s(O), k = n(144), x = {
_$TabbedTemplate: {
displayName: "TabbedTemplate"
}
}, M = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/templates/TabbedTemplate.jsx",
components: x,
locals: [],
imports: []
}), N = {
header: {
flex: 1,
flexDirection: "row",
justifyContent: "space-between"
},
contentHeader: {
flexDirection: "row",
alignSelf: "center",
height: _["default"].getHeight(2.4)
}
}, D = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
activeTabIndex: 0,
previousTabIndex: 0
};
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this, t = this.state.activeTabIndex;
if (this.location && this.location.args && this.location.args.tab) {
var n = h["default"].find(this.props.tabs, function(t) {
return t.name === e.location.args.tab;
});
n && (t = this.props.tabs.indexOf(n), this.setState({
activeTabIndex: t
}));
}
this.handleTabSelected(t, !1);
}, t.prototype.handleTabSelected = function l(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1], n = this.props.tabs[e];
this.setState({
previousTabIndex: this.state.activeTabIndex,
activeTabIndex: e
});
var r = this.location;
t && r && (0 === e && this.location.path ? r = new w.Location(this.location.path) : this.location.args && this.location.args.tab !== n.name && (r = new w.Location(this.location.path + "?tab=" + n.name)), 
R["default"].updateLocation(r)), n.onSelect && n.onSelect();
}, t.prototype.renderHeader = function u() {
var e = null;
if (this.props.header) e = this.props.header; else {
var t = this.props.tabs[this.state.activeTabIndex];
t.renderHeader && (e = t.renderHeader());
}
var n = p({}, N.contentHeader, {
opacity: P.Animation.tweenSwitch(0, 1, e)
});
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
tabs: this.props.tabs,
activeTabIndex: this.state.activeTabIndex,
onTabSelect: this.handleTabSelected.bind(this)
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: n
},
_owner: null
} ],
style: N.header
},
_owner: null
};
}, t.prototype.renderTab = function d(e) {
return e.render ? e.render() : g["default"].createElement(e.component, h["default"].extend({}, e.props, {
key: e.name
}));
}, t.prototype.renderContent = function y() {
var e = this.props.tabs[this.state.activeTabIndex], t = A["default"].content.width, n = this.state.activeTabIndex > this.state.previousTabIndex, o = [ {
propertyName: "translateX",
fromValue: n ? t : -t,
toValue: 0
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1
} ], a = [ {
propertyName: "translateX",
fromValue: 0,
toValue: n ? -t : t
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0
} ];
return {
$$typeof: c,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {
children: this.renderTab(e),
inTweens: o,
outTweens: a,
playInOnMount: !1,
transitionId: e.name,
style: {
width: t,
marginTop: this.props.topGutter ? _["default"].GUTTER : 0
}
}),
_owner: null
};
}, t.prototype.render = function m() {
return g["default"].createElement(b["default"], {
ref: "template",
tallContent: !0,
scrollContent: this.props.scrollContent,
header: this.renderHeader(),
showDivider: this.props.showDivider
}, this.renderContent());
}, f(t, [ {
key: "location",
get: function v() {
return this.context.viewComponentState && this.context.viewComponentState.aggregate && this.context.viewComponentState.aggregate.location;
}
} ]);
var n = t;
return t = i("_$TabbedTemplate")(t) || t;
}(g["default"].Component);
t["default"] = D, D.propTypes = {
tabs: g["default"].PropTypes.arrayOf(g["default"].PropTypes.shape({
name: g["default"].PropTypes.string.isRequired,
title: g["default"].PropTypes.any.isRequired,
component: g["default"].PropTypes.element,
props: g["default"].PropTypes.object,
onSelect: g["default"].PropTypes.func
})),
header: g["default"].PropTypes.element,
showDivider: g["default"].PropTypes.bool,
topGutter: g["default"].PropTypes.bool
}, D.contextTypes = {
viewComponentState: g["default"].PropTypes.instanceOf(k.ViewComponentState).isRequired
}, D.defaultProps = {
scrollContent: !1,
topGutter: !0
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), p = i(c), f = n(138), d = i(f), h = {
_$SimpleTweener: {
displayName: "SimpleTweener"
}
}, y = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/tweeners/SimpleTweener.jsx",
components: h,
locals: [],
imports: []
}), g = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = [], t = [];
return this.props.tweens.forEach(function(n) {
e.push({
propertyName: n.propertyName,
fromValue: n.outValue,
toValue: n.inValue,
options: n.inOptions
}), t.push({
propertyName: n.propertyName,
fromValue: n.inValue,
toValue: n.outValue,
options: n.outOptions
});
}), p["default"].createElement(d["default"], u({}, this.props, {
inTweens: e,
outTweens: t
}), this.props.children);
};
var n = t;
return t = a("_$SimpleTweener")(t) || t;
}(p["default"].Component);
t["default"] = g, g.propTypes = {
transitionId: p["default"].PropTypes.oneOfType([ p["default"].PropTypes.string, p["default"].PropTypes.number ]),
tweens: p["default"].PropTypes.arrayOf(p["default"].PropTypes.shape({
propertyName: p["default"].PropTypes.string.isRequired,
inValue: p["default"].PropTypes.number.isRequired,
inOptions: p["default"].PropTypes.object,
outValue: p["default"].PropTypes.number.isRequired,
outOptions: p["default"].PropTypes.object
}))
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = e, n = "";
return -1 !== e.indexOf("?") && !function() {
var r = e.split("?"), o = r[1].split("&") || [];
t = r[0];
var a = {};
l["default"].each(o, function(e) {
if (-1 !== e.indexOf("=")) {
var t = e.split("=");
a[t[0]] = t[1];
}
}), a.format = "jpg", a.w = "208", a.h = "208";
var i = [];
l["default"].each(a, function(e, t) {
i.push(t + "=" + e);
}), n = "?" + i.join("&");
}(), a(t + n);
}
function a(e) {
return 0 !== e.indexOf("http") ? "file://" + e : e;
}
function i(e) {
return e && "/origin/avatar/" !== e ? SpartaGlobals.bundleIsXBOXONE ? o(e) : a(e) : !1;
}
t.__esModule = !0, t["default"] = i;
var s = n(5), l = r(s);
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
for (var t in e.gameStats) {
var n = a.gameStore.getGame(t), r = e.gameStats[t];
n.mutateCareerStats && n.mutateCareerStats(r);
}
}
var o = n(9), a = n(8), i = n(376), s = n(21), l = n(50).gatewayClient, u = n(43), c = n(322), p = s.createClient({
requestOn: [ l.onSessionEstablished, u.refreshCareer ],
listener: function f() {
return [ i.careerFetchingState.games ];
},
shouldPerformRequest: function d() {
return a.onlineState.hasGatewaySession;
},
request: function h(e) {
return l.request("Stats.getCareer", {
games: e
});
},
parse: function y(e) {
return r(e), new c(e);
},
update: function g(e) {
this.publish(e);
}
});
o.observe(i.careerFetchingState.games, function() {
p.trigger();
}), e.exports = p;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(8), a = n(19), i = r(a), s = n(21), l = n(50).gatewayClient, u = n(43), c = s.createClient({
requestOn: [ l.onSessionEstablished ],
shouldPerformRequest: function p() {
var e = i["default"].getHostingGame();
return o.onlineState.isPresenceReady && e && e.invalidateStats;
},
request: function f() {
var e = i["default"].getHostingGame();
return l.request("Progression.invalidateStatsAndLicenses", {
game: e.gameId
});
},
parse: function d(e) {
return e;
},
update: function h() {
u.refreshCareer();
}
});
e.exports = c;
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return j(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(48), y = l(h), g = n(7), m = n(121), b = n(18), v = l(b), _ = n(14), S = l(_), T = n(889), w = l(T), E = n(80), I = l(E), C = n(96), A = l(C), P = n(3), O = r(P), R = n(22), k = l(R), x = n(33), M = n(6), N = l(M), D = n(17), U = l(D), L = n(5), $ = l(L), G = n(37), F = n(8), B = {
_$WwceSupportArticleDetail: {
displayName: "WwceSupportArticleDetail"
},
_$ArticleImage: {
displayName: "ArticleImage"
}
}, j = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportArticleDetail.jsx",
components: B,
locals: [],
imports: []
}), H = {
articleContent: {
color: "#C7C7C7"
},
articleSummary: {
marginBottom: 32,
color: "#FFFFFF"
},
articleTitle: {
marginBottom: 38,
color: "#FFFFFF"
},
noContactUs: {
marginRight: 25 * N["default"].GUTTER,
width: 80 * N["default"].GUTTER,
color: "#FFFFFF"
},
helpfulnessText: {
marginTop: 2.5 * N["default"].GUTTER,
marginRight: 4.5 * N["default"].GUTTER
},
helpfulnessBtn: {
marginLeft: N["default"].GUTTER,
width: 13.5 * N["default"].GUTTER,
height: 7 * N["default"].GUTTER
},
bodyImage: {
height: N["default"].getHeight(45),
textureMode: "contain",
textureAlign: [ .5, .5 ],
marginBottom: 30,
marginTop: 30
},
bodyParagraph: {
textLineSpacing: Math.round(1.2 * G.LINE_HEIGHTS.S),
marginBottom: 20,
textAlign: "justify",
color: "#d3d3d3"
},
list: {
marginTop: 30,
marginBottom: 20
},
listItem: {
paddingLeft: 30,
marginBottom: 20
},
selectedBtnStyle: {
backgroundColor: "#585858",
color: "#ffffff"
},
contactUsBar: {
flexDirection: "row",
position: "absolute",
bottom: SpartaGlobals.bundleIsConsole ? 0 : N["default"].content.rowSpan(9),
left: 0
}
}, V = function(e) {
function t() {
a(this, n), e.call(this), this.focusAncestor = O.focus.createAncestor("wwceSupportArticleDetail"), 
I["default"].resetArticleDetailState(), this.state = {
articleDetail: null,
context: null,
disableBtn: !1,
isHelpful: null
};
}
i(t, e), t.prototype.componentDidMount = function r() {
I["default"].getArticleDetail(this.state.context.articleId), I["default"].updateLocation("ARTICLE_BODY");
}, t.prototype.getParsedContent = function l() {
if (this.state.articleDetail.parsedArticle) {
var e = this.state.articleDetail.parsedArticle, t = "", n = "", r = [], a = function i() {
"TEXT" === t && (r.push({
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: o(g.Text.defaultProps, {
size: "S",
style: H.bodyParagraph,
value: n
}),
_owner: null
}), n = "");
};
return $["default"].each(e, function(e) {
if ("image" === e.chunkType) a(), r.push({
$$typeof: p,
type: z,
key: null,
ref: null,
props: o(z.defaultProps, {
image: e.src
}),
_owner: null
}), t = "IMAGE"; else if ("paragraph" === e.chunkType) n += e.content.text, t = "TEXT"; else if ("bulletlist" === e.chunkType) !function() {
a();
var n = [];
$["default"].each(e.items, function(e) {
n.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: o(g.Text.defaultProps, {
size: "S",
value: "- " + e.text
}),
_owner: null
},
style: H.listItem
},
_owner: null
});
}), r.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: H.list
},
_owner: null
}), t = "LIST";
}(); else if ("orderedlist" === e.chunkType) {
var i;
!function() {
a();
var n = [];
i = 1, $["default"].each(e.items, function(e) {
n.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: o(g.Text.defaultProps, {
size: "S",
value: i + ". " + e.text
}),
_owner: null
},
style: H.listItem
},
_owner: null
}), i++;
}), r.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: H.list
},
_owner: null
}), t = "LIST";
}();
}
}), n && a(), r;
}
return this.state.articleDetail.article ? this.state.articleDetail.article.content : void 0;
}, t.prototype.saveArticleMetrics = function u(e) {
I["default"].saveArticleMetrics(this.state.context.articleId, e), this.setState({
disableBtn: !0,
isHelpful: e
});
}, t.prototype.handleNavigation = function c(e) {
if ("contactUs" === e) if (this.state.context.categories.length > 1) e = "wwcesupport/help/categoryselection"; else {
var t = this.state.context.categories.length > 0 ? this.state.context.categories[0].internalName : "default-category";
I["default"].updateSelectedCategory(t), e = "wwcesupport/help/channelselection";
}
"InGame" === this.state.context.source ? y["default"].route("playing/" + e) : v["default"].gotoLocation(e);
}, t.prototype.renderArticleContent = function f() {
if (this.state.articleDetail.article) {
var e = SpartaGlobals.bundleIsPC ? U["default"].content.height - N["default"].getHeight(40) : U["default"].content.height - N["default"].getHeight(30);
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: o(g.Text.defaultProps, {
value: this.state.articleDetail.article.title,
size: "L",
style: H.articleTitle
}),
_owner: null
}, {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: o(g.Text.defaultProps, {
value: this.state.articleDetail.article.summary,
size: "S",
style: H.articleSummary
}),
_owner: null
}, {
$$typeof: p,
type: x.Scroller,
key: null,
ref: null,
props: o(x.Scroller.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.getParsedContent(),
style: H.articleContent
},
_owner: null
},
style: {
height: e
},
controller: !0
}),
_owner: null
} ]
},
_owner: null
};
}
}, t.prototype.renderContent = function d() {
var e, t = this, n = "InGame" === this.state.context.source;
if (this.state.articleDetail.showContactUs && F.settingsStore.isFeatureEnabled("enableHelpContactUs")) {
var r = __("ID_SPARTA_HELP_CONTACT_US"), a = N["default"].GUTTER * (17.5 + 1.75 * r.length), i = N["default"].GUTTER * (105 - (17.5 + 1.75 * r.length)), s = {
contactUsBtn: {
marginRight: i,
width: a,
height: 7 * N["default"].GUTTER
}
};
e = a + i, e = {
$$typeof: p,
type: k["default"],
key: null,
ref: null,
props: o(k["default"].defaultProps, {
text: r,
style: s.contactUsBtn,
textSize: "M",
action: function() {
return t.handleNavigation("contactUs");
}
}),
_owner: null
};
} else {
var l, u;
n ? (l = __("ID_SPARTA_HELP_NO_CONTACT_US_BFONE"), u = "S") : (l = __("ID_SPARTA_HELP_NO_CONTACT_US_PC"), 
u = "M"), e = {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: o(g.Text.defaultProps, {
value: l,
size: u,
style: H.noContactUs
}),
_owner: null
};
}
var c = Object.assign({}, H.helpfulnessBtn, this.state.disableBtn && this.state.isHelpful ? H.selectedBtnStyle : null), f = Object.assign({}, H.helpfulnessBtn, this.state.disableBtn && !this.state.isHelpful ? H.selectedBtnStyle : null);
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderArticleContent(), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ e, {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: o(g.Text.defaultProps, {
size: "S",
value: __("ID_SPARTA_HELP_ARTICLE_HELPFULNESS"),
style: H.helpfulnessText
}),
_owner: null
}, {
$$typeof: p,
type: k["default"],
key: null,
ref: null,
props: o(k["default"].defaultProps, {
text: __("ID_SPARTA_HELP_ARTICLE_HELPFULNESS_YES"),
disabled: this.state.disableBtn,
style: c,
action: function() {
return t.saveArticleMetrics(!0);
}
}),
_owner: null
}, {
$$typeof: p,
type: k["default"],
key: null,
ref: null,
props: o(k["default"].defaultProps, {
text: __("ID_SPARTA_HELP_ARTICLE_HELPFULNESS_NO"),
disabled: this.state.disableBtn,
style: f,
action: function() {
return t.saveArticleMetrics(!1);
}
}),
_owner: null
} ],
style: H.contactUsBar
},
_owner: null
} ],
style: {
width: U["default"].content.width,
height: U["default"].content.height
}
},
_owner: null
};
}, t.prototype.render = function h() {
var e = this;
return {
$$typeof: p,
type: m.WwceSupportTemplate,
key: null,
ref: null,
props: o(m.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
loading: !this.state.articleDetail.article,
onBackClick: function() {
return e.handleNavigation("wwcesupport/help");
}
}),
_owner: null
};
};
var n = t;
return t = s("_$WwceSupportArticleDetail")(t) || t, t = S["default"]({
articleDetail: w["default"],
context: A["default"]
})(t) || t;
}(d["default"].Component);
t["default"] = V;
var z = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ H.bodyImage, {
texture: this.props.image
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$ArticleImage")(t) || t;
}(d["default"].Component);
e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ae(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(5), g = l(y), m = n(3), b = r(m), v = n(193), _ = l(v), S = n(121), T = n(96), w = l(T), E = n(14), I = l(E), C = n(48), A = l(C), P = n(7), O = n(160), R = l(O), k = n(18), x = l(k), M = n(17), N = l(M), D = n(22), U = l(D), L = n(80), $ = l(L), G = n(6), F = l(G), B = n(59), j = l(B), H = n(137), V = l(H), z = n(11), W = n(374), q = n(25), K = l(q), X = n(13), Y = l(X), J = n(20), Q = l(J), Z = n(12), ee = l(Z), te = n(883), ne = l(te), re = n(33), oe = {
_$WwceSupportCallBack: {
displayName: "WwceSupportCallBack"
}
}, ae = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportCallBack.jsx",
components: oe,
locals: [],
imports: []
}), ie = n(298).ArticlePopup, se = {
submitBtn: {
width: 35 * F["default"].GUTTER,
height: 7 * F["default"].GUTTER,
color: "#FFFFFF"
},
heading: {
color: "#FFFFFF",
marginTop: SpartaGlobals.bundleIsConsole ? 10 : 50
},
content: {
color: "#C7C7C7"
},
inputField: {
marginTop: 5.5 * F["default"].GUTTER
},
countryCode: {
width: 13.5 * F["default"].GUTTER,
height: 7 * F["default"].GUTTER,
alignItems: "center",
justifyContent: "center",
position: "relative",
flexDirection: "row",
left: F["default"].GUTTER,
top: 13
},
borderStyle: {
zOffset: 5,
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2,
texture: z.bbUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
width: 13.5 * F["default"].GUTTER,
height: 6.5 * F["default"].GUTTER
},
innerContainer: {
alignItems: "center",
justifyContent: "center"
},
countryCodeList: {
marginTop: 2 * F["default"].GUTTER,
width: 40 * F["default"].GUTTER
},
countryCodeListItem: {},
phoneNumber: {
marginLeft: F["default"].GUTTER,
width: 42 * F["default"].GUTTER,
height: 7 * F["default"].GUTTER
},
code: {
marginTop: 7 * F["default"].GUTTER,
color: "#FFFFFF"
},
privacy: {
marginTop: 10,
marginLeft: 40,
width: F["default"].content.colSpan(13),
color: "#FFFFFF"
},
submitFooter: {
flexDirection: "row",
position: "absolute",
bottom: SpartaGlobals.bundleIsConsole ? 0 : F["default"].content.rowSpan(10),
left: 0
}
}, le = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentWillMount = function r() {
this.setState({
disableBtn: !0
}), SpartaGlobals.bundleIsConsole && x["default"].setClientVideoRecordingEnabled(!1);
}, t.prototype.componentDidMount = function l() {
var e = null;
if (g["default"].isUndefined(this.state.contact) || g["default"].isUndefined(this.state.contact.countryCode) || null === this.state.contact.countryCode || (g["default"].each(this.state.contact.countryCodes, function(t) {
t.calling_code === this.state.contact.countryCode && (e = t);
}, this), null !== e && this.setCountryCode(e)), !g["default"].isUndefined(this.state.contact) && !g["default"].isUndefined(this.state.contact.phoneNumber) && null !== this.state.contact.phoneNumber) {
var t = this.state.contact.phoneNumber.toString();
if (null !== e) {
var n = this.validatePhoneNumber(t, e.min_digits, e.max_digits);
this.checkSubmitBtnStatus(e.calling_code, t, n);
} else this.phoneNumberChanged(t), this.checkSubmitBtnStatus("", t, !1);
}
SpartaGlobals.bundleIsPC && !g["default"].isUndefined(this.refs.phoneField) && this.refs.phoneField.activate(), 
p = this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection/channelselection" : "wwcesupport/help/channelselection", 
this.updateInput();
}, t.prototype.componentWillUnmount = function u() {
SpartaGlobals.bundleIsConsole && x["default"].setClientVideoRecordingEnabled(!0);
}, t.prototype.getInput = function c() {
var e = [];
return SpartaGlobals.bundleIsConsole && e.push(new Y["default"]({
label: __("ID_SPARTA_HELP_PRIVACY_TITLE"),
action: this.showPopupTerms,
key: ee["default"].Option1,
visible: !0
})), e;
}, t.prototype.phoneNumberChanged = function d(e) {
var t, n = /^[0-9]*$/;
e.match(n) && e.length >= this.state.minDigits && e.length <= this.state.maxDigits ? (t = !1, 
this.setState({
phoneNumber: e,
isInvalid: t
})) : (t = !0, this.setState({
isInvalid: t
})), this.checkSubmitBtnStatus(null, e, t);
}, t.prototype.validatePhoneNumber = function y(e, t, n) {
if (!g["default"].isUndefined(e) && null !== e) {
var r = /^[0-9]*$/;
return e.match(r) && e.length >= t && e.length <= n ? (this.setState({
phoneNumber: e,
isInvalid: !1
}), !1) : (this.setState({
isInvalid: !0
}), !0);
}
}, t.prototype.setCountryCode = function m(e) {
this.setState({
cCode: e.calling_code,
minDigits: e.min_digits,
maxDigits: e.max_digits
});
var t = this.validatePhoneNumber(this.refs.phoneField.state.value, e.min_digits, e.max_digits);
this.checkSubmitBtnStatus(null, null, t);
}, t.prototype.handleNavigation = function v(e) {
$["default"].updateContactDetails(this.state.cCode, this.state.phoneNumber), "InGame" === this.state.context.source ? A["default"].route("playing/" + e) : x["default"].gotoLocation(e);
}, t.prototype.checkSubmitBtnStatus = function T(e, t, n) {
var r, o = null === e || g["default"].isUndefined(e) ? this.state.cCode : e, a = null === t || g["default"].isUndefined(t) ? this.state.phoneNumber : t, i = null === n || g["default"].isUndefined(n) ? this.state.isInvalid : n;
r = "" !== o && "" !== a && i === !1 ? !1 : !0, this.setState({
disableBtn: r
});
}, t.prototype.showPopupTerms = function E() {
K["default"].display({
id: "policyPopup",
fullScreen: !0,
createButtons: !1,
content: {
$$typeof: f,
type: ie,
key: null,
ref: null,
props: o(ie.defaultProps, {
rawNewsContent: {
$$typeof: f,
type: ne["default"],
key: null,
ref: null,
props: o(ne["default"].defaultProps, {}),
_owner: null
},
popupId: "policyPopup"
}),
_owner: null
},
inputs: [ new Y["default"]({
label: "Back",
key: ee["default"].Decline
}) ]
});
}, t.prototype.renderContent = function C() {
var e, t = this, n = g["default"].map(this.state.contact.countryCodes, function(e, t) {
var n, r = this, a = e.iso_code || "default";
return n = W.flagIcons[a], n || (console.warn("Trying to get a flag that doesn't exist: " + a), 
n = z.bbUrl("/sparta/assets/ui/flags/default-870fef7b.png")), {
$$typeof: f,
type: V["default"],
key: null,
ref: null,
props: o(V["default"].defaultProps, {
icon: n,
iconSize: "L",
iconSpace: F["default"].GUTTER,
style: se.countryCodeListItem,
label: e.display_name + " +" + e.calling_code,
onTrigger: function() {
r.setCountryCode(e);
}
}),
_owner: null
};
}, this);
e = SpartaGlobals.bundleIsPC ? {
$$typeof: f,
type: P.Text,
key: null,
ref: null,
props: o(P.Text.defaultProps, {
value: __("ID_SPARTA_HELP_PRIVACY"),
size: "S",
style: se.privacy,
onClick: this.showPopupTerms
}),
_owner: null
} : {
$$typeof: f,
type: P.Text,
key: null,
ref: null,
props: o(P.Text.defaultProps, {
value: __("ID_SPARTA_HELP_PRIVACY"),
size: "S",
style: se.privacy
}),
_owner: null
};
var r = 0 === this.state.contact.phoneNumber ? "" : this.state.contact.phoneNumber.toString(), a = 4 * F["default"].getHeight(7);
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: P.Text,
key: null,
ref: null,
props: o(P.Text.defaultProps, {
value: __("ID_SPARTA_HELP_CALL_BACK_HEADING"),
size: "L",
style: se.heading
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(P.Text, {
ref: "codeField",
style: se.countryCode,
value: this.state.cCode
}),
style: se.innerContainer
},
_owner: null
},
style: se.borderStyle
},
_owner: null
}, h["default"].createElement(R["default"], {
ref: "phoneField",
type: "Numeric",
initialValue: r,
onValueChanged: function(e) {
return t.phoneNumberChanged(e);
},
isInvalid: this.state.isInvalid,
style: se.phoneNumber
}) ],
style: [ se.inputField, {
flexDirection: "row"
} ]
},
_owner: null
}, {
$$typeof: f,
type: P.Text,
key: null,
ref: null,
props: o(P.Text.defaultProps, {
value: __("ID_SPARTA_HELP_CALL_BACK_COUNTRY_CODE").toUpperCase(),
size: "S",
style: se.code
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: re.Scroller,
key: null,
ref: null,
props: o(re.Scroller.defaultProps, {
children: h["default"].createElement(j["default"], {
divider: "none",
items: n,
ref: "countryCodes",
autoActivateItems: b.focus.system.controllerMode,
showActiveIndicator: !0
}),
style: {
height: a
},
controller: !0
}),
_owner: null
},
style: se.countryCodeList
},
_owner: null
} ]
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: o(U["default"].defaultProps, {
text: __("ID_SPARTA_HELP_SUBMIT"),
textSize: "M",
disabled: this.state.disableBtn,
action: function() {
return t.handleNavigation(p + "/callbackconfirmation");
},
style: se.submitBtn
}),
_owner: null
}, e ],
style: se.submitFooter
},
_owner: null
} ],
style: {
width: N["default"].content.width,
height: N["default"].content.height
}
},
_owner: null
};
}, t.prototype.render = function O() {
var e = this;
return {
$$typeof: f,
type: S.WwceSupportTemplate,
key: null,
ref: null,
props: o(S.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
onBackClick: function() {
return e.handleNavigation(p);
}
}),
_owner: null
};
};
var n = t;
return t = s("_$WwceSupportCallBack")(t) || t, t = I["default"]({
contact: _["default"],
context: w["default"]
})(t) || t, t = Q["default"]()(t) || t;
}(h["default"].Component);
t["default"] = le, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return L(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(3), h = n(48), y = s(h), g = n(7), m = n(193), b = s(m), v = n(891), _ = s(v), S = n(96), T = s(S), w = n(14), E = s(w), I = n(121), C = n(22), A = s(C), P = n(80), O = s(P), R = n(18), k = s(R), x = n(5), M = s(x), N = n(6), D = s(N), U = {
_$WwceSupportCallBackConfirmation: {
displayName: "WwceSupportCallBackConfirmation"
}
}, L = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportCallBackConfirmation.jsx",
components: U,
locals: [],
imports: []
}), $ = {
closeBtn: {
marginTop: 8 * D["default"].GUTTER,
width: 35 * D["default"].GUTTER,
height: 7 * D["default"].GUTTER,
color: "#FFFFFF"
},
callUsContent: {
color: "#D7DADA",
marginTop: SpartaGlobals.bundleIsPC ? D["default"].GUTTER : 0
},
title: {
color: "#FFFFFF"
},
wrapper: {
flex: 1,
alignItems: "center",
justifyContent: "center",
height: 80 * D["default"].GUTTER
}
}, G = function(e) {
function t() {
o(this, n), e.call(this), O["default"].resetCaseDetailState();
}
a(t, e), t.prototype.componentDidMount = function s() {
O["default"].createCase(this.state.contact.email);
}, t.prototype.onCloseClick = function l() {
var e = "wwcesupport/help";
"InGame" === this.state.context.source ? y["default"].route("playing/" + e) : k["default"].gotoLocation(e);
}, t.prototype.renderContent = function u() {
var e = this, t = M["default"].isUndefined(this.state["case"].caseDetail) || M["default"].isUndefined(this.state["case"].caseDetail.waitTimeRange) ? null : __("ID_SPARTA_HELP_CALL_BACK_CONFIRMATION_MSG") + " " + this.state["case"].caseDetail.waitTimeRange, n = M["default"].isUndefined(this.state["case"].caseDetail) || M["default"].isUndefined(this.state["case"].caseDetail.caseNumber) ? null : __("ID_SPARTA_HELP_CALL_BACK_CONFIRMATION_CASE_NUMBER") + " " + this.state["case"].caseDetail.caseNumber;
M["default"].isUndefined(this.state["case"].message) || ("AEGIS-C2C-MESSAGE-01" === this.state["case"].messageCode ? t = __("ID_SPARTA_HELP_MESSAGE_C2C_01") : "AEGIS-CASE-DUPLICATE-01" === this.state["case"].messageCode ? t = __("ID_SPARTA_HELP_MESSAGE_CASE_DUPLICATE") : "AEGIS-C2C-MESSAGE-02" === this.state["case"].messageCode ? t = __("ID_SPARTA_HELP_MESSAGE_C2C_02") : "AEGIS-CHANNEL-MESSAGE-01" === this.state["case"].messageCode ? t = __("ID_SPARTA_HELP_MESSAGE_CHANNEL_01") : "AEGIS-CHANNEL-MESSAGE-02" === this.state["case"].messageCode && (t = __("ID_SPARTA_HELP_MESSAGE_CHANNEL_02")));
var o;
return null !== n && (o = {
$$typeof: c,
type: g.Text,
key: null,
ref: null,
props: r(g.Text.defaultProps, {
value: __("ID_SPARTA_HELP_CALL_BACK_CONFIRMATION_HEADING"),
size: "L",
style: $.title
}),
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ o, {
$$typeof: c,
type: g.Text,
key: null,
ref: null,
props: r(g.Text.defaultProps, {
value: t,
size: "M",
style: $.callUsContent
}),
_owner: null
}, {
$$typeof: c,
type: g.Text,
key: null,
ref: null,
props: r(g.Text.defaultProps, {
value: n,
size: "M",
style: $.callUsContent
}),
_owner: null
}, {
$$typeof: c,
type: A["default"],
key: null,
ref: null,
props: r(A["default"].defaultProps, {
text: __("ID_SPARTA_HELP_CLOSE"),
style: $.closeBtn,
textSize: "M",
action: function() {
return e.onCloseClick();
}
}),
_owner: null
} ],
style: {
width: 100 * D["default"].GUTTER
}
},
_owner: null
},
style: $.wrapper
},
_owner: null
};
}, t.prototype.render = function p() {
var e = this;
return {
$$typeof: c,
type: I.WwceSupportTemplate,
key: null,
ref: null,
props: r(I.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
loading: M["default"].isUndefined(this.state["case"].caseDetail) && M["default"].isUndefined(this.state["case"].message),
onBackClick: function() {
return e.onCloseClick();
}
}),
_owner: null
};
};
var n = t;
return t = i("_$WwceSupportCallBackConfirmation")(t) || t, t = E["default"]({
contact: b["default"],
context: T["default"],
"case": _["default"]
})(t) || t, t = d.focusable("1c1126bc:38")(t) || t;
}(f["default"].Component);
t["default"] = G, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return $(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(3), y = n(5), g = s(y), m = n(20), b = s(m), v = n(7), _ = n(121), S = n(193), T = s(S), w = n(96), E = s(w), I = n(14), C = s(I), A = n(22), P = s(A), O = n(48), R = s(O), k = n(18), x = s(k), M = n(6), N = s(M), D = n(33), U = n(37), L = {
_$WwceSupportCallBackDeflection: {
displayName: "WwceSupportCallBackDeflection"
},
_$CallBackImage: {
displayName: "CallBackImage"
}
}, $ = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportCallBackDeflection.jsx",
components: L,
locals: [],
imports: []
}), G = {
callbackContent: {
color: "#D7DADA"
},
title: {
color: "#FFFFFF",
marginBottom: 2 * N["default"].GUTTER
},
closeBtn: {
marginTop: 6 * N["default"].GUTTER,
width: 35 * N["default"].GUTTER,
height: 7 * N["default"].GUTTER,
color: "#FFFFFF"
},
bodyImage: {
height: N["default"].getHeight(45),
textureMode: "contain",
textureAlign: [ .5, .5 ],
marginBottom: 30,
marginTop: 30
},
bodyParagraph: {
textLineSpacing: Math.round(1.2 * U.LINE_HEIGHTS.S),
marginBottom: 20,
textAlign: "justify",
color: "#d3d3d3"
},
list: {
marginTop: 30,
marginBottom: 20
},
listItem: {
paddingLeft: 30,
marginBottom: 20
}
}, F = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.getDeflectionContent();
}, t.prototype.getDeflectionContent = function l() {
g["default"].each(this.state.contact.channels, function(e) {
"phone" === e.name && (c = e.message);
}, this);
}, t.prototype.getParsedContent = function u() {
if (c) {
var e = c, t = "", n = "", o = [], a = function i() {
"TEXT" === t && (o.push({
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
size: "S",
style: G.bodyParagraph,
value: n
}),
_owner: null
}), n = "");
};
return g["default"].each(e, function(e) {
if ("image" === e.chunkType) a(), o.push({
$$typeof: p,
type: B,
key: null,
ref: null,
props: r(B.defaultProps, {
image: e.src
}),
_owner: null
}), t = "IMAGE"; else if ("paragraph" === e.chunkType) n += e.content.text, t = "TEXT"; else if ("bulletlist" === e.chunkType) !function() {
a();
var n = [];
g["default"].each(e.items, function(e) {
n.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
size: "S",
value: "- " + e.text
}),
_owner: null
},
style: G.listItem
},
_owner: null
});
}), o.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: G.list
},
_owner: null
}), t = "LIST";
}(); else if ("orderedlist" === e.chunkType) {
var i;
!function() {
a();
var n = [];
i = 1, g["default"].each(e.items, function(e) {
n.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
size: "S",
value: i + ". " + e.text
}),
_owner: null
},
style: G.listItem
},
_owner: null
}), i++;
}), o.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: G.list
},
_owner: null
}), t = "LIST";
}();
}
}), n && a(), o;
}
}, t.prototype.onCloseClick = function f() {
var e;
e = this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection/channelselection" : "wwcesupport/help/channelselection", 
"InGame" === this.state.context.source ? R["default"].route("playing/" + e) : x["default"].gotoLocation(e);
}, t.prototype.renderContent = function d() {
var e = this;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: __("ID_SPARTA_HELP_CALL_BACK"),
size: "L",
style: G.title
}),
_owner: null
}, {
$$typeof: p,
type: D.Scroller,
key: null,
ref: null,
props: r(D.Scroller.defaultProps, {
children: this.getParsedContent(),
style: {
height: N["default"].getHeight(50)
}
}),
_owner: null
}, {
$$typeof: p,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
text: __("ID_SPARTA_HELP_CLOSE"),
style: G.closeBtn,
textSize: "M",
action: function() {
return e.onCloseClick();
}
}),
_owner: null
} ],
style: {
width: 100 * N["default"].GUTTER
}
},
_owner: null
},
style: {
flex: 1,
alignItems: "center",
justifyContent: "center"
}
},
_owner: null
};
}, t.prototype.render = function y() {
var e = this;
return {
$$typeof: p,
type: _.WwceSupportTemplate,
key: null,
ref: null,
props: r(_.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
onBackClick: function() {
return e.onCloseClick();
}
}),
_owner: null
};
};
var n = t;
return t = i("_$WwceSupportCallBackDeflection")(t) || t, t = C["default"]({
contact: T["default"],
context: E["default"]
})(t) || t, t = h.focusable("52aa530d:63")(t) || t, t = b["default"]()(t) || t;
}(d["default"].Component);
t["default"] = F;
var B = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function r() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ G.bodyImage, {
texture: this.props.image
} ]
},
_owner: null
};
};
var n = t;
return t = i("_$CallBackImage")(t) || t;
}(d["default"].Component);
e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return $(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(3), y = n(5), g = s(y), m = n(20), b = s(m), v = n(7), _ = n(121), S = n(193), T = s(S), w = n(96), E = s(w), I = n(14), C = s(I), A = n(22), P = s(A), O = n(48), R = s(O), k = n(18), x = s(k), M = n(6), N = s(M), D = n(33), U = n(37), L = {
_$WwceSupportCallUs: {
displayName: "WwceSupportCallUs"
},
_$CallUsImage: {
displayName: "CallUsImage"
}
}, $ = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportCallUs.jsx",
components: L,
locals: [],
imports: []
}), G = {
callUsContent: {
color: "#D7DADA"
},
title: {
color: "#FFFFFF",
marginBottom: 2 * N["default"].GUTTER
},
closeBtn: {
marginTop: 6 * N["default"].GUTTER,
width: 35 * N["default"].GUTTER,
height: 7 * N["default"].GUTTER,
color: "#FFFFFF"
},
bodyImage: {
height: N["default"].getHeight(45),
textureMode: "contain",
textureAlign: [ .5, .5 ],
marginBottom: 30,
marginTop: 30
},
bodyParagraph: {
textLineSpacing: Math.round(1.2 * U.LINE_HEIGHTS.S),
marginBottom: 20,
textAlign: "justify",
color: "#d3d3d3"
},
list: {
marginTop: 30,
marginBottom: 20
},
listItem: {
paddingLeft: 30,
marginBottom: 20
}
}, F = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.getDeflectionContent();
}, t.prototype.getDeflectionContent = function l() {
g["default"].each(this.state.contact.channels, function(e) {
"Deflection" === e.name && (c = e.message);
}, this);
}, t.prototype.getParsedContent = function u() {
if (c) {
var e = c, t = "", n = "", o = [], a = function i() {
"TEXT" === t && (o.push({
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
size: "S",
style: G.bodyParagraph,
value: n
}),
_owner: null
}), n = "");
};
return g["default"].each(e, function(e) {
if ("image" === e.chunkType) a(), o.push({
$$typeof: p,
type: B,
key: null,
ref: null,
props: r(B.defaultProps, {
image: e.src
}),
_owner: null
}), t = "IMAGE"; else if ("paragraph" === e.chunkType) n += e.content.text, t = "TEXT"; else if ("bulletlist" === e.chunkType) !function() {
a();
var n = [];
g["default"].each(e.items, function(e) {
n.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
size: "S",
value: "- " + e.text
}),
_owner: null
},
style: G.listItem
},
_owner: null
});
}), o.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: G.list
},
_owner: null
}), t = "LIST";
}(); else if ("orderedlist" === e.chunkType) {
var i;
!function() {
a();
var n = [];
i = 1, g["default"].each(e.items, function(e) {
n.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
size: "S",
value: i + ". " + e.text
}),
_owner: null
},
style: G.listItem
},
_owner: null
}), i++;
}), o.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: G.list
},
_owner: null
}), t = "LIST";
}();
}
}), n && a(), o;
}
}, t.prototype.onCloseClick = function f() {
var e;
e = this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection/channelselection" : "wwcesupport/help/channelselection", 
"InGame" === this.state.context.source ? R["default"].route("playing/" + e) : x["default"].gotoLocation(e);
}, t.prototype.renderContent = function d() {
var e = this;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: __("ID_SPARTA_MENU_TITLE_HELP_CALL_US"),
size: "L",
style: G.title
}),
_owner: null
}, {
$$typeof: p,
type: D.Scroller,
key: null,
ref: null,
props: r(D.Scroller.defaultProps, {
children: this.getParsedContent(),
style: {
height: N["default"].getHeight(50)
}
}),
_owner: null
}, {
$$typeof: p,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
text: __("ID_SPARTA_HELP_CLOSE"),
style: G.closeBtn,
textSize: "M",
action: function() {
return e.onCloseClick();
}
}),
_owner: null
} ],
style: {
width: 100 * N["default"].GUTTER
}
},
_owner: null
},
style: {
flex: 1,
alignItems: "center",
justifyContent: "center"
}
},
_owner: null
};
}, t.prototype.render = function y() {
var e = this;
return {
$$typeof: p,
type: _.WwceSupportTemplate,
key: null,
ref: null,
props: r(_.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
onBackClick: function() {
return e.onCloseClick();
}
}),
_owner: null
};
};
var n = t;
return t = i("_$WwceSupportCallUs")(t) || t, t = C["default"]({
contact: T["default"],
context: E["default"]
})(t) || t, t = h.focusable("b51db32e:63")(t) || t, t = b["default"]()(t) || t;
}(d["default"].Component);
t["default"] = F;
var B = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function r() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ G.bodyImage, {
texture: this.props.image
} ]
},
_owner: null
};
};
var n = t;
return t = i("_$CallUsImage")(t) || t;
}(d["default"].Component);
e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return B(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(5), h = s(d), y = n(3), g = n(48), m = s(g), b = n(7), v = n(496), _ = s(v), S = n(18), T = s(S), w = n(14), E = s(w), I = n(121), C = n(96), A = s(C), P = n(11), O = n(17), R = s(O), k = n(6), x = s(k), M = n(80), N = s(M), D = n(13), U = s(D), L = n(12), $ = s(L), G = n(10), F = {
_$WwceSupportCategorySelection: {
displayName: "WwceSupportCategorySelection"
}
}, B = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportCategorySelection.jsx",
components: F,
locals: [],
imports: []
}), j = {
title: {
color: "#FFFFFF"
},
boxesContainer: {
flexDirection: "row",
height: x["default"].getHeight(70),
color: "#FFFFFF",
fontSize: SpartaGlobals.bundleIsPC ? 24 : 30
},
box: {
width: 35 * x["default"].GUTTER,
height: 46 * x["default"].GUTTER,
marginRight: x["default"].GUTTER
},
categoryList: {
marginTop: 8 * x["default"].GUTTER
},
category: {
color: "#FFFFFF",
marginBottom: 4 * x["default"].GUTTER,
marginLeft: 3 * x["default"].GUTTER,
marginRight: 3 * x["default"].GUTTER
}
}, H = {
warranty: P.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_Warranty_White-154247ef.png"),
"technical-support": P.bbOfflineUrl("/sparta/jsclient/builds/assets/TechSupport_normalState_PC-1c7c72d0.png"),
"report-concerns-or-harassment": P.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_ReportConcerns_White-bce04f84.png"),
"report-a-bug": P.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_ReportBug_White-bbe8083f.png"),
orders: P.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_Orders_White-c4c73373.png"),
"missing-content": P.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_MissingContent_White-9fa738b1.png"),
"manage-my-account": P.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_ManageAccount_White-8807f3ac.png"),
"game-information": P.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_GameInfo_White-282bf86f.png"),
"codes-and-promotions": P.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_CodesAndPromos_White-d1e9fdad.png")
}, V = function(e) {
function t() {
o(this, n), e.call(this);
}
a(t, e), t.prototype.handleNavigation = function s(e, t) {
N["default"].updateSelectedCategory(t), "InGame" === this.state.context.source ? m["default"].route("playing/" + e) : T["default"].gotoLocation(e);
}, t.prototype.renderContent = function l() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: __("ID_SPARTA_HELP_CATEGORY_SELECTION_HEADING"),
size: "L",
style: j.title
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].map(this.state.context.categories, function(e, t) {
var n = this;
if (3 >= t) {
var o, a, i = function() {
o = {
texture: H[e.internalName],
width: 120,
height: 120
}, a = [ {
$$typeof: c,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: e.name.toUpperCase(),
size: "S",
style: j.category
}),
_owner: null
} ];
var t = new U["default"]({
key: $["default"].Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function i() {
n.handleNavigation("wwcesupport/help/categoryselection/channelselection", e.internalName);
}
});
return {
v: {
$$typeof: c,
type: y.Focusable,
key: null,
ref: null,
props: r(y.Focusable.defaultProps, {
children: function s(e) {
return {
$$typeof: c,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: o
},
_owner: null
},
bottom: a,
style: j.box,
input: t,
focusItem: e
}),
_owner: null
};
},
debugName: "wwce_category_selection",
autoFocusCandidate: !0
}),
_owner: null
}
};
}();
if ("object" == typeof i) return i.v;
}
}, this),
style: [ j.boxesContainer, j.categoryList ]
},
_owner: null
} ],
style: {
width: R["default"].content.width,
height: R["default"].content.height
}
},
_owner: null
};
}, t.prototype.render = function u() {
var e = this;
return {
$$typeof: c,
type: I.WwceSupportTemplate,
key: null,
ref: null,
props: r(I.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
onBackClick: function() {
return e.handleNavigation("wwcesupport/help");
}
}),
_owner: null
};
};
var n = t;
return t = i("_$WwceSupportCategorySelection")(t) || t, t = E["default"]({
context: A["default"]
})(t) || t, t = G.observer(t) || t;
}(f["default"].Component);
t["default"] = V, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return V(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(5), y = s(h), g = n(3), m = n(48), b = s(m), v = n(7), _ = n(18), S = s(_), T = n(14), w = s(T), E = n(96), I = s(E), C = n(121), A = n(193), P = s(A), O = n(11), R = n(17), k = s(R), x = n(6), M = s(x), N = n(496), D = s(N), U = n(80), L = s(U), $ = n(13), G = s($), F = n(12), B = s(F), j = n(10), H = {
_$WwceSupportChannelSelection: {
displayName: "WwceSupportChannelSelection"
}
}, V = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportChannelSelection.jsx",
components: H,
locals: [],
imports: []
}), z = {
title: {
color: "#FFFFFF"
},
boxesContainer: {
flexDirection: "row",
height: M["default"].getHeight(70)
},
box: {
width: 35 * M["default"].GUTTER,
height: 46 * M["default"].GUTTER,
marginRight: M["default"].GUTTER
},
channelList: {
marginTop: 8 * M["default"].GUTTER
},
channel: {
color: "#FFFFFF",
marginBottom: 3 * M["default"].GUTTER,
marginLeft: 3 * M["default"].GUTTER,
marginRight: 3 * M["default"].GUTTER
},
channelText: {
color: "#FFFFFF",
marginBottom: 4 * M["default"].GUTTER,
marginLeft: 3 * M["default"].GUTTER,
marginRight: 3 * M["default"].GUTTER
},
deflectionImageStyle: {
texture: O.bbOfflineUrl("/sparta/jsclient/builds/assets/CallUs_normalstate_PC-946a54a6.png"),
width: 12 * M["default"].GUTTER,
height: 12 * M["default"].GUTTER
},
phoneImageStyle: {
texture: O.bbOfflineUrl("/sparta/jsclient/builds/assets/Callback_Off-fe8c9b2c.png"),
width: 12 * M["default"].GUTTER,
height: 12 * M["default"].GUTTER
}
}, W = function(e) {
function t() {
o(this, n), e.call(this), L["default"].resetChannelDetailState();
}
a(t, e), t.prototype.componentDidMount = function s() {
L["default"].getContactChannels(this.state.context.selectedCategory, this.state.context.userLocation), 
c = this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection/channelselection/" : "wwcesupport/help/channelselection/";
}, t.prototype.handleNavigation = function l(e, t) {
"backClick" === e ? (e = this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection" : "wwcesupport/help", 
L["default"].resetChannelDetailState()) : L["default"].updateSelectedChannel(t), 
"InGame" === this.state.context.source ? b["default"].route("playing/" + e) : S["default"].gotoLocation(e);
}, t.prototype.renderContent = function u() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: __("ID_SPARTA_HELP_CHANNEL_SELECTION_HEADING"),
size: "L",
style: z.title
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: y["default"].map(this.state.contactChannel.channels, function(e, t) {
var n = this;
if ("Deflection" === e.name) {
var o, a = function() {
o = [ {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: __("ID_SPARTA_MENU_TITLE_HELP_CALL_US").toUpperCase(),
size: "S",
style: z.channelText
}),
_owner: null
} ];
var t = new G["default"]({
key: B["default"].Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function a() {
return n.handleNavigation(c + "callus", e);
}
});
return {
v: {
$$typeof: p,
type: g.Focusable,
key: null,
ref: null,
props: r(g.Focusable.defaultProps, {
children: function i(e) {
return {
$$typeof: p,
type: D["default"],
key: null,
ref: null,
props: r(D["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: z.deflectionImageStyle
},
_owner: null
},
bottom: o,
input: t,
focusItem: e,
style: z.box
}),
_owner: null
};
},
debugName: "wwce_channel_selection",
autoFocusCandidate: !0
}),
_owner: null
}
};
}();
if ("object" == typeof a) return a.v;
} else if ("phone" === e.name) {
var i, s, l, u, f = function() {
e.notInBusinessHours === !0 ? i = c + "callbackDeflection" : (i = c + "callback", 
s = __("ID_SPARTA_HELP_CHANNEL_SELECTION_RECOMMENDED"), l = __("ID_SPARTA_HELP_CHANNEL_SELECTION_EST_WAIT_TIME") + e.waitTimeRange), 
u = [ {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: l,
size: "S",
style: z.channel
}),
_owner: null
}, {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: __("ID_SPARTA_MENU_TITLE_HELP_GET_A_CALL").toUpperCase(),
size: "S",
style: z.channelText
}),
_owner: null
} ];
var t = new G["default"]({
key: B["default"].Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function o() {
return n.handleNavigation(i, e);
}
});
return {
v: {
$$typeof: p,
type: g.Focusable,
key: null,
ref: null,
props: r(g.Focusable.defaultProps, {
children: function a(e) {
return {
$$typeof: p,
type: D["default"],
key: null,
ref: null,
props: r(D["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: z.phoneImageStyle
},
_owner: null
},
title: s,
bottom: u,
input: t,
focusItem: e,
style: z.box
}),
_owner: null
};
},
debugName: "wwce_channel_selection",
autoFocusCandidate: !0
}),
_owner: null
}
};
}();
if ("object" == typeof f) return f.v;
}
}, this),
style: [ z.boxesContainer, z.channelList ]
},
_owner: null
} ],
style: {
width: k["default"].content.width,
height: k["default"].content.height
}
},
_owner: null
};
}, t.prototype.render = function f() {
var e = this;
return {
$$typeof: p,
type: C.WwceSupportTemplate,
key: null,
ref: null,
props: r(C.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
loading: y["default"].isUndefined(this.state.contactChannel.channels),
onBackClick: function() {
return e.handleNavigation("backClick");
}
}),
_owner: null
};
};
var n = t;
return t = i("_$WwceSupportChannelSelection")(t) || t, t = w["default"]({
context: I["default"],
contactChannel: P["default"]
})(t) || t, t = j.observer(t) || t;
}(d["default"].Component);
t["default"] = W, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return V(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(5), d = i(f), h = n(3), y = n(10), g = n(48), m = i(g), b = n(7), v = n(18), _ = i(v), S = n(121), T = n(890), w = n(96), E = i(w), I = n(14), C = i(I), A = n(80), P = i(A), O = n(22), R = i(O), k = n(54), x = i(k), M = n(33), N = n(6), D = i(N), U = n(17), L = i(U), $ = n(13), G = i($), F = n(12), B = i(F), j = n(8), H = {
_$WwceSupportOverview: {
displayName: "WwceSupportOverview"
},
_$Article: {
displayName: "Article"
}
}, V = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportOverview.jsx",
components: H,
locals: [],
imports: []
}), z = {
articleTitle: {
marginBottom: 2 * D["default"].GUTTER,
color: "#D7DADA",
left: 3.2 * D["default"].GUTTER
},
articleSummary: {
color: "#C7C7C7",
marginBottom: 4 * D["default"].GUTTER,
left: 3.2 * D["default"].GUTTER
},
articleHover: {
color: "#FFFFFF"
},
noContactUs: {
position: "absolute",
bottom: SpartaGlobals.bundleIsConsole ? 0 : D["default"].content.rowSpan(9),
left: 3.2 * D["default"].GUTTER,
width: 35 * D["default"].GUTTER,
height: 7 * D["default"].GUTTER,
color: "#FFFFFF"
},
verticalDivider: {
height: 13 * D["default"].GUTTER,
width: .4 * D["default"].GUTTER,
marginBottom: .5 * D["default"].GUTTER,
backgroundColor: "#FFFFFF"
},
noArticleHeading: {
color: "#C3C3C3"
},
noArticleText: {
color: "#7C7C7C"
},
inGameHeader: {
color: "#C7C7C7",
height: D["default"].content.rowSpan(6),
marginBottom: 3 * D["default"].GUTTER
},
verticleDividerBlurred: {
height: 13 * D["default"].GUTTER,
width: .4 * D["default"].GUTTER,
marginBottom: .5 * D["default"].GUTTER
},
articleBlurred: {}
}, W = function(t) {
function n() {
r(this, i), t.call(this), T.wwceSupportArticleState.reset();
}
o(n, t), n.prototype.componentDidMount = function s() {
j.onlineState.isOnlineBlazeAndGateway && (P["default"].getArticles(this.state.context.source), 
P["default"].updateLocation("ARTICLE_LIST"));
}, n.prototype.onBackClick = function l() {
m["default"].route("playing"), P["default"].resetContextDetails();
}, n.prototype.handleNavigation = function c(e, t) {
if (this.organiseCategories(), P["default"].updateArticleId(t), "contactUs" === e) if (this.state.context.categories.length > 1) e = "wwcesupport/help/categoryselection"; else {
var n = this.state.context.categories.length > 0 ? this.state.context.categories[0].internalName : "default-category";
P["default"].updateSelectedCategory(n), e = "wwcesupport/help/channelselection";
}
"InGame" === this.state.context.source ? m["default"].route("playing/" + e) : _["default"].gotoLocation(e);
}, n.prototype.organiseCategories = function p() {
var e = [], t = [];
if (T.wwceSupportArticleState.items.articleList && T.wwceSupportArticleState.items.articleList.length > 0) {
var n = T.wwceSupportArticleState.items.articleList[0];
d["default"].each(n.categories, function(n) {
-1 === d["default"].indexOf(t, n.internalName) && (t.push(n.internalName), e.push(n));
}, this);
}
P["default"].updateCategories(e);
}, n.prototype.renderArticleItems = function f() {
return d["default"].map(T.wwceSupportArticleState.items.articleList, function(t, n) {
var r = this, o = new G["default"]({
action: function a() {
return r.handleNavigation("wwcesupport/help/articledetail", t.id);
},
label: __("ID_SPARTA_ACTION_SELECT"),
key: B["default"].Accept
});
return 2 >= n ? {
$$typeof: u,
type: h.Focusable,
key: null,
ref: null,
props: e(h.Focusable.defaultProps, {
children: function i(n) {
return {
$$typeof: u,
type: x["default"],
key: null,
ref: null,
props: e(x["default"].defaultProps, {
children: {
$$typeof: u,
type: q,
key: null,
ref: null,
props: e(q.defaultProps, {
article: t,
focusItem: n
}),
_owner: null
},
focusItem: n,
input: o
}),
_owner: null
};
},
debugName: "wwcearticle_" + t.id
}),
_owner: null
} : void 0;
}, this);
}, n.prototype.renderContent = function g() {
var t, n = this, r = "InGame" === this.state.context.source;
if (T.wwceSupportArticleState.items.showContactUs && j.settingsStore.isFeatureEnabled("enableHelpContactUs")) {
var o = __("ID_SPARTA_HELP_CONTACT_US"), a = D["default"].GUTTER * (17.5 + 1.75 * o.length), i = D["default"].GUTTER * (105 - (17.5 + 1.75 * o.length));
t = a + i;
var s = {
contactUsBtn: {
marginRight: i,
width: a,
height: 7 * D["default"].GUTTER,
position: "absolute",
bottom: SpartaGlobals.bundleIsConsole ? 0 : D["default"].content.rowSpan(9),
left: 0
}
};
t = {
$$typeof: u,
type: R["default"],
key: null,
ref: null,
props: e(R["default"].defaultProps, {
text: o,
style: s.contactUsBtn,
textSize: "M",
action: function() {
return n.handleNavigation("contactUs");
}
}),
_owner: null
};
} else {
var l;
l = __(r ? "ID_SPARTA_HELP_NO_CONTACT_US_BFONE" : "ID_SPARTA_HELP_NO_CONTACT_US_PC"), 
t = {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: e(b.Text.defaultProps, {
value: l,
size: "M",
style: z.noContactUs
}),
_owner: null
};
}
var c = r ? {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: e(b.Text.defaultProps, {
value: __("ID_SPARTA_MENU_TITLE_HELP_ARTICLE").toUpperCase(),
size: "M",
style: z.inGameHeader
}),
_owner: null
} : null, p = L["default"].content.height - D["default"].getHeight(8);
return r && (p -= z.inGameHeader.height), {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ c, {
$$typeof: u,
type: M.Scroller,
key: null,
ref: null,
props: e(M.Scroller.defaultProps, {
children: this.renderArticleItems(),
style: {
height: p
}
}),
_owner: null
}, t ],
style: {
height: L["default"].content.height
}
},
_owner: null
};
}, n.prototype.renderNoArticlesFound = function v() {
var t, n = this, r = "InGame" === this.state.context.source;
if (T.wwceSupportArticleState.items.showContactUs) {
var o = __("ID_SPARTA_HELP_CONTACT_US"), a = D["default"].GUTTER * (17.5 + 1.75 * o.length), i = D["default"].GUTTER * (105 - (17.5 + 1.75 * o.length));
t = a + i;
var s = {
contactUsBtn: {
marginRight: i,
width: a,
height: 7 * D["default"].GUTTER,
position: "absolute",
bottom: SpartaGlobals.bundleIsConsole ? 0 : D["default"].content.rowSpan(9),
left: 0
}
};
t = {
$$typeof: u,
type: R["default"],
key: null,
ref: null,
props: e(R["default"].defaultProps, {
text: o,
style: s.contactUsBtn,
textSize: "M",
action: function() {
return n.handleNavigation("contactUs");
}
}),
_owner: null
};
} else {
var l;
l = __(r ? "ID_SPARTA_HELP_NO_CONTACT_US_BFONE" : "ID_SPARTA_HELP_NO_CONTACT_US_PC"), 
t = {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: e(b.Text.defaultProps, {
value: l,
size: "M",
style: z.noContactUs
}),
_owner: null
};
}
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: e(b.Text.defaultProps, {
value: __("ID_SPARTA_HELP_ARTICLE_LIST_NO_ARTICLE_FOUND"),
size: "XL",
style: z.noArticleHeading
}),
_owner: null
}, {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: e(b.Text.defaultProps, {
value: __("ID_SPARTA_HELP_ARTICLE_LIST_NO_ARTICLE_FOUND_MSG"),
size: "L",
style: z.noArticleText
}),
_owner: null
}, t ],
style: {
width: D["default"].content.width,
height: L["default"].content.height
}
},
_owner: null
};
}, n.prototype.render = function w() {
var t = T.wwceSupportArticleState.items.articleList;
return t && 0 === t.length ? {
$$typeof: u,
type: S.WwceSupportTemplate,
key: null,
ref: null,
props: e(S.WwceSupportTemplate.defaultProps, {
children: this.renderNoArticlesFound(),
onBackClick: this.onBackClick.bind(this)
}),
_owner: null
} : {
$$typeof: u,
type: S.WwceSupportTemplate,
key: null,
ref: null,
props: e(S.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
loading: !t,
onBackClick: this.onBackClick.bind(this)
}),
_owner: null
};
};
var i = n;
return n = a("_$WwceSupportOverview")(n) || n, n = C["default"]({
context: E["default"]
})(n) || n, n = y.observer(n) || n;
}(p["default"].Component);
t.WwceSupportOverview = W;
var q = function(t) {
function n(e) {
r(this, i), t.call(this, e), e.focusItem.autoFocusCandidate = !0;
}
o(n, t), n.prototype.render = function s() {
var t, n;
return this.props.focusItem.isFocused ? (n = z.verticalDivider, t = z.articleHover) : (n = z.verticleDividerBlurred, 
t = z.articleBlurred), {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: e(b.Text.defaultProps, {
value: this.props.article.title,
size: "L",
style: [ z.articleTitle, t ]
}),
_owner: null
}, {
$$typeof: u,
type: b.Text,
key: null,
ref: null,
props: e(b.Text.defaultProps, {
value: this.props.article.summary,
size: "S",
style: [ z.articleSummary, t ]
}),
_owner: null
} ],
style: {
width: L["default"].content.width - 32
}
},
_owner: null
} ],
style: {
flexDirection: "row",
height: 18 * D["default"].GUTTER
}
},
_owner: null
};
};
var i = n;
return n = a("_$Article")(n) || n, n = h.focusable("fbcf1f02:298")(n) || n;
}(p["default"].Component);
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return E(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(3), g = r(y), m = n(7), b = n(6), v = l(b), _ = n(54), S = l(_), T = n(10), w = {
_$HelpBox: {
displayName: "HelpBox"
}
}, E = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/components/HelpBox.jsx",
components: w,
locals: [],
imports: []
}), I = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, C = "#ffffff", A = "#00000050", P = {
justifyContent: "center",
alignItems: "center"
}, O = {
title: {
padding: v["default"].GUTTER,
marginBottom: v["default"].GUTTER
},
content: f({}, P, {
flex: 1,
zOffset: 1
}),
bottom: {
padding: v["default"].GUTTER
}
}, R = function(e) {
function t(t) {
if (a(this, n), e.call(this, t), !t.focusItem) throw new Error("No focusItem passed to <Box>");
}
i(t, e), t.prototype.render = function r() {
var e = this.props.focusItem.isFocused, t = f({
width: this.props.width,
height: this.props.height,
backgroundColor: e ? C : A
}, this.props.style), n = {
color: e ? "#000000" : "#ffffff",
size: "XS",
style: {
zOffset: 1
}
}, r = f({}, O.title, {
backgroundColor: e ? "00000000" : A
}), a = this.props.title && {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(m.Text, f({
value: this.props.title.toUpperCase()
}, n)),
style: r
},
_owner: null
}, i = this.props.children || [], s = Array.isArray(i) ? i : [ i ];
s = s.map(function(e, t) {
var r = f({}, e.props.style, {
color: n.color
});
return h["default"].cloneElement(e, {
key: t,
style: r
});
});
var l = this.props.bottom || [];
return l = "string" == typeof l ? {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: o(m.Text.defaultProps, {
value: l
}),
_owner: null
} : l, l = Array.isArray(l) ? l : [ l ], l = l.map(function(e, t) {
var r = f({}, e.props.style, {
color: n.color
});
return h["default"].cloneElement(e, f({
key: t
}, e.props, {
style: r
}));
}), {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: s,
style: O.content
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: l,
style: O.bottom
},
_owner: null
} ],
style: f({}, I, {
zOffset: 10
})
},
_owner: null
},
input: this.props.input,
focusItem: this.props.focusItem,
style: t,
triggerMode: "after"
}),
_owner: null
};
};
var n = t;
return t = s("_$HelpBox")(t) || t, t = T.observer(t) || t;
}(h["default"].Component);
t["default"] = R, R.propTypes = {
focusItem: h["default"].PropTypes.instanceOf(g.focus.FocusItem),
title: h["default"].PropTypes.string
}, R.defaultProps = {
width: v["default"].window.xParts(6),
height: .65 * v["default"].window.xParts(6)
}, e.exports = t["default"];
}, function(e, t) {
(function(t) {
"use strict";
function n(e) {
s.length || (i(), l = !0), s[s.length] = e;
}
function r() {
for (;u < s.length; ) {
var e = u;
if (u += 1, s[e].call(), u > c) {
for (var t = 0, n = s.length - u; n > t; t++) s[t] = s[t + u];
s.length -= u, u = 0;
}
}
s.length = 0, u = 0, l = !1;
}
function o(e) {
var t = 1, n = new f(e), r = document.createTextNode("");
return n.observe(r, {
characterData: !0
}), function o() {
t = -t, r.data = t;
};
}
function a(e) {
return function t() {
function t() {
clearTimeout(n), clearInterval(r), e();
}
var n = setTimeout(t, 0), r = setInterval(t, 50);
};
}
e.exports = n;
var i, s = [], l = !1, u = 0, c = 1024, p = "undefined" != typeof t ? t : self, f = p.MutationObserver || p.WebKitMutationObserver;
i = "function" == typeof f ? o(r) : a(r), n.requestFlush = i, n.makeRequestCallFromTimer = a;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
"use strict";
var r = n(86), o = {
listen: function(e, t, n) {
return e.addEventListener ? (e.addEventListener(t, n, !1), {
remove: function() {
e.removeEventListener(t, n, !1);
}
}) : e.attachEvent ? (e.attachEvent("on" + t, n), {
remove: function() {
e.detachEvent("on" + t, n);
}
}) : void 0;
},
capture: function(e, t, n) {
return e.addEventListener ? (e.addEventListener(t, n, !0), {
remove: function() {
e.removeEventListener(t, n, !0);
}
}) : {
remove: r
};
},
registerDefault: function() {}
};
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e, t) {
var n = !0;
e: for (;n; ) {
var r = e, a = t;
if (n = !1, r && a) {
if (r === a) return !0;
if (o(r)) return !1;
if (o(a)) {
e = r, t = a.parentNode, n = !0;
continue e;
}
return r.contains ? r.contains(a) : r.compareDocumentPosition ? !!(16 & r.compareDocumentPosition(a)) : !1;
}
return !1;
}
}
var o = n(935);
e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
try {
e.focus();
} catch (t) {}
}
e.exports = n;
}, function(e, t) {
"use strict";
function n() {
if ("undefined" == typeof document) return null;
try {
return document.activeElement || document.body;
} catch (e) {
return document.body;
}
}
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
return i ? void 0 : a(!1), f.hasOwnProperty(e) || (e = "*"), s.hasOwnProperty(e) || ("*" === e ? i.innerHTML = "<link />" : i.innerHTML = "<" + e + "></" + e + ">", 
s[e] = !i.firstChild), s[e] ? f[e] : null;
}
var o = n(68), a = n(32), i = o.canUseDOM ? document.createElement("div") : null, s = {}, l = [ 1, '<select multiple="true">', "</select>" ], u = [ 1, "<table>", "</table>" ], c = [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ], p = [ 1, '<svg xmlns="http://www.w3.org/2000/svg">', "</svg>" ], f = {
"*": [ 1, "?<div>", "</div>" ],
area: [ 1, "<map>", "</map>" ],
col: [ 2, "<table><tbody></tbody><colgroup>", "</colgroup></table>" ],
legend: [ 1, "<fieldset>", "</fieldset>" ],
param: [ 1, "<object>", "</object>" ],
tr: [ 2, "<table><tbody>", "</tbody></table>" ],
optgroup: l,
option: l,
caption: u,
colgroup: u,
tbody: u,
tfoot: u,
thead: u,
td: c,
th: c
}, d = [ "circle", "clipPath", "defs", "ellipse", "g", "image", "line", "linearGradient", "mask", "path", "pattern", "polygon", "polyline", "radialGradient", "rect", "stop", "text", "tspan" ];
d.forEach(function(e) {
f[e] = p, s[e] = !0;
}), e.exports = r;
}, function(e, t) {
"use strict";
function n(e, t) {
if (e === t) return !0;
if ("object" != typeof e || null === e || "object" != typeof t || null === t) return !1;
var n = Object.keys(e), o = Object.keys(t);
if (n.length !== o.length) return !1;
for (var a = r.bind(t), i = 0; i < n.length; i++) if (!a(n[i]) || e[n[i]] !== t[n[i]]) return !1;
return !0;
}
var r = Object.prototype.hasOwnProperty;
e.exports = n;
}, function(e, t) {
"use strict";
function n(e, t) {
return e + t.charAt(0).toUpperCase() + t.substring(1);
}
var r = {
animationIterationCount: !0,
boxFlex: !0,
boxFlexGroup: !0,
boxOrdinalGroup: !0,
columnCount: !0,
flex: !0,
flexGrow: !0,
flexPositive: !0,
flexShrink: !0,
flexNegative: !0,
flexOrder: !0,
fontWeight: !0,
lineClamp: !0,
lineHeight: !0,
opacity: !0,
order: !0,
orphans: !0,
tabSize: !0,
widows: !0,
zIndex: !0,
zoom: !0,
fillOpacity: !0,
stopOpacity: !0,
strokeDashoffset: !0,
strokeOpacity: !0,
strokeWidth: !0
}, o = [ "Webkit", "ms", "Moz", "O" ];
Object.keys(r).forEach(function(e) {
o.forEach(function(t) {
r[n(t, e)] = r[e];
});
});
var a = {
background: {
backgroundAttachment: !0,
backgroundColor: !0,
backgroundImage: !0,
backgroundPositionX: !0,
backgroundPositionY: !0,
backgroundRepeat: !0
},
backgroundPosition: {
backgroundPositionX: !0,
backgroundPositionY: !0
},
border: {
borderWidth: !0,
borderStyle: !0,
borderColor: !0
},
borderBottom: {
borderBottomWidth: !0,
borderBottomStyle: !0,
borderBottomColor: !0
},
borderLeft: {
borderLeftWidth: !0,
borderLeftStyle: !0,
borderLeftColor: !0
},
borderRight: {
borderRightWidth: !0,
borderRightStyle: !0,
borderRightColor: !0
},
borderTop: {
borderTopWidth: !0,
borderTopStyle: !0,
borderTopColor: !0
},
font: {
fontStyle: !0,
fontVariant: !0,
fontWeight: !0,
fontSize: !0,
lineHeight: !0,
fontFamily: !0
},
outline: {
outlineWidth: !0,
outlineStyle: !0,
outlineColor: !0
}
}, i = {
isUnitlessNumber: r,
shorthandPropertyExpansions: a
};
e.exports = i;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
var r = n >= e.childNodes.length ? null : e.childNodes.item(n);
e.insertBefore(t, r);
}
var o = n(951), a = n(329), i = n(87), s = n(244), l = n(339), u = n(32), c = {
dangerouslyReplaceNodeWithMarkup: o.dangerouslyReplaceNodeWithMarkup,
updateTextContent: l,
processUpdates: function(e, t) {
for (var n, i = null, c = null, p = 0; p < e.length; p++) if (n = e[p], n.type === a.MOVE_EXISTING || n.type === a.REMOVE_NODE) {
var f = n.fromIndex, d = n.parentNode.childNodes[f], h = n.parentID;
d ? void 0 : u(!1), i = i || {}, i[h] = i[h] || [], i[h][f] = d, c = c || [], c.push(d);
}
var y;
if (y = t.length && "string" == typeof t[0] ? o.dangerouslyRenderMarkup(t) : t, 
c) for (var g = 0; g < c.length; g++) c[g].parentNode.removeChild(c[g]);
for (var m = 0; m < e.length; m++) switch (n = e[m], n.type) {
case a.INSERT_MARKUP:
r(n.parentNode, y[n.markupIndex], n.toIndex);
break;

case a.MOVE_EXISTING:
r(n.parentNode, i[n.parentID][n.fromIndex], n.toIndex);
break;

case a.SET_MARKUP:
s(n.parentNode, n.content);
break;

case a.TEXT_CONTENT:
l(n.parentNode, n.content);
break;

case a.REMOVE_NODE:}
}
};
i.measureMethods(c, "DOMChildrenOperations", {
updateTextContent: "updateTextContent"
}), e.exports = c;
}, function(e, t, n) {
"use strict";
function r() {
if (s) for (var e in l) {
var t = l[e], n = s.indexOf(e);
if (n > -1 ? void 0 : i(!1), !u.plugins[n]) {
t.extractEvents ? void 0 : i(!1), u.plugins[n] = t;
var r = t.eventTypes;
for (var a in r) o(r[a], t, a) ? void 0 : i(!1);
}
}
}
function o(e, t, n) {
u.eventNameDispatchConfigs.hasOwnProperty(n) ? i(!1) : void 0, u.eventNameDispatchConfigs[n] = e;
var r = e.phasedRegistrationNames;
if (r) {
for (var o in r) if (r.hasOwnProperty(o)) {
var s = r[o];
a(s, t, n);
}
return !0;
}
return e.registrationName ? (a(e.registrationName, t, n), !0) : !1;
}
function a(e, t, n) {
u.registrationNameModules[e] ? i(!1) : void 0, u.registrationNameModules[e] = t, 
u.registrationNameDependencies[e] = t.eventTypes[n].dependencies;
}
var i = n(32), s = null, l = {}, u = {
plugins: [],
eventNameDispatchConfigs: {},
registrationNameModules: {},
registrationNameDependencies: {},
injectEventPluginOrder: function(e) {
s ? i(!1) : void 0, s = Array.prototype.slice.call(e), r();
},
injectEventPluginsByName: function(e) {
var t = !1;
for (var n in e) if (e.hasOwnProperty(n)) {
var o = e[n];
l.hasOwnProperty(n) && l[n] === o || (l[n] ? i(!1) : void 0, l[n] = o, t = !0);
}
t && r();
},
getPluginModuleForEvent: function(e) {
var t = e.dispatchConfig;
if (t.registrationName) return u.registrationNameModules[t.registrationName] || null;
for (var n in t.phasedRegistrationNames) if (t.phasedRegistrationNames.hasOwnProperty(n)) {
var r = u.registrationNameModules[t.phasedRegistrationNames[n]];
if (r) return r;
}
return null;
},
_resetEventPlugins: function() {
s = null;
for (var e in l) l.hasOwnProperty(e) && delete l[e];
u.plugins.length = 0;
var t = u.eventNameDispatchConfigs;
for (var n in t) t.hasOwnProperty(n) && delete t[n];
var r = u.registrationNameModules;
for (var o in r) r.hasOwnProperty(o) && delete r[o];
}
};
e.exports = u;
}, function(e, t, n) {
"use strict";
var r = n(512), o = n(965), a = n(969), i = n(38), s = n(993), l = {};
i(l, a), i(l, {
findDOMNode: s("findDOMNode", "ReactDOM", "react-dom", r, r.findDOMNode),
render: s("render", "ReactDOM", "react-dom", r, r.render),
unmountComponentAtNode: s("unmountComponentAtNode", "ReactDOM", "react-dom", r, r.unmountComponentAtNode),
renderToString: s("renderToString", "ReactDOMServer", "react-dom/server", o, o.renderToString),
renderToStaticMarkup: s("renderToStaticMarkup", "ReactDOMServer", "react-dom/server", o, o.renderToStaticMarkup)
}), l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = r, l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = o, 
e.exports = l;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
var r = void 0 === e[n];
null != t && r && (e[n] = a(t, null));
}
var o = n(123), a = n(243), i = n(340), s = n(341), l = (n(40), {
instantiateChildren: function(e, t, n) {
if (null == e) return null;
var o = {};
return s(e, r, o), o;
},
updateChildren: function(e, t, n, r) {
if (!t && !e) return null;
var s;
for (s in t) if (t.hasOwnProperty(s)) {
var l = e && e[s], u = l && l._currentElement, c = t[s];
if (null != l && i(u, c)) o.receiveComponent(l, c, n, r), t[s] = l; else {
l && o.unmountComponent(l, s);
var p = a(c, null);
t[s] = p;
}
}
for (s in e) !e.hasOwnProperty(s) || t && t.hasOwnProperty(s) || o.unmountComponent(e[s]);
return t;
},
unmountChildren: function(e) {
for (var t in e) if (e.hasOwnProperty(t)) {
var n = e[t];
o.unmountComponent(n);
}
}
});
e.exports = l;
}, function(e, t, n) {
"use strict";
function r(e) {
return ("" + e).replace(_, "//");
}
function o(e, t) {
this.func = e, this.context = t, this.count = 0;
}
function a(e, t, n) {
var r = e.func, o = e.context;
r.call(o, t, e.count++);
}
function i(e, t, n) {
if (null == e) return e;
var r = o.getPooled(t, n);
m(e, a, r), o.release(r);
}
function s(e, t, n, r) {
this.result = e, this.keyPrefix = t, this.func = n, this.context = r, this.count = 0;
}
function l(e, t, n) {
var o = e.result, a = e.keyPrefix, i = e.func, s = e.context, l = i.call(s, t, e.count++);
Array.isArray(l) ? u(l, o, n, g.thatReturnsArgument) : null != l && (y.isValidElement(l) && (l = y.cloneAndReplaceKey(l, a + (l !== t ? r(l.key || "") + "/" : "") + n)), 
o.push(l));
}
function u(e, t, n, o, a) {
var i = "";
null != n && (i = r(n) + "/");
var u = s.getPooled(t, i, o, a);
m(e, l, u), s.release(u);
}
function c(e, t, n) {
if (null == e) return e;
var r = [];
return u(e, r, null, t, n), r;
}
function p(e, t, n) {
return null;
}
function f(e, t) {
return m(e, p, null);
}
function d(e) {
var t = [];
return u(e, t, null, g.thatReturnsArgument), t;
}
var h = n(110), y = n(71), g = n(86), m = n(341), b = h.twoArgumentPooler, v = h.fourArgumentPooler, _ = /\/(?!\/)/g;
o.prototype.destructor = function() {
this.func = null, this.context = null, this.count = 0;
}, h.addPoolingTo(o, b), s.prototype.destructor = function() {
this.result = null, this.keyPrefix = null, this.func = null, this.context = null, 
this.count = 0;
}, h.addPoolingTo(s, v);
var S = {
forEach: i,
map: c,
mapIntoWithKeyPrefixInternal: u,
count: f,
toArray: d
};
e.exports = S;
}, function(e, t, n) {
"use strict";
function r(e, t) {
var n = T.hasOwnProperty(t) ? T[t] : null;
E.hasOwnProperty(t) && (n !== _.OVERRIDE_BASE ? g(!1) : void 0), e.hasOwnProperty(t) && (n !== _.DEFINE_MANY && n !== _.DEFINE_MANY_MERGED ? g(!1) : void 0);
}
function o(e, t) {
if (t) {
"function" == typeof t ? g(!1) : void 0, f.isValidElement(t) ? g(!1) : void 0;
var n = e.prototype;
t.hasOwnProperty(v) && w.mixins(e, t.mixins);
for (var o in t) if (t.hasOwnProperty(o) && o !== v) {
var a = t[o];
if (r(n, o), w.hasOwnProperty(o)) w[o](e, a); else {
var i = T.hasOwnProperty(o), u = n.hasOwnProperty(o), c = "function" == typeof a, p = c && !i && !u && t.autobind !== !1;
if (p) n.__reactAutoBindMap || (n.__reactAutoBindMap = {}), n.__reactAutoBindMap[o] = a, 
n[o] = a; else if (u) {
var d = T[o];
!i || d !== _.DEFINE_MANY_MERGED && d !== _.DEFINE_MANY ? g(!1) : void 0, d === _.DEFINE_MANY_MERGED ? n[o] = s(n[o], a) : d === _.DEFINE_MANY && (n[o] = l(n[o], a));
} else n[o] = a;
}
}
}
}
function a(e, t) {
if (t) for (var n in t) {
var r = t[n];
if (t.hasOwnProperty(n)) {
var o = n in w;
o ? g(!1) : void 0;
var a = n in e;
a ? g(!1) : void 0, e[n] = r;
}
}
}
function i(e, t) {
e && t && "object" == typeof e && "object" == typeof t ? void 0 : g(!1);
for (var n in t) t.hasOwnProperty(n) && (void 0 !== e[n] ? g(!1) : void 0, e[n] = t[n]);
return e;
}
function s(e, t) {
return function n() {
var n = e.apply(this, arguments), r = t.apply(this, arguments);
if (null == n) return r;
if (null == r) return n;
var o = {};
return i(o, n), i(o, r), o;
};
}
function l(e, t) {
return function n() {
e.apply(this, arguments), t.apply(this, arguments);
};
}
function u(e, t) {
var n = t.bind(e);
return n;
}
function c(e) {
for (var t in e.__reactAutoBindMap) if (e.__reactAutoBindMap.hasOwnProperty(t)) {
var n = e.__reactAutoBindMap[t];
e[t] = u(e, n);
}
}
var p = n(511), f = n(71), d = (n(239), n(238), n(526)), h = n(38), y = n(195), g = n(32), m = n(234), b = n(122), v = (n(40), 
b({
mixins: null
})), _ = m({
DEFINE_ONCE: null,
DEFINE_MANY: null,
OVERRIDE_BASE: null,
DEFINE_MANY_MERGED: null
}), S = [], T = {
mixins: _.DEFINE_MANY,
statics: _.DEFINE_MANY,
propTypes: _.DEFINE_MANY,
contextTypes: _.DEFINE_MANY,
childContextTypes: _.DEFINE_MANY,
getDefaultProps: _.DEFINE_MANY_MERGED,
getInitialState: _.DEFINE_MANY_MERGED,
getChildContext: _.DEFINE_MANY_MERGED,
render: _.DEFINE_ONCE,
componentWillMount: _.DEFINE_MANY,
componentDidMount: _.DEFINE_MANY,
componentWillReceiveProps: _.DEFINE_MANY,
shouldComponentUpdate: _.DEFINE_ONCE,
componentWillUpdate: _.DEFINE_MANY,
componentDidUpdate: _.DEFINE_MANY,
componentWillUnmount: _.DEFINE_MANY,
updateComponent: _.OVERRIDE_BASE
}, w = {
displayName: function(e, t) {
e.displayName = t;
},
mixins: function(e, t) {
if (t) for (var n = 0; n < t.length; n++) o(e, t[n]);
},
childContextTypes: function(e, t) {
e.childContextTypes = h({}, e.childContextTypes, t);
},
contextTypes: function(e, t) {
e.contextTypes = h({}, e.contextTypes, t);
},
getDefaultProps: function(e, t) {
e.getDefaultProps ? e.getDefaultProps = s(e.getDefaultProps, t) : e.getDefaultProps = t;
},
propTypes: function(e, t) {
e.propTypes = h({}, e.propTypes, t);
},
statics: function(e, t) {
a(e, t);
},
autobind: function() {}
}, E = {
replaceState: function(e, t) {
this.updater.enqueueReplaceState(this, e), t && this.updater.enqueueCallback(this, t);
},
isMounted: function() {
return this.updater.isMounted(this);
},
setProps: function(e, t) {
this.updater.enqueueSetProps(this, e), t && this.updater.enqueueCallback(this, t);
},
replaceProps: function(e, t) {
this.updater.enqueueReplaceProps(this, e), t && this.updater.enqueueCallback(this, t);
}
}, I = function() {};
h(I.prototype, p.prototype, E);
var C = {
createClass: function(e) {
var t = function(e, t, n) {
this.__reactAutoBindMap && c(this), this.props = e, this.context = t, this.refs = y, 
this.updater = n || d, this.state = null;
var r = this.getInitialState ? this.getInitialState() : null;
"object" != typeof r || Array.isArray(r) ? g(!1) : void 0, this.state = r;
};
t.prototype = new I(), t.prototype.constructor = t, S.forEach(o.bind(null, t)), 
o(t, e), t.getDefaultProps && (t.defaultProps = t.getDefaultProps()), t.prototype.render ? void 0 : g(!1);
for (var n in T) t.prototype[n] || (t.prototype[n] = null);
return t;
},
injection: {
injectMixin: function(e) {
S.push(e);
}
}
};
e.exports = C;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
this.props = e, this.context = t, this.refs = a, this.updater = n || o;
}
var o = n(526), a = (n(241), n(195)), i = n(32);
n(40);
r.prototype.isReactComponent = {}, r.prototype.setState = function(e, t) {
"object" != typeof e && "function" != typeof e && null != e ? i(!1) : void 0, this.updater.enqueueSetState(this, e), 
t && this.updater.enqueueCallback(this, t);
}, r.prototype.forceUpdate = function(e) {
this.updater.enqueueForceUpdate(this), e && this.updater.enqueueCallback(this, e);
};
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(98), o = n(515), a = n(517), i = n(139), s = n(72), l = n(87), u = n(123), c = n(74), p = n(331), f = n(332), d = n(998);
n(40);
a.inject();
var h = l.measure("React", "render", s.render), y = {
findDOMNode: f,
render: h,
unmountComponentAtNode: s.unmountComponentAtNode,
version: p,
unstable_batchedUpdates: c.batchedUpdates,
unstable_renderSubtreeIntoContainer: d
};
"undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject && __REACT_DEVTOOLS_GLOBAL_HOOK__.inject({
CurrentOwner: r,
InstanceHandles: i,
Mount: s,
Reconciler: u,
TextComponent: o
});
e.exports = y;
}, function(e, t) {
"use strict";
var n = {
useCreateElement: !1
};
e.exports = n;
}, function(e, t, n) {
"use strict";
function r() {
if (this._rootNodeID && this._wrapperState.pendingUpdate) {
this._wrapperState.pendingUpdate = !1;
var e = this._currentElement.props, t = i.getValue(e);
null != t && o(this, e, t);
}
}
function o(e, t, n) {
var r, o, a = s.getNode(e._rootNodeID).options;
if (t) {
for (r = {}, o = 0; o < n.length; o++) r["" + n[o]] = !0;
for (o = 0; o < a.length; o++) {
var i = r.hasOwnProperty(a[o].value);
a[o].selected !== i && (a[o].selected = i);
}
} else {
for (r = "" + n, o = 0; o < a.length; o++) if (a[o].value === r) return void (a[o].selected = !0);
a.length && (a[0].selected = !0);
}
}
function a(e) {
var t = this._currentElement.props, n = i.executeOnChange(t, e);
return this._wrapperState.pendingUpdate = !0, l.asap(r, this), n;
}
var i = n(326), s = n(72), l = n(74), u = n(38), c = (n(40), "__ReactDOMSelect_value$" + Math.random().toString(36).slice(2)), p = {
valueContextKey: c,
getNativeProps: function(e, t, n) {
return u({}, t, {
onChange: e._wrapperState.onChange,
value: void 0
});
},
mountWrapper: function(e, t) {
var n = i.getValue(t);
e._wrapperState = {
pendingUpdate: !1,
initialValue: null != n ? n : t.defaultValue,
onChange: a.bind(e),
wasMultiple: Boolean(t.multiple)
};
},
processChildContext: function(e, t, n) {
var r = u({}, n);
return r[c] = e._wrapperState.initialValue, r;
},
postUpdateWrapper: function(e) {
var t = e._currentElement.props;
e._wrapperState.initialValue = void 0;
var n = e._wrapperState.wasMultiple;
e._wrapperState.wasMultiple = Boolean(t.multiple);
var r = i.getValue(t);
null != r ? (e._wrapperState.pendingUpdate = !1, o(e, Boolean(t.multiple), r)) : n !== Boolean(t.multiple) && (null != t.defaultValue ? o(e, Boolean(t.multiple), t.defaultValue) : o(e, Boolean(t.multiple), t.multiple ? [] : ""));
}
};
e.exports = p;
}, function(e, t, n) {
"use strict";
var r = n(505), o = n(325), a = n(327), i = n(72), s = n(38), l = n(242), u = n(339), c = (n(342), 
function(e) {});
s(c.prototype, {
construct: function(e) {
this._currentElement = e, this._stringText = "" + e, this._rootNodeID = null, this._mountIndex = 0;
},
mountComponent: function(e, t, n) {
if (this._rootNodeID = e, t.useCreateElement) {
var r = n[i.ownerDocumentContextKey], a = r.createElement("span");
return o.setAttributeForID(a, e), i.getID(a), u(a, this._stringText), a;
}
var s = l(this._stringText);
return t.renderToStaticMarkup ? s : "<span " + o.createMarkupForID(e) + ">" + s + "</span>";
},
receiveComponent: function(e, t) {
if (e !== this._currentElement) {
this._currentElement = e;
var n = "" + e;
if (n !== this._stringText) {
this._stringText = n;
var o = i.getNode(this._rootNodeID);
r.updateTextContent(o, n);
}
}
},
unmountComponent: function() {
a.unmountIDFromEnvironment(this._rootNodeID);
}
}), e.exports = c;
}, function(e, t, n) {
"use strict";
function r() {
this.reinitializeTransaction();
}
var o = n(74), a = n(201), i = n(38), s = n(86), l = {
initialize: s,
close: function() {
f.isBatchingUpdates = !1;
}
}, u = {
initialize: s,
close: o.flushBatchedUpdates.bind(o)
}, c = [ u, l ];
i(r.prototype, a.Mixin, {
getTransactionWrappers: function() {
return c;
}
});
var p = new r(), f = {
isBatchingUpdates: !1,
batchedUpdates: function(e, t, n, r, o, a) {
var i = f.isBatchingUpdates;
f.isBatchingUpdates = !0, i ? e(t, n, r, o, a) : p.perform(e, null, t, n, r, o, a);
}
};
e.exports = f;
}, function(e, t, n) {
"use strict";
function r() {
if (!I) {
I = !0, m.EventEmitter.injectReactEventListener(g), m.EventPluginHub.injectEventPluginOrder(s), 
m.EventPluginHub.injectInstanceHandle(b), m.EventPluginHub.injectMount(v), m.EventPluginHub.injectEventPluginsByName({
SimpleEventPlugin: w,
EnterLeaveEventPlugin: l,
ChangeEventPlugin: a,
SelectEventPlugin: S,
BeforeInputEventPlugin: o
}), m.NativeComponent.injectGenericComponentClass(h), m.NativeComponent.injectTextComponentClass(y), 
m.Class.injectMixin(p), m.DOMProperty.injectDOMPropertyConfig(c), m.DOMProperty.injectDOMPropertyConfig(E), 
m.EmptyComponent.injectEmptyComponent("noscript"), m.Updates.injectReconcileTransaction(_), 
m.Updates.injectBatchingStrategy(d), m.RootIndex.injectCreateReactRootIndex(u.canUseDOM ? i.createReactRootIndex : T.createReactRootIndex), 
m.Component.injectEnvironment(f);
}
}
var o = n(947), a = n(949), i = n(950), s = n(952), l = n(953), u = n(68), c = n(956), p = n(957), f = n(327), d = n(516), h = n(960), y = n(515), g = n(968), m = n(522), b = n(139), v = n(72), _ = n(972), S = n(980), T = n(981), w = n(982), E = n(979), I = !1;
e.exports = {
inject: r
};
}, function(e, t, n) {
"use strict";
function r() {
if (p.current) {
var e = p.current.getName();
if (e) return " Check the render method of `" + e + "`.";
}
return "";
}
function o(e, t) {
if (e._store && !e._store.validated && null == e.key) {
e._store.validated = !0;
a("uniqueKey", e, t);
}
}
function a(e, t, n) {
var o = r();
if (!o) {
var a = "string" == typeof n ? n : n.displayName || n.name;
a && (o = " Check the top-level render call using <" + a + ">.");
}
var i = h[e] || (h[e] = {});
if (i[o]) return null;
i[o] = !0;
var s = {
parentOrOwner: o,
url: " See https://fb.me/react-warning-keys for more information.",
childOwner: null
};
return t && t._owner && t._owner !== p.current && (s.childOwner = " It was passed a child from " + t._owner.getName() + "."), 
s;
}
function i(e, t) {
if ("object" == typeof e) if (Array.isArray(e)) for (var n = 0; n < e.length; n++) {
var r = e[n];
u.isValidElement(r) && o(r, t);
} else if (u.isValidElement(e)) e._store && (e._store.validated = !0); else if (e) {
var a = f(e);
if (a && a !== e.entries) for (var i, s = a.call(e); !(i = s.next()).done; ) u.isValidElement(i.value) && o(i.value, t);
}
}
function s(e, t, n, o) {
for (var a in t) if (t.hasOwnProperty(a)) {
var i;
try {
"function" != typeof t[a] ? d(!1) : void 0, i = t[a](n, a, e, o);
} catch (s) {
i = s;
}
if (i instanceof Error && !(i.message in y)) {
y[i.message] = !0;
r();
}
}
}
function l(e) {
var t = e.type;
if ("function" == typeof t) {
var n = t.displayName || t.name;
t.propTypes && s(n, t.propTypes, e.props, c.prop), "function" == typeof t.getDefaultProps;
}
}
var u = n(71), c = n(239), p = (n(238), n(98)), f = (n(241), n(337)), d = n(32), h = (n(40), 
{}), y = {}, g = {
createElement: function(e, t, n) {
var r = "string" == typeof e || "function" == typeof e, o = u.createElement.apply(this, arguments);
if (null == o) return o;
if (r) for (var a = 2; a < arguments.length; a++) i(arguments[a], e);
return l(o), o;
},
createFactory: function(e) {
var t = g.createElement.bind(null, e);
return t.type = e, t;
},
cloneElement: function(e, t, n) {
for (var r = u.cloneElement.apply(this, arguments), o = 2; o < arguments.length; o++) i(arguments[o], r.type);
return l(r), r;
}
};
e.exports = g;
}, function(e, t, n) {
"use strict";
var r, o = n(71), a = n(520), i = n(123), s = n(38), l = {
injectEmptyComponent: function(e) {
r = o.createElement(e);
}
}, u = function(e) {
this._currentElement = null, this._rootNodeID = null, this._renderedComponent = e(r);
};
s(u.prototype, {
construct: function(e) {},
mountComponent: function(e, t, n) {
return a.registerNullComponentID(e), this._rootNodeID = e, i.mountComponent(this._renderedComponent, e, t, n);
},
receiveComponent: function() {},
unmountComponent: function(e, t, n) {
i.unmountComponent(this._renderedComponent), a.deregisterNullComponentID(this._rootNodeID), 
this._rootNodeID = null, this._renderedComponent = null;
}
}), u.injection = l, e.exports = u;
}, function(e, t) {
"use strict";
function n(e) {
return !!a[e];
}
function r(e) {
a[e] = !0;
}
function o(e) {
delete a[e];
}
var a = {}, i = {
isNullComponentID: n,
registerNullComponentID: r,
deregisterNullComponentID: o
};
e.exports = i;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
try {
return t(n, r);
} catch (a) {
return void (null === o && (o = a));
}
}
var o = null, a = {
invokeGuardedCallback: r,
invokeGuardedCallbackWithCatch: r,
rethrowCaughtError: function() {
if (o) {
var e = o;
throw o = null, e;
}
}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
var r = n(164), o = n(196), a = n(198), i = n(510), s = n(519), l = n(237), u = n(525), c = n(87), p = n(528), f = n(74), d = {
Component: a.injection,
Class: i.injection,
DOMProperty: r.injection,
EmptyComponent: s.injection,
EventPluginHub: o.injection,
EventEmitter: l.injection,
NativeComponent: u.injection,
Perf: c.injection,
RootIndex: p.injection,
Updates: f.injection
};
e.exports = d;
}, function(e, t, n) {
"use strict";
function r(e) {
return a(document.documentElement, e);
}
var o = n(964), a = n(499), i = n(500), s = n(501), l = {
hasSelectionCapabilities: function(e) {
var t = e && e.nodeName && e.nodeName.toLowerCase();
return t && ("input" === t && "text" === e.type || "textarea" === t || "true" === e.contentEditable);
},
getSelectionInformation: function() {
var e = s();
return {
focusedElem: e,
selectionRange: l.hasSelectionCapabilities(e) ? l.getSelection(e) : null
};
},
restoreSelection: function(e) {
var t = s(), n = e.focusedElem, o = e.selectionRange;
t !== n && r(n) && (l.hasSelectionCapabilities(n) && l.setSelection(n, o), i(n));
},
getSelection: function(e) {
var t;
if ("selectionStart" in e) t = {
start: e.selectionStart,
end: e.selectionEnd
}; else if (document.selection && e.nodeName && "input" === e.nodeName.toLowerCase()) {
var n = document.selection.createRange();
n.parentElement() === e && (t = {
start: -n.moveStart("character", -e.value.length),
end: -n.moveEnd("character", -e.value.length)
});
} else t = o.getOffsets(e);
return t || {
start: 0,
end: 0
};
},
setSelection: function(e, t) {
var n = t.start, r = t.end;
if ("undefined" == typeof r && (r = n), "selectionStart" in e) e.selectionStart = n, 
e.selectionEnd = Math.min(r, e.value.length); else if (document.selection && e.nodeName && "input" === e.nodeName.toLowerCase()) {
var a = e.createTextRange();
a.collapse(!0), a.moveStart("character", n), a.moveEnd("character", r - n), a.select();
} else o.setOffsets(e, t);
}
};
e.exports = l;
}, function(e, t, n) {
"use strict";
var r = n(991), o = /\/?>/, a = {
CHECKSUM_ATTR_NAME: "data-react-checksum",
addChecksumToMarkup: function(e) {
var t = r(e);
return e.replace(o, " " + a.CHECKSUM_ATTR_NAME + '="' + t + '"$&');
},
canReuseMarkup: function(e, t) {
var n = t.getAttribute(a.CHECKSUM_ATTR_NAME);
n = n && parseInt(n, 10);
var o = r(e);
return o === n;
}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
function r(e) {
if ("function" == typeof e.type) return e.type;
var t = e.type, n = p[t];
return null == n && (p[t] = n = u(t)), n;
}
function o(e) {
return c ? void 0 : l(!1), new c(e.type, e.props);
}
function a(e) {
return new f(e);
}
function i(e) {
return e instanceof f;
}
var s = n(38), l = n(32), u = null, c = null, p = {}, f = null, d = {
injectGenericComponentClass: function(e) {
c = e;
},
injectTextComponentClass: function(e) {
f = e;
},
injectComponentClasses: function(e) {
s(p, e);
}
}, h = {
getComponentClassForElement: r,
createInternalComponent: o,
createInstanceForText: a,
isTextComponent: i,
injection: d
};
e.exports = h;
}, function(e, t, n) {
"use strict";
function r(e, t) {}
var o = (n(40), {
isMounted: function(e) {
return !1;
},
enqueueCallback: function(e, t) {},
enqueueForceUpdate: function(e) {
r(e, "forceUpdate");
},
enqueueReplaceState: function(e, t) {
r(e, "replaceState");
},
enqueueSetState: function(e, t) {
r(e, "setState");
},
enqueueSetProps: function(e, t) {
r(e, "setProps");
},
enqueueReplaceProps: function(e, t) {
r(e, "replaceProps");
}
});
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
function t(t, n, r, o, a, i) {
if (o = o || T, i = i || r, null == n[r]) {
var s = v[a];
return t ? new Error("Required " + s + " `" + i + "` was not specified in " + ("`" + o + "`.")) : null;
}
return e(n, r, o, a, i);
}
var n = t.bind(null, !1);
return n.isRequired = t.bind(null, !0), n;
}
function o(e) {
function t(t, n, r, o, a) {
var i = t[n], s = y(i);
if (s !== e) {
var l = v[o], u = g(i);
return new Error("Invalid " + l + " `" + a + "` of type " + ("`" + u + "` supplied to `" + r + "`, expected ") + ("`" + e + "`."));
}
return null;
}
return r(t);
}
function a() {
return r(_.thatReturns(null));
}
function i(e) {
function t(t, n, r, o, a) {
var i = t[n];
if (!Array.isArray(i)) {
var s = v[o], l = y(i);
return new Error("Invalid " + s + " `" + a + "` of type " + ("`" + l + "` supplied to `" + r + "`, expected an array."));
}
for (var u = 0; u < i.length; u++) {
var c = e(i, u, r, o, a + "[" + u + "]");
if (c instanceof Error) return c;
}
return null;
}
return r(t);
}
function s() {
function e(e, t, n, r, o) {
if (!b.isValidElement(e[t])) {
var a = v[r];
return new Error("Invalid " + a + " `" + o + "` supplied to " + ("`" + n + "`, expected a single ReactElement."));
}
return null;
}
return r(e);
}
function l(e) {
function t(t, n, r, o, a) {
if (!(t[n] instanceof e)) {
var i = v[o], s = e.name || T, l = m(t[n]);
return new Error("Invalid " + i + " `" + a + "` of type " + ("`" + l + "` supplied to `" + r + "`, expected ") + ("instance of `" + s + "`."));
}
return null;
}
return r(t);
}
function u(e) {
function t(t, n, r, o, a) {
for (var i = t[n], s = 0; s < e.length; s++) if (i === e[s]) return null;
var l = v[o], u = JSON.stringify(e);
return new Error("Invalid " + l + " `" + a + "` of value `" + i + "` " + ("supplied to `" + r + "`, expected one of " + u + "."));
}
return r(Array.isArray(e) ? t : function() {
return new Error("Invalid argument supplied to oneOf, expected an instance of array.");
});
}
function c(e) {
function t(t, n, r, o, a) {
var i = t[n], s = y(i);
if ("object" !== s) {
var l = v[o];
return new Error("Invalid " + l + " `" + a + "` of type " + ("`" + s + "` supplied to `" + r + "`, expected an object."));
}
for (var u in i) if (i.hasOwnProperty(u)) {
var c = e(i, u, r, o, a + "." + u);
if (c instanceof Error) return c;
}
return null;
}
return r(t);
}
function p(e) {
function t(t, n, r, o, a) {
for (var i = 0; i < e.length; i++) {
var s = e[i];
if (null == s(t, n, r, o, a)) return null;
}
var l = v[o];
return new Error("Invalid " + l + " `" + a + "` supplied to " + ("`" + r + "`."));
}
return r(Array.isArray(e) ? t : function() {
return new Error("Invalid argument supplied to oneOfType, expected an instance of array.");
});
}
function f() {
function e(e, t, n, r, o) {
if (!h(e[t])) {
var a = v[r];
return new Error("Invalid " + a + " `" + o + "` supplied to " + ("`" + n + "`, expected a ReactNode."));
}
return null;
}
return r(e);
}
function d(e) {
function t(t, n, r, o, a) {
var i = t[n], s = y(i);
if ("object" !== s) {
var l = v[o];
return new Error("Invalid " + l + " `" + a + "` of type `" + s + "` " + ("supplied to `" + r + "`, expected `object`."));
}
for (var u in e) {
var c = e[u];
if (c) {
var p = c(i, u, r, o, a + "." + u);
if (p) return p;
}
}
return null;
}
return r(t);
}
function h(e) {
switch (typeof e) {
case "number":
case "string":
case "undefined":
return !0;

case "boolean":
return !e;

case "object":
if (Array.isArray(e)) return e.every(h);
if (null === e || b.isValidElement(e)) return !0;
var t = S(e);
if (!t) return !1;
var n, r = t.call(e);
if (t !== e.entries) {
for (;!(n = r.next()).done; ) if (!h(n.value)) return !1;
} else for (;!(n = r.next()).done; ) {
var o = n.value;
if (o && !h(o[1])) return !1;
}
return !0;

default:
return !1;
}
}
function y(e) {
var t = typeof e;
return Array.isArray(e) ? "array" : e instanceof RegExp ? "object" : t;
}
function g(e) {
var t = y(e);
if ("object" === t) {
if (e instanceof Date) return "date";
if (e instanceof RegExp) return "regexp";
}
return t;
}
function m(e) {
return e.constructor && e.constructor.name ? e.constructor.name : "<<anonymous>>";
}
var b = n(71), v = n(238), _ = n(86), S = n(337), T = "<<anonymous>>", w = {
array: o("array"),
bool: o("boolean"),
func: o("function"),
number: o("number"),
object: o("object"),
string: o("string"),
any: a(),
arrayOf: i,
element: s(),
instanceOf: l,
node: f(),
objectOf: c,
oneOf: u,
oneOfType: p,
shape: d
};
e.exports = w;
}, function(e, t) {
"use strict";
var n = {
injectCreateReactRootIndex: function(e) {
r.createReactRootIndex = e;
}
}, r = {
createReactRootIndex: null,
injection: n
};
e.exports = r;
}, function(e, t) {
"use strict";
var n = {
currentScrollLeft: 0,
currentScrollTop: 0,
refreshScrollValues: function(e) {
n.currentScrollLeft = e.x, n.currentScrollTop = e.y;
}
};
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e, t) {
if (null == t ? o(!1) : void 0, null == e) return t;
var n = Array.isArray(e), r = Array.isArray(t);
return n && r ? (e.push.apply(e, t), e) : n ? (e.push(t), e) : r ? [ e ].concat(t) : [ e, t ];
}
var o = n(32);
e.exports = r;
}, function(e, t) {
"use strict";
var n = function(e, t, n) {
Array.isArray(e) ? e.forEach(t, n) : e && t.call(n, e);
};
e.exports = n;
}, function(e, t, n) {
"use strict";
function r() {
return !a && o.canUseDOM && (a = "textContent" in document.documentElement ? "textContent" : "innerText"), 
a;
}
var o = n(68), a = null;
e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
var t = e && e.nodeName && e.nodeName.toLowerCase();
return t && ("input" === t && r[e.type] || "textarea" === t);
}
var r = {
color: !0,
date: !0,
datetime: !0,
"datetime-local": !0,
email: !0,
month: !0,
number: !0,
password: !0,
range: !0,
search: !0,
tel: !0,
text: !0,
time: !0,
url: !0,
week: !0
};
e.exports = n;
}, function(e, t) {
e.exports = null;
}, function(e, t, n) {
"use strict";
function r(e) {
void 0 === e && (e = {});
var t = new o.Publisher(), n = function() {
var e = Array.prototype.slice.call(arguments);
t.publish.apply(t, e);
};
return Object.getOwnPropertyNames(o.Publisher.prototype).forEach(function(e) {
"function" == typeof t[e] ? n[e] = t[e].bind(t) : n[e] = t[e];
}), n.before.subscribe(function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
n.preEmit && n.preEmit.apply(n, e);
}), e.children && e.children.forEach(function(e) {
n[e] = r();
}), n;
}
var o = n(245);
t.createAction = r;
}, function(e, t, n) {
"use strict";
function r(e) {
void 0 === e && (e = {});
var t = new o.Store();
for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
return t.init && t.init.apply(t), t;
}
var o = n(51);
t.createStore = r;
}, function(e, t) {
"use strict";
var n = function() {
function e(e, t, n) {
this.publisher = e, this.onPublish = t, this.onUnsubscribe = n;
}
return e.prototype.unsubscribe = function() {
this.publisher ? (this.publisher.removeSubscription(this), delete this.publisher) : console.warn("Double unsubscribe on the same publisher, is it shared or a race?");
}, e;
}();
t.Subscription = n;
}, function(e, t, n) {
"use strict";
var r = n(634), o = n(50);
t.ribbonClient = r.createClient(o.gatewayClient.request);
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(10), i = n(6), s = n(7).Text, l = n(37).LINE_HEIGHTS, u = n(30).isRTLLanguage, c = {
ribbonName: {
marginBottom: i.getHeight(2),
textAlignForRTL: "left"
},
ribbonImageWrapper: {
flexDirection: "row",
justifyContent: "center"
},
ribbonImage: {
width: 256,
height: 256,
marginBottom: 2 * i.GUTTER
},
ribbonDescription: {
textLineSpacing: l.S,
marginBottom: 2 * i.GUTTER,
textAlignForRTL: "left"
},
xpStyle: {
opacity: .66,
textAlignForRTL: "left",
marginBottom: i.GUTTER
}
}, p = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), Object.defineProperty(n.prototype, "category", {
get: function() {
return this.props.selectionState.category;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "item", {
get: function() {
return this.props.selectionState.item;
},
enumerable: !0,
configurable: !0
}), n.prototype.renderRibbon = function() {
if (!this.item) return o.createElement("surface", null);
var e = u() ? {
marginRight: i.GUTTER
} : {}, t = this.item.name ? this.item.name.toUpperCase() : "", n = this.item.score || 0, r = void 0 !== n && o.createElement(s, {
value: n + __("ID_SPARTA_GENERIC_XP"),
size: "S",
style: [ c.xpStyle, e ]
}), a = this.item.description && o.createElement(s, {
size: "S",
value: this.item.description,
style: [ c.ribbonDescription, e ]
}), l = this.item.images && this.item.images.Small;
return o.createElement("surface", null, o.createElement("surface", {
style: c.ribbonImageWrapper
}, o.createElement("surface", {
style: [ c.ribbonImage, {
texture: l
} ]
})), o.createElement(s, {
value: t,
style: c.ribbonName
}), r, a);
}, n.prototype.render = function() {
var e = this.props.widthGridCells || 7;
return o.createElement(i.Col, {
width: e
}, this.renderRibbon());
}, n;
}(o.Component);
p = r([ a.observer ], p), t.RibbonFocusPane = p;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = n(635), o = n(538);
t.ribbonStore = new r.RibbonStore(o.ribbonClient);
}, function(e, t, n) {
"use strict";
var r = n(100), o = function() {
function e(e) {
this.awardName = e.awardName, this.code = e.code, this.name = e.name, this.progression = new r.Progression(e.progression);
}
return e;
}();
t.AwardCriteria = o;
}, function(e, t) {
"use strict";
var n = function() {
function e(e) {
this.items = [], e.name && (this.name = e.name), e.items && (this.items = e.items);
}
return e;
}();
t.KitGadgetUpgradesCategory = n;
}, function(e, t) {
"use strict";
var n = function() {
function e(e) {
void 0 === e && (e = {}), this.items = [], this.test = "TEST";
for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
}
return e;
}();
t.WeaponCategory = n;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(10), s = n(99), l = n(540), u = n(539), c = n(64), p = n(27), f = n(128), d = n(102)["default"], h = n(17), y = n(46), g = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.selectionState = new s.CareerSelectionState(), n;
}
return r(t, e), t.prototype.renderItem = function(e, t, n, r, o) {
return a.createElement(f, {
awardImage: t.images.Small,
awardCount: t.progression.valueAcquired,
itemState: this.selectionState.getItemState(n),
style: e,
ref: "item" + n,
star: t.star,
unlocked: t.progression && t.progression.unlocked,
onFocus: o
});
}, t.prototype.renderFocusPane = function(e) {
return a.createElement(u.RibbonFocusPane, {
ref: "focuspane",
widthGridCells: e,
selectionState: this.selectionState,
gameId: this.props.viewLocation.args.gameId
});
}, t.prototype.render = function() {
var e = l.ribbonStore.get(this.props.viewLocation.args.gameId), t = e && e.value && e.value.groups, n = t ? a.createElement(d, {
gameId: this.props.viewLocation.args.gameId,
preSelectedId: this.props.viewLocation.args.id,
categorizedData: t.slice(),
selectionState: this.selectionState,
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this),
ensureItemFocus: !0
}) : a.createElement(c, null, a.createElement(y, {
autoRun: !0,
size: 50
}));
return a.createElement(p, {
tallContent: !0,
scrollContent: !1
}, a.createElement("surface", {
style: {
height: h.content.height
}
}, n));
}, t;
}(a.Component);
g = o([ i.observer ], g), t.CareerRibbons = g;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = n(52), r = n(88), o = n(8), a = n(11), i = n(546), s = n(348), l = n(247), u = n(5), c = n(29), p = n(406), f = n(694);
t.initialize = function() {
var t = SpartaGlobals.bundleIsPC ? a.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-e580202a.png") : a.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-15285efc.png"), d = u.map(o.gameStore.games.toJS(), function(t) {
return new e.Route({
location: new r.Location(t.gameId),
fonts: t.fonts,
backgroundSize: [ 2048, 1200 ],
backgroundUrl: t.defaultBackgroundUrl,
getTitle: function() {
return t.displayName();
},
args: {
gameId: t.gameId
},
view: n(274)
});
});
c.addRouteConfig(new e.Route({
location: new r.Location("commerce"),
requireOnline: !0,
getTitle: function() {
return __("ID_SPARTA_MAIN_TITLE_STORE");
},
disabled: !1,
normalIconUrl: t,
skipToFirstChild: !0,
backgroundUrl: a.bbOfflineUrl("/sparta/jsclient/builds/assets/background-generic-0275aa85.dds"),
backgroundSize: [ 4084, 1480 ],
priority: 6,
hideInMainMenu: !0,
children: [ new e.Route({
location: new r.Location("store"),
getTitle: function() {
return __("ID_SPARTA_MAIN_TITLE_STORE");
},
view: n(697),
children: d.concat([ new e.Route({
location: new r.Location("access"),
getTitle: function() {
return __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_TAB_ORIGIN_ACCESS" : "ID_SPARTA_TAB_EA_ACCESS");
},
view: n(217),
children: [ new e.Route({
location: new r.Location("play-first"),
getTitle: function() {
return __("ID_SPARTA_ACCESS_PLAY_FIRST_TRIAL");
},
view: n(273)
}), new e.Route({
location: new r.Location("common-questions"),
getTitle: function() {
return __("ID_SPARTA_ACCESS_COMMON_QUESTIONS");
},
view: n(272)
}) ]
}) ])
}) ]
})), f(), s.OfferClient.startListening(), l.PurchaseClient.startListening(), p.startListening(), 
i.ShortcutKitsClient.startListening();
};
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = n(8), o = n(552), a = n(21), i = n(24), s = n(49);
t.ShortcutKitsClient = a.createClient({
requestOn: [ s.getShortcutKitsByLicense ],
throttle: 1e4,
request: function(e, t) {
return i.request("Loadout.getItemsByShortCutKitByLicense", {
game: e,
license: t
});
},
parse: function(e) {
return e.map(function(e) {
return new o.ShortcutKitItem(e);
});
},
update: function(e, t, n, o) {
r.shortcutKitsStore.setShortcutKit(n, o, t);
}
});
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
return new Promise(function(t) {
var n = v.findAll(e);
n ? t(n) : U.triggerAsPromise(e).then(function() {
var n = v.findAll(e);
t(n);
});
});
}
function r(e) {
switch (e.toLowerCase()) {
case "dub":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_DUB");

case "iad":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_IAD");

case "sjc":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_SJC");

case "nrt":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_NRT");

case "syd":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_SYD");

case "brz":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_BRZ");

case "hkg":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_HKG");

case "dxb":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_DXB");

case "jnb":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_JNB");

default:
return e.toUpperCase();
}
}
function o(e) {
var t = e.focused, n = e.listPrice, r = e.price, o = t ? "#000000" : "#ffffff";
return d.createElement("surface", {
style: {
alignItems: "flex-end"
}
}, d.createElement("surface", {
style: {
opacity: .5,
marginBottom: 5
}
}, d.createElement(y.Strikethrough, {
color: o,
value: n,
size: "XS"
})), d.createElement(I, {
color: o,
value: r,
size: "XS"
}));
}
var a = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, i = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, s = n(11), l = n(9), u = l.observable, c = l.action, p = n(10).observer, f = n(5), d = n(1), h = n(3), y = n(174), g = n(314).PingDisplay, m = n(33), b = n(18), v = n(289), _ = n(22), S = n(6), T = (n(159), 
n(59)), w = n(137), E = n(160), I = n(7).Text, C = n(469), A = n(13), P = n(20), O = n(12), R = n(25), k = n(42), x = n(17), M = n(31).alert, N = n(37).LINE_HEIGHTS, D = n(95), U = n(285).ListRSPClient, L = n(3), $ = n(8), G = n(165), F = s.bbOfflineUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"), B = s.bbOfflineUrl("/sparta/jsclient/builds/assets/close-black-47f1ec98.png"), j = s.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-plus-white-553dee09.png"), H = s.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-plus-a41f238a.png");
t.PingSiteLabelByAlias = r;
var V = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.render = function() {
return this.props.config && this.props.category ? d.createElement(this.props.category.configurator, {
config: this.props.config,
items: this.props.category.items,
focusGroup: this.props.focusGroup
}) : d.createElement("surface", null);
}, t;
}(d.Component);
t.CategoryConfigurator = V;
var z = function() {
function e(e) {
this.setting = e;
}
return e.prototype.update = function(e) {
this.setting = e;
}, e.prototype.remove = function(e) {
this.setting === e && (this.setting = null);
}, e;
}();
i([ u ], z.prototype, "setting", void 0), i([ c ], z.prototype, "update", null), 
i([ c ], z.prototype, "remove", null);
var W = new z(null), q = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.onTrigger = function(e) {
e.isEnabled && (e.toggle(), this.onAfterTrigger(e));
}, t.prototype.onAfterTrigger = function(e) {}, t.prototype.onMouseDown = function(e) {}, 
t.prototype.getInput = function(e) {
return [ new A({
label: __("ID_SPARTA_ACTION_SELECT"),
action: this.onTrigger.bind(this, e),
key: O.Accept
}) ];
}, t.prototype.getSubLabel = function(e) {
return e.value.toString();
}, t.prototype.getItems = function() {
var e = this;
return this.props.items.map(function(t, n) {
return d.createElement(L.Focusable, {
debugName: "setting_" + t.label,
key: "focusableItem" + n,
group: e.props.focusGroup,
onFocus: function() {
return W.update(t);
},
onBlur: function() {
return W.remove(t);
}
}, function(r) {
return d.createElement(w, {
key: n,
label: t.label,
focusItem: r,
muted: !t.isEnabled,
scrollLabel: !0,
subLabel: e.getSubLabel(t),
input: e.getInput(t),
onTrigger: e.onTrigger.bind(e, t)
});
});
});
}, t.prototype.render = function() {
var e = this.getItems(), t = S.getHeight(7), n = e.length - 1, r = (SpartaGlobals.bundleIsPC ? 9 : 8) * t + n, o = e.length * t + n, a = o > r ? r : void 0;
return d.createElement(S.Row, null, d.createElement(m.Scroller, {
style: {
height: a,
width: S.getWidth(6)
},
scrollbarPosition: "outside"
}, d.createElement(T, {
divider: "item",
items: e,
onMouseDown: this.onMouseDown.bind(this)
})), d.createElement(S.Col, {
width: 10.5,
style: {
margin: [ 0, 0, 0, S.CELL_WIDTH ]
}
}, d.createElement(K, null)));
}, t;
}(d.Component);
q = i([ p ], q), t.SettingsConfigurator = q;
var K = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.render = function() {
return W.setting ? d.createElement(he, {
header: W.setting.label,
description: W.setting.description
}) : d.createElement("surface", null);
}, t;
}(d.Component);
K = i([ p ], K);
var X = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.onMouseDown = function(e) {
if (e && e.button === h.MouseButton.Secondary) {
var t = !f.every(this.props.items, function(e) {
return e.setting.value;
});
this.props.items.forEach(function(e) {
e.setting.value !== t && e.toggle();
}), this.onAfterToggleAll(t);
}
}, t.prototype.onAfterToggleAll = function(e) {}, t.prototype.getSubLabel = function(e) {
return __(e.value ? "ID_SPARTA_FILTER_SETTING_ON" : "ID_SPARTA_FILTER_SETTING_OFF");
}, t;
}(q);
X = i([ p ], X), t.BooleanConfigurator = X;
var Y = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.getSubLabel = function(e) {
return d.createElement(C, {
value: e.value,
disabled: !e.isEnabled
});
}, t;
}(X);
Y = i([ p ], Y), t.CheckmarkConfigurator = Y;
var J = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.ensureMeleeOrHandgunEnabled(), n;
}
return a(t, e), t.prototype.ensureMeleeOrHandgunEnabled = function() {
var e = f.find(this.props.items, function(e) {
return "M" === e.setting.key;
}), t = f.find(this.props.items, function(e) {
return "H" === e.setting.key;
});
e && t && (e.setting.value || t.setting.value || e.toggle(), e.setting.value ? t.setting.value ? (t.enable(), 
e.enable()) : e.disable() : t.disable());
}, t.prototype.onAfterTrigger = function(e) {
this.ensureMeleeOrHandgunEnabled();
}, t.prototype.onAfterToggleAll = function(e) {
this.ensureMeleeOrHandgunEnabled();
}, t;
}(Y);
J = i([ p ], J), t.WeaponsConfigurator = J;
var Q = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.checkItemsRequirements(), n;
}
return a(t, e), t.prototype.checkItemsRequirements = function() {
var e = this.props.config.rspSettings.gameSettings.requireAtLeastOneOfKits;
if (e) {
var t = f.filter(this.props.items, function(t) {
return e.indexOf(t.id) > -1;
}), n = f.filter(t, function(e) {
return e.setting.value;
}), r = f.filter(t, function(e) {
return !e.setting.value;
});
n.length <= 1 ? (n.forEach(function(e) {
return e.disable();
}), r.forEach(function(e) {
return e.enable();
})) : this.props.items.forEach(function(e) {
e.enable();
});
}
}, t.prototype.onAfterTrigger = function(e) {
this.checkItemsRequirements();
}, t.prototype.onAfterToggleAll = function(e) {
e || this.props.items[0].toggle(), this.checkItemsRequirements();
}, t;
}(Y);
Q = i([ p ], Q), t.KitsConfigurator = Q;
var Z = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.getItems = function() {
return this.props.items.filter(function(e) {
return e.isVisible;
}).map(function(e) {
return d.createElement(ie, {
id: e.id,
key: e.id,
disabled: !e.isEnabled,
maxLength: e.maxLength,
value: e.value,
label: e.label,
onChange: function(t) {
return e.change(t);
}
});
});
}, t.prototype.render = function() {
return d.createElement(S.Col, {
width: 13
}, d.createElement(T, {
divider: "none",
items: this.getItems()
}));
}, t;
}(d.Component);
Z = i([ p ], Z), t.TextConfigurator = Z;
var ee = {
flexDirection: "row",
flex: 0,
width: SpartaGlobals.bundleIsConsole ? S.getWidth(1) : S.getWidth(2),
justifyContent: "flex-end"
}, te = function(e) {
var t = e.focused ? {
color: "#333333"
} : void 0;
return d.createElement(g, {
textStyle: t,
fontType: e.focused ? "emphasis" : "normal",
dark: e.focused,
ip: e.ip,
style: ee,
ping: e.ping
});
}, ne = function(e) {
var t = e.focused ? {
color: "#333333"
} : void 0;
return d.createElement(I, {
value: __("ID_SPARTA_COMMERCE_RSP_NO_CAPACITY"),
size: "XS",
style: t
});
}, re = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), Object.defineProperty(t.prototype, "radioOption", {
get: function() {
return this.props.items[0];
},
enumerable: !0,
configurable: !0
}), t.prototype.getLabel = function(e) {
return this.radioOption.formatSetting(e);
}, t.prototype.getSubLabel = function(e) {
return void 0;
}, t.prototype.onTrigger = function(e) {
this.radioOption.set(e);
}, t.prototype.getItems = function() {
var e = this;
return this.radioOption.options.map(function(t, n) {
return d.createElement(L.Focusable, {
debugName: "radiosetting_" + t.key,
key: "focusableItem" + n,
group: e.props.focusGroup,
groupIndex: n
}, function(r) {
return d.createElement(w, {
focusItem: r,
key: n,
scrollLabel: !0,
label: e.getLabel(t),
subLabel: e.getSubLabel(t),
onTrigger: function() {
return e.onTrigger(t);
}
});
});
});
}, t.prototype.render = function() {
return d.createElement(S.Col, {
width: 6
}, d.createElement(T, {
divider: "item",
items: this.getItems()
}));
}, t;
}(d.Component);
re = i([ p ], re), t.RadioConfigurator = re;
var oe = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.getLabel = function(e) {
return r(e.value.alias);
}, t.prototype.getSubLabel = function(e) {
return e.value.capacity > 0 ? d.createElement(te, {
ip: e.value.ip,
ping: e.value.ping
}) : d.createElement(ne, null);
}, t.prototype.onTrigger = function(e) {
e.value.capacity > 0 ? this.radioOption.set(e) : M(__("ID_SPARTA_COMMERCE_RSP_NO_CAPACITY_POPUP"), __("ID_SPARTA_COMMERCE_RSP_NO_CAPACITY"));
}, t;
}(re);
oe = i([ p ], oe), t.PingSiteConfigurator = oe;
var ae = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.getLabel = function(e) {
var t = e.value.days, n = __(1 === t ? "ID_SPARTA_COMMERCE_RSP_DAYSTOLIVE_SINGULAR" : "ID_SPARTA_COMMERCE_RSP_DAYSTOLIVE_PLURAL"), r = n.replace("[[daysToLive]]", t);
return r;
}, t.prototype.getSubLabel = function(e) {
var t = e.value, n = t.listPrice, r = t.price;
return n ? d.createElement(o, {
price: r,
listPrice: n
}) : r;
}, t;
}(re);
ae = i([ p ], ae), t.DaysConfigurator = ae;
var ie = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.render = function() {
return d.createElement("surface", {
style: {
flex: 1,
height: S.getHeight(7),
marginBottom: S.getHeight(1)
}
}, d.createElement(E, {
initialValue: this.props.value,
placeholder: this.props.label,
maxLength: this.props.maxLength,
disabled: this.props.disabled,
size: "S",
ref: "input",
onValueChanged: this.props.onChange,
style: {
flex: 1
}
}));
}, t;
}(d.Component);
ie = i([ p ], ie), t.TextFieldListItem = ie;
var se = {
list: {
width: S.getWidth(6)
},
removeButtonsWrapper: {
marginLeft: S.GUTTER,
marginTop: 1
},
removeButton: {
width: S.getHeight(7) + 2,
marginBottom: 1
}
}, le = function() {
function e(e) {
this.entry = e;
}
return e.prototype.update = function(e) {
this.entry = e;
}, e.prototype.remove = function(e) {
this.entry === e && (this.entry = null);
}, e;
}();
i([ u ], le.prototype, "entry", void 0), i([ c ], le.prototype, "update", null), 
i([ c ], le.prototype, "remove", null);
var ue = new le(null), ce = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), Object.defineProperty(t.prototype, "mapRotationOption", {
get: function() {
return this.props.items[0];
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = this.props.config.rspSettings.getSmallestGameModeSize(this.mapRotationOption.entries.slice().map(function(e) {
return e.gameMode.filterKey;
})), t = __("ID_SPARTA_COMMERCE_RSP_CONFIG_SERVER_SIZE_DESC").replace(/\[\[serverSize]]/, e.toString());
return d.createElement(S.Row, null, d.createElement(S.Col, {
width: SpartaGlobals.bundleIsPC ? 7 : 6
}, d.createElement(pe, {
focusGroup: this.props.focusGroup,
mapRotationOption: this.mapRotationOption
}), d.createElement(I, {
style: {
marginTop: 2 * S.GUTTER,
textAlignForRTL: "left"
},
value: t,
size: "XS"
})), d.createElement(S.Col, {
width: 10.5,
style: {
margin: [ 0, 0, 0, S.CELL_WIDTH ]
}
}, d.createElement(fe, null)));
}, t;
}(d.Component);
ce = i([ p ], ce), t.MapRotationConfigurator = ce;
var pe = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.mapSelectorOpen = !1, t;
}
return a(t, e), t.prototype.onSelected = function(e, t) {
this.props.mapRotationOption.changeEntry(e, t);
}, t.prototype.onPopupClosed = function(e) {
var t = this, n = this.props.focusGroup.members[e];
if (n) {
h.focus.system.setAsFocused(n, h.focus.FocusSource.Auto);
var r = n.getBounds();
this.refs.scroller && r && this.refs.scroller.scrollToBounds(r);
}
setTimeout(function() {
t.mapSelectorOpen = !1;
}, 500);
}, t.prototype.selectMap = function(e, t) {
this.mapSelectorOpen || (this.mapSelectorOpen = !0, R.display(new k({
id: "chooseMap",
fullScreen: !0,
createButtons: !1,
content: d.createElement(me, {
mapOptions: this.props.mapRotationOption.mapOptions,
gameModeOptions: this.props.mapRotationOption.gameModeOptions,
selected: e,
onClose: this.onPopupClosed.bind(this, t),
onSelect: this.onSelected.bind(this, t)
})
})));
}, t.prototype.addMapEntry = function() {
if (!this.mapSelectorOpen) {
var e = this.props.mapRotationOption.addEntry();
if (e) {
var t = this.props.mapRotationOption.entries.length - 1;
this.selectMap(e, t);
}
}
}, t.prototype.removeMapEntry = function(e, t) {
if (h.focus.system.controllerMode) {
var n = this.props.focusGroup.members[t - 1], r = this.props.focusGroup.members[t];
h.focus.system.setAsFocused(n || r, h.focus.FocusSource.Spatial);
}
this.props.mapRotationOption.removeEntry(t);
}, t.prototype.getItems = function() {
var e = this;
return this.props.mapRotationOption.entries.map(function(t, n) {
var r = [ new A({
label: __("ID_SPARTA_ACTION_CHANGE_MAP"),
action: e.selectMap.bind(e, t, n),
key: O.Accept
}) ];
h.focus.system.controllerMode && !e.props.mapRotationOption.hasMinEntries && r.push(new A({
label: __("ID_SPARTA_ACTION_REMOVE_MAP"),
action: e.removeMapEntry.bind(e, t, n),
key: O.Option1
}));
var o = d.createElement(L.Focusable, {
debugName: "mapRotationItem" + n,
group: e.props.focusGroup,
groupIndex: n,
key: "mapRotationItem" + n,
onFocus: function() {
return ue.update(t);
},
onBlur: function() {
return ue.remove(t);
}
}, function(e) {
return d.createElement(w, {
focusItem: e,
key: "mapentry" + n,
label: t.map.label,
scrollLabel: !0,
subLabel: t.gameMode.label,
input: r
});
});
return o;
});
}, t.prototype.renderDeleteEntryButtons = function() {
var e = this;
if (!SpartaGlobals.bundleIsConsole) {
var t = this.props.mapRotationOption.entries.map(function(t, n) {
return d.createElement(h.Focusable, {
debugName: "removeEntry" + n,
key: "removeEntry" + n
}, function(r) {
return d.createElement(_, {
icon: {
normal: F,
hover: B
},
size: 24,
focusItem: r,
style: se.removeButton,
key: "removeMapEntryButton" + n,
textSize: "XS",
disabled: e.props.mapRotationOption.hasMinEntries,
action: function() {
return e.removeMapEntry(t, n);
}
});
});
});
return d.createElement("surface", {
style: se.removeButtonsWrapper
}, f.compact(t));
}
}, t.prototype.renderAddEntryButton = function() {
var e = this;
return d.createElement(T, {
style: se.list,
items: [ d.createElement(h.Focusable, {
debugName: "addEntry",
group: this.props.focusGroup,
groupIndex: 1e3,
key: "addEntry"
}, function(t) {
return d.createElement(w, {
id: "create-entry",
key: "add-entry",
label: "",
muted: e.props.mapRotationOption.hasMaxEntries,
fontSize: "L",
focusItem: t,
focusIcon: H,
blurIcon: j,
input: [ new A({
label: __("ID_SPARTA_COMMERCE_RSP_ADD_MAP"),
action: e.addMapEntry.bind(e),
key: O.Accept,
blockInputFor: 500
}) ]
});
}) ]
});
}, t.prototype.render = function() {
var e = this.getItems(), t = S.getHeight(7), n = e.length - 1, r = (SpartaGlobals.bundleIsPC ? 8 : 6) * t + n, o = e.length * t + n, a = o > r ? r : void 0, i = S.getWidth(SpartaGlobals.bundleIsPC ? 7.2 : 6);
return d.createElement(S.Col, null, d.createElement(m.Scroller, {
style: {
height: a,
width: i
},
ref: "scroller",
scrollbarPosition: "outside"
}, d.createElement("surface", {
style: {
flexDirection: "row"
}
}, d.createElement(T, {
divider: "item",
style: se.list,
items: e
}), this.renderDeleteEntryButtons())), this.renderAddEntryButton());
}, t;
}(d.Component);
pe = i([ p ], pe);
var fe = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.render = function() {
return ue.entry ? d.createElement(he, {
imageUrl: ue.entry.map.images.image("Medium"),
header: ue.entry.map.label,
subHeader: ue.entry.gameMode.label,
description: ue.entry.gameMode.description
}) : d.createElement("surface", null);
}, t;
}(d.Component);
fe = i([ p ], fe);
var de = {
image: {
backgroundColor: "#000000",
height: S.getHeight(32),
textureMode: "cover",
marginBottom: 2 * S.GUTTER,
layer: !0,
layerGrabBackground: !1
}
}, he = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.render = function() {
var e, t = this.props, n = t.imageUrl, r = t.header, o = t.subHeader, a = t.description;
n && (e = d.createElement("surface", {
style: [ de.image, {
texture: n
} ]
}));
var i;
o && (i = d.createElement(I, {
value: o,
size: "S",
style: {
textLineSpacing: N.L,
textAlignForRTL: "left"
}
}));
var s;
return a && (s = d.createElement(I, {
value: a,
size: "S",
style: {
textLineSpacing: N.S,
textAlignForRTL: "left"
}
})), d.createElement("surface", null, e, d.createElement(I, {
value: r,
size: "L",
type: "emphasis",
style: {
textLineSpacing: N.XL,
textAlignForRTL: "left"
}
}), i, s);
}, t;
}(d.Component);
he = i([ p ], he);
var ye, ge = {
header: {
position: "absolute",
flexDirection: "row",
alignItems: "flex-end"
},
heading: {
textLineSpacing: N.XL,
marginRight: S.GUTTER
},
content: {
position: "absolute"
},
list: {
width: S.getWidth(6)
}
};
!function(e) {
e[e.Map = 0] = "Map", e[e.GameMode = 1] = "GameMode", e[e.Complete = 2] = "Complete";
}(ye || (ye = {}));
var me = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.selected = {
gameMode: n.props.selected.gameMode,
map: n.props.selected.map
}, n.step = ye.Map, n;
}
return a(t, e), t.prototype.getInput = function() {
return [ new A({
label: __("ID_SPARTA_ACTION_CANCEL"),
key: O.Decline,
action: this.closePopup.bind(this)
}) ];
}, t.prototype.closePopup = function() {
this.step = ye.Complete;
var e = this.props.popupInfo && this.props.popupInfo.id;
R.close(e), setTimeout(this.props.onClose, 100);
}, t.prototype.onMapSelected = function(e) {
this.selected.map = e, this.step = ye.GameMode;
}, t.prototype.onGameModeSelected = function(e) {
var t = {
gameMode: e,
map: this.selected.map
};
this.onComplete(t);
}, t.prototype.onComplete = function(e) {
this.props.onSelect(e), this.closePopup();
}, t.prototype.render = function() {
switch (this.step) {
case ye.Map:
return d.createElement(Se, {
title: [ "1/2", "-", __("ID_SPARTA_COMMERCE_RSP_SELECTMAP") ],
onSelect: this.onMapSelected.bind(this),
onCancel: this.closePopup.bind(this),
selected: this.selected.map,
options: this.props.mapOptions
});

case ye.GameMode:
return d.createElement(Se, {
title: [ "2/2", "-", __("ID_SPARTA_COMMERCE_RSP_SELECTMODE") ],
onSelect: this.onGameModeSelected.bind(this),
onCancel: this.closePopup.bind(this),
selected: this.selected.gameMode,
options: this.props.gameModeOptions
});

case ye.Complete:
default:
return null;
}
}, t;
}(d.Component);
i([ u ], me.prototype, "selected", void 0), i([ u ], me.prototype, "step", void 0), 
i([ c ], me.prototype, "closePopup", null), i([ c ], me.prototype, "onMapSelected", null), 
me = i([ p, P() ], me);
var be = function() {
function e(e) {
this.entry = e;
}
return e.prototype.update = function(e) {
this.entry = e;
}, e.prototype.remove = function(e) {
this.entry === e && (this.entry = null);
}, e;
}();
i([ u ], be.prototype, "entry", void 0), i([ c ], be.prototype, "update", null), 
i([ c ], be.prototype, "remove", null);
var ve = new be(null), _e = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.render = function() {
return ve.entry ? d.createElement(he, {
imageUrl: ve.entry.images.image("Medium"),
header: ve.entry.label,
description: ve.entry.description
}) : d.createElement("surface", null);
}, t;
}(d.Component);
_e = i([ p ], _e);
var Se = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.componentWillReceiveProps = function(e) {
ve.update(e.selected);
}, t.prototype.renderItems = function() {
var e = this;
return this.props.options.map(function(t, n) {
var r = new A({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
e.props.onSelect(t);
},
key: O.Accept,
blockInputFor: 500
});
return d.createElement(L.Focusable, {
debugName: "selectorItem" + t.id,
key: "mapmode" + n,
autoFocusCandidate: e.props.selected === t,
onFocus: function() {
return ve.update(t);
},
onBlur: function() {
return ve.remove(t);
}
}, function(n) {
return d.createElement(w, {
label: t.label,
focusItem: n,
id: t.id,
input: r,
scrollLabel: !0,
isActive: e.props.selected === t,
ref: t.id,
showActiveIndicator: !0
});
});
});
}, t.prototype.renderCloseButton = function() {
var e = this, t = {
position: "absolute",
top: 0,
right: 0,
zOffset: 100
};
return d.createElement("surface", {
style: t
}, d.createElement(L.Focusable, {
debugName: "selectorPopup"
}, function(t) {
return d.createElement(D, {
action: function() {
return e.props.onCancel();
},
focusItem: t,
size: 24,
icon: F,
style: {
padding: S.GUTTER
}
});
}));
}, t.prototype.render = function() {
var e = this.props.title.map(function(e) {
return d.createElement(I, {
value: (e || "").toUpperCase(),
size: "XL",
style: [ ge.heading ]
});
});
return d.createElement("surface", {
style: {
position: "absolute"
}
}, d.createElement("surface", {
style: [ ge.header, x.header.style ]
}, e, SpartaGlobals.bundleIsPC && this.renderCloseButton()), d.createElement(S.Row, {
style: [ ge.content, x.content.style ]
}, d.createElement(S.Col, {
width: 6,
style: {
margin: [ 0, S.CELL_WIDTH, 0, 0 ]
}
}, d.createElement(T, {
divider: "item",
items: this.renderItems()
})), d.createElement(S.Col, {
width: 12
}, d.createElement(_e, null))));
}, t;
}(d.Component);
Se = i([ p ], Se);
var Te = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.state = {}, n;
}
return a(n, t), n.prototype.componentWillMount = function() {
var t = this;
this.props.display.indexOf("resume") >= 0 && G.fetchResumablePurchase(this.props.gameId, "Orphaned").then(function(e) {
t.setState({
orphanedPurchase: e
});
}), this.props.display.indexOf("servers") >= 0 && e(this.props.gameId).then(function(e) {
t.setState({
servers: e
});
}), this.game = $.gameStore.getGame(this.props.gameId);
}, n.prototype.renderButton = function() {
var e = this;
return !this.state.orphanedPurchase && this.state.servers && this.state.servers.length > 0 ? d.createElement(S.Col, {
width: 6,
style: {
marginRight: 2 * S.GUTTER
}
}, d.createElement(_, {
size: 24,
text: __("ID_SPARTA_COMMERCE_RSP_VIEW_YOUR_SERVERS_BUTTON"),
textSize: "S",
action: function() {
b.gotoLocation(e.game.serverListRoute + "?tab=rented");
}
})) : void 0;
}, n.prototype.render = function() {
var e = "";
return this.state.orphanedPurchase ? e = __("ID_SPARTA_COMMERCE_RSP_ORPHANED_PURCHASE_DESC") : this.state.servers && this.state.servers.length > 0 && (e = this.state.servers.length > 1 ? __("ID_SPARTA_COMMERCE_RSP_OWNED_SERVERS").replace("[[n]]", this.state.servers.length) : __("ID_SPARTA_COMMERCE_RSP_OWNED_SERVER")), 
d.createElement(S.Row, {
height: 7,
style: {
alignItems: "center"
}
}, this.renderButton(), d.createElement(I, {
value: e,
size: "S"
}));
}, n;
}(d.Component);
Te = i([ p ], Te), t.PurchaseInfo = Te;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(3), s = n(10), l = n(8), u = n(33), c = n(62), p = n(66), f = n(3), d = n(39), h = n(6), y = n(7).Text, g = n(22), bbOfflineUrl = n(11).bbOfflineUrl, m = n(19), b = n(42), v = n(25), _ = n(46), S = n(12), T = n(13), w = n(49), E = {
dock: {
flex: 1,
justifyContent: "center",
alignItems: "center"
},
container: {
alignItems: "center"
},
kitIcon: {
width: h.getWidth(14),
height: h.getWidth(2),
color: "#ffffff",
margin: 2 * h.GUTTER,
textureMode: "contain"
},
button: {
width: h.getWidth(6),
marginTop: 2 * h.GUTTER
},
categoryHeader: {
marginBottom: h.GUTTER,
marginTop: 2 * h.GUTTER
},
itemRow: {
backgroundColor: "#ffffff05",
padding: 10,
flexDirection: "row",
marginBottom: h.GUTTER,
alignItems: "center"
},
itemImage: {
width: h.getWidth(3),
height: h.getHeight(7),
marginRight: h.getWidth(3)
},
itemName: {
width: h.getWidth(5),
marginRight: h.getWidth(1)
},
itemCategory: {
opacity: .5
},
spinnerContainer: {
alignItems: "center",
justifyContent: "center",
height: h.getHeight(40)
}
}, I = s.observer(function(e) {
var t = e.item, n = Object.assign({}, E.itemImage, {
texture: t.images.Small
});
return a.createElement(f.Focusable, {
debugName: i.autoId("ShortcutKitItemRow")
}, function(e) {
return a.createElement("surface", r({
style: E.itemRow
}, e.hooks), a.createElement("surface", {
style: n
}), a.createElement(y, {
style: E.itemName,
size: "S",
value: t.name
}), a.createElement(p.Marquee, {
width: h.getWidth(2),
scroll: e.isFocused || e.isHovered
}, a.createElement(y, {
style: E.itemCategory,
size: "S",
value: t.slot
})));
});
}), C = function() {
v.close("confirmPurchasePopup");
}, A = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.currentGroup = "", n.gameId = m.getState().hostingGameId, n.license = e.offer && e.offer.licenses && e.offer.licenses[0], 
n.offerGameId = e.offer && e.offer.gameId, w.getShortcutKitsByLicense(n.offerGameId, n.license), 
n;
}
return e(n, t), Object.defineProperty(n.prototype, "currentGame", {
get: function() {
return l.gameStore.getGame(m.getState().hostingGameId);
},
enumerable: !0,
configurable: !0
}), n.prototype.getLicenseInfo = function() {
var e = "", t = "";
switch (this.license) {
case "sh_assault":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_ASSAULT"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-assault-light-9a9ad58d.png");
break;

case "sh_medic":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_MEDIC"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-medic-light-cb4ac00e.png");
break;

case "sh_scout":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_SCOUT"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-scout-light-288bc674.png");
break;

case "sh_support":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_SUPPORT"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-support-light-107891af.png");
break;

case "sh_player":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_INFANTRY"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-infantry-light-a2d6c325.png");
break;

case "sh_vehicle":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_VEHICLE"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-vehicle-light-92d3285c.png");
break;

case "sh_ultimate":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_ULTIMATE"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-ultimate-light-8131a325.png");
}
return {
scName: e,
scIcon: t
};
}, n.prototype.renderItems = function(e) {
var t = this;
return e.length ? e.map(function(e) {
var n;
return t.currentGroup !== e.category && (n = a.createElement(y, {
size: "S",
style: E.categoryHeader,
value: e.category
}), t.currentGroup = e.category), a.createElement("surface", {
key: e.name
}, n, a.createElement(I, {
key: e.name,
item: e
}));
}) : a.createElement("surface", {
style: E.spinnerContainer
}, a.createElement(_, {
size: 50,
autoRun: !0
}));
}, n.prototype.render = function() {
var e = this, t = l.shortcutKitsStore.getByLicense(this.offerGameId, this.license), n = this.getLicenseInfo(), r = n.scName, o = n.scIcon, i = __("ID_SPARTA_COMMERCE_SHORTCUT_UNLOCKED").replace("[SHORTCUT]", r.toUpperCase()), s = __("ID_SPARTA_COMMERCE_SHORTCUT_UNLOCKED_DESCRIPTION").replace("[NUM]", (t.length ? t.length : "") + ""), p = Object.assign({}, E.kitIcon, {
texture: o
}), f = Object.assign({}, E.container, c.uiState.viewportScale), m = a.createElement("surface", null, a.createElement(g, {
text: __("ID_SPARTA_ACTION_CONTINUE"),
style: E.button,
action: function() {
C(), e.props.onClose();
}
}), d.routeIsHostingGame() && l.settingsStore.isFeatureEnabled("tunguskaCustomizeFrontend") && a.createElement(g, {
text: __("ID_SPARTA_CUSTOMIZE_SOLDIER"),
style: E.button,
action: function() {
C(), e.props.onClose(), e.currentGame.customizeSoldierAction();
}
}));
return a.createElement("surface", {
style: E.dock
}, a.createElement("surface", {
style: f
}, a.createElement("surface", {
style: p
}), a.createElement(y, {
size: "L",
value: i
}), a.createElement(y, {
size: "S",
value: s
}), a.createElement("surface", {
style: {
marginTop: 5 * h.GUTTER,
marginBottom: 5 * h.GUTTER
}
}, a.createElement(u.Scroller, {
controller: !0,
scrollbar: !0,
style: {
height: h.getHeight(40),
width: h.getWidth(14)
},
softClip: [ 0, 5 * h.GUTTER, 0, 5 * h.GUTTER ]
}, this.renderItems(t))), SpartaGlobals.bundleIsPC && m));
}, n;
}(a.Component);
A = o([ s.observer ], A), t.ShortcutKitSuccess = A, t.shortcutKitSuccessButtons = function(e) {
var t = [ new T({
key: S.Accept,
label: __("ID_SPARTA_ACTION_CONTINUE"),
action: function() {
C(), e();
}
}), new T({
key: S.Decline,
visible: !1,
action: function() {
C(), e();
}
}) ];
return d.routeIsHostingGame() && l.settingsStore.isFeatureEnabled("tunguskaCustomizeFrontend") && t.push(new T({
key: S.Option2,
label: __("ID_SPARTA_CUSTOMIZE_SOLDIER"),
action: function() {
var t = l.gameStore.getGame(m.getState().hostingGameId);
C(), t.customizeSoldierAction(), e();
}
})), t;
}, t.openShortcutKitSuccess = function(e) {
return new Promise(function(n) {
v.display(new b({
content: a.createElement(A, {
onClose: n,
offer: e.offer
}),
id: "confirmPurchasePopup",
fullScreen: !0,
containContent: !1,
createButtons: !1,
inputs: t.shortcutKitSuccessButtons(n)
}));
});
};
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t) {
var n = e.filter(function(e) {
return -1 !== t.indexOf(e.filterKey);
});
return n;
}
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(249), i = n(350), s = n(3), l = n(5), u = function() {
function t(e, t, n, r, o, a, i, s, l) {
this.gameId = e, this.server = t, this.gameSettings = o, this._gameData = n, this._rspTemplate = r, 
this._rspPingSites = s, this._gamePingSites = l, this._offers = a, this.orphanedPurchase = i;
}
return Object.defineProperty(t.prototype, "hasPingSites", {
get: function() {
return this.pingSites && this.pingSites.length > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasOffers", {
get: function() {
return this.offers && this.offers.length > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasTemplate", {
get: function() {
return !!this._rspTemplate;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasServer", {
get: function() {
return !!this.server;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "gameModes", {
get: function() {
var e = this, t = this._rspTemplate.gameModes.filter(function(t) {
return -1 === e.gameSettings.excludedGameModes.indexOf(t.gameModeShortName);
}), n = t.map(function(t) {
var n = l.find(e._gameData.gameModes, function(e) {
var n = e.filterKey;
return n === t.gameModeName;
});
return n ? new a.GameMode(t.gameModeShortName, t.gameModeName, n.prettyName, n.description, new a.ImageSet(l.map(n.images, function(e, t) {
return {
id: t,
url: e
};
}))) : void 0;
}), r = l.sortBy(l.compact(n), function(e) {
return e.label;
});
return r;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "defaultGameMode", {
get: function() {
return l.first(this.gameModes);
},
enumerable: !0,
configurable: !0
}), t.prototype.getSmallestGameModeSize = function(e) {
return this._rspTemplate.getSmallestGameModeSize(e);
}, Object.defineProperty(t.prototype, "maps", {
get: function() {
var e = this, t = this._rspTemplate.levels.map(function(t) {
var n = l.find(e._gameData.maps, function(e) {
return e.filterKey === t.levelName;
});
return n ? new a.Map(n.filterKey, n.prettyName, n.description, new a.ImageSet(l.map(n.images, function(e, t) {
return {
id: t,
url: e
};
}))) : void 0;
}), n = l.sortBy(l.compact(t), function(e) {
return e.label;
});
return n;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "defaultMap", {
get: function() {
return l.first(this.maps);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "weapons", {
get: function() {
var t = this._rspTemplate.getMask("weaponmask").entries, n = this._gameData.settings.Weapons, r = e(n, t);
return r;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "kits", {
get: function() {
var t = this._rspTemplate.getMask("kitmask").entries, n = this._gameData.settings.Kits, r = e(n, t);
return r;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "vehicles", {
get: function() {
var t = this._rspTemplate.getMask("vehiclemask").entries, n = this._gameData.settings.Vehicles, r = e(n, t);
return r;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "misc", {
get: function() {
var t = this._rspTemplate.getMask("settingmask").entries, n = this._gameData.settings.Misc, r = e(n, t);
return r;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "scales", {
get: function() {
var e = this._rspTemplate.getMask("scalemask"), t = this._gameData.settings.Scales, n = t.map(function(t) {
var n = l.object(l.compact(l.map(t.options, function(t, n) {
return -1 !== e.entries.indexOf(n) ? [ n, t ] : void 0;
})));
return s.assign({}, t, {
options: n
});
});
return n;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "pingSites", {
get: function() {
var e = this, t = l.chain(this._gamePingSites).values().sortBy("ping").map(function(t) {
var n = l.find(e._rspPingSites, function(e) {
return e.siteAlias === t.alias;
}), r = n ? parseInt(n.capacity) : 0;
return new i.RichPingSite(t.ping, t.alias, r, t.ip);
}).value();
return t;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "defaultPingSite", {
get: function() {
var e = l.chain(this.pingSites).filter(function(e) {
return e.ping >= 0 && e.capacity > 0;
}).sortBy("ping").first().value();
return e ? e : new i.RichPingSite(-1, "", 0, "");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "offers", {
get: function() {
var e, t = /^rsp:Slots=(\d+),Days=(\d+)$/;
if (this.orphanedPurchase && this.orphanedPurchase.data) {
var n = this.orphanedPurchase.data.match(t), r = n[2];
e = [ {
price: __("ID_SPARTA_COMMERCE_RSP_OFFER_PRICE_PAID"),
days: parseInt(r, 10),
offer: l.find(this._offers, function(e) {
var n = e.data.match(t), o = n[2];
return o === r;
})
} ];
} else e = l.map(this._offers, function(e) {
var n = e.data.match(t), r = n[2];
return {
price: e.price,
listPrice: e.listPrice,
days: parseInt(r, 10),
offer: e
};
});
var o = l.sortBy(e, function(e) {
return e.days;
});
return o;
},
enumerable: !0,
configurable: !0
}), t;
}();
r([ o.observable ], u.prototype, "_gameData", void 0), r([ o.observable ], u.prototype, "_rspTemplate", void 0), 
r([ o.observable ], u.prototype, "_rspPingSites", void 0), r([ o.observable ], u.prototype, "_offers", void 0), 
r([ o.observable ], u.prototype, "orphanedPurchase", void 0), r([ o.computed ], u.prototype, "hasPingSites", null), 
r([ o.computed ], u.prototype, "hasOffers", null), r([ o.computed ], u.prototype, "hasTemplate", null), 
r([ o.computed ], u.prototype, "hasServer", null), r([ o.computed ], u.prototype, "gameModes", null), 
r([ o.computed ], u.prototype, "defaultGameMode", null), r([ o.computed ], u.prototype, "maps", null), 
r([ o.computed ], u.prototype, "defaultMap", null), r([ o.computed ], u.prototype, "weapons", null), 
r([ o.computed ], u.prototype, "kits", null), r([ o.computed ], u.prototype, "vehicles", null), 
r([ o.computed ], u.prototype, "misc", null), r([ o.computed ], u.prototype, "scales", null), 
r([ o.computed ], u.prototype, "pingSites", null), r([ o.computed ], u.prototype, "defaultPingSite", null), 
r([ o.computed ], u.prototype, "offers", null), t.RSPSettings = u;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = n(49), o = function() {
function e() {
this.templates = {};
}
return e.prototype.getTemplate = function(e) {
return this.templates[e];
}, e.prototype.setTemplate = function(e, t) {
this.templates[e] = t;
}, e;
}();
t.rspTemplateStore = new o(), r.updateRSPTemplate.listen(function(e, n) {
t.rspTemplateStore.setTemplate(e, n);
});
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = function() {
function e() {
this.shortcutKits = o.map();
}
return e.prototype.setShortcutKit = function(e, t, n) {
var r = e + "-" + t;
this.shortcutKits.set(r, n);
}, e.prototype.getByLicense = function(e, t) {
var n = e + "-" + t;
return this.shortcutKits.get(n) || [];
}, e;
}();
r([ o.observable ], a.prototype, "shortcutKits", void 0), r([ o.action ], a.prototype, "setShortcutKit", null), 
t.ShortcutKitsStore = a;
}, function(e, t) {
"use strict";
var n = function() {
function e(e) {
this.name = e.name, this.category = e.category, this.images = e.images, this.slot = e.slot;
}
return e;
}();
t.ShortcutKitItem = n;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(9), i = n(10), s = n(11), l = n(8), u = n(6), c = n(17), p = n(7).Text, f = n(271), d = function() {
function e() {
this.shouldBeVisible = !1, this.hasSubscription = !1, this.useOffset = !1;
}
return e.prototype.setVisbility = function(e) {
this.shouldBeVisible = e;
}, e.prototype.setSubscription = function(e) {
this.hasSubscription = e;
}, e.prototype.setOffset = function(e) {
this.useOffset = e;
}, Object.defineProperty(e.prototype, "isVisible", {
get: function() {
return this.hasSubscription && this.shouldBeVisible;
},
enumerable: !0,
configurable: !0
}), e;
}();
r([ a.observable ], d.prototype, "shouldBeVisible", void 0), r([ a.observable ], d.prototype, "hasSubscription", void 0), 
r([ a.observable ], d.prototype, "useOffset", void 0), r([ a.action ], d.prototype, "setVisbility", null), 
r([ a.action ], d.prototype, "setSubscription", null), r([ a.action ], d.prototype, "setOffset", null), 
r([ a.computed ], d.prototype, "isVisible", null);
var h = new d();
a.reaction(function() {
return l.locationStore.location;
}, function(e) {
var t = -1 !== e.url.indexOf("store/list"), n = -1 !== e.url.indexOf("battlepacks?tab=get");
h.setVisbility(t || n), h.setOffset(n);
}, !0), f.listen(function(e) {
return h.setSubscription(e);
});
var y = function(t) {
function n(e) {
return t.call(this, e) || this;
}
return e(n, t), n.prototype.render = function() {
var e = SpartaGlobals.bundleIsPC ? s.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-originaccess-a535b212.png") : s.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-eaaccess-433bac60.png"), t = u.getWidth(4), n = h.isVisible ? .2 : 0, r = {
texture: e,
height: u.getHeight(6),
width: t,
textureMode: "contain",
textureAlign: [ 1, 1 ],
opacity: n
}, a = {
marginTop: SpartaGlobals.bundleIsPC ? 0 : u.GUTTER,
opacity: n,
width: t,
textAlign: "right"
}, i = c.dangerZoneSize.height + c.footer.height + c.fadeAreaBottom.height, l = {
height: u.getHeight(20),
width: t,
flexDirection: "column",
justifyContent: "flex-end",
position: "absolute",
bottom: i,
right: c.dangerZoneSize.width
};
return SpartaGlobals.bundleIsPC ? (l.top = h.useOffset ? -30 : 0, l.right += c.comCenterWidth) : l.bottom = i, 
this.props.style && (l = Object.assign({}, this.props.style)), o.createElement("surface", {
style: l
}, o.createElement("surface", {
style: r
}), o.createElement(p, {
value: __("ID_SPARTA_COMMERCE_ACCESS_DISCOUNT"),
size: "XS",
style: a,
section: "generic"
}));
}, n;
}(o.Component);
y = r([ i.observer ], y), t.AccessImage = y;
}).call(t, n(2));
}, function(e, t, n) {
(function(e) {
"use strict";
function r() {
function e() {
return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1);
}
return e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e();
}
function o() {
var e = u.flush();
e.length && (l.info("--->", e), s.httpRequest(s.HttpMethod.POST, "http://www.google-analytics.com/batch", e.join("\n"), "", !1, function() {}));
}
var a = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, i = n(5), s = n(3), l = e.get("Analytics"), u = function() {
function e() {}
return e.add = function(e) {
this.items.push(e);
}, e.flush = function() {
return this.items.splice(0, 15);
}, e;
}();
u.items = [];
var c = function() {
function e(e, t) {
void 0 === t && (t = !1), this.props = e, this.enabled = t, this.transientProps = {};
}
return e.prototype.set = function(e) {
this.props = a({}, this.props, e);
}, e.prototype.setTransient = function(e) {
this.transientProps = a({}, this.transientProps, e);
}, e.prototype.getTransientProps = function() {
var e = a({}, this.transientProps);
return this.transientProps = {}, e;
}, e.prototype.send = function(e) {
if (this.enabled) {
var t = a({}, this.props, e, this.getTransientProps()), n = i.chain(t).map(function(e, t) {
return [ e, t ];
}).filter(function(e) {
return "undefined" != typeof e[0];
}).map(function(e) {
return e[1] + "=" + encodeURIComponent(e[0]);
}).value().join("&");
u.add(n);
}
}, e;
}();
t.gaClient = new c({}, !1), t.initialize = function(e, n) {
t.gaClient.enabled = n, t.gaClient.set({
v: 1,
tid: e,
cid: r(),
an: "Sparta-" + SpartaGlobals.bundlePlatform,
aid: SpartaGlobals.bundlePlatform + "-warsaw",
av: SpartaGlobals.bundlePlatform + "-warsaw-release-bf4pc-bf1dlc1-11296",
ul: "en-us",
ds: SpartaGlobals.bundlePlatform
}), setInterval(function() {
t.gaClient.enabled && o();
}, 1e3);
}, t.setEnabled = function(e) {
t.gaClient.enabled = e;
}, t.flush = function() {
t.gaClient.enabled && o();
};
var p = void 0;
t.setUser = function(e) {
e !== p && (t.gaClient.set({
uid: e
}), p = e);
}, t.setCustomDimension = function(e, n) {
t.gaClient.setTransient((r = {}, r["cd" + e] = n, r));
var r;
}, t.trackScreen = function(e) {
t.gaClient.send({
t: "screenview",
cd: "/" + e
});
}, t.trackEvent = function(e, n, r, o) {
t.gaClient.send({
t: "event",
ec: e,
ea: n,
el: r,
ev: o
});
}, t.trackTimer = function(e, n, r, o) {
t.gaClient.send({
t: "timing",
utc: e,
utv: n,
utt: r,
utl: o
});
}, t.trackException = function(e, n) {
t.gaClient.send({
t: "exception",
exd: e,
exf: !!n
});
}, t.trackCustomMetric = function(e, n) {
t.gaClient.setTransient((r = {}, r["cm" + e] = n, r));
var r;
}, t.trackPurchase = function(e, t, n, r, o) {
void 0 === o && (o = 1), this.gaClient.send({
t: "item",
ti: e,
"in": t,
ip: n,
iq: o,
cu: r
});
};
}).call(t, n(97));
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(3), a = n(9), i = function() {
function e() {
this.language = null, this.country = null;
}
return e.prototype.populate = function(e) {
this.language = e.language, this.country = e.country;
}, e;
}();
r([ a.observable ], i.prototype, "language", void 0), r([ a.observable ], i.prototype, "country", void 0), 
r([ a.action ], i.prototype, "populate", null), t.accountInfoPSN = new i(), o.frostbite.registerMessageListener("sparta.orbis.getAccountInfoResponse", function(e, n) {
t.accountInfoPSN.populate(n);
});
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(19), a = n(9), i = function() {
function e() {}
return e.prototype.setTrack = function(e) {
if (e && e !== this.currentTrackId) this.previousTrackId = this.currentTrackId, 
this.currentTrackId = e; else if (!e) {
var t = o.getHostingGame();
t && t.backgroundMusicTrack && t.backgroundMusicTrack !== this.currentTrackId && (this.previousTrackId = this.currentTrackId, 
this.currentTrackId = t.backgroundMusicTrack);
}
}, e;
}();
r([ a.observable ], i.prototype, "currentTrackId", void 0), r([ a.observable ], i.prototype, "previousTrackId", void 0), 
r([ a.action ], i.prototype, "setTrack", null), t.BackgroundMusicStore = i;
}, function(e, t, n) {
"use strict";
function r(e, t) {
return e === t ? 0 : t > e ? -1 : 1;
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(3), i = n(9), s = n(12), l = n(13), u = n(132), c = function() {
function e() {
var e = this;
this.entries = [], this.isolatedGroupIds = [], this.inputCache = [], this.inputBlocks = 0, 
u.trigger.listen(function(t) {
return e.handleKeyEvent(t);
}), u.register.listen(function(t, n, r) {
return e.register(t, n, r);
}), u["delete"].listen(function(t, n) {
return e.unregister(t, n);
}), u.isolateGroup.listen(function(t) {
return e.isolateGroup(t);
}), u.releaseGroup.listen(function(t) {
return e.releaseGroup(t);
}), i.reaction(function() {
return e.inputs;
}, function(t) {
return e.inputCache = t;
});
}
return e.prototype.handleKeyEvent = function(e) {
var t = this;
this.inputCache.forEach(function(n) {
n.key === e.key && (e.isPress && n.action && (t.inputBlocked || (n.blockInputFor > 0 && t.blockInputFor(n.blockInputFor), 
n.action(e), u.calledAction(e))), e.isHold && n.holdAction && (n.holdAction(e), 
u.calledHoldAction(e)), e.isRelease && n.releaseAction && (n.releaseAction(e), u.calledReleaseAction(e)));
});
}, e.prototype.register = function(e, t, n) {
this.unregister(e, t), this.entries.push({
groupId: t,
regId: e,
inputs: n
});
}, e.prototype.unregister = function(e, t) {
for (var n = this.entries.length, r = 0; n > r; ++r) {
var o = this.entries[r];
if (o.regId === e && o.groupId === t) {
this.entries.splice(r, 1);
break;
}
}
}, e.prototype.isolateGroup = function(e) {
this.releaseGroup(e);
var t = Array.isArray(e) ? e : [ e ];
this.isolatedGroupIds.push(t);
}, e.prototype.releaseGroup = function(e) {
for (var t = Array.isArray(e) ? e : [ e ], n = t.join("|"), r = 0; r < this.isolatedGroupIds.length; ++r) this.isolatedGroupIds[r].join("|") === n && this.isolatedGroupIds.splice(r, 1);
}, Object.defineProperty(e.prototype, "inputs", {
get: function() {
var e = a.profile.start(), t = this.entries.slice();
if (this.isolatedGroupIds.length > 0) {
var n = this.isolatedGroupIds[this.isolatedGroupIds.length - 1];
t = t.filter(function(e) {
return -1 !== n.indexOf(e.groupId);
});
}
t.reverse();
var o = a.focus.system.controllerMode ? a.focus.system.inputs.slice() : [], i = [];
t.forEach(function(e) {
i = i.concat(e.inputs.slice());
}), i = i.concat(o);
var u = s.prioritized.slice(), c = [], p = [];
return i.forEach(function(e) {
if (e.key) {
var t = u.indexOf(e.key);
t > -1 && (u.splice(t, 1), c.push(e));
} else p.push(e);
}), p.forEach(function(e) {
if (u.length > 0) {
var t = new l(a.assign({}, e, {
key: u.shift()
}));
c.push(t);
} else console.error("Could not assign input key automatically: No more keys available");
}), c.sort(function(e, t) {
return r(e.key.order, t.key.order);
}), a.profile.end("calcInputs", e), c;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "appearanceInputs", {
get: function() {
var e = n(150), t = a.focus.system.controllerMode && "PC" !== e.currentInputType;
return this.inputs.filter(function(e) {
return e && (e.visible || void 0 === e.visible && t) && e.key;
});
},
enumerable: !0,
configurable: !0
}), e.prototype.blockInputFor = function(e) {
var t = this;
this.inputBlocks++, setTimeout(i.action("decrease input blocks", function() {
return t.inputBlocks--;
}), e);
}, Object.defineProperty(e.prototype, "inputBlocked", {
get: function() {
return this.inputBlocks > 0;
},
enumerable: !0,
configurable: !0
}), e;
}();
o([ i.observable ], c.prototype, "entries", void 0), o([ i.observable ], c.prototype, "isolatedGroupIds", void 0), 
o([ i.observable ], c.prototype, "inputBlocks", void 0), o([ i.action ], c.prototype, "register", null), 
o([ i.action ], c.prototype, "unregister", null), o([ i.action ], c.prototype, "isolateGroup", null), 
o([ i.action ], c.prototype, "releaseGroup", null), o([ i.computed ], c.prototype, "inputs", null), 
o([ i.computed ], c.prototype, "appearanceInputs", null), o([ i.action ], c.prototype, "blockInputFor", null), 
o([ i.computed ], c.prototype, "inputBlocked", null), t.InputStore = c;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(564), i = function() {
function e(e, t) {
this.locationStore = e, this.routeStore = t;
}
return Object.defineProperty(e.prototype, "current", {
get: function() {
return new a.LayoutState(this.locationStore.location, this.routeStore.routes);
},
enumerable: !0,
configurable: !0
}), e;
}();
r([ o.computed ], i.prototype, "current", null), t.LayoutStateStore = i;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(88), i = n(18), s = function() {
function e(e) {
var t = this;
this.routeStore = e, this.history = [], this.historyIndex = -1, i.goBackInHistory.listen(function() {
return t.goBack();
}), i.goForwardInHistory.listen(function() {
return t.goForward();
}), i.updateLocation.listen(function(e) {
return t.setLocation(e, !0);
}), i.gotoLocation.listen(function(e) {
return t.setLocation(e);
}), i.returnFromLocation.listen(function(e) {
return t.returnFromLocation(e);
});
}
return Object.defineProperty(e.prototype, "location", {
get: function() {
return this.locationOverride || this.history[this.historyIndex] || new a.Location("");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canGoBack", {
get: function() {
return this.canNavigate(-1);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canGoForward", {
get: function() {
return this.canNavigate(1);
},
enumerable: !0,
configurable: !0
}), e.prototype.setLocation = function(e, t) {
void 0 === t && (t = !1);
var n = e instanceof a.Location ? e : new a.Location(e);
this.isHistoryRoute(n) ? (this.locationOverride = void 0, this.historyIndex += t ? 0 : 1, 
this.history = this.history.slice(0, this.historyIndex).concat(n)) : this.locationOverride = n;
}, e.prototype.goBack = function() {
this.navigate(-1);
}, e.prototype.goForward = function() {
this.navigate(1);
}, e.prototype.returnFromLocation = function(e) {
var t = this.history.find(function(t) {
return t.path === e;
});
if (null != t) {
var n = this.history.indexOf(t);
0 > n || (this.historyIndex = n - 1, this.history = this.history.slice(0, this.historyIndex + 1));
}
}, e.prototype.navigate = function(e) {
return this.locationOverride ? void (this.locationOverride = void 0) : void (this.canNavigate(e) && (this.historyIndex += e));
}, e.prototype.canNavigate = function(e) {
var t = this.historyIndex + e;
return t >= 0 && t < this.history.length;
}, e.prototype.isHistoryRoute = function(e) {
var t = this.routeStore.routes.map(function(e) {
return e.location;
}), n = a.Location.indexOfBestMatch(t, e, !0), r = this.routeStore.routes[n];
return r && !r.excludeFromHistory;
}, e.prototype.isPreviousLocationPath = function(e) {
var t = this.history.slice();
if (t.length) {
var n = t[t.length - 1];
return n.path === e;
}
return !1;
}, e;
}();
r([ o.observable ], s.prototype, "history", void 0), r([ o.observable ], s.prototype, "historyIndex", void 0), 
r([ o.observable ], s.prototype, "locationOverride", void 0), r([ o.computed ], s.prototype, "location", null), 
r([ o.computed ], s.prototype, "canGoBack", null), r([ o.computed ], s.prototype, "canGoForward", null), 
r([ o.action ], s.prototype, "setLocation", null), r([ o.action ], s.prototype, "returnFromLocation", null), 
r([ o.action ], s.prototype, "navigate", null), t.LocationStore = s;
}, function(e, t, n) {
"use strict";
function r(e) {
return e === s.ConnectionResultType.tooYoung || e === s.ConnectionResultType.tooYoungForContent || e === s.ConnectionResultType.requiredUpdateExists || e === s.ConnectionResultType.originStartupFailed || e === s.ConnectionResultType.originMandatoryUpdate || e === s.ConnectionResultType.originNotLoggedIn || e === s.ConnectionResultType.accountBanned || e === s.ConnectionResultType.missingOnlineAccess;
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(9), i = n(252), s = n(111), l = n(203), u = n(8), c = n(75), p = n(176), f = n(35), d = function() {
function e(e, t) {
var n = this;
this.userStore = e, t.connect(a.action(function(e) {
return n.presenceState = e;
})), f.joinedServer.listen(a.action(function(e) {
return n.sessionUserServer = e;
})), f.leftServer.listen(a.action(function(e) {
return n.sessionUserServer = void 0;
})), a.reaction(function() {
return n.sessionUserPresence;
}, function(e) {
e && n.userStore.updatePresences([ e ]);
}, !0);
}
return Object.defineProperty(e.prototype, "sessionUser", {
get: function() {
return this.sessionUserId && this.userStore.users.get(this.sessionUserId.getPlatformId());
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canGoOnline", {
get: function() {
return !this.isOnlineBlazeAndGateway && !this.isConnecting && !r(this.presenceState.resultType);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "goOnlineIsRetry", {
get: function() {
return this.presenceState.resultType === s.ConnectionResultType.missingOnlineAccess || this.presenceState.resultType === s.ConnectionResultType.noMultiplayerPrivilege;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canChangeUser", {
get: function() {
return this.presenceState.resultType === s.ConnectionResultType.missingOnlineAccess || this.presenceState.resultType === s.ConnectionResultType.noMultiplayerPrivilege;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isConnecting", {
get: function() {
return this.presenceState.isConnecting() || this.presenceState.resultType === s.ConnectionResultType.needUserInteraction || u.gatewayState.sessionState === l.GatewaySessionState.connecting;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isOnlineBlazeAndGateway", {
get: function() {
return this.isPresenceReady && this.hasGatewaySession;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isPresenceReady", {
get: function() {
return this.presenceState.isReady();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isTooYoung", {
get: function() {
return this.presenceState.isTooYoung();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isMissingMPPrivileges", {
get: function() {
return this.presenceState.isMissingMPPrivileges();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasGatewaySession", {
get: function() {
return u.gatewayState.sessionState === l.GatewaySessionState.established;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "sessionUserPresence", {
get: function() {
if (this.sessionUserId) {
var e = this.presenceState.state === i.PresenceStates.ready;
return new p.UserPresence({
userId: this.sessionUserId.getPlatformId(),
state: e ? c.UserPresenceStates.Online : c.UserPresenceStates.Offline,
server: this.sessionUserServer
});
}
},
enumerable: !0,
configurable: !0
}), e.prototype.setSessionUserId = function(e) {
this.sessionUserId = e;
}, e;
}();
o([ a.observable ], d.prototype, "presenceState", void 0), o([ a.observable ], d.prototype, "sessionUserId", void 0), 
o([ a.computed ], d.prototype, "sessionUser", null), o([ a.computed ], d.prototype, "canGoOnline", null), 
o([ a.computed ], d.prototype, "goOnlineIsRetry", null), o([ a.computed ], d.prototype, "canChangeUser", null), 
o([ a.computed ], d.prototype, "isConnecting", null), o([ a.computed ], d.prototype, "isOnlineBlazeAndGateway", null), 
o([ a.computed ], d.prototype, "isPresenceReady", null), o([ a.computed ], d.prototype, "isTooYoung", null), 
o([ a.computed ], d.prototype, "isMissingMPPrivileges", null), o([ a.computed ], d.prototype, "hasGatewaySession", null), 
o([ a.observable ], d.prototype, "sessionUserServer", void 0), o([ a.computed ], d.prototype, "sessionUserPresence", null), 
o([ a.action ], d.prototype, "setSessionUserId", null), t.OnlineState = d;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(52), i = function() {
function e() {
var e = this;
this.all = [];
var t = n(29);
t.addRouteConfig.listen(function(t) {
return e.addRoute(t);
}), t.removeRouteConfig.listen(function(t) {
return e.removeRoute(t);
}), t.replaceRouteConfig.listen(function(t, n) {
return e.replaceRoute(t, n);
});
}
return Object.defineProperty(e.prototype, "routes", {
get: function() {
var e = n(740), t = new a.Route(Object.assign({}, e, {
children: this.all
})), r = t.cascade();
return r.flatten();
},
enumerable: !0,
configurable: !0
}), e.prototype.addRoute = function(e) {
this.all.push(e);
}, e.prototype.removeRoute = function(e) {
var t = this.all.indexOf(e);
-1 !== t && this.all.splice(t, 1);
}, e.prototype.replaceRoute = function(e, t) {
var n = this.all.indexOf(e);
-1 !== n && (this.all[n] = t);
}, e;
}();
r([ o.observable ], i.prototype, "all", void 0), r([ o.computed ], i.prototype, "routes", null), 
r([ o.action ], i.prototype, "addRoute", null), r([ o.action ], i.prototype, "removeRoute", null), 
r([ o.action ], i.prototype, "replaceRoute", null), t.RouteStore = i;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(3), a = n(9), i = function() {
function e(e, t) {
var n = this;
this.isTelemetryEnabled = !0, this.isOriginInGameOverlayAvailable = !1, this.battlebinaryPrefix = null, 
this.supportsFilterState = !1, this.featureFlags = [], this.serverTimestamp = 0, 
this.serverTimestampReceivedAt = Date.now(), e.listen(function(e) {
n.setNativeSettings(e);
}), t.listen(function(e) {
n.setOriginInGameOverlayAvailabilty(e.available);
});
}
return e.prototype.setNativeSettings = function(e) {
this.isTelemetryEnabled = e.isTelemetryEnabled;
}, e.prototype.setOriginInGameOverlayAvailabilty = function(e) {
this.isOriginInGameOverlayAvailable = e;
}, e.prototype.setCurrentUtcTimestamp = function(e) {
"" !== e && (this.serverTimestamp = parseInt(e, 10), this.serverTimestampReceivedAt = Date.now());
}, e.prototype.isFeatureEnabled = function(e) {
return "debugscreen" !== e || o.getBuildInfo().isEndUserBuild() ? this.featureFlags.indexOf(e) > -1 : !0;
}, e.prototype.getServerAdjustedTimestamp = function() {
return this.serverTimestamp + Math.round((Date.now() - this.serverTimestampReceivedAt) / 1e3);
}, e;
}();
r([ a.observable ], i.prototype, "isTelemetryEnabled", void 0), r([ a.observable ], i.prototype, "isOriginInGameOverlayAvailable", void 0), 
r([ a.observable ], i.prototype, "battlebinaryPrefix", void 0), r([ a.observable ], i.prototype, "supportsFilterState", void 0), 
r([ a.observable ], i.prototype, "featureFlags", void 0), r([ a.observable ], i.prototype, "serverTimestamp", void 0), 
r([ a.observable ], i.prototype, "serverTimestampReceivedAt", void 0), r([ a.action ], i.prototype, "setNativeSettings", null), 
r([ a.action ], i.prototype, "setOriginInGameOverlayAvailabilty", null), r([ a.action ], i.prototype, "setCurrentUtcTimestamp", null), 
t.SettingsStore = i;
}, function(e, t) {
"use strict";
var n;
!function(e) {
e[e.NONE = 0] = "NONE", e[e.INVALID_SESSION = -32501] = "INVALID_SESSION", e[e.AUTHENTICATION_FAILED = -32502] = "AUTHENTICATION_FAILED", 
e[e.FIRST_PARTY_TOKEN_INVALID = -22300] = "FIRST_PARTY_TOKEN_INVALID", e[e.FIRST_PARTY_TOKEN_EXPIRED = -22301] = "FIRST_PARTY_TOKEN_EXPIRED", 
e[e.KILLSWITCH_SERVICE_DISABLED = -32800] = "KILLSWITCH_SERVICE_DISABLED", e[e.KILLSWITCH_SERVICE_RATE_LIMITED = -32801] = "KILLSWITCH_SERVICE_RATE_LIMITED", 
e[e.GAME_NOT_SUPPORTED = -32802] = "GAME_NOT_SUPPORTED", e[e.SERVICE_NOT_AVAILABLE = -32804] = "SERVICE_NOT_AVAILABLE", 
e[e.MAXIMUM_BOOKMARKS_REACHED = -32805] = "MAXIMUM_BOOKMARKS_REACHED";
}(n = t.GatewayErrorCodes || (t.GatewayErrorCodes = {}));
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
void 0 === n && (n = !1);
var r = e.map(function(e) {
return e.location;
});
return c.Location.indexOfBestMatch(r, t, n);
}
function o(e, t) {
var n = e.priority || 0, r = t.priority || 0;
return n === r ? e.getTitle().localeCompare(t.getTitle()) : r > n ? -1 : 1;
}
function a(e) {
return e.filter(function(e) {
return !(!e.visible || e.hideInMainMenu);
});
}
function i(e) {
return e.filter(function(e) {
return e.parent && !e.parent.parent;
});
}
function s(e, t) {
return void 0 === t && (t = []), t = t || [], t.splice(0, 0, e), e.parent && s(e.parent, t), 
t;
}
var l = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, u = n(9), c = n(88), p = n(52), f = function() {
function e(e, t) {
this._location = e, this._routes = t;
}
return Object.defineProperty(e.prototype, "config", {
get: function() {
var e = r(this._routes, this._location, !0);
return this._routes[e] || new p.Route();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "breadcrumbs", {
get: function() {
return s(this.config);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "location", {
get: function() {
return new c.Location({
path: this._location.path,
args: Object.assign({}, this.config.args, this._location.args)
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "mainMenuConfigs", {
get: function() {
var e = i(this._routes), t = a(e);
return t.sort(o), t;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "mainMenuIndex", {
get: function() {
return r(this.mainMenuConfigs, this._location);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "subMenuConfigs", {
get: function() {
var e = this.mainMenuConfigs[this.mainMenuIndex];
if (!e) return [];
var t = a(e.children);
if (!e.getSubtitle || e.getSubtitle && "" === e.getSubtitle()) return t.sort(o);
var n = new p.Route({
getTitle: function() {
return e.getSubtitle();
},
location: e.location,
priority: -1
});
return [ n ].concat(t).sort(o);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "subMenuIndex", {
get: function() {
return r(this.subMenuConfigs, this._location);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "activeSubMenuConfig", {
get: function() {
return this.subMenuConfigs[this.subMenuIndex];
},
enumerable: !0,
configurable: !0
}), e;
}();
l([ u.computed ], f.prototype, "config", null), l([ u.computed ], f.prototype, "breadcrumbs", null), 
l([ u.computed ], f.prototype, "location", null), l([ u.computed ], f.prototype, "mainMenuConfigs", null), 
l([ u.computed ], f.prototype, "mainMenuIndex", null), l([ u.computed ], f.prototype, "subMenuConfigs", null), 
l([ u.computed ], f.prototype, "subMenuIndex", null), l([ u.computed ], f.prototype, "activeSubMenuConfig", null), 
t.LayoutState = f;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = Object.keys(e).map(function(t) {
return p.createElement(S, {
key: t,
value: "[ " + t + "=" + e[t] + " ]",
style: {
fontSize: 14,
padding: 10
}
});
});
return t;
}
var o = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(378), s = n(8), l = n(10).observer, u = n(3), c = n(18), p = n(1), f = n(13), d = n(20), h = n(12), y = n(8), g = n(19), m = n(92), b = n(180), v = n(29), _ = n(723), S = n(7).Text, T = n(6), w = n(108).UGCAccessStore, E = function(e) {
function t() {
var t = e.call(this) || this;
return t.metricUpdate = 0, t.state = {
metrics: i.Metrics.get()
}, t;
}
return o(t, e), t.prototype.getInput = function() {
return new f({
label: "Exit",
key: h.Option1,
action: function() {
if (s.locationStore.canGoBack) c.goBackInHistory(); else {
var e = g.getHostingGame();
e && c.gotoLocation(e.startRoute);
}
}
});
}, t.prototype.componentDidMount = function() {
var e = this;
v.hideComponent("header"), this.metricUpdate = setInterval(function() {
e.setState({
metrics: i.Metrics.get()
});
}, 1e3);
}, t.prototype.componentWillUnmount = function() {
v.showComponent("header"), clearInterval(this.metricUpdate);
}, t.prototype.render = function() {
var e = b.getState(), t = m.getState(), n = {};
Object.keys(t).forEach(function(e) {
Object.keys(t[e]).forEach(function(r) {
var o = t[e][r];
n[r] = o.ping;
});
});
var o = s.onlineState.sessionUser, a = o ? o.displayName : "<offline>", i = w.getState().level, l = g.getState(), c = {
gameId: l.hostingGameId,
protocolVersion: l.protocolVersion,
gatewayHost: e.gatewayHost,
buildConfig: u.getBuildInfo().buildConfig,
onlineEnvironment: e.onlineEnvironment,
webEndpoint: e.webEndpoint,
pingSites: JSON.stringify(n),
jsBundle: "release-bf4pc-bf1dlc1_11296_3284083e_warsaw_all_prod (2017-02-20 12:52:42 UTC)",
user: a,
featureFlags: y.settingsStore.featureFlags.slice().join(", "),
battlebinaryPrefix: y.settingsStore.battlebinaryPrefix,
isTelemetryEnabled: y.settingsStore.isTelemetryEnabled,
ugcLevel: i,
locale: l.locale,
region: l.region
};
return p.createElement("surface", {
style: {
flex: 1,
padding: 75,
paddingLeft: 150,
paddingTop: 150,
flexDirection: "column"
}
}, p.createElement(S, {
value: "Connection Status",
style: {
fontSize: 22,
margin: [ 0, 0, 50, 0 ]
}
}), p.createElement("surface", {
style: {
flexDirection: "row",
width: T.getWidth(24) - 150
}
}, p.createElement("surface", {
style: {
flex: 1
}
}, r(c)), p.createElement("surface", {
style: {
flex: 1
}
}, p.createElement(_, null), p.createElement("surface", {
text: "Metrics"
}), p.createElement("surface", {
style: {
fontSize: 12
},
text: JSON.stringify(this.state.metrics, null, 2)
}))));
}, t;
}(p.Component);
E = a([ l, d() ], E), e.exports = E;
}, function(e, t, n) {
"use strict";
function r() {
s.joinMultiplayerServer.listen(function(e) {
if (l.getState().hostingGameId !== e.server.game) if (e.friend && e.friend.spartaUserId) {
var t = {
gameMode: "MP",
gameId: e.server.gameId,
joinFriend: e.friend.spartaUserId.getPlatformId(),
role: e.role,
parentSessionId: l.getState().parentSessionId,
asSpectator: "spectator" === e.role,
joinWithParty: !1,
serverPassword: e.password
};
o.continueCrosslaunch(e.server.game, t);
} else {
var t = {
gameMode: "MP",
gameId: e.server.gameId,
role: e.role,
parentSessionId: l.getState().parentSessionId,
asSpectator: "spectator" === e.role,
joinWithParty: !1,
serverPassword: e.password
};
o.continueCrosslaunch(e.server.game, t);
}
}), s.continueSinglePlayer.listen(function(e) {
if (l.getState().hostingGameId !== e) if (u.onlineState.isPresenceReady) {
if (!o.ownsGame(e)) return void o.showMissingGamePopup(e);
var t = {
gameMode: "SP",
parentSessionId: l.getState().parentSessionId
};
i().then(function() {
o.continueCrosslaunch(e, t);
});
} else a();
});
}
var o = n(253), a = n(39).showNotInHostingGameAlert, i = n(153).checkGameState, s = n(90), l = n(19), u = n(8);
t.crossLaunchAbstractGameBindings = r;
}, function(e, t, n) {
(function(e, __) {
"use strict";
function r() {
a.launchGame.listen(function(t) {
var n = i.gameStore.getGame(t.gameId), r = n.productGuid, o = n.crossLaunchIds, a = {
crossLaunchIds: o,
productGuid: r,
args: t.params ? t.params.toString() : ""
};
t.params && "MP" === t.params.gameMode && c.leftServer(), e.info("Sending sparta.crossLaunchGame", a), 
u.sendMessage("sparta.crossLaunchGame", a);
var s = u.registerMessageListener("sparta.crossLaunchFailed", function(e, t) {
s();
var r = __("ID_SPARTA_CROSSLAUNCH_FAILED_MESSAGE").replace("[[game]]", n.displayName()), o = __("ID_SPARTA_CROSSLAUNCH_FAILED_TITLE").replace("[[game]]", n.displayName());
l(r, o);
});
}), a.countdownThenLaunchGame.listen(function(e, t) {
d.display(new h({
id: "crossLaunch",
content: o.createElement(s.CrossLaunchGamePopup, {
game: e,
crossLaunchOptions: t,
popupInfo: {}
}),
inputs: [ new p({
label: __("ID_SPARTA_ACTION_CANCEL", !0),
key: f.Decline
}) ]
}));
});
}
var o = n(1), a = n(204), i = n(8), s = n(568), l = n(31).alert, u = n(3).frostbite, c = n(35), p = n(13), f = n(12), d = n(25), h = n(42);
t.crossLaunchBindings = r;
}).call(t, n(97), n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
var e, r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(204), i = n(24).request, s = n(35), l = n(25), u = n(7).Text, c = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.state = {
secondsLeft: 5,
launched: !1
}, n;
}
return r(n, t), n.prototype.componentDidMount = function() {
this.countDown();
}, n.prototype.componentDidUpdate = function() {
this.state.secondsLeft <= 0 ? this.state.launched || this.launchGame() : this.countDown();
}, n.prototype.componentWillUnmount = function() {
clearTimeout(e), null != this.props.crossLaunchOptions.params && this.props.crossLaunchOptions.params.gameId && i("Game.leaveGame", {
game: this.props.crossLaunchOptions.gameId,
gameId: this.props.crossLaunchOptions.params.gameId
}).then(function() {
return s.leftServer();
});
}, n.prototype.launchGame = function() {
a.launchGame(this.props.crossLaunchOptions), this.setState({
launched: !0
}), l.close(this.props.popupInfo.id);
}, n.prototype.countDown = function() {
var t = this;
clearTimeout(e), this.state.secondsLeft > 0 && (e = setTimeout(function() {
t.setState({
secondsLeft: t.state.secondsLeft - 1
});
}, 1e3));
}, n.prototype.render = function() {
var e = __("ID_SPARTA_CROSSLAUNCH_POPUP", !0).replace("[[game]]", this.props.game.displayName());
return o.createElement("surface", {
style: {
alignItems: "center"
}
}, o.createElement(u, {
size: "L",
type: "emphasis",
value: e
}), o.createElement(u, {
size: "L",
style: {
marginTop: 20
},
value: "" + this.state.secondsLeft
}));
}, n;
}(o.Component);
t.CrossLaunchGamePopup = c;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = n(35), o = function() {
function e() {
this.gameModMasks = {};
}
return e.prototype.getMask = function(e) {
return this.gameModMasks[e];
}, e.prototype.setMask = function(e, t) {
e ? this.gameModMasks[e] = parseInt(t, 10) : console.warn("Received invalid gameId", e);
}, e;
}();
t.installedExpansions = new o(), r.setInstalledExpansions.listen(function(e, n) {
t.installedExpansions.setMask(e, n);
});
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(167), i = new a.Game({
displayName: "Unknown game",
isEnabled: !1
}), s = function() {
function e() {
this.games = o.map();
}
return e.prototype.getGame = function(e) {
return this.games.get(e) || i;
}, Object.defineProperty(e.prototype, "enabledGameIds", {
get: function() {
var e = [];
return this.games.forEach(function(t, n) {
t.isEnabled && e.push(n);
}), e;
},
enumerable: !0,
configurable: !0
}), e.prototype.registerGame = function(e) {
this.games.set(e.gameId, e);
}, e;
}();
r([ o.computed ], s.prototype, "enabledGameIds", null), r([ o.action ], s.prototype, "registerGame", null), 
t.GameStore = s;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = (n(5), function() {
function e(e) {
this.players = [], this.teams = [], e.listen(this.listener.bind(this));
}
return e.prototype.listener = function(e) {
this.players = e.players, this.teams = e.teams;
}, e.prototype.getTeamName = function(e) {
var t = this.teams.filter(function(t) {
return t.TeamId === e;
}).pop();
return t ? t.FactionName : "";
}, e.prototype.getPlayers = function(e) {
return this.players.filter(function(t) {
return t.teamId === e;
});
}, Object.defineProperty(e.prototype, "teamA", {
get: function() {
return {
name: this.getTeamName(1),
players: this.getPlayers(1)
};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "teamB", {
get: function() {
return {
name: this.getTeamName(2),
players: this.getPlayers(2)
};
},
enumerable: !0,
configurable: !0
}), e;
}());
r([ o.observable ], a.prototype, "players", void 0), r([ o.observable ], a.prototype, "teams", void 0), 
r([ o.action ], a.prototype, "listener", null), r([ o.computed ], a.prototype, "teamA", null), 
r([ o.computed ], a.prototype, "teamB", null), t.TeamsStore = a;
}, function(e, t, n) {
"use strict";
function r(e, t) {
s("GameServer.setFilterState", {
game: e,
filterJson: JSON.stringify(t)
})["catch"](function(e) {
return console.warn("Could not save filter state", e);
});
}
function o(e, t) {
if ("string" != typeof e) return null;
try {
var n = JSON.parse(e);
return [ t, n ];
} catch (r) {
return console.warn("Unable to parse filter state for game", t, e, r), null;
}
}
function a(e) {
return s("GameServer.getFilterStates", {
games: e
}).then(function(e) {
return i.object(i.compact(i.map(e, o)));
});
}
var i = n(5), s = n(24).request;
t.saveFilterState = r, t.getFilterState = a;
}, function(e, t, n) {
"use strict";
function r(e, t) {
var n = {
game: e,
region: t,
stopCountingAt: 100,
protocolVersion: 80
};
return o("GameServer.getOperations", n).then(function(e) {
return Object.keys(e).map(function(t) {
return e[t];
});
})["catch"](function() {
return console.warn("Could not fetch operations"), [];
});
}
var o = n(24).request;
t.getOperations = r;
}, function(e, t, n) {
"use strict";
var r = n(5), o = n(131), a = function() {
function e(e) {
void 0 === e && (e = {}), this.version = e.version || 6, this.maps = new o(e.maps), 
this.gameModes = new o(e.gameModes), this.vehicles = new o(e.vehicles), this.weaponClasses = new o(e.weaponClasses), 
this.slots = new o(e.slots), this.serverType = new o(e.serverType), this.regions = new o(e.regions), 
this.kits = new o(e.kits), this.presets = new o(e.presets), this.misc = new o(e.misc), 
this.scales = new o(e.scales), this.advanced = new o(e.advanced), this.rules = new o(e.rules), 
this.tickRates = new o(e.tickRates), this.gameSizes = new o(e.gameSizes), this.name = new o(e.name), 
this.id = e.id, this.filterName = e.filterName || "", Object.freeze(this);
}
return e.prototype.copy = function(t, n) {
var r = Object.assign({}, this);
return r[t] = n, new e(r);
}, e.prototype.setFilterCondition = function(e, t, n, o) {
void 0 === o && (o = !1);
var a = this[e];
if ("undefined" == typeof a) return this;
var i = o && r.some(a, function(e) {
return "off" === e;
});
return i ? null == a[t] ? this.copy(e, a.set(t, "off")) : this.copy(e, a.remove(t)) : null == n ? this.copy(e, a.remove(t)) : this.copy(e, a.set(t, n));
}, e.prototype.replaceFilterKeys = function(e, t, n) {
var r = this[e];
return "undefined" == typeof r ? this : (t && (r = r.remove(t)), n && (r = r.set(n, "on")), 
this.copy(e, r));
}, e.prototype.toggleConditionsInCategory = function(e, t, n) {
var a = this[e];
if ("undefined" == typeof a) return this;
var i = new o();
return r.all(t, function(e) {
return a[e] === n;
}) || r.each(t, function(e) {
return i = i.set(e, n);
}), this.copy(e, i);
}, e.prototype.invertCategory = function(e, t, n) {
var a = this[e];
if ("undefined" == typeof a) return this;
var i = r.some(t, function(e) {
return "off" === a[e];
}), s = new o();
return t.forEach(function(e) {
null == a[e] && (s = s.set(e, i ? "on" : "off"));
}), this.copy(e, s);
}, e;
}();
t.GameFilter = a;
}, function(module, exports, __webpack_require__) {
(function(global) {
"use strict";
var PopupActions = __webpack_require__(25), Popup = __webpack_require__(42), ReactAPI = __webpack_require__(1), Twinkle = __webpack_require__(3), Input = __webpack_require__(13), _ = __webpack_require__(5), DateText = __webpack_require__(230), Text = __webpack_require__(7).Text, Grid = __webpack_require__(6), BackgroundActions = __webpack_require__(293), AudioActions = __webpack_require__(179), fonts = __webpack_require__(194).fonts, TextSizes = __webpack_require__(37), KeysAPI = __webpack_require__(12), Template = __webpack_require__(27), ArticlePopup = __webpack_require__(298).ArticlePopup, CustomContent = function() {
function CustomContent() {}
return CustomContent.use = function(e) {
var t = this;
Twinkle.httpRequest(Twinkle.HttpMethod.GET, e, "", "", !1, function(n, r) {
return n ? void (Twinkle.verifyCodeSignature(r) ? t.useRaw(r) : console.log("Failed to verify code signature: ", r)) : void console.log("Failed to call " + e);
});
}, CustomContent.useRaw = function(content) {
var React = ReactAPI, Keys = KeysAPI;
eval(content);
}, CustomContent;
}();
exports.CustomContent = CustomContent, Twinkle.getBuildInfo().isRemoteEngine() && (global.CustomContent = CustomContent);
}).call(exports, function() {
return this;
}());
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(144), s = n(577), l = n(3), u = n(16), c = n(53), p = n(10), f = p.observer, d = n(440), h = n(17), y = n(759), g = n(760), m = n(29), b = SpartaGlobals.bundleIsPC ? u.Animation.presets.transition : u.Animation.defaultTweenOptions, v = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.viewportLayerBlur = u.Animation.tween("4562274e:24", 0, b), t.viewportXOffset = u.Animation.tween("4562274e:25", 0, b), 
t;
}
return r(t, e), t.prototype.getCurrentViewComponent = function() {
return i.viewState.current ? this.refs[i.viewState.current.name] : null;
}, t.prototype.getContent = function() {
var e = this.getCurrentViewComponent();
return e ? e.refs.content : null;
}, t.prototype.getHeader = function() {
var e = this.refs.viewHeader;
return e ? e.refs.header : null;
}, t.prototype.getLeaf = function() {
var e = this.getCurrentViewComponent();
return e ? e.getLeaf() : this;
}, t.prototype.descendantDidFocus = function() {
m.setComponentVisibilities({
comCenter: !1,
mainMenu: !1
});
}, t.prototype.render = function() {
var e = {
zOffset: 1e4,
layer: !0,
layerClip: !0,
layerGrabBackground: !1,
position: "absolute",
layerBlur: this.viewportLayerBlur.getStyle(),
translateX: this.viewportXOffset.getStyle()
};
if (l.assign(e, h.screen.style), SpartaGlobals.bundleIsConsole) {
var t = 0;
i.viewState.viewTint && (i.viewState.mainMenu && (t = h.mainMenu.width), i.viewState.comCenter && (t = -100));
var n = !c.getState().isVisible && i.viewState.viewTint;
this.viewportLayerBlur.to(n ? 1 : 0), this.viewportXOffset.to(t);
}
var r = i.viewState.items.map(function(e) {
return a.createElement(s.ViewSlot, {
ref: e.name,
key: e.name,
viewComponentState: e
});
});
return a.createElement("surface", {
style: e
}, a.createElement(_, {
ref: "viewHeader"
}), r, a.createElement(S, {
key: "logo"
}));
}, t;
}(a.Component);
v = o([ f ], v), t.ViewContainer = v;
var _ = f(function() {
var e = i.viewState.current, t = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
};
if (!e) return null;
var n = e.aggregate;
return n && n.config.showHeader ? a.createElement(d, {
key: "rCfgTop",
routeConfig: n.config,
style: t
}, a.createElement(y, {
key: "header",
ref: "header",
viewState: i.viewState
})) : null;
}), S = f(function() {
var e = i.viewState.current;
if (!e) return null;
var t = e.aggregate;
if (!t) return null;
var n = t.config;
return n && n.logoUrl && n.gameId ? a.createElement(g, {
imageUrl: n.logoUrl,
gameId: n.gameId
}) : null;
});
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(9), s = n(1), l = n(3), u = n(144), c = n(168), p = n(88), f = n(52), d = n(16), h = n(743), y = n(17), g = n(10), m = g.observer, b = n(758), v = (n(29), 
function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.transitionOptions = SpartaGlobals.bundleIsPC ? d.Animation.presets.transition : d.Animation.defaultTweenOptions, 
n.scaleDelta = 1.5, n._isFocused = !1, n._isFocusable = !0, n.lastFocus = null, 
n.tweens = {
translateX: d.Animation.tween("2b57041f:44", 0, n.transitionOptions),
translateY: d.Animation.tween("2b57041f:45", 0, n.transitionOptions),
opacity: d.Animation.tween("2b57041f:46", 1, n.transitionOptions),
scaleX: d.Animation.tween("2b57041f:47", 1, n.transitionOptions),
scaleY: d.Animation.tween("2b57041f:48", 1, n.transitionOptions)
}, n.focusAncestor = l.focus.createAncestor("viewslot-" + t.viewComponentState.name), 
n;
}
return r(t, e), t.prototype.getLeaf = function() {
if (this.lastFocus) {
if (this.lastFocus._isMounted) return this.lastFocus.getLeaf();
this.lastFocus = null;
}
return this.refs.content ? this.refs.content.getLeaf() : this;
}, t.prototype.handleViewTransition = function(e, t) {
if (t === c.EnterLeaveStates.LEAVING) {
var n = u.viewState.navigationVector;
if (n && n.x && this.tweens.translateX.to(-1920 * n.x), n && n.y && this.tweens.translateY.to(-1080 * n.y), 
n && n.z) {
var r = Math.max(1 + n.z * this.scaleDelta, 0);
this.tweens.opacity.to(0), this.tweens.scaleX.transition(1, r, this.transitionOptions), 
this.tweens.scaleY.transition(1, r, this.transitionOptions);
}
}
if (t === c.EnterLeaveStates.ENTERING) if (e !== c.EnterLeaveStates.IDLE) this.tweens.translateX.to(0), 
this.tweens.translateY.to(0), this.tweens.opacity.to(1), this.tweens.scaleX.to(1), 
this.tweens.scaleY.to(1); else {
var n = u.viewState.navigationVector;
if (n && n.x ? this.tweens.translateX.transition(1920 * n.x, 0) : this.tweens.translateX.set(0), 
n && n.y ? this.tweens.translateY.transition(1080 * n.y, 0, null, h.sectionTransitionComplete) : this.tweens.translateY.set(0), 
n && n.z) {
var o = Math.max(1 - n.z * this.scaleDelta, 0);
this.tweens.opacity.transition(0, 1), this.tweens.scaleX.transition(o, 1, this.transitionOptions), 
this.tweens.scaleY.transition(o, 1, this.transitionOptions);
} else this.tweens.scaleX.set(1), this.tweens.scaleY.set(1), this.tweens.opacity.set(1);
}
}, t.prototype.slideDown = function(e, t) {
e ? this.tweens.translateY.to(1080, {
duration: t
}) : this.tweens.translateY.to(0, {
duration: t
});
}, t.prototype.getComponent = function() {
var e = this.refs.content;
return e ? e.refs.component : null;
}, t.prototype.handleViewLifecycle = function(e, t) {
var n = this;
if (t === c.EnterLeaveStates.ENTERING) return void setTimeout(function() {
var e = n.getComponent();
e && e.componentWillEnter && e.componentWillEnter();
}, 0);
var r = this.getComponent();
r && (t === c.EnterLeaveStates.LEAVING && r.componentWillLeave && r.componentWillLeave(), 
t === c.EnterLeaveStates.IDLE && r.componentDidLeave && r.componentDidLeave(), t === c.EnterLeaveStates.ACTIVE && r.componentDidEnter && r.componentDidEnter());
}, t.prototype.memorizeFocusable = function(e) {
this.lastFocus = e;
}, t.prototype.componentDidMount = function() {
var e = this;
this.props.viewComponentState.activeSlot = this, this.dispose = i.autorun(function() {
var t = e.props.viewComponentState, n = t.previousState, r = t.currentState;
i.untracked(function() {
e.handleViewTransition(n, r), e.handleViewLifecycle(n, r);
});
});
}, t.prototype.componentWillMount = function() {
var e = this;
this.cancelQueryListener = l.focus.system.onInvalidQuery.listen(function(t) {
e.props.viewComponentState.isActive || t.reportInvalid(e.focusAncestor.getChildren());
});
}, t.prototype.componentWillUnmount = function() {
this.props.viewComponentState.activeSlot === this && (this.props.viewComponentState.activeSlot = null), 
this.dispose(), this.cancelQueryListener();
}, t.prototype.getChildContext = function() {
return {
viewComponentState: this.props.viewComponentState,
routeConfig: this.props.viewComponentState.aggregate ? this.props.viewComponentState.aggregate.config : null,
location: this.props.viewComponentState.aggregate ? this.props.viewComponentState.aggregate.location : new p.Location(),
parent: this
};
}, t.prototype.render = function() {
var e = this.props.viewComponentState, t = e.aggregate;
if (!t) return null;
var n = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, r = {
position: "absolute",
top: 0,
right: 0,
translateX: this.tweens.translateX.getStyle(),
translateY: this.tweens.translateY.getStyle(),
opacity: this.tweens.opacity.getStyle(),
scaleX: this.tweens.scaleX.getStyle(),
scaleY: this.tweens.scaleY.getStyle(),
width: y.screen.width,
height: y.screen.height
};
return s.createElement("surface", o({
key: "holder",
style: n
}, this.focusAncestor.hooks), s.createElement("surface", {
key: "animator",
style: r
}, s.createElement(b, {
key: "content",
ref: "content",
location: t.location,
depth: t.breadcrumbs.length,
view: t.config.view,
offlineView: t.config.offlineView,
requireOnline: t.config.requireOnline,
requireMpInstalled: t.config.requireMpInstalled,
onDescendantWillBlur: this.memorizeFocusable.bind(this)
})));
}, t;
}(s.Component));
v.childContextTypes = {
viewComponentState: s.PropTypes.instanceOf(u.ViewComponentState),
routeConfig: s.PropTypes.instanceOf(f.Route),
location: s.PropTypes.instanceOf(p.Location),
parent: s.PropTypes.any
}, a([ i.action ], v.prototype, "componentDidMount", null), v = a([ m ], v), t.ViewSlot = v;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(3), s = n(10), l = n(9), u = n(362), c = n(580), p = n(581), f = n(583), d = n(582), h = n(33), y = n(11), g = n(206), m = n(113), b = n(8), v = n(209), _ = n(6), S = n(7).Text, T = n(17), w = n(13), E = n(12), I = n(20), C = n(29), A = n(25), P = n(150), O = n(95), R = n(194).fonts, k = n(30).isRTLLanguage, x = 2 * _.GUTTER, M = {
container: function(e) {
return {
zOffset: 40001,
position: "absolute",
top: 0,
right: 0,
bottom: 0,
translateY: e
};
},
top: {
flexDirection: "row",
justifyContent: "space-between",
alignItems: "center"
},
topIcon: {
width: 35,
height: 24,
texture: y.bbOfflineUrl("/sparta/jsclient/builds/assets/friends-icon-84691f65.png"),
marginTop: 2 * _.GUTTER,
marginBottom: 2 * _.GUTTER,
zOffset: 10
},
topContextMenuButton: {
backgroundColor: "#00000001",
height: 24
},
slider: function(e, t, n, r) {
var o = e ? T.footer.height : 2 * _.GUTTER, a = e ? 0 : 2 * _.GUTTER, i = T.comCenterWidth, s = i - p.styles.avatar().width - 4 * x;
return {
position: "absolute",
backgroundColor: g.slideTween([ 0, 0, 0, 0 ], [ 0, 0, 0, 204 ], t),
top: e ? T.dangerZoneSize.height : 0,
right: e ? T.dangerZoneSize.width : 0,
bottom: e ? T.dangerZoneSize.height : 0,
opacity: g.slideTween(0, 1, r),
translateX: g.slideTween(s, 0, n),
width: i,
paddingLeft: x,
paddingTop: a + x,
paddingBottom: o + x
};
},
lineContainer: function(e) {
return {
opacity: e
};
},
line: {
height: 8,
textureMode: "none",
textureScale: [ 8096, 1 ],
texture: y.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png"),
marginBottom: x - 3,
marginTop: _.GUTTER - 4,
opacity: .1
},
partyInvitePopup: {
width: T.safeZone.width,
alignItems: "center",
justifyContent: "center"
},
partyInvitePopupContent: {
width: _.getWidth(10),
height: _.getHeight(80)
}
}, N = function(t) {
function n() {
var e = t.apply(this, arguments) || this;
return e.reactions = [], e;
}
return e(n, t), Object.defineProperty(n.prototype, "partyAction", {
get: function() {
if (b.partyStore.canSquadJoin) return new w({
key: E.Option1,
action: function() {
return m.requiresRime("bf4", function() {
b.partyStore.gotoSquadJoin && (C.hideComponent("comCenter"), b.partyStore.gotoSquadJoin());
});
},
label: __("ID_SPARTA_LAYOUT_COMCENTER_SQUAD_JOIN", !0)
});
if (b.partyStore.canCreateParty) return new w({
key: E.Option1,
action: function() {
return b.partyStore.createParty();
},
label: SpartaGlobals.bundleIsPS4 ? __("ID_SPARTA_COMCENTER_CREATE_PARTY_PS4", !0) : __("ID_SPARTA_COMCENTER_CREATE_PARTY_XB1", !0)
});
if ("PC" === P.currentInputType) {
if (b.partyStore.canInviteUserToParty()) return new w({
key: E.Option1,
label: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_PC", !0),
action: function() {
return A.display({
content: a.createElement(D, {
state: b.comCenterState
})
});
}
});
} else if (b.partyStore.canLeaveParty) return new w({
key: E.Option1,
action: function() {
return b.partyStore.leaveParty();
},
label: SpartaGlobals.bundleIsPS4 ? __("ID_SPARTA_COMCENTER_LEAVE_PARTY_PS4", !0) : __("ID_SPARTA_COMCENTER_LEAVE_PARTY_XB1", !0)
});
},
enumerable: !0,
configurable: !0
}), n.prototype.componentWillMount = function() {
var e = this;
this.reactions = [ l.reaction(function() {
return b.comCenterState.shouldUseInput;
}, function(t) {
t ? (b.comCenterState.focusAncestor.isolate(), e.isolateInputGroup()) : (b.comCenterState.focusAncestor.deisolate(), 
e.releaseInputGroup());
}, !0), l.reaction(function() {
var e = b.comCenterState.focusAncestor.children[0];
return e && e.isActive;
}, function(t) {
i.focus.system.controllerMode && (t ? e.resetScrollOffset() : i.focus.system.recalculate());
}) ];
}, n.prototype.componentWillUnmount = function() {
this.reactions.forEach(function(e) {
return e();
});
}, n.prototype.getInput = function() {
if (b.comCenterState.shouldUseInput) {
var e = function() {
return C.hideComponent("comCenter");
}, t = [ new w({
visible: !1,
action: e,
key: E.Home
}), new w({
visible: !1,
action: e,
key: E.End
}), new w({
key: E.Decline,
label: __("ID_SPARTA_ACTION_BACK", !0),
action: e
}) ];
return b.comCenterState.shouldUseGlobalActions && this.partyAction && t.push(this.partyAction), 
t;
}
}, n.prototype.resetScrollOffset = function() {
if (this.scroller.scrollTo(0, 0), i.focus.system.controllerMode) {
var e = b.comCenterState.focusAncestor.children[0];
e && e.setFocused(i.focus.FocusSource.Auto);
}
}, n.prototype.renderNoFriendsItems = function() {
var e = {
opacity: b.comCenterState.expansionOpacityTween.getStyle()
};
return k() && (e.textAlignForRTL = "left", e.marginRight = 9 * _.GUTTER), [ a.createElement("surface", {
key: "line-empty",
style: M.lineContainer(b.comCenterState.expansionOpacityTween.getStyle())
}, a.createElement("surface", {
style: M.line
})), a.createElement(c.ComCenterHeader, {
key: "header-empty",
icon: y.bbOfflineUrl("/sparta/jsclient/builds/assets/playing-minimized-741453a6.png"),
name: __("ID_SPARTA_LAYOUT_COMCENTER_EMPTY_TITLE", !0),
state: b.comCenterState
}), a.createElement(S, {
key: "text-empty",
value: __("ID_SPARTA_LAYOUT_COMCENTER_EMPTY_TEXT", !0),
size: "S",
section: "generic",
style: e
}) ];
}, n.prototype.renderItemsForCategory = function(e, t, n) {
void 0 === t && (t = !0), void 0 === n && (n = !1);
var r = [];
return (e.users.length > 0 || n) && (t && r.push(a.createElement("surface", {
key: "line-" + e.name,
style: M.lineContainer(b.comCenterState.expansionOpacityTween.getStyle())
}, a.createElement("surface", {
style: M.line
}))), r.push(a.createElement(c.ComCenterHeader, {
key: "header-" + e.name,
icon: e.icon,
name: e.name,
state: b.comCenterState
}))), r.push.apply(r, e.users.map(function(t) {
return a.createElement(p.FriendItem, {
key: "friend-" + e.name + "-" + t.id,
friend: t,
state: b.comCenterState
});
})), r;
}, n.prototype.renderContent = function() {
var e = this, t = !b.comCenterState.shouldUseGlobalActions && this.partyAction, n = b.partyStore.state === v.PartyState.Creating || b.partyStore.state === v.PartyState.Leaving;
if (!t && n) {
var r = __("ID_SPARTA_LAYOUT_COMCENTER_CREATING_PARTY_PC", !0);
SpartaGlobals.bundleIsPS4 ? r = __("ID_SPARTA_LAYOUT_COMCENTER_CREATING_PARTY_PS4", !0) : SpartaGlobals.bundleIsXBOXONE && (r = __("ID_SPARTA_LAYOUT_COMCENTER_CREATING_PARTY_XB1", !0)), 
t = new w({
label: r
});
}
var o = t ? !0 : !1, i = this.renderItemsForCategory(b.comCenterState.partyCategory, !1, o), s = i.length > 0;
return t && i.push(a.createElement(p.SimpleItem, {
key: "invite-party-members",
state: b.comCenterState,
texture: y.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-add-white-b546484c.png"),
activeTexture: y.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-add-black-1b9e05d0.png"),
avatarStyle: {
paddingLeft: 4
},
input: t
})), b.comCenterState.friendCategories.forEach(function(t, n) {
var r = s || 0 !== n;
i.push.apply(i, e.renderItemsForCategory(t, r));
}), b.comCenterState.isEmpty && i.push.apply(i, this.renderNoFriendsItems()), i;
}, n.prototype.render = function() {
var e = this, t = !b.comCenterState.isModal && b.comCenterState.isExpanded, n = b.comCenterState.isEnabled && (b.comCenterState.hideWhenMinimized ? b.comCenterState.isExpanded : !0), o = M.slider(b.comCenterState.isModal, t, b.comCenterState.isExpanded, n), i = {
width: o.width,
right: o.right,
bottom: o.bottom,
padding: b.comCenterState.isModal ? void 0 : [ 0, x, x, x ]
}, s = b.comCenterState.showUserBar && a.createElement(f.UserBar, {
state: b.comCenterState,
style: i,
showParty: b.comCenterState.showPartyInUserBar,
showCounter: !0,
showToggleIcon: !0,
hideWhenExpanded: !0,
onInviteRequested: function() {
return A.display({
content: a.createElement(D, {
state: b.comCenterState
})
});
}
}), l = b.comCenterState.usePagination && [ a.createElement("surface", {
key: "line-pages",
style: M.lineContainer(b.comCenterState.expansionOpacityTween.getStyle())
}, a.createElement("surface", {
style: M.line
})), a.createElement(d.Pagination, {
key: "pagination",
state: b.comCenterState,
onPageChanged: function() {
return e.resetScrollOffset();
}
}) ];
return a.createElement("surface", r({}, b.comCenterState.focusAncestor.hooks, {
style: M.container(b.comCenterState.translateY.getStyle())
}), a.createElement("surface", {
style: o,
onMouseEnter: n ? function() {
return b.comCenterState.setHovered(!0);
} : void 0,
onMouseLeave: n ? function() {
return b.comCenterState.setHovered(!1);
} : void 0
}, a.createElement(h.Scroller, {
ref: function(t) {
return e.scroller = t;
},
controller: !1,
style: {
flex: 1
},
softClip: [ 0, _.getHeight(2), 0, _.getHeight(2) ]
}, this.renderContent()), l), s);
}, n;
}(a.Component);
N.defaultProps = {
modal: SpartaGlobals.bundleIsConsole
}, o([ l.computed ], N.prototype, "partyAction", null), N = o([ s.observer, I({
group: !0,
ignoreParentIsolation: !0
}) ], N), t.ComCenter = N;
var D = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.getChildContext = function() {
return {
routeConfig: void 0
};
}, Object.defineProperty(n.prototype, "visibleFriends", {
get: function() {
return b.friendStore.friends.filter(function(e) {
return b.partyStore.canInviteUserToParty(e) || b.partyStore.hasInvitationForUser(e.spartaUserId);
}).sort(u.compareUsers);
},
enumerable: !0,
configurable: !0
}), n.prototype.renderCloseButton = function() {
var e = this.props.popupInfo.id, t = {
position: "absolute",
top: 13 * -_.GUTTER,
right: 8 * -_.GUTTER,
zOffset: 100
};
return a.createElement("surface", {
style: t
}, a.createElement(i.Focusable, {
debugName: "popup_close_" + e
}, function(t) {
return a.createElement(O, {
action: function() {
return A.close(e);
},
focusItem: t,
size: 24,
icon: y.bbOfflineUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"),
style: {
padding: _.GUTTER
}
});
}));
}, n.prototype.render = function() {
var e, t = this, n = this.visibleFriends;
if (0 === n.length) {
var r = __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_NOMOREFRIENDS_PC", !0);
SpartaGlobals.bundleIsPS4 ? r = __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_NOMOREFRIENDS_PS4", !0) : SpartaGlobals.bundleIsXBOXONE && (r = __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_NOMOREFRIENDS_XB1", !0)), 
e = a.createElement("surface", {
style: {
flex: 1,
alignItems: "center",
justifyContent: "center"
}
}, a.createElement(S, {
value: r
}));
} else e = a.createElement(h.Scroller, {
key: "scroller",
style: {
flex: 1
}
}, n.map(function(e) {
return a.createElement(p.FriendItem, {
showAsAction: "partyInvite",
showContentOnlyWhileExpanded: !1,
disableInteractions: !0,
key: "friend-" + e.id,
friend: e,
state: t.props.state
});
}));
return a.createElement("surface", {
style: M.partyInvitePopup
}, this.renderCloseButton(), a.createElement("surface", {
style: M.partyInvitePopupContent
}, a.createElement("surface", {
style: {
alignItems: "center",
marginBottom: 3 * _.GUTTER
}
}, a.createElement(S, {
size: "XL",
style: {
fontFamily: R.PURISTA.MEDIUM
},
value: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_PC", !0).toUpperCase()
})), e));
}, n;
}(a.Component);
D.childContextTypes = {
routeConfig: a.PropTypes.any
}, o([ l.computed ], D.prototype, "visibleFriends", null), D = o([ s.observer ], D);
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(1), s = n(9), l = n(235), u = n(3), c = n(316), p = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.forceFocus = function(e) {
var t = this;
this.props.onForceFocus && this.props.onForceFocus(e), this.props.state.isForceExpanded = e, 
e || (this.props.state.isLegacyExpanded = !0, setTimeout(s.action(function() {
t.props.state.isHovered || (t.props.state.isLegacyExpanded = !1);
}), 300));
}, t.prototype.render = function() {
var e = this;
return i.createElement(c, o({}, this.props, {
ref: function(t) {
return e.button = t;
},
onPreOpen: function() {
return e.forceFocus(!0);
},
onClose: function() {
return e.forceFocus(!1);
},
isForceHighlighted: this.props.state.isForceExpanded,
align: "right",
position: function() {
var t = e.button.surface.getBounds(), n = new u.Bounds(t.x, t.y, t.width, t.height);
return {
x: n.right,
y: n.bottom
};
}
}));
}, t;
}(i.Component);
a([ s.action ], p.prototype, "forceFocus", null), p = a([ l.observer ], p), t.ComCenterContextMenuButton = p;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(6), i = n(7).Text, s = {
header: {
zOffset: 1,
marginBottom: 2 * a.GUTTER,
flexDirection: "row",
alignItems: "center"
},
headerIcon: function(e) {
return {
width: 11,
height: 11,
marginRight: a.GUTTER,
texture: e
};
},
headerText: function(e) {
return {
opacity: e
};
}
}, l = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.render = function() {
var e = this.props.state.expansionOpacityTween.getStyle(), t = SpartaGlobals.bundleIsPC && o.createElement("surface", {
style: s.headerIcon(this.props.icon)
});
return o.createElement("surface", {
style: s.header
}, t, o.createElement(i, {
style: s.headerText(e),
size: "S",
type: "emphasis",
value: this.props.name.toUpperCase()
}));
}, t;
}(o.Component);
t.ComCenterHeader = l;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(9), s = n(3), l = n(10), u = n(66), c = n(206), p = n(11), f = n(8), d = n(579), h = n(75), y = n(16), g = n(6), m = n(135), b = n(7).Text, v = n(13), _ = n(20), S = n(12), T = n(43), w = n(18), E = n(29), I = n(53), C = n(14), A = n(150), P = n(67), O = function(e) {
return c.focusTween("#ffffff01", "#ffffff", e);
}, R = g.getWidth(1), k = {
easing: [ .25, .1, .25, 1 ],
duration: 650
}, x = .33;
t.styles = {
container: {
marginBottom: g.GUTTER,
flexDirection: "row",
height: R,
layer: !0,
layerClip: !0
},
inner: function(e) {
return {
flex: 1,
translateY: e,
flexDirection: "row"
};
},
normal: function(e) {
return {
flex: 1,
flexDirection: "row",
opacity: e
};
},
fold: function(e) {
return {
flex: void 0,
position: "absolute",
right: 0,
bottom: -R,
left: 0,
height: R,
alignItems: "center",
justifyContent: "center",
opacity: e
};
},
avatar: function(e) {
return {
zOffset: 10,
backgroundColor: O(e),
width: R,
height: R
};
},
avatarTexture: function(e) {
return {
flex: 1,
zOffset: 1,
opacity: c.focusTween(1, x, e)
};
},
content: function(e, t) {
return {
zOffset: 10,
flex: 1,
padding: g.GUTTER,
justifyContent: "center",
opacity: e,
backgroundColor: O(t)
};
},
contentInner: function(e) {
return {
opacity: c.focusTween(1, x, e)
};
},
text: function(e) {
return {
color: c.focusTween("#ffffff", "#000000", e)
};
},
statusText: {
marginTop: 2
},
button: function(e) {
return {
zOffset: 10,
height: R,
minWidth: R,
marginLeft: 1,
justifyContent: "center",
alignItems: "center",
padding: [ g.GUTTER, 2 * g.GUTTER, g.GUTTER, 2 * g.GUTTER ],
backgroundColor: O(e)
};
},
buttonIcon: function(e) {
return {
zOffset: 1,
texture: e,
textureMode: "contain",
textureScale: .5,
textureAlign: .5,
position: "absolute",
top: g.GUTTER,
right: g.GUTTER,
bottom: g.GUTTER,
left: g.GUTTER
};
}
};
var M = function(n) {
function o() {
var e = n.apply(this, arguments) || this;
return e.foldOffset = y.Animation.tween("a9d93fb4:195", 0, k), e.normalOpacity = y.Animation.tween("a9d93fb4:196", 1, k), 
e.foldOpacity = y.Animation.tween("a9d93fb4:197", 0, k), e.focusItem = s.focus.create(e, s.autoId("friendItem")), 
e.isForceHighlighted = !1, e;
}
return e(o, n), o.prototype.componentWillUnmount = function() {
this.foldOffset.destroy();
}, o.prototype.getInput = function() {
return s.focus.system.controllerMode && "PC" !== A.currentInputType && this.focusItem.isFocused ? this.getInputList().all : void 0;
}, o.prototype.getInputList = function() {
var e, t = this, n = [], r = f.comCenterState.shouldUseGlobalActions;
if (this.props.state.canShowProfile && n.push(new v({
key: S.Accept,
label: SpartaGlobals.bundleIsXBOXONE ? __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD", !0) : __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE", !0),
action: function() {
return T.showUserProfile(t.props.friend);
}
})), f.partyStore.canInviteUserToParty(this.props.friend)) {
var o = new v({
key: S.Option3,
label: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_PC", !0),
action: function() {
f.partyStore.inviteToParty(t.props.friend), t.playFoldAnimation(__("ID_SPARTA_LAYOUT_COMCENTER_INVITE_SENT", !0).toUpperCase());
}
});
"partyInvite" === this.props.showAsAction ? e = {
shortLabel: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE", !0),
input: o
} : n.push(o);
}
var a = f.onlineState.sessionUser && f.onlineState.sessionUser.id === this.props.friend.id;
!r && a && f.partyStore.canLeaveParty && n.push(new v({
action: function() {
return f.partyStore.leaveParty();
},
label: SpartaGlobals.bundleIsPS4 ? __("ID_SPARTA_COMCENTER_LEAVE_PARTY_PS4", !0) : __("ID_SPARTA_COMCENTER_LEAVE_PARTY_XB1", !0)
})), this.props.state.canInviteToServer(this.props.friend) && n.push(new v({
key: S.Option4,
label: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_GAME", !0),
action: function() {
t.props.state.inviteToServer(t.props.friend), t.playFoldAnimation(__("ID_SPARTA_LAYOUT_COMCENTER_INVITE_SENT", !0).toUpperCase());
}
}));
var i = this.props.friend.presence.server, s = this.props.friend.presence.state === h.UserPresenceStates.Offline, l = i && f.gameStore.getGame(i.game);
if (i && l && l.isEnabled && !s) {
if (this.props.state.canJoinServer(i, this.props.friend)) {
var u = new v({
label: __("ID_SPARTA_ACTION_SERVER_JOIN", !0),
action: function() {
t.props.state.joinServer(i, t.props.friend), E.hideComponent("comCenter");
}
});
"serverJoin" === this.props.showAsAction ? e = {
icon: p.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-join-black-d91ea425.png"),
input: u
} : n.push(u);
}
this.props.state.canJoinServer(i, this.props.friend, "spectator") && n.push(new v({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR", !0),
action: function() {
t.props.state.joinServer(i, t.props.friend, "spectator"), E.hideComponent("comCenter");
}
})), this.props.state.canJoinServer(i, this.props.friend, "commander") && n.push(new v({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER", !0),
action: function() {
t.props.state.joinServer(i, t.props.friend, "commander"), E.hideComponent("comCenter");
}
})), this.state.isGameViewVisible || (SpartaGlobals.bundleIsPC && n.push(new v({
label: __("ID_SPARTA_ACTION_SERVER_INFO", !0),
action: function() {
w.gotoLocation(l.serverDetailsRoute + "?blazeGameId=" + i.gameId), E.hideComponent("comCenter");
}
})), P.getState().hasOnlineAccess(l.gameId) || n.push(new v({
label: __("ID_SPARTA_COMMERCE_OFFER_GAME_BUY", !0) + " " + l.displayName(),
action: function() {
w.gotoLocation(l.storeConfig.route), E.hideComponent("comCenter");
}
})));
}
return this.props.disableInteractions && (n = []), {
action: e,
rest: n,
length: n.length + (e ? 1 : 0),
all: e ? [ e.input ].concat(n) : n
};
}, o.prototype.playFoldAnimation = function(e, t) {
var n = this;
void 0 === t && (t = 1500), this.foldText = e, s.TweenBatching.start(), this.normalOpacity.to(0), 
this.foldOpacity.to(1), this.foldOffset.to(-R, null, function() {
setTimeout(function() {
s.TweenBatching.start(), n.normalOpacity.to(1), n.foldOpacity.to(0), n.foldOffset.to(0, null, i.action(function() {
return n.foldText = void 0;
})), s.TweenBatching.stop();
}, t);
}), s.TweenBatching.stop();
}, o.prototype.render = function() {
var e, n, o = this, s = this.focusItem.isFocused || this.isForceHighlighted, l = t.styles.text(s), c = this.props.friend.displayName, p = this.props.friend.presence.toString(), f = p ? a.createElement(u.Marquee, {
scroll: s
}, a.createElement(b, {
size: "XS",
value: p,
style: [ l, t.styles.statusText ]
})) : void 0, y = this.getInputList();
"PC" === A.currentInputType && y.length > 0 && s && (n = y.action && a.createElement(D, r({}, y.action, {
isHighlighted: s
})), e = y.rest.length > 0 && a.createElement(d.ComCenterContextMenuButton, {
dark: !0,
state: this.props.state,
style: t.styles.button(s),
onForceFocus: i.action(function(e) {
return o.isForceHighlighted = e;
}),
options: y.rest
}));
var g = this.props.showContentOnlyWhileExpanded ? this.props.state.expansionOpacityTween.getStyle() : void 0, v = this.props.friend.presence.state === h.UserPresenceStates.Offline && !s;
return a.createElement("surface", r({
style: t.styles.container
}, this.focusItem.hooks), a.createElement("surface", {
style: t.styles.inner(this.foldOffset.getStyle())
}, a.createElement("surface", {
style: t.styles.normal(this.normalOpacity.getStyle())
}, a.createElement("surface", {
style: t.styles.avatar(s)
}, a.createElement(m, {
size: !1,
style: t.styles.avatarTexture(v),
user: this.props.friend,
showPresence: !0
})), a.createElement("surface", {
style: t.styles.content(g, s)
}, a.createElement("surface", {
style: t.styles.contentInner(v)
}, a.createElement(u.Marquee, {
scroll: s
}, a.createElement(b, {
size: "XS",
value: c,
type: "emphasis",
style: l
})), f)), e, n), a.createElement("surface", {
style: [ t.styles.content(g, !1), t.styles.fold(this.foldOpacity.getStyle()) ]
}, a.createElement(b, {
size: "XS",
value: this.foldText,
type: "emphasis",
style: t.styles.text(!1)
}))));
}, o;
}(a.Component);
M.defaultProps = {
showContentOnlyWhileExpanded: !0,
showAsAction: "serverJoin"
}, o([ i.observable ], M.prototype, "foldText", void 0), o([ i.observable ], M.prototype, "isForceHighlighted", void 0), 
o([ i.action ], M.prototype, "playFoldAnimation", null), M = o([ l.observer, _(), C({
isGameViewVisible: I.scope("isVisible")
}) ], M), t.FriendItem = M;
var N = function(n) {
function o() {
var e = n.apply(this, arguments) || this;
return e.focusItem = s.focus.create(e, s.autoId("listItem")), e;
}
return e(o, n), o.prototype.getInput = function() {
return s.focus.system.controllerMode && this.focusItem.isFocused ? [ this.props.input.extend({
key: S.Accept,
label: __("ID_SPARTA_ACTION_SELECT", !0)
}) ] : void 0;
}, o.prototype.render = function() {
var e = this.focusItem.isFocused, n = t.styles.text(e), o = e && this.props.activeTexture || this.props.texture;
return a.createElement("surface", r({
style: t.styles.container
}, this.focusItem.hooks, {
onClick: this.props.input.action
}), a.createElement("surface", {
style: [ t.styles.avatar(e), this.props.avatarStyle ]
}, a.createElement("surface", {
style: {
texture: o,
zOffset: 1,
flex: 1
}
})), a.createElement("surface", {
style: t.styles.content(this.props.state.expansionOpacityTween.getStyle(), e)
}, a.createElement(u.Marquee, {
scroll: e
}, a.createElement(b, {
size: "XS",
value: this.props.input.label,
type: "emphasis",
style: n
}))));
}, o;
}(a.Component);
N = o([ l.observer, _() ], N), t.SimpleItem = N;
var D = function(n) {
function r() {
return n.apply(this, arguments) || this;
}
return e(r, n), r.prototype.getInput = function() {
return s.focus.system.controllerMode && this.props.isHighlighted ? [ this.props.input.extend({
key: S.Accept,
label: __("ID_SPARTA_ACTION_SELECT", !0)
}) ] : void 0;
}, r.prototype.render = function() {
var e = this.props.icon ? a.createElement("surface", {
style: t.styles.buttonIcon(this.props.icon)
}) : a.createElement(b, {
value: this.props.shortLabel,
size: "S",
color: "#000000"
});
return a.createElement("surface", {
style: t.styles.button(this.props.isHighlighted),
onClick: this.props.input.action
}, e);
}, r;
}(a.Component);
D = o([ _() ], D);
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(3), s = n(10), l = n(11), u = n(6), c = n(7).Text, p = (n(13), 
n(12)), f = n(85), d = {
back: {
normal: l.bbOfflineUrl("/sparta/jsclient/builds/assets/left_white-03807e66.png"),
hover: l.bbOfflineUrl("/sparta/jsclient/builds/assets/left_black-fab2d5b9.png")
},
forward: {
normal: l.bbOfflineUrl("/sparta/jsclient/builds/assets/right_white-8a3f8212.png"),
hover: l.bbOfflineUrl("/sparta/jsclient/builds/assets/right_black-bdf62701.png")
}
}, h = {
container: {
zOffset: 1,
flexDirection: "row",
justifyContent: "space-between",
alignItems: "center",
marginBottom: u.GUTTER
},
pageText: function(e) {
return {
marginLeft: u.GUTTER,
opacity: e
};
},
buttonContainer: {
flexDirection: "row"
},
arrowButton: function(e, t, n) {
return {
backgroundColor: t && !e && n ? "#ffffff" : "#ffffff01",
marginRight: u.GUTTER,
width: u.getHeight(SpartaGlobals.bundleIsPC ? 4 : 2),
height: u.getHeight(SpartaGlobals.bundleIsPC ? 4 : 2)
};
},
arrowSurface: function(e, t) {
return {
flex: 1,
opacity: e ? .5 : 1,
texture: t,
textureScale: SpartaGlobals.bundleIsPC ? .5 : 1,
textureAtlas: "SpartaCommonAtlas"
};
},
buttonBorder: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 1,
texture: l.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2
}
}, y = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.gotoPreviousPage = function() {
this.props.state.friendStore.pagination.gotoPreviousPage(), this.props.onPageChanged();
}, n.prototype.gotoNextPage = function() {
this.props.state.friendStore.pagination.gotoNextPage(), this.props.onPageChanged();
}, n.prototype.render = function() {
var e, t = this, n = this.props.state.friendStore.pagination, r = __("ID_SPARTA_LAYOUT_COMCENTER_PAGER").replace("[[page]]", (n.currentPage + 1).toString()).replace("[[total]]", n.totalPages.toString());
return SpartaGlobals.bundleIsPC ? e = [ a.createElement(g, {
key: "prev",
disabled: !n.canShowPreviousPage,
icon: d.back,
action: function() {
return t.gotoPreviousPage();
}
}), a.createElement(g, {
key: "next",
disabled: !n.canShowNextPage,
icon: d.forward,
action: function() {
return t.gotoNextPage();
}
}) ] : (e = [], n.canShowPreviousPage && e.push(a.createElement(f, {
key: "prev",
inputKey: p.Previous,
label: __("ID_SPARTA_LAYOUT_COMCENTER_GOBACK"),
action: function() {
return t.gotoPreviousPage();
}
})), n.canShowNextPage && e.push(a.createElement(f, {
key: "next",
inputKey: p.Next,
label: __("ID_SPARTA_LAYOUT_COMCENTER_GOFORWARD"),
action: function() {
return t.gotoNextPage();
},
style: {
marginLeft: 2 * u.GUTTER
}
}))), a.createElement("surface", {
style: h.container
}, a.createElement(c, {
size: "S",
value: r,
style: h.pageText(this.props.state.expansionOpacityTween.getStyle())
}), a.createElement("surface", {
style: h.buttonContainer
}, e));
}, n;
}(a.Component);
y.defaultProps = {
onPageChanged: function() {}
}, y = o([ s.observer ], y), t.Pagination = y;
var g = function(t) {
function n() {
var e = t.apply(this, arguments) || this;
return e.focusItem = i.focus.create(e, i.autoId("paginationButton")), e;
}
return e(n, t), n.prototype.render = function() {
var e = this, t = !i.focus.system.controllerMode, n = t && this.focusItem.isHovered, o = n && !this.props.disabled ? this.props.icon.hover : this.props.icon.normal, s = t && a.createElement("surface", {
style: h.buttonBorder
});
return a.createElement("surface", r({}, t ? this.focusItem.hooks : {}, {
style: h.arrowButton(this.props.disabled, n, t),
onClick: function() {
t && !e.props.disabled && e.props.action();
}
}), s, a.createElement("surface", {
style: h.arrowSurface(this.props.disabled, o)
}));
}, n;
}(a.Component);
g = o([ s.observer ], g);
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(10), s = n(9), l = n(11), u = n(206), c = n(209), p = n(8), f = n(17), d = n(6), h = n(135), y = n(7).Text, g = d.GUTTER, m = f.userBar.height, b = Math.min(c.maxPartySize, 5);
t.styles = {
dock: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
},
container: function(e, t) {
return Object.assign({}, e, {
zOffset: 10,
backgroundColor: "#00000001",
position: "absolute",
opacity: u.slideTween(0, 1, t),
flex: 1,
height: m,
flexDirection: "row",
justifyContent: "flex-end",
alignItems: "center",
enableMouseEvents: t
});
},
partySlot: {
marginLeft: g,
width: m,
height: m
},
partySlotAdd: function(e) {
return {
flex: 1,
opacity: u.focusTween(.5, 1, e),
texture: l.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-add-white-d6111a71.png")
};
},
textSlot: {
marginLeft: g,
padding: d.GUTTER,
minWidth: m,
height: m,
texture: l.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureBorder: [ 2, 2, 2, 2 ],
selfOpacity: .7,
textureMode: "fill",
justifyContent: "center",
alignItems: "center",
flexDirection: "row"
},
friendsIcon: function(e) {
return {
width: 44,
height: 30,
color: e,
texture: l.bbOfflineUrl("/sparta/jsclient/builds/assets/friends-icon-84691f65.png"),
marginRight: -7
};
},
toggleIcon: {
marginLeft: g,
width: 30,
height: 30,
texture: n(191).normal.End || void 0
}
};
var v = function(e) {
function n() {
return e.apply(this, arguments) || this;
}
return r(n, e), n.prototype.render = function() {
var e = this, n = t.styles.container(this.props.style, this.props.state.isEnabled && !(this.props.hideWhenExpanded && this.props.state.isExpanded)), r = [];
if (this.props.showParty) {
for (var o = this.props.state.partyCategory.users, i = Math.max(0, o.length - b), s = 0; b > s; s++) {
var l = o.length > s ? o[s] : void 0, u = l ? void 0 : this.props.onInviteRequested;
r.push(a.createElement(_, {
key: "slot-" + s,
user: l,
onClick: u
}));
}
i > 0 && (r.splice(r.length - 1, 1), r.push(a.createElement(S, {
key: "hiddenMembers",
text: function() {
return "+" + (i + 1);
}
})));
}
return this.props.showCounter && r.push(a.createElement(S, {
key: "onlineCounter",
onClick: function() {
return e.props.state.setHovered(!0);
},
text: function() {
return "" + p.friendStore.onlineFriends.length;
}
}, function(e) {
return a.createElement("surface", {
style: t.styles.friendsIcon(e)
});
})), this.props.showToggleIcon && r.push(a.createElement("surface", {
key: "icon",
style: t.styles.toggleIcon
})), a.createElement("surface", {
style: n
}, r);
}, n;
}(a.Component);
v = o([ i.observer ], v), t.UserBar = v;
var _ = function(e) {
function n() {
var t = e.apply(this, arguments) || this;
return t.isHovered = !1, t;
}
return r(n, e), n.prototype.render = function() {
var e = this, n = this.props.user ? a.createElement(h, {
size: t.styles.partySlot.height,
user: this.props.user
}) : a.createElement("surface", {
style: t.styles.partySlotAdd(this.isHovered)
});
return a.createElement("surface", {
style: t.styles.partySlot,
onClick: this.props.onClick,
onMouseEnter: s.action(function() {
return e.isHovered = !0;
}),
onMouseLeave: s.action(function() {
return e.isHovered = !1;
})
}, n);
}, n;
}(a.Component);
o([ s.observable ], _.prototype, "isHovered", void 0), _ = o([ i.observer ], _);
var S = function(e) {
function n() {
var t = e.apply(this, arguments) || this;
return t.isHovered = !1, t;
}
return r(n, e), n.prototype.render = function() {
var e = this, n = this.props.children ? this.props.children : function() {
return void 0;
}, r = this.isHovered ? "#000000" : "#ffffff", o = this.isHovered ? "#ffffff" : "#00000001";
return a.createElement("surface", {
style: t.styles.textSlot,
onClick: this.props.onClick,
onMouseEnter: s.action(function() {
return e.isHovered = !0;
}),
onMouseLeave: s.action(function() {
return e.isHovered = !1;
})
}, a.createElement("surface", {
style: [ t.styles.dock, {
backgroundColor: o
} ]
}), a.createElement(y, {
value: this.props.text(),
color: r,
size: "S",
type: "emphasis"
}), n(r));
}, n;
}(a.Component);
o([ s.observable ], S.prototype, "isHovered", void 0), S = o([ i.observer ], S);
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
b.display(new m({
id: "takeover-" + e.id,
texture: e.backgroundUrl,
createButtons: !1,
instantShow: !0,
fullScreen: !0,
centerContent: !1,
content: a.createElement(T, {
takeover: e
})
}));
}
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(9), s = n(10), l = n(255), u = n(8), c = n(364), p = n(37).LINE_HEIGHTS, f = n(6), d = n(17), h = n(156), y = n(22), g = n(7).Text, m = n(42), b = n(25), v = {
takeoverPopupContent: {
width: f.window.colSpan(19),
padding: [ d.dangerZoneSize.height, 0, d.dangerZoneSize.height + d.userBar.height + f.window.rowSpan(6), d.dangerZoneSize.width ],
flex: 1,
justifyContent: "flex-end"
},
takeoverInlineContent: {
padding: [ f.content.colSpan(2), 0, f.content.colSpan(2), 0 ]
},
title: {
textAlignForRTL: "left"
},
subTitle: {
marginBottom: f.window.rowSpan(3),
textAlignForRTL: "left"
},
description: {
color: "#ffffffff",
textLineSpacing: p.M,
textAlignForRTL: "left"
},
buttonContainer: {
flexDirection: "row",
marginTop: f.window.rowSpan(7)
},
button: {
width: f.window.colSpan(5)
}
}, _ = function() {
function e() {
var e = this;
this.isStartScreenVisible = h.isVisibleStore.getState(), h.isVisibleStore.connect(i.action(function(t) {
e.isStartScreenVisible = t;
}));
}
return Object.defineProperty(e.prototype, "isAllowed", {
get: function() {
return !this.isStartScreenVisible;
},
enumerable: !0,
configurable: !0
}), e;
}();
o([ i.observable ], _.prototype, "isStartScreenVisible", void 0), o([ i.computed ], _.prototype, "isAllowed", null);
var S = new _(), T = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.disposePopupClose = i.reaction(function() {
var t = u.takeoverStore.activeTakeover, n = t && t.id === e.props.takeover.id;
return !n || !S.isAllowed;
}, function(t) {
t && b.close(e.props.popupInfo.id);
});
}, t.prototype.componentWillUnmount = function() {
this.disposePopupClose();
}, t.prototype.render = function() {
var e = this;
return a.createElement("surface", {
style: v.takeoverPopupContent
}, a.createElement(g, {
value: this.props.takeover.title.toUpperCase(),
style: v.title,
size: "L"
}), a.createElement(g, {
value: this.props.takeover.subTitle.toUpperCase(),
style: v.subTitle,
size: "XXL"
}), a.createElement(g, {
value: this.props.takeover.description,
style: v.description,
size: "M"
}), a.createElement("surface", {
style: v.buttonContainer
}, a.createElement(y, {
style: v.button,
text: __("ID_SPARTA_ACTION_CONTINUE"),
action: function() {
e.props.takeover.dismiss(), c.TakeoverSeenClient.trigger(e.props.takeover);
}
})));
}, t;
}(a.Component), w = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.render = function() {
var e = this;
return a.createElement("surface", {
style: v.takeoverInlineContent
}, a.createElement(g, {
value: this.props.takeover.title.toUpperCase(),
style: v.title,
size: "L"
}), a.createElement(g, {
value: this.props.takeover.subTitle.toUpperCase(),
style: v.subTitle,
size: "XXL"
}), a.createElement(g, {
value: this.props.takeover.description,
style: v.description,
size: "M"
}), a.createElement("surface", {
style: v.buttonContainer
}, a.createElement(y, {
style: v.button,
text: __("ID_SPARTA_ACTION_CONTINUE"),
action: function() {
e.props.takeover.dismiss(), c.TakeoverSeenClient.trigger(e.props.takeover);
}
})));
}, t;
}(a.Component), E = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return r(n, t), n.prototype.componentDidMount = function() {
this.disposeTakeoverPopupReaction = i.reaction(function() {
var e = u.takeoverStore.activeTakeover;
if (S.isAllowed && e && e.type === l.TakeoverType.Popup) return u.takeoverStore.activeTakeover;
}, function(t) {
t && e(t);
}, !0);
}, n.prototype.componentWillUnmount = function() {
this.disposeTakeoverPopupReaction();
}, n.prototype.render = function() {
return u.takeoverStore.activeTakeover && u.takeoverStore.activeTakeover.type === l.TakeoverType.Inline ? a.createElement(w, {
takeover: u.takeoverStore.activeTakeover
}) : null;
}, n;
}(a.Component);
E = o([ s.observer ], E), t.TakeoverComponent = E;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(3), s = n(9), l = n(16), u = n(17), c = n(10), p = c.observer, f = n(36), d = n(56), h = n(28), y = n(14), g = n(61), m = n(761), b = n(62), v = n(144), _ = n(168), S = n(205), T = n(3), w = n(8), E = n(11), I = i.particles, C = I.Emitter, A = I.Renderer, P = SpartaGlobals.bundleIsPC ? l.Animation.presets.transition : l.Animation.defaultTweenOptions, O = {
container: {
zOffset: 50,
position: "absolute",
left: 0,
top: 0,
backgroundColor: [ 0, 0, 0, 0 ]
},
background: {
zOffset: -1e3,
layer: !0
},
gradientOverlay: {
width: u.background.width,
height: u.background.height,
left: 0,
top: 0,
position: "absolute",
textureMode: "cover",
texture: E.bbOfflineUrl("/sparta/jsclient/builds/assets/gradient_overlay-b86da601.png"),
zOffset: 26,
opacity: .6
}
}, R = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.emitters = {
leftHalf: {
left: new C(),
right: new C()
},
rightHalf: {
left: new C(),
right: new C()
}
}, t;
}
return r(t, e), t.prototype.componentDidMount = function() {
var e = n(920), t = [ E.bbOfflineUrl("/sparta/assets/ui/particles/circle-96840943.png"), E.bbOfflineUrl("/sparta/assets/ui/particles/streak-1155f626.png") ];
for (var r in this.emitters) {
var o = function(n) {
var o = a.emitters[r][n];
if (o.config.fromJson(e), o.config.textureList = t, "left" === n) {
var i = a.emitters[r][n].config.x.to.value, l = a.emitters[r][n].config.x.from.variance;
o.config.x.to.value = -1 * i, o.config.x.from.variance = -1 * l;
}
s.when(function() {
return !w.settingsStore.isFeatureEnabled("particles");
}, function() {
return o.start();
});
}, a = this;
for (var i in this.emitters[r]) o(i);
}
}, t.prototype.componentWillUnmount = function() {
for (var e in this.emitters) for (var t in this.emitters[e]) this.emitters[e][t].stop();
}, t.prototype.render = function() {
var e = this.props.bgItem;
if (!(e && e.info && e.info.overlayUrl && e.info.overlaySize)) return null;
var t = e.info.overlaySize[0], n = e.info.overlaySize[1], r = Math.round(t * b.uiState.viewportScale.scaleX), o = Math.round(n * b.uiState.viewportScale.scaleY), i = 750, s = {
width: this.props.bgWidth,
height: this.props.bgHeight,
position: "absolute",
left: 0,
bottom: 0,
layer: !0,
layerClip: !0,
layerBlur: 1,
layerBlurStrength: S.backgroundContainer.overlayTweens.blurStrength.getStyle(),
scaleX: S.backgroundContainer.overlayTweens.textureScale.getStyle(),
scaleY: S.backgroundContainer.overlayTweens.textureScale.getStyle()
}, l = {
width: r,
height: o,
texture: e.info.overlayUrl,
textureMode: "fill",
zOffset: 1e3,
position: "absolute",
left: this.props.bgWidth / 2 - r / 2,
top: this.props.bgHeight - o,
translateX: S.backgroundContainer.overlayTweens.offsetX.getStyle(),
translateY: S.backgroundContainer.overlayTweens.offsetY.getStyle()
}, u = {
translateX: l.translateX,
translateY: l.translateY,
top: b.uiState.window.height + 100,
position: "absolute",
width: 100,
height: 100,
enableMouseEvents: !1,
zOffset: 1001,
left: b.uiState.window.width / 2 - i
}, c = {
translateX: l.translateX,
translateY: l.translateY,
top: b.uiState.window.height + 100,
position: "absolute",
width: 100,
height: 100,
enableMouseEvents: !1,
zOffset: 1001,
left: b.uiState.window.width / 2 + i
}, p = !w.settingsStore.isFeatureEnabled("particles"), f = p ? a.createElement("surface", {
style: u
}, a.createElement(A, {
emitter: this.emitters.leftHalf.left
}), a.createElement(A, {
emitter: this.emitters.leftHalf.right
})) : null, d = p ? a.createElement("surface", {
style: c
}, a.createElement(A, {
emitter: this.emitters.rightHalf.left
}), a.createElement(A, {
emitter: this.emitters.rightHalf.right
})) : null;
return a.createElement("surface", {
style: s
}, f, d, a.createElement("surface", {
style: l
}));
}, t;
}(a.Component);
o([ s.action ], R.prototype, "componentDidMount", null), R = o([ p ], R);
var k = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.render = function() {
var e = {
width: b.uiState.window.width,
height: b.uiState.window.height,
left: 0,
bottom: 0,
position: "absolute",
backgroundColor: "#000000",
zOffset: -2001,
enableMouseEvents: !1,
translateY: b.uiState.layout.reactComponent.tweenTranslateY.getStyle(),
opacity: this.state.isVisible ? 1 : 0
};
return a.createElement("surface", {
style: e
});
}, t;
}(a.Component);
k = o([ p, y({
isVisible: h(g, "background")
}) ], k), b.uiState.layout.extra.addElements([ a.createElement(k, null) ]);
var x = function() {
function e() {
this.navigationState = f.getState().navigationState;
}
return e.prototype.setNavigationState = function(e) {
this.navigationState = e;
}, e;
}();
o([ s.observable ], x.prototype, "navigationState", void 0), o([ s.action ], x.prototype, "setNavigationState", null);
var M = new x();
f.scope("navigationState").listen(function(e) {
M.setNavigationState(e);
});
var N = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.unloadBg = function() {}, n.unloadOverlay = function() {}, n.preloadedBg = !1, 
n.preloadedOverlay = !1, n.preloader = i.texture.createPreloader(n), n.tweenTranslateY = l.Animation.tween("e2606948:256", 0, P), 
n;
}
return r(t, e), Object.defineProperty(t.prototype, "shouldPreload", {
get: function() {
return M.navigationState === d.FrontEnd && this.props.bgItem.currentState !== _.EnterLeaveStates.IDLE;
},
enumerable: !0,
configurable: !0
}), t.prototype.componentDidMount = function() {
var e = this;
this.stopTransitionWatcher = s.autorun(function() {
var t = s.untracked(function() {
return v.viewState.navigationVector;
}), n = e.props.bgItem, r = n.currentState, o = n.previousState;
s.untracked(function() {
return e.updateTransition(t, r, o);
});
}), this.stopPreloadWatcher = s.autorun(function() {
if (e.shouldPreload) {
var t = e.props.bgItem;
t && t.info && (t.info.url && !e.preloadedBg && (e.unloadBg = e.preloader.preload(t.info.url, void 0), 
e.preloadedBg = !0), t.info.overlayUrl && !e.preloadedOverlay && (e.unloadOverlay = e.preloader.preload(t.info.overlayUrl, void 0), 
e.preloadedOverlay = !0));
} else e.unloadBg(), e.unloadOverlay(), e.preloadedBg = !1, e.preloadedOverlay = !1;
});
}, t.prototype.componentWillUnmount = function() {
this.stopTransitionWatcher(), this.stopPreloadWatcher();
}, t.prototype.updateTransition = function(e, t, n) {
if (e && t === _.EnterLeaveStates.LEAVING && this.tweenTranslateY.autorun(function(t) {
return t.to(e.y * -b.uiState.window.height);
}), t === _.EnterLeaveStates.ENTERING) if (n !== _.EnterLeaveStates.IDLE) this.tweenTranslateY.to(0); else if (e) {
var r = e.y * b.uiState.window.height;
this.tweenTranslateY.transition(r, 0);
} else this.tweenTranslateY.set(0);
}, t.prototype.render = function() {
var e = this.props.bgItem, t = e.info;
if (!t || this.state.gameNavigationState !== d.FrontEnd) return null;
var n = t.url, r = t.size[0], o = t.size[1], i = 120, s = b.uiState.window.height + i, u = s / o, c = r * u, p = (b.uiState.window.width - c) / 2, f = T.assign({}, O.container, {
width: b.uiState.window.width,
height: b.uiState.window.height,
position: "absolute",
opacity: l.Animation.tweenSwitch(0, 1, this.state.isVisible),
enableMouseEvents: this.state.isVisible,
translateY: this.tweenTranslateY.getStyle()
}), h = l.Animation.tweenTo(Math.min(2 * this.state.blurDepth, 20), l.Animation.presets.transition), y = T.assign({}, O.background, {
width: c,
height: s,
left: p,
top: b.uiState.window.height - s,
position: "absolute",
layerBlur: 1,
layerBlurStrength: S.backgroundContainer.backgroundTweens.blurStrength.getStyle(),
texture: n,
textureMode: "fill",
textureOffsetX: S.backgroundContainer.backgroundTweens.offsetX.getStyle(),
textureOffsetY: S.backgroundContainer.backgroundTweens.offsetY.getStyle(),
textureScale: S.backgroundContainer.backgroundTweens.textureScale.getStyle()
}), g = c < b.uiState.window.width ? U(c, b.uiState.window.height, "left") : null, m = c < b.uiState.window.width ? U(c, b.uiState.window.height, "right") : null, v = s < b.uiState.window.height ? U(c, b.uiState.window.height, "top") : null, w = s < b.uiState.window.height ? U(c, s, "bottom") : null, E = t.animation, I = e.currentState === _.EnterLeaveStates.ACTIVE, C = E && I ? a.createElement(E, {
style: {
zOffset: 26,
layerBlur: 1,
layerBlurStrength: h
}
}) : null;
return a.createElement("surface", {
style: f
}, a.createElement("surface", {
style: y
}, g, m, w, v, C, a.createElement(R, {
topOffset: y.top,
bgItem: e,
bgWidth: c,
bgHeight: s
})), !1);
}, t;
}(a.Component);
o([ s.computed ], N.prototype, "shouldPreload", null), N = o([ p, y({
isVisible: h(g, "background"),
gameNavigationState: h(f, "navigationState"),
isBlurred: h(m, "isBlurred"),
blurDepth: h(m, "depth")
}) ], N), t.Background = N;
var D = 160, U = function(e, t, n) {
var r = "left" === n || "right" === n, o = {
position: "absolute",
zOffset: 1001,
textureMode: "fill",
width: r ? D : e,
height: r ? t : D,
texture: null
};
switch (n) {
case "left":
o.left = -1, o.bottom = 0, o.texture = E.bbOfflineUrl("/sparta/jsclient/builds/assets/black-fade-left-1a8f81c3.png");
break;

case "right":
o.right = l.Animation.tweenTo(-1 * S.backgroundContainer.offsetX - 1, SpartaGlobals.bundleIsPC ? l.Animation.presets.transition : l.Animation.defaultTweenOptions), 
o.bottom = 0, o.texture = E.bbOfflineUrl("/sparta/jsclient/builds/assets/black-fade-right-8fa148fd.png");
break;

case "top":
o.left = 0, o.top = 0, o.texture = E.bbOfflineUrl("/sparta/jsclient/builds/assets/black-fade-top-1b6b82cf.png");
break;

case "bottom":
o.left = 0, o.bottom = 0, o.texture = E.bbOfflineUrl("/sparta/jsclient/builds/assets/black-fade-bottom-2f5a5ec2.png");
}
return a.createElement("surface", {
style: o
});
};
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(79), i = function() {
function e() {}
return e;
}(), s = function() {
function e() {
var e = this;
this.quickmatchOptions = null, a.listen(function(t) {
e.setQuickmatchOptions(t);
});
}
return e.prototype.setQuickmatchOptions = function(e) {
var t = this;
void 0 === e && (e = {});
var n = {};
Object.keys(e).map(function(r) {
var o = e[r], a = o.gameModes;
a = a.filter(function(e) {
return t.isModeDisabled(e);
}), a = a.sort(function(e, t) {
return e.prettyName.toUpperCase() > t.prettyName.toUpperCase() ? 1 : -1;
});
var s = new i();
s.gameModes = a;
var l = o.experiences ? o.experiences : [];
if (l.length > 0) {
var u = [], c = [], p = [];
l.forEach(function(e) {
"COMMANDER" === e.filterKey ? u.push(e) : e.premium ? c.push(e) : p.push(e);
});
var f = c.concat(p);
s.experiences = f, s.roles = u;
}
n[r] = s;
}), this.quickmatchOptions = n;
}, e.prototype.isModeDisabled = function(e) {
return -1 === e.disabledFor.indexOf("QuickMatch");
}, e;
}();
r([ o.observable ], s.prototype, "quickmatchOptions", void 0), r([ o.action ], s.prototype, "setQuickmatchOptions", null), 
t.QuickmatchOptionsStore = s;
}, function(e, t, n) {
(function(__) {
"use strict";
function e() {
var e = SpartaGlobals.bundleIsPC ? o.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-770ada4a.png") : o.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-3adc8b4c.png");
s.addRouteConfig(new a.Route("news", {
requireOnline: !0,
getTitle: function() {
return __("ID_SPARTA_MAIN_TITLE_NEWS", !0);
},
disabled: !1,
getSubtitle: function() {
return __("ID_SPARTA_MAIN_TITLE_NEWS");
},
view: i.NewsOverview,
normalIconUrl: e,
backgroundUrl: o.bbOfflineUrl("/sparta/jsclient/builds/assets/background-generic-c08a5fa5.dds"),
backgroundSize: [ 4084, 1440 ],
priority: 5
})), r.NewsClient.startListening();
}
var r = n(589), o = n(11), a = n(52), i = n(591), s = n(29);
t.initialize = e;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = n(15);
t.updateNews = r.createAction(), t.refreshNews = r.createAction();
}, function(e, t, n) {
"use strict";
var r = n(5), o = n(588), a = n(354), i = n(24), s = n(21);
t.NewsClient = s.createClient({
requestOn: [ o.refreshNews ],
throttle: 3e4,
request: function(e) {
return i.request("News.getNewsList", {
games: e
});
},
parse: function(e) {
console.log("news client parse", e);
var t = [];
if (!r.isEmpty(e)) {
r.each(e, function(e, n) {
r.each(e, function(e) {
t.push(new a.Article(e, n));
});
}), t = r.sortBy(t, function(e) {
return e.creationDate.getTime();
}), t = t.reverse();
var n = r.filter(t, function(e) {
return e.isFeatured;
});
0 === n.length && (t[0].isFeatured = !0);
}
var o = {};
return r.each(t, function(e) {
e.hasRequiredFields() && (o[e.id] = e);
}), o;
},
update: function(e) {
o.updateNews(e);
}
}), Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = t.NewsClient;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(5), i = n(3), s = n(37), l = n(16), u = n(230), c = n(7).Text, p = n(6), f = {
header: {
title: SpartaGlobals.bundleIsPC ? "XL" : "XXL",
description: SpartaGlobals.bundleIsPC ? "M" : "L"
},
content: SpartaGlobals.bundleIsPC ? "S" : "M"
}, d = {
boundsContainer: {
localBounds: !1,
paddingBottom: p.getHeight(3)
},
headingTitle: {
marginTop: -6,
marginBottom: 20
},
headingLine: {
height: 1,
flexDirection: "row",
backgroundColor: "#ffffff55",
marginBottom: 20
},
headingMetaDetails: {
marginBottom: 10,
color: "#b8b8b8"
},
headingDescription: {
marginBottom: 20
},
bodyImage: {
height: p.getHeight(45),
textureMode: "contain",
textureAlign: [ .5, .5 ],
marginBottom: 30,
marginTop: 30
},
bodyParagraph: {
textLineSpacing: Math.round(1.2 * s.LINE_HEIGHTS[f.content]),
marginBottom: 20,
textAlign: "justify",
color: "#d3d3d3"
},
list: {
marginTop: 30,
marginBottom: 20
},
listItem: {
paddingLeft: 30,
marginBottom: 20
}
}, h = {
values: {
opacity: {
from: 0,
to: 1
},
scaleX: {
from: .9,
to: 1
},
scaleY: {
from: .9,
to: 1
}
},
options: a.extend({}, l.Animation.defaultTweenOptions, {
duration: 40 / 60 * 1e3,
delay: 150
})
}, y = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.componentDidMount = function() {
this.refs.animation.play();
}, t.prototype.getParsedContent = function() {
var e = this.props.routeConfig, t = e.gameId, n = e.fonts, r = t ? t : "generic", i = this.props.article.parsedChunks, s = "", l = "", u = [], p = n && n.hasOwnProperty("letterSpacing") ? n.letterSpacing : 0, h = function() {
"TEXT" === s && (u.push(o.createElement(c, {
key: "parsed-content-" + u.length,
style: d.bodyParagraph,
value: l,
size: f.content,
section: r,
letterSpacing: p
})), l = "");
};
return a.each(i, function(e) {
if ("image" === e.chunkType) h(), u.push(o.createElement(g, {
key: "parsed-content-" + u.length,
image: e.src
})), s = "IMAGE"; else if ("paragraph" === e.chunkType || "headline" === e.chunkType) l += e.content.text, 
s = "TEXT"; else if ("orderedlist" === e.chunkType || "bulletlist" === e.chunkType) {
h();
var t = [];
a.each(e.items, function(e) {
var n = "list-item-" + t.length;
t.push(o.createElement("surface", {
style: d.listItem,
key: n
}, o.createElement(c, {
value: "- " + e.text,
size: f.content,
section: r,
letterSpacing: p
})));
}), u.push(o.createElement("surface", {
key: "parsed-content-" + u.length,
style: d.list
}, t)), s = "LIST";
}
}), l && h(), u;
}, t.prototype.render = function() {
var e = this.props.article, t = this.getParsedContent();
return o.createElement(i.AnimatedSurface.Static, {
ref: "animation",
animation: h,
style: d.boundsContainer
}, o.createElement(m, {
pageTitle: e.pageTitle && e.pageTitle.text,
creationDate: e.creationDate,
routeConfig: this.props.routeConfig,
description: e.description
}), o.createElement("surface", {
style: d.boundsContainer
}, t));
}, t;
}(o.Component);
t.NewsContent = y;
var g = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.render = function() {
return o.createElement("surface", {
style: [ d.bodyImage, {
texture: this.props.image
} ]
});
}, t;
}(o.Component);
g.propTypes = {
image: o.PropTypes.string
};
var m = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.render = function() {
var e = this.props.routeConfig, t = e.gameId, n = e.fonts, r = n && n.hasOwnProperty("letterSpacing") ? n.letterSpacing : 0, a = t ? t : "generic", i = f.header, s = i.title, l = i.description;
return o.createElement("surface", null, o.createElement("surface", null, o.createElement(u, {
date: this.props.creationDate,
type: "emphasis",
size: "S",
section: a,
letterSpacing: r,
style: d.headingMetaDetails
}), o.createElement("surface", {
style: d.headingLine
})), o.createElement("surface", {
style: d.headingTitle
}, o.createElement(c, {
size: s,
type: "emphasis",
value: this.props.pageTitle.toUpperCase(),
section: a,
letterSpacing: r
})), o.createElement("surface", null, o.createElement(c, {
value: this.props.description,
style: d.headingDescription,
size: l,
section: a,
letterSpacing: r
})));
}, t;
}(o.Component);
m.propTypes = {
pageTitle: o.PropTypes.string,
creationDate: o.PropTypes.instanceOf(Date),
description: o.PropTypes.string
}, Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = y;
}, function(e, t, n) {
"use strict";
function r(e) {
return e.isFeatured ? "L" : "M";
}
var o = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(1), s = n(69), l = n(16), u = n(6), c = n(27), p = n(105), f = n(134), d = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.pcStyle = {
flexWrap: "wrap",
flexDirection: "row",
marginRight: 2 * -u.GUTTER,
marginBottom: -u.GUTTER
}, t;
}
return o(t, e), t.prototype.renderNewsForPC = function(e) {
return i.createElement("surface", {
style: this.pcStyle
}, e);
}, t.prototype.renderNewsForConsole = function(e) {
return i.createElement(s.CardCarousel, {
key: "carousel"
}, e);
}, t.prototype.render = function() {
var e = p.renderCards(this.state.recommendations, r), t = {
opacity: l.Animation.tweenSwitch(0, 1, this.state.recommendations)
};
return i.createElement(c, {
style: t,
debug: !0
}, SpartaGlobals.bundleIsPC ? this.renderNewsForPC(e) : this.renderNewsForConsole(e));
}, t;
}(i.Component);
d = a([ f({
count: 15,
games: [ "sparta" ],
ruleCategories: [ "sparta_news" ]
}) ], d), t.NewsOverview = d;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(3), s = n(231).chunkTextByLines, l = n(447), u = n(59), c = n(319), p = n(6), f = n(7).Text, d = n(161), h = n(19), y = n(14), g = {}, m = n(30), b = m.isRTLLanguage, v = m.isJapaneseLanguage, _ = m.isTradChineseLanguage, S = n(5), T = function(e) {
function t() {
var t = e.call(this) || this;
return t.state = {
selected: l.textsToAccept.EULA
}, t;
}
return r(t, e), t.prototype.componentDidMount = function() {
this.loadTextForCurrentSelected();
}, t.prototype.componentDidUpdate = function(e, t) {
this.state.selected !== t.selected && this.loadTextForCurrentSelected();
}, t.prototype.getMenuItems = function() {
var e = this, t = S.map(l.textsToAccept, function(t, n) {
return e.mapItem(t, n);
}), n = S.map(l.textsToShow, function(t, n) {
return e.mapItem(t, n);
});
return [].concat(t).concat(n);
}, t.prototype.loadTextForCurrentSelected = function() {
var e = this, t = this.state.nativeProperties.locale, n = this.state.selected && this.state.selected.sources[t];
return n ? g[n] ? void this.setState({
text: g[n]
}) : void i.loadAssetRequest(i.options.urlHook(n), function(r, o) {
r ? (e.setState({
text: o
}), g[n] = o) : (console.warn("Failed to fetch text for locale: " + t), e.setState({
text: ""
}));
}) : (console.warn("Missing source for locale: " + t), void this.setState({
text: ""
}));
}, t.prototype.mapItem = function(e, t) {
var n = this;
return {
label: e.getTitle().toUpperCase(),
scrollLabel: !0,
id: t,
name: t,
showActiveIndicator: this.state.selected && e.getTitle() === this.state.selected.getTitle(),
onTrigger: function() {
n.state.selected && n.state.selected === e || (n.refs.list.setActive(t), n.setState({
text: null,
selected: e
}), n.refs.template.refs.scroller.scrollTo(0, 0));
}
};
}, t.prototype.render = function() {
var e = {
marginTop: v() || _() ? 0 : -p.GUTTER,
marginBottom: p.getHeight(5),
textAlignForRTL: "left"
}, t = this.state.selected && this.state.selected.getTitle().toUpperCase(), n = [ a.createElement(f, {
key: "title",
value: t,
size: "L",
style: e
}) ];
if (this.state.text && this.state.selected) {
var r = s(this.state.text), o = 0 === r.length ? 100 : 2e3 / r.length, i = this.state.selected && this.state.selected.getTitle(), l = r.map(function(e, t) {
return a.createElement(w, {
delay: t * o,
key: t + "_" + i,
text: e
});
});
n.push.apply(n, l);
}
return a.createElement(c, {
tilting: !1,
useScroller: !0,
tallContent: !0,
showScrollAction: !0,
globalScrollListener: !0,
ref: "template",
sideContent: a.createElement(u, {
ref: "list",
items: this.getMenuItems(),
divider: "item"
})
}, a.createElement(d, {
transitionId: t
}, a.createElement("surface", null, n)));
}, t;
}(a.Component);
T = o([ y({
nativeProperties: h
}) ], T), t.TunguskaAbout = T;
var w = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.state = {
show: !1
}, n;
}
return r(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.timeout = setTimeout(function() {
e.setState({
show: !0
});
}, this.props.delay);
}, t.prototype.componentWillUnmount = function() {
clearTimeout(this.timeout);
}, t.prototype.render = function() {
if (this.state.show) {
var e = b() ? p.GUTTER : 0;
return a.createElement(f, {
value: this.props.text,
size: "S",
style: {
textAlignForRTL: "left",
marginRight: e
}
});
}
return a.createElement(f, {
value: "",
size: "S"
});
}, t;
}(a.Component);
}, function(e, t, n) {
(function(__, e) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(10), s = n(9), l = n(8), u = n(33), c = n(604), p = n(11), f = n(7).Text, d = n(6), h = n(27), y = n(22), g = n(77), m = n(31).alert, b = n(25), v = n(13), _ = n(12), S = n(42), T = n(17), w = n(18), E = {
headlineContainer: {
alignItems: "center",
justifyContent: "center"
},
calloutContainer: {
width: d.getWidth(5),
marginRight: d.getWidth(1)
},
image: {
width: 588,
height: 188,
marginBottom: 20,
marginTop: 20
},
spacer: {
marginBottom: 20,
marginTop: 20,
width: d.getWidth(20)
},
textCenter: {
textAlign: "center",
textAlignForRTL: "center"
},
textContainer: {
marginLeft: 10,
marginRight: 10
},
textRTL: {
textAlignForRTL: "left"
},
scrollerContainer: {
margin: [ 40, 40, 40, 40 ]
}
}, I = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return r(n, t), n.prototype.showCTEPopupTerms = function(t) {
var n = this, r = d.getWidth(20), o = {
top: d.getHeight(2),
width: r,
height: T.content.height - d.getHeight(8)
};
c.cteClient.getLegalText.request({
game: "tunguska",
key: t
}).onSuccess(function(e) {
var t = a.createElement("surface", {
style: E.scrollerContainer
}, a.createElement(u.Scroller, {
style: o,
key: "cte_scroller_legal"
}, a.createElement("surface", {
style: {
flexWrap: "wrap",
flexDirection: "row"
}
}, a.createElement(f, {
size: "S",
value: e,
style: {
width: r,
textAlignForRTL: n.props.alignmentRTL,
paddingRight: d.GUTTER
}
}))));
b.display(new S({
content: t,
id: "linkTextCTEPopup",
fullScreen: !0,
inputs: [ new v({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: _.Decline
}) ]
}));
}).onError(function(t) {
e.info("Could not fetch terms text ", t);
}).onThrottled(function() {});
}, n.prototype.render = function() {
var e = this;
return a.createElement(y, {
text: this.props.btnText,
action: function() {
return e.showCTEPopupTerms(e.props.textKeyToShow);
},
style: {
marginTop: 20,
marginBottom: 20,
width: d.getWidth(8)
}
});
}, n;
}(a.Component), C = function() {
function e() {
this.enabled = !0, this.text = "", this.done = !1;
}
return e.prototype.update = function(e, t) {
this.enabled = e, this.text = t;
}, e.prototype.setAsComplete = function(e) {
this.enabled = !1, this.done = !0, this.text = e;
}, e;
}();
o([ s.observable ], C.prototype, "enabled", void 0), o([ s.observable ], C.prototype, "text", void 0), 
o([ s.observable ], C.prototype, "done", void 0), o([ s.action ], C.prototype, "update", null), 
o([ s.action ], C.prototype, "setAsComplete", null);
var A = new C(), P = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return r(n, t), n.prototype.registerToCTE = function() {
A.update(!1, __("ID_SPARTA_CTE_ACTION_REGISTERING")), c.cteClient.register.request({
game: "tunguska"
}).onSuccess(function(t) {
e.info("CTE register successfull!"), g.trackEvent("CTE", "Register", "Success"), 
g.trackFunnel("cte/signup/success"), A.setAsComplete(__("ID_SPARTA_CTE_ACTION_SUCCESS"));
}).onError(function(t) {
e.info("CTE register error: ", t);
var n, r;
switch (t.message) {
case "PREMIUM_REQUIRED":
n = __("ID_SPARTA_CTE_REGISTER_ERR_PREMIUM_REQ_TITLE"), r = __("ID_SPARTA_CTE_REGISTER_ERR_PREMIUM_REQ_TEXT");
break;

case "CTE_REGISTRATION_FULL":
n = __("ID_SPARTA_CTE_REGISTER_ERR_REG_FULL_TITLE"), r = __("ID_SPARTA_CTE_REGISTER_ERR_REG_FULL_TEXT");
break;

case "CTE_REGISTRATION_CLOSED":
n = __("ID_SPARTA_CTE_REGISTER_ERR_REG_CLOSED_TITLE"), r = __("ID_SPARTA_CTE_REGISTER_ERR_REG_CLOSED_TEXT");
break;

case "HAS_CTE_ACCESS":
n = __("ID_SPARTA_CTE_REGISTER_ERR_HAS_ACCESS_TITLE"), r = __("ID_SPARTA_CTE_REGISTER_ERR_HAS_ACCESS_TEXT");
break;

default:
n = __("ID_SPARTA_CTE_REGISTER_ERR_GENERAL_TITLE"), r = __("ID_SPARTA_CTE_REGISTER_ERR_GENERAL_TEXT");
}
m(r, n), g.trackFunnel("cte/signup/error"), g.trackEvent("CTE", "Register", "Error: " + t.message), 
A.update(!0, "");
}).onThrottled(function() {
A.update(!0, "");
}), g.trackFunnel("cte/signup/register");
}, n.prototype.render = function() {
return A.enabled ? a.createElement(y, {
text: this.props.title.toUpperCase(),
action: this.registerToCTE,
style: {
marginTop: 20,
marginBottom: 20,
width: d.getWidth(8)
}
}) : a.createElement(y, {
text: A.text,
style: {
marginTop: 20,
marginBottom: 20,
width: d.getWidth(8)
},
disabled: !0
});
}, n;
}(a.Component);
P = o([ i.observer ], P);
var O = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.componentDidMount = function() {
g.trackFunnel("cte/signupvisit");
}, t.prototype.render = function() {
var e, t = p.bbOfflineUrl("/sparta/assets/tunguska/cte-signup-logo-550fc8f9.png");
if (A.done) e = a.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, a.createElement("surface", {
style: E.spacer
}, a.createElement(f, {
style: E.textCenter,
size: "M",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED")
})), a.createElement("surface", {
style: E.spacer
}, a.createElement(f, {
style: E.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED_INFO")
})), a.createElement("surface", {
style: E.spacer
}, a.createElement(f, {
style: E.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED_INFO2")
})), a.createElement(y, {
text: __("ID_SPARTA_ACTION_CLOSE"),
action: function() {
return w.gotoLocation("tunguska/more");
},
style: {
marginTop: 20,
marginBottom: 20,
width: d.getWidth(6)
}
})); else if (l.onlineState.isOnlineBlazeAndGateway) {
var n = __("ID_SPARTA_CTE_DISCLAIMER_PC");
SpartaGlobals.bundleIsPS4 ? n = __("ID_SPARTA_CTE_DISCLAIMER_PS4") : SpartaGlobals.bundleIsXBOXONE && (n = __("ID_SPARTA_CTE_DISCLAIMER_XB1")), 
e = a.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, a.createElement("surface", {
style: E.spacer
}, a.createElement(f, {
style: E.textCenter,
size: "M",
value: __("ID_SPARTA_CTE_SIGN_UP_INFO2")
})), a.createElement("surface", {
style: E.spacer
}, a.createElement(f, {
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_WHAT_IS"),
style: {
textAlignForRTL: "left"
}
})), a.createElement(I, {
btnText: __("ID_SPARTA_CTE_SIGN_READ_MORE"),
textKeyToShow: "CTE_DESCRIPTION",
alignmentRTL: "left"
}), a.createElement("surface", {
style: E.spacer
}, a.createElement(f, {
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_LEGAL_REQ"),
style: {
textAlignForRTL: "left"
}
})), a.createElement(I, {
btnText: __("ID_SPARTA_CTE_TERMS_TITLE"),
textKeyToShow: "CTE_EULA"
}), a.createElement(P, {
title: __("ID_SPARTA_CTE_SIGN_UP_BTN")
}), a.createElement("surface", {
style: E.spacer
}, a.createElement(f, {
style: E.textCenter,
size: "XS",
value: __("ID_SPARTA_CTE_SIGN_UP_INFO")
})), a.createElement("surface", {
style: E.spacer
}, a.createElement(f, {
size: "XS",
value: n,
style: {
textAlignForRTL: "left"
}
})));
} else e = a.createElement("surface", {
style: E.spacer
}, a.createElement(f, {
style: E.textCenter,
size: "XS",
value: __("ID_SPARTA_MATCHMAKING_FAILED_CONNECTION")
}));
return a.createElement(h, {
tallContent: !0
}, a.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, a.createElement("surface", {
style: [ E.image, {
texture: t
} ]
}), e));
}, t;
}(a.Component);
O = o([ i.observer ], O), t.TunguskaCTESignup = O;
}).call(t, n(2), n(97));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(10), i = n(44), s = n(370), l = n(11), u = n(171), c = n(6), p = n(34), f = n(39).routeIsHostingGame, d = n(7).Text, h = n(27), y = n(90), g = n(41), m = n(14), b = n(28), v = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.render = function() {
var e = this.props, t = e.value, n = e.title;
return o.createElement(c.Col, {
width: 5,
style: {
alignItems: "center",
flex: 1
}
}, o.createElement(d, {
value: n.toUpperCase(),
style: {
marginBottom: c.getHeight(1)
},
size: "S"
}), o.createElement(d, {
value: t,
style: {
marginBottom: c.getHeight(1)
},
size: "XL"
}));
}, n;
}(o.Component);
v.propTypes = {
value: o.PropTypes.string,
title: o.PropTypes.string
};
var _ = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.render = function() {
var e, t = this.props.campaignData, n = f();
if (n) {
var r = t.completedEpisodes + "/" + t.totalEpisodes, a = t.completedCodexEntries + "/" + t.totalCodexEntries, i = t.completedCodeBooks + "/" + t.totalCodeBooks;
e = o.createElement("surface", {
style: {
flexDirection: "row"
}
}, o.createElement(v, {
value: r,
title: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_EPISODES_COMPLETE")
}), o.createElement(v, {
value: a,
title: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODEX_UNLOCKED")
}), o.createElement(v, {
value: i,
title: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODE_BOOKS_FOUND")
}));
} else e = o.createElement("surface", null);
return o.createElement("surface", null, o.createElement("surface", {
style: {
marginBottom: c.getHeight(5),
alignItems: "center",
justifyContent: "center"
}
}, o.createElement(d, {
value: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_PLAY").toUpperCase(),
size: "M",
type: "emphasis"
})), e);
}, n;
}(o.Component), S = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.componentWillMount = function() {
p.getCampaignEpisodes();
}, n.prototype.render = function() {
var e = s.tunguskaCampaignStore.campaignProgress, t = this.state.presence.isReady(), n = o.createElement(u.Card, {
style: {
width: c.getWidth(16),
height: c.getHeight(59)
},
bottom: o.createElement(_, {
campaignData: e
}),
enabled: t,
onPress: function() {
return y.continueSinglePlayer(i.tunguskaGameId);
},
background: [ l.bbOfflineUrl("/sparta/jsclient/builds/assets/CampaignCard1-c9545305.dds"), l.bbOfflineUrl("/sparta/jsclient/builds/assets/CampaignCard2-3a970b08.dds"), l.bbOfflineUrl("/sparta/jsclient/builds/assets/CampaignCard3-48fc5e17.dds") ]
});
if (SpartaGlobals.bundleIsConsole) {
var r = c.getHeight(3);
n = o.createElement("surface", {
style: {
alignItems: "center",
marginTop: r
}
}, n);
}
return o.createElement(h, {
tallContent: !0
}, n);
}, n;
}(o.Component);
S = r([ a.observer, m({
presence: b(g)
}) ], S), t.TunguskaCampaign = S;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(10), i = n(257), s = n(256), l = n(99), u = n(366), c = n(42), p = n(13), f = n(12), d = n(25), h = n(458), y = n(6), g = n(7).Text, m = n(27), b = n(102)["default"], v = n(64), _ = n(17), S = n(46), T = {
header: {
flexDirection: "row",
alignItems: "center"
},
headerText: {
marginRight: y.GUTTER
}
}, w = function(t) {
function n() {
var e = t.apply(this, arguments) || this;
return e.selectionState = new l.CareerSelectionState(), e;
}
return e(n, t), n.prototype.componentWillMount = function() {
h.trigger(this.props.viewLocation.args.gameId);
}, n.prototype.renderHeader = function() {
var e = i.tunguskaCodexStore.totalCodexProgression;
return o.createElement("surface", {
style: T.header
}, o.createElement(g, {
size: "S",
value: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODEX_ENTRIES"),
style: T.headerText
}), o.createElement(g, {
size: "S",
value: e.completed + "/" + e.total,
type: "emphasis"
}));
}, n.prototype.renderItem = function(e, t, n, r, a) {
var i = [ new p({
label: __("ID_SPARTA_ACTION_SELECT"),
key: f.Accept,
blockInputFor: 500,
action: function() {
return d.display(new c({
content: o.createElement(u.TunguskaCodexPopup, {
codex: t,
shouldPlayVoiceOver: !0
}),
leftAlignInputs: !0,
createButtons: !1,
inputs: [ new p({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: f.Decline
}) ]
}));
}
}) ], l = Object.assign({
height: 1.4 * e.width,
borderRadius: [ 5, 5, 5, 5 ]
}, e);
return o.createElement(s.TunguskaCodexCard, {
ref: "c" + n,
key: n,
entry: t,
hasNoSideMargin: !0,
buttons: i,
style: l
});
}, n.prototype.renderFocusPane = function() {}, n.prototype.render = function() {
var e, t = i.tunguskaCodexStore.careerCodexCategories;
return e = 0 === t.length ? o.createElement(v, null, o.createElement(S, {
autoRun: !0,
size: 50
})) : o.createElement(b, {
gameId: this.props.viewLocation.args.gameId,
preSelectedCategory: this.props.viewLocation.args.category,
preSelectedId: this.props.viewLocation.args.id,
selectionState: this.selectionState,
categorizedData: t,
widthGridCells: 17,
rowItemLength: 5,
disableFocusPane: !0,
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane
}), o.createElement(m, {
tallContent: !0,
scrollContent: !1,
header: this.renderHeader()
}, o.createElement("surface", {
style: {
height: _.content.height
}
}, e));
}, n;
}(o.Component);
w = r([ a.observer ], w), t.TunguskaCareerCodex = w;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(10), i = n(9), s = n(11), l = n(8), u = n(6), c = n(7).Text, p = n(77), f = n(27), d = n(22), h = n(31).alert, y = n(706), g = {
headlineContainer: {
alignItems: "center",
justifyContent: "center"
},
calloutContainer: {
width: u.getWidth(5),
marginRight: u.getWidth(1)
},
image: {
width: 226,
height: 334,
marginBottom: 20,
marginTop: 20
},
textContainer: {
marginLeft: 10,
marginRight: 10
},
textRTL: {
textAlignForRTL: "left"
}
}, m = i.observable({
enabled: !0,
text: ""
}), b = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.sendOnboardingEmail = function() {
var e = y.listen(function(t) {
null === t ? (h(__("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_ERROR_TEXT", !0), __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_ERROR_TITLE", !0)), 
m.enabled = !0, p.trackFunnel("companion/onboarding/error"), p.trackEvent("Companion", "Onboarding", "Error")) : (h(__("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_CONFIRMATION_TEXT", !0).replace("[[email]]", t), __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_CONFIRMATION_TITLE", !0)), 
m.enabled = !1, m.text = __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_SEND_SENT"), p.trackFunnel("companion/onboarding/success"), 
p.trackEvent("Companion", "Onboarding", "Success")), e();
});
m.enabled = !1, m.text = __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_SEND_LOADING"), 
y.trigger(), p.trackFunnel("companion/onboarding/send"), p.trackEvent("Companion", "Onboarding", "Send");
}, n.prototype.render = function() {
return m.enabled ? o.createElement(d, {
text: this.props.title.toUpperCase(),
action: this.sendOnboardingEmail,
style: {
width: u.getWidth(6)
}
}) : o.createElement(d, {
text: m.text,
style: {
width: u.getWidth(6)
},
disabled: !0
});
}, n;
}(o.Component);
b = r([ a.observer ], b);
var v = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.componentDidMount = function() {
p.trackFunnel("companion/onboarding");
}, n.prototype.render = function() {
var e = s.bbOfflineUrl("/sparta/jsclient/builds/assets/companion-career-a508a4f7.png"), t = s.bbOfflineUrl("/sparta/jsclient/builds/assets/companion-loadout-ed624170.png"), n = s.bbOfflineUrl("/sparta/jsclient/builds/assets/companion-emblem-d55dfde6.png"), r = s.bbOfflineUrl("/sparta/jsclient/builds/assets/companion-friends-a8b0c6d4.png");
return o.createElement(f, {
tallContent: !0
}, o.createElement("surface", {
style: {
flexDirection: "row"
}
}, o.createElement("surface", {
style: [ g.calloutContainer, {
marginLeft: u.getWidth(1)
} ]
}, o.createElement("surface", {
style: g.headlineContainer
}, o.createElement(c, {
size: "M",
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_1_TITLE")
}), o.createElement("surface", {
style: [ g.image, {
texture: e
} ]
})), o.createElement(c, {
size: "XS",
style: [ g.textContainer, g.textRTL ],
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_1_TEXT")
})), o.createElement("surface", {
style: g.calloutContainer
}, o.createElement("surface", {
style: g.headlineContainer
}, o.createElement(c, {
size: "M",
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_2_TITLE")
}), o.createElement("surface", {
style: [ g.image, {
texture: t
} ]
})), o.createElement(c, {
size: "XS",
style: [ g.textContainer, g.textRTL ],
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_2_TEXT")
})), o.createElement("surface", {
style: g.calloutContainer
}, o.createElement("surface", {
style: g.headlineContainer
}, o.createElement(c, {
size: "M",
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_3_TITLE")
}), o.createElement("surface", {
style: [ g.image, {
texture: n
} ]
})), o.createElement(c, {
size: "XS",
style: [ g.textContainer, g.textRTL ],
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_3_TEXT")
})), o.createElement("surface", {
style: g.calloutContainer
}, o.createElement("surface", {
style: g.headlineContainer
}, o.createElement(c, {
size: "M",
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_4_TITLE")
}), o.createElement("surface", {
style: [ g.image, {
texture: r
} ]
})), o.createElement(c, {
size: "XS",
style: [ g.textContainer, g.textRTL ],
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_4_TEXT")
}))), o.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, o.createElement("surface", {
style: {
marginBottom: 20,
marginTop: 40
}
}, o.createElement(c, {
size: "S",
value: __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_AVAILABLE_PLATFORMS")
})), l.onlineState.isOnlineBlazeAndGateway ? o.createElement(b, {
title: __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_SEND_BUTTON")
}) : null, l.onlineState.isOnlineBlazeAndGateway ? o.createElement("surface", {
style: {
marginBottom: 20,
marginTop: 20
}
}, o.createElement(c, {
size: "XS",
value: __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_INSTRUCTIONS")
})) : null));
}, n;
}(o.Component);
t.TunguskaCompanion = v;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(7).Text, i = n(37).LINE_HEIGHTS, s = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.render = function() {
return o.createElement("surface", null, o.createElement(a, {
value: this.props.legal,
size: "S",
style: {
marginBottom: 24,
textAlign: "center",
textAlignForRTL: "center",
textLineSpacing: Math.round(1.2 * i.S)
}
}));
}, t;
}(o.Component);
t.CompanionNotificationPopup = s;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(44), s = n(69), l = n(8), u = n(39), c = n(18).gotoLocation, p = n(134), f = n(105), d = n(6), h = n(27), y = n(22), g = n(64), m = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.renderCreateCustomGameButton = function() {
var e = l.gameStore.getGame(i.tunguskaGameId).rspConfig;
return e.isEnabled() && u.isHostingGame(i.tunguskaGameId) ? a.createElement(y, {
text: __("ID_SPARTA_CUSTOM_GAMES_CREATE").toLocaleUpperCase(),
style: {
marginTop: 7 * d.GUTTER,
width: d.getWidth(5)
},
action: function() {
return c(e.purchaseNewRoute);
}
}) : void 0;
}, n.prototype.render = function() {
function e(e, t) {
return 0 === t ? "L" : "M";
}
function t(e, t) {
return 0 === t ? "SSL" : "SSM";
}
var n = SpartaGlobals.bundleIsPC ? t : e;
return null != this.state.recommendations ? a.createElement(h, {
wideContent: !0
}, a.createElement(s.CardCarousel, {
width: d.getWidth(24)
}, f.renderCards(this.state.recommendations, n, "friends")), this.renderCreateCustomGameButton()) : a.createElement(g, r({
key: "loadingState"
}, this.props.emptyState));
}, n;
}(a.Component);
m = o([ p({
count: 10,
games: [ i.tunguskaGameId ],
ruleCategories: [ "custom_games" ]
}) ], m), t.TunguskaCustomGames = m;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = function(e) {
function t(t) {
return e.call(this, t) || this;
}
return r(t, e), t.prototype.render = function() {
var e = {
texture2: this.props.image,
texture2Mode: "contain",
texture2Align: [ .5, .5 ],
blendMode: "screen",
flex: 1,
zOffset: 2
}, t = {
width: this.props.style.width,
height: this.props.style.height,
blendMode: "screen"
};
return o.createElement("surface", {
style: t
}, o.createElement("surface", {
style: e
}, this.props.children));
}, t;
}(o.Component);
t.TunguskaLogo = a;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(3), i = n(44), s = n(10), l = n(11), u = n(55), c = n(69), p = n(8), f = n(373), d = n(113), h = n(39), y = n(6), g = (n(7).Text, 
n(18)), m = n(34), b = n(27), v = n(14), _ = n(41), S = n(119), T = a.getBuildInfo().isCTE(), w = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.render = function() {
var e = h.routeIsHostingGame(), t = !d.rimeTransitionState.isInJoinFlow && e, n = !this.state.presence || !this.state.presence.isReady(), r = !this.state.presence || this.state.presence.isTooYoung(), a = (!this.state.presence || this.state.presence.isMissingMPPrivileges()) && SpartaGlobals.bundleIsPS4, s = n || r || !e, v = SpartaGlobals.bundleIsPC ? void 0 : "M", _ = o.createElement(u.BasicCard, {
key: "options",
enabled: t,
size: v,
heading: __("ID_SPARTA_CARD_OPTIONS"),
iconSize: .5,
icon: l.bbOfflineUrl("/sparta/jsclient/builds/assets/big_options-24a1279a.png"),
activeIcon: l.bbOfflineUrl("/sparta/jsclient/builds/assets/big_options_black-9c91f927.png"),
onPress: function() {
return d.requiresRime(i.tunguskaGameId, m.gameShowOptions);
}
}), S = o.createElement(u.BasicCard, {
key: "about",
size: v,
heading: __("ID_SPARTA_CARD_ABOUT"),
iconSize: .5,
icon: l.bbOfflineUrl("/sparta/jsclient/builds/assets/big_about-aa28071c.png"),
activeIcon: l.bbOfflineUrl("/sparta/jsclient/builds/assets/big_about_black-0b144eb0.png"),
onPress: function() {
return g.gotoLocation("tunguska/more/about");
}
}), w = o.createElement(u.BasicCard, {
key: "credits",
enabled: t,
size: v,
heading: __("ID_SPARTA_CARD_CREDITS"),
iconSize: .5,
icon: l.bbOfflineUrl("/sparta/jsclient/builds/assets/big_credits-30d1be9c.png"),
activeIcon: l.bbOfflineUrl("/sparta/jsclient/builds/assets/big_credits_black-31273b7f.png"),
onPress: function() {
return d.requiresRime(i.tunguskaGameId, m.gameShowCredits);
}
}), E = [];
if (!this.state.isInstalling && !a && !T) {
var I = l.bbOfflineUrl("/sparta/jsclient/builds/assets/battlepacks_bf1_big_white-b77228eb.png"), C = l.bbOfflineUrl("/sparta/jsclient/builds/assets/battlepacks_bf1_big_black-80100170.png"), A = o.createElement(u.BasicCard, {
key: "battlepacks",
size: v,
enabled: !s,
triggerMode: s ? "before" : "between",
heading: __("ID_SPARTA_CARD_BATTLEPACKS"),
iconSize: .5,
icon: I,
activeIcon: C,
onPress: function() {
return d.requiresHostingGame(i.tunguskaGameId, function() {
return g.gotoLocation("tunguska/more/battlepacks");
});
}
});
E.push(A);
}
if (E.push(_), !T) {
var P = l.bbOfflineUrl("/sparta/jsclient/builds/assets/big_companion-38417f14.png"), O = l.bbOfflineUrl("/sparta/jsclient/builds/assets/big_companion_black-bac21156.png"), R = o.createElement(u.BasicCard, {
key: "companion",
size: v,
heading: __("ID_SPARTA_CARD_COMPANION"),
iconSize: .5,
icon: P,
activeIcon: O,
onPress: function() {
return g.gotoLocation("tunguska/more/companion");
}
});
E.push(R);
}
if (!T && p.settingsStore.isFeatureEnabled("tunguskaCTERegister") && !T) {
var k = l.bbOfflineUrl("/sparta/assets/tunguska/cte-icon-white-300-9521c625.png"), x = l.bbOfflineUrl("/sparta/assets/tunguska/cte-icon-black-300-b28b2daf.png"), M = o.createElement(u.BasicCard, {
key: "ctesignup",
enabled: e,
size: v,
heading: __("ID_SPARTA_CARD_CTE"),
iconSize: .5,
icon: k,
activeIcon: x,
onPress: function() {
return d.requiresHostingGame(i.tunguskaGameId, function() {
return g.gotoLocation("tunguska/more/ctesignup");
});
}
});
E.push(M);
}
return E.push(S), E.push(w), o.createElement(b, {
wideContent: !0,
scrollContent: SpartaGlobals.bundleIsPC
}, o.createElement(c.CardCarousel, {
width: y.getWidth(24)
}, E), o.createElement(f.BundleInfo, null));
}, n;
}(o.Component);
w = r([ s.observer, v({
presence: _,
isInstalling: S.scope("isInstalling")
}) ], w), t.TunguskaMore = w;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(7).Text, i = n(27), s = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.render = function() {
return o.createElement(i, null, o.createElement(a, {
value: "... Premium"
}));
}, t;
}(o.Component);
t.TunguskaPremium = s;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = n(1), o = n(44), a = n(175), i = n(476), s = n(473), l = n(11), u = [ {
id: "gameModes",
label: function() {
return __("ID_SPARTA_FILTER_GAMEMODES");
},
toggleAll: !0
}, {
id: "maps",
label: function() {
return __("ID_SPARTA_FILTER_MAPS");
},
toggleAll: !0
}, {
id: "vehiclesKits",
label: function() {
return __("ID_SPARTA_FILTER_CLASSESVEHICLES");
},
type: "onOff",
filters: [ {
id: "kits",
label: function() {
return __("ID_SPARTA_FILTER_KITS");
}
}, {
id: "vehicles",
label: function() {
return __("ID_SPARTA_FILTER_VEHICLES");
}
} ]
}, {
id: "weaponClasses",
label: function() {
return __("ID_SPARTA_FILTER_WEAPONS");
},
type: "onOff",
toggleAll: !0
}, {
id: "misc",
label: function() {
return __("ID_SPARTA_FILTER_ADVANCED");
},
type: "onOff"
}, {
id: "scales",
label: function() {
return __("ID_SPARTA_FILTER_RULES");
},
type: "scales"
}, {
id: "slots",
label: function() {
return __("ID_SPARTA_FILTER_SLOTS");
},
toggleAll: !0
}, {
id: "regions",
label: function() {
return __("ID_SPARTA_FILTER_REGIONS");
},
toggleAll: !0
}, {
id: "name",
label: function() {
return __("ID_SPARTA_FILTER_NAME");
}
} ], c = {
A: l.bbUrl("/sparta/assets/tunguska/icons/icon-air-1ed7dab1.png"),
L: l.bbUrl("/sparta/assets/tunguska/icons/icon-land-561b83d6.png"),
1: l.bbUrl("/sparta/assets/tunguska/icons/icon-assault-a180880f.png"),
2: l.bbUrl("/sparta/assets/tunguska/icons/icon-medic-2891f85c.png"),
3: l.bbUrl("/sparta/assets/tunguska/icons/icon-support-374056e8.png"),
4: l.bbUrl("/sparta/assets/tunguska/icons/icon-scout-90dffea9.png"),
HERO: l.bbUrl("/sparta/assets/tunguska/icons/icon-hero-a92e2b7d.png"),
M: l.bbUrl("/sparta/assets/tunguska/icons/icon-melee-27a5a9d1.png"),
S: l.bbUrl("/sparta/assets/tunguska/icons/icon-shotgun-336b39f1.png"),
H: l.bbUrl("/sparta/assets/tunguska/icons/icon-handgun-60e23c35.png"),
E: l.bbUrl("/sparta/assets/tunguska/icons/icon-explosives-f0ef3e1b.png"),
LMG: l.bbUrl("/sparta/assets/tunguska/icons/icon-lmg-83486acb.png"),
SMG: l.bbUrl("/sparta/assets/tunguska/icons/icon-smg-e8df1100.png"),
SR: l.bbUrl("/sparta/assets/tunguska/icons/icon-singleactionrifle-2859bd28.png"),
SAR: l.bbUrl("/sparta/assets/tunguska/icons/icon-semiautorifle-01842e33.png"),
KG: l.bbUrl("/sparta/assets/tunguska/icons/icon-kitgadgets-6bc7f5c6.png")
}, p = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.switchTab = function(e) {
this.refs.tabs && this.refs.tabs.handleTabSelected(e);
}, n.prototype.render = function() {
var e = this, t = {
name: "current",
title: function() {
return __("ID_SPARTA_TAB_CURRENT");
},
render: function() {
return r.createElement(i, {
key: "current",
ref: "filterView",
gameId: o.tunguskaGameId,
filterLayout: u,
supportsRentServer: !0,
filterIcons: c,
switchTab: function(t) {
return e.switchTab(t);
}
});
}
}, n = {
name: "presets",
title: function() {
return __("ID_SPARTA_TAB_PRESETS");
},
render: function() {
return r.createElement(s, {
key: "presets",
switchTab: function(t) {
return e.switchTab(t);
},
gameId: o.tunguskaGameId
});
}
}, l = [ t, n ];
return r.createElement(a.TabbedTemplate, {
topGutter: !1,
ref: "tabs",
tabs: l
});
}, n;
}(r.Component);
t.TunguskaServerFilter = p;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(11), i = n(3), s = n(44), l = n(175), u = (n(8), n(6)), c = n(14), p = n(28), f = n(79), d = n(92), h = n(479), y = h.FavoriteServers, g = h.RecentServers, m = (h.RentedServers, 
n(474)), b = m.SearchServers, v = m.SearchServersHeader, _ = n(23), S = n(95), T = i.getBuildInfo().isCTE(), w = "tunguska/mp/servers/filter", E = function(t) {
function n() {
var e = t.apply(this, arguments) || this;
return e.gameId = s.tunguskaGameId, e;
}
return e(n, t), n.prototype.getTabs = function() {
var e = this, t = T && SpartaGlobals.bundleIsPC && o.createElement(i.Focusable, {
debugName: "cte_server_refresh"
}, function(e) {
return o.createElement(S, {
icon: a.bbUrl("/sparta/assets/ui/icons/ui/refresh-a64e967a.png"),
focusItem: e,
action: function() {
return _.refreshServers({
game: s.tunguskaGameId
});
},
size: u.getHeight(2.4),
glow: !1,
key: "cteRefreshButton",
style: {
marginBottom: 4
}
});
}), n = {
name: "servers",
title: __("ID_SPARTA_TAB_SERVERS"),
renderHeader: function() {
return T ? t : o.createElement(v, {
gameId: s.tunguskaGameId,
filtersRoute: w
});
},
render: function() {
return o.createElement(b, {
key: "servers",
gameId: s.tunguskaGameId,
gameData: e.state.gameData,
pingSites: e.state.pingSites,
filtersRoute: T ? void 0 : w
});
}
}, r = [ n ];
return T || r.push({
name: "favorites",
title: __("ID_SPARTA_TAB_FAVORITES"),
render: function() {
return o.createElement(y, {
key: "favorites",
gameId: s.tunguskaGameId,
gameData: e.state.gameData,
pingSites: e.state.pingSites
});
}
}), T || r.push({
name: "recent",
title: __("ID_SPARTA_TAB_RECENT"),
render: function() {
return o.createElement(g, {
key: "recent",
gameId: s.tunguskaGameId,
gameData: e.state.gameData,
pingSites: e.state.pingSites
});
}
}), r;
}, n.prototype.render = function() {
return o.createElement(l.TabbedTemplate, {
ref: "template",
tabs: this.getTabs(),
showDivider: !0,
topGutter: !1
});
}, n;
}(o.Component);
E = r([ c({
pingSites: p(d, s.tunguskaGameId),
gameData: p(f, s.tunguskaGameId)
}) ], E), t.TunguskaServerList = E;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = n(633), o = n(50);
t.cteClient = r.createClients(o.gatewayClient.request);
}, function(e, t, n) {
"use strict";
function r(e) {
var t = i.onlineState.sessionUser, n = t && t.spartaUserId.personaId || "", r = t && t.spartaUserId.personaName || "", a = new c.EndOfRoundPersonalStats({
personaId: n,
squadId: 0,
teamId: 0,
name: r
}, []), s = [], l = {
1: [],
2: []
};
e.playerList.players.forEach(function(e, t) {
e.personaId === n && a.updateInfo(e.squadId, e.teamId, e.name);
var r = new c.EndOfRoundScoreboardEntry({
deaths: e.score.deaths,
didFinish: !e.isSpectator,
kills: e.score.kills,
name: e.name,
personaId: e.personaId,
platformId: "",
placing: t,
rank: e.score.rank,
score: e.score.score,
squadId: e.squadId,
teamId: e.teamId
});
l[e.teamId].push(r);
}), e.playerList.teams.forEach(function(t) {
if (t.TeamId && t.TeamId > 0) {
var n = t.FactionId ? t.FactionId.toString() : "", r = new c.EndOfRoundFaction(n, o(t.FactionName), t.FactionName), a = e.winningTeam === t.TeamId, i = l[t.TeamId], u = i.sort(function(e, t) {
return t.score - e.score;
});
s.push(new c.EndOfRoundTeam(t.TeamId, r, u, void 0, a));
}
});
var u = new c.EndOfRoundScoreboard(s, e.winningTeam), p = e.mapName.lastIndexOf("/"), f = e.mapName.substring(p + 1), d = new c.EndOfRoundServerInfo({
map: new c.EndOfRoundMap(f, "", ""),
mode: new c.EndOfRoundGameMode(e.gameMode, ""),
roundDuration: e.roundPlayTime
});
return new c.UnrankedEndOfRoundData(e.roundId, a, u, d);
}
function o(e) {
var t = u.getState(), n = t.tunguska, r = "";
if (e && n && n.factions) {
var o = n.factions, a = o.filter(function(t) {
return t.name.toLowerCase() === e.toLowerCase();
});
if (a && a.length > 0) {
var i = a[0];
r = i.images.Png160xANY;
}
}
return r;
}
var a = n(73), i = n(8), s = n(21), l = n(34), u = (n(77), n(79)), c = n(372), p = s.createClient({
requestOn: [ l.updateUnrankedEorData ],
request: function(e) {
return new Promise(function(t) {
t(e);
});
},
parse: function(e) {
return r(e);
},
update: function(e) {
a.tunguskaEndOfRoundStore.setUnRankedData(e);
}
});
Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = p;
}, function(e, t) {
"use strict";
function n(e, t, n, r) {
return new u(e, t, n, r || 0);
}
function r(e, t, n) {
return Math.floor(n * (e / t));
}
function o(e, t) {
return t && e.length > 2 ? e.length - 2 : 0;
}
function a(e, t) {
return t ? e.length > 2 ? e.length - 1 : 2 === e.length ? 1 : 0 : 1;
}
function i(e, t) {
if (t) {
var n = a(e, t), r = e[n];
return r.scoreNeeded || 0;
}
return e[1] ? e[1].scoreNeeded : 0;
}
function s(e, t, n, r, a, i) {
if (!i || n.length < 3) {
var s = n[o(n, !1)], l = s ? s.scoreNeeded : 0, u = (e - l) / Math.max(t - l, 1), c = Math.floor(a * u);
return c || r;
}
return 0;
}
function l(e, t, a, i, s) {
var l = [], u = t[o(t, !1)], c = u ? u.scoreNeeded : 0, p = a - c;
e = e.map(function(e) {
return n(e.id, e.name, e.value);
});
for (var f = 1; f < t.length; f++) {
var d = [], h = t[f], y = h.scoreNeeded, g = 0;
if (1 === f) y -= c, g = y - p; else {
var m = f - 1, b = t[m];
y -= b.scoreNeeded, g = y;
}
for (var v = 0; v < e.length; v++) {
var _ = e[v], S = 0;
if (_.value >= g) {
S = r(g, y, i), d.push(n(_.id, _.name, g, S)), e[v].value = _.value - g;
break;
}
_.value > 0 && (S = r(_.value, y, i), d.push(n(_.id, _.name, _.value, S)), g -= _.value, 
e[v].value = 0);
}
d.length && l.push(d);
}
if (s) {
var T = l[l.length - 1];
return T ? [ T ] : [];
}
return l;
}
var u = function() {
function e(e, t, n, r) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = 0), void 0 === r && (r = 0), 
this.id = e, this.name = t, this.value = n, this.width = r;
}
return e;
}();
t.VisualSegment = u, t.getInitialRankIndexFrom = o, t.getInitialRankIndexTo = a, 
t.getGoalValue = i, t.getInitialWidth = s, t.calculateIterations = l;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(9), s = n(10), l = n(608), u = n(609), c = (n(34), n(14)), p = n(120), f = n(302), d = n(7).Text, h = n(138), y = n(6), g = n(17), m = n(303), b = n(30).localeLetterSpacing, v = function(t) {
function n() {
var e = t.apply(this, arguments) || this;
return e.tabIndex = 0, e.previousTabIndex = 0, e;
}
return e(n, t), n.prototype.getTabs = function() {
return [ {
component: l.RSPAdminBanKick,
id: "unopened",
title: function() {
return __("ID_SPARTA_RSPADMIN_KICK_BAN");
}
}, {
component: u.RSPAdminBanList,
id: "get",
title: function() {
return __("ID_SPARTA_RSPADMIN_BAN_LIST");
}
} ];
}, n.prototype.prevTab = function() {
this.goToTab(this.tabIndex - 1);
}, n.prototype.goToTab = function(e) {
var t = this.getTabs();
e > t.length - 1 ? e = 0 : 0 > e && (e = t.length - 1), this.previousTabIndex = this.tabIndex, 
this.tabIndex = e;
}, n.prototype.nextTab = function() {
this.goToTab(this.tabIndex + 1);
}, n.prototype.renderTab = function(e) {
var t = Object.assign({
key: e.title
}, e.props);
return a.createElement(e.component, t);
}, n.prototype.renderContent = function(e) {
var t = g.content.width, n = this.tabIndex > this.previousTabIndex, r = [ {
propertyName: "translateX",
fromValue: n ? t : -t,
toValue: 0
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1
} ], o = [ {
propertyName: "translateX",
fromValue: 0,
toValue: n ? -t : t
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0
} ], i = {
flex: 1,
marginTop: this.props.topGutter ? y.GUTTER : 0,
alignItems: "center"
};
return a.createElement(h, {
inTweens: r,
outTweens: o,
playInOnMount: !1,
transitionId: e.id,
style: i
}, this.renderTab(e));
}, n.prototype.render = function() {
var e, t, n = this.getTabs()[this.tabIndex], o = Object.assign({}, this.props, {
header: {
middle: a.createElement(d, {
style: b({
textLetterSpacing: 9
}),
size: "XXL",
value: __("ID_SPARTA_RSPADMIN_SERVER_ADMIN")
})
}
});
return e = this.renderContent(n), t = a.createElement(m, {
active: n,
tabs: this.getTabs(),
title: __("ID_SPARTA_RSPADMIN_SERVER_ADMIN"),
goToTab: this.goToTab.bind(this),
nextTab: this.nextTab.bind(this),
prevTab: this.prevTab.bind(this)
}), a.createElement(f, r({}, o), t, e);
}, n;
}(a.Component);
o([ i.observable ], v.prototype, "tabIndex", void 0), o([ i.observable ], v.prototype, "previousTabIndex", void 0), 
o([ i.action ], v.prototype, "goToTab", null), v = o([ s.observer, c({
rspServerDetails: p
}) ], v), t.RSPAdmin = v;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
return new Promise(function(t) {
var n = S[e];
if (n) return void t(n);
var r = d.getPersonas.request({
game: "tunguska",
personaIds: [ e ]
});
r.onFinished(function() {
var n = r.response && r.response[e];
n && (S[e] = n), t(n);
});
});
}
function r(t) {
t.platformId ? y.showUserProfile(t.platformId) : e(t.personaId).then(function(e) {
e ? y.showUserProfile(e.platformId) : h(__("ID_SPARTA_RSPADMIN_COULD_NOT_FIND_PLAYER", !0));
});
}
var o = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(1), s = n(3), l = n(10), u = n(367), c = n(610), p = n(12), f = n(369), d = n(142), h = n(31).alert, y = n(43), g = (n(59), 
n(137), n(20), n(13)), m = n(7).Text, b = n(6), v = (n(22), n(34)), _ = (n(120), 
n(14), n(28), n(36), {
container: {
flexDirection: "row",
justifyContent: "space-between",
width: b.getWidth(24)
}
}), S = {}, T = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.teamA = s.focus.createGroup("teamA"), n.teamB = s.focus.createGroup("teamB"), 
v.getPlayerList(), n.playerListInterval = setInterval(function() {
v.getPlayerList();
}, 5e3), n;
}
return o(t, e), t.prototype.componentWillUnmount = function() {
clearInterval(this.playerListInterval);
}, t.prototype.getButtons = function(e) {
return [ new g({
label: __("ID_SPARTA_RSPADMIN_KICK"),
action: function() {
return c.openRSPAdminKickBanPopup(e, "kick");
}
}), new g({
label: __("ID_SPARTA_RSPADMIN_BAN"),
action: function() {
return c.openRSPAdminKickBanPopup(e, "ban");
}
}) ];
}, t.prototype.getInput = function(e) {
if (!s.focus.system.controllerMode) return [];
var t = [ new g({
label: __("ID_SPARTA_RSPADMIN_KICK"),
visible: !0,
key: p.Option1,
action: function() {
return c.openRSPAdminKickBanPopup(e, "kick");
}
}), new g({
label: __("ID_SPARTA_RSPADMIN_BAN"),
visible: !0,
key: p.Option2,
action: function() {
return c.openRSPAdminKickBanPopup(e, "ban");
}
}) ];
if (SpartaGlobals.bundleIsConsole) {
var n = new g({
key: p.Start,
visible: !0,
label: __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD" : "ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE"),
action: function() {
return r(e);
}
});
t.push(n);
}
return t;
}, t.prototype.render = function() {
return i.createElement("surface", {
style: _.container
}, i.createElement("surface", null, i.createElement(m, {
size: "S",
value: u.teamsStore.teamA.name.toLocaleUpperCase()
}), i.createElement(f.PlayerList, {
getInput: this.getInput,
getButtons: this.getButtons,
focusGroup: this.teamA,
players: u.teamsStore.teamA.players
})), i.createElement("surface", null, i.createElement(m, {
size: "S",
value: u.teamsStore.teamB.name.toLocaleUpperCase()
}), i.createElement(f.PlayerList, {
getInput: this.getInput,
getButtons: this.getButtons,
focusGroup: this.teamB,
players: u.teamsStore.teamB.players
})));
}, t;
}(i.Component);
T = a([ l.observer ], T), t.RSPAdminBanKick = T;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t) {
T(__("ID_SPARTA_RSPADMIN_CONFIRM_LIFT_BAN"), "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
u.liftBanPlayer.request({
game: "tunguska",
personaId: e.personaId,
serverId: t
});
});
}
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(9), s = n(10), l = n(3), u = n(142), c = n(369), p = n(12), f = n(13), d = n(43), h = n(7).Text, y = n(160), g = n(6), m = n(22), b = n(120), v = n(14), _ = n(28), S = n(31), T = S.confirm, w = S.alert, E = (n(34), 
function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return r(t, e), t.prototype.render = function() {
return a.createElement("surface", {
style: {
flexDirection: "row",
justifyContent: "space-between",
width: g.getWidth(24)
}
}, a.createElement(I, null), a.createElement(C, null));
}, t;
}(a.Component));
E = o([ s.observer ], E), t.RSPAdminBanList = E;
var I = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.banlistFocusGroup = l.focus.createGroup("banlist"), n;
}
return r(n, t), n.prototype.getInput = function(t) {
var n = this;
if (!l.focus.system.controllerMode) return [];
var r = [ new f({
label: __("ID_SPARTA_RSPADMIN_LIFT_BAN"),
visible: !0,
key: p.Option1,
action: function() {
return e(t, n.state.rspServerDetails.server.serverId);
}
}) ];
if (SpartaGlobals.bundleIsConsole) {
var o = new f({
key: p.Start,
visible: !0,
label: __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD" : "ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE"),
action: function() {
return d.showUserProfile(t.platformId);
}
});
r.push(o);
}
return r;
}, n.prototype.getButtons = function(t) {
var n = this;
return [ new f({
label: __("ID_SPARTA_RSPADMIN_LIFT_BAN"),
action: function() {
return e(t, n.state.rspServerDetails.server.serverId);
}
}) ];
}, n.prototype.render = function() {
var e = this.state.rspServerDetails;
if (!e || !e.bannedList.length) return a.createElement(h, {
value: __("ID_SPARTA_RSPADMIN_NO_BANNED_PLAYERS")
});
var t = e.bannedList.map(function(e) {
return {
name: e.displayName,
personaId: e.personaId,
platformId: e.platformId
};
});
return a.createElement("surface", null, a.createElement(h, {
size: "M",
value: __("ID_SPARTA_RSPADMIN_BAN_LIST")
}), a.createElement(c.PlayerList, {
getInput: this.getInput.bind(this),
getButtons: this.getButtons.bind(this),
focusGroup: this.banlistFocusGroup,
players: t
}));
}, n;
}(a.Component);
I = o([ s.observer, v({
rspServerDetails: _(b, "data")
}) ], I);
var C = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.inputValue = "", t;
}
return r(t, e), t.prototype.handleAdd = function() {
var e = this;
T(__("ID_SPARTA_RSPADMIN_CONFIRM_BAN_PLAYER"), "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
var t = u.banPlayer.request({
game: "tunguska",
personaName: e.inputValue,
serverId: e.state.rspServerDetails.server.serverId
});
t.onSuccess(i.action(function() {
e.inputValue = "";
})), t.onError(function() {
w(__("ID_SPARTA_RSPADMIN_COULD_NOT_BAN_PLAYER", !0));
});
});
}, t.prototype.render = function() {
var e = this;
return this.state.rspServerDetails ? a.createElement("surface", {
style: {
width: g.getWidth(11)
}
}, a.createElement(y, {
style: {
width: g.getWidth(11),
marginTop: 4 * g.GUTTER,
marginBottom: g.GUTTER
},
ref: "banField",
onValueChanged: i.action(function(t) {
return e.inputValue = t;
}),
title: __("ID_SPARTA_RSPADMIN_PLAYER_NAME"),
initialValue: this.inputValue,
placeholder: __("ID_SPARTA_RSPADMIN_PLAYER_NAME_PLACEHOLDER"),
size: "M"
}), a.createElement(m, {
style: {
width: g.getWidth(11)
},
text: __("ID_SPARTA_RSPADMIN_ADD_TO_BAN_LIST"),
action: this.handleAdd.bind(this)
})) : null;
}, t;
}(a.Component);
o([ i.observable ], C.prototype, "inputValue", void 0), C = o([ s.observer, v({
rspServerDetails: _(b, "data")
}) ], C);
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
function e() {
var e = [ {
handle: "OFFENSIVEBEHAVIOR",
title: __("ID_SPARTA_RSP_KICK_OFFENSIVEBEHAVIOR")
}, {
handle: "LATENCY",
title: __("ID_SPARTA_RSP_KICK_LATENCY")
}, {
handle: "RULEVIOLATION",
title: __("ID_SPARTA_RSP_KICK_RULEVIOLATION")
}, {
handle: "GENERAL",
title: __("ID_SPARTA_RSP_KICK_GENERAL")
} ];
return e;
}
function r(e) {
return e.condition ? i.createElement("surface", null, e.children) : i.createElement("surface", null);
}
var o = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(1), s = n(3), l = n(10), u = n(62), c = n(142), p = n(6), f = n(7).Text, d = n(22), h = (n(19), 
n(42)), y = n(25), g = (n(46), n(12)), m = n(13), b = (n(49), n(54)), v = n(31), _ = v.confirm, S = v.alert, T = n(36), w = n(120), E = (n(34), 
{
dock: {
flex: 1,
justifyContent: "center",
alignItems: "center"
},
container: {
alignItems: "center"
},
itemRow: {
backgroundColor: "#ffffff05",
padding: 10,
alignItems: "center",
marginBottom: p.GUTTER
},
btn: {
width: p.getWidth(6)
}
}), I = function() {
y.close("rspAdminKickBanPopup");
}, C = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return o(n, t), n.prototype.render = function() {
var t = this, n = __("kick" === this.props.type ? "ID_SPARTA_RSPADMIN_KICK_PLAYER" : "ID_SPARTA_RSPADMIN_BAN_PLAYER"), o = Object.assign({}, E.container, u.uiState.viewportScale);
return i.createElement("surface", {
style: E.dock
}, i.createElement("surface", {
style: o
}, i.createElement(f, {
size: "L",
value: n,
style: {
marginBottom: 2 * p.GUTTER
}
}), i.createElement("surface", {
style: {
flexDirection: "row",
alignItems: "center",
marginBottom: 2 * p.GUTTER
}
}, i.createElement(f, {
value: this.props.player.name
})), i.createElement("surface", {
style: {
width: p.getWidth(8),
marginBottom: 4 * p.GUTTER
}
}, e().map(function(e) {
return i.createElement(A, {
player: t.props.player,
type: t.props.type,
reason: e,
key: e.handle
});
})), i.createElement(r, {
condition: SpartaGlobals.bundleIsPC
}, i.createElement(d, {
text: __("ID_SPARTA_ACTION_CANCEL").toUpperCase(),
style: E.btn,
action: function() {
I();
}
}))));
}, n;
}(i.Component);
C = a([ l.observer ], C), t.RSPAdminKickBanPopup = C;
var A = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.focusItem = s.focus.create(n, "RSPAdminKickBanReason"), n.rspServerDetails = w.getState().data, 
n.gameState = T.getState(), n;
}
return o(t, e), t.prototype.handleKickBan = function() {
var e = this, t = __("kick" === this.props.type ? "ID_SPARTA_RSPADMIN_CONFIRM_KICK_PLAYER" : "ID_SPARTA_RSPADMIN_CONFIRM_BAN_PLAYER");
_(t, "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
var t = e.gameState.server.gameId, n = e.props.player.personaId, r = e.props.reason.handle, o = e.rspServerDetails.server.serverId;
"kick" === e.props.type ? e.kickPlayer(t, n, r).onError(function() {
S(__("ID_SPARTA_RSPADMIN_COULD_NOT_KICK_PLAYER", !0));
}) : e.kickPlayer(t, n, r).onFinished(function() {
setTimeout(function() {
e.banPlayer(n, o).onError(function() {
S(__("ID_SPARTA_RSPADMIN_COULD_NOT_BAN_PLAYER", !0));
});
}, 1500);
}), I();
});
}, t.prototype.kickPlayer = function(e, t, n) {
var r = c.kickPlayer.request({
game: "tunguska",
gameId: e,
personaId: t,
reason: n
});
return r;
}, t.prototype.banPlayer = function(e, t) {
var n = c.banPlayer.request({
game: "tunguska",
personaId: e,
serverId: t
});
return n;
}, t.prototype.render = function() {
var e = this, t = this.props.reason, n = Object.assign({}, E.itemRow), r = "#ffffff";
(this.focusItem.isFocused || this.focusItem.isHovered) && (n = Object.assign(n, {
backgroundColor: "#ffffff"
}), r = "#000000");
var o = new m({
key: g.Accept,
action: function() {
return e.handleKickBan();
},
label: __("ID_SPARTA_ACTION_SELECT")
});
return i.createElement(b, {
input: o,
focusItem: this.focusItem
}, i.createElement("surface", {
key: t.title,
style: n
}, i.createElement(f, {
color: r,
style: {
zOffset: 1
},
value: t.title,
size: "S"
})));
}, t;
}(i.Component);
A = a([ l.observer ], A), t.openRSPAdminKickBanPopup = function(e, t) {
void 0 === t && (t = "kick"), y.display(new h({
content: i.createElement(C, {
player: e,
type: t
}),
id: "rspAdminKickBanPopup",
fullScreen: !0,
containContent: !1,
createButtons: !1,
inputs: [ new m({
label: __("ID_SPARTA_ACTION_CANCEL"),
action: function() {
I();
},
key: g.Decline
}) ]
}));
};
}).call(t, n(2));
}, function(e, t, n) {
(function(e) {
"use strict";
function r(e) {
if (t.campaignFlow.state !== a.none) switch (e) {
case v.LoadingScreen:
t.campaignFlow.state === a.globe && t.campaignFlow.startMission();
break;

case v.InGameMenu:
l.cloudTransition.state !== l.CloudTransitionState.earth && (m.route("playing"), 
l.cloudTransition.setToEarth({
changeGlobe: !1
}));
break;

case v.FrontEnd:
t.campaignFlow.state === a.globe || t.campaignFlow.mustReturnToFrontend ? (l.cloudTransition.setToSpace(l.CloudTransitionState.clouds), 
u.globeState.set("Sparta"), setTimeout(function() {
l.cloudTransition.landOnEarth(function() {
t.campaignFlow.clear(), g.setSinglePlayer(!1), E("Progression.invalidateStatsAndLicenses", {
game: c.tunguskaGameId
}), h.refreshCareer(), T.getCampaignEpisodes();
}, l.CloudTransitionSound.planet);
}, 600)) : (t.campaignFlow.state === a.quit || t.campaignFlow.state === a.playing) && t.campaignFlow.enter(function() {
d.handleBlackFadeStart(0), d.hideComponent("all", function() {
p.sendMessage("tunguska.enterCampaign");
});
});
}
}
function o() {
T.enterCampaign.listen(function() {
t.campaignFlow.enter();
}), p.registerMessageListener("tunguska.crossLaunchCampaign", function() {
if (w.getState()) var e = d.handleStartScreenClosed.listen(function() {
e(), t.campaignFlow.enter();
}); else t.campaignFlow.enter();
}), h.onSignInChange.listen(function() {
t.campaignFlow.state !== a.none && (t.campaignFlow.mustReturnToFrontend = !0);
}), _.onJoinMultiplayerServerResult.listen(function(e) {
t.campaignFlow.state !== a.none && e.resultType === S.success && (t.campaignFlow.clear(), 
l.cloudTransition.setToEarth());
}), T.quitCampaign.listen(function() {
T.getCampaignEpisodes(), l.cloudTransition.setToSpace(l.CloudTransitionState.clouds), 
m.hide(), t.campaignFlow.quit();
}), f.handleSpartaActivated.listen(function() {
r(b.getState().navigationState);
}), b.scope("navigationState").listen(r);
}
var a, i = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, s = n(9), l = n(170), u = n(207), c = n(44), p = n(3).frostbite, f = n(18), d = n(29), h = n(43), y = n(153).checkGameState, g = n(35), m = n(48), b = n(36), v = n(56), _ = n(91), S = n(181).JoinResultType, T = n(34), w = n(156).isVisibleStore, E = n(24).request, I = e.get("TunguskaCampaignFlowState");
!function(e) {
e[e.none = 0] = "none", e[e.globe = 1] = "globe", e[e.playing = 2] = "playing", 
e[e.quit = 3] = "quit";
}(a = t.CampaignState || (t.CampaignState = {}));
var C = function() {
function e() {
this.state = a.none, this.mustReturnToFrontend = !1, this.debug = !1;
}
return e.prototype.log = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.debug && I.log.apply(I, [ e ].concat(t));
}, e.prototype.enter = function(e) {
var t = this;
void 0 === e && (e = null), this.state !== a.globe && (this.log("enter", this.state), 
e ? (e(), this.enterGlobe()) : y().then(function() {
l.cloudTransition.flyToClouds(function() {
l.cloudTransition.fadeOutFromWhite(200, function() {
d.hideComponent("all", function() {
u.globeState.set("Disable", !0), g.setSinglePlayer(!0), m.route("playing");
});
}), t.enterGlobe(), p.sendMessage("tunguska.enterCampaign");
}, l.CloudTransitionSound.planet);
}));
}, e.prototype.enterGlobe = function() {
this.log("enterGlobe", this.state), this.state = a.globe;
}, e.prototype.startMission = function() {
this.log("startMission", this.state), this.state = a.playing;
}, e.prototype.quit = function() {
this.log("quit", this.state), this.state = a.quit;
}, e.prototype.clear = function() {
this.log("clear", this.state), this.state = a.none, this.mustReturnToFrontend = !1, 
u.globeState.set("Sparta");
}, e;
}();
i([ s.observable ], C.prototype, "state", void 0), i([ s.action ], C.prototype, "enter", null), 
i([ s.action ], C.prototype, "enterGlobe", null), i([ s.action ], C.prototype, "startMission", null), 
i([ s.action ], C.prototype, "quit", null), i([ s.action ], C.prototype, "clear", null), 
t.campaignFlow = new C(), t.startCampaignFlow = o;
}).call(t, n(97));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(1), s = n(9), l = n(235), u = n(7).Text, c = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.countValue = 0, t;
}
return r(t, e), t.prototype.componentWillMount = function() {
this.timeouts = [], this.countValue = 0;
}, t.prototype.componentDidMount = function() {
for (var e = this, t = this.props, n = t.iterationPerSecond, r = t.duration, o = t.countTo, a = t.countFrom, i = t.delay, s = r / 1e3 * n, l = 1e3 / n, u = function(t) {
var n = Math.floor(t * l + i), r = Math.floor((o - a) * c.quadOut(t / s));
c.timeouts.push(setTimeout(function() {
return e.play(r, n);
}, n));
}, c = this, p = 1; s >= p; p++) u(p);
}, t.prototype.componentWillUnmount = function() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.play = function(e, t) {
this.countValue = e;
}, t.prototype.quadOut = function(e) {
return e * (2 - e);
}, t.prototype.render = function() {
return i.createElement(u, o({
value: this.countValue.toString()
}, this.props));
}, t;
}(i.Component);
c.defaultProps = {
countTo: 0,
countFrom: 0,
duration: 1e3,
delay: 0,
iterationPerSecond: 24
}, a([ s.observable ], c.prototype, "countValue", void 0), a([ s.action ], c.prototype, "componentWillMount", null), 
a([ s.action ], c.prototype, "play", null), c = a([ l.observer ], c), Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = c;
}, function(e, t, n) {
"use strict";
function r(e) {
return Array.isArray(e) ? e : "string" == typeof e ? o.parseHex(e) : a;
}
var o = n(615), a = [ 0, 0, 0, 0 ];
t.ensureVector = r;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(11), a = n(150), i = n(9), s = {
normal: {
Accept: o.bbOfflineUrl("/sparta/jsclient/builds/assets/cross-2ea4eb1d.png"),
Decline: o.bbOfflineUrl("/sparta/jsclient/builds/assets/circle-4134dc63.png"),
Option1: o.bbOfflineUrl("/sparta/jsclient/builds/assets/square-13757f39.png"),
Option2: o.bbOfflineUrl("/sparta/jsclient/builds/assets/triangle-3b7274c0.png"),
Option3: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l3-33f1a530.png"),
Option4: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r3-84a8d96f.png"),
ScrollUp: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_ps4-01d95d35.png"),
ScrollDown: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_ps4-01d95d35.png"),
Previous: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l1-c5a53ca6.png"),
Next: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r1-af49db00.png"),
Home: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l2-400ea63c.png"),
End: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r2-e73831e2.png"),
Start: o.bbOfflineUrl("/sparta/jsclient/builds/assets/options-f26f2856.png"),
Select: o.bbOfflineUrl("/sparta/jsclient/builds/assets/share-7c934666.png")
},
inverted: {
Accept: o.bbOfflineUrl("/sparta/jsclient/builds/assets/cross_inverted-61f99468.png"),
Decline: o.bbOfflineUrl("/sparta/jsclient/builds/assets/circle_inverted-672360d5.png"),
Option1: o.bbOfflineUrl("/sparta/jsclient/builds/assets/square_inverted-214a2f32.png"),
Option2: o.bbOfflineUrl("/sparta/jsclient/builds/assets/triangle_inverted-b29c4542.png"),
Option3: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l3_inverted-b1677b06.png"),
Option4: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r3_inverted-b993b2a5.png"),
ScrollUp: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_ps4_inverted-bc656550.png"),
ScrollDown: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_ps4_inverted-bc656550.png"),
Previous: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l1_inverted-009962ae.png"),
Next: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r1_inverted-8e99c24f.png"),
Home: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l2_inverted-dba53284.png"),
End: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r2_inverted-8db5edc2.png"),
Start: o.bbOfflineUrl("/sparta/jsclient/builds/assets/options_inverted-05c4ba0d.png"),
Select: o.bbOfflineUrl("/sparta/jsclient/builds/assets/share_inverted-cf8575c4.png")
}
}, l = {
normal: {
Accept: o.bbOfflineUrl("/sparta/jsclient/builds/assets/cross-c29ecbee.png"),
Decline: o.bbOfflineUrl("/sparta/jsclient/builds/assets/circle-7ef1a8e4.png"),
Option1: o.bbOfflineUrl("/sparta/jsclient/builds/assets/triangle-d2492168.png"),
Option2: o.bbOfflineUrl("/sparta/jsclient/builds/assets/square-deaf593b.png"),
Option3: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l3-8ec0b16d.png"),
Option4: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r3-9c73371a.png"),
ScrollUp: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog-cabebd90.png"),
ScrollDown: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog-cabebd90.png"),
Previous: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l2-c3878036.png"),
Next: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r2-1bec2958.png"),
Home: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l1-cdf2ec31.png"),
End: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r1-7bbbe740.png"),
Start: o.bbOfflineUrl("/sparta/jsclient/builds/assets/start-3b07cd56.png"),
Select: o.bbOfflineUrl("/sparta/jsclient/builds/assets/select-e6a9bf79.png")
},
inverted: {
Accept: o.bbOfflineUrl("/sparta/jsclient/builds/assets/cross_inverted-1d9f85d9.png"),
Decline: o.bbOfflineUrl("/sparta/jsclient/builds/assets/circle_inverted-baca781f.png"),
Option1: o.bbOfflineUrl("/sparta/jsclient/builds/assets/triangle_inverted-53bb387c.png"),
Option2: o.bbOfflineUrl("/sparta/jsclient/builds/assets/square_inverted-a40278b1.png"),
Option3: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l3_inverted-06976414.png"),
Option4: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r3_inverted-dd030428.png"),
ScrollUp: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_inverted-cf456362.png"),
ScrollDown: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_inverted-cf456362.png"),
Previous: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l1_inverted-5fe0f264.png"),
Next: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r1_inverted-38e2cbd7.png"),
Home: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l2_inverted-8cf9b99f.png"),
End: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r2_inverted-d3c5e202.png"),
Start: o.bbOfflineUrl("/sparta/jsclient/builds/assets/start_inverted-de965324.png"),
Select: o.bbOfflineUrl("/sparta/jsclient/builds/assets/select_inverted-8a31c454.png")
}
}, u = {
normal: {
Accept: null,
Decline: null,
Option1: null,
Option2: null,
Option3: null,
Option4: null,
ScrollUp: null,
ScrollDown: null,
Previous: null,
Next: null,
Home: null,
End: null,
Start: null,
Select: null
},
inverted: {
Accept: null,
Decline: null,
Option1: null,
Option2: null,
Option3: null,
Option4: null,
ScrollUp: null,
ScrollDown: null,
Previous: null,
Next: null,
Home: null,
End: null,
Start: null,
Select: null
}
}, c = function() {
function e(e) {
this.getButtons = e;
}
return Object.defineProperty(e.prototype, "current", {
get: function() {
var e = l;
switch (a.currentInputType) {
case "PC":
e = u;
break;

case "XBOXONE":
e = l;
break;

case "PS4":
e = s;
break;

default:
console.error("Invalid currentInputType: " + a.currentInputType);
}
return this.getButtons(e);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Accept", {
get: function() {
return this.current.Accept;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Decline", {
get: function() {
return this.current.Decline;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Option1", {
get: function() {
return this.current.Option1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Option2", {
get: function() {
return this.current.Option2;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Option3", {
get: function() {
return this.current.Option3;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Option4", {
get: function() {
return this.current.Option4;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "ScrollUp", {
get: function() {
return this.current.ScrollUp;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "ScrollDown", {
get: function() {
return this.current.ScrollDown;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Previous", {
get: function() {
return this.current.Previous;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Next", {
get: function() {
return this.current.Next;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Home", {
get: function() {
return this.current.Home;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "End", {
get: function() {
return this.current.End;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Start", {
get: function() {
return this.current.Start;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Select", {
get: function() {
return this.current.Select;
},
enumerable: !0,
configurable: !0
}), e;
}();
r([ i.computed ], c.prototype, "current", null), r([ i.computed ], c.prototype, "Accept", null), 
r([ i.computed ], c.prototype, "Decline", null), r([ i.computed ], c.prototype, "Option1", null), 
r([ i.computed ], c.prototype, "Option2", null), r([ i.computed ], c.prototype, "Option3", null), 
r([ i.computed ], c.prototype, "Option4", null), r([ i.computed ], c.prototype, "ScrollUp", null), 
r([ i.computed ], c.prototype, "ScrollDown", null), r([ i.computed ], c.prototype, "Previous", null), 
r([ i.computed ], c.prototype, "Next", null), r([ i.computed ], c.prototype, "Home", null), 
r([ i.computed ], c.prototype, "End", null), r([ i.computed ], c.prototype, "Start", null), 
r([ i.computed ], c.prototype, "Select", null), t.inputButtonIcons = {
normal: new c(function(e) {
return e.normal;
}),
inverted: new c(function(e) {
return e.inverted;
})
};
}, function(e, t) {
"use strict";
function n(e) {
var t = e.match(/^#([0-9a-f]{3})$/i);
if (t) return [ 17 * parseInt(t[1].charAt(0), 16), 17 * parseInt(t[1].charAt(1), 16), 17 * parseInt(t[1].charAt(2), 16), 255 ];
if (t = e.match(/^#([0-9a-f]{6})$/i)) return [ parseInt(t[1].substr(0, 2), 16), parseInt(t[1].substr(2, 2), 16), parseInt(t[1].substr(4, 2), 16), 255 ];
if (t = e.match(/^#([0-9a-f]{8})$/i)) return [ parseInt(t[1].substr(0, 2), 16), parseInt(t[1].substr(2, 2), 16), parseInt(t[1].substr(4, 2), 16), parseInt(t[1].substr(6, 2), 16) ];
throw Error("Could not parse " + e + " as hex");
}
t.parseHex = n;
}, function(e, t, n) {
"use strict";
var r = n(3), o = n(9), a = n(375), i = n(112), s = n(8), l = n(124), u = n(24), c = n(89), p = n(21), f = n(321).parsePlatformUser;
t.friendClient = p.createClient({
requestOn: [ c.onReady, u.onSessionEstablished, a.fetchFriends ],
updateOn: [ l.frostbiteListenable("sparta.friendsUpdated") ],
request: function(e) {
void 0 === e && (e = {});
var t = [ "InTitleFilter", "OnlineOtherTitleFilter" ];
return SpartaGlobals.bundleIsXBOXONE ? t.push("OfflineFilter") : t.push("MutualOfflineFilter"), 
r.frostbite.sendMessage("sparta.getFriends", {
pagination: {
use: !0,
size: e.friendsPerPage || s.friendStore.pagination.pageSize,
page: e.page || 0,
lock: !1,
filters: t
}
});
},
parse: function(e) {
return e.Friends.map(function(e) {
var t = i.SpartaUserId.getPlatformId(e.spartaUserId), n = s.userStore.users.get(t);
return f(e, n);
});
},
update: function(e, t) {
s.userStore.updateUsers(e), s.friendStore.setTotalFriends(t.totalNrFriends), s.friendStore.pagination.setFriendIds(e.map(function(e) {
return e.spartaUserId;
}));
}
}), o.observe(s.friendStore, "totalFriends", function(e, t) {
null != t && u.request("Friend.notifyFriendsChanged");
});
}, function(e, t, n) {
"use strict";
function r(e) {
return SpartaGlobals.bundleIsPC ? e.personaName : SpartaGlobals.bundleIsXBOXONE ? e.gamerTag : e.displayName;
}
function o(e) {
var t = i.SpartaUserId.getPlatformId(e.spartaUserId), n = t && l.userStore.users.get(t), o = Object.assign({}, {
Persona: r(e)
}, e), a = c(o, n);
a.spartaUserId.isNull() ? l.onlineState.setSessionUserId(void 0) : (l.onlineState.setSessionUserId(a.spartaUserId), 
l.userStore.updateUsers([ a ])), b.isNull() || a.spartaUserId.equals(b) || (p.resetClients(), 
s.disconnect(), f.setUGCAccessLevel(), f.onSignInChange()), b = a.spartaUserId;
}
var a = n(3), i = n(112), s = n(24), l = n(8), u = n(124), c = n(321).parsePlatformUser, p = n(21), f = (n(127), 
n(43)), d = n(89), h = n(108).UGCAccessStore, y = n(60), g = n(83), m = g(function() {
return a.frostbite.sendMessage("sparta.getLocalUser");
}, 100, !0, !1);
y.nativeClientReadyMessage.listen(m), d.onReady.listen(m), u.frostbiteListenable("sparta.durango.userSwitched").listen(m), 
u.frostbiteListenable("sparta.getLocalUserResp").listen(o);
var b = new i.SpartaUserId();
t.onLocalUserResponse = o, d.onFirstPartyConnected.listen(function() {
null == h.getState().level && f.getOnlinePrivileges();
});
}, function(e, t, n) {
"use strict";
var r = n(3), o = n(9), a = n(127), i = n(112), s = n(8), l = n(124), u = n(89), c = n(21), p = n(485), f = n(15), d = f.createAction();
o.reaction(function() {
return s.userStore.users.values();
}, d);
var h = {};
t.userProfileClient = c.createClient({
requestOn: [ u.onFirstPartyConnected, d ],
updateOn: [ l.frostbiteListenable("sparta.getUserProfilesResp") ],
listener: function() {
var e = s.userStore.users.values().map(function(e) {
return e.spartaUserId;
}), t = e.filter(function(e) {
return !h[e.getPlatformId()];
});
return [ t ];
},
shouldPerformRequest: function(e) {
return e.length > 0;
},
request: function(e) {
e.forEach(function(e) {
return h[e.getPlatformId()] = !0;
}), r.frostbite.sendMessage("sparta.getUserProfiles", {
users: e,
profileImageSize: "medium"
});
},
parse: function(e) {
return e.userProfiles.map(function(e) {
var t = i.SpartaUserId.getPlatformId(e.spartaUserId), n = s.userStore.users.get(t);
return n.extend({
displayName: e.displayName,
avatarUrl: p(e.profileImageUrl)
});
});
},
update: function(e) {
s.userStore.updateUsers(e);
}
}), l.frostbiteListenable("sparta.userTitleInfo").listen(function(e) {
if (e.success) {
var t = e.users.map(function(e) {
var t = i.SpartaUserId.getPlatformId(e.spartaUserId), n = s.userStore.users.get(t), r = n || new a.User();
return r.extend({
spartaUserId: i.SpartaUserId.update(r.spartaUserId, e.spartaUserId)
});
});
s.userStore.updateUsers(t);
}
});
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
var t = "";
switch (e) {
case r.UserPresenceStates.Joinable:
t = __("ID_SPARTA_LAYOUT_COMCENTER_JOINABLE", !0);
break;

case r.UserPresenceStates.Playing:
t = __("ID_SPARTA_LAYOUT_COMCENTER_PLAYING", !0);
break;

case r.UserPresenceStates.Online:
t = __("ID_SPARTA_LAYOUT_COMCENTER_ONLINE", !0);
break;

case r.UserPresenceStates.Away:
t = __("ID_SPARTA_LAYOUT_COMCENTER_AWAY", !0);
break;

case r.UserPresenceStates.Offline:
t = __("ID_SPARTA_LAYOUT_COMCENTER_OFFLINE", !0);
}
return t;
}
var r = n(75);
t.getTranslatedPresence = e;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(5), a = n(9), i = n(75), s = function() {
function e(e, t) {
this.userStore = e, this.fetchFriends = t, this.totalFriends = null, this.pagination = new l(this, this.userStore, this.fetchFriends);
}
return Object.defineProperty(e.prototype, "friends", {
get: function() {
return this.userStore.users.values().filter(function(e) {
return e.isFriend;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "presenceStates", {
get: function() {
var e = {};
return this.friends.forEach(function(t) {
e[t.presence.state] = t.presence.state;
}), o.values(e);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "onlineFriends", {
get: function() {
return this.friends.filter(function(e) {
return e.presence.state !== i.UserPresenceStates.Offline;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "playingFriends", {
get: function() {
return this.friends.filter(function(e) {
return e.presence.server ? !0 : !1;
});
},
enumerable: !0,
configurable: !0
}), e.prototype.setTotalFriends = function(e) {
this.totalFriends = e;
}, e;
}();
r([ a.observable ], s.prototype, "totalFriends", void 0), r([ a.computed ], s.prototype, "friends", null), 
r([ a.computed ], s.prototype, "presenceStates", null), r([ a.computed ], s.prototype, "onlineFriends", null), 
r([ a.computed ], s.prototype, "playingFriends", null), r([ a.action ], s.prototype, "setTotalFriends", null), 
t.FriendStore = s;
var l = function() {
function e(e, t, n) {
this.friendStore = e, this.userStore = t, this.fetchFriends = n, this.friendIds = [], 
this.currentPage = 0, this.pageSize = 32;
}
return Object.defineProperty(e.prototype, "totalPages", {
get: function() {
return Math.ceil(this.friendStore.totalFriends / this.pageSize);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "friends", {
get: function() {
var e = this;
return this.friendIds.map(function(t) {
return e.userStore.users.get(t.getPlatformId());
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canShowNextPage", {
get: function() {
return this.currentPage < this.totalPages - 1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canShowPreviousPage", {
get: function() {
return this.currentPage >= 1;
},
enumerable: !0,
configurable: !0
}), e.prototype.setFriendIds = function(e) {
this.friendIds = e;
}, e.prototype.gotoPage = function(e) {
this.currentPage = e, this.fetchFriends({
page: e,
friendsPerPage: this.pageSize
});
}, e.prototype.gotoNextPage = function() {
this.canShowNextPage && this.gotoPage(this.currentPage + 1);
}, e.prototype.gotoPreviousPage = function() {
this.canShowPreviousPage && this.gotoPage(this.currentPage - 1);
}, e;
}();
r([ a.observable ], l.prototype, "friendIds", void 0), r([ a.observable ], l.prototype, "currentPage", void 0), 
r([ a.computed ], l.prototype, "totalPages", null), r([ a.computed ], l.prototype, "friends", null), 
r([ a.computed ], l.prototype, "canShowNextPage", null), r([ a.computed ], l.prototype, "canShowPreviousPage", null), 
r([ a.action ], l.prototype, "setFriendIds", null), r([ a.action ], l.prototype, "gotoPage", null), 
t.FriendPagination = l;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(127), i = n(176), s = n(112), l = (n(43), function() {
function e() {
this.users = o.map();
}
return e.prototype.setUsers = function(e) {
this.users.clear(), this.updateUsers(e);
}, e.prototype.updateUsers = function(e) {
var t = this;
e.forEach(function(e) {
t.users.set(e.spartaUserId.getPlatformId(), e);
});
}, e.prototype.updatePresences = function(e) {
var t = this, n = [];
e.forEach(function(e) {
var r = t.users.get(e.userId);
if (r) {
var o = new i.UserPresence(Object.assign({}, r.presence, e));
n.push(r.extend({
presence: o
}));
} else e.userId && t.updateUsers([ new a.User({
spartaUserId: s.SpartaUserId.fromPlatformId(e.userId),
presence: e
}) ]);
}), n.length && this.updateUsers(n);
}, e.prototype.removeServerPresences = function(e) {
var t = e.map(function(e) {
return {
userId: e,
server: void 0
};
});
this.updatePresences(t);
}, e;
}());
r([ o.observable ], l.prototype, "users", void 0), r([ o.action ], l.prototype, "setUsers", null), 
r([ o.action ], l.prototype, "updateUsers", null), r([ o.action ], l.prototype, "updatePresences", null), 
t.UserStore = l;
}, function(e, t) {
"use strict";
function n(e) {
if ("number" == typeof e) return e;
switch (e) {
case "MUTUAL":
return r.Mutual;

case "REQUEST":
return r.Request;

case "INVITED":
return r.Invited;

case "NONE":
return r.None;

default:
throw Error("Could not parse string as FriendState: " + e);
}
}
var r;
!function(e) {
e[e.Mutual = 0] = "Mutual", e[e.Request = 1] = "Request", e[e.Invited = 2] = "Invited", 
e[e.None = 3] = "None";
}(r = t.FriendStates || (t.FriendStates = {})), t.parseFriendState = n;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(11), i = n(55), s = n(172), l = n(6), u = n(27), c = n(90), p = n(19), f = n(41), d = n(14), h = n(28), y = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.render = function() {
var e = {
width: l.getWidth(16),
height: l.getHeight(s.CARD_HEIGHT.cells.L)
}, t = "bf4" === p.getHostingGame().gameId || this.state.presence.isReady();
return o.createElement(u, null, o.createElement(i.BasicCard, {
style: e,
background: a.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-campaign-wide-263bf1b3.jpg"),
heading: __("ID_SPARTA_ACTION_PLAY"),
description: __("ID_SPARTA_WARSAW_CAMPAIGN"),
enabled: t,
onPress: function() {
return c.continueSinglePlayer("bf4");
}
}));
}, n;
}(o.Component);
y = r([ d({
presence: h(f)
}) ], y), t.WarsawCampaign = y;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(373), i = n(33), s = n(11), l = n(55), u = n(113), c = n(39), p = n(114), f = n(10), d = n(6), h = n(27), y = n(17), g = {
marginTop: 0,
flexDirection: "row",
flex: 1
}, m = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.render = function() {
var e = !u.rimeTransitionState.isInJoinFlow && c.routeIsHostingGame(), t = SpartaGlobals.bundleIsPC ? void 0 : "M", n = [ o.createElement(l.BasicCard, {
key: "options",
enabled: e,
size: t,
heading: __("ID_SPARTA_CARD_OPTIONS"),
iconSize: .5,
icon: s.bbOfflineUrl("/sparta/jsclient/builds/assets/big_options-24a1279a.png"),
activeIcon: s.bbOfflineUrl("/sparta/jsclient/builds/assets/big_options_black-9c91f927.png"),
onPress: function() {
return u.requiresRime("bf4", p.showOptions);
}
}), o.createElement(l.BasicCard, {
key: "credits",
enabled: e,
size: t,
heading: __("ID_SPARTA_ACTION_CREDITS"),
iconSize: .5,
icon: s.bbOfflineUrl("/sparta/jsclient/builds/assets/big_credits-30d1be9c.png"),
activeIcon: s.bbOfflineUrl("/sparta/jsclient/builds/assets/big_credits_black-31273b7f.png"),
onPress: function() {
return u.requiresRime("bf4", p.showCredits);
}
}) ];
return o.createElement(h, null, o.createElement(i.Scroller, {
style: {
width: d.getWidth(24),
height: y.content.height
},
softClip: [ 0, 20, 0, 20 ]
}, o.createElement("surface", {
style: g
}, n)), o.createElement(a.BundleInfo, null));
}, n;
}(o.Component);
m = r([ f.observer ], m), t.WarsawMore = m;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(27), i = n(7).Text, s = n(6), l = n(14), u = n(41), c = n(49), p = n(90), f = n(24), d = n(78), h = n(22), y = n(19), g = n(36), m = n(29), b = n(55), v = n(11), _ = n(8), S = n(629), T = {
row: {
flexDirection: "row"
}
}, w = s.getHeight(9), E = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return e(n, t), n.prototype.componentDidMount = function() {
g.getState().hideStartScreen && setTimeout(function() {
return m.focusComponent("content");
}, 100);
}, n.prototype.shouldComponentUpdate = function(e, t) {
return S.shouldUpdate(e, this.props) || S.shouldUpdate(t, this.state);
}, n.prototype.renderOfflineHeading = function() {
var e = !this.state.presence || this.state.presence.isMissingMPPrivileges(), t = __(e ? "ID_SPARTA_WARSAW_WELCOME" : "ID_SPARTA_OFFLINE_HEADING");
return o.createElement("surface", {
style: T.row
}, o.createElement(i, {
value: t
}));
}, n.prototype.renderMissingMultiplayerPrivileges = function() {
if (!SpartaGlobals.bundleIsPS4) return null;
var e = !this.state.presence || this.state.presence.isMissingMPPrivileges();
return e ? o.createElement(b.BasicCard, {
layout: "split",
background: v.bbOfflineUrl("/sparta/jsclient/builds/assets/psn-image-2-48185829.jpg"),
heading: __("ID_SPARTA_OFFLINE_PLAY_ONLINE"),
description: __("ID_SPARTA_OFFLINE_PLAY_ONLINE_PSPLUS"),
textHeight: w,
onPress: function() {
return c.purchasePsPlus();
}
}) : null;
}, n.prototype.renderGoOnlineButton = function() {
if (_.onlineState.canGoOnline) {
var e = function() {
_.onlineState.isPresenceReady ? f.connect() : d.connect();
}, t = __(_.onlineState.goOnlineIsRetry ? "ID_SPARTA_ONLINE_PRESENCE_TRY_AGAIN" : "ID_SPARTA_ONLINE_PRESENCE_GO_ONLINE");
return o.createElement(h, {
textSize: "S",
text: t,
style: {
width: s.getWidth(6)
},
action: e
});
}
return null;
}, n.prototype.render = function() {
var e = "bf4" === y.getHostingGame().gameId || this.state.presence.isReady();
return o.createElement(a, {
ref: "template",
wideContent: !0,
aboveContent: this.renderOfflineHeading(),
scrollContent: SpartaGlobals.bundleIsPC
}, o.createElement("surface", {
style: {
flexDirection: "row",
marginBottom: s.getHeight(4)
}
}, o.createElement(b.BasicCard, {
background: v.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-campaign-3-be90b290.jpg"),
heading: __("ID_SPARTA_OFFLINE_PLAY_CAMPAIGN_HEADING"),
description: __("ID_SPARTA_OFFLINE_PLAY_CAMPAIGN_DESCRIPTION"),
enabled: e,
size: "SSL",
textHeight: w,
onPress: function() {
return p.continueSinglePlayer("bf4");
}
}), this.renderMissingMultiplayerPrivileges()), SpartaGlobals.bundleIsPC && this.renderGoOnlineButton());
}, n;
}(o.Component);
E = r([ l({
presence: u
}) ], E), t.WarsawOverviewOffline = E;
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
var r = n(3), o = r.getBuildInfo();
console.log("Running " + o.buildConfig + " on " + o.platform);
var a = o.isPC() ? "PC" : o.isPS4() ? "PS4" : o.isXboxOne() ? "XBOXONE" : "UNKNOWN", i = a;
t.bundleIsPC = "PC" === i, t.bundleIsPS4 = "PS4" === i, t.bundleIsXBOXONE = "XBOXONE" === i, 
t.bundleIsConsole = !t.bundleIsPC, t.bundlePlatform = a;
}, function(e, t, n) {
"use strict";
function r(e) {
var n = null;
for (var r in t.fontConfig) if (t.fontConfig.hasOwnProperty(r) && r.split("-")[0] === e) {
n = r;
break;
}
return n || console.warn("Could not find locale to use for PSN account language: " + e), 
n;
}
function o(e) {
var n = e.split("-")[1], r = a.keys(t.fontConfig), o = a.find(r, function(e) {
var t = e.split("-")[1];
return t === n;
});
return o;
}
var a = n(5), i = n(898), s = n(895), l = n(896), u = n(897), c = n(899), p = n(900), f = n(901), d = n(902), h = n(903), y = n(904), g = n(905), m = n(906), b = n(907), v = n(908), _ = n(909), S = n(910);
t.fontConfig = {
empty: i,
"ar-sa": s,
"cs-cz": l,
"de-de": u,
"en-us": c,
"es-es": p,
"es-mx": f,
"fr-fr": d,
"it-it": h,
"ja-jp": y,
"ko-kr": g,
"pl-pl": m,
"pt-br": b,
"ru-ru": v,
"tr-tr": _,
"zh-tw": S,
"zh-cn": S,
"zh-sg": S,
"zh-hk": S
}, t.psnAccountLanguageToSpartaLocale = r, t.commerceLocaleToRegionFontLocale = o;
}, function(e, t, n) {
"use strict";
var r = n(3), o = n(377), a = n(8), i = n(45);
r.options.urlHook = function(e) {
if (e) if (e.substr(0, o.bbPrefixLen) === o.bbPrefix) a.settingsStore.battlebinaryPrefix ? e = a.settingsStore.battlebinaryPrefix + e.substr(o.bbPrefixLen) : (console.warn("Trying to replace BB-prefix without a bb prefix: " + e), 
e = ""); else if (e.substr(0, o.onlinePrefixLen) === o.onlinePrefix) {
if (e = e.substr(o.onlinePrefixLen), a.settingsStore.battlebinaryPrefix) return a.settingsStore.battlebinaryPrefix + e;
var t = "Trying to use " + e + " when offline. Use bbOfflineUrl instead of bbUrl.";
console.warn(t);
} else e.substr(0, o.offlinePrefixLen) === o.offlinePrefix && (i.acceptKeyword("accept_exclusive_keywords_start"), 
e = "http://battlebinary.battlelog.com/view" + e.substr(o.offlinePrefixLen), i.acceptKeyword("accept_exclusive_keywords_end"));
return e;
};
}, function(e, t) {
"use strict";
function n(e, t) {
if (e === t) return !1;
if (!e && !t) return !1;
if (!e && t) return !0;
if (e && !t) return !0;
var n = Object.keys(e), r = Object.keys(t);
if (n.length !== r.length) return !0;
var o, a;
for (o = 0; o < n.length; o++) {
a = n[o];
var i = e[a], s = t[a];
if (i !== s) return !0;
}
return !1;
}
t.shouldUpdate = n;
}, function(e, t) {
"use strict";
function n(e) {
throw new Error(e + " was never handled");
}
t.unexhaustiveSwitch = n;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(210), i = function() {
function e(e, t, n) {
void 0 === n && (n = -1), this.id = e, this.ttl = n, this.isEmpty = !0, this.expires = 0, 
"undefined" != typeof t && this.setValue(t);
}
return Object.defineProperty(e.prototype, "needsFetch", {
get: function() {
return !this.isLoading && (this.isEmpty || this.hasExpired);
},
enumerable: !0,
configurable: !0
}), e.prototype.setEmpty = function() {
this.isEmpty = !0;
}, Object.defineProperty(e.prototype, "hasExpired", {
get: function() {
return this.expires ? this.expires < Date.now() : !1;
},
enumerable: !0,
configurable: !0
}), e.prototype.setExpired = function() {
return this.expires = Date.now() - 1;
}, Object.defineProperty(e.prototype, "isLoading", {
get: function() {
var e = this.result;
return e ? !e.isComplete : !1;
},
enumerable: !0,
configurable: !0
}), e.prototype.setValue = function(e) {
this.ttl >= 0 && (this.expires = this.ttl + Date.now()), this.value = e, this.isEmpty = !1;
}, e.prototype.setFailstate = function(e) {
this.failstate = e;
}, e.prototype.useClientResult = function(e, t) {
var n = this, r = o.reaction(function() {
return e.isComplete;
}, function() {
if (e.status === a.RequestState.SUCCESS) {
var o = t(e.response);
"undefined" != typeof o && n.setValue(o);
} else e.status === a.RequestState.ERROR && n.setFailstate(e.error);
r();
});
this.result = e;
}, e;
}();
r([ o.observable ], i.prototype, "value", void 0), r([ o.observable ], i.prototype, "isEmpty", void 0), 
r([ o.observable ], i.prototype, "failstate", void 0), r([ o.observable ], i.prototype, "result", void 0), 
r([ o.observable ], i.prototype, "expires", void 0), r([ o.computed ], i.prototype, "needsFetch", null), 
r([ o.action ], i.prototype, "setEmpty", null), r([ o.computed ], i.prototype, "hasExpired", null), 
r([ o.action ], i.prototype, "setExpired", null), r([ o.computed ], i.prototype, "isLoading", null), 
r([ o.action ], i.prototype, "setValue", null), r([ o.action ], i.prototype, "setFailstate", null), 
r([ o.action ], i.prototype, "useClientResult", null), t.Fragment = i;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(631), i = function() {
function e(e) {
this.fragments = o.map(), this.fragmentTTL = 0, e && (this.fragmentTTL = e);
}
return e.prototype.setFragment = function(e, t) {
this.fragments.set(e, t);
}, e.prototype.createEmptyFragment = function(e) {
return new a.Fragment(e, void 0, this.fragmentTTL);
}, e.prototype.getFragment = function(e) {
return this.fragments.has(e) || this.setFragment(e, this.createEmptyFragment(e)), 
this.fragments.get(e);
}, e.prototype.getOrFetchFragment = function(e, t) {
var n = this.getFragment(e);
return n.needsFetch && t(n), n;
}, e;
}();
r([ o.action ], i.prototype, "setFragment", null), t.FragmentStore = i;
}, function(e, t, n) {
"use strict";
function r(e) {
return {
register: new o.Client("CTE.register", {
requestPerformer: e
}).withThrottling(5e3),
getLegalText: new o.Client("Content.getText", {
requestPerformer: e
}).withThrottling(5e3)
};
}
var o = n(210);
t.createClients = r;
}, function(e, t, n) {
"use strict";
function r(e) {
return new o.Client("Progression.getRibbons", {
throttleTimeout: 3e4,
requestPerformer: e
});
}
var o = n(210);
t.createClient = r;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(632), a = n(637), i = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.client = t, n;
}
return r(t, e), t.prototype.get = function(e) {
var t = this;
return this.getOrFetchFragment(e, function(n) {
var r = t.client.request({
game: e
});
n.useClientResult(r, a.Ribbons.fromBackend);
});
}, t;
}(o.FragmentStore);
t.RibbonStore = i;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = function() {
function e(e, t) {
this.name = e, this.items = t;
}
return e;
}();
r([ o.observable ], a.prototype, "name", void 0), r([ o.observable ], a.prototype, "items", void 0), 
t.RibbonCategoryGroup = a;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(636), i = function() {
function e(e) {
this.groups = [], e && (this.groups = e.map(function(e) {
return new a.RibbonCategoryGroup(e.name || "", e.awards || []);
}));
}
return e.fromBackend = function(t) {
return new e(t);
}, Object.defineProperty(e.prototype, "asList", {
get: function() {
var e = [];
return this.groups.forEach(function(t) {
e = e.concat(t.items.slice());
}), e;
},
enumerable: !0,
configurable: !0
}), e;
}();
r([ o.computed ], i.prototype, "asList", null), t.Ribbons = i;
}, function(e, t, n) {
"use strict";
function r(e) {
i.getBuildInfo().hasConsoleCalls() ? s.nativeApi.sendConsoleCommandSync(e) : console.warn("Cannont send command, native build does not support it");
}
function o(e) {
i.getBuildInfo().hasConsoleCalls() ? s.nativeApi.writeConsoleOutputSync("ingame", e) : console.warn("Cannont wrote to console, native build does not support it");
}
function a(e, t) {
s.nativeApi.fbSettingSet(e, t);
}
var i = n(101), s = n(47), l = n(82);
t.sendCommand = r, t.writeToIngameConsole = o, t.setSetting = a, s.nativeApi.onConsoleMessage = function(e) {
return l.onConsoleMessage.trigger(e);
};
}, function(e, t, n) {
(function(e) {
"use strict";
function r(t, n) {
var r, a = n.map(function(e) {
return "[" + e + "]";
}).join(" ");
switch (t) {
case "log":
r = b.bind(m, a);
break;

case "info":
r = v.bind(m, a);
break;

case "warn":
r = _.bind(m, a);
break;

case "error":
r = S.bind(m, a);
break;

default:
throw Error("Unknown Logger emitter type: " + t);
}
return e.isJSC && p.options.enableDevWarnings ? function(e) {
for (var a = [], i = 1; i < arguments.length; i++) a[i - 1] = arguments[i];
r.apply(void 0, [ e ].concat(a)), o({
type: t,
date: new Date(),
context: n,
args: [ e ].concat(a),
stack: "error" === t ? new Error().stack : null
});
} : r;
}
function o(e) {
g.push(e), u || (u = setTimeout(a, 573));
}
function a() {
!c && g.length && p.options.rlvSocketUrl && (u = void 0, c = !0, i(p.options.rlvSocketUrl, g.splice(0, g.length)).then(function() {
c = !1, a();
}));
}
function i(e, t) {
return new Promise(function(n) {
d.httpRequest(h.HttpMethod.POST, e + "/log", t, "Content-Type: application/json", !0, n);
});
}
function s(t) {
for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
var o = f.start(), a = n[0];
n.length > 1 ? a = JSON.stringify(n, l()) : "string" != typeof a && (a = JSON.stringify(a, l())), 
e.TwinkleNative.handleCall("log", [ t, a ]), f.end("jscLog", o);
}
function l() {
var e = [];
return function t(n, r) {
if (null !== r && "object" == typeof r) {
if (e.indexOf(r) >= 0) return "[Cyclic Relationship]";
e.push(r);
}
return r;
};
}
var u, c, p = n(76), f = n(148), d = n(383), h = n(178), y = {}, g = [], m = e.TwinkleNative ? void 0 : console, b = e.TwinkleNative ? s.bind(void 0, 2) : console.log, v = e.TwinkleNative ? s.bind(void 0, 2) : console.info, _ = e.TwinkleNative ? s.bind(void 0, 4) : console.warn, S = e.TwinkleNative ? s.bind(void 0, 2) : console.error, T = function() {
function e() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
this.context = e, this.log = r("log", e), this.info = r("info", e), this.warn = r("warn", e), 
this.error = r("error", e);
}
return Object.defineProperty(e, "default", {
get: function() {
return e.get();
},
enumerable: !0,
configurable: !0
}), e.prototype.extend = function() {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
var r = this.context.concat(t);
return e.get.apply(e, r);
}, e.get = function() {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
var r = t.join("_");
return y[r] || (y[r] = new (e.bind.apply(e, [ void 0 ].concat(t)))());
}, Object.defineProperty(e, "log", {
get: function() {
return e["default"].log;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e, "info", {
get: function() {
return e["default"].info;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e, "warn", {
get: function() {
return e["default"].warn;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e, "error", {
get: function() {
return e["default"].error;
},
enumerable: !0,
configurable: !0
}), e;
}();
t.__Logger = T;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
"use strict";
function r(e) {
"reaction" === e.type ? console.log("REACTION: " + e.object.name) : "update" === e.type ? console.log("UPDATE: " + e.name + " set to" + e.oldValue + "from" + e.newValue) : "add" === e.type ? console.log("ADD: " + e.name + " added" + e.newValue) : "splice" === e.type ? console.log("SPLICE") : "action" === e.type ? console.log("ACTION: " + e.name) : "compute" === e.type ? console.log("COMPUTE: " + e.object.name) : "transaction" === e.type || void 0 === e.type || console.log("UNKNOWN: " + e.type);
}
function o() {
a ? (a(), console.log("Mobx spy disabled"), a = null) : a = i.spy(r);
}
var a, i = n(9);
t.toggleMobxSpying = o, t.showWastedRenders = !1;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(116), i = function() {
function e(e, t) {
var n = this;
this.system = e, this.debugName = t, this.surfaceElement = null, this.onChildFocus = new a.TwinkleSignal(), 
this.onChildBlur = new a.TwinkleSignal(), this.onFocusChildChanged = new a.TwinkleTypedEvent(), 
this.onInputFocusChanged = new a.TwinkleSignal(), this.disablers = [], this.cancelFocusChildReaction = function() {}, 
this.cancelAutorun = function() {}, this.cancelReaction = function() {}, this.hooks = {
ref: o.action("set ancestor element", function(e) {
n.surfaceElement = e;
})
}, this.cancelFocusChildReaction = o.reaction(function() {
return n.hasFocusedChild;
}, function(e) {
e ? n.onChildFocus.trigger() : n.onChildBlur.trigger();
}), this.cancelAutorun = o.autorun(function() {
var e = n.focusedChild;
o.untracked(function() {
return n.onFocusChildChanged.trigger(e);
});
}), o.action("Add focus ancestor", function() {
return n.system.ancestors.push(n);
})(), this.cancelReaction = o.reaction(function() {
return n.hasInputFocus;
}, function() {
return n.onInputFocusChanged.trigger();
});
}
return e.prototype.setActive = function(e, t) {
if ("string" != typeof e) throw new Error("Expected a uniqueKey: " + e);
var n = this.disablers.indexOf(e);
n > -1 && t && this.disablers.splice(n, 1), -1 !== n || t || this.disablers.push(e);
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
return 0 === this.disablers.length;
},
enumerable: !0,
configurable: !0
}), e.prototype.isolate = function() {
this.deisolate(), this.system.isolatedAncestors.push(this);
}, e.prototype.deisolate = function() {
var e = this.system.isolatedAncestors.indexOf(this);
e > -1 && this.system.isolatedAncestors.splice(e, 1);
}, e.prototype.destroy = function() {
var e = this.system.ancestors.indexOf(this);
e && this.system.ancestors.splice(e, 1), this.cancelAutorun(), this.cancelReaction(), 
this.onChildFocus.destroy(), this.onChildBlur.destroy(), this.cancelFocusChildReaction();
}, e.prototype.getChildren = function() {
var e = this.getSurfaceId();
return e ? this.system.items.filter(function(t) {
return t.surfaceElement && t.surfaceElement._rootNodeID && 0 === t.surfaceElement._rootNodeID.indexOf(e);
}) : (this.system.log("WARN: FocusAncestor " + this.debugName + " does not have a surfaceId, did you forget to hook it to a surface?"), 
[]);
}, e.prototype.getIsolationExceptions = function() {
return [];
}, e.prototype.getSurfaceId = function() {
return this.surfaceElement && this.surfaceElement._rootNodeID;
}, e.prototype.getSubAncestors = function() {
var e = this.getSurfaceId();
return e ? this.system.ancestors.filter(function(t) {
var n = t.getSurfaceId();
return n && 0 === n.indexOf(e);
}) : (this.system.log("WARN: FocusAncestor " + this.debugName + " does not have a surfaceId, did you forget to hook it to a surface?"), 
[]);
}, Object.defineProperty(e.prototype, "children", {
get: function() {
return this.getChildren();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "focusedChild", {
get: function() {
var e = this.system.focusedItem && this.system.focusedItem.surfaceElement, t = e && e._rootNodeID, n = this.surfaceElement && this.surfaceElement._rootNodeID;
return n && t && 0 === t.indexOf(n) ? this.system.focusedItem : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasFocusedChild", {
get: function() {
var e = this.system.focusedItem && this.system.focusedItem.surfaceElement, t = e && e._rootNodeID, n = this.surfaceElement && this.surfaceElement._rootNodeID;
return n && t ? 0 === t.indexOf(n) : !1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasInputFocus", {
get: function() {
return this.hasFocusedChild ? !0 : this.isActive && !this.system.focusedItem && !!this.surfaceElement;
},
enumerable: !0,
configurable: !0
}), e;
}();
r([ o.observable ], i.prototype, "surfaceElement", void 0), r([ o.observable ], i.prototype, "disablers", void 0), 
r([ o.action ], i.prototype, "setActive", null), r([ o.computed ], i.prototype, "isActive", null), 
r([ o.action ], i.prototype, "isolate", null), r([ o.action ], i.prototype, "deisolate", null), 
r([ o.action ], i.prototype, "destroy", null), r([ o.computed ], i.prototype, "children", null), 
r([ o.computed ], i.prototype, "focusedChild", null), r([ o.computed ], i.prototype, "hasFocusedChild", null), 
r([ o.computed ], i.prototype, "hasInputFocus", null), t.FocusAncestor = i;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(177), i = function() {
function e(e, t) {
var n = this;
this.system = e, this.debugName = t, this.members = [], this.disablers = [], this.behavior = 0, 
this.lastFocusedMember = null, this.directionHandlers = {}, this.cancelAutorun = null, 
this.cancelAutorun = o.autorun(function() {
n.focusedMember && (n.lastFocusedMember = n.focusedMember);
});
}
return e.prototype.destroy = function() {
this.cancelAutorun && this.cancelAutorun(), this.members.forEach(function(e) {
e && (e.group = null);
});
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
return 0 === this.disablers.length;
},
enumerable: !0,
configurable: !0
}), e.prototype.isolate = function() {
this.deisolate(), this.system.isolatedGroups.push(this);
}, e.prototype.deisolate = function() {
var e = this.system.isolatedGroups.indexOf(this);
e > -1 && this.system.isolatedGroups.splice(e, 1);
}, e.prototype.addMember = function(e, t) {
var n = this;
if ("number" == typeof t && t >= 0) {
if (this.members.length > t && this.members[t] === e && e.group === this) return;
for (;this.members.length <= t; ) this.members.push(null);
this.members[t] !== e && (this.members[t] = e);
} else this.members.push(e);
e.group = this, e.onDestroy.listen(function() {
var t = n.members.indexOf(e);
t > -1 && (n.members[t] = null);
});
}, e.prototype.handleDirection = function(e, t) {
this.directionHandlers[e] = t;
}, e.prototype.enabled = function(e) {
return (this.behavior & e) > 0;
}, e.prototype.setActive = function(e, t) {
if ("string" != typeof e) throw new Error("Expected a uniqueKey: " + e);
var n = this.disablers.indexOf(e);
n > -1 && t && this.disablers.splice(n, 1), -1 !== n || t || this.disablers.push(e);
}, e.prototype.navigateFromItem = function(e, t) {
var n = this.directionHandlers[t];
if (n) {
var r = n(e, t);
if (1 !== r.result) return r;
}
switch (t) {
case a.Direction.Left:
case a.Direction.Right:
if (this.enabled(a.GroupBehavior.HORIZONTAL)) return this.navigateOffset(e, t);
if (this.enabled(a.GroupBehavior.VERTICAL)) return this.navigateFromGroup(e, t);
break;

case a.Direction.Up:
case a.Direction.Down:
if (this.enabled(a.GroupBehavior.VERTICAL)) return this.navigateOffset(e, t);
if (this.enabled(a.GroupBehavior.HORIZONTAL)) return this.navigateFromGroup(e, t);
}
return {
result: 1
};
}, e.prototype.navigateOffset = function(e, t) {
var n = t === a.Direction.Left || t === a.Direction.Up ? -1 : 1, r = this.members.filter(function(e) {
return e && e.isActiveCache;
}), o = r.indexOf(e), i = o + n;
if (0 > i || i >= r.length) {
if (!this.enabled(a.GroupBehavior.WRAP_AROUND)) return this.enabled(a.GroupBehavior.EDGE_STOP) ? {
result: 0
} : this.navigateFromGroup(e, t);
i = 0 > i ? r.length - 1 : 0;
}
return {
result: 2,
toItem: r[i]
};
}, e.prototype.navigateFromGroup = function(e, t) {
return this.directionHandlers[t] ? (this.system.log("Group direction handler " + a.Direction[t]), 
this.directionHandlers[t](e, t)) : {
result: 1
};
}, e.prototype.selectBestMember = function(e, t, n) {
var r = this, o = this.members.filter(function(e) {
return r.system.isValidForFocus(e);
});
return this.enabled(a.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER) && this.lastFocusedMember && o.indexOf(this.lastFocusedMember) > -1 ? this.lastFocusedMember : this.enabled(a.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET) ? o[0] : n || o[0];
}, e.prototype.navigateToGroup = function(e, t, n) {
var r = this.selectBestMember(e, t, n);
return r ? {
result: 2,
toItem: r
} : {
result: 1
};
}, Object.defineProperty(e.prototype, "focusedIndex", {
get: function() {
return this.system.focusedItem ? this.members.indexOf(this.system.focusedItem) : -1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "focusedMember", {
get: function() {
var e = this.focusedIndex;
return e > -1 ? this.members[e] : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasFocusedMember", {
get: function() {
return this.focusedIndex > -1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasLastFocusedMember", {
get: function() {
return this.system.lastFocusedItem ? this.members.indexOf(this.system.lastFocusedItem) > -1 : !1;
},
enumerable: !0,
configurable: !0
}), e;
}();
r([ o.observable ], i.prototype, "members", void 0), r([ o.observable ], i.prototype, "disablers", void 0), 
r([ o.action ], i.prototype, "destroy", null), r([ o.computed ], i.prototype, "isActive", null), 
r([ o.action ], i.prototype, "isolate", null), r([ o.action ], i.prototype, "deisolate", null), 
r([ o.action ], i.prototype, "addMember", null), r([ o.action ], i.prototype, "setActive", null), 
r([ o.computed ], i.prototype, "focusedIndex", null), r([ o.computed ], i.prototype, "focusedMember", null), 
r([ o.computed ], i.prototype, "hasFocusedMember", null), r([ o.computed ], i.prototype, "hasLastFocusedMember", null), 
t.FocusGroup = i;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(646), i = n(177), s = n(116), l = n(82), u = n(148), c = n(380), p = n(645), f = 1920, d = 1080;
l.onWindowSizeChanged.listen(function(e, t) {
f = e, d = t;
});
var h = function() {
function e() {
var e = this;
this.debug = !1, this.isolatedGroups = [], this.isolatedAncestors = [], this.currentFocusedItem = null, 
this.currentHoveredItem = null, this.lastFocusedItem = null, this.ancestors = [], 
this.shouldRecalculate = !1, this.scaledSurfaceIds = [], this.lastHoveredItem = null, 
this.controllerMode = !0, this.onInvalidQuery = new s.TwinkleTypedEvent(), this.items = [], 
this.focusHistory = [], this.invalidQuery = new p.InvalidQuery(this), o.reaction(function() {
return e.shouldRecalculate;
}, function(t) {
t && e.recalculate();
});
}
return e.prototype.create = function(e, t) {
if ("string" != typeof t || "" === t) throw new Error("Invalid debugName: " + t);
var n = new c.FocusItem(this, t);
return n.connectLifeCycle(e), this.items.push(n), n;
}, Object.defineProperty(e.prototype, "focusedItem", {
get: function() {
return this.currentFocusedItem && this.currentFocusedItem.isActive ? this.currentFocusedItem : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hoveredItem", {
get: function() {
return this.currentHoveredItem && this.currentHoveredItem.isActive ? this.currentHoveredItem : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "inputs", {
get: function() {
return this.focusedItem ? this.focusedItem.activeInputs : this.hoveredItem ? this.hoveredItem.activeInputs : [];
},
enumerable: !0,
configurable: !0
}), e.prototype.remove = function(e) {
var t = this.items.indexOf(e);
t > -1 && this.items.splice(t, 1), this.currentFocusedItem === e && (this.currentFocusedItem = null, 
this.controllerMode && (this.shouldRecalculate = !0)), this.currentHoveredItem === e && (this.currentHoveredItem = null), 
this.lastHoveredItem === e && (this.lastHoveredItem = null), this.lastFocusedItem === e && (this.lastFocusedItem = null);
var n = this.focusHistory.indexOf(e);
n > -1 && this.focusHistory.splice(n, 1);
}, e.prototype.removeFocus = function(e) {
this.currentFocusedItem === e && (this.currentFocusedItem = null), this.currentHoveredItem === e && (this.currentHoveredItem = null);
}, e.prototype.setAsFocused = function(e, t) {
if ((!e || e.isValidForFocus()) && (this.currentFocusedItem = e, e && (this.lastFocusSource = t, 
this.lastFocusedItem = e), this.setAsHovered(e, t), e)) {
var n = this.focusHistory.indexOf(e);
n > -1 && this.focusHistory.splice(n, 1), this.focusHistory.push(e);
}
}, e.prototype.setAsHovered = function(e, t) {
this.currentHoveredItem = e, e && (this.lastHoverSource = t, this.lastHoveredItem = e);
}, e.prototype.removeHover = function(e) {
this.currentHoveredItem === e && (this.currentHoveredItem = null);
}, e.prototype.clearItemScalingCache = function() {
this.items.forEach(function(e) {
delete e.needsScaling;
});
}, e.prototype.createScaledComponent = function() {
var e = this, t = null;
return function(n) {
if (n) n._rootNodeID && (t = n._rootNodeID, e.scaledSurfaceIds.push(n._rootNodeID), 
e.clearItemScalingCache()); else if (t) {
var r = e.scaledSurfaceIds.indexOf(t);
r > -1 && (e.scaledSurfaceIds.splice(r, 1), e.clearItemScalingCache()), t = null;
}
};
}, e.prototype.isValidForFocus = function(e, t) {
var n = this;
return u.wrap(function() {
return !!e && e !== t && e.isValidForFocus() && n.isVisible(e) && n.invalidQuery.isValid(e);
}, "isValidForFocus");
}, e.prototype.getDefaultItem = function(e) {
var t = this;
return u.wrap(function() {
if (t.focusedItem && t.focusedItem !== e) return t.focusedItem;
var n = t.items.filter(function(n) {
return t.isValidForFocus(n, e);
}), r = n.filter(function(e) {
return e.autoFocusCandidate;
});
if (r.length > 0) return r[0];
for (var o = t.focusHistory.length; o >= 0; o--) {
var a = t.focusHistory[o];
if (t.isValidForFocus(a, e)) return a;
}
return t.isValidForFocus(t.currentHoveredItem, e) ? t.currentHoveredItem : t.isValidForFocus(t.lastHoveredItem, e) ? t.lastHoveredItem : n[0];
}, "getDefaultItem");
}, e.prototype.log = function(e) {
this.debug && console.log(e);
}, e.prototype.refreshBounds = function() {
this.log("*** Refreshing bounds ***");
var e = u.start();
this.invalidQuery.reset(), this.onInvalidQuery.trigger(this.invalidQuery), u.end("InvalidQuery", e);
}, e.prototype.withBounds = function(e) {
var t = this;
return o.untracked(function() {
t.refreshBounds();
try {
return e();
} finally {
t.invalidQuery.reset();
}
});
}, e.prototype.isVisible = function(e) {
if (this.invalidQuery.isSetAsVisible(e)) return !0;
var t = e.getBounds();
if (!t) return this.log("No bounds: " + e.debugName), !1;
if (void 0 === e.needsScaling) {
var n = e.getBackingSurfaceId();
if (!n) return this.log("No surfaceId: " + e.debugName), !1;
e.needsScaling = !1;
for (var r = 0; r < this.scaledSurfaceIds.length; ++r) if (0 === n.indexOf(this.scaledSurfaceIds[r])) {
e.needsScaling = !0;
break;
}
}
var o = f, a = d;
return e.needsScaling && (t = t.offset((f - 1920) / 2, (d - 1080) / 2), o = 1920, 
a = 1080), t.right <= 0 || t.left >= o || t.top >= a || t.bottom <= 0 ? (this.log("Outside window: " + e.debugName + " " + t.left + " " + t.top + "->" + t.right + " " + t.bottom + "W" + o + "H" + a), 
!1) : !0;
}, e.prototype.recalculate = function() {
var e = this, t = u.start();
this.shouldRecalculate = !1, this.withBounds(function() {
var t = e.getDefaultItem();
t ? (e.log("Recalculated and selected " + t.debugName + " as the best choice to focus"), 
e.setAsFocused(t, i.FocusSource.Auto)) : e.log("Recalculated but found nothing to focus");
}), u.end("FocusRecalc", t);
}, e.prototype.findClosestItem = function(e) {
var t = this;
return this.withBounds(function() {
var n = e.getBounds();
if (!n) return console.error("No bounds for fromItem", e.debugName), null;
var r = u.start(), o = t.items.filter(function(n) {
return t.isValidForFocus(n, e);
}), a = t.getClosestItem(n, o, i.Direction.Down), s = t.getClosestItem(n, o, i.Direction.Up), l = t.getClosestItem(n, o, i.Direction.Right), c = t.getClosestItem(n, o, i.Direction.Left), p = {
item: null,
distance: Number.MAX_VALUE
};
return s.distance < p.distance && (p = s), l.distance < p.distance && (p = l), c.distance < p.distance && (p = c), 
a.distance < p.distance && (p = a), u.end("FindClosestItem", r), p.item;
});
}, e.prototype.getClosestItem = function(e, t, n) {
var r = u.start(), o = t.slice(), i = null, s = Number.MAX_VALUE;
return o.forEach(function(t) {
var r = t.getBounds();
if (r) {
var o = a.getDistanceInDirection(e, r, n);
!isNaN(o) && s > o && (s = o, i = t);
}
}), u.end("GetClosestItem", r), {
item: i,
distance: s
};
}, e.prototype.findNextItem = function(e, t) {
var n = this, r = e.getBounds();
if (!r) return console.error("No bounds for fromItem", e.debugName), null;
var o = this.items.filter(function(t) {
return n.isValidForFocus(t, e);
});
return this.getClosestItem(r, o, t).item;
}, e.prototype.handleNavigationResult = function(e, t, n) {
if (t.group && (!e || t.group !== e.group)) {
var r = t.group.navigateToGroup(e, n, t);
2 === r.result && r.toItem && (t = r.toItem);
}
t.focusOnHover ? t.setHovered(i.FocusSource.Spatial) : t.setFocused(i.FocusSource.Spatial);
}, e.prototype.navigate = function(e, t) {
var n = u.start();
this._navigate(e, t), u.end("Navigate", n);
}, e.prototype._navigate = function(e, t) {
var n = this;
if (this.controllerMode = !0, this.focusedItem && this.focusedItem.group) {
var r = this.focusedItem.group.navigateFromItem(this.focusedItem, e);
if (2 === r.result && r.toItem) return this.handleNavigationResult(this.focusedItem, r.toItem, e);
}
this.withBounds(function() {
if (n.log("------------------ Navigate " + i.Direction[e] + " ------------------------"), 
!n.focusedItem || !n.isValidForFocus(n.focusedItem)) {
n.log("No focused item, focusing a default item");
var r = n.getDefaultItem();
return void (r && n.handleNavigationResult(null, r, e));
}
var o = n.focusedItem.navigate(e);
switch (o.result) {
case 0:
return void n.log("-----------------------------------------------------------------");

case 2:
return o.toItem && n.handleNavigationResult(n.focusedItem, o.toItem, e), n.log("-----------------------------------------------------------------"), 
void (o.toItem && t && t());

case 1:
var a = n.findNextItem(n.focusedItem, e);
a && (n.handleNavigationResult(n.focusedItem, a, e), t && t()), n.log("-----------------------------------------------------------------");
}
});
}, e;
}();
r([ o.observable ], h.prototype, "isolatedGroups", void 0), r([ o.observable ], h.prototype, "isolatedAncestors", void 0), 
r([ o.observable ], h.prototype, "currentFocusedItem", void 0), r([ o.observable ], h.prototype, "currentHoveredItem", void 0), 
r([ o.observable ], h.prototype, "lastFocusedItem", void 0), r([ o.observable ], h.prototype, "ancestors", void 0), 
r([ o.observable ], h.prototype, "shouldRecalculate", void 0), r([ o.observable ], h.prototype, "controllerMode", void 0), 
r([ o.observable ], h.prototype, "items", void 0), r([ o.action ], h.prototype, "create", null), 
r([ o.computed ], h.prototype, "focusedItem", null), r([ o.computed ], h.prototype, "hoveredItem", null), 
r([ o.computed ], h.prototype, "inputs", null), r([ o.action ], h.prototype, "remove", null), 
r([ o.action ], h.prototype, "removeFocus", null), r([ o.action ], h.prototype, "setAsFocused", null), 
r([ o.action ], h.prototype, "setAsHovered", null), r([ o.action ], h.prototype, "removeHover", null), 
r([ o.action ], h.prototype, "recalculate", null), r([ o.action ], h.prototype, "navigate", null), 
t.FocusSystem = h;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(1), s = n(262), l = n(10).observer, u = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.focusAncestor = s.createAncestor(t.debugName), n.focusAncestor.onChildFocus.listen(function() {
n.props.onChildFocus && n.props.onChildFocus();
}), n.focusAncestor.onChildBlur.listen(function() {
n.props.onChildBlur && n.props.onChildBlur();
}), n;
}
return r(t, e), t.prototype.componentWillUnmount = function() {
this.focusAncestor.destroy();
}, t.prototype.render = function() {
return i.createElement("surface", o({}, this.focusAncestor.hooks), this.props.children);
}, t;
}(i.Component);
u = a([ l ], u), t.FocusableAncestor = u;
}, function(e, t) {
"use strict";
var n = function() {
function e(e) {
this.system = e, this.invalids = [], this.visible = [];
}
return e.prototype.reportInvalid = function(e) {
this.system.log("Reported invalid: " + e.map(function(e) {
return e ? e.debugName : "null";
}).join(", ")), this.invalids = this.invalids.concat(e);
}, e.prototype.setAsVisible = function(e) {
this.system.log("Setting as visible: " + e.map(function(e) {
return e ? e.debugName : "null";
}).join(", ")), this.visible = this.visible.concat(e);
}, e.prototype.isValid = function(e) {
return -1 === this.invalids.indexOf(e);
}, e.prototype.isSetAsVisible = function(e) {
return this.visible.indexOf(e) > -1;
}, e.prototype.reset = function() {
this.invalids = [], this.visible = [];
}, e;
}();
t.InvalidQuery = n;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
e.intersects(t) ? t = t.subtract(e) : t.intersects(e) && (e = e.subtract(t));
var r = !1;
switch (n) {
case o.Direction.Right:
r = t.left - e.right >= 0;
break;

case o.Direction.Down:
r = t.top - e.bottom >= 0;
break;

case o.Direction.Left:
r = t.right - e.left <= 0;
break;

case o.Direction.Up:
r = t.bottom - e.top <= 0;
}
return r ? e.edgeDistanceSquared(t) : NaN;
}
var o = n(177);
t.getDistanceInDirection = r;
}, function(e, t, n) {
"use strict";
var r = n(47), o = n(82);
r.nativeApi.onTypingInput = function(e, t, n) {
o.onTypingInput.trigger(e, t, n);
}, r.nativeApi.onWindowSizeChanged = function(e, t) {
return o.onWindowSizeChanged.trigger(e, t);
}, r.nativeApi.onSoundStopped = function(e) {
return console.log("onSoundStopped " + e);
}, r.nativeApi.onAssetLoaded = function(e, t) {
return o.onAssetLoaded.trigger(e, t);
}, r.nativeApi.onVideoStopped = function(e) {
return o.onVideoStopped.trigger(e);
}, r.nativeApi.onVideoLooped = function(e) {
return o.onVideoLooped.trigger(e);
}, r.nativeApi.onVideoStartPlaying = function(e) {
return o.onVideoStartPlaying.trigger(e);
};
}, function(e, t, n) {
(function(e, t) {
if (e.isJSC = "undefined" == typeof e.Duktape && e.TwinkleNative, e.isBrowser = "undefined" != typeof e.navigator, 
e.isNode = "undefined" != typeof e.process, e.isNode) e.__ = function(e) {
return e;
}; else if (e.isBrowser) ; else {
if (!e.TwinkleNative) throw new Error("Unable to detect JavaScript runtime!");
var r = Object;
"function" != typeof r.assign && (r.assign = function(e) {
"use strict";
if (void 0 === e || null === e) throw new TypeError("Cannot convert undefined or null to object");
for (var t = Object(e), n = 1; n < arguments.length; n++) {
var r = arguments[n];
if (void 0 !== r && null !== r) for (var o in r) r.hasOwnProperty(o) && (t[o] = r[o]);
}
return t;
});
var o = String.prototype;
o.startsWith || (o.startsWith = function(e, t) {
return t = t || 0, this.substr(t, e.length) === e;
}), e.console = t, e.performance = {
now: function() {
return Date.now();
}
};
var a = [];
e.window = {
addEventListener: function(e, t) {
a.push({
name: e,
callback: t
});
},
postMessage: function(e) {
for (var t = 0; t < a.length; t++) {
var n = a[t];
"message" === n.name && n.callback({
data: e
});
}
}
}, e.document = {
body: null,
getElementsByTagName: function(t) {
return "head" === t ? [ e.head ] : void 0;
},
createElement: function(e) {
return {
tag: e
};
}
};
}
n(914);
}).call(t, function() {
return this;
}(), n(97));
}, function(e, t, n) {
"use strict";
function r(e) {
m = e;
}
function o() {
return "boolean" != typeof m ? m = u.nativeApi.isEnterOnCircle() : m;
}
function a(e) {
u.nativeApi.enableMouseMoveSync(!1), v = null, e && _ && _(), _ = null;
}
function i(e, t) {
u.nativeApi.enableMouseMoveSync(!0), v = e, _ = t;
}
function s(e) {
var t = e, n = !0;
t.stopPropagation = function() {
n = !1;
}, p.onMouseEventBeforePropagation.trigger(t);
for (var r = 0; r < t.surfaces.length; r++) {
var o = t.surfaces[r], a = c.MouseEventType[t.event], i = d.getCallback(o.surfaceId, a);
if (i && (i(t), h.onMouseEventHandled.trigger(t)), !n) break;
}
n && f.onMouseEventAfterPropagation.trigger(t);
}
var l = n(82), u = n(47), c = n(178), p = n(82), f = n(82), d = n(384), h = n(82), y = !1, g = 0;
u.nativeApi.onInputActionDown = function(e, t) {
l.onInputActionDown.trigger(e, t, y);
}, u.nativeApi.onInputActionUp = function(e, t) {
l.onInputActionUp.trigger(e, t, y);
};
var m = null;
t.setIsEnterOnCircle = r, t.isEnterOnCircle = o, u.nativeApi.onKeyDown = function(e) {
l.onKeyDown.trigger(e);
}, u.nativeApi.onKeyUp = function(e) {
l.onKeyUp.trigger(e);
}, u.nativeApi.onPadButtonDown = function(e) {
y = !0, clearTimeout(g), g = setTimeout(function() {
y = !1;
}, 500), l.onPadButtonDown.trigger(e);
}, u.nativeApi.onPadButtonUp = function(e) {
l.onPadButtonUp.trigger(e);
};
var b = "", v = null, _ = null;
t.stopCapture = a, t.captureMouse = i, u.nativeApi.onMouseMove = function(e, t) {
v && (1 >= e && 1 >= t && (e = 960 + 960 * e, t = 1080 - (540 + 540 * t)), v(e, t));
}, u.nativeApi.onMouseEvents = function(e) {
if (v) for (var t = 0; t < e.length; t++) {
var n = e[t];
if (n.event === c.MouseEventType.onMouseUp) {
a(!0);
break;
}
} else e = e.filter(function(e) {
if (!e.surfaces.length) return !0;
if (e.event === c.MouseEventType.onMouseDown) b = e.surfaces[0].surfaceId; else if (e.event === c.MouseEventType.onClick) return e.button !== c.MouseButton.Primary ? !1 : e.surfaces[0].surfaceId === b;
return !0;
}), e.forEach(s);
};
}, function(e, t, n) {
"use strict";
function r(e, t) {
l.nativeApi.fetchKey(p.add(t), e);
}
function o(e, t, n) {
l.nativeApi.storeKey(f.add(n), e, t);
}
function a(e, t) {
l.nativeApi.removeKey(d.add(t), e);
}
function i(e) {
l.nativeApi.clearKeys(h.add(e));
}
var s = n(178);
t.GetItemResult = s.GetItemResult, t.StoreItemResult = s.StoreItemResult, t.RemoveKeyResult = s.RemoveKeyResult, 
t.ClearResult = s.ClearResult;
var l = n(47), u = 1, c = function() {
function e() {
this.callbacks = {};
}
return e.prototype.add = function(e) {
var t = u++;
return this.callbacks[t] = e, t;
}, e.prototype.pop = function(e) {
var t = this.callbacks[e];
return delete this.callbacks[e], t || function() {};
}, e;
}(), p = new c(), f = new c(), d = new c(), h = new c();
t.getItem = r, t.storeItem = o, t.removeItem = a, t.clear = i, l.nativeApi.onKeyFetched = function(e, t, n, r) {
r > 0 && (r = s.GetItemResult.OK), p.pop(e)(t, n, r);
}, l.nativeApi.onKeyStored = function(e, t, n) {
f.pop(e)(t, n);
}, l.nativeApi.onKeyRemoved = function(e, t, n) {
d.pop(e)(t, n);
}, l.nativeApi.onKeysCleared = function(e, t) {
h.pop(e)(t);
};
}, function(e, t, n) {
"use strict";
function r(e, t) {
var n = {
id: a++,
url: e,
callback: t
};
i[n.id] = n, o.nativeApi.loadAssetRequest(n.id, n.url);
}
var o = n(47), a = 1, i = {};
t.loadAssetRequest = r, o.nativeApi.onLoadAssetRequestCompleted = function(e, t, n) {
var r = i[e];
delete i[e], r.callback(t, n);
};
}, function(e, t, n) {
"use strict";
function r() {
a.frostbite.registerMessageListener("sparta.manifestBundleDownloadStarted", function(e, t) {
o.onManifestAssetsDownloadStarted.trigger({
manifestVersion: t.version,
numAssets: t.numberOfFiles
});
}), a.frostbite.registerMessageListener("sparta.manifestBundleDownloadCompletedMessage", function(e, t) {
o.onManifestAssetsDownloadCompleted.trigger({
manifestVersion: t.version
});
});
}
var o = n(82), a = n(382), i = n(47);
t.initManifestListeners = r, i.nativeApi.onManifestStatus = function(e, t) {
"newManifest" === e ? o.onManifestDownloaded.trigger({
bundleVersion: t.bundleVersion,
newBundleVersion: t.newBundleVersion,
isMandatory: t.isMandatory
}) : console.error("Unknown manifest status type: " + e);
};
}, function(e, t, n) {
(function(e) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(263), a = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return r(n, t), n.prototype.start = function(e) {
e();
}, n.prototype.objectAssignDefined = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o = typeof n;
if (Array.isArray(n) && (o = "array"), "object" !== o && null !== n && "undefined" !== o) throw new Error("Source 2 must be object, null or undefined, got " + o);
var a, i;
if (t) for (a in t) t.hasOwnProperty(a) && (i = t[a], "undefined" != typeof i && (e[a] = i));
if (n) for (a in n) n.hasOwnProperty(a) && (i = n[a], "undefined" != typeof i && (e[a] = i));
return e;
}, n.prototype.objectAssign = function(e, t, n) {
return Object.assign(e, t, n);
}, n.prototype.profilerTime = function() {
return e.TwinkleNative.profilerTime ? 1e3 * e.TwinkleNative.profilerTime() : Date.now();
}, n.prototype.delegateCall = function(t, n, r) {
return e.TwinkleNative.handleCall(t, r);
}, n;
}(o.AbstractDelegate);
t.InprocDelegate = a;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
(function(e) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(263), a = function(t) {
function n() {
return t.apply(this, arguments) || this;
}
return r(n, t), n.prototype.start = function(e) {
e();
}, n.prototype.objectAssignDefined = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o = typeof n;
if (Array.isArray(n) && (o = "array"), "object" !== o && null !== n && "undefined" !== o) throw new Error("Source 2 must be object, null or undefined, got " + o);
var a, i;
if (t) for (a in t) t.hasOwnProperty(a) && (i = t[a], "undefined" != typeof i && (e[a] = i));
if (n) for (a in n) n.hasOwnProperty(a) && (i = n[a], "undefined" != typeof i && (e[a] = i));
return e;
}, n.prototype.objectAssign = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o = typeof n;
if (Array.isArray(n) && (o = "array"), "object" !== o && null !== n && "undefined" !== o) throw new Error("Source 2 must be object, null or undefined, got " + o);
var a, i;
if (t) for (a in t) t.hasOwnProperty(a) && (i = t[a], e[a] = i);
if (n) for (a in n) n.hasOwnProperty(a) && (i = n[a], e[a] = i);
return e;
}, n.prototype.profilerTime = function() {
return e.window.performance.now();
}, n.prototype.delegateCall = function(e, t, n) {}, n;
}(o.AbstractDelegate);
t.MockDelegate = a;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
"use strict";
var r = n(76), o = n(147), a = n(74), i = function() {
function e(e) {
var t = this;
this.delegate = e, this.objectAssignDefined = function(e, n, r) {
return t.delegate.objectAssignDefined(e, n, r);
}, this.objectAssign = function(e, n, r) {
return t.delegate.objectAssign(e, n, r);
};
}
return e.prototype.isCallSupported = function(e) {
return this.delegate.functions.hasOwnProperty(e);
}, e.prototype.createRootSurface = function(e) {
return this.delegate.call("createRootSurface", !1, [ e ]);
}, e.prototype.updateSurface = function(e, t) {
return this.delegate.call("updateSurface", !1, [ e, t ]);
}, e.prototype.replaceSurface = function(e, t) {
return this.delegate.call("replaceSurface", !1, [ e, t ]);
}, e.prototype.updateSurfaceChildren = function(e, t) {
return this.delegate.call("updateSurfaceChildren", !1, [ e, t ]);
}, e.prototype.getSurfaceBoundsSync = function(e) {
return this.delegate.call("getSurfaceBoundsSync", !0, [ e ]);
}, e.prototype.getSurfacesBoundsSync = function(e) {
return this.delegate.call("getSurfacesBoundsSync", !0, [ e ]);
}, e.prototype.getSurfaceChainAtPositionSync = function(e, t) {
return this.delegate.call("getSurfaceChainAtPositionSync", !0, [ e, t ]);
}, e.prototype.playVideo = function(e, t, n) {
this.delegate.call("playVideo", !1, [ e, t, n ]);
}, e.prototype.playVideoAudioBus = function(e, t, n, r) {
this.delegate.call("playVideoAudioBus", !1, [ e, t, n, r ]);
}, e.prototype.pauseVideo = function(e) {
return this.delegate.call("pauseVideo", !1, [ e ]);
}, e.prototype.stopVideo = function(e) {
this.delegate.call("stopVideo", !1, [ e ]);
}, e.prototype.setVideoVolume = function(e, t) {
this.delegate.call("setVideoVolume", !1, [ e, t ]);
}, e.prototype.stopAllVideo = function() {
return this.delegate.call("stopAllVideo", !1, []);
}, e.prototype.playSound = function(e, t, n) {
return this.delegate.call("playSound", !1, [ e, t, n ]);
}, e.prototype.playSoundAudioBus = function(e, t, n, r) {
return this.delegate.call("playSoundAudioBus", !1, [ e, t, n, r ]);
}, e.prototype.pauseSound = function(e) {
return this.delegate.call("pauseSound", !1, [ e ]);
}, e.prototype.stopSound = function(e) {
return this.delegate.call("stopSound", !1, [ e ]);
}, e.prototype.setSoundVolume = function(e, t) {
return this.delegate.call("setSoundVolume", !1, [ e, t ]);
}, e.prototype.stopAllSounds = function() {
return this.delegate.call("stopAllSounds", !1, []);
}, e.prototype.fetchKey = function(e, t) {
return this.delegate.call("fetchKey", !1, [ e, t ]);
}, e.prototype.storeKey = function(e, t, n) {
return this.delegate.call("storeKey", !1, [ e, t, n ]);
}, e.prototype.removeKey = function(e, t) {
return this.delegate.call("removeKey", !1, [ e, t ]);
}, e.prototype.clearKeys = function(e) {
return this.delegate.call("clearKeys", !1, [ e ]);
}, e.prototype.createTween = function(e, t) {
return this.delegate.call("createTween", !1, [ e, t ]);
}, e.prototype.destroyTween = function(e) {
return this.delegate.call("destroyTween", !1, [ e ]);
}, e.prototype.startTween = function(e, t, n, r, o, a, i) {
return this.delegate.call("startTween", !1, [ e, t, n, r, o, a, i ]);
}, e.prototype.updateTweens = function(e) {
return this.delegate.call("updateTweens", !1, [ e ]);
}, e.prototype.getTweenValueSync = function(e) {
return this.delegate.call("getTweenValueSync", !0, [ e ]);
}, e.prototype.loadTexture = function(e, t, n) {
return this.delegate.call("loadTexture", !1, [ e, t, n ]);
}, e.prototype.loadDefaultTexture = function(e, t, n) {
return this.delegate.call("loadDefaultTexture", !1, [ e, t, n ]);
}, e.prototype.clearTextures = function(e, t) {
return this.delegate.call("clearTextures", !1, [ e, t ]);
}, e.prototype.createDynamicAtlasSync = function(e, t, n, r, o, a) {
return this.delegate.call("createDynamicAtlasSync", !0, [ e, t, n, r, o, a ]);
}, e.prototype.destroyAtlas = function(e) {
return this.delegate.call("destroyAtlas", !0, [ e ]);
}, e.prototype.setEnableAtlas = function(e, t) {
return this.delegate.call("setEnableAtlas", !0, [ e, t ]);
}, e.prototype.setGlyphSamplesSync = function(e) {
return this.delegate.call("setGlyphSamplesSync", !0, [ e ]);
}, e.prototype.setGlyphTextureSizeSync = function(e) {
return this.delegate.call("setGlyphTextureSizeSync", !0, [ e ]);
}, e.prototype.setFullscreenResampleSync = function(e, t, n) {
return this.delegate.call("setFullscreenResampleSync", !0, [ e, t, n ]);
}, e.prototype.isEnterOnCircle = function() {
return this.delegate.call("isEnterOnCircle", !0, []);
}, e.prototype.jsStart = function() {
return this.delegate.call("jsStart", !1, []);
}, e.prototype.jsStartSync = function() {
return this.delegate.call("jsStartSync", !0, []);
}, e.prototype.addTimeout = function(e, t) {
return this.delegate.call("addTimeout", !1, [ e, t ]);
}, e.prototype.log = function(e, t) {
return this.delegate.call("log", !1, [ e, t ]);
}, e.prototype.setCaptureGameScreen = function(e) {
return this.delegate.call("setCaptureGameScreen", !1, [ e ]);
}, e.prototype.httpRequest = function(e, t, n, r, o) {
return this.delegate.call("httpRequest", !1, [ e, t, n, r, o ]);
}, e.prototype.loadAssetRequest = function(e, t) {
return this.delegate.call("loadAssetRequest", !1, [ e, t ]);
}, e.prototype.loadFont = function(e, t) {
return this.delegate.call("loadFont", !1, [ e, t ]);
}, e.prototype.playSpriteAnimation = function(e, t) {
return this.delegate.call("playSpriteAnimation", !1, [ e, t ]);
}, e.prototype.applyStateChanges = function() {
return this.delegate.call("applyStateChanges", !1, []);
}, e.prototype.sendMessage = function(e, t) {
this.delegate.call("sendMessage", !1, [ e, t ]);
}, e.prototype.fbSettingSet = function(e, t) {
return this.delegate.call("fbSettingSet", !1, [ e, t ]);
}, e.prototype.showError = function(e) {
return this.delegate.call("showError", !1, [ e ]);
}, e.prototype.enableMouseMoveSync = function(e) {
return this.delegate.call("enableMouseMoveSync", !0, [ e ]);
}, e.prototype.getBuildInfoSync = function() {
return this.delegate.call("getBuildInfoSync", !0, []);
}, e.prototype.sendConsoleCommandSync = function(e) {
return this.delegate.call("sendConsoleCommandSync", !0, [ e ]);
}, e.prototype.writeConsoleOutputSync = function(e, t) {
return this.delegate.call("writeConsoleOutputSync", !0, [ e, t ]);
}, e.prototype.setUseCssMarginOrderSync = function(e) {
return this.delegate.call("setUseCssMarginOrderSync", !0, [ e ]);
}, e.prototype.verifyCodeSignatureSync = function(e) {
return this.delegate.call("verifyCodeSignatureSync", !0, [ e ]);
}, e.prototype.openUrl = function(e) {
return this.delegate.call("openUrl", !0, [ e ]);
}, e.prototype.surfaceDebugHighlight = function(e, t, n, r, o) {
return this.delegate.call("surfaceDebugHighlight", !1, [ e, t, n, r, o ]);
}, e.prototype.start = function(e) {
return this.delegate.start(e);
}, e.prototype.profilerTime = function() {
return this.delegate.profilerTime();
}, e.prototype.getPerfCounter = function() {
return this.delegate.call("getPerfCounter", !0, [], "0");
}, e.prototype.getPerfFrequency = function() {
return this.delegate.call("getPerfFrequency", !0, [], "1");
}, e.prototype.diffUpdateSurface = function(e, t, n) {
return this.delegate.call("diffUpdateSurface", !1, [ e, t, n ], null);
}, e.prototype.addTimingEvent = function(e, t, n) {
return this.delegate.call("addTimingEvent", !0, [ e, t, n ], "0");
}, e.prototype.onScriptCalls = function(e) {
var t = this;
e = r.options.batchCallTransformer(e);
var n = !1;
a.batchedUpdates(function() {
var a = t.getPerfCounter();
o.TweenBatching.start(), e.forEach(function(e) {
var o = e[0], i = e[1], s = t[o];
if (s) {
if (r.options.onErrorCallback) try {
s.apply(void 0, i);
} catch (l) {
r.options.onErrorCallback(o, l);
} else s.apply(void 0, i);
"onSurfaceBoundsChanged" !== o && (n = !0);
} else console.error("Missing function '" + o + "'. Make sure it exists in NativeAPI");
a = t.addTimingEvent("twJs-" + o, a, [ 0, 0, 255 ]);
}), o.TweenBatching.stop();
}), n && this.applyStateChanges();
}, e;
}();
t.NativeAPI = i;
}, function(e, t, n) {
(function(e) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(263), a = function(t) {
function n(e) {
var n = t.call(this) || this;
return n.remoteEngine = e, n;
}
return r(n, t), n.prototype.start = function(e) {
this.remoteEngine.start(e);
}, n.prototype.objectAssignDefined = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o = typeof n;
if (Array.isArray(n) && (o = "array"), "object" !== o && null !== n && "undefined" !== o) throw new Error("Source 2 must be object, null or undefined, got " + o);
var a, i;
if (t) for (a in t) t.hasOwnProperty(a) && (i = t[a], "undefined" != typeof i && (e[a] = i));
if (n) for (a in n) n.hasOwnProperty(a) && (i = n[a], "undefined" != typeof i && (e[a] = i));
return e;
}, n.prototype.objectAssign = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o = typeof n;
if (Array.isArray(n) && (o = "array"), "object" !== o && null !== n && "undefined" !== o) throw new Error("Source 2 must be object, null or undefined, got " + o);
var a, i;
if (t) for (a in t) t.hasOwnProperty(a) && (i = t[a], e[a] = i);
if (n) for (a in n) n.hasOwnProperty(a) && (i = n[a], e[a] = i);
return e;
}, n.prototype.profilerTime = function() {
return e.window.performance.now();
}, n.prototype.delegateCall = function(e, t, n) {
return this.remoteEngine.call(e, t, n);
}, n;
}(o.AbstractDelegate);
t.RemoteDelegate = a;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
(function(e) {
"use strict";
function r() {
return o.nativeApi.isCallSupported("profilerTime") ? 1e3 * o.nativeApi.profilerTime() : e.window && e.window.performance ? e.window.performance.now() : Date.now();
}
var o = n(47);
t.now = r;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(264), i = function() {
function e(e, t, n, r) {
this.R = e, this.G = t, this.B = n, this.A = r;
}
return e.prototype.add = function(e) {
this.R += e.R, this.G += e.G, this.B += e.B, this.A += e.A;
}, e.prototype.asArray = function() {
return [ this.R, this.G, this.B, this.A ];
}, e;
}();
t.ColorConfig = i;
var s = function() {
function e(e, t, n, r, o, a, i) {
void 0 === n && (n = "Linear"), void 0 === r && (r = .2), void 0 === o && (o = .2), 
void 0 === a && (a = .8), void 0 === i && (i = .8), this.fromColor = e, this.toColor = t, 
this.easing = n, this.p1x = r, this.p1y = o, this.p2x = a, this.p2y = i;
}
return e;
}();
t.ColorTweenConfig = s;
var l = function() {
function e(e, t, n, r, a) {
void 0 === a && (a = !0);
var i = this;
this.absolute = !0, o.action("JitterColorConfig init", function() {
i.R = e, i.G = t, i.B = n, i.A = r, i.absolute = a;
})();
}
return e.prototype.generateValue = function() {
return new i(this.R.generateValue(), this.G.generateValue(), this.B.generateValue(), this.A.generateValue());
}, e.prototype.toJson = function() {
return {
R: this.R.toJson(),
G: this.G.toJson(),
B: this.B.toJson(),
A: this.A.toJson()
};
}, e.prototype.fromJson = function(e) {
this.R.fromJson(e.R), this.G.fromJson(e.G), this.B.fromJson(e.B), this.A.fromJson(e.A);
}, e;
}();
r([ o.observable ], l.prototype, "R", void 0), r([ o.observable ], l.prototype, "G", void 0), 
r([ o.observable ], l.prototype, "B", void 0), r([ o.observable ], l.prototype, "A", void 0), 
r([ o.observable ], l.prototype, "absolute", void 0), t.JitterColorConfig = l;
var u = function() {
function e(e, t, n) {
var r = this;
this.easing = "Linear", this.p1x = new a.JitterValue(.2, 0, null), this.p1y = new a.JitterValue(.2, 0, null), 
this.p2x = new a.JitterValue(.8, 0, null), this.p2y = new a.JitterValue(.8, 0, null), 
o.action("JitterColorTweenConfig init", function() {
r.fromColor = e, r.toColor = t, r.easing = n;
})();
}
return e.prototype.generateConfig = function() {
var e = this.fromColor.generateValue(), t = this.toColor.generateValue();
return this.fromColor.absolute && !this.toColor.absolute ? t.add(e) : !this.fromColor.absolute && this.toColor.absolute && e.add(t), 
new s(e, t, this.easing, this.p1x.generateValue(), this.p1y.generateValue(), this.p2x.generateValue(), this.p2y.generateValue());
}, e.prototype.toJson = function() {
return {
fromColor: this.fromColor.toJson(),
toColor: this.toColor.toJson(),
easing: this.easing,
p1x: this.p1x.toJson(),
p1y: this.p1y.toJson(),
p2x: this.p2x.toJson(),
p2y: this.p2y.toJson()
};
}, e.prototype.fromJson = function(e) {
this.fromColor.fromJson(e.fromColor), this.toColor.fromJson(e.toColor), this.easing = e.easing, 
this.p1x.fromJson(e.p1x), this.p1y.fromJson(e.p1y), this.p2x.fromJson(e.p2x), this.p2y.fromJson(e.p2y);
}, e;
}();
r([ o.observable ], u.prototype, "fromColor", void 0), r([ o.observable ], u.prototype, "toColor", void 0), 
r([ o.observable ], u.prototype, "easing", void 0), r([ o.observable ], u.prototype, "p1x", void 0), 
r([ o.observable ], u.prototype, "p1y", void 0), r([ o.observable ], u.prototype, "p2x", void 0), 
r([ o.observable ], u.prototype, "p2y", void 0), r([ o.action ], u.prototype, "fromJson", null), 
t.JitterColorTweenConfig = u;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(385), a = n(386), i = n(116), s = n(9), l = n(658), u = n(264), c = n(101), p = function() {
function e() {
this.texture = "", this.textureList = [], this.blendMode = "screen", this.maxParticles = 100, 
this.lifetimeMs = new u.JitterValue(2e3, 400, null), this.emitInterval = new u.JitterValue(300, 0, null), 
this.x = new a.JitterTweenConfig(new u.JitterValue(-500, 10, !0), new u.JitterValue(500, 10, !0), "Linear"), 
this.y = new a.JitterTweenConfig(new u.JitterValue(-500, 10, !0), new u.JitterValue(500, 10, !0), "Linear"), 
this.opacity = new a.JitterTweenConfig(new u.JitterValue(0, .1, !0), new u.JitterValue(1, .1, !0), "Linear"), 
this.scale = new a.JitterTweenConfig(new u.JitterValue(3, .3, !0), new u.JitterValue(1, .4, !0), "Linear"), 
this.rotate = new a.JitterTweenConfig(new u.JitterValue(3, .3, !0), new u.JitterValue(1, .4, !0), "Linear"), 
this.color = new l.JitterColorTweenConfig(new l.JitterColorConfig(new u.JitterValue(255, 0, !0), new u.JitterValue(255, 0, !0), new u.JitterValue(255, 0, !0), new u.JitterValue(255, 0, !0)), new l.JitterColorConfig(new u.JitterValue(255, 0, !0), new u.JitterValue(255, 0, !0), new u.JitterValue(255, 0, !0), new u.JitterValue(255, 0, !0)), "Linear");
}
return e.prototype.toJson = function() {
return {
texture: this.texture,
blendMode: this.blendMode,
maxParticles: this.maxParticles,
lifetimeMs: this.lifetimeMs.toJson(),
emitInterval: this.emitInterval.toJson(),
x: this.x.toJson(),
y: this.y.toJson(),
opacity: this.opacity.toJson(),
scale: this.scale.toJson(),
rotate: this.rotate.toJson(),
color: this.color.toJson()
};
}, e.prototype.fromJson = function(e) {
this.texture = e.texture, this.blendMode = e.blendMode, this.maxParticles = e.maxParticles, 
this.lifetimeMs.fromJson(e.lifetimeMs), this.emitInterval.fromJson(e.emitInterval), 
this.x.fromJson(e.x), this.y.fromJson(e.y), this.opacity.fromJson(e.opacity), this.scale.fromJson(e.scale), 
this.rotate.fromJson(e.rotate), this.color.fromJson(e.color);
}, e;
}();
r([ s.observable ], p.prototype, "texture", void 0), r([ s.observable ], p.prototype, "textureList", void 0), 
r([ s.observable ], p.prototype, "blendMode", void 0), r([ s.observable ], p.prototype, "maxParticles", void 0), 
r([ s.observable ], p.prototype, "lifetimeMs", void 0), r([ s.observable ], p.prototype, "emitInterval", void 0), 
r([ s.observable ], p.prototype, "x", void 0), r([ s.observable ], p.prototype, "y", void 0), 
r([ s.observable ], p.prototype, "opacity", void 0), r([ s.observable ], p.prototype, "scale", void 0), 
r([ s.observable ], p.prototype, "rotate", void 0), r([ s.observable ], p.prototype, "color", void 0), 
r([ s.action ], p.prototype, "fromJson", null), t.EmitterConfig = p;
var f = !1;
c.getBuildInfo().isRemoteEngine() && (window.pauseParticles = function() {
f = !f, console.log("Particle emitting " + (f ? "paused" : "resumed"));
});
var d = function() {
function e() {
this.started = !1, this.config = new p(), this.numParticles = 0, this.particleEmitted = new i.TwinkleTypedEvent(), 
this.configUpdated = new i.TwinkleSignal();
}
return e.prototype.start = function() {
this.started = !0, this.emitParticle();
}, e.prototype.stop = function() {
this.started = !1;
}, e.prototype.createParticle = function() {
var e = this;
this.numParticles++;
var t = new o.Particle(Math.max(1, this.config.lifetimeMs.generateValue()), this.config.x.generateConfig(), this.config.y.generateConfig(), this.config.opacity.generateConfig(), this.config.scale.generateConfig(), this.config.rotate.generateConfig(), this.config.color.generateConfig());
return t.death.listenOnce(function() {
e.numParticles--;
}), t;
}, e.prototype.emitParticle = function() {
var e = this;
if (this.numParticles < this.config.maxParticles && !f && this.particleEmitted.trigger(this.createParticle()), 
this.started) {
var t = this.config.emitInterval.generateValue();
setTimeout(function() {
return e.emitParticle();
}, Math.max(1, t));
}
}, e;
}();
t.Emitter = d;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(9), s = n(10).observer, l = n(211), u = 0, c = function(e, t, n) {
return Math.max(Math.min(n, t), e);
}, p = function() {
function e(e) {
this.index = e, this.isDestroyed = !1, this.x = this.createTween("x"), this.y = this.createTween("y"), 
this.opacity = this.createTween("opacity"), this.scale = this.createTween("scale"), 
this.rotate = this.createTween("rotate"), this.color = this.createTween("color");
}
return e.prototype.createTween = function(e) {
var t = "p_" + e + "_" + this.index + "_" + u++, n = "color" === e ? [ 1, 1, 1, 1 ] : 0;
return new l.Tween(t, n, {});
}, e.prototype.destroy = function() {
this.isDestroyed = !0, this.x.destroy(), this.y.destroy(), this.opacity.destroy(), 
this.scale.destroy(), this.rotate.destroy(), this.color.destroy();
}, e.getSurfaceEasing = function(e) {
return "Bezier" === e.easing ? [ c(0, 1, e.p1x), c(0, 1, e.p1y), c(0, 1, e.p2x), c(0, 1, e.p2y) ] : e.easing;
}, e.prototype.runTween = function(t, n, r) {
var o = n.from, a = n.to;
t === this.opacity && (o = Math.min(1, Math.max(0, o)), a = Math.min(1, Math.max(0, a))), 
t.transition(o, a, {
duration: r,
easing: e.getSurfaceEasing(n)
});
}, e.prototype.run = function(e) {
this.runTween(this.x, e.x, e.lifespan), this.runTween(this.y, e.y, e.lifespan), 
this.runTween(this.opacity, e.opacity, e.lifespan), this.runTween(this.scale, e.scale, e.lifespan), 
this.runTween(this.rotate, e.rotate, e.lifespan), this.color.transition(e.color.fromColor.asArray(), e.color.toColor.asArray(), e.lifespan);
}, e.prototype.reset = function() {
this.isDestroyed || (this.opacity.set(0), this.x.set(0), this.y.set(0), this.scale.set(0), 
this.rotate.set(0), this.color.set([ 255, 255, 255, 255 ]));
}, e;
}();
t.ParticleRenderer = p;
var f = function(e) {
function t() {
var t = e.apply(this, arguments) || this;
return t.freeRenderers = [], t.numRenderersCreated = 0, t.indexToRenderer = {}, 
t;
}
return r(t, e), t.prototype.componentDidMount = function() {
var e = this, t = this.props.emitter;
this.cancelConfig = t.configUpdated.listen(function() {
e.forceUpdate();
}), this.cancelEmit = t.particleEmitted.listen(function(t) {
e.setupParticle(t);
});
}, t.prototype.setupParticle = function(e) {
var t = this, n = this.freeRenderers.pop();
return "undefined" == typeof n ? void (this.numRenderersCreated < this.props.emitter.config.maxParticles ? this.numRenderersCreated++ : console.error("No free renderers")) : (n.run(e), 
void e.death.listenOnce(function() {
n.reset(), t.freeRenderers.push(n);
}));
}, t.prototype.componentWillUnmount = function() {
var e = this;
this.cancelConfig(), this.cancelEmit(), Object.keys(this.indexToRenderer).forEach(function(t) {
var n = e.indexToRenderer[t];
n.destroy(), delete e.indexToRenderer[t], e.freeRenderers.length = 0;
});
}, t.prototype.renderParticleSurface = function(e) {
var t = this.indexToRenderer[e + ""];
if (!t) {
if (t = this.indexToRenderer[e + ""] = new p(e), this.props.emitter.config.textureList && this.props.emitter.config.textureList.length > 0) {
var n = Math.floor(Math.random() * this.props.emitter.config.textureList.length);
t.texture = this.props.emitter.config.textureList[n];
} else "" !== this.props.emitter.config.texture && (t.texture = this.props.emitter.config.texture);
this.freeRenderers.push(t);
}
var r = {
position: "absolute",
translateX: t.x.getStyle(),
translateY: t.y.getStyle(),
opacity: t.opacity.getStyle(),
scaleX: t.scale.getStyle(),
scaleY: t.scale.getStyle(),
rotateZ: t.rotate.getStyle(),
width: 10,
height: 10,
color: t.color.getStyle(),
texture: t.texture
};
return "normal" !== this.props.emitter.config.blendMode && (r.blendMode = this.props.emitter.config.blendMode), 
a.createElement("surface", {
key: e,
style: r
});
}, t.prototype.render = function() {
for (var e = [], t = 0; t < this.numRenderersCreated; t++) e.push(this.renderParticleSurface(t));
return a.createElement("surface", null, e);
}, t;
}(a.Component);
o([ i.observable ], f.prototype, "numRenderersCreated", void 0), o([ i.action ], f.prototype, "setupParticle", null), 
f = o([ s ], f), t.Renderer = f;
}, function(e, t, n) {
"use strict";
var r = n(659);
t.Emitter = r.Emitter, t.EmitterConfig = r.EmitterConfig;
var o = n(385);
t.Particle = o.Particle;
var a = n(660);
t.Renderer = a.Renderer;
var i = n(386);
t.TweenConfig = i.TweenConfig;
}, function(e, t, n) {
"use strict";
var r = n(47), o = n(915), a = n(149), i = n(384), s = n(212), l = n(76), u = n(265), c = n(212), p = n(387), f = n(148), d = n(261), h = [ "onMouseDown", "onMouseUp", "onClick", "onDoubleClick", "onMouseScroll", "onMouseEnter", "onMouseLeave" ], y = function() {
function e(e) {
this._tag = e, this._rootNodeID = "", this._isStaticSurface = !1, this._renderedChildren = null, 
this._surfaceProps = null, this._currentElement = null, this._fadeIn = null, this._unsubscribeToBoundUpdates = null, 
this._mouseEvents = [], this._primaryTexture = null;
}
return e.prototype.construct = function(e) {
this._currentElement = e;
}, e.prototype.getSurfaceId = function() {
return this._rootNodeID;
}, e.prototype.getObject = function(e) {
var t = d.assign({}, this._surfaceProps);
return t.id = this._rootNodeID, t.children = e, t;
}, e.prototype._handleOnSurfaceId = function(e, t) {
var n = e && e.props.onSurfaceId, r = t && t.props.onSurfaceId;
n !== r && ("function" == typeof n && n(null), "function" == typeof r && r(this._rootNodeID));
}, e.prototype._handleOnBounds = function(e, t) {
var n = e && e.props.onBounds, r = t && t.props.onBounds;
n !== r && (this._unsubscribeToBoundUpdates && this._unsubscribeToBoundUpdates(), 
"function" == typeof r ? this._unsubscribeToBoundUpdates = s.subscribeToBounds(this._rootNodeID, r) : this._unsubscribeToBoundUpdates = null);
}, e.prototype._handleMouseEvents = function(e, t) {
this._mouseEvents.length = 0;
for (var n = 0, r = h.length; r > n; ++n) {
var o = h[n], a = e && e.props[o], s = t && t.props[o];
s && this._mouseEvents.push(o), a !== s && ("function" == typeof s ? i.setCallback(this._rootNodeID, o, s) : i.clearCallback(this._rootNodeID, o));
}
}, e.prototype.mountComponent = function(e, t, n) {
var r = this._currentElement;
this._rootNodeID = e, "test" === this._tag ? (p.mount(e, r.props), this._surfaceProps = {}) : this._currentElement && (this._handleOnSurfaceId(void 0, r), 
this._handleOnBounds(void 0, r), l.options.enableMouse && this._handleMouseEvents(void 0, r), 
this._surfaceProps = this.parseProps(r.props)), "function" == typeof r.props.onSurfaceId && r.props.onSurfaceId(e), 
this._isStaticSurface = !!r.props["static"];
var o = [], a = r.props.children;
return a && (Array.isArray(a) || (a = [ a ]), o = this.mountChildren(a, t, n)), 
this.getObject(o);
}, e.prototype.receiveComponent = function(e, t, n) {
var o = this._currentElement;
if ("test" === this._tag) p.update(this._rootNodeID, o.props, e.props); else if (!this._isStaticSurface || this._fadeIn || l.options.enableDevWarnings) {
var i = f.start();
this._handleOnSurfaceId(o, e), this._handleOnBounds(o, e), l.options.enableMouse && this._handleMouseEvents(o, e);
var s = this._surfaceProps;
this._surfaceProps = this.parseProps(e.props);
var u = this._surfaceProps;
this._currentElement = e, f.end("propsParse", i);
var c = f.start();
if (r.nativeApi.isCallSupported("diffUpdateSurface")) r.nativeApi.diffUpdateSurface(this._rootNodeID, s, u); else {
var d = {}, h = a.diffProps(s, u, d);
h && (this._isStaticSurface && !this._fadeIn ? console.error("Error: " + this._rootNodeID + " was marked as static but its props (" + Object.keys(d).join(", ") + ") changed!") : a.updateSurface(this._rootNodeID, d));
}
f.end("propsDiff", c);
}
var y = e.props.children;
y = y ? [].concat(y) : [], this.updateChildren(y, t, n);
}, e.prototype.unmountComponent = function() {
var e = this._currentElement;
"test" === this._tag && p.unmount(this._rootNodeID, e.props), this._handleOnSurfaceId(e, void 0), 
this._handleOnBounds(e, void 0), l.options.enableMouse && this._handleMouseEvents(e, void 0), 
u.textureHandler.unmount(this), this.unmountChildren(), this._rootNodeID = "";
}, e.prototype.getPublicInstance = function() {
return this;
}, e.prototype.parseProps = function(e) {
var t = this._rootNodeID, n = {}, o = e.style;
void 0 !== o && (Array.isArray(o) ? (r.nativeApi.objectAssignDefined(n, o[0] || null, o[1] || null), 
r.nativeApi.objectAssignDefined(n, o[2] || null, o[3] || null)) : r.nativeApi.objectAssignDefined(n, o), 
u.textureHandler.update(this, n));
var a = [];
if (s.hasSubscription(t) && a.push("onBoundsChanged"), this._mouseEvents && a.push.apply(a, this._mouseEvents), 
a.length > 0 && (n.events = a), "string" == typeof e.text) {
n.text = e.text, !n.fontSize && l.options.defaultFontSize && (n.fontSize = l.options.defaultFontSize), 
!n.color && l.options.defaultFontColor && (n.color = l.options.defaultFontColor), 
!n.fontFamily && l.options.defaultFontFamily && (n.fontFamily = l.options.defaultFontFamily);
var i = l.options.getFontSettings(n.fontFamily);
"number" != typeof n.textEdgeOffset && "number" == typeof i.edgeOffset && (n.textEdgeOffset = i.edgeOffset), 
"number" != typeof n.textSoftness && "number" == typeof i.softness && (n.textSoftness = i.softness);
}
return "object" == typeof e.shader && (n.shader = e.shader), "object" == typeof e.spriteAnimation && (n.spriteAnimation = e.spriteAnimation), 
n;
}, e.prototype.getBounds = function() {
return c.getBoundsSync(this._rootNodeID);
}, e;
}();
t.ReactTwinkleComponent = y, d.assign(y.prototype, o.Mixin);
}, function(e, t, n) {
"use strict";
function r() {
return f;
}
function o(e) {
f || (f = a.createReactRootID());
var t = s(e);
return i.batchedUpdates(function() {
var e = i.ReactReconcileTransaction.getPooled();
e.perform(function() {
var n = t.mountComponent(f, e, {});
l.replaceRoot(n);
}), i.ReactReconcileTransaction.release(e);
}), t;
}
var a = n(139), i = n(74), s = n(243), l = n(149), u = n(9);
i.batchedUpdate = function(e) {
e();
};
var c = i.batchedUpdates;
i.batchedUpdates = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
u.transaction(function() {
return c.apply(void 0, e);
});
};
var p = i.flushBatchedUpdates;
i.flushBatchedUpdates = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
u.transaction(function() {
return p.apply(void 0, e);
});
};
var f = null;
t.getRootId = r, t.render = o;
}, function(e, t, n) {
"use strict";
var r = n(76), o = n(47), a = 1, i = function() {
function e(e, t, n, r) {
void 0 === n && (n = !1), void 0 === r && (r = 1), this.id = e, this.url = t, this.loop = n, 
this.volume = r, this.unload = this.stop;
}
return e.prototype.play = function() {
o.nativeApi.playSound(this.id, this.url, this.loop), o.nativeApi.setSoundVolume(this.id, this.volume);
}, e.prototype.stop = function() {
o.nativeApi.stopSound(this.id);
}, e.prototype.setVolume = function(e) {
this.volume = e;
}, e.load = function(t) {
return r.options.urlHook && (t = r.options.urlHook(t)), new e(a++, t);
}, e.stopAll = function() {
o.nativeApi.stopAllSounds();
}, e;
}();
t.Sound = i;
}, function(e, t, n) {
"use strict";
function r(e, t) {
return i.nativeApi.getSurfaceChainAtPositionSync(e, t);
}
function o(e) {
for (var t = a.batchSyncCalls(e.map(function(e) {
return {
func: "getSurfaceChainAtPositionSync",
args: [ e.x, e.y ]
};
})), n = {}, r = 0; r < e.length; r++) {
var o = e[r];
n[o.key] = t[r];
}
return n;
}
var a = n(379), i = n(47);
t.getSurfaceChainAtPosition = r, t.getSurfaceChainsAtPositions = o;
}, function(e, t) {
"use strict";
var n;
!function(e) {
e[e.NOT_LOADED = 0] = "NOT_LOADED", e[e.LOADING = 1] = "LOADING", e[e.FAILED = 2] = "FAILED", 
e[e.LOADED = 3] = "LOADED";
}(n = t.TextureState || (t.TextureState = {}));
var r = function() {
function e(e) {
this.reference = e, this.state = n.NOT_LOADED, this.refCount = 0, this.stateId = 0;
}
return e.toReference = function(e, t) {
return {
key: e + "_" + t,
url: e,
atlas: t
};
}, e.prototype.getState = function() {
return n[this.state];
}, e.prototype.changeState = function(e) {
this.state = e, this.stateId++;
}, e.prototype.isLoaded = function() {
return this.state === n.LOADED || this.state === n.FAILED;
}, e.prototype.onLoaded = function(e) {
var t = this;
return this.isLoaded() ? (e(!0), function() {}) : this.state === n.FAILED ? (e(!1), 
function() {}) : (this.callbacks ? this.callbacks.push(e) : this.callbacks = [ e ], 
function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
});
}, e.prototype.loaded = function(e) {
this.changeState(e ? n.LOADED : n.FAILED), this.callbacks && this.callbacks.forEach(function(t) {
return t(e);
});
}, e.prototype.unloaded = function() {
this.changeState(n.NOT_LOADED);
}, e.prototype.loading = function() {
this.changeState(n.LOADING);
}, e;
}();
t.Texture = r;
}, function(e, t, n) {
"use strict";
var r = n(211), o = n(147), a = n(149), i = 0, s = function() {
function e(e) {
this.surface = e;
}
return e.prototype.setupTween = function(e) {
var t = this;
this.texture = e, this.cancel(), this.tween = new r.Tween("fadeIn_" + this.texture.reference.url + "_" + i++, .01, {
easing: "CubicOut",
duration: 300
}), this.cancelOnLoaded = e.onLoaded(function(e) {
e && (t.tween.to(t.fadeToOpacity, {}, function() {
t.surface._rootNodeID && a.updateSurface(t.surface._rootNodeID, {
opacity: t.oldOpacity
}), t.destroy();
}), o.TweenBatching.flush());
});
}, e.prototype.destroy = function() {
this.cancel();
}, e.prototype.cancel = function() {
this.cancelOnLoaded && (this.cancelOnLoaded(), this.cancelOnLoaded = null), this.tween && (this.tween.destroy(), 
this.tween = null);
}, e.prototype.update = function(e, t) {
if (!e.isLoaded()) {
var n = t.opacity, r = typeof n;
if (this.oldOpacity = n, this.fadeToOpacity = 1, "number" === r) this.fadeToOpacity = n; else if ("string" === r) this.fadeToOpacity = 0; else {
if ("object" === r) return;
this.oldOpacity = null;
}
(!this.tween || this.texture && this.texture.reference.key !== e.reference.key) && this.setupTween(e), 
t.opacity = this.tween.getStyle();
}
}, e.handle = function(t, n, r) {
n.isLoaded() || (t._fadeIn || (t._fadeIn = new e(t)), t._fadeIn.update(n, r));
}, e.unmount = function(e) {
e._fadeIn && (e._fadeIn.destroy(), e._fadeIn = null);
}, e;
}();
t.TextureFadeIn = s;
}, function(e, t, n) {
"use strict";
var r = n(116), o = 0, a = {}, i = function() {
function e() {}
return e.add = function(t) {
a[t.reference.key] || (a[t.reference.key] = t, e.onTexturesChanged.trigger());
}, e.remove = function(t) {
a[t.reference.key] && (delete a[t.reference.key], e.onTexturesChanged.trigger());
}, e.handle = function(t, n, r) {
r.isPreloader ? delete r.isPreloader : o > 0 && t._primaryTexture !== n && (t._primaryTexture && e.decreaseRefCount(t._primaryTexture), 
t._primaryTexture = n, e.increaseRefCount(n));
}, e.increaseRefCount = function(t) {
t.refCount++, 1 === t.refCount && e.add(t);
}, e.decreaseRefCount = function(t) {
t.refCount--, 0 === t.refCount && (0 === o ? e.remove(t) : setTimeout(function() {
0 === t.refCount && e.remove(t);
}, o));
}, e.unmount = function(t) {
t._primaryTexture && (e.decreaseRefCount(t._primaryTexture), t._primaryTexture = null);
}, e.getTextures = function() {
return Object.keys(a).map(function(e) {
return a[e];
});
}, e.clear = function() {
e.getTextures().forEach(function(t) {
return e.remove(t);
});
}, e.toggleDebug = function() {
e.debug = !e.debug, e.onTexturesChanged.trigger(), console.log("Texture keep-alive debugging turned " + (e.debug ? "ON" : "OFF"));
}, e;
}();
i.onTexturesChanged = new r.TwinkleSignal(), i.debug = !1, t.TextureKeepAlive = i;
}, function(e, t, n) {
(function(e) {
"use strict";
var t = n(47), r = {}, o = 0, a = {}, i = 0;
t.nativeApi.onTimeout = function(e) {
var t = r[e];
delete r[e], t && t();
}, "undefined" == typeof e.setTimeout && (e.setTimeout = function s(e, n) {
var a = o++;
return "undefined" == typeof n && (n = 0), r[a] = e, t.nativeApi.addTimeout(a, n), 
a;
}, e.setInterval = function l(e, t) {
var n = i++;
a[n] = !0;
var r = function o() {
if (a[n]) {
var o = Date.now();
e();
var i = Math.round(Date.now() - o);
setTimeout(r, Math.max(1, t - i));
}
};
return setTimeout(r, t), n;
}, e.clearInterval = function u(e) {
delete a[e];
}, e.clearTimeout = function c(e) {
delete r[e];
});
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
"use strict";
function r(e) {
var t = l[e];
if (!t) {
var n = u++;
t = l[e] = new p(n, e);
}
return t;
}
function o() {
for (var e in l) l[e].stop();
s.nativeApi.stopAllVideo();
}
function a(e) {
e in l && l[e].stop();
}
for (var i = n(101), s = n(47), l = {}, u = 1, c = 0; 5 > c; c++) s.nativeApi.stopVideo(c);
var p = function() {
function e(e, t) {
this.id = e, this.url = t, this.volume = 1, this.audioBus = "", this.isPlaying = !1, 
this.loop = !0;
}
return e.prototype.play = function() {
this.isPlaying || (i.getBuildInfo().hasAudioBus() ? s.nativeApi.playVideoAudioBus(this.id, this.url, this.loop, this.audioBus) : s.nativeApi.playVideo(this.id, this.url, this.loop), 
this.isPlaying = !0), s.nativeApi.setVideoVolume(this.id, this.volume), this.applyVolumeFix();
}, e.prototype.stop = function() {
this.isPlaying && (s.nativeApi.stopVideo(this.id), this.isPlaying = !1);
}, e.prototype.setVolume = function(e) {
this.volume = e;
}, e.prototype.setAudioBus = function(e) {
this.audioBus = e;
}, e.prototype.applyVolumeFix = function() {
1 === this.volume ? s.nativeApi.setVideoVolume(this.id, .999) : 0 === this.volume && s.nativeApi.setVideoVolume(this.id, .001);
}, e.prototype.setLoop = function(e) {
this.loop = e;
}, e;
}();
t.Video = p, t.loadVideo = r, t.stopAll = o, t.stopUrl = a;
}, function(e, t, n) {
e.exports = n(267);
}, function(e, t, n) {
var r = n(344), o = n(21), a = n(50).gatewayClient, i = o.createClient({
throttle: 2e4,
request: function s(e) {
return a.request("Wallet.getWallet", {
game: e
});
},
parse: function l(e) {
return e;
},
update: function u(e, t, n) {
r.walletStore.updateWallet(n, e);
}
});
e.exports = i;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return O(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), d = n(1), h = s(d), y = n(6), g = s(y), m = n(7), b = n(5), v = s(b), _ = n(129), S = s(_), T = n(10), w = n(81), E = n(8), I = n(136), C = s(I), A = n(11), P = {
_$AssignmentFocusPane: {
displayName: "AssignmentFocusPane"
}
}, O = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/AssignmentFocusPane.jsx",
components: P,
locals: [],
imports: []
}), R = {
contentMargins: {
paddingLeft: 3 * g["default"].GUTTER,
paddingRight: 0
},
image: {
height: g["default"].getHeight(29),
textureMode: "contain",
marginBottom: g["default"].GUTTER
},
name: {
marginBottom: 2 * g["default"].GUTTER
},
nameSizing: {
flex: 2,
paddingRight: g["default"].GUTTER
},
dependencies: {
marginBottom: g["default"].GUTTER
},
dependencySpecContainer: {
flexDirection: "row",
justifyContent: "space-between",
marginBottom: 1.5 * g["default"].GUTTER
},
dependencyImage: {
textureMode: "contain",
height: g["default"].getHeight(2),
width: g["default"].getHeight(2),
marginRight: g["default"].GUTTER
},
criteriaSpecContainer: {
flexDirection: "row",
justifyContent: "space-between",
marginBottom: 1.5 * g["default"].GUTTER
},
criteriaText: {
color: "#EEEEEE",
width: 300
},
criteriaSpec: {
color: "#EEEEEE"
},
hrLine: {
height: 1,
backgroundColor: "#ffffff1a",
marginBottom: g["default"].GUTTER,
marginTop: g["default"].GUTTER
},
unlockImage: {
height: g["default"].getHeight(10),
textureMode: "contain",
marginBottom: g["default"].GUTTER
},
unlockItemName: {
textAlign: "center",
textAlignForRTL: "center"
},
unlockTitle: {
marginTop: g["default"].GUTTER,
marginBottom: g["default"].GUTTER
}
}, k = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.areDependenciesCompleted = function s() {
return v["default"].every(this.item.dependencies, function(e) {
return e.progression.unlocked;
});
}, t.prototype.renderDependencies = function l(e) {
var t = E.gameStore.getGame(this.props.gameId).expansions;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ v["default"].map(this.item.dependencies, function(n, o) {
var a = n.progression, i = a.acquired, s = a.needed, l = c({}, R.dependencyImage);
return "rank" === n.icon ? l.texture = A.bbUrl("/sparta/jsclient/builds/assets/icon-rank-dd34db7c.png") : "expansion" === n.icon ? l.texture = t[n.expansions[0].license] : l.texture = A.bbUrl("/sparta/jsclient/builds/assets/icon-prerequisite-62c37f63.png"), 
{
$$typeof: p,
type: "surface",
key: o,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: l
},
_owner: null
}, {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "S",
style: R.nameSizing,
value: n.name
}),
_owner: null
}, 1 === s || i >= s ? {
$$typeof: p,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
value: i
}),
_owner: null
} : {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "S",
value: w.formatThousands(i) + "/" + w.formatThousands(s)
}),
_owner: null
} ],
style: c({}, R.dependencySpecContainer, {
width: e
})
},
_owner: null
};
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: R.hrLine
},
_owner: null
} ],
style: R.dependencies
},
_owner: null
};
}, t.prototype.renderCriterias = function u(e) {
var t = {
opacity: this.areDependenciesCompleted() ? 1 : .5
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_REQUIREMENTS"),
size: "S",
type: "emphasis",
style: R.unlockTitle
}),
_owner: null
}, v["default"].map(this.item.criterias, function(t, n) {
var o = t.progression, a = o.acquired, i = o.needed, s = o.percent;
return {
$$typeof: p,
type: "surface",
key: n,
ref: null,
props: {
children: [ {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "S",
style: R.nameSizing,
value: t.name
}),
_owner: null
}, 1 === i || s >= 1 ? {
$$typeof: p,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
value: a
}),
_owner: null
} : {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "S",
value: w.formatThousands(a) + "/" + w.formatThousands(i)
}),
_owner: null
} ],
style: c({}, R.criteriaSpecContainer, {
width: e
})
},
_owner: null
};
}) ],
style: t
},
_owner: null
};
}, t.prototype.renderUnlocks = function d(e) {
if (!v["default"].isEmpty(this.item.unlocks)) {
var t = v["default"].map(this.item.unlocks, function(e) {
return v["default"].map(e, function(e, t) {
var n = {
texture: e.hires && e.hires.Png256xANY ? e.hires.Png256xANY : e.imageUrl
};
return "skin" === t ? n.textureMode = "cover" : "dogtag" !== t && (n.height = g["default"].getHeight(15)), 
{
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, R.unlockImage, n)
},
_owner: null
}, {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: e.name,
style: R.unlockItemName,
size: "S"
}),
_owner: null
} ]
},
_owner: null
};
});
});
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: R.hrLine
},
_owner: null
}, {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "S",
type: "emphasis",
value: __("ID_SPARTA_CAREER_REWARD").toUpperCase(),
style: R.unlockTitle
}),
_owner: null
}, t ]
},
_owner: null
};
}
}, t.prototype.renderFocusedItem = function h(e) {
var t = this.item.description && v["default"].isEmpty(this.item.unlocks);
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ R.image, {
texture: this.item.images.Small
}, this.props.imageStyle ]
},
_owner: null
}, {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "M",
type: "emphasis",
style: R.name,
value: this.item.name.toUpperCase()
}),
_owner: null
}, t && {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "S",
style: R.name,
value: this.item.description
}),
_owner: null
}, this.item.dependencies && this.renderDependencies(e), this.item.criterias && this.renderCriterias(e), this.item.unlocks && this.renderUnlocks(e) ]
},
_owner: null
};
}, t.prototype.render = function y() {
var e = this.item, t = this.props.widthGridCells, n = g["default"].getWidth(t) - R.contentMargins.paddingLeft;
return {
$$typeof: p,
type: g["default"].Col,
key: null,
ref: null,
props: r(g["default"].Col.defaultProps, {
children: e && this.renderFocusedItem(n),
width: t,
style: R.contentMargins
}),
_owner: null
};
}, f(t, [ {
key: "item",
get: function b() {
return this.props.selectionState.item;
}
} ]);
var n = t;
return t = i("_$AssignmentFocusPane")(t) || t, t = T.observer(t) || t;
}(h["default"].Component);
k.propTypes = {
item: h["default"].PropTypes.instanceOf(S["default"]),
widthGridCells: h["default"].PropTypes.number.isRequired
}, t["default"] = k, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return _(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e) {
return [ 1 - e[2], 1 - e[3], 1 - e[0], 1 - e[1] ];
}
var c = n(4), p = l(c);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = n(1), y = l(h), g = n(6), m = l(g), b = n(16), v = {
_$FlippingAwards: {
displayName: "FlippingAwards"
},
_$InlineAwards: {
displayName: "InlineAwards"
},
_$AwardEquipped: {
displayName: "AwardEquipped"
}
}, _ = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/AwardEquipped.jsx",
components: v,
locals: [],
imports: []
}), S = {
rect: {
width: m["default"].getWidth(3.3),
height: m["default"].getHeight(11),
marginLeft: -m["default"].getWidth(1.5)
},
square: {
marginTop: -m["default"].getHeight(6.5),
width: m["default"].getHeight(18),
height: m["default"].getHeight(18),
marginLeft: -m["default"].getWidth(.5)
}
}, T = {
inlineContainer: {
flexDirection: "row",
justifyContent: "center"
},
flippingTags: function P(e) {
return d({
position: "relative",
textureMode: "contain"
}, S[e]);
},
inlineTags: function O(e, t) {
var n = d({
position: "relative",
textureMode: "contain"
}, S[e]);
return n.marginLeft *= t, n;
},
inlineTagBasic: {
zOffset: 2,
rotateZ: 5
},
inlineTagAdvanced: {
zOffset: 1,
rotateZ: -10
}
}, w = [ .95, .05, .5, .95 ], E = u(w), I = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
tagIndex: 0
};
}
i(t, e), t.prototype.componentWillMount = function r() {
this.rotationTween = b.Animation.tween("0937bba9:79", 0);
}, t.prototype.componentDidMount = function o() {
var e = this;
SpartaGlobals.bundleIsPS4 || (this.initialFlipTimeoutId = setTimeout(function() {
return e.flip();
}, 1e3));
}, t.prototype.componentWillUnmount = function l() {
clearTimeout(this.initialFlipTimeoutId), this.rotationTween.destroy(), delete this.rotationTween;
}, t.prototype.flip = function u() {
var e = this;
return this.isFlipping ? !1 : (this.isFlipping = !0, void this.displayTag(0).then(function() {
return e.rotateTo(0, 90, w);
}).then(function() {
return e.displayTag(1);
}).then(function() {
return e.rotateTo(90, 0, E);
}).then(function() {
return e.wait(2e3);
}).then(function() {
return e.rotateTo(0, 90, w);
}).then(function() {
return e.displayTag(0);
}).then(function() {
return e.rotateTo(90, 0, E);
}).then(function() {
e.isFlipping = !1;
}));
}, t.prototype.displayTag = function c(e) {
var t = this;
return this.rotationTween ? new Promise(function(n) {
return t.setState({
tagIndex: e
}, n);
}) : Promise.resolve();
}, t.prototype.rotateTo = function p(e, t, n) {
var r = this;
return this.rotationTween ? new Promise(function(o) {
return r.rotationTween.transition(e, t, {
easing: n,
duration: 333
}, o);
}) : Promise.resolve();
}, t.prototype.wait = function h(e) {
return this.rotationTween ? new Promise(function(t) {
return setTimeout(t, e);
}) : Promise.resolve();
}, t.prototype.render = function y() {
var e = this, t = this.props.tags[this.state.tagIndex], n = d({}, T.flippingTags(this.props.size), {
rotateY: this.rotationTween.getStyle(),
texture: t && t.images ? t.images.Small : null
});
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: n,
onClick: function() {
return e.flip();
}
},
_owner: null
},
style: [ T.inlineContainer, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = s("_$FlippingAwards")(t) || t;
}(y["default"].Component), C = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = this, t = this.props.tags.map(function(t, n) {
var r = d({}, T.inlineTags(e.props.size, n), T["inlineTag" + t.tagType.name]);
return {
$$typeof: f,
type: "surface",
key: "tagEquipped" + t.tagType.name,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: {
texture: t.images.Small,
flex: 1,
textureMode: "contain"
}
},
_owner: null
},
style: r
},
_owner: null
};
});
return {
$$typeof: f,
type: m["default"].Col,
key: null,
ref: null,
props: o(m["default"].Col.defaultProps, {
children: t,
style: [ T.inlineContainer, this.props.style ]
}),
_owner: null
};
};
var n = t;
return t = s("_$InlineAwards")(t) || t;
}(y["default"].Component), A = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function o() {
var e = this.props, t = e.type, n = r(e, [ "type" ]);
switch (t) {
case "inline":
return y["default"].createElement(C, n);

case "flipping":
return y["default"].createElement(I, n);
}
};
var n = t;
return t = s("_$AwardEquipped")(t) || t;
}(y["default"].Component);
t["default"] = A, A.propTypes = {
type: y["default"].PropTypes.oneOf([ "inline", "flipping" ]),
size: y["default"].PropTypes.oneOf(Object.keys(S))
}, A.defaultProps = {
type: "inline",
size: "rect"
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), d = n(1), h = s(d), y = n(5), g = s(y), m = n(6), b = s(m), v = n(7), _ = n(10), S = n(37), T = n(11), w = n(81), E = n(70), I = s(E), C = n(30), A = {
_$VehicleFocusPane: {
displayName: "VehicleFocusPane"
}
}, P = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/VehicleFocusPane.jsx",
components: A,
locals: [],
imports: []
}), O = {
vehicleContainer: {
height: b["default"].getHeight(35)
},
vehicleName: {
marginBottom: b["default"].getHeight(2),
textAlignForRTL: "left"
},
vehicleImage: {
flexDirection: "row",
width: 256,
height: 100,
textureMode: "contain",
textureAlign: [ .5, .5 ],
marginBottom: 2 * b["default"].GUTTER
},
vehicleDescription: {
textLineSpacing: S.LINE_HEIGHTS.S,
marginBottom: 2 * b["default"].GUTTER,
textAlignForRTL: "left"
},
hrLine: {
height: 1,
backgroundColor: "#FFFFFF33",
marginTop: b["default"].getHeight(.5),
marginBottom: b["default"].getHeight(.5)
},
statsLine: {
flexDirection: "row",
justifyContent: "space-between",
marginBottom: b["default"].GUTTER,
alignItems: "center"
},
wideStatsTableKey: {
color: "#ffffff",
width: b["default"].getWidth(3)
},
starContainer: {
zOffset: 10,
flexDirection: "row",
alignItems: "center"
},
star: {
width: b["default"].getHeight(2),
height: b["default"].getHeight(2),
texture: T.bbOfflineUrl("/sparta/assets/ui/icons/ui/small-star-white-b3141b80.png"),
textureMode: "contain",
marginRight: b["default"].GUTTER / 2,
color: "#ff9900"
},
progressInfoWrapper: {
flexDirection: "row",
marginBottom: 2 * b["default"].GUTTER,
marginTop: 2 * b["default"].GUTTER
},
progressData: {
flex: 2,
textAlign: "right"
},
progressLabel: {
flex: 4
}
}, R = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.renderVehicle = function s() {
if (!this.item) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var e = C.isRTLLanguage() ? {
marginRight: b["default"].GUTTER
} : {}, t = !!this.item.vehicleStats;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ O.vehicleImage, {
texture: this.item.images.Small
} ]
},
_owner: null
}, {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: this.item.name,
style: O.vehicleName
}),
_owner: null
}, this.item.progression && !this.item.progression.unlocked && this.renderProgression(this.item.progression), this.item.description && {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
size: "S",
value: this.item.description,
style: c({}, O.vehicleDescription, e)
}),
_owner: null
}, t && this.item.vehicleStats && this.renderVehicleStats(this.item.vehicleStats), !t && this.item.stats && this.item.stats.values && this.renderStats(this.item.stats.values) ]
},
_owner: null
};
}, t.prototype.renderProgression = function l(e) {
var t = e.acquired + "/" + e.needed, n = null;
return this.item.category && (n = (this.item.category + " " + __("ID_SPARTA_CAREER_SCORE")).toLocaleUpperCase()), 
{
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {
width: b["default"].getWidth(this.props.widthGridCells),
height: "M",
backgroundColor: "#FFFFFF66",
completed: e.percent
}),
_owner: null
}, e.needed > 0 && {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: n,
size: "S",
style: O.progressLabel
}),
_owner: null
}, {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: t,
size: "S",
style: O.progressData
}),
_owner: null
} ],
style: O.progressInfoWrapper
},
_owner: null
} ]
},
_owner: null
};
}, t.prototype.renderStars = function u(e) {
var t = 100 === this.item.star.timesAquired, n = t ? "#ff9900" : "ffffff", o = {
star: c({}, O.star, {
color: n
}),
starNumber: {
color: n
}
}, a = c({}, O.statsLine, {
marginBottom: 0
}), i = t ? 100 : this.item.star.timesAquired, s = {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_STARS"),
size: "S"
}),
_owner: null
}, l = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: o.star
},
_owner: null
}, {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
style: o.starNumber,
value: "" + i,
size: "S",
gameId: this.props.gameId
}),
_owner: null
} ],
style: O.starContainer
},
_owner: null
}, u = e ? l : s, f = e ? s : l;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ u, f ],
style: a
},
_owner: null
};
}, t.prototype.renderStats = function d(e) {
var t = C.isRTLLanguage(), n = w.formatThousands(e.kills || 0), o = w.formatThousands(e.destroyed || 0), a = w.formatDecimals(e.seconds / 60, 1), i = [ {
name: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
value: n,
suffix: ""
}, {
name: __("ID_SPARTA_CAREER_DETAILS_DESTROYED"),
value: o,
suffix: ""
}, {
name: __("ID_SPARTA_CAREER_DETAILS_TIME_PLAYED"),
value: a,
suffix: __("ID_SPARTA_DATETIME_MIN")
} ], s = c({}, O.statsLine, {
marginBottom: 0
}), l = [];
return g["default"].map(i, function(e) {
var n = t ? e.value + " " + e.suffix : e.name, o = t ? e.name : e.value + " " + e.suffix, a = t ? null : O.wideStatsTableKey, i = t ? c({}, O.wideStatsTableKey, {
textAlignForRTL: "left"
}) : null;
l.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: O.hrLine
},
_owner: null
}), l.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: n,
size: "S",
style: a
}),
_owner: null
}, {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: o,
style: i,
size: "S"
}),
_owner: null
} ],
style: s
},
_owner: null
});
}), l.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: O.hrLine
},
_owner: null
}), this.item.star && (l.push(this.renderStars(t)), l.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: O.hrLine
},
_owner: null
})), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: l
},
_owner: null
};
}, t.prototype.renderVehicleStats = function h(e) {
var t = C.isRTLLanguage(), n = c({}, O.statsLine, {
marginBottom: 0
}), o = [];
return g["default"].map(e, function(a, i) {
var s = a.name, l = w.formatThousands(a.kills || 0), u = t ? l : s, f = t ? s : l, d = t ? null : O.wideStatsTableKey, h = t ? c({}, O.wideStatsTableKey, {
textAlignForRTL: "left"
}) : null, y = i === e.length - 1 ? "emphasis" : "normal";
o.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: O.hrLine
},
_owner: null
}), o.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: u,
type: y,
size: "S",
style: d
}),
_owner: null
}, {
$$typeof: p,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
value: f,
style: h,
type: y,
size: "S"
}),
_owner: null
} ],
style: n
},
_owner: null
});
}), o.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: O.hrLine
},
_owner: null
}), this.item.star && (o.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, O.hrLine, {
marginTop: b["default"].getHeight(2.5)
})
},
_owner: null
}), o.push(this.renderStars(t)), o.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: O.hrLine
},
_owner: null
})), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: o
},
_owner: null
};
}, t.prototype.render = function y() {
return {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: r(b["default"].Col.defaultProps, {
children: this.renderVehicle(),
width: this.props.widthGridCells
}),
_owner: null
};
}, f(t, [ {
key: "category",
get: function m() {
return this.props.selectionState.category;
}
}, {
key: "item",
get: function S() {
return this.props.selectionState.item;
}
} ]);
var n = t;
return t = i("_$VehicleFocusPane")(t) || t, t = _.observer(t) || t;
}(h["default"].Component);
t["default"] = R, R.defaultProps = {
widthGridCells: 7
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), d = n(1), h = s(d), y = n(3), g = n(6), m = s(g), b = n(7), v = n(10), _ = n(70), S = s(_), T = n(12), w = s(T), E = n(13), I = s(E), C = {
_$WeaponAccessories: {
displayName: "WeaponAccessories"
},
_$WeaponAccessoriesMatrix: {
displayName: "WeaponAccessoriesMatrix"
},
_$WeaponAccessoryItem: {
displayName: "WeaponAccessoryItem"
}
}, A = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/WeaponAccessories.jsx",
components: C,
locals: [],
imports: []
}), P = {
accessoryContainer: {
marginTop: m["default"].getHeight(4),
marginBottom: m["default"].getHeight(4)
},
accessoryList: {
marginBottom: m["default"].getHeight(4)
},
accessoriesRow: {
flexDirection: "row"
},
accessoryItem: {
flex: 1,
height: m["default"].getHeight(7),
marginRight: 1,
marginBottom: 1,
backgroundColor: "#00000050"
},
accessoryItemEmpty: {
flex: 1,
height: m["default"].getHeight(7),
marginRight: 1,
marginBottom: 1,
backgroundColor: "#00000000"
},
accessoryItemFocused: {
backgroundColor: "#ffffff33"
},
accessoryItemHovered: {
backgroundColor: "#ffffff"
},
accessoriesHeader: {
marginBottom: m["default"].getHeight(2)
},
accessoryItemBlurred: {},
accessoryItemImage: {
zOffset: 1,
position: "absolute",
left: 0,
top: 0,
right: 0,
bottom: 0,
textureMode: "contain"
},
accessoryItemProgressBar: {
position: "absolute",
bottom: 0,
left: 0,
right: 0
},
accessorySpacing: {
marginTop: m["default"].getHeight(1)
},
accessoryImage: {
height: m["default"].getHeight(20),
textureMode: "contain"
},
noLocalBounds: {
localBounds: !1
},
hrLine: {
height: 1,
backgroundColor: "#FFFFFF33",
marginTop: m["default"].getHeight(2),
marginBottom: m["default"].getHeight(2)
},
progressInfoWrapper: {
flexDirection: "row",
marginBottom: m["default"].GUTTER,
marginTop: m["default"].GUTTER
},
progressData: {
flex: 2,
textAlign: "right"
},
progressLabel: {
flex: 4
}
}, O = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.componentWillReceiveProps = function s(e) {
e.weaponName !== this.props.weaponName && this.accessoryState.setAccessory(null, -1, null);
}, t.prototype.onSelectAccessory = function l(e, t) {
this.accessoryState.setAccessory(e, t, this.props.title);
}, t.prototype.renderProgression = function u(e) {
if (e.unlocked || e.needed <= 1) return null;
var t = e.acquired + "/" + e.needed, n = this.props.weaponName + " " + __("ID_SPARTA_CAREER_KILLS").toLocaleUpperCase();
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
width: this.props.containerWidth,
height: "S",
completed: e.percent
}),
_owner: null
}, e.needed > 0 && {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: n,
size: "S",
style: P.progressLabel
}),
_owner: null
}, {
$$typeof: p,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: t,
size: "S",
style: P.progressData
}),
_owner: null
} ],
style: P.progressInfoWrapper
},
_owner: null
} ],
style: {
marginTop: m["default"].GUTTER
}
},
_owner: null
};
}, t.prototype.renderFocusedAccessory = function c() {
var e = this.accessoryState.item;
return h["default"].createElement("surface", {
ref: "accessoryDescription",
key: "focusedAccessory",
style: P.accessoryContainer
}, {
$$typeof: p,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: e.name,
size: "M",
type: "emphasis"
}),
_owner: null
}, this.renderProgression(e.progression), e.description && {
$$typeof: p,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: e.description,
size: "S",
style: P.accessorySpacing
}),
_owner: null
});
}, t.prototype.render = function d() {
for (var e = this, t = 3, n = this.props.containerWidth / t - 2, o = [], a = Math.ceil(this.props.accessories.length / t), i = 0; a > i; i++) {
for (var s = i * t, l = !1, u = [], c = function(t) {
var o = e.props.accessories.length > t ? e.props.accessories[t] : null, a = t === e.accessoryState.index && e.isAccessoryInHere;
o ? u.push({
$$typeof: p,
type: k,
key: t,
ref: null,
props: r(k.defaultProps, {
onSelect: function() {
e.onSelectAccessory(o, t);
},
onEscape: e.props.onEscape,
accessory: o,
isSelected: a,
width: n,
index: t
}),
_owner: null
}) : u.push({
$$typeof: p,
type: "surface",
key: t,
ref: null,
props: {
style: P.accessoryItemEmpty
},
_owner: null
}), a && (l = !0);
}, f = s; s + t > f; f++) c(f);
o.push({
$$typeof: p,
type: "surface",
key: "accessoriesRow" + i,
ref: null,
props: {
children: u,
style: [ P.accessoriesRow, P.noLocalBounds ]
},
_owner: null
}), l && o.push(this.renderFocusedAccessory());
}
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: P.hrLine
},
_owner: null
}, {
$$typeof: p,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
type: "emphasis",
size: "S",
value: this.props.title,
style: P.accessoriesHeader
}),
_owner: null
}, h["default"].createElement(R, {
ref: "accessoriesMatrix",
key: "accessories-" + this.props.weaponName,
style: P.accessoryList
}, o) ],
style: [ this.props.style, P.noLocalBounds ]
},
_owner: null
};
}, f(t, [ {
key: "accessoryState",
get: function y() {
return this.props.accessoryState;
}
}, {
key: "isAccessoryInHere",
get: function g() {
return this.accessoryState.ref === this.props.title;
}
} ]);
var n = t;
return t = i("_$WeaponAccessories")(t) || t, t = v.observer(t) || t;
}(h["default"].Component);
t["default"] = O;
var R = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function r() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: c({}, this.props.style, P.noLocalBounds)
},
_owner: null
};
};
var n = t;
return t = i("_$WeaponAccessoriesMatrix")(t) || t;
}(h["default"].Component), k = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = y.focus.create(this, "accessoryitem"), 
y.focus.onComponentUpdate(this, function(e, t) {
r.focusItem.debugName = "accessoryitem_" + e.index, e.input ? r.focusItem.setClickInput(e.input) : e.onSelect ? SpartaGlobals.bundleIsPC && r.focusItem.setClickInput(new I["default"]({
action: e.onSelect,
label: __("ID_SPARTA_ACTION_SELECT"),
key: w["default"].Accept
})) : console.warn("No action for accessoryitem " + e.index);
}), this.focusItem.onChange.listen(function(e) {
e && y.focus.system.controllerMode && t.onSelect();
});
}
a(t, e), t.prototype.render = function s() {
var e = this.props, t = e.isSelected, n = e.accessory, o = P.accessoryItemBlurred;
(this.focusItem.isFocused || t) && (o = this.focusItem.isFocused ? P.accessoryItemFocused : P.accessoryItemHovered);
var a = c({}, P.accessoryItemImage, {
texture: n.images.Small
}), i = -1 !== n.images.Small.indexOf("Lineart");
return t && !this.focusItem.isFocused && i && (a.color = "#000000"), o = c({}, o, {
opacity: n.progression.unlocked ? 1 : .33
}), h["default"].createElement("surface", c({}, this.focusItem.hooks, {
style: [ P.accessoryItem, o ]
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: a
},
_owner: null
}, {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
width: this.props.width,
height: "S",
style: P.accessoryItemProgressBar,
completed: n.progression.percent
}),
_owner: null
});
};
var n = t;
return t = i("_$WeaponAccessoryItem")(t) || t, t = v.observer(t) || t;
}(h["default"].Component);
e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(3), y = n(6), g = s(y), m = n(7), b = n(10), v = n(70), _ = s(v), S = n(11), T = n(12), w = s(T), E = n(13), I = s(E), C = n(8), A = {
_$WeaponItem: {
displayName: "WeaponItem"
}
}, P = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/WeaponItem.jsx",
components: A,
locals: [],
imports: []
}), O = {
box: {
height: g["default"].getHeight(13),
position: "relative"
},
focusedCard: {
backgroundColor: "#ffffff"
},
activeCard: {
backgroundColor: "#ffffff33"
},
blurredCard: {
backgroundColor: "#00000055"
},
progressBar: {
position: "absolute",
bottom: 0
},
image: {
zOffset: 1,
textureMode: "contain",
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
},
lockIcon: function k(e) {
return {
position: "absolute",
right: 5,
bottom: 6,
opacity: .66,
width: g["default"].getHeight(2),
height: g["default"].getHeight(2),
texture: S.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-lock-white-242e77e0.png"),
color: e ? "#000000" : "#ffffff"
};
},
starContainer: {
zOffset: 10,
flexDirection: "row",
position: "absolute",
left: g["default"].GUTTER,
bottom: g["default"].GUTTER - 1
},
star: {
width: g["default"].getHeight(2),
height: g["default"].getHeight(2),
texture: S.bbOfflineUrl("/sparta/assets/ui/icons/ui/small-star-white-b3141b80.png"),
textureMode: "contain",
marginRight: g["default"].GUTTER / 2,
color: "#ff9900"
},
starNumber: {
marginTop: -1
},
activeIndicator: {
position: "absolute",
width: 2,
top: 0,
bottom: 0,
left: 0,
backgroundColor: "#FFFFFF"
},
expansionIcon: {
textureMode: "contain",
height: g["default"].getHeight(2),
width: g["default"].getHeight(2),
position: "absolute",
left: 5,
top: 6
}
}, R = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = h.focus.create(this, "weaponitem"), 
h.focus.onComponentUpdate(this, function(e, t) {
r.focusItem.debugName = "weaponitem_" + e.awardImage, e.input ? r.focusItem.setClickInput(e.input) : e.onSelect && SpartaGlobals.bundleIsConsole ? r.focusItem.setClickInput(new I["default"]({
action: e.onSelect,
label: __("ID_SPARTA_ACTION_SELECT"),
key: w["default"].Accept
})) : e.onFocus && SpartaGlobals.bundleIsPC ? r.focusItem.setClickInput(new I["default"]({
action: e.onFocus,
label: __("ID_SPARTA_ACTION_SELECT"),
key: w["default"].Accept
})) : console.warn("No action for weaponitem " + e.awardImage);
}), this.focusItem.onChange.listen(function(e) {
e && h.focus.system.controllerMode && r.props.onFocus();
});
}
a(t, e), t.prototype.renderResourceIcon = function s() {
var e = C.gameStore.getGame(this.props.gameId).expansions, t = this.props, n = t.expansion, r = t.premium, o = null;
return r ? o = S.bbUrl("/sparta/jsclient/builds/assets/icon-p-shield-a91bad20.png") : n && e[n] && (o = e[n]), 
{
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, O.expansionIcon, {
texture: o
})
},
_owner: null
};
}, t.prototype.renderProgressBar = function l() {
return this.props.progression ? {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
height: "S",
width: this.props.style.width,
completed: this.props.progression.percent,
style: O.progressBar,
backgroundColor: "#00000066"
}),
_owner: null
} : {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
}, t.prototype.renderStars = function u(e) {
var t = this.props.star;
if (!t) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = 100 === t.timesAquired, o = e ? "#000000" : "#ffffff", a = n ? "#ff9900" : o, i = {
star: c({}, O.star, {
color: a
}),
starNumber: c({}, O.starNumber, {
color: a
})
}, s = n ? 100 : t.timesAquired;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: i.star
},
_owner: null
}, {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
style: i.starNumber,
value: "" + s,
size: "XS",
gameId: this.props.gameId
}),
_owner: null
} ],
style: O.starContainer
},
_owner: null
};
}, t.prototype.render = function f() {
var e = this.focusItem.isFocused || this.props.itemState.active, t = {
box: {
opacity: this.props.unlocked ? 1 : .33
},
image: {
color: this.props.unlocked && this.focusItem.isFocused ? "#000000" : null,
texture: this.props.image
}
}, n = O.blurredCard;
return e && (n = this.focusItem.isFocused ? O.focusedCard : O.activeCard), d["default"].createElement("surface", c({}, this.focusItem.hooks, {
style: [ O.box, this.props.style, n, t.box ]
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ O.image, t.image ]
},
_owner: null
}, this.props.expansion || this.props.premium ? this.renderResourceIcon() : null, this.renderStars(this.focusItem.isFocused), this.renderProgressBar(), !this.props.unlocked && {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: O.lockIcon(this.focusItem.isFocused)
},
_owner: null
});
};
var n = t;
return t = i("_$WeaponItem")(t) || t, t = b.observer(t) || t;
}(d["default"].Component);
t["default"] = R, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
s.merge(e), l.trigger(s.getState());
}
var o = n(15), a = n(392), i = n(26), s = new i("AssignmentStore"), l = o.createStore({
init: function u() {
a.listen(function(e, t, n) {
var o = {};
o[e] = {
data: t,
error: n
}, r(o);
});
},
getState: function c() {
return s.getState();
}
});
e.exports = l;
}, function(e, t, n) {
var r = n(5), o = n(680), a = o.transform(function(e) {
var t = {}, n = r.keys(e);
return r.each(n, function(n) {
var o = e[n];
t[n] = {
left: [],
right: []
};
var a = t[n];
r.each(o, function(e) {
var t = !1, n = !1;
r.each(e.items, function(r) {
"basic" === r.type.toLowerCase() ? (t || (a.left.push({
items: [],
name: e.name,
sortOrder: e.sortOrder
}), t = !0), a.left[a.left.length - 1].items.push(r)) : (n || (a.right.push({
items: [],
name: e.name,
sortOrder: e.sortOrder
}), n = !0), a.right[a.right.length - 1].items.push(r));
});
});
}), t;
});
e.exports = a;
}, function(e, t, n) {
function r(e) {
s.merge(e), l.trigger(s.getState());
}
var o = n(15), a = n(393), i = n(26), s = new i("DogtagStore"), l = o.createStore({
init: function u() {
a.listen(function(e, t) {
var n = {};
n[e] = t, r(n);
});
},
getState: function c() {
return s.getState();
}
});
e.exports = l;
}, function(e, t, n) {
function r(e) {
s.merge(e), l.trigger(s.getState());
}
var o = n(15), a = n(394), i = n(26), s = new i("KitStore"), l = o.createStore({
init: function u() {
a.listen(function(e, t, n) {
var o = {};
o[e] = {
data: t,
error: n
}, r(o);
});
},
getState: function c() {
return s.getState();
}
});
e.exports = l;
}, function(e, t, n) {
function r(e) {
s.merge(e), l.trigger(s.getState());
}
var o = n(15), a = n(395), i = n(26), s = new i("KitWeapon"), l = o.createStore({
init: function u() {
a.listen(function(e, t) {
var n = {};
n[e] = t, r(n);
});
},
getState: function c() {
return s.getState();
}
});
e.exports = l;
}, function(e, t, n) {
function r(e) {
s.merge(e), l.trigger(s.getState());
}
var o = n(15), a = n(397), i = n(26), s = new i("StatsStore"), l = o.createStore({
init: function u() {
a.listen(function(e, t) {
var n = {};
n[e] = t, r(n);
});
},
getState: function c() {
return s.getState();
}
});
e.exports = l;
}, function(e, t, n) {
function r(e) {
s.merge(e), l.trigger(s.getState());
}
var o = n(15), a = n(398), i = n(26), s = new i("VehicleStore"), l = o.createStore({
init: function u() {
a.listen(function(e, t) {
var n = {};
n[e] = t, r(n);
});
},
getState: function c() {
return s.getState();
}
});
e.exports = l;
}, function(e, t, n) {
function r(e) {
l.merge(e), u.trigger(l.getState());
}
var o = n(15), a = n(213), i = a.WeaponClient, s = n(26), l = new s("WeaponStore"), u = o.createStore({
init: function c() {
i.listen(function(e, t, n) {
var o = {};
o[e] = {
data: t,
error: n
}, r(o);
});
},
getState: function p() {
return l.getState();
}
});
e.exports = u;
}, function(e, t) {
function n(e) {
e.name && (this.name = e.name), e.progression && (this.progression = e.progression), 
e.weapons && (this.items = e.weapons), e.images && (this.images = e.images);
}
e.exports = n;
}, function(e, t) {
function n(e) {
this.images = e.images || {}, this.id = e.id, e.name && (this.name = e.name), e.stats && (this.stats = e.stats), 
e.progression && (this.progression = e.progression), e.star && (this.star = e.star), 
e.packages && (this.packages = e.packages), e.description && (this.description = e.description);
}
e.exports = n;
}, function(e, t) {
function n(e) {
e.name && (this.name = e.name), this.images = e.images || {}, e.items && (this.items = e.items), 
e.star && (this.star = e.star), this.stats = e.stats || {}, e.vehicles && (this.vehicles = e.vehicles), 
e.sortOrder && (this.sortOrder = e.sortOrder);
}
t.__esModule = !0, t["default"] = n, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return $(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), f = n(1), d = s(f), h = n(28), y = s(h), g = n(14), m = s(g), b = n(27), v = s(b), _ = n(128), S = s(_), T = n(269), w = s(T), E = n(102), I = s(E), C = n(99), A = n(64), P = s(A), O = n(394), R = s(O), k = n(681), x = s(k), M = n(17), N = s(M), D = n(46), U = s(D), L = {
_$CareerKits: {
displayName: "CareerKits"
}
}, $ = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerKits.jsx",
components: L,
locals: [],
imports: []
}), G = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.selectionState = new C.CareerSelectionState();
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this.gameId;
this.subscribeToStores({
kits: y["default"](x["default"], e, "data"),
error: y["default"](x["default"], e, "error")
});
}, t.prototype.componentDidMount = function l() {
R["default"].trigger(this.gameId);
}, t.prototype.renderItem = function u(e, t, n, r, o) {
var a = t.getUnlockProgression() || t.progression, i = !1;
return a && (a.unlocked ? i = !0 : "GADGET" !== t.category && (0 === a.needed ? i = !0 : a.acquired / a.needed > .25 && (i = !0))), 
d["default"].createElement(S["default"], {
awardImage: t.images.Small,
style: e,
stages: t.stages,
ref: "item" + n,
dependencies: t.dependencies,
itemState: this.selectionState.getItemState(n),
checked: t.equipped,
unlocked: i,
activeColor: "#000000",
dependencyAcquired: a && a.acquired,
dependencyNeeded: a && a.needed,
progressPercent: a && (a.percent || a.unlocked),
expansion: t.expansion,
hideAwardCount: !0,
gameId: this.gameId,
onSelect: r,
onFocus: o
});
}, t.prototype.renderFocusPane = function f(e, t, n) {
return d["default"].createElement(w["default"], {
ref: "focuspane",
selectionState: this.selectionState,
category: n,
widthGridCells: e,
isGadget: !0,
gameId: this.gameId
});
}, t.prototype.render = function h() {
var e = this.state, t = e.kits, n = e.error, o = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
return o = n || t && 0 === t.length ? {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
text: __("ID_SPARTA_CAREER_ERROR_LOADING_KITS"),
subText: __("ID_SPARTA_CAREER_ERROR_LOADING_KITS_MESSAGE")
}),
_owner: null
} : null == t ? {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
children: {
$$typeof: c,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
autoRun: !0,
size: 50
}),
_owner: null
}
}),
_owner: null
} : {
$$typeof: c,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {
hasCategories: !0,
categoryInFocusPane: !0,
preSelectedId: this.props.viewLocation.args.id,
preSelectedCategory: this.props.viewLocation.args.category,
gameId: this.gameId,
categorizedData: t,
selectionState: this.selectionState,
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this)
}),
_owner: null
}, {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: o,
style: {
height: N["default"].content.height
}
},
_owner: null
},
tallContent: !0,
scrollContent: !1
}),
_owner: null
};
}, p(t, [ {
key: "gameId",
get: function g() {
return this.props.viewLocation.args.gameId;
}
} ]);
var n = t;
return t = i("_$CareerKits")(t) || t, t = m["default"]()(t) || t;
}(d["default"].Component);
t["default"] = G, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return Z(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = e.heading, n = e.value, o = e.valueElement, a = e.small, i = void 0 === a ? !1 : a, s = e.size, l = void 0 === s ? i ? "S" : "XL" : s;
return function() {
var e = i, a = i ? _["default"].GUTTER : 2 * _["default"].GUTTER;
"number" == typeof n && (n = q.formatThousands(n)), o || (o = {
$$typeof: f,
type: G.Text,
key: null,
ref: null,
props: r(G.Text.defaultProps, {
value: n + ""
}),
_owner: null
}), o = m["default"].cloneElement(o, {
size: l,
style: ne.statsValue
});
var s = d({}, ne.statsItem, {
alignItems: e ? "center" : "flex-start"
}), u = d({}, ne.statsHeading, {
marginBottom: a
});
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: G.Text,
key: null,
ref: null,
props: r(G.Text.defaultProps, {
value: t.toUpperCase(),
style: u,
size: "XS"
}),
_owner: null
}, o ],
style: s
},
_owner: null
};
}();
}
function u(e) {
var t = e.stats;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: _["default"].Row,
key: null,
ref: null,
props: r(_["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
heading: __("ID_SPARTA_CAREER_DETAILS_WINS"),
value: t.winPercentage + "%"
}),
_owner: null
}, {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
heading: __("ID_SPARTA_CAREER_TIME"),
valueElement: {
$$typeof: f,
type: B["default"],
key: null,
ref: null,
props: r(B["default"].defaultProps, {
timePlayed: t.timePlayed,
unit: "hours"
}),
_owner: null
}
}),
_owner: null
}, {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
heading: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
value: t.kills
}),
_owner: null
} ],
style: ne.statsRow
}),
_owner: null
}, {
$$typeof: f,
type: _["default"].Row,
key: null,
ref: null,
props: r(_["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
heading: __("ID_SPARTA_CAREER_DETAILS_SPM"),
value: t.spm
}),
_owner: null
}, {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
heading: __("ID_SPARTA_CAREER_DETAILS_KPM"),
value: t.kpm
}),
_owner: null
}, {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
heading: __("ID_SPARTA_CAREER_DETAILS_KD"),
value: t.kdRatio
}),
_owner: null
} ],
style: d({}, ne.statsRow, {
marginBottom: 0
})
}),
_owner: null
} ],
style: ne.statsSummary
},
_owner: null
};
}
var c = n(4), p = s(c);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = n(5), y = s(h), g = n(1), m = s(g), b = n(3), v = n(6), _ = s(v), S = n(162), T = s(S), w = n(8), E = n(135), I = s(E), C = n(69), A = n(55), P = n(315), O = s(P), R = n(127), k = n(18), x = s(k), M = n(14), N = s(M), D = n(13), U = s(D), L = n(12), $ = s(L), G = n(7), F = n(230), B = s(F), j = n(27), H = s(j), V = n(17), z = s(V), W = n(16), q = n(81), K = n(67), X = s(K), Y = n(376), J = n(10), Q = {
_$GameCard: {
displayName: "GameCard"
},
_$CareerOverview: {
displayName: "CareerOverview"
}
}, Z = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerOverview.jsx",
components: Q,
locals: [],
imports: []
}), ee = {
position: "absolute",
bottom: 0,
left: 0,
right: 0
}, te = z["default"].content.height - z["default"].tallContent.height;
SpartaGlobals.bundleIsPC && (te *= .66);
var ne = {
leftContainer: {
width: _["default"].getWidth(8),
height: te,
marginRight: _["default"].getWidth(1) + 2 * _["default"].GUTTER
},
cardCarousel: {
width: _["default"].getWidth(15),
height: te
},
card: {
width: _["default"].getWidth(5),
height: te
},
cardLogo: {
width: _["default"].getWidth(3),
height: _["default"].getHeight(4),
marginBottom: _["default"].getHeight(4),
textureMode: "contain"
},
cardContent: {
flex: 1,
alignItems: "center",
justifyContent: "center"
},
cardBadgeContainer: {
height: _["default"].getHeight(10),
margin: 2 * _["default"].GUTTER,
zOffset: 40
},
cardStats: d({
zOffset: 1e3,
padding: _["default"].getWidth(.5)
}, ee),
sellText: {
marginTop: -_["default"].getHeight(2)
},
avatar: {
width: _["default"].getWidth(3),
height: _["default"].getWidth(3),
backgroundColor: "#ffffff11"
},
userName: {
marginTop: 3 * _["default"].GUTTER,
marginBottom: _["default"].getHeight(10)
},
statsSummary: d({}, ee),
statsRow: {
marginBottom: _["default"].getHeight(4)
},
statsItem: {
flex: 1,
marginRight: _["default"].GUTTER
},
statsHeading: {
color: "#888888",
marginBottom: 2 * _["default"].GUTTER
},
statsValue: {
color: "#ffffff"
}
}, re = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = b.focus.create(this, "gamecard"), 
this.focusItem.autoFocusCandidate = !0, b.focus.onComponentUpdate(this, function(e, t) {
r.focusItem.setActive("46268e4b:123", r.areLinksEnabled(e));
});
}
a(t, e), t.prototype.areLinksEnabled = function s(e) {
return e.game.isEnabled;
}, t.prototype.render = function u() {
var e = this.props, t = e.game, n = e.stats, o = e.isOwned, a = this.areLinksEnabled(this.props) && [ new U["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: $["default"].Accept,
action: o ? function() {
return x["default"].gotoLocation(t.startRoute + "/soldier");
} : function() {
return x["default"].gotoLocation(t.storeConfig.route);
}
}) ], i = n && {
$$typeof: f,
type: _["default"].Row,
key: null,
ref: null,
props: r(_["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
small: !0,
heading: __("ID_SPARTA_CAREER_DETAILS_WINS"),
value: n.winPercentage + "%"
}),
_owner: null
}, {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
small: !0,
heading: __("ID_SPARTA_CAREER_TIME"),
valueElement: {
$$typeof: f,
type: B["default"],
key: null,
ref: null,
props: r(B["default"].defaultProps, {
timePlayed: n.timePlayed,
unit: "hours"
}),
_owner: null
}
}),
_owner: null
}, {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
small: !0,
heading: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
value: n.kills
}),
_owner: null
} ],
style: ne.cardStats
}),
_owner: null
}, s = {
$$typeof: f,
type: O["default"],
key: null,
ref: null,
props: r(O["default"].defaultProps, {
gameId: t.gameId,
badgeSize: ne.cardBadgeContainer.height,
align: t.styles.alignBadgeInfo,
bottomInfoScale: 1,
skipAnimation: !0
}),
_owner: null
};
t.isEnabled ? o || (s = {
$$typeof: f,
type: G.Text,
key: null,
ref: null,
props: r(G.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_CARD_GETITNOW").toUpperCase(),
size: "S",
section: t.gameId,
style: ne.sellText
}),
_owner: null
}) : s = {
$$typeof: f,
type: G.Text,
key: null,
ref: null,
props: r(G.Text.defaultProps, {
value: __("ID_SPARTA_MENU_DISABLED_LABEL").toUpperCase(),
size: "S",
section: t.gameId,
style: ne.sellText
}),
_owner: null
};
var u = d({}, ne.card, {
opacity: W.Animation.tweenSwitch(o ? 1 : .5, 1, this.focusItem.isFocused, W.Animation.presets.focusables.enter.fast, W.Animation.presets.focusables.leave)
});
return {
$$typeof: f,
type: A.BasicCard,
key: null,
ref: null,
props: r(A.BasicCard.defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: d({}, ne.cardLogo, {
texture: t.logoUrl
})
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: s,
style: ne.cardBadgeContainer
},
_owner: null
}, i ],
style: ne.cardContent
},
_owner: null
},
enabled: o && t.isEnabled,
useGrayScale: !(o && t.isEnabled),
background: t.tallCardImage.normal,
input: a,
style: u,
focusItem: this.focusItem
}),
_owner: null
};
};
var n = t;
return t = i("_$GameCard")(t) || t, t = J.observer(t) || t;
}(m["default"].Component), oe = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.fetchCareer();
}, t.prototype.componentWillUpdate = function l(e, t) {
this.fetchCareer(t);
}, t.prototype.fetchCareer = function c() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? this.state : arguments[0];
if (w.gameStore.games && e.entitlements) {
var t = y["default"].compact(y["default"].map(w.gameStore.games.toJS(), function(t, n) {
var r = e.entitlements.ownsGame(n);
return r ? n : null;
}));
Y.careerFetchingState.addGamesToFetch(t);
}
}, t.prototype.render = function p() {
var e = this, t = w.onlineState.sessionUser || new R.User(), n = this.state.career || {}, o = y["default"].map(w.gameStore.games.toJS(), function(t, o) {
var a = e.state.entitlements.ownsGame(o), i = n.gameStats[o];
return {
$$typeof: f,
type: re,
key: o,
ref: null,
props: r(re.defaultProps, {
game: t,
stats: i,
isOwned: a
}),
_owner: null
};
}), a = n.stats && {
$$typeof: f,
type: u,
key: null,
ref: null,
props: r(u.defaultProps, {
stats: this.state.career.stats
}),
_owner: null
};
return {
$$typeof: f,
type: H["default"],
key: null,
ref: null,
props: r(H["default"].defaultProps, {
children: {
$$typeof: f,
type: _["default"].Row,
key: null,
ref: null,
props: r(_["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {
user: t,
style: ne.avatar
}),
_owner: null
}, {
$$typeof: f,
type: G.Text,
key: null,
ref: null,
props: r(G.Text.defaultProps, {
value: t.displayName,
style: ne.userName,
size: "L",
type: "emphasis"
}),
_owner: null
}, a ],
style: ne.leftContainer
},
_owner: null
}, {
$$typeof: f,
type: C.CardCarousel,
key: null,
ref: null,
props: r(C.CardCarousel.defaultProps, {
children: o,
style: ne.cardCarousel,
width: ne.cardCarousel.width
}),
_owner: null
} ],
style: {
flex: 1
}
}),
_owner: null
},
tallContent: !0,
clipContent: !1
}),
_owner: null
};
};
var n = t;
return t = i("_$CareerOverview")(t) || t, t = N["default"]({
career: T["default"],
entitlements: X["default"]
})(t) || t, t = J.observer(t) || t;
}(m["default"].Component);
t["default"] = oe, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return L(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), f = n(1), d = s(f), h = n(14), y = s(h), g = n(27), m = s(g), b = n(269), v = s(b), _ = n(677), S = s(_), T = n(102), w = s(T), E = n(99), I = n(28), C = s(I), A = n(64), P = s(A), O = n(17), R = s(O), k = n(46), x = s(k), M = n(213), N = n(8), D = n(246), U = {
_$CareerWeapons: {
displayName: "CareerWeapons"
}
}, L = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerWeapons.jsx",
components: U,
locals: [],
imports: []
}), $ = n(685), G = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.selectionState = new E.CareerSelectionState();
}
a(t, e), t.prototype.componentWillMount = function s() {
this.subscribeToStores({
weapons: C["default"]($, this.gameId, "data"),
error: C["default"]($, this.gameId, "error")
});
}, t.prototype.componentDidMount = function l() {
M.WeaponClient.trigger(this.gameId);
}, t.prototype.updateAccessories = function u(e, t) {
var n = e.code;
!D.weaponAccessoriesStore.weaponAccessories.has(n) && N.gameStore.getGame(this.gameId).soldierConfig.showAccessoriesForWeapons && (e.accessories || M.AccessoriesClient.trigger(this.gameId, n)), 
t && t();
}, t.prototype.renderItem = function f(e, t, n, r, o) {
var a = this, i = t.progression.unlocked ? t.progression : t.getUnlockProgression() || t.progression;
return d["default"].createElement(S["default"], {
gameId: this.gameId,
style: e,
image: t.images.Small,
ref: "item" + n,
star: t.star,
progression: i,
itemState: this.selectionState.getItemState(n),
unlocked: i && i.unlocked,
onSelect: function() {
return a.updateAccessories(t, r);
},
expansion: t.expansion,
premium: t.premium,
onFocus: function() {
return a.updateAccessories(t, o);
}
});
}, t.prototype.renderFocusPane = function h(e, t) {
return d["default"].createElement(v["default"], {
ref: "focuspane",
widthGridCells: e,
onEscape: t,
canShowAccessories: !0,
selectionState: this.selectionState,
gameId: this.gameId
});
}, t.prototype.render = function g() {
var e = this.state, t = e.weapons, n = e.error, o = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
return o = n || t && 0 === t.length ? {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
text: __("ID_SPARTA_CAREER_ERROR_LOADING_WEAPONS"),
subText: __("ID_SPARTA_CAREER_ERROR_LOADING_WEAPONS_MESSAGE")
}),
_owner: null
} : null == t ? {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
children: {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
autoRun: !0,
size: 50
}),
_owner: null
}
}),
_owner: null
} : d["default"].createElement(w["default"], {
gameId: this.gameId,
preSelectedId: this.props.viewLocation.args.id,
ref: "careerSection",
selectionState: this.selectionState,
categorizedData: t,
allowSelect: !0,
preSelectedCategory: this.props.viewLocation.args.category,
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this)
}), {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: o,
style: {
height: R["default"].content.height
}
},
_owner: null
},
tallContent: !0,
scrollContent: !1
}),
_owner: null
};
}, p(t, [ {
key: "gameId",
get: function b() {
return this.props.viewLocation.args.gameId;
}
} ]);
var n = t;
return t = i("_$CareerWeapons")(t) || t, t = y["default"]()(t) || t;
}(d["default"].Component);
t["default"] = G, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return B(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(10), y = n(14), g = s(y), m = n(27), b = s(m), v = n(269), _ = s(v), S = n(128), T = s(S), w = n(102), E = s(w), I = n(99), C = n(7), A = n(6), P = s(A), O = n(70), R = s(O), k = n(64), x = s(k), M = n(17), N = s(M), D = n(11), U = n(46), L = s(U), $ = n(81), G = n(344), F = {
_$CareerWeaponsGadgets: {
displayName: "CareerWeaponsGadgets"
}
}, B = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerWeaponsGadgets.jsx",
components: F,
locals: [],
imports: []
}), j = n(395), H = n(672), V = n(682), z = {
header: {
flex: 1,
flexDirection: "row",
alignItems: "center",
justifyContent: "flex-end"
},
headerText: {
marginRight: P["default"].GUTTER
},
warBond: {
texture: D.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-warbonds-d313ce05.png"),
height: P["default"].getHeight(3),
width: P["default"].getHeight(3),
marginRight: P["default"].GUTTER,
marginLeft: P["default"].GUTTER
}
}, W = {
container: {
flexDirection: "row",
alignItems: "center",
marginBottom: 2 * P["default"].GUTTER
},
rankImage: {
width: 3 * P["default"].GUTTER,
height: 3 * P["default"].GUTTER,
marginRight: P["default"].GUTTER
},
text: {
marginRight: P["default"].GUTTER
},
progressBar: {
texture: D.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
marginRight: P["default"].GUTTER,
marginTop: 2
},
arrowImage: {
width: 1.5 * P["default"].GUTTER * .4,
height: 1.5 * P["default"].GUTTER,
texture: D.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-kitrank-progress-a5192751.png"),
marginRight: P["default"].GUTTER
},
progressText: {
marginLeft: P["default"].GUTTER
}
}, q = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.selectionState = new I.CareerSelectionState();
}
a(t, e), t.prototype.componentDidMount = function s() {
j.trigger(this.props.viewLocation.args.gameId), H.trigger(this.props.viewLocation.args.gameId);
}, t.prototype.renderCategoryInfo = function l(e) {
if (!e || !e.progression) return null;
var t = 50, n = e.progression, o = n.left / n.right, a = e.images && {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, W.rankImage, {
texture: e.images.white
})
},
_owner: null
}, i = n.rank < t && [ {
$$typeof: p,
type: "surface",
key: "arrow",
ref: null,
props: {
style: W.arrowImage
},
_owner: null
}, {
$$typeof: p,
type: C.Text,
key: "nextRank",
ref: null,
props: r(C.Text.defaultProps, {
size: "S",
value: "" + (n.rank + 1),
style: W.text
}),
_owner: null
} ], s = $.formatThousands(n.left) + "/" + $.formatThousands(n.right), l = n.rank < t && [ {
$$typeof: p,
type: C.Text,
key: null,
ref: null,
props: r(C.Text.defaultProps, {
size: "S",
value: s,
style: [ W.text, W.progressText ]
}),
_owner: null
} ], u = n.rank < t && [ {
$$typeof: p,
type: R["default"],
key: null,
ref: null,
props: r(R["default"].defaultProps, {
backgroundColor: "#ffffff01",
width: P["default"].getWidth(2),
height: "L",
padding: 3,
barColor: "#ffffff",
borderRadius: [ 1, 1, 1, 1 ],
completed: o,
style: W.progressBar
}),
_owner: null
} ];
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: p,
type: C.Text,
key: null,
ref: null,
props: r(C.Text.defaultProps, {
size: "S",
value: "" + n.rank,
style: W.text
}),
_owner: null
}, u, i, l ],
style: W.container
},
_owner: null
};
}, t.prototype.renderItem = function u(e, t, n, r, o) {
return d["default"].createElement(T["default"], {
gameId: this.props.viewLocation.args.gameId,
style: e,
awardImage: t.images.Png256xANY,
ref: "item" + n,
activeColor: "#000000",
star: t.star,
itemState: this.selectionState.getItemState(n),
unlocked: t.progression ? t.progression.unlocked : !1,
showLockIcon: !0,
progressPercent: t.progression.unlocked ? null : t.getUnlockProgression(),
onSelect: r,
onFocus: o
});
}, t.prototype.renderFocusPane = function f(e, t) {
return d["default"].createElement(_["default"], {
ref: "focuspane",
widthGridCells: e,
onEscape: t,
selectionState: this.selectionState,
gameId: this.props.viewLocation.args.gameId
});
}, t.prototype.renderHeader = function y() {
var e = __("ID_SPARTA_TUNGUSKA_WARBONDS"), t = G.walletStore.getWallet(this.props.viewLocation.args.gameId), n = t && t.getValueOf("cash");
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: C.Text,
key: null,
ref: null,
props: r(C.Text.defaultProps, {
size: "S",
value: e.toUpperCase(),
style: z.headerText
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: z.warBond
},
_owner: null
}, {
$$typeof: p,
type: C.Text,
key: null,
ref: null,
props: r(C.Text.defaultProps, {
size: "S",
value: $.formatThousands(n),
type: "emphasis"
}),
_owner: null
} ],
style: z.header
},
_owner: null
};
}, t.prototype.render = function m() {
var e = this.state.kits[this.props.viewLocation.args.gameId] || [], t = null;
return t = 0 === e.length ? {
$$typeof: p,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
children: {
$$typeof: p,
type: L["default"],
key: null,
ref: null,
props: r(L["default"].defaultProps, {
autoRun: !0,
size: 50
}),
_owner: null
}
}),
_owner: null
} : {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
hasCategories: !0,
gameId: this.props.viewLocation.args.gameId,
preSelectedId: this.props.viewLocation.args.id,
preSelectedCategory: this.props.viewLocation.args.category,
categorizedData: e,
sortCategoriesByLabel: !1,
selectionState: this.selectionState,
rowItemLength: 4,
renderCategoryInfo: this.renderCategoryInfo.bind(this),
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this)
}),
_owner: null
}, {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: {
height: N["default"].content.height
}
},
_owner: null
},
tallContent: !0,
scrollContent: !1,
header: this.renderHeader()
}),
_owner: null
};
};
var n = t;
return t = i("_$CareerWeaponsGadgets")(t) || t, t = g["default"]({
kits: V
})(t) || t, t = h.observer(t) || t;
}(d["default"].Component);
t["default"] = q, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
e.exports = n(545);
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = w.getResumablePurchasesClient.request({
games: [ e ],
categories: [ "rsp" ]
});
t.onSuccess(function() {
var t = T.rspPurchaseStore.getType(e, "Pending");
t instanceof Array && t.forEach(function(e) {
w.completePendingPurchaseClient.request({
game: e.game,
productId: "",
purchaseId: e.purchaseId,
transactionId: e.purchaseId,
result: "completed",
pinData: null
});
});
});
}
function a() {
return E.gameStore.games.values().filter(function(e) {
return e.rspConfig && e.rspConfig.isEnabled();
});
}
var i = n(3), s = n(9), l = n(49), u = r(l), c = n(411), p = r(c), f = n(19), d = r(f), h = n(60), y = r(h), g = n(78), m = r(g), b = n(36), v = r(b), _ = n(35), S = r(_), T = n(248), w = n(142), E = n(8), I = n(24), C = r(I), A = n(43), P = r(A), O = n(112), R = n(181), k = r(R), x = n(358);
e.exports = function() {
i.frostbite.registerMessageListener("sparta.commerceStatusMessage", function(e, t) {
var n = p["default"].get(t.jobId);
n && u["default"].checkoutStatus(t, n);
}), u["default"].showUnavailableStore.listen(function() {
SpartaGlobals.bundleIsPS4 && i.frostbite.sendMessage("sparta.orbis.showUnavailableStore");
}), u["default"].purchasePsPlus.listen(function() {
if (SpartaGlobals.bundleIsPS4) {
i.frostbite.sendMessage("sparta.orbis.purchasePsPlus");
var e = i.frostbite.registerMessageListener("sparta.commerceStatusMessage", function(t, n) {
e(), n.status === n.CHECKOUT_COMPLETED && m["default"].connect();
var r = v["default"].getState();
if (r.delayedGameInvite) if (n.status === n.CHECKOUT_COMPLETED) !function() {
var e = s.reaction(function() {
return E.onlineState.isOnlineBlazeAndGateway;
}, function(t) {
if (t) {
e();
var n = new O.SpartaUserId(r.delayedGameInvite.friendUserId), o = d["default"].getState().hostingGameId;
S["default"].joinFriend(new x.JoinMultiplayerFriendOptions(n, o)), S["default"].setDelayedGameInvite(null);
}
}, !0);
}(); else {
S["default"].setDelayedGameInvite(null);
var o = new k["default"]({
resultType: R.JoinResultType.noMultiplayerPrivilege
});
y["default"].spartaErrorMessage(o.toHumanReadable(), o.getTitle());
}
});
}
}), C["default"].onSessionEstablished.listen(function() {
a().forEach(function(e) {
var t = e.gameId;
o(t);
});
}), u["default"].checkoutCompleted.listen(function(e, t) {
"rsp" === t.group ? o(t.gameId) : ("shortcuts" === t.group || "game" === t.group) && P["default"].refreshCareer();
});
};
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return M(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e, t) {
return function(n) {
return e(n, t);
};
}
var c = n(4), p = l(c);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(3), h = r(d), y = n(1), g = l(y), m = n(7), b = n(22), v = l(b), _ = n(6), S = l(_), T = n(348), w = n(18), E = l(w), I = n(42), C = l(I), A = n(25), P = l(A), O = n(8), R = n(46), k = l(R), x = {
_$PopupSuccess: {
displayName: "PopupSuccess"
}
}, M = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/components/PopupSuccess.jsx",
components: x,
locals: [],
imports: []
}), N = {
header: SpartaGlobals.bundleIsConsole ? "XL" : "XXL",
heading: SpartaGlobals.bundleIsConsole ? "S" : "M",
text: SpartaGlobals.bundleIsConsole ? "S" : "M",
subtext: SpartaGlobals.bundleIsConsole ? "XS" : "S",
fineprint: SpartaGlobals.bundleIsConsole ? "XXS" : "S"
}, D = n(117), U = SpartaGlobals.bundleIsPC ? 1 : .75, L = 33.3 * U, $ = 99 * U, G = "commerce/store/access", F = {
container: {
marginTop: S["default"].getHeight(.3 * $),
width: S["default"].getWidth(.6 * L),
alignItems: "center",
alignSelf: "center"
},
buttonContainer: {
paddingBottom: 30,
width: S["default"].getWidth(.3 * L)
},
header: {
alignItems: "center",
marginBottom: 30
},
text: {
alignItems: "center",
marginBottom: 30
},
fineprint: {
alignItems: "center",
marginBottom: 30
},
spinnerContainer: {
alignItems: "center",
position: "absolute",
top: S["default"].getHeight($ / 2),
marginTop: 20,
left: 0,
right: 0,
bottom: 0
}
}, B = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.copy = D.getCopyPage("notifications"), this.state = {
offersLoaded: !1
}, this.gameId = D.getProperty(O.layoutStateStore, "current.config.gameId"), this.startRoute = O.gameStore.getGame(this.gameId).startRoute;
var r = {
component: this
};
T.OfferClient.request({
gameIds: [ "access" ]
}).then(T.OfferClient.parse).then(u(this.createOffersMap, r));
}
i(t, e), t.prototype.createOffersMap = function r(e, t) {
var n = D.getProperty(e, "offers.access") || [], r = null;
n && n.length > 0 && (r = n), t.component.setState({
offers: r,
offersLoaded: !0
});
}, t.prototype.actionPrimary = function l() {
P["default"].close("confirmPurchasePopup"), this.props.onClose && this.props.onClose();
try {
var e = D.getProperty(this.copy, "welcomeToAccess.button.actionGoto"), t = D.getProperty(this.copy, "welcomeToAccess.button.actionDynamicGoto"), n = t || e;
if (n) this.handleButtonGoto(n); else {
var r = this.state.offers[0].offerId;
this.openGDPPage(r);
}
} catch (o) {
E["default"].gotoLocation(G);
}
}, t.prototype.actionClose = function c() {
P["default"].close("confirmPurchasePopup"), this.props.onClose && this.props.onClose();
var e = D.getProperty(this.copy, "welcomeToAccess.button.cancelGoto"), t = D.getProperty(this.copy, "welcomeToAccess.button.cancelDynamicGoto"), n = t || e;
this.handleButtonGoto(n);
}, t.prototype.openGDPPage = function p(e) {
e && h.frostbite.sendMessage("sparta.commerceShowDetails", {
offerId: e,
jobId: 0
});
}, t.prototype.handleButtonGoto = function d(e) {
try {
e = (e || "").split("|");
var t = e.shift().toLowerCase() || null, n = e.shift() || null, r = this.state.offers[0].offerId;
switch (null !== n && (n = n.replace("{gameId}", this.gameId), n = n.replace("{startRoute}", this.startRoute)), 
t) {
case "sparta":
E["default"].gotoLocation(n || G);
break;

case "gdp":
this.openGDPPage(n || r);
break;

default:
E["default"].gotoLocation(G);
}
} catch (o) {
E["default"].gotoLocation(G);
}
}, t.prototype.showFragment = function y(e, t) {
var n = D.getProperty(this.copy, e) || null;
return null !== n ? {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: o(m.Text.defaultProps, {
value: n,
style: F[t],
size: N[t]
}),
_owner: null
} : [];
}, t.prototype.showMessaging = function b() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.showFragment("welcomeToAccess.header", "header"), this.showFragment("welcomeToAccess.copy", "text"), this.showFragment("welcomeToAccess.subcopy", "fineprint"), this.showInstallButton(), this.showSkipButton() ],
style: F.container
},
_owner: null
};
}, t.prototype.showSkipButton = function _() {
var e = this, t = D.getProperty(this.copy, "welcomeToAccess.button.cancelLabel") || null;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
text: t,
action: function() {
return e.actionClose();
}
}),
_owner: null
},
style: F.buttonContainer
},
_owner: null
};
}, t.prototype.showInstallButton = function S() {
var e = this, t = D.getProperty(this.copy, "welcomeToAccess.button.actionLabel") || null;
return this.state.offers ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
text: t,
action: function() {
return e.actionPrimary();
}
}),
_owner: null
},
style: F.buttonContainer
},
_owner: null
} : void 0;
}, t.prototype.showLoader = function w() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: g["default"].createElement(k["default"], {
ref: "indicator",
size: 50
}),
style: F.spinnerContainer
},
_owner: null
};
}, t.prototype.showContent = function I() {
return this.state.offersLoaded ? this.showMessaging() : this.showLoader();
}, t.prototype.render = function C() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: this.showContent()
},
_owner: null
};
};
var n = t;
return t = s("_$PopupSuccess")(t) || t;
}(g["default"].Component), j = function H() {
return new Promise(function(e) {
P["default"].display(new C["default"]({
content: {
$$typeof: f,
type: B,
key: null,
ref: null,
props: o(B.defaultProps, {
onClose: e
}),
_owner: null
},
id: "confirmPurchasePopup",
fullScreen: !0,
containContent: !1
}));
});
};
t.openPopupSuccess = j;
}, function(e, t) {
function n(e) {
this.jobId = e.jobId, this.purchaseId = e.purchaseId, this.offer = e.offer;
}
e.exports = n;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return V(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), f = n(1), d = s(f), h = n(5), y = s(h), g = n(3), m = n(9), b = n(10), v = n(14), _ = s(v), S = n(18), T = s(S), w = n(49), E = s(w), I = n(8), C = n(130), A = s(C), P = n(69), O = n(27), R = s(O), k = n(6), x = s(k), M = n(7), N = n(55), D = n(299), U = s(D), L = n(13), $ = s(L), G = n(12), F = s(G), B = n(275), j = s(B), H = {
_$StoreOverview: {
displayName: "StoreOverview"
}
}, V = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/StoreOverview.jsx",
components: H,
locals: [],
imports: []
}), z = {
text: {
width: x["default"].getWidth(24),
marginTop: x["default"].GUTTER,
marginBottom: x["default"].GUTTER
}
}, W = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.description = m.observable({
text: ""
});
}
a(t, e), t.prototype.componentWillMount = function s() {
this.recommendedOffers = [], E["default"].updateOffers();
}, t.prototype.componentWillUpdate = function l(e, t) {
var n = t.store.available;
void 0 !== this.state.store.available || void 0 === n || n || E["default"].showUnavailableStore();
}, t.prototype.onGameCardsFocus = function u() {
this.refs.template && this.recommendedOffers.length > 0 && this.refs.template.tiltTo(0, -x["default"].getHeight(32));
}, t.prototype.onGameCardsBlur = function f() {
this.refs.template && this.recommendedOffers.length > 0 && this.refs.template.tiltTo(0, 0);
}, t.prototype.onSelectOffer = function h(e) {
this.updateDescription(e.description.shortDesc);
}, t.prototype.mapOffers = function v() {
var e = [];
for (var t in this.state.store) e.push(this.state.store[t].offers);
return y["default"].flatten(e);
}, t.prototype.mapAvailability = function S() {
var e = [];
for (var t in this.state.store) e.push(this.state.store[t].available);
return y["default"].some(e);
}, t.prototype.mapErrors = function w() {
var e = [];
for (var t in this.state.store) e.push(this.state.store[t].error);
return y["default"].some(e);
}, t.prototype.setRecommendedOffers = function C(e) {
this.recommendedOffers = y["default"].sample(y["default"].filter(e, function(e) {
return !e.owned || e.isRepurchaseable;
}), 11);
}, t.prototype.renderGameCards = function O() {
var e = I.gameStore.games.toJS(), t = y["default"].map(e, function(e, t) {
var n = [ new $["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: F["default"].Accept,
action: function o() {
T["default"].gotoLocation(e.storeConfig.route);
}
}) ];
return {
$$typeof: c,
type: g.Focusable,
key: null,
ref: null,
props: r(g.Focusable.defaultProps, {
children: function a(o) {
return {
$$typeof: c,
type: N.BasicCard,
key: "store-" + t,
ref: null,
props: r(N.BasicCard.defaultProps, {
focusItem: o,
input: n,
background: e.storeConfig.image
}),
_owner: null
};
},
debugName: "store_overview_" + e
}),
_owner: null
};
});
return t;
}, t.prototype.renderOffersPC = function k(e) {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: {
flexWrap: "wrap",
flexDirection: "row",
marginRight: 2 * -x["default"].GUTTER
}
},
_owner: null
};
}, t.prototype.renderOffersConsole = function D(e) {
return [ {
$$typeof: c,
type: P.CardCarousel,
key: null,
ref: null,
props: r(P.CardCarousel.defaultProps, {
children: e,
width: x["default"].getWidth(24)
}),
_owner: null
}, {
$$typeof: c,
type: M.Text,
key: null,
ref: null,
props: r(M.Text.defaultProps, {
value: this.description.text,
style: z.text,
size: "S"
}),
_owner: null
} ];
}, t.prototype.renderOffers = function L() {
var e = this, t = this.mapOffers();
0 === this.recommendedOffers.length && this.setRecommendedOffers(t);
var n = y["default"].map(this.recommendedOffers, function(t, n) {
return {
$$typeof: c,
type: g.Focusable,
key: null,
ref: null,
props: r(g.Focusable.defaultProps, {
children: function o(a) {
return a.onFocus(function() {
return e.onSelectOffer(t);
}), a.onBlur(function() {
return e.updateDescription("");
}), {
$$typeof: c,
type: U["default"],
key: "offer" + n,
ref: null,
props: r(U["default"].defaultProps, {
focusItem: a,
recommendation: t,
size: 0 === n ? "L" : "M"
}),
_owner: null
};
},
debugName: "offer-" + n
}),
_owner: null
};
}), o = SpartaGlobals.bundleIsPC ? this.renderOffersPC(n) : this.renderOffersConsole(n);
return d["default"].createElement(R["default"], {
scrollContent: SpartaGlobals.bundleIsPC,
clipContent: SpartaGlobals.bundleIsConsole,
tallContent: !0,
ref: "template"
}, o, d["default"].createElement("surface", {
ref: "gamecards",
style: {
marginTop: 3 * x["default"].GUTTER
}
}, {
$$typeof: c,
type: M.Text,
key: null,
ref: null,
props: r(M.Text.defaultProps, {
value: __("ID_SPARTA_COMMERCE_OFFER_BYGAME").toUpperCase(),
size: "S",
style: {
marginBottom: 1.5 * x["default"].GUTTER,
textLetterSpacing: 1
}
}),
_owner: null
}, {
$$typeof: c,
type: P.CardCarousel,
key: null,
ref: null,
props: r(P.CardCarousel.defaultProps, {
children: this.renderGameCards(),
width: x["default"].getWidth(24)
}),
_owner: null
}));
}, t.prototype.render = function G() {
var e = this.mapOffers(), t = this.mapAvailability(), n = this.mapErrors(), o = !t || n;
return {
$$typeof: c,
type: j["default"],
key: null,
ref: null,
props: r(j["default"].defaultProps, {
children: this.renderOffers(),
available: t && !n && e.length > 0,
loading: o
}),
_owner: null
};
}, p(t, [ {
key: "updateDescription",
decorators: [ m.action ],
value: function B(e) {
this.description.text = e;
}
} ]);
var n = t;
return t = i("_$StoreOverview")(t) || t, t = _["default"]({
store: A["default"]
})(t) || t, t = b.observer(t) || t;
}(d["default"].Component);
t["default"] = W, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function r(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
return function(t) {
var o = function(t) {
function o() {
n(this, o), t.apply(this, arguments);
}
return r(o, t), o.prototype.componentDidMount = function a() {
this.callTarget("componentDidEnter");
}, o.prototype.componentWillUpdate = function i(t, n) {
var r = e.id.call(this, this.props, this.state), o = e.id.call(this, t, n);
o !== r && this.callTarget("componentWillLeave");
}, o.prototype.componentDidUpdate = function s(t, n) {
var r = e.id.call(this, t, n), o = e.id.call(this, this.props, this.state);
o !== r && this.callTarget("componentDidEnter");
}, o.prototype.componentWillUnmount = function l() {
this.callTarget("componentWillLeave");
}, o.prototype.callTarget = function u(t) {
var n = e.ref ? this.refs[e.ref] : this;
n && n[t] && n[t]();
}, o;
}(t);
return o.displayName = t.displayName || t.name, o;
};
}
t.__esModule = !0, t["default"] = o, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
var t = function n() {
var t;
(t = a.frostbite.sendMessage).call.apply(t, [ this, e ].concat(o.call(arguments)));
};
return t.listen = function() {
throw new Error("Can't listen to '" + e + "' because it is defined as a frostbiteAction, not a frostbiteListenable");
}, t;
}
t.__esModule = !0;
var o = Array.prototype.slice;
t["default"] = r;
var a = n(3);
e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? new Date() : arguments[2];
if (!e || !t) return !1;
var r = function s(e) {
var t = null;
return typeof e === Date ? t = e.getTime() : typeof e === String ? t = new Date(e.substr(0, 19)).getTime() : typeof e === Number && (t = e), 
t;
}, o = r(n), a = r(e), i = r(t);
return a && i ? o >= a && i > o : !1;
}
t.__esModule = !0, t["default"] = n, e.exports = t["default"];
}, function(e, t) {
function n(e) {
for (var t = {}, r = Object.keys(e).sort(), o = 0, a = r.length; a > o; o++) {
var i = r[o], s = e[i];
Array.isArray(s) ? t[i] = s.slice().sort() : "object" == typeof s ? t[i] = n(s) : t[i] = s;
}
return t;
}
t.__esModule = !0, t["default"] = n, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = new u.Publisher(), n = s["default"].extend(e, {
trigger: function r() {
this._applyListener.apply(this, arguments);
},
triggerAsPromise: function o() {
for (var t = this, n = arguments.length, r = Array(n), o = 0; n > o; o++) r[o] = arguments[o];
var i = a({}, e);
return new Promise(function(e, n) {
var o = t.listen(function() {
o(), e.apply(void 0, arguments);
});
t.onRequestError = function(e) {
i.onRequestError(e), n(e);
}, t.trigger.apply(t, r);
});
},
listen: function i(e) {
return t.listen(e);
},
unsubscribe: function l(e) {
t.removeSubscription(e);
},
intercept: function p(e) {
return t.interceptor.listen(e);
},
publish: function f() {
t.publish.apply(t, arguments);
},
reset: function d() {
this._previousRequests = {}, this._previousRequest = null;
},
startListening: function h() {
for (var e = this, t = arguments.length, n = Array(t), r = 0; t > r; r++) n[r] = arguments[r];
if (s["default"].isFunction(this.initialize)) try {
this.initialize.apply(this, n);
} catch (o) {
throw console.error("Could not initialize", o), o;
}
if (this.listeners = [], !(this.requestOn && this.requestOn.length > 0)) throw new Error("Client.startListening() was called, but no 'requestOn' listener specified!");
this.listeners = s["default"].map(this.requestOn, function(e) {
return e.listen(function() {
this._applyListener.apply(this, arguments), this.interval && !this._intervalHandler && (this._intervalHandler = setInterval(this._applyListener.bind(this), this.interval));
}.bind(this));
}.bind(this)), this.listenables && console.warn("The Requester prop 'listenables' has been renamed to 'requestOn'!"), 
this.updateOn && (this.listeners = this.listeners.concat(s["default"].map(this.updateOn, function(t) {
return t.listen(e._performParse.bind(e));
})));
},
start: function y() {
throw new Error("The Requester function 'start' has been renamed to 'startListening'");
},
stopListening: function g() {
s["default"].each(this.listeners, function(e) {
e();
}), this._intervalHandler && (clearInterval(this._intervalHandler), this._intervalHandler = void 0);
},
_applyListener: function m() {
if (s["default"].isNumber(this.throttleAll)) {
if (this._previousRequest && s["default"].now() - this._previousRequest < this.throttleAll) return !1;
this._previousRequest = s["default"].now();
}
var e;
try {
for (var t = arguments.length, n = Array(t), r = 0; t > r; r++) n[r] = arguments[r];
e = s["default"].isFunction(this.listener) ? this.listener.apply(this, n) : n;
} catch (o) {
throw console.error("Error in listener", o), o;
}
"[object Arguments]" === Object.prototype.toString.call(e) ? e = Array.prototype.slice.call(e) : "[object Array]" !== Object.prototype.toString.call(e) && (e = [ e ]), 
this._performRequest.apply(this, e);
},
_previousRequests: {},
_performRequest: function b() {
for (var e = this, t = arguments.length, n = Array(t), r = 0; t > r; r++) n[r] = arguments[r];
if (s["default"].isFunction(this.shouldPerformRequest)) try {
if (!this.shouldPerformRequest.apply(this, n)) return;
} catch (o) {
throw console.error("Error running shouldPerformRequest", o), o;
}
if (this.mutex) {
if (this._performingRequest) return !1;
this._performingRequest = !0;
}
if (s["default"].isNumber(this.throttle)) {
var a = JSON.stringify(n);
if (this._previousRequests[a] && s["default"].now() - this._previousRequests[a] < this.throttle) return !1;
this._previousRequests[a] = s["default"].now();
}
var i;
try {
i = this.request.apply(this, n);
} catch (o) {
throw this._performingRequest = !1, console.error("Could not perform request", n, o), 
o;
}
if (!(this.updateOn || i && s["default"].isFunction(i.then))) throw new Error("No updateOn specified, expected request to return a Promise");
i && s["default"].isFunction(i.then) && (i["catch"](function(e) {
if (this._performingRequest = !1, !s["default"].isFunction(this.onRequestError)) {
var t = "";
t = null == e ? "Request failed without error details!" : "string" == typeof e ? e : "Unable to perform request: " + (e.request && e.request.methodName) + "\nResponse: " + e.message + "\nParams: " + JSON.stringify(e.request && e.request.params), 
console.error("Request Error\n", t);
throw e;
}
this.onRequestError.apply(this, [ e ].concat(n));
}.bind(this)), i.then(function(t) {
e._performParse.apply(e, [ t ].concat(n));
}));
},
_performParse: function v(e) {
var t, n = Array.prototype.slice.call(arguments);
try {
t = this.parse.apply(this, n);
} catch (r) {
throw console.error("Could not parse response", e, r), r;
}
n.unshift(t);
var o = !0;
if (s["default"].isFunction(this.shouldPerformUpdate)) try {
o = this.shouldPerformUpdate.apply(this, n);
} catch (r) {
throw console.error("Error running shouldPerformUpdate", r), r;
}
if (this._performingRequest = !1, o) try {
this.update.apply(this, n);
} catch (r) {
throw this._performingRequest = !1, r;
}
this._performFinish.apply(this, n);
},
_performFinish: function _() {
s["default"].isFunction(this.finished) && this.finished.apply(this, arguments), 
s["default"].isFunction(this._finished) && this._finished.apply(this, arguments);
}
});
return c.push(n), n;
}
t.__esModule = !0;
var a = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, i = n(5), s = r(i), l = n(60), u = (r(l), n(245)), c = [];
t.instances = c, t["default"] = o;
}, function(e, t, n) {
function r(e) {
e = e || {}, this.name = e.name || "", this.rank = new a(e.rank), this.imageUrl = e.imageUrl || "", 
this.progress = new o(e.progress);
}
var o = n(416), a = n(417);
r.prototype.add = function(e) {
return new r({
name: this.name + " & " + e.name,
progress: new o({
current: this.progress.current + e.progress.current,
total: this.progress.total + e.progress.total
})
});
}, e.exports = r;
}, function(e, t, n) {
function r(e) {
e = e || {}, this.itemId = e.itemId, this.imageUrl = e.imageUrl || "", this.name = e.name || "", 
this.value = o.formatThousands(e.value), this.heading = e.highlightName || "", this.valueText = e.highlightText || "";
}
var o = n(81);
e.exports = r;
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var o = n(8), a = function() {
function e(t, n) {
r(this, e), this.group = "video", this.video = {
creationDate: t.creationDate ? new Date(t.creationDate.substr(0, 19)) : new Date(),
videoUrl: t.videoUrl || "fb://Sparta/UI/Movies/Battlefield4ProTips",
imageUrl: t.posterImage ? t.posterImage.linkTo : "",
description: t.description || "",
heading: t.title || "",
isFeatured: t.featured,
game: n ? o.gameStore.getGame(n).displayName : ""
};
}
return e.prototype.setFeatured = function t() {
this.video.isFeatured = !0;
}, e;
}();
t["default"] = a, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(21), a = r(o), i = n(50).gatewayClient, s = a["default"].createClient({
request: function l() {
return i.request("Companion.sendCompanionOnboardingEmail");
},
parse: function u(e) {
return e;
},
update: function c(e) {
this.publish(e);
}
});
t["default"] = s, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a() {
return new Date().getTime();
}
var i = n(5), s = o(i), l = n(3), u = n(9), c = n(77), p = o(c), f = n(8), d = n(554), h = r(d), y = n(63), g = o(y), m = n(84), b = o(m), v = n(35), _ = o(v), S = n(91), T = o(S), w = n(18), E = o(w), I = n(89), C = o(I), A = n(19), P = o(A), O = n(8), R = n(155), k = n(49), x = o(k), M = {
Platform: 1,
Game: 2,
Language: 3,
Section: 4,
Environment: 5,
BuildNumber: 6
}, N = {
RecommendationClick: 1
};
p["default"].trackFunnel.listen(function(e) {
p["default"].trackScreen("funnel/" + e);
}), p["default"].trackScreen.listen(function(e) {
var t = e.split("/").shift();
t && "funnel" !== t && p["default"].trackDimension(M.Section, t), h.trackScreen(e);
}), p["default"].trackScreenState.listen(function(e) {
h.trackScreen(f.locationStore.location.path + "/" + e);
}), p["default"].trackEvent.listen(function(e, t, n, r) {
h.trackEvent(e, t, n, r);
}), p["default"].trackTimer.listen(function(e, t, n, r) {
h.trackTimer(e, t, n, r);
}), p["default"].trackException.listen(function(e, t) {
h.trackException(e, t);
}), p["default"].trackMetric.listen(function(e, t) {
h.trackCustomMetric(e, t);
}), p["default"].trackDimension.listen(function(e, t) {
h.setCustomDimension(e, t);
}), p["default"].trackPurchase.listen(function(e, t, n, r, o) {
h.trackPurchase(e, t, n, r, o);
}), p["default"].flush.listen(function() {
h.flush();
}), e.exports = function() {
function e(e) {
var t = e.args.tab ? e.path + "/" + e.args.tab : e.path;
p["default"].trackScreen(t);
}
var t, n = a(), r = !1;
p["default"].trackDimension(M.Platform, SpartaGlobals.bundlePlatform), p["default"].trackDimension(M.Language, "en-us"), 
p["default"].trackDimension(M.BuildNumber, "11296"), u.autorun(function() {
O.settingsStore.isTelemetryEnabled && !r ? (h.initialize("UA-63589416-1", !0), r = !0) : r && h.setEnabled(O.settingsStore.isTelemetryEnabled);
}), u.reaction(function() {
return O.onlineState.sessionUser;
}, function(e) {
e && h.setUser(e.spartaUserId.getPlatformId());
}, !0);
var o = P["default"].listen(function(e) {
p["default"].trackDimension(M.Game, e.hostingGameId), p["default"].trackDimension(M.Environment, e.envOnlineEnvironment), 
o();
});
u.reaction(function() {
return f.locationStore.location;
}, e), E["default"].updateLocation.listen(e), C["default"].onReady.listen(function() {
p["default"].trackEvent("Presence", "Connected");
}), C["default"].onDisconnected.listen(function() {
p["default"].trackEvent("Presence", "Disconnected");
}), E["default"].quitSparta.listen(function() {
p["default"].flush();
}), g["default"].handleCardInteraction.listen(function(e, t) {
p["default"].trackMetric(N.RecommendationClick, 1), "filter" === e.group && p["default"].trackFunnel("recommendation/filter/interaction"), 
p["default"].trackEvent("RecommendationClick", e.group, e.telemetryId, t), "filter" === e.group && s["default"].each(R.formatFilter(e.matchmake), function(e, t) {
"object" == typeof e && s["default"].each(e, function(e, n) {
p["default"].trackEvent("RecommendationFilterInteraction", t, n, "on" === e ? 1 : -1);
});
});
}), b["default"].scope("server").listen(function(e) {
e && p["default"].trackFunnel("matchmaking/success");
}), _["default"].handleJoinReady.listen(function() {
p["default"].trackFunnel("serverjoin/ready");
}), _["default"].joinedServer.listen(function() {
p["default"].trackFunnel("serverjoin/success"), t || (t = Math.floor(a() - n), p["default"].trackTimer("ServerJoin", "FirstServerJoin", t));
}), T["default"].onJoinMultiplayerFailed.listen(function() {
p["default"].trackFunnel("serverjoin/failed");
}), x["default"].checkoutStatus.listen(function(e, t) {
var n = {};
try {
n = JSON.parse(l.base64.decode(t.offer.pinData));
} catch (r) {
console.error("Failed to parse pinData", t.offer.pinData);
}
e.status === e.CHECKOUT_COMPLETED && p["default"].trackPurchase(t.purchaseId, t.offer.id, n.price, n.currency), 
p["default"].trackEvent("Purchase", e.status, t.offer.id);
});
};
}, function(e, t, n) {
(function(t) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function a() {
t.__spartaConfig && b.updateConfig(t.__spartaConfig);
var e = k.getState().gatewayHost, n = k.getState().gatewayProtocol, r = k.getState().envOnlineEnvironment;
n && e && r && b.updateConfig({
gatewayHost: n + "://" + e,
onlineEnvironment: r
}), g.handleTranslationSetup();
}
var i = n(3), s = o(i), l = n(9), u = n(88), c = (n(442), n(711)), p = r(c), f = n(8), d = n(36), h = (r(d), 
n(56)), y = (r(h), n(8)), g = n(219), m = n(24), b = n(18), v = n(132), _ = n(179), S = n(60), T = n(180), w = n(709), E = n(712), I = n(713), C = n(707), A = n(715), P = n(714), O = n(12), R = n(150), k = n(19), x = n(77);
e.exports = {
stores: {
PresenceStateStore: n(41),
NetworkStore: n(420),
NativePropertiesStore: k,
AnalyticsStore: n(166),
ConfigStore: T,
ModuleStore: n(717)
},
actions: {
CoreActions: b,
CoreEvents: S,
AudioActions: _,
InputActions: v,
AnalyticsActions: x
},
types: {
Key: n(125),
Keys: n(12),
Input: n(13),
Location: u.Location,
Platform: n(421),
Platforms: n(719)
},
gatewayClient: m,
initialize: function M() {
function e(e) {
e.isRepeat || -1 === t.indexOf(e.key) || _.playEffect(2);
}
a(), k.listen(a), p["default"].start(), R.start(), C(), w(), E(), I(), A(), P(), 
g.initTranslatorForLocationStore(y.locationStore), s.events.getCommandHandler("throw").listen(function(e) {
if ("callundefined" !== e) throw new Error("Unknown param: " + e);
s.nonExisting();
}), SpartaGlobals.bundleIsConsole;
var t = [ O.Accept, O.Decline, O.Option1, O.Option3, O.Option4, O.Option2, O.Start, O.Home, O.End, O.Previous, O.Next, O.Select ];
v.calledAction.listen(e), v.calledHoldAction.listen(e), v.calledReleaseAction.listen(e), 
k.scope("hostingGameId").connect(function(e) {
var t = e && f.gameStore.getGame(e);
return t ? (b.gotoLocation(t.startRoute), !1) : void 0;
}), l.reaction(function() {
return y.backgroundMusicStore.currentTrackId;
}, function(e) {
var t = y.backgroundMusicStore.previousTrackId, n = k.getHostingGame();
n && (t || e !== n.backgroundMusicTrack) && (t && _.stopTrack(t), e && _.playTrack(e));
}), m.onError.listen(function(e, t) {
var n = t.methodName, r = t.params;
console.error("Gateway Error:", n, r, e), x.trackException("GatewayRequest: " + n), 
x.trackEvent("GatewayRequestError", n, e.code);
}), m.onResponse.listen(function(e, t) {
t.methodName, t.params;
}), m.onEnvironmentIdReceived.listen(function(e) {
b.updateConfig({
environmentId: e
});
}), l.reaction(function() {
return y.layoutStateStore.current.config.backgroundMusicTrack;
}, function(e) {
return y.backgroundMusicStore.setTrack(e);
});
}
};
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
switch (s.Metrics.inc("push." + t.topic), t.topic) {
case "FRIENDS_PLAYING":
setTimeout(function() {
c.ServerPresenceClient.trigger(e.payload.platformIds, c.PresenceRequestTypes.SPECIFIC);
}, 2e3);
break;

case "FRIENDS_STOPPED_PLAYING":
w.userStore.removeServerPresences(e.payload.platformIds);
break;

case "MATCHMAKING_STATUS_UPDATED":
O(e.payload);
break;

case "QUEUESTATUS_UPDATED":
h["default"].handleQueueStatusUpdate(e.payload);
break;

default:
e.game ? P.handlePushNotification(e.game, t.topic, e.payload) : console.warn("Unhandled Push Notification", t);
}
}
function a() {
P.quitSparta.listen(function() {
i.frostbite.sendMessage("sparta.quit");
}), I.playEffect.listen(function(e) {
i.frostbite.sendMessage("sparta.audioMessage", {
type: 1,
effect: e
});
}), I.playTrack.listen(function(e) {
E.getState().navigationState !== A.LoadingScreen && i.frostbite.sendMessage("sparta.audioMessage", {
type: 2,
track: e,
action: 1
});
}), I.stopTrack.listen(function(e) {
E.getState().navigationState !== A.LoadingScreen && i.frostbite.sendMessage("sparta.audioMessage", {
type: 2,
track: e,
action: 2
});
});
var e = null;
i.frostbite.registerMessageListener("sparta.pushNotification", function(t, n) {
var r = JSON.parse(n.body), a = r.environmentId, i = g["default"].getState().environmentId;
return i || e ? a !== i ? void console.info("Push Notification: Ignored message from other gateway:", a, "expected:", i) : void o(r, n) : void (e = g["default"].listen(function(t) {
t.environmentId && (o(r, n), e());
}));
}), i.frostbite.registerMessageListener("sparta.nativeClientReadyMessage", function(e, t) {
C.nativeClientReadyMessage(t);
}), i.frostbite.registerMessageListener("sparta.nativeClientSettingsMessage", function(e, t) {
C.nativeClientSettingsMessage(t);
}), i.frostbite.registerMessageListener("sparta.firstPartyConnectedMessage", function(e, t) {
C.firstPartyConnectedMessage(t);
});
var t = !1;
i.frostbite.registerMessageListener("sparta.activated", function(e, n) {
var r = {
navigationState: n.navigationState,
levelName: n.levelName,
isMultiplayer: n.isMultiplayer,
isOnline: n.online,
isDeployed: n.isDeployed,
isSpectator: n.isSpectator
};
if (n.enterOffline) {
var o = u["default"].getHostingGame();
o && P.gotoLocation(o.startRoute);
}
n.hasOwnProperty("autoShowStartScreen") && (r.hideStartScreen = !n.autoShowStartScreen), 
h["default"].updateGameState(r), t ? P.handleSpartaActivatedUpdate() : (t = !0, 
P.handleSpartaActivated());
}), P.handleSpartaWillDeactivate.listen(function() {
t = !1;
}), i.frostbite.registerMessageListener("sparta.childProcessError", function(e, t) {
C.spartaErrorMessage(t.message);
}), i.events.onMouseEventHandled.listen(function(e) {
(e.event === i.MouseEventType.onClick || e.event === i.MouseEventType.onMouseDown && e.button === i.MouseButton.Secondary) && I.playEffect(2);
}), i.events.onMouseEventAfterPropagation.listen(function(e) {
if (e.event === i.MouseEventType.onMouseUp) {
var t = Object.keys(_["default"].getState()).length;
if (T["default"].getState().isVisible || t > 0) return;
e.button === i.MouseButton.Back ? P.goBackInHistory() : e.button === i.MouseButton.Forward && P.goForwardInHistory();
}
}), P.setClientVideoRecordingEnabled.listen(function(e) {
i.frostbite.sendMessage("sparta.enableClientVideoRecording", {
enabled: e
});
});
}
var i = n(3), s = n(378), l = n(19), u = r(l), c = n(860), p = n(93), f = r(p), d = n(35), h = r(d), y = n(180), g = r(y), m = n(83), b = r(m), v = n(183), _ = r(v), S = n(53), T = r(S), w = n(8), E = (n(1), 
n(36)), I = n(179), C = n(60), A = n(56), P = n(18), O = b["default"](function(e) {
f["default"].receivedSessionUpdate(e);
}, 100);
e.exports = a;
}, function(e, t, n) {
function r(e) {
"object" != typeof e && (e = {}), e.method = i.HttpMethod.GET, a(e);
}
function o(e) {
"object" != typeof e && (e = {}), e.method = i.HttpMethod.POST, a(e);
}
function a(e) {
var t = e.method, n = e.url, r = e.data || "", o = e.headers || "", s = e.isJson || !1, l = e.retry || !1, u = e.attempt || 1, c = e.delay || 100, p = e.success, f = e.failure;
"number" != typeof l && (l = e.retry = !1);
var d = /(http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])?/;
"string" == typeof n && "" !== n && null !== d.exec(n) && i.httpRequest(t, n, r, o, s, function(t, r) {
return t ? void ("function" == typeof p && p(r, n)) : void (l !== !1 && l > u ? setTimeout(function() {
e.attempt = u + 1, e.delay = 2 * c, a(e);
}, c) : "function" == typeof f ? f(r, n) : console.error("Failed to call " + n));
});
}
t.__esModule = !0;
var i = n(3);
t["default"] = {
get: r,
post: o
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(3), a = n(15), i = n(278), s = r(i), l = n(18), u = r(l), c = n(124), p = n(19), f = r(p), d = a.createAction();
c.frostbiteListenable("sparta.streamingInstallStateChanged").listen(d), c.frostbiteListenable("sparta.getStreamingInstallStateResponse").listen(d);
var h = {
start: function y() {
var e = this, t = d.listen(function(t) {
var n = e.parse(t);
u["default"].updateInstallState(n);
});
return f["default"].scope("ready").connect(function(e) {
if (e) {
if (f["default"].getState().isStreamingInstalling) {
console.info("Manually trigger install state due to message indicating that it is happening!");
var t = new s["default"]({
isInstalling: !0,
isMpInstalled: !1,
progress: -1
});
u["default"].updateInstallState(t);
}
return o.frostbite.sendMessage("sparta.getStreamingInstallStateRequest"), !1;
}
}), t;
},
parse: function g(e) {
var t = e.streamingInstall, n = t.isInstalling, r = t.isMpInstalled, o = t.installProgress;
return new s["default"]({
isInstalling: n,
isMpInstalled: 100 === Math.ceil(o) || r,
progress: o / 100
});
}
};
t["default"] = h, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(83), a = r(o), i = n(220), s = r(i), l = n(221), u = r(l), c = n(420), p = r(c), f = n(3), d = a["default"](function() {
s["default"].flushCache();
var e = p["default"].getState();
e.pingTargetsQueue.length && !function() {
var t = [];
e.pingTargetsQueue.forEach(function(n) {
e.pingCache[n] ? u["default"].pingCompleted(n, e.pingCache[n].ping, !1) : t.push(n);
}), t.length && f.frostbite.sendMessage("network.ping", {
targets: t,
isQos: !1
});
}(), e.qosPingTargetsQueue.length && !function() {
var t = [];
e.qosPingTargetsQueue.forEach(function(n) {
e.qosPingCache[n] ? u["default"].qosPingCompleted(n, e.qosPingCache[n].ping, !1) : t.push(n);
}), t.length && f.frostbite.sendMessage("network.ping", {
targets: t,
isQos: !0
});
}(), e.resolveTargetsQueue.length && !function() {
var t = [];
e.resolveTargetsQueue.forEach(function(n) {
e.resolveCache[n] ? u["default"].resolveCompleted(n, e.resolveCache[n].ip) : t.push(n);
}), t.length && f.frostbite.sendMessage("network.resolve", {
targets: t
});
}(), s["default"].emptyQueue();
}, 500, !1);
t["default"] = function() {
s["default"].ping.listen(d), s["default"].qosPing.listen(d), s["default"].resolve.listen(d), 
f.frostbite.registerMessageListener("network.pingCompleted", function(e, t) {
t.isQos ? u["default"].qosPingCompleted(t.target, t.ping, t.timeout) : u["default"].pingCompleted(t.target, t.ping, t.timeout);
}), f.frostbite.registerMessageListener("network.resolveCompleted", function(e, t) {
u["default"].resolveCompleted(t.host, t.ip);
});
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(3), a = n(19), i = r(a), s = n(41), l = r(s), u = n(78), c = r(u), p = n(89), f = r(p), d = n(43), h = r(d), y = n(83), g = r(y), m = n(252), b = n(111), v = g["default"](function(e) {
return o.frostbite.sendMessage("sparta.goOnline", {
silentOnline: e
});
}, 1e3, !0, !1);
t["default"] = function() {
c["default"].connect.listen(function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? !1 : arguments[0];
v(e);
}), c["default"].disconnect.listen(function() {
o.frostbite.sendMessage("sparta.goOffline");
}), o.frostbite.registerMessageListener("sparta.nativeClientReadyMessage", function(e, t) {
t.nativeClientInformation.isOnlineSnapshot && (c["default"].handleMessage(new b.PresenceStatusMessage({
gameId: i["default"].getState().hostingGameId,
eventType: b.ConnectionEventType.connectionReady,
resultType: b.ConnectionResultType.success,
mode: b.PresenceModeType.online
})), c["default"].handleMessage(new b.PresenceStatusMessage({
gameId: i["default"].getState().hostingGameId,
eventType: b.ConnectionEventType.qualityOfServiceDone
})));
}), c["default"].handleMessage.listen(function(e) {
e.resultType === b.ConnectionResultType.invalidUser && h["default"].showLocalUserSelectionUI();
}), l["default"].scope("state").listen(function(e) {
var t = l["default"].getState();
switch (e) {
case m.PresenceStates.connecting:
f["default"].onConnecting(t);
break;

case m.PresenceStates.disconnected:
f["default"].onDisconnected(t);
break;

case m.PresenceStates.ready:
f["default"].onReady(t);
}
}), l["default"].scope("isFirstPartyConnected").listen(function(e) {
e && f["default"].onFirstPartyConnected();
}), o.frostbite.registerMessageListener("sparta.authCodeAvailableMessage", function(e, t) {
var n = t.success;
t.authCode;
n || (console.warn("No Authcode returned, disconnecting blaze"), c["default"].disconnect());
});
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {
SpartaGlobals.bundleIsPC && s["default"].listen(function(e) {
var t = e.progress >= 1, n = t ? l.Normal : l.Paused, r = e.isInstalling ? l.Progress : n;
a.frostbite.sendMessage("sparta.pc.setTaskbarProgress", {
state: r,
currentValue: Math.round(100 * e.progress),
maxValue: 100
}), t && a.frostbite.sendMessage("sparta.pc.flashTaskbar", {
numTimes: 3,
timeoutMs: 750
});
});
}
t.__esModule = !0, t["default"] = o;
var a = n(3), i = n(119), s = r(i), l = {
Normal: 0,
IndeterminateProgress: 1,
Progress: 2,
Paused: 8,
Error: 4
};
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(9), a = n(151), i = r(a), s = n(716), l = r(s), u = n(35), c = r(u), p = n(91), f = r(p), d = n(36), h = r(d), y = n(53), g = r(y), m = n(29), b = r(m), v = n(63), _ = r(v), S = n(84), T = r(S), w = n(8), E = n(78), I = r(E), C = n(111), A = n(56), P = r(A), O = n(152), R = n(75), k = function x() {
var e = !1, t = new Date().getTime(), n = w.onlineState.sessionUser, r = {};
n && (r.user = n);
var a = new l["default"](r), s = !1;
i["default"].trackJoinSources.listen(function(e, t) {
a.joinSource = t;
}), i["default"].trackEvent.listen(function(e, t) {
e === O.Events.GameStart && a.trackEvent(O.Events.SpartaEnd), a.trackEvent(e, t);
}), o.reaction(function() {
return w.onlineState.sessionUser;
}, function(e) {
return a.setUser(e), e ? void (!s && e && e.presence.state !== R.UserPresenceStates.Offline && (i["default"].trackEvent(O.Events.Login, !0), 
s = !0)) : void (s = !1);
}, !0), I["default"].handleMessage.listen(function(e) {
e.eventType === C.ConnectionEventType.connectFailed && (i["default"].trackEvent(O.Events.Login, !1), 
i["default"].trackEvent(O.Events.Error, e));
}), h["default"].scope("navigationState").connect(function(t) {
t === P["default"].FrontEnd && (e || (i["default"].trackEvent(O.Events.SessionStart), 
e = !0), i["default"].trackEvent(O.Events.GameEnd), i["default"].trackEvent(O.Events.SpartaStart));
});
var u, p = [];
T["default"].listen(function(e) {
e.server && (u = e);
}), c["default"].joinServer.listen(function(e) {
e.friend && p.push(e.friend.spartaUserId.getPlatformId());
}), c["default"].joinedServer.listen(function(e) {
i["default"].trackEvent(O.Events.MultiplayerJoin, {
server: e,
matchmakingSession: u,
joinedFriends: p
}), u = void 0, p = [];
}), f["default"].onJoinMultiplayerFailed.listen(function() {
u = void 0, p = [];
});
var d;
o.reaction(function() {
return w.locationStore.location;
}, function() {
d = Date.now();
}), g["default"].scope("isVisible").listen(function() {
d = Date.now();
}), b["default"].handleStartScreenClosed.listen(function() {
d = Date.now();
}), _["default"].handleCardInteraction.listen(function(e) {
var t = d && (Date.now() - d) / 1e3, n = "click";
i["default"].trackEvent(O.Events.Message, {
recommendation: e,
secondsDuration: t,
messageType: n
});
}), _["default"].handleCardsDisplayed.listen(function(e, t) {
if (e.length > 0) {
var n = "impression", r = 0;
e.forEach(function(e) {
i["default"].trackEvent(O.Events.Message, {
recommendation: Object.assign({}, e, {
batchId: t
}),
secondsDuration: r,
messageType: n
});
});
}
});
var y = null, m = [];
o.reaction(function() {
return w.locationStore.location;
}, function(e) {
var n = new Date().getTime(), r = n - t, o = "", a = "";
t = n, y && (o = y, m.push(y));
var s = e ? e.path : "";
if (y = s, w.locationStore.canGoBack && m.length > 1) {
var l = m[m.length - 2];
a = l || "";
}
var u = r / 1e3, c = "web_page", p = {
pageDurationSec: u,
navigatingTo: s,
currentPage: o,
navigatingFrom: a,
pageType: c
};
m = m.slice(-3), i["default"].trackEvent(O.Events.PageView, p);
});
};
t["default"] = k, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a, i = n(24), s = r(i), l = n(19), u = r(l), c = n(8), p = n(67), f = r(p), d = n(166), h = n(152), y = n(5), g = r(y), m = {
batchInterval: 10,
batchMaxSize: 10
}, b = (a = {}, a[h.Events.SpartaStart] = "game_start", a[h.Events.SpartaEnd] = "game_end", 
a), v = !1, _ = function() {
function e(t, n, r) {
var a = arguments.length <= 3 || void 0 === arguments[3] ? "" : arguments[3];
o(this, e), this.eventName = b[t] || t, this.params = n || {}, this.sequence = r, 
this.clientTimestamp = new Date().getTime(), this.gameSessionId = a, this.paramsToLowercase();
}
return e.prototype.paramsToLowercase = function t() {
var e = this;
Object.keys(this.params).forEach(function(t) {
"string" == typeof e.params[t] && (e.params[t] = e.params[t].toLowerCase());
});
}, e;
}(), S = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? [] : arguments[0];
o(this, e), this.items = t;
}
return e.prototype.add = function t(e) {
this.items.push(e);
}, e.prototype.flush = function n() {
var e = this.items.slice();
return this.items = [], e;
}, e;
}(), T = function() {
function e(t) {
var n = this;
o(this, e), setInterval(function() {
n.shouldHubbleBatchSend();
}, 1e3), this.props = t, this.sessionStart = new Date().getTime(), this.sequence = 0, 
this.uuid = t.uuid || d.analyticsStore.uuid, this.currentGame = "", this.parentSessionId = "", 
this.gameSessionId = d.analyticsStore.createUUID(), this.queue = new S(), this.timeSinceBatch = 0, 
this.isClientReady = !1, this.gameStartTimer = null, this.userSegments = [], this.hasFetchedSegments = !1, 
this.currentGameMode = {}, this.joinSource = [], "" === this.uuid && d.analyticsStore.fetchUuid().then(function(e) {
n.uuid = e;
}), t.hasOwnProperty("user") && (this.user = t.user), u["default"].scope("hostingGameId").connect(function(e) {
n.currentGame = e;
}), u["default"].scope("parentSessionId").connect(function(e) {
n.parentSessionId = e;
});
}
return e.prototype.isPremium = function t() {
return f["default"].getState().hasPremiumAccess(this.currentGame);
}, e.prototype.generateGuid = function n() {
this.gameSessionId = d.analyticsStore.createUUID();
}, e.prototype.getSessionTime = function r() {
return parseInt((new Date().getTime() - this.sessionStart) / 1e3, 10);
}, e.prototype.getGameDuration = function a() {
return parseInt((new Date().getTime() - this.gameStartTimer) / 1e3, 10);
}, e.prototype.getGameBuild = function i() {
return "release-bf4pc-bf1dlc1_11296_3284083e_warsaw_all_prod";
}, e.prototype.getSequence = function l() {
return this.sequence++, this.sequence;
}, e.prototype.getMessageSource = function p() {
var e = c.locationStore.location.path.replace(this.getGame(), "");
return "" === e ? "home" : e.replace(/^\//, "");
}, e.prototype.loadUserSegments = function y() {
var e = this;
v || (v = !0, s["default"].request("Recommender.showSegments", {
game: this.getGame()
}).then(function(t) {
t.length > 0 && (e.userSegments = t, e.hasFetchedSegments = !0);
}), setTimeout(function() {
v = !1;
}, 6e4));
}, e.prototype.attachSegmentId = function b(e) {
var t = this;
if (0 !== this.userSegments.length) return e.map(function(e) {
return "message" === e.eventName && "" === e.params.segmentId && (e.params.segmentId = t.getSegmentString()), 
e;
});
}, e.prototype.sendEvents = function T() {
if (c.onlineState.hasGatewaySession) {
var e = this.queue.flush();
if (this.attachSegmentId(e), !g["default"].isEmpty(e)) {
var t = this.getPayload(e);
s["default"].request("Telemetry.batchEvents", t);
}
this.timeSinceBatch = 0;
}
}, e.prototype.shouldHubbleBatchSend = function w() {
return c.onlineState.hasGatewaySession && c.settingsStore.isTelemetryEnabled && (this.queue.length >= m.batchMaxSize || this.timeSinceBatch >= m.batchInterval) ? void this.sendEvents() : void (this.timeSinceBatch = this.timeSinceBatch + 1);
}, e.prototype.isValidEvent = function E(e, t) {
var n = !0;
return e !== h.Events.GameEnd || this.isClientReady || (n = !1), e !== h.Events.GameStart || t || (n = !1), 
n;
}, e.prototype.trackEvent = function I(e, t) {
if (c.settingsStore.isTelemetryEnabled && this.isValidEvent(e, t)) {
var n = {}, r = !1;
switch (e) {
case h.Events.GameEnd:
n = this.onGameEnd(t);
break;

case h.Events.GameStart:
r = !0, n = this.onGameStart(t);
break;

case h.Events.PageView:
n = t;
break;

case h.Events.Login:
n = this.onLogin(t);
break;

case h.Events.Logout:
n = this.onLogout(t);
break;

case h.Events.Message:
n = this.onMessage(t);
break;

case h.Events.MultiplayerJoin:
n = this.onMultiplayerJoin(t);
break;

case h.Events.Transaction:
n = this.onTransaction(t);
break;

case h.Events.SpartaStart:
r = !0, n = this.onSpartaStart(t);
break;

case h.Events.SpartaEnd:
n = this.onSpartaEnd(t);
break;

case h.Events.SessionStart:
n = this.onSessionStart(t);
}
!this.hasFetchedSegments && this.getGame().length > 0 && c.onlineState.hasGatewaySession && this.loadUserSegments(), 
r && (this.sendEvents(), this.generateGuid());
var o = new _(e, n, this.getSequence(), this.getGameSessionId());
this.queue.add(o);
}
}, e.prototype.setUser = function C(e) {
this.user = e;
}, e.prototype.getGameSessionId = function A() {
return this.gameSessionId;
}, e.prototype.getParentSessionId = function P() {
return this.parentSessionId;
}, e.prototype.getGame = function O() {
return this.currentGame || "";
}, e.prototype.getRelease = function R() {
var e = "";
return c.gatewayState.session.entitlements.hasTrial(this.currentGame) && (SpartaGlobals.bundleIsPC ? e = "trial_origin_access" : SpartaGlobals.bundleIsXBOXONE && (e = "trial_ea_access")), 
e;
}, e.prototype.getPayload = function k(e) {
return {
game: this.getGame(),
uuid: this.uuid,
gameSessionId: this.getGameSessionId(),
parentSessionId: this.getParentSessionId(),
events: e,
sessionDuration: this.getSessionTime(),
build: this.getGameBuild(),
release: this.getRelease()
};
}, e.prototype.getSegmentString = function x() {
return this.userSegments.join(",");
}, e.prototype.onGameStart = function M(e) {
return e ? (this.gameStartTimer = new Date().getTime(), this.isClientReady = !0, 
e.hasOwnProperty("gameType") || (e.gameType = ""), e.hasOwnProperty("gameMode") || (e.gameMode = ""), 
e.hasOwnProperty("params") || (e.params = {}), this.currentGameMode = e, e) : void 0;
}, e.prototype.onMultiplayerJoin = function N(e) {
var t = e.server, n = e.matchmakingSession, r = e.joinedFriends;
t || (t = {}, console.error("TelemetryClient onMultiplayerJoin - Expected server to be set"));
var o = {
joinStatus: n ? "found" : "success",
joinMethod: n ? "matchmaking" : "direct",
gameMode: t.mapMode,
map: t.mapName,
networkTopology: "client_server_dedicated",
gamePhase: "pre-game",
blazeGameSessionId: t.gameId,
gid: t.guid,
friends: r.join(","),
source: this.joinSource.join(",")
};
return n && (o.matchmakingDuration = n.getDuration() / 1e3), this.joinSource = [], 
o;
}, e.prototype.onLogin = function D(e) {
return {
status: e ? "success" : "error",
premium: this.isPremium()
};
}, e.prototype.onLogout = function U(e) {
return {
reason: e ? "normal" : "error"
};
}, e.prototype.onMessage = function L(e) {
var t = e.recommendation, n = e.secondsDuration, r = e.messageType, o = {
messageType: "in-game",
messageService: "sparta-recommendation",
contentType: t.recommendationType || "",
messageFormat: "friend" === t.group ? "friends" : t.group,
clientState: "foreground",
status: r,
sdur: n,
messageId: t.telemetryId || t.recommendationId,
segmentId: this.getSegmentString(),
batchId: t.batchId,
ruleId: t.ruleName || "",
destinationId: t.positionIndex ? t.positionIndex.toString() : "",
destinationName: this.getMessageSource()
}, a = t.filter;
if (a) {
var i = a.gameModes ? Object.keys(a.gameModes)[0] : void 0, s = a.maps ? Object.keys(a.maps)[0] : void 0;
o.custom = {
mode: i,
map: s
};
}
return o;
}, e.prototype.onGameEnd = function $() {
var e = this.currentGameMode;
return g["default"].extend(e, {
sessionDuration: this.getSessionTime(),
careerPlayDuration: this.getGameDuration()
});
}, e.prototype.onTransaction = function G(e) {
return {
transactionCode: e.transactionCode || "entitlement",
transactionSource: "battlepack_store",
transactionType: e.transactionType,
status: e.status,
price: e.price,
balance: e.balance,
currency: e.currency,
itemId: e.itemId,
revenueModel: e.revenueModel
};
}, e.prototype.onSpartaStart = function F() {
return {
gameType: "online",
gameMode: "sparta"
};
}, e.prototype.onSpartaEnd = function B() {
return {
gameType: "online",
gameMode: "sparta",
sessionDuration: this.getSessionTime()
};
}, e.prototype.onSessionStart = function j() {
return {
premium: this.isPremium()
};
}, e;
}();
t["default"] = T, e.exports = t["default"];
}, function(e, t, n) {
var r = n(15), o = n(60), a = [], i = r.createStore({
init: function s() {
o.allModulesDidLoad.listen(function(e) {
a = [].concat(e), i.trigger(a);
});
},
getState: function l() {
return a;
}
});
e.exports = i;
}, function(e, t) {
function n() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
this.host = e.host, this.ip = e.ip, this.pingSiteAlias = e.pingSiteAlias, this.ping = e.ping, 
this.createdAt = e.createdAt || Date.now();
}
e.exports = n;
}, function(e, t, n) {
var r = n(5), o = n(421), a = {
PC: new o("PC", "win32", "cem_ea_id"),
XBOXONE: new o("XBOXONE", "gen4a", "xbox"),
PS4: new o("PS4", "gen4b", "ps3")
};
a.list = r.values(a), a.byIdentifier = r.object(r.map(a.list, function(e) {
return [ e.identifier, e ];
})), e.exports = a;
}, function(e, t) {
e.exports = {
EU: "eu",
JP: "jp",
RU: "ru",
NA: "na"
};
}, function(e, t, n) {
e.exports = n(722);
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a() {
u.events.onMouseEventBeforePropagation.listen(function(e) {
if (e.button === f.MouseButton.Wheel && 0 !== e.surfaces.length && e.event === f.MouseEventType.onMouseUp) {
var t = e.surfaces[e.surfaces.length - 1];
t && t.x < 15 && t.y < 15 && p["default"].gotoLocation("debug-screen");
}
});
}
var i = n(29), s = o(i), l = n(52), u = n(3), c = n(18), p = o(c), f = r(u), d = n(9), h = n(8), y = "UIInputAction_TwinkleOption1";
e.exports = {
actions: {},
components: [],
initialize: function g() {
var e = null;
f.events.onConsoleMessage.listen(function(e) {
"debugscreen" === e && p["default"].gotoLocation("debug-screen");
}), u.events.onInputActionUp.listen(function(t, n) {
n === y && Date.now() - e > 5e3 && h.settingsStore.isFeatureEnabled("debugscreen") && p["default"].gotoLocation("debug-screen");
}), u.events.onInputActionDown.listen(function(t, n) {
n === y && (e = Date.now());
}), d.when(function() {
return h.settingsStore.isFeatureEnabled("debugscreen");
}, function() {
return a();
}), s["default"].addRouteConfig(new l.Route("debug-screen", {
view: n(565),
logoUrl: !1,
enableMainMenu: !1,
disableBackground: !0,
excludeFromHistory: !0,
priority: 999,
children: []
}));
}
};
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(51), h = n(14), y = s(h), g = n(78), m = s(g), b = n(310), v = n(41), _ = s(v), S = n(8), T = n(7), w = n(27), E = s(w), I = {
_$PresenceTester: {
displayName: "PresenceTester"
}
}, C = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-developer/src/components/PresenceTester.jsx",
components: I,
locals: [],
imports: []
}), A = new d.Store([]);
m["default"].handleMessage.listen(function(e) {
A.setState([].concat(A.getState(), [ {
date: new Date(),
message: e,
user: S.onlineState.sessionUser
} ]));
});
var P = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this.state.messages.map(function(e, t) {
var n = e.date, o = e.message, a = e.user, i = a ? a.displayName : "null", s = [ n.getHours(), n.getMinutes(), n.getSeconds() ].join(":"), l = s + ": sessionUser: " + i + ", message: " + o.toString();
return {
$$typeof: c,
type: T.Text,
key: t,
ref: null,
props: r(T.Text.defaultProps, {
size: "S",
value: l
}),
_owner: null
};
});
return {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
children: [ {
$$typeof: c,
type: T.Text,
key: null,
ref: null,
props: r(T.Text.defaultProps, {
value: "PresenceState:",
size: "XL",
style: {
marginBottom: 20
}
}),
_owner: null
}, {
$$typeof: c,
type: b.ConnectionState,
key: null,
ref: null,
props: r(b.ConnectionState.defaultProps, {}),
_owner: null
}, {
$$typeof: c,
type: T.Text,
key: null,
ref: null,
props: r(T.Text.defaultProps, {
value: "PresenceStatusMessages",
size: "XL",
style: {
marginBottom: 20,
marginTop: 20
}
}),
_owner: null
}, e ],
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$PresenceTester")(t) || t, t = y["default"]({
presence: _["default"],
messages: A
})(t) || t;
}(f["default"].Component);
t["default"] = P, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(725);
}, function(e, t, n) {
var r = n(567), o = n(566), a = n(219), i = n(29), s = n(52).Route, l = n(60), u = n(35), c = n(728), p = n(48), f = n(53);
e.exports = {
actions: {
GameActions: u,
GameViewActions: p
},
stores: {
GameStateStore: n(36),
GameViewStateStore: f,
PingSiteStore: n(92),
EntitledGameStore: n(729),
GameEntitlementStore: n(67)
},
types: {
Game: n(167),
GameState: n(283)
},
initialize: function d() {
n(726)(), r.crossLaunchBindings(), o.crossLaunchAbstractGameBindings(), n(727)(), 
c.startListening(), l.allModulesDidLoad.listen(u.refreshInstalledGames), a.initTranslatorForGameView(f), 
i.addRouteConfig(new s("gameview", {
logoUrl: !1,
enableMainMenu: !1,
disableBackground: !0,
excludeFromHistory: !0,
emptyView: !0,
priority: Number.MAX_VALUE
}));
}
};
}, function(e, t, n) {
(function(t, __) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (ve) {
for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; t > r; r++) n[r - 1] = arguments[r];
_e.log.apply(_e, [ e ].concat(n));
}
}
function a(e, t) {
return e.party ? w["default"].request("Game.reserveSlotsAsGroup", {
game: e.server.game,
gameId: e.server.gameId,
gameProtocolVersion: t,
groupId: e.party.blazeGroupId,
currentGame: S["default"].getHostingGame().gameId,
settings: {
role: e.role,
additionalPlayers: e.party.playableMemberIds.map(function(t) {
return {
personaId: parseInt(t.personaId, 10),
role: e.role
};
})
}
}) : w["default"].request("Game.reserveSlot", {
game: e.server.game,
gameId: e.server.gameId,
gameProtocolVersion: t,
currentGame: S["default"].getHostingGame().gameId,
settings: {
role: e.role
}
});
}
function i(e) {
return new Promise(function(t, n) {
function r(t) {
console.error(t), N["default"].setGameServerQueue({
gameId: e.server.game,
blazeGameId: e.server.gameId,
status: q.QueueStatus.Failed
}), t && t.toHumanReadable ? n(t) : n();
}
var o = null;
if (S["default"].getState().hostingGameId === e.server.game && (o = S["default"].getState().protocolVersion), 
e.squad) return e.squad.size > e.server.slots[e.role].max - e.server.slots[e.role].current ? void R.confirm(__("ID_SPARTA_USER_PARTY_TOO_FEW_SLOTS_MESSAGE", !0), __("ID_SPARTA_USER_PARTY_TOO_FEW_SLOTS_TITLE", !0), __("ID_SPARTA_ACTION_CONTINUE", !0), __("ID_SPARTA_ACTION_CANCEL", !0), "fewSlots").then(function() {
t(e);
})["catch"](function(e) {
console.error(e), n();
}) : void t(e);
var i = a(e, o);
N["default"].setGameServerQueue({
gameId: e.server.game,
blazeGameId: e.server.gameId,
status: q.QueueStatus.None
}), i.then(function(r) {
if (Se) return N["default"].resetGameServerQueue(), void n();
var o = r.status, a = r.errorResponse;
if ("Joined" === o) N["default"].setGameServerQueue({
gameId: e.server.game,
blazeGameId: e.server.gameId,
status: q.QueueStatus.Joined
}), t(e); else if ("Queued" === o) N["default"].setGameServerQueue({
gameId: e.server.game,
blazeGameId: e.server.gameId,
status: q.QueueStatus.Queued
}); else if ("Failed" === o) {
N["default"].resetGameServerQueue();
var i = a ? Y.lookupGatewayJoinError(a) : Y.JoinResultType.unknownError;
n(new J["default"]({
resultType: i
}));
}
})["catch"](r);
var s = N["default"].handleQueueStatusUpdate.listen(function(r) {
if (r.gameId !== e.server.gameId) return Ee[r.gameId] = r, void console.warn("Ignored join status update for gameId:", r.gameId, "expected:", e.server.gameId);
if (Se) return N["default"].resetGameServerQueue(), s(), void n();
var o = r.queueStatus.status.value;
o === q.QueueStatus.Joined ? (s(), t(e)) : o === q.QueueStatus.Failed && (s(), n(__("ID_SPARTA_ONLINE_JOIN_NO_SLOTS_AVAILABLE")));
}), l = N["default"].stopGame.listen(function() {
s(), l();
});
});
}
function s(e) {
N["default"].setGameServerQueue({
status: q.QueueStatus.Cancelled
}), e ? w["default"].request("Game.leaveGame", {
game: e.game,
gameId: e.gameId
}) : h.frostbite.sendMessage("warsaw.leaveGame");
}
function l(e) {
j["default"].joinMultiplayerServer(e);
}
function u(e) {
j["default"].joinMultiplayerFriend(e);
}
function c(e) {
return Se && we ? (Se = !1, void (we = !1)) : (console.error("handleJoinFailed: ", e), 
e && d(e), U["default"].onJoinMultiplayerFailed(), N["default"].stopGame(), void O["default"].showComponent("all"));
}
function p(e) {
var t = F["default"].getState(), n = ce["default"].getState();
Se = !0, t.isRunning && e ? h.frostbite.sendMessage("sparta.leaveGame") : n.isPending && fe["default"].stopMatchmaking(), 
t.queue.status === q.QueueStatus.Queued && s(t.server), N["default"].leftServer();
}
function f() {
var e = v["default"].getState();
return e.isMissingMPPrivileges() && SpartaGlobals.bundleIsPS4;
}
function d(e, n) {
E.waitForTranslations().then(function() {
var r = !0;
if (e.disconnectionType === I.DisconnectionType.missingContent) {
var o = e.server || n;
o && (t.info("Found disconnectionType=missingContent, showing missing content joinflow popup."), 
r = C.validateContentAccessToServerWithPopup(o));
}
if (r) {
var a = e;
a.toHumanReadable || (a = new J["default"]({
customMessage: "string" == typeof e && e,
resultType: Y.JoinResultType.unknownError
})), m["default"].spartaErrorMessage(a.toHumanReadable(), a.getTitle());
}
});
}
var h = n(3), y = n(8), g = n(60), m = r(g), b = n(41), v = r(b), _ = n(19), S = r(_), T = n(24), w = r(T), E = n(218), I = n(284), C = n(222), A = n(156), P = n(29), O = r(P), R = n(31), k = n(25), x = r(k), M = n(35), N = r(M), D = n(91), U = r(D), L = n(89), $ = r(L), G = n(36), F = r(G), B = n(90), j = r(B), H = n(153), V = n(222), z = n(56), W = r(z), q = n(182), K = n(280), X = n(422), Y = n(181), J = r(Y), Q = n(23), Z = r(Q), ee = n(43), te = r(ee), ne = n(233), re = r(ne), oe = n(281), ae = r(oe), ie = n(356), se = n(48), le = r(se), ue = n(84), ce = r(ue), pe = n(294), fe = r(pe), de = n(49), he = r(de), ye = n(253), ge = n(39), me = n(126), be = n(318), ve = !1, _e = t.get("GameBindings"), Se = !1, Te = null, we = !1, Ee = {}, Ie = [ function(e, t) {
return "onFrostbiteMessage" === e && "sparta.friendInviteResp" === t[0] && t[1].event === t[1].Event_InviteAccepted;
}, function(e, t) {
return "onFrostbiteMessage" === e && "game.serverDisconnectedMessage" === t[0] && t[1].disconnectReason === t[1].DISCONNECT_OK;
}, function(e, t) {
return "onFrostbiteMessage" === e && "game.joinResultMessage" === t[0] && t[1].joinResult === t[1].JoinResult_Success && t[1].joinEvent === t[1].Event_Joined;
} ];
h.options.batchCallTransformer = function(e) {
var t = [], n = -1;
return e.forEach(function(e, r) {
var o = Ie[t.length];
o && o(e[0], e[1]) && t.push(r), "onFrostbiteMessage" === e[0] && "sparta.activated" === e[1][0] && (n = r);
}), t.length === Ie.length && (e = e.filter(function(e, r) {
return "onFrostbiteMessage" === e[0] && "sparta.activated" === e[1][0] && r !== n ? !1 : -1 === t.indexOf(r);
})), e;
}, e.exports = function Ce() {
N["default"].refreshInstalledGames.listen(function() {
h.frostbite.sendMessage("sparta.getInstalledGames");
}), N["default"].handleJoinReady.listen(function(e, t) {
N["default"].setGameServer(e.server), N["default"].setGameServerRole(e.role), t && x["default"].closeAll();
}), $["default"].onDisconnected.listen(function() {
F["default"].getState().isRunning || N["default"].leftServer();
}), N["default"].joinServer.listen(function(e) {
if (Se = !1, e.server.game !== S["default"].getState().hostingGameId) {
var t = ye.getCrosslaunchSetting();
if (t === ye.CrosslaunchSetting.None) return void ge.showNotInHostingGameAlert();
if (!ye.ownsGame(e.server.game)) return void ye.showMissingGamePopup(e.server.game);
}
var n = function r(e) {
return new Promise(function(t) {
Z["default"].trackFilterJoin(e.server), N["default"].handleJoinReady(e), t(e);
}).then(X.checkMPInstalled).then(X.checkQoSReady).then(i).then(function(e) {
return new Promise(function(t) {
var n = e.server;
be.tryShowTutorial(e.server.mapMode, n.game, e.role).then(function() {
t(e);
});
});
}).then(l)["catch"](c);
};
K.checkPresenceReady(e).then(H.checkGameState).then(function(e) {
return Se = !1, e;
}).then(V.checkJoinOptions).then(n, function() {
return console.info("Join cancelled: pre-check failed.");
});
}), N["default"].joinFriend.listen(function(e) {
K.checkPresenceReady(e).then(H.checkGameState).then(X.checkMPInstalled).then(X.checkQoSReady).then(u)["catch"](c);
}), N["default"].joinMatchmakingResult.listen(function(e) {
Se = !1, K.checkPresenceReady(e).then(H.checkGameState).then(function(e) {
return Se = !1, e;
}).then(V.checkJoinOptions).then(function(e) {
return N["default"].handleJoinReady(e), e;
}).then(l)["catch"](c);
}), N["default"].stopGame.listen(function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? !1 : arguments[0], t = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1];
if (e) {
var n = O["default"].handleBlackFadeDone.listen(function() {
n(), p(t);
});
O["default"].handleBlackFadeStart(1);
} else p(t);
}), N["default"].activateEor.listen(function() {
h.frostbite.sendMessage("sparta.eorActivated");
}), N["default"].sendServerInvite.listen(function(e) {
h.frostbite.sendMessage("sparta.inviteFriendRequest", {
spartaUserId: e.spartaUserId
});
}), U["default"].onJoinMultiplayerServerResult.listen(function(e) {
var t = F["default"].getState();
if (o("onJoinMultiplayerServerResult", e, t), y.takeoverStore.disable(), t.queue.status === q.QueueStatus.Queued) {
o("onJoinMultiplayerServerResult - already queued");
var n = t.server && e.server && t.server.gameId !== e.server.gameId;
n && (console.warn("We are switching from queued to a new server, expect some warnings/errors"), 
w["default"].request("Game.leaveGame", {
game: t.server.game,
gameId: t.server.gameId
}), Se = !0, we = !0, N["default"].handleQueueStatusUpdate({
gameId: t.server.gameId,
queueStatus: {}
}));
}
if (ce["default"].getState().isPending && fe["default"].stopMatchmaking({
joinOnFriend: !0
}), Te && Te(), e.eventType === Y.JoinEventType.queued || e.resultType === Y.JoinResultType.queued ? (o("onJoinMultiplayerServerResult - queued"), 
N["default"].setGameServerQueue({
gameId: e.gameId,
blazeGameId: e.blazeGameId,
status: q.QueueStatus.Queued
}), Ee[e.blazeGameId] && N["default"].handleQueueStatusUpdate(Ee[e.blazeGameId])) : N["default"].resetGameServerQueue(), 
e.resultType === Y.JoinResultType.queued) o("onJoinMultiplayerServerResult - queued"), 
ie.joinFlowState.start(e.gameId); else if (e.resultType === Y.JoinResultType.success) {
if (o("onJoinMultiplayerServerResult - success"), e.server) if (N["default"].joinedServer(e.server), 
t.server) t.server.gameId !== e.server.gameId && N["default"].handleJoinReady(me.createJoinOptions(e.server), !0); else if (A.isVisibleStore.getState()) var r = O["default"].handleStartScreenClosed.listen(function() {
r(), N["default"].handleJoinReady(me.createJoinOptions(e.server), !0);
}); else N["default"].handleJoinReady(me.createJoinOptions(e.server), !0);
} else {
if (o("onJoinMultiplayerServerResult - failure"), f()) return;
c();
}
}), U["default"].onMultiplayerServerDisconnection.listen(function(e) {
if (ie.joinFlowState.isRunning) {
var t = F["default"].getState(), n = e.shouldShowErrorMessage(), r = t.queue.status === q.QueueStatus.Cancelled;
N["default"].stopGame(t.navigationState !== W["default"].FrontEnd, !1), te["default"].refreshCareer(), 
x["default"].closeAll(), n && !r && (t.navigationState === W["default"].FrontEnd ? d(e, t.server) : !function() {
var n = F["default"].scope("navigationState").listen(function(r) {
r === W["default"].FrontEnd && (n(), d(e, t.server));
});
}());
}
}), h.frostbite.registerMessageListener("sparta.friendInviteResp", function(e, t) {
var n;
if (t.event !== t.Event_InviteAcceptFailed || t.failureReason !== t.FailureReason_AlreadyInSession) {
var r, o = (n = {}, n[t.FailureReason_NoMpPrivilege] = Y.JoinResultType.noMultiplayerPrivilege, 
n[t.FailureReason_InviteExpired] = Y.JoinResultType.inviteExpired, n[t.FailureReason_AlreadyInSession] = Y.JoinResultType.alreadyInSession, 
n[t.FailureReason_TooYoung] = Y.JoinResultType.tooYoung, n);
t.event === t.Event_InviteAccepted ? r = Y.JoinResultType.success : t.event === t.Event_InviteAcceptFailed && (r = o[t.failureReason]);
var a = new J["default"]({
resultType: r
});
if (a.resultType === Y.JoinResultType.success) fe["default"].stopMatchmaking({
joinOnFriend: !0
}), le["default"].route("loading"), Te = re["default"].onPartyUpdated.listen(function(e) {
var t = e && "0" !== e.gameId && e.gameId, n = F["default"].getState(), r = !n.server || n.server && n.server.gameId !== t;
t && r && (Te(), ae["default"](t).then(function(e) {
N["default"].handleJoinReady(me.createJoinOptions(e), !0);
}));
}); else if (a.resultType === Y.JoinResultType.noMultiplayerPrivilege) if (f()) {
he["default"].purchasePsPlus();
var i = t.inviteToken;
i && i.spartaUserId && N["default"].setDelayedGameInvite({
friendUserId: i.spartaUserId
});
} else console.warn("User has been invited to a game but has no MP privilege. Join flow aborted"); else r && c(a);
}
});
};
}).call(t, n(97), n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(5), a = r(o), i = n(279), s = r(i), l = n(92), u = r(l), c = n(424), p = r(c), f = n(220), d = r(f), h = n(221), y = r(h), g = n(41), m = r(g), b = {
dub: "ams",
ams: "dub",
brz: "gru",
gru: "brz",
lax: "sjc",
sjc: "lax"
};
t["default"] = function() {
s["default"].setPingSites.listen(function(e, t) {
m["default"].getState().isQoSReady && d["default"].qosPing(t.map(function(e) {
return e.alias;
}));
}), m["default"].scope("isQoSReady").listen(function(e) {
if (e) {
var t = u["default"].getState();
Object.keys(t).forEach(function(e) {
d["default"].qosPing(Object.keys(t[e]));
});
}
}), y["default"].qosPingCompleted.listen(function(e, t, n) {
var r = u["default"].getState();
Object.keys(r).forEach(function(n) {
var o = r[n][e];
if (o) s["default"].updatePingSites(n, [ new p["default"](a["default"].extend({}, o, {
ping: t
})) ]); else {
var i = null;
if (a["default"].forEach(r[n], function(t, n) {
t.matchingAliases && t.matchingAliases.indexOf(e) > -1 && (i = t);
}), null == i && b[e] && r[n][b[e]] && (i = r[n][b[e]]), i) {
var l = new p["default"](a["default"].extend({}, i, {
ping: t
}));
s["default"].updatePingSites(n, [ l ]);
}
}
});
});
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(5), a = r(o), i = n(21), s = r(i), l = n(8), u = n(279), c = r(u), p = n(24), f = r(p), d = n(424), h = r(d), y = s["default"].createClient({
requestOn: [ f["default"].onSessionEstablished ],
throttle: 3e4,
listener: function g() {
var e = l.gameStore.enabledGameIds;
return [ e ];
},
request: function m(e) {
return f["default"].request("Matchmaking.listPingSitesMulti", {
games: e
});
},
parse: function b(e) {
return a["default"].chain(e).map(function(e) {
var t = e.pingSiteAddressList.map(function(e) {
return new h["default"](e);
});
return [ e.env.game, t ];
}).object().value();
},
update: function v(e) {
a["default"].each(e, function(e, t) {
c["default"].setPingSites(t, e);
});
}
});
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(5), a = r(o), i = n(51), s = n(8), l = n(67), u = r(l), c = i.Store.join(i.Store.fromMobxStore(function() {
return s.gameStore.games;
}), u["default"]).transform(function(e, t) {
return a["default"].chain(e.toJS()).filter(function(e, n) {
return t.hasOnlineAccess(n);
}).map(function(e) {
return [ e.gameId, e ];
}).object().value();
});
t["default"] = c, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(731);
}, function(e, t, n) {
var r = n(360), o = n(154), a = n(285), i = n(286), s = n(429), l = n(734), u = n(736), c = n(735), p = n(431), f = n(432), d = n(430), h = n(428), y = n(426), g = n(738), m = n(427), b = {
stores: {
ServerStore: n(361).ServerStore,
ServerGameDataStore: n(79),
ServerFilterStore: n(133),
ServerBookmarkStore: n(434),
ServerHistoryStore: n(291),
ServerDetailsStore: n(290),
RentedServerDetailsStore: n(120),
SavedFiltersStore: n(225),
GameHintStore: n(433)
},
actions: {
ServerActions: n(23)
},
initialize: function v() {
r.ServerClient.startListening(), i.startListening(), s.startListening(), l.startListening(), 
u.startListening(), c.startListening(), p.startListening(), o.startToggleBookmarkClient(), 
f.startListening(), a.ListRSPClient.startListening(), d.startListening(), h.startListening(), 
y.startListening(), g.startListening(), m.startListening();
}
};
e.exports = b;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return w(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(14), y = s(h), g = n(7), m = n(28), b = s(m), v = n(16), _ = n(435), S = s(_), T = {
_$ServerCount: {
displayName: "ServerCount"
}
}, w = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-gameservers/src/ServerCount.jsx",
components: T,
locals: [],
imports: []
}), E = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.subscribeToStores({
count: b["default"](S["default"], this.props.counterId)
}), this.tweens = {
scale: v.Animation.tween("6803d5f9:17", 1, v.Animation.presets.list.enter)
};
}, t.prototype.shouldComponentUpdate = function l(e, t) {
return null !== t.count && this.state.count !== t.count;
}, t.prototype.componentWillUpdate = function u() {
var e = this;
this.scaleTo(1.25).then(function() {
return e.scaleTo(1);
});
}, t.prototype.componentWillUnmount = function f() {
this.tweens.scale.destroy();
}, t.prototype.scaleTo = function d(e) {
var t = this;
return new Promise(function(n) {
t.tweens.scale.isDestroyed() ? n() : t.tweens.scale.to(e, null, n);
});
}, t.prototype.formatCount = function h(e) {
return null == e ? "" : 0 === e ? __("ID_SPARTA_SERVER_COUNT_0") : 1 === e ? __("ID_SPARTA_SERVER_COUNT_1") : e >= 100 ? __("ID_SPARTA_SERVER_COUNT_OVER100") : __("ID_SPARTA_SERVER_COUNT_NORMAL").replace("[[count]]", e);
}, t.prototype.render = function m() {
var e = this.formatCount(this.state.count).toUpperCase(), t = {
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle()
};
return {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: r(g.Text.defaultProps, {
value: e,
gameId: this.props.gameId,
size: this.props.size,
style: c({}, this.props.style, this.props.scale ? t : {})
}),
_owner: null
};
};
var n = t;
return t = i("_$ServerCount")(t) || t, t = y["default"]()(t) || t;
}(d["default"].Component);
t["default"] = E, E.propTypes = {
counterId: d["default"].PropTypes.string.isRequired,
gameId: d["default"].PropTypes.string.isRequired,
style: d["default"].PropTypes.object
}, E.defaultProps = {
scale: !1
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return w(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(14), h = s(d), y = n(28), g = s(y), m = n(16), b = n(435), v = s(b), _ = n(22), S = s(_), T = {
_$ServerCountButton: {
displayName: "ServerCountButton"
}
}, w = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-gameservers/src/ServerCountButton.jsx",
components: T,
locals: [],
imports: []
}), E = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.subscribeToStores({
count: g["default"](v["default"], this.props.counterId)
}), this.tweens = {
scale: m.Animation.tween("e55d0591:19", 1, m.Animation.presets.list.enter)
};
}, t.prototype.shouldComponentUpdate = function l(e, t) {
return null !== t.count && this.state.count !== t.count;
}, t.prototype.componentWillUpdate = function u() {
var e = this;
this.scaleTo(1.25).then(function() {
return e.scaleTo(1);
});
}, t.prototype.componentWillUnmount = function p() {
this.tweens.scale.destroy();
}, t.prototype.scaleTo = function f(e) {
var t = this;
return new Promise(function(n) {
t.tweens.scale.isDestroyed() ? n() : t.tweens.scale.to(e, null, n);
});
}, t.prototype.render = function d() {
var e = __("ID_SPARTA_ACTION_SERVER_VIEW");
null != this.state.count && (e = this.state.count >= 100 ? __("ID_SPARTA_ACTION_SERVER_VIEW_COUNT_OVER100") : __("ID_SPARTA_ACTION_SERVER_VIEW_COUNT").replace("[[serverCount]]", this.state.count));
var t = this.props.scale ? {
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle()
} : {};
return {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
text: e,
action: this.props.action,
style: this.props.style,
textStyle: t
}),
_owner: null
};
};
var n = t;
return t = i("_$ServerCountButton")(t) || t, t = h["default"]()(t) || t;
}(f["default"].Component);
t["default"] = E, E.propTypes = {
counterId: f["default"].PropTypes.string.isRequired,
action: f["default"].PropTypes.func.isRequired,
style: f["default"].PropTypes.object,
scale: f["default"].PropTypes.bool
}, E.defaultProps = {
scale: !1
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = i["default"].reduce(e.filters, function(e, t) {
return e.protocolVersion === t.protocolVersion ? t : {};
});
return t.protocolVersion && (e.protocolVersion = t.protocolVersion), e;
}
var a = n(5), i = r(a), s = n(21), l = r(s), u = n(23), c = n(24), p = l["default"].createClient({
requestOn: [ u.fetchServerCounts ],
throttle: 500,
shouldPerformRequest: function f(e) {
return e.length > 0;
},
request: function d(e) {
var t = {
filters: e,
stopCountingAt: 100
};
return c.request("GameServer.countServers", o(t));
},
parse: function h(e) {
return e;
},
update: function y(e) {
u.setServerCounts(e);
}
});
e.exports = p;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(21), a = r(o), i = n(23), s = r(i), l = n(24), u = r(l), c = n(104), p = r(c), f = n(133), d = r(f), h = n(155), y = n(287), g = a["default"].createClient({
requestOn: [ s["default"].trackFilterJoin ],
shouldPerformRequest: function m(e) {
var t = e.game, n = d["default"].getState()[t], r = p["default"].getState()[t];
return !y.isDefaultFilter(n, r);
},
request: function b(e) {
var t = e.game, n = d["default"].getState()[t], r = h.formatFilter(n);
return u["default"].request("Recommender.notifyFilterJoin", {
game: t,
filterJson: JSON.stringify(r)
});
},
parse: function v(e) {
return e;
},
update: function _() {}
});
e.exports = g;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(5), a = r(o), i = n(50), s = n(21), l = r(s), u = n(8), c = n(23), p = r(c), f = l["default"].createClient({
requestOn: [ i.gatewayClient.onSessionEstablished, p["default"].refreshGameData ],
listener: function d() {
return [ Object.keys(u.gameStore.games.toJS()) ];
},
request: function h(e) {
return i.gatewayClient.request("Gamedata.getGameServerData", {
games: e
});
},
parse: function y(e) {
return Object.keys(e).forEach(function(t) {
var n = e[t];
n.maps = n.maps.filter(function(e) {
return "MP" === e.levelType.toUpperCase();
}), "bf4" === t && a["default"].each(n.maps, function(e) {
return e.prettyName = e.name;
}), a["default"].each(n.modes, function(e) {
e.objectives && "EXAMPLE_HINT_NOT_IN_LOC" === e.objectives[0] && (e.objectives = []);
}), n.gameModes = n.modes, a["default"].each(n.gameModes, function(e) {
if (e.header && "" !== e.header && (e.catchphrase = e.header), e.body && "" !== e.body && (e.description = e.body), 
e.disabledFor = [], "Breakthrough" === e.name ? e.disabledFor = [ "ServerFilter" ] : "BreakthroughLarge" === e.name && (e.disabledFor = [ "ServerFilter", "QuickMatch" ]), 
e.videoUrl = null, n.tutorials) {
var t = a["default"].find(n.tutorials, function(t, n) {
return n === e.shortFilterKey;
});
t && (e.videoUrl = t);
}
});
}), e;
},
update: function g(e) {
p["default"].setGameData(e);
}
});
t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(21), a = r(o), i = n(24), s = a["default"].createClient({
throttle: 500,
request: function l(e, t) {
return i.request("GameServer.verifyPassword", {
game: e.game,
gameId: e.gameId,
password: t
});
},
parse: function u(e) {
return e;
},
update: function c(e) {
this.publish(e);
}
});
e.exports = s;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(21), a = r(o), i = n(24), s = r(i), l = n(23), u = r(l), c = n(288), p = a["default"].createClient({
requestOn: [ u["default"].updateSavedFilter ],
request: function f(e, t, n) {
if (!e || !t || !n) throw new Error("Missing parameter, expected gameId, savedFilter");
var r = {
game: e,
id: t.id,
name: t.filterName,
filterJson: c.writeFilterJson(n)
};
return s["default"].request("GameServer.updateFilter", r);
},
onRequestError: function d(e, t) {
this.publish(t.game, null, e);
},
parse: function h(e) {
return e;
},
update: function y(e, t, n, r, o) {
this.publish(n, o);
}
});
t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(741);
}, function(e, t, n) {
var r = n(58), o = n(52).Route;
e.exports = new o({
fonts: {
normal: r.localeState.fonts.generic.normal,
emphasis: r.localeState.fonts.generic.emphasis
}
});
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? function() {} : arguments[2];
t = t || __("ID_SPARTA_GAMESTATE_ERROR");
var r = e && (e.title || e) + "\n" + (e.description || "") || "";
a.alert(r, t).then(function() {
u.handleErrorPopupDismissed(), n();
});
}
var o = n(754), a = n(31), i = n(439), s = t(i), l = (n(1), n(60)), u = n(29), c = n(438);
n(575), e.exports = {
components: [ s["default"] ],
stores: {
LayoutVisibilityStore: n(61)
},
actions: {
LayoutActions: u,
OtherActions: c
},
initialize: function p() {
n(742)(), o.notificationBindings(), l.spartaErrorMessage.listen(r);
}
};
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(3), a = n(438), i = r(a), s = n(18), l = r(s), u = n(8);
e.exports = function() {
l["default"].goToParentRoute.listen(function() {
var e = u.layoutStateStore.current.config.parent;
e && l["default"].gotoLocation(e.location);
}), i["default"].spartaClientCaptureMouse.listen(function() {
o.frostbite.sendMessage("sparta.captureMouse");
}), i["default"].spartaClientMinimizeWindow.listen(function() {
o.frostbite.sendMessage("sparta.minimizeSpartaWindow");
}), i["default"].spartaClientExitToWindows.listen(function() {
o.frostbite.sendMessage("sparta.exitToWindows");
});
};
}, function(e, t, n) {
var r = n(15), o = {
sectionTransitionComplete: r.createAction()
};
e.exports = o;
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return U(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(3), y = n(190), g = s(y), m = n(6), b = s(m), v = n(437), _ = s(v), S = n(118), T = s(S), w = n(29), E = s(w), I = n(20), C = s(I), A = n(13), P = s(A), O = n(12), R = s(O), k = n(7), x = n(16), M = n(10), N = n(115), D = {
_$ContextMenuOption: {
displayName: "ContextMenuOption"
},
_$ContextMenu: {
displayName: "ContextMenu"
},
_$ContextMenuContainer: {
displayName: "ContextMenuContainer"
}
}, U = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/ContextMenus.jsx",
components: D,
locals: [],
imports: []
}), L = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, $ = {
container: {
zOffset: 9e4,
position: "absolute",
top: g["default"].screen.top,
left: g["default"].screen.left,
width: g["default"].screen.width,
height: g["default"].screen.height
},
tint: p({
zOffset: 1,
backgroundColor: "#00000000"
}, L),
menu: {
zOffset: 2,
position: "absolute"
},
option: function j(e) {
return {
padding: [ 1.5 * b["default"].GUTTER, 2 * b["default"].GUTTER, 1.5 * b["default"].GUTTER, 2 * b["default"].GUTTER ],
backgroundColor: e ? "#ffffff" : "#000000",
flex: 1
};
},
optionText: function H(e) {
return {
color: e ? "#000000" : "#ffffff",
textAlignForRTL: "left"
};
}
}, G = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidMount = function s() {
var e = this;
this.props.focusItem.onClick.listen(function() {
return e.onSelected();
});
}, t.prototype.getInput = function l() {
var e = this;
return this.props.focusItem.isFocused && h.focus.system.controllerMode ? new P["default"]({
key: R["default"].Accept,
action: function t() {
return e.onSelected();
}
}) : void 0;
}, t.prototype.onSelected = function u() {
this.props.onSelected();
}, t.prototype.render = function f() {
var e = $.option(this.props.focusItem.isFocused), t = $.optionText(this.props.focusItem.isFocused);
return d["default"].createElement("surface", p({
style: e
}, this.props.focusItem.hooks), {
$$typeof: c,
type: k.Text,
key: null,
ref: null,
props: r(k.Text.defaultProps, {
type: "emphasis",
size: "XS",
value: this.props.label.toUpperCase(),
style: t
}),
_owner: null
});
};
var n = t;
return t = i("_$ContextMenuOption")(t) || t, t = C["default"]()(t) || t, t = M.observer(t) || t;
}(d["default"].Component), F = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidUpdateBounds = function s() {
this.props.onBoundsChanged && this.props.onBoundsChanged(this.bounds);
}, t.prototype.render = function l() {
var e = this, t = this.props.options.map(function(t, n) {
var o = function a() {
e.props.onOptionSelected(), t.action();
};
return {
$$typeof: c,
type: h.Focusable,
key: null,
ref: null,
props: r(h.Focusable.defaultProps, {
children: function i(e) {
return {
$$typeof: c,
type: G,
key: n,
ref: null,
props: r(G.defaultProps, {
focusItem: e,
label: t.label,
onSelected: o
}),
_owner: null
};
},
debugName: "contextmenu_" + n,
groupIndex: n,
group: N.contextMenuGroup
}),
_owner: null
};
}), n = p({}, $.menu, this.props.style);
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: n
},
_owner: null
};
};
var n = t;
return t = i("_$ContextMenu")(t) || t, t = h.hasSurfaceBounds()(t) || t;
}(d["default"].Component), B = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
isVisible: !1,
options: [],
bounds: {
left: 0,
top: 0
}
};
}
a(t, e), t.prototype.getBestBounds = function r(e, t, n, o, a) {
var i = {
left: e.x,
top: e.y,
right: e.x + t.width,
bottom: e.y + t.height
};
if ("right" === o && (i.left -= t.width, i.right -= t.width), "bottom" === o && (i.top -= t.height, 
i.bottom -= t.height), i.top < 0 && (i.top = e.y, i.bottom = e.y + t.height), i.left < 0 && (i.left = e.x, 
i.right = e.x + t.width), i.right > n.width && (i.right = e.x, i.left = e.x - t.width), 
i.bottom > n.height) {
var s = a ? e.y - a : e.y;
i.bottom = s, i.top = s - t.height;
}
return {
left: i.left,
top: i.top,
width: t.width,
height: t.height
};
}, t.prototype.displayMenu = function s(e, t, n, r, o, a, i) {
var s = this;
this.state.isVisible && this.hideMenu();
var l = function c(e) {
var o = s.getBestBounds(t, e, $.container, n, i);
o ? s.setState({
bounds: o,
isVisible: !0,
onBoundsChanged: null
}) : s.setState({
isVisible: !0,
onBoundsChanged: null
}), r && r();
}, u = a || 0;
this.setState({
options: e,
bounds: {
width: u
},
isVisible: !1,
onBoundsChanged: l
}), this.closeCallback = o, E["default"].showComponent("contextMenus"), N.contextMenuGroup.isolate();
}, t.prototype.hideMenu = function l(e) {
this.setState({
isVisible: !1,
options: [],
bounds: {}
}), this.closeCallback && (this.closeCallback(e), delete this.closeCallback), E["default"].hideComponent("contextMenus"), 
N.contextMenuGroup.deisolate();
}, t.prototype.render = function u() {
var e = this, t = p({}, $.container, {
enableMouseEvents: this.state.isVisible
}), n = p({}, $.tint, {
opacity: x.Animation.tweenTo(this.state.isVisible ? 1 : 0)
}), r = p({
opacity: this.state.isVisible ? 1 : 0
}, this.state.bounds);
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: n,
onClick: function(t) {
return e.hideMenu(t);
}
},
_owner: null
}, d["default"].createElement(F, {
ref: "menu",
options: this.state.options,
style: r,
onOptionSelected: function() {
return e.hideMenu();
},
onBoundsChanged: this.state.onBoundsChanged
}) ],
style: t
},
_owner: null
};
};
var n = t;
return t = i("_$ContextMenuContainer")(t) || t, t = T["default"]({
displayMenu: _["default"].display,
hideMenu: _["default"].hide
})(t) || t;
}(d["default"].Component);
t["default"] = B, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ae(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), h = n(1), y = l(h), g = n(9), m = n(10), b = n(3), v = r(b), _ = n(356), S = n(61), T = l(S), w = n(28), E = l(w), I = n(14), C = l(I), A = n(8), P = n(13), O = l(P), R = n(12), k = l(R), x = n(7), M = n(6), N = l(M), D = n(95), U = l(D), L = n(85), $ = l(L), G = n(17), F = l(G), B = n(36), j = l(B), H = n(84), V = l(H), z = n(67), W = l(z), q = n(35), K = l(q), X = n(48), Y = l(X), J = n(182), Q = n(16), Z = n(29), ee = l(Z), te = n(22), ne = l(te), re = n(11), oe = {
_$GameJoinNotice: {
displayName: "GameJoinNotice"
}
}, ae = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/GameJoinNotice.jsx",
components: oe,
locals: [],
imports: []
}), ie = re.bbUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"), se = {
width: 421,
height: 85
}, le = F["default"].logo.left - (se.width - F["default"].logo.width), ue = {
container: {
zOffset: 19999,
position: "absolute",
top: 0,
left: le,
width: se.width,
backgroundColor: [ 0, 0, 0, 128 ]
},
statusText: {
textAlign: "center",
textAlignForRTL: "center",
width: se.width
},
overlay: {
paddingTop: 4 * N["default"].GUTTER,
paddingBottom: 3 * N["default"].GUTTER
},
indicatorContainer: {
position: "absolute",
left: 0,
bottom: -4,
height: se.height,
width: se.width,
enableMouseEvents: !1
},
closeIcon: {
position: "absolute",
right: 15,
top: 15,
height: N["default"].getHeight(2),
width: N["default"].getHeight(2)
},
buttonsContainer: {
marginTop: 1.5 * N["default"].GUTTER,
alignItems: "center"
},
inlineInputPC: {
width: N["default"].getWidth(3.2),
height: 5 * N["default"].GUTTER
}
}, ce = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.tweens = {
translateY: Q.Animation.tween("f6adc53e:94", -N["default"].getHeight(20)),
opacity: Q.Animation.tween("f6adc53e:95", 0)
};
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this;
this.dispose = g.reaction(function() {
return _.joinFlowState.showNotice;
}, function(t) {
t ? e.showNotice() : e.hideNotice();
}, !0);
}, t.prototype.componentDidUpdate = function l(e, t) {
t.match.gameId && this.state.match.gameId && t.match.gameId !== this.state.match.gameId && this.refs.indicator && v.Native.playSpriteAnimation(this.refs.indicator.getSurfaceId(), !0);
}, t.prototype.componentWillUnmount = function u() {
var e = this;
this.dispose(), this.hideNotice().then(function() {
e.tweens.opacity.destroy(), e.tweens.translateY.destroy();
});
}, t.prototype.getReturnInput = function c() {
return this.canOpenGameView() ? new O["default"]({
label: __("ID_SPARTA_MATCHMAKING_OPEN_GAME"),
key: k["default"].Start,
action: function e() {
Y["default"].browseWhileWaiting(!1);
}
}) : void 0;
}, t.prototype.getCancelInput = function h() {
return this.canCancelMatchmaking() ? new O["default"]({
label: __("ID_SPARTA_MATCHMAKING_CANCEL_MATCHMAKING"),
key: k["default"].Start,
action: function e() {
K["default"].stopGame();
}
}) : this.canLeaveQueue() ? new O["default"]({
label: __("ID_SPARTA_MATCHMAKING_LEAVE_QUEUE"),
key: k["default"].Start,
action: function t() {
K["default"].stopGame();
}
}) : void 0;
}, t.prototype.getStatus = function b(e) {
var t = this.state.gameState.queue.getPrettyStatus(e), n = this.state.match.getPrettyStatus(), r = this.state.gameState.getPrettyState();
return r && (r = __("ID_SPARTA_MATCHMAKING_JOINING_SERVER")), t || n || r || "";
}, t.prototype.canOpenGameView = function S() {
return _.joinFlowState.isRunning && null != _.joinFlowState.gameViewComponent;
}, t.prototype.canCancelMatchmaking = function w() {
return this.state.match.isCancellable;
}, t.prototype.canLeaveQueue = function I() {
var e = this.state.gameState.queue.gameId && "0" !== this.state.gameState.queue.gameId;
return e || this.state.gameState.queue.status !== J.QueueStatus.Queued || console.warn("You can't quit a queue without a gameId"), 
this.state.gameState.queue.status === J.QueueStatus.Queued && e && this.state.gameState.queue.position >= 0;
}, t.prototype.hideNotice = function P() {
var e = this;
return new Promise(function(t) {
ee["default"].showComponent("logo"), e.tweens.translateY.to(-N["default"].getHeight(20)), 
e.tweens.opacity.to(0, null, t);
});
}, t.prototype.showNotice = function R() {
var e = this;
this.tweens.opacity.to(1), this.tweens.translateY.to(0), ee["default"].hideComponent("logo"), 
setTimeout(function() {
e.refs.indicator && v.Native.playSpriteAnimation(e.refs.indicator.getSurfaceId(), !0);
}, 500);
}, t.prototype.renderCloseIcon = function M() {
var e = this.getCancelInput();
return !this.usesController && e ? {
$$typeof: f,
type: v.Focusable,
key: null,
ref: null,
props: o(v.Focusable.defaultProps, {
children: function t(n) {
return {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: o(U["default"].defaultProps, {
focusItem: n,
action: e.action,
size: 15,
icon: ie,
style: ue.closeIcon
}),
_owner: null
};
},
debugName: "cancel_matchmaking"
}),
_owner: null
} : void 0;
}, t.prototype.renderButtons = function D() {
var e = this.getReturnInput(), t = this.usesController && this.getCancelInput(), n = e || t;
return n ? this.usesController ? {
$$typeof: f,
type: $["default"],
key: null,
ref: null,
props: o($["default"].defaultProps, {
action: n.action,
label: n.label,
inputKey: n.key,
style: ue.inlineInputConsole
}),
_owner: null
} : {
$$typeof: f,
type: ne["default"],
key: null,
ref: null,
props: o(ne["default"].defaultProps, {
action: e.action,
text: e.label,
style: ue.inlineInputPC
}),
_owner: null
} : void 0;
}, t.prototype.render = function L() {
var e = A.layoutStateStore.current.config.gameId || "generic", t = _.joinFlowState.gameId;
if (!t) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = A.gameStore.getGame(t).joinNotice, r = t && W["default"].getState().hasPremiumAccess(t), a = this.getStatus(r).toUpperCase(), i = p({}, ue.container, {
opacity: this.tweens.opacity.getStyle(),
translateY: this.tweens.translateY.getStyle()
});
this.state.shouldBlur && (i.layer = !0, i.layerBlur = 1, i.layerBlurStrength = 1);
var s = "#FFFFFF", l = ue.overlay, u = {
spriteAnimation: {
spriteSheet: n.indicatorTexture,
fps: 60,
frameWidth: se.width,
frameHeight: se.height,
totalFrames: 56,
looping: !0
},
width: se.width,
height: se.height
};
return r && (s = n.premiumTextColor, l = p({}, ue.overlay, {
texture: n.premiumOverlayTexture,
blendMode: "screen",
textureMode: "cover",
textureAlign: [ 0, 0 ]
})), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderCloseIcon(), {
$$typeof: f,
type: x.Text,
key: null,
ref: null,
props: o(x.Text.defaultProps, {
value: a,
size: SpartaGlobals.bundleIsPC ? "S" : "XS",
style: ue.statusText,
color: s,
section: e
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderButtons(),
style: ue.buttonsContainer
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: y["default"].createElement("surface", {
ref: "indicator",
style: u
}),
style: ue.indicatorContainer
},
_owner: null
} ],
style: l
},
_owner: null
},
style: i
},
_owner: null
};
}, d(t, [ {
key: "usesController",
get: function G() {
return SpartaGlobals.bundleIsConsole || v.focus.system.controllerMode;
}
} ]);
var n = t;
return t = s("_$GameJoinNotice")(t) || t, t = C["default"]({
gameState: j["default"],
match: V["default"],
shouldBlur: E["default"](T["default"], "viewTint")
})(t) || t, t = m.observer(t) || t;
}(y["default"].Component);
t["default"] = ce, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return U(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(5), p = i(c), f = n(1), d = i(f), h = n(10), y = n(20), g = i(y), m = n(14), b = i(m), v = n(52), _ = n(12), S = i(_), T = n(13), w = i(T), E = n(29), I = i(E), C = n(36), A = i(C), P = n(53), O = i(P), R = n(84), k = i(R), x = n(19), M = i(x), N = n(8), D = {
_$GameView: {
displayName: "GameView"
}
}, U = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/GameView.jsx",
components: D,
locals: [],
imports: []
}), L = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.getChildContext = function i() {
var e = M["default"].getHostingGame();
if (e) return {
routeConfig: new v.Route({
gameId: e.gameId,
fonts: e.fonts
})
};
}, t.prototype.componentWillMount = function s() {
this.configureFocus();
}, t.prototype.shouldComponentUpdate = function l(e, t) {
var n = this.getVisibility(this.state), r = this.getVisibility(t), o = this.state.gameViewState.route, a = t.gameViewState.route;
return n || r ? !0 : o !== a || r !== n;
}, t.prototype.componentWillUpdate = function c(e, t) {
var n = this.getVisibility(this.state), r = this.getVisibility(t);
n !== r && (r ? this.isolateInputGroup() : this.releaseInputGroup());
}, t.prototype.componentDidUpdate = function p() {
this.configureFocus();
}, t.prototype.getInput = function f() {
return this.getVisibility(this.state) ? N.comCenterState.canOpen ? new w["default"]({
visible: !1,
action: function e() {
return I["default"].showComponent("comCenter");
},
key: S["default"].End
}) : void 0 : [];
}, t.prototype.getVisibility = function y(e) {
return e.gameViewState.isVisible && this.getComponent(e) ? !0 : !1;
}, t.prototype.getGameId = function m(e) {
return e.match && e.match.gameId || e.gameState.gameId;
}, t.prototype.getComponent = function _(e) {
var t = N.gameStore.getGame(this.getGameId(e));
return t && t.gameViewComponent;
}, t.prototype.descendantDidFocus = function T() {
I["default"].setComponentVisibilities({
comCenter: !1
});
}, t.prototype.configureFocus = function E() {}, t.prototype.render = function C() {
var e = this.getComponent(this.state);
return e ? d["default"].createElement(e, u({
gameId: this.getGameId(this.state)
}, this.state)) : null;
};
var n = t;
return t = a("_$GameView")(t) || t, t = g["default"]({
group: !0
})(t) || t, t = b["default"]({
gameState: A["default"],
gameViewState: O["default"],
match: k["default"]
})(t) || t, t = h.observer(t) || t;
}(d["default"].Component);
t["default"] = L, L.childContextTypes = p["default"].extend({}, L.childContextTypes, {
routeConfig: d["default"].PropTypes.instanceOf(v.Route)
}), e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return N(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l), c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(481), y = s(h), g = n(61), m = s(g), b = n(16), v = n(17), _ = s(v), S = n(8), T = n(58), w = n(6), E = s(w), I = n(183), C = s(I), A = n(28), P = s(A), O = n(14), R = s(O), k = n(10), x = n(30), M = {
_$Input: {
displayName: "Input"
}
}, N = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/Input.jsx",
components: M,
locals: [],
imports: []
}), D = function $(e) {
return {
zOffset: 13e4,
position: "absolute",
justifyContent: "center",
opacity: b.Animation.tweenSwitch(0, 1, e),
enableMouseEvents: !1
};
}, U = {
layoutInputVisible: D(!0),
layoutInputHidden: D(!1)
}, L = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e, t, n = S.layoutStateStore.current.config, o = n.fonts, a = n.gameId;
o ? (t = o.letterSpacing || 0, e = a ? T.localeState.fonts[a].normal.name : T.localeState.fonts.generic.normal.name) : (console.log("No font config available, using default for route config:", S.layoutStateStore.current.config), 
e = T.localeState.fonts.generic.normal.name);
var i = this.state.isVisible ? U.layoutInputVisible : U.layoutInputHidden, s = p({}, _["default"].input.style, i), l = this.state.inverted && !this.state.hasVisiblePopups, u = null;
return this.state.isMenuVisible && SpartaGlobals.bundleIsXBOXONE && !this.state.hasVisiblePopups && (u = {
marginBottom: 1.5 * E["default"].GUTTER
}, s.width = _["default"].mainMenu.width - _["default"].dangerZoneSize.width - 4 * E["default"].GUTTER, 
s.height = 2 * s.height, s.marginTop = -_["default"].input.height + E["default"].GUTTER), 
(x.isItalianLanguage() || x.isFrenchLanguage()) && (t = 0), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
height: _["default"].input.height / 2,
inverted: l,
labelProps: {
size: "S"
},
style: p({}, u),
labelStyle: {
fontFamily: e,
textLetterSpacing: t
},
visibleMenu: this.state.isMenuVisible
}),
_owner: null
},
style: s
},
_owner: null
};
};
var n = t;
return t = i("_$Input")(t) || t, t = k.observer(t) || t, t = R["default"]({
isVisible: P["default"](m["default"], "input"),
isMenuVisible: P["default"](m["default"], "mainMenu"),
inverted: P["default"](m["default"], "invertedInput"),
hasVisiblePopups: C["default"].transform(function(e) {
return Object.keys(e).length > 0;
})
})(t) || t;
}(d["default"].Component);
e.exports = L;
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ee(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(3), g = r(y), m = n(323), b = n(9), v = n(10), _ = n(17), S = l(_), T = n(61), w = l(T), E = n(8), I = n(19), C = l(I), A = n(43), P = l(A), O = n(18), R = l(O), k = n(29), x = l(k), M = n(13), N = l(M), D = n(12), U = l(D), L = n(16), $ = n(313), G = l($), F = n(6), B = l(F), j = n(7), H = n(115), V = n(20), z = l(V), W = n(14), q = l(W), K = n(28), X = l(K), Y = n(11), J = n(30), Q = n(31), Z = {
_$DisabledMenuItem: {
displayName: "DisabledMenuItem"
},
_$MainMenuItem: {
displayName: "MainMenuItem"
},
_$MainMenuActiveIndicator: {
displayName: "MainMenuActiveIndicator"
},
_$MainMenu: {
displayName: "MainMenu"
}
}, ee = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/MainMenu.jsx",
components: Z,
locals: [],
imports: []
}), te = B["default"].GUTTER, ne = 8 * B["default"].CELL_HEIGHT, re = ne - 2 * te, oe = S["default"].dangerZoneSize, ae = 500, ie = function fe(e) {
return {
zOffset: 5e4,
position: "absolute",
padding: [ oe.height, 0, oe.height, oe.width ],
backgroundColor: "#ffffff",
translateX: L.Animation.tweenSwitch(0, S["default"].mainMenu.width, e)
};
}, se = {
mainMenuItemLabelBlurred: {
color: "#5f6165"
},
mainMenuItemDisabled: {
opacity: .3
},
disabledMenuItem: {
layer: !0,
layerGrabBackground: !1,
layerGrayScale: 1
},
mainMenuItemLabelCurrent: {
color: "#5f6165"
},
mainMenuItemLabelFocused: {
color: "#000000"
},
mainMenuItem: {
zOffset: 10,
height: ne,
flexDirection: "row",
padding: [ te, 0, te, 0 ]
},
menuVisible: ie(!0),
menuHidden: ie(!1),
menuWrapper: {
height: B["default"].getHeight(5),
marginBottom: B["default"].getHeight(10),
flexDirection: "row"
},
menuLogo: {
width: 261,
height: 50,
textureMode: "contain",
textureAlign: [ 0, .5 ],
texture: Y.bbOfflineUrl("/sparta/assets/layout/logos/logo-gray-on-white-e3651836.png")
},
activeIndicator: {
position: "absolute",
right: 0,
zOffset: 100,
top: te,
width: te,
height: re,
backgroundColor: [ 255, 153, 0, 255 ]
}
}, le = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = se.mainMenuItemLabelBlurred, t = this.props.disabledLabel, n = J.isTradChineseLanguage() ? {
marginTop: -9
} : {}, r = J.isRTLLanguage() ? {
marginTop: -13
} : n, a = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: j.Text,
key: null,
ref: null,
props: o(j.Text.defaultProps, {
size: "M",
value: this.props.title.toUpperCase(),
section: "generic",
style: e
}),
_owner: null
}, {
$$typeof: f,
type: j.Text,
key: null,
ref: null,
props: o(j.Text.defaultProps, {
value: t.toUpperCase(),
size: "XS",
section: "generic",
style: p({}, e, r)
}),
_owner: null
} ]
},
_owner: null
}, i = [ se.mainMenuItem, se.mainMenuItemDisabled ].concat(this.props.style);
return {
$$typeof: f,
type: y.AnimatedSurface,
key: null,
ref: null,
props: o(y.AnimatedSurface.defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: G["default"],
key: null,
ref: null,
props: o(G["default"].defaultProps, {
icon: this.props.iconUrl,
height: re,
label: a,
isDisabled: !0
}),
_owner: null
},
style: se.disabledMenuItem
},
_owner: null
},
index: this.props.index,
style: i
}),
_owner: null
};
};
var n = t;
return t = s("_$DisabledMenuItem")(t) || t;
}(h["default"].Component), ue = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.focusItem = g.focus.create(this, "mainmenuitem_" + t.title), 
H.mainmenuGroup.addMember(this.focusItem, t.index), this.focusItem.onFocus(function() {
r.props.onFocus();
});
}
i(t, e), t.prototype.render = function r() {
var e = "normal";
(this.focusItem.isFocused || this.props.isCurrent) && (e = "emphasis");
var t;
t = this.focusItem.isFocused ? se.mainMenuItemLabelFocused : this.props.isCurrent ? se.mainMenuItemLabelCurrent : se.mainMenuItemLabelCurrent;
var n = {
$$typeof: f,
type: j.Text,
key: null,
ref: null,
props: o(j.Text.defaultProps, {
size: "M",
value: this.props.title.toUpperCase(),
style: t,
type: e,
section: "generic"
}),
_owner: null
}, r = "career" === this.props.location.path ? 5 : 0, a = [ se.mainMenuItem ].concat(this.props.style), i = "career" === this.props.location.path ? 50 : re;
return h["default"].createElement("surface", this.focusItem.hooks, {
$$typeof: f,
type: y.AnimatedSurface,
key: null,
ref: null,
props: o(y.AnimatedSurface.defaultProps, {
children: {
$$typeof: f,
type: G["default"],
key: null,
ref: null,
props: o(G["default"].defaultProps, {
icon: this.props.iconUrl,
height: i,
label: n,
iconSpace: r
}),
_owner: null
},
index: this.props.index,
style: a
}),
_owner: null
});
};
var n = t;
return t = s("_$MainMenuItem")(t) || t, t = v.observer(t) || t;
}(h["default"].Component), ce = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentWillMount = function r() {
this.offsetTween = L.Animation.tween("9a7bcec9:166", 0), this.style = p({}, se.activeIndicator, {
translateY: this.offsetTween.getStyle()
});
}, t.prototype.componentDidUpdate = function o() {
this.gotoIndex(this.props.activeIndex || 0, !0);
}, t.prototype.componentWillUnmount = function l() {
this.offsetTween.destroy();
}, t.prototype.gotoIndex = function u(e, t) {
var n = t ? {
duration: 100
} : {};
this.offsetTween.to(ne * e, n);
}, t.prototype.render = function c() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
"static": !0,
style: this.style
},
_owner: null
};
};
var n = t;
return t = s("_$MainMenuActiveIndicator")(t) || t;
}(h["default"].Component);
H.mainmenuGroup.setActive("mainmenuVisibility", !1);
var pe = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.state = {
activeIndex: E.layoutStateStore.current.mainMenuIndex
}, this.disposer = b.reaction(function() {
return E.layoutStateStore.current.mainMenuIndex;
}, function(e) {
return r.setState({
activeIndex: e
});
});
}
i(t, e), t.prototype.componentWillUpdate = function r(e, t) {
this.state.isVisible !== t.isVisible && (H.mainmenuGroup.setActive("mainmenuVisibility", t.isVisible), 
t.isVisible ? (this.refs.menuItems.play(), H.mainmenuGroup.isolate(), this.isolateInputGroup(), 
this.focusActiveItem()) : (H.mainmenuGroup.deisolate(), this.releaseInputGroup(), 
g.focus.system.recalculate()));
}, t.prototype.componentWillUnmount = function l() {
this.disposer();
}, t.prototype.getAvatarUrl = function u() {
var e = E.onlineState.sessionUser && E.onlineState.sessionUser.avatarUrl;
return e && E.onlineState.isOnlineBlazeAndGateway || (e = Y.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-user-fallback-aaaf80be.png")), 
e;
}, t.prototype.getInput = function c() {
if (!this.state.isVisible) return [];
var e = [ new N["default"]({
visible: !1,
action: this.gotoActiveItemLocation.bind(this),
key: U["default"].Next
}), new N["default"]({
visible: !1,
action: this.gotoActiveItemLocation.bind(this),
key: U["default"].Previous
}), new N["default"]({
visible: !1,
action: this.gotoActiveItemLocation.bind(this),
key: U["default"].Home
}), new N["default"]({
visible: !1,
action: this.gotoActiveItemLocation.bind(this),
key: U["default"].End
}), new N["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: this.gotoActiveItemLocation.bind(this),
key: U["default"].Accept
}), new N["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
action: function n() {
return x["default"].hideComponent("mainMenu");
},
key: U["default"].Decline
}) ];
if (g.getBuildInfo().isEndUserBuild() || e.push(new N["default"]({
label: "Generate Sentry Report",
action: function r() {
var e = m.generateEvent({
name: "Generated",
message: "",
stack: ""
});
Q.alert("username: " + e.user.username + "\nuser id: " + e.user.id + "\n" + e.event_id, "Generated Sentry Report"), 
g.getBuildInfo().hasOpenUrl() && g.Native.openUrl("https://sentry.battlelog.com/sentry/sparta-ingame/?query=" + e.event_id);
}
})), SpartaGlobals.bundleIsXBOXONE) {
var t = E.onlineState.sessionUser;
"0" !== t.id && e.push(new N["default"]({
label: __("ID_SPARTA_MENU_CHANGE_PROFILE"),
action: function o() {
x["default"].hideComponent("mainMenu"), P["default"].showLocalUserSelectionUI();
},
key: U["default"].Option2
}));
}
return e;
}, t.prototype.focusActiveItem = function p() {
var e = this.state.activeIndex || 0, t = H.mainmenuGroup.members[e];
t && t.setFocused(y.focus.FocusSource.Auto);
}, t.prototype.gotoActiveItemLocation = function d() {
var e = E.layoutStateStore.current.mainMenuConfigs[this.state.activeIndex];
if (!e) throw new Error("Could not find menu config for index", this.state.activeIndex);
var t = E.layoutStateStore.current.location, n = e.skipToFirstChild ? e.children[0].location : e.location;
n.section !== t.section ? (E.inputStore.blockInputFor(ae), setTimeout(function() {
return x["default"].hideComponent("mainMenu");
}, ae), R["default"].gotoLocation(n)) : x["default"].hideComponent("mainMenu");
}, t.prototype.render = function _() {
var e = this, t = E.layoutStateStore.current.mainMenuConfigs.map(function(t, n) {
var r = "";
r = "career" === t.location.path ? e.getAvatarUrl() : t.normalIconUrl;
var o = t.disabled, a = t.requireOnline && !t.offlineView, i = !!t.gameId, s = t.gameId === C["default"].getHostingGame().gameId, l = SpartaGlobals.bundleIsPS4 && E.onlineState.isMissingMPPrivileges && (a || i && !s);
if (o || l) {
var u = o ? t.getDisabledLabel() : "";
return h["default"].createElement(le, {
ref: n,
key: t.location.path,
disabledLabel: u,
title: t.getTitle(),
iconUrl: r
});
}
return h["default"].createElement(ue, {
key: t.location.path,
ref: n,
index: n,
isCurrent: e.state.activeIndex === n,
onFocus: function() {
return e.setState({
activeIndex: n
});
},
title: t.getTitle(),
iconUrl: r,
location: t.location
});
});
J.isJapaneseLanguage() && se.menuVisible.padding && (se.menuVisible.padding[3] = oe.width - 3 * B["default"].GUTTER, 
se.menuHidden.padding[3] = oe.width - 3 * B["default"].GUTTER);
var n = [ S["default"].mainMenu.style, this.state.isVisible ? se.menuVisible : se.menuHidden ];
return h["default"].createElement("surface", {
ref: "container",
style: n
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
"static": !0,
style: se.menuLogo
},
_owner: null
},
"static": !0,
style: se.menuWrapper
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ h["default"].createElement(y.AnimatedSurface.Static, {
ref: "menuItems",
animation: L.Animation.presets.trickleUp
}, t), {
$$typeof: f,
type: ce,
key: null,
ref: null,
props: o(ce.defaultProps, {
activeIndex: this.state.activeIndex,
isVisible: this.state.isVisible
}),
_owner: null
} ],
"static": !0
},
_owner: null
});
};
var n = t;
return t = s("_$MainMenu")(t) || t, t = z["default"]({
group: !0
})(t) || t, t = q["default"]({
isVisible: X["default"](w["default"], "mainMenu")
})(t) || t, t = v.observer(t) || t;
}(h["default"].Component);
t["default"] = pe, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return X(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(51), g = n(3), m = r(g), b = n(323), v = n(54), _ = l(v), S = n(17), T = l(S), w = n(20), E = l(w), I = n(14), C = l(I), A = n(31), P = n(10), O = n(61), R = l(O), k = n(53), x = l(k), M = n(8), N = n(18), D = l(N), U = n(13), L = l(U), $ = n(12), G = l($), F = n(16), B = n(159), j = l(B), H = n(6), V = l(H), z = n(7), W = n(11), q = n(115), K = {
_$MenuItem: {
displayName: "MenuItem"
},
_$ActiveIndicator: {
displayName: "ActiveIndicator"
},
_$MiniMainMenu: {
displayName: "MiniMainMenu"
}
}, X = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/MiniMainMenu.jsx",
components: K,
locals: [],
imports: []
}), Y = V["default"].getHeight(6), J = {
tooltip: {
duration: F.Animation.defaultTweenOptions.duration / 4
},
icon: {
duration: F.Animation.defaultTweenOptions.duration / 2
}
}, Q = {
mainMenu: {
marginTop: V["default"].getHeight(26)
},
menuItem: {
marginLeft: 20,
zOffset: 10,
height: Y,
flexDirection: "row",
alignItems: "center",
marginBottom: V["default"].getHeight(2)
},
activeIndicator: {
position: "absolute",
left: 0,
zOffset: 100,
top: 0,
width: 2,
height: 0,
backgroundColor: [ 255, 153, 0, 255 ]
},
itemLabel: {
color: "#ffffff",
zOffset: 2
},
disabledLabel: {
color: "#ffffff99",
zOffset: 2
},
itemLabelWrapper: {
marginLeft: V["default"].GUTTER,
opacity: 0,
padding: [ V["default"].GUTTER / 2, V["default"].GUTTER, V["default"].GUTTER / 2, V["default"].GUTTER ],
enableMouseEvents: !1
},
itemLabelBackground: {
position: "absolute",
zOffset: 1,
top: 0,
bottom: 0,
left: 0,
right: 0,
backgroundColor: [ 0, 0, 0, 210 ]
},
line: {
width: 8,
marginLeft: -4,
marginRight: -3,
textureMode: "none",
textureScale: [ 1, 8096 ],
texture: W.bbOfflineUrl("/sparta/jsclient/builds/assets/vline-2e85d023.png"),
opacity: .1,
position: "absolute",
top: 0,
left: 90,
bottom: 0
}
}, Z = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = m.focus.create(this, "menuitem_" + this.props.title), 
q.minimainmenuGroup.addMember(this.focusItem, t.index);
}
i(t, e), t.prototype.render = function r() {
var e = f({}, Q.itemLabelWrapper, {
opacity: F.Animation.tweenSwitch(0, 1, this.focusItem.isFocused, J.tooltip, J.tooltip)
}), t = f({}, Q.menuItem, this.props.style), n = void 0;
n = this.props.isDisabled ? {
from: .5,
to: .501
} : this.props.isActive ? {
from: .8,
to: 1
} : {
from: .5,
to: 1
};
var r = {
opacity: n.from
}, a = f({}, r, {
opacity: F.Animation.tweenSwitch(n.from, n.to, this.focusItem.isFocused, J.icon)
}), i = this.props.location && "career" === this.props.location.path ? {
width: 40,
height: 40,
marginLeft: 4,
marginRight: 4
} : null, s = this.props.disabledLabel, l = this.props.isDisabled ? {
$$typeof: p,
type: z.Text,
key: null,
ref: null,
props: o(z.Text.defaultProps, {
size: "XS",
section: "generic",
value: s,
style: Q.disabledLabel
}),
_owner: null
} : null, u = this.props.isDisabled ? 1 : .7, c = new L["default"]({
action: this.props.isDisabled ? function() {} : this.props.onClick,
label: this.props.title,
key: G["default"].Accept
});
return {
$$typeof: p,
type: g.AnimatedSurface,
key: null,
ref: null,
props: o(g.AnimatedSurface.defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
children: {
$$typeof: p,
type: j["default"],
key: null,
ref: null,
props: o(j["default"].defaultProps, {
image: this.props.iconUrl,
size: "L",
style: i,
isDisabled: this.props.isDisabled
}),
_owner: null
},
focusItem: this.focusItem,
triggerMode: "after",
pressScale: u,
input: c
}),
_owner: null
},
style: a
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: z.Text,
key: null,
ref: null,
props: o(z.Text.defaultProps, {
size: "XS",
value: this.props.title.toUpperCase(),
style: Q.itemLabel,
section: "generic",
type: "emphasis"
}),
_owner: null
}, l, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: Q.itemLabelBackground
},
_owner: null
} ],
style: e
},
_owner: null
} ],
index: this.props.index,
style: t
}),
_owner: null
};
};
var n = t;
return t = s("_$MenuItem")(t) || t, t = g.hasSurfaceBounds()(t) || t, t = P.observer(t) || t;
}(h["default"].Component);
Z.propTypes = {
iconUrl: h["default"].PropTypes.string,
isDisabled: h["default"].PropTypes.bool
};
var ee = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.shouldComponentUpdate = function r(e) {
var t = this.props.highlightedBounds.top, n = e.highlightedBounds.top;
return t !== n;
}, t.prototype.render = function o() {
var e = {
duration: F.Animation.defaultTweenOptions.duration / 8,
delay: 0
}, t = f({}, Q.activeIndicator, {
translateY: F.Animation.tweenTo(this.props.highlightedBounds.top, e),
height: Y
});
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
};
};
var n = t;
return t = s("_$ActiveIndicator")(t) || t;
}(h["default"].Component);
m.focus.system.onInvalidQuery.listen(function(e) {
R["default"].getState().miniMenu || e.reportInvalid(q.minimainmenuGroup.members);
});
var te = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this;
setTimeout(function() {
e.forceUpdate();
}, 1e3);
}, t.prototype.getAvatarUrl = function l() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? this.state : arguments[0], t = e.sessionUser && e.sessionUser.avatarUrl;
return t || (t = W.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-user-fallback-aaaf80be.png")), 
t;
}, t.prototype.confirmQuit = function u() {
A.confirm(__("ID_SPARTA_MENU_QUIT_CONFIRM", !0), __("ID_SPARTA_MENU_QUIT_TITLE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "quitGame").then(function() {
return D["default"].quitSparta();
});
}, t.prototype.createQuitItem = function c() {
var e = this, t = {
position: "absolute",
bottom: T["default"].dangerZoneSize.height
}, n = W.bbOfflineUrl("/sparta/jsclient/builds/assets/quit_sparta_pc-light-a9ddd9c9.png");
return {
$$typeof: p,
type: Z,
key: "quit",
ref: null,
props: o(Z.defaultProps, {
title: __("ID_SPARTA_ACTION_QUIT", !0),
onClick: function() {
return e.confirmQuit();
},
iconUrl: n,
style: t
}),
_owner: null
};
}, t.prototype.createSentryItem = function d() {
var e = {
position: "absolute",
bottom: T["default"].dangerZoneSize.height + Y
}, t = W.bbOfflineUrl("/sparta/jsclient/builds/assets/sentry-sparta-pc-light-9cbec5c5.png");
return {
$$typeof: p,
type: Z,
key: "sentry",
ref: null,
props: o(Z.defaultProps, {
title: "Generate Sentry Report",
onClick: function() {
var e = b.generateEvent({
name: "Generated",
message: "",
stack: ""
});
A.alert("username: " + e.user.username + "\nuser id: " + e.user.id + "\n" + e.event_id, "Generated Sentry Report"), 
m.getBuildInfo().hasOpenUrl() && m.Native.openUrl("https://sentry.battlelog.com/sentry/sparta-ingame/?query=" + e.event_id);
},
iconUrl: t,
style: e
}),
_owner: null
};
}, t.prototype.gotoItemLocation = function v(e) {
if (this.state.isVisible) {
var t = M.layoutStateStore.current.mainMenuConfigs[e];
if (t && !t.disabled) {
var n = t.skipToFirstChild ? t.children[0].location : t.location;
D["default"].gotoLocation(n);
}
}
}, t.prototype.getHighlightBounds = function _() {
if (null != M.layoutStateStore.current.mainMenuIndex && this.refs[M.layoutStateStore.current.mainMenuIndex]) {
var e = this.bounds.top + Q.mainMenu.marginTop;
return this.refs[M.layoutStateStore.current.mainMenuIndex].bounds.offset(this.bounds.left, e);
}
return null;
}, t.prototype.render = function S() {
var e = this, t = M.layoutStateStore.current.mainMenuConfigs.map(function(t, n) {
var r = "";
r = "career" === t.location.path && M.onlineState.sessionUser ? M.onlineState.sessionUser.avatarUrl : t.normalIconUrl;
var o = n === M.layoutStateStore.current.mainMenuIndex;
return h["default"].createElement(Z, {
key: t.location.path,
ref: n,
index: n,
title: t.getTitle(),
onClick: function() {
return e.gotoItemLocation(n);
},
iconUrl: r,
isDisabled: t.disabled,
disabledLabel: t.getDisabledLabel(),
location: t.location,
isActive: o
});
}), n = m.getBuildInfo().isEndUserBuild() ? null : this.createSentryItem(), r = this.createQuitItem(), a = f({}, T["default"].mainMenu.style, {
zOffset: 5e4,
position: "absolute",
translateX: F.Animation.tweenSwitch(-1, T["default"].mainMenu.width, this.state.isVisible),
opacity: F.Animation.tweenSwitch(0, 1, this.state.isVisible, F.Animation.presets.transition)
}), i = this.getHighlightBounds(), s = i && i.y >= 0 ? {
$$typeof: p,
type: ee,
key: null,
ref: null,
props: o(ee.defaultProps, {
highlightedBounds: i
}),
_owner: null
} : null;
return h["default"].createElement("surface", {
ref: "container",
style: a
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ t, s ],
"static": !0,
style: Q.mainMenu
},
_owner: null
}, n, r, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: Q.line
},
_owner: null
});
};
var n = t;
return t = s("_$MiniMainMenu")(t) || t, t = C["default"]({
isVisible: y.Store.join(R["default"].scope("miniMenu"), x["default"].scope("isVisible")).transform(function(e, t) {
return e && !t;
})
})(t) || t, t = E["default"]()(t) || t, t = g.hasSurfaceBounds()(t) || t, t = P.observer(t) || t;
}(h["default"].Component);
t["default"] = te, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return C(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), f = i(p), d = n(17), h = i(d), y = n(16), g = n(29), m = i(g), b = n(61), v = i(b), _ = n(28), S = i(_), T = n(14), w = i(T), E = n(8), I = {
_$Tint: {
displayName: "Tint"
}
}, C = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/Tint.jsx",
components: I,
locals: [],
imports: []
}), A = c({
zOffset: 2e4,
position: "absolute",
backgroundColor: [ 0, 0, 0, 204 ]
}, h["default"].screen.style), P = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = this.state.mainMenuVisible ? .5 : 1, t = this.state.isVisible ? e : 0, n = c({}, A, {
opacity: y.Animation.tweenTo(t),
enableMouseEvents: this.state.isVisible,
translateY: E.comCenterState.translateY.getStyle()
});
return {
$$typeof: u,
type: "surface",
key: "tint",
ref: null,
props: {
onClick: m["default"].focusPreviousComponent,
style: n
},
_owner: null
};
};
var n = t;
return t = a("_$Tint")(t) || t, t = w["default"]({
isVisible: S["default"](v["default"], "viewTint"),
mainMenuVisible: S["default"](v["default"], "mainMenu")
})(t) || t;
}(f["default"].Component);
t["default"] = P, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return m(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(8), d = n(17), h = i(d), y = n(10), g = {
_$Watermark: {
displayName: "Watermark"
}
}, m = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/Watermark.jsx",
components: g,
locals: [],
imports: []
}), b = function(e) {
function t(t) {
r(this, n), e.call(this, t), this._jumpPoints = this.createJumpPoints(60), this.state = {
jumpIndex: 0
};
}
o(t, e), t.prototype.componentWillMount = function i() {
var e = this;
setInterval(function() {
var t = e.state.jumpIndex + 1;
t === e._jumpPoints.length && (t = 0), e.setState({
jumpIndex: t
}, null, "set jump index");
}, 1e3);
}, t.prototype.createJumpPoints = function s(e) {
for (var t = [], n = 0; e > n; n++) t.push([ Math.random() * (.95 * h["default"].screen.width), Math.random() * (.95 * h["default"].screen.height) ]);
return t;
}, t.prototype.render = function l() {
var e = {
position: "absolute",
left: this._jumpPoints[this.state.jumpIndex][0],
top: this._jumpPoints[this.state.jumpIndex][1],
zOffset: 3e7,
enableMouseEvents: !1
}, t = {
color: "#ffffff66",
zOffset: 1
}, n = "";
return f.onlineState.sessionUser && f.onlineState.sessionUser.hasOwnProperty("spartaUserId") && f.onlineState.sessionUser.spartaUserId.hasOwnProperty("personaName") && (n = f.onlineState.sessionUser.spartaUserId.personaName), 
{
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
text: "warsaw-all-en-us-prod-11296",
style: t,
size: "S"
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
text: "2017-02-20 12:52:42 UTC",
style: t,
size: "S"
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
text: n,
style: t,
size: "S"
},
_owner: null
} ],
style: e
},
_owner: null
};
};
var n = t;
return t = a("_$Watermark")(t) || t, t = y.observer(t) || t;
}(p["default"].Component);
t["default"] = b, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
n(this, o), this.topic = e.topic, this.description = e.description, this.action = e.action;
};
t.Notification = r;
}, function(e, t, n) {
t.__esModule = !0;
var r = n(15), o = {
display: r.createAction()
};
t.NotificationActions = o;
}, function(e, t) {
function n() {}
t.__esModule = !0, t.notificationBindings = n;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = n(26), i = r(a), s = n(752), l = n(753), u = new i["default"]("NotificationStore", {
notifications: []
}), c = 8e3, p = o.createStore({
init: function f() {
var e = this;
this._queueTimer = -1;
var t = function n() {
-1 === e._queueTimer && (e._queueTimer = setTimeout(function() {
var t = u.get("notifications");
t = t.slice(1, t.length), u.set("notifications", t), p.trigger(u.getState()), e._queueTimer = -1, 
t.length > 0 && n();
}, c));
};
l.NotificationActions.display.listen(function(e) {
if (!(e instanceof s.Notification)) return void console.error("Expected display action parameter to be of type Notification");
var n = u.get("notifications");
n = n.concat([ e ]), u.set("notifications", n), p.trigger(u.getState()), t();
});
},
getState: function d() {
return u.getState();
},
getInitialState: function h() {
return this.getState();
}
});
t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return O(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(12), h = s(d), y = n(17), g = s(y), m = n(6), b = s(m), v = n(7), _ = n(85), S = s(_), T = n(28), w = s(T), E = n(14), I = s(E), C = n(755), A = s(C), P = {
_$Notifications: {
displayName: "Notifications"
}
}, O = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/notification/Notifications.jsx",
components: P,
locals: [],
imports: []
}), R = b["default"].window.rowSpan(10), k = b["default"].window.colSpan(1), x = {
container: {
position: "absolute",
top: g["default"].header.height,
left: 0,
zOffset: 99e3
},
notification: {
paddingLeft: g["default"].dangerZoneSize.width,
paddingRight: k,
width: g["default"].dangerZoneSize.width + b["default"].window.colSpan(8) + k,
height: R,
backgroundColor: "#000000ff",
flexDirection: "row"
},
image: {
width: R,
height: R,
marginRight: b["default"].GUTTER
},
body: {
justifyContent: "center"
},
interaction: {
position: "absolute",
right: 0,
top: 0,
height: R,
width: b["default"].window.colSpan(1),
justifyContent: "center"
},
topic: {
color: "#ffffffff"
},
description: {
color: "#ffffffff"
}
}, M = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.renderNotification = function s(e) {
if (!e) return null;
var t = null;
return e.action && (t = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
inputKey: h["default"].Select,
holdAction: SpartaGlobals.bundleIsConsole ? e.action : null,
action: SpartaGlobals.bundleIsPC ? e.action : null,
label: SpartaGlobals.bundleIsPC ? "#" : null
}),
_owner: null
},
style: x.interaction
},
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ x.image, e.image ? {
texture: e.image
} : null ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
style: x.topic,
type: "emphasis",
size: "S",
value: e.topic
}),
_owner: null
}, {
$$typeof: c,
type: v.Text,
key: null,
ref: null,
props: r(v.Text.defaultProps, {
style: x.description,
size: "S",
value: e.description
}),
_owner: null
} ],
style: x.body
},
_owner: null
}, t ],
style: x.notification
},
_owner: null
};
}, t.prototype.render = function l() {
var e = null;
return this.state.notifications && this.state.notifications.length > 0 && (e = this.renderNotification(this.state.notifications[0])), 
{
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: x.container
},
_owner: null
};
};
var n = t;
return t = i("_$Notifications")(t) || t, t = I["default"]({
notifications: w["default"](A["default"], "notifications")
})(t) || t;
}(f["default"].Component);
t.Notifications = M;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e, t) {
c["default"].close(e.id), t && t();
}
t.__esModule = !0;
var s = n(5), l = r(s), u = n(25), c = r(u), p = n(13), f = r(p), d = function(e) {
function t() {
var n = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, t), e.call(this, l["default"].extend({}, n, {
action: i.bind(null, n.popup, n.action)
}));
}
return a(t, e), t;
}(f["default"]);
t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return q(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(5), p = i(c), f = n(1), d = i(f), h = n(3), y = n(8), g = n(17), m = i(g), b = n(16), v = n(61), _ = i(v), S = n(28), T = i(S), w = n(14), E = i(w), I = n(310), C = n(471), A = i(C), P = n(119), O = i(P), R = n(13), k = i(R), x = n(18), M = i(x), N = n(12), D = i(N), U = n(10), L = n(24), $ = i(L), G = n(78), F = i(G), B = n(20), j = i(B), H = n(53), V = i(H), z = n(39), W = {
_$Content: {
displayName: "Content"
}
}, q = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/view/Content.jsx",
components: W,
locals: [],
imports: []
}), K = p["default"].extend({
initialState: "to"
}, b.Animation.presets.trickleUp), X = {
fullScreen: u({
zOffset: 1e3,
position: "absolute"
}, m["default"].screen.style)
}, Y = function(e) {
function t(t) {
var o = this;
r(this, n), e.call(this, t), this.focusAncestor = h.focus.createAncestor("content"), 
this.cancelQueryListener = h.focus.system.onInvalidQuery.listen(function(e) {
o.state.isGameViewVisible ? e.reportInvalid(o.focusAncestor.getChildren()) : e.setAsVisible(o.focusAncestor.getChildren());
}), h.focus.onComponentUpdate(this, function(e, t) {
o.focusAncestor.getSubAncestors().forEach(function(e) {
e.setActive("7d2d0635:57", !t.isGameViewVisible), e.getChildren().forEach(function(e) {
e.setActive("7d2d0635:59", !t.isGameViewVisible);
});
});
});
}
o(t, e), t.prototype.shouldComponentUpdate = function i(e, t) {
return !p["default"].isEqual(this.props, e) || !p["default"].isEqual(this.state, t);
}, t.prototype.componentWillUnmount = function s() {
this.cancelQueryListener(), this.focusAncestor.destroy();
}, t.prototype.getInput = function l() {
if (this.state.isVisible && !this.state.isGameViewVisible) {
var e = this.getGoOnlineAction();
if (e) return e;
var t = !y.partyStore.isInSquadJoin || this.props.depth > 4;
return this.props.depth > 3 && !this.state.isMainMenuVisible && t ? [ new k["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: D["default"].Decline,
blockInputFor: 500,
action: function n() {
return M["default"].goBackInHistory();
}
}) ] : [];
}
}, t.prototype.getGoOnlineAction = function c() {
return this.props.requireOnline && this.props.offlineView && y.onlineState.canGoOnline ? [ new k["default"]({
key: D["default"].Option1,
action: function e() {
y.onlineState.isPresenceReady ? $["default"].connect() : F["default"].connect();
},
label: __(y.onlineState.goOnlineIsRetry ? "ID_SPARTA_ONLINE_PRESENCE_TRY_AGAIN" : "ID_SPARTA_ONLINE_PRESENCE_GO_ONLINE")
}) ] : null;
}, t.prototype.trickleUp = function f() {
this.refs.animation.play();
}, t.prototype.render = function g() {
var e, t = this.props.view, n = this.props.offlineView;
e = this.props.requireMpInstalled && !this.state.installState.isMpInstalled && z.routeIsHostingGame() ? d["default"].createElement(A["default"], {
text: __("ID_SPARTA_INSTALL_INSTALLING_MP"),
state: this.state.installState,
ref: "component"
}) : this.props.requireOnline && !y.onlineState.isOnlineBlazeAndGateway ? n && !y.onlineState.isConnecting ? d["default"].createElement(n, {
ref: "component",
key: this.props.location.path,
viewLocation: this.props.location
}) : d["default"].createElement(I.ConnectionState, {
ref: "component"
}) : t ? d["default"].createElement(t, {
ref: "component",
key: this.props.location.path,
viewLocation: this.props.location
}) : null;
var r = X.fullScreen, o = {
opacity: b.Animation.tweenSwitch(0, 1, this.state.isVisible),
enableMouseEvents: this.state.isVisible
}, a = t ? [ r, o, this.props.style ] : null;
return d["default"].createElement(h.AnimatedSurface.Static, {
"static": this.props["static"],
key: "animStatic",
ref: "animation",
style: a,
animation: K
}, d["default"].createElement("surface", u({}, this.focusAncestor.hooks, {
"static": !0,
key: "animWrpr",
style: {
flex: 1,
position: "relative"
}
}), e));
};
var n = t;
return t = a("_$Content")(t) || t, t = E["default"]({
isGameViewVisible: T["default"](V["default"], "isVisible"),
isVisible: T["default"](_["default"], "content"),
isMainMenuVisible: T["default"](_["default"], "mainMenu"),
installState: O["default"]
})(t) || t, t = U.observer(t) || t, t = j["default"]()(t) || t;
}(d["default"].Component);
t["default"] = Y, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return le(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(10), g = n(9), m = n(3), b = r(m), v = n(6), _ = l(v), S = n(17), T = l(S), w = n(16), E = n(191), I = l(E), C = n(12), A = l(C), P = n(13), O = l(P), R = n(61), k = l(R), x = n(29), M = l(x), N = n(18), D = l(N), U = n(20), L = l(U), $ = n(28), G = l($), F = n(14), B = l(F), j = n(118), H = l(j), V = n(8), z = n(7), W = n(138), q = l(W), K = n(320), X = l(K), Y = n(324), J = l(Y), Q = n(95), Z = l(Q), ee = n(11), te = n(312), ne = n(66), re = n(30), oe = n(115), ae = n(5), ie = r(ae), se = {
_$GlowText: {
displayName: "GlowText"
},
_$Underline: {
displayName: "Underline"
},
_$Breadcrumb: {
displayName: "Breadcrumb"
},
_$Breadcrumbs: {
displayName: "Breadcrumbs"
},
_$TopMenuItem: {
displayName: "TopMenuItem"
},
_$TopMenu: {
displayName: "TopMenu"
},
_$Header: {
displayName: "Header"
}
}, le = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/view/Header.jsx",
components: se,
locals: [],
imports: []
}), ue = _["default"].getHeight(SpartaGlobals.bundleIsPC ? 3 : 2), ce = {
position: "absolute",
left: 0,
bottom: 0,
right: 0
}, pe = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, fe = SpartaGlobals.bundleIsPC ? 0 : T["default"].safeZone.left, de = 1.5, he = _["default"].getHeight(5), ye = {
breadcrumbs: {
out: [ {
propertyName: "opacity",
fromValue: 1,
toValue: 0
}, {
propertyName: "scaleX",
fromValue: 1,
toValue: 1 + de
}, {
propertyName: "scaleY",
fromValue: 1,
toValue: 1 + de
}, {
propertyName: "translateY",
fromValue: 0,
toValue: -he
} ],
"in": [ {
propertyName: "opacity",
fromValue: 0,
toValue: 1
} ]
},
menu: {
out: [ {
propertyName: "opacity",
fromValue: 1,
toValue: 0
}, {
propertyName: "scaleX",
fromValue: 1,
toValue: 1 - .5 * de
}, {
propertyName: "scaleY",
fromValue: 1,
toValue: 1 - .5 * de
}, {
propertyName: "translateY",
fromValue: 0,
toValue: .5 * he
} ],
"in": [ {
propertyName: "opacity",
fromValue: 0,
toValue: 1
}, {
propertyName: "scaleX",
fromValue: 1 + de,
toValue: 1
}, {
propertyName: "scaleY",
fromValue: 1 + de,
toValue: 1
}, {
propertyName: "translateY",
fromValue: -he,
toValue: 0
} ]
}
}, ge = {
container: f({
zOffset: 1200,
position: "absolute"
}, T["default"].header.style, {
width: T["default"].header.width - T["default"].logo.width
}),
topBar: {
height: ue,
flexDirection: "row",
alignItems: "center"
},
topBarItem: {
marginRight: 4 * _["default"].GUTTER
},
breadcrumb: {
height: ue,
justifyContent: "center",
paddingLeft: 5,
paddingRight: 10
},
breadcrumbSlash: {
marginLeft: _["default"].GUTTER,
marginRight: _["default"].GUTTER
},
lowerBar: {
height: _["default"].getHeight(6),
marginTop: _["default"].getHeight(.5),
marginBottom: _["default"].getHeight(.5),
flexDirection: "row",
alignItems: "center"
},
lowerBarTitle: "XL",
underlineContainer: f({}, ce, {
bottom: 2 * -_["default"].CELL_HEIGHT,
left: -fe,
right: _["default"].getWidth(SpartaGlobals.bundleIsPC ? 2.5 : 2),
height: 4,
zOffset: 99,
layer: !0,
layerClip: !0,
layerSoftClip: [ 0, 0, _["default"].getWidth(2), 0 ]
}),
underlineLine: {
height: 8,
marginTop: -4,
marginBottom: -3,
textureMode: "none",
textureScale: [ 8096, 1 ],
texture: ee.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png"),
opacity: .13
},
underlineHighlight: {
position: "absolute",
height: 8,
marginTop: -5,
marginBottom: -2,
opacity: 1,
textureMode: "none",
textureScale: [ 8096, 1 ],
texture: ee.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png")
},
lbIcon: {
texture: I["default"].normal.Previous,
height: 3 * _["default"].CELL_HEIGHT,
width: 3 * _["default"].CELL_HEIGHT,
marginTop: 3
},
rbIcon: {
texture: I["default"].normal.Next,
height: 3 * _["default"].CELL_HEIGHT,
width: 3 * _["default"].CELL_HEIGHT,
marginTop: 3
},
hbIcon: {
texture: ee.bbOfflineUrl("/sparta/assets/ui/icons/ui/hamburger-d78cf787.png"),
height: ue - _["default"].getHeight(.5),
width: ue - _["default"].getHeight(.5),
marginTop: 3
}
}, me = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = {
value: this.props.value,
size: this.props.size,
type: this.props.type,
color: this.props.color,
section: this.props.gameId || "generic"
}, t = _["default"].GUTTER, n = {
position: "absolute",
layer: !0,
layerBlur: w.Animation.tweenSwitch(0, .5, this.props.isGlowing, w.Animation.presets.focusables.enter["default"]),
layerBlurStrength: 2,
padding: t,
top: -t,
left: -t,
right: -t,
bottom: -t
}, r = this.props.focusItem ? this.props.focusItem.hooks : {
onClick: this.props.onClick
};
return h["default"].createElement("surface", f({}, r, {
style: this.props.style
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(z.Text, e),
style: n
},
_owner: null
}, h["default"].createElement(z.Text, f({}, e, {
type: "emphasis",
style: {
opacity: 0
}
})), h["default"].createElement(z.Text, f({}, e, {
style: f({}, pe, {
zOffset: 1
})
})));
};
var n = t;
return t = s("_$GlowText")(t) || t;
}(h["default"].Component), be = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = this.props.highlightedBounds.left + fe, t = {
translateX: w.Animation.tweenTo(e),
width: w.Animation.tweenTo(this.props.highlightedBounds.width)
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: ge.underlineLine
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: f({}, ge.underlineHighlight, t)
},
_owner: null
} ],
style: ge.underlineContainer
},
_owner: null
};
};
var n = t;
return t = s("_$Underline")(t) || t;
}(h["default"].Component), ve = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.state = {
isHovered: !1
}, t.focusItem.setClickInput(new O["default"]({
key: A["default"].Accept,
action: function i() {
return D["default"].gotoLocation(r.props.location);
},
label: __("ID_SPARTA_ACTION_SELECT")
}));
var o = {
duration: w.Animation.defaultTweenOptions.duration / 2
};
this.slashHideOffset = -_["default"].getWidth(2), this.titleHider = w.Animation.tween("a7a2a273:234", 0), 
this.slashOffset = w.Animation.tween("a7a2a273:235", this.slashHideOffset, o), this.slashOpacity = w.Animation.tween("a7a2a273:236", 0, o), 
this.mounted = !1;
}
i(t, e), t.prototype.componentDidMount = function r() {
this.mounted = !0, this.slashOffset.to(0), this.slashOpacity.to(1);
}, t.prototype.componentWillLeave = function l(e) {
var t = this;
this.titleHider.to(ge.breadcrumb.height, null, function() {
t.mounted && e();
}), this.slashOffset.to(this.slashHideOffset), this.slashOpacity.to(0);
}, t.prototype.componentWillUnmount = function u() {
this.mounted = !1, this.titleHider.destroy();
}, t.prototype.render = function c() {
var e = {
flexDirection: "row",
alignItems: "center",
layer: !0,
layerClip: !0
}, t = f({}, ge.breadcrumb, {
translateY: this.titleHider.getStyle()
}), n = f({}, ge.breadcrumbSlash, {
translateX: this.slashOffset.getStyle(),
opacity: this.slashOpacity.getStyle()
}), r = SpartaGlobals.bundleIsPC ? "S" : "XS";
return h["default"].createElement("surface", f({
style: e
}, this.props.focusItem.hooks), h["default"].createElement(X["default"], {
key: "slider",
ref: "title",
transitionId: this.props.title,
style: t
}, {
$$typeof: p,
type: me,
key: null,
ref: null,
props: o(me.defaultProps, {
value: this.props.title.toUpperCase(),
isGlowing: this.props.focusItem.isHovered,
type: this.props.focusItem.isHovered ? "emphasis" : "normal",
color: "#ffffff",
gameId: this.props.gameId,
size: r
}),
_owner: null
}), {
$$typeof: p,
type: z.Text,
key: "text",
ref: null,
props: o(z.Text.defaultProps, {
value: "/",
style: n,
size: r
}),
_owner: null
});
};
var n = t;
return t = s("_$Breadcrumb")(t) || t, t = y.observer(t) || t;
}(h["default"].Component), _e = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentWillReceiveProps = function r(e, t) {
this.state.subTitle && this.removeSubtitleIfInvalid(e.items);
}, t.prototype.getPageTitle = function l(e) {
var t = e.filter(function(e) {
return void 0 !== e.getTitle;
}), n = t[t.length - 1];
return n.getTitle();
}, t.prototype.removeSubtitleIfInvalid = function u(e) {
var t = this.getPageTitle(e);
t && t.toLowerCase() === this.state.subTitleFilter.toLowerCase() || this.setState({
subTitle: void 0,
subTitleFilter: void 0
});
}, t.prototype.setSubtitle = function c(e, t) {
var n = this.getPageTitle(this.props.items);
n && n.toLowerCase() !== e.toLowerCase() || this.setState({
subTitle: t,
subTitleFilter: e
});
}, t.prototype.render = function f() {
var e = this.props.items.filter(function(e) {
return e.visible;
}), t = e.slice(1, e.length - 1), n = [];
this.state.isVisible && (n = t.filter(function(e) {
return !e.skipToFirstChild;
}).map(function(e, t) {
return {
$$typeof: p,
type: b.Focusable,
key: "breadcrumb" + t,
ref: null,
props: o(b.Focusable.defaultProps, {
children: function n(t) {
return {
$$typeof: p,
type: ve,
key: null,
ref: null,
props: o(ve.defaultProps, {
title: e.getTitle(),
focusItem: t,
gameId: e.gameId,
location: e.location
}),
_owner: null
};
},
debugName: "breadcrumb_" + t,
groupIndex: t,
isActive: SpartaGlobals.bundleIsPC,
group: oe.topmenuGroup
}),
_owner: null
};
}));
var r = e[e.length - 1];
if (SpartaGlobals.bundleIsPC && this.state.isVisible) {
var a = {
texture: ee.bbOfflineUrl("/sparta/jsclient/builds/assets/back_pc-88d1ffe0.png"),
height: ue - _["default"].CELL_HEIGHT
};
n.unshift({
$$typeof: p,
type: b.Focusable,
key: "back",
ref: null,
props: o(b.Focusable.defaultProps, {
children: function s(e) {
return {
$$typeof: p,
type: Z["default"],
key: null,
ref: null,
props: o(Z["default"].defaultProps, {
icon: a.texture,
focusItem: e,
action: function() {
return D["default"].goBackInHistory();
},
size: a.height,
glow: !1,
style: {
margin: [ 0, _["default"].GUTTER, 0, 1.5 * -_["default"].GUTTER ],
padding: _["default"].GUTTER
}
}),
_owner: null
};
},
debugName: "breadcrumb_back",
groupIndex: n.length,
group: oe.topmenuGroup
}),
_owner: null
});
}
var i = r.getTitle();
return this.state.subTitle && (i = i + ": " + this.state.subTitle), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: J["default"],
key: null,
ref: null,
props: o(J["default"].defaultProps, {
children: n,
tag: "surface",
style: ge.topBar
}),
_owner: null
}, {
$$typeof: p,
type: X["default"],
key: null,
ref: null,
props: o(X["default"].defaultProps, {
children: {
$$typeof: p,
type: ne.Marquee,
key: null,
ref: null,
props: o(ne.Marquee.defaultProps, {
children: {
$$typeof: p,
type: z.Text,
key: null,
ref: null,
props: o(z.Text.defaultProps, {
value: i.toUpperCase(),
type: "emphasis",
size: ge.lowerBarTitle,
section: r.gameId
}),
_owner: null
},
width: ge.container.width - te.ELLIPSIS_OFFSET.M,
showEllipsis: !0
}),
_owner: null
},
transitionId: i,
style: ge.lowerBar
}),
_owner: null
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$Breadcrumbs")(t) || t, t = H["default"]({
setSubtitle: D["default"].setLocationSubtitle
})(t) || t, t = B["default"]({
isVisible: G["default"](k["default"], "breadcrumbs")
})(t) || t, t = L["default"]()(t) || t;
}(h["default"].Component), Se = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), t.focusItem.setActive("a7a2a273:396", t.isEnabled), 
t.focusItem.setActive("a7a2a273:397", SpartaGlobals.bundleIsPC), t.focusItem.setClickInput(new O["default"]({
key: A["default"].Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function o() {
r.props.isEnabled && D["default"].gotoLocation(r.props.location);
}
}));
}
i(t, e), t.prototype.componentDidUpdateBounds = function r() {
this.props.onBoundsChanged && this.props.onBoundsChanged();
}, t.prototype.render = function l() {
var e = (this.props.focusItem.isHovered || this.props.isActive) && this.props.isEnabled;
return {
$$typeof: p,
type: me,
key: null,
ref: null,
props: o(me.defaultProps, {
value: this.props.label.toUpperCase(),
focusItem: this.props.focusItem,
isGlowing: this.props.isEnabled && this.props.focusItem.isHovered,
type: this.props.isActive ? "emphasis" : "normal",
color: this.props.isEnabled ? "#ffffff" : "#ffffff99",
size: "M",
gameId: this.props.gameId,
style: {
opacity: w.Animation.tweenSwitch(.66, 1, e)
}
}),
_owner: null
};
};
var n = t;
return t = s("_$TopMenuItem")(t) || t, t = b.hasSurfaceBounds()(t) || t, t = y.observer(t) || t;
}(h["default"].Component), Te = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.menuItems = {}, this.state = {
highlightedBounds: null
}, this.menuWasTriggered = !1;
}
i(t, e), t.prototype.componentDidUpdate = function r(e) {
this.props.activeIndex !== e.activeIndex && this.updateHighlightedBounds();
}, t.prototype.componentDidUpdateBounds = function l() {
this.updateHighlightedBounds();
}, t.prototype.getInput = function u() {
var e = !this.state.mainMenuVisible && !this.state.comCenterVisible;
if (e) {
var t = re.isRTLLanguage() ? "right" : "left", n = re.isRTLLanguage() ? "left" : "right";
return [ new O["default"]({
visible: !1,
action: this.gotoOffset.bind(this, n),
key: A["default"].Next
}), new O["default"]({
visible: !1,
action: this.gotoOffset.bind(this, t),
key: A["default"].Previous
}) ];
}
}, t.prototype.getGameId = function c(e) {
var t = "generic";
for (var n in e) e[n].gameId && (t = e[n].gameId);
return t;
}, t.prototype.gotoOffset = function f(e, t) {
var n = this.findNextEnabledItem(e, Math.max(this.props.activeIndex, 0));
n && ("string" == typeof n ? M["default"].showComponent(n) : D["default"].gotoLocation(n.props.location));
}, t.prototype.findNextEnabledItem = function d(e, t) {
var n = "left" === e ? -1 : 1;
if (t += n, 1 === t && this.state.mainMenuVisible) return this.menuItems[0];
for (var r = t; r >= 0 && r < this.props.items.length; r += n) {
var o = this.menuItems[r];
if (o && o.props.isEnabled) return o;
}
var a = re.isRTLLanguage() ? this.props.items.length : -1, i = re.isRTLLanguage() ? -1 : this.props.items.length;
return t === a && SpartaGlobals.bundleIsConsole ? "mainMenu" : V.onlineState.isPresenceReady && t === i && SpartaGlobals.bundleIsConsole ? "comCenter" : !1;
}, t.prototype.updateHighlightedBounds = function g() {
var e = this.menuItems[this.props.activeIndex];
if (e) {
var t = b.getBoundsSync(e.props.focusItem.getBackingSurfaceId());
if (t) {
var n = b.Bounds.fromRaw(t).offset(this.bounds.left, this.bounds.top);
n.width && this.setState({
highlightedBounds: n
});
}
}
}, t.prototype.renderItems = function m() {
var e = this, t = this.getGameId(this.props.items);
return this.props.items.map(function(n, r) {
var a = e.props.activeIndex === r, i = !n.disabled;
n.requireOnline && SpartaGlobals.bundleIsPS4 && (i = i && !V.onlineState.isMissingMPPrivileges);
var s = a && e.updateHighlightedBounds.bind(e);
return {
$$typeof: p,
type: b.Focusable,
key: null,
ref: null,
props: o(b.Focusable.defaultProps, {
children: function l(o) {
return h["default"].createElement(Se, {
key: r,
ref: function(t) {
e.menuItems[r] = t;
},
index: r,
label: n.getTitle(),
focusItem: o,
isActive: a,
isEnabled: i,
location: n.location,
onBoundsChanged: s,
gameId: t
});
},
isActive: SpartaGlobals.bundleIsPC,
debugName: "topmenu_item_" + n.getTitle()
}),
_owner: null
};
});
}, t.prototype.render = function v() {
var e = this.renderItems();
SpartaGlobals.bundleIsConsole && (e.unshift({
$$typeof: p,
type: "surface",
key: "hb",
ref: null,
props: {
style: ge.hbIcon
},
_owner: null
}), e.length > 2 && (e.unshift({
$$typeof: p,
type: "surface",
key: "lb",
ref: null,
props: {
style: ge.lbIcon
},
_owner: null
}), e.push({
$$typeof: p,
type: "surface",
key: "rb",
ref: null,
props: {
style: ge.rbIcon
},
_owner: null
})), re.isItalianLanguage() && (ge.topBarItem.marginRight = 3.25 * _["default"].GUTTER)), 
e = e.map(function(e) {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: ge.topBarItem
},
_owner: null
};
});
var t = null;
return this.state.highlightedBounds && (t = {
$$typeof: p,
type: be,
key: null,
ref: null,
props: o(be.defaultProps, {
highlightedBounds: this.state.highlightedBounds
}),
_owner: null
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ e, t ],
style: ge.topBar
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: ge.lowerBar
},
_owner: null
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$TopMenu")(t) || t, t = B["default"]({
mainMenuVisible: G["default"](k["default"], "mainMenu"),
comCenterVisible: k["default"].scope("comCenter")
})(t) || t, t = b.hasSurfaceBounds()(t) || t, t = L["default"]()(t) || t, t = y.observer(t) || t;
}(h["default"].Component), we = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentWillMount = function r() {
var e = this;
this.topPaddingTween = w.Animation.tween("a7a2a273:609", this.getTopPadding()), 
this.focusAncestor = b.focus.createAncestor("header"), this.cancelAutorun = g.autorun(function() {
e.topPaddingTween.to(e.getTopPadding());
}), this.cancelQuery = b.focus.system.onInvalidQuery.listen(function(t) {
e.state.isVisible || t.reportInvalid(e.focusAncestor.getChildren());
});
}, t.prototype.componentWillUnmount = function l() {
this.cancelQuery(), this.cancelAutorun(), this.topPaddingTween.destroy();
}, t.prototype.getTopPadding = function u() {
return this.props.viewState.current.aggregate.breadcrumbs.length > 3 ? SpartaGlobals.bundleIsPC ? 40 : 60 : SpartaGlobals.bundleIsPC ? 60 : 82;
}, t.prototype.lockInSquadJoin = function c(e) {
var t = ie.find(V.routeStore.routes, function(e) {
return "warsaw/mp/squadjoin" === e.location.path;
});
if (null == t) throw new Error("Could not find squad join route!");
return ie.map(e, function(e) {
return "warsaw/mp" === e.location.path ? t : e;
});
}, t.prototype.render = function d() {
var e = this.props.viewState.current.aggregate, t = V.partyStore.isInSquadJoin ? this.lockInSquadJoin(e.breadcrumbs) : e.breadcrumbs, n = t.length > 3, r = n ? {
$$typeof: p,
type: _e,
key: null,
ref: null,
props: o(_e.defaultProps, {
items: t
}),
_owner: null
} : h["default"].createElement(Te, {
ref: "topMenu",
items: e.subMenuConfigs,
showHamburger: e.enableMainMenu,
activeIndex: e.subMenuIndex,
section: e.location.section
}), a = f({}, ge.container, {
top: this.topPaddingTween.getStyle(),
opacity: w.Animation.tweenSwitch(0, 1, this.state.isVisible)
}), i = n ? "breadcrumbs" : "menu", s = ye[i];
return h["default"].createElement("surface", f({
style: a
}, this.focusAncestor.hooks), {
$$typeof: p,
type: q["default"],
key: null,
ref: null,
props: o(q["default"].defaultProps, {
children: r,
transitionId: i,
inTweens: s["in"],
outTweens: s.out,
style: {
flex: 1
}
}),
_owner: null
});
};
var n = t;
return t = s("_$Header")(t) || t, t = B["default"]({
isVisible: G["default"](k["default"], "header")
})(t) || t, t = y.observer(t) || t;
}(h["default"].Component);
t["default"] = we, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return F(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = s(d), y = n(10), g = n(17), m = s(g), b = n(6), v = s(b), _ = n(16), S = n(315), T = s(S), w = n(45), E = n(18), I = s(E), C = n(8), A = n(67), P = s(A), O = n(61), R = s(O), k = n(28), x = s(k), M = n(14), N = s(M), D = n(11), U = n(169), L = n(7), $ = n(194), G = {
_$Logo: {
displayName: "Logo"
}
}, F = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/view/Logo.jsx",
components: G,
locals: [],
imports: []
});
c = SpartaGlobals.bundleIsConsole ? D.bbOfflineUrl("/sparta/jsclient/modules/layout/logos/bf-default-logo-console-9444ada5.png") : D.bbOfflineUrl("/sparta/jsclient/modules/layout/logos/bf-default-logo-pc-277a3da4.png");
var B = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getChildContext = function s() {
var e = C.layoutStateStore.current.config, t = {};
return e && e.fonts && (t.fonts = e.fonts), t;
}, t.prototype.renderXpBoost = function l() {
var e = C.gameStore.getGame(this.props.gameId), t = this.props.gameId && this.state.entitlements.hasPremiumAccess(this.props.gameId), n = {}, o = {
width: 230,
position: "absolute",
top: 60,
left: 129,
backgroundColor: "#000000",
padding: 4
};
w.acceptKeyword("accept_exclusive_keywords_start");
var a = {
alignSelf: "center",
texture2: D.bbOfflineUrl("/sparta/assets/tunguska/career/golden-texture-eae85f40.png"),
texture2Mode: "fill"
};
return w.acceptKeyword("accept_exclusive_keywords_end"), e.xpBoost && (n = t ? e.xpBoostPremium : e.xpBoost), 
{
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: L.Text,
key: null,
ref: null,
props: r(L.Text.defaultProps, {
value: "200% XP BOOST",
size: "XS",
type: "emphasis",
style: a
}),
_owner: null
},
style: p({}, o, n)
},
_owner: null
};
}, t.prototype.render = function u() {
var e = null, t = null, n = {
color: "#ff9900",
textAlign: "center",
textAlignForRTL: "center",
fontFamily: $.fonts.PURISTA.SEMI_BOLD
}, o = U.store.getDoubleXpNotice(this.props.gameId);
o && (e = {
$$typeof: f,
type: L.Text,
key: null,
ref: null,
props: r(L.Text.defaultProps, {
size: SpartaGlobals.bundleIsConsole ? "S" : "XS",
value: o.text.toUpperCase(),
type: "emphasis",
style: n
}),
_owner: null
});
var a = void 0 !== this.props.imageUrl ? this.props.imageUrl : c, i = C.gameStore.getGame(this.props.gameId);
if (i && this.state.entitlements) {
var s = i.logoUrl;
if (C.gatewayState.session.entitlements.hasTrial(this.props.gameId) && (s = i.trialLogoUrl ? i.trialLogoUrl : s, 
i.trialLogoUrl || console.warn("Missing trialLogoUrl for game '" + this.props.gameId + "'"), 
SpartaGlobals.bundleIsConsole)) {
var l = D.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-eaaccess-433bac60.png"), u = {
textureMode: "contain",
textureAlign: [ .5, .5 ],
height: SpartaGlobals.bundleIsPC ? 25 : 32,
marginBottom: v["default"].window.rowHeight,
marginTop: 4,
textureAtlas: "SpartaCommonAtlas",
texture: l
};
t = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: u
},
_owner: null
};
}
var d = this.props.gameId && this.state.entitlements.hasPremiumAccess(this.props.gameId);
s = d ? i.premiumLogoUrl : s, void 0 !== s ? a = s : console.error("Missing gameLogoUrl for " + this.props.gameId);
}
if (a === !1) return null;
var y;
w.acceptKeyword("accept_exclusive_keywords_start");
var g = C.gameStore.getGame(this.props.gameId), b = g.styles.rankBadge, S = {
scale: SpartaGlobals.bundleIsConsole ? .5 : .45
}, E = g.fonts.emphasis.name, A = g.styles.alignBadgeInfo, P = 130;
y = {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
badgeSize: P,
gameId: this.props.gameId,
skipAnimation: !0,
align: A,
font: E,
badgeStyle: S,
style: p({}, b, {
marginLeft: -P
}),
rankIconScaling: g.styles.rankIconScaling,
onClick: function() {
return I["default"].gotoLocation(g.startRoute + "/soldier");
}
}),
_owner: null
}, w.acceptKeyword("accept_exclusive_keywords_end");
var O = void 0;
if (i.logo) O = h["default"].createElement(i.logo, {
children: [ y ],
image: a,
style: m["default"].logo.style,
visible: this.state.isVisible
}); else {
var R = {
flex: 1,
textureMode: "contain",
textureAlign: [ .5, .5 ],
textureAtlas: "SpartaCommonAtlas",
texture: a
};
O = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: y,
style: R
},
_owner: null
};
}
var k = this.state.isVisible && C.layoutStateStore.current.breadcrumbs.length <= 3, x = {
duration: _.Animation.defaultTweenOptions.duration / 2
}, M = p({
position: "absolute"
}, m["default"].logo.style, {
zOffset: 1200,
enableMouseEvents: k,
opacity: _.Animation.tweenSwitch(0, 1, k, x, x)
}, this.props.style), N = p({
position: "absolute"
}, m["default"].logo.style, {
top: m["default"].logo.style.top + m["default"].logo.height,
zOffset: 1200,
width: m["default"].logo.width,
enableMouseEvents: k,
opacity: _.Animation.tweenSwitch(0, 1, k, x, x)
}, this.props.style);
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ t, e ],
style: N
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: O,
style: M
},
_owner: null
} ]
},
_owner: null
};
};
var n = t;
return t = i("_$Logo")(t) || t, t = N["default"]({
isVisible: x["default"](R["default"], "logo"),
entitlements: P["default"]
})(t) || t, t = y.observer(t) || t;
}(h["default"].Component);
t["default"] = B, B.childContextTypes = p({}, B.childContextTypes, {
fonts: h["default"].PropTypes.shape({
normal: h["default"].PropTypes.object,
emphasis: h["default"].PropTypes.object,
letterSpacing: h["default"].PropTypes.number
})
}), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
h = new p["default"](i["default"].extend({}, h, e)), y.trigger(h);
}
var a = n(5), i = r(a), s = n(15), l = n(293), u = r(l), c = n(762), p = r(c), f = n(8), d = n(9), h = new p["default"]({
isVideoEnabled: !0
}), y = s.createStore({
init: function g() {
u["default"].enableVideo.listen(function() {
o({
isVideoEnabled: !0
});
}), u["default"].disableVideo.listen(function() {
o({
isVideoEnabled: !1
});
}), d.reaction(function() {
return f.layoutStateStore.current;
}, function(e) {
var t = Math.max(1, e.breadcrumbs.length - 2);
t > 1 ? u["default"].blur(t) : u["default"].focus();
});
},
getState: function m() {
return h;
}
});
e.exports = y;
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
n(this, o), this.isBlurred = e.isBlurred || !1, this.isVideoEnabled = e.isVideoEnabled || !1, 
this.depth = e.depth || 1;
};
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var o = function a(e) {
r(this, a), e = e || {};
var t = e.all !== !1;
if (this.values = e, this.content = void 0 !== e.content ? e.content : t, this.input = void 0 !== e.input ? e.input : t, 
this.background = void 0 !== e.background ? e.background : t, this.logo = void 0 !== e.logo ? e.logo : t, 
this.mainMenu = void 0 !== e.mainMenu ? e.mainMenu : t, this.header = void 0 !== e.header ? e.header : t, 
this.userBar = void 0 !== e.userBar ? e.userBar : t, this.contextMenus = void 0 !== e.contextMenus ? e.contextMenus : !1, 
this.comCenter = void 0 !== e.comCenter ? e.comCenter : !1, this.viewTint = void 0 !== e.viewTint ? e.viewTint : !1, 
this.invertedInput = !!e.invertedInput, this.miniMenu = e.miniMenu, this.breadcrumbs = void 0 !== e.breadcrumbs ? e.breadcrumbs : !0, 
(e.all === !1 || e.only) && (this.content = !1, this.input = !1, this.background = !1, 
this.logo = !1, this.mainMenu = !1, this.contextMenus = !1, this.comCenter = !1, 
this.header = !1, this.userBar = !1, this.viewTint = !1, this.invertedInput = !1, 
this.miniMenu = !1, this.breadcrumbs = !1, e.only)) if (Array.isArray(e.only)) for (var n = 0; n < e.only.length; n++) this[e.only[n]] = !0; else for (var o in e.only) {
var i = e.only[o];
this[o] = void 0 !== i ? i : e[o];
}
SpartaGlobals.bundleIsConsole && (this.mainMenu && (this.header = !1), this.comCenter && (this.userBar = !1), 
(this.mainMenu || this.comCenter) && (this.viewTint = !0), this.viewOffsetX = this.mainMenu ? !0 : e.viewOffsetX, 
this.comCenter ? this.invertedInput = !1 : this.mainMenu && (this.invertedInput = !0));
};
t["default"] = o, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(765);
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
var t = u["default"].getState();
if ("SuccessJoined" === e.status.name) {
if (!t.sessionId) return void console.error("No MM session available");
if (t.server) return void console.error("No server in MM server info payload");
if (e.gameId) if (e.server && e.locale === A["default"].getState().locale) d["default"].receivedSessionServer(t, new I.Server(e.server)); else {
if (x === e.gameId) return;
x = e.gameId, E["default"](e.gameId, t.gameId).then(function(n) {
n ? d["default"].receivedSessionServer(t, n) : e.server ? (console.warn("Failed to find details for gameId " + e.gameId + ",\n                                    proceeding with unlocalized data"), 
d["default"].receivedSessionServer(t, new I.Server(e.server))) : "0" !== e.gameId ? (console.warn("Failed to find details for gameId " + e.gameId + ",\n                                    and no server info available, proceed with only the gameId"), 
d["default"].receivedSessionServer(t, new I.Server({
game: t.gameId,
gameId: e.gameId,
forceJoin: !0
}))) : (console.warn("Failed to find details for gameId " + e.gameId + ", the gameId is wrong"), 
d["default"].receivedSessionUpdate({
sessionId: t.sessionId,
status: {
name: "JoinFailed"
}
})), x = null;
});
}
}
}
function o() {
var e = u["default"].getState();
if (e.status) {
var t = _["default"].getState().isReady(), n = null;
t ? "SessionTimedOut" === e.status ? n = {
title: __("ID_SPARTA_MATCHMAKING_FAILED"),
desc: __("ID_SPARTA_MATCHMAKING_FAILED_TIMEOUT")
} : "JoinFailed" === e.status && (n = {
title: __("ID_SPARTA_MATCHMAKING_FAILED"),
desc: __("ID_SPARTA_MATCHMAKING_FAILED_GENERIC")
}) : n = {
title: __("ID_SPARTA_MATCHMAKING_FAILED"),
desc: __("ID_SPARTA_MATCHMAKING_FAILED_CONNECTION")
}, n ? (setTimeout(function() {
d["default"].removeSession(e);
}, 100), k || (k = !0, m["default"].closeAll(), i.alert(n.desc, n.title).then(function() {
d["default"].onMatchmakingFailedDismiss(e, t), k = !1;
}))) : e.server && (e.canJoin ? setTimeout(function() {
var t = R.createJoinOptions(e.server);
d["default"].removeSession(e), y["default"].joinMatchmakingResult(t);
}, 100) : d["default"].handleServerFound());
}
}
var a = n(1), i = (t(a), n(31)), s = n(222), l = n(84), u = t(l), c = n(294), p = t(c), f = n(93), d = t(f), h = n(35), y = t(h), g = n(25), m = t(g), b = n(153), v = n(41), _ = t(v), S = n(280), T = n(422), w = n(281), E = t(w), I = n(65), C = n(19), A = t(C), P = n(253), O = n(39), R = n(126), k = !1, x = null;
e.exports = {
stores: {
MatchmakingStore: u["default"]
},
actions: {
MatchmakingActions: d["default"]
},
types: {
MatchmakingSession: n(295)
},
initialize: function M() {
u["default"].listen(o), _["default"].listen(o), d["default"].receivedSessionUpdate.listen(r), 
p["default"].startListening(), d["default"].prepare.listen(function(e, t) {
if (e !== A["default"].getState().hostingGameId) {
var n = P.getCrosslaunchSetting();
if (n === P.CrosslaunchSetting.None) return void O.showNotInHostingGameAlert();
if (!P.ownsGame(e)) return void P.showMissingGamePopup(e);
}
S.checkPresenceReady().then(T.checkMPInstalled).then(T.checkQoSReady).then(b.checkGameState).then(function() {
return s.checkMatchmakingOptions(e, t);
}).then(function() {
return d["default"].prepare["continue"](e, t);
})["catch"](function(e) {
console.error(e), d["default"].prepare.cancel();
});
});
}
};
}).call(t, n(2));
}, function(e, t, n) {
e.exports = n(587);
}, function(e, t, n) {
e.exports = n(768);
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var r = n(29), o = t(r), a = n(52), i = n(11), s = n(45), l = n(167), u = n(8);
e.exports = {
initialize: function c() {
s.acceptKeyword("accept_exclusive_keywords_start"), o["default"].addRouteConfig(new a.Route("omaha-coming-soon", {
getTitle: function e() {
return __("ID_SPARTA_OMAHA_TITLE", !0);
},
disabled: !0,
normalIconUrl: i.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-4838bffd.png"),
priority: 1
})), u.gameStore.registerGame(new l.Game({
isEnabled: !1,
gameId: "bfh",
logoUrl: i.bbOfflineUrl("/sparta/jsclient/modules/omaha/logo2-caecc8e9.png"),
tallCardImage: {
normal: i.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BFH-53c6b43c.png"),
grayScale: i.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BFH-Gray-c8eabd33.png")
}
})), s.acceptKeyword("accept_exclusive_keywords_end");
}
};
}).call(t, n(2));
}, function(e, t, n) {
e.exports = n(105);
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return T(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(10), h = n(63), y = s(h), g = n(8), m = n(18), b = s(m), v = n(3), _ = n(55), S = {
_$BattlepackRecommendationCard: {
displayName: "BattlepackRecommendationCard"
}
}, T = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/BattlepackRecommendationCard.jsx",
components: S,
locals: [],
imports: []
}), w = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.onAction = function s(e) {
y["default"].handleCardInteraction(this.props.recommendation), b["default"].gotoLocation(e);
}, t.prototype.render = function l() {
var e, t = this, n = this.props.recommendation, o = __("ID_SPARTA_CARD_BATTLEPACKS");
e = "battlepack-free" === n.recommendationType ? n.displayDetails.description : __("ID_SPARTA_BP_REC_UNOPENED_SHORT").replace("[[numUnopened]]", n.totalUnopened);
var a = g.gameStore.getGame(n.game).battlepacksRoute;
return {
$$typeof: c,
type: _.BasicCard,
key: null,
ref: null,
props: r(_.BasicCard.defaultProps, {
icon: n.displayDetails.image,
heading: o,
description: e,
onPress: function() {
return t.onAction(a);
},
size: this.props.size
}),
_owner: null
};
};
var n = t;
return t = i("_$BattlepackRecommendationCard")(t) || t, t = v.focusable("c9a40065:11")(t) || t, 
t = d.observer(t) || t;
}(f["default"].Component);
t["default"] = w, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return g(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(55), h = n(3), y = {
_$ChurnRecommendationCard: {
displayName: "ChurnRecommendationCard"
}
}, g = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/ChurnRecommendationCard.jsx",
components: y,
locals: [],
imports: []
}), m = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this;
return {
$$typeof: c,
type: h.Focusable,
key: null,
ref: null,
props: r(h.Focusable.defaultProps, {
children: function t(n) {
return {
$$typeof: c,
type: d.BasicCard,
key: null,
ref: null,
props: r(d.BasicCard.defaultProps, {
heading: "CHURN",
focusItem: n,
description: e.props.recommendation.id
}),
_owner: null
};
},
debugName: "churn_rec_card"
}),
_owner: null
};
};
var n = t;
return t = i("_$ChurnRecommendationCard")(t) || t;
}(f["default"].Component);
t["default"] = m, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return E(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(13), h = s(d), y = n(12), g = s(y), m = n(90), b = s(m), v = n(63), _ = s(v), S = n(3), T = n(173), w = {
_$ContinueRecommendationCard: {
displayName: "ContinueRecommendationCard"
}
}, E = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/ContinueRecommendationCard.jsx",
components: w,
locals: [],
imports: []
}), I = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = S.focus.create(this, "continue_rec_card"), 
this.focusItem.autoFocusCandidate = !0;
}
a(t, e), t.prototype.getHeading = function s() {
return this.props.recommendation.name ? this.props.recommendation.name.toUpperCase() : this.props.recommendation.mode ? this.getModeString(this.props.recommendation.mode) : void 0;
}, t.prototype.getButtons = function l() {
var e = this;
return [ new h["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: g["default"].Accept,
blockInputFor: 500,
action: function t() {
_["default"].handleCardInteraction(e.props.recommendation), b["default"].continueSinglePlayer(e.props.recommendation.game);
}
}) ];
}, t.prototype.getModeString = function u(e) {
var t = e.value ? e.value.toUpperCase() : e.toUpperCase();
return "CAMPAIGN" === t ? __("ID_SPARTA_CARD_CAMPAIGN").toUpperCase() : t;
}, t.prototype.getMode = function p() {
return this.props.recommendation.description ? this.props.recommendation.description.toUpperCase() : this.props.recommendation.mode ? __("ID_SPARTA_RECCOMENDATIONS_CONTINUE_CAMPAIGN").toUpperCase() : void 0;
}, t.prototype.getMap = function f() {
return !this.props.recommendation.description && this.props.recommendation.mode ? __("ID_SPARTA_RECCOMENDATIONS_LEFT_OFF").toUpperCase() : " ";
}, t.prototype.render = function d() {
return {
$$typeof: c,
type: T.PlayCard,
key: null,
ref: null,
props: r(T.PlayCard.defaultProps, {
heading: this.getHeading(),
focusItem: this.focusItem,
input: this.getButtons(),
joinButtonName: __("ID_SPARTA_ACTION_PLAY").toUpperCase(),
modes: this.getMode(),
maps: this.getMap(),
size: this.props.size,
background: this.props.recommendation.image
}),
_owner: null
};
};
var n = t;
return t = i("_$ContinueRecommendationCard")(t) || t;
}(f["default"].Component);
t["default"] = I, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return G(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e) {
return g["default"].compact(g["default"].map(e, function(e, t) {
return "on" === e ? t : null;
}));
}
var c = n(4), p = l(c);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(5), g = l(y), m = n(10), b = n(13), v = l(b), _ = n(12), S = l(_), T = n(3), w = r(T), E = n(8), I = n(18), C = n(63), A = l(C), P = n(93), O = l(P), R = n(23), k = l(R), x = n(287), M = n(104), N = l(M), D = n(28), U = l(D), L = n(173), $ = {
_$FilterRecommendationCard: {
displayName: "FilterRecommendationCard"
}
}, G = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/FilterRecommendationCard.jsx",
components: $,
locals: [],
imports: []
}), F = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = w.focus.create(this, "filtercard"), 
this.focusItem.autoFocusCandidate = !0, this.serverFilterOptionsStore = U["default"](N["default"], this.props.recommendation.game), 
this.state = {
serverFilterOptions: this.serverFilterOptionsStore.getState()
};
}
i(t, e), t.prototype.componentWillMount = function r() {
var e = this;
this.unsubscribeServerFilterOptions = this.serverFilterOptionsStore.listen(function(t) {
return e.setState({
serverFilterOptions: t
});
});
}, t.prototype.componentWillUnmount = function l() {
this.unsubscribeServerFilterOptions();
}, t.prototype.getHeading = function c() {
if (this.props.recommendation.title) return this.props.recommendation.title;
switch (this.props.recommendation.recommendationType) {
case "OldFavoriteMapModeRecommendation":
return __("ID_SPARTA_CARD_OLDFAVORITE");

case "Trending":
return __("ID_SPARTA_CARD_TRENDING");

case "Recommended":
return __("ID_SPARTA_CARD_RECOMMENDED");

case "Pick":
case "EditorsPick":
return __("ID_SPARTA_CARD_EDITORSPICK");

case "MostRecentGame":
return __("ID_SPARTA_CARD_MOSTRECENT");

case "PopularMapModeRecommendation":
return __("ID_SPARTA_CARD_POPULAR");

case "UnplayedMapModeRecommendation":
return __("ID_SPARTA_CARD_UNPLAYED");

case "FavoriteMapModeRecommendation":
return __("ID_SPARTA_CARD_FAVORITE");

case "LeastPlayedMapModeRecommendation":
return __("ID_SPARTA_CARD_OLDFAVORITE");
}
return console.warn("Recommendation type not accounted for:", this.props.recommendation.recommendationType), 
" ";
}, t.prototype.getButtons = function p() {
var e = [ new v["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: S["default"].Accept,
blockInputFor: 500,
action: this.startMatchmaking.bind(this)
}) ];
return w.focus.system.controllerMode && !this.areAllModesDisabledForFilter() && e.push(new v["default"]({
label: __("ID_SPARTA_ACTION_LISTSERVERS"),
key: S["default"].Option1,
blockInputFor: 500,
action: this.gotoServerBrowser.bind(this)
})), e;
}, t.prototype.getContextMenu = function d() {
return [ new v["default"]({
blockInputFor: 500,
label: __("ID_SPARTA_ACTION_LISTSERVERS"),
action: this.gotoServerBrowser.bind(this)
}) ];
}, t.prototype.getBackgroundImage = function h(e) {
var t = this.props.recommendation.matchmake, n = t.maps, r = t.gameModes, o = u(n);
if (o && e.maps) {
var a = g["default"].find(e.maps, function(e) {
return e.filterKey === o[0];
});
if (a) return a.imageUrl;
}
var i = u(r);
if (i && e.modes) {
var s = g["default"].find(e.modes, function(e) {
return e.filterKey === i[0];
});
if (s) return s.imageUrl;
}
return null;
}, t.prototype.areAllModesDisabledForFilter = function y() {
var e = this, t = this.props.recommendation.matchmake.gameModes;
if (this.state.serverFilterOptions && this.state.serverFilterOptions.modes && t) {
var n = Object.keys(t), r = n.filter(function(t) {
var n = g["default"].find(e.state.serverFilterOptions.modes, function(e) {
return e.filterKey === t;
});
return n && -1 === n.disabledFor.indexOf("ServerFilter");
});
return 0 === r.length;
}
return !1;
}, t.prototype.startMatchmaking = function b() {
A["default"].handleCardInteraction(this.props.recommendation), O["default"].prepare(this.props.recommendation.game, this.props.recommendation.matchmake);
}, t.prototype.gotoServerBrowser = function _() {
A["default"].handleCardInteraction(this.props.recommendation);
var e = this.props.recommendation, t = e.game, n = e.matchmake, r = E.gameStore.getGame(t).serverListRoute;
k["default"].applyFilters(t, n), I.gotoLocation(r);
}, t.prototype.render = function T() {
var e, t = this.props.recommendation, n = E.quickmatchOptionsStore.quickmatchOptions && E.quickmatchOptionsStore.quickmatchOptions[t.game], r = n ? Object.assign({}, this.state.serverFilterOptions, {
gameModes: n.gameModes
}) : Object.assign({}, this.state.serverFilterOptions), a = SpartaGlobals.bundleIsPC && !this.areAllModesDisabledForFilter() ? {
options: this.getContextMenu()
} : null, i = x.getFilterCardSummary(t.matchmake, r);
if (t.display) {
e = this.props.size ? "M" === this.props.size ? t.display.imageSmall : t.display.imageMedium : t.display.imageSmall;
var s = i.subHeading;
i.subHeading = t.display.title.toUpperCase(), i.content = s;
} else e = this.getBackgroundImage(r);
return {
$$typeof: f,
type: L.PlayCard,
key: null,
ref: null,
props: o(L.PlayCard.defaultProps, {
heading: this.getHeading(),
input: this.getButtons(),
focusItem: this.focusItem,
game: t.game,
counterId: t.recommendationId,
contextMenu: a,
joinButtonName: __("ID_SPARTA_ACTION_QUICKMATCH").toUpperCase(),
modes: i.subHeading,
maps: i.content,
playersInfo: i.subHeadingExtra,
background: e,
size: this.props.size,
custom: !!t.display
}),
_owner: null
};
};
var n = t;
return t = s("_$FilterRecommendationCard")(t) || t, t = m.observer(t) || t;
}(h["default"].Component);
t["default"] = F, F.defaultProps = {
size: "M"
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return N(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(5), h = s(d), y = n(18), g = s(y), m = n(171), b = n(63), v = s(b), _ = n(55), S = n(70), T = s(S), w = n(7), E = n(8), I = n(3), C = n(13), A = s(C), P = n(12), O = s(P), R = n(6), k = s(R), x = n(16), M = {
_$ItemRecommendationCard: {
displayName: "ItemRecommendationCard"
}
}, N = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/ItemRecommendationCard.jsx",
components: M,
locals: [],
imports: []
}), D = {
position: "absolute",
right: 0,
bottom: 0,
left: 0
}, U = function $(e) {
return {
margin: [ 0, 3 * k["default"].GUTTER, 3 * k["default"].GUTTER, 3 * k["default"].GUTTER ],
opacity: x.Animation.tweenSwitch(0, 1, e, m.tweenInOptions, m.tweenOutOptions)
};
}, L = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getButtons = function s() {
var e = this, t = this.props.recommendation.itemType, n = this.props.recommendation.game, r = this.props.recommendation.recommendationId, o = E.gameStore.getGame(n);
if (t && o && r) {
var a, i = function() {
switch (a = "", t.toLowerCase()) {
case "medal":
a = "medals";
}
var n = o.startRoute + "/soldier";
return "tunguska" === E.layoutStateStore.current.config.gameId, "" !== a && (n += "/" + a + "?id=" + r), 
{
v: [ new A["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: O["default"].Accept,
blockInputFor: 500,
action: function i() {
v["default"].handleCardInteraction(e.props.recommendation), g["default"].gotoLocation(n);
}
}) ]
};
}();
if ("object" == typeof i) return i.v;
}
return [];
}, t.prototype.getHeading = function l() {
if (this.props.recommendation.recommendationType) switch (this.props.recommendation.recommendationType.toLowerCase()) {
case "unlock":
return __("ID_SPARTA_CARD_UPCOMING_UNLOCK").toUpperCase();

default:
return "";
}
}, t.prototype.getName = function u() {
return this.props.recommendation.displayDetails.name ? this.props.recommendation.displayDetails.name.toUpperCase() : void 0;
}, t.prototype.getProgression = function p(e, t, n) {
return e ? __("ID_SPARTA_CARD_TRACKEDMEDAL_STAGES_COMPLETED").replace("[[current]]", t).replace("[[needed]]", n) : __("ID_SPARTA_CARD_TRACKEDMEDAL_RIBBONS_COMPLETED").replace("[[current]]", t).replace("[[needed]]", n);
}, t.prototype.getImage = function f() {
return this.props.recommendation.displayDetails ? this.props.recommendation.displayDetails.image : void 0;
}, t.prototype.render = function d() {
var e = this, t = this.props.recommendation.displayDetails.completions, n = t.length > 1, o = 0, a = 0;
n ? (h["default"].each(t, function(e) {
e.current === e.needed && o++;
}), a = t.length) : (o = t[0].current, a = t[0].needed);
var i = o / a, s = this.getProgression(n, o, a);
return {
$$typeof: c,
type: I.Focusable,
key: null,
ref: null,
props: r(I.Focusable.defaultProps, {
children: function l(t) {
var n = t.isFocused || t.isHovered;
return {
$$typeof: c,
type: _.BasicCard,
key: null,
ref: null,
props: r(_.BasicCard.defaultProps, {
focusItem: t,
input: e.getButtons(),
heading: e.getHeading(),
description: e.getName(),
icon: e.getImage(),
size: e.props.size.replace("L", "M"),
fold: {
$$typeof: c,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
value: s,
style: U(n),
size: "XS"
}),
_owner: null
},
overlay: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
style: D,
completed: i,
backgroundColor: n ? "#00000033" : "#ffffff33"
}),
_owner: null
}
}),
_owner: null
};
},
debugName: "item_rec_card"
}),
_owner: null
};
};
var n = t;
return t = i("_$ItemRecommendationCard")(t) || t;
}(f["default"].Component);
t["default"] = L, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return N(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(5), h = s(d), y = n(13), g = s(y), m = n(12), b = s(m), v = n(3), _ = n(36), S = s(_), T = n(35), w = s(T), E = n(63), I = s(E), C = n(14), A = s(C), P = n(173), O = n(39), R = n(108), k = n(126), x = n(8), M = {
_$PlayingFriendsRecommendationCard: {
displayName: "PlayingFriendsRecommendationCard"
}
}, N = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/PlayingFriendsRecommendationCard.jsx",
components: M,
locals: [],
imports: []
}), D = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = v.focus.create(this, "playing_friends_rec_card"), 
this.focusItem.autoFocusCandidate = !0;
}
a(t, e), t.prototype.getButtons = function s(e, t) {
var n = this, r = [ new g["default"]({
label: __("ID_SPARTA_CARD_JOINFRIENDS"),
key: b["default"].Accept,
blockInputFor: 500,
action: function o() {
return n.onJoinFriend(e, t);
}
}) ];
return SpartaGlobals.bundleIsConsole && !x.partyStore.canGroupJoin(t.game) && (O.supportsSpectating(t.game) && r.push(new g["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
key: b["default"].Option1,
blockInputFor: 500,
action: function a() {
return n.onJoinFriend(e, t, "spectator");
}
})), O.supportsCommander(t.game) && t.isRoleSupported("commander") && r.push(new g["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER"),
key: b["default"].Option2,
blockInputFor: 500,
action: function i() {
return n.onJoinFriend(e, t, "commander");
}
}))), r;
}, t.prototype.getContextMenuConfig = function l(e, t) {
var n = this, r = [];
return x.partyStore.canGroupJoin(t.game) || (O.supportsSpectating(t.game) && r.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
action: function o() {
return n.onJoinFriend(e, t, "spectator");
}
}), O.supportsCommander(t.game) && t.isRoleSupported("commander") && r.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER"),
action: function a() {
return n.onJoinFriend(e, t, "commander");
}
})), r.length ? {
options: r
} : null;
}, t.prototype.getLargestGroup = function u(e) {
return h["default"].chain(e).groupBy(function(e) {
return e.presence.server.gameId;
}).values().sortBy(function(e) {
return e.length;
}).last().value();
}, t.prototype.onJoinFriend = function p(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? "soldier" : arguments[2];
I["default"].handleCardInteraction({
group: "friend",
recommendationType: "FriendPlayingRecommendation"
}, this.props.recommendation.playingFriends.length), this.state.gameState.isServerJoiningAllowed(t.gameId) && w["default"].joinServer(k.createJoinOptions(t, n, {
friend: e
}));
}, t.prototype.render = function f() {
var e = this.props.recommendation.playingFriends;
if (!e || 0 === e.length) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var t = this.getLargestGroup(e), n = t[0], o = n.presence.server, a = this.state.ugcAccess.level === R.UGCAccessLevel.Everyone ? o.name : o.gameId, i = 1 === t.length ? __("ID_SPARTA_CARD_JOINFRIEND").toUpperCase() : __("ID_SPARTA_CARD_JOINFRIENDS").toUpperCase(), s = o.slots.soldier, l = o.mapModePretty.toUpperCase(), u = o.mapNamePretty.toUpperCase(), p = (s.current + "/" + s.max + " " + __("ID_SPARTA_SERVER_PLAYERS").toLowerCase()).toUpperCase(), f = SpartaGlobals.bundleIsPC ? this.getContextMenuConfig(n, o) : null;
return {
$$typeof: c,
type: P.PlayCard,
key: null,
ref: null,
props: r(P.PlayCard.defaultProps, {
heading: i,
focusItem: this.focusItem,
input: this.getButtons(n, o),
contextMenu: f,
joinButtonName: i,
modes: a,
maps: l + " - " + u,
playersInfo: p,
background: o.mapImageUrl,
friends: t,
size: this.props.size
}),
_owner: null
};
};
var n = t;
return t = i("_$PlayingFriendsRecommendationCard")(t) || t, t = A["default"]({
gameState: S["default"],
ugcAccess: R.UGCAccessStore
})(t) || t;
}(f["default"].Component);
D.propTypes = {
size: f["default"].PropTypes.oneOf([ "L", "SSL" ]),
recommendation: f["default"].PropTypes.object.isRequired
}, D.defaultProps = {
size: "L"
}, t["default"] = D, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return U(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(55), y = n(18), g = n(63), m = l(g), b = n(58), v = n(67), _ = l(v), S = n(14), T = l(S), w = n(204), E = r(w), I = n(357), C = n(35), A = l(C), P = n(3), O = n(39), R = n(10), k = n(13), x = l(k), M = n(12), N = l(M), D = {
_$RouteRecommendationCard: {
displayName: "RouteRecommendationCard"
}
}, U = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/RouteRecommendationCard.jsx",
components: D,
locals: [],
imports: []
}), L = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.gotoRoute = function r() {
m["default"].handleCardInteraction(this.props.recommendation);
var e = this.props.recommendation.route;
-1 !== e.indexOf("crosslaunch/") ? (e = e.replace("crosslaunch/", ""), E.launchGame(new I.CrossLaunchOptions({
gameId: e,
params: {
gameMode: "None"
}
}))) : "operations" === e ? A["default"].enterSpecificGameMode("operations") : y.gotoLocation(e);
}, t.prototype.render = function l() {
var e = this, t = this.props.recommendation.route, n = this.state.entitlements.hasAccess();
if (n && -1 !== t.indexOf("store/list?tab=access")) return null;
if ("operations" === t && !O.routeIsHostingGame()) return null;
var r = [ new x["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
blockInputFor: 500,
action: this.gotoRoute.bind(this),
key: N["default"].Accept
}) ], a = "";
-1 !== t.indexOf("/store/list") && (a = __("ID_SPARTA_CARD_OFFER").toUpperCase());
var i = b.localeState.displayLocale, s = this.props.recommendation.title || "", l = void 0 !== this.props.recommendation.localizedTitles ? this.props.recommendation.localizedTitles[i.toLowerCase()] || s : s;
return {
$$typeof: p,
type: P.Focusable,
key: null,
ref: null,
props: o(P.Focusable.defaultProps, {
children: function u(t) {
return {
$$typeof: p,
type: h.BasicCard,
key: null,
ref: null,
props: o(h.BasicCard.defaultProps, {
focusItem: t,
heading: a,
description: l.toUpperCase(),
background: e.props.recommendation.imageUrl,
size: e.props.size,
input: r
}),
_owner: null
};
},
debugName: "route_rec_card"
}),
_owner: null
};
};
var n = t;
return t = s("_$RouteRecommendationCard")(t) || t, t = R.observer(t) || t, t = T["default"]({
entitlements: _["default"]
})(t) || t;
}(d["default"].Component);
t["default"] = L, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
function s(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function l(e) {
return function(t) {
return R(t, e);
};
}
function u(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var c = n(4), p = u(c);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), h = n(1), y = u(h), g = n(3), m = n(10), b = n(9), v = n(482), _ = n(13), S = u(_), T = n(12), w = u(T), E = n(63), I = u(E), C = n(55), A = n(11), P = r(g), O = {
_$VideoRecommendationCard: {
displayName: "VideoRecommendationCard"
}
}, R = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/VideoRecommendationCard.jsx",
components: O,
locals: [],
imports: []
}), k = A.bbOfflineUrl("/sparta/jsclient/builds/assets/play_active-b7f2b328.png"), x = A.bbOfflineUrl("/sparta/jsclient/builds/assets/play-f2e293cf.png"), M = "SpartaCommonAtlas", N = function(e) {
function t(t) {
a(this, r), e.call(this, t), i(this, "isFullscreen", n), this.video = g.video.loadVideo(t.recommendation.url), 
this.focusItem = g.focus.create(this, "video_rec_card_" + t.recommendation.title), 
this.focusItem.autoFocusCandidate = !0, this.preloader = P.texture.createPreloader(this), 
this.preloader.preload(k, M), this.preloader.preload(x, M);
}
var n = {};
s(t, e), t.prototype.componentWillUpdate = function u(e) {
this.video = g.video.loadVideo(e.recommendation.url);
}, t.prototype.render = function c() {
var e = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
texture: this.focusItem.isFocused ? k : x,
textureAtlas: M,
textureMode: "none",
textureAlign: [ .5, .5 ]
}
},
_owner: null
}, t = [ new S["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
blockInputFor: 500,
action: this.showFullScreenPopup.bind(this),
key: w["default"].Accept
}) ];
return {
$$typeof: f,
type: C.BasicCard,
key: null,
ref: null,
props: o(C.BasicCard.defaultProps, {
forcedActive: this.isFullscreen,
focusItem: this.focusItem,
input: t,
heading: __("ID_SPARTA_CARD_WATCH").toLocaleUpperCase(),
description: this.props.recommendation.title || "",
background: this.props.recommendation.imageUrl,
backgroundVideo: this.video,
overlay: e,
size: this.props.size
}),
_owner: null
};
}, d(t, [ {
key: "showFullScreenPopup",
decorators: [ b.action ],
value: function p() {
var e = this;
clearTimeout(this.autoPlayTimeout);
var t = this.props.recommendation;
I["default"].handleCardInteraction(t), this.isFullscreen = !0, this.video.setLoop(!1), 
v.showFullscreenVideo(this.video, t.title, t.author).then(b.action(function() {
e.isFullscreen = !1, e.video.setLoop(!0), e.focusItem.isFocused && e.video.play();
}));
}
}, {
key: "isFullscreen",
decorators: [ b.observable ],
initializer: function h() {
return !1;
},
enumerable: !0
} ], null, n);
var r = t;
return t = l("_$VideoRecommendationCard")(t) || t, t = m.observer(t) || t;
}(y["default"].Component);
t["default"] = N, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
e.exports = n(779);
}, function(e, t, n) {
(function(__) {
function t(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(1), a = (r(o), n(3)), i = n(267), s = r(i), l = n(18), u = r(l), c = n(8), p = n(5), f = r(p), d = n(9), h = n(44), y = n(29), g = r(y), m = n(52), b = n(781), v = r(b), _ = n(780), S = r(_), T = n(786), w = r(T), E = n(167), I = n(58), C = n(23), A = r(C), P = n(34), O = r(P), R = n(368), k = r(R), x = n(605), M = r(x), N = n(157), D = r(N), U = n(463), L = r(U), $ = n(107), G = r($), F = n(304), B = r(F), j = n(464), H = r(j), V = n(782), z = r(V), W = n(57), q = t(W), K = n(800), X = t(K), Y = n(12), J = r(Y), Q = n(447), Z = r(Q), ee = n(599), te = n(11), ne = n(45), re = n(831), oe = n(31), ae = n(24), ie = r(ae), se = n(19), le = r(se), ue = n(218), ce = n(103), pe = r(ce), fe = n(600), de = n(596), he = n(592), ye = n(601), ge = n(603), me = n(602), be = n(598), ve = n(593), _e = n(595), Se = n(544), Te = n(402), we = (r(Te), 
n(401)), Ee = (r(we), n(403)), Ie = r(Ee), Ce = n(692), Ae = r(Ce), Pe = n(404), Oe = r(Pe), Re = n(405), ke = r(Re), xe = n(352), Me = n(350), Ne = te.bbOfflineUrl("/sparta/jsclient/builds/assets/bf1-soldier-temp-b116e195.png"), De = {
Assault: te.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/assault-3f255430.png"),
Cavalry: te.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/cavalry-14c9646a.png"),
Medic: te.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/medic-8cfde563.png"),
Pilot: te.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/pilot-10ec93d7.png"),
Scout: te.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/scout-f24eac95.png"),
Support: te.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/support-d67fce25.png"),
Tanker: te.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/tanker-192d58c0.png")
};
e.exports = {
stores: {
TunguskaBattlepackStore: D["default"],
TunguskaBattlepackActiveStore: L["default"],
TunguskaBattlepackBalanceStore: G["default"],
TunguskaBattlepackPurchasableStore: B["default"],
TunguskaBattlepackBlueprintStore: H["default"]
},
actions: {
TunguskaActions: O["default"]
},
components: [],
initialize: function Ue() {
function e() {
var e, t = re.getServerFilters();
c.settingsStore.isFeatureEnabled("spectator") || (t.slots = t.slots.filter(function(e) {
return "spectator" !== e.filterKey;
})), A["default"].setFilterOptions((e = {}, e[h.tunguskaGameId] = t, e));
}
function t() {
var e = [ "deluxe", "battlepacks" ], t = c.gameStore.getGame(l).subscriberAccessFeatureFlagName;
return c.settingsStore.isFeatureEnabled("tunguskaKitShortcuts") && e.push("shortcuts"), 
e.push("premium"), c.settingsStore.isFeatureEnabled("tunguskaRSP") && e.push("rent"), 
c.settingsStore.isFeatureEnabled(t) && e.push("access"), e;
}
function r(e, t, n) {
if (e.length) {
var r = f["default"].find(e, function(e) {
return "DEFAULT" !== e.name;
});
if (r) {
var o = function l() {
u["default"].gotoLocation("tunguska/store/list?specific=premium");
}, a = j[r.name], i = void 0;
r.prettyName && (i = __("ID_SPARTA_ONLINE_JOIN_PREMIUM_REQUIRED_EXPANSION").replace("[EXPANSION]", r.prettyName));
var s = __("ID_SPARTA_ONLINE_JOIN_PREMIUM_REQUIRED").toUpperCase();
return oe.alertWithImageAndOption(i, s, a, {
action: o,
key: J["default"].Option2,
label: __("ID_SPARTA_ONLINE_JOIN_PREMIUM_REQUIRED_LINK")
}, !0);
}
}
return !1;
}
function o() {
var e = te.bbOfflineUrl("/sparta/jsclient/builds/assets/splash-bf1-launch-b78d6145.jpg");
return SpartaGlobals.bundleIsPC ? {
startScreenImageUrl: e,
logoUrl: i ? te.bbOfflineUrl("/sparta/assets/tunguska/cte-logo-ebebcf29.png") : te.bbOfflineUrl("/sparta/jsclient/builds/assets/logo_pc-795c9952.png"),
trialLogoUrl: te.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf1-pc-trial-e793fd34.png"),
premiumLogoUrl: i ? te.bbOfflineUrl("/sparta/assets/tunguska/cte-logo-ebebcf29.png") : te.bbOfflineUrl("/sparta/assets/layout/logos/logo-premium-pc-47319a70.png")
} : {
startScreenImageUrl: e,
logoUrl: te.bbOfflineUrl("/sparta/jsclient/builds/assets/logo_console-55b4af21.png"),
trialLogoUrl: te.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf1-console-trial-f22e507b.png"),
premiumLogoUrl: te.bbOfflineUrl("/sparta/assets/layout/logos/logo-premium-console-790d55d3.png")
};
}
var i = a.getBuildInfo().isCTE(), l = h.tunguskaGameId, p = [ 4084, 1600 ], y = [ 4084, 1440 ];
ne.acceptKeyword("accept_exclusive_keywords_start");
var b = [ {
bg: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Total_War_Background-dd1939bb.dds"),
overlay: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Total_War_Foreground-d2a506be.dds"),
skyColor: "#6f7170"
}, {
bg: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Desert_Background-99209429.dds"),
overlay: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Desert_Foreground-97ddaa52.dds"),
skyColor: "#4b565c"
}, {
bg: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Fao_Background-7666b0fa.dds"),
overlay: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Fao_Foreground-b0a024c0.dds"),
skyColor: "#ab8987"
}, {
bg: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Scar_Background-147f4b7f.dds"),
overlay: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Scar_Foreground-a3168140.dds"),
skyColor: "#80879b"
}, {
bg: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Forest_Background-2eae5319.dds"),
overlay: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Forest_Foreground-738f90e1.dds"),
skyColor: "#9daba5"
}, {
bg: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Prologue_Background-961f00dd.dds"),
overlay: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Prologue_Foreground-1a76134c.dds"),
skyColor: "#71858f"
}, {
bg: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Gallipoli_Background-3ee0d80c.dds"),
overlay: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Gallipoli_Foreground-69952bcf.dds"),
skyColor: "#688299"
} ];
ne.acceptKeyword("accept_exclusive_keywords_end");
var _ = b[Math.floor(Math.random() * b.length)], T = {
normal: I.localeState.fonts.tunguska.normal,
emphasis: I.localeState.fonts.tunguska.emphasis,
letterSpacing: 2
}, C = te.bbOfflineUrl("/sparta/jsclient/builds/assets/boxshot_bf1-b6b54401.png");
ie["default"].onSessionEstablished.listen(function() {
le["default"].getState().hostingGameId !== h.tunguskaGameId && I.localeState.needsFallback ? d.when(function() {
return I.localeState.section === h.tunguskaGameId;
}, function() {
e();
}) : ue.waitForTranslations().then(function() {
return e();
});
});
var P = {
serverType: {
OFFICIAL: "on"
},
passwordProtected: "off"
}, R = {
breakthrough: {
gameSizes: {
64: "on"
},
gameModes: {
Breakthrough: "on",
BreakthroughLarge: "on"
}
}
}, x = [ {
getTitle: function ce() {
return __("ID_SPARTA_CUSTOMIZE_SOLDIER");
},
label: function Te() {
return __("ID_SPARTA_CUSTOMIZE_SOLDIER");
},
route: "loadout",
onTrigger: function we() {
return O["default"].showLoadout();
},
isNative: !0,
requiresInstallation: !0,
featureFlag: "tunguskaCustomizeFrontend"
}, {
getTitle: function Ee() {
return __("ID_SPARTA_CAREER_WEAPONS_AND_GADGETS");
},
label: function Ce() {
return __("ID_SPARTA_CAREER_WEAPONS_AND_GADGETS");
},
route: "kits",
view: Ae["default"],
onTrigger: function Pe() {
return u["default"].gotoLocation("tunguska/soldier/kits");
},
completion: [ "WEAPONS", "GADGETS" ]
}, {
getTitle: function Re() {
return __("ID_SPARTA_CAREER_VEHICLES");
},
label: function Ue() {
return __("ID_SPARTA_CAREER_VEHICLES");
},
route: "vehicles",
view: ke["default"],
onTrigger: function Le() {
return u["default"].gotoLocation("tunguska/soldier/vehicles");
}
}, {
getTitle: function $e() {
return __("ID_SPARTA_CAREER_AWARDS");
},
label: function Ge() {
return __("ID_SPARTA_CAREER_AWARDS");
},
route: "medals",
view: Oe["default"],
onTrigger: function Fe() {
return u["default"].gotoLocation("tunguska/soldier/medals");
},
completion: "MEDALS"
}, {
getTitle: function Be() {
return __("ID_SPARTA_CAREER_RIBBONS");
},
label: function je() {
return __("ID_SPARTA_CAREER_RIBBONS");
},
route: "ribbons",
view: Se.CareerRibbons,
onTrigger: function He() {
return u["default"].gotoLocation("tunguska/soldier/ribbons");
},
completion: "RIBBONS"
}, {
getTitle: function Ve() {
return __("ID_SPARTA_CAREER_CODEX");
},
label: function ze() {
return __("ID_SPARTA_CAREER_CODEX");
},
route: "codex",
view: _e.TunguskaCareerCodex,
onTrigger: function We() {
return u["default"].gotoLocation("tunguska/soldier/codex");
},
completion: "CODEX"
}, {
getTitle: function qe() {
return __("ID_SPARTA_CAREER_DOGTAGS");
},
label: function Ke() {
return __("ID_SPARTA_CAREER_DOGTAGS");
},
route: "dogtags",
view: Ie["default"],
onTrigger: function Xe() {
return u["default"].gotoLocation("tunguska/soldier/dogtags");
},
completion: "DOG TAGS"
}, {
getTitle: function Ye() {
return __("ID_SPARTA_CAREER_BATTLEPACKS");
},
label: function Je() {
return __("ID_SPARTA_CAREER_BATTLEPACKS");
},
route: "battlepacks",
requiresHostingGame: !0,
onTrigger: function Qe() {
return u["default"].gotoLocation("tunguska/more/battlepacks");
}
} ], N = {
route: l + "/store/list",
image: te.bbOfflineUrl("/sparta/jsclient/builds/assets/bf1-e55ecb60.png"),
getTabs: t,
showShortcutKitReceipt: !0
}, D = [ pe["default"].ENGLISH, pe["default"].FRENCH, pe["default"].ITALIAN, pe["default"].SPANISH, pe["default"].GERMAN, pe["default"].POLISH, pe["default"].RUSSIAN, pe["default"].PORTUGUESE_BRAZIL, pe["default"].JAPANESE, pe["default"].SPANISH_MEXICO, pe["default"].ARABIC, pe["default"].CHINESE, pe["default"].TURKISH ], U = [ pe["default"].ENGLISH, pe["default"].FRENCH, pe["default"].SPANISH, pe["default"].PORTUGUESE_BRAZIL, pe["default"].SPANISH_MEXICO, pe["default"].CHINESE ], L = [ pe["default"].ENGLISH, pe["default"].FRENCH, pe["default"].ITALIAN, pe["default"].SPANISH, pe["default"].GERMAN, pe["default"].POLISH, pe["default"].RUSSIAN, pe["default"].ARABIC, pe["default"].TURKISH ], $ = [ pe["default"].ENGLISH, pe["default"].JAPANESE ], G = [ pe["default"].ENGLISH, pe["default"].RUSSIAN ], F = {
eu: {
PC: D,
XBOXONE: D,
PS4: L
},
jp: {
PC: D,
XBOXONE: D,
PS4: $
},
na: {
PC: D,
XBOXONE: D,
PS4: U
},
ru: {
PC: D,
XBOXONE: D,
PS4: G
}
}, B = {
completedText: {
color: "#ff9900"
},
customLabel: {
color: "#ff9900"
},
rankBadge: {
position: "absolute",
top: SpartaGlobals.bundleIsConsole ? -27 : -33
},
alignBadgeInfo: "bottom"
}, j = {
XPACK1: te.bbOfflineUrl("/sparta/assets/tunguska/expansions/xp1-boxshot-35b66a25.png")
};
ne.acceptKeyword("accept_exclusive_keywords_start");
var H = {
conquest: function Ze() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_CONQUEST");
},
domination: function et() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_DOMINATION");
},
rush: function tt() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_RUSH");
},
teamdeathmatch: function nt() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_TDM");
},
breakthrough: function rt() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_BREAKTHROUGH");
},
possession: function ot() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_POSESSION");
},
airsuperiority: function at() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_AIRSUPERIORITY");
}
};
ne.acceptKeyword("accept_exclusive_keywords_end"), c.gameStore.registerGame(new E.Game(Object.assign({
gameId: l,
branchNameTest: "tunguska",
productGuid: "{D4C9BAB0-CE51-4416-B51A-E0EF7154B8F4}",
crossLaunchIds: {
xboxOneId: "ms-xbl-52A4C121://crossLaunch",
ps4Ids: {
NA: "CUSA02429",
EU: "CUSA02387",
JP: "CUSA02400"
},
pcIds: {
masterTitleId: "190132",
multiplayerId: "1026023"
}
},
displayName: function it() {
return i ? __("ID_SPARTA_TUNGUSKA_CTE_TITLE", !0) : __("ID_SPARTA_TUNGUSKA_TITLE", !0);
},
logo: ee.TunguskaLogo,
cardImageUrl: te.bbOfflineUrl("/sparta/jsclient/builds/assets/card-1d551bae.jpg"),
tallCardImage: {
normal: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BF1-7f45c883.png"),
grayScale: te.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BF1-Gray-bb9fe705.png")
},
joinNotice: {
premiumTextColor: "#FF9900",
premiumOverlayTexture: te.bbOfflineUrl("/sparta/jsclient/builds/assets/BF1-Premium-Notice-9d796ca2.png"),
indicatorTexture: te.bbOfflineUrl("/sparta/jsclient/builds/assets/matchmaking-sprite-7c9ed045.png")
},
defaultBackgroundUrl: _.bg,
serverListRoute: "tunguska/mp/servers",
serverDetailsRoute: "tunguska/mp/servers/details",
serverListDefaultFilter: {
slots: {
oneToFive: "on",
sixToTen: "on"
},
regions: {}
},
expansionsImage: te.bbOfflineUrl("/sparta/assets/expansions-bf4-fb125f97.png"),
showMissingExpansionsPopupOverride: r,
battlepacksRoute: "tunguska/more/battlepacks",
quickMatchRoute: "tunguska/mp/quickmatch",
gameModeCatchphrases: H,
fonts: T,
gameViewComponent: n(801),
startRoute: "tunguska",
careerConfig: x,
shouldDisplayMedalProgression: !1,
dogtagsConfig: {
getLeft: function st() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_FRONT");
},
getRight: function lt() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_BACK");
},
size: "square",
type: "flipping"
},
customizeSoldierAction: function ut() {
c.settingsStore.isFeatureEnabled("tunguskaCustomizeFrontend") && O["default"].showLoadout();
},
storeConfig: N,
rspConfig: {
isEnabled: function ct() {
return c.settingsStore.isFeatureEnabled("tunguskaRSP");
},
excludedGameModes: [ "BT0", "BTL0" ],
requireAtLeastOneOfKits: [ "1", "2", "3", "4" ],
purchaseNewRoute: "tunguska/store/list/rsp",
renewRoute: "tunguska/mp/servers/rsp/renew",
configureRoute: "tunguska/mp/servers/rsp/configure"
},
legal: Z["default"],
enforceEntitlements: !0,
styles: B,
backgroundMusicTrack: 1,
locales: F,
fetchCareer: !0,
supportedRoles: [ "soldier", "spectator" ],
supportedServerTypes: [ "PRIVATE" ],
hasParticleEffects: !0,
hasSpectatorFeatureFlag: !0,
mutateCareerStats: function pt(e) {
var t = e.highlightsByType.kit && e.highlightsByType.kit[0];
e.soldierImageUrl = De[t && t.kitId] || De[t && t.name] || Ne;
},
boxShot: C
}, o())));
var V, W, K, Y, Q, ae;
ae = new m.Route("premium", {
getTitle: function ft() {
return __("ID_SPARTA_MENU_TITLE_PREMIUM");
},
visible: !1,
view: ye.TunguskaPremium
}), V = i ? new m.Route("mp/servers", {
requireOnline: !0,
requireMpInstalled: !0,
getTitle: function dt() {
return __("ID_SPARTA_MENU_TITLE_MULTIPLAYER");
},
view: ge.TunguskaServerList,
children: [ new m.Route("details", {
getTitle: function ht() {
return __("ID_SPARTA_MENU_TITLE_SERVER_INFO");
},
view: n(448),
excludeFromHistory: !0
}) ]
}) : new m.Route("mp", {
requireOnline: !0,
requireMpInstalled: !0,
getTitle: function yt() {
return __("ID_SPARTA_MENU_TITLE_MULTIPLAYER");
},
view: n(783),
children: [ new m.Route("servers", {
getTitle: function gt() {
return __("ID_SPARTA_MENU_TITLE_SERVER_BROWSER");
},
view: ge.TunguskaServerList,
children: [ new m.Route("details", {
getTitle: function mt() {
return __("ID_SPARTA_MENU_TITLE_SERVER_INFO");
},
view: n(448),
excludeFromHistory: !0
}), new m.Route("filter", {
getTitle: function bt() {
return __("ID_SPARTA_MENU_TITLE_FILTER");
},
view: me.TunguskaServerFilter,
excludeFromHistory: !0
}), new m.Route("rsp", {
getTitle: function vt() {
return __("ID_SPARTA_TAB_RENTEDSERVERS");
},
skipToFirstChild: !0,
children: [ new m.Route("renew", {
getTitle: function _t() {
return __("ID_SPARTA_ACTION_SERVER_RENEW");
},
view: Me.RenewExpiredServer,
args: {
gameId: l
},
excludeFromHistory: !0
}), new m.Route("configure", {
getTitle: function St() {
return __("ID_SPARTA_ACTION_SERVER_CONFIGURE");
},
view: Me.ConfigureExistingServer,
args: {
gameId: l
},
excludeFromHistory: !0
}) ]
}) ]
}), new m.Route("quickmatch", {
getTitle: function Tt() {
return __("ID_SPARTA_MENU_TITLE_QUICKMATCH");
},
view: n(365).getGameSpecificQuickMatch(h.tunguskaGameId, P, R)
}), new m.Route("customgames", {
getTitle: function wt() {
return __("ID_SPARTA_MENU_TITLE_CUSTOM_GAMES");
},
view: be.TunguskaCustomGames,
children: [ new m.Route("filter", {
excludeFromHistory: !0,
getTitle: function Et() {
return __("ID_SPARTA_MENU_TITLE_FILTER");
},
view: me.TunguskaServerFilter
}) ]
}) ]
}), W = new m.Route("sp", {
requireOnline: !1,
requireMpInstalled: !1,
getTitle: function It() {
return __("ID_SPARTA_MENU_TITLE_CAMPAIGN");
},
view: n(594).TunguskaCampaign,
disabled: !1
}), K = new m.Route("soldier", {
getTitle: function Ct() {
return __("ID_SPARTA_MENU_TITLE_SOLDIER");
},
args: {
gameId: l
},
view: n(270),
children: s["default"].generateChildrenRoutes(l, x),
disabled: !1
}), Y = new m.Route("store", {
getTitle: function At() {
return __("ID_SPARTA_MAIN_TITLE_STORE");
},
args: {
gameId: l
},
view: n(413),
children: [ new m.Route("access", {
getTitle: function Pt() {
return __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_TAB_ORIGIN_ACCESS" : "ID_SPARTA_TAB_EA_ACCESS");
},
view: n(217),
args: {
gameId: l
},
children: [ new m.Route("play-first", {
getTitle: function Ot() {
return __("ID_SPARTA_ACCESS_PLAY_FIRST_TRIAL");
},
args: {
gameId: l
},
view: n(273)
}), new m.Route("common-questions", {
getTitle: function Rt() {
return __("ID_SPARTA_ACCESS_COMMON_QUESTIONS");
},
args: {
gameId: l
},
view: n(272)
}), new m.Route("join-buy", {
getTitle: function kt() {
return __("ID_SPARTA_ACCESS_JOIN_AND_BUY");
},
args: {
gameId: l
},
view: n(412)
}) ]
}), new m.Route("list", {
getTitle: function xt() {
return __("ID_SPARTA_TUNGUSKA_TITLE", !0);
},
args: {
gameId: h.tunguskaGameId
},
view: n(274),
children: [ new m.Route("rsp", {
getTitle: function Mt() {
return __("ID_SPARTA_COMMERCE_RSP");
},
visible: !1,
args: {
gameId: l
},
view: Me.PurchaseNewServer,
excludeFromHistory: !0
}), new m.Route("details", {
getTitle: function Nt() {
return __("ID_SPARTA_CAREER_DETAILS");
},
args: {
gameId: h.tunguskaGameId
},
view: xe.OfferDetails
}) ]
}) ]
});
var se = [ new m.Route("battlepacks", {
requireOnline: !0,
requireMpInstalled: !0,
getTitle: function Dt() {
return __("ID_SPARTA_MENU_TITLE_BATTLEPACKS");
},
view: n(799)
}), new m.Route("about", {
getTitle: function Ut() {
return __("ID_SPARTA_MENU_TITLE_ABOUT");
},
view: he.TunguskaAbout
}), new m.Route("companion", {
getTitle: function Lt() {
return __("ID_SPARTA_MENU_TITLE_COMPANION");
},
view: de.TunguskaCompanion
}), new m.Route("ctesignup", {
getTitle: function $t() {
return __("ID_SPARTA_CARD_CTE");
},
view: ve.TunguskaCTESignup
}) ];
Q = new m.Route("more", {
requireOnline: !1,
requireMpInstalled: !1,
getTitle: function Gt() {
return __("ID_SPARTA_MENU_TITLE_MORE");
},
view: fe.TunguskaMore,
children: se
}), g["default"].addRouteConfig(new m.Route("tunguska", {
requireOnline: !0,
requireMpInstalled: !0,
gameId: l,
getTitle: function Ft() {
return __(i ? "ID_SPARTA_TUNGUSKA_CTE_TITLE" : "ID_SPARTA_TUNGUSKA_TITLE");
},
getSubtitle: function Bt() {
return __("ID_SPARTA_MENU_TITLE_HOME");
},
view: n(784),
offlineView: i ? void 0 : n(785),
logoUrl: o().logoUrl,
fonts: T,
backgroundMask: !0,
backgroundSize: p,
backgroundUrl: _.bg,
backgroundOverlayUrl: _.overlay,
backgroundOverlaySize: y,
backgroundMusicTrack: 1,
backgroundSkyColor: _.skyColor,
normalIconUrl: te.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-iconbf1-532597ae.png"),
priority: -1,
children: i ? [ V, Q ] : [ V, W, K, Y, Q, ae ]
})), v["default"](), S["default"](), w["default"](), k["default"].startListening(), 
M["default"].startListening(), X.fetcher.startListening(), X.tracker.startListening(), 
z["default"](), q.startListening();
}
};
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(34), a = r(o), i = n(90), s = r(i), l = n(19), u = r(l), c = n(44);
e.exports = function() {
s["default"].joinMultiplayerServer.listen(function(e) {
var t = e.server.game;
t === c.tunguskaGameId && u["default"].getState().hostingGameId === c.tunguskaGameId && a["default"].joinGame(e);
}), s["default"].joinMultiplayerFriend.listen(function(e) {
var t = e.gameId;
t === c.tunguskaGameId && u["default"].getState().hostingGameId === c.tunguskaGameId && a["default"].joinGame(e);
}), s["default"].continueSinglePlayer.listen(function(e) {
e === c.tunguskaGameId && u["default"].getState().hostingGameId === c.tunguskaGameId && a["default"].enterCampaign();
});
};
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t, n, r) {
F["default"].onJoinMultiplayerServerResult(new V["default"]({
gameId: v.tunguskaGameId,
resultType: e,
eventType: t,
blazeGameId: n,
server: r
}));
}
function i() {
j["default"].route("loading"), j["default"].show();
}
function s() {
j["default"].hide(), j["default"].route("none");
}
function l() {
U.backgroundContainer.extra.addElements([ p.createElement(ve.TunguskaGlobe, {
key: "globe"
}, null) ]), he.startCampaignFlow(), de.startOperationFlow(), $["default"].handleJoinReady.listen(function() {
var e = K["default"].getState().isRunning;
de.operationFlow.state !== de.OperationState.none ? (i(), ae.cloudTransition.setToEarth()) : ae.cloudTransition.state !== ae.CloudTransitionState.earth || e ? ae.cloudTransition.state === ae.CloudTransitionState.earth ? i() : ae.cloudTransition.landOnEarth(i) : ae.cloudTransition.flyToClouds(function() {
ae.cloudTransition.landOnEarth(i);
});
}), F["default"].onJoinMultiplayerFailed.listen(function() {
ae.cloudTransition.landOnEarth();
});
var e = void 0;
ee["default"].scope("isVisible").listen(function(t) {
t ? e = U.backgroundContainer.extra.addElements([ {
$$typeof: u,
type: ie.GameBackground,
key: null,
ref: null,
props: o(ie.GameBackground.defaultProps, {}),
_owner: null
} ]) : e && e();
}), oe["default"].start.listen(function(e) {
if (e) {
var t = de.operationFlow.state === de.OperationState.matchmaking;
t ? (i(), fe.matchmakingCheckList.startNewCheckList({
mode: !0
})) : (fe.matchmakingCheckList.startNewCheckList({}), ae.cloudTransition.flyToSpace(i));
}
}), oe["default"].stop.listen(function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
de.operationFlow.state === de.OperationState.matchmaking ? (ae.cloudTransition.setToSpace(), 
de.operationFlow.cancelMatchmaking(e.joinOnFriend)) : ae.cloudTransition.landOnEarth();
}), oe["default"].canJoinSession.listen(function(e) {
var t = ne["default"].getState();
e && t && t.gameId === v.tunguskaGameId && j["default"].hide();
}), $["default"].joinMatchmakingResult.listen(function() {
de.operationFlow.state === de.OperationState.none ? ae.cloudTransition.landOnEarth(i) : de.operationFlow.state === de.OperationState.serverFound && de.operationFlow.join();
}), oe["default"].onMatchmakingFailedDismiss.listen(function() {
de.operationFlow.state === de.OperationState.none && (s(), ae.cloudTransition.landOnEarth(s));
}), Te["default"].onSignInChange.listen(function() {
he.campaignFlow.state === he.CampaignState.none && ae.cloudTransition.state !== ae.CloudTransitionState.earth && ae.cloudTransition.setToEarth();
}), j["default"].browseWhileWaiting.listen(function(e) {
var t = ne["default"].getState(), n = t.sessionId && "SessionTimedOut" !== t.status;
e ? (s(), n && ae.cloudTransition.landOnEarth()) : n ? ae.cloudTransition.flyToSpace(i) : i();
}), SpartaGlobals.bundleIsPS4 && (b.reaction(function() {
return T.locationStore.location;
}, function(e) {
Ie.test(e.path) && h.frostbite.sendMessage("sparta.orbis.enterAsyncMP");
}), k["default"].scope("resultType").listen(function(e) {
if (e === A.ConnectionResultType.noMultiplayerPrivilege) {
var t = C["default"].getHostingGame(), n = T.layoutStateStore.current, r = n.config;
(r.gameId !== t.gameId || r.requireOnline && !r.offlineView) && S["default"].gotoLocation(t.startRoute);
}
})), S["default"].handlePushNotification.listen(function(e, t, n) {
if (e === v.tunguskaGameId) switch (t) {
case "EOR_PACKS":
ye.tunguskaEndOfRoundStore.setBattlepacks(me.parseBattlePacks(n));
break;

default:
console.warn("Unhandled Tunguska Push Notification", t, n);
}
}), h.frostbite.registerMessageListener("game.joinResultMessage", function(e, t) {
var n, r, o = (n = {}, n[t.JoinResult_Success] = H.JoinResultType.success, n[t.JoinResult_TimeOut] = H.JoinResultType.timeOut, 
n[t.JoinResult_UnknownError] = H.JoinResultType.unknownError, n[t.JoinResult_GameNotFound] = H.JoinResultType.gameNotFound, 
n[t.JoinResult_GameFull] = H.JoinResultType.gameFull, n[t.JoinResult_GameNotJoinable] = H.JoinResultType.gameNotJoinable, 
n[t.JoinResult_InvalidGameState] = H.JoinResultType.invalidGameState, n[t.JoinResult_WrongVersion] = H.JoinResultType.wrongVersion, 
n[t.JoinResult_NoServerFound] = H.JoinResultType.noServerFound, n[t.JoinResult_PlayerNotFound] = H.JoinResultType.playerNotFound, 
n[t.JoinResult_FailedReputationCheck] = H.JoinResultType.failedReputationCheck, 
n[t.JoinResult_Banned] = H.JoinResultType.banned, n[t.JoinResult_RoleFull] = H.JoinResultType.roleFull, 
n[t.JoinResult_RoleCriteriaFailed] = H.JoinResultType.roleCriteriaFailed, n[t.JoinResult_NoReservationFound] = H.JoinResultType.noReservationFound, 
n[t.JoinResult_ReservationAlreadyExists] = H.JoinResultType.reservationAlreadyExists, 
n), i = (r = {}, r[t.Event_Joined] = H.JoinEventType.joined, r[t.Event_JoinFailed] = H.JoinEventType.joinFailed, 
r[t.Event_Queued] = H.JoinEventType.queued, r[t.Event_Disconnected] = H.JoinEventType.disconnected, 
r[t.Event_GameAttributeUpdated] = H.JoinEventType.gameAttributeUpdated, r[t.Event_PlayerClaimingReservation] = H.JoinEventType.playerClaimingReservation, 
r[t.Event_OtherPlayerJoined] = H.JoinEventType.otherPlayerJoined, r[t.Event_OtherPlayerLeft] = H.JoinEventType.otherPlayerLeft, 
r), s = o[t.joinResult], l = i[t.joinEvent], u = t.gameId && "0" !== t.gameId ? t.gameId : null;
s === H.JoinResultType.success ? Q["default"](u).then(function(e) {
var t = e;
e || (t = new m.Server({
game: "tunguska",
gameId: u
})), a(s, l, u, t);
}) : a(s, l, u, null);
}), h.frostbite.registerMessageListener("game.serverDisconnectedMessage", function(e, t) {
var n, r, o = (n = {}, n[t.DISCONNECT_OK] = z.DisconnectionType.ok, n[t.DISCONNECT_WRONG_PROTOCOL_VERSION] = z.DisconnectionType.wrongProtocolVersion, 
n[t.DISCONNECT_WRONG_TITLE_VERSION] = z.DisconnectionType.wrongTitleVersion, n[t.DISCONNECT_SERVER_FULL] = z.DisconnectionType.serverFull, 
n[t.DISCONNECT_KICKED] = z.DisconnectionType.kickedOut, n[t.DISCONNECT_BANNED] = z.DisconnectionType.banned, 
n[t.DISCONNECT_GENERIC] = z.DisconnectionType.genericError, n[t.DISCONNECT_WRONG_PASSWORD] = z.DisconnectionType.wrongPassword, 
n[t.DISCONNECT_DEMO_OVER] = z.DisconnectionType.kickedOutDemoOver, n[t.DISCONNECT_RANK_RESTRICTED] = z.DisconnectionType.rankRestricted, 
n[t.DISCONNECT_CONFIGURATION_NOT_ALLOWED] = z.DisconnectionType.configurationNotAllowed, 
n[t.DISCONNECT_SERVER_RECLAIMED] = z.DisconnectionType.serverReclaimed, n[t.DISCONNECT_MISSING_CONTENT] = z.DisconnectionType.missingContent, 
n[t.DISCONNECT_NOT_VERIFIED] = z.DisconnectionType.notVerified, n[t.DISCONNECT_TIMED_OUT] = z.DisconnectionType.timedOut, 
n[t.DISCONNECT_CONNECT_FAILED] = z.DisconnectionType.connectFailed, n[t.DISCONNECT_NO_REPLY] = z.DisconnectionType.noReply, 
n[t.DISCONNECT_ACCEPT_FAILED] = z.DisconnectionType.acceptFailed, n[t.DISCONNECT_MISMATCHING_CONTENT] = z.DisconnectionType.mismatchingContent, 
n[t.DISCONNECT_KICKED_OUT_RANK_TOO_HIGH] = z.DisconnectionType.kickedOutRankTooHigh, 
n[t.DISCONNECT_INTERACTIVITY_TIMEOUT] = z.DisconnectionType.interactivityTimeout, 
n[t.DISCONNECT_KICKED_FROM_QUEUE] = z.DisconnectionType.kickedFromQueue, n[t.DISCONNECT_TEAM_KILL] = z.DisconnectionType.teamKills, 
n[t.DISCONNECT_KICKED_BY_ADMIN] = z.DisconnectionType.kickedByAdmin, n[t.DISCONNECT_KICKED_FULL] = z.DisconnectionType.kickedOutServerFull, 
n[t.DISCONNECT_ESPORT_STARTING] = z.DisconnectionType.eSportsMatchStarting, n[t.DISCONNECT_ESPORT_NOT_IN_ROSTER] = z.DisconnectionType.notInESportsRosters, 
n[t.DISCONNECT_ESPORT_ENDING] = z.DisconnectionType.eSportsMatchEnding, n[t.DISCONNECT_VIRTUAL_EXPIRED] = z.DisconnectionType.virtualServerExpired, 
n[t.DISCONNECT_VIRTUAL_RECREATE] = z.DisconnectionType.virtualServerRecreate, n[t.DISCONNECT_ESPORT_FULL] = z.DisconnectionType.eSportsTeamFull, 
n[t.DISCONNECT_ESPORT_ABORTED] = z.DisconnectionType.eSportsMatchAborted, n[t.DISCONNECT_ESPORT_WALKOVER] = z.DisconnectionType.eSportsMatchWalkover, 
n[t.DISCONNECT_ESPORT_WARMUP_TIME_OUT] = z.DisconnectionType.eSportsMatchWarmupTimedOut, 
n[t.DISCONNECT_NO_SPECTATORS] = z.DisconnectionType.notAllowedToSpectate, n[t.DISCONNECT_NO_SPECTATOT_SLOTS] = z.DisconnectionType.noSpectateSlotAvailable, 
n[t.DISCONNECT_INVALID_SPECTATE] = z.DisconnectionType.invalidSpectateJoin, n[t.DISCONNECT_KICKED_FAIR_FIGHT] = z.DisconnectionType.kickedViaFairFight, 
n[t.DISCONNECT_KICKED_COMMANDER_LEAVE] = z.DisconnectionType.kickedCommanderOnLeave, 
n[t.DISCONNECT_KICKED_COMMANDER_MUTINY] = z.DisconnectionType.kickedCommanderAfterMutiny, 
n[t.DISCONNECT_MAINTENANCE] = z.DisconnectionType.serverMaintenance, n[t.DISCONNECT_KICKED_GAME_TIME_OFFICIAL] = z.DisconnectionType.kickedGameTimeAccountOnUnofficial, 
n[t.DISCONNECT_KICKED_VIA_SHIELD] = z.DisconnectionType.kickedViaShield, n), a = (r = {}, 
r[t.DCREASON_UNKNOWN] = z.DisconnectionReasonType.unknown, r[t.DCREASON_TIMEOUT] = z.DisconnectionReasonType.timeout, 
r[t.DCREASON_CONNECTION_LOST] = z.DisconnectionReasonType.connectionLost, r[t.DCREASON_BACKEND_CONNECTION_LOST] = z.DisconnectionReasonType.backendConnectionLost, 
r[t.DCREASON_RESERVATION_TIMEOUT] = z.DisconnectionReasonType.reservationTimeout, 
r[t.DCREASON_BANNED] = z.DisconnectionReasonType.banned, r[t.DCREASON_GAME_DESTROYED] = z.DisconnectionReasonType.gameDestroyed, 
r[t.DCREASON_GAME_ENDED] = z.DisconnectionReasonType.gameEnded, r[t.DCREASON_GROUP_LEFT] = z.DisconnectionReasonType.groupLeft, 
r[t.DCREASON_HOST_EJECTED] = z.DisconnectionReasonType.hostEjected, r[t.DCREASON_HOST_INJECTED_FAILED] = z.DisconnectionReasonType.hostInjectedFailed, 
r[t.DCREASON_JOINED_ANOTHER_GAME] = z.DisconnectionReasonType.joinedAnotherGame, 
r[t.DCREASON_JOIN_FIRST_PARTY_SESSION_FAILED] = z.DisconnectionReasonType.joinFirstPartySessionFailed, 
r[t.DCREASON_KICKED] = z.DisconnectionReasonType.kicked, r[t.DCREASON_MIGRATION_FAILED] = z.DisconnectionReasonType.migrationFailed, 
r[t.DCREASON_PLAYERLEFT] = z.DisconnectionReasonType.playerLeft, r[t.DCREASON_QUEUE_PROMOTION_FAILED] = z.DisconnectionReasonType.queuePromotionFailed, 
r), i = o[t.disconnectReason], s = a[t.dcReason];
if (i === z.DisconnectionType.ok && s === z.DisconnectionReasonType.joinedAnotherGame) return void $["default"].updateGameState({
isChangingServer: !0
});
var l = t && t.dcReasonText ? t.dcReasonText : null;
if (t && t.dcReasonText && i === z.DisconnectionType.kickedByAdmin) switch (t.dcReasonText) {
case "RULEVIOLATION":
l = __("ID_SPARTA_RSP_KICKED_RULEVIOLATION");
break;

case "OFFENSIVEBEHAVIOR":
l = __("ID_SPARTA_RSP_KICKED_OFFENSIVEBEHAVIOR");
break;

case "LATENCY":
l = __("ID_SPARTA_RSP_KICKED_LATENCY");
break;

case "GENERAL":
l = __("ID_SPARTA_RSP_KICKED_GENERAL");
}
F["default"].onMultiplayerServerDisconnection(new W["default"]({
gameId: v.tunguskaGameId,
disconnectionType: i,
disconnectionReasonType: s,
customMessage: l
}));
}), h.frostbite.registerMessageListener("sparta.onlineStatusMessage", function(e, t) {
var n, r, o, a = (n = {}, n[t.MODE_CHANGED] = A.ConnectionEventType.modeChanged, 
n[t.DISCONNECTED] = A.ConnectionEventType.disconnected, n[t.CONNECTING] = A.ConnectionEventType.connecting, 
n[t.CONNECTION_FAILED] = A.ConnectionEventType.connectFailed, n[t.CONNECTION_READY] = A.ConnectionEventType.connectionReady, 
n[t.ONLINE_FLOW_DONE] = A.ConnectionEventType.onlineFlowDone, n[t.TELEMETRY_TOKEN_RECEIVED] = A.ConnectionEventType.telemetryTokenReceived, 
n[t.FIRST_PARTY_CONNECTED] = A.ConnectionEventType.firstPartyConnected, n[t.FIRST_PARTY_DISCONNECTED] = A.ConnectionEventType.firstPartyDisconnected, 
n[t.PING_VALUE_RESOLVED] = A.ConnectionEventType.pingValueResolved, n[t.CONNECTION_MESSAGE] = A.ConnectionEventType.connectionMessage, 
n[t.QOS_DONE] = A.ConnectionEventType.qualityOfServiceDone, n), i = (r = {}, r[t.PresenceConnectionResult_Success] = A.ConnectionResultType.success, 
r[t.PresenceConnectionResult_AuthCodeFailed] = A.ConnectionResultType.authCodeFailed, 
r[t.PresenceConnectionResult_ConnectionFailed] = A.ConnectionResultType.connectionFailed, 
r[t.PresenceConnectionResult_DuplicateLogin] = A.ConnectionResultType.duplicateLogin, 
r[t.PresenceConnectionResult_Failure] = A.ConnectionResultType.failure, r[t.PresenceConnectionResult_InvalidUser] = A.ConnectionResultType.invalidUser, 
r[t.PresenceConnectionResult_LoginCancelled] = A.ConnectionResultType.loginCancelled, 
r[t.PresenceConnectionResult_MissingOnlineAccess] = A.ConnectionResultType.missingOnlineAccess, 
r[t.PresenceConnectionResult_NeedUserInteraction] = A.ConnectionResultType.needUserInteraction, 
r[t.PresenceConnectionResult_NetworkDisconnect] = A.ConnectionResultType.networkDisconnect, 
r[t.PresenceConnectionResult_NetworkError] = A.ConnectionResultType.networkError, 
r[t.PresenceConnectionResult_NoMultiplayerPrivilege] = A.ConnectionResultType.noMultiplayerPrivilege, 
r[t.PresenceConnectionResult_OriginOffline] = A.ConnectionResultType.originOffline, 
r[t.PresenceConnectionResult_OriginStartupFailed] = A.ConnectionResultType.originStartupFailed, 
r[t.PresenceConnectionResult_RequiredUpdateExists] = A.ConnectionResultType.requiredUpdateExists, 
r[t.PresenceConnectionResult_ServerConfiguration] = A.ConnectionResultType.serverConfiguration, 
r[t.PresenceConnectionResult_ServerDisconnect] = A.ConnectionResultType.serverDisconnect, 
r[t.PresenceConnectionResult_ServerNotFound] = A.ConnectionResultType.serverNotFound, 
r[t.PresenceConnectionResult_SystemError] = A.ConnectionResultType.systemError, 
r[t.PresenceConnectionResult_Timeout] = A.ConnectionResultType.timeout, r[t.PresenceConnectionResult_TooYoung] = A.ConnectionResultType.tooYoung, 
r[t.PresenceConnectionResult_TooYoungForContent] = A.ConnectionResultType.tooYoungForContent, 
r[t.PresenceConnectionResult_UserLost] = A.ConnectionResultType.userLost, r[t.PresenceConnectionResult_OriginMandatoryUpdateNeeded] = A.ConnectionResultType.originMandatoryUpdate, 
r[t.PresenceConnectionResult_NoService] = A.ConnectionResultType.noService, r[t.PresenceConnectionResult_UserNotLoggedIn] = A.ConnectionResultType.originNotLoggedIn, 
r[t.PresenceConnectionResult_PsuLimitExceeded] = A.ConnectionResultType.psuLimitExceeded, 
r[t.PresenceConnectionResult_AccountBanned] = A.ConnectionResultType.accountBanned, 
r), s = (o = {}, o[t.Mode_Offline] = A.PresenceModeType.offline, o[t.Mode_SilentOnline] = A.PresenceModeType.silentOnline, 
o[t.Mode_Online] = A.PresenceModeType.online, o);
E["default"].handleMessage(new A.PresenceStatusMessage({
gameId: v.tunguskaGameId,
eventType: a[t.status],
resultType: i[t.connectionResult],
mode: s[t.mode],
customMessage: t.connectionMessage
}));
}), h.frostbite.registerMessageListener("game.showEndOfRoundMessage", function(e, t) {
var n = null !== t.isRanked && t.isRanked === !1, r = K["default"].getState().isSpectator;
if (de.operationFlow.endRound(), ye.tunguskaEndOfRoundStore.clearEndOfRoundData(t.roundId), 
ge.emblemState.clearPersonaEmblems(), D["default"].closeAll(), t && t.mapName) {
var o = t.mapName.lastIndexOf("/"), a = t.mapName.substring(o + 1);
ye.tunguskaEndOfRoundStore.setFallbackMapName(a);
}
var i = !1;
if (t && t.gameMode) {
var s = t.gameMode + "", l = s.replace("0", "").replace("1", "");
ye.tunguskaEndOfRoundStore.setFallbackGameMode(l), i = s.toLowerCase().indexOf("breakthrough") > -1;
}
var u = 45, c = t.eorTimeout && t.eorTimeout > 10 ? t.eorTimeout : u;
i || (pe.nextRoundCountDown.start(0, c), ye.tunguskaEndOfRoundStore.isLoadingDataEnabled && ye.tunguskaEndOfRoundStore.initializeEor()), 
ye.tunguskaEndOfRoundStore.setUnrankedGame(n), !n || r ? setTimeout(function() {
le["default"].fetchEorData(t.roundId, !1, r);
}, 1e3) : le["default"].updateUnrankedEorData(t), $["default"].activateEor();
}), h.frostbite.registerMessageListener("sparta.startMatchmaking", function(e, t) {
if (t) {
var n = d["default"].find(t.settings, function(e) {
return "operationindex" === e.name;
}), r = n && n.values && n.values.length > 0 && parseInt(n.values[0], 10);
"number" != typeof r && console.warn("sparta.startMatchmaking event triggered with no valid operationIndex.");
var o = {
operationIndex: r,
gameSizes: {}
}, a = t.gameSize;
a && (o.gameSizes[a.toString()] = "on"), de.operationFlow.startMatchmaking(o);
}
}), h.frostbite.registerMessageListener("sparta.activated", function(e, t) {
switch (t.navigationState) {
case Y["default"].LoadingScreen:
t.isMultiplayer && (ye.tunguskaEndOfRoundStore.setLoadingState(t), Oe());
break;

case Y["default"].InGameMenu:
"" !== t.levelName && (t.isMultiplayer ? (Ae("tunguska.levelDescriptionRequest"), 
Oe()) : (Pe("tunguska.currentObjectiveRequest"), le["default"].getCampaignEpisodes()));
break;

case Y["default"].FrontEnd:
Ce || (le["default"].getCampaignEpisodes(), t.online && ce["default"].trigger(v.tunguskaGameId), 
Ce = !0);
}
});
}
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = r(c), f = n(5), d = t(f), h = n(3), y = n(83), g = t(y), m = n(65), b = n(9), v = n(44), _ = n(18), S = t(_), T = n(8), w = n(78), E = t(w), I = n(19), C = t(I), A = n(111), P = n(60), O = t(P), R = n(41), k = t(R), x = n(29), M = t(x), N = n(25), D = t(N), U = n(205), L = n(35), $ = t(L), G = n(91), F = t(G), B = n(48), j = t(B), H = n(181), V = t(H), z = n(284), W = t(z), q = n(36), K = t(q), X = n(56), Y = t(X), J = n(281), Q = t(J), Z = n(53), ee = t(Z), te = n(84), ne = t(te), re = n(93), oe = t(re), ae = n(170), ie = n(188), se = n(34), le = t(se), ue = n(458), ce = t(ue), pe = n(145), fe = n(258), de = n(146), he = n(611), ye = n(73), ge = n(202), me = n(368), be = n(156), ve = n(207), _e = n(573), Se = n(43), Te = t(Se), we = n(142), Ee = n(165), Ie = new RegExp("tunguska/mp/"), Ce = !1, Ae = g["default"](function(e) {
h.frostbite.sendMessage(e);
}, 2e3, !1, !0), Pe = g["default"](function(e) {
h.frostbite.sendMessage(e);
}, 1e3, !0, !1), Oe = g["default"](function() {
le["default"].getTrackableMedals();
}, 2e3, !1, !0);
e.exports = function() {
C["default"].scope("hostingGameId").listen(function(e) {
e === v.tunguskaGameId && l();
}), le["default"].gameShowOptions.listen(function() {
M["default"].hideComponent("all", function() {
h.frostbite.sendMessage("sparta.showGameOptions");
});
}), le["default"].showLoadout.listen(function() {
M["default"].hideComponent("all", function() {
h.frostbite.sendMessage("sparta.showGameCustomization");
});
}), le["default"].gameShowCredits.listen(function() {
M["default"].hideComponent("all", function() {
h.frostbite.sendMessage("sparta.showGameCredits");
});
}), le["default"].endOfRoundCountdownCompleted.listen(function() {
h.frostbite.sendMessage("tunguska.endOfRoundCountdownCompleted");
}), le["default"].joinGame.listen(function(e) {
var t = {
asSpectator: "spectator" === e.role,
asCommander: "commander" === e.role
};
null != e.password && (t.password = e.password), e.friend ? t.spartaUserId = e.friend.spartaUserId : t.gameId = e.server.gameId, 
t.hasReservation = !!e.server, h.frostbite.sendMessage("game.joinGame", t);
}), h.frostbite.registerMessageListener("tunguska.joinFailedMessage", function(e, t) {
var n, r = (n = {}, n[t.STREAM_INSTALL_IN_PROGRESS] = H.JoinResultType.streamInstallInProgress, 
n), o = r[t.reason];
o === H.JoinResultType.streamInstallInProgress ? (console.error("joinFailedMessage: Could not join, stream install in progress. Dropping."), 
O["default"].spartaErrorMessage(__("ID_SPARTA_ONLINE_JOIN_STREAM_INSTALL_IN_PROGRESS"), __("ID_SPARTA_ONLINE_JOIN_FAILED_TITLE"))) : console.error("joinFailedMessage: Unknown joinFailed reason.");
}), h.frostbite.registerMessageListener("tunguska.notificationInvokedMessage", function(e, t) {
le["default"].showCodex(t);
}), h.frostbite.registerMessageListener("tunguska.playerEmblemRequest", function(e, t) {
var n = 1338;
t ? t.requestType === n ? le["default"].showReportEmblemFromGame(t.personaId) : console.log("Unknown RequestType for playerEmblemRequest", t.requestType) : console.log("No payload received for playerEmblemRequest");
}), h.frostbite.registerMessageListener("tunguska.playTogetherEvent", function(e, t) {
"SpartaTunguskaPlayTogetherEvent_PlayTogetherStarted" === t.event && (S["default"].gotoLocation("tunguska/mp"), 
he.campaignFlow.state !== he.CampaignState.none && ($["default"].stopGame(!0), le["default"].quitCampaign(), 
he.campaignFlow.mustReturnToFrontend = !0));
}), h.frostbite.registerMessageListener("tunguska.switchToScreen", function(e, t) {
switch (t.screenName) {
case "SpartaScreenType_Calibration":
be.overrideDismissCallback(function() {
M["default"].hideComponent("all", function() {
h.frostbite.sendMessage("tunguska.showCalibrationScreen");
});
});
break;

case "SpartaScreenType_Prologue":
M["default"].hideComponent("all", function() {
$["default"].setSinglePlayer(!0), j["default"].route("playing"), he.campaignFlow.enter(function() {}), 
h.frostbite.sendMessage("tunguska.gotoPrologue");
});
}
}), h.frostbite.registerMessageListener("tunguska.ongoingOperationsRequest", function() {
_e.getOperations(v.tunguskaGameId, C["default"].getState().region).then(function(e) {
var t = e.map(function(e) {
e = e || {};
var t = e.operation || {};
return {
operationIndex: t.operationIndex,
ongoingCount: parseInt(e.serverCount, 10) || 0
};
});
h.frostbite.sendMessage("tunguska.ongoingOperationsResponse", {
ongoingOperations: t
});
});
});
var e = function t(e, n) {
n && Ee.fetchServerDetails("tunguska", n), K["default"].getState().server && K["default"].getState().server.gameId && le["default"].getPlayerList();
};
we.kickPlayer.addResultHandler(function(t) {
t.onSuccess(function() {
e(t);
});
}), we.banPlayer.addResultHandler(function(t) {
t.onSuccess(function() {
e(t, t.request.params.serverId);
});
}), we.liftBanPlayer.addResultHandler(function(t) {
t.onSuccess(function() {
e(t, t.request.params.serverId);
});
});
};
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a() {
var e = {
flexDirection: "row",
marginBottom: 2 * I["default"].GUTTER
};
return 0 === k.length ? {
$$typeof: s,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: s,
type: C.Text,
key: null,
ref: null,
props: o(C.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_NOMEDALSAVAILABLE"),
size: "S"
}),
_owner: null
},
style: e
},
_owner: null
} : {
$$typeof: s,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: s,
type: C.Text,
key: null,
ref: null,
props: o(C.Text.defaultProps, {
value: __("ID_SPARTA_CAREER_WEEKLY_MEDALS_RESETINFO"),
size: "S"
}),
_owner: null
}, {
$$typeof: s,
type: C.Text,
key: null,
ref: null,
props: o(C.Text.defaultProps, {
value: "(",
size: "S",
style: {
marginLeft: I["default"].GUTTER
}
}),
_owner: null
}, {
$$typeof: s,
type: R["default"],
key: null,
ref: null,
props: o(R["default"].defaultProps, {
timeDelta: function() {
return 1e3 * P["default"].getTimeToNextReset();
},
size: "S"
}),
_owner: null
}, {
$$typeof: s,
type: C.Text,
key: null,
ref: null,
props: o(C.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_TIME_LEFT"),
size: "S",
style: {
marginLeft: I["default"].GUTTER
}
}),
_owner: null
}, {
$$typeof: s,
type: C.Text,
key: null,
ref: null,
props: o(C.Text.defaultProps, {
value: ")",
size: "S"
}),
_owner: null
} ],
style: e
},
_owner: null
};
}
function i() {
var e = d["default"].transform(function(e) {
var t;
return k = e, t = {}, t[u.tunguskaGameId] = [ new m["default"]({
id: "WEEKLY",
sortOrder: -1,
infoComponent: a,
name: function n() {
return __("ID_SPARTA_CAREER_WEEKLY_MEDALS");
},
items: e.map(function(e) {
return new v["default"]({
xp: 5e3,
code: e.id,
description: e.description,
name: e.displayName,
images: {
Small: e.imageUrl
},
stages: e.stages,
progression: {
needed: e.completion.needed,
acquired: e.completion.done,
percent: e.completion.percentage,
unlocked: e.completion.completed
}
});
})
}) ], t;
});
y["default"].addExternal(e), p["default"].scope("hostingGameId").listen(function(e) {
e === u.tunguskaGameId && (S["default"].medalsPageVisited.listen(function() {
return w["default"].getTrackableMedals();
}), w["default"].getTrackableMedals());
});
}
t.__esModule = !0;
var s = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103;
t["default"] = i;
var l = n(1), u = (r(l), n(44)), c = n(19), p = r(c), f = n(305), d = r(f), h = n(214), y = r(h), g = n(215), m = r(g), b = n(129), v = r(b), _ = n(391), S = r(_), T = n(34), w = r(T), E = n(6), I = r(E), C = n(7), A = n(306), P = r(A), O = n(311), R = r(O), k = [];
e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return O(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(18), y = s(h), g = n(34), m = s(g), b = n(44), v = n(6), _ = s(v), S = n(55), T = n(27), w = s(T), E = n(318), I = n(39), C = n(8), A = n(11), P = {
_$TunguskaMultiplayer: {
displayName: "TunguskaMultiplayer"
}
}, O = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaMultiplayer.jsx",
components: P,
locals: [],
imports: []
}), R = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.enterOperations = function s() {
C.onlineState.isOnlineBlazeAndGateway && m["default"].enterOperations();
}, t.prototype.handleOperations = function l() {
var e = this;
return I.isHostingGame(b.tunguskaGameId) ? void E.tryShowTutorial("Breakthrough", b.tunguskaGameId).then(function() {
e.enterOperations();
}) : void I.showNotInHostingGameAlert();
}, t.prototype.renderMainContent = function u() {
var e = this, t = I.isHostingGame(b.tunguskaGameId), n = _["default"].getHeight(18), r = {
size: "XL",
style: {
height: _["default"].getHeight(59)
}
}, o = SpartaGlobals.bundleIsConsole ? _["default"].getHeight(3) : 0;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ d["default"].createElement(S.BasicCard, c({
layout: "split"
}, r, {
background: A.bbOfflineUrl("/sparta/jsclient/builds/assets/mp-cardimage-operations-a5d168cd.png"),
heading: __("ID_SPARTA_ACTION_OPERATIONS"),
description: __("ID_SPARTA_ACTION_OPERATIONS_DESCRIPTION"),
textHeight: n,
onPress: function() {
return e.handleOperations();
},
enabled: t
})), d["default"].createElement(S.BasicCard, c({
layout: "split"
}, r, {
background: A.bbOfflineUrl("/sparta/jsclient/builds/assets/mp-cardimage-quickmatch-c0372e70.png"),
heading: __("ID_SPARTA_ACTION_QUICKMATCH"),
description: __("ID_SPARTA_ACTION_QUICKMATCH_DESCRIPTION"),
textHeight: n,
onPress: function() {
return y["default"].gotoLocation("tunguska/mp/quickmatch");
}
})), d["default"].createElement(S.BasicCard, c({
layout: "split"
}, r, {
background: A.bbOfflineUrl("/sparta/jsclient/builds/assets/mp-cardimage-serverbrowser-a4afc40e.png"),
heading: __("ID_SPARTA_ACTION_SERVERBROWSER"),
description: __("ID_SPARTA_ACTION_SERVERBROWSER_DESCRIPTION"),
textHeight: n,
onPress: function() {
return y["default"].gotoLocation("tunguska/mp/servers");
}
})), d["default"].createElement(S.BasicCard, c({
layout: "split"
}, r, {
background: A.bbOfflineUrl("/sparta/jsclient/builds/assets/mp-cardimage-customgame-8ec012dd.png"),
heading: __("ID_SPARTA_ACTION_CUSTOMGAMES"),
description: __("ID_SPARTA_ACTION_CUSTOMGAMES_DESCRIPTION"),
textHeight: n,
onPress: function() {
return y["default"].gotoLocation("tunguska/mp/customgames");
}
})) ],
style: {
flexDirection: "row",
marginTop: o
}
},
_owner: null
};
}, t.prototype.render = function f() {
return {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
children: this.renderMainContent(),
wideContent: !0,
tallContent: !0,
scrollContent: SpartaGlobals.bundleIsPC
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaMultiplayer")(t) || t;
}(d["default"].Component);
t["default"] = R, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return pe(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e, t) {
return 0 === t ? "L" : "M";
}
function u(e, t) {
return 0 === t ? "SSL" : "SSM";
}
var c = n(4), p = s(c);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = s(h), g = n(3), m = n(5), b = s(m), v = n(9), _ = n(10), S = n(44), T = n(14), w = s(T), E = n(28), I = s(E), C = n(69), A = n(6), P = s(A), O = n(472), R = s(O), k = n(297), x = s(k), M = n(107), N = s(M), D = n(34), U = s(D), L = n(134), $ = s(L), G = n(105), F = s(G), B = n(296), j = s(B), H = n(57), V = n(16), z = n(27), W = s(z), q = n(7), K = n(425), X = s(K), Y = n(119), J = s(Y), Q = n(441), Z = s(Q), ee = n(363), te = s(ee), ne = n(169), re = n(113), oe = n(39), ae = n(18), ie = n(8), se = n(11), le = n(30), ue = n(584), ce = {
_$TunguskaOverviewContent: {
displayName: "TunguskaOverviewContent"
},
_$TunguskaOverview: {
displayName: "TunguskaOverview"
}
}, pe = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaOverview.jsx",
components: ce,
locals: [],
imports: []
}), fe = g.getBuildInfo().isCTE(), de = {
invisible: {
opacity: V.Animation.tweenTo(0)
},
visible: {
opacity: V.Animation.tweenTo(1)
},
row: {
flexDirection: "row"
},
heading: {
textLetterSpacing: 4
}
}, he = function(e) {
function t() {
o(this, n), e.call(this), this.ruleCategory = null;
}
a(t, e), t.prototype.componentWillMount = function s() {
this.setRecommenderOptions(this.props);
}, t.prototype.componentDidMount = function c() {
ie.settingsStore.isFeatureEnabled("loadBattlepacksAtHome") && H.summary.trigger();
}, t.prototype.componentWillReceiveProps = function p(e) {
this.setRecommenderOptions(e);
}, t.prototype.getQuickLinks = function f() {
var e = oe.routeIsHostingGame(), t = !re.rimeTransitionState.isInJoinFlow && e, n = [];
return fe || n.push({
icon: se.bbUrl("/sparta/jsclient/builds/assets/serverbrowser-000e77bf.png"),
blur: se.bbUrl("/sparta/jsclient/builds/assets/serverbrowser_blur-045932c3.png"),
action: function r() {
return ae.gotoLocation("tunguska/mp/servers");
},
description: __("ID_SPARTA_ACTION_SERVERBROWSER")
}), ie.settingsStore.isFeatureEnabled("tunguskaCustomizeFrontend") && !this.state.isInstalling && n.push({
muted: !t,
icon: se.bbUrl("/sparta/jsclient/builds/assets/customize-8918fedd.png"),
blur: se.bbUrl("/sparta/jsclient/builds/assets/customize_blur-e174b5d2.png"),
action: function o() {
return re.requiresRime(S.tunguskaGameId, U["default"].showLoadout);
},
description: __("ID_SPARTA_ACTION_CUSTOMIZE")
}), fe || n.push({
icon: se.bbUrl("/sparta/jsclient/builds/assets/favservers-f33e8992.png"),
blur: se.bbUrl("/sparta/jsclient/builds/assets/favservers_blur-39031108.png"),
action: function a() {
return ae.gotoLocation("tunguska/mp/servers?tab=favorites");
},
description: __("ID_SPARTA_ACTION_FAVORITESERVERS")
}), fe || n.push({
icon: se.bbUrl("/sparta/jsclient/builds/assets/quickmatch-bd06be42.png"),
blur: se.bbUrl("/sparta/jsclient/builds/assets/quickmatch_blur-1e2d3eda.png"),
action: function i() {
return ae.gotoLocation("tunguska/mp/quickmatch");
},
description: __("ID_SPARTA_ACTION_QUICKMATCH")
}), fe || this.state.isInstalling || n.push({
muted: !e,
icon: se.bbUrl("/sparta/jsclient/builds/assets/battlepacks_bf1-64e40c74.png"),
blur: se.bbUrl("/sparta/jsclient/builds/assets/battlepacks_bf1_blur-c5550183.png"),
action: function s() {
return re.requiresHostingGame(S.tunguskaGameId, function() {
return ae.gotoLocation("tunguska/more/battlepacks");
});
},
description: __("ID_SPARTA_ACTION_BATTLEPACKS"),
notificationText: this.state.unopenedPacks ? "" + this.state.unopenedPacks : null
}), n.push({
muted: !t,
icon: se.bbUrl("/sparta/jsclient/builds/assets/options-3d4d9691.png"),
blur: se.bbUrl("/sparta/jsclient/builds/assets/options_blur-13fd633f.png"),
action: function l() {
return re.requiresRime(S.tunguskaGameId, U["default"].gameShowOptions);
},
description: __("ID_SPARTA_ACTION_OPTIONS")
}), n;
}, t.prototype.setRecommenderOptions = function h(e) {
if (ie.onlineState.isOnlineBlazeAndGateway) {
var t = {
count: 6,
games: [ S.tunguskaGameId ],
ruleCategories: [ "tunguska_home" ]
}, n = e.gatewayState.session.entitlements;
n.hasTrial(S.tunguskaGameId) ? t.ruleCategories = [ "tunguska_trial" ] : n.ownsGame(S.tunguskaGameId) || (t.ruleCategories = [ "tunguska_home_promo" ]), 
this.updateRecommenderOptions(t);
}
}, t.prototype.renderRecommendationsPC = function g(e) {
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: C.CardCarousel,
key: null,
ref: null,
props: r(C.CardCarousel.defaultProps, {
children: e,
width: P["default"].getWidth(23)
}),
_owner: null
}, this.state.recommendations && y["default"].createElement(R["default"], {
ref: "quicklinks",
items: this.getQuickLinks()
}), {
$$typeof: d,
type: X["default"],
key: null,
ref: null,
props: r(X["default"].defaultProps, {
gameId: S.tunguskaGameId,
style: {
width: P["default"].getWidth(24)
}
}),
_owner: null
} ]
},
_owner: null
};
}, t.prototype.renderRecommendationsConsole = function m(e) {
var t = this;
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: C.CardCarousel,
key: null,
ref: null,
props: r(C.CardCarousel.defaultProps, {
children: e,
width: P["default"].getWidth(24)
}),
_owner: null
},
onFocus: function() {
return t.refs.template && t.refs.template.tiltTo(0, 0);
}
},
_owner: null
}, this.state.recommendations && y["default"].createElement(R["default"], {
ref: "quicklinks",
items: this.getQuickLinks(),
onFocus: function() {
return t.refs.template && t.refs.template.tiltTo(0, -P["default"].getHeight(6));
}
}) ]
},
_owner: null
};
}, t.prototype.render = function v() {
var e = (this.state.recommendations || []).slice();
e.length > 0 && b["default"].each(e, function(e) {
"continue" === e.group && "CAMPAIGN" === e.mode && (e.image = se.bbOfflineUrl("/sparta/jsclient/builds/assets/campaign-d909e655.jpg"));
});
var t = SpartaGlobals.bundleIsPC ? u : l, n = oe.routeIsHostingGame() ? "" : "battlepack", o = F["default"].renderCards(e, t, n), a = {
opacity: V.Animation.tweenSwitch(0, 1, this.state.recommendations)
};
return {
$$typeof: d,
type: P["default"].Col,
key: "overviewCol",
ref: null,
props: r(P["default"].Col.defaultProps, {
children: SpartaGlobals.bundleIsPC ? this.renderRecommendationsPC(o) : this.renderRecommendationsConsole(o),
style: a
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaOverviewContent")(t) || t, t = w["default"]({
isInstalling: J["default"].scope("isInstalling"),
unopenedPacks: I["default"](N["default"], "battlepacks")
})(t) || t, t = $["default"]()(t) || t, t = _.observer(t) || t;
}(y["default"].Component), ye = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = {
minutesToUTC: new Date().getTimezoneOffset(),
game: S.tunguskaGameId
};
this.dispose = v.when(function() {
return ie.onlineState.isOnlineBlazeAndGateway;
}, function() {
return j["default"].trigger(e);
}), Z["default"].trigger();
}, t.prototype.componentWillUnmount = function l() {
this.dispose && this.dispose();
}, t.prototype.renderHeading = function u() {
var e = null, t = this.state.welcomeMessage;
if (ne.store.isNoticeAvailable(S.tunguskaGameId)) e = {
$$typeof: d,
type: te["default"],
key: null,
ref: null,
props: r(te["default"].defaultProps, {
gameId: S.tunguskaGameId
}),
_owner: null
}; else if (t) {
var n = [], o = le.localeLetterSpacing({}), a = SpartaGlobals.bundleIsPC ? "M" : "L", i = f({}, de.heading, o);
t.firstMessage && n.push({
$$typeof: d,
type: q.Text,
key: null,
ref: null,
props: r(q.Text.defaultProps, {
size: a,
value: t.firstMessage,
style: i
}),
_owner: null
}), t.secondMessage && n.push({
$$typeof: d,
type: q.Text,
key: null,
ref: null,
props: r(q.Text.defaultProps, {
size: a,
value: " " + t.secondMessage,
style: i
}),
_owner: null
}), e = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: de.row
},
_owner: null
};
}
return e;
}, t.prototype.render = function c() {
return y["default"].createElement(W["default"], {
ref: "template",
wideContent: !0,
aboveContent: this.renderHeading(),
scrollContent: !1
}, {
$$typeof: d,
type: ue.TakeoverComponent,
key: null,
ref: null,
props: r(ue.TakeoverComponent.defaultProps, {}),
_owner: null
}, {
$$typeof: d,
type: he,
key: null,
ref: null,
props: r(he.defaultProps, {
gatewayState: ie.gatewayState
}),
_owner: null
});
};
var n = t;
return t = i("_$TunguskaOverview")(t) || t, t = w["default"]({
welcomeMessage: I["default"](x["default"], S.tunguskaGameId)
})(t) || t, t = _.observer(t) || t;
}(y["default"].Component);
t["default"] = ye, ye.prototype.displayName = "TunguskaOverview", e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return B(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(44), h = n(18), y = s(h), g = n(6), m = s(g), b = n(90), v = s(b), _ = n(27), S = s(_), T = n(7), w = n(49), E = s(w), I = n(14), C = s(I), A = n(41), P = s(A), O = n(8), R = n(24), k = s(R), x = n(78), M = s(x), N = n(22), D = s(N), U = n(19), L = s(U), $ = n(11), G = n(55), F = {
_$TunguskaOverviewOffline: {
displayName: "TunguskaOverviewOffline"
}
}, B = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaOverviewOffline.jsx",
components: F,
locals: [],
imports: []
}), j = m["default"].getHeight(17), H = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.renderMissingMultiplayerPrivileges = function s() {
var e = !this.state.presence || this.state.presence.isMissingMPPrivileges();
return e ? {
$$typeof: c,
type: G.BasicCard,
key: null,
ref: null,
props: r(G.BasicCard.defaultProps, {
background: $.bbOfflineUrl("/sparta/jsclient/builds/assets/card-mpcard-faf2de38.jpg"),
heading: __("ID_SPARTA_OFFLINE_PLAY_MULTIPLAYER"),
description: __("ID_SPARTA_OFFLINE_PLAY_MULTIPLAYER_DESC"),
textHeight: j,
onPress: function() {
SpartaGlobals.bundleIsPS4 ? E["default"].purchasePsPlus() : y["default"].gotoLocation("tunguska/mp");
}
}),
_owner: null
} : null;
}, t.prototype.renderOfflineHeading = function l() {
var e = !this.state.presence || this.state.presence.isMissingMPPrivileges(), t = __(e ? "ID_SPARTA_OFFLINE_MISSING_MP_HEADING" : "ID_SPARTA_OFFLINE_HEADING");
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: T.Text,
key: null,
ref: null,
props: r(T.Text.defaultProps, {
value: t
}),
_owner: null
},
style: {
flexDirection: "row"
}
},
_owner: null
};
}, t.prototype.renderGoOnlineButton = function u() {
if (O.onlineState.canGoOnline) {
var e = function n() {
O.onlineState.isPresenceReady ? k["default"].connect() : M["default"].connect();
}, t = __(O.onlineState.goOnlineIsRetry ? "ID_SPARTA_ONLINE_PRESENCE_TRY_AGAIN" : "ID_SPARTA_ONLINE_PRESENCE_GO_ONLINE");
return {
$$typeof: c,
type: D["default"],
key: null,
ref: null,
props: r(D["default"].defaultProps, {
textSize: "S",
text: t,
style: {
width: m["default"].getWidth(6)
},
action: e
}),
_owner: null
};
}
return null;
}, t.prototype.render = function p() {
var e = L["default"].getHostingGame().gameId, t = e === d.tunguskaGameId || this.state.presence.isReady();
return f["default"].createElement(S["default"], {
ref: "template",
wideContent: !0,
aboveContent: this.renderOfflineHeading(),
scrollContent: SpartaGlobals.bundleIsPC
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: G.BasicCard,
key: null,
ref: null,
props: r(G.BasicCard.defaultProps, {
background: $.bbOfflineUrl("/sparta/assets/tunguska/mp-box-operations-cc6ef1d6.png"),
heading: __("ID_SPARTA_OFFLINE_PLAY_CAMPAIGN_HEADING"),
description: __("ID_SPARTA_OFFLINE_PLAY_TUNGUSKA_CAMPAIGN_DESCRIPTION"),
enabled: t,
size: "L",
textHeight: j,
onPress: function() {
return v["default"].continueSinglePlayer(d.tunguskaGameId);
}
}),
_owner: null
}, this.renderMissingMultiplayerPrivileges() ],
style: {
flexDirection: "row",
marginBottom: m["default"].getHeight(4)
}
},
_owner: null
}, SpartaGlobals.bundleIsPC && this.renderGoOnlineButton());
};
var n = t;
return t = i("_$TunguskaOverviewOffline")(t) || t, t = C["default"]({
presence: P["default"]
})(t) || t;
}(f["default"].Component);
t["default"] = H, H.prototype.displayName = "TunguskaOverviewOffline", e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(34), a = r(o), i = n(151), s = r(i), l = n(152), u = function c() {
a["default"].enterCampaign.listen(function() {
s["default"].trackEvent(l.Events.GameStart, {
gameType: "offline",
gameMode: "sp_campaign"
});
}), a["default"].enterOperations.listen(function() {
s["default"].trackEvent(l.Events.GameStart, {
gameType: "online",
gameMode: "mp_operations"
});
}), a["default"].joinGame.listen(function(e) {
var t = e.server || {
mapMode: "",
mapName: ""
}, n = {
gameType: "online_mp",
gameMode: "mp_" + t.mapMode,
gameSessionId: e.blazeGameId,
blazeMatchId: e.blazeGameId,
map: t.mapName,
mid: e.blazeGameId,
gid: t.guid
};
s["default"].trackEvent(l.Events.GameStart, n);
});
};
t["default"] = u, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return U(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(6), h = s(d), y = n(22), g = s(y), m = n(7), b = n(46), v = s(b), _ = n(14), S = s(_), T = n(25), w = s(T), E = n(31), I = n(57), C = n(34), A = s(C), P = n(464), O = s(P), R = n(788), k = s(R), x = n(453), M = s(x), N = n(184), D = {
_$BlueprintViewUnclaimed: {
displayName: "BlueprintViewUnclaimed"
},
_$BlueprintViewClaiming: {
displayName: "BlueprintViewClaiming"
},
_$BlueprintViewClaimed: {
displayName: "BlueprintViewClaimed"
},
_$TunguskaBattlepackBlueprint: {
displayName: "TunguskaBattlepackBlueprint"
}
}, U = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackBlueprint.jsx",
components: D,
locals: [],
imports: []
}), L = {
dock: {
justifyContent: "center",
alignItems: "center",
position: "absolute",
top: 0,
right: 0,
left: 0,
bottom: 0
},
bpPrompt: {
marginBottom: 2 * h["default"].GUTTER
},
bpActions: {
width: h["default"].getWidth(6)
},
btn: {
flex: 1,
marginTop: h["default"].GUTTER
}
}, $ = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.onClaimClick = function s() {
var e = I.claimBlueprint.listen(function(t, n) {
return e(), t ? void E.alert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CLAIM_BLUEPRINT_ERROR", !0)) : void 0;
});
A["default"].claimBlueprint(this.props.blueprint.item.key);
}, t.prototype.render = function l() {
var e = this, t = this.props.blueprint.item, n = this.props.blueprint.puzzle, o = void 0;
this.props.onCancel && (o = {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_CANCEL"),
style: L.btn,
action: this.props.onCancel
}),
_owner: null
});
var a = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_BUILD_CONFIRM", !0).replace("[[item]]", n.item.name);
return {
$$typeof: c,
type: N.PopupContainer,
key: null,
ref: null,
props: r(N.PopupContainer.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
item: t
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: "M",
value: a
}),
_owner: null
},
style: L.bpPrompt
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_CONFIRM"),
style: L.btn,
action: function() {
return e.onClaimClick();
}
}),
_owner: null
}, o ],
style: L.bpActions
},
_owner: null
} ],
style: L.dock
},
_owner: null
}
}),
_owner: null
};
};
var n = t;
return t = i("_$BlueprintViewUnclaimed")(t) || t;
}(f["default"].Component);
$.propTypes = {
onCancel: f["default"].PropTypes.func
};
var G = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
return {
$$typeof: c,
type: N.PopupContainer,
key: null,
ref: null,
props: r(N.PopupContainer.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: f["default"].createElement(v["default"], {
ref: "spinner",
autoRun: !0
}),
style: L.dock
},
_owner: null
}
}),
_owner: null
};
};
var n = t;
return t = i("_$BlueprintViewClaiming")(t) || t;
}(f["default"].Component), F = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.render = function s() {
var e = this, t = this.props.blueprint && this.props.blueprint.reward && this.props.blueprint.reward.items, n = t && this.props.blueprint.reward.items[0];
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: M["default"],
key: null,
ref: null,
props: r(M["default"].defaultProps, {
item: n,
continueCallback: function() {
return e.props.onCancel();
}
}),
_owner: null
},
style: L.dock
},
_owner: null
};
};
var n = t;
return t = i("_$BlueprintViewClaimed")(t) || t;
}(f["default"].Component);
F.propTypes = {
onCancel: f["default"].PropTypes.func
};
var B = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
description: ""
};
}
a(t, e), t.prototype.render = function r() {
var e = void 0, t = this.props.popupInfo && this.props.popupInfo.id;
switch (this.state.blueprint.state) {
case "CLAIMING":
e = G;
break;

case "CLAIMED":
e = F;
break;

case "VIEW":
default:
e = $;
}
return f["default"].createElement(e, {
blueprint: this.state.blueprint,
onCancel: function n() {
return w["default"].close(t);
}
});
};
var n = t;
return t = i("_$TunguskaBattlepackBlueprint")(t) || t, t = S["default"]({
blueprint: O["default"]
})(t) || t;
}(f["default"].Component);
t["default"] = B, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
t.__esModule = !0;
var a = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, i = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, s = n(1), l = r(s), u = n(6), c = r(u), p = {
box: {
flex: 0,
width: c["default"].getWidth(8),
height: c["default"].getHeight(24),
marginBottom: 2 * c["default"].GUTTER
},
image: {
textureAtlas: "SINGLE_TEXTURE",
textureMode: "contain",
position: "absolute",
top: 0,
left: -c["default"].getWidth(2),
width: c["default"].getWidth(12),
height: c["default"].getHeight(24),
zOffset: 2
}
}, f = function d(e) {
var t = void 0, n = void 0, r = e.item, s = e.style, u = o(e, [ "item", "style" ]);
if (r.images) {
var c = r.images;
t = c.Png1024xANY || c.Png300xANY || c.Png180xANY;
}
if (t) {
var f = {
texture: t
};
n = {
$$typeof: i,
type: "surface",
key: null,
ref: null,
props: {
style: [ p.image, f ]
},
_owner: null
};
}
return l["default"].createElement("surface", a({
style: [ p.box ].concat(s)
}, u), n);
};
t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return L(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(3), g = r(y), m = n(6), b = l(m), v = n(69), _ = n(7), S = n(22), T = l(S), w = n(46), E = l(w), I = n(14), C = l(I), A = n(25), P = l(A), O = n(107), R = l(O), k = n(465), x = l(k), M = n(790), N = l(M), D = n(106), U = {
_$TunguskaBattlepackBuy: {
displayName: "TunguskaBattlepackBuy"
}
}, L = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackBuy.jsx",
components: U,
locals: [],
imports: []
}), $ = {
container: {
width: b["default"].getWidth(26),
marginTop: 6 * b["default"].GUTTER,
marginBottom: 6 * b["default"].GUTTER,
alignItems: "center",
justifyContent: "center"
},
scraps: {
position: "absolute",
top: 0,
right: 0,
marginTop: 2 * b["default"].GUTTER
},
header: {
marginBottom: 6 * b["default"].GUTTER
},
loading: {
height: M.cardContainerSize.height,
alignItems: "center",
justifyContent: "center"
},
backBtn: {
width: b["default"].getWidth(4)
},
accessImage: {
position: "absolute",
right: 0,
bottom: b["default"].getHeight(-16)
}
}, G = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
activeOffer: null
}, this.focusAncestor = g.focus.createAncestor("TunguskaBattlepackBuy");
}
i(t, e), t.prototype.onStartBuy = function r() {
this.closePopup();
}, t.prototype.onBuy = function l() {
"function" == typeof this.props.onBuy && this.props.onBuy();
}, t.prototype.closePopup = function u() {
var e = this.props.popupInfo && this.props.popupInfo.id;
P["default"].close(e);
}, t.prototype.renderCards = function c() {
var e = this, t = this.state.offers.values().sort(function(e, t) {
return e.amount - t.amount;
}), n = Math.min(t.length * (M.cardSize.width + b["default"].GUTTER), $.container.width), r = this.state.activeOffer;
null == r && t.length && (r = t[0].offerId);
var a = t.map(function(t) {
return {
$$typeof: f,
type: N["default"],
key: null,
ref: null,
props: o(N["default"].defaultProps, {
offer: t,
onStartBuy: function() {
return e.onStartBuy();
},
onBuy: function() {
return e.onBuy();
},
onFocus: function() {
return e.setState({
activeOffer: t.offerId
});
},
active: r === t.offerId
}),
_owner: null
};
});
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: v.CardCarousel,
key: "carousel",
ref: null,
props: o(v.CardCarousel.defaultProps, {
children: a,
width: n,
useAbsoluteBounds: !0
}),
_owner: null
},
style: {
marginLeft: b["default"].GUTTER
}
},
_owner: null
};
}, t.prototype.renderLoading = function d() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(E["default"], {
ref: "spinner",
autoRun: !0
}),
style: $.loading
},
_owner: null
};
}, t.prototype.render = function y() {
var e = this, t = this.state.balance && this.state.balance.scraps || 0, n = void 0;
n = x["default"].hasLoadedOnce() ? this.renderCards() : this.renderLoading();
var r = void 0;
return SpartaGlobals.bundleIsPC && (r = {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_BACK"),
style: $.backBtn,
action: function() {
return e.closePopup();
}
}),
_owner: null
}), h["default"].createElement("surface", p({
style: $.container
}, this.focusAncestor.hooks), {
$$typeof: f,
type: D.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(D.TunguskaBattlepackScraps.defaultProps, {
size: "S",
prefix: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS").toUpperCase(),
value: t,
style: $.scraps
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: _.Text,
key: null,
ref: null,
props: o(_.Text.defaultProps, {
color: "#ffffff",
size: "XXL",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SELECT_AMOUNT").toUpperCase()
}),
_owner: null
},
style: $.header
},
_owner: null
}, n, r);
};
var n = t;
return t = s("_$TunguskaBattlepackBuy")(t) || t, t = C["default"]({
offers: x["default"],
balance: R["default"]
})(t) || t;
}(h["default"].Component);
t["default"] = G, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function e(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return W(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = e(f), h = n(3), y = e(h), g = n(5), m = s(g), b = n(10), v = n(13), _ = s(v), S = n(12), T = s(S), w = n(14), E = s(w), I = n(16), C = n(6), A = s(C), P = n(7), O = n(174), R = n(25), k = s(R), x = n(143), M = n(42), N = s(M), D = n(54), U = s(D), L = n(31), $ = n(107), G = s($), F = n(189), B = s(F), j = n(106), H = n(449), V = s(H), z = {
_$BattlepackBuyCardButton: {
displayName: "BattlepackBuyCardButton"
},
_$BattlepackBuyCard: {
displayName: "BattlepackBuyCard"
}
}, W = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackBuyCard.jsx",
components: z,
locals: [],
imports: []
}), q = {
width: A["default"].getWidth(5),
height: A["default"].getHeight(44)
};
t.cardSize = q;
var K = {
height: q.height + A["default"].GUTTER + 2 * (A["default"].getHeight(7) + A["default"].GUTTER)
};
t.cardContainerSize = K;
var X = {
container: {
height: K.height,
marginRight: A["default"].GUTTER
},
card: {
width: q.width,
height: q.height,
backgroundColor: "#00000085"
},
image: {
position: "absolute",
top: 3 * A["default"].GUTTER,
left: 3 * A["default"].GUTTER,
right: 3 * A["default"].GUTTER,
height: A["default"].getHeight(25),
textureMode: "cover"
},
info: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
padding: 2 * A["default"].GUTTER,
alignItems: "center"
},
count: {
marginBottom: A["default"].GUTTER
},
focusHighlight: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
height: A["default"].getHeight(1),
backgroundColor: "#ffffff"
},
buttons: {
marginTop: A["default"].GUTTER
},
button: {
width: q.width,
height: A["default"].getHeight(5),
marginBottom: A["default"].GUTTER,
paddingLeft: 2 * A["default"].GUTTER,
paddingRight: 2 * A["default"].GUTTER,
flexDirection: "row",
backgroundColor: "#00000085",
alignItems: "center",
justifyContent: "space-between"
},
price: {
flexDirection: "row"
},
listPrice: {
marginRight: A["default"].GUTTER,
opacity: .6
}
}, Y = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = y.focus.create(this, "battlepackBuyCardButton");
}
a(t, e), t.prototype.render = function s() {
var e = this.focusItem.isFocused, t = this.props.disabled ? .5 : 1, n = e && !this.props.disabled ? "#ffffff" : "#00000085", o = e || this.props.disabled ? "#00000085" : "#ffffff", a = void 0;
d.isValidElement(this.props.left) ? a = !this.props.disabled && e && d.isValidElement(this.props.leftFocused) ? this.props.leftFocused : this.props.left : null != this.props.left && (a = {
$$typeof: p,
type: P.Text,
key: null,
ref: null,
props: r(P.Text.defaultProps, {
size: "S",
color: o,
value: this.props.left
}),
_owner: null
});
var i = void 0;
d.isValidElement(this.props.right) ? i = !this.props.disabled && e && d.isValidElement(this.props.rightFocused) ? this.props.rightFocused : this.props.right : null != this.props.right && (i = {
$$typeof: p,
type: P.Text,
key: null,
ref: null,
props: r(P.Text.defaultProps, {
size: "S",
color: o,
value: this.props.right
}),
_owner: null
});
var s = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, i ],
style: [ X.button, {
opacity: t,
backgroundColor: n
} ]
},
_owner: null
};
if (this.props.disabled) return s;
var l = new _["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: this.props.action,
key: T["default"].Accept
});
return {
$$typeof: p,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
children: s,
input: l,
focusItem: this.focusItem
}),
_owner: null
};
};
var n = t;
return t = i("_$BattlepackBuyCardButton")(t) || t, t = b.observer(t) || t;
}(d.Component);
Y.propTypes = {
left: d.PropTypes.oneOfType([ d.PropTypes.string, d.PropTypes.element ]),
leftFocused: d.PropTypes.element,
right: d.PropTypes.oneOfType([ d.PropTypes.string, d.PropTypes.element ]),
rightFocused: d.PropTypes.element,
disabled: d.PropTypes.bool
};
var J = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = y.focus.create(this, "battlepackBuyCard");
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this;
this.focusItem.onFocus(function() {
"function" == typeof e.props.onFocus && e.props.onFocus();
}), this.focusItem.onBlur(function() {
"function" == typeof e.props.onBlur && e.props.onBlur();
});
}, t.prototype.getPrice = function l(e) {
var t = m["default"].findWhere(this.props.offer.battlepack.prices.map(function(e) {
return e[0];
}), {
name: e
});
return t && t.quantity;
}, t.prototype.onStartBuy = function u() {
"function" == typeof this.props.onStartBuy && this.props.onStartBuy();
}, t.prototype.onBuy = function f() {
"function" == typeof this.props.onBuy && this.props.onBuy();
}, t.prototype.onBuyClick = function h(e) {
var t = this;
if (!e) {
var n = this.state.balance && this.state.balance.scraps || 0, o = this.getPrice("scraps");
if (o > n) return void L.alert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_NOT_ENOUGH_SCRAPS", !0));
}
k["default"].display(new N["default"]({
id: "battlepackConfirmPopup",
group: "battlepack",
content: {
$$typeof: p,
type: V["default"],
key: null,
ref: null,
props: r(V["default"].defaultProps, {
popupId: "battlepackConfirmPopup",
offer: this.props.offer,
onBuy: function() {
return t.onBuy();
},
realMoney: e
}),
_owner: null
},
requireOnline: !0,
fullScreen: !0,
createButtons: !1
})), this.onStartBuy();
}, t.prototype.render = function g() {
var e = this, t = this.props.offer, n = t.battlepack, o = n.images && (n.images.side_normal || n.images.side_small), a = this.getPrice("scraps"), i = I.Animation.tweenSwitch(.5, 1, this.props.active, I.Animation.presets.focusables.enter.fast, I.Animation.presets.focusables.leave), s = I.Animation.tweenSwitch(0, X.focusHighlight.height, this.focusItem.isFocused, I.Animation.presets.focusables.enter.fast, I.Animation.presets.focusables.enter.fast), l = void 0;
t.listPrice && (l = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: O.Strikethrough,
key: null,
ref: null,
props: r(O.Strikethrough.defaultProps, {
size: "S",
value: t.listPrice
}),
_owner: null
},
style: X.listPrice
},
_owner: null
});
var u = void 0;
return this.props.active && (u = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: Y,
key: null,
ref: null,
props: r(Y.defaultProps, {
left: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_GET_FOR_SCRAPS").toUpperCase(),
right: {
$$typeof: p,
type: j.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(j.TunguskaBattlepackScraps.defaultProps, {
value: a,
size: "S"
}),
_owner: null
},
rightFocused: {
$$typeof: p,
type: j.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(j.TunguskaBattlepackScraps.defaultProps, {
value: a,
size: "S",
dark: !0
}),
_owner: null
},
action: function() {
return e.onBuyClick(!1);
}
}),
_owner: null
}, {
$$typeof: p,
type: x.PS4StoreContent,
key: null,
ref: null,
props: r(x.PS4StoreContent.defaultProps, {
children: {
$$typeof: p,
type: Y,
key: null,
ref: null,
props: r(Y.defaultProps, {
left: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_BUY_SHORT").toUpperCase(),
right: t.price,
action: function() {
return e.onBuyClick(!0);
}
}),
_owner: null
}
}),
_owner: null
} ],
style: X.buttons
},
_owner: null
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ d.createElement("surface", c({
style: [ X.card, {
opacity: i
} ]
}, this.focusItem.hooks), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ X.image, {
texture: o
} ]
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: P.Text,
key: null,
ref: null,
props: r(P.Text.defaultProps, {
style: X.count,
color: "#ffffff99",
size: "XL",
value: "x" + t.amount
}),
_owner: null
}, {
$$typeof: p,
type: j.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(j.TunguskaBattlepackScraps.defaultProps, {
size: "S",
value: a
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: P.Text,
key: null,
ref: null,
props: r(P.Text.defaultProps, {
color: "#ffffff",
size: "S",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_OR").toUpperCase(),
style: {
marginRight: A["default"].GUTTER
}
}),
_owner: null
}, l, {
$$typeof: p,
type: P.Text,
key: null,
ref: null,
props: r(P.Text.defaultProps, {
size: "S",
value: t.price
}),
_owner: null
} ],
style: X.price
},
_owner: null
} ],
style: X.info
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ X.focusHighlight, {
height: s
} ]
},
_owner: null
}), u ],
style: X.container
},
_owner: null
};
};
var n = t;
return t = i("_$BattlepackBuyCard")(t) || t, t = E["default"]({
balance: G["default"]
})(t) || t, t = b.observer(t) || t;
}(d.Component);
t["default"] = J, J.propTypes = {
offer: d.PropTypes.instanceOf(B["default"]).isRequired,
active: d.PropTypes.bool,
onStartBuy: d.PropTypes.func,
onBuy: d.PropTypes.func,
onFocus: d.PropTypes.func,
onBlur: d.PropTypes.func
};
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return x(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(3), g = r(y), m = n(10), b = n(6), v = l(b), _ = n(7), S = n(25), T = l(S), w = n(42), E = l(w), I = n(55), C = n(796), A = l(C), P = n(34), O = l(P), R = n(94), k = {
_$BattlepackCard: {
displayName: "BattlepackCard"
}
}, x = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackCard.jsx",
components: k,
locals: [],
imports: []
}), M = {
width: v["default"].getWidth(5),
height: v["default"].getHeight(44)
};
t.cardSize = M;
var N = {
quantity: {
position: "absolute",
bottom: 3 * -v["default"].GUTTER,
left: 0,
padding: [ v["default"].GUTTER, 2 * v["default"].GUTTER, v["default"].GUTTER, 2 * v["default"].GUTTER ],
backgroundColor: "#00000033"
},
rarity: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
textureOffset: [ 0, -M.height / 2 ]
}
}, D = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = t.focusItem || g.focus.create(this, g.autoId("battlepackCard"));
}
i(t, e), t.prototype.viewBattlepack = function r() {
O["default"].viewBattlepack(this.props.packName), T["default"].display(new E["default"]({
id: "battlepackPopup",
group: "battlepack",
content: {
$$typeof: f,
type: A["default"],
key: null,
ref: null,
props: o(A["default"].defaultProps, {
popupId: "battlepackPopup"
}),
_owner: null
},
requireOnline: !0,
fullScreen: !0,
createButtons: !1,
containContent: !1,
centerContent: !1,
priority: 1,
stackable: !0
}));
}, t.prototype.render = function l() {
var e = this, t = this.props.images && this.props.images.side_normal, n = this.props.images && this.props.images.side_white, r = this.props.rarenessLevel && this.props.rarenessLevel.value > 0, a = r && {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, N.rarity, {
texture: R.level[this.props.rarenessLevel.value]
})
},
_owner: null
}, i = this.props.quantity > 1 && {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: _.Text,
key: null,
ref: null,
props: o(_.Text.defaultProps, {
size: "S",
value: "x" + this.props.quantity
}),
_owner: null
},
style: N.quantity
},
_owner: null
};
return {
$$typeof: f,
type: I.BasicCard,
key: null,
ref: null,
props: o(I.BasicCard.defaultProps, {
children: i,
focusItem: this.focusItem,
style: p({}, M, this.props.style),
icon: this.focusItem.isFocused && n || t,
heading: this.props.visualName.toUpperCase(),
description: this.props.revision.toUpperCase(),
overlay: a,
onPress: function() {
return e.viewBattlepack();
}
}),
_owner: null
};
};
var n = t;
return t = s("_$BattlepackCard")(t) || t, t = m.observer(t) || t;
}(h.Component);
t["default"] = D;
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return w(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = r(f), h = n(3), y = r(h), g = n(5), m = r(g), b = n(16), v = n(62), _ = n(94), S = r(_), T = {
_$TunguskaBattlepackFrames: {
displayName: "TunguskaBattlepackFrames"
}
}, w = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackFrames.jsx",
components: T,
locals: [],
imports: []
}), E = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, I = {
"in": {
duration: 300,
delay: 80
},
out: {
duration: 1,
delay: 1
}
}, C = {
0: {
0: {
"in": {
duration: 200
},
out: {
duration: 300,
delay: 200
}
},
1: {
"in": {
duration: 200,
delay: 100
},
out: {
duration: 250,
delay: 300
}
},
2: {
"in": {
duration: 500,
delay: 100
},
out: {
duration: 500,
delay: 900
}
},
3: I
},
1: {
0: {
"in": {
duration: 200
},
out: {
duration: 300,
delay: 200
}
},
1: {
"in": {
duration: 300,
delay: 100
},
out: {
duration: 300,
delay: 400
}
},
2: {
"in": {
duration: 450,
delay: 100
},
out: {
duration: 450,
delay: 550
}
},
3: {
"in": {
duration: 500,
delay: 100
},
out: {
duration: 500,
delay: 900
}
},
4: I
},
2: {
0: {
"in": {
duration: 250
},
out: {
duration: 400,
delay: 250
}
},
1: {
"in": {
duration: 250,
delay: 100
},
out: {
duration: 250,
delay: 350
}
},
2: {
"in": {
duration: 350,
delay: 100
},
out: {
duration: 350,
delay: 450
}
},
3: {
"in": {
duration: 500,
delay: 100
},
out: {
duration: 500,
delay: 600
}
},
4: {
"in": {
duration: 500,
delay: 100
},
out: {
duration: 500,
delay: 900
}
},
5: I
}
}, A = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t);
var a = m.find(this.props.pack.items, function(e) {
return !e.nugget;
}), i = [], s = this.props.pack.rarenessLevel.value;
i.push.apply(i, S.openingFrames[s].frames.concat([ S.openingFrames[s][a.rarenessLevel.value], S.backgroundEnd ])), 
this.preloader = y.texture.createPreloader(this), i.forEach(function(e) {
return r.preloader.preload(e, "SINGLE_TEXTURE");
}), this.currentIndex = 0, this.sound = y.Sound.load(S.frameSounds[s]), this.state = {
item: a,
frames: i,
currentIndex: this.currentIndex
}, this.tweens = {
flash1TranslateX: b.Animation.tween("184c6bad:102", 0),
flash1TranslateY: b.Animation.tween("184c6bad:103", 0),
flash1Opacity: b.Animation.tween("184c6bad:104", 0),
flash2TranslateX: b.Animation.tween("184c6bad:105", 0),
flash2TranslateY: b.Animation.tween("184c6bad:106", 0),
flash2Opacity: b.Animation.tween("184c6bad:107", 0)
}, this.frameOpacity = [ b.Animation.tween("184c6bad:111", 0), b.Animation.tween("184c6bad:112", 0), b.Animation.tween("184c6bad:113", 0), b.Animation.tween("184c6bad:114", 0), b.Animation.tween("184c6bad:115", 0), b.Animation.tween("184c6bad:116", 0) ], 
this.frameScale = [ b.Animation.tween("184c6bad:120", 1), b.Animation.tween("184c6bad:121", 1), b.Animation.tween("184c6bad:122", 1), b.Animation.tween("184c6bad:123", 1), b.Animation.tween("184c6bad:124", 1), b.Animation.tween("184c6bad:125", 1) ], 
this.frameSettings = C[this.props.pack.rarenessLevel.value];
}
a(t, e), t.prototype.componentDidMount = function r() {
var e = this;
this.delayStart().then(function() {
return e.playSound();
}).then(function() {
return e.showFrames(0);
}).then(function() {
return e.exitLastFrame();
});
}, t.prototype.componentWillUnmount = function s() {
this.sound.stop(), m.each(this.tweens, function(e) {
return e.destroy();
}), m.each(this.frameOpacity, function(e) {
return e.destroy();
}), m.each(this.frameScale, function(e) {
return e.destroy();
});
}, t.prototype.delayStart = function l() {
return new Promise(function(e) {
setTimeout(e, 400);
});
}, t.prototype.playSound = function u() {
var e = this;
return new Promise(function(t) {
return e.sound.loop = !1, e.sound.setVolume(1), e.sound.play(), t();
});
}, t.prototype.showFrames = function f(e) {
var t = this;
return new Promise(function(n) {
return e >= t.state.frames.length ? n() : void t.animateFrame(e).then(function() {
return e++, t.currentIndex = e, t.setState({
currentIndex: e
}), t.showFrames(e).then(function() {
return n();
});
});
});
}, t.prototype.animateFlash = function d() {
var e = this, t = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0], n = {
duration: 250,
delay: t,
easing: "Linear"
}, r = {
duration: n.duration,
delay: t + n.duration,
easing: "Linear"
}, o = {
duration: n.duration / 2,
delay: t + n.duration / 2,
easing: "Linear"
}, a = {
duration: o.duration,
delay: o.delay + o.duration,
easing: "Linear"
}, i = {
duration: n.duration + r.duration,
easing: "Linear"
}, s = {
duration: o.duration + a.duration,
delay: o.delay,
easing: "Linear"
};
return new Promise(function(t) {
var l = 4, u = S.flare.width * l, c = S.flare.height * l, p = -50, f = -350, d = u / c, h = (p - f) * d, y = 600, g = y - h, m = 400;
e.tweens.flash1Opacity.to(1, n), e.tweens.flash1Opacity.to(0, r), e.tweens.flash1TranslateX.set(g), 
e.tweens.flash1TranslateX.to(y, i), e.tweens.flash1TranslateY.set(f), e.tweens.flash1TranslateY.to(p, i), 
e.tweens.flash2Opacity.to(1, o), e.tweens.flash2Opacity.to(0, a), e.tweens.flash2TranslateX.set(g + m), 
e.tweens.flash2TranslateX.to(y + m, s), e.tweens.flash2TranslateY.set(f), e.tweens.flash2TranslateY.to(p, s, t);
});
}, t.prototype.animateFrame = function h(e) {
var t = this;
return new Promise(function(n) {
var r = t.frameSettings[e], o = e === t.state.frames.length - 2, a = e === t.state.frames.length - 1;
t.frameOpacity[e].set(0), t.frameOpacity[e].to(1, r["in"]), o && t.animateFlash(r["in"].duration / 2 + r["in"].delay), 
a || (t.frameScale[e].set(1.2), t.frameScale[e].to(1, {
duration: r["in"].duration + r.out.duration
})), t.frameOpacity[e].to(a ? 1 : 0, r.out, n);
});
}, t.prototype.exitLastFrame = function g() {
this.props.onVideoComplete();
}, t.prototype.renderFrames = function _() {
for (var e = this.state.frames, t = this.currentIndex, n = Math.max(0, t - 1), r = Math.min(t + 2, e.length), o = p({
width: v.uiState.window.width,
height: v.uiState.window.height
}, E), a = []; r > n; ) {
var i = p({
zOffset: 10 - n,
texture: e[n],
textureScale: this.frameScale[n].getStyle(),
textureAtlas: "SINGLE_TEXTURE",
opacity: this.frameOpacity[n].getStyle()
}, o);
a.push({
$$typeof: c,
type: "surface",
key: i.texture.substr(-8) + n,
ref: null,
props: {
style: i
},
_owner: null
}), n++;
}
return a;
}, t.prototype.render = function T() {
var e = p({
zOffset: 1,
backgroundColor: "#000000",
opacity: 1,
layer: !0,
layerGrabBackground: !0
}, E), t = p({
texture: S.flare[this.state.item.rarenessLevel.value],
width: S.flare.width,
height: S.flare.height,
rotateZ: -20,
blendMode: "screen",
enableMouseEvents: !1
}, E), n = p({}, t, {
zOffset: 1600,
scaleX: 1,
scaleY: 4,
translateX: this.tweens.flash1TranslateX.getStyle(),
translateY: this.tweens.flash1TranslateY.getStyle(),
opacity: this.tweens.flash1Opacity.getStyle()
}), r = p({}, t, {
zOffset: 1601,
scaleX: 7,
scaleY: 7,
translateX: this.tweens.flash2TranslateX.getStyle(),
translateY: this.tweens.flash2TranslateY.getStyle(),
opacity: this.tweens.flash2Opacity.getStyle()
});
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: r
},
_owner: null
}, this.renderFrames(), this.props.children ],
style: e
},
_owner: null
};
};
var n = t;
return t = i("_$TunguskaBattlepackFrames")(t) || t;
}(d.Component);
t["default"] = A, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function s(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function l(e) {
return function(t) {
return w(t, e);
};
}
function u(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var c = n(4), p = u(c);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = u(h), g = n(10), m = n(6), b = u(m), v = n(7), _ = n(94), S = r(_), T = {
_$TunguskaBattlepackItem: {
displayName: "TunguskaBattlepackItem"
}
}, w = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackItem.jsx",
components: T,
locals: [],
imports: []
}), E = {
box: {
flex: 0,
width: b["default"].getWidth(4),
height: b["default"].getHeight(14)
},
rarityWrapper: {
position: "absolute",
top: 0,
left: 0,
width: b["default"].getWidth(4),
height: b["default"].getHeight(14),
zOffset: 1
},
image: {
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
position: "absolute",
top: 2 * b["default"].GUTTER,
left: b["default"].GUTTER,
right: b["default"].GUTTER,
height: b["default"].getHeight(9),
zOffset: 2
},
multiplier: {
position: "absolute",
bottom: 4,
left: 8,
zOffset: 4
}
}, I = function(e) {
function t(t) {
i(this, n), e.call(this, t);
}
s(t, e), t.prototype.render = function r() {
var e = void 0, t = void 0, n = this.props, r = n.item, i = n.showRarity, s = n.style, l = n.textStyle, u = o(n, [ "item", "showRarity", "style", "textStyle" ]);
if (r.images) {
var c = r.images;
c.Png180xANY && (e = c.Png180xANY);
}
if (e) {
var p = {
texture: e
};
t = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: [ E.image, p ]
},
_owner: null
};
}
var h = void 0;
if (("undefined" == typeof i || i) && r.rarenessLevel) {
var g = {
position: "absolute",
top: 0,
left: 0,
texture: S.fade[r.rarenessLevel.value],
width: S.fade.width,
height: b["default"].getHeight(14)
};
h = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: g
},
_owner: null
};
}
var m = r.quantity > 1 ? "x" + r.quantity : "";
return y["default"].createElement("surface", f({}, u, {
style: [ E.box ].concat(s)
}, this.props.focusItem.hooks), t, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: h,
style: E.rarityWrapper
},
_owner: null
}, {
$$typeof: d,
type: v.Text,
key: null,
ref: null,
props: a(v.Text.defaultProps, {
value: m,
type: "emphasis",
size: "S",
style: [ E.multiplier, l ]
}),
_owner: null
});
};
var n = t;
return t = l("_$TunguskaBattlepackItem")(t) || t, t = g.observer(t) || t;
}(y["default"].Component);
t["default"] = I, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function i(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
t.__esModule = !0;
var s = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, l = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, u = n(1), c = o(u), p = n(6), f = o(p), d = n(7), h = n(94), y = r(h), g = n(30), m = {
box: {
flex: 0,
width: f["default"].getWidth(6)
},
rarityClip: {
position: "absolute",
top: f["default"].getHeight(-4),
left: 0,
right: 0,
bottom: f["default"].getHeight(-4),
layer: !0,
layerClip: !0,
layerSoftClip: [ 0, f["default"].getHeight(8), 0, f["default"].getHeight(8) ]
},
rarity: {
position: "absolute",
top: f["default"].getHeight(-28),
left: 0,
width: f["default"].getWidth(6),
height: f["default"].getHeight(74),
textureMode: "cover",
textureScale: .9,
zOffset: 1,
opacity: .95
},
image: {
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
height: f["default"].getHeight(18),
zOffset: 2
},
info: {
zOffset: 3,
marginTop: 4 * f["default"].GUTTER,
marginBottom: 2 * f["default"].GUTTER
},
description: {
marginTop: f["default"].GUTTER,
textAlignForRTL: "left"
},
multiplier: {
position: "absolute",
bottom: 0,
right: 8,
zOffset: 4
}
}, b = function v(e) {
var t = void 0, n = void 0, r = e.item, o = e.style, u = a(e, [ "item", "style" ]);
if (r.images) {
var p = r.images;
t = p.Png300xANY || p.Png180xANY;
}
if (t) {
var h = {
texture: t
};
n = {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
style: [ m.image, h ]
},
_owner: null
};
}
var b = void 0;
r.parentName && r.parentName !== r.name && (b = r.parentName);
var v = void 0, _ = void 0, S = void 0;
r.rarenessLevel && (v = y.getName(r.rarenessLevel.value).toUpperCase(), _ = {
color: y.rgb[r.rarenessLevel.value],
textAlignForRTL: "left"
}, S = {
texture: y.level[r.rarenessLevel.value]
});
var T = "Weapon" === r.itemType || "Vehicle" === r.itemType ? '"' + r.name + '"' : r.name, w = r.quantity > 1 ? "x" + r.quantity : "", E = g.isRTLLanguage() ? s({}, m.multiplier, {
right: SpartaGlobals.bundleIsPC ? 300 : 380
}) : m.multiplier, I = void 0;
return r.nugget && r.description && (I = {
$$typeof: l,
type: d.Text,
key: null,
ref: null,
props: i(d.Text.defaultProps, {
value: r.description,
size: "XS",
style: m.description
}),
_owner: null
}), c["default"].createElement("surface", s({
style: [ m.box ].concat(o)
}, u), {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
style: [ m.rarity, S ]
},
_owner: null
},
style: m.rarityClip
},
_owner: null
}, n, {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: l,
type: d.Text,
key: null,
ref: null,
props: i(d.Text.defaultProps, {
value: b,
size: "S",
style: {
textAlignForRTL: "left"
}
}),
_owner: null
}, {
$$typeof: l,
type: d.Text,
key: null,
ref: null,
props: i(d.Text.defaultProps, {
value: T,
size: "M",
style: {
marginTop: f["default"].GUTTER / 2,
textAlignForRTL: "left"
}
}),
_owner: null
}, {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: l,
type: d.Text,
key: null,
ref: null,
props: i(d.Text.defaultProps, {
value: v,
size: "S",
type: "emphasis",
style: _
}),
_owner: null
}, {
$$typeof: l,
type: d.Text,
key: null,
ref: null,
props: i(d.Text.defaultProps, {
value: w,
size: "S",
type: "emphasis",
style: E
}),
_owner: null
} ],
style: {
marginTop: f["default"].GUTTER
}
},
_owner: null
}, I ],
style: m.info
},
_owner: null
});
};
t["default"] = b, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return U(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(5), g = r(y), m = n(10), b = n(22), v = l(b), _ = n(7), S = n(46), T = l(S), w = n(6), E = l(w), I = n(16), C = n(31), A = n(57), P = n(25), O = l(P), R = n(34), k = l(R), x = n(456), M = l(x), N = n(106), D = {
_$BattlepackItemScrapView: {
displayName: "BattlepackItemScrapView"
}
}, U = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackItemScrapView.jsx",
components: D,
locals: [],
imports: []
}), L = {
btn: {
flex: 1,
marginTop: E["default"].GUTTER
},
dock: {
justifyContent: "center",
alignItems: "center",
position: "absolute",
top: 0,
right: 0,
left: 0,
bottom: 0
},
actions: {
width: E["default"].getWidth(6)
},
prompt: {
alignItems: "center"
},
scraps: {
margin: [ E["default"].GUTTER, E["default"].GUTTER, E["default"].GUTTER, E["default"].GUTTER ]
}
}, $ = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
isScrapping: !1,
isScrapped: !1
}, this.tweens = {
promptOpacity: I.Animation.tween("481e88ec:56", 1),
opacity: I.Animation.tween("481e88ec:57", 1),
scale: I.Animation.tween("481e88ec:58", 1),
translateX: I.Animation.tween("481e88ec:59", 0),
translateY: I.Animation.tween("481e88ec:60", 0)
};
}
i(t, e), t.prototype.componentWillMount = function r() {
this.props.noConfirmation && this.scrapItem();
}, t.prototype.componentWillUnmount = function l() {
g.each(this.tweens, function(e) {
return e.destroy();
});
}, t.prototype.onOkClick = function u() {
this.scrapItem();
}, t.prototype.onCancelClick = function c() {
this.props.onCancel(), this.closePopup();
}, t.prototype.onSuccess = function d() {
this.props.onSuccess(), this.closePopup();
}, t.prototype.onScrapped = function y() {
var e = this;
this.setState({
isScrapped: !0
});
var t = {
delay: 500,
duration: 500,
easing: "CubicInOut"
}, n = {
delay: 700,
duration: 800,
easing: "CubicInOut"
};
this.tweens.promptOpacity.to(0, t), this.tweens.opacity.to(0, n), this.tweens.scale.to(.6, n), 
this.tweens.translateX.to(500, n), this.tweens.translateY.to(-400, n, function() {
return e.onSuccess();
});
}, t.prototype.onError = function b() {
this.props.onError(), this.closePopup();
}, t.prototype.scrapItem = function S() {
var e = this;
this.setState({
isScrapping: !0
});
var t = A.scrap.listen(function(n, r) {
return t(), n ? (C.alert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_ITEM_ERROR", !0), null, {
priority: 1,
stackable: !0
}), void e.onError(n)) : void e.onScrapped();
});
k["default"].scrapItem(this.props.item);
}, t.prototype.closePopup = function w() {
O["default"].close(this.props.popupInfo.id);
}, t.prototype.renderScrapped = function E() {
var e = this.props.item, t = f({}, L.prompt, {
opacity: this.tweens.promptOpacity.getStyle()
}), n = f({}, L.scraps, {
opacity: this.tweens.opacity.getStyle(),
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle(),
translateX: this.tweens.translateX.getStyle(),
translateY: this.tweens.translateY.getStyle()
});
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: _.Text,
key: null,
ref: null,
props: o(_.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS_RECEIVED"),
size: "M"
}),
_owner: null
},
style: t
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: N.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(N.TunguskaBattlepackScraps.defaultProps, {
value: e.scrapValue,
size: "M"
}),
_owner: null
},
style: n
},
_owner: null
} ],
style: L.dock
},
_owner: null
};
}, t.prototype.renderScrapping = function P() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(T["default"], {
ref: "spinner",
autoRun: !0
}),
style: L.dock
},
_owner: null
};
}, t.prototype.renderPrompt = function R() {
var e = this;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: M["default"],
key: null,
ref: null,
props: o(M["default"].defaultProps, {
item: this.props.item
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: _.Text,
key: null,
ref: null,
props: o(_.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_CONFIRM"),
size: "M"
}),
_owner: null
},
style: L.prompt
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_YES"),
action: function() {
return e.onOkClick();
},
style: L.btn
}),
_owner: null
}, {
$$typeof: p,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_NO"),
action: function() {
return e.onCancelClick();
},
style: L.btn
}),
_owner: null
} ],
style: L.actions
},
_owner: null
} ],
style: L.dock
},
_owner: null
};
}, t.prototype.render = function x() {
return this.state.isScrapped ? this.renderScrapped() : this.state.isScrapping ? this.renderScrapping() : this.renderPrompt();
};
var n = t;
return t = s("_$BattlepackItemScrapView")(t) || t, t = m.observer(t) || t;
}(h["default"].Component);
t["default"] = $, $.propTypes = {
popupInfo: h["default"].PropTypes.object.isRequired,
item: h["default"].PropTypes.object.isRequired,
onSuccess: h["default"].PropTypes.func,
onError: h["default"].PropTypes.func,
onCancel: h["default"].PropTypes.func,
noConfirmation: h["default"].PropTypes.bool
}, $.defaultProps = {
onSuccess: function G() {},
onError: function F() {},
onCancel: function B() {}
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return se(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(5), g = r(y), m = n(20), b = l(m), v = n(17), _ = l(v), S = n(25), T = l(S), w = n(13), E = l(w), I = n(12), C = l(I), A = n(8), P = n(53), O = l(P), R = n(6), k = l(R), x = n(7), M = n(22), N = l(M), D = n(16), U = n(62), L = n(31), $ = n(184), G = n(30), F = n(57), B = n(14), j = l(B), H = n(34), V = l(H), z = n(463), W = l(z), q = n(107), K = l(q), X = n(453), Y = l(X), J = n(797), Q = l(J), Z = n(454), ee = l(Z), te = n(798), ne = l(te), re = n(792), oe = l(re), ae = n(106), ie = {
_$BattlepackViewUnopened: {
displayName: "BattlepackViewUnopened"
},
_$BattlepackViewOpened: {
displayName: "BattlepackViewOpened"
},
_$TunguskaBattlepackView: {
displayName: "TunguskaBattlepackView"
}
}, se = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackOpen.jsx",
components: ie,
locals: [],
imports: []
}), le = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, ue = {
openBtnContainer: {
flexDirection: "row",
marginTop: 2 * k["default"].GUTTER,
marginBottom: k["default"].GUTTER
},
openBtn: {
height: k["default"].getHeight(6),
width: k["default"].getWidth(8)
},
openQuantity: {
backgroundColor: "#ffffff33",
height: k["default"].getHeight(6),
width: k["default"].getHeight(8),
marginLeft: k["default"].GUTTER,
color: "#ffffff",
justifyContent: "center"
},
bpContent: {
alignItems: "center",
alignSelf: "center",
flexDirection: "row"
},
bpActions: {
width: k["default"].getWidth(14),
marginRight: k["default"].getWidth(2)
},
bpLoot: {
width: k["default"].getWidth(8),
marginTop: k["default"].getHeight(6)
},
battlepack: {
marginBottom: k["default"].getHeight(2)
},
bpTitle: {
justifyContent: "center"
},
bpImage: {
flex: 1,
height: k["default"].getHeight(56),
textureAtlas: "SINGLE_TEXTURE",
textureScale: 1,
textureMode: "contain"
}
}, ce = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
isOpening: !1
}, this.tweens = {
wrapperOpacity: D.Animation.tween("282c75de:98", 1),
blackOpacity: D.Animation.tween("282c75de:99", 0)
};
}
i(t, e), t.prototype.componentWillUnmount = function r() {
g.each(this.tweens, function(e) {
return e.destroy();
});
}, t.prototype.onOpenClick = function l() {
var e = this;
this.setState({
isOpening: !0
}), this.props.onOpenClick(), this.fadeOut().then(function() {
return V["default"].openBattlepack(e.props.pack.data.packKey);
});
}, t.prototype.fadeOut = function u() {
var e = this, t = {
duration: 500
};
return new Promise(function(n) {
e.tweens.blackOpacity.to(1, t), e.tweens.wrapperOpacity.to(0, t, n);
});
}, t.prototype.render = function c() {
var e = this, t = this.props && this.props.pack;
if (!t) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = t.data, r = void 0;
if (n && n.quantity) {
var a = void 0;
n.quantity > 1 && (a = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: x.Text,
key: null,
ref: null,
props: o(x.Text.defaultProps, {
value: "x" + n.quantity,
size: "S",
style: {
alignSelf: "center"
}
}),
_owner: null
},
style: ue.openQuantity
},
_owner: null
});
var i = __("ID_SPARTA_ACTION_OPEN");
r = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: N["default"],
key: null,
ref: null,
props: o(N["default"].defaultProps, {
text: i,
style: ue.openBtn,
action: function() {
return e.onOpenClick();
},
disabled: this.state.isOpening
}),
_owner: null
}, a ],
style: ue.openBtnContainer
},
_owner: null
};
}
var s = void 0;
SpartaGlobals.bundleIsPC && (s = {
$$typeof: f,
type: N["default"],
key: null,
ref: null,
props: o(N["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_BACK"),
style: ue.openBtn,
action: this.props.closePopup,
disabled: this.state.isOpening
}),
_owner: null
});
var l = void 0, u = void 0, c = void 0, d = void 0, h = "";
n && (u = (n.visualName || "").toUpperCase(), d = n.images && n.images.side_big, 
c = [ n.revision, n.origin ].filter(function(e) {
return null != e && "" !== e;
}).join(" - ").toUpperCase(), l = {
$$typeof: f,
type: ee["default"],
key: null,
ref: null,
props: o(ee["default"].defaultProps, {
items: n.items,
hideScrollAction: this.state.isOpening
}),
_owner: null
}, h = n.revision);
var y = {
opacity: this.tweens.wrapperOpacity.getStyle()
}, g = p({}, ue.bpTitle);
return G.isRTLLanguage() && (g = {
width: k["default"].getWidth(8),
textAlignForRTL: "left"
}), {
$$typeof: f,
type: $.PopupContainer,
key: null,
ref: null,
props: o($.PopupContainer.defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: [ ue.bpImage, {
texture: d
} ]
},
_owner: null
}, {
$$typeof: f,
type: x.Text,
key: null,
ref: null,
props: o(x.Text.defaultProps, {
style: g,
size: "L",
type: "emphasis",
value: u
}),
_owner: null
}, {
$$typeof: f,
type: x.Text,
key: null,
ref: null,
props: o(x.Text.defaultProps, {
style: g,
size: "S",
value: c
}),
_owner: null
}, r, s ],
style: ue.battlepack
},
_owner: null
},
style: ue.bpActions
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: x.Text,
key: null,
ref: null,
props: o(x.Text.defaultProps, {
style: {
marginBottom: k["default"].GUTTER,
textAlignForRTL: "left"
},
size: "S",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_REVISION_CONTAINS").replace("[[revision]]", h).toUpperCase()
}),
_owner: null
}, l ],
style: ue.bpLoot
},
_owner: null
} ],
style: ue.bpContent
},
_owner: null
},
style: y
}),
_owner: null
};
};
var n = t;
return t = s("_$BattlepackViewUnopened")(t) || t, t = j["default"]({
balance: K["default"]
})(t) || t;
}(h.Component);
ce.propTypes = {
closePopup: h.PropTypes.func.isRequired
};
var pe = function(e) {
function t(t) {
a(this, n), e.call(this, t);
var r = A.settingsStore.isFeatureEnabled("ingameBattlepackVideos") || "none" === O["default"].getState().route;
this.state = {
isVideoEnabled: r,
hasVideoPlayed: !1,
currentItem: 0
}, this.tweens = {
scrapsOpacity: D.Animation.tween("282c75de:237", 0)
};
}
i(t, e), t.prototype.componentWillUnmount = function r() {
g.each(this.tweens, function(e) {
return e.destroy();
});
}, t.prototype.onVideoComplete = function l() {
this.setState({
hasVideoPlayed: !0
});
}, t.prototype.onItemAnimationComplete = function u() {
this.tweens.scrapsOpacity.to(1, {
duration: 700
});
}, t.prototype.gotoNextItem = function c() {
var e = this.props.pack;
e.open.items.length === this.state.currentItem + 1 ? this.props.closePopup() : this.setState({
currentItem: this.state.currentItem + 1
});
}, t.prototype.preloadImages = function p(e) {
var t = {
position: "absolute",
top: -1e3,
left: -1e3,
opacity: .1
}, n = {
width: 1,
height: 1
}, r = e.map(function(e) {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: [ n, {
texture: e.images.Png1024xANY
} ]
},
_owner: null
};
});
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: r,
style: t
},
_owner: null
};
}, t.prototype.renderOpenedItem = function d(e) {
var t = this;
return {
$$typeof: f,
type: Y["default"],
key: "item",
ref: null,
props: o(Y["default"].defaultProps, {
item: e,
onDone: function() {
return t.onItemAnimationComplete();
},
continueCallback: function() {
return t.gotoNextItem();
}
}),
_owner: null
};
}, t.prototype.renderOpenedNugget = function h(e) {
var t = this;
return {
$$typeof: f,
type: Q["default"],
key: "nugget",
ref: null,
props: o(Q["default"].defaultProps, {
item: e,
continueCallback: function() {
return t.gotoNextItem();
}
}),
_owner: null
};
}, t.prototype.render = function y() {
var e = this.props.pack, t = e && e.open;
if (!t) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = t.items.slice().sort(function(e) {
return e.nugget ? 1 : -1;
}), r = n[this.state.currentItem], a = void 0;
a = this.state.hasVideoPlayed ? r.nugget ? this.renderOpenedNugget(r) : this.renderOpenedItem(r) : this.preloadImages(n);
var i = {
zOffset: 1e3,
position: "absolute",
top: _["default"].dangerZoneSize.height + k["default"].getHeight(8),
right: _["default"].dangerZoneSize.width + k["default"].getWidth(2),
opacity: this.tweens.scrapsOpacity.getStyle()
}, s = this.state.balance && this.state.balance.scraps || 0;
return this.state.isVideoEnabled ? {
$$typeof: f,
type: ne["default"],
key: null,
ref: null,
props: o(ne["default"].defaultProps, {
children: [ a, {
$$typeof: f,
type: $.PopupContainer,
key: null,
ref: null,
props: o($.PopupContainer.defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: ae.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(ae.TunguskaBattlepackScraps.defaultProps, {
prefix: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS").toUpperCase(),
value: s,
size: "S",
animated: !0
}),
_owner: null
},
style: i
},
_owner: null
}
}),
_owner: null
} ],
pack: t,
onVideoComplete: this.onVideoComplete.bind(this)
}),
_owner: null
} : {
$$typeof: f,
type: oe["default"],
key: null,
ref: null,
props: o(oe["default"].defaultProps, {
children: a,
pack: t,
onVideoComplete: this.onVideoComplete.bind(this)
}),
_owner: null
};
};
var n = t;
return t = s("_$BattlepackViewOpened")(t) || t, t = j["default"]({
balance: K["default"]
})(t) || t;
}(h.Component);
pe.propTypes = {
closePopup: h.PropTypes.func.isRequired
};
var fe = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.state = {
description: "",
isOpening: !1
}, this.tweens = {
blackOpacity: D.Animation.tween("282c75de:355", 0)
}, this.openUnsubscribe = F.open.listen(function(e, t) {
r.openUnsubscribe(), e && (L.alert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_OPEN_ERROR", !0)), 
r.closePopup());
});
}
i(t, e), t.prototype.componentWillUpdate = function r(e, t) {
var n = "OPEN" === t.pack.state ? 0 : 1;
this.tweens.blackOpacity.to(n, {
duration: 100
});
}, t.prototype.componentDidUpdate = function o() {
A.onlineState.isOnlineBlazeAndGateway || this.closePopup();
}, t.prototype.componentWillUnmount = function l() {
g.each(this.tweens, function(e) {
return e.destroy();
}), this.openUnsubscribe();
}, t.prototype.getInput = function u() {
var e = this, t = "UNOPENED" === this.state.pack.state && !this.state.isOpening;
return [ new E["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: C["default"].Decline,
action: function n() {
return t && e.closePopup();
},
visible: t && SpartaGlobals.bundleIsConsole
}) ];
}, t.prototype.onOpenClick = function c() {
this.setState({
isOpening: !0
}), this.tweens.blackOpacity.to(1, {
duration: 300
});
}, t.prototype.closePopup = function d() {
var e = this.props.popupInfo && this.props.popupInfo.id;
T["default"].close(e);
}, t.prototype.render = function y() {
var e = this, t = void 0, n = {
pack: this.state.pack,
closePopup: function a() {
return e.closePopup();
}
};
switch (this.state.pack.state) {
case "OPEN":
t = h.createElement(pe, n);
break;

case "OPENING":
case "UNOPENED":
default:
t = h.createElement(ce, p({
onOpenClick: function() {
return e.onOpenClick();
}
}, n));
}
var r = p({
zOffset: 2,
enableMouseEvents: !1,
opacity: this.tweens.blackOpacity.getStyle(),
backgroundColor: "#000000",
layer: !0,
layerGrabBackground: !0,
height: U.uiState.window.height
}, le), o = p({
zOffset: 1,
layer: !0,
layerGrabBackground: !0
}, le);
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: r
},
_owner: null
}, t ],
style: o
},
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackView")(t) || t, t = j["default"]({
pack: W["default"]
})(t) || t, t = b["default"]()(t) || t;
}(h.Component);
t["default"] = fe, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return N(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(5), g = r(y), m = n(3), b = n(17), v = l(b), _ = n(6), S = l(_), T = n(7), w = n(22), E = l(w), I = n(16), C = n(94), A = r(C), P = n(226), O = l(P), R = n(10), k = n(62), x = n(184), M = {
_$TunguskaBattlepackOpenedNugget: {
displayName: "TunguskaBattlepackOpenedNugget"
}
}, N = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackOpenedNugget.jsx",
components: M,
locals: [],
imports: []
}), D = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, U = 1024, L = 256, $ = {
"default": {
duration: 500,
delay: 300
},
image: {
move: {
duration: 500,
delay: 500
},
moveUp: {
duration: 500
}
},
flare: {
scale: {
duration: 300,
delay: 300
}
},
parentName: {
opacity: {
duration: 700
}
}
}, G = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
isInputEnabled: !1
}, this.tweens = {
opacity: I.Animation.tween("0c324c52:59", 0),
scale: I.Animation.tween("0c324c52:60", 0),
translateX: I.Animation.tween("0c324c52:61", 0),
translateY: I.Animation.tween("0c324c52:62", 0),
flareWidth: I.Animation.tween("0c324c52:65", A.flare.width),
flareHeight: I.Animation.tween("0c324c52:66", A.flare.height),
flareRotate: I.Animation.tween("0c324c52:67", 0),
flareScaleX: I.Animation.tween("0c324c52:68", 1),
flareScaleY: I.Animation.tween("0c324c52:69", 0),
flareOpacity: I.Animation.tween("0c324c52:70", 0),
flareTranslateX: I.Animation.tween("0c324c52:71", 0),
flareTranslateY: I.Animation.tween("0c324c52:72", 0),
flash1TranslateX: I.Animation.tween("0c324c52:75", 0),
flash1TranslateY: I.Animation.tween("0c324c52:76", 0),
flash1Opacity: I.Animation.tween("0c324c52:77", 0),
flash2TranslateX: I.Animation.tween("0c324c52:78", 0),
flash2TranslateY: I.Animation.tween("0c324c52:79", 0),
flash2Opacity: I.Animation.tween("0c324c52:80", 0),
glowOpacity: I.Animation.tween("0c324c52:84", 0),
itemNameTranslateY: I.Animation.tween("0c324c52:87", 0),
itemNameOpacity: I.Animation.tween("0c324c52:88", 0),
rarityNameOpacity: I.Animation.tween("0c324c52:89", 0),
rarityTranslateY: I.Animation.tween("0c324c52:90", 0),
buttonScale: I.Animation.tween("0c324c52:93", 0),
buttonOpacity: I.Animation.tween("0c324c52:94", 0)
};
}
i(t, e), t.prototype.componentDidMount = function r() {
this.startAnimations();
}, t.prototype.componentWillUnmount = function l() {
g.each(this.tweens, function(e) {
return e.destroy();
});
}, t.prototype.getHighestResolutionImage = function u(e) {
return e.Png1024xANY ? e.Png1024xANY : e.Png300xANY ? e.Png300xANY : e.Png180xANY ? e.Png180xANY : void 0;
}, t.prototype.startAnimations = function c() {
var e = this;
this.playSound().then(function() {
return e.step1();
}).then(function() {
return e.step2();
}).then(function() {
return e.step3();
}).then(function() {
return e.step4();
});
}, t.prototype.playSound = function d() {
var e = this, t = A.openingAudio.NUGGET;
return new Promise(function(n) {
e.sound = m.Sound.load(t), e.sound && e.sound.play(), setTimeout(function() {
return n();
}, 100);
});
}, t.prototype.stopSound = function h() {
this.sound && this.sound.stop();
}, t.prototype.step1 = function y() {
var e = this, t = v["default"].screen.height / 2 - L / 2, n = {
duration: 250,
easing: "Linear"
}, r = {
duration: n.duration,
delay: n.duration,
easing: "Linear"
}, o = {
duration: n.duration / 2,
delay: n.duration / 2,
easing: "Linear"
}, a = {
duration: o.duration,
delay: o.delay + o.duration,
easing: "Linear"
}, i = {
duration: n.duration + r.duration,
easing: "Linear"
}, s = {
duration: o.duration + a.duration,
delay: o.delay,
easing: "Linear"
}, l = {
duration: $["default"].duration,
delay: 200,
easing: "CubicOut"
};
return new Promise(function(u) {
var c = 4, p = A.flare.width * c, f = A.flare.height * c, d = -50, h = -350, y = p / f, g = (d - h) * y, m = 0, b = m - g, v = 600;
e.tweens.flash1Opacity.to(.5, n), e.tweens.flash1Opacity.to(0, r), e.tweens.flash1TranslateX.set(b), 
e.tweens.flash1TranslateX.to(m, i), e.tweens.flash1TranslateY.set(h), e.tweens.flash1TranslateY.to(d, i), 
e.tweens.flash2Opacity.to(.5, o), e.tweens.flash2Opacity.to(0, a), e.tweens.flash2TranslateX.set(b + v), 
e.tweens.flash2TranslateX.to(m + v, s), e.tweens.flash2TranslateY.set(h), e.tweens.flash2TranslateY.to(d, s, u), 
e.tweens.translateY.set(t), e.tweens.opacity.to(1, l), e.tweens.scale.to(.75, l);
});
}, t.prototype.step2 = function b() {
var e = this, t = {
duration: $.image.move.duration,
easing: "CubicInOut"
}, n = {
duration: $.flare.scale.duration,
easing: "QuadraticInOut"
};
return new Promise(function(r) {
e.tweens.glowOpacity.to(1, n), e.tweens.scale.to(1, t, r);
});
}, t.prototype.step3 = function _() {
var e = this, t = {
duration: 800,
easing: "Linear"
}, n = {
duration: 250,
easing: "Linear"
}, r = {
duration: n.duration,
delay: n.duration,
easing: "Linear"
}, o = {
duration: n.duration / 2,
delay: n.duration / 2,
easing: "Linear"
}, a = {
duration: o.duration,
delay: o.delay + o.duration,
easing: "Linear"
}, i = {
duration: n.duration + r.duration,
easing: "Linear"
}, s = {
duration: o.duration + a.duration,
delay: o.delay,
easing: "Linear"
};
return new Promise(function(l) {
var u = 4, c = A.flare.width * u, p = A.flare.height * u, f = -50, d = -350, h = c / p, y = (f - d) * h, g = 300, m = g - y, b = 600;
e.tweens.flash1Opacity.to(.5, n), e.tweens.flash1Opacity.to(0, r), e.tweens.flash1TranslateX.set(m), 
e.tweens.flash1TranslateX.to(g, i), e.tweens.flash1TranslateY.set(d), e.tweens.flash1TranslateY.to(f, i), 
e.tweens.flash2Opacity.to(.5, o), e.tweens.flash2Opacity.to(0, a), e.tweens.flash2TranslateX.set(m + b), 
e.tweens.flash2TranslateX.to(g + b, s), e.tweens.flash2TranslateY.set(d), e.tweens.flash2TranslateY.to(f, s, l), 
e.tweens.scale.to(1.1, t, l);
});
}, t.prototype.step4 = function w() {
var e = this, t = {
duration: $.image.moveUp.duration
}, n = {
duration: $.parentName.opacity.duration
}, r = {
duration: $.image.move.duration,
delay: 200
}, o = {
duration: $.image.move.duration,
delay: r.delay + r.duration
}, a = {
duration: 700,
easing: "CubicOut",
delay: o.delay + 240
}, i = v["default"].screen.height / 2 - L / 2, s = 250;
return new Promise(function(l) {
var u = .75;
e.tweens.translateY.to(s, t), e.tweens.scale.to(u, t), e.tweens.itemNameTranslateY.set(i), 
e.tweens.buttonScale.to(1, r), e.tweens.buttonOpacity.to(1, r, function() {
return e.setState({
isInputEnabled: !0
});
}), e.tweens.itemNameOpacity.to(1, n), e.tweens.itemNameTranslateY.to(s, n), e.tweens.rarityTranslateY.set(S["default"].getHeight(3)), 
e.tweens.rarityTranslateY.to(S["default"].getHeight(2), o), e.tweens.rarityNameOpacity.to(1, o);
var c = A.flare.width, p = A.flare.height, f = -p / 2 + 120, d = -p + 120, h = c / p, y = (f - d) * h, g = 0, m = g - y;
e.tweens.flareRotate.set(-20), e.tweens.flareOpacity.set(0), e.tweens.flareScaleX.set(1), 
e.tweens.flareScaleY.set(1), e.tweens.flareTranslateY.set(d), e.tweens.flareTranslateX.set(m), 
e.tweens.flareTranslateX.to(g, a), e.tweens.flareTranslateY.to(f, a), e.tweens.flareOpacity.to(1, a, l);
});
}, t.prototype["continue"] = function C() {
this.props.continueCallback && "function" == typeof this.props.continueCallback && this.props.continueCallback();
}, t.prototype.render = function P() {
var e = this, t = this.props.item;
if (!t) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = t.rarenessLevel.value, r = A.getName(t.rarenessLevel.value).toUpperCase(), a = this.getHighestResolutionImage(t.images), i = t.parentName && t.parentName !== t.name ? t.parentName : null, s = "Weapon" === t.itemType || "Vehicle" === t.itemType ? '"' + t.name + '"' : t.name, l = {
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
zOffset: 1e3,
opacity: this.tweens.opacity.getStyle(),
translateX: this.tweens.translateX.getStyle(),
translateY: this.tweens.translateY.getStyle()
}, u = {
texture: a,
width: U,
height: L,
textureAtlas: "SINGLE_TEXTURE",
textureMode: "contain",
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle()
}, c = {
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
width: this.tweens.flareWidth.getStyle()
}, d = {
texture: A.flare[n],
textureAtlas: "SINGLE_TEXTURE",
zOffset: 1100,
enableMouseEvents: !1,
rotateZ: this.tweens.flareRotate.getStyle(),
blendMode: "screen",
width: this.tweens.flareWidth.getStyle(),
height: this.tweens.flareHeight.getStyle(),
position: "absolute",
top: 0,
left: 0,
translateX: this.tweens.flareTranslateX.getStyle(),
translateY: this.tweens.flareTranslateY.getStyle(),
scaleX: this.tweens.flareScaleX.getStyle(),
scaleY: this.tweens.flareScaleY.getStyle(),
opacity: this.tweens.flareOpacity.getStyle()
}, h = {
texture: A.bottomGlow[n],
width: A.bottomGlow.width,
height: A.bottomGlow.height,
opacity: this.tweens.glowOpacity.getStyle(),
blendMode: "screen",
zOffset: 10,
enableMouseEvents: !1,
position: "absolute",
left: 0,
top: 0,
translateX: k.uiState.window.width / 2 - A.bottomGlow.width / 2,
translateY: k.uiState.window.height - A.bottomGlow.height
}, y = {
zOffset: 999,
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
translateY: this.tweens.itemNameTranslateY.getStyle(),
opacity: this.tweens.itemNameOpacity.getStyle()
}, g = {
zOffset: 999,
marginBottom: S["default"].getHeight(3),
translateY: this.tweens.rarityTranslateY.getStyle(),
opacity: this.tweens.rarityNameOpacity.getStyle(),
color: A.rgb[n]
}, m = {
zOffset: 1e3,
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
scaleY: this.tweens.buttonScale.getStyle(),
scaleX: this.tweens.buttonScale.getStyle(),
opacity: this.tweens.buttonOpacity.getStyle()
}, b = {
marginTop: 2 * S["default"].GUTTER,
height: S["default"].getHeight(6),
width: S["default"].getWidth(8)
}, v = p({
width: k.uiState.window.width,
height: k.uiState.window.height
}, D), _ = p({
texture: A.flare[n],
width: A.flare.width,
height: A.flare.height,
rotateZ: -20,
blendMode: "screen",
enableMouseEvents: !1
}, D), w = p({}, _, {
zOffset: 1600,
scaleX: 4,
scaleY: 4,
translateX: this.tweens.flash1TranslateX.getStyle(),
translateY: this.tweens.flash1TranslateY.getStyle(),
opacity: this.tweens.flash1Opacity.getStyle()
}), I = p({}, _, {
zOffset: 1601,
scaleX: 4.5,
scaleY: 4.5,
translateX: this.tweens.flash2TranslateX.getStyle(),
translateY: this.tweens.flash2TranslateY.getStyle(),
opacity: this.tweens.flash2Opacity.getStyle()
}), C = __("ID_SPARTA_ACTION_BATTLEPACKS_ADD_TO_INVENTORY");
return "BLUEPRINT" === t.itemType && (C = __("ID_SPARTA_ACTION_BATTLEPACKS_ADD_TO_PUZZLES")), 
{
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: w
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: I
},
_owner: null
}, {
$$typeof: f,
type: x.PopupContainer,
key: null,
ref: null,
props: o(x.PopupContainer.defaultProps, {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: d
},
_owner: null
},
style: c
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: u
},
_owner: null
},
style: l
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: T.Text,
key: null,
ref: null,
props: o(T.Text.defaultProps, {
value: i,
size: "M"
}),
_owner: null
}, {
$$typeof: f,
type: T.Text,
key: null,
ref: null,
props: o(T.Text.defaultProps, {
value: s,
size: "L"
}),
_owner: null
}, {
$$typeof: f,
type: T.Text,
key: null,
ref: null,
props: o(T.Text.defaultProps, {
value: r,
style: g,
size: "M"
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
text: C,
style: b,
action: function() {
return e["continue"]();
},
disabled: !this.state.isInputEnabled
}),
_owner: null
}, {
$$typeof: f,
type: O["default"],
key: null,
ref: null,
props: o(O["default"].defaultProps, {
item: t,
style: b,
onSuccess: function() {
return e["continue"]();
},
disabled: !this.state.isInputEnabled
}),
_owner: null
} ],
style: m
},
_owner: null
} ],
style: y
},
_owner: null
} ],
style: {
justifyContent: "flex-start"
}
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: h
},
_owner: null
} ],
style: v
},
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackOpenedNugget")(t) || t, t = R.observer(t) || t;
}(h.Component);
G.propTypes = {
item: h.PropTypes.object.isRequired,
continueCallback: h.PropTypes.func.isRequired
}, t["default"] = G, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return U(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = r(d), y = n(3), g = r(y), m = n(5), b = r(m), v = n(17), _ = l(v), S = n(6), T = l(S), w = n(22), E = l(w), I = n(16), C = n(62), A = n(94), P = r(A), O = n(20), R = l(O), k = n(12), x = l(k), M = n(13), N = l(M), D = {
_$TunguskaBattlepackVideo: {
displayName: "TunguskaBattlepackVideo"
}
}, U = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackVideo.jsx",
components: D,
locals: [],
imports: []
}), L = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, $ = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
video: null,
videoHasStarted: !1,
videoHasCompleted: !1
}, this.tweens = {
videoOpacity: I.Animation.tween("b252771e:28", 0)
};
}
i(t, e), t.prototype.componentWillMount = function r() {
this.loadVideo();
}, t.prototype.componentDidMount = function l() {
this.playVideo(), this.fadeInVideo();
}, t.prototype.componentWillUnmount = function u() {
b.each(this.tweens, function(e) {
return e.destroy();
}), this.stopVideo();
}, t.prototype.getInput = function c() {
var e = this;
return !this.state.videoHasStarted || this.state.videoHasCompleted ? [] : [ new N["default"]({
action: function t() {
return e.stopVideo();
},
label: __("ID_SPARTA_ACTION_BATTLEPACKS_SKIP_VIDEO"),
key: x["default"].Accept
}) ];
}, t.prototype.loadVideo = function d() {
var e = this.props.pack, t = b.find(e.items, function(e) {
return !e.nugget;
}), n = e.rarenessLevel && e.rarenessLevel.value || 0, r = Math.min(t && t.rarenessLevel && t.rarenessLevel.value || 0, P.videos[n].length - 1), o = P.videos[n][r], a = g.video.loadVideo(o);
a.loop = !1, a.setVolume(1), this.setState({
video: a
});
}, t.prototype.playVideo = function h() {
var e = this, t = this.state.video;
this._failTimeout = setTimeout(function() {
e.stopVideo();
}, 1e4), t && !t.isPlaying && (setTimeout(function() {
t.play(), e.setState({
videoHasStarted: !0
});
}, 400), this.unsubVideo = g.events.onVideoStopped.listen(function(n) {
n === t.id && e.videoHasCompleted();
}));
}, t.prototype.videoHasCompleted = function y() {
clearTimeout(this._failTimeout), this.setState({
videoHasCompleted: !0
}), this.props.onVideoComplete(), this.videoHasCompleted = function() {};
}, t.prototype.stopVideo = function m() {
this.unsubVideo && this.unsubVideo(), this.state.video && this.state.video.stop(), 
this.videoHasCompleted();
}, t.prototype.fadeInVideo = function v() {
var e = this;
return new Promise(function(t) {
e.tweens.videoOpacity.set(.4), e.tweens.videoOpacity.to(1, {
duration: 200,
delay: 400
}, t);
});
}, t.prototype.render = function S() {
var e = this, t = f({
zOffset: 7,
opacity: this.tweens.videoOpacity.getStyle(),
width: C.uiState.window.width,
height: C.uiState.window.height,
texture: P.backgroundEnd,
video: this.state.video && this.state.video.id
}, L), n = f({
zOffset: 1,
backgroundColor: "#000000",
opacity: 1,
layer: !0,
layerGrabBackground: !0
}, L), r = {
zOffset: 10,
height: T["default"].getHeight(4),
width: T["default"].getWidth(3),
left: _["default"].dangerZoneSize.width,
top: C.uiState.window.height - _["default"].dangerZoneSize.height - T["default"].getHeight(6)
}, a = void 0;
return SpartaGlobals.bundleIsPC && this.state.videoHasStarted && !this.state.videoHasCompleted && (a = {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
action: function() {
return e.stopVideo();
},
text: __("ID_SPARTA_ACTION_BATTLEPACKS_SKIP_VIDEO"),
textSize: "XS",
style: r
}),
_owner: null
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
}, a, this.props.children ],
style: n
},
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackVideo")(t) || t, t = R["default"]()(t) || t;
}(h.Component);
t["default"] = $, $.propTypes = {
onVideoComplete: h.PropTypes.func.isRequired
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return L(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(483), h = s(d), y = n(14), g = s(y), m = n(39), b = n(18), v = s(b), _ = n(157), S = s(_), T = n(107), w = s(T), E = n(457), I = s(E), C = n(450), A = s(C), P = n(451), O = s(P), R = n(455), k = s(R), x = n(106), M = n(57), N = n(49), D = s(N), U = {
_$TunguskaBattlepacks: {
displayName: "TunguskaBattlepacks"
}
}, L = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepacks.jsx",
components: U,
locals: [],
imports: []
}), $ = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
m.routeIsHostingGame() ? (M.initialFetch.trigger(), D["default"].updateOffers([ "tunguska" ])) : m.showNotInHostingGameAlert().then(function() {
return v["default"].goBackInHistory();
});
}, t.prototype.getTabs = function l() {
var e = this.state.balance.battlepacks > 0 ? " (" + this.state.balance.battlepacks + ")" : "";
return [ {
name: "unopened",
title: function t() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_UNOPENED") + e;
},
component: I["default"],
onSelect: this.updateTab.bind(this, "unopened")
}, {
name: "get",
title: function n() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_GET");
},
component: A["default"],
onSelect: this.updateTab.bind(this, "get")
}, {
name: "puzzle",
title: function r() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_PUZZLES");
},
component: k["default"],
onSelect: this.updateTab.bind(this, "puzzle")
}, {
name: "inventory",
title: function o() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_INVENTORY");
},
component: O["default"],
onSelect: this.updateTab.bind(this, "inventory")
} ];
}, t.prototype.updateTab = function u(e) {
this.setState({
activeTab: e
});
}, t.prototype.render = function p() {
var e = this.state.balance && this.state.balance.scraps || 0, t = {
$$typeof: c,
type: x.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(x.TunguskaBattlepackScraps.defaultProps, {
size: "S",
prefix: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS").toUpperCase(),
value: e,
animated: !0
}),
_owner: null
};
return {
$$typeof: c,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
tabs: this.getTabs(),
header: t
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaBattlepacks")(t) || t, t = g["default"]({
unopened: S["default"],
balance: w["default"]
})(t) || t;
}(f["default"].Component);
t["default"] = $, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!t.currentMedals) return [];
var n = i["default"].flatten(i["default"].map(e, function(e) {
return e.items;
})), r = t.richData, o = t.selectedMedal;
return t.currentMedals.map(function(e) {
var t, a = e.awardCode || e.id, s = r ? a : a.substring(0, 3), l = r ? e.currentStage && e.currentStage.awardCode : a, u = i["default"].find(n, function(e) {
return e.code === s;
});
if (u && (t = i["default"].find(u.stages, function(e) {
return e.code === l;
})), r) {
var c = e.currentStage;
return new d["default"]({
id: s,
imageUrl: u && u.images.Small,
displayName: u && u.name,
description: u && u.description,
completion: {
done: Math.floor(e.totalProgression / 1e3),
needed: e.numMedalStages,
completed: e.completed,
percentage: e.totalProgression / (1e3 * e.numMedalStages)
},
currentStage: c && {
code: c.awardCode,
name: t && t.name,
description: t && t.description,
completion: {
done: c.progression,
needed: c.stage
}
},
stages: u.stages,
isTracked: o === s && !e.completed
});
}
return u ? new d["default"]({
id: s,
imageUrl: u.images.Small,
displayName: u.name,
description: u.description,
completion: u.progression && {
done: u.progression.acquired,
needed: u.progression.needed,
completed: u.progression.unlocked
},
currentStage: t && {
code: t.code,
name: t.name,
description: t.description,
completion: t.progression && {
completed: t.progression.unlocked,
done: t.progression.valueAcquired,
needed: t.progression.valueAcquired
}
},
stages: u.stages,
isTracked: void 0 !== u.progression ? o === s && !u.progression.unlocked : o === s
}) : new d["default"]({
id: s,
isTracked: o === s
});
});
}
t.__esModule = !0;
var a = n(5), i = r(a), s = n(44), l = n(21), u = r(l), c = n(34), p = r(c), f = n(468), d = r(f), h = n(268), y = r(h), g = n(214), m = r(g), b = n(3), v = n(124), _ = n(8), S = u["default"].createClient({
throttle: 2e3,
requestOn: [ v.frostbiteListenable("tunguska.currentMedalsResponse") ],
initialize: function w() {
p["default"].getTrackableMedals.listen(function() {
b.frostbite.sendMessage("tunguska.currentMedalsRequest");
});
},
shouldPerformRequest: function E() {
return _.onlineState.isPresenceReady;
},
request: function I(e) {
return new Promise(function(e) {
var t = m["default"].getState()[s.tunguskaGameId];
if (t) e(t); else {
var n = m["default"].scope(s.tunguskaGameId).listen(function(t) {
n(), e(t);
});
_.onlineState.isOnlineBlazeAndGateway && y["default"].trigger(s.tunguskaGameId);
}
});
},
parse: function C(e, t) {
return o(e, t);
},
update: function A(e) {
e && p["default"].setTrackableMedals(e);
}
});
t.fetcher = S;
var T = u["default"].createClient({
requestOn: [ p["default"].setTrackedMedal ],
request: function P(e) {
return new Promise(function(t) {
b.frostbite.sendMessage("tunguska.selectMedal", {
awardCode: e.id
}), t();
});
},
parse: function O(e) {},
update: function R(e) {}
});
t.tracker = T;
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return N(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(9), y = n(698), g = s(y), m = n(161), b = s(m), v = n(607), _ = n(823), S = s(_), T = n(824), w = s(T), E = n(822), I = s(E), C = n(821), A = s(C), P = n(820), O = s(P), R = n(825), k = s(R), x = n(188), M = {
_$TunguskaGameView: {
displayName: "TunguskaGameView"
}
}, N = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/TunguskaGameView.jsx",
components: M,
locals: [],
imports: []
}), D = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getComponent = function s() {
if (/playing\/wwcesupport\/help/.test(this.props.gameViewState.route)) return I["default"];
var e = this.props.gameViewState.subRoute ? this.props.gameViewState.subRoute.split("?")[0] : "";
switch (e) {
case "rspadmin":
return v.RSPAdmin;

case "battlepacks":
return O["default"];

case "medals":
return k["default"];
}
switch (this.props.gameViewState.route) {
case "playing":
return w["default"];

case "eor":
return A["default"];

case "loading":
return S["default"];
}
return h.action("56721a5d:46", function() {
x.backgroundState.isVisible = !1;
}), null;
}, t.prototype.render = function l() {
var e = this.getComponent();
if (e) {
var t = d["default"].createElement(e, p({
ref: "route"
}, this.props));
return {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
children: t,
transitionId: this.props.gameViewState.route,
duration: 50
}),
_owner: null
};
}
return null;
};
var n = t;
return t = i("_$TunguskaGameView")(t) || t, t = g["default"]({
ref: "route",
id: function u(e) {
return e.gameViewState.route + "_" + e.gameViewState.isVisible;
}
})(t) || t;
}(d["default"].Component);
t["default"] = D, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return C(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(3), g = r(y), m = n(7), b = n(6), v = l(b), _ = n(54), S = l(_), T = n(11), w = n(16), E = n(10), I = {
_$Box: {
displayName: "Box"
}
}, C = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/Box.jsx",
components: I,
locals: [],
imports: []
}), A = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, P = "#ffffff", O = "#00000050", R = {
justifyContent: "center",
alignItems: "center"
}, k = v["default"].GUTTER / 2, x = v["default"].content.colSpan(5), M = 2 * x, N = 300, D = {
duration: 6 * N,
easing: "CubicInOut",
delay: N
}, U = {
box: {
borderRadius: k
},
title: f({}, R, {
padding: v["default"].GUTTER,
marginBottom: v["default"].GUTTER,
borderRadius: [ k, k, 0, 0 ]
}),
content: f({}, R, {
flex: 1,
zOffset: 1
}),
bottom: f({}, R, {
padding: v["default"].GUTTER
}),
shimmer: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 4,
texture: T.bbOfflineUrl("/sparta/assets/ui/cards/shine-tiny-974103c1.png"),
textureMode: "none",
textureScale: 5
}
}, L = function(e) {
function t(t) {
if (a(this, n), e.call(this, t), !t.focusItem) throw new Error("No focusItem passed to <Box>");
this.tweens = {
shimmer: w.Animation.tween("4e7e51fc:69", -M)
};
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this;
this.firstLaunch = setTimeout(function() {
return e.shimmer();
}, 3e3), this.repeat = setInterval(function() {
return e.shimmer();
}, 1e4);
}, t.prototype.componentWillUnmount = function l() {
clearInterval(this.repeat), clearTimeout(this.firstLaunch);
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.shimmer = function u() {
this.props.shimmer && (this.tweens.shimmer.to(M, D), this.tweens.shimmer.set(-M));
}, t.prototype.render = function c() {
var e = this.props.focusItem.isFocused, t = f({}, U.box, {
width: this.props.width,
height: this.props.height,
backgroundColor: e ? P : O
}, this.props.style), n = {
color: e ? "#000000" : "#ffffff",
size: "XS",
style: {
zOffset: 1
}
}, r = {
opacity: 1,
textureOffsetY: this.tweens.shimmer.getStyle()
}, a = this.props.title && {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(m.Text, f({
value: this.props.title.toUpperCase(),
type: "emphasis"
}, n)),
style: U.title
},
_owner: null
}, i = this.props.children || [], s = Array.isArray(i) ? i : [ i ];
s = s.map(function(e, t) {
return null == e ? e : e.props.style && (e.props.style.backgroundColor || e.props.style.texture) ? h["default"].cloneElement(e, {
key: t
}) : h["default"].cloneElement(e, {
key: t,
style: f({}, e.props.style, {
color: n.color
})
});
});
var l = this.props.bottom || [];
return l = "string" == typeof l ? {
$$typeof: p,
type: m.Text,
key: null,
ref: null,
props: o(m.Text.defaultProps, {
value: l
}),
_owner: null
} : l, l = Array.isArray(l) ? l : [ l ], l = l.map(function(e, t) {
var r = f({}, e.props.style, n.style);
return h["default"].cloneElement(e, f({
key: t
}, e.props, n, {
style: r
}));
}), {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ U.shimmer, r ]
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: s,
style: U.content
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: l,
style: U.bottom
},
_owner: null
} ],
style: f({}, A, {
zOffset: 10
})
},
_owner: null
} ],
input: this.props.input,
style: t,
focusItem: this.props.focusItem,
triggerMode: "after"
}),
_owner: null
};
};
var n = t;
return t = s("_$Box")(t) || t, t = E.observer(t) || t;
}(h["default"].Component);
t["default"] = L, L.propTypes = {
focusItem: h["default"].PropTypes.instanceOf(g.focus.FocusItem),
title: h["default"].PropTypes.string
}, L.defaultProps = {
shimmer: !0,
width: v["default"].window.xParts(6),
height: .65 * v["default"].window.xParts(6)
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = e.height, n = e.shouldUpdate, r = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: A.pcButtonBorder
},
_owner: null
};
return {
$$typeof: d,
type: v["default"],
key: null,
ref: null,
props: a(v["default"].defaultProps, {
height: t,
shouldUpdate: n,
labelType: "normal",
iconSize: 24,
labelDecoration: r,
styleSheetOverride: A,
useHorizontalMargin: !0
}),
_owner: null
};
}
function u(e) {
var t = e.inputs, n = e.height, r = e.small, o = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: f({}, A.pcButtonBorder, A.pcButtonBorderLarge)
},
_owner: null
}, i = t.map(function(e, t) {
return {
$$typeof: d,
type: S["default"],
key: t,
ref: null,
props: a(S["default"].defaultProps, {
height: n,
label: e.label,
inputKey: e.key,
action: e.action,
large: !r,
labelType: "normal",
labelDecoration: o,
iconSize: 30,
styleSheetOverride: A
}),
_owner: null
};
});
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: i,
style: {
flexDirection: "row"
}
},
_owner: null
};
}
var c = n(4), p = s(c);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = s(h), g = n(6), m = s(g), b = n(481), v = s(b), _ = n(85), S = s(_), T = n(13), w = s(T), E = n(58), I = {
_$ButtonsGroup: {
displayName: "ButtonsGroup"
}
}, C = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/ButtonsGroup.jsx",
components: I,
locals: [],
imports: []
}), A = {
pcButton: {
alignItems: "center",
justifyContent: "center",
margin: [ 0, m["default"].GUTTER / 2, 0, m["default"].GUTTER / 2 ],
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000090",
padding: [ 2, 3 * m["default"].GUTTER, 2, 3 * m["default"].GUTTER ],
height: m["default"].getHeight(5)
},
pcButtonLarge: {
height: m["default"].getHeight(7),
margin: [ 0, m["default"].GUTTER / 2, 0, m["default"].GUTTER / 2 ]
},
pcButtonHovered: {
backgroundColor: "#ffffff25"
},
pcButtonInverted: {
backgroundColor: "#00000011"
},
pcButtonInvertedHovered: {
backgroundColor: "#00000033"
},
pcButtonBorder: {
zOffset: 1,
position: "absolute",
right: 0,
bottom: 0,
left: 0,
height: 2,
backgroundColor: "#ffffff",
opacity: .8
},
pcButtonBorderLarge: {
height: 4
},
pcButtonInvertedBorder: {},
label: {
color: "#ffffff",
zOffset: 2
},
labelInverted: {
color: [ 0, 0, 0, 200 ]
},
labelContainer: {
alignItems: "center",
justifyContent: "center",
margin: [ 0, m["default"].GUTTER / 2, 0, m["default"].GUTTER / 2 ],
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000080",
opacity: .8,
padding: [ 2, 1.5 * m["default"].GUTTER, 4, 1.5 * m["default"].GUTTER ],
height: SpartaGlobals.bundleIsConsole ? 32 : m["default"].window.rowSpan(4),
zOffset: 1
},
labelContainerLarge: {
height: m["default"].getHeight(5),
padding: [ 2, 1.5 * m["default"].GUTTER, 4, 1.5 * m["default"].GUTTER ]
}
}, P = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.getChildContext = function s() {
return {
fonts: {
normal: E.localeState.fonts.tunguska.normal,
emphasis: E.localeState.fonts.tunguska.emphasis,
letterSpacing: 10
}
};
}, t.prototype.render = function c() {
var e = this.props.custom ? {
$$typeof: d,
type: u,
key: null,
ref: null,
props: a(u.defaultProps, {
inputs: this.props.custom,
height: this.props.height,
small: this.props.small
}),
_owner: null
} : {
$$typeof: d,
type: l,
key: null,
ref: null,
props: a(l.defaultProps, {
shouldUpdate: this.props.shouldUpdate,
height: this.props.height
}),
_owner: null
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: f({
flexDirection: "row"
}, this.props.style, {
zOffset: 130001
})
},
_owner: null
};
};
var n = t;
return t = i("_$ButtonsGroup")(t) || t;
}(y["default"].Component);
t["default"] = P, P.propTypes = {
custom: y["default"].PropTypes.arrayOf(y["default"].PropTypes.instanceOf(w["default"])),
height: y["default"].PropTypes.number,
shouldUpdate: y["default"].PropTypes.bool
}, P.childContextTypes = {
fonts: y["default"].PropTypes.shape({
normal: y["default"].PropTypes.any,
emphasis: y["default"].PropTypes.any,
letterSpacing: y["default"].PropTypes.number
})
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return P(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(7), g = n(6), m = l(g), b = n(13), v = l(b), _ = n(12), S = l(_), T = n(3), w = r(T), E = n(10), I = n(20), C = l(I), A = {
_$GameViewTab: {
displayName: "GameViewTab"
}
}, P = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/GameViewTab.jsx",
components: A,
locals: [],
imports: []
}), O = m["default"].window.rowSpan(4), R = {
textStyle: {
alignSelf: "center",
zOffset: 2
},
textActive: {
color: "#000000"
},
textActiveHover: {
color: "#000000"
},
tabNormal: {
flex: 0,
alignItems: "center",
flexDirection: "column",
justifyContent: "center",
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000090",
padding: [ 2, 0, 0, 0 ],
width: m["default"].window.colSpan(4),
height: O
},
tabActive: {
backgroundColor: "#ffffff"
},
tabActiveHover: {
backgroundColor: "#ffffff"
},
tabHover: {
backgroundColor: "#ffffff25"
},
tabBorder: {
zOffset: 1,
height: 2,
backgroundColor: "#efefef",
width: m["default"].window.colSpan(4)
},
tabContainer: {
margin: [ 0, m["default"].GUTTER / 2, 0, m["default"].GUTTER / 2 ]
}
}, k = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = w.focus.create(this, "gameviewtab_" + t.text), 
SpartaGlobals.bundleIsPC ? this.focusItem.setClickInput(new v["default"]({
action: t.onClick,
label: t.text,
key: S["default"].Accept
})) : this.focusItem.setActive("gameviewtab_" + t.text, !1);
}
i(t, e), t.prototype.render = function r() {
var e = {}, t = {}, n = this.props.active;
n && this.focusItem.isHovered ? (t = R.tabActiveHover, e = R.textActiveHover) : n ? (t = R.tabActive, 
e = R.textActive) : this.focusItem.isHovered && (t = R.tabHover);
var r = this.props.text.toUpperCase(), a = this.props.bordered && {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: R.tabBorder
},
_owner: null
};
return h["default"].createElement("surface", p({
style: R.tabContainer
}, this.focusItem.hooks), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: y.Text,
key: null,
ref: null,
props: o(y.Text.defaultProps, {
size: "S",
value: r,
type: "emphasis",
style: [ R.textStyle, e ]
}),
_owner: null
},
style: [ R.tabNormal, t ]
},
_owner: null
}, a);
};
var n = t;
return t = s("_$GameViewTab")(t) || t, t = C["default"]()(t) || t, t = E.observer(t) || t;
}(h["default"].Component);
t["default"] = k, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return w(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = s(d), y = n(433), g = s(y), m = n(7), b = n(161), v = s(b), _ = n(6), S = s(_), T = {
_$Hints: {
displayName: "Hints"
}
}, w = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/Hints.jsx",
components: T,
locals: [],
imports: []
}), E = 1e4, I = 1e3, C = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
hint: ""
}, this.hints = [];
}
a(t, e), t.prototype.componentDidMount = function s() {
this.hints = g["default"].getHints(this.props.gameMode, this.props.map), this.startRotator();
}, t.prototype.componentWillUnmount = function l() {
this.stopRotator();
}, t.prototype.startRotator = function u() {
this.hints.length > 0 && (this.setState({
hint: this.hints[0]
}), clearTimeout(c), c = setTimeout(this.updateRotator.bind(this, 0), E));
}, t.prototype.updateRotator = function d(e) {
this.hints.length - 1 === e && (e = -1);
var t = e + 1;
this.setState({
hint: this.hints[t]
}), clearTimeout(c), c = setTimeout(this.updateRotator.bind(this, t), E);
}, t.prototype.stopRotator = function h() {
clearTimeout(c);
}, t.prototype.render = function y() {
if (!this.state.hint) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var e = p({
textAlignForRTL: "left",
width: S["default"].getWidth(18),
marginTop: S["default"].GUTTER
}, this.props.style);
return {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
children: {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: this.state.hint,
style: e,
size: "XS",
section: this.props.gameId
}),
_owner: null
},
transitionId: this.state.hint,
duration: I,
style: e
}),
_owner: null
};
};
var n = t;
return t = i("_$Hints")(t) || t;
}(h["default"].Component);
t["default"] = C, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return b(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = i(p), d = n(59), h = i(d), y = n(807), g = i(y), m = {
_$TunguskaMenu: {
displayName: "TunguskaMenu"
}
}, b = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/Menu.jsx",
components: m,
locals: [],
imports: []
}), v = {
position: "absolute",
top: 0,
left: -1,
bottom: 0,
width: 1,
backgroundColor: [ 230, 230, 230, 204 ],
zOffset: 10
}, _ = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = null;
return this.props.leftBorderWidth && (e = {
width: this.props.leftBorderWidth
}), f["default"].createElement(h["default"], u({}, this.props, {
divider: "none",
listItemComponent: g["default"]
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ v, e ]
},
_owner: null
});
};
var n = t;
return t = a("_$TunguskaMenu")(t) || t;
}(f["default"].Component);
t["default"] = _, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(3), y = n(20), g = s(y), m = n(13), b = s(m), v = n(12), _ = s(v), S = n(6), T = s(S), w = n(7), E = n(10), I = {
_$TunguskaMenuItem: {
displayName: "TunguskaMenuItem"
}
}, C = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/MenuItem.jsx",
components: I,
locals: [],
imports: []
}), A = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = h.focus.create(this, "tunguska_menuitem_" + t.label), 
this.focusItem.autoFocusCandidate = !0;
}
a(t, e), t.prototype.getInput = function s() {
if (this.focusItem.isFocused) {
if (this.props.input) return this.props.input;
if (this.props.action) return [ new b["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: _["default"].Accept,
action: this.props.action
}) ];
}
return [];
}, t.prototype.triggerInput = function l() {
var e = this.getInput();
e && (e = Array.isArray(e) ? e : [ e ], e.forEach(function(e) {
return e.action();
}));
}, t.prototype.render = function u() {
var e = this, t = p({
zOffset: 1,
backgroundColor: this.focusItem.isFocused ? "#ffffff" : void 0,
padding: [ T["default"].GUTTER, T["default"].GUTTER, T["default"].GUTTER, 2 * T["default"].GUTTER ],
borderRadius: [ 0, T["default"].GUTTER / 2, T["default"].GUTTER / 2, 0 ]
}, this.props.style), n = {
color: this.focusItem.isFocused ? "#000000" : "#ffffff",
zOffset: 1,
textAlignForRTL: "left"
};
return d["default"].createElement("surface", p({
style: t
}, this.focusItem.hooks, {
onClick: function() {
return e.triggerInput();
}
}), {
$$typeof: c,
type: "test",
key: null,
ref: null,
props: {
group: "menuitem",
label: this.props.label,
action: function() {
return e.triggerInput();
}
},
_owner: null
}, {
$$typeof: c,
type: w.Text,
key: null,
ref: null,
props: r(w.Text.defaultProps, {
value: this.props.label.toUpperCase(),
style: n,
size: this.props.labelSize,
type: "emphasis"
}),
_owner: null
});
};
var n = t;
return t = i("_$TunguskaMenuItem")(t) || t, t = g["default"]()(t) || t, t = E.observer(t) || t;
}(d["default"].Component);
t["default"] = A, A.defaultProps = {
labelSize: "M"
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return b(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(10), h = n(7), y = n(145), g = n(30), m = {
_$NextRoundCountDown: {
displayName: "NextRoundCountDown"
}
}, b = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/NextRoundCountDown.jsx",
components: m,
locals: [],
imports: []
}), v = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillUpdate = function s(e) {
y.nextRoundCountDown.timeLeft < 1 && y.nextRoundCountDown.active && e.gameState.isReady && (y.nextRoundCountDown.stop(), 
this.props.callback && this.props.callback());
}, t.prototype.render = function l() {
var e = y.nextRoundCountDown.timeLeft || 0, t = e.toString(), n = __("ID_SPARTA_HELP_LOADING"), o = void 0 !== this.props.text ? this.props.text : __("ID_SPARTA_GAMESTATE_NEXT_ROUND_STARTS_IN");
if (!y.nextRoundCountDown.active) return null;
1 > e && !this.props.gameState.isReady && (o = n, t = null);
var a = g.isRTLLanguage() ? {
marginRight: 15,
width: 50
} : {
marginLeft: 15,
width: 50
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: g.localeRearrange([ {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: o.toUpperCase(),
size: "M"
}),
_owner: null
}, {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: t,
size: "M",
style: a
}),
_owner: null
} ]),
style: this.props.style
},
_owner: null
};
};
var n = t;
return t = i("_$NextRoundCountDown")(t) || t, t = d.observer(t) || t;
}(f["default"].Component);
t["default"] = v, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return m(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(7), h = n(161), y = s(h), g = {
_$PulsatingText: {
displayName: "PulsatingText"
}
}, m = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/PulsatingText.jsx",
components: g,
locals: [],
imports: []
}), b = 2e3, v = 1300, _ = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
value: "first"
}, this.timeout = null;
}
a(t, e), t.prototype.componentDidMount = function s() {
this.startPulsating();
}, t.prototype.componentWillReceiveProps = function l(e) {
e.text && this.props.text && e.text !== this.props.text && (this.stopPulsating(), 
this.setState({
value: "first"
}), this.startPulsating());
}, t.prototype.componentWillUnmount = function u() {
this.stopPulsating();
}, t.prototype.startPulsating = function p() {
clearTimeout(this.timeout), this.timeout = setTimeout(this.continuePulsating.bind(this), b);
}, t.prototype.continuePulsating = function f() {
var e = "second" === this.state.value ? "first" : "second";
this.setState({
value: e
}), clearTimeout(this.timeout), this.timeout = setTimeout(this.continuePulsating.bind(this), b + v);
}, t.prototype.stopPulsating = function h() {
clearTimeout(this.timeout);
}, t.prototype.render = function g() {
return {
$$typeof: c,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
children: {
$$typeof: c,
type: d.Text,
key: null,
ref: null,
props: r(d.Text.defaultProps, {
value: this.props.text.toUpperCase()
}),
_owner: null
},
transitionId: this.state.value,
duration: v,
style: this.props.style
}),
_owner: null
};
};
var n = t;
return t = i("_$PulsatingText")(t) || t;
}(f["default"].Component);
t["default"] = _, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return R(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(3), y = n(7), g = n(6), m = s(g), b = n(16), v = n(5), _ = s(v), S = n(11), T = n(10), w = n(54), E = s(w), I = n(13), C = s(I), A = n(12), P = s(A), O = {
_$AwardCarousel: {
displayName: "AwardCarousel"
},
_$AwardCarouselItem: {
displayName: "AwardCarouselItem"
}
}, R = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/AwardCarousel.jsx",
components: O,
locals: [],
imports: []
}), k = [ S.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Personal_Tick_01-f761a7ee.wav"), S.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Personal_Tick_02-79e9579e.wav"), S.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Personal_Tick_03-67faa4b4.wav"), S.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Personal_Tick_04-e4ab4f8c.wav") ], x = {
back: {
normal: S.bbOfflineUrl("/sparta/jsclient/builds/assets/left_white-03807e66.png"),
hover: S.bbOfflineUrl("/sparta/jsclient/builds/assets/left_black-fab2d5b9.png")
},
forward: {
normal: S.bbOfflineUrl("/sparta/jsclient/builds/assets/right_white-8a3f8212.png"),
hover: S.bbOfflineUrl("/sparta/jsclient/builds/assets/right_black-bdf62701.png")
}
}, M = S.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), N = 1165, D = 853, U = 180, L = 2 * m["default"].GUTTER, $ = {
awardCarousel: {
flex: 2,
width: m["default"].window.colSpan(12) + m["default"].GUTTER,
flexDirection: "column",
justifyContent: "flex-end",
marginTop: L
},
awardsWrapper: {
width: m["default"].window.colSpan(12) + m["default"].GUTTER,
flexDirection: "row",
justifyContent: "flex-start"
},
buttonContainer: {
flexDirection: "row",
justifyContent: "flex-end",
position: "absolute",
top: 0,
right: 0,
width: m["default"].getHeight(8) + 2 * m["default"].GUTTER
},
button: {
flexDirection: "column",
alignItems: "center",
justifyContent: "center",
backgroundColor: "#00000080",
width: m["default"].getHeight(6),
height: U
},
focusedButton: {
backgroundColor: "#ffffff"
},
iconBack: {
height: m["default"].getHeight(5),
width: m["default"].getHeight(5),
marginRight: m["default"].GUTTER / 2,
texture: x.back.normal
},
iconForward: {
height: m["default"].getHeight(5),
width: m["default"].getHeight(5),
marginLeft: m["default"].GUTTER / 2,
texture: x.forward.normal
},
iconBackHover: {
texture: x.back.hover
},
iconForwardHover: {
texture: x.forward.hover
},
awardItem: {
marginRight: m["default"].GUTTER,
borderRadius: [ 4, 4, 4, 4 ],
width: U,
height: U,
backgroundColor: "#00000080",
alignItems: "center",
justifyContent: "center"
},
focusedAwardItem: {
scaleX: 1.0051,
scaleY: 1.0051,
backgroundColor: "#efefef"
},
awardImageCodex: {
width: 113,
height: 160
},
awardImageMedal: {
width: 160,
height: 160
},
awardImageDogtag: {
width: 160,
height: 160
},
awardImageStar: {
width: 160,
height: 160
},
awardImageRibbon: {
width: 160,
height: 160
},
info: {
content: {
position: "absolute",
left: 0,
top: U + 3 * m["default"].GUTTER
},
wrapper: {
flexDirection: "column"
},
header: {
flexDirection: "row"
},
description: {
marginTop: m["default"].GUTTER
},
title: {
marginRight: m["default"].GUTTER
},
xp: {
color: "#ffffff",
marginTop: m["default"].GUTTER,
opacity: .8
}
}
}, G = function(e) {
function t(t) {
o(this, n), e.call(this, t);
var r = t.items || [];
this.state = {
focusedItem: null,
batchIndex: 0,
batchedItems: this.createBatches(r)
}, this.focusGroup = h.focus.createGroup("awardcarousel");
}
a(t, e), t.prototype.componentWillUnmount = function s() {
this.focusGroup.destroy();
}, t.prototype.createBatches = function l(e) {
for (var t = [], n = 4, r = 0; r < e.length; r += n) {
var o = e.slice(r, r + n);
t.push(o);
}
return t;
}, t.prototype.goToBatch = function u(e) {
var t = this, n = this.state.batchIndex, r = n + e;
r >= 0 && r < this.state.batchedItems.length && this.setState({
batchIndex: r
}, function() {
h.focus.system.controllerMode && t.resetFocusAfterPagination(e);
});
}, t.prototype.resetFocusAfterPagination = function c(e) {
if (e > 0) {
var t = this.focusGroup.members[0];
t && t.setFocused(h.focus.FocusSource.Auto);
} else {
var t = this.focusGroup.members[this.focusGroup.members.length - 1];
t && t.setFocused(h.focus.FocusSource.Auto);
}
}, t.prototype.focusItem = function f(e) {
this.setState({
focusedItem: e
});
}, t.prototype.render = function d() {
var e = this, t = null, n = this.state.batchedItems[this.state.batchIndex] || [], o = this.state.batchIndex < this.state.batchedItems.length - 1, a = this.state.batchIndex > 0, i = n.map(function(t, n) {
return {
$$typeof: p,
type: B,
key: "aw-" + n,
ref: null,
props: r(B.defaultProps, {
item: t,
focusGroup: e.focusGroup,
onFocus: e.focusItem.bind(e, n),
index: n,
skipAnimation: e.props.skipAnimation
}),
_owner: null
};
}), s = n[this.state.focusedItem];
if (s) {
var l = s.score || 0, u = s.title || "", c = l > 0 ? {
$$typeof: p,
type: y.Text,
key: null,
ref: null,
props: r(y.Text.defaultProps, {
value: l + " " + __("ID_SPARTA_GENERIC_XP"),
size: "S",
style: $.info.xp
}),
_owner: null
} : null;
t = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: y.Text,
key: null,
ref: null,
props: r(y.Text.defaultProps, {
value: u,
size: "M",
type: "emphasis",
style: $.info.title
}),
_owner: null
}, c ],
style: $.info.header
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: y.Text,
key: null,
ref: null,
props: r(y.Text.defaultProps, {
value: s.description,
size: "S"
}),
_owner: null
},
style: $.info.description
},
_owner: null
} ],
style: $.info.wrapper
},
_owner: null
};
}
var f = new C["default"]({
action: function v() {
return e.goToBatch(-1);
},
label: __("ID_SPARTA_ACTION_SELECT"),
key: P["default"].Accept
}), d = a && {
$$typeof: p,
type: h.Focusable,
key: null,
ref: null,
props: r(h.Focusable.defaultProps, {
children: function _(e) {
return {
$$typeof: p,
type: E["default"],
key: "awardcarousel-back",
ref: null,
props: r(E["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ $.iconBack, e.isFocused ? $.iconBackHover : {} ]
},
_owner: null
},
style: [ {
marginRight: m["default"].GUTTER
}, $.button, e.isFocused ? $.focusedButton : {} ]
},
_owner: null
},
focusItem: e,
input: f
}),
_owner: null
};
},
debugName: "ac__back",
onFocus: function() {
h.focus.system.controllerMode && e.goToBatch(-1);
}
}),
_owner: null
}, g = new C["default"]({
action: function S() {
return e.goToBatch(1);
},
label: __("ID_SPARTA_ACTION_SELECT"),
key: P["default"].Accept
}), b = o && {
$$typeof: p,
type: h.Focusable,
key: null,
ref: null,
props: r(h.Focusable.defaultProps, {
children: function T(e) {
return {
$$typeof: p,
type: E["default"],
key: "awardcarousel-forward",
ref: null,
props: r(E["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ $.iconForward, e.isFocused ? $.iconForwardHover : {} ]
},
_owner: null
},
style: [ $.button, e.isFocused ? $.focusedButton : {} ]
},
_owner: null
},
focusItem: e,
input: g
}),
_owner: null
};
},
debugName: "ac_forward",
onFocus: function() {
h.focus.system.controllerMode && e.goToBatch(1);
}
}),
_owner: null
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ d, i, b ],
style: $.awardsWrapper
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: $.info.content
},
_owner: null
} ],
style: $.awardCarousel
},
_owner: null
};
};
var n = t;
return t = i("_$AwardCarousel")(t) || t, t = T.observer(t) || t;
}(d["default"].Component);
t["default"] = G;
var F = 600, B = function(e) {
function t(t) {
if (o(this, n), e.call(this, t), this.tweens = {
scaleY: b.Animation.tween("e7d2fe1e:331", 0),
opacity: b.Animation.tween("e7d2fe1e:332", t.skipAnimation ? 0 : 1)
}, this.focusItem = h.focus.create(this, "award_carousel_item_" + t.index), this.focusItem.onFocus(function() {
t.onFocus(t.index);
}), t.focusGroup.addMember(this.focusItem, t.index), 0 === t.index && (this.focusItem.autoFocusCandidate = !0), 
t.index < 6) {
var r = t.index < k.length ? t.index : 0, a = k[r];
this.tickSound = h.Sound.load(a), this.playSound = !0;
}
this.containerAnimation = {
initialState: t.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: _["default"].extend({}, b.Animation.defaultTweenOptions, {
easing: "CubicInOut",
duration: F
})
};
}
a(t, e), t.prototype.componentWillMount = function s() {
this.timeouts = [];
}, t.prototype.componentDidMount = function l() {
var e = this, t = 100 * this.props.index;
this.props.skipAnimation || (this.playSound && this.setTimeout(function() {
e.tickSound.play();
}, t + 100), this.play(t));
}, t.prototype.componentWillUnmount = function u() {
this.clearTimeouts(), this.tweens.scaleY.destroy(), this.tweens.opacity.destroy();
}, t.prototype.clearTimeouts = function f() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.animateFlare = function g(e) {
var t = 1.2 * F, n = {
duration: t,
easing: "CubicInOut",
delay: e
}, r = {
duration: t / 3,
easing: "CubicInOut",
delay: e + t / 2
}, o = 1;
this.tweens.scaleY.to(o, n), this.tweens.opacity.to(0, r);
}, t.prototype.play = function m(e) {
this.refs.container.play(e), this.animateFlare(e);
}, t.prototype.render = function v() {
var e = this.focusItem.isFocused, t = this.props.item, n = t.imageUrl, o = n && "" !== n ? {
texture: n
} : {}, a = null, i = null, s = !1;
switch (t.awardType) {
case "Codex":
i = $.awardImageCodex;
break;

case "Medal":
i = $.awardImageMedal;
break;

case "Dogtag":
i = $.awardImageDogtag;
break;

case "Star":
i = $.awardImageStar;
break;

case "Ribbon":
i = $.awardImageRibbon, s = !0;
break;

default:
i = $.awardImageMedal;
}
var l = e ? $.focusedAwardItem : null, u = this.props.skipAnimation ? {} : {
zOffset: 100,
enableMouseEvents: !1,
position: "absolute",
rotateZ: -20,
height: N / 1.5,
width: D / 4,
left: 0,
top: 0,
translateX: -D / 21,
translateY: -N / 4,
scaleY: this.tweens.scaleY.getStyle(),
texture: M,
opacity: this.tweens.opacity.getStyle(),
layer: !0,
layerClip: !1
};
if (s && t && t.progression && t.progression.valueAcquired) {
var f = t.progression.valueAcquired, g = {
position: "absolute",
bottom: 10,
right: 10,
zOffset: 2,
color: e ? "#000000" : "#FFFFFF"
};
a = {
$$typeof: p,
type: y.Text,
key: null,
ref: null,
props: r(y.Text.defaultProps, {
value: f > 0 ? "x" + f : "",
type: "emphasis",
size: "S",
style: g
}),
_owner: null
};
}
return d["default"].createElement(h.AnimatedSurface, {
ref: "container",
animation: this.containerAnimation
}, d["default"].createElement("surface", c({
style: [ $.awardItem, l ]
}, this.focusItem.hooks), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ i, o ]
},
_owner: null
}, a), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: u
},
_owner: null
});
};
var n = t;
return t = i("_$AwardCarouselItem")(t) || t, t = T.observer(t) || t;
}(d["default"].Component);
e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(3), h = n(135), y = s(h), g = n(7), m = n(54), b = s(m), v = n(13), _ = s(v), S = n(12), T = s(S), w = n(16), E = n(11), I = n(10), C = {
_$BattlepackWinner: {
displayName: "BattlepackWinner"
}
}, A = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/BattlepackWinner.jsx",
components: C,
locals: [],
imports: []
}), P = n(43), O = E.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/profile-glow-orange-95a00ad5.png"), R = {
packPlayer: {
position: "relative",
margin: [ 0, 2, 0, 2 ]
},
focusBorder: {
position: "absolute",
backgroundColor: "#ffffff",
height: 1,
left: 0,
right: 0,
bottom: -2
}
}, k = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = d.focus.create(this, "scoreboard_row_" + t.player.name), 
0 === t.index && (this.focusItem.autoFocusCandidate = !0), this.state = {
description: ""
}, this.tweens = {
translateY: w.Animation.tween("568a0d04:46", this.props.skipAnimation ? 0 : this.props.size),
opacity: w.Animation.tween("568a0d04:47", this.props.skipAnimation ? 1 : 0)
}, t.focusGroup && t.focusGroup.addMember(this.focusItem, t.index);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.timeouts = [];
}, t.prototype.componentWillReceiveProps = function l(e) {
if (e.isReady && !this.props.skipAnimation) {
var t = 300, n = t * this.props.index + t;
this.play(n);
}
}, t.prototype.componentWillUnmount = function u() {
this.clearTimeouts();
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.showPlayerCard = function p(e) {
this.props.player.platformId && P.showUserProfile(e.platformId);
}, t.prototype.clearTimeouts = function f() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.play = function h(e) {
this.tweens.opacity.to(1, {
delay: e,
duration: 600
}), this.tweens.translateY.to(0, {
delay: e,
duration: 300
});
}, t.prototype.render = function m() {
var e = this.props.size, t = null, n = null, o = null, a = 300, i = this.props.player, s = this.focusItem.isFocused, l = i.name || "", u = {
duration: 100
}, p = new _["default"]({
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_VIEW_PROFILE"),
action: this.showPlayerCard.bind(this, i),
key: T["default"].Accept
}), f = {
opacity: this.tweens.opacity.getStyle(),
translateY: this.tweens.translateY.getStyle(),
scaleX: w.Animation.tweenSwitch(1, 1.05, s, u, u),
scaleY: w.Animation.tweenSwitch(1, 1.05, s, u, u)
}, h = {
alignSelf: "center"
}, m = {
opacity: w.Animation.tweenSwitch(0, 1, s, u, u),
translateY: w.Animation.tweenSwitch(10, 0, s, u, u),
width: a,
flexDirection: "row",
justifyContent: "center",
alignItems: "center",
position: "absolute",
top: e + 10,
left: -(a / 2 - e / 2),
height: 20
};
if (this.props.isMe) {
var v = 40, S = {
zOffset: -5,
opacity: .8,
position: "absolute",
top: -v,
left: -v,
width: e + 2 * v,
height: e + 2 * v,
texture: O,
textureMode: "fill"
};
t = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: S
},
_owner: null
}, n = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: {
opacity: .66,
zOffset: -4,
left: -1,
top: -1,
bottom: -1,
right: -1,
position: "absolute",
backgroundColor: "#ff9900"
}
},
_owner: null
};
}
return s && (SpartaGlobals.bundleIsConsole || d.focus.system.controllerMode) && (o = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: R.focusBorder
},
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
children: [ {
$$typeof: c,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
size: e,
user: i
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: g.Text,
key: null,
ref: null,
props: r(g.Text.defaultProps, {
size: "XS",
value: l,
style: h
}),
_owner: null
},
style: m
},
_owner: null
}, n, t, o ],
input: p,
triggerMode: "after",
focusItem: this.focusItem,
style: R.pressable
}),
_owner: null
},
style: [ R.packPlayer, f ]
},
_owner: null
};
};
var n = t;
return t = i("_$BattlepackWinner")(t) || t, t = I.observer(t) || t;
}(f["default"].Component);
t["default"] = k, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return U(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), f = n(1), d = s(f), h = n(3), y = n(135), g = s(y), m = n(7), b = n(6), v = s(b), _ = n(54), S = s(_), T = n(13), w = s(T), E = n(12), I = s(E), C = n(16), A = n(66), P = n(5), O = s(P), R = n(11), k = n(187), x = s(k), M = n(312), N = n(10), D = {
_$Highlight: {
displayName: "Highlight"
}
}, U = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/Highlight.jsx",
components: D,
locals: [],
imports: []
}), L = n(43), $ = SpartaGlobals.bundleIsPC ? v["default"].window.colSpan(4) + v["default"].window.colSpan(1) / 2 : v["default"].window.colSpan(4), G = SpartaGlobals.bundleIsPC ? v["default"].window.colSpan(3) + v["default"].window.colSpan(1) / 2 : v["default"].window.colSpan(3), F = SpartaGlobals.bundleIsPC ? "S" : "XS", B = SpartaGlobals.bundleIsPC ? "S" : "XS", j = SpartaGlobals.bundleIsPC ? "S" : "XS", H = SpartaGlobals.bundleIsPC ? "L" : "M", V = R.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), z = R.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-blur-42d30442.png"), W = R.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/profile-glow-orange-9d8cf9e7.png"), q = 1165, K = 853, X = 500, Y = 2 * G, J = 2 * $, Q = 300, Z = {
highlightWrapper: {
flexDirection: "column",
alignItems: "center",
justifyContent: "center"
},
player: {
alignSelf: "center",
flexDirection: "row",
alignItems: "center",
justifyContent: "center",
marginTop: v["default"].window.rowSpan(2)
},
flag: {
width: 30,
height: 30,
marginRight: 10
},
name: {
marginBottom: v["default"].window.rowSpan(3),
alignSelf: "center"
},
unit: {
opacity: .66,
color: "#ffffff",
alignSelf: "center"
},
unitWrapper: {
marginTop: v["default"].window.rowSpan(2),
alignSelf: "center"
},
value: {
marginTop: v["default"].window.rowSpan(1),
alignSelf: "center"
},
focused: {
position: "absolute",
left: 0,
right: 0,
bottom: -4,
height: 2,
backgroundColor: "#ffffff"
},
pressable: {
position: "relative",
backgroundColor: "#222222"
},
shimmer: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 4,
texture: R.bbOfflineUrl("/sparta/assets/ui/cards/shine-tiny-974103c1.png"),
textureMode: "none",
textureScale: 5
},
highlightBorder: {
opacity: 0
}
}, ee = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
description: ""
}, this.tweens = {
scaleY: C.Animation.tween("45887ae0:127", 0),
shimmer: C.Animation.tween("45887ae0:128", this.props.big ? J : Y),
opacity: C.Animation.tween("45887ae0:129", 1),
fadeIn: C.Animation.tween("45887ae0:130", this.props.skipAnimation ? 1 : 0),
backgroundGlowScale: C.Animation.tween("45887ae0:131", 0),
backgroundGlowOpacity: C.Animation.tween("45887ae0:132", 0),
borderWhiteOpacity: C.Animation.tween("45887ae0:133", 0)
}, this.focusItem = h.focus.create(this, "highlights_highlight_" + t.index), 0 === t.index && (this.focusItem.autoFocusCandidate = !0), 
this.containerAnimation = {
initialState: this.props.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: O["default"].extend({}, C.Animation.defaultTweenOptions, {
easing: "CubicOutBack",
duration: x["default"].highlights.highlight.grow.duration
})
}, this.flagAnimation = {
initialState: this.props.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
}
},
options: O["default"].extend({}, C.Animation.defaultTweenOptions, {
easing: "CubicOut",
duration: x["default"].highlights.highlight.grow.duration / 2
})
}, this.scoreAnimation = {
initialState: this.props.skipAnimation ? "to" : "from",
values: {
opacity: {
from: 0,
to: 1
},
translateY: {
from: 50,
to: 0
}
},
options: O["default"].extend({}, C.Animation.defaultTweenOptions, {
easing: "CubicInOut",
duration: x["default"].highlights.highlight.grow.duration
})
};
}
a(t, e), p(t, null, [ {
key: "defaultProps",
value: {
useNameMarquee: !0
},
enumerable: !0
} ]), t.prototype.componentWillMount = function s() {
this.timeouts = [];
}, t.prototype.componentDidMount = function l() {
var e = x["default"].highlights.highlight.base.delay, t = e * this.props.delay + e;
this.props.skipAnimation || this.play(t);
}, t.prototype.componentWillUnmount = function u() {
this.clearTimeouts();
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.getPlayerName = function f(e) {
return e.name;
}, t.prototype.clearTimeouts = function y() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.animateFlare = function b(e) {
var t = X, n = {
duration: t,
easing: "CubicInOut",
delay: e
}, r = {
duration: t / 2,
easing: "CubicOut",
delay: e + t / 2
}, o = this.props.big ? 3 : 2;
this.tweens.scaleY.to(o, n), this.tweens.opacity.to(0, r);
}, t.prototype.shimmer = function _(e) {
var t = {
duration: 3 * Q,
easing: "CubicInOut",
delay: e + X
};
this.tweens.shimmer.to(this.props.big ? -J : -Y, t);
}, t.prototype.fadeIn = function T(e) {
var t = {
duration: X,
easing: "CubicInOut",
delay: e
};
this.tweens.fadeIn.to(1, t);
}, t.prototype.animateWhiteBorder = function E(e) {
var t = {
duration: Q,
easing: "CubicInOut",
delay: e
};
this.tweens.borderWhiteOpacity.to(.3, t), this.tweens.borderWhiteOpacity.to(0, {
duration: 2 * Q,
delay: e + Q
});
}, t.prototype.animateBackgroundGlow = function P(e) {
var t = 600, n = {
duration: t,
easing: "CubicInOut",
delay: e
};
this.tweens.backgroundGlowOpacity.to(.5, n), this.tweens.backgroundGlowOpacity.to(0, {
delay: e + t
}), this.tweens.backgroundGlowScale.to(1.5, n), this.tweens.backgroundGlowScale.to(0, {
delay: e + t
});
}, t.prototype.play = function R(e) {
this.refs.animation.play(e), this.refs.flag.play(e), this.refs.score.play(e), this.fadeIn(e), 
this.animateFlare(e), this.shimmer(e), this.animateWhiteBorder(e + X), this.animateBackgroundGlow(e);
}, t.prototype.showPlayerCard = function k(e) {
e.platformId && L.showUserProfile(e.platformId);
}, t.prototype.render = function D() {
var e = this.props.highlight, t = this.focusItem.isFocused, n = e.player || {}, o = this.props.big, a = o ? $ : G, i = e.name || "", s = e.unit || "", l = this.props.flagUrl && "" !== this.props.flagUrl ? {
texture: this.props.flagUrl
} : null, u = t && (SpartaGlobals.bundleIsConsole || h.focus.system.controllerMode) ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: Z.focused
},
_owner: null
} : null, p = new w["default"]({
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_VIEW_PROFILE"),
action: this.showPlayerCard.bind(this, this.props.highlight.player),
key: I["default"].Accept
}), f = o ? 20 : 10, y = o ? -10 : -8, b = {
position: "absolute",
zOffset: -4,
opacity: this.tweens.borderWhiteOpacity.getStyle(),
top: y,
left: y,
bottom: y,
right: y,
texture: z,
textureMode: "fill",
textureBorder: [ f, f, f, f ]
}, _ = {
zOffset: 1,
enableMouseEvents: !1,
position: "absolute",
rotateZ: -20,
height: q / 2,
width: K / 1.5,
left: 0,
top: 0,
translateX: -K / (o ? 4.25 : 3.5),
translateY: -q / (o ? 4.5 : 4.75),
scaleY: this.tweens.scaleY.getStyle(),
texture: V,
opacity: this.tweens.opacity.getStyle()
}, T = {
opacity: this.tweens.fadeIn.getStyle()
}, E = {
opacity: o ? 1 : .6,
textureOffsetY: this.tweens.shimmer.getStyle()
}, C = {
zOffset: -5,
position: "absolute",
top: -10,
bottom: -10,
right: -10,
left: -10,
scaleX: this.tweens.backgroundGlowScale.getStyle(),
scaleY: this.tweens.backgroundGlowScale.getStyle(),
opacity: this.tweens.backgroundGlowOpacity.getStyle(),
texture: W
}, P = o && {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: C
},
_owner: null
}, O = e.unitValue || 0, R = this.getPlayerName(n), k = {
$$typeof: c,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: R,
type: "emphasis",
size: B,
style: T
}),
_owner: null
};
return this.props.useNameMarquee && (k = {
$$typeof: c,
type: A.Marquee,
key: null,
ref: null,
props: r(A.Marquee.defaultProps, {
children: k,
scroll: t,
style: {
maxWidth: v["default"].window.colSpan(3) - M.ELLIPSIS_OFFSET.M
},
showEllipsis: !0
}),
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
style: [ Z.name, T ],
size: F,
value: i.toUpperCase(),
type: "normal"
}),
_owner: null
}, d["default"].createElement(h.AnimatedSurface, {
ref: "animation",
animation: this.containerAnimation
}, {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ Z.highlightBorder, b ]
},
_owner: null
}, {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
size: a,
user: n
}),
_owner: null
}, u, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ Z.shimmer, E ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: _
},
_owner: null
}, P ],
input: p,
scale: !0,
triggerMode: "after",
focusItem: this.focusItem,
style: Z.pressable
}),
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ d["default"].createElement(h.AnimatedSurface, {
ref: "flag",
animation: this.flagAnimation,
style: [ Z.flag, l ]
}), k ],
style: Z.player
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
style: Z.unit,
size: j,
value: s.toUpperCase(),
type: "emphasis"
}),
_owner: null
},
style: [ Z.unitWrapper, T ]
},
_owner: null
}, d["default"].createElement(h.AnimatedSurface, {
ref: "score",
animation: this.scoreAnimation,
style: Z.value
}, {
$$typeof: c,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
size: H,
value: O + "",
type: "emphasis"
}),
_owner: null
}) ],
style: [ Z.highlightWrapper ]
},
_owner: null
};
};
var n = t;
return t = i("_$Highlight")(t) || t, t = N.observer(t) || t;
}(d["default"].Component);
t["default"] = ee, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return v(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(7), y = n(37), g = n(6), m = s(g), b = {
_$MapInfoDisplay: {
displayName: "MapInfoDisplay"
}
}, v = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/MapInfoDisplay.jsx",
components: b,
locals: [],
imports: []
}), _ = 120, S = 60, T = {
container: {
flexDirection: "row",
alignItems: "center"
},
text: {
marginLeft: 10,
marginRight: 10
},
image: {
height: S,
width: _
},
rightAligned: {
alignItems: "flex-end"
}
}, w = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e, t, n, o = {
texture: this.props.image
}, a = p({}, T.container), i = {};
if (SpartaGlobals.bundleIsConsole) {
var s = m["default"].getWidth(6);
a.marginTop = 40, i.title = {
textLineSpacing: y.LINE_HEIGHTS.XS,
width: s,
textAlignForRTL: "left"
}, i.description = {
textLineSpacing: y.LINE_HEIGHTS.XXS,
width: s,
textAlignForRTL: "left"
};
}
return this.props.image ? this.props.rightAligned ? (n = T.rightAligned, t = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ T.image, o ]
},
_owner: null
}) : e = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ T.image, o ]
},
_owner: null
} : n = this.props.rightAligned ? T.rightAligned : null, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ e, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: this.props.title,
type: "emphasis",
size: "XS",
style: i.title
}),
_owner: null
}, {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: this.props.description,
size: "XS",
style: i.description
}),
_owner: null
} ],
style: [ T.text, n ]
},
_owner: null
}, t ],
style: a
},
_owner: null
};
};
var n = t;
return t = i("_$MapInfoDisplay")(t) || t;
}(d["default"].Component);
t["default"] = w, w.defaultProps = {
alignRight: !1,
title: "",
description: "",
image: ""
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(3), h = n(7), y = n(16), g = n(6), m = s(g), b = n(17), v = s(b), _ = n(187), S = s(_), T = n(815), w = n(816), E = s(w), I = n(11), C = n(606), A = {
_$ProgressBar: {
displayName: "ProgressBar"
}
}, P = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/ProgressBar.jsx",
components: A,
locals: [],
imports: []
}), O = m["default"].window.colSpan(2), R = 18, k = v["default"].safeZone.width - 2 * O, x = 1165, M = 853, N = I.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), D = 880, U = 1600, L = I.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/progress-bar-flare-6cee6e76.png"), $ = I.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/War_Bonds-2d2c3757.wav"), G = I.bbOfflineUrl("/sparta/assets/tunguska/endofround/warbonds-469fb2a5.jpg"), F = 170, B = 148, j = 20, H = {
barContainer: {
zOffset: 1,
position: "relative",
width: k,
height: R,
justifyContent: "flex-start",
flexWrap: "nowrap",
flexDirection: "row",
backgroundColor: "#00000080"
},
initialSegment: {
backgroundColor: "#FFFFFF",
marginLeft: 0,
height: R
},
segmentInfo: {
position: "absolute",
right: -20,
width: 200,
opacity: 0,
top: 20,
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
segmentInfoText: {
color: "#FFFFFF",
flex: 1,
marginTop: 8
},
segmentInfoTextValue: {
color: "#FFFFFF",
flex: 1,
marginTop: 2
},
estimate: {
container: {
flex: 1,
flexDirection: "row",
alignItems: "center",
justifyContent: "flex-end"
},
text: {
color: "#FFFFFF",
opacity: .66,
marginRight: 16
}
},
progress: {
flexDirection: "row",
marginBottom: m["default"].GUTTER
},
mainContainer: {
flexDirection: "row",
alignItems: "center",
justifyContent: "center",
height: m["default"].window.rowSpan(10)
},
currentRank: {
alignItems: "flex-start",
flex: 1
},
rankWrapper: {
flexDirection: "row",
justifyContent: "center",
zOffset: 10,
width: O
},
middle: {
width: k
},
warBonds: {
position: "absolute",
left: k / 2 - F / 2,
top: -(R / 2) - B / 6,
width: F,
height: B,
flex: 1,
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
warBondsImage: {
texture: G,
width: F,
height: B,
flex: 1,
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
position: "absolute",
zOffset: 12,
top: 0,
left: 0,
right: 0,
bottom: 0
},
bgFlare: {
zOffset: -1,
enableMouseEvents: !1,
position: "absolute",
width: U,
height: D,
top: -D / 1.8,
right: -U / 2
},
rankUpAnimationSegment: {
position: "absolute",
bottom: -9,
left: -9,
right: -9,
top: -9,
zOffset: -1,
texture: I.bbOfflineUrl("/sparta/assets/ui/cards/card-border-blur-red-f069fd70.png"),
textureMode: "fill",
textureBorder: [ 14, 14, 14, 14 ],
opacity: 0
},
rankUpAnimationSegmentInner: {
zOffset: 1,
backgroundColor: "#ffe034",
position: "absolute",
bottom: 9,
left: 9,
right: 9,
top: 9
}
}, V = function(e) {
function t(t) {
o(this, n), e.call(this, t);
var r = t.skipAnimation, a = t.initialValue, i = t.ranks, s = t.defaultWidth, l = C.getGoalValue(t.ranks, r), u = C.getInitialWidth(a, l, i, s, k, r);
this.state = {
reachedRank: null,
warBondsEarned: 0,
oldRank: null,
rankInProgress: !1,
segmentIndex: 0,
iterations: [],
rankFromIdx: C.getInitialRankIndexFrom(i, t.skipAnimation),
rankToIdx: C.getInitialRankIndexTo(i, t.skipAnimation),
goalValue: Math.max(l, 1),
startSegment: u,
segments: C.calculateIterations(t.segments, i, a, k, r)
}, this.tweens = {
flareScale: y.Animation.tween("6899ba33:208", 0),
flareOpacity: y.Animation.tween("6899ba33:209", 0),
warBondsOpacity: y.Animation.tween("6899ba33:210", 0),
warBondsTextOpacity: y.Animation.tween("6899ba33:211", 0),
warBondsScale: y.Animation.tween("6899ba33:212", .5),
rankUpOverlayLeft: y.Animation.tween("6899ba33:213", k - 18),
rankUpOverlayRight: y.Animation.tween("6899ba33:214", -9),
rankUpOverlayOpacity: y.Animation.tween("6899ba33:215", 0),
bgFlareOpacityTween: y.Animation.tween("6899ba33:216", 0),
bgFlareLeftTween: y.Animation.tween("6899ba33:217", k - U / 2),
startSegmentTween: y.Animation.tween("6899ba33:218", u)
}, this.warBondSound = d.Sound.load($);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.timeouts = [];
}, t.prototype.componentWillUnmount = function l() {
this.clearTimeouts();
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.clearTimeouts = function u() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.animateBondsIn = function p() {
var e = this, t = S["default"].bonds.flare.duration, n = 500, r = {
duration: S["default"].bonds.scale.duration,
delay: n,
easing: "CubicInOut"
};
return this.setTimeout(function() {
this.warBondSound.setVolume(1), this.warBondSound.play();
}.bind(this), n), new Promise(function(o) {
e.tweens.warBondsOpacity.to(1, r), e.tweens.warBondsTextOpacity.to(1, r), e.tweens.warBondsScale.to(1, r), 
e.tweens.flareScale.to(4, {
duration: 500,
delay: n
}), e.tweens.flareOpacity.to(1, {
duration: t,
delay: n
}), e.tweens.flareOpacity.to(0, {
duration: t - 100,
delay: n + 300
}, o);
});
}, t.prototype.animateBondsOut = function f() {
var e = this, t = {
duration: 300,
easing: "CubicInOut",
delay: 1500
}, n = {
duration: 150,
easing: "CubicInOut",
delay: 1500
};
return new Promise(function(r) {
e.tweens.warBondsTextOpacity.to(0, n), e.tweens.warBondsOpacity.to(0, t, r);
});
}, t.prototype.animateRankUp = function g() {
var e = this.state.rankToIdx, t = this.state.rankFromIdx;
if (e + 1 < this.props.ranks.length) {
var n = this.props.ranks[e + 1], r = this.state.segmentIndex;
this.setState({
initialValue: 0,
startSegment: 0,
segmentIndex: r + 1,
goalValue: n.scoreNeeded,
rankFromIdx: t + 1,
rankToIdx: e + 1,
reachedRank: null,
rankInProgress: !1
});
} else this.setState({
initialValue: 0,
startSegment: 0,
rankFromIdx: t + 1,
reachedRank: null,
rankInProgress: !1
});
}, t.prototype.animateRankUpOverlay = function m() {
var e = S["default"].rankUpOverlay.opacity.duration, t = S["default"].rankImage.move.duration, n = -U / 2;
this.tweens.rankUpOverlayOpacity.to(1, {
duration: 1,
delay: 0
}), this.tweens.rankUpOverlayLeft.to(-9, {
duration: S["default"].rankUpOverlay.left.duration,
delay: 0
}), this.tweens.bgFlareOpacityTween.to(1, {
duration: e,
delay: 0
}), this.tweens.bgFlareLeftTween.to(n, {
duration: e,
delay: t
}), this.tweens.bgFlareOpacityTween.to(0, {
duration: e,
delay: t
}), this.tweens.rankUpOverlayOpacity.to(0, {
duration: S["default"].rankUpOverlay.left.duration,
delay: t
});
}, t.prototype.updateRanks = function b() {
var e = this;
this.state.warBondsEarned > 0 ? this.animateBondsIn(1).then(function() {
return e.animateBondsOut(j);
}).then(function() {
return e.animateRankUp();
}) : this.animateRankUp();
}, t.prototype.rankUp = function v() {
var e = this.props.ranks[this.state.rankToIdx], t = e.warBonds, n = this.props.ranks[this.state.rankFromIdx].number;
this.animateRankUpOverlay(), this.setState({
reachedRank: e,
warBondsEarned: t,
oldRank: n,
rankInProgress: !0
}), this.tweens.startSegmentTween.to(0, {
duration: 100,
delay: 300
});
}, t.prototype.lastSegmentCallback = function _() {
var e = this.state.segments || [];
(this.state.segmentIndex < e.length - 1 || this.state.segmentIndex === e.length - 1 && 2 === this.props.ranks.length && this.props.ranks[1].isMaxRank) && this.rankUp();
}, t.prototype.renderSegments = function w() {
var e = this.state.segments || [], t = this.state.segmentIndex;
if (e.length) {
var n = e[t], o = n.length - 1;
return n.filter(function(e) {
return e.value > 0;
}).map(function(n, a) {
var i = (this.state.segmentIndex < e.length - 1 || this.state.segmentIndex === e.length - 1 && 2 === this.props.ranks.length && this.props.ranks[1].isMaxRank) && o === a;
return n.value > 0 ? {
$$typeof: c,
type: T.ProgressBarSegment,
key: a + "-" + t,
ref: null,
props: r(T.ProgressBarSegment.defaultProps, {
rankInProgress: this.state.rankInProgress,
segment: n,
last: i,
index: a,
skipAnimation: this.props.skipAnimation,
rankCallback: this.lastSegmentCallback.bind(this)
}),
_owner: null
} : void 0;
}.bind(this));
}
}, t.prototype.renderSegmentsInfo = function I() {
var e = this.state.segments || [], t = this.state.segmentIndex;
if (e.length) {
var n = e[t];
return n.map(function(e, n) {
return e.value > 0 ? {
$$typeof: c,
type: T.ProgressBarText,
key: n + "-" + t,
ref: null,
props: r(T.ProgressBarText.defaultProps, {
segment: e,
index: n,
skipAnimation: this.props.skipAnimation
}),
_owner: null
} : void 0;
}.bind(this));
}
}, t.prototype.render = function A() {
var e = this.props.ranks, t = e[this.state.rankFromIdx] || {}, n = e[this.state.rankToIdx] || {}, o = this.props.minutesToNextRank, a = {
width: this.tweens.startSegmentTween.getStyle()
}, i = this.state.startSegment ? {
$$typeof: c,
type: "surface",
key: "initial-segment",
ref: null,
props: {
style: [ a, H.initialSegment ]
},
_owner: null
} : null, s = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_TIME_TO_RANK").toUpperCase(), l = o + " " + __("ID_SPARTA_DATETIME_MIN").toLowerCase(), u = this.state.warBondsEarned || 0, p = {
scaleX: this.tweens.warBondsScale.getStyle(),
scaleY: this.tweens.warBondsScale.getStyle(),
opacity: this.tweens.warBondsOpacity.getStyle()
}, f = {
color: "#E5C8A3",
zOffset: 13,
opacity: this.tweens.warBondsTextOpacity.getStyle()
}, d = {
zOffset: 10,
enableMouseEvents: !1,
position: "absolute",
rotateZ: 20,
height: x / 2,
width: M / 1.5,
left: 0,
top: 0,
translateX: 1.3 * -F,
translateY: -x / 4.5,
scaleY: this.tweens.flareScale.getStyle(),
texture: N,
opacity: this.tweens.flareOpacity.getStyle()
}, y = {
texture: L,
opacity: this.tweens.bgFlareOpacityTween.getStyle(),
left: this.tweens.bgFlareLeftTween.getStyle()
}, g = {
zOffset: 1e3,
left: this.tweens.rankUpOverlayLeft.getStyle(),
right: this.tweens.rankUpOverlayRight.getStyle(),
opacity: this.tweens.rankUpOverlayOpacity.getStyle()
}, m = o > 0 ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: s,
size: "S",
type: "normal",
style: H.estimate.text
}),
_owner: null
}, {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: l,
size: "S",
type: "emphasis"
}),
_owner: null
} ],
style: H.estimate.container
},
_owner: null
} : null, b = this.state.warBondsEarned > 0 && {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: d
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: u + "",
size: "XL",
type: "emphasis",
style: f
}),
_owner: null
},
style: [ H.warBondsImage, p ]
},
_owner: null
} ],
style: [ H.warBonds ]
},
_owner: null
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: E["default"],
key: "current",
ref: null,
props: r(E["default"].defaultProps, {
rank: t,
oldRank: this.state.oldRank,
reachedRank: this.state.reachedRank
}),
_owner: null
},
style: H.rankWrapper
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: t.name,
size: "S",
type: "emphasis"
}),
_owner: null
},
style: H.currentRank
},
_owner: null
}, m ],
style: H.progress
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ i, this.renderSegments(this.state.segments), this.renderSegmentsInfo(this.state.segments), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: H.rankUpAnimationSegmentInner
},
_owner: null
},
style: [ H.rankUpAnimationSegment, g ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ H.bgFlare, y ]
},
_owner: null
} ],
style: H.barContainer
},
_owner: null
},
style: {
width: k,
height: R
}
},
_owner: null
}, b ],
style: H.middle
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: E["default"],
key: "next",
ref: null,
props: r(E["default"].defaultProps, {
rank: n,
animateIn: "true",
reachedRank: this.state.reachedRank,
oldRank: this.state.oldRank,
animationCallback: this.updateRanks.bind(this),
parentWidth: k
}),
_owner: null
},
style: H.rankWrapper
},
_owner: null
} ],
style: H.mainContainer
},
_owner: null
};
};
var n = t;
return t = i("_$ProgressBar")(t) || t;
}(f["default"].Component);
t["default"] = V, V.propTypes = {
width: f["default"].PropTypes.number.isRequired,
defaultWidth: f["default"].PropTypes.number
}, V.defaultProps = {
width: 0,
backgroundColor: "#000000AA",
defaultWidth: 0,
goalValue: 0,
initialValue: 0,
segments: []
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return w(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(3), d = n(7), h = n(16), y = n(6), g = i(y), m = n(612), b = i(m), v = n(187), _ = i(v), S = n(11), T = {
_$ProgressBarSegment: {
displayName: "ProgressBarSegment"
},
_$ProgressBarText: {
displayName: "ProgressBarText"
}
}, w = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/ProgressBarSegment.jsx",
components: T,
locals: [],
imports: []
}), E = 18, I = S.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/ProgressBar-85465d29.wav"), C = S.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Rank_Up-e540360d.wav"), A = {
segmentContainer: {
zOffset: 1,
flex: 0,
width: 0,
height: E
},
segmentBaseColor: {
backgroundColor: "#FF9900",
position: "absolute",
top: 0,
left: 0,
bottom: 0,
right: 0
},
activeOverlay: {
position: "absolute",
top: 9,
left: 9,
right: 9,
bottom: 9,
backgroundColor: "#ff3d00"
},
glowInner: {
position: "absolute",
bottom: -8,
right: 0,
top: -8,
texture: S.bbOfflineUrl("/sparta/assets/tunguska/endofround/bar_glow_inside-0fdf8589.png"),
width: 0
},
glowLeft: {
position: "absolute",
bottom: -15,
left: 0,
right: 0,
top: -15,
texture: S.bbOfflineUrl("/sparta/assets/tunguska/endofround/bar_glow_left-98f1e490.png"),
textureMode: "fill",
blendMode: "screen"
},
glowRight: {
position: "absolute",
bottom: -16,
right: -33,
top: -16,
width: 32,
texture: S.bbOfflineUrl("/sparta/assets/tunguska/endofround/bar_glow_right-82e75fd7.png"),
blendMode: "screen"
},
segmentInfo: {
position: "absolute",
left: 0,
right: 0,
top: 3 * E,
flexDirection: "row",
justifyContent: "center",
alignItems: "center",
zOffset: -1
},
segmentInfoText: {
color: "#FFFFFF",
marginTop: 8,
marginRight: 2 * g["default"].GUTTER
},
segmentInfoValueContainer: {
marginTop: 2,
width: 170,
flexDirection: "row",
alignItems: "flex-end"
},
segmentInfoValueText: {
color: "#FFFFFF"
},
segmentInfoValue: {
color: "#FFFFFF",
marginLeft: 8,
marginRight: 8
}
}, P = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.tweens = {
widthTween: h.Animation.tween("0859a962:95", t.skipAnimation ? t.segment.width : 0),
glowTween: h.Animation.tween("0859a962:96", 0),
glowWidthTween: h.Animation.tween("0859a962:97", 0),
activeOverlayTween: h.Animation.tween("0859a962:98", 0),
activeColorOpacity: h.Animation.tween("0859a962:99", 0)
}, this.progressSound = f.Sound.load(I), this.progressSound.setVolume(1), this.rankUpSound = f.Sound.load(C), 
this.rankUpSound.setVolume(.6);
}
o(t, e), t.prototype.componentWillMount = function i() {
this.timeouts = [];
}, t.prototype.componentDidMount = function s() {
this._isMounted = !0;
var e = _["default"].segment.baseDelay + _["default"].segment.scale.duration * this.props.index;
this.props.skipAnimation || this.play(e);
}, t.prototype.componentWillReceiveProps = function l(e) {
e.rankInProgress && !this.props.last && this.animateBack(100, 300);
}, t.prototype.componentWillUnmount = function c() {
this.clearTimeouts(), this.progressSound.stop(), this.rankUpSound.stop();
for (var e in this.tweens) this.tweens[e].destroy();
this._isMounted = !1;
}, t.prototype.clearTimeouts = function p() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.play = function d(e) {
var t = this, n = _["default"].segment.scale.duration + e, r = {
duration: _["default"].segment.scale.duration,
delay: e
}, o = {
duration: _["default"].segment.scale.duration / 4,
delay: e + 300
}, a = {
duration: _["default"].segment.scale.duration / 2,
delay: e + 3 * (_["default"].segment.scale.duration / 4)
};
if (this.tweens.widthTween.to(this.props.segment.width, r), this.setTimeout(function() {
t.progressSound.play();
}, e - 500), this.props.last && this.props.rankCallback && (this.setTimeout(function() {
t._isMounted && t.props.rankCallback();
}, n), this.setTimeout(function() {
t.rankUpSound.play();
}, n - 500)), this.props.last && this.props.rankCallback) {
var i = n + 500;
this.animateBackWithGlow(i);
}
this.tweens.glowTween.to(.7, o), this.tweens.glowTween.to(0, a), this.tweens.glowWidthTween.to(Math.min(this.props.segment.width, 284), r);
}, t.prototype.animateBackWithGlow = function y(e) {
var t = e, n = 400, r = {
duration: n,
delay: t
};
this.tweens.activeOverlayTween.to(1, {
duration: 10
}), this.tweens.widthTween.to(0, r), this.tweens.activeOverlayTween.to(0, {
duration: 10,
delay: e - 1e3
});
}, t.prototype.animateBack = function g(e, t) {
var n = {
duration: e,
delay: t
};
this.tweens.widthTween.to(0, n);
}, t.prototype.render = function m() {
var e = {
opacity: this.tweens.glowTween.getStyle()
}, t = {
opacity: this.tweens.glowTween.getStyle(),
width: this.tweens.glowWidthTween.getStyle()
}, n = {
opacity: this.tweens.activeOverlayTween.getStyle()
}, r = {
width: this.tweens.widthTween.getStyle(),
marginRight: this.props.last ? 0 : 1
};
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: A.segmentBaseColor
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ A.activeOverlay, n ]
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ A.glowInner, t ]
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ A.glowLeft, e ]
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ A.glowRight, e ]
},
_owner: null
} ],
style: [ this.props.style, A.segmentContainer, r ]
},
_owner: null
};
};
var n = t;
return t = a("_$ProgressBarSegment")(t) || t;
}(p["default"].Component);
t.ProgressBarSegment = P;
var O = function(t) {
function n(e) {
r(this, i), t.call(this, e), this.tweens = {
containerOpacityTween: h.Animation.tween("0859a962:254", 1),
containerTranslateTween: h.Animation.tween("0859a962:255", 0, {
easing: "CubicIn"
}),
textTranslateTween: h.Animation.tween("0859a962:256", 64, {
easing: "CubicOut"
}),
textOpacityTween: h.Animation.tween("0859a962:257", 0),
valueTranslateTween: h.Animation.tween("0859a962:258", 64, {
easing: "CubicOut"
}),
valueOpacityTween: h.Animation.tween("0859a962:259", 0)
};
}
o(n, t), n.prototype.componentDidMount = function s() {
var e = _["default"].segment.baseDelay + _["default"].segment.scale.duration * this.props.index;
this.props.skipAnimation || this.play(e);
}, n.prototype.componentWillUnmount = function l() {
for (var e in this.tweens) this.tweens[e].destroy();
}, n.prototype.play = function c(e) {
var t = {
duration: 1e3,
delay: e + 500
}, n = {
duration: 1e3,
delay: e + 750
}, r = {
duration: 500,
delay: _["default"].segment.scale.duration + e
};
this.tweens.containerTranslateTween.to(-64, r), this.tweens.containerOpacityTween.to(0, r), 
this.tweens.textOpacityTween.to(1, t), this.tweens.textTranslateTween.to(0, t), 
this.tweens.valueOpacityTween.to(1, n), this.tweens.valueTranslateTween.to(0, n);
}, n.prototype.render = function p() {
var t = this.props.segment.name.toUpperCase(), n = {
opacity: this.tweens.containerOpacityTween.getStyle(),
translateY: this.tweens.containerTranslateTween.getStyle()
}, r = {
opacity: this.tweens.textOpacityTween.getStyle(),
translateY: this.tweens.textTranslateTween.getStyle()
}, o = {
opacity: this.tweens.valueOpacityTween.getStyle(),
translateY: this.tweens.valueTranslateTween.getStyle()
}, a = _["default"].segment.baseDelay + _["default"].segment.scale.duration * this.props.index;
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: d.Text,
key: null,
ref: null,
props: e(d.Text.defaultProps, {
value: t,
size: "S",
type: "emphasis",
style: [ A.segmentInfoText, r ]
}),
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: d.Text,
key: null,
ref: null,
props: e(d.Text.defaultProps, {
value: "+",
size: "M",
style: A.segmentInfoValueText
}),
_owner: null
}, {
$$typeof: u,
type: b["default"],
key: null,
ref: null,
props: e(b["default"].defaultProps, {
countTo: this.props.segment.value,
duration: 1e3,
size: "M",
type: "emphasis",
delay: a + 1e3,
style: A.segmentInfoValue
}),
_owner: null
}, {
$$typeof: u,
type: d.Text,
key: null,
ref: null,
props: e(d.Text.defaultProps, {
value: __("ID_SPARTA_GENERIC_XP"),
size: "M",
style: A.segmentInfoValueText
}),
_owner: null
} ],
style: [ A.segmentInfoValueContainer, o ]
},
_owner: null
} ],
style: [ A.segmentInfo, n ]
},
_owner: null
};
};
var i = n;
return n = a("_$ProgressBarText")(n) || n;
}(p["default"].Component);
t.ProgressBarText = O;
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return T(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(6), y = s(h), g = n(187), m = s(g), b = n(7), v = n(11), _ = n(16), S = {
_$RankImageContainer: {
displayName: "RankImageContainer"
}
}, T = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/RankImageContainer.jsx",
components: S,
locals: [],
imports: []
}), w = v.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), E = 1165, I = 853, C = 90, A = 90, P = {
image: {
zOffset: 100,
width: C,
height: A
}
}, O = v.bbOfflineUrl("/sparta/jsclient/builds/assets/blank-69d0497e.png"), R = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.tweens = {
opacity: _.Animation.tween("0309f7d3:28", 1),
translateX: _.Animation.tween("0309f7d3:29", 0),
flareScale: _.Animation.tween("0309f7d3:30", 0),
flareOpacity: _.Animation.tween("0309f7d3:31", 0),
scale: _.Animation.tween("0309f7d3:32", 1)
};
}
a(t, e), t.prototype.componentDidUpdate = function s() {
var e = this;
if (this.props.rank && this.props.reachedRank && this.props.rank.number === this.props.reachedRank.number) {
var t = -(this.props.parentWidth / 2) - y["default"].window.colSpan(1), n = -this.props.parentWidth - y["default"].window.colSpan(2);
this.animateTo(t).then(function() {
return e.flareAndScaleTo(2);
}).then(function() {
return e.animateAndScaleBack(n);
}).then(function() {
return e.props.animationCallback();
});
} else this.props.rank.number === this.props.oldRank ? this.fadeOutSlow(0) : this.props.rank.number === this.props.oldRank + 1 ? this.fadeInSoft(1) : this.fadeOut(0).then(function() {
return e.resetX();
}).then(function() {
return e.fadeIn(1);
});
}, t.prototype.componentWillUnmount = function l() {
this.tweens.opacity.destroy(), this.tweens.translateX.destroy(), this.tweens.scale.destroy(), 
this.tweens.flareScale.destroy(), this.tweens.flareOpacity.destroy();
}, t.prototype.fadeIn = function u(e) {
var t = this;
return new Promise(function(n) {
t.tweens.opacity.to(e, {
duration: 1e3
}, n);
});
}, t.prototype.fadeOutSlow = function f(e) {
var t = this;
return new Promise(function(n) {
t.tweens.opacity.to(e, {
duration: 500
}, n);
});
}, t.prototype.fadeOut = function d(e) {
var t = this;
return new Promise(function(n) {
t.tweens.opacity.to(e, {
duration: 100
}, n);
});
}, t.prototype.fadeInSoft = function h(e) {
var t = this;
return new Promise(function(n) {
t.tweens.opacity.to(e, {
duration: 1
}, n);
});
}, t.prototype.flareAndScaleTo = function g(e) {
var t = this, n = {
duration: m["default"].rankImage.move.duration,
easing: "CubicInOut",
delay: m["default"].rankImage.move.delay
}, r = {
duration: m["default"].rankImage.move.duration,
easing: "CubicInOut"
};
return new Promise(function(o) {
t.tweens.flareScale.to(3, n), t.tweens.flareOpacity.to(1, r), t.tweens.flareOpacity.to(0, {
duration: m["default"].rankImage.move.duration,
delay: 350
}), t.tweens.scale.to(e, n, o);
});
}, t.prototype.resetX = function v() {
var e = this;
return new Promise(function(t) {
e.tweens.translateX.to(0, {
duration: 1
}, t);
});
}, t.prototype.animateTo = function S(e) {
var t = this, n = {
duration: m["default"].rankImage.move.duration,
easing: "CubicInOut"
};
return new Promise(function(r) {
t.tweens.translateX.to(e, n, r);
});
}, t.prototype.animateAndScaleBack = function T(e) {
var t = this, n = {
duration: m["default"].rankImage.scale.out.duration,
easing: "CubicInOut",
delay: m["default"].rankImage.scale.out.delay
};
return new Promise(function(r) {
t.tweens.scale.to(1, n), t.tweens.translateX.to(e, n, r);
});
}, t.prototype.render = function R() {
var e = {
zOffset: 1,
enableMouseEvents: !1,
position: "absolute",
rotateZ: -20,
height: E / 2,
width: I / 1.5,
left: 0,
top: 0,
translateX: -I / 3,
translateY: -E / 4.5,
scaleY: this.tweens.flareScale.getStyle(),
texture: w,
opacity: this.tweens.flareOpacity.getStyle()
}, t = this.props.rank.imageUrl || O, n = p({}, P.image, {
texture: t
}), o = {
marginBottom: -A / 2,
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
height: A,
width: C,
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle(),
zOffset: 1e3,
opacity: this.tweens.opacity.getStyle(),
translateX: this.tweens.translateX.getStyle()
}, a = this.props.rank.number || 0, i = a.toString();
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
}, {
$$typeof: c,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: i,
size: "S",
type: "emphasis"
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: e
},
_owner: null
} ],
style: o
},
_owner: null
};
};
var n = t;
return t = i("_$RankImageContainer")(t) || t;
}(d["default"].Component);
t["default"] = R, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(3), h = n(7), y = n(6), g = s(y), m = n(16), b = n(17), v = s(b), _ = n(33), S = n(5), T = s(S), w = n(115), E = n(818), I = s(E), C = n(11), A = {
_$ScoreBoardTeam: {
displayName: "ScoreBoardTeam"
}
}, P = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/ScoreBoardTeam.jsx",
components: A,
locals: [],
imports: []
}), O = SpartaGlobals.bundleIsPC ? g["default"].window.rowSpan(35) : g["default"].window.rowSpan(15), R = v["default"].content.height - O, k = {
listBorder: {
position: "absolute",
width: 2,
left: -2,
top: 0,
bottom: 2,
zOffset: 1,
backgroundColor: "#efefef"
},
textStyle: {
zOffset: 1,
textAlign: "center",
textAlignForRTL: "center"
},
info: {
flex: 1,
flexDirection: "row"
},
teamLeft: {
paddingRight: 2 * g["default"].window.gutterWidth,
flex: 1
},
teamRight: {
paddingLeft: 2 * g["default"].window.gutterWidth,
flex: 1
},
flagTeam: {
flex: 0,
width: 4 * g["default"].GUTTER,
height: 4 * g["default"].GUTTER,
marginRight: 2 * g["default"].GUTTER
},
flagAttacker: {
texture: C.bbUrl("/sparta/assets/tunguska/endofround/placeholders/Austro-d589449b.png")
},
flagDefender: {
texture: C.bbUrl("/sparta/assets/tunguska/endofround/placeholders/Ottoman-6d0b8a14.png")
},
header: {
flexDirection: "row",
paddingRight: g["default"].GUTTER,
marginBottom: g["default"].window.rowSpan(2)
},
headerStats: {
marginTop: g["default"].GUTTER / 2,
textAlign: "right"
},
stat: {
kills: {
flex: 0,
width: g["default"].window.colSpan(1)
},
deaths: {
flex: 0,
width: g["default"].window.colSpan(1)
},
score: {
flex: 0,
width: 1.5 * g["default"].window.colSpan(2)
}
}
}, x = 1e3, M = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
description: ""
}, this.tweens = {
headerOpacity: m.Animation.tween("bedaa4c2:102", t.skipAnimation ? 1 : 0),
headerTransX: m.Animation.tween("bedaa4c2:103", t.skipAnimation ? 0 : 10),
headerTransY: m.Animation.tween("bedaa4c2:104", t.skipAnimation ? 0 : 15),
containerTranslateX: m.Animation.tween("bedaa4c2:105", t.skipAnimation ? 0 : 400),
containerOpacity: m.Animation.tween("bedaa4c2:106", t.skipAnimation ? 1 : 0),
borderOpacity: m.Animation.tween("bedaa4c2:107", t.skipAnimation ? 1 : 0)
}, this.flagAnimation = {
initialState: t.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
opacity: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
}
},
options: T["default"].extend({}, m.Animation.defaultTweenOptions, {
easing: "CubicOut",
duration: x / 2
})
};
}
a(t, e), t.prototype.componentDidMount = function s() {
var e = 100, t = e * this.props.index;
this.props.skipAnimation || this.play(t);
}, t.prototype.componentWillUnmount = function l() {
this.tweens.headerOpacity.destroy(), this.tweens.headerTransX.destroy(), this.tweens.headerTransY.destroy(), 
this.tweens.containerTranslateX.destroy(), this.tweens.borderOpacity.destroy();
}, t.prototype.play = function u(e) {
this.refs.flag.play(e), this.tweens.containerOpacity.to(1, {
delay: e,
duration: x
}), this.tweens.containerTranslateX.to(0, {
delay: e,
duration: 500
}), this.tweens.headerOpacity.to(1, {
delay: e,
duration: x
}), this.tweens.headerTransX.to(0, {
delay: e,
duration: x / 2
}), this.tweens.headerTransY.to(0, {
delay: e,
duration: x / 2
}), this.tweens.borderOpacity.to(1, {
delay: e + 300,
duration: 800
});
}, t.prototype.isSameSquad = function p(e, t) {
return e.squadId && 0 !== e.squadId ? e.teamId === t.teamId && e.squadId === t.squadId : !1;
}, t.prototype.renderTeamHeader = function y(e, t, n) {
var o = t;
o = null;
var a = {
translateX: this.tweens.headerTransX.getStyle(),
translateY: this.tweens.headerTransY.getStyle(),
opacity: this.tweens.headerOpacity.getStyle()
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ f["default"].createElement(d.AnimatedSurface, {
ref: "flag",
animation: this.flagAnimation,
style: [ k.flagTeam, n ]
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: e,
type: "emphasis",
size: "M"
}),
_owner: null
}, o ],
style: [ k.info, a ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD_K"),
type: "emphasis",
size: "S",
style: k.headerStats
}),
_owner: null
},
style: [ k.stat.kills, a ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD_D"),
type: "emphasis",
size: "S",
style: k.headerStats
}),
_owner: null
},
style: [ k.stat.deaths, a ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD_SCORE"),
type: "emphasis",
size: "S",
style: k.headerStats
}),
_owner: null
},
style: [ k.stat.score, a ]
},
_owner: null
} ],
style: k.header
},
_owner: null
};
}, t.prototype.renderTeamPlayer = function b(e, t, n, o) {
var a = n.personaId === e.personaId, i = t + 1 + "", s = this.isSameSquad(n, e), l = e.didFinish, u = o > 0 ? w.scoreboardTeamRightGroup : w.scoreboardTeamLeftGroup;
return l ? {
$$typeof: c,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {
index: t,
player: e,
isMe: a,
sameSquad: s,
focusGroup: u,
placeNumber: i
}),
_owner: null
} : null;
}, t.prototype.render = function v() {
var e = this, t = this.props, n = t.me, r = t.left, o = t.team, a = o.faction, i = o.players, s = a.name.toUpperCase(), l = null, u = o.faction.imageUrl && "" !== o.faction.imageUrl ? {
texture: o.faction.imageUrl
} : null, p = r ? k.teamLeft : k.teamRight, d = i.filter(function(e) {
return e.didFinish;
}).map(function(t, r) {
return e.renderTeamPlayer(t, r, n, e.props.index);
}), h = {
marginLeft: 2,
translateX: this.tweens.containerTranslateX.getStyle(),
opacity: this.tweens.containerOpacity.getStyle(),
height: R
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderTeamHeader(s, l, u), f["default"].createElement(_.Scroller, {
style: h,
ref: "teamList",
controller: !1,
tween: !1,
softClip: [ 0, g["default"].window.rowSpan(1), 0, g["default"].window.rowSpan(3) ]
}, d, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ k.listBorder, {
opacity: this.tweens.borderOpacity.getStyle()
} ]
},
_owner: null
}) ],
style: p
},
_owner: null
};
};
var n = t;
return t = i("_$ScoreBoardTeam")(t) || t;
}(f["default"].Component);
t["default"] = M, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return j(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = s(d), y = n(3), g = n(9), m = n(7), b = n(6), v = s(b), _ = n(42), S = s(_), T = n(13), w = s(T), E = n(12), I = s(E), C = n(73), A = n(20), P = s(A), O = n(11), R = n(10), k = n(371), x = n(367), M = n(66), N = n(312), D = n(25), U = s(D), L = n(461), $ = s(L), G = n(85), F = s(G), B = {
_$ScoreboardRow: {
displayName: "ScoreboardRow"
}
}, j = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/ScoreboardRow.jsx",
components: B,
locals: [],
imports: []
}), H = n(43), V = v["default"].window.rowSpan(3), z = {
info: {
flex: 1,
height: V,
flexDirection: "row",
alignItems: "center"
},
stat: {
kills: {
zOffset: 1,
width: v["default"].window.colSpan(1),
textAlign: "right"
},
deaths: {
zOffset: 1,
width: v["default"].window.colSpan(1),
textAlign: "right"
},
score: {
zOffset: 1,
width: 1.5 * v["default"].window.colSpan(2),
textAlign: "right"
}
},
focusedText: {
color: "#000000"
},
squadTextStyle: {
color: "#84b34d"
},
textStyle: {
zOffset: 1,
textAlign: "center",
textAlignForRTL: "center"
},
playerStyle: {
flex: 1,
textAlign: "left",
alignSelf: "flex-start"
},
rankContainer: {
zOffset: 1,
width: 4 * v["default"].GUTTER,
marginRight: 2 * v["default"].GUTTER,
marginLeft: -1,
alignSelf: "center",
justifyContent: "center",
height: v["default"].window.rowSpan(2),
marginTop: SpartaGlobals.bundleIsPC ? 0 : -2,
texture: O.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ]
},
rankContainerFocused: {
texture: O.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-inv-83f715ff.png")
},
rankTextStyle: {
marginTop: 0,
fontSize: SpartaGlobals.bundleIsPC ? 8 : 10,
alignSelf: "center"
},
playerRow: {
localBounds: !1,
backgroundColor: "#00000033",
borderRadius: [ 0, 6, 6, 0 ],
paddingTop: SpartaGlobals.bundleIsPC ? 0 : 2,
zOffset: 4,
flex: 1,
paddingRight: v["default"].GUTTER,
flexDirection: "row",
marginBottom: 2
},
placing: {
zOffset: 1,
width: 4 * v["default"].GUTTER,
height: V,
margin: [ 0, v["default"].GUTTER, 0, 2 * v["default"].GUTTER ]
},
myBackgroundStyle: {
backgroundColor: "#ff9900"
},
squadBackgroundStyle: {
backgroundColor: "#4b9b2d90"
},
focusedBackgroundStyle: {
position: "absolute",
borderRadius: [ 0, 6, 6, 0 ],
top: 0,
left: 0,
right: 0,
bottom: 0,
backgroundColor: "#efefef"
},
selectedBackgroundStyle: {
opacity: .7
},
border: {
position: "absolute",
backgroundColor: "#efefef66"
},
borderBlack: {
position: "absolute",
backgroundColor: "#000000"
},
contextMenuContainer: {
position: "absolute",
right: 0,
top: 0,
width: v["default"].window.colSpan(1),
height: V,
backgroundColor: "#000000"
},
contextMenuButton: {
height: V
},
extraContent: {
flex: 1,
flexDirection: "row",
padding: [ v["default"].GUTTER, 0, 2 * v["default"].GUTTER, 2 * v["default"].GUTTER ]
}
}, W = {
pcButton: {
alignItems: "center",
justifyContent: "center",
margin: [ 0, v["default"].GUTTER / 2, 0, v["default"].GUTTER / 2 ],
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000090",
padding: [ 2, 3 * v["default"].GUTTER, 2, 3 * v["default"].GUTTER ],
height: V
},
pcButtonHovered: {
backgroundColor: "#ffffff25"
},
pcButtonInverted: {
backgroundColor: "#00000011"
},
pcButtonInvertedHovered: {
backgroundColor: "#00000033"
},
pcButtonBorder: {
zOffset: 1,
position: "absolute",
right: 0,
bottom: 0,
left: 0,
height: 2,
backgroundColor: "#ffffff",
opacity: .8
},
pcButtonInvertedBorder: {},
pcButtonBorderLarge: {
height: 4
},
label: {
color: "#ffffff",
zOffset: 2
},
labelInverted: {
color: [ 0, 0, 0, 200 ]
},
labelContainer: {
alignItems: "center",
justifyContent: "center",
margin: [ 0, v["default"].GUTTER / 2, 0, v["default"].GUTTER / 2 ],
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000090",
padding: [ 2, 3 * v["default"].GUTTER, 2, 3 * v["default"].GUTTER ],
height: V,
zOffset: 1
}
}, q = R.observer(function(e) {
var t = x.voipState.getPlayer(e.onlineId), n = t ? t.status : k.SpeakingStatus.Silent, r = e.isFocused, o = e.isMe, a = null;
switch (n) {
case k.SpeakingStatus.Muted:
a = {
focused: O.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-mute-black-4602cdf1.png"),
normal: O.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-mute-white-baad1aee.png")
};
break;

case k.SpeakingStatus.Disabled:
a = {
focused: O.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-inactive-black-a46cd94b.png"),
normal: O.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-inactive-white-5e90a58e.png")
};
break;

case k.SpeakingStatus.Speaking:
a = {
focused: O.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-active-black-72954071.png"),
normal: O.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-active-white-57fbdf87.png")
};
break;

case k.SpeakingStatus.Silent:
a = e.sameSquad ? {
focused: O.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-inactive-black-a46cd94b.png"),
normal: O.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-inactive-white-5e90a58e.png")
} : null;
break;

default:
a = null;
}
if (a) {
var i = SpartaGlobals.bundleIsPC ? 0 : -1, s = {
texture: r || o ? a.focused : a.normal,
width: 17,
height: 18,
position: "absolute",
right: 0,
top: (e.rowHeight - 18) / 2 + i
};
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: s
},
_owner: null
};
}
return null;
}), K = g.observable({
id: null
}), X = g.action(function(e) {
K.id = e;
}), Y = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
contextMenuOpen: !1
}, this.focusItem = y.focus.create(this, "scoreboard_row_" + t.player.personaId), 
0 === t.index && (this.focusItem.autoFocusCandidate = !0), t.focusGroup && t.focusGroup.addMember(this.focusItem, t.index);
}
a(t, e), t.prototype.renderDisplayName = function s(e, t, n) {
var o = (e.platoon ? e.platoon + " " : "") + e.name, a = {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: o,
type: "emphasis",
size: "S",
style: n
}),
_owner: null
};
return o.length > 12 ? {
$$typeof: f,
type: M.Marquee,
key: null,
ref: null,
props: r(M.Marquee.defaultProps, {
children: a,
scroll: t,
style: {
maxWidth: v["default"].window.colSpan(5) - N.ELLIPSIS_OFFSET.M
},
showEllipsis: !0
}),
_owner: null
} : a;
}, t.prototype.getTextStyle = function l(e, t) {
return e || t ? z.focusedText : null;
}, t.prototype.getBackgroundStyle = function u(e) {
return e ? z.myBackgroundStyle : this.props.sameSquad ? z.squadBackgroundStyle : null;
}, t.prototype.getPlayerInputs = function d(e) {
var t = this, n = [];
return n.push(new w["default"]({
action: function o() {
return t.viewPlayerCard(e);
},
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_VIEW_PROFILE"),
key: I["default"].Accept
})), C.tunguskaEndOfRoundStore.isReported(e.personaId) || n.push(new w["default"]({
action: function a() {
U["default"].display(new S["default"]({
content: {
$$typeof: f,
type: $["default"],
key: null,
ref: null,
props: r($["default"].defaultProps, {
player: e
}),
_owner: null
},
id: "scoreboardplayerpopup",
group: "scoreboardplayergroup",
stackable: !0,
leftAlignInputs: !0,
createButtons: !1,
inputs: [ new w["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: I["default"].Decline
}) ]
}));
},
label: __("ID_SPARTA_EOR_REPORT_EMBLEM"),
key: I["default"].Option1
})), n;
}, t.prototype.getInput = function b() {
return y.focus.system.controllerMode && this.focusItem.isFocused ? this.getPlayerInputs(this.props.player) : null;
}, t.prototype.viewPlayerCard = function _(e) {
e && e.platformId && H.showUserProfile(this.props.player.platformId);
}, t.prototype.renderExpandedContent = function T(e) {
var t = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: W.pcButtonBorder
},
_owner: null
};
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: this.getPlayerInputs(e).map(function(e, n) {
return {
$$typeof: f,
type: F["default"],
key: n,
ref: null,
props: r(F["default"].defaultProps, {
height: V / 2,
label: e.label,
labelDecoration: t,
inputKey: e.key,
action: e.action,
labelType: "normal",
iconSize: V / 2,
styleSheetOverride: W
}),
_owner: null
};
}),
style: z.extraContent
},
_owner: null
};
}, t.prototype.render = function E() {
var e = this, t = this.props.player || {}, n = this.props.isMe, o = t.rank || 0, a = o.toString(), i = this.props.sameSquad, s = "" === t.name ? t.personaId : t.name, l = this.focusItem.isFocused || this.isSelected, u = l && {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: [ z.focusedBackgroundStyle, this.isSelected ? z.selectedBackgroundStyle : {} ]
},
_owner: null
}, p = this.getTextStyle(l, n), d = l || n ? z.rankContainerFocused : {}, y = i && {
$$typeof: f,
type: q,
key: null,
ref: null,
props: r(q.defaultProps, {
onlineId: s,
rowHeight: V,
sameSquad: i,
isMe: n,
isFocused: l
}),
_owner: null
}, g = C.tunguskaEndOfRoundStore.unrankedGame ? function() {} : function() {
return X(e.isSelected ? null : t.personaId);
}, b = h["default"].createElement("surface", c({
style: [ z.playerRow, this.getBackgroundStyle(n) ]
}, this.focusItem.hooks, {
onClick: g
}), {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: this.props.placeNumber,
type: "emphasis",
size: "S",
style: [ z.placing, p ]
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: a,
size: "XXS",
style: [ z.rankTextStyle, p ]
}),
_owner: null
},
style: [ z.rankContainer, d ]
},
_owner: null
}, this.renderDisplayName(t, l, p), y ],
style: [ z.info ]
},
_owner: null
}, {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: t.kills + "",
type: "emphasis",
size: "S",
style: [ z.stat.kills, p ]
}),
_owner: null
}, {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: t.deaths + "",
type: "emphasis",
size: "S",
style: [ z.stat.deaths, p ]
}),
_owner: null
}, {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: t.score + "",
type: "emphasis",
size: "S",
style: [ z.stat.score, p ]
}),
_owner: null
}, u);
if (SpartaGlobals.bundleIsPC) {
var v = this.isSelected && this.renderExpandedContent(t);
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ b, v ],
style: {
flexDirection: "column",
flex: 1
}
},
_owner: null
};
}
return b;
}, p(t, [ {
key: "isSelected",
decorators: [ g.computed ],
get: function A() {
return this.props.player && this.props.player.personaId === K.id;
}
} ]);
var n = t;
return t = i("_$ScoreboardRow")(t) || t, t = R.observer(t) || t, t = P["default"]()(t) || t;
}(h["default"].Component);
t["default"] = Y, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return R(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(5), h = s(d), y = n(3), g = n(135), m = s(g), b = n(7), v = n(6), _ = s(v), S = n(54), T = s(S), w = n(13), E = s(w), I = n(12), C = s(I), A = n(16), P = n(11), O = {
_$SquadHighlight: {
displayName: "SquadHighlight"
}
}, R = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/SquadHighlight.jsx",
components: O,
locals: [],
imports: []
}), k = n(43), x = SpartaGlobals.bundleIsPC ? 110 : 100, M = x / 3, N = SpartaGlobals.bundleIsPC ? "M" : "S", D = SpartaGlobals.bundleIsPC ? "S" : "XS", U = [ P.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Squad_Tick_01-72b0cbbd.wav"), P.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Squad_Tick_02-81eed331.wav"), P.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Squad_Tick_03-41ad7dc9.wav"), P.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Squad_Tick_04-cc1a5a2c.wav"), P.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Squad_Tick_05-9d299db1.wav") ], L = {
highlightWrapper: {
flexDirection: "column",
alignItems: "center",
justifyContent: "center"
},
value: {
marginTop: _["default"].window.rowSpan(1),
alignSelf: "center"
},
focused: {
position: "absolute",
left: -4,
top: 0,
bottom: 0,
width: 2,
backgroundColor: "#ffffff"
},
wrapper: {
flexDirection: "row",
marginTop: _["default"].GUTTER
},
info: {
height: x,
justifyContent: "center"
},
recognitionText: {
color: "#ffffff",
opacity: .66
},
rankIcon: {
width: M,
height: M,
margin: [ 0, 2 * _["default"].GUTTER, 0, 2 * _["default"].GUTTER ],
backgroundColor: "#ffffff77",
alignSelf: "center"
},
rankWrapper: {
height: x,
justifyContent: "center",
alignItems: "center"
}
}, $ = function(e) {
function t(t) {
o(this, n), e.call(this, t);
var r = this.props.delay && this.props.delay < U.length ? this.props.delay : 0, a = U[r];
this.tickSound = y.Sound.load(a), this.squadHighlightAnimation = {
initialState: this.props.skipAnimation ? "to" : "from",
values: {
translateX: {
from: 500,
to: 0
},
opacity: {
from: 0,
to: 1
}
},
options: h["default"].extend({}, A.Animation.defaultTweenOptions, {
easing: "CubicInOut",
duration: 500
})
};
}
a(t, e), t.prototype.componentWillMount = function s() {
this.timeouts = [];
}, t.prototype.componentDidMount = function l() {
this.props.skipAnimation || this.play(100 * this.props.delay);
}, t.prototype.componentWillUnmount = function u() {
this.clearTimeouts();
}, t.prototype.getPlayerRecognitiontext = function p(e) {
var t = e.unitValue, n = e.name.toUpperCase(), o = "";
return "" !== e.personaId && e.unitValue > 0 && (o = n + ": " + t), {
$$typeof: c,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: o,
style: L.recognitionText,
size: D
}),
_owner: null
};
}, t.prototype.clearTimeouts = function d() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.play = function g(e) {
var t = this;
this.refs.animation.play(e), this.setTimeout(function() {
t.tickSound.play();
}, e + 100);
}, t.prototype.showPlayerCard = function v(e) {
e.platformId && k.showUserProfile(e.platformId);
}, t.prototype.render = function _() {
var e = this.focusItem.isFocused, t = this.props.highlight, n = t.player || {}, o = n.rank + "", a = n.name, i = e && y.focus.system.controllerMode ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: L.focused
},
_owner: null
} : null, s = new E["default"]({
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_VIEW_PROFILE"),
action: this.showPlayerCard.bind(this, this.props.highlight.player),
key: C["default"].Accept
});
return f["default"].createElement(y.AnimatedSurface, {
ref: "animation",
animation: this.squadHighlightAnimation,
style: L.wrapper
}, {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
children: [ {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
size: x,
user: n,
style: L.avatar
}),
_owner: null
}, i ],
input: s,
scale: !0,
triggerMode: "after",
focusItem: this.focusItem
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ L.rankIcon, this.props.rankImageStyle ]
},
_owner: null
}, {
$$typeof: c,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: o,
type: "emphasis",
size: "XS"
}),
_owner: null
} ],
style: L.rankWrapper
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: a,
type: "emphasis",
size: N
}),
_owner: null
}, this.getPlayerRecognitiontext(t) ],
style: L.info
},
_owner: null
});
};
var n = t;
return t = i("_$SquadHighlight")(t) || t, t = y.focusable("e28a6f6e:79")(t) || t;
}(f["default"].Component);
t["default"] = $, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return q(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(14), y = s(h), g = n(138), m = s(g), b = n(6), v = s(b), _ = n(17), S = s(_), T = n(7), w = n(25), E = s(w), I = n(302), C = s(I), A = n(303), P = s(A), O = n(57), R = n(157), k = s(R), x = n(107), M = s(x), N = n(49), D = s(N), U = n(457), L = s(U), $ = n(450), G = s($), F = n(451), B = s(F), j = n(455), H = s(j), V = n(106), z = n(30), W = {
_$Battlepacks: {
displayName: "Battlepacks"
}
}, q = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/Battlepacks.jsx",
components: W,
locals: [],
imports: []
}), K = function(e) {
function t(t) {
o(this, n), e.call(this, t);
var r = "", a = t.gameViewState.subRoute.split("?tab=");
2 === a.length && (r = a[1]), this.state = {
tabIndex: this.getIndexFromTabId(r),
previousTabIndex: 0
};
}
a(t, e), t.prototype.componentWillMount = function s() {
O.initialFetch.trigger(), D["default"].updateOffers([ "tunguska" ]);
}, t.prototype.componentWillUnmount = function l() {
E["default"].closeGroup("battlepack");
}, t.prototype.getIndexFromTabId = function u(e) {
if (!e) return 0;
for (var t = this.getTabs(), n = 0, r = 0; r < t.length; r++) if (t[r].id === e) {
n = r;
break;
}
return n;
}, t.prototype.getTabs = function f() {
var e = this.state && this.state.balance && this.state.balance.battlepacks || "0";
return [ {
component: L["default"],
props: {
centerCarousel: !0
},
id: "unopened",
title: function t() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_UNOPENED") + "(" + e + ")";
}
}, {
component: G["default"],
id: "get",
title: function n() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_GET");
}
}, {
component: H["default"],
id: "puzzles",
title: function r() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_PUZZLES");
}
}, {
component: B["default"],
id: "inventory",
title: function o() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_INVENTORY");
}
} ];
}, t.prototype.prevTab = function h() {
this.goToTab(this.state.tabIndex - 1);
}, t.prototype.goToTab = function g(e) {
var t = this.getTabs();
e > t.length - 1 ? e = 0 : 0 > e && (e = t.length - 1), this.setState({
tabIndex: e,
previousTabIndex: this.state.tabIndex
});
}, t.prototype.nextTab = function b() {
this.goToTab(this.state.tabIndex + 1);
}, t.prototype.renderTab = function _(e) {
return d["default"].createElement(e.component, p({
key: e.title
}, e.props));
}, t.prototype.renderContent = function w(e) {
var t = S["default"].content.width, n = this.state.tabIndex > this.state.previousTabIndex, o = [ {
propertyName: "translateX",
fromValue: n ? t : -t,
toValue: 0
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1
} ], a = [ {
propertyName: "translateX",
fromValue: 0,
toValue: n ? -t : t
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0
} ], i = {
flex: 1,
marginTop: this.props.topGutter ? v["default"].GUTTER : 0,
alignItems: "center"
};
return {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
children: this.renderTab(e),
inTweens: o,
outTweens: a,
playInOnMount: !1,
transitionId: e.id,
style: i
}),
_owner: null
};
}, t.prototype.render = function I() {
var e = void 0, t = void 0, n = this.getTabs()[this.state.tabIndex], o = null, a = null, i = this.state.balance && this.state.balance.scraps;
if ("undefined" != typeof i) {
var s = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS").toUpperCase();
a = {
$$typeof: c,
type: V.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(V.TunguskaBattlepackScraps.defaultProps, {
prefix: s,
value: i,
size: "M",
animated: !0
}),
_owner: null
};
}
var l = p({}, this.props, {
header: {
left: o,
middle: {
$$typeof: c,
type: T.Text,
key: null,
ref: null,
props: r(T.Text.defaultProps, {
style: z.localeLetterSpacing({
textLetterSpacing: 9
}),
size: "XXL",
value: __("ID_SPARTA_MENU_TITLE_BATTLEPACKS").toUpperCase()
}),
_owner: null
},
right: a
}
});
return e = this.renderContent(n), t = {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
active: n,
tabs: this.getTabs(),
title: __("ID_SPARTA_MENU_TITLE_BATTLEPACKS"),
goToTab: this.goToTab.bind(this),
nextTab: this.nextTab.bind(this),
prevTab: this.prevTab.bind(this)
}),
_owner: null
}, d["default"].createElement(C["default"], l, t, e);
};
var n = t;
return t = i("_$Battlepacks")(t) || t, t = y["default"]({
unopened: k["default"],
balance: M["default"]
})(t) || t;
}(d["default"].Component);
t["default"] = K, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return ie(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
return e ? [ {
component: F["default"],
id: "highlights",
title: function t() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_HIGHLIGHTS");
}
}, {
component: W["default"],
id: "scoreboard",
title: function n() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD");
}
} ] : ne.tunguskaEndOfRoundStore.unrankedGame ? [ {
component: W["default"],
id: "scoreboard",
title: function r() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD");
}
} ] : [ {
component: F["default"],
id: "highlights",
title: function o() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_HIGHLIGHTS");
}
}, {
component: j["default"],
id: "squad",
title: function a() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD");
}
}, {
component: V["default"],
id: "personal",
title: function i() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL");
}
}, {
component: W["default"],
id: "scoreboard",
title: function s() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD");
}
} ];
}
var u = n(4), c = s(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = s(d), y = n(3), g = n(12), m = s(g), b = n(13), v = s(b), _ = n(186), S = s(_), T = n(46), w = s(T), E = n(7), I = n(813), C = s(I), A = n(138), P = s(A), O = n(17), R = s(O), k = n(6), x = s(k), M = n(48), N = s(M), D = n(85), U = s(D), L = n(20), $ = s(L), G = n(826), F = s(G), B = n(829), j = s(B), H = n(827), V = s(H), z = n(828), W = s(z), q = n(303), K = s(q), X = n(11), Y = n(227), J = s(Y), Q = n(185), Z = n(30), ee = n(146), te = n(10), ne = n(73), re = n(79), oe = s(re), ae = {
_$EndOfRound: {
displayName: "EndOfRound"
}
}, ie = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/EndOfRound.jsx",
components: ae,
locals: [],
imports: []
}), se = X.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), le = {
labelStyle: {
textLetterSpacing: 1,
margin: [ 12, 4, 8, 4 ]
},
inputStyle: {
margin: [ 60, 0, 0, 0 ]
},
footer: {
right: {
alignItems: "flex-end"
},
left: {
flexDirection: "row",
alignItems: "center"
},
container: {
flexDirection: "row",
alignItems: "center"
},
image: {
height: 60,
width: 120
}
},
title: {
textLetterSpacing: 9,
fontSize: 52,
marginTop: 12
},
noReportContentContainer: {
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0,
flexDirection: "row",
justifyContent: "center",
alignItems: "center"
},
preloadFlare: {
position: "absolute",
enableMouseEvents: !1,
width: 1,
height: 1,
top: -1e3,
left: -1e3,
texture: se
}
}, ue = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.state = {
tabIndex: 0,
previousTabIndex: 0
}, this.mustQuitAfterUpdate = !1;
var a = t.gameState.isSpectator || "spectator" === t.gameState.role;
this.tabs = l(a), this.focusAncestor = y.focus.createAncestor("endofround"), this.focusAncestor.onFocusChildChanged.listen(function() {
r.updateInput();
});
}
a(t, e), t.prototype.componentWillUpdate = function s(e) {
this.props.gameState.isReady !== e.gameState.isReady && e.gameState.isReady && ne.tunguskaEndOfRoundStore.quitInProgress && (this.mustQuitAfterUpdate = !0);
}, t.prototype.componentDidUpdate = function u() {
this.mustQuitAfterUpdate && ne.tunguskaEndOfRoundStore.isQuitDuringLoadingEnabled && (this.mustQuitAfterUpdate = !1, 
Q.toggleQuittingOverlay(!1));
}, t.prototype.componentWillUnmount = function c() {
clearTimeout(this._timer), this.currentVideo && (this.currentVideo.stop(), delete this.currentVideo);
}, t.prototype.getBackgroundState = function d(e) {
var t = ne.tunguskaEndOfRoundStore.fallbackMapName, n = {
duration: 1e3
};
return {
hideOverlay: !0,
mapName: t,
isBlurred: !!this.state.eor || ne.tunguskaEndOfRoundStore.fallbackMapName,
showMap: !0,
tweenOptions: n
};
}, t.prototype.getInput = function g() {
var e = this;
return ne.tunguskaEndOfRoundStore.isQuitDuringLoadingEnabled && ee.operationFlow.state !== ee.OperationState.eor ? [ new v["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_QUIT"),
key: m["default"].Option2,
action: function t() {
return e.quitGame();
}
}) ] : [];
}, t.prototype.prevTab = function b() {
this.goToTab(this.state.tabIndex - 1);
}, t.prototype.goToTab = function _(e) {
e > this.tabs.length - 1 ? e = 0 : 0 > e && (e = this.tabs.length - 1), this.setState({
tabIndex: e,
previousTabIndex: this.state.tabIndex
});
}, t.prototype.nextTab = function T() {
this.goToTab(this.state.tabIndex + 1);
}, t.prototype.goToScoreboard = function I() {
this.setState({
tabIndex: 3,
previousTabIndex: this.state.tabIndex
});
}, t.prototype.goToLoading = function A() {
Q.fadeBlack(function() {
N["default"].route("loading");
}, !0);
}, t.prototype.quitGame = function O() {
Q.quitWithConfirm(function() {
Q.toggleQuittingOverlay(!ne.tunguskaEndOfRoundStore.gameReadyToQuit && ee.operationFlow.state !== ee.OperationState.eor);
});
}, t.prototype.renderContent = function k(e, t) {
return t ? h["default"].createElement(e.component, {
key: e.id
}) : null;
}, t.prototype.getThisRoundText = function M(e, t) {
var n = SpartaGlobals.bundleIsConsole ? "\r\n" : " | ", r = oe["default"].getState(), o = r.tunguska, a = "", i = "";
if (e && "" !== e) {
var s = o && o.modes && o.modes.filter(function(t) {
return t.filterKey.toLowerCase() === e.toLowerCase();
});
if (s && s.length > 0) {
var l = s[0];
a = l.prettyName;
}
}
if (t && "" !== t) {
var u = o && o.maps && o.maps.filter(function(e) {
return e.filterKey.toLowerCase() === t.toLowerCase();
});
if (u && u.length > 0) {
var c = u[0];
i = c.prettyName;
}
}
return a.toUpperCase() + n + i.toUpperCase();
}, t.prototype.render = function D() {
var e = this, t = ne.tunguskaEndOfRoundStore.unrankedGame, n = t ? ne.tunguskaEndOfRoundStore.unrankedData : ne.tunguskaEndOfRoundStore.data, o = null, a = null, i = null, s = null, l = this.tabs[this.state.tabIndex], u = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: le.preloadFlare
},
_owner: null
}, c = Z.isRTLLanguage(), d = null, y = ne.tunguskaEndOfRoundStore.fallbackGameMode || "", g = ne.tunguskaEndOfRoundStore.fallbackMapName || "", b = this.getThisRoundText(y, g), _ = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_THIS_ROUND"), T = {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
image: "",
title: _.toUpperCase(),
description: b,
rightAligned: c
}),
_owner: null
}, I = ne.tunguskaEndOfRoundStore.readyToShowNextInfo;
if (ne.tunguskaEndOfRoundStore.nextGameMode && ne.tunguskaEndOfRoundStore.nextLevelName && I) {
var A = ne.tunguskaEndOfRoundStore.nextGameMode || "", O = ne.tunguskaEndOfRoundStore.nextLevelName || "", k = this.getThisRoundText(A, O), M = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NEXT_ROUND");
d = {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
image: "",
title: M.toUpperCase(),
description: k,
rightAligned: !c
}),
_owner: null
};
}
c ? (i = T, a = d) : (a = T, i = d);
var N = [];
ee.operationFlow.state === ee.OperationState.eor ? N.push(new v["default"]({
label: __("ID_SPARTA_ACTION_QUIT"),
key: m["default"].Start,
action: function V() {
return e.quitGame();
}
})) : ne.tunguskaEndOfRoundStore.isLoadingDataEnabled && !ne.tunguskaEndOfRoundStore.loadingScreenReady || ne.tunguskaEndOfRoundStore.quitInProgress || N.push(new v["default"]({
label: __("ID_SPARTA_ACTION_CONTINUE").toLocaleUpperCase(),
key: m["default"].Start,
blockInputFor: Q.fadeOptions.totalSlowDuration,
action: function z() {
return e.goToLoading();
}
}));
var D = p({}, this.props, {
fadeInBlack: !0,
nextRoundCountDown: {
autoDismiss: !0
},
backgroundState: this.getBackgroundState(n),
rightButtons: N,
header: {
left: a,
middle: {
$$typeof: f,
type: J["default"],
key: null,
ref: null,
props: r(J["default"].defaultProps, {
text: __("ID_SPARTA_GAMESTATE_END_OF_ROUND").toLocaleUpperCase()
}),
_owner: null
},
right: i
}
});
n ? (s = this.renderContent(l, n), o = {
$$typeof: f,
type: K["default"],
key: null,
ref: null,
props: r(K["default"].defaultProps, {
active: l,
tabs: this.tabs,
title: __("ID_SPARTA_GAMESTATE_END_OF_ROUND").toLocaleUpperCase(),
goToTab: this.goToTab.bind(this),
nextTab: this.nextTab.bind(this),
prevTab: this.prevTab.bind(this)
}),
_owner: null
}) : s = !n && t ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: E.Text,
key: null,
ref: null,
props: r(E.Text.defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_UNRANKED_REPORT"),
size: "XL",
style: "emphasis"
}),
_owner: null
},
style: le.noReportContentContainer
},
_owner: null
} : {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {}),
_owner: null
},
style: le.noReportContentContainer
},
_owner: null
};
var L = new v["default"]({
key: m["default"].Select,
action: function W() {
return e.goToScoreboard();
}
}), $ = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: U["default"],
key: "go-to-scoreboard-input",
ref: null,
props: r(U["default"].defaultProps, {
visible: !1,
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_TO_SCOREBOARD"),
inputKey: L.key,
action: L.action
}),
_owner: null
},
style: {
height: 0,
width: 0,
position: "absolute",
opacity: 0
}
},
_owner: null
}, G = R["default"].content.width, F = this.state.tabIndex > this.state.previousTabIndex, B = [ {
propertyName: "translateX",
fromValue: F ? G : -G,
toValue: 0
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1
} ], j = [ {
propertyName: "translateX",
fromValue: 0,
toValue: F ? -G : G
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0
} ], H = {
flex: 1,
marginTop: this.props.topGutter ? x["default"].GUTTER : 0
};
return h["default"].createElement(S["default"], D, $, u, o, {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
children: s,
inTweens: B,
outTweens: j,
playInOnMount: !1,
transitionId: l.id,
style: H
}),
_owner: null
});
};
var n = t;
return t = i("_$EndOfRound")(t) || t, t = te.observer(t) || t, t = $["default"]()(t) || t;
}(h["default"].Component);
t["default"] = ue, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return N(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(186), y = s(h), g = n(495), m = n(488), b = s(m), v = n(489), _ = s(v), S = n(490), T = s(S), w = n(492), E = s(w), I = n(493), C = s(I), A = n(494), P = s(A), O = n(491), R = s(O), k = n(227), x = s(k), M = {
_$Help: {
displayName: "Help"
}
}, N = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/Help.jsx",
components: M,
locals: [],
imports: []
}), D = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e, t, n = p({}, this.props, {
header: {}
});
e = this.props.gameState.isSingleplayer ? "help-sp" : "help-mp";
var o = this.props.gameViewState.route;
return "playing/wwcesupport/help" === o ? (t = {
$$typeof: c,
type: g.WwceSupportOverview,
key: null,
ref: null,
props: r(g.WwceSupportOverview.defaultProps, {}),
_owner: null
}, n.header.middle = {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
text: __("ID_SPARTA_MAIN_TITLE_HELP")
}),
_owner: null
}) : "playing/wwcesupport/help/articledetail" === o ? t = {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {}),
_owner: null
} : "playing/wwcesupport/help/categoryselection" === o ? (t = {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {}),
_owner: null
}, n.header.middle = {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
text: __("ID_SPARTA_MENU_TITLE_HELP_CONTACT_US")
}),
_owner: null
}) : "playing/wwcesupport/help/channelselection" === o || "playing/wwcesupport/help/categoryselection/channelselection" === o ? (t = {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {}),
_owner: null
}, n.header.middle = {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
text: __("ID_SPARTA_MENU_TITLE_HELP_CONTACT_US")
}),
_owner: null
}) : "playing/wwcesupport/help/channelselection/callback" === o || "playing/wwcesupport/help/categoryselection/channelselection/callback" === o ? (t = {
$$typeof: c,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {}),
_owner: null
}, n.header.middle = {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
text: __("ID_SPARTA_MENU_TITLE_HELP_CONTACT_US")
}),
_owner: null
}) : "playing/wwcesupport/help/channelselection/callbackconfirmation" === o || "playing/wwcesupport/help/categoryselection/channelselection/callbackconfirmation" === o ? t = {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {}),
_owner: null
} : "playing/wwcesupport/help/channelselection/callus" === o || "playing/wwcesupport/help/categoryselection/channelselection/callus" === o ? t = {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {}),
_owner: null
} : ("playing/wwcesupport/help/channelselection/callbackDeflection" === o || "playing/wwcesupport/help/categoryselection/channelselection/callbackDeflection" === o) && (t = {
$$typeof: c,
type: R["default"],
key: null,
ref: null,
props: r(R["default"].defaultProps, {}),
_owner: null
}), d["default"].createElement(y["default"], p({
contentId: e
}, n), t);
};
var n = t;
return t = i("_$Help")(t) || t;
}(d["default"].Component);
t["default"] = D, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return function(t) {
return ve(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = [];
return e.text && t.push({
$$typeof: y,
type: N.Text,
key: null,
ref: null,
props: a(N.Text.defaultProps, {
value: e.text.toUpperCase(),
size: "S",
style: {
textAlignForRTL: "left"
}
}),
_owner: null
}), e.isCustomGames && (t.push({
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
style: {
width: M["default"].GUTTER
}
},
_owner: null
}), t.push({
$$typeof: y,
type: N.Text,
key: null,
ref: null,
props: a(N.Text.defaultProps, {
value: __("ID_SPARTA_FILTER_CUSTOM_FILTERS"),
size: "S",
style: {
color: "#FF9900"
}
}),
_owner: null
})), {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: {
width: M["default"].getWidth(24),
flexDirection: "row"
}
},
_owner: null
};
}
function u(e, t) {
var n = W["default"].getState()[t], r = {
text: V.getServerSettingsOneliner(e, n),
isCustomGames: !1
};
return l(r);
}
function c(e, t) {
var n = W["default"].getState()[t], r = H.getFilterSummary(e, n);
return l(r);
}
var p = n(4), f = s(p);
t.__esModule = !0;
var d = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), h = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, y = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, g = n(1), m = s(g), b = n(5), v = s(b), _ = n(10), S = n(9), T = n(3), w = n(20), E = s(w), I = n(28), C = s(I), A = n(14), P = s(A), O = n(17), R = s(O), k = n(44), x = n(6), M = s(x), N = n(7), D = n(136), U = s(D), L = n(161), $ = s(L), G = n(13), F = s(G), B = n(12), j = s(B), H = n(254), V = n(287), z = n(104), W = s(z), q = n(208), K = n(79), X = s(K), Y = n(35), J = s(Y), Q = n(48), Z = s(Q), ee = n(56), te = s(ee), ne = n(182), re = n(186), oe = s(re), ae = n(460), ie = s(ae), se = n(459), le = s(se), ue = n(185), ce = n(145), pe = n(146), fe = n(258), de = n(188), he = n(805), ye = s(he), ge = n(73), me = n(30), be = {
_$GameInfo: {
displayName: "GameInfo"
},
_$MatchmakingStatus: {
displayName: "MatchmakingStatus"
},
_$Loading: {
displayName: "Loading"
}
}, ve = f["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/Loading.jsx",
components: be,
locals: [],
imports: []
}), _e = T.getBuildInfo().isCTE(), Se = S.observable(!1), Te = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.getPrimarySettings = function s(e) {
var t = [];
return e.custom && t.push({
text: __("ID_SPARTA_SERVER_TYPE_CUSTOM_GAME"),
color: "#ff9900"
}), t;
}, t.prototype.getMapData = function l(e) {
return v["default"].find(this.state.gameData.maps, function(t) {
return t.filterKey === e;
});
}, t.prototype.render = function p() {
var e = this, t = this.props.server, n = t && t.mapMode, r = null;
if (ge.tunguskaEndOfRoundStore.isLoadingDataEnabled) {
var o = ge.tunguskaEndOfRoundStore.nextLevelName, i = ge.tunguskaEndOfRoundStore.nextGameMode;
i && (n = i), r = this.getMapData(o);
}
var s, l, p, f, d, g = null;
t && this.state.gameData ? s = v["default"].find(this.state.gameData.gameModes, function(e) {
return e.filterKey === n;
}) : this.props.session && this.state.gameData && (s = v["default"].find(this.state.gameData.gameModes, function(t) {
return t.filterKey === v["default"].keys(e.props.session.filter.gameModes)[0];
})), l = s && s.catchphrase || "", p = s && s.description || "";
var m = 0;
m = me.isRTLLanguage() ? M["default"].getWidth(SpartaGlobals.bundleIsConsole ? 16 : 22) : M["default"].getWidth(SpartaGlobals.bundleIsConsole ? 22 : 28);
var b = me.isRTLLanguage() ? {
width: m,
textAlignForRTL: "left"
} : {
width: m,
margin: [ 2 * M["default"].GUTTER, 0, 2 * M["default"].GUTTER, 0 ]
}, _ = me.isRTLLanguage() ? {
width: m,
textAlignForRTL: "left"
} : {
width: m
}, S = me.isRTLLanguage() ? {
width: m,
justifyContent: "flex-end"
} : {
width: m
}, T = me.isRTLLanguage() ? {
width: m
} : {};
if (t && Se.get()) {
var w = t.mapNamePretty, E = t.mapModePretty;
ge.tunguskaEndOfRoundStore.isLoadingDataEnabled && (r && (w = r.prettyName), s && (E = s.prettyName)), 
f = {
text: E
}, d = {
text: w
}, g = {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: y,
type: ie["default"],
key: null,
ref: null,
props: a(ie["default"].defaultProps, {
elements: v["default"].flatten([ d, f, this.getPrimarySettings(t) ]),
style: S
}),
_owner: null
}, {
$$typeof: y,
type: N.Text,
key: null,
ref: null,
props: a(N.Text.defaultProps, {
value: l,
size: "XXL",
style: b
}),
_owner: null
}, {
$$typeof: y,
type: N.Text,
key: null,
ref: null,
props: a(N.Text.defaultProps, {
value: p,
size: "S",
style: h({}, _, {
marginBottom: 2 * M["default"].GUTTER
})
}),
_owner: null
}, {
$$typeof: y,
type: ye["default"],
key: null,
ref: null,
props: a(ye["default"].defaultProps, {
gameMode: n,
map: t.mapName,
gameId: t.game,
style: T
}),
_owner: null
}, u(t.settings, t.game) ]
},
_owner: null
};
} else this.props.session && pe.operationFlow.state === pe.OperationState.none && (g = {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: [ c(this.props.session.filter, this.props.session.gameId), {
$$typeof: y,
type: N.Text,
key: null,
ref: null,
props: a(N.Text.defaultProps, {
value: l,
size: "XXL",
style: b
}),
_owner: null
}, {
$$typeof: y,
type: N.Text,
key: null,
ref: null,
props: a(N.Text.defaultProps, {
value: p,
size: "S",
style: _
}),
_owner: null
} ]
},
_owner: null
});
return {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: g,
style: {
flexDirection: "row",
marginTop: R["default"].dangerZoneSize.height / 2
}
},
_owner: null
};
};
var n = t;
return t = i("_$GameInfo")(t) || t, t = P["default"]({
gameData: C["default"](X["default"], k.tunguskaGameId)
})(t) || t, t = _.observer(t) || t;
}(m["default"].Component), we = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.renderStages = function s() {
var e = me.isRTLLanguage() ? {
marginRight: 2 * M["default"].GUTTER,
width: M["default"].getWidth(9.4),
textAlignForRTL: "left"
} : {
marginLeft: 2 * M["default"].GUTTER
};
return v["default"].map(fe.matchmakingCheckList.steps, function(t, n) {
return {
$$typeof: y,
type: "surface",
key: "step-" + n,
ref: null,
props: {
children: me.localeRearrange([ {
$$typeof: y,
type: U["default"],
key: null,
ref: null,
props: a(U["default"].defaultProps, {
value: t.done
}),
_owner: null
}, {
$$typeof: y,
type: N.Text,
key: null,
ref: null,
props: a(N.Text.defaultProps, {
value: t.name.toUpperCase(),
size: "S",
style: e
}),
_owner: null
} ]),
style: {
flexDirection: "row",
marginBottom: M["default"].GUTTER
}
},
_owner: null
};
});
}, t.prototype.render = function l() {
return {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderStages()
},
_owner: null
};
};
var n = t;
return t = i("_$MatchmakingStatus")(t) || t, t = _.observer(t) || t;
}(m["default"].Component), Ee = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.mustQuitAfterUpdate = !1;
}
o(t, e), t.prototype.componentWillMount = function s() {
this.updateServerInfo(this.props);
}, t.prototype.componentWillUpdate = function l(e) {
var t = pe.operationFlow.state !== pe.OperationState.none;
this.props.gameState.isReady !== e.gameState.isReady && e.gameState.isReady && (ge.tunguskaEndOfRoundStore.quitInProgress ? this.mustQuitAfterUpdate = !0 : ce.nextRoundCountDown.active || t || this.enterGame()), 
this.updateServerInfo(e);
}, t.prototype.componentDidUpdate = function u() {
this.mustQuitAfterUpdate && ge.tunguskaEndOfRoundStore.isQuitDuringLoadingEnabled && (this.mustQuitAfterUpdate = !1, 
ue.toggleQuittingOverlay(!1, this.hideBackground));
}, t.prototype.getInput = function c() {
var e = this, t = [];
return this.props.gameViewState.isVisible ? (this.acceptMatchmakingInputs() || this.props.gameState.queue.status === ne.QueueStatus.Queued ? t.push(new F["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_CANCEL"),
key: j["default"].Decline,
action: function n() {
return e.doQuitGame();
}
})) : ge.tunguskaEndOfRoundStore.isQuitDuringLoadingEnabled && ce.nextRoundCountDown.active ? t.push(new F["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_QUIT"),
key: j["default"].Option2,
action: function r() {
return e.quitGame();
}
})) : this.props.gameState.isReady && this.props.gameState.queue.status !== ne.QueueStatus.Queued && t.push(new F["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_JOIN"),
key: j["default"].Option1,
action: function o() {
return e.enterGame();
}
})), this.acceptMatchmakingInputs() && pe.operationFlow.showLoadingScreen ? t.push(new F["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_BROWSE_WHILE_WAITING"),
key: j["default"].Start,
action: function a() {
Z["default"].browseWhileWaiting(!0), e.hideBackground();
}
})) : this.acceptQueueInputs() && pe.operationFlow.showLoadingScreen ? t.push(new F["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_BROWSE_WHILE_WAITING"),
key: j["default"].Start,
action: function i() {
Z["default"].browseWhileWaiting(!0);
}
})) : ce.nextRoundCountDown.active && t.push(new F["default"]({
visible: !0,
label: __("ID_SPARTA_GAMESTATE_PREVIOUS_ROUND"),
key: j["default"].Start,
blockInputFor: ue.fadeOptions.totalSlowDuration,
action: function s() {
return e.gotoEor();
}
})), t) : [];
}, t.prototype.getBackgroundState = function p() {
var e = this.server && this.server.mapName;
if (ge.tunguskaEndOfRoundStore.isLoadingDataEnabled) {
var t = ge.tunguskaEndOfRoundStore.nextLevelName;
t && (e = t);
}
return {
mapName: e,
hideOverlay: !1,
isVisible: pe.operationFlow.showLoadingScreen,
isBlurred: pe.operationFlow.showLoadingScreen,
showMap: Se.get() || ce.nextRoundCountDown.active
};
}, t.prototype.gotoEor = function f() {
ue.fadeBlack(S.action("hide bgstate overlay", function() {
de.backgroundState.hideOverlay = !0, Z["default"].route("eor");
}), !0);
}, t.prototype.enterGame = function g() {
q.tunguskaLevelStore.clearMpLevel(), ue.goToGame({
withBlackFade: !0,
changeRoute: "playing"
});
}, t.prototype.doQuitGame = function b() {
ce.nextRoundCountDown.stop(), J["default"].stopGame(), this.hideBackground();
}, t.prototype.quitGame = function v() {
pe.operationFlow.state !== pe.OperationState.eor && ue.quitWithConfirm(function() {
ue.toggleQuittingOverlay(!ge.tunguskaEndOfRoundStore.gameReadyToQuit);
});
}, t.prototype.isMatchmaking = function T() {
return this.props.match && this.props.match.sessionId && "SessionTimedOut" !== this.props.match.status;
}, t.prototype.acceptMatchmakingInputs = function w() {
return this.props.gameState.navigationState === te["default"].FrontEnd && this.isMatchmaking() && !fe.matchmakingCheckList.isServerReady;
}, t.prototype.acceptQueueInputs = function I() {
return this.props.gameState.navigationState === te["default"].FrontEnd && this.props.gameState.queue.status === ne.QueueStatus.Queued;
}, t.prototype.render = function C() {
var e = this.props.match && this.props.match.gameId && this.props.gameState.navigationState === te["default"].FrontEnd, t = h({}, this.props, {
nextRoundCountDown: {
autoDismiss: !0
},
backgroundState: this.getBackgroundState(),
rightButtons: null
}), n = null, r = "wait";
this.server && Se.get() ? (r = "server", n = {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
}) : e && (r = "matchmaking", n = {
$$typeof: y,
type: we,
key: null,
ref: null,
props: a(we.defaultProps, {}),
_owner: null
});
var o = this.props.gameState.isSpectator || "spectator" === this.props.gameState.role, i = o || _e ? null : {
$$typeof: y,
type: le["default"],
key: null,
ref: null,
props: a(le["default"].defaultProps, {
style: {
marginTop: 2 * M["default"].GUTTER
},
route: "loading"
}),
_owner: null
}, s = null !== n ? {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: y,
type: Te,
key: null,
ref: null,
props: a(Te.defaultProps, {
server: this.server,
session: this.props.match
}),
_owner: null
}, {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: y,
type: $["default"],
key: null,
ref: null,
props: a($["default"].defaultProps, {
children: [ n, i ],
transitionId: r
}),
_owner: null
},
style: {
position: "absolute",
bottom: M["default"].getHeight(10)
}
},
_owner: null
} ],
style: {
flex: 1
}
},
_owner: null
} : null;
return m["default"].createElement(oe["default"], t, s);
}, d(t, [ {
key: "hideBackground",
decorators: [ S.action ],
value: function A() {
de.backgroundState.isVisible = !1;
}
}, {
key: "updateServerInfo",
decorators: [ S.action ],
value: function P(e) {
this.server = e.gameState && e.gameState.server || e.match && e.match.server;
var t = !(!this.server || this.isMatchmaking()), n = pe.operationFlow.showLoadingScreen, r = this.server && this.isMatchmaking() && e.match.canJoin, o = e.gameState.navigationState === te["default"].LoadingScreen;
Se.set((t || r || o) && n);
}
} ]);
var n = t;
return t = i("_$Loading")(t) || t, t = E["default"]()(t) || t, t = _.observer(t) || t;
}(m["default"].Component);
t["default"] = Ee, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return Re(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = e.text || "";
return {
$$typeof: h,
type: ne.Text,
key: null,
ref: null,
props: r(ne.Text.defaultProps, {
value: t.toUpperCase(),
type: "normal",
color: "#ffffff",
size: "XS",
style: Le.spHeader
}),
_owner: null
};
}
function u(e) {
for (var t = [], n = e.codeBooksData, o = n ? n.codeBooksTotal : 0, a = n ? n.codeBooksCollected : 0, i = 0; o > i; i++) {
var s = null, u = i + 1;
a >= u && (s = {
opacity: .8
}), t.push({
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
style: [ Le.codeBookStyle, s ]
},
_owner: null
});
}
var c = null;
o && o > 0 && (c = {
$$typeof: h,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
text: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODE_BOOKS_FOUND")
}),
_owner: null
});
var p = Le.codeBooksContainer;
return Te.isRTLLanguage() && (p = d({}, p, {
justifyContent: "flex-end"
})), {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ c, {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: p
},
_owner: null
} ],
style: {
marginBottom: 3 * oe["default"].GUTTER
}
},
_owner: null
};
}
var c = n(4), p = s(c);
t.__esModule = !0;
var f = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, y = n(1), g = s(y), m = n(3), b = n(5), v = s(b), _ = n(44), S = n(20), T = s(S), w = n(10), E = n(14), I = s(E), C = n(185), A = n(31), P = n(118), O = s(P), R = n(34), k = s(R), x = n(35), M = s(x), N = n(120), D = s(N), U = n(165), L = n(25), $ = s(L), G = n(48), F = s(G), B = n(119), j = s(B), H = n(370), V = n(208), z = n(257), W = n(42), q = s(W), K = n(13), X = s(K), Y = n(12), J = s(Y), Q = n(16), Z = n(256), ee = n(459), te = s(ee), ne = n(7), re = n(6), oe = s(re), ae = n(186), ie = s(ae), se = n(227), le = s(se), ue = n(471), ce = s(ue), pe = n(108), fe = n(460), de = s(fe), he = n(806), ye = s(he), ge = n(366), me = n(58), be = n(8), ve = n(53), _e = s(ve), Se = n(52), Te = n(30), we = n(461), Ee = s(we), Ie = n(80), Ce = s(Ie), Ae = n(11), Pe = n(66), Oe = {
_$ChapterInfo: {
displayName: "ChapterInfo"
},
_$ObjectiveInfo: {
displayName: "ObjectiveInfo"
},
_$SingleplayerContent: {
displayName: "SingleplayerContent"
},
_$MultiplayerContent: {
displayName: "MultiplayerContent"
},
_$ServerInfo: {
displayName: "ServerInfo"
},
_$Playing: {
displayName: "Playing"
}
}, Re = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/Playing.jsx",
components: Oe,
locals: [],
imports: []
}), ke = Ae.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-codebook-34b9f74c.png"), xe = oe["default"].window.rowSpan(6), Me = oe["default"].getHeight(10), Ne = {
duration: 300
}, De = 400, Ue = m.getBuildInfo().isCTE(), Le = {
mpContainer: {
flex: 1,
flexDirection: "row",
alignItems: "flex-end",
paddingBottom: Me
},
spContainer: {
flex: 1,
flexDirection: "row",
paddingTop: xe,
paddingBottom: Me
},
menuStyleMp: {
width: oe["default"].getWidth(7)
},
menuStyleSp: {
width: oe["default"].getWidth(8)
},
mpRightContainer: {
flexDirection: "row",
justifyContent: "flex-start",
flex: 1
},
mpLeftContainer: {
flexDirection: "row",
flex: 1
},
spLeftContainer: {
flex: 1,
flexDirection: "column",
justifyContent: "space-between"
},
spRightContainer: {
flex: 1,
flexDirection: "column",
justifyContent: "space-between"
},
codeBookStyle: {
width: 29,
height: 36,
texture: ke,
marginRight: 2 * oe["default"].GUTTER,
opacity: .3
},
codeBooksContainer: {
flexDirection: "row",
height: 36
},
diagonalLine: {
zIndex: 20,
width: 1,
backgroundColor: "#ffffff1A",
rotateZ: -35
},
spChapterWrapper: {
flexDirection: "column",
justifyContent: "flex-end"
},
spHeader: {
marginBottom: 1.5 * oe["default"].GUTTER,
textAlignForRTL: "left"
},
spObjectiveText: {
flexDirection: "row",
flexWrap: "wrap",
textAlignForRTL: "left"
},
installStyle: {
alignItems: "flex-start"
}
}, $e = function(e) {
function t(n) {
o(this, t), e.call(this, n), this.isQuitting = !1;
}
return a(t, e), t.prototype.getInput = function n() {
var e = this;
return [ new X["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: J["default"].Decline,
action: function t() {
return e.gotoGameAction();
}
}), new X["default"]({
visible: !1,
key: J["default"].Start,
releaseAction: function n() {
return e.gotoGameAction();
}
}) ];
}, t.prototype.showCodex = function r(e) {
$["default"].display(new q["default"]({
content: e,
createButtons: !1,
leftAlignInputs: !0,
inputs: [ new X["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: J["default"].Decline
}) ]
}));
}, t.prototype.gotoGameAction = function i() {
var e = _e["default"].getState();
e.isEORShown || "eor" === e.route || C.goToGame();
}, t.prototype.quitGame = function s(e) {
this.isQuitting = !0, M["default"].stopGame(!0), e && k["default"].quitCampaign();
}, t.prototype.askToRestartCheckpoint = function l() {
A.confirm(__("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_CHECKPOINT_PROMPT"), __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_CHECKPOINT_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL"), "restartCheckpoint").then(function() {
C.hideSparta(function() {
return m.frostbite.sendMessage("sparta.restartCheckpoint");
});
});
}, t.prototype.askToRestartMission = function u() {
A.confirm(__("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_MISSION_PROMPT"), __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_MISSION_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL"), "restartMission").then(function() {
C.hideSparta(function() {
return m.frostbite.sendMessage("sparta.restartLevel");
});
});
}, t.prototype.askToQuitGame = function c(e) {
var t = this;
this.isQuitting || A.confirm(__("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_EXIT_PROMPT"), __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_EXIT_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL"), "leaveGame").then(function() {
return t.quitGame(e);
});
}, t.prototype.gotoHelp = function p() {
Ce["default"].updateSource("InGame"), F["default"].route("playing/wwcesupport/help");
}, t;
}(g["default"].Component), Ge = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.preloader = m.texture.createPreloader(this), this.preloader.preload(ke, void 0);
}
a(t, e), t.prototype.render = function s() {
var e = this.props.chapter, t = e.codexEntries.length, n = 3 >= t ? oe["default"].window.xParts(8) : oe["default"].window.xParts(2 * t), o = t - 1, a = be.onlineState.isOnlineBlazeAndGateway, i = Te.isRTLLanguage() ? e.codexEntries.reverse() : e.codexEntries, s = i.map(function(e, t) {
var s = i[t];
if (s) {
var l = function() {
var e = {
$$typeof: h,
type: ge.TunguskaCodexPopup,
key: null,
ref: null,
props: r(ge.TunguskaCodexPopup.defaultProps, {
codex: s,
isOffline: !a,
completedOverride: s.isCollected
}),
_owner: null
}, i = [ new X["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: J["default"].Accept,
blockInputFor: 500,
action: function u() {
return $["default"].display(new q["default"]({
content: e,
createButtons: !1,
leftAlignInputs: !0,
inputs: [ new X["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: J["default"].Decline
}) ]
}));
}
}) ], l = t !== o ? oe["default"].GUTTER : 0;
return {
v: {
$$typeof: h,
type: Z.TunguskaCodexCard,
key: null,
ref: null,
props: r(Z.TunguskaCodexCard.defaultProps, {
entry: s,
buttons: i,
hasNoSideMargin: !0,
skipProgress: !0,
completedOverride: s.isCollected,
style: {
marginRight: l,
width: n,
height: 1.4 * n
}
}),
_owner: null
}
};
}();
if ("object" == typeof l) return l.v;
}
}), c = {
flexDirection: "row"
};
Te.isRTLLanguage() && (c.justifyContent = "flex-end");
var p = H.tunguskaCampaignStore.currentObjective;
return {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: u,
key: null,
ref: null,
props: r(u.defaultProps, {
codeBooksData: p
}),
_owner: null
}, {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
text: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODEX_ENTRIES")
}),
_owner: null
}, {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: s,
style: c
},
_owner: null
} ]
},
_owner: null
} ],
style: Le.spChapterWrapper
},
_owner: null
};
};
var n = t;
return t = i("_$ChapterInfo")(t) || t, t = w.observer(t) || t;
}(g["default"].Component), Fe = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CURRENT_OBJECTIVE_TITLE"), t = H.tunguskaCampaignStore.currentObjective, n = null, o = null;
return t && "" !== t.title && (n = {
$$typeof: h,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
text: e
}),
_owner: null
}, o = {
$$typeof: h,
type: ne.Text,
key: null,
ref: null,
props: r(ne.Text.defaultProps, {
value: t.title,
type: "emphasis",
size: "S",
style: Le.spObjectiveText
}),
_owner: null
}), {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ n, o ]
},
_owner: null
};
};
var n = t;
return t = i("_$ObjectiveInfo")(t) || t, t = w.observer(t) || t;
}(g["default"].Component), Be = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getChildContext = function s() {
return {
routeConfig: new Se.Route({
gameId: _.tunguskaGameId,
fonts: {
normal: me.localeState.fonts.tunguska.normal,
emphasis: me.localeState.fonts.tunguska.emphasis,
letterSpacing: 2
}
})
};
}, t.prototype.getChapter = function l() {
var e = this.props.levelName && this.props.levelName.toLowerCase();
return H.tunguskaCampaignStore.getChapter(e);
}, t.prototype.handleShowCodex = function u(e) {
var t = null, n = !be.onlineState.isOnlineBlazeAndGateway, o = n ? H.tunguskaCampaignStore.getCodexEntryById(e.tag) : z.tunguskaCodexStore.getCodexEntryById(e.tag);
t = o ? {
$$typeof: h,
type: ge.TunguskaCodexPopup,
key: null,
ref: null,
props: r(ge.TunguskaCodexPopup.defaultProps, {
codex: o,
isOffline: n,
completedOverride: !0
}),
_owner: null
} : {
$$typeof: h,
type: ne.Text,
key: null,
ref: null,
props: r(ne.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_CODEX_INFO_UNAVAILABLE")
}),
_owner: null
}, this.showCodex(t, n);
}, t.prototype.filterStartPoints = function c(e) {
return e && v["default"].filter(e, function(e) {
return e.name && -1 === e.name.indexOf("DEV_ONLY");
});
}, t.prototype.isCheckpointRestartAvailable = function p() {
var e = !1, t = this.getChapter();
if (t) {
var n = this.filterStartPoints(t.startPoints);
e = n.length > 1;
}
return e;
}, t.prototype.getMenuItems = function f() {
var e = this, t = [];
return t.push({
ref: function n(t) {
return e.currentElement = t;
},
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESUME_TITLE"),
action: function r() {
return e.gotoGameAction();
}
}), t.push({
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_OPTIONS_TITLE"),
action: function o() {
return C.hideSparta(function() {
return m.frostbite.sendMessage("sparta.showOptions");
});
}
}), this.isCheckpointRestartAvailable() && t.push({
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_CHECKPOINT_TITLE"),
action: function a() {
return e.askToRestartCheckpoint();
},
enabled: this.isCheckpointRestartAvailable()
}), t.push({
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_MISSION_TITLE"),
action: function i() {
return e.askToRestartMission();
}
}), be.settingsStore.isFeatureEnabled("enableHelpSection") && t.push({
label: __("ID_SPARTA_MAIN_TITLE_HELP"),
action: function s() {
return e.gotoHelp();
}
}), t.push({
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_QUIT_TITLE"),
action: function l() {
return e.askToQuitGame(!0);
}
}), t;
}, t.prototype.render = function d() {
var e = this.getChapter(), t = void 0 !== e ? {
$$typeof: h,
type: Ge,
key: null,
ref: null,
props: r(Ge.defaultProps, {
chapter: e
}),
_owner: null
} : null, n = void 0 !== e ? {
$$typeof: h,
type: Fe,
key: null,
ref: null,
props: r(Fe.defaultProps, {
chapter: e
}),
_owner: null
} : null, o = this.state.installState.isMpInstalled ? null : {
$$typeof: h,
type: ce["default"],
key: null,
ref: null,
props: r(ce["default"].defaultProps, {
text: __("ID_SPARTA_INSTALL_INSTALLING_MP"),
state: this.state.installState,
style: Le.installStyle
}),
_owner: null
}, a = {
opacity: Q.Animation.tweenSwitch(0, 1, this.props.isVisible, Ne),
translateX: Q.Animation.tweenSwitch(-De, 0, this.props.isVisible, Ne)
}, i = {
opacity: Q.Animation.tweenSwitch(0, 1, this.props.isVisible, Ne),
translateX: Q.Animation.tweenSwitch(De, 0, this.props.isVisible, Ne)
};
return {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: o
},
_owner: null
}, {
$$typeof: h,
type: ye["default"],
key: null,
ref: null,
props: r(ye["default"].defaultProps, {
items: this.getMenuItems(),
style: Le.menuStyleSp,
leftBorderWidth: 2
}),
_owner: null
} ],
style: [ Le.spLeftContainer, a ]
},
_owner: null
}, {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ n, t ],
style: [ Le.spRightContainer, i ]
},
_owner: null
} ],
style: Le.spContainer
},
_owner: null
};
};
var n = t;
return t = i("_$SingleplayerContent")(t) || t, t = O["default"]({
handleShowCodex: k["default"].showCodex
})(t) || t, t = I["default"]({
installState: j["default"]
})(t) || t, t = w.observer(t) || t, t = m.focusable("77149a83:402")(t) || t, t = T["default"]()(t) || t;
}($e);
Be.childContextTypes = {
parentInputDecoratedComponent: g["default"].PropTypes.any,
parent: g["default"].PropTypes.any,
routeConfig: g["default"].PropTypes.instanceOf(Se.Route)
};
var je = function(e) {
function t(t) {
o(this, n), e.call(this, t), t.server && U.fetchServerDetails(this.props.server.game, null, this.props.server.guid);
}
a(t, e), t.prototype.getChildContext = function s() {
return {
routeConfig: new Se.Route({
gameId: _.tunguskaGameId,
fonts: {
normal: me.localeState.fonts.tunguska.normal,
emphasis: me.localeState.fonts.tunguska.emphasis,
letterSpacing: 2
}
})
};
}, t.prototype.handleShowReportEmblemPopup = function l(e) {
var t = {
personaId: e
};
$["default"].display(new q["default"]({
content: {
$$typeof: h,
type: Ee["default"],
key: null,
ref: null,
props: r(Ee["default"].defaultProps, {
player: t
}),
_owner: null
},
id: "scoreboardplayerpopup",
group: "scoreboardplayergroup",
stackable: !0,
leftAlignInputs: !0,
createButtons: !1,
inputs: [ new X["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: J["default"].Decline
}) ]
}));
}, t.prototype.handleShowCodex = function u(e) {
var t = null, n = !be.onlineState.isOnlineBlazeAndGateway, o = z.tunguskaCodexStore.getCodexEntryById(e.tag);
t = o ? {
$$typeof: h,
type: ge.TunguskaCodexPopup,
key: null,
ref: null,
props: r(ge.TunguskaCodexPopup.defaultProps, {
codex: o,
isOffline: n,
completedOverride: !0
}),
_owner: null
} : {
$$typeof: h,
type: ne.Text,
key: null,
ref: null,
props: r(ne.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_CODEX_INFO_UNAVAILABLE")
}),
_owner: null
}, this.showCodex(t, n);
}, t.prototype.getMenuItems = function c() {
var e = this, t = [];
return t.push({
ref: function n(t) {
return e.currentElement = t;
},
label: __("ID_SPARTA_ACTION_RESUME"),
action: function r() {
return e.gotoGameAction();
}
}), t.push({
label: __("ID_SPARTA_ACTION_SCOREBOARD"),
action: function o() {
return C.hideSparta(function() {
return m.frostbite.sendMessage("sparta.showScoreboard");
});
}
}), this.props.isDeployed && t.push({
label: __("ID_SPARTA_ACTION_TEAM_SETUP"),
action: function a() {
return C.hideSparta(function() {
return m.frostbite.sendMessage("sparta.showTeamSetup");
});
}
}), this.props.isDeployed && t.push({
label: __("ID_SPARTA_ACTION_REDEPLOY").toLocaleUpperCase(),
action: function i() {
return C.hideSparta(function() {
return m.frostbite.sendMessage("sparta.gameRedeploy");
});
}
}), this.isRSPAdmin && t.push({
label: __("ID_SPARTA_ACTION_SERVER_ADMIN"),
action: function s() {
return F["default"].route("playing", "rspadmin");
}
}), be.settingsStore.isFeatureEnabled("enableHelpSection") && !Ue && t.push({
label: __("ID_SPARTA_MAIN_TITLE_HELP"),
action: function l() {
return e.gotoHelp();
}
}), t.push({
label: __("ID_SPARTA_ACTION_OPTIONS"),
action: function u() {
return C.hideSparta(function() {
return m.frostbite.sendMessage("sparta.showOptions");
});
}
}), t.push({
enabled: !0,
label: __("ID_SPARTA_ACTION_QUIT"),
action: function c() {
return e.askToQuitGame();
}
}), t;
}, t.prototype.render = function p() {
var e = null;
this.props.isSpectator || Ue || (e = {
$$typeof: h,
type: te["default"],
key: null,
ref: null,
props: r(te["default"].defaultProps, {
route: "playing",
style: {
justifyContent: "flex-start"
}
}),
_owner: null
});
var t = {
opacity: Q.Animation.tweenSwitch(0, 1, this.props.isVisible, Ne),
translateX: Q.Animation.tweenSwitch(-De, 0, this.props.isVisible, Ne)
}, n = {
opacity: Q.Animation.tweenSwitch(0, 1, this.props.isVisible, Ne),
translateX: Q.Animation.tweenSwitch(De, 0, this.props.isVisible, Ne)
};
return {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: h,
type: ye["default"],
key: null,
ref: null,
props: r(ye["default"].defaultProps, {
items: this.getMenuItems(),
style: Le.menuStyleMp,
leftBorderWidth: 2
}),
_owner: null
},
style: [ Le.mpLeftContainer, t ]
},
_owner: null
}, {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: [ Le.mpRightContainer, n ]
},
_owner: null
} ],
style: Le.mpContainer
},
_owner: null
};
}, f(t, [ {
key: "isRSPAdmin",
get: function d() {
if (this.state.rspServerDetails && this.state.rspServerDetails.data && be.onlineState.sessionUser) {
var e = this.state.rspServerDetails.data.server, t = be.onlineState.sessionUser;
return e.ownerId === t.spartaUserId.personaId;
}
}
} ]);
var n = t;
return t = i("_$MultiplayerContent")(t) || t, t = O["default"]({
handleShowCodex: k["default"].showCodex,
handleShowReportEmblemPopup: k["default"].showReportEmblemFromGame
})(t) || t, t = I["default"]({
rspServerDetails: D["default"]
})(t) || t, t = T["default"]()(t) || t, t = w.observer(t) || t;
}($e);
je.childContextTypes = {
parentInputDecoratedComponent: g["default"].PropTypes.any,
parent: g["default"].PropTypes.any,
routeConfig: g["default"].PropTypes.instanceOf(Se.Route)
};
var He = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = V.tunguskaLevelStore.currentMPLevel, t = e && e.title || "", n = e && e.gameMode || "", o = t && n, a = {
alignItems: "flex-end",
opacity: Q.Animation.tweenSwitch(0, 1, o, {
duration: 300
})
}, i = this.props.server && pe.UGCAccessStore.getState().level === pe.UGCAccessLevel.Everyone && {
$$typeof: h,
type: Pe.Marquee,
key: null,
ref: null,
props: r(Pe.Marquee.defaultProps, {
children: {
$$typeof: h,
type: de["default"],
key: null,
ref: null,
props: r(de["default"].defaultProps, {
elements: [ {
text: this.props.server.name
} ]
}),
_owner: null
},
width: oe["default"].getWidth(7),
rtl: !0,
scroll: !0,
loop: !0
}),
_owner: null
};
return {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: de["default"],
key: null,
ref: null,
props: r(de["default"].defaultProps, {
elements: [ {
text: t
}, {
text: n
} ]
}),
_owner: null
}, i ],
style: a
},
_owner: null
};
};
var n = t;
return t = i("_$ServerInfo")(t) || t, t = w.observer(t) || t;
}(g["default"].Component), Ve = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this.props.gameState || {}, t = !e.isSingleplayer && {
$$typeof: h,
type: He,
key: null,
ref: null,
props: r(He.defaultProps, {
server: e.server
}),
_owner: null
}, n = d({}, this.props, {
backgroundState: {
isVisible: !0,
isBlurred: !1,
showMap: !1
},
header: {
middle: {
$$typeof: h,
type: le["default"],
key: null,
ref: null,
props: r(le["default"].defaultProps, {
text: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_GAME")
}),
_owner: null
},
right: t
}
}), o = void 0, a = this.props.gameViewState.isVisible;
if (e.isSingleplayer) o = {
$$typeof: h,
type: Be,
key: null,
ref: null,
props: r(Be.defaultProps, {
levelName: e.levelName,
isVisible: a
}),
_owner: null
}; else {
var i = e.isSpectator || "spectator" === e.role;
o = {
$$typeof: h,
type: je,
key: null,
ref: null,
props: r(je.defaultProps, {
isSpectator: i,
isDeployed: e.isDeployed,
server: e.server,
isVisible: a
}),
_owner: null
};
}
return g["default"].createElement(ie["default"], n, o);
};
var n = t;
return t = i("_$Playing")(t) || t;
}(g["default"].Component);
t["default"] = Ve, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return J(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), h = n(1), y = l(h), g = n(5), m = l(g), b = n(9), v = n(235), _ = n(14), S = l(_), T = n(3), w = n(13), E = l(w), I = n(12), C = l(I), A = n(34), P = l(A), O = n(305), R = l(O), k = n(302), x = l(k), M = n(55), N = n(70), D = l(N), U = n(7), L = n(136), $ = l(L), G = n(6), F = l(G), B = n(64), j = l(B), H = n(227), V = l(H), z = n(30), W = n(306), q = l(W), K = n(311), X = l(K), Y = {
_$TrackedMedals: {
displayName: "TrackedMedals"
}
}, J = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/TrackedMedals.jsx",
components: Y,
locals: [],
imports: []
}), Q = {
medalsTiming: {
flexDirection: "row",
position: "absolute",
top: -F["default"].getHeight(1),
left: 0,
right: 0,
height: F["default"].getHeight(4),
justifyContent: "center"
}
}, Z = function(e) {
function t() {
o(this, l), e.apply(this, arguments), a(this, "focusedMedal", n);
}
var n = {};
i(t, e), t.prototype.renderCurrentMedalDetails = function u(e) {
var t = 5e3, n = 1e3, o = z.isRTLLanguage(), a = e.currentStage && e.currentStage.code, i = !1, s = e.stages.length - 1, l = m["default"].map(e.stages, function(l, u) {
a || p || (a = l.code);
var c = a === l.code && !e.completion.completed;
c && (i = !0);
var p = l.progression.unlocked || !i || e.completion.completed, d = {
marginLeft: o ? 0 : 2 * F["default"].GUTTER,
opacity: c ? 1 : .7,
textAlignForRTL: "left",
marginRight: o ? 2 * F["default"].GUTTER : 0
}, h = {
flexDirection: "row",
marginBottom: F["default"].GUTTER,
justifyContent: o ? "flex-end" : "flex-start"
}, y = c ? "emphasis" : "normal", g = u === s ? t : n, m = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: U.Text,
key: null,
ref: null,
props: r(U.Text.defaultProps, {
value: g + __("ID_SPARTA_GENERIC_XP"),
size: "S",
type: y
}),
_owner: null
},
style: d
},
_owner: null
};
return {
$$typeof: f,
type: "surface",
key: "stage-" + l.code,
ref: null,
props: {
children: z.localeRearrange([ {
$$typeof: f,
type: $["default"],
key: null,
ref: null,
props: r($["default"].defaultProps, {
value: p,
style: {
opacity: c ? 1 : .7
}
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: U.Text,
key: null,
ref: null,
props: r(U.Text.defaultProps, {
value: l.name,
size: "S",
type: y
}),
_owner: null
},
style: d
},
_owner: null
}, m ]),
style: h
},
_owner: null
};
}), u = "", c = "";
e.isTracked && !e.completion.completed && (u = __("ID_SPARTA_TUNGUSKA_TRACKED").toUpperCase(), 
c = " - ");
var p = {
marginTop: SpartaGlobals.bundleIsPC ? 2 * F["default"].GUTTER : F["default"].getHeight(3),
marginLeft: F["default"].getWidth(SpartaGlobals.bundleIsPC ? 3.7 : 2)
}, d = {
marginBottom: F["default"].GUTTER
}, h = {}, y = {
flexDirection: "row",
marginBottom: 3 * F["default"].GUTTER
};
return z.isRTLLanguage() && (d.textAlignForRTL = "left", p.width = F["default"].getWidth(SpartaGlobals.bundleIsPC ? 24 : 20), 
y.justifyContent = "flex-end", h.width = F["default"].getWidth(SpartaGlobals.bundleIsPC ? 16 : 12), 
h.textAlignForRTL = "left"), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: U.Text,
key: null,
ref: null,
props: r(U.Text.defaultProps, {
value: e.displayName.toUpperCase(),
size: "L",
type: "emphasis",
style: d
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: z.localeRearrange([ {
$$typeof: f,
type: U.Text,
key: null,
ref: null,
props: r(U.Text.defaultProps, {
value: u,
type: "emphasis",
size: "S"
}),
_owner: null
}, {
$$typeof: f,
type: U.Text,
key: null,
ref: null,
props: r(U.Text.defaultProps, {
value: c + e.description,
size: "S",
style: h
}),
_owner: null
} ]),
style: y
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: l
},
_owner: null
} ],
style: p
},
_owner: null
};
}, t.prototype.render = function c() {
var e, t = this;
e = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: X["default"],
key: null,
ref: null,
props: r(X["default"].defaultProps, {
timeDelta: function() {
return 1e3 * q["default"].getTimeToNextReset();
}
}),
_owner: null
}, {
$$typeof: f,
type: U.Text,
key: null,
ref: null,
props: r(U.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_TIME_LEFT"),
style: {
marginLeft: F["default"].GUTTER
}
}),
_owner: null
} ],
style: Q.medalsTiming
},
_owner: null
};
var n = p({}, this.props, {
header: {
middle: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: V["default"],
key: null,
ref: null,
props: r(V["default"].defaultProps, {
text: __("ID_SPARTA_CAREER_MEDALS").toUpperCase()
}),
_owner: null
},
style: {
alignItems: "center"
}
},
_owner: null
}
}
});
if (0 === this.state.medals.length) return y["default"].createElement(x["default"], n, e, {
$$typeof: f,
type: j["default"],
key: null,
ref: null,
props: r(j["default"].defaultProps, {
text: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_NOMEDALSAVAILABLE"),
subText: ""
}),
_owner: null
});
var o = m["default"].find(this.state.medals, function(e) {
return e.isTracked;
}), a = m["default"].map(this.state.medals, function(e, n) {
var o = new E["default"]({
label: __("ID_SPARTA_TUNGUSKA_TRACK"),
key: C["default"].Accept,
action: function c() {
e.isTracked || e.completion.completed || P["default"].setTrackedMedal(e);
}
}), a = e.displayName, i = SpartaGlobals.bundleIsPC ? 40 : 23;
e.displayName.length > i && (a = e.displayName.substr(0, i - 3) + "...");
var s = __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_STAGES_DONE").replace("[[done]]", e.completion.done).replace("[[needed]]", e.completion.needed), l = {
$$typeof: f,
type: U.Text,
key: null,
ref: null,
props: r(U.Text.defaultProps, {
value: s,
size: "XS",
style: {
margin: [ 0, 3 * F["default"].GUTTER, 3 * F["default"].GUTTER, 3 * F["default"].GUTTER ],
textAlignForRTL: "left"
}
}),
_owner: null
}, u = {
position: "absolute",
right: 0,
bottom: 0,
left: 0
};
return {
$$typeof: f,
type: T.Focusable,
key: null,
ref: null,
props: r(T.Focusable.defaultProps, {
children: function p(t) {
var n = t.isFocused || t.isHovered, i = e.isTracked ? {
$$typeof: f,
type: U.Text,
key: null,
ref: null,
props: r(U.Text.defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL").toUpperCase(),
size: SpartaGlobals.bundleIsPC ? "S" : "XS",
type: "emphasis",
style: {
marginBottom: F["default"].GUTTER,
textAlignForRTL: "left"
}
}),
_owner: null
} : void 0;
return {
$$typeof: f,
type: M.BasicCard,
key: null,
ref: null,
props: r(M.BasicCard.defaultProps, {
focusItem: t,
useGrayScale: e.completion.percentage < 1,
inactiveHighlightColor: e.isTracked ? "#ffffff33" : void 0,
input: o,
size: SpartaGlobals.bundleIsPC ? "SSM" : "S",
icon: e.imageUrl,
fold: l,
bottom: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ i, {
$$typeof: f,
type: U.Text,
key: null,
ref: null,
props: r(U.Text.defaultProps, {
value: a.toUpperCase(),
size: SpartaGlobals.bundleIsPC ? "M" : "S",
style: {
textAlignForRTL: "left"
}
}),
_owner: null
} ]
},
_owner: null
},
overlay: {
$$typeof: f,
type: D["default"],
key: null,
ref: null,
props: r(D["default"].defaultProps, {
style: u,
completed: e.completion.percentage,
segmented: e.stages.length,
backgroundColor: n ? "#00000033" : "#ffffff33"
}),
_owner: null
}
}),
_owner: null
};
},
onFocus: function() {
return t.updateFocusedMedal(e);
},
onBlur: function() {
return t.clearFocusedMedal(e);
},
debugName: "medal_card_" + e.displayName,
autoFocusCandidate: 0 === n
}),
_owner: null
};
}), i = SpartaGlobals.bundleIsPC ? F["default"].getHeight(15) : F["default"].getHeight(5), s = this.focusedMedal || o;
return y["default"].createElement(x["default"], n, e, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: a,
style: {
flexDirection: "row",
justifyContent: "center",
marginTop: i
}
},
_owner: null
}, s && this.renderCurrentMedalDetails(s));
}, d(t, [ {
key: "updateFocusedMedal",
decorators: [ b.action ],
value: function h(e) {
this.focusedMedal = e;
}
}, {
key: "clearFocusedMedal",
decorators: [ b.action ],
value: function g(e) {
SpartaGlobals.bundleIsPC && !T.focus.system.controllerMode && this.focusedMedal.id === e.id && (this.focusedMedal = null);
}
}, {
key: "focusedMedal",
decorators: [ b.observable ],
initializer: function _() {
return null;
},
enumerable: !0
} ], null, n);
var l = t;
return t = s("_$TrackedMedals")(t) || t, t = S["default"]({
medals: R["default"]
})(t) || t, t = v.observer(t) || t;
}(y["default"].Component);
t["default"] = Z, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return k(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(3), y = r(h), g = n(7), m = n(812), b = l(m), v = n(5), _ = l(v), S = n(16), T = n(187), w = l(T), E = n(811), I = l(E), C = n(11), A = n(73), P = n(10), O = n(115), R = {
_$Highlights: {
displayName: "Highlights"
}
}, k = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/eor/Highlights.jsx",
components: R,
locals: [],
imports: []
}), x = C.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/UX_Sparta_EOR_Woodenbox-254c1b2c.wav"), M = C.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Highlights_Highscore-2eaa41b0.wav"), N = C.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Battlepack_Flare-ba80aa6a.wav"), D = C.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/battlepack-flare-main-a7b03448.png"), U = 80, L = SpartaGlobals.bundleIsConsole ? 117 : 157, $ = SpartaGlobals.bundleIsConsole ? 192 : 256, G = 698, F = 207, B = {
highlights: {
flex: 1,
justifyContent: "flex-start",
flexDirection: "column"
},
highlightsWrapper: {
flexDirection: "row",
justifyContent: "space-around"
},
packWrapper: {
height: 160,
marginTop: SpartaGlobals.bundleIsConsole ? 0 : 30,
position: "relative",
flexDirection: "column",
alignItems: "center",
justifyContent: "center"
},
packs: {
flexDirection: "row",
justifyContent: "center",
alignItems: "center"
},
packImage: {
height: L,
width: $,
marginRight: 30
}
}, j = function(e) {
function t(t) {
a(this, n), e.call(this, t);
var r = A.tunguskaEndOfRoundStore.isViewed(A.EorPages.highlights), o = A.tunguskaEndOfRoundStore.battlePacks, i = o && o.players || [], s = (U + 4) * i.length + $ + 30, l = r ? 0 : s / 2 - $ / 2;
this.state = {
focusedId: null,
renderPlayers: !1,
packsContainerWidth: s
}, this.tweens = {
textTranslateY: S.Animation.tween("c77b6fb3:78", 200),
textTranslateX: S.Animation.tween("c77b6fb3:79", 0),
textOpacity: S.Animation.tween("c77b6fb3:80", 0),
overlayTextOpacity: S.Animation.tween("c77b6fb3:81", 0),
packImageTranslateY: S.Animation.tween("c77b6fb3:82", r ? 0 : 100),
packImageTranslateX: S.Animation.tween("c77b6fb3:83", l),
packImageOpacity: S.Animation.tween("c77b6fb3:84", r ? 1 : 0),
flareOpacity: S.Animation.tween("c77b6fb3:85", 0),
flareTranslateX: S.Animation.tween("c77b6fb3:86", -G / 2)
}, this.battlepackSound = y.Sound.load(x), this.flareSound = y.Sound.load(N), this.highlightsSound = y.Sound.load(M), 
this.highlightsSound.setVolume(1);
}
i(t, e), t.prototype.componentWillMount = function r() {
this.timeouts = [];
}, t.prototype.componentDidMount = function l() {
var e = 1e3, t = 3 * w["default"].highlights.highlight.base.delay + w["default"].highlights.highlight.grow.duration + e, n = A.tunguskaEndOfRoundStore.battlePacks || {};
A.tunguskaEndOfRoundStore.isViewed(A.EorPages.highlights) || (this.highlightsSound.play(), 
n.players && n.packs && n.players.length && this.play(t)), this._isMounted = !0;
}, t.prototype.componentWillUnmount = function u() {
A.tunguskaEndOfRoundStore.viewPage(A.EorPages.highlights), this._isMounted = !1, 
this.clearTimeouts();
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.getFactionFlagForTeam = function c(e, t) {
var n = "";
if (t) {
var r = _["default"].find(t.teams, function(t) {
return t.teamId === e;
});
r && (n = r.faction.imageUrl);
}
return n;
}, t.prototype.clearTimeouts = function f() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.play = function d(e) {
var t = this, n = 700, r = 1e3, o = 1500, a = e + n + o;
this.tweens.textOpacity.to(1, {
delay: e,
duration: n,
easing: [ 0, .33, .33, 1 ]
}), this.tweens.textTranslateY.to(100, {
delay: e,
duration: n,
easing: [ 0, .33, .33, 1 ]
}, function() {
t._isMounted && (t.tweens.flareOpacity.to(1, {
duration: r / 2
}, function() {
t.tweens.flareOpacity.to(0, {
duration: r / 2
});
}), t.tweens.flareTranslateX.to(G / 4, {
duration: r
}), t.tweens.overlayTextOpacity.to(.5, {
delay: 100,
duration: r / 2
}, function() {
t.tweens.overlayTextOpacity.to(0, {
duration: r / 2
});
}));
}), this.setTimeout(function() {
t.flareSound.play();
}, e + n - 200), this.tweens.textTranslateX.to(600, {
delay: a,
duration: 800
}), this.tweens.textOpacity.to(0, {
delay: a,
duration: 800
}), this.setTimeout(function() {
t.battlepackSound.play();
}, a + 600), this.tweens.packImageOpacity.to(1, {
delay: a + 600,
duration: 800
}), this.tweens.packImageTranslateY.to(0, {
delay: a + 600,
duration: 800
}, function() {
t._isMounted && t.tweens.packImageTranslateX.to(0, {
delay: 100,
duration: 800
}, function() {
t.setState({
renderPlayers: !0
});
});
});
}, t.prototype.renderPackInfo = function h(e, t, n) {
var r = this, a = [];
if (!e.players || !e.packs) return a;
var i = e.players, s = e.packs;
if (s.length) {
var l = s[0] ? s[0].imageUrl : "", u = {
texture: l,
translateY: this.tweens.packImageTranslateY.getStyle(),
translateX: this.tweens.packImageTranslateX.getStyle(),
opacity: this.tweens.packImageOpacity.getStyle()
};
a.push({
$$typeof: p,
type: "surface",
key: "leftImage",
ref: null,
props: {
style: [ B.packImage, u ]
},
_owner: null
});
}
return i.length && !function() {
var e = O.battlepackWinnersGroup;
i.forEach(function(i, s) {
var l = t && t.personaId === i.personaId;
a.push({
$$typeof: p,
type: I["default"],
key: "bpw-" + s,
ref: null,
props: o(I["default"].defaultProps, {
player: i,
size: U,
isMe: l || i.isMe,
focusGroup: e,
skipAnimation: n,
index: s,
isReady: r.state.renderPlayers
}),
_owner: null
});
});
}(), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: a,
style: [ B.packs, {
width: this.state.packsContainerWidth
} ]
},
_owner: null
};
}, t.prototype.renderHighlights = function m(e, t) {
var n = this, r = [];
return e && e.highlights ? !function() {
var a = e.highlights.length > 3;
e.highlights.forEach(function(i, s) {
var l = 0 === s, u = i.player.teamId || 0, c = n.getFactionFlagForTeam(u, e.scoreboard), f = !0, d = 0;
0 !== s && s % 2 === 0 && (f = !1), s > 2 ? d = 2 : s > 0 && (d = 1), s % 2 ? r.push({
$$typeof: p,
type: b["default"],
key: "h-" + s,
ref: null,
props: o(b["default"].defaultProps, {
big: l,
highlight: i,
delay: d,
index: s,
skipAnimation: t,
playSound: f,
flagUrl: c,
useNameMarquee: a
}),
_owner: null
}) : r.unshift({
$$typeof: p,
type: b["default"],
key: "h-" + s,
ref: null,
props: o(b["default"].defaultProps, {
big: l,
highlight: i,
delay: d,
index: s,
skipAnimation: t,
playSound: f,
flagUrl: c,
useNameMarquee: a
}),
_owner: null
});
});
}() : r = {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: o(g.Text.defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_HIGHLIGHTS")
}),
_owner: null
}, r;
}, t.prototype.render = function v() {
var e = A.tunguskaEndOfRoundStore.data, t = e.personalInfo, n = A.tunguskaEndOfRoundStore.isViewed(A.EorPages.highlights), r = null, a = A.tunguskaEndOfRoundStore.battlePacks || {}, i = {
color: "#FF6600",
position: "absolute",
left: 0,
top: 0,
right: 0,
bottom: 0,
opacity: this.tweens.overlayTextOpacity.getStyle()
}, s = {
position: "relative",
color: "#ffffff",
opacity: this.tweens.textOpacity.getStyle(),
translateY: this.tweens.textTranslateY.getStyle(),
translateX: this.tweens.textTranslateX.getStyle()
}, l = {
backgroundColor: "#ffff0010",
height: F,
width: G,
position: "absolute",
left: 0,
top: -F / 4 - 10,
texture: D,
opacity: this.tweens.flareOpacity.getStyle(),
translateX: this.tweens.flareTranslateX.getStyle()
}, u = this.renderHighlights(e, n);
if (a.players && a.packs && a.players.length) {
var c = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_BATTLEPACKS_DROP"), f = SpartaGlobals.bundleIsConsole ? "L" : "XL";
r = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: o(g.Text.defaultProps, {
value: c.toUpperCase(),
type: "normal",
size: f
}),
_owner: null
}, {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: o(g.Text.defaultProps, {
value: c.toUpperCase(),
type: "normal",
size: f,
style: i
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: l
},
_owner: null
} ],
style: s
},
_owner: null
};
}
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: u,
style: B.highlightsWrapper
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ r, this.renderPackInfo(a, t, n) ],
style: B.packWrapper
},
_owner: null
} ],
style: B.highlights
},
_owner: null
};
};
var n = t;
return t = s("_$Highlights")(t) || t, t = P.observer(t) || t;
}(d["default"].Component);
t["default"] = j, b["default"].propTypes = {
rank: d["default"].PropTypes.number
}, b["default"].defaultProps = {
rank: 5
}, j.title = function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_HIGHLIGHTS");
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(5), h = s(d), y = n(6), g = s(y), m = n(17), b = s(m), v = n(814), _ = s(v), S = n(462), T = n(810), w = s(T), E = n(73), I = n(10), C = {
_$Personal: {
displayName: "Personal"
}
}, A = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/eor/Personal.jsx",
components: C,
locals: [],
imports: []
}), P = {
main: {
flex: 1,
alignSelf: "center",
flexDirection: "column",
justifyContent: "space-between",
width: b["default"].safeZone.width,
marginBottom: g["default"].window.rowSpan(2)
},
top: {
flex: 0
},
bottom: {
flexDirection: "row"
},
scores: {
wrapper: {
flex: 2,
flexDirection: "column",
alignSelf: "flex-end"
},
mid: {
flexDirection: "row",
justifyContent: "space-around",
margin: [ g["default"].GUTTER, 0, 2 * g["default"].GUTTER, 0 ]
}
},
medals: {
wrapper: {
flex: 3,
marginRight: 100,
flexDirection: "column",
justifyContent: "flex-end"
}
}
}, O = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.componentWillUnmount = function s() {
E.tunguskaEndOfRoundStore.viewPage(E.EorPages.personal);
}, t.prototype.renderRankProgression = function l(e, t) {
var n = e.rankProgression, o = n.initialValue, a = n.scores, i = n.ranks, s = n.minutesToNextRank || 0;
return {
$$typeof: c,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
width: g["default"].window.rowSpan(20),
initialValue: o,
skipAnimation: t,
minutesToNextRank: s,
segments: a,
ranks: i
}),
_owner: null
};
}, t.prototype.renderMedals = function u(e, t) {
var n = e.awardTrain || [], o = null;
return o = {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
items: n,
skipAnimation: t
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: o,
style: P.medals.wrapper
},
_owner: null
};
}, t.prototype.renderModeSpecifics = function p(e, t, n, o) {
var a = h["default"].values(e), i = a.map(function(e, t) {
return {
$$typeof: c,
type: S.AnimatedStatRow,
key: null,
ref: null,
props: r(S.AnimatedStatRow.defaultProps, {
children: [ {
$$typeof: c,
type: S.Divider,
key: null,
ref: null,
props: r(S.Divider.defaultProps, {}),
_owner: null
}, {
$$typeof: c,
type: S.StatRow,
key: null,
ref: null,
props: r(S.StatRow.defaultProps, {
name: e.name,
value: e.value,
place: e.place
}),
_owner: null
} ],
delay: n + t,
skipAnimation: o
}),
_owner: null
};
});
return i.length && i.length > t ? i.slice(0, t) : i;
}, t.prototype.renderPersonalStats = function f(e, t) {
var n = e.stats, o = n.rankScore, a = 2, i = n.kills, s = n.kd, l = parseInt(n.spm.value || 0, 10);
return n ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: S.AnimatedStatBlock,
key: null,
ref: null,
props: r(S.AnimatedStatBlock.defaultProps, {
children: {
$$typeof: c,
type: S.StatBlock,
key: null,
ref: null,
props: r(S.StatBlock.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL_SCORE"),
value: o.value
}),
_owner: null
},
delay: 0,
skipAnimation: t
}),
_owner: null
},
style: P.scores.mid
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: S.AnimatedStatRow,
key: null,
ref: null,
props: r(S.AnimatedStatRow.defaultProps, {
children: [ {
$$typeof: c,
type: S.Divider,
key: null,
ref: null,
props: r(S.Divider.defaultProps, {}),
_owner: null
}, {
$$typeof: c,
type: S.StatRow,
key: null,
ref: null,
props: r(S.StatRow.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL_KILLS"),
value: i.value,
place: i.place
}),
_owner: null
} ],
delay: 0,
skipAnimation: t
}),
_owner: null
}, {
$$typeof: c,
type: S.AnimatedStatRow,
key: null,
ref: null,
props: r(S.AnimatedStatRow.defaultProps, {
children: [ {
$$typeof: c,
type: S.Divider,
key: null,
ref: null,
props: r(S.Divider.defaultProps, {}),
_owner: null
}, {
$$typeof: c,
type: S.StatRow,
key: null,
ref: null,
props: r(S.StatRow.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL_KD_RATIO"),
value: s.value,
decimals: 2,
place: s.place
}),
_owner: null
} ],
delay: 1,
skipAnimation: t
}),
_owner: null
}, this.renderModeSpecifics(n.modeSpecifics, 2, 2, t), {
$$typeof: c,
type: S.AnimatedStatRow,
key: null,
ref: null,
props: r(S.AnimatedStatRow.defaultProps, {
children: [ {
$$typeof: c,
type: S.Divider,
key: null,
ref: null,
props: r(S.Divider.defaultProps, {}),
_owner: null
}, {
$$typeof: c,
type: S.StatRow,
key: null,
ref: null,
props: r(S.StatRow.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL_ROUND_SCORE_PER_MIN"),
value: l,
place: l.place
}),
_owner: null
} ],
delay: a + 2,
skipAnimation: t
}),
_owner: null
} ]
},
_owner: null
} ],
style: P.scores.wrapper
},
_owner: null
} : void 0;
}, t.prototype.render = function d() {
var e = E.tunguskaEndOfRoundStore.data, t = e.personalInfo, n = E.tunguskaEndOfRoundStore.isViewed(E.EorPages.personal);
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderRankProgression(t, n),
style: P.top
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderMedals(t, n), this.renderPersonalStats(t, n) ],
style: P.bottom
},
_owner: null
} ],
style: P.main
},
_owner: null
};
};
var n = t;
return t = i("_$Personal")(t) || t, t = I.observer(t) || t;
}(f["default"].Component);
t["default"] = O, O.title = function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL");
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return E(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(3), h = n(17), y = s(h), g = n(817), m = s(g), b = n(6), v = s(b), _ = n(11), S = n(73), T = n(10), w = {
_$Scoreboard: {
displayName: "Scoreboard"
}
}, E = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/eor/Scoreboard.jsx",
components: w,
locals: [],
imports: []
}), I = _.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Scoreboard-f2349c49.wav"), C = SpartaGlobals.bundleIsPC ? y["default"].dangerZoneSize.width - 2 * v["default"].GUTTER : 0, A = {
main: {
flex: 1,
alignSelf: "center",
flexDirection: "row",
width: y["default"].safeZone.width + C,
marginBottom: v["default"].window.rowSpan(3)
}
}, P = function(e) {
function t(t) {
o(this, n), e.call(this, t), S.tunguskaEndOfRoundStore.isViewed(S.EorPages.scoreboard) || (this.introSound = d.Sound.load(I), 
this.introSound.setVolume(1));
}
a(t, e), t.prototype.componentWillMount = function s() {
S.tunguskaEndOfRoundStore.isViewed(S.EorPages.scoreboard) || this.introSound.play();
}, t.prototype.componentWillUnmount = function l() {
S.tunguskaEndOfRoundStore.viewPage(S.EorPages.scoreboard);
}, t.prototype.renderTeam = function u(e, t, n, o, a) {
return {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
index: t,
team: e,
me: n,
left: o,
skipAnimation: a
}),
_owner: null
};
}, t.prototype.render = function p() {
var e = this, t = S.tunguskaEndOfRoundStore.unrankedGame, n = t ? S.tunguskaEndOfRoundStore.unrankedData : S.tunguskaEndOfRoundStore.data, r = n.scoreboard, o = n.personalInfo, a = o.teamId || 1, i = S.tunguskaEndOfRoundStore.isViewed(S.EorPages.scoreboard), s = [];
return r && r.teams && r.teams.map(function(t) {
t.teamId === a ? s.unshift(e.renderTeam(t, 0, o, !0, i)) : s.push(e.renderTeam(t, 1, o, !1, i));
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: s,
style: A.main
},
_owner: null
};
};
var n = t;
return t = i("_$Scoreboard")(t) || t, t = T.observer(t) || t;
}(f["default"].Component);
t["default"] = P, P.title = function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD");
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(5), h = s(d), y = n(6), g = s(y), m = n(7), b = n(17), v = s(b), _ = n(819), S = s(_), T = n(81), w = n(462), E = n(33), I = n(73), C = n(10), A = {
_$Squad: {
displayName: "Squad"
}
}, P = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/eor/Squad.jsx",
components: A,
locals: [],
imports: []
}), O = SpartaGlobals.bundleIsPC ? g["default"].window.rowSpan(35) : g["default"].window.rowSpan(20), R = v["default"].content.height - O, k = {
main: {
flex: 1,
alignSelf: "center",
flexDirection: "row",
justifyContent: "space-between",
width: v["default"].safeZone.width,
marginBottom: g["default"].window.rowSpan(2)
},
squad: {
wrapper: {
flex: 3,
justifyContent: "flex-start"
},
heading: {
flexDirection: "row",
alignItems: "flex-end",
marginBottom: g["default"].window.rowSpan(3)
},
empty: {
margin: g["default"].GUTTER,
justifyContent: "center"
},
decorator: {
color: "#efefef80",
marginLeft: 2 * g["default"].GUTTER
}
},
score: {
mid: {
flexDirection: "row",
justifyContent: "space-around",
margin: [ g["default"].GUTTER, 0, 2 * g["default"].GUTTER, 0 ]
},
top: {
flexDirection: "row",
justifyContent: "space-around"
},
wrapper: {
flex: 2,
flexDirection: "column",
alignSelf: "flex-end"
}
}
}, x = {
0: function N() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD_TEAM");
},
1: function D() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_APPLES");
},
2: function U() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_BUTTER");
},
3: function L() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_CHARLIE");
},
4: function $() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_DUFF");
},
5: function G() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_EDWARD");
},
6: function F() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_FREDDIE");
},
7: function B() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_GEORGE");
},
8: function j() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_HARRY");
},
9: function H() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_INK");
},
10: function V() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_JOHNNIE");
},
11: function z() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_KING");
},
12: function W() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_LONDON");
},
13: function q() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_MONKEY");
},
14: function K() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_NUTS");
},
15: function X() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ORANGE");
},
16: function Y() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_PUDDING");
},
17: function J() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_QUEENIE");
},
18: function Q() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ROBERT");
},
19: function Z() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_SUGAR");
},
20: function ee() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_TOMMY");
},
21: function te() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_UNCLE");
},
22: function ne() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_VIC");
},
23: function re() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_WILLIAM");
},
24: function oe() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_XRAY");
},
25: function ae() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_YORKER");
},
26: function ie() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ZEBRA");
},
27: function se() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_HAGGARD");
},
28: function le() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_SWEETWATER");
},
29: function ue() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_PRESTON");
},
30: function ce() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_FAITH");
},
32: function pe() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_CELESTE");
}
}, M = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillUnmount = function s() {
I.tunguskaEndOfRoundStore.viewPage(I.EorPages.squad);
}, t.prototype.renderModeSpecifics = function l(e, t, n) {
var o = h["default"].values(e), a = o.map(function(e, t) {
return {
$$typeof: c,
type: w.AnimatedStatRow,
key: null,
ref: null,
props: r(w.AnimatedStatRow.defaultProps, {
children: [ {
$$typeof: c,
type: w.Divider,
key: null,
ref: null,
props: r(w.Divider.defaultProps, {}),
_owner: null
}, {
$$typeof: c,
type: w.StatRow,
key: null,
ref: null,
props: r(w.StatRow.defaultProps, {
name: e.name,
value: e.value,
place: e.place
}),
_owner: null
} ],
delay: t,
skipAnimation: n
}),
_owner: null
};
});
return a.length && a.length > t ? a.slice(0, t) : a;
}, t.prototype.renderSquadStats = function u(e, t) {
if (!e) return {
$$typeof: c,
type: g["default"].Col,
key: null,
ref: null,
props: r(g["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_MISSING_DATA")
}),
_owner: null
},
width: "12",
style: k.squad.empty
}),
_owner: null
};
var n = e.deaths, o = e.kills, a = e.kd, i = parseInt(e.spm.value || 0, 10);
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: w.AnimatedStatBlock,
key: null,
ref: null,
props: r(w.AnimatedStatBlock.defaultProps, {
children: {
$$typeof: c,
type: w.StatBlock,
key: null,
ref: null,
props: r(w.StatBlock.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_SCORE"),
value: e.rankScore.value
}),
_owner: null
},
delay: 0,
skipAnimation: t
}),
_owner: null
}, {
$$typeof: c,
type: w.AnimatedStatBlock,
key: null,
ref: null,
props: r(w.AnimatedStatBlock.defaultProps, {
children: {
$$typeof: c,
type: w.StatBlock,
key: null,
ref: null,
props: r(w.StatBlock.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ROUND_SCORE_PER_MIN"),
value: i
}),
_owner: null
},
delay: 0,
skipAnimation: t
}),
_owner: null
} ],
style: k.score.top
},
_owner: null
}, {
$$typeof: c,
type: w.Divider,
key: null,
ref: null,
props: r(w.Divider.defaultProps, {}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: w.AnimatedStatBlock,
key: null,
ref: null,
props: r(w.AnimatedStatBlock.defaultProps, {
children: {
$$typeof: c,
type: w.SmallStatBlock,
key: null,
ref: null,
props: r(w.SmallStatBlock.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_KILLS"),
value: o.value
}),
_owner: null
},
delay: 0,
skipAnimation: t
}),
_owner: null
}, {
$$typeof: c,
type: w.AnimatedStatBlock,
key: null,
ref: null,
props: r(w.AnimatedStatBlock.defaultProps, {
children: {
$$typeof: c,
type: w.SmallStatBlock,
key: null,
ref: null,
props: r(w.SmallStatBlock.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_DEATHS"),
value: n.value
}),
_owner: null
},
delay: 1,
skipAnimation: t
}),
_owner: null
}, {
$$typeof: c,
type: w.AnimatedStatBlock,
key: null,
ref: null,
props: r(w.AnimatedStatBlock.defaultProps, {
children: {
$$typeof: c,
type: w.SmallStatBlock,
key: null,
ref: null,
props: r(w.SmallStatBlock.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_KD_RATIO"),
value: T.formatDecimals(a.value, 2)
}),
_owner: null
},
delay: 2,
skipAnimation: t
}),
_owner: null
} ],
style: k.score.mid
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderModeSpecifics(e.modeSpecifics, 4, t)
},
_owner: null
} ],
style: k.score.wrapper
},
_owner: null
};
}, t.prototype.renderSquadHighlights = function p(e, t, n) {
var o = n ? {
$$typeof: c,
type: E.Scroller,
key: null,
ref: null,
props: r(E.Scroller.defaultProps, {
children: e,
style: {
height: R,
width: g["default"].getWidth(11)
},
controller: !0,
softClip: [ 0, g["default"].getHeight(2), 0, g["default"].getHeight(2) ],
clipMargin: [ g["default"].getHeight(2), 0, g["default"].getHeight(2), 10 ]
}),
_owner: null
} : e;
return e ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: t.toUpperCase(),
type: "emphasis",
size: "M"
}),
_owner: null
},
style: k.squad.heading
},
_owner: null
}, o ],
style: k.squad.wrapper
},
_owner: null
} : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD")
}),
_owner: null
},
width: "12",
style: k.squad.empty
},
_owner: null
};
}, t.prototype.render = function f() {
var e = I.tunguskaEndOfRoundStore.data, t = e.squadInfo, n = I.tunguskaEndOfRoundStore.isViewed(I.EorPages.squad), o = x[t.squadId] || __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD_TEAM"), a = o() === __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD_TEAM") ? __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD_TEAM").toLocaleUpperCase() : __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_TEAM").replace("[[SquadTeam]]", o()).toLocaleUpperCase(), i = t.highlights.length > 5, s = t.highlights.map(function(t, o) {
var a = t.player && t.player.rank || 0, i = e.getRankByNumber(a), s = i ? i.imageUrl : "", l = {
texture: s
};
return {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
highlight: t,
rankImageStyle: l,
delay: o,
skipAnimation: n
}),
_owner: null
};
});
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderSquadHighlights(s, a, i, n), this.renderSquadStats(t.stats, n) ],
style: k.main
},
_owner: null
};
};
var n = t;
return t = i("_$Squad")(t) || t, t = C.observer(t) || t;
}(f["default"].Component);
t["default"] = M, M.title = function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD");
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t) {
function n(e) {
e = e || {}, this.battlepacks = e.battlepacks || 0, this.items = e.items || 0, this.scraps = e.scraps || 0;
}
t.__esModule = !0, t["default"] = n, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e() {
return {
slots: [ {
name: __("ID_SPARTA_FILTER_SLOTS_NONE"),
filterKey: "none"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_ONETOFIVE"),
filterKey: "oneToFive"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_SIXTOTEN"),
filterKey: "sixToTen"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_TENPLUS"),
filterKey: "tenPlus"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_ALL"),
filterKey: "all"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_SPECTATOR"),
filterKey: "spectator",
PCOnly: "true"
} ],
gameSizes: [ {
name: "10",
filterKey: "10"
}, {
name: "16",
filterKey: "16"
}, {
name: "24",
filterKey: "24"
}, {
name: "32",
filterKey: "32"
}, {
name: "48",
filterKey: "48"
}, {
name: "64",
filterKey: "64"
} ],
regions: [ {
name: __("ID_SPARTA_FILTER_REGION_NAM"),
filterKey: "NAm"
}, {
name: __("ID_SPARTA_FILTER_REGION_SAM"),
filterKey: "SAm"
}, {
name: __("ID_SPARTA_FILTER_REGION_AC"),
filterKey: "AC"
}, {
name: __("ID_SPARTA_FILTER_REGION_AFR"),
filterKey: "Afr"
}, {
name: __("ID_SPARTA_FILTER_REGION_EU"),
filterKey: "EU"
}, {
name: __("ID_SPARTA_FILTER_REGION_ASIA"),
filterKey: "Asia"
}, {
name: __("ID_SPARTA_FILTER_REGION_OC"),
filterKey: "OC"
} ]
};
}
t.__esModule = !0, t.getServerFilters = e;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return U(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(7), y = n(190), g = s(y), m = n(16), b = n(95), v = s(b), _ = n(17), S = s(_), T = n(25), w = s(T), E = n(11), I = n(8), C = n(3), A = n(20), P = s(A), O = n(6), R = s(O), k = n(13), x = s(k), M = n(12), N = s(M), D = {
_$FullScreenVideoControls: {
displayName: "FullScreenVideoControls"
}
}, U = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/FullScreenVideoControls.jsx",
components: D,
locals: [],
imports: []
}), L = E.bbOfflineUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"), $ = {
position: "absolute",
top: S["default"].dangerZoneSize.height,
right: S["default"].dangerZoneSize.width,
zOffset: 100
}, G = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.opacityTween = m.Animation.tween("14cca595:33", 1), 
this.timeout = null, this.state = {
canClose: !t.timeout || t.timeout <= 0
};
}
a(t, e), t.prototype.componentDidMount = function s() {
var e = this;
this.state.canClose || (this.timeout = setTimeout(function() {
e.setState({
canClose: !0
}), clearTimeout(e.timeout);
}, this.props.timeout));
}, t.prototype.componentWillUnmount = function l() {
clearTimeout(this.timeout);
}, t.prototype.getInput = function u() {
var e = this;
return this.state.canClose ? [ new x["default"]({
label: this.props.label ? this.props.label : __("ID_SPARTA_ACTION_CLOSE"),
key: N["default"].Decline,
action: function t() {
return e.onClose();
}
}) ] : [];
}, t.prototype.onClose = function f() {
clearTimeout(this.timeout), w["default"].close(this.props.popupInfo.id), this.props.onClose();
}, t.prototype.popupWillShow = function d() {
this.opacityTween.transition(1, 0, {
delay: 3e3
});
}, t.prototype.render = function y() {
var e = this, t = {
width: S["default"].screen.style.width,
height: S["default"].screen.style.height,
backgroundColor: "#000000",
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
zOffset: 1000001,
video: this.props.video.id,
textureMode: "contain"
}, n = {
zOffset: 11,
marginLeft: g["default"].dangerZoneSize.width,
marginRight: g["default"].dangerZoneSize.width,
marginTop: g["default"].dangerZoneSize.height,
opacity: this.opacityTween.getStyle()
}, o = p({}, $, {
enableMouseEvents: this.state.canClose,
opacity: m.Animation.tweenSwitch(0, 1, this.state.canClose)
}), a = SpartaGlobals.bundleIsPC ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: C.Focusable,
key: null,
ref: null,
props: r(C.Focusable.defaultProps, {
children: function s(t) {
return {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
action: function() {
return e.onClose();
},
size: 24,
focusItem: t,
icon: L,
style: {
padding: R["default"].GUTTER
}
}),
_owner: null
};
},
debugName: "video_close"
}),
_owner: null
},
style: o
},
_owner: null
} : null, i = I.layoutStateStore.current.config.gameId || "generic";
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
size: "L",
value: this.props.heading.toUpperCase(),
section: i
}),
_owner: null
}, {
$$typeof: c,
type: h.Text,
key: null,
ref: null,
props: r(h.Text.defaultProps, {
size: "XS",
value: this.props.author,
section: i
}),
_owner: null
} ],
style: n
},
_owner: null
} ],
style: t
},
_owner: null
};
};
var n = t;
return t = i("_$FullScreenVideoControls")(t) || t, t = P["default"]()(t) || t;
}(d["default"].Component);
t["default"] = G, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function() {
function e(t, r, o, a, i, s) {
n(this, e), this.width = t, this.height = r, this.columns = o, this.rows = a, this.gutterWidth = i, 
this.gutterHeight = s, this.columnWidth = (t - i * (o - 1)) / o, this.rowHeight = (r - s * (a - 1)) / a;
}
return e.prototype.fontSize = function t(e) {
return this.rowHeight * e * .7893;
}, e.prototype.xParts = function r(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? this.gutterWidth : arguments[1];
return (this.width - (e - 1) * t) / e;
}, e.prototype.yParts = function o(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? this.gutterHeight : arguments[1];
return (this.height - (e - 1) * t) / e;
}, e.prototype.colSpan = function a(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? this.gutterWidth : arguments[1];
return this.columnWidth * e + t * (e - 1);
}, e.prototype.rowSpan = function i(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? this.gutterHeight : arguments[1];
return this.rowHeight * e + t * (e - 1);
}, e;
}();
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
return "undefined" == typeof e ? "" : __(e ? "ID_SPARTA_FILTER_SETTING_ON" : "ID_SPARTA_FILTER_SETTING_OFF");
}
function i(e, t) {
return t ? "#000000" : void 0;
}
t.__esModule = !0;
var s = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, l = n(1), u = (r(l), 
n(7)), c = n(6), p = r(c);
t["default"] = function(e) {
var t = e.value, n = e.focused, r = e.isArabic, l = {
zOffset: 1,
flex: 1
};
return r ? l.marginRight = p["default"].GUTTER : l.marginLeft = p["default"].GUTTER, 
{
$$typeof: s,
type: u.Text,
key: null,
ref: null,
props: o(u.Text.defaultProps, {
size: "S",
value: a(t),
type: n ? "emphasis" : "normal",
color: i(t, n),
style: l
}),
_owner: null
};
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return function(t) {
return p(t, e);
};
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e) {
return [ d.hexToR(e) / 255, d.hexToG(e) / 255, d.hexToB(e) / 255, d.hexToA(e) / 255 ];
}
var i = n(4), s = o(i);
t.__esModule = !0;
var l = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, u = n(11), c = {
_$Unknown: {}
}, p = s["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/RadialProgressBar/RadialProgressBar.jsx",
components: c,
locals: [],
imports: []
}), f = n(1), d = {
cutHex: function y(e) {
return "#" === e.charAt(0) ? e.substr(1) : e;
},
hexToR: function g(e) {
return parseInt(d.cutHex(e).substring(0, 2), 16);
},
hexToG: function m(e) {
return parseInt(d.cutHex(e).substring(2, 4), 16);
},
hexToB: function b(e) {
return parseInt(d.cutHex(e).substring(4, 6), 16);
},
hexToA: function v(e) {
return e = d.cutHex(e), 8 === e.length ? parseInt(e.substring(6, 8), 16) : 255;
},
hexToRGBA: function _(e) {
var t = "#" === e.charAt(0) ? e.substr(1) : e, n = [ parseInt(t.substring(0, 2), 16), parseInt(t.substring(2, 4), 16), parseInt(t.substring(4, 6), 16), 255 ];
return 8 === t.length && (n[3] = parseInt(t.substring(6, 8), 16)), n;
}
}, h = r("_$Unknown")(f.createClass({
propTypes: {
progress: f.PropTypes.number.isRequired,
progressColor: f.PropTypes.string,
bgColor: f.PropTypes.string
},
getDefaultProps: function S() {
return {
progress: 0,
progressColor: "#FFFFFFFF",
bgColor: "#333333FF",
size: 128
};
},
render: function T() {
var e = a(this.props.progressColor), t = a(this.props.bgColor), n = [ this.props.progress, 0, 0, 0 ], r = [ {
width: this.props.size,
height: this.props.size,
shaderProgram: "Twinkle_RadialProgressBar",
texture: u.bbOfflineUrl("/sparta/jsclient/builds/assets/radial_progress_bar-b474e4ed.png"),
textureAtlas: "SpartaCommonAtlas",
shaderSurfaceUv: !0,
shaderParam_radialProgressBar_color: e,
shaderParam_radialProgressBar_bgColor: t,
shaderParam_radialProgressBar_progress: n
} ].concat(this.props.style);
return {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
style: r
},
_owner: null
};
}
}));
t["default"] = h, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
return e ? __("ID_SPARTA_FORMAT_PERCENT").replace("[[value]]", e) : e;
}
function i(e) {
return e ? __("ID_SPARTA_FORMAT_SECONDS").replace("[[value]]", e) : e;
}
function s(e) {
return e ? e[0] === e[1] ? e[0] + "" : e[0] + " - " + e[1] : "";
}
t.__esModule = !0;
var l = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, u = n(1), c = (r(u), 
n(7));
t["default"] = function(e) {
var t = e.value, n = e.focused, r = e.option, u = s(t);
return "percent" === r.format ? u = a(u) : "seconds" === r.format && (u = i(u)), 
{
$$typeof: l,
type: c.Text,
key: null,
ref: null,
props: o(c.Text.defaultProps, {
size: "S",
value: u,
type: n ? "emphasis" : "normal",
color: n ? "#000000" : void 0,
style: {
zOffset: 1
}
}),
_owner: null
};
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
var t = c["default"].values(e);
return t.length ? 100 * t[0] + "%" : "";
}
t.__esModule = !0;
var i = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, s = n(1), l = (r(s), 
n(7)), u = n(5), c = r(u), p = n(6), f = r(p);
t["default"] = function(e) {
var t = e.value, n = e.focused, r = e.isArabic, s = {
zOffset: 1,
flex: 1
};
return r ? s.marginRight = f["default"].GUTTER : s.marginLeft = f["default"].GUTTER, 
{
$$typeof: i,
type: l.Text,
key: null,
ref: null,
props: o(l.Text.defaultProps, {
size: "S",
value: a(t),
type: n ? "emphasis" : "normal",
color: n ? "#000000" : void 0,
style: s
}),
_owner: null
};
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return z(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(20), g = l(y), m = n(3), b = r(m), v = n(23), _ = l(v), S = n(6), T = l(S), w = n(7), E = n(66), I = n(14), C = l(I), A = n(28), P = l(A), O = n(79), R = l(O), k = n(133), x = l(k), M = n(104), N = l(M), D = n(254), U = n(18), L = l(U), $ = n(13), G = l($), F = n(12), B = l(F), j = n(30), H = n(10), V = {
_$FilterBar: {
displayName: "FilterBar"
}
}, z = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/FilterBar.jsx",
components: V,
locals: [],
imports: []
}), W = {
filter: {
flexDirection: "row"
},
spacer: {
width: T["default"].GUTTER
},
customGamesText: {
color: "#FF9900"
}
}, q = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.focusItem = b.focus.create(this, "filterbar"), 
this.focusItem.setActive("9b20b6ec:40", SpartaGlobals.bundleIsPC), b.focus.onComponentUpdate(this, function(e, t) {
r.focusItem.setClickInput(new G["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function n() {
return L["default"].gotoLocation(e.filtersRoute);
},
key: B["default"].Accept
}));
});
}
i(t, e), t.prototype.componentWillMount = function r() {
this.subscribeToStores({
gamedata: P["default"](R["default"], this.props.gameId),
filter: P["default"](x["default"], this.props.gameId),
filterOptions: P["default"](N["default"], this.props.gameId)
}, !0);
}, t.prototype.componentDidMount = function l() {
this.state.gamedata || _["default"].refreshGameData();
}, t.prototype.render = function u() {
if (!this.state.filter) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var e = "", t = !1;
if (this.state.filter) {
var n = D.getFilterSummary(this.state.filter, this.state.filterOptions);
e = this.state.filter.filterName ? this.state.filter.filterName : n.text, t = n.isCustomGames;
}
e.length > 50 && (e = e.substring(0, 50) + "...");
var r = p({}, W.filter, {
opacity: this.focusItem.isFocused || SpartaGlobals.bundleIsConsole ? 1 : .66
}), a = [ {
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: o(w.Text.defaultProps, {
value: __("ID_SPARTA_FILTER_LABEL"),
size: "S",
type: "emphasis"
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: W.spacer
},
_owner: null
}, {
$$typeof: f,
type: E.Marquee,
key: null,
ref: null,
props: o(E.Marquee.defaultProps, {
children: {
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: o(w.Text.defaultProps, {
value: e ? e.toUpperCase() : __("ID_SPARTA_FILTER_NONE"),
size: "S"
}),
_owner: null
},
showEllipsis: !0,
style: {
maxWidth: T["default"].getWidth(SpartaGlobals.bundleIsPC ? 11 : 7)
}
}),
_owner: null
} ];
return t && (a.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: W.spacer
},
_owner: null
}), a.push({
$$typeof: f,
type: w.Text,
key: null,
ref: null,
props: o(w.Text.defaultProps, {
value: __("ID_SPARTA_FILTER_CUSTOM_FILTERS"),
size: "S",
style: W.customGamesText
}),
_owner: null
})), h["default"].createElement("surface", p({
style: r
}, this.focusItem.hooks), j.localeRearrange(a));
};
var n = t;
return t = s("_$FilterBar")(t) || t, t = C["default"]()(t) || t, t = g["default"]()(t) || t, 
t = H.observer(t) || t;
}(h["default"].Component);
t["default"] = q, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(5), y = s(h), g = n(7), m = n(6), b = s(m), v = n(16), _ = n(37), S = n(159), T = s(S), w = n(33), E = n(30), I = {
_$FilterItemInfo: {
displayName: "FilterItemInfo"
}
}, C = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/FilterItemInfo.jsx",
components: I,
locals: [],
imports: []
}), A = {
heading: SpartaGlobals.bundleIsConsole ? "L" : "M",
text: (SpartaGlobals.bundleIsConsole, "S")
}, P = SpartaGlobals.bundleIsConsole ? "M" : "S", O = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.tweens = {
opacity: v.Animation.tween("29176900:23", 0)
}, this.width = b["default"].getWidth(10.5), this.state = {
filterItem: null
}, this.setFilterItem = this.setFilterItem.bind(this);
}
a(t, e), t.prototype.shouldComponentUpdate = function s(e, t) {
return null !== t.filterItem;
}, t.prototype.componentDidUpdate = function l() {
this.refs.scroller && this.refs.scroller.scrollTo(0, 0);
}, t.prototype.componentWillUnmount = function u() {
y["default"].each(this.tweens, function(e) {
e.destroy();
});
}, t.prototype.getImageUrl = function f(e) {
return e.images && (e.images.Jpg1000xANY || e.images.Medium) || e.imageUrl;
}, t.prototype.getIconUrl = function h(e, t) {
return t && t[e.filterKey];
}, t.prototype.getExpansionIcon = function m(e) {
if (0 !== e.toLowerCase().indexOf("xp")) return null;
var t = e.toLowerCase().substring(0, 3), n = {
marginLeft: b["default"].GUTTER,
marginTop: 2
};
return this.props.expansions && this.props.expansions[t] ? {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
image: this.props.expansions[t],
size: P,
style: n
}),
_owner: null
} : null;
}, t.prototype.setFilterItem = function S(e) {
!e && this.state.filterItem ? this.tweens.opacity.to(0) : e && !this.state.filterItem && this.tweens.opacity.to(1), 
this.setState({
filterItem: e
});
}, t.prototype.render = function I() {
var e = this.state.filterItem;
if (!e) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var t = this.getImageUrl(e), n = "cover";
!t && this.props.icons && (t = this.getIconUrl(e, this.props.icons), t && (n = "none"));
var o = {
container: {
width: this.width,
opacity: this.tweens.opacity.getStyle()
},
name: {
marginBottom: 2 * b["default"].GUTTER,
textAlignForRTL: "left",
flex: 1
},
description: {
marginBottom: 2 * b["default"].GUTTER,
flexWrap: "wrap",
textLineSpacing: _.LINE_HEIGHTS[A.text],
textAlignForRTL: "left"
},
image: {
backgroundColor: "#000000",
texture: t,
width: this.width,
height: b["default"].getHeight(32),
textureMode: n,
marginBottom: 2 * b["default"].GUTTER,
layer: !0,
layerGrabBackground: !1
},
objectiveWrapper: {
flex: 1,
flexDirection: "row",
marginBottom: 2 * b["default"].GUTTER
},
objective: {
width: this.width - b["default"].getWidth(.5),
textLineSpacing: _.LINE_HEIGHTS[A.text]
},
listIndicator: {
width: b["default"].getWidth(.5) - b["default"].GUTTER
}
}, a = "";
e.description && e.description.length > 4 && (a = e.description.replace("\\n", "\n"));
var i = e.hasOwnProperty("assetName") ? this.getExpansionIcon(e.assetName) : null, s = e.objectives && e.objectives.map(function(e, t) {
return {
$$typeof: p,
type: "surface",
key: t,
ref: null,
props: {
children: [ {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: r(g.Text.defaultProps, {
value: "-",
style: o.listIndicator,
size: A.text
}),
_owner: null
}, {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: r(g.Text.defaultProps, {
value: e,
style: o.objective,
size: A.text
}),
_owner: null
} ],
style: o.objectiveWrapper
},
_owner: null
};
}), l = t ? {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: o.image
},
_owner: null
} : null, u = E.isRTLLanguage() ? {
marginRight: b["default"].GUTTER / 2
} : null;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ l, d["default"].createElement(w.Scroller, {
ref: "scroller",
style: {
height: b["default"].getHeight(40),
width: o.container.width
},
softClip: [ 0, b["default"].getHeight(.5), 0, b["default"].getHeight(2) ],
scrollbarPosition: "inside",
controller: !0
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: r(g.Text.defaultProps, {
value: e.prettyName,
size: A.heading,
style: o.name
}),
_owner: null
}, i ],
style: {
flexDirection: "row"
}
},
_owner: null
}, {
$$typeof: p,
type: g.Text,
key: null,
ref: null,
props: r(g.Text.defaultProps, {
value: a,
size: A.text,
style: c({}, o.description, u)
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: s
},
_owner: null
}) ],
style: o.container
},
_owner: null
};
};
var n = t;
return t = i("_$FilterItemInfo")(t) || t;
}(d["default"].Component);
t["default"] = O, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return T(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(3), h = n(137), y = s(h), g = n(13), m = s(g), b = n(12), v = s(b), _ = n(10), S = {
_$FilterListItem: {
displayName: "FilterListItem"
}
}, T = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/FilterListItem.jsx",
components: S,
locals: [],
imports: []
}), w = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this.props.control, t = {
$$typeof: c,
type: e,
key: null,
ref: null,
props: r(e.defaultProps, {
value: this.props.value,
focused: this.props.focusItem.isFocused,
option: this.props.item
}),
_owner: null
}, n = this.props.onToggle && new m["default"]({
label: __("ID_SPARTA_ACTION_FILTER_TOGGLE"),
action: this.props.onToggle,
key: v["default"].Accept
});
return {
$$typeof: c,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
focusItem: this.props.focusItem,
input: n,
item: this.props.item,
label: this.props.text,
subLabel: t,
scrollLabel: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$FilterListItem")(t) || t, t = _.observer(t) || t;
}(f["default"].Component);
t["default"] = w, w.propTypes = {
focusItem: f["default"].PropTypes.instanceOf(d.focus.FocusItem).isRequired,
text: f["default"].PropTypes.string.isRequired,
item: f["default"].PropTypes.object,
onToggle: f["default"].PropTypes.func.isRequired
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return ne(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(5), y = s(h), g = n(3), m = n(10), b = n(7), v = n(229), _ = s(v), S = n(22), T = s(S), w = n(33), E = n(6), I = s(E), C = n(136), A = s(C), P = n(160), O = s(P), R = n(66), k = n(309), x = s(k), M = n(13), N = s(M), D = n(12), U = s(D), L = n(14), $ = s(L), G = n(28), F = s(G), B = n(133), j = s(B), H = n(104), V = s(H), z = n(18), W = s(z), q = n(23), K = s(q), X = n(83), Y = s(X), J = n(11), Q = n(58), Z = n(103), ee = s(Z), te = {
_$QuickFilterCheckboxItem: {
displayName: "QuickFilterCheckboxItem"
},
_$QuickFilterTextItem: {
displayName: "QuickFilterTextItem"
},
_$QuickFilterCategoryHeader: {
displayName: "QuickFilterCategoryHeader"
},
_$QuickFilter: {
displayName: "QuickFilter"
}
}, ne = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/QuickFilter.jsx",
components: te,
locals: [],
imports: []
}), re = J.bbUrl("/sparta/assets/ui/icons/ui/down-1c405104.png"), oe = J.bbUrl("/sparta/assets/ui/icons/ui/up-45fe9908.png"), ae = "4Th0rb3aR!1#@_28+&{.", ie = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = g.focus.create(this, "quickfilter_checkbox_" + t.label), 
this.focusItem.setClickInput(new N["default"]({
action: function a() {
return r.props.onToggle();
},
label: t.label,
key: U["default"].Accept
}));
}
a(t, e), t.prototype.render = function s() {
var e = this.props.value || this.focusItem.isFocused ? 1 : .5, t = {
flexDirection: "row",
opacity: e,
marginBottom: I["default"].getHeight(1.3),
backgroundColor: "#00000001"
}, n = Q.localeState.displayLocale === ee["default"].ARABIC, o = n ? R.Direction.Left : R.Direction.Right, a = {
$$typeof: p,
type: A["default"],
key: null,
ref: null,
props: r(A["default"].defaultProps, {
value: this.props.value
}),
_owner: null
}, i = {
$$typeof: p,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
children: {
$$typeof: p,
type: R.Marquee,
key: null,
ref: null,
props: r(R.Marquee.defaultProps, {
children: {
$$typeof: p,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: this.props.label,
style: {
marginLeft: 2 * I["default"].GUTTER,
marginRight: 2 * I["default"].GUTTER
},
type: "normal",
size: "S"
}),
_owner: null
},
scroll: this.focusItem.isFocused,
scrollTo: o,
style: {
flex: 1
}
}),
_owner: null
},
width: I["default"].getWidth(3.5),
height: this.props.height,
clipContent: !0,
clipPadding: [ 0, 0, 0, 0 ],
softClip: [ 15, 0, 25, 0 ]
}),
_owner: null
};
return d["default"].createElement("surface", c({
style: t
}, this.focusItem.hooks), n ? i : a, n ? a : i);
};
var n = t;
return t = i("_$QuickFilterCheckboxItem")(t) || t, t = m.observer(t) || t;
}(d["default"].Component), se = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "test",
key: null,
ref: null,
props: {
guid: "server-quickfilter-text"
},
_owner: null
}, {
$$typeof: p,
type: O["default"],
key: null,
ref: null,
props: r(O["default"].defaultProps, {
size: "S",
initialValue: this.props.value,
onValueChanged: this.props.onValueChanged,
placeholder: __("ID_SPARTA_FILTER_BYNAME"),
maxLength: "25"
}),
_owner: null
} ],
style: {
marginTop: I["default"].GUTTER,
zOffset: 1
}
},
_owner: null
};
};
var n = t;
return t = i("_$QuickFilterTextItem")(t) || t;
}(d["default"].Component), le = {
marginRight: I["default"].GUTTER,
width: I["default"].getHeight(1),
height: I["default"].getHeight(1),
textureMode: "contain",
marginTop: I["default"].getHeight(.5)
}, ue = {
zOffset: 1,
flexDirection: "row",
justifyContent: "space-between"
}, ce = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = g.focus.create(this, "quickfilter_header_" + t.category.label), 
this.focusItem.setClickInput(new N["default"]({
action: function a() {
return r.props.onClick();
},
label: t.category.label,
key: U["default"].Accept
}));
}
a(t, e), t.prototype.render = function s() {
var e = this.props.category, t = this.focusItem.isFocused ? {} : {
opacity: .66
}, n = "#FFFFFF", o = {
texture: this.props.isActive ? re : oe,
opacity: this.focusItem.isFocused ? 1 : .6
}, a = Q.localeState.displayLocale === ee["default"].ARABIC, i = {
$$typeof: p,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: e.label.toUpperCase(),
color: n,
style: t,
size: "S"
}),
_owner: null
}, s = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ le, o ]
},
_owner: null
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
spacing: 10
}),
_owner: null
}, d["default"].createElement("surface", c({
style: ue
}, this.focusItem.hooks), a ? s : i, a ? i : s) ]
},
_owner: null
};
};
var n = t;
return t = i("_$QuickFilterCategoryHeader")(t) || t, t = m.observer(t) || t;
}(d["default"].Component), pe = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.state = {
selectedCategory: null
}, this.onFilterChanged = Y["default"](function() {
return K["default"].refreshServers({
game: r.props.gameId
});
}, 250), this.onNameFilterChanged = Y["default"](function() {
return K["default"].refreshServers({
game: r.props.gameId
});
}, 250, !1), this.filterLayout = [ {
id: "gameModes",
label: __("ID_SPARTA_FILTER_GAMEMODES"),
toggleAll: !0
}, {
id: "maps",
label: __("ID_SPARTA_FILTER_MAPS"),
toggleAll: !0
}, {
id: "slots",
label: __("ID_SPARTA_FILTER_FREESLOTS"),
toggleAll: !0
}, {
id: "gameSizes",
label: __("ID_SPARTA_FILTER_GAMESIZE"),
toggleAll: !0,
invertOption: __("ID_SPARTA_FILTER_ITEM_OTHER")
} ], this.nameFilterLayout = {
id: "name",
label: __("ID_SPARTA_FILTER_NAME")
};
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = F["default"](j["default"], this.props.gameId);
this.subscribeToStores({
filter: e,
filterOptions: F["default"](V["default"], this.props.gameId)
}, !0);
}, t.prototype.onResetFilter = function l() {
K["default"].resetFilters(this.props.gameId), K["default"].refreshServers({
game: this.props.gameId
});
}, t.prototype.onNameChanged = function u(e) {
e === ae && g.frostbite.sendMessage("sparta.triggerGameCrash"), K["default"].setFilterValue(this.props.gameId, "name", "name", "" === e ? null : e), 
this.onNameFilterChanged();
}, t.prototype.toggleCategory = function c(e) {
this.setState({
selectedCategory: this.state.selectedCategory === e ? null : e
});
}, t.prototype.renderCheckboxItem = function f(e, t, n, o) {
var a = this, i = "on" === n ? null : "on", s = function l() {
K["default"].setFilterValue(a.props.gameId, e.id, t.filterKey, i), a.onFilterChanged();
};
return {
$$typeof: p,
type: ie,
key: null,
ref: null,
props: r(ie.defaultProps, {
label: t.prettyName || t.name,
value: o ? null == n : "on" === n,
onToggle: s
}),
_owner: null
};
}, t.prototype.renderInvertCheckboxItem = function d(e, t, n) {
var o = this, a = function s(e) {
return y["default"].some(e, function(e) {
return "off" === e;
});
}, i = function l() {
K["default"].invertFilterCategory(o.props.gameId, e.id), o.onFilterChanged();
};
return {
$$typeof: p,
type: ie,
key: null,
ref: null,
props: r(ie.defaultProps, {
label: e.invertOption,
value: a(n),
onToggle: i
}),
_owner: null
};
}, t.prototype.renderCategoryItems = function h(e) {
var t = this, n = this.state.filterOptions[e.id], o = this.state.filter[e.id], a = y["default"].some(o, function(e) {
return "off" === e;
}), i = y["default"].map(n, function(n) {
return t.renderCheckboxItem(e, n, o[n.filterKey], a);
});
return e.invertOption && i.push(this.renderInvertCheckboxItem(e, n, o)), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: w.Scroller,
key: null,
ref: null,
props: r(w.Scroller.defaultProps, {
children: i,
style: {
height: I["default"].getHeight(24),
marginTop: I["default"].GUTTER
},
scrollbarPosition: "inside",
softClip: [ 0, 10, 0, 20 ]
}),
_owner: null
},
style: {
marginTop: 10,
marginBottom: 20
}
},
_owner: null
};
}, t.prototype.renderNameFilter = function m(e) {
var t = "";
return this.state.filter && this.state.filter[e.id] && this.state.filter[e.id].name && (t = this.state.filter[e.id].name), 
{
$$typeof: p,
type: se,
key: null,
ref: null,
props: r(se.defaultProps, {
value: t,
onValueChanged: this.onNameChanged.bind(this)
}),
_owner: null
};
}, t.prototype.renderCategoryHeader = function v(e) {
var t = this, n = this.state.selectedCategory === e.id;
return {
$$typeof: p,
type: ce,
key: null,
ref: null,
props: r(ce.defaultProps, {
onClick: function() {
return t.toggleCategory(e.id);
},
category: e,
isActive: n
}),
_owner: null
};
}, t.prototype.renderCategoryEditable = function S(e) {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderCategoryHeader(e), this.renderCategoryItems(e) ]
},
_owner: null
};
}, t.prototype.renderFilterCategory = function E(e) {
return this.state.selectedCategory === e.id ? this.renderCategoryEditable(e) : this.renderCategoryHeader(e);
}, t.prototype.render = function C() {
var e = this, t = y["default"].map(this.filterLayout, this.renderFilterCategory.bind(this));
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: b.Text,
key: null,
ref: null,
props: r(b.Text.defaultProps, {
value: __("ID_SPARTA_CONTENT_TITLE_QUICKFILTER").toUpperCase(),
size: "S",
color: "#FFFFFF",
type: "emphasis",
style: {
flex: 1,
textAlignForRTL: "left"
}
}),
_owner: null
}, t, {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
spacing: 10
}),
_owner: null
}, this.renderNameFilter(this.nameFilterLayout), {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
spacing: 20
}),
_owner: null
}, {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_FILTER_FULL").toUpperCase(),
action: function() {
return W["default"].gotoLocation(e.props.filtersRoute);
},
style: {
height: I["default"].getHeight(5)
}
}),
_owner: null
}, {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_FILTER_RESET").toUpperCase(),
action: function() {
return e.onResetFilter();
},
style: {
marginTop: I["default"].GUTTER,
height: I["default"].getHeight(5)
}
}),
_owner: null
} ]
},
_owner: null
};
};
var n = t;
return t = i("_$QuickFilter")(t) || t, t = $["default"]()(t) || t;
}(d["default"].Component);
t["default"] = pe, pe.propTypes = {
gameId: d["default"].PropTypes.string.isRequired,
filtersRoute: d["default"].PropTypes.string.isRequired
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return P(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(5), d = i(f), h = n(28), y = i(h), g = n(14), m = i(g), b = n(23), v = i(b), _ = n(59), S = i(_), T = n(7), w = n(6), E = i(w), I = n(225), C = i(I), A = {
_$QuickPresets: {
displayName: "QuickPresets"
}
}, P = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/QuickPresets.jsx",
components: A,
locals: [],
imports: []
}), O = function(t) {
function n(e) {
var n = this;
r(this, i), t.call(this, e), this.onFilterChanged = d["default"].debounce(function() {
return v["default"].refreshServers({
game: n.props.gameId
});
}, 250);
}
o(n, t), n.prototype.componentWillMount = function s() {
this.subscribeToStores({
savedFilters: y["default"](C["default"], this.props.gameId, "data")
}, !0), v["default"].refreshSavedFilters(this.props.gameId);
}, n.prototype.onPresetClicked = function l(e) {
v["default"].applyFilters(this.props.gameId, e), this.onFilterChanged();
}, n.prototype.renderPresetItem = function c(e) {
var t = this;
return {
fontSize: "XS",
id: e.id,
label: e.filterName,
scrollLabel: !0,
upperCase: !1,
onTrigger: function n() {
return t.onPresetClicked(e);
},
style: {
paddingLeft: 0,
paddingRight: 0,
height: E["default"].getHeight(5),
backgroundColor: "#00000022",
marginTop: E["default"].GUTTER
}
};
}, n.prototype.render = function p() {
var t = this;
if (!this.state.savedFilters || this.state.savedFilters.length < 1) return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = d["default"].first(d["default"].sortBy(this.state.savedFilters, "id").reverse(), 4), r = d["default"].map(n, function(e) {
return t.renderPresetItem(e);
});
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: T.Text,
key: null,
ref: null,
props: e(T.Text.defaultProps, {
value: __("ID_SPARTA_CONTENT_TITLE_QUICKPRESETS").toUpperCase(),
size: "S",
type: "emphasis",
style: {
marginBottom: E["default"].GUTTER,
textAlignForRTL: "left"
}
}),
_owner: null
}, {
$$typeof: u,
type: S["default"],
key: null,
ref: null,
props: e(S["default"].defaultProps, {
items: r,
divider: "none"
}),
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: {
height: E["default"].getHeight(2)
}
},
_owner: null
} ]
},
_owner: null
};
};
var i = n;
return n = a("_$QuickPresets")(n) || n, n = m["default"]()(n) || n;
}(p["default"].Component);
t.QuickPresets = O, O.propTypes = {
gameId: p["default"].PropTypes.string.isRequired
};
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return S(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(844), h = s(d), y = n(6), g = s(y), m = n(17), b = s(m), v = n(33), _ = {
_$ServerFilterCategory: {
displayName: "ServerFilterCategory"
}
}, S = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerFilterCategory.jsx",
components: _,
locals: [],
imports: []
}), T = [ 0, g["default"].CELL_WIDTH, 0, g["default"].CELL_WIDTH ], w = g["default"].getHeight(4), E = g["default"].getHeight(3), I = b["default"].content.height - (w + E), C = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focus = function() {
r.refs.filterScroller && r.refs.filterScroller.focus && r.refs.filterScroller.focus();
}, this.state = {
config: t.config
};
}
a(t, e), t.prototype.setCategory = function s(e) {
this.setState({
config: e
}), this.refs.scroller && this.refs.scroller.scrollTo(0, 0);
}, t.prototype.render = function l() {
return {
$$typeof: c,
type: g["default"].Row,
key: null,
ref: null,
props: r(g["default"].Row.defaultProps, {
children: {
$$typeof: c,
type: g["default"].Col,
key: null,
ref: null,
props: r(g["default"].Col.defaultProps, {
children: f["default"].createElement(v.Scroller, {
ref: "scroller",
key: "categoryScroller",
style: {
height: I,
margin: T
},
controller: !1
}, {
$$typeof: c,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
gameId: this.props.gameId,
filterDefs: this.props.options,
filterState: this.props.state,
config: this.state.config,
onBlur: this.props.onBlur,
onFilterSelected: this.props.onFilterItemSelected.bind(this)
}),
_owner: null
}),
width: 7.75
}),
_owner: null
}
}),
_owner: null
};
};
var n = t;
return t = i("_$ServerFilterCategory")(t) || t;
}(f["default"].Component);
t["default"] = C, C.PropTypes = {
gameId: f["default"].PropTypes.string.isRequired,
config: f["default"].PropTypes.object.isRequired,
state: f["default"].PropTypes.object.isRequired,
options: f["default"].PropTypes.object.isRequired,
icons: f["default"].PropTypes.object.isRequired
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return F(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(5), f = s(p), d = n(1), h = s(d), y = n(3), g = n(10), m = n(840), b = s(m), v = n(59), _ = s(v), S = n(847), T = s(S), w = n(834), E = s(w), I = n(469), C = s(I), A = n(837), P = s(A), O = n(13), R = s(O), k = n(12), x = s(k), M = n(20), N = s(M), D = n(836), U = s(D), L = n(23), $ = s(L), G = {
_$ServerFilterList: {
displayName: "ServerFilterList"
}
}, F = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerFilterList.jsx",
components: G,
locals: [],
imports: []
}), B = {
checkBox: {
control: C["default"],
parseCondition: function H(e) {
return "on" === e;
},
nextConditionHandler: function V(e, t) {
return function(n, r) {
var o = r ? null : "on";
$["default"].setFilterValue(e, t, n, o);
};
}
},
onOff: {
control: E["default"],
parseCondition: function z(e, t) {
return "string" == typeof e ? "on" === e && "off" !== e : void 0;
},
nextConditionHandler: function W(e, t) {
return function(n, r, o) {
var a = void 0;
"boolean" == typeof r ? (r && (a = "off"), r || (a = void 0)) : a = "on", $["default"].setFilterValue(e, t, n, a);
};
}
},
range: {
control: U["default"],
parseCondition: function q(e) {
return e;
},
nextConditionHandler: function K(e, t) {
return function(n, r, o) {
var a = null == r, i = a ? [ o.defaultValue, o.defaultValue ] : null;
$["default"].setFilterValue(e, t, n, i);
};
}
},
scales: {
control: P["default"],
getSelectedOption: function X(e, t) {
var n = Object.keys(t.options).sort(function(e, n) {
return t.options[e] - t.options[n];
}), r = n.filter(function(t) {
return e[t] && "on" === e[t];
}), o = r.length > 0 ? r[0] : null;
return o ? f["default"].pick(t.options, o) : null;
},
nextConditionHandler: function Y(e, t) {
return function(n, r, o) {
var a = Object.keys(o.options).sort(function(e, t) {
return o.options[e] - o.options[t];
}), i = -1, s = null;
r && (s = f["default"].keys(r)[0], i = a.indexOf(s));
var l = i + 1, u = l < a.length ? a[l] : null;
$["default"].toggleFilters(e, t, s, u);
};
}
}
}, j = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getFilterItemConfig = function s() {
return this.props.config.type ? B[this.props.config.type] : B.checkBox;
}, t.prototype.getInput = function l() {
return this.props.config.toggleAll ? [ new R["default"]({
label: __("ID_SPARTA_ACTION_FILTER_TOGGLEALL"),
action: this.toggleAll.bind(this),
key: x["default"].Option4
}) ] : [];
}, t.prototype.onItemDidFocus = function u(e) {
this.props.onFilterSelected && this.props.onFilterSelected(e);
}, t.prototype.onMenuWillBlur = function p() {
this.props.onFilterSelected && this.refs.list && this.props.onBlur && this.props.onBlur();
}, t.prototype.onMouseDown = function d(e) {
e && e.button === y.MouseButton.Secondary && this.props.config.toggleAll && this.toggleAll();
}, t.prototype.toggleAll = function m() {
var e = this;
this.props.config.filters ? f["default"].each(this.props.config.filters, function(t) {
return $["default"].toggleFilterCategory(e.props.gameId, t.id);
}) : $["default"].toggleFilterCategory(this.props.gameId, this.props.config.id);
}, t.prototype.renderNameFilter = function v(e) {
var t = e.name ? e.name : "";
return [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
gameId: this.props.gameId,
name: "name",
filterName: "name",
text: t
}),
_owner: null
} ];
}, t.prototype.renderFilterItems = function S(e, t, n) {
var o = this, a = this.getFilterItemConfig(), i = a.control, s = a.parseCondition, l = a.getSelectedOption, u = a.nextConditionHandler, p = u(this.props.gameId, n);
return e.map(function(e) {
var n = l ? l(t, e) : s(t[e.filterKey], e);
e.value = n;
var a = function d() {
return p(e.filterKey, e.value, e);
}, u = "function" == typeof e.name ? e.name() : e.name, f = e.prettyName || u;
return {
$$typeof: c,
type: y.Focusable,
key: null,
ref: null,
props: r(y.Focusable.defaultProps, {
children: function h(t) {
return {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
text: f,
focusItem: t,
value: n,
control: i,
item: e,
onToggle: a.bind(e)
}),
_owner: null
};
},
debugName: "filterlistitem_" + f,
onFocus: function() {
return o.onItemDidFocus(e);
}
}),
_owner: null
};
});
}, t.prototype.renderFilterList = function w(e, t, n, r) {
if (!t) throw new Error("no filter values for category " + n);
if ("name" === n) return this.renderNameFilter(t);
if (!e) throw new Error("no options for category " + n);
var o = SpartaGlobals.bundleIsPC ? e : f["default"].filter(e, function(e) {
return !e.PCOnly;
});
return this.renderFilterItems(o, t, n);
}, t.prototype.renderFilterGroups = function E(e, t, n) {
var r = this;
return f["default"].map(n.filters, function(n) {
return r.renderFilterList(e[n.id], t[n.id], n.id);
});
}, t.prototype.render = function I() {
var e = this.props, t = e.config, n = e.filterState, r = e.filterDefs, o = t.filters ? this.renderFilterGroups(r, n, t) : [ this.renderFilterList(r[t.id], n[t.id], t.id, t.overrides) ];
return h["default"].createElement(_["default"], {
ref: "list",
onItemDidFocus: this.onItemDidFocus.bind(this),
onBlur: this.onMenuWillBlur.bind(this),
onMouseDown: this.onMouseDown.bind(this),
autoActivateItems: y.focus.system.controllerMode,
divider: "item",
groups: o,
forgetItemFocus: !0
});
};
var n = t;
return t = i("_$ServerFilterList")(t) || t, t = N["default"]()(t) || t, t = g.observer(t) || t;
}(h["default"].Component);
j.propTypes = {
gameId: h["default"].PropTypes.string.isRequired,
config: h["default"].PropTypes.object.isRequired,
filterDefs: h["default"].PropTypes.object.isRequired,
filterState: h["default"].PropTypes.object.isRequired,
onFilterSelected: h["default"].PropTypes.func.isRequired
}, t["default"] = j, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ee(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(3), g = r(y), m = n(20), b = l(m), v = n(10), _ = n(7), S = n(470), T = l(S), w = n(159), E = l(w), I = n(13), C = l(I), A = n(12), P = l(A), O = n(314), R = n(316), k = l(R), x = n(6), M = l(x), N = n(23), D = l(N), U = n(5), L = l(U), $ = n(8), G = n(66), F = n(478), B = l(F), j = n(18), H = l(j), V = n(846), z = l(V), W = n(54), q = l(W), K = n(11), X = n(77), Y = l(X), J = n(30), Q = n(39), Z = {
_$ServerListItem: {
displayName: "ServerListItem"
}
}, ee = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerListItem.jsx",
components: Z,
locals: [],
imports: []
}), te = {
off: {
normal: K.bbUrl("/sparta/assets/ui/icons/ui/new_star_outline_white-deecfbe1.png"),
hover: K.bbUrl("/sparta/assets/ui/icons/ui/new_star_outline_black-4e413160.png")
},
on: {
normal: K.bbUrl("/sparta/assets/ui/icons/ui/new_star_white-00780cc3.png"),
hover: K.bbUrl("/sparta/assets/ui/icons/ui/new_star_black-4eaa2c88.png")
}
}, ne = {
official: K.bbUrl("/sparta/assets/ui/gameservers/type/official-6e10d16b.png"),
ranked: K.bbUrl("/sparta/assets/ui/gameservers/type/ranked-63ddf668.png"),
unranked: K.bbUrl("/sparta/assets/ui/gameservers/type/unranked-5b77f221.png"),
"private": K.bbUrl("/sparta/assets/ui/gameservers/type/private-40d383c1.png"),
focused: {
official: K.bbUrl("/sparta/assets/ui/gameservers/type/official-dark-51eee93e.png"),
ranked: K.bbUrl("/sparta/assets/ui/gameservers/type/ranked-dark-0dd09cdc.png"),
unranked: K.bbUrl("/sparta/assets/ui/gameservers/type/unranked-dark-67d9d759.png"),
"private": K.bbUrl("/sparta/assets/ui/gameservers/type/private-dark-8c96109b.png")
}
}, re = g.getBuildInfo().isCTE(), oe = M["default"].getHeight(7), ae = SpartaGlobals.bundleIsPC ? {
name: "S",
info: "XS",
players: "S"
} : {
name: "S",
info: "XS",
players: "M"
}, ie = SpartaGlobals.bundleIsPC ? "XS" : "S", se = {
row: {
flexDirection: "row",
alignItems: "center",
zOffset: 1
},
rowDimmed: {
opacity: .5
},
nameSpan: {
flex: 1,
flexDirection: "row",
alignItems: "center"
},
slotsSpan: {
enableMouseEvents: !1,
zOffset: 1,
width: B["default"].slots
},
pingSpan: {
enableMouseEvents: !1,
zOffset: 1,
width: B["default"].ping,
flexDirection: "row",
alignItems: "center"
},
actionsSpan: {
width: B["default"].actions,
flexDirection: "row",
zOffset: 1,
alignItems: "center",
justifyContent: "flex-end"
},
text: {
color: "#ffffff",
fontSize: SpartaGlobals.bundleIsConsole ? 18 : 12
},
bodyText: {
color: "#cccccc",
marginTop: 2
},
settingText: {
color: "#ffffff",
opacity: .66,
marginTop: 2
},
imgCol: {
zOffset: 1,
width: M["default"].getWidth(2),
height: oe,
marginRight: 2 * M["default"].GUTTER
},
mapGrayScale: {
grayScale: 1
},
favoriteCol: {
zOffset: 4,
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
width: M["default"].getWidth(1),
height: oe
},
contentCol: {
enableMouseEvents: !1,
zOffset: 1,
alignItems: "center",
flexDirection: "row",
width: M["default"].getWidth(SpartaGlobals.bundleIsPC ? 7.5 : 12)
},
expansionCol: {
zOffset: 1,
alignItems: "center",
flexDirection: "row",
justifyContent: "flex-end",
marginLeft: M["default"].GUTTER
},
expansionIcon: {
marginLeft: 2,
marginTop: 0
},
serverTypeIcon: {
marginLeft: M["default"].GUTTER / 2
},
contextMenuButton: {
zOffset: 1,
height: oe,
width: M["default"].getWidth(1.2),
opacity: 0
},
detailRow: {
zOffset: 1,
flexDirection: "row",
alignItems: "center"
},
nameCol: {
zOffset: 1
},
customLabel: {
color: "#FF9900",
marginLeft: M["default"].GUTTER
},
separatorLabel: {
marginLeft: M["default"].GUTTER / 4,
marginRight: M["default"].GUTTER / 2
},
verticalDivider: {
width: 1,
height: oe,
backgroundColor: "#00000000"
},
joinButton: {
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
height: oe,
zOffset: 4,
width: M["default"].getWidth(1.5),
paddingLeft: M["default"].GUTTER,
paddingRight: M["default"].GUTTER,
opacity: 0
}
}, le = {
row: f({}, se.row, {
backgroundColor: "#FFFFFFFF"
}),
joinButton: f({}, se.joinButton, {
opacity: 1
}),
text: f({}, se.text, {
color: "#000000"
}),
bodyText: f({}, se.bodyText, {
color: "#333333"
}),
verticalDivider: f({}, se.verticalDivider, {
backgroundColor: "#00000033"
}),
contextMenuButton: f({}, se.contextMenuButton, {
opacity: 1
})
}, ue = function(e) {
function t(t) {
a(this, n), e.call(this, t);
var r = $.gameStore.getGame(t.server.game);
this.game = r, this.autoId = g.autoId("db617597:224"), this.gameStyles = r ? r.styles : {}, 
this.expansionIcons = r ? r.expansions : null, this.serverDetailsRoute = r ? r.serverDetailsRoute : null, 
this.focusItem = g.focus.create(this, "serverlistitem " + (t.server && t.server.name ? t.server.name : "unknown")), 
this.focusItem.autoFocusCandidate = !0;
}
i(t, e), t.prototype.componentWillUnmount = function r() {
this.state.contextMenuOpen && this.refs.contextMenu.close();
}, t.prototype.getAcceptInput = function l() {
var e = this;
if (this.props.server.isActive) {
if (g.focus.system.controllerMode) return [ new C["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function n() {
return e.onSelect();
},
key: P["default"].Accept
}) ];
var t = this.props.server.gameId;
return [ new C["default"]({
label: __("ID_SPARTA_ACTION_SERVER_INFO"),
action: function r() {
H["default"].gotoLocation(e.serverDetailsRoute + "?blazeGameId=" + t);
},
key: P["default"].Accept,
blockInputFor: 1e3
}) ];
}
}, t.prototype.getInput = function u() {
var e = this;
if (!this.focusItem.isFocused) return this.state.contextMenuOpen ? new C["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: P["default"].Decline,
action: function i() {
return e.refs.contextMenu.close();
}
}) : null;
var t = this.props.server.gameId, n = this.props.server.rsp.serverId, r = this.props.server.rsp && this.props.server.rsp.status && "ServerStatusExpired" === this.props.server.rsp.status.name, o = this.props.server.isActive ? new C["default"]({
label: __("ID_SPARTA_ACTION_SERVER_INFO"),
action: function s() {
H["default"].gotoLocation(e.serverDetailsRoute + "?blazeGameId=" + t);
},
key: P["default"].Option1,
blockInputFor: 1e3
}) : void 0, a = this.game.rspConfig.isEnabled() && n ? new C["default"]({
label: __(r ? "ID_SPARTA_ACTION_SERVER_RENEW" : "ID_SPARTA_ACTION_SERVER_CONFIGURE"),
action: function l() {
r ? H["default"].gotoLocation(e.game.rspConfig.renewRoute + "?serverId=" + n) : H["default"].gotoLocation(e.game.rspConfig.configureRoute + "?serverId=" + n);
},
key: P["default"].Option2
}) : void 0;
return L["default"].compact([ o, a ]);
}, t.prototype.getContextMenu = function c() {
var e = this, t = this.props, n = t.server, r = t.roles, o = n.gameId, a = n.rsp.serverId, i = [];
if (n.isActive) {
var s = $.partyStore.canGroupJoin(n.game);
i.push(new C["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN"),
action: function u() {
e.onSelect();
}
})), !s && Q.supportsSpectating(n.game) && i.push(new C["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
action: function c() {
e.onSelect("spectator");
}
})), !s && r.indexOf("commander") >= 0 && n.isRoleSupported("commander") && i.push(new C["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER"),
action: function p() {
e.onSelect("commander");
}
})), i.push(new C["default"]({
label: __("ID_SPARTA_ACTION_SERVER_INFO"),
action: function f() {
H["default"].gotoLocation(e.serverDetailsRoute + "?blazeGameId=" + o);
}
})), !re && n.guid && i.push(new C["default"]({
label: __(n.isFavorite ? "ID_SPARTA_ACTION_SERVER_UNFAVORITE" : "ID_SPARTA_ACTION_SERVER_FAVORITE"),
action: function d() {
e.toggleFavorite();
}
}));
}
if (this.game.rspConfig.isEnabled() && a) {
var l = n.rsp && n.rsp.status && "ServerStatusExpired" === n.rsp.status.name;
i.push(new C["default"]({
label: __(l ? "ID_SPARTA_ACTION_SERVER_RENEW" : "ID_SPARTA_ACTION_SERVER_CONFIGURE"),
action: function h() {
l ? H["default"].gotoLocation(e.game.rspConfig.renewRoute + "?serverId=" + a) : H["default"].gotoLocation(e.game.rspConfig.configureRoute + "?serverId=" + a);
},
key: P["default"].Option2
}));
}
return i;
}, t.prototype.getDynamicStyles = function d(e, t) {
var n = {
row: e ? le.row : se.row,
joinButton: e ? le.joinButton : se.joinButton,
fontType: e ? "emphasis" : "normal",
text: e ? le.text : se.text,
settingText: e ? le.bodyText : se.settingText,
verticalDivider: e ? le.verticalDivider : se.verticalDivider,
contextMenuButton: e ? le.contextMenuButton : se.contextMenuButton
};
return t && (n.row = [ n.row, se.rowDimmed ]), n;
}, t.prototype.getExpansionIcons = function y(e) {
var t = this;
return this.expansionIcons ? L["default"].map(e, function(e) {
if (!e && !e.license) return null;
var n = t.expansionIcons[e.license];
return n ? {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
image: n,
size: ie,
style: se.expansionIcon
}),
_owner: null
} : null;
}) : [];
}, t.prototype.getServerTypeIcon = function m(e, t) {
if (!e) return null;
if (-1 === this.game.supportedServerTypes.indexOf(e)) return null;
var n = t ? ne.focused : ne, r = n[e.toLowerCase()];
return r ? {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
image: r,
style: se.serverTypeIcon,
size: "XS"
}),
_owner: null
} : null;
}, t.prototype.getServerMapImage = function S(e) {
if (this.props.gameData && this.props.gameData.maps) {
var t = this.props.gameData.maps, n = L["default"].find(t, function(t) {
return t.filterKey === e.mapName;
});
if (n && n.images && n.images.Small) return n.images.Small;
}
return e.mapImageUrl || null;
}, t.prototype.onSelect = function w(e) {
this.props.server.isActive && (this.props.disabled || (Y["default"].trackJoinSource("joinServerBrowser", e || "soldier"), 
this.props.onSelect(e)));
}, t.prototype.openContextMenu = function I() {
this.setState({
contextMenuOpen: !0
});
}, t.prototype.closeContextMenu = function A() {
this.setState({
contextMenuOpen: !1
});
}, t.prototype.toggleFavorite = function R() {
this.props.server.isActive && D["default"].toggleBookmark(this.props.server);
}, t.prototype.renderFavouriteIcon = function x(e, t) {
return SpartaGlobals.bundleIsPC && t ? e.isFavorite ? {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
image: te.on.hover
}),
_owner: null
} : {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
image: te.off.hover,
style: {
opacity: .66
}
}),
_owner: null
} : e.isFavorite ? {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
image: te.on.normal
}),
_owner: null
} : null;
}, t.prototype.renderActionsSpan = function N(e, t) {
var n = this, r = this.props.server.isActive;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ h["default"].createElement(k["default"], {
ref: "contextMenu",
onOpen: function() {
return n.openContextMenu();
},
onClose: function() {
return n.closeContextMenu();
},
options: this.getContextMenu(),
dark: t,
parentHeight: oe,
offset: {
y: oe,
x: B["default"].actions
},
align: "right",
style: e.contextMenuButton
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: e.verticalDivider
},
_owner: null
}, {
$$typeof: p,
type: z["default"],
key: null,
ref: null,
props: o(z["default"].defaultProps, {
children: {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
image: K.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-join-black-d91ea425.png")
}),
_owner: null
},
style: e.joinButton,
disabled: !r,
onClick: this.onSelect.bind(this)
}),
_owner: null
} ],
style: se.actionsSpan
},
_owner: null
};
}, t.prototype.renderNameSpan = function U(e, t, n, r) {
function a(e) {
var n = e.value, r = e.style;
return {
$$typeof: p,
type: _.Text,
key: null,
ref: null,
props: o(_.Text.defaultProps, {
value: n,
size: ae.info,
type: t.fontType,
style: f({}, t.settingText, r)
}),
_owner: null
};
}
var i = this, s = [], l = [ e.mapModePretty || e.mapMode, e.mapNamePretty || e.mapName ], u = e.custom;
if (e.preset && l.push(e.preset), e.tickRate && s.push(e.tickRate + __("ID_SPARTA_SERVER_TICKRATE_UNIT")), 
e.rsp && e.rsp.status) switch (e.rsp.status.name) {
case "ServerStatusInactive":
s.push(__("ID_SPARTA_SERVER_RSP_PENDING"));
break;

case "ServerStatusActive":
e.gameId || s.push(__("ID_SPARTA_SERVER_RSP_PENDING"));
break;

case "ServerStatusExpired":
case "ServerStatusExpiring":
s.push(__("ID_SPARTA_SERVER_RSP_EXPIRED"));
}
var c = " - ", d = {
texture: this.getServerMapImage(e)
}, h = this.getServerTypeIcon(e.serverType, n), y = e.expansions ? this.getExpansionIcons(e.expansions) : [], g = this.props.hasUGCAccess ? e.name : e.gameId, m = e.country ? {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
country: e.country
}),
_owner: null
} : null, b = u && {
$$typeof: p,
type: a,
key: null,
ref: null,
props: o(a.defaultProps, {
value: __("ID_SPARTA_SERVER_CUSTOM").toUpperCase(),
style: f({}, se.customLabel, this.gameStyles.customLabel)
}),
_owner: null
}, v = {
$$typeof: p,
type: a,
key: null,
ref: null,
props: o(a.defaultProps, {
value: c,
style: se.separatorLabel
}),
_owner: null
}, S = r ? se.mapGrayScale : null, w = void 0;
return re || (w = SpartaGlobals.bundleIsPC ? {
$$typeof: p,
type: z["default"],
key: null,
ref: null,
props: o(z["default"].defaultProps, {
children: this.renderFavouriteIcon(e, n),
style: se.favoriteCol,
disabled: !e.isActive,
onClick: function() {
return i.toggleFavorite();
}
}),
_owner: null
} : {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderFavouriteIcon(e, n),
style: se.favoriteCol
},
_owner: null
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "test",
key: null,
ref: null,
props: {
group: "server-list-item",
server: e,
join: this.onSelect.bind(this, null)
},
_owner: null
}, w, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ se.imgCol, d, S ]
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: G.Marquee,
key: null,
ref: null,
props: o(G.Marquee.defaultProps, {
children: [ {
$$typeof: p,
type: _.Text,
key: null,
ref: null,
props: o(_.Text.defaultProps, {
style: [ se.name, t.text ],
value: g,
size: ae.name,
type: "emphasis"
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ m, J.localeRearrange([ {
$$typeof: p,
type: a,
key: null,
ref: null,
props: o(a.defaultProps, {
value: l.join(c).toUpperCase()
}),
_owner: null
}, u ? v : null, b ]), v, {
$$typeof: p,
type: a,
key: null,
ref: null,
props: o(a.defaultProps, {
value: s.join(c).toUpperCase()
}),
_owner: null
}, h, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: y,
style: se.expansionCol
},
_owner: null
} ],
style: se.detailRow
},
_owner: null
} ],
scroll: n,
width: M["default"].getWidth(SpartaGlobals.bundleIsPC ? 10 : 14.5) - 2 * M["default"].GUTTER,
style: {
alignItems: "center"
},
delay: 100
}),
_owner: null
},
style: se.contentCol
},
_owner: null
} ],
style: se.nameSpan
},
_owner: null
};
}, t.prototype.render = function F() {
var e = this.props.canJoin, t = this.focusItem.isFocused, n = this.state.contextMenuOpen, r = t || n, a = !e, i = this.props.server, s = this.getDynamicStyles(r, a), l = "" + i.slots.soldier.current + " / " + i.slots.soldier.max;
return i.slots.queue.current && (l += " [" + i.slots.queue.current + "]"), {
$$typeof: p,
type: q["default"],
key: null,
ref: null,
props: o(q["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderNameSpan(i, s, r, a), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: _.Text,
key: null,
ref: null,
props: o(_.Text.defaultProps, {
style: s.text,
size: ae.players,
type: "emphasis",
value: l
}),
_owner: null
},
style: se.slotsSpan
},
_owner: null
}, {
$$typeof: p,
type: O.ServerPingLookup,
key: null,
ref: null,
props: o(O.ServerPingLookup.defaultProps, {
children: function u(e) {
return {
$$typeof: p,
type: O.PingDisplay,
key: null,
ref: null,
props: o(O.PingDisplay.defaultProps, {
style: se.pingSpan,
ping: e,
dark: r,
textStyle: s.settingText,
fontType: s.fontType
}),
_owner: null
};
},
server: i
}),
_owner: null
}, SpartaGlobals.bundleIsPC && this.renderActionsSpan(s, r) ],
style: s.row
},
_owner: null
},
input: this.getAcceptInput(),
focusItem: this.focusItem,
disableFocusInputUpdate: !0
}),
_owner: null
};
};
var n = t;
return t = s("_$ServerListItem")(t) || t, t = v.observer(t) || t, t = b["default"]()(t) || t;
}(h["default"].Component);
t["default"] = ue, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return h(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(16), d = {
_$ServerListItemButton: {
displayName: "ServerListItemButton"
}
}, h = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerListItemButton.jsx",
components: d,
locals: [],
imports: []
}), y = .5, g = .2, m = 1, b = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.tweens = {
opacity: f.Animation.tween("e8054df0:12", t.disabled ? g : y)
};
}
o(t, e), t.prototype.componentWillUnmount = function i() {
this.tweens.opacity.destroy();
}, t.prototype.onMouseEnter = function s() {
this.props.disabled || this.tweens.opacity.set(m);
}, t.prototype.onMouseLeave = function l() {
this.props.disabled || this.tweens.opacity.set(y);
}, t.prototype.render = function c() {
var e = this;
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: {
opacity: this.tweens.opacity.getStyle()
}
},
_owner: null
},
style: this.props.style,
onClick: function(t) {
e.props.onClick(), t.stopPropagation();
},
onMouseEnter: this.onMouseEnter.bind(this),
onMouseLeave: this.onMouseLeave.bind(this)
},
_owner: null
};
};
var n = t;
return t = a("_$ServerListItemButton")(t) || t;
}(p["default"].Component);
t["default"] = b, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return I(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = s(p), d = n(7), h = n(12), y = s(h), g = n(6), m = s(g), b = n(23), v = s(b), _ = n(160), S = s(_), T = n(3), w = n(30), E = {
_$TextFilterListItem: {
displayName: "TextFilterListItem"
}
}, I = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/TextFilterListItem.jsx",
components: E,
locals: [],
imports: []
}), C = "4Th0rb3aR!1#@_28+&{.", A = {
item: {
height: m["default"].getHeight(7),
flexDirection: "row",
paddingLeft: 2 * m["default"].GUTTER,
paddingRight: 2 * m["default"].GUTTER,
marginBottom: 1,
alignItems: "center"
}
}, P = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidFocus = function s() {
!SpartaGlobals.bundleIsPC && this.refs.input && this.refs.input.focus();
}, t.prototype.textChanged = function l(e) {
e === C && T.frostbite.sendMessage("sparta.triggerGameCrash"), v["default"].setFilterValue(this.props.gameId, this.props.name, this.props.filterName, e || null);
}, t.prototype.render = function u() {
var e = this, t = w.isRTLLanguage() ? {
marginLeft: 2 * m["default"].GUTTER
} : {
paddingRight: 2 * m["default"].GUTTER
};
return {
$$typeof: c,
type: m["default"].Row,
key: null,
ref: null,
props: r(m["default"].Row.defaultProps, {
children: w.localeRearrange([ {
$$typeof: c,
type: d.Text,
key: "label",
ref: null,
props: r(d.Text.defaultProps, {
value: __("ID_SPARTA_FILTER_SERVERNAME").toUpperCase(),
size: "S",
style: t
}),
_owner: null
}, f["default"].createElement(S["default"], {
key: "control",
ref: "input",
initialValue: this.props.text,
maxLength: 25,
size: "S",
onValueChanged: function(t) {
return e.textChanged(t);
},
style: {
flex: 1
},
editKey: y["default"].Accept
}) ]),
style: A.item
}),
_owner: null
};
};
var n = t;
return t = i("_$TextFilterListItem")(t) || t;
}(f["default"].Component);
t["default"] = P, P.propTypes = {
gameId: f["default"].PropTypes.string.isRequired,
name: f["default"].PropTypes.string.isRequired,
filterName: f["default"].PropTypes.string.isRequired,
text: f["default"].PropTypes.string.isRequired
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return d(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l), c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(7), f = {
_$CompletionProgress: {
displayName: "CompletionProgress"
}
}, d = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Soldier/CompletionProgress.jsx",
components: f,
locals: [],
imports: []
}), h = n(1), y = n(70), g = {
text: {
whiteSpace: "nowrap",
textAlign: "right",
textAlignForRTL: "center",
marginBottom: 5,
width: 80,
zOffset: 3
}
}, m = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this.props.completionObj, t = e.progress || {
current: 0,
total: 0
}, n = this.props.fontColor ? this.props.fontColor : "#ffffff";
this.props.focused && (n = "#000000");
var o, a = e.progress.total === e.progress.current;
return a ? n = "#ff9900" : o = {
$$typeof: c,
type: y,
key: null,
ref: null,
props: r(y.defaultProps, {
height: "S",
width: 80,
completed: t.percentage
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: p.Text,
key: null,
ref: null,
props: r(p.Text.defaultProps, {
style: g.text,
color: n,
size: "XS",
value: t.current + "/" + t.total
}),
_owner: null
}, o ]
},
_owner: null
};
};
var n = t;
return t = i("_$CompletionProgress")(t) || t;
}(h.Component);
e.exports = m;
}, function(e, t, n) {
(function(__) {
function t(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return k(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s), u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), f = i(p), d = n(10), h = n(5), y = i(h), g = n(3), m = n(54), b = i(m), v = n(12), _ = i(v), S = n(7), T = n(6), w = i(T), E = n(66), I = n(13), C = i(I), A = n(58), P = n(103), O = i(P), R = {
_$HighlightCard: {
displayName: "HighlightCard"
}
}, k = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Soldier/HighlightCard.jsx",
components: R,
locals: [],
imports: []
}), x = {
box: {
height: w["default"].getHeight(21),
padding: [ 10, 10, 10, 10 ],
backgroundColor: "#00000050"
},
boxFocus: {
backgroundColor: "#ffffff"
},
itemImage: {
position: "absolute",
left: 0,
right: 0,
bottom: 0,
top: 0
},
itemImageFocus: {
color: "#000000"
},
text: {
textAlignForRTL: "left"
},
textStyle: {
opacity: .66
}
}, M = function(e) {
function n(t) {
r(this, i), e.call(this, t), this.focusItem = g.focus.create(this, "highlight_card_" + (t.item ? t.item.heading : "unknown"));
}
o(n, e), n.prototype.render = function s() {
var e = this.props.item || {
heading: "",
name: "",
value: "",
valueText: ""
}, n = new C["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: this.props.onClick,
key: _["default"].Accept
}), r = "#ffffff", o = x.textStyle, a = x.box, i = {};
e.imageUrl && "" !== e.imageUrl ? i.texture = e.imageUrl : this.props.imageUrl && (i.texture = this.props.imageUrl), 
i.textureMode = this.props.textureMode ? this.props.textureMode : "contain";
var s = A.localeState.displayLocale !== O["default"].ARABIC ? E.Direction.Right : E.Direction.Left;
this.focusItem.isFocused && (a = y["default"].extend({}, a, x.boxFocus), o = {}, 
r = "#000000", i.color = "#000000");
var l = {
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0
};
return this.props.biggerImages && (l = c({}, l, i), i = {}), {
$$typeof: u,
type: b["default"],
key: null,
ref: null,
props: t(b["default"].defaultProps, {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: l
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ i, {
height: w["default"].getHeight(9),
marginTop: w["default"].getHeight(4)
} ]
},
_owner: null
},
style: x.itemImage
},
_owner: null
}, {
$$typeof: u,
type: S.Text,
key: null,
ref: null,
props: t(S.Text.defaultProps, {
size: "XS",
color: r,
value: e.heading.toUpperCase(),
style: c({}, x.text, o)
}),
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: E.Marquee,
key: null,
ref: null,
props: t(E.Marquee.defaultProps, {
children: {
$$typeof: u,
type: S.Text,
key: null,
ref: null,
props: t(S.Text.defaultProps, {
size: "S",
color: r,
value: e.name,
style: {
flex: 1
}
}),
_owner: null
},
scroll: this.focusItem.isFocused,
scrollTo: s,
style: {
flex: 1
}
}),
_owner: null
}, {
$$typeof: u,
type: S.Text,
key: null,
ref: null,
props: t(S.Text.defaultProps, {
size: "XS",
color: r,
value: e.value + " " + e.valueText,
style: c({}, x.text, o)
}),
_owner: null
} ],
style: {
position: "absolute",
left: 0,
right: 0,
bottom: 0
}
},
_owner: null
} ],
style: a,
input: n,
focusItem: this.focusItem
}),
_owner: null
};
};
var i = n;
return n = a("_$HighlightCard")(n) || n, n = d.observer(n) || n;
}(f["default"].Component);
e.exports = M;
}).call(t, n(2));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
return S.LINE_HEIGHTS[e] / 5;
}
var u = n(4), c = s(u);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(5), h = s(d), y = n(1), g = s(y), m = n(7), b = n(3), v = n(52), _ = n(16), S = n(37), T = n(11), w = n(10), E = n(8), I = n(19), C = s(I), A = {
_$BoundedSurface: {
displayName: "BoundedSurface"
},
_$TextField: {
displayName: "TextField"
}
}, P = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Text/TextField.jsx",
components: A,
locals: [],
imports: []
}), O = 10, R = {
container: {
position: "relative",
layer: !0,
layerClip: !0
},
border: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 5,
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2
},
borderValid: {
texture: T.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png")
},
borderInvalid: {
texture: T.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-red-04dcea22.png")
},
innerContainer: {
paddingLeft: O,
paddingRight: O,
position: "relative",
flexDirection: "row"
},
text: {
zOffset: 50,
color: "#ffffff"
},
selection: {
backgroundColor: "#ffffff99",
flexDirection: "row"
},
placeholder: {
color: "#ffffff",
opacity: .66
}
}, k = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidUpdateBounds = function r() {
this.props.onUpdateBounds && this.props.onUpdateBounds(this.bounds);
}, t.prototype.render = function s() {
return g["default"].createElement("surface", p({}, this.props.hooks, this.props), this.props.children);
};
var n = t;
return t = i("_$BoundedSurface")(t) || t, t = b.hasSurfaceBounds()(t) || t;
}(g["default"].Component), x = function(e) {
function t() {
o(this, n), e.call(this), this.offsetTween = _.Animation.tween("334d3967:77", 0);
}
a(t, e), t.prototype.componentWillUnmount = function s() {
this.offsetTween.destroy();
}, t.prototype.getFontConfiguration = function u() {
return this.context.fonts ? this.context.fonts : this.context.routeConfig ? this.context.routeConfig.fonts : void 0;
}, t.prototype.getSection = function c() {
if (this.props.section) return this.props.section;
var e = null, t = E.layoutStateStore.current;
return e = t && t.config ? t.config.gameId || "generic" : C["default"].getHostingGame().gameId;
}, t.prototype.onCharClicked = function d(e, t, n, r) {
this.props.onCharacterClicked && (e.stopPropagation(), this.props.onCharacterClicked(n + r));
}, t.prototype.updateContainerWidth = function y(e) {
this.containerWidth = e.width;
}, t.prototype.updateOffset = function g(e) {
var t = e.width;
t > this.containerWidth - 4 * O ? this.offsetTween.set(this.containerWidth - (t + 4 * O)) : this.offsetTween.set(0);
}, t.prototype.renderClickableChar = function b(e, t, n, o) {
var a = this, i = this.getSection();
return " " === e ? {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: "_",
style: p({}, o, {
opacity: 0
}),
size: this.props.size,
section: i,
onClick: function(r) {
return a.onCharClicked(r, e, t, n);
}
}),
_owner: null
} : {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: e,
style: o,
section: i,
size: this.props.size,
onClick: function(r) {
return a.onCharClicked(r, e, t, n);
}
}),
_owner: null
};
}, t.prototype.renderClickableChars = function v(e, t, n) {
var r = this;
return h["default"].map(e, function(e, o) {
return r.renderClickableChar(e, o, t, n);
});
}, t.prototype.renderPlaceholder = function T() {
var e = this.getSection();
return {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: this.props.placeholder,
section: e,
size: this.props.size,
style: R.placeholder
}),
_owner: null
};
}, t.prototype.renderEmptyText = function I() {
var e = this.getSection();
return {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: " ",
style: {
position: "relative",
left: -10
},
size: this.props.size,
section: e
}),
_owner: null
};
}, t.prototype.renderTextField = function A() {
var e = this, t = this.props, n = t.selectionStart, o = t.selectionEnd, a = t.size, i = t.value, s = this.getFontConfiguration(), l = s ? s.letterSpacing : 0, u = l > 0 ? p({}, R.text, {
paddingLeft: l
}) : R.text, c = i.substring(0, n), d = i.substring(n, o), h = i.substring(o), y = {
$$typeof: f,
type: k,
key: null,
ref: null,
props: r(k.defaultProps, {
children: {
$$typeof: f,
type: m.Text,
key: null,
ref: null,
props: r(m.Text.defaultProps, {
value: i.substring(0, o),
size: a
}),
_owner: null
},
style: {
position: "absolute",
opacity: 0
},
onUpdateBounds: function(t) {
return e.updateOffset(t);
}
}),
_owner: null
}, g = this.renderClickableChars(c, 0, u), b = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderClickableChars(d, n, u),
style: R.selection
},
_owner: null
}, v = this.renderClickableChars(h, o, u);
return g.concat([ b ]).concat(v).concat([ y ]);
}, t.prototype.render = function P() {
var e = this, t = l(this.props.size), n = p({}, R.container, this.props.style, {
height: 3 * t + S.LINE_HEIGHTS[this.props.size],
paddingTop: 2 * t,
paddingBottom: t
});
!this.props.focusItem.isFocused || !SpartaGlobals.bundleIsConsole && this.props.isActive || (n.backgroundColor = "#ffffff10");
var o = this.props.isInvalid ? .5 : .2, a = SpartaGlobals.bundleIsPC || !this.props.isActive, i = p({}, R.border, this.props.isInvalid && a ? R.borderInvalid : R.borderValid, {
opacity: this.props.isActive ? 1 : o
}), s = null;
s = this.props.isActive ? "" === this.props.value ? this.renderEmptyText() : this.renderTextField() : "" === this.props.value ? this.renderPlaceholder() : this.renderTextField();
var u = this.props.focusItem.hooks;
return delete u.onClick, {
$$typeof: f,
type: k,
key: null,
ref: null,
props: r(k.defaultProps, {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: i
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ s, this.props.children ],
style: [ R.innerContainer, {
translateX: this.offsetTween.getStyle()
} ]
},
_owner: null
} ],
hooks: u,
onUpdateBounds: function(t) {
return e.updateContainerWidth(t);
},
style: n,
onClick: function(t) {
return e.props.onClick(t);
}
}),
_owner: null
};
};
var n = t;
return t = i("_$TextField")(t) || t, t = w.observer(t) || t;
}(g["default"].Component);
t["default"] = x, x.defaultProps = {
value: "",
selectionStart: 0,
selectionEnd: 0,
size: "M",
placeholder: "",
isActive: !1
}, x.propTypes = {
value: g["default"].PropTypes.string,
selectionStart: g["default"].PropTypes.number.isRequired,
selectionEnd: g["default"].PropTypes.number.isRequired,
size: g["default"].PropTypes.string,
placeholder: g["default"].PropTypes.string,
isActive: g["default"].PropTypes.bool
}, x.contextTypes = {
routeConfig: g["default"].PropTypes.instanceOf(v.Route),
fonts: g["default"].PropTypes.shape({
normal: g["default"].PropTypes.shape({
name: g["default"].PropTypes.string,
emphasis: g["default"].PropTypes.string
}),
emphasis: g["default"].PropTypes.shape({
name: g["default"].PropTypes.string,
emphasis: g["default"].PropTypes.string
}),
letterSpacing: g["default"].PropTypes.number
})
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = e.message, n = e.containerStyle, r = e.textProps, o = f({
whiteSpace: "nowrap",
color: n && n.color,
textAlign: "center"
}, r && r.style);
return b["default"].createElement(v.Text, f({
value: t.text()
}, r, {
style: o
}));
}
function u(e) {
var t = e.padding, n = e.paddingTop, r = e.paddingBottom;
return n || r ? (n || 0) + (r || 0) : t ? t[0] + t[2] : 0;
}
var c = n(4), p = s(c);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), y = n(5), g = s(y), m = n(1), b = s(m), v = n(7), _ = n(320), S = s(_), T = n(6), w = s(T), E = n(16), I = n(300), C = {
_$TextRotator: {
displayName: "TextRotator"
},
_$TextRotatorWithBounds: {
displayName: "TextRotatorWithBounds"
},
_$BoundsCollector: {
displayName: "BoundsCollector"
}
}, A = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/TextRotator.jsx",
components: C,
locals: [],
imports: []
}), P = b["default"].PropTypes.shape({
text: b["default"].PropTypes.func,
voiceTrack: b["default"].PropTypes.string,
delay: b["default"].PropTypes.number
}), O = {
position: "absolute",
top: 0,
left: 0,
bottom: 0
}, R = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
isBoundsCollected: !1
};
}
a(t, e), h(t, null, [ {
key: "propTypes",
value: {
style: b["default"].PropTypes.object,
textProps: b["default"].PropTypes.object,
tweenOptions: b["default"].PropTypes.object,
messages: b["default"].PropTypes.arrayOf(P),
defaultDelay: b["default"].PropTypes.number,
loop: b["default"].PropTypes.bool,
autoStart: b["default"].PropTypes.bool,
onMessageStart: b["default"].PropTypes.func,
onMessageEnd: b["default"].PropTypes.func,
onEnd: b["default"].PropTypes.func
},
enumerable: !0
}, {
key: "defaultProps",
value: {
tweenOptions: {
duration: 500
},
messages: [],
defaultDelay: 1e3,
loop: !1,
autoStart: !0,
onMessageStart: function s() {},
onMessageEnd: function u() {},
onEnd: function c() {}
},
enumerable: !0
} ]), t.prototype.componentWillUpdate = function p(e, t) {
g["default"].isEqual(e.messages, this.props.messages) || this.setState({
isBoundsCollected: !1
});
}, t.prototype.render = function y() {
var e = this;
return this.state.isBoundsCollected ? b["default"].createElement(k, f({}, this.props, {
bounds: this.state.bounds
})) : {
$$typeof: d,
type: x,
key: null,
ref: null,
props: r(x.defaultProps, {
elements: this.props.messages.map(function(t) {
return {
$$typeof: d,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
textProps: e.props.textProps,
message: t
}),
_owner: null
};
}),
onBoundsCollected: function(t) {
return e.setState({
bounds: t,
isBoundsCollected: !0
});
}
}),
_owner: null
};
};
var n = t;
return t = i("_$TextRotator")(t) || t;
}(b["default"].Component);
t["default"] = R;
var k = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
index: 0
}, this.tweens = {
opacity: E.Animation.tween("b843cdcc:103", 0)
};
}
a(t, e), h(t, null, [ {
key: "propTypes",
value: f({}, R.propTypes, {
bounds: b["default"].PropTypes.arrayOf(b["default"].PropTypes.shape({
width: b["default"].PropTypes.number
}))
}),
enumerable: !0
}, {
key: "defaultProps",
value: R.defaultProps,
enumerable: !0
} ]), t.prototype.componentDidMount = function s() {
this.tweens.opacity.to(1), this.props.messages.length && (this.props.onMessageStart(this.state.index), 
this.props.onMessageEnd(this.state.index), this.playCurrentTrack()), this.props.autoStart && (this.props.messages.length ? this.next() : this.props.onEnd());
}, t.prototype.componentWillUnmount = function c() {
for (var e in this.tweens) this.tweens[e].destroy();
clearTimeout(this.nextTimeoutId);
}, t.prototype.getCurrentDelay = function p() {
var e = this.props.messages[this.state.index].delay;
return void 0 === e ? this.props.defaultDelay : e;
}, t.prototype.onTransitionFinished = function y() {
this.props.onMessageEnd(this.state.index);
var e = this.props.messages.length - 1;
(this.state.index !== e || (setTimeout(this.props.onEnd, this.getCurrentDelay()), 
this.props.loop)) && this.next();
}, t.prototype.next = function g() {
var e = this;
clearTimeout(this.nextTimeoutId), this.nextTimeoutId = setTimeout(function() {
var t = (e.state.index + 1) % e.props.messages.length;
e.setState({
index: t
}, function() {
e.props.onMessageStart(t), e.playCurrentTrack();
});
}, this.getCurrentDelay());
}, t.prototype.playCurrentTrack = function m() {
var e = this.props.messages[this.state.index].voiceTrack, t = !1;
e && t && I.playMenuVO(e);
}, t.prototype.render = function v() {
var e = this, t = f({}, this.props.style, {
opacity: this.tweens.opacity.getStyle()
}), n = t.height || w["default"].getHeight(SpartaGlobals.bundleIsPC ? 6 : 8), o = this.props.messages[this.state.index], a = this.props.bounds[this.state.index], i = u(t), s = f({}, this.props.tweenOptions);
s.delay = s.duration || E.Animation.defaultTweenOptions.duration;
var c = {
flex: 1,
width: E.Animation.tweenTo(a.width, s)
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
children: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
containerStyle: t,
textProps: this.props.textProps,
message: o
}),
_owner: null
},
style: c
},
_owner: null
},
transitionId: "slide" + this.state.index,
height: n - i,
options: s,
onTransitionFinished: function() {
return e.onTransitionFinished();
}
}),
_owner: null
},
style: t
},
_owner: null
};
};
var n = t;
return t = i("_$TextRotatorWithBounds")(t) || t;
}(b["default"].Component), x = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.layers = [];
}
a(t, e), t.prototype.componentDidMount = function r() {
var e = this;
this.timeoutId = setTimeout(function() {
if (e.props.onBoundsCollected) {
var t = e.layers.map(function(e) {
return e.getBounds();
});
e.props.onBoundsCollected(t);
}
}, 1e3);
}, t.prototype.componentWillUnmount = function s() {
clearTimeout(this.timeoutId);
}, t.prototype.render = function l() {
var e = this, t = this.props.elements.map(function(t, n) {
return b["default"].createElement("surface", {
ref: function(t) {
return e.layers[n] = t;
},
style: O
}, t);
});
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: {
flex: 1,
opacity: 0
}
},
_owner: null
};
};
var n = t;
return t = i("_$BoundsCollector")(t) || t;
}(b["default"].Component);
e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return g(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), f = s(p), d = n(853), h = s(d), y = {
_$TextureCrossfade: {
displayName: "TextureCrossfade"
}
}, g = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/TextureCrossfade.jsx",
components: y,
locals: [],
imports: []
}), m = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
textureIndex: 0
};
}
a(t, e), t.prototype.componentDidMount = function s() {
this.startOrStopCrossfading();
}, t.prototype.componentDidUpdate = function l() {
this.startOrStopCrossfading();
}, t.prototype.componentWillUnmount = function u() {
this.startOrStopCrossfading(!0);
}, t.prototype.startOrStopCrossfading = function p(e) {
var t = this;
e || this.props.textures.length <= 1 ? (clearInterval(this.transitionTimeoutId), 
delete this.transitionTimeoutId) : void 0 === this.transitionTimeoutId && (this.transitionTimeoutId = setInterval(function() {
return t.nextCrossfade();
}, this.props.interval));
}, t.prototype.nextCrossfade = function d() {
var e = (this.state.textureIndex + 1) % this.props.textures.length;
this.setState({
textureIndex: e
});
}, t.prototype.render = function y() {
var e = this.props, t = e.textures, n = r(e, [ "textures" ]), o = t[this.state.textureIndex], a = this.props.interval + this.props.duration / 2, i = this.props.offsetSpeed * (a / 1e3), s = {
opacity: {
enter: {
playOnMount: !1,
from: 0,
to: 1,
options: {
duration: this.props.duration
}
},
leave: {
from: 1,
to: 0,
options: {
duration: this.props.duration
}
}
},
textureOffsetX: {
enter: {
from: i / 2,
to: -i / 2,
waitFor: !1,
options: {
duration: a,
easing: "Linear"
}
}
}
};
return f["default"].createElement(h["default"], c({
texture: o,
tweens: s
}, n));
};
var n = t;
return t = i("_$TextureCrossfade")(t) || t;
}(f["default"].Component);
t["default"] = m, m.defaultProps = {
offsetSpeed: 8,
interval: 6e3,
duration: 2e3,
textures: []
}, m.propTypes = {
offsetSpeed: f["default"].PropTypes.number,
interval: f["default"].PropTypes.number,
duration: f["default"].PropTypes.number,
textures: f["default"].PropTypes.arrayOf(f["default"].PropTypes.string)
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return v(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(3), y = n(324), g = s(y), m = n(16), b = {
_$TextureTransition: {
displayName: "TextureTransition"
},
_$Texture: {
displayName: "Texture"
}
}, v = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/TextureTransition.jsx",
components: b,
locals: [],
imports: []
}), _ = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = [ {
$$typeof: p,
type: T,
key: this.props.texture,
ref: null,
props: r(T.defaultProps, {
style: c({
texture: this.props.texture
}, this.props.textureStyle),
tweens: this.props.tweens
}),
_owner: null
} ];
return {
$$typeof: p,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
children: e,
tag: "surface",
style: this.props.style
}),
_owner: null
};
};
var n = t;
return t = i("_$TextureTransition")(t) || t;
}(d["default"].Component);
t["default"] = _;
var S = d["default"].PropTypes.shape({
from: d["default"].PropTypes.number.isRequired,
to: d["default"].PropTypes.number.isRequired,
playOnMount: d["default"].PropTypes.bool,
waitFor: d["default"].PropTypes.bool,
options: d["default"].PropTypes.object
});
_.defaultProps = {
tweens: []
}, _.propTypes = {
style: d["default"].PropTypes.object,
texture: d["default"].PropTypes.string,
textureStyle: d["default"].PropTypes.object,
tweens: d["default"].PropTypes.objectOf(d["default"].PropTypes.shape({
enter: S,
leave: S
})).isRequired
};
var T = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.tweens = Object.keys(t.tweens).reduce(function(e, n) {
var r = t.tweens[n], o = r.enter && r.enter.to || r.leave && r.leave.from || 0;
return e[n] = m.Animation.tween("60f69b46:76_" + n, o), e;
}, {});
}
a(t, e), t.prototype.componentDidMount = function r() {
this.playTweens("enter", function(e) {
return void 0 !== e.playOnMount ? e.playOnMount : !0;
});
}, t.prototype.componentWillEnter = function s(e) {
var t = this;
this.playTweens("enter").then(function() {
t._isCancelled || e();
});
}, t.prototype.componentWillLeave = function l(e) {
var t = this;
this.playTweens("leave").then(function() {
t._isCancelled || e();
});
}, t.prototype.componentWillUnmount = function u() {
this._isCancelled = !0;
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.playTweens = function f(e) {
var t = this, n = arguments.length <= 1 || void 0 === arguments[1] ? function() {
return !0;
} : arguments[1], r = Object.keys(this.props.tweens), o = r.map(function(r) {
var o = t.props.tweens[r][e];
if (o && n(o)) {
var a = new Promise(function(e) {
t.tweens[r].transition(o.from, o.to, o.options, e);
}), i = void 0 !== o.waitFor ? o.waitFor : !0;
if (i) return a;
}
return Promise.resolve();
});
return Promise.all(o);
}, t.prototype.render = function d() {
var e = c({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, h.Tween.getStyles(this.tweens), this.props.style);
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: e
},
_owner: null
};
};
var n = t;
return t = i("_$Texture")(t) || t;
}(d["default"].Component);
e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), f = i(p), d = n(16), h = {
_$Tilter: {
displayName: "Tilter"
}
}, y = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Tilter.jsx",
components: h,
locals: [],
imports: []
}), g = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.tweens = {
translateX: d.Animation.tween("3b440f2a:9", 0, this.props.animation),
translateY: d.Animation.tween("3b440f2a:10", 0, this.props.animation)
};
}
o(t, e), t.prototype.tiltTo = function i(e, t) {
this.tweens.translateX.to(e), this.tweens.translateY.to(t);
}, t.prototype.render = function s() {
var e = c({
translateX: this.tweens.translateX.getStyle(),
translateY: this.tweens.translateY.getStyle()
}, this.props.style);
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: e
},
_owner: null
};
};
var n = t;
return t = a("_$Tilter")(t) || t;
}(f["default"].Component);
t["default"] = g, g.defaultProps = {
animation: {
duration: d.Animation.defaultTweenOptions.duration / 2
}
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), p = i(c), f = n(484), d = i(f), h = {
_$Masher: {
displayName: "Masher"
}
}, y = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/tweeners/Masher.jsx",
components: h,
locals: [],
imports: []
}), g = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
return p["default"].createElement(d["default"], u({}, this.props, {
tweens: [ {
propertyName: "opacity",
inValue: 1,
outValue: 0
}, {
propertyName: "scaleY",
inValue: 1,
outValue: 0
} ]
}));
};
var n = t;
return t = a("_$Masher")(t) || t;
}(p["default"].Component);
t["default"] = g, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
t.__esModule = !0;
var r = n(3), o = n(300), a = (r.getBuildInfo().isCTE(), {
onboarded_home: {
base: [ {
text: function i() {
return __("ID_SPARTA_START_ONBOARDING_WELCOME_BACK").toUpperCase();
},
voiceTrack: o.menuSounds.SPLASH_WELCOME_BACK_TO_YOUR_BATTLEFIELD_SOLDIER,
delay: 8e3
}, {
text: function s() {
return __("ID_SPARTA_START_ONBOARDING_PERSONALIZING").toUpperCase();
},
voiceTrack: o.menuSounds.SPLASH_WELCOME_TO_THE_BATTLEFIELD_PREPARING_YOUR_EXPERIENCE,
delay: 5e3
} ],
onboarding: [ {
text: function() {
return __("ID_SPARTA_START_ONBOARDING_WELCOME").toUpperCase();
},
voiceTrack: o.menuSounds.GREETINGS_WELCOME_TO_THE_BATTLEFIELD,
delay: 8e3
}, {
text: function l() {
return __("ID_SPARTA_START_ONBOARDING_PERSONALIZING").toUpperCase();
},
voiceTrack: o.menuSounds.SPLASH_WELCOME_TO_THE_BATTLEFIELD_PREPARING_YOUR_EXPERIENCE,
delay: 4e3
} ]
},
crossLaunch: {
MP: [ {
text: function() {
return __("ID_SPARTA_START_ONBOARDING_WELCOME").toUpperCase();
},
voiceTrack: o.menuSounds.GREETINGS_WELCOME_TO_THE_BATTLEFIELD,
delay: 6e3
}, {
text: function u() {
return __("ID_SPARTA_ONBOARDING_CROSSLAUNCH_MULTIPLAYER_SERVER");
},
delay: 6e3
} ],
MP_FRIEND: [ {
text: function() {
return __("ID_SPARTA_START_ONBOARDING_WELCOME").toUpperCase();
},
voiceTrack: o.menuSounds.GREETINGS_WELCOME_TO_THE_BATTLEFIELD,
delay: 6e3
}, {
text: function c() {
return __("ID_SPARTA_ONBOARDING_CROSSLAUNCH_MULTIPLAYER_FRIEND");
},
delay: 6e3
} ],
SP: [ {
text: function() {
return __("ID_SPARTA_START_ONBOARDING_WELCOME").toUpperCase();
},
voiceTrack: o.menuSounds.GREETINGS_WELCOME_TO_THE_BATTLEFIELD,
delay: 6e3
}, {
text: function p() {
return __("ID_SPARTA_ONBOARDING_CROSSLAUNCH_CAMPAIGN");
},
delay: 6e3
} ]
}
});
t["default"] = a, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
e.exports = n(861);
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(5), a = r(o), i = n(21), s = r(i), l = n(24), u = r(l), c = n(43), p = r(c), f = n(8), d = s["default"].createClient({
requestOn: [ u["default"].onSessionEstablished, p["default"].getOnboardingFlags ],
throttle: 3e4,
listener: function y() {
return [ a["default"].keys(f.gameStore.games.toJS()).concat([ "sparta" ]) ];
},
request: function g(e) {
return u["default"].request("State.getUserFlags", {
games: e
});
},
onRequestError: function m(e, t) {
var n = a["default"].object(a["default"].map(t, function(e) {
return [ e, !0 ];
}));
p["default"].receiveOnboardingFlagsError(n);
},
parse: function b(e) {
return e;
},
update: function v(e) {
p["default"].receiveOnboardingFlags(e);
}
}), h = s["default"].createClient({
requestOn: [ p["default"].setOnboardingFlag ],
request: function _(e, t) {
return u["default"].request("State.setFlag", {
game: e,
flag: t
});
},
parse: function S(e) {
return e;
},
update: function T(e, t, n, r) {
p["default"].receiveOnboardingFlag(n, r);
}
});
t["default"] = {
startListening: function w() {
d.startListening(), h.startListening();
}
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(3), a = n(8), i = n(232), s = r(i), l = n(233), u = r(l), c = n(209), p = n(321), f = n(112), d = n(31), h = n(75);
t["default"] = function() {
s["default"].getStatus.listen(function() {
o.frostbite.sendMessage("sparta.partyGetPartyMembers");
}), s["default"].getMembers.listen(function() {
o.frostbite.sendMessage("sparta.partyGetPartyMembers");
}), s["default"].create.listen(function() {
a.partyStore.canCreateParty && (u["default"].onPartyUpdated({
state: c.PartyState.Creating
}), o.frostbite.sendMessage("sparta.partyCreate"));
}), s["default"].leave.listen(function() {
a.partyStore.canLeaveParty && (u["default"].onPartyUpdated({
state: c.PartyState.Leaving
}), o.frostbite.sendMessage("sparta.partyLeaveParty"));
}), s["default"].invite.listen(function(e) {
o.frostbite.sendMessage("sparta.partySendInvites", {
users: [ e.spartaUserId ]
});
}), o.frostbite.registerMessageListener("sparta.partyUpdatedResp", function(e, t) {
u["default"].onPartyUpdated({
id: t.partyId,
gameId: t.gameId
}), s["default"].getStatus();
}), o.frostbite.registerMessageListener("sparta.partyCreateResp", function(e, t) {
0 === t.result ? (u["default"].onPartyUpdated({
state: c.PartyState.Stable
}), s["default"].getStatus()) : u["default"].onPartyDisbanded();
}), o.frostbite.registerMessageListener("sparta.partyLeavePartyResp", function(e, t) {
0 === t.result ? u["default"].onPartyDisbanded() : u["default"].onPartyUpdated({
state: c.PartyState.Stable
});
}), o.frostbite.registerMessageListener("sparta.partyGetSendInvitesResp", function(e, t) {
s["default"].getMembers();
}), o.frostbite.registerMessageListener("sparta.partyGetPartyResp", function(e, t) {
u["default"].onPartyUpdated({
gameId: t.gameId
}), s["default"].getMembers();
}), o.frostbite.registerMessageListener("sparta.partyGetPartyMembersResp", function(e, t) {
if (t.members) {
var n = t.members.map(function(e) {
var t = f.SpartaUserId.getPlatformId(e.spartaUserId);
if (t) {
var n = a.userStore.users.get(t);
return p.parsePartyUser(e, n);
}
}).filter(function(e) {
return e ? !0 : !1;
});
a.userStore.updateUsers(n);
var r = null;
if (t.members.length > 0) {
var o = void 0, i = void 0, s = t.members.reduce(function(e, t) {
var n = f.SpartaUserId.getPlatformId(t.spartaUserId), r = a.userStore.users.get(n);
if (null != r) {
var o = parseInt(t.gameGroupId, 10) ? h.UserPresenceStates.Playing : h.UserPresenceStates.Online, i = r.presence.state === h.UserPresenceStates.Away || r.presence.state === h.UserPresenceStates.Joinable;
i || (console.log("Correcting presence state for non-friend party member", r), e.push({
userId: n,
state: o
}));
}
return e;
}, []);
s.length > 0 && a.userStore.updatePresences(s);
for (var l = 0; l < t.members.length; ++l) if (parseInt(t.members[l].partyId, 10) && parseInt(t.members[l].gameGroupId, 10)) {
o = t.members[l].partyId, i = t.members[l].gameGroupId;
break;
}
for (var l = 0; l < t.members.length; ++l) {
var d = parseInt(t.members[l].modMask, 10);
d && (r = r ? r & d : d);
}
var y = n.reduce(function(e, t) {
return e[t.spartaUserId.getPlatformId()] = t.spartaUserId, e;
}, {});
u["default"].onPartyUpdated({
id: o,
blazeGroupId: i,
state: c.PartyState.Stable,
expansionMask: null == r ? 0 : r,
squadSize: t.members.length
}), u["default"].onPartyMembersUpdated(y);
} else u["default"].onPartyDisbanded();
}
});
var e, t = !1;
o.frostbite.registerMessageListener("sparta.partyGameSessionAvailableResp", function(n, r) {
if (r && r.needInteraction && (e = r.gameId, !t)) {
t = !0;
var a = "";
a = __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_USER_PARTY_JOINED_GAME_CONFIRM_PC" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_USER_PARTY_JOINED_GAME_CONFIRM_PS4" : "ID_SPARTA_USER_PARTY_JOINED_GAME_CONFIRM_XB1"), 
d.confirm(a, "", __("ID_SPARTA_USER_PARTY_JOIN"), __("ID_SPARTA_USER_PARTY_IGNORE"), "joinGame").then(function() {
t = !1, o.frostbite.sendMessage("sparta.partyJoinGameSession", {
gameId: e
});
})["catch"](function(n) {
console.error(n), t = !1, u["default"].onGameSessionJoinRefused(e);
});
}
}), o.frostbite.registerMessageListener("sparta.partyJoinPartyResp", function(e, t) {
if (t) {
var n = void 0;
switch (t.result) {
case t.SpartaPartyResponseResult_Success:
break;

case t.SpartaPartyResponseResult_Cancelled:
n = __("ID_SPARTA_USER_PARTY_INVITE_CANCELLED");
break;

case t.SpartaPartyResponseResult_Failure:
switch (SpartaGlobals.bundlePlatform) {
case "PS4":
n = __("ID_SPARTA_USER_PARTY_FAILURE_GENERIC_PS4");
break;

case "XBOXONE":
n = __("ID_SPARTA_USER_PARTY_FAILURE_GENERIC_XB1");
break;

default:
n = __("ID_SPARTA_USER_PARTY_FAILURE_GENERIC_PC");
}
break;

case t.SpartaPartyResponseResult_FailureNoParty:
switch (SpartaGlobals.bundlePlatform) {
case "PS4":
n = __("ID_SPARTA_USER_PARTY_NO_PARTY_AVAILABLE_PS4");
break;

case "XBOXONE":
n = __("ID_SPARTA_USER_PARTY_NO_PARTY_AVAILABLE_XB1");
break;

default:
n = __("ID_SPARTA_USER_PARTY_NO_PARTY_AVAILABLE_PC");
}
break;

case t.SpartaPartyResponseResult_FailureNoMpPrivilege:
n = __("ID_SPARTA_USER_PARTY_NO_MULTIPLAYER_PRIVILEGE");
break;

case t.SpartaPartyResponseResult_FailurePartyIsFull:
switch (SpartaGlobals.bundlePlatform) {
case "PS4":
n = __("ID_SPARTA_USER_PARTY_FULL_PARTY_PS4");
break;

case "XBOXONE":
n = __("ID_SPARTA_USER_PARTY_FULL_PARTY_XB1");
break;

default:
n = __("ID_SPARTA_USER_PARTY_FULL_PARTY_PC");
}
break;

case t.SpartaPartyResponseResult_Unknown:
n = __("ID_SPARTA_USER_PARTY_UNKNOWN_ERROR");
}
n && d.alert(n, __("ID_SPARTA_USER_PARTY_FAILED_TO_JOIN"));
}
});
}, e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t, n) {
e === E.SPECIFIC && T["default"].trackEvent("ServerPresence", t, n);
}
function i() {
var e = c["default"].map(_.friendStore.friends, function(e) {
return e.spartaUserId.getPlatformId();
});
e.length && R.trigger(e, E.GENERAL);
}
function s(e) {
0 !== e.length && (O(), i());
}
t.__esModule = !0;
var l = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), u = n(5), c = r(u), p = n(21), f = r(p), d = n(24), h = r(d), y = n(176), g = n(75), m = n(65), b = n(35), v = r(b), _ = n(8), S = n(77), T = r(S), w = n(9), E = {
GENERAL: "GENERAL",
SPECIFIC: "SPECIFIC"
};
t.PresenceRequestTypes = E;
var I = {}, C = 3, A = 5e3, P = function() {
function e(t) {
o(this, e), this.serializedPlatformIds = JSON.stringify(t);
}
return e.prototype.reset = function t() {
delete I[this.serializedPlatformIds];
}, e.prototype.maybeRetry = function n(e) {
return this.attempts < C ? (I[this.serializedPlatformIds] = this.attempts + 1, setTimeout(e, A), 
!0) : (this.reset(), !1);
}, l(e, [ {
key: "attempts",
get: function r() {
return I[this.serializedPlatformIds] || 1;
}
} ]), e;
}();
h["default"].onSessionEstablished.listen(i), v["default"].leftServer.listen(i);
var O = w.reaction(function() {
return _.friendStore.friends;
}, s), R = f["default"].createClient({
throttle: 4e3,
shouldPerformRequest: function k(e) {
if (!_.onlineState.isOnlineBlazeAndGateway) {
var t = new P(e);
t.reset();
}
return _.onlineState.isOnlineBlazeAndGateway;
},
listener: function x(e, t) {
return [ e, t || E.SPECIFIC ];
},
request: function M(e, t) {
if (t === E.GENERAL) return h["default"].request("GameServer.getServersByPlatformIds", {
platformIds: e
});
var n = new P(e);
return h["default"].request("GameServer.getServersByPlatformIds", {
platformIds: e,
attempts: n.attempts,
expectPlaying: !0
});
},
onRequestError: function N(e, t, n) {
var r = new P(t);
a(n, "ErrorResponse", e.code), r.maybeRetry(function() {
return R.trigger(t, n);
}) || a(n, "Failure", "ErrorResponse");
},
parse: function D(e, t, n) {
if (n === E.SPECIFIC) {
var r = new P(t), o = c["default"].compact(c["default"].map(t, function(t) {
return e[t] ? void 0 : t;
}));
o.length < t.length ? (a(n, "Success", r.attempts), r.reset(t)) : (a(n, "EmptyResponse", r.attempts), 
r.maybeRetry(function() {
return R.trigger(t, n);
}) || a(n, "Failure", "EmptyResponse")), o.length && o.length < t.length && setTimeout(function() {
R.trigger(o, n);
}, A);
}
var i = [];
return c["default"].forEach(e, function(e, t) {
var n = _.userStore.users.get(t);
if (n && n.presence.state !== g.UserPresenceStates.Offline) {
var r = new y.UserPresence(c["default"].extend({}, n.presence, {
userId: n.id,
server: e ? new m.Server(e) : void 0,
state: e ? g.UserPresenceStates.Joinable : n.presence.firstPartyState
}));
i.push(r);
}
e && _.friendStore.playingFriends.forEach(function(t) {
if (t.presence.server.gameId === e.gameId) {
var n = new y.UserPresence(c["default"].extend({}, t.presence, {
userId: t.id,
server: new m.Server(e)
}));
i.push(n);
}
});
}), i;
},
update: function U(e) {
_.userStore.updatePresences(e);
}
});
t.ServerPresenceClient = R;
}, function(e, t, n) {
var r = n(486), o = n(616), a = o.friendClient, i = n(858), s = n(487), l = n(618), u = l.userProfileClient, c = n(43), p = n(232);
e.exports = {
stores: {
OnboardingFlagStore: n(863),
OnboardingStateStore: n(864),
CareerStore: n(162)
},
types: {
Career: n(322)
},
actions: {
UserActions: c,
PartyActions: n(232)
},
initialize: function f() {
r.startListening(), a.startListening(), u.startListening(), i.startListening(), 
s.startListening(), n(862)(), n(859)(), n(617);
},
onConnectionReady: function d() {
p.getStatus();
}
};
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var r = n(3), o = n(43), a = t(o), i = n(127), s = n(108), l = n(8), u = n(31);
e.exports = function() {
a["default"].showLocalUserSelectionUI.listen(function() {
r.frostbite.sendMessage("sparta.durango.showProfileSelectionUI");
}), a["default"].getOnlinePrivileges.listen(function() {
var e = r.frostbite.registerMessageListener("sparta.getOnlinePrivilegesResponse", function(t, n) {
e();
var r = n.userGeneratedContent ? s.UGCAccessLevel.Everyone : s.UGCAccessLevel.None;
a["default"].setUGCAccessLevel(r);
});
r.frostbite.sendMessage("sparta.getOnlinePrivileges");
}), a["default"].showUserProfile.listen(function(e) {
if (SpartaGlobals.bundleIsPC && !l.settingsStore.isOriginInGameOverlayAvailable) return void u.alert(__("ID_SPARTA_ORIGIN_IGO_DISABLED", !0));
var t = e instanceof i.User ? e.spartaUserId.getPlatformId() : e;
r.frostbite.sendMessage("sparta.showUserProfile", {
platformId: t
});
}), r.frostbite.registerMessageListener("game.showEndOfRoundMessage", function() {
return a["default"].refreshCareer();
});
};
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(5), a = r(o), i = n(15), s = n(26), l = r(s), u = n(43), c = r(u), p = new l["default"]("OnboardingFlagStore"), f = new l["default"]("OnboardingFlagStoreError"), d = i.createStore({
init: function h() {
this.listenTo(c["default"].receiveOnboardingFlagsError, function(e) {
f.setState(e), this.trigger(this.getState());
}), this.listenTo(c["default"].receiveOnboardingFlags, function(e) {
p.setState(e), f.setState({}), this.trigger(this.getState());
}), this.listenTo(c["default"].receiveOnboardingFlag, function(e, t) {
var n, r = p.get(e), o = a["default"].extend({}, r, (n = {}, n[t] = !0, n));
p.set(e, o), f.set(e, !1), this.trigger(this.getState());
});
},
getState: function y() {
return p.getState();
},
getError: function g() {
return f.getState();
}
});
t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = n(26), i = r(a), s = n(131), l = r(s), u = n(43), c = r(u), p = new i["default"]("OnboardingStateStore"), f = o.createStore({
init: function d() {
this.listenTo(c["default"].setOnboardingState, function(e, t) {
var n = p.get(e) || new l["default"]();
p.set(e, n.set(t, !0)), this.trigger(this.getState());
});
},
getState: function h() {
return p.getState();
}
});
t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(866);
}, function(e, t, n) {
(function(__) {
function t(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(1), a = (r(o), n(9)), i = n(180), s = r(i), l = n(29), u = r(l), c = n(8), p = n(52), f = n(167), d = n(868), h = r(d), y = n(867), g = r(y), m = n(875), b = n(58), v = n(103), _ = r(v), S = n(23), T = r(S), w = n(11), E = n(876), I = n(218), C = n(113), A = n(67), P = r(A), O = n(19), R = r(O), k = n(24), x = r(k), M = n(6), N = r(M), D = n(267), U = r(D), L = n(403), $ = r(L), G = n(404), F = r(G), B = n(405), j = r(B), H = n(401), V = r(H), z = n(689), W = r(z), q = n(691), K = r(q), X = n(114), Y = n(18), J = r(Y), Q = t(X), Z = n(623), ee = n(870), te = n(625), ne = n(869), re = n(873), oe = n(871), ae = n(872), ie = n(624), se = n(874), le = n(352);
e.exports = {
initialize: function ue() {
function e() {
var e = E.getServerFilters();
T["default"].setFilterOptions({
bf4: e
});
}
function t() {
var e = [ "battlepacks", "shortcuts", "expansions", "premium" ], t = c.gameStore.getGame(r).subscriberAccessFeatureFlagName;
return c.settingsStore.isFeatureEnabled(t) && e.push("access"), P["default"].getState().hasOnlineAccess(r) ? e.push("game") : e.unshift("game"), 
e;
}
var r = "bf4", o = s["default"].getState(), i = w.bbOfflineUrl("/sparta/jsclient/builds/assets/background-warsaw-4d24343e.dds"), l = w.bbOfflineUrl("/sparta/jsclient/builds/assets/background-warsaw-splash-f9229ed8.dds"), d = {
normal: b.localeState.fonts.bf4.normal,
emphasis: b.localeState.fonts.bf4.emphasis
}, y = SpartaGlobals.bundleIsPC ? w.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf4-pc-91f70f4b.png") : w.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf4-console-15f89cb0.png"), v = w.bbOfflineUrl("/sparta/jsclient/builds/assets/boxshot_bf4-2415ec25.jpg");
x["default"].onSessionEstablished.listen(function() {
"bf4" !== R["default"].getState().hostingGameId && b.localeState.needsFallback ? a.when(function() {
return "warsaw" === b.localeState.section;
}, function() {
e();
}) : I.waitForTranslations().then(function() {
return e();
});
});
var S = [ {
bg: w.bbOfflineUrl("/sparta/jsclient/builds/assets/mp_bf4_background-d55ff8ef.jpg"),
bgSize: [ 4084, 1480 ],
overlay: w.bbOfflineUrl("/sparta/jsclient/builds/assets/mp_bf4_overlay-4754f35f.png"),
overlaySize: [ 4084, 504 ]
} ], A = {}, O = {};
SpartaGlobals.bundleIsPC ? (A = {
width: 239,
top: 60,
left: 128
}, O = {
width: 215,
top: 70,
left: 139
}) : (A = {
width: 283,
top: 73,
left: 217
}, O = {
width: 255,
top: 85,
left: 230
});
var k = S[Math.floor(Math.random() * S.length)], M = [ {
route: "weapons",
getTitle: function Y() {
return __("ID_SPARTA_CAREER_WEAPONS");
},
label: function ue() {
return __("ID_SPARTA_CAREER_WEAPONS");
},
view: K["default"],
onTrigger: function ce() {
return J["default"].gotoLocation("warsaw/soldier/weapons");
},
completion: "WEAPONS"
}, {
route: "kits",
getTitle: function pe() {
return __("ID_SPARTA_CAREER_KITS");
},
label: function fe() {
return __("ID_SPARTA_CAREER_KITS");
},
view: W["default"],
onTrigger: function de() {
return J["default"].gotoLocation("warsaw/soldier/kits");
},
completion: "GADGETS"
}, {
route: "vehicles",
getTitle: function he() {
return __("ID_SPARTA_CAREER_VEHICLES");
},
label: function ye() {
return __("ID_SPARTA_CAREER_VEHICLES");
},
view: j["default"],
onTrigger: function ge() {
return J["default"].gotoLocation("warsaw/soldier/vehicles");
},
completion: "VEHICLES"
}, {
route: "medals",
getTitle: function me() {
return __("ID_SPARTA_CAREER_AWARDS");
},
label: function be() {
return __("ID_SPARTA_CAREER_AWARDS");
},
view: F["default"],
onTrigger: function ve() {
return J["default"].gotoLocation("warsaw/soldier/medals");
},
completion: "MEDALS"
}, {
route: "assignments",
getTitle: function _e() {
return __("ID_SPARTA_CAREER_ASSIGNMENTS");
},
label: function Se() {
return __("ID_SPARTA_CAREER_ASSIGNMENTS");
},
view: V["default"],
onTrigger: function Te() {
return J["default"].gotoLocation("warsaw/soldier/assignments");
},
completion: "ASSIGNMENTS"
}, {
route: "dogtags",
getTitle: function we() {
return __("ID_SPARTA_CAREER_DOGTAGS");
},
label: function Ee() {
return __("ID_SPARTA_CAREER_DOGTAGS");
},
view: $["default"],
onTrigger: function Ie() {
return J["default"].gotoLocation("warsaw/soldier/dogtags");
},
completion: "DOG TAGS"
}, {
getTitle: function Ce() {
return "";
},
label: function Ae() {
return __("ID_SPARTA_CAREER_BATTLEPACKS");
},
onTrigger: X.showBattlepacks,
isNative: !0
} ], D = U["default"].generateChildrenRoutes(r, M), L = {
stats: [ {
getName: function Pe() {
return __("ID_SPARTA_CAREER_WEAPON_HEADSHOTS");
},
key: "headshots"
}, {
getName: function Oe() {
return __("ID_SPARTA_CAREER_WEAPON_SHOTS_FIRED");
},
key: "shots"
} ],
specialStats: [ {
getName: function Re() {
return __("ID_SPARTA_CAREER_WEAPON_REPAIRS");
},
key: "repairs"
}, {
getName: function ke() {
return __("ID_SPARTA_CAREER_WEAPON_SPOT_ASSISTS");
},
key: "spot assist"
}, {
getName: function xe() {
return __("ID_SPARTA_CAREER_WEAPON_HEALS");
},
key: "heals"
}, {
getName: function Me() {
return __("ID_SPARTA_CAREER_WEAPON_RESUPPLIES");
},
key: "resupplies"
}, {
getName: function Ne() {
return __("ID_SPARTA_CAREER_WEAPON_REVIVES");
},
key: "revives"
}, {
getName: function De() {
return __("ID_SPARTA_CAREER_WEAPON_SPAWNS");
},
key: "spawns"
}, {
getName: function Ue() {
return __("ID_SPARTA_CAREER_WEAPON_DAMAGE_ASSISTS");
},
key: "damage assists"
} ],
progress: [ {
getName: function Le() {
return __("ID_SPARTA_CAREER_WEAPON_RANGE");
},
key: "statRange"
} ],
text: [ {
getName: function $e() {
return __("ID_SPARTA_CAREER_WEAPON_RANGE");
},
key: "range"
}, {
getName: function Ge() {
return __("ID_SPARTA_CAREER_WEAPON_RATE_OF_FIRE");
},
key: "rateOfFire"
}, {
getName: function Fe() {
return __("ID_SPARTA_CAREER_WEAPON_MAGAZINE_SIZE");
},
key: "ammo"
}, {
getName: function Be() {
return __("ID_SPARTA_CAREER_WEAPON_AMMO_TYPE");
},
key: "ammoType"
} ]
}, G = {
route: "warsaw/store/list",
image: w.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-625c9007.png"),
getTabs: t
}, B = SpartaGlobals.bundleIsPC ? {
xp0: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp0-209a4da9.png"),
xp1: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp1-5e8bfc37.png"),
xp2: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp2-00f7e4bd.png"),
xp3: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp3-6a55a656.png"),
xp4: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp4-5ca7ee99.png"),
xp5: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp5-e5beb264.png"),
xp6: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp6-5c93809b.png"),
xp7: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp7-1f5b5f2d.png")
} : {
xp0: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp0-366c1cc4.png"),
xp1: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp1-f813098b.png"),
xp2: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp2-dba8e98d.png"),
xp3: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp3-fecbde66.png"),
xp4: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp4-c9675c03.png"),
xp5: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp5-1055b2f2.png"),
xp6: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp6-2d90bb22.png"),
xp7: w.bbOfflineUrl("/sparta/jsclient/builds/assets/xp7-49e041e2.png")
}, H = {
rankBadge: {
position: "absolute",
top: SpartaGlobals.bundleIsConsole ? -27 : -33
},
alignBadgeInfo: "none",
rankIconScaling: {
from: .5,
to: 1
},
rankNumberPadding: [ 2, N["default"].GUTTER, 0, N["default"].GUTTER ]
}, z = {
eu: {
PC: [ _["default"].ENGLISH, _["default"].CZECH, _["default"].GERMAN, _["default"].SPANISH, _["default"].SPANISH_MEXICO, _["default"].FRENCH, _["default"].ITALIAN, _["default"].JAPANESE, _["default"].KOREAN, _["default"].POLISH, _["default"].PORTUGUESE_BRAZIL, _["default"].RUSSIAN, _["default"].CHINESE ],
XBOXONE: [ _["default"].ENGLISH, _["default"].GERMAN, _["default"].SPANISH, _["default"].SPANISH_MEXICO, _["default"].FRENCH, _["default"].ITALIAN, _["default"].JAPANESE, _["default"].POLISH, _["default"].PORTUGUESE_BRAZIL, _["default"].RUSSIAN ],
PS4: [ _["default"].ENGLISH, _["default"].GERMAN, _["default"].SPANISH, _["default"].SPANISH_MEXICO, _["default"].FRENCH, _["default"].ITALIAN, _["default"].POLISH, _["default"].RUSSIAN ]
},
jp: {
PC: [ _["default"].ENGLISH, _["default"].JAPANESE ],
XBOXONE: [ _["default"].ENGLISH, _["default"].GERMAN, _["default"].SPANISH, _["default"].SPANISH_MEXICO, _["default"].FRENCH, _["default"].ITALIAN, _["default"].JAPANESE, _["default"].POLISH, _["default"].PORTUGUESE_BRAZIL, _["default"].RUSSIAN ],
PS4: [ _["default"].ENGLISH, _["default"].JAPANESE ]
},
na: {
PC: [ _["default"].ENGLISH, _["default"].CZECH, _["default"].GERMAN, _["default"].SPANISH, _["default"].SPANISH_MEXICO, _["default"].FRENCH, _["default"].ITALIAN, _["default"].JAPANESE, _["default"].KOREAN, _["default"].POLISH, _["default"].PORTUGUESE_BRAZIL, _["default"].RUSSIAN, _["default"].CHINESE ],
XBOXONE: [ _["default"].ENGLISH, _["default"].GERMAN, _["default"].SPANISH, _["default"].SPANISH_MEXICO, _["default"].FRENCH, _["default"].ITALIAN, _["default"].JAPANESE, _["default"].POLISH, _["default"].PORTUGUESE_BRAZIL, _["default"].RUSSIAN ],
PS4: [ _["default"].ENGLISH, _["default"].SPANISH, _["default"].SPANISH_MEXICO, _["default"].FRENCH, _["default"].PORTUGUESE_BRAZIL ]
},
ru: {
PC: [ _["default"].RUSSIAN, _["default"].POLISH ],
XBOXONE: [ _["default"].ENGLISH, _["default"].GERMAN, _["default"].SPANISH, _["default"].SPANISH_MEXICO, _["default"].FRENCH, _["default"].ITALIAN, _["default"].JAPANESE, _["default"].POLISH, _["default"].PORTUGUESE_BRAZIL, _["default"].RUSSIAN ],
PS4: []
}
};
c.gameStore.registerGame(new f.Game({
gameId: r,
branchNameTest: "warsaw",
productGuid: "{ABADE36E-EC37-413B-8179-B432AD3FACE7}",
crossLaunchIds: {
xboxOneId: "ms-xbl-587BDAF2://crossLaunch",
ps4Ids: {
NA: "CUSA00110",
EU: "CUSA00049",
JP: "CUSA00157"
},
pcIds: {
masterTitleId: "76889",
multiplayerId: "1002645"
}
},
displayName: function je() {
return __("ID_SPARTA_WARSAW_TITLE", !0);
},
releaseDate: Date.parse("October 29, 2013"),
copyrightYear: SpartaGlobals.bundleIsPC ? 2017 : 2016,
logoUrl: y,
cardImageUrl: w.bbOfflineUrl("/sparta/jsclient/builds/assets/card-89cae66e.jpg"),
tallCardImage: {
normal: w.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BF4-83119f43.png"),
grayScale: w.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BF4-Gray-f00e26c9.png")
},
joinNotice: {
premiumTextColor: "#FFFFFF",
premiumOverlayTexture: w.bbOfflineUrl("/sparta/jsclient/builds/assets/BF4-Premium-Notice-5fefb279.png"),
indicatorTexture: w.bbOfflineUrl("/sparta/jsclient/builds/assets/matchmaking-sprite-bf4-f61279c7.png")
},
consolePartyBar: !1,
startScreenImageUrl: l,
defaultBackgroundUrl: i,
serverListRoute: "warsaw/mp/servers",
serverDetailsRoute: "warsaw/mp/servers/details",
serverListDefaultFilter: "OnlineEnvironment_Prod" === o.onlineEnvironment ? {
slots: {
oneToFive: "on",
sixToTen: "on"
},
serverType: {
OFFICIAL: "on",
RANKED: "on"
},
regions: {}
} : {
regions: {}
},
invalidateStats: !0,
quickMatchRoute: "warsaw/mp/quickmatch",
fonts: d,
startRoute: "warsaw",
careerConfig: M,
shouldDisplayMedalProgression: !0,
showUnlockInfo: !1,
dogtagsConfig: {
getLeft: function He() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_LEFT");
},
getRight: function Ve() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_RIGHT");
}
},
storeConfig: G,
joinConfig: {
mmAutoJoin: !0,
squadJoin: function ze() {
return C.requiresRime("bf4", Q.showSquadJoin);
}
},
enforceEntitlements: !0,
expansions: B,
styles: H,
backgroundMusicTrack: 2,
locales: z,
xpBoost: A,
xpBoostPremium: O,
expansionsImage: w.bbOfflineUrl("/sparta/assets/expansions-bf4-fb125f97.png"),
fetchCareer: !0,
supportedRoles: [ "soldier", "commander", "spectator" ],
mutateCareerStats: function We(e) {
e.soldierImageUrl = w.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-soldier-1836f76d.png");
},
soldierConfig: {
showCategorizationForVehicles: !0,
showBiggerCardImages: !0,
showAccessoriesForWeapons: !0
},
premiumLogoUrl: SpartaGlobals.bundleIsPC ? w.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf4-premium-pc-67a96e94.png") : w.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf4-premium-console-9d419d19.png"),
boxShot: v,
extraWeaponInfoStats: L
}));
var q = {
serverType: {
OFFICIAL: "on"
},
presets: {
NORMAL: "on"
},
passwordProtected: "off"
};
u["default"].addRouteConfig(new p.Route("warsaw", {
requireOnline: !0,
requireMpInstalled: !0,
gameId: r,
getTitle: function qe() {
return __("ID_SPARTA_WARSAW_TITLE", !0);
},
getSubtitle: function Ke() {
return __("ID_SPARTA_MENU_TITLE_HOME");
},
disabled: !1,
view: ee.WarsawOverview,
offlineView: te.WarsawOverviewOffline,
logoUrl: y,
backgroundSize: k.bgSize,
backgroundUrl: k.bg,
backgroundOffset: 400,
backgroundMusicTrack: 2,
normalIconUrl: w.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-31e29b06.png"),
fonts: d,
priority: 0,
children: [ new p.Route("mp", {
getTitle: function Xe() {
return __("ID_SPARTA_MENU_TITLE_MULTIPLAYER");
},
view: ne.WarsawMultiplayer,
children: [ new p.Route("servers", {
getTitle: function Ye() {
return __("ID_SPARTA_MENU_TITLE_SERVER_BROWSER");
},
view: re.WarsawServerList,
children: [ new p.Route("details", {
getTitle: function Je() {
return __("ID_SPARTA_MENU_TITLE_SERVER_INFO");
},
view: oe.WarsawServerDetails
}), new p.Route("filter", {
getTitle: function Qe() {
return __("ID_SPARTA_MENU_TITLE_FILTER");
},
view: ae.WarsawServerFilter,
excludeFromHistory: !0,
children: []
}) ]
}), new p.Route("quickmatch", {
getTitle: function Ze() {
return __("ID_SPARTA_MENU_TITLE_QUICKMATCH");
},
view: n(365).getGameSpecificQuickMatch("bf4", q)
}), new p.Route("squadjoin", {
getTitle: function et() {
return __("ID_SPARTA_WARSAW_ACTION_SQUADJOIN");
},
view: se.WarsawSquadJoin
}) ]
}), new p.Route("sp", {
requireMpInstalled: !1,
requireOnline: !1,
getTitle: function tt() {
return __("ID_SPARTA_MENU_TITLE_CAMPAIGN");
},
view: Z.WarsawCampaign
}), new p.Route("soldier", {
getTitle: function nt() {
return __("ID_SPARTA_MENU_TITLE_SOLDIER");
},
args: {
gameId: r
},
view: n(270),
children: D
}), new p.Route("store", {
getTitle: function rt() {
return __("ID_SPARTA_MAIN_TITLE_STORE");
},
args: {
gameId: r
},
view: n(413),
children: [ new p.Route("access", {
getTitle: function ot() {
return __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_TAB_ORIGIN_ACCESS" : "ID_SPARTA_TAB_EA_ACCESS");
},
view: n(217),
args: {
gameId: r
},
children: [ new p.Route("play-first", {
getTitle: function at() {
return __("ID_SPARTA_ACCESS_PLAY_FIRST_TRIAL");
},
args: {
gameId: r
},
view: n(273)
}), new p.Route("common-questions", {
getTitle: function it() {
return __("ID_SPARTA_ACCESS_COMMON_QUESTIONS");
},
args: {
gameId: r
},
view: n(272)
}), new p.Route("join-buy", {
getTitle: function st() {
return __("ID_SPARTA_ACCESS_JOIN_AND_BUY");
},
args: {
gameId: r
},
view: n(412)
}) ]
}), new p.Route("list", {
getTitle: function lt() {
return __("ID_SPARTA_WARSAW_TITLE");
},
args: {
gameId: "bf4"
},
view: n(274),
children: [ new p.Route("details", {
getTitle: function ut() {
return __("ID_SPARTA_CAREER_DETAILS");
},
args: {
gameId: "bf4"
},
view: le.OfferDetails
}) ]
}) ]
}), new p.Route("more", {
requireMpInstalled: !1,
requireOnline: !1,
getTitle: function ct() {
return __("ID_SPARTA_MENU_TITLE_MORE");
},
view: ie.WarsawMore
}) ]
})), h["default"](), g["default"](), m.warsawTelemetryBindings();
}
};
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(114), a = n(90), i = r(a), s = n(19), l = r(s);
e.exports = function() {
i["default"].joinMultiplayerServer.listen(function(e) {
"bf4" === e.server.game && "bf4" === l["default"].getState().hostingGameId && o.joinGame(e);
}), i["default"].joinMultiplayerFriend.listen(function(e) {
"bf4" === e.gameId && "bf4" === l["default"].getState().hostingGameId && o.joinGame(e);
}), i["default"].continueSinglePlayer.listen(function(e) {
"bf4" === e && "bf4" === l["default"].getState().hostingGameId && o.showCampaign();
});
};
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
function s() {
w["default"].onGameSessionJoinRefused.listen(function(e) {
u.frostbite.sendMessage("warsaw.cancelReservation", {
gameId: e
});
}), u.frostbite.registerMessageListener("sparta.getLocalUserResp", function(e, t) {
null != t.modMask && v["default"].setInstalledExpansions("bf4", t.modMask);
}), d["default"].handleSpartaActivatedUpdate.listen(function() {
return B.returnFromRime();
}), $.autorun(function() {
var e = function t() {
return B.sendQueuedScreenMessage();
};
y["default"].setComponentVisibilities({
miniMenu: !E.partyStore.isInSquadJoin,
only: B.inRimeScreen ? {
background: !0
} : !1
}, e);
}), M["default"].onDisconnected.listen(function() {
E.partyStore.setInSquadJoin(!1);
});
}
var l = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), u = n(3), c = n(19), p = o(c), f = n(18), d = o(f), h = n(29), y = o(h), g = n(114), m = r(g), b = n(35), v = o(b), _ = n(91), S = o(_), T = n(233), w = o(T), E = n(8), I = n(181), C = o(I), A = n(284), P = o(A), O = n(111), R = n(78), k = o(R), x = n(89), M = o(x), N = n(153), D = n(280), U = n(90), L = o(U), $ = n(9), G = n(487), F = o(G), B = new (function() {
function e() {
a(this, e), i(this, "inRimeScreen", t);
}
var t = {};
return e.prototype.sendQueuedScreenMessage = function n() {
this.screenMessage && (u.frostbite.sendMessage(this.screenMessage), delete this.screenMessage);
}, l(e, [ {
key: "returnFromRime",
decorators: [ $.action ],
value: function r() {
this.inRimeScreen = !1, this.returnCallback && this.returnCallback();
}
}, {
key: "transitionToRime",
decorators: [ $.action ],
value: function o(e, t) {
this.inRimeScreen || (this.screenMessage = e, this.inRimeScreen = !0, this.returnCallback = t);
}
}, {
key: "inRimeScreen",
decorators: [ $.observable ],
initializer: function s() {
return !1;
},
enumerable: !0
} ], null, t), e;
}())();
e.exports = function() {
p["default"].scope("hostingGameId").listen(function(e) {
"bf4" === e && s();
}), m.showOptions.listen(function() {
return B.transitionToRime("warsaw.showOptions");
}), m.showCredits.listen(function() {
return B.transitionToRime("warsaw.showCredits");
}), m.showBattlepacks.listen(function() {
return B.transitionToRime("warsaw.showBattlepacks", function() {
return F["default"].trigger("bf4");
});
}), m.showAwards.listen(function() {
return B.transitionToRime("warsaw.showAwards");
}), m.showDogTags.listen(function() {
return B.transitionToRime("warsaw.showDogTags");
}), m.showSoldierProgression.listen(function() {
return B.transitionToRime("warsaw.showSoldierProgression");
}), m.purchaseRSP.listen(function() {
return B.transitionToRime("warsaw.purchaseRSP");
}), m.showSquadJoin.listen(function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? !1 : arguments[0];
e || (E.partyStore.setInSquadJoin(!0), d["default"].gotoLocation("warsaw/mp/squadjoin")), 
B.transitionToRime("warsaw.showSquadJoin");
}), m.showCampaign.listen(function() {
N.checkGameState().then(function() {
return B.transitionToRime("warsaw.showCampaign");
});
}), m.joinGame.listen(function(e) {
var t = {
asSpectator: "spectator" === e.role,
asCommander: "commander" === e.role
};
return null != e.password && (t.password = e.password), e.squad ? (t.playgroupId = e.squad.id, 
t.gameId = e.server.gameId, t.hasReservation = !1, u.frostbite.sendMessage("warsaw.joinGame", t), 
void m.showSquadJoin()) : (e.friend ? t.spartaUserId = e.friend.spartaUserId : t.gameId = e.server.gameId, 
t.hasReservation = !!e.server, void u.frostbite.sendMessage("warsaw.joinGame", t));
}), m.playTestRange.listen(function() {
D.checkPresenceReady().then(N.checkGameState).then(function() {
"bf4" === p["default"].getState().hostingGameId ? y["default"].hideComponent("all", function() {
u.frostbite.sendMessage("warsaw.playTestRange");
}) : console.error("playTestRange: Not implemented");
});
}), u.frostbite.registerMessageListener("warsaw.joinResultMessage", function(e, t) {
var n, r = (n = {}, n[t.JoinResult_Success] = I.JoinResultType.success, n[t.JoinResult_UnknownError] = I.JoinResultType.unknownError, 
n[t.JoinResult_InvalidGame] = I.JoinResultType.invalidGameState, n[t.JoinResult_InvalidGameState] = I.JoinResultType.invalidGameState, 
n[t.JoinResult_ServerFull] = I.JoinResultType.gameFull, n[t.JoinResult_NoServerFound] = I.JoinResultType.noServerFound, 
n[t.JoinResult_UserNotFound] = I.JoinResultType.playerNotFound, n[t.JoinResult_Queued] = I.JoinResultType.queued, 
n[t.JoinResult_TimeOut] = I.JoinResultType.timeOut, n[t.JoinResult_WrongVersion] = I.JoinResultType.wrongVersion, 
n[t.JoinResult_Banned] = I.JoinResultType.banned, n[t.JoinResult_IndirectJoinFailed] = I.JoinResultType.indirectJoinFail, 
n[t.JoinResult_RoleCriteriaFailed] = I.JoinResultType.roleCriteriaFailed, n[t.JoinResult_RoleFull] = I.JoinResultType.roleFull, 
n[t.JoinResult_RoleNotAllowed] = I.JoinResultType.roleNotAllowed, n[t.JoinResult_FailedReputationCheck] = I.JoinResultType.failedReputationCheck, 
n[t.JoinResult_FailedRankRequirement] = I.JoinResultType.rankCriteriaFailed, n), o = t.gameId && "0" !== t.gameId ? t.gameId : null;
S["default"].onJoinMultiplayerServerResult(new C["default"]({
gameId: "bf4",
resultType: r[t.joinResult],
blazeGameId: o,
server: null
}));
}), u.frostbite.registerMessageListener("warsaw.serverDisconnectedMessage", function(e, t) {
var n;
if (!B.inRimeScreen) {
var r = (n = {}, n[t.DISCONNECT_OK] = A.DisconnectionType.ok, n[t.DISCONNECT_WRONG_PROTOCOL_VERSION] = A.DisconnectionType.wrongProtocolVersion, 
n[t.DISCONNECT_WRONG_TITLE_VERSION] = A.DisconnectionType.wrongTitleVersion, n[t.DISCONNECT_SERVER_FULL] = A.DisconnectionType.serverFull, 
n[t.DISCONNECT_KICKED] = A.DisconnectionType.kickedOut, n[t.DISCONNECT_BANNED] = A.DisconnectionType.banned, 
n[t.DISCONNECT_GENERIC] = A.DisconnectionType.genericError, n[t.DISCONNECT_WRONG_PASSWORD] = A.DisconnectionType.wrongPassword, 
n[t.DISCONNECT_DEMO_OVER] = A.DisconnectionType.kickedOutDemoOver, n[t.DISCONNECT_RANK_RESTRICTED] = A.DisconnectionType.rankRestricted, 
n[t.DISCONNECT_CONFIGURATION_NOT_ALLOWED] = A.DisconnectionType.configurationNotAllowed, 
n[t.DISCONNECT_SERVER_RECLAIMED] = A.DisconnectionType.serverReclaimed, n[t.DISCONNECT_MISSING_CONTENT] = A.DisconnectionType.missingContent, 
n[t.DISCONNECT_NOT_VERIFIED] = A.DisconnectionType.notVerified, n[t.DISCONNECT_TIMED_OUT] = A.DisconnectionType.timedOut, 
n[t.DISCONNECT_CONNECT_FAILED] = A.DisconnectionType.connectFailed, n[t.DISCONNECT_NO_REPLY] = A.DisconnectionType.noReply, 
n[t.DISCONNECT_ACCEPT_FAILED] = A.DisconnectionType.acceptFailed, n[t.DISCONNECT_MISMATCHING_CONTENT] = A.DisconnectionType.mismatchingContent, 
n[t.DISCONNECT_KICKED_OUT_RANK_TOO_HIGH] = A.DisconnectionType.kickedOutRankTooHigh, 
n[t.DISCONNECT_INTERACTIVITY_TIMEOUT] = A.DisconnectionType.interactivityTimeout, 
n[t.DISCONNECT_KICKED_FROM_QUEUE] = A.DisconnectionType.kickedFromQueue, n[t.DISCONNECT_TEAM_KILL] = A.DisconnectionType.teamKills, 
n[t.DISCONNECT_KICKED_BY_ADMIN] = A.DisconnectionType.kickedByAdmin, n[t.DISCONNECT_KICKED_VIA_PUNKBUSTER] = A.DisconnectionType.kickedViaPunkBuster, 
n[t.DISCONNECT_KICKED_FULL] = A.DisconnectionType.kickedOutServerFull, n[t.DISCONNECT_ESPORT_STARTING] = A.DisconnectionType.eSportsMatchStarting, 
n[t.DISCONNECT_ESPORT_NOT_IN_ROSTER] = A.DisconnectionType.notInESportsRosters, 
n[t.DISCONNECT_ESPORT_ENDING] = A.DisconnectionType.eSportsMatchEnding, n[t.DISCONNECT_VIRTUAL_EXPIRED] = A.DisconnectionType.virtualServerExpired, 
n[t.DISCONNECT_VIRTUAL_RECREATE] = A.DisconnectionType.virtualServerRecreate, n[t.DISCONNECT_ESPORT_FULL] = A.DisconnectionType.eSportsTeamFull, 
n[t.DISCONNECT_ESPORT_ABORTED] = A.DisconnectionType.eSportsMatchAborted, n[t.DISCONNECT_ESPORT_WALKOVER] = A.DisconnectionType.eSportsMatchWalkover, 
n[t.DISCONNECT_ESPORT_WARMUP_TIME_OUT] = A.DisconnectionType.eSportsMatchWarmupTimedOut, 
n[t.DISCONNECT_NO_SPECTATORS] = A.DisconnectionType.notAllowedToSpectate, n[t.DISCONNECT_NO_SPECTATOT_SLOTS] = A.DisconnectionType.noSpectateSlotAvailable, 
n[t.DISCONNECT_INVALID_SPECTATE] = A.DisconnectionType.invalidSpectateJoin, n[t.DISCONNECT_KICKED_FAIR_FIGHT] = A.DisconnectionType.kickedViaFairFight, 
n[t.DISCONNECT_KICKED_COMMANDER_LEAVE] = A.DisconnectionType.ok, n[t.DISCONNECT_KICKED_COMMANDER_MUTINY] = A.DisconnectionType.kickedCommanderAfterMutiny, 
n[t.DISCONNECT_MAINTENANCE] = A.DisconnectionType.serverMaintenance, n[t.DISCONNECT_KICKED_GAME_TIME_OFFICIAL] = A.DisconnectionType.kickedGameTimeAccountOnUnofficial, 
n);
S["default"].onMultiplayerServerDisconnection(new P["default"]({
gameId: "bf4",
disconnectionType: r[t.disconnectReason]
}));
}
}), u.frostbite.registerMessageListener("warsaw.presenceStatusMessage", function(e, t) {
var n, r, o, a = (n = {}, n[t.Event_ModeChanged] = O.ConnectionEventType.modeChanged, 
n[t.Event_Disconnected] = O.ConnectionEventType.disconnected, n[t.Event_BackendDisconnected] = O.ConnectionEventType.backendDisconnected, 
n[t.Event_Connecting] = O.ConnectionEventType.connecting, n[t.Event_ConnectionReady] = O.ConnectionEventType.connectionReady, 
n[t.Event_OnlineFlowDone] = O.ConnectionEventType.onlineFlowDone, n[t.Event_FirstPartyConnected] = O.ConnectionEventType.firstPartyConnected, 
n[t.Event_FirstPartyDisconnected] = O.ConnectionEventType.firstPartyDisconnected, 
n[t.Event_ConnectionMessage] = O.ConnectionEventType.connectionMessage, n[t.Event_LoginAccountFailed] = O.ConnectionEventType.loginAccountFailed, 
n), i = (r = {}, r[t.Result_Success] = O.ConnectionResultType.success, r[t.Result_Failure] = O.ConnectionResultType.failure, 
r[t.Result_InvalidUser] = O.ConnectionResultType.invalidUser, r[t.Result_LoginCancelled] = O.ConnectionResultType.loginCancelled, 
r[t.Result_ServerDisconnect] = O.ConnectionResultType.serverDisconnect, r[t.Result_Timeout] = O.ConnectionResultType.timeout, 
r[t.Result_TooYoung] = O.ConnectionResultType.tooYoung, r[t.Result_TooYoungForContent] = O.ConnectionResultType.tooYoungForContent, 
r[t.Result_MissingOnlineAccess] = O.ConnectionResultType.missingOnlineAccess, r[t.Result_SystemError] = O.ConnectionResultType.systemError, 
r[t.Result_NoMultiplayerPrivilege] = O.ConnectionResultType.noMultiplayerPrivilege, 
r[t.Result_AccountBanned] = O.ConnectionResultType.accountBanned, r[t.Result_AccountDisabled] = O.ConnectionResultType.accountBanned, 
r[t.Result_AccountDeactivated] = O.ConnectionResultType.accountBanned, r), s = (o = {}, 
o[t.Mode_Offline] = O.PresenceModeType.offline, o[t.Mode_SilentOnline] = O.PresenceModeType.silentOnline, 
o[t.Mode_Online] = O.PresenceModeType.online, o), l = a[t.eventType], u = i[t.resultType], c = s[t.mode];
l === O.ConnectionEventType.connectionReady && u === O.ConnectionResultType.success && k["default"].handleMessage(new O.PresenceStatusMessage({
gameId: "bf4",
eventType: O.ConnectionEventType.qualityOfServiceDone
})), k["default"].handleMessage(new O.PresenceStatusMessage({
gameId: "bf4",
eventType: l,
resultType: u,
mode: c,
customMessage: t.connectionMessage
}));
}), u.frostbite.registerMessageListener("warsaw.crossLaunchCampaign", function() {
L["default"].continueSinglePlayer("bf4");
}), u.frostbite.registerMessageListener("warsaw.modMaskUpdated", function(e, t) {
null != t.modMask && v["default"].setInstalledExpansions("bf4", t.modMask);
});
var e = 0, t = 1;
u.frostbite.registerMessageListener("warsaw.squadJoinMessage", function(n, r) {
var o = r.transition;
o === e && d["default"].gotoLocation("warsaw/mp/servers"), o === t && (d["default"].returnFromLocation("warsaw/mp/squadjoin"), 
E.partyStore.setInSquadJoin(!1));
});
};
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return N(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), f = n(1), d = i(f), h = n(10), y = n(114), g = n(11), m = n(8), b = n(18), v = i(b), _ = n(55), S = n(6), T = i(S), w = n(27), E = i(w), I = n(31), C = n(69), A = n(41), P = i(A), O = n(14), R = i(O), k = n(113), x = n(39), M = {
_$WarsawMultiplayer: {
displayName: "WarsawMultiplayer"
}
}, N = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-warsaw/src/WarsawMultiplayer.jsx",
components: M,
locals: [],
imports: []
}), D = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.componentDidMount = function s() {
this.active = !0;
}, n.prototype.componentWillEnter = function l() {
this.active = !0;
}, n.prototype.componentWillLeave = function f() {
this.active = !1;
}, n.prototype.runIfActive = function b(e) {
this.active ? e() : console.warn("Ignored action because component is not active");
}, n.prototype.confirmTestRange = function S() {
return this.isInWarsaw ? void I.confirm(__("ID_SPARTA_WARSAW_ACTION_TESTRANGE_JOINMESSAGE", !0), __("ID_SPARTA_WARSAW_ACTION_TESTRANGE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "confirmTestRange", {
blockInputFor: 2e3
}).then(function() {
return y.playTestRange();
}) : void x.showNotInHostingGameAlert();
}, n.prototype.renderMainContent = function w() {
var t = this, n = T["default"].getHeight(18), r = this.state.presence && this.state.presence.isReady(), o = !k.rimeTransitionState.isInJoinFlow && this.isInWarsaw, a = {
size: "XL",
style: {
height: T["default"].getHeight(59)
}
}, i = r && SpartaGlobals.bundleIsConsole && d["default"].createElement(_.BasicCard, u({
layout: "split"
}, a, {
icon: g.bbOfflineUrl("/sparta/jsclient/builds/assets/rsp-df618d18.png"),
heading: __("ID_SPARTA_ACTION_RSP"),
description: __("ID_SPARTA_COMMERCE_RSP_OFFER_DESCRIPTION"),
textHeight: n,
onPress: function() {
return t.runIfActive(function() {
return k.requiresRime("bf4", y.purchaseRSP);
});
},
enabled: o
})), s = SpartaGlobals.bundleIsConsole ? T["default"].getHeight(3) : 0;
return {
$$typeof: c,
type: C.CardCarousel,
key: null,
ref: null,
props: e(C.CardCarousel.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ d["default"].createElement(_.BasicCard, u({
layout: "split"
}, a, {
background: g.bbOfflineUrl("/gamedata/bf4/ConquestClassics-5d753425.jpg"),
heading: __("ID_SPARTA_ACTION_QUICKMATCH"),
description: __("ID_SPARTA_ACTION_QUICKMATCH_DESCRIPTION"),
textHeight: n,
onPress: function() {
return t.runIfActive(function() {
return v["default"].gotoLocation("warsaw/mp/quickmatch");
});
}
})), d["default"].createElement(_.BasicCard, u({
layout: "split"
}, a, {
icon: g.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-squadjoin-highres-82188e85.png"),
activeIcon: g.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-squadjoin-highres-black-9081baf7.png"),
heading: __("ID_SPARTA_WARSAW_ACTION_SQUADJOIN"),
description: __("ID_SPARTA_WARSAW_ACTION_SQUADJOIN_DESCRIPTION"),
textHeight: n,
onPress: function() {
return t.runIfActive(function() {
return k.requiresRime("bf4", function() {
return m.partyStore.gotoSquadJoin();
});
});
},
enabled: o
})), d["default"].createElement(_.BasicCard, u({
layout: "split"
}, a, {
icon: g.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-serverbrowser-highres-bddf3d98.png"),
activeIcon: g.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-serverbrowser-highres-black-dc8e49e2.png"),
heading: __("ID_SPARTA_ACTION_SERVERBROWSER"),
description: __("ID_SPARTA_ACTION_SERVERBROWSER_DESCRIPTION"),
textHeight: n,
onPress: function() {
return t.runIfActive(function() {
return v["default"].gotoLocation("warsaw/mp/servers");
});
}
})), d["default"].createElement(_.BasicCard, u({
layout: "split"
}, a, {
background: g.bbOfflineUrl("/gamedata/bf4/TestRange-e4d4847e.jpg"),
heading: __("ID_SPARTA_WARSAW_ACTION_TESTRANGE"),
description: __("ID_SPARTA_WARSAW_ACTION_TESTRANGE_DESCRIPTION"),
textHeight: n,
onPress: function() {
return t.runIfActive(function() {
return t.confirmTestRange();
});
},
enabled: this.isInWarsaw
})), i ],
style: {
flexDirection: "row"
}
},
_owner: null
},
width: T["default"].getWidth(24),
style: {
marginTop: s
}
}),
_owner: null
};
}, n.prototype.render = function A() {
return {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: e(E["default"].defaultProps, {
children: this.renderMainContent(),
wideContent: !0,
tallContent: !0,
scrollContent: SpartaGlobals.bundleIsPC
}),
_owner: null
};
}, p(n, [ {
key: "isInWarsaw",
get: function O() {
return x.isHostingGame("bf4");
}
} ]);
var i = n;
return n = a("_$WarsawMultiplayer")(n) || n, n = R["default"]({
presence: P["default"]
})(n) || n, n = h.observer(n) || n;
}(d["default"].Component);
t.WarsawMultiplayer = D;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function e(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return ne(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e, t) {
return 0 === t ? "L" : "M";
}
function u(e, t) {
return 0 === t ? "SSL" : "SSM";
}
var c = n(4), p = s(c);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = s(d), y = n(3), g = e(y), m = n(10), b = n(297), v = s(b), _ = n(296), S = s(_), T = n(14), w = s(T), E = n(28), I = s(E), C = n(134), A = s(C), P = n(105), O = s(P), R = n(69), k = n(472), x = s(k), M = n(16), N = n(27), D = s(N), U = n(7), L = n(6), $ = s(L), G = n(425), F = s(G), B = n(113), j = n(39), H = n(441), V = s(H), z = n(363), W = s(z), q = n(169), K = n(18), X = n(11), Y = n(29), J = s(Y), Q = n(36), Z = s(Q), ee = n(114), te = {
_$WarsawOverview: {
displayName: "WarsawOverview"
}
}, ne = p["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-warsaw/src/WarsawOverview.jsx",
components: te,
locals: [],
imports: []
}), re = {
invisible: {
opacity: M.Animation.tweenTo(0)
},
visible: {
opacity: M.Animation.tweenTo(1)
},
row: {
flexDirection: "row"
}
}, oe = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = {
minutesToUTC: new Date().getTimezoneOffset(),
game: "bf4"
};
S["default"].trigger(e), V["default"].trigger();
}, t.prototype.componentDidMount = function c() {
Z["default"].getState().hideStartScreen && setTimeout(function() {
return J["default"].focusComponent("content");
}, 100);
}, t.prototype.getQuickLinks = function p() {
var e = !B.rimeTransitionState.isInJoinFlow && j.routeIsHostingGame();
return [ {
icon: X.bbUrl("/sparta/jsclient/builds/assets/serverbrowser-000e77bf.png"),
blur: X.bbUrl("/sparta/jsclient/builds/assets/serverbrowser_blur-045932c3.png"),
action: function t() {
return K.gotoLocation("warsaw/mp/servers");
},
description: __("ID_SPARTA_ACTION_SERVERBROWSER")
}, {
icon: X.bbUrl("/sparta/jsclient/builds/assets/favservers-f33e8992.png"),
blur: X.bbUrl("/sparta/jsclient/builds/assets/favservers_blur-39031108.png"),
action: function n() {
return K.gotoLocation("warsaw/mp/servers?tab=favorites");
},
description: __("ID_SPARTA_ACTION_FAVORITESERVERS")
}, {
icon: X.bbUrl("/sparta/jsclient/builds/assets/quickmatch-bd06be42.png"),
blur: X.bbUrl("/sparta/jsclient/builds/assets/quickmatch_blur-1e2d3eda.png"),
action: function r() {
return K.gotoLocation("warsaw/mp/quickmatch");
},
description: __("ID_SPARTA_ACTION_QUICKMATCH")
}, {
muted: !e,
icon: X.bbUrl("/sparta/jsclient/builds/assets/battlepacks-cee8063b.png"),
blur: X.bbUrl("/sparta/jsclient/builds/assets/battlepacks_blur-a7e73a9b.png"),
action: function o() {
return B.requiresRime("bf4", function() {
return ee.showBattlepacks();
});
},
description: __("ID_SPARTA_ACTION_BATTLEPACKS")
}, {
muted: !e,
icon: X.bbUrl("/sparta/jsclient/builds/assets/options-3d4d9691.png"),
blur: X.bbUrl("/sparta/jsclient/builds/assets/options_blur-13fd633f.png"),
action: function a() {
return B.requiresRime("bf4", function() {
return ee.showOptions();
});
},
description: __("ID_SPARTA_ACTION_OPTIONS")
} ];
}, t.prototype.renderRecommendationsPC = function d(e) {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: R.CardCarousel,
key: null,
ref: null,
props: r(R.CardCarousel.defaultProps, {
children: e,
width: $["default"].getWidth(24)
}),
_owner: null
}, this.state.recommendations && h["default"].createElement(x["default"], {
ref: "quicklinks",
flareOffset: -5,
items: this.getQuickLinks()
}), {
$$typeof: f,
type: F["default"],
key: null,
ref: null,
props: r(F["default"].defaultProps, {
gameId: "bf4",
style: {
width: $["default"].getWidth(24)
}
}),
_owner: null
} ]
},
_owner: null
};
}, t.prototype.renderRecommendationsConsole = function y(e) {
var t = this;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: g.focus.FocusableAncestor,
key: null,
ref: null,
props: r(g.focus.FocusableAncestor.defaultProps, {
children: {
$$typeof: f,
type: R.CardCarousel,
key: null,
ref: null,
props: r(R.CardCarousel.defaultProps, {
children: e,
width: $["default"].getWidth(24)
}),
_owner: null
},
onChildFocus: function() {
return t.refs.template && t.refs.template.tiltTo(0, 0);
}
}),
_owner: null
}, this.state.recommendations && h["default"].createElement(x["default"], {
ref: "quicklinks",
items: this.getQuickLinks(),
onFocus: function() {
return t.refs.template && t.refs.template.tiltTo(0, -$["default"].getHeight(6));
}
}) ]
},
_owner: null
};
}, t.prototype.renderHeading = function b() {
var e = null, t = this.state.welcomeMessage;
if (q.store.isNoticeAvailable("bf4")) e = {
$$typeof: f,
type: W["default"],
key: null,
ref: null,
props: r(W["default"].defaultProps, {
gameId: "bf4"
}),
_owner: null
}; else if (t) {
var n = t ? re.visible : re.invisible, o = [];
t.firstMessage && o.push({
$$typeof: f,
type: U.Text,
key: null,
ref: null,
props: r(U.Text.defaultProps, {
size: "L",
value: t.firstMessage,
style: n
}),
_owner: null
}), t.secondMessage && o.push({
$$typeof: f,
type: U.Text,
key: null,
ref: null,
props: r(U.Text.defaultProps, {
size: "L",
value: " " + t.secondMessage,
style: n
}),
_owner: null
}), e = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: o,
style: re.row
},
_owner: null
};
}
return e;
}, t.prototype.renderOverview = function _() {
var e = SpartaGlobals.bundleIsPC ? u : l, t = O["default"].renderCards(this.state.recommendations, e), n = {
opacity: M.Animation.tweenSwitch(0, 1, this.state.recommendations)
};
return {
$$typeof: f,
type: $["default"].Col,
key: "overviewCol",
ref: null,
props: r($["default"].Col.defaultProps, {
children: SpartaGlobals.bundleIsPC ? this.renderRecommendationsPC(t) : this.renderRecommendationsConsole(t),
style: n
}),
_owner: null
};
}, t.prototype.render = function T() {
var e = this.renderOverview();
return h["default"].createElement(D["default"], {
ref: "template",
wideContent: !0,
aboveContent: this.renderHeading(),
scrollContent: SpartaGlobals.bundleIsPC
}, e);
};
var n = t;
return t = i("_$WarsawOverview")(t) || t, t = w["default"]({
welcomeMessage: I["default"](v["default"], "bf4")
})(t) || t, t = A["default"]({
count: 6,
games: [ "bf4" ],
ruleCategories: [ "warsaw_home" ]
})(t) || t, t = m.observer(t) || t;
}(h["default"].Component);
t.WarsawOverview = oe, oe.prototype.displayName = "WarsawOverview";
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return P(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(5), d = i(f), h = n(23), y = i(h), g = n(290), m = i(g), b = n(104), v = i(b), _ = n(14), S = i(_), T = n(7), w = n(475), E = i(w), I = n(28), C = i(I), A = {
_$WarsawServerDetails: {
displayName: "WarsawServerDetails"
}
}, P = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-warsaw/src/WarsawServerDetails.jsx",
components: A,
locals: [],
imports: []
}), O = "bf4", R = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.componentWillMount = function s() {
this.loadServerDetails(this.props.viewLocation.args.blazeGameId);
}, n.prototype.componentWillReceiveProps = function l(e, t) {
this.loadServerDetails(e.viewLocation.args.blazeGameId);
}, n.prototype.loadServerDetails = function c(e) {
y["default"].clearServerDetails();
var t = {
game: O,
gameId: e
};
y["default"].getDetailsForServer(t);
}, n.prototype.getSettings = function p() {
var e = this, t = this.state.details.settings, n = this.state.filterOptions, r = {
on: __("ID_SPARTA_FILTER_SETTING_ON"),
off: __("ID_SPARTA_FILTER_SETTING_OFF")
}, o = [], a = [];
d["default"].each(t.all, function(t, i) {
var s = d["default"].find(n.advanced, function(e) {
return e.filterKey === i;
}), l = d["default"].find(n.rules, function(e) {
return e.filterKey === i;
});
if (s) {
var u = s.defaultValue + "";
1 === s.defaultValue ? u = "on" : 0 === s.defaultValue && (u = "off"), o.push({
name: s.prettyName || s.name,
setting: e.translateSettingValue(r, t),
isDefault: u === t
});
}
if (l) {
var u = l.defaultValue + "";
a.push({
name: l.prettyName || l.name,
setting: e.translateSettingValue(r, t),
isDefault: u === t
});
}
});
var i = {};
return i[__("ID_SPARTA_FILTER_SETTINGS")] = {
size: "long",
settings: this.getAdditionalServerSettings()
}, i[__("ID_SPARTA_FILTER_ADVANCED")] = {
size: "short",
settings: o
}, i[__("ID_SPARTA_FILTER_RULES")] = {
size: "short",
settings: a
}, i;
}, n.prototype.getRegionName = function f(e) {
var t = this.state.filterOptions;
if (t && t.regions) {
var n = d["default"].find(t.regions, function(t) {
return t.filterKey === e;
});
return n ? n.name : e;
}
return e;
}, n.prototype.getAdditionalServerSettings = function h() {
var e = this.state.details, t = e.punkbusterEnabled, n = e.fairfightEnabled, r = e.region, o = e.country, a = e.passwordProtected, i = e.preset, s = [], l = this.getRegionName(r);
return "" !== o && (l += " - " + o), s.push({
name: __("ID_SPARTA_FILTER_REGION"),
setting: l,
isDefault: !0
}), s.push({
name: __("ID_SPARTA_FILTER_PUNKBUSTER"),
setting: __(t ? "ID_SPARTA_FILTER_SETTING_ON" : "ID_SPARTA_FILTER_SETTING_OFF"),
isDefault: !0
}), s.push({
name: __("ID_SPARTA_FILTER_FAIRFIGHT"),
setting: __(n ? "ID_SPARTA_FILTER_SETTING_ON" : "ID_SPARTA_FILTER_SETTING_OFF"),
isDefault: !0
}), s.push({
name: __("ID_SPARTA_FILTER_PASSWORD"),
setting: __(a ? "ID_SPARTA_FILTER_SETTING_ON" : "ID_SPARTA_FILTER_SETTING_OFF"),
isDefault: !a
}), s.push({
name: __("ID_SPARTA_FILTER_PRESET"),
setting: i,
isDefault: !0
}), "" !== this.state.details.experience && s.push({
name: __("ID_SPARTA_FILTER_EXPERIENCE"),
setting: this.state.details.experience,
isDefault: !0
}), s;
}, n.prototype.translateSettingValue = function g(e, t) {
return e.hasOwnProperty(t) ? e[t] : t;
}, n.prototype.render = function b() {
return !this.state.details || this.state.detailsError ? {
$$typeof: u,
type: T.Text,
key: null,
ref: null,
props: e(T.Text.defaultProps, {
value: this.state.detailsError,
size: "L"
}),
_owner: null
} : {
$$typeof: u,
type: E["default"],
key: null,
ref: null,
props: e(E["default"].defaultProps, {
details: this.state.details,
settings: this.getSettings()
}),
_owner: null
};
};
var i = n;
return n = a("_$WarsawServerDetails")(n) || n, n = S["default"]({
details: C["default"](m["default"], "data"),
detailsError: C["default"](m["default"], "error"),
filterOptions: C["default"](v["default"], O)
})(n) || n;
}(p["default"].Component);
t.WarsawServerDetails = R;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return b(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(175), d = n(476), h = i(d), y = n(473), g = i(y), m = {
_$WarsawServerFilter: {
displayName: "WarsawServerFilter"
}
}, b = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-warsaw/src/WarsawServerFilter.jsx",
components: m,
locals: [],
imports: []
}), v = "bf4", _ = SpartaGlobals.bundleIsPC ? [ {
id: "gameModes",
label: function T() {
return __("ID_SPARTA_FILTER_GAMEMODES");
},
toggleAll: !0
}, {
id: "maps",
label: function w() {
return __("ID_SPARTA_FILTER_MAPS");
},
toggleAll: !0
}, {
id: "slots",
label: function E() {
return __("ID_SPARTA_FILTER_FREESLOTS");
}
}, {
id: "serverType",
label: function I() {
return __("ID_SPARTA_FILTER_SERVERTYPE");
},
toggleAll: !0
}, {
id: "tickRates",
label: function C() {
return __("ID_SPARTA_FILTER_TICKRATE");
},
toggleAll: !0
}, {
id: "presets",
label: function A() {
return __("ID_SPARTA_FILTER_PRESET");
},
toggleAll: !0
}, {
id: "regions",
label: function P() {
return __("ID_SPARTA_FILTER_REGIONS");
},
toggleAll: !0
}, {
id: "advanced",
label: function O() {
return __("ID_SPARTA_FILTER_MISC");
},
type: "onOff"
}, {
id: "rules",
label: function R() {
return __("ID_SPARTA_FILTER_RULES");
},
type: "range"
}, {
id: "name",
label: function k() {
return __("ID_SPARTA_FILTER_NAME");
}
} ] : [ {
id: "gameModes",
label: function x() {
return __("ID_SPARTA_FILTER_GAMEMODES");
},
toggleAll: !0
}, {
id: "maps",
label: function M() {
return __("ID_SPARTA_FILTER_MAPS");
},
toggleAll: !0
}, {
id: "slots",
label: function N() {
return __("ID_SPARTA_FILTER_FREESLOTS");
}
}, {
id: "serverType",
label: function D() {
return __("ID_SPARTA_FILTER_SERVERTYPE");
},
toggleAll: !0
}, {
id: "presets",
label: function U() {
return __("ID_SPARTA_FILTER_PRESET");
},
toggleAll: !0
}, {
id: "regions",
label: function L() {
return __("ID_SPARTA_FILTER_REGIONS");
},
toggleAll: !0
}, {
id: "name",
label: function $() {
return __("ID_SPARTA_FILTER_NAME");
}
} ], S = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.switchTab = function s(e) {
this.refs.tabs && this.refs.tabs.handleTabSelected(e);
}, n.prototype.render = function l() {
var t = this, n = {
name: "current",
title: function a() {
return __("ID_SPARTA_TAB_CURRENT");
},
render: function i() {
return p["default"].createElement(h["default"], {
ref: "filterView",
gameId: v,
filterLayout: _,
switchTab: function(e) {
return t.switchTab(e);
}
});
}
}, r = {
name: "presets",
title: function s() {
return __("ID_SPARTA_TAB_PRESETS");
},
render: function l() {
return {
$$typeof: u,
type: g["default"],
key: "presets",
ref: null,
props: e(g["default"].defaultProps, {
switchTab: function(e) {
return t.switchTab(e);
},
gameId: v
}),
_owner: null
};
}
}, o = [ n, r ];
return p["default"].createElement(f.TabbedTemplate, {
ref: "tabs",
tabs: o
});
};
var i = n;
return n = a("_$WarsawServerFilter")(n) || n;
}(p["default"].Component);
t.WarsawServerFilter = S;
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return x(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), p = i(c), f = n(14), d = i(f), h = n(28), y = i(h), g = n(79), m = i(g), b = n(92), v = i(b), _ = n(175), S = n(479), T = n(474), w = n(13), E = i(w), I = n(12), C = i(I), A = n(20), P = i(A), O = n(8), R = n(10), k = {
_$WarsawServerList: {
displayName: "WarsawServerList"
}
}, x = l["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-warsaw/src/WarsawServerList.jsx",
components: k,
locals: [],
imports: []
}), M = "bf4", N = "warsaw/mp/servers/filter", D = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.getInput = function s() {
return O.partyStore.isInSquadJoin ? new E["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
action: function e() {
return O.partyStore.gotoSquadJoin();
},
key: C["default"].Decline
}) : [];
}, n.prototype.getTabs = function l() {
var t = this;
return [ {
name: "servers",
title: __("ID_SPARTA_TAB_SERVERS"),
renderHeader: function n() {
return {
$$typeof: u,
type: T.SearchServersHeader,
key: null,
ref: null,
props: e(T.SearchServersHeader.defaultProps, {
gameId: M,
filtersRoute: N
}),
_owner: null
};
},
render: function r() {
return {
$$typeof: u,
type: T.SearchServers,
key: "servers",
ref: null,
props: e(T.SearchServers.defaultProps, {
gameId: M,
gameData: t.state.gameData,
pingSites: t.state.pingSites,
filtersRoute: N
}),
_owner: null
};
}
}, {
name: "favorites",
title: __("ID_SPARTA_TAB_FAVORITES"),
render: function o() {
return {
$$typeof: u,
type: S.FavoriteServers,
key: "favorites",
ref: null,
props: e(S.FavoriteServers.defaultProps, {
gameId: M,
gameData: t.state.gameData,
pingSites: t.state.pingSites
}),
_owner: null
};
}
}, {
name: "recent",
title: __("ID_SPARTA_TAB_RECENT"),
render: function a() {
return {
$$typeof: u,
type: S.RecentServers,
key: "recent",
ref: null,
props: e(S.RecentServers.defaultProps, {
gameId: M,
gameData: t.state.gameData,
pingSites: t.state.pingSites
}),
_owner: null
};
}
} ];
}, n.prototype.render = function c() {
return {
$$typeof: u,
type: _.TabbedTemplate,
key: null,
ref: null,
props: e(_.TabbedTemplate.defaultProps, {
tabs: this.getTabs(),
showDivider: !0,
topGutter: !1
}),
_owner: null
};
};
var i = n;
return n = a("_$WarsawServerList")(n) || n, n = d["default"]({
pingSites: y["default"](v["default"], M),
gameData: y["default"](m["default"], M)
})(n) || n, n = P["default"]()(n) || n, n = R.observer(n) || n;
}(p["default"].Component);
t.WarsawServerList = D, D.gameId = M;
}).call(t, n(2));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return m(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(4), u = s(l);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), f = r(p), d = n(114), h = r(d), y = n(8), g = {
_$WarsawSquadJoin: {
displayName: "WarsawSquadJoin"
}
}, m = u["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-warsaw/src/WarsawSquadJoin.jsx",
components: g,
locals: [],
imports: []
}), b = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function r() {
y.partyStore.isInSquadJoin && h.showSquadJoin(!0);
}, t.prototype.render = function s() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
};
var n = t;
return t = i("_$WarsawSquadJoin")(t) || t;
}(f.Component);
t.WarsawSquadJoin = b;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(114), a = n(151), i = r(a), s = n(152), l = function u() {
o.showCampaign.listen(function() {
i["default"].trackEvent(s.Events.GameStart, {
gameType: "online",
gameMode: "sp_launch"
});
}), o.joinGame.listen(function(e) {
var t = e.server || {
mapMode: "",
mapName: ""
};
i["default"].trackEvent(s.Events.GameStart, {
gameType: "online_mp",
gameMode: "mp_" + t.mapMode,
map: t.mapName,
mid: e.blazeGameId
});
});
};
t.warsawTelemetryBindings = l;
}, function(e, t, n) {
(function(__) {
function e() {
return {
slots: [ {
name: __("ID_SPARTA_FILTER_SLOTS_NONE"),
filterKey: "none"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_ONETOFIVE"),
filterKey: "oneToFive"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_SIXTOTEN"),
filterKey: "sixToTen"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_TENPLUS"),
filterKey: "tenPlus"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_ALL"),
filterKey: "all"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_COMMANDER"),
filterKey: "commander"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_SPECTATOR"),
filterKey: "spectator",
PCOnly: "true"
} ]
};
}
t.__esModule = !0, t.getServerFilters = e;
}).call(t, n(2));
}, function(e, t, n) {
e.exports = n(878);
}, function(e, t, n) {
(function(__) {
var t = n(11), r = n(29), o = n(52).Route, a = n(880);
e.exports = {
initialize: function i() {
var e = SpartaGlobals.bundleIsPC ? t.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-d9da8eb1.png") : t.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-d0015b17.png");
r.addRouteConfig(new o("watch", {
requireOnline: !0,
getTitle: function i() {
return __("ID_SPARTA_MAIN_TITLE_WATCH", !0);
},
disabled: !1,
getSubtitle: function s() {
return __("ID_SPARTA_MAIN_TITLE_WATCH");
},
view: n(881),
normalIconUrl: e,
backgroundUrl: t.bbOfflineUrl("/sparta/jsclient/builds/assets/background-generic-c08a5fa5.dds"),
backgroundSize: [ 4084, 1480 ],
priority: 4
})), a.startListening();
}
};
}).call(t, n(2));
}, function(e, t, n) {
var r = n(15);
e.exports = {
updateVideos: r.createAction(),
refreshVideos: r.createAction()
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(705), a = r(o), i = n(5), s = n(21), l = n(50).gatewayClient, u = n(879), c = s.createClient({
requestOn: [ u.refreshVideos ],
throttle: 3e4,
request: function p(e) {
return l.request("News.getVideoList", {
games: e
});
},
parse: function f(e) {
var t = [];
return i.isEmpty(e) || (i.each(e, function(e, n) {
i.each(e, function(e) {
t.push(new a["default"](e, n));
});
}), t = i.sortBy(t, function(e) {
return e.video.creationDate.getTime();
}), t = t.reverse(), t[0].setFeatured()), {
list: t
};
},
update: function d(e) {
u.updateVideos(e);
}
});
e.exports = c;
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return I(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
return e.isFeatured ? "L" : "M";
}
var u = n(4), c = s(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(6), y = s(h), g = n(69), m = n(27), b = s(m), v = n(105), _ = s(v), S = n(134), T = s(S), w = n(16), E = {
_$WatchOverview: {
displayName: "WatchOverview"
}
}, I = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-watch/src/views/WatchOverview.jsx",
components: E,
locals: [],
imports: []
}), C = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.renderNewsForPC = function s(e) {
var t = {
flexWrap: "wrap",
flexDirection: "row",
marginRight: 2 * -y["default"].GUTTER,
marginBottom: -y["default"].GUTTER
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: t
},
_owner: null
};
}, t.prototype.renderNewsForConsole = function u(e) {
return {
$$typeof: p,
type: g.CardCarousel,
key: "carousel",
ref: null,
props: r(g.CardCarousel.defaultProps, {
children: e
}),
_owner: null
};
}, t.prototype.render = function c() {
var e = _["default"].renderCards(this.state.recommendations, l), t = {
opacity: w.Animation.tweenSwitch(0, 1, this.state.recommendations)
};
return {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
children: {
$$typeof: p,
type: y["default"].Col,
key: "overviewCol",
ref: null,
props: r(y["default"].Col.defaultProps, {
children: SpartaGlobals.bundleIsPC ? this.renderNewsForPC(e) : this.renderNewsForConsole(e)
}),
_owner: null
},
scrollContent: SpartaGlobals.bundleIsPC,
style: t
}),
_owner: null
};
};
var n = t;
return t = i("_$WatchOverview")(t) || t, t = T["default"]({
count: 15,
games: [ "sparta" ],
ruleCategories: [ "sparta_watch" ]
})(t) || t;
}(d["default"].Component);
t["default"] = C, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(884);
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return C(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(3), d = r(f), h = n(1), y = l(h), g = n(19), m = l(g), b = n(7), v = n(6), _ = l(v), S = n(231), T = n(14), w = l(T), E = n(11), I = {
_$PrivacyPolicyContent: {
displayName: "PrivacyPolicyContent"
},
_$TextWithRenderDelay: {
displayName: "TextWithRenderDelay"
}
}, C = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/PrivacyPolicyContent.jsx",
components: I,
locals: [],
imports: []
}), A = {
titleStyle: {
marginTop: -_["default"].GUTTER,
marginBottom: _["default"].getHeight(5),
textAlignForRTL: "left"
}
}, P = {}, O = {
xboxone: {
PP: {
"ar-sa": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ar-c5b69842.txt"),
"cs-cz": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-cs-e8558212.txt"),
"de-de": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-de-87aa792f.txt"),
"en-us": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-en-19b7fd61.txt"),
"es-es": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-es-58a02f3a.txt"),
"es-mx": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-mx-c16db0b8.txt"),
"fr-fr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-fr-65fbf187.txt"),
"it-it": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-it-58253880.txt"),
"ja-jp": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-jp-b69421f7.txt"),
"ko-kr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ko-45b894c8.txt"),
"pl-pl": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-pl-421c8f85.txt"),
"pt-br": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-br-f63d2687.txt"),
"ru-ru": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ru-2cc0c661.txt"),
"tr-tr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-tr-ecb70fcd.txt"),
"zh-tw": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-tc-a26a741a.txt")
}
},
ps4: {
PP: {
"ar-sa": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ar-d23e6be9.txt"),
"cs-cz": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-cz-10dcf052.txt"),
"de-de": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-de-5db91fe6.txt"),
"en-us": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-en-16fa45b7.txt"),
"es-es": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-es-6eeac95c.txt"),
"es-mx": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-mx-1430f8e3.txt"),
"fr-fr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-fr-928bd643.txt"),
"it-it": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-it-0d3747ea.txt"),
"ja-jp": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ja-2f18926b.txt"),
"ko-kr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ko-8e236800.txt"),
"pl-pl": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-pl-b99d410e.txt"),
"pt-br": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-br-8254622f.txt"),
"ru-ru": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ru-c6b56e0d.txt"),
"tr-tr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-tr-375ff060.txt"),
"zh-tw": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-tc-3289d77a.txt")
}
},
pc: {
PP: {
"ar-sa": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ar-e158ccf8.txt"),
"cs-cz": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-cs-08e36f8e.txt"),
"de-de": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-de-5acd94c7.txt"),
"en-us": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-en-d41c6ce1.txt"),
"es-es": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-es-9b5b964e.txt"),
"es-mx": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-mx-239b4588.txt"),
"fr-fr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-fr-751c0122.txt"),
"it-it": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-it-e918e658.txt"),
"ja-jp": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-jp-d0447da4.txt"),
"ko-kr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ko-a64cd41f.txt"),
"pl-pl": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-pl-9011ec1f.txt"),
"pt-br": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-br-40bcc8f5.txt"),
"ru-ru": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ru-eeb84d61.txt"),
"tr-tr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-tr-1162c67a.txt"),
"zh-tw": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-tc-20c38a96.txt")
}
}
}, R = [];
R.XBOXONE = {
getTitle: function N() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: O.xboxone.PP
}, R.PS4 = {
getTitle: function D() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: O.ps4.PP
}, R.PC = {
getTitle: function U() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: O.pc.PP
};
var k = R[SpartaGlobals.bundlePlatform], x = function(e) {
function t() {
a(this, n), e.call(this), this.state = {
text: null,
selected: k
};
}
i(t, e), t.prototype.componentDidMount = function r() {
this.loadTextForCurrentSelected();
}, t.prototype.loadTextForCurrentSelected = function l() {
var e = this, t = this.state.nativeProperties.locale, n = this.state.selected.sources[t];
return n ? P[n] ? void this.setState({
text: P[n]
}) : void d.loadAssetRequest(d.options.urlHook(n), function(r, o) {
r ? (e.setState({
text: o
}), P[n] = o) : (console.warn("Failed to fetch text for locale: " + t), e.setState({
text: ""
}));
}) : (console.warn("Missing source for locale: " + t), void this.setState({
text: ""
}));
}, t.prototype.render = function u() {
var e = this, t = this.state.selected.getTitle().toUpperCase(), n = [ {
$$typeof: p,
type: b.Text,
key: "title",
ref: null,
props: o(b.Text.defaultProps, {
value: t,
size: "L",
style: A.titleStyle
}),
_owner: null
} ];
return this.state.text && !function() {
var t = S.chunkTextByLines(e.state.text), r = 0 === t.length ? 100 : 2e3 / t.length, a = t.map(function(t, n) {
return {
$$typeof: p,
type: M,
key: n + "_" + e.state.selected.getTitle(),
ref: null,
props: o(M.defaultProps, {
delay: n * r,
text: t
}),
_owner: null
};
});
n.push.apply(n, a);
}(), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: n
},
_owner: null
};
};
var n = t;
return t = s("_$PrivacyPolicyContent")(t) || t, t = w["default"]({
nativeProperties: m["default"]
})(t) || t;
}(y["default"].Component);
t["default"] = x;
var M = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
show: !1
}, this.timeout = null;
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this;
this.timeout = setTimeout(function() {
e.setState({
show: !0
});
}, this.props.delay);
}, t.prototype.componentWillUnmount = function l() {
clearTimeout(this.timeout);
}, t.prototype.render = function u() {
return this.state.show ? {
$$typeof: p,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: this.props.text,
size: "S",
style: {
textAlignForRTL: "left"
}
}),
_owner: null
} : {
$$typeof: p,
type: b.Text,
key: null,
ref: null,
props: o(b.Text.defaultProps, {
value: "",
size: "S"
}),
_owner: null
};
};
var n = t;
return t = s("_$TextWithRenderDelay")(t) || t;
}(y["default"].Component);
e.exports = t["default"];
}).call(t, n(2));
}, function(e, t, n) {
(function(__) {
function t(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {
if (d.settingsStore.isFeatureEnabled("enableHelpSection")) {
g = y;
var e = SpartaGlobals.bundleIsPC ? f.bbOfflineUrl("/sparta/jsclient/builds/assets/HelpIcon-dfd17476.png") : f.bbOfflineUrl("/sparta/assets/console-help-menu-icon-6ab6486a.png"), t = new u.Route("channelselection", {
getTitle: function r() {
return __("ID_SPARTA_MENU_TITLE_HELP_CONTACT_US");
},
view: n(494),
children: [ new u.Route("callback", {
getTitle: function o() {
return __("ID_SPARTA_MENU_TITLE_HELP_GET_A_CALL");
},
view: n(489),
excludeFromHistory: !0
}), new u.Route("callbackDeflection", {
view: n(491),
excludeFromHistory: !0
}), new u.Route("callbackconfirmation", {
view: n(490),
excludeFromHistory: !0
}), new u.Route("callus", {
view: n(492),
excludeFromHistory: !0
}) ]
});
y = new u.Route("wwcesupport", {
getTitle: function a() {
return __("ID_SPARTA_MAIN_TITLE_HELP");
},
skipToFirstChild: !0,
backgroundSize: [ 4084, 1440 ],
normalIconUrl: e,
priority: 7,
children: [ new u.Route("help", {
getTitle: function i() {
return __("ID_SPARTA_MAIN_TITLE_HELP");
},
getSubtitle: function s() {
return __("ID_SPARTA_MENU_TITLE_HELP_ARTICLE");
},
view: h.WwceSupportOverview,
children: [ new u.Route("articledetail", {
getTitle: function c() {
return __("ID_SPARTA_MENU_TITLE_HELP_ARTICLE");
},
view: n(488),
excludeFromHistory: !0
}), new u.Route("categoryselection", {
getTitle: function p() {
return __("ID_SPARTA_MENU_TITLE_HELP_TOPIC");
},
view: n(493),
children: [ t ]
}), t ]
}) ]
}), g ? l["default"].replaceRouteConfig(g, y) : l["default"].addRouteConfig(y);
}
}
var a = n(1), i = (r(a), n(9)), s = n(29), l = r(s), u = n(52), c = n(192), p = t(c), f = n(11), d = n(8), h = n(495), y = void 0, g = void 0;
e.exports = {
initialize: function m() {
i.reaction(function() {
return d.settingsStore.featureFlags;
}, function() {
o();
}), o(), p.startListening();
}
};
}).call(t, n(2));
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o(e) {
n(this, o), this.id = e.id || "", this.title = e.title || "", this.summary = e.summary || "", 
this.categories = e.categories || [];
};
t["default"] = r, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o(e) {
n(this, o), this.id = e.id || "", this.content = e.content || "", this.categories = e.categories || [], 
this.title = e.title || "", this.summary = e.summary || "";
};
t["default"] = r, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o(e) {
n(this, o), this.channel = e.channel || "", this.caseNumber = e.caseNumber || "", 
this.waitTime = e.waitTime || "", this.waitTimeRange = e.waitTimeRange || "";
};
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(5), i = r(a), s = function l(e) {
o(this, l), this.message = e.message || [], this.name = e.name || "", this.rank = e.rank || "", 
this.customerValue = e.customerValue || "", this.lifeCycle = e.lifeCycle || "", 
this.waitTime = e.waitTime || "", this.waitTimeRange = e.waitTimeRange || "", this.skill = e.skill || "", 
this.notInBusinessHours = i["default"].isUndefined(e.notInBusinessHours) ? "" : e.notInBusinessHours;
};
t["default"] = s, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = n(26), i = r(a), s = n(192), l = n(80), u = r(l), c = new i["default"]("WwceSupportArticleDetailStore"), p = o.createStore({
init: function f() {
s.articleDetail.listen(function(e) {
c = e, p.trigger(c);
}), u["default"].resetArticleDetailState.listen(function() {
c = {};
});
},
getState: function d() {
return c;
},
getInitialState: function h() {
return this.getState();
}
});
t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
t.__esModule = !0;
var a = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), i = n(9), s = n(192), l = function() {
function e() {
var n = this;
r(this, e), o(this, "items", t), s.articleList.listen(function(e) {
n.populate(e);
});
}
var t = {}, t = {};
return a(e, [ {
key: "items",
decorators: [ i.observable ],
initializer: function n() {
return {};
},
enumerable: !0
} ], null, t), a(e, [ {
key: "reset",
decorators: [ i.action ],
value: function l() {
this.items = {};
}
}, {
key: "populate",
decorators: [ i.action ],
value: function u(e) {
this.items = e;
}
} ], null, t), e;
}(), u = new l();
t.wwceSupportArticleState = u;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = n(26), i = r(a), s = n(192), l = n(80), u = r(l), c = new i["default"]("WwceSupportCaseStore"), p = o.createStore({
init: function f() {
s.createCase.listen(function(e) {
c = e, p.trigger(c);
}), u["default"].resetCaseDetailState.listen(function() {
c = {};
});
},
getState: function d() {
return c;
},
getInitialState: function h() {
return this.getState();
}
});
t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return M(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(4), c = l(u);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(10), y = n(3), g = r(y), m = n(218), b = n(28), v = l(b), _ = n(14), S = l(_), T = n(19), w = l(T), E = n(58), I = n(894), C = l(I), A = n(260), P = n(83), O = l(P), R = n(219), k = n(250), x = {
_$TexturePreloader: {
displayName: "TexturePreloader"
},
_$Client: {
displayName: "Client"
}
}, M = c["default"]({
filename: "/teamcity/work/4f54818186c80483/client/src/Client.jsx",
components: x,
locals: [],
imports: []
}), N = new A.ExtraElements();
t.extraRoot = N;
var D = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
textures: []
};
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this, t = function r() {
return e.setState({
textures: g.texture.keepAlive.getTextures(),
debug: g.texture.keepAlive.debug
});
}, n = O["default"](t, 50, !1, !0);
this.cancel = g.texture.keepAlive.onTexturesChanged.listen(n);
}, t.prototype.componentWillUnmount = function o() {
this.cancel();
}, t.prototype.render = function l() {
var e = this.state.debug, t = 30, n = 30, r = {
position: "absolute",
width: 1,
height: 1,
left: 0,
top: 0
}, o = this.state.textures.map(function(r, o) {
var a = r.reference.url, i = r.reference.atlas, s = {
width: e ? t : 1,
height: e ? n : 1,
opacity: e ? 1 : .01,
position: "absolute",
left: e ? o % 40 * t : 0,
top: e ? Math.floor(o / 40) * n : 0,
texture: a,
textureAtlas: i
};
return {
$$typeof: p,
type: "surface",
key: o,
ref: null,
props: {
style: s,
isPreloader: !0
},
_owner: null
};
});
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: o,
style: r
},
_owner: null
};
};
var n = t;
return t = s("_$TexturePreloader")(t) || t, t = h.observer(t) || t;
}(d["default"].Component), U = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.timeout = 0, this.state = {
loadedTranslations: !1
};
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this, t = 15e3;
this.timeout = setTimeout(function() {
console.error("Could not load translations in time (" + t + "ms). Forcing UI to show."), 
e.setState({
loadedTranslations: !0
});
}, t);
}, t.prototype.componentWillUpdate = function l(e, t) {
var n = this, r = t.locale, o = t.commerceLocale;
if (this.state.locale !== r && r) {
var a = k.needsFallbackForLocale(r);
E.localeState.setInitialLocales(r, o || r, a), m.loadTranslations(t.locale).then(function() {
return R.handleTranslationSetup(), E.localeState.updateFontsForLocale(t.locale);
}).then(function() {
clearTimeout(n.timeout), C["default"](), n.setState({
loadedTranslations: !0
});
})["catch"](function(e) {
console.error(e);
});
}
}, t.prototype.render = function u() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.state.loadedTranslations ? this.props.components : [], this.state.loadedTranslations ? N.elements.slice() : [], {
$$typeof: p,
type: D,
key: null,
ref: null,
props: o(D.defaultProps, {}),
_owner: null
} ],
style: {
flex: 1,
left: 0,
top: 0,
position: "absolute"
},
onMouseScroll: function() {}
},
_owner: null
};
};
var n = t;
return t = s("_$Client")(t) || t, t = S["default"]({
locale: v["default"](w["default"], "locale"),
commerceLocale: v["default"](w["default"], "commerceLocale")
})(t) || t, t = h.observer(t) || t;
}(d["default"].Component);
t.Client = U, U.render = function(e) {
g.render({
$$typeof: p,
type: U,
key: null,
ref: null,
props: o(U.defaultProps, {
components: e
}),
_owner: null
});
};
}, function(e, t, n) {
n(912)([ n(50), n(724), n(739), n(857), n(769), n(764), n(730), n(534), n(721), n(865), n(778), n(767), n(671), n(877), n(766), n(693), n(882) ]);
}, function(e, t, n) {
function r() {
SpartaGlobals.bundleIsPC ? o("default", {
softness: 1.1,
edgeOffset: .7
}) : o("default", {
softness: 0,
edgeOffset: 0
});
}
function o(e, t) {
i.options.fontSettings[e] = t;
}
t.__esModule = !0, t["default"] = r;
var a = n(45), i = n(3);
a.acceptKeyword("accept_exclusive_keywords_start"), a.acceptKeyword("accept_exclusive_keywords_end"), 
e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-AR-b175aa25.ttf")
},
emphasis: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/assets/fonts/FuturaMaxiBook-AR-Bold-dfde16c9.ttf")
}
},
bfh: {
normal: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-AR-b175aa25.ttf")
},
emphasis: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/assets/fonts/FuturaMaxiBook-AR-Bold-dfde16c9.ttf")
}
},
generic: {
normal: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-AR-b175aa25.ttf")
},
emphasis: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/assets/fonts/FuturaMaxiBook-AR-Bold-dfde16c9.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-b70f7609.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-3dd46895.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(45);
r.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "",
url: ""
},
emphasis: {
name: "",
url: ""
}
},
tunguska: {
normal: {
name: "",
url: ""
},
emphasis: {
name: "",
url: ""
}
},
bfh: {
normal: {
name: "",
url: ""
},
emphasis: {
name: "",
url: ""
}
},
generic: {
normal: {
name: "",
url: ""
},
emphasis: {
name: "",
url: ""
}
}
}, r.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start");
var a = {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
};
t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: a,
bf1cte: a,
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "DFP_sougeitai_W5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf")
},
emphasis: {
name: "DFP_sougeitai_W5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiBook-JP",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-JP-d50af3c6.ttf")
},
emphasis: {
name: "FuturaMaxiBook-JP",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-JP-d50af3c6.ttf")
}
},
bfh: {
normal: {
name: "DFP_sougeitai_W5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf")
},
emphasis: {
name: "DFP_sougeitai_W5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf")
}
},
generic: {
normal: {
name: "DFP_sougeitai_W5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf")
},
emphasis: {
name: "DFP_sougeitai_W5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: SpartaGlobals.bundleIsPC ? {
normal: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
},
emphasis: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
}
} : {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
},
emphasis: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
}
},
generic: {
normal: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
},
emphasis: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(45);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: SpartaGlobals.bundleIsPC ? {
normal: {
name: "ARHeitiMediumB5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/ARHeitiMediumB5-0dc1118f.ttf")
},
emphasis: {
name: "ARHeitiMediumB5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/ARHeitiMediumB5-0dc1118f.ttf")
}
} : {
normal: {
name: "FuturaMaxiBook-TC",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-TC-c3bf1e0d.ttf")
},
emphasis: {
name: "FuturaMaxiBook-TC",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-TC-c3bf1e0d.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiBook-TC",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-TC-c3bf1e0d.ttf")
},
emphasis: {
name: "FuturaMaxiBook-TC",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-TC-c3bf1e0d.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
var r = n(11), o = n(3);
e.exports = {
load: function a() {
o.texture.loadDefaultTexture(1, r.bbOfflineUrl("/sparta/assets/ui/lib/RoundedRect-4806f472.png"), "SINGLE_TEXTURE"), 
o.texture.loadDefaultTexture(3, r.bbOfflineUrl("/sparta/jsclient/builds/assets/StereoPostProcess_noise-aaa19f6e.png"), "SINGLE_TEXTURE"), 
o.texture.loadDefaultTexture(4, r.bbOfflineUrl("/sparta/jsclient/builds/assets/StereoPostProcess_scanlines-287143c5.png"), "SINGLE_TEXTURE");
}
};
}, function(e, t, n) {
(function(t) {
function r() {
if (l.getRootId()) {
var e = l.getBoundsSync(l.getRootId());
if (e) return void l.events.onWindowSizeChanged.trigger(e.width, e.height);
}
setTimeout(r, 500);
}
function o(e) {
return u.chain(e).map(function(e, t) {
return u.values(e.components).map(function(e, t) {
return c.createElement(e, {
key: e.displayName
});
});
}).compact().flatten().value();
}
function a(e) {
e.forEach(function(e) {
u.isFunction(e.initialize) && e.initialize();
});
}
function i(e) {
e.forEach(function(e) {
if (u.isFunction(e.onConnectionReady)) try {
e.onConnectionReady();
} catch (t) {
console.error("Could not trigger connection ready handler in module", e, t);
}
});
}
function s(e) {
function n(e, n) {
var r = !0, o = void 0;
r && (o = g.generateEvent(n)), t.isJSC ? l.Native.showError("Error calling '" + e + "':\n" + n.toString() + ".\n" + ("Line: " + n.line + "\nColumn:" + n.column + "\nStack:\n" + n.stack) + (o ? "\nSentry Event ID:" + o.event_id : "")) : l.Native.showError("Error calling '" + e + "'. Reason: " + n.stack);
}
console.log("##################################################"), console.log("Sparta JavaScript version", "release-bf4pc-bf1dlc1_11296_3284083e_warsaw_all_prod"), 
console.log("##################################################"), l.getBuildInfo().isRemoteEngine() && (t.twinkle = l), 
b.action("Initial controllerMode value", function() {
return l.focus.system.controllerMode = SpartaGlobals.bundleIsConsole;
})(), e = u.compact(e), a(e), f.allModulesDidLoad(e), l.Native.start(function() {
h.load(), l.options.defaultFontFamily = y.ROBOTO.LIGHT, l.options.defaultFontSize = 18, 
l.options.defaultFontColor = "#ffffff", l.options.enableDevWarnings = !1, l.options.enableLogging = !l.getBuildInfo().isEndUserBuild(), 
l.options.onErrorCallback = n, l.options.rlvSocketUrl = void 0, l.getBuildInfo().hasJsCreateAtlas() && (l.Native.createDynamicAtlasSync("SpartaCommonAtlas", 1024, 1024, "RGBA", 0, 0), 
l.Native.createDynamicAtlasSync("AvatarAtlas", 512, 512, "RGBA", 0, 0), l.Native.createDynamicAtlasSync("DogtagsAtlas", 1024, 1024, "RGBA", 0, 0), 
l.Native.createDynamicAtlasSync("WeaponsAtlas", 1024, 1024, "RGBA", 0, 0), l.Native.createDynamicAtlasSync("VehiclesAtlas", 1024, 1024, "RGBA", 0, 0), 
l.Native.createDynamicAtlasSync("KitsAtlas", 1024, 1024, "RGBA", 0, 0), l.Native.createDynamicAtlasSync("AwardsAtlas", 1024, 1024, "RGBA", 0, 0), 
l.Native.createDynamicAtlasSync("CodexAtlas", 1024, 1024, "RGBA", 0, 0), l.Native.createDynamicAtlasSync("AssignmentsAtlas", 1024, 1024, "RGBA", 0, 0));
var t = o(e);
m.render(t), r(), l.events.onWindowSizeChanged.listen(function(e, t) {
if (l.getBuildInfo().hasSetGlyphSamplesSync()) {
var n = 2;
(SpartaGlobals.bundleIsPC && t > 600 || t > 1080) && (n = 3), l.Native.setGlyphSamplesSync(n);
}
l.renderer.updateSurface(".root", {
width: e,
height: t
});
});
}), l.frostbite.sendMessage("sparta.jsClientReady"), l.frostbite.sendMessage("sparta.setJsBuildInfo", {
changelist: "3284083e34e4f9260f1d7d902a18bfc0013ea641",
version: "release-bf4pc-bf1dlc1/11296/warsaw",
gatewayUrl: ""
}), l.frostbite.sendMessage("sparta.origin.isIgoAvailable");
var s = !1;
d.onReady.preEmit = function() {
s || (s = !0, i(e));
}, SpartaGlobals.bundleIsPS4 && d.onReady.listen(function() {
l.frostbite.sendMessage("sparta.orbis.getAccountInfo");
});
}
var l = n(3);
l.Native.jsStart(), n(919);
var u = n(5), c = n(1), p = n(251), f = n(60), d = n(89), h = n(911), y = n(194).fonts, g = n(323), m = n(892).Client, b = n(9);
n(628), b.useStrict(!1), l.events.endReactTransaction.listen(function() {
l.Native.applyStateChanges && l.Native.applyStateChanges();
}), p.init(), l.Native.setFullscreenResampleSync(!1, 1920, 1080), e.exports = s;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(4), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), p = i(c), f = n(211), d = n(147), h = {
_$AnimatedSurface: {
displayName: "AnimatedSurface"
}
}, y = l["default"]({
filename: "/teamcity/work/4f54818186c80483/twinkle/src/components/AnimatedSurface.js",
components: h,
locals: [],
imports: []
}), g = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.animate = void 0 !== t.animate ? t.animate : !0, 
this.animation = t.animation, this.hasCustomIndex = void 0 !== t.index, this.animationIndex = this.hasCustomIndex ? t.index : 0, 
this.animationChildren = [], this.tweens = {}, this.tweenStyles = {};
}
o(t, e), t.prototype.getChildContext = function i() {
return {
animationGroup: this,
animationRoot: this.context.animationRoot
};
}, t.prototype.componentWillMount = function s() {
this.context.animationGroup && (this.animation || (this.animation = this.context.animationGroup.animation), 
this.context.animationGroup.animationChildren.push(this), this.context.animationGroup.updateIndexes()), 
this.shouldAnimate() && (this.tweens = this.createTweens(), this.tweenStyles = f.Tween.getStyles(this.tweens));
}, t.prototype.componentWillUpdate = function l() {
this.isIndexDirty && (this.animationIndex = this.context.animationGroup.indexCounter++), 
this.isIndexDirty = !1;
}, t.prototype.componentWillUnmount = function c() {
if (this.context.animationGroup) {
var e = this.context.animationGroup.animationChildren.indexOf(this);
this.context.animationGroup.animationChildren.splice(e, 1), this.context.animationGroup.updateIndexes();
}
if (this.shouldAnimate()) for (var t in this.tweens) this.tweens.hasOwnProperty(t) && this.tweens[t].destroy();
}, t.prototype.shouldAnimate = function h() {
return this.animate && this.animation;
}, t.prototype.createTweens = function y() {
var e = {};
for (var t in this.animation.values) if (this.animation.values.hasOwnProperty(t)) {
var n = this.animation.values[t], r = [ this._reactInternalInstance._rootNodeID, this.animationIndex, t ].join("_"), o = n[this.animation.initialState || "from"];
e[t] = new f.Tween(r, o);
}
return e;
}, t.prototype.updateIndexes = function g() {
this.animationChildren.forEach(function(e) {
e.hasCustomIndex || (e.isIndexDirty = !0);
}), this.indexCounter = 0;
var e = this.context.animationRoot || this.context.animationGroup;
e && e.forceUpdate();
}, t.prototype.play = function m() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0], t = arguments.length <= 1 || void 0 === arguments[1] ? "from" : arguments[1], n = arguments.length <= 2 || void 0 === arguments[2] ? "to" : arguments[2], r = e + this.animationIndex * (this.animation && this.animation.options.delay || 0);
if (d.TweenBatching.start(), this.shouldAnimate()) {
var o = Object.assign({}, this.animation.options, {
delay: r
});
for (var a in this.tweens) if (this.tweens.hasOwnProperty(a)) {
var i = this.tweens[a], s = this.animation.values[a];
i.set(s[t]), i.to(s[n], o);
}
}
this.animationChildren.forEach(function(e) {
e.play(r, t, n);
}), d.TweenBatching.stop();
}, t.prototype.rewind = function b() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
this.play(e, "to", "from");
}, t.prototype.render = function v() {
var e = u({
style: [ this.tweenStyles ].concat(this.props.style)
}, this.props.focusItem ? this.props.focusItem.hooks : {});
return p["default"].createElement("surface", e, this.props.children);
};
var n = t;
return t = a("_$AnimatedSurface")(t) || t;
}(p["default"].Component);
t.AnimatedSurface = g, g.childContextTypes = g.contextTypes = {
animationGroup: p["default"].PropTypes.any,
animationRoot: p["default"].PropTypes.any
};
var m = function(e) {
function t() {
r(this, t), e.apply(this, arguments);
}
return o(t, e), t;
}(g);
m.defaultProps = {
animate: !1
}, g.Static = m;
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var a = n(522), i = o(a), s = n(198), l = o(s), u = n(916), c = o(u), p = n(662), f = n(917), d = n(149), h = r(d);
i["default"].NativeComponent.injectGenericComponentClass(p.ReactTwinkleComponent), 
i["default"].NativeComponent.injectTextComponentClass(f.ReactTwinkleTextWarningComponent), 
i["default"].Updates.injectReconcileTransaction(c["default"]), i["default"].EmptyComponent.injectEmptyComponent("element"), 
i["default"].RootIndex.injectCreateReactRootIndex(function() {
return "root";
}), l["default"].processChildrenUpdates = function(e, t) {
h.processChildrenUpdates(e, t);
}, l["default"].replaceNodeWithMarkupByID = function(e, t) {
h.replaceSurface(e, t);
};
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
g.push({
parentID: e,
parentNode: null,
type: p.INSERT_MARKUP,
markupIndex: m.push(t) - 1,
content: null,
fromIndex: null,
toIndex: n
});
}
function o(e, t, n) {
g.push({
parentID: e,
parentNode: null,
type: p.MOVE_EXISTING,
markupIndex: null,
content: null,
fromIndex: t,
toIndex: n
});
}
function a(e, t) {
g.push({
parentID: e,
parentNode: null,
type: p.REMOVE_NODE,
markupIndex: null,
content: null,
fromIndex: t,
toIndex: null
});
}
function i(e, t) {
g.push({
parentID: e,
parentNode: null,
type: p.SET_MARKUP,
markupIndex: null,
content: t,
fromIndex: null,
toIndex: null
});
}
function s(e, t) {
g.push({
parentID: e,
parentNode: null,
type: p.TEXT_CONTENT,
markupIndex: null,
content: t,
fromIndex: null,
toIndex: null
});
}
function l() {
g.length && (c.processChildrenUpdates(g, m), u());
}
function u() {
g.length = 0, m.length = 0;
}
var c = n(198), p = n(329), f = (n(98), n(123)), d = n(508), h = n(333), y = 0, g = [], m = [], b = {
Mixin: {
_reconcilerInstantiateChildren: function v(e, t, n) {
return d.instantiateChildren(e, t, n);
},
_reconcilerUpdateChildren: function _(e, t, n, r) {
var o;
return o = h(t), d.updateChildren(e, o, n, r);
},
mountChildren: function S(e, t, n) {
var r = this._reconcilerInstantiateChildren(e, t, n);
this._renderedChildren = r;
var o = [], a = 0;
for (var i in r) if (r.hasOwnProperty(i)) {
var s = r[i], l = this._rootNodeID + i, u = f.mountComponent(s, l, t, n);
s._mountIndex = a++, o.push(u);
}
return o;
},
updateTextContent: function T(e) {
y++;
var t = !0;
try {
var n = this._renderedChildren;
d.unmountChildren(n);
for (var r in n) n.hasOwnProperty(r) && this._unmountChild(n[r]);
this.setTextContent(e), t = !1;
} finally {
y--, y || (t ? u() : l());
}
},
updateMarkup: function w(e) {
y++;
var t = !0;
try {
var n = this._renderedChildren;
d.unmountChildren(n);
for (var r in n) n.hasOwnProperty(r) && this._unmountChildByName(n[r], r);
this.setMarkup(e), t = !1;
} finally {
y--, y || (t ? u() : l());
}
},
updateChildren: function E(e, t, n) {
y++;
var r = !0;
try {
this._updateChildren(e, t, n), r = !1;
} finally {
y--, y || (r ? u() : l());
}
},
_updateChildren: function I(e, t, n) {
var r = this._renderedChildren, o = this._reconcilerUpdateChildren(r, e, t, n);
if (this._renderedChildren = o, o || r) {
var a, i = 0, s = 0;
for (a in o) if (o.hasOwnProperty(a)) {
var l = r && r[a], u = o[a];
l === u ? (this.moveChild(l, s, i), i = Math.max(l._mountIndex, i), l._mountIndex = s) : (l && (i = Math.max(l._mountIndex, i), 
this._unmountChild(l)), this._mountChildByNameAtIndex(u, a, s, t, n)), s++;
}
for (a in r) !r.hasOwnProperty(a) || o && o.hasOwnProperty(a) || this._unmountChild(r[a]);
}
},
unmountChildren: function C() {
var e = this._renderedChildren;
d.unmountChildren(e), this._renderedChildren = null;
},
moveChild: function A(e, t, n) {
e._mountIndex < n && o(this._rootNodeID, e._mountIndex, t);
},
createChild: function P(e, t) {
r(this._rootNodeID, t, e._mountIndex);
},
removeChild: function O(e) {
a(this._rootNodeID, e._mountIndex);
},
setTextContent: function R(e) {
s(this._rootNodeID, e);
},
setMarkup: function k(e) {
i(this._rootNodeID, e);
},
_mountChildByNameAtIndex: function x(e, t, n, r, o) {
var a = this._rootNodeID + t, i = f.mountComponent(e, a, r, o);
e._mountIndex = n, this.createChild(e, i);
},
_unmountChild: function M(e) {
this.removeChild(e), e._mountIndex = null;
}
}
};
e.exports = b;
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a() {
this.reinitializeTransaction(), this.reactMountReady = s["default"].getPooled(null);
}
t.__esModule = !0;
var i = n(236), s = o(i), l = n(110), u = o(l), c = n(201), p = o(c), f = n(5), d = o(f), h = n(149), y = r(h), g = n(47), m = {
initialize: function v() {
this.startCount = g.nativeApi.getPerfCounter(), y.beginTransaction(), this.reactMountReady.reset();
},
close: function _() {
y.endTransaction(), this.reactMountReady.notifyAll(), g.nativeApi.addTimingEvent("twJS-ReactDiff", this.startCount, [ 0, 0, 255 ]);
}
}, b = {
getTransactionWrappers: function S() {
return [ m ];
},
getReactMountReady: function T() {
return this.reactMountReady;
},
destructor: function w() {
s["default"].release(this.reactMountReady), this.reactMountReady = null;
}
};
d["default"].extend(a.prototype, p["default"].Mixin, b), u["default"].addPoolingTo(a), 
t["default"] = a, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function() {
function e() {
n(this, e);
}
return e.prototype.construct = function t(e) {
this._currentElement = e, this._stringText = "" + e, console.error('Constructed an invalid text element with content "' + e + '"'), 
this._rootNodeID = null, this._mountIndex = 0;
}, e.prototype.mountComponent = function r(e, t, n) {
return console.error("Mounting invalid text element at", e), {};
}, e.prototype.receiveComponent = function o(e, t) {
console.error('Invalid text element updated with text "' + e + '"');
}, e.prototype.unmountComponent = function a() {
this._rootNodeID = null;
}, e;
}();
t.ReactTwinkleTextWarningComponent = r;
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s() {}
function l() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], t = e.onUpdate || s;
return function(e) {
var n = function(e) {
function n(t) {
a(this, n), e.call(this, t), this.bounds = new f.Bounds();
}
return i(n, e), n.prototype.componentWillMount = function r() {
var t = this;
e.prototype.componentWillMount && e.prototype.componentWillMount.call(this), this.unsubscribe = p.subscribeToBounds(this.getSurfaceId(), function(e) {
return t.receiveBounds(f.Bounds.fromRaw(e));
});
}, n.prototype.componentWillUnmount = function o() {
e.prototype.componentWillUnmount && e.prototype.componentWillUnmount.call(this), 
this.unsubscribe();
}, n.prototype.componentDidUpdateBounds = function s() {
e.prototype.componentDidUpdateBounds && e.prototype.componentDidUpdateBounds.call(this, this.bounds), 
t();
}, n.prototype.receiveBounds = function l(e) {
e.equals(this.bounds) || (this.bounds = e, this.componentDidUpdateBounds(this.bounds));
}, n.prototype.getSurfaceId = function u() {
return this._reactInternalInstance && this._reactInternalInstance._rootNodeID;
}, n;
}(e);
return n.displayName = e.displayName || e.name, n;
};
}
t.__esModule = !0;
var u = n(1), c = (o(u), n(212)), p = r(c), f = n(266);
t["default"] = l, e.exports = t["default"];
}, function(e, t, n) {
(function(t) {
e.exports = t.SpartaGlobals = n(626);
}).call(t, function() {
return this;
}());
}, function(e, t) {
e.exports = {
texture: "",
blendMode: "screen",
maxParticles: 5,
lifetimeMs: {
value: 1e4,
variance: 500,
absolute: null
},
emitInterval: {
value: 1e3,
variance: 0,
absolute: null
},
x: {
from: {
value: 0,
variance: 500,
absolute: !1
},
to: {
value: 500,
variance: 100,
absolute: !0
},
easing: "Linear",
p1x: {
value: .3464566929133858,
variance: 0,
absolute: null
},
p1y: {
value: .05437499999999995,
variance: 0,
absolute: null
},
p2x: {
value: .33858267716535434,
variance: 0,
absolute: null
},
p2y: {
value: .984375,
variance: 0,
absolute: null
}
},
y: {
from: {
value: 0,
variance: 0,
absolute: !0
},
to: {
value: -900,
variance: 10,
absolute: !1
},
easing: "SineIn",
p1x: {
value: .6692913385826772,
variance: 0,
absolute: null
},
p1y: {
value: .014375000000000027,
variance: 0,
absolute: null
},
p2x: {
value: .3779527559055118,
variance: 0,
absolute: null
},
p2y: {
value: .994375,
variance: 0,
absolute: null
}
},
opacity: {
from: {
value: 1,
variance: .1,
absolute: !0
},
to: {
value: 0,
variance: .1,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
scale: {
from: {
value: 2,
variance: .3,
absolute: !0
},
to: {
value: 0,
variance: .4,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
rotate: {
from: {
value: -10,
variance: 2,
absolute: !0
},
to: {
value: 5,
variance: 2,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
color: {
fromColor: {
R: {
value: 255,
variance: 0,
absolute: !0
},
G: {
value: 126,
variance: 0,
absolute: !0
},
B: {
value: 0,
variance: 0,
absolute: !0
},
A: {
value: 255,
variance: 0,
absolute: !0
}
},
toColor: {
R: {
value: 255,
variance: 0,
absolute: !0
},
G: {
value: 126,
variance: 0,
absolute: !0
},
B: {
value: 0,
variance: 0,
absolute: !0
},
A: {
value: 255,
variance: 0,
absolute: !0
}
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
}
};
}, function(e, t) {
e.exports = {
texture: "",
blendMode: "screen",
maxParticles: 15,
lifetimeMs: {
value: 15e3,
variance: 1500,
absolute: null
},
emitInterval: {
value: 10,
variance: 50,
absolute: null
},
x: {
from: {
value: 0,
variance: 300,
absolute: !0
},
to: {
value: 200,
variance: 300,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
y: {
from: {
value: 0,
variance: 0,
absolute: !0
},
to: {
value: 400,
variance: -200,
absolute: !0
},
easing: "QuadraticIn",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
opacity: {
from: {
value: 1,
variance: 0,
absolute: !0
},
to: {
value: 1,
variance: 0,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
scale: {
from: {
value: 26,
variance: 0,
absolute: !0
},
to: {
value: 0,
variance: 0,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
rotate: {
from: {
value: -60,
variance: 10,
absolute: !0
},
to: {
value: 0,
variance: 0,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
color: {
fromColor: {
R: {
value: 255,
variance: 0,
absolute: !0
},
G: {
value: 255,
variance: 0,
absolute: !0
},
B: {
value: 255,
variance: 0,
absolute: !0
},
A: {
value: 255,
variance: 0,
absolute: !0
}
},
toColor: {
R: {
value: 255,
variance: 0,
absolute: !0
},
G: {
value: 255,
variance: 0,
absolute: !0
},
B: {
value: 255,
variance: 0,
absolute: !0
},
A: {
value: 255,
variance: 0,
absolute: !0
}
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
}
};
}, function(e, t) {
"use strict";
function n(e, t) {
return Object.prototype.hasOwnProperty.call(e, t);
}
e.exports = function(e, t, r, o) {
t = t || "&", r = r || "=";
var a = {};
if ("string" != typeof e || 0 === e.length) return a;
var i = /\+/g;
e = e.split(t);
var s = 1e3;
o && "number" == typeof o.maxKeys && (s = o.maxKeys);
var l = e.length;
s > 0 && l > s && (l = s);
for (var u = 0; l > u; ++u) {
var c, p, f, d, h = e[u].replace(i, "%20"), y = h.indexOf(r);
y >= 0 ? (c = h.substr(0, y), p = h.substr(y + 1)) : (c = h, p = ""), f = decodeURIComponent(c), 
d = decodeURIComponent(p), n(a, f) ? Array.isArray(a[f]) ? a[f].push(d) : a[f] = [ a[f], d ] : a[f] = d;
}
return a;
};
}, function(e, t) {
"use strict";
var n = function(e) {
switch (typeof e) {
case "string":
return e;

case "boolean":
return e ? "true" : "false";

case "number":
return isFinite(e) ? e : "";

default:
return "";
}
};
e.exports = function(e, t, r, o) {
return t = t || "&", r = r || "=", null === e && (e = void 0), "object" == typeof e ? Object.keys(e).map(function(o) {
var a = encodeURIComponent(n(o)) + r;
return Array.isArray(e[o]) ? e[o].map(function(e) {
return a + encodeURIComponent(n(e));
}).join(t) : a + encodeURIComponent(n(e[o]));
}).join(t) : o ? encodeURIComponent(n(o)) + r + encodeURIComponent(n(e)) : "";
};
}, function(e, t, n) {
"use strict";
t.decode = t.parse = n(922), t.encode = t.stringify = n(923);
}, function(e, t, n) {
"use strict";
e.exports = n(512);
}, function(e, t, n) {
"use strict";
function r() {
if (l.length) throw l.shift();
}
function o(e) {
var t;
t = s.length ? s.pop() : new a(), t.task = e, i(t);
}
function a() {
this.task = null;
}
var i = n(497), s = [], l = [], u = i.makeRequestCallFromTimer(r);
e.exports = o, a.prototype.call = function() {
try {
this.task.call();
} catch (e) {
o.onerror ? o.onerror(e) : (l.push(e), u());
} finally {
this.task = null, s[s.length] = this;
}
};
}, function(e, t) {
"use strict";
function n(e) {
return e.replace(r, function(e, t) {
return t.toUpperCase();
});
}
var r = /-(.)/g;
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
return o(e.replace(a, "ms-"));
}
var o = n(927), a = /^-ms-/;
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
return !!e && ("object" == typeof e || "function" == typeof e) && "length" in e && !("setInterval" in e) && "number" != typeof e.nodeType && (Array.isArray(e) || "callee" in e || "item" in e);
}
function o(e) {
return r(e) ? Array.isArray(e) ? e.slice() : a(e) : [ e ];
}
var a = n(938);
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = e.match(c);
return t && t[1].toLowerCase();
}
function o(e, t) {
var n = u;
u ? void 0 : l(!1);
var o = r(e), a = o && s(o);
if (a) {
n.innerHTML = a[1] + e + a[2];
for (var c = a[0]; c--; ) n = n.lastChild;
} else n.innerHTML = e;
var p = n.getElementsByTagName("script");
p.length && (t ? void 0 : l(!1), i(p).forEach(t));
for (var f = i(n.childNodes); n.lastChild; ) n.removeChild(n.lastChild);
return f;
}
var a = n(68), i = n(929), s = n(502), l = n(32), u = a.canUseDOM ? document.createElement("div") : null, c = /^\s*<(\w+)/;
e.exports = o;
}, function(e, t) {
"use strict";
function n(e) {
return e === window ? {
x: window.pageXOffset || document.documentElement.scrollLeft,
y: window.pageYOffset || document.documentElement.scrollTop
} : {
x: e.scrollLeft,
y: e.scrollTop
};
}
e.exports = n;
}, function(e, t) {
"use strict";
function n(e) {
return e.replace(r, "-$1").toLowerCase();
}
var r = /([A-Z])/g;
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
return o(e).replace(a, "-ms-");
}
var o = n(932), a = /^ms-/;
e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
return !(!e || !("function" == typeof Node ? e instanceof Node : "object" == typeof e && "number" == typeof e.nodeType && "string" == typeof e.nodeName));
}
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
return o(e) && 3 == e.nodeType;
}
var o = n(934);
e.exports = r;
}, function(e, t) {
"use strict";
function n(e, t, n) {
if (!e) return null;
var o = {};
for (var a in e) r.call(e, a) && (o[a] = t.call(n, e[a], a, e));
return o;
}
var r = Object.prototype.hasOwnProperty;
e.exports = n;
}, function(e, t) {
"use strict";
function n(e) {
var t = {};
return function(n) {
return t.hasOwnProperty(n) || (t[n] = e.call(this, n)), t[n];
};
}
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = e.length;
if (Array.isArray(e) || "object" != typeof e && "function" != typeof e ? o(!1) : void 0, 
"number" != typeof t ? o(!1) : void 0, 0 === t || t - 1 in e ? void 0 : o(!1), e.hasOwnProperty) try {
return Array.prototype.slice.call(e);
} catch (n) {}
for (var r = Array(t), a = 0; t > a; a++) r[a] = e[a];
return r;
}
var o = n(32);
e.exports = r;
}, function(e, t, n) {
"use strict";
e.exports = n(943);
}, function(e, t, n) {
"use strict";
var r = n(163);
e.exports = r, r.prototype.done = function(e, t) {
var n = arguments.length ? this.then.apply(this, arguments) : this;
n.then(null, function(e) {
setTimeout(function() {
throw e;
}, 0);
});
};
}, function(e, t, n) {
"use strict";
function r(e) {
var t = new o(o._61);
return t._81 = 1, t._65 = e, t;
}
var o = n(163);
e.exports = o;
var a = r(!0), i = r(!1), s = r(null), l = r(void 0), u = r(0), c = r("");
o.resolve = function(e) {
if (e instanceof o) return e;
if (null === e) return s;
if (void 0 === e) return l;
if (e === !0) return a;
if (e === !1) return i;
if (0 === e) return u;
if ("" === e) return c;
if ("object" == typeof e || "function" == typeof e) try {
var t = e.then;
if ("function" == typeof t) return new o(t.bind(e));
} catch (n) {
return new o(function(e, t) {
t(n);
});
}
return r(e);
}, o.all = function(e) {
var t = Array.prototype.slice.call(e);
return new o(function(e, n) {
function r(i, s) {
if (s && ("object" == typeof s || "function" == typeof s)) {
if (s instanceof o && s.then === o.prototype.then) {
for (;3 === s._81; ) s = s._65;
return 1 === s._81 ? r(i, s._65) : (2 === s._81 && n(s._65), void s.then(function(e) {
r(i, e);
}, n));
}
var l = s.then;
if ("function" == typeof l) {
var u = new o(l.bind(s));
return void u.then(function(e) {
r(i, e);
}, n);
}
}
t[i] = s, 0 === --a && e(t);
}
if (0 === t.length) return e([]);
for (var a = t.length, i = 0; i < t.length; i++) r(i, t[i]);
});
}, o.reject = function(e) {
return new o(function(t, n) {
n(e);
});
}, o.race = function(e) {
return new o(function(t, n) {
e.forEach(function(e) {
o.resolve(e).then(t, n);
});
});
}, o.prototype["catch"] = function(e) {
return this.then(null, e);
};
}, function(e, t, n) {
"use strict";
var r = n(163);
e.exports = r, r.prototype["finally"] = function(e) {
return this.then(function(t) {
return r.resolve(e()).then(function() {
return t;
});
}, function(t) {
return r.resolve(e()).then(function() {
throw t;
});
});
};
}, function(e, t, n) {
"use strict";
e.exports = n(163), n(940), n(942), n(941), n(944), n(945);
}, function(e, t, n) {
"use strict";
function r(e, t) {
for (var n = [], r = 0; t > r; r++) n.push("a" + r);
var o = [ "return function (" + n.join(",") + ") {", "var self = this;", "return new Promise(function (rs, rj) {", "var res = fn.call(", [ "self" ].concat(n).concat([ s ]).join(","), ");", "if (res &&", '(typeof res === "object" || typeof res === "function") &&', 'typeof res.then === "function"', ") {rs(res);}", "});", "};" ].join("");
return Function([ "Promise", "fn" ], o)(a, e);
}
function o(e) {
for (var t = Math.max(e.length - 1, 3), n = [], r = 0; t > r; r++) n.push("a" + r);
var o = [ "return function (" + n.join(",") + ") {", "var self = this;", "var args;", "var argLength = arguments.length;", "if (arguments.length > " + t + ") {", "args = new Array(arguments.length + 1);", "for (var i = 0; i < arguments.length; i++) {", "args[i] = arguments[i];", "}", "}", "return new Promise(function (rs, rj) {", "var cb = " + s + ";", "var res;", "switch (argLength) {", n.concat([ "extra" ]).map(function(e, t) {
return "case " + t + ":res = fn.call(" + [ "self" ].concat(n.slice(0, t)).concat("cb").join(",") + ");break;";
}).join(""), "default:", "args[argLength] = cb;", "res = fn.apply(self, args);", "}", "if (res &&", '(typeof res === "object" || typeof res === "function") &&', 'typeof res.then === "function"', ") {rs(res);}", "});", "};" ].join("");
return Function([ "Promise", "fn" ], o)(a, e);
}
var a = n(163), i = n(926);
e.exports = a, a.denodeify = function(e, t) {
return "number" == typeof t && t !== 1 / 0 ? r(e, t) : o(e);
};
var s = "function (err, res) {if (err) { rj(err); } else { rs(res); }}";
a.nodeify = function(e) {
return function() {
var t = Array.prototype.slice.call(arguments), n = "function" == typeof t[t.length - 1] ? t.pop() : null, r = this;
try {
return e.apply(this, arguments).nodeify(n, r);
} catch (o) {
if (null === n || "undefined" == typeof n) return new a(function(e, t) {
t(o);
});
i(function() {
n.call(r, o);
});
}
};
}, a.prototype.nodeify = function(e, t) {
return "function" != typeof e ? this : void this.then(function(n) {
i(function() {
e.call(t, null, n);
});
}, function(n) {
i(function() {
e.call(t, n);
});
});
};
}, function(e, t, n) {
"use strict";
var r = n(163);
e.exports = r, r.enableSynchronous = function() {
r.prototype.isPending = function() {
return 0 == this.getState();
}, r.prototype.isFulfilled = function() {
return 1 == this.getState();
}, r.prototype.isRejected = function() {
return 2 == this.getState();
}, r.prototype.getValue = function() {
if (3 === this._81) return this._65.getValue();
if (!this.isFulfilled()) throw new Error("Cannot get a value of an unfulfilled promise.");
return this._65;
}, r.prototype.getReason = function() {
if (3 === this._81) return this._65.getReason();
if (!this.isRejected()) throw new Error("Cannot get a rejection reason of a non-rejected promise.");
return this._65;
}, r.prototype.getState = function() {
return 3 === this._81 ? this._65.getState() : -1 === this._81 || -2 === this._81 ? 0 : this._81;
};
}, r.disableSynchronous = function() {
r.prototype.isPending = void 0, r.prototype.isFulfilled = void 0, r.prototype.isRejected = void 0, 
r.prototype.getValue = void 0, r.prototype.getReason = void 0, r.prototype.getState = void 0;
};
}, function(e, t, n) {
"use strict";
var r = n(72), o = n(332), a = n(500), i = {
componentDidMount: function() {
this.props.autoFocus && a(o(this));
}
}, s = {
Mixin: i,
focusDOMComponent: function() {
a(r.getNode(this._rootNodeID));
}
};
e.exports = s;
}, function(e, t, n) {
"use strict";
function r() {
var e = window.opera;
return "object" == typeof e && "function" == typeof e.version && parseInt(e.version(), 10) <= 12;
}
function o(e) {
return (e.ctrlKey || e.altKey || e.metaKey) && !(e.ctrlKey && e.altKey);
}
function a(e) {
switch (e) {
case P.topCompositionStart:
return O.compositionStart;

case P.topCompositionEnd:
return O.compositionEnd;

case P.topCompositionUpdate:
return O.compositionUpdate;
}
}
function i(e, t) {
return e === P.topKeyDown && t.keyCode === S;
}
function s(e, t) {
switch (e) {
case P.topKeyUp:
return -1 !== _.indexOf(t.keyCode);

case P.topKeyDown:
return t.keyCode !== S;

case P.topKeyPress:
case P.topMouseDown:
case P.topBlur:
return !0;

default:
return !1;
}
}
function l(e) {
var t = e.detail;
return "object" == typeof t && "data" in t ? t.data : null;
}
function u(e, t, n, r, o) {
var u, c;
if (T ? u = a(e) : k ? s(e, r) && (u = O.compositionEnd) : i(e, r) && (u = O.compositionStart), 
!u) return null;
I && (k || u !== O.compositionStart ? u === O.compositionEnd && k && (c = k.getData()) : k = g.getPooled(t));
var p = m.getPooled(u, n, r, o);
if (c) p.data = c; else {
var f = l(r);
null !== f && (p.data = f);
}
return h.accumulateTwoPhaseDispatches(p), p;
}
function c(e, t) {
switch (e) {
case P.topCompositionEnd:
return l(t);

case P.topKeyPress:
var n = t.which;
return n !== C ? null : (R = !0, A);

case P.topTextInput:
var r = t.data;
return r === A && R ? null : r;

default:
return null;
}
}
function p(e, t) {
if (k) {
if (e === P.topCompositionEnd || s(e, t)) {
var n = k.getData();
return g.release(k), k = null, n;
}
return null;
}
switch (e) {
case P.topPaste:
return null;

case P.topKeyPress:
return t.which && !o(t) ? String.fromCharCode(t.which) : null;

case P.topCompositionEnd:
return I ? null : t.data;

default:
return null;
}
}
function f(e, t, n, r, o) {
var a;
if (a = E ? c(e, r) : p(e, r), !a) return null;
var i = b.getPooled(O.beforeInput, n, r, o);
return i.data = a, h.accumulateTwoPhaseDispatches(i), i;
}
var d = n(109), h = n(197), y = n(68), g = n(955), m = n(984), b = n(987), v = n(122), _ = [ 9, 13, 27, 32 ], S = 229, T = y.canUseDOM && "CompositionEvent" in window, w = null;
y.canUseDOM && "documentMode" in document && (w = document.documentMode);
var E = y.canUseDOM && "TextEvent" in window && !w && !r(), I = y.canUseDOM && (!T || w && w > 8 && 11 >= w), C = 32, A = String.fromCharCode(C), P = d.topLevelTypes, O = {
beforeInput: {
phasedRegistrationNames: {
bubbled: v({
onBeforeInput: null
}),
captured: v({
onBeforeInputCapture: null
})
},
dependencies: [ P.topCompositionEnd, P.topKeyPress, P.topTextInput, P.topPaste ]
},
compositionEnd: {
phasedRegistrationNames: {
bubbled: v({
onCompositionEnd: null
}),
captured: v({
onCompositionEndCapture: null
})
},
dependencies: [ P.topBlur, P.topCompositionEnd, P.topKeyDown, P.topKeyPress, P.topKeyUp, P.topMouseDown ]
},
compositionStart: {
phasedRegistrationNames: {
bubbled: v({
onCompositionStart: null
}),
captured: v({
onCompositionStartCapture: null
})
},
dependencies: [ P.topBlur, P.topCompositionStart, P.topKeyDown, P.topKeyPress, P.topKeyUp, P.topMouseDown ]
},
compositionUpdate: {
phasedRegistrationNames: {
bubbled: v({
onCompositionUpdate: null
}),
captured: v({
onCompositionUpdateCapture: null
})
},
dependencies: [ P.topBlur, P.topCompositionUpdate, P.topKeyDown, P.topKeyPress, P.topKeyUp, P.topMouseDown ]
}
}, R = !1, k = null, x = {
eventTypes: O,
extractEvents: function(e, t, n, r, o) {
return [ u(e, t, n, r, o), f(e, t, n, r, o) ];
}
};
e.exports = x;
}, function(e, t, n) {
"use strict";
var r = n(504), o = n(68), a = n(87), i = (n(928), n(992)), s = n(933), l = n(937), u = (n(40), 
l(function(e) {
return s(e);
})), c = !1, p = "cssFloat";
if (o.canUseDOM) {
var f = document.createElement("div").style;
try {
f.font = "";
} catch (d) {
c = !0;
}
void 0 === document.documentElement.style.cssFloat && (p = "styleFloat");
}
var h = {
createMarkupForStyles: function(e) {
var t = "";
for (var n in e) if (e.hasOwnProperty(n)) {
var r = e[n];
null != r && (t += u(n) + ":", t += i(n, r) + ";");
}
return t || null;
},
setValueForStyles: function(e, t) {
var n = e.style;
for (var o in t) if (t.hasOwnProperty(o)) {
var a = i(o, t[o]);
if ("float" === o && (o = p), a) n[o] = a; else {
var s = c && r.shorthandPropertyExpansions[o];
if (s) for (var l in s) n[l] = ""; else n[o] = "";
}
}
}
};
a.measureMethods(h, "CSSPropertyOperations", {
setValueForStyles: "setValueForStyles"
}), e.exports = h;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = e.nodeName && e.nodeName.toLowerCase();
return "select" === t || "input" === t && "file" === e.type;
}
function o(e) {
var t = w.getPooled(O.change, k, e, E(e));
_.accumulateTwoPhaseDispatches(t), T.batchedUpdates(a, t);
}
function a(e) {
v.enqueueEvents(e), v.processEventQueue(!1);
}
function i(e, t) {
R = e, k = t, R.attachEvent("onchange", o);
}
function s() {
R && (R.detachEvent("onchange", o), R = null, k = null);
}
function l(e, t, n) {
return e === P.topChange ? n : void 0;
}
function u(e, t, n) {
e === P.topFocus ? (s(), i(t, n)) : e === P.topBlur && s();
}
function c(e, t) {
R = e, k = t, x = e.value, M = Object.getOwnPropertyDescriptor(e.constructor.prototype, "value"), 
Object.defineProperty(R, "value", U), R.attachEvent("onpropertychange", f);
}
function p() {
R && (delete R.value, R.detachEvent("onpropertychange", f), R = null, k = null, 
x = null, M = null);
}
function f(e) {
if ("value" === e.propertyName) {
var t = e.srcElement.value;
t !== x && (x = t, o(e));
}
}
function d(e, t, n) {
return e === P.topInput ? n : void 0;
}
function h(e, t, n) {
e === P.topFocus ? (p(), c(t, n)) : e === P.topBlur && p();
}
function y(e, t, n) {
return e !== P.topSelectionChange && e !== P.topKeyUp && e !== P.topKeyDown || !R || R.value === x ? void 0 : (x = R.value, 
k);
}
function g(e) {
return e.nodeName && "input" === e.nodeName.toLowerCase() && ("checkbox" === e.type || "radio" === e.type);
}
function m(e, t, n) {
return e === P.topClick ? n : void 0;
}
var b = n(109), v = n(196), _ = n(197), S = n(68), T = n(74), w = n(140), E = n(336), I = n(338), C = n(533), A = n(122), P = b.topLevelTypes, O = {
change: {
phasedRegistrationNames: {
bubbled: A({
onChange: null
}),
captured: A({
onChangeCapture: null
})
},
dependencies: [ P.topBlur, P.topChange, P.topClick, P.topFocus, P.topInput, P.topKeyDown, P.topKeyUp, P.topSelectionChange ]
}
}, R = null, k = null, x = null, M = null, N = !1;
S.canUseDOM && (N = I("change") && (!("documentMode" in document) || document.documentMode > 8));
var D = !1;
S.canUseDOM && (D = I("input") && (!("documentMode" in document) || document.documentMode > 9));
var U = {
get: function() {
return M.get.call(this);
},
set: function(e) {
x = "" + e, M.set.call(this, e);
}
}, L = {
eventTypes: O,
extractEvents: function(e, t, n, o, a) {
var i, s;
if (r(t) ? N ? i = l : s = u : C(t) ? D ? i = d : (i = y, s = h) : g(t) && (i = m), 
i) {
var c = i(e, t, n);
if (c) {
var p = w.getPooled(O.change, c, o, a);
return p.type = "change", _.accumulateTwoPhaseDispatches(p), p;
}
}
s && s(e, t, n);
}
};
e.exports = L;
}, function(e, t) {
"use strict";
var n = 0, r = {
createReactRootIndex: function() {
return n++;
}
};
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
return e.substring(1, e.indexOf(" "));
}
var o = n(68), a = n(930), i = n(86), s = n(502), l = n(32), u = /^(<[^ \/>]+)/, c = "data-danger-index", p = {
dangerouslyRenderMarkup: function(e) {
o.canUseDOM ? void 0 : l(!1);
for (var t, n = {}, p = 0; p < e.length; p++) e[p] ? void 0 : l(!1), t = r(e[p]), 
t = s(t) ? t : "*", n[t] = n[t] || [], n[t][p] = e[p];
var f = [], d = 0;
for (t in n) if (n.hasOwnProperty(t)) {
var h, y = n[t];
for (h in y) if (y.hasOwnProperty(h)) {
var g = y[h];
y[h] = g.replace(u, "$1 " + c + '="' + h + '" ');
}
for (var m = a(y.join(""), i), b = 0; b < m.length; ++b) {
var v = m[b];
v.hasAttribute && v.hasAttribute(c) && (h = +v.getAttribute(c), v.removeAttribute(c), 
f.hasOwnProperty(h) ? l(!1) : void 0, f[h] = v, d += 1);
}
}
return d !== f.length ? l(!1) : void 0, f.length !== e.length ? l(!1) : void 0, 
f;
},
dangerouslyReplaceNodeWithMarkup: function(e, t) {
o.canUseDOM ? void 0 : l(!1), t ? void 0 : l(!1), "html" === e.tagName.toLowerCase() ? l(!1) : void 0;
var n;
n = "string" == typeof t ? a(t, i)[0] : t, e.parentNode.replaceChild(n, e);
}
};
e.exports = p;
}, function(e, t, n) {
"use strict";
var r = n(122), o = [ r({
ResponderEventPlugin: null
}), r({
SimpleEventPlugin: null
}), r({
TapEventPlugin: null
}), r({
EnterLeaveEventPlugin: null
}), r({
ChangeEventPlugin: null
}), r({
SelectEventPlugin: null
}), r({
BeforeInputEventPlugin: null
}) ];
e.exports = o;
}, function(e, t, n) {
"use strict";
var r = n(109), o = n(197), a = n(240), i = n(72), s = n(122), l = r.topLevelTypes, u = i.getFirstReactDOM, c = {
mouseEnter: {
registrationName: s({
onMouseEnter: null
}),
dependencies: [ l.topMouseOut, l.topMouseOver ]
},
mouseLeave: {
registrationName: s({
onMouseLeave: null
}),
dependencies: [ l.topMouseOut, l.topMouseOver ]
}
}, p = [ null, null ], f = {
eventTypes: c,
extractEvents: function(e, t, n, r, s) {
if (e === l.topMouseOver && (r.relatedTarget || r.fromElement)) return null;
if (e !== l.topMouseOut && e !== l.topMouseOver) return null;
var f;
if (t.window === t) f = t; else {
var d = t.ownerDocument;
f = d ? d.defaultView || d.parentWindow : window;
}
var h, y, g = "", m = "";
if (e === l.topMouseOut ? (h = t, g = n, y = u(r.relatedTarget || r.toElement), 
y ? m = i.getID(y) : y = f, y = y || f) : (h = f, y = t, m = n), h === y) return null;
var b = a.getPooled(c.mouseLeave, g, r, s);
b.type = "mouseleave", b.target = h, b.relatedTarget = y;
var v = a.getPooled(c.mouseEnter, m, r, s);
return v.type = "mouseenter", v.target = y, v.relatedTarget = h, o.accumulateEnterLeaveDispatches(b, v, g, m), 
p[0] = b, p[1] = v, p;
}
};
e.exports = f;
}, function(e, t, n) {
"use strict";
function r(e) {
return e === g.topMouseUp || e === g.topTouchEnd || e === g.topTouchCancel;
}
function o(e) {
return e === g.topMouseMove || e === g.topTouchMove;
}
function a(e) {
return e === g.topMouseDown || e === g.topTouchStart;
}
function i(e, t, n, r) {
var o = e.type || "unknown-event";
e.currentTarget = y.Mount.getNode(r), t ? d.invokeGuardedCallbackWithCatch(o, n, e, r) : d.invokeGuardedCallback(o, n, e, r), 
e.currentTarget = null;
}
function s(e, t) {
var n = e._dispatchListeners, r = e._dispatchIDs;
if (Array.isArray(n)) for (var o = 0; o < n.length && !e.isPropagationStopped(); o++) i(e, t, n[o], r[o]); else n && i(e, t, n, r);
e._dispatchListeners = null, e._dispatchIDs = null;
}
function l(e) {
var t = e._dispatchListeners, n = e._dispatchIDs;
if (Array.isArray(t)) {
for (var r = 0; r < t.length && !e.isPropagationStopped(); r++) if (t[r](e, n[r])) return n[r];
} else if (t && t(e, n)) return n;
return null;
}
function u(e) {
var t = l(e);
return e._dispatchIDs = null, e._dispatchListeners = null, t;
}
function c(e) {
var t = e._dispatchListeners, n = e._dispatchIDs;
Array.isArray(t) ? h(!1) : void 0;
var r = t ? t(e, n) : null;
return e._dispatchListeners = null, e._dispatchIDs = null, r;
}
function p(e) {
return !!e._dispatchListeners;
}
var f = n(109), d = n(521), h = n(32), y = (n(40), {
Mount: null,
injectMount: function(e) {
y.Mount = e;
}
}), g = f.topLevelTypes, m = {
isEndish: r,
isMoveish: o,
isStartish: a,
executeDirectDispatch: c,
executeDispatchesInOrder: s,
executeDispatchesInOrderStopAtTrue: u,
hasDispatches: p,
getNode: function(e) {
return y.Mount.getNode(e);
},
getID: function(e) {
return y.Mount.getID(e);
},
injection: y
};
e.exports = m;
}, function(e, t, n) {
"use strict";
function r(e) {
this._root = e, this._startText = this.getText(), this._fallbackText = null;
}
var o = n(110), a = n(38), i = n(532);
a(r.prototype, {
destructor: function() {
this._root = null, this._startText = null, this._fallbackText = null;
},
getText: function() {
return "value" in this._root ? this._root.value : this._root[i()];
},
getData: function() {
if (this._fallbackText) return this._fallbackText;
var e, t, n = this._startText, r = n.length, o = this.getText(), a = o.length;
for (e = 0; r > e && n[e] === o[e]; e++) ;
var i = r - e;
for (t = 1; i >= t && n[r - t] === o[a - t]; t++) ;
var s = t > 1 ? 1 - t : void 0;
return this._fallbackText = o.slice(e, s), this._fallbackText;
}
}), o.addPoolingTo(r), e.exports = r;
}, function(e, t, n) {
"use strict";
var r, o = n(164), a = n(68), i = o.injection.MUST_USE_ATTRIBUTE, s = o.injection.MUST_USE_PROPERTY, l = o.injection.HAS_BOOLEAN_VALUE, u = o.injection.HAS_SIDE_EFFECTS, c = o.injection.HAS_NUMERIC_VALUE, p = o.injection.HAS_POSITIVE_NUMERIC_VALUE, f = o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;
if (a.canUseDOM) {
var d = document.implementation;
r = d && d.hasFeature && d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1");
}
var h = {
isCustomAttribute: RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),
Properties: {
accept: null,
acceptCharset: null,
accessKey: null,
action: null,
allowFullScreen: i | l,
allowTransparency: i,
alt: null,
async: l,
autoComplete: null,
autoPlay: l,
capture: i | l,
cellPadding: null,
cellSpacing: null,
charSet: i,
challenge: i,
checked: s | l,
classID: i,
className: r ? i : s,
cols: i | p,
colSpan: null,
content: null,
contentEditable: null,
contextMenu: i,
controls: s | l,
coords: null,
crossOrigin: null,
data: null,
dateTime: i,
"default": l,
defer: l,
dir: null,
disabled: i | l,
download: f,
draggable: null,
encType: null,
form: i,
formAction: i,
formEncType: i,
formMethod: i,
formNoValidate: l,
formTarget: i,
frameBorder: i,
headers: null,
height: i,
hidden: i | l,
high: null,
href: null,
hrefLang: null,
htmlFor: null,
httpEquiv: null,
icon: null,
id: s,
inputMode: i,
integrity: null,
is: i,
keyParams: i,
keyType: i,
kind: null,
label: null,
lang: null,
list: i,
loop: s | l,
low: null,
manifest: i,
marginHeight: null,
marginWidth: null,
max: null,
maxLength: i,
media: i,
mediaGroup: null,
method: null,
min: null,
minLength: i,
multiple: s | l,
muted: s | l,
name: null,
nonce: i,
noValidate: l,
open: l,
optimum: null,
pattern: null,
placeholder: null,
poster: null,
preload: null,
radioGroup: null,
readOnly: s | l,
rel: null,
required: l,
reversed: l,
role: i,
rows: i | p,
rowSpan: null,
sandbox: null,
scope: null,
scoped: l,
scrolling: null,
seamless: i | l,
selected: s | l,
shape: null,
size: i | p,
sizes: i,
span: p,
spellCheck: null,
src: null,
srcDoc: s,
srcLang: null,
srcSet: i,
start: c,
step: null,
style: null,
summary: null,
tabIndex: null,
target: null,
title: null,
type: null,
useMap: null,
value: s | u,
width: i,
wmode: i,
wrap: null,
about: i,
datatype: i,
inlist: i,
prefix: i,
property: i,
resource: i,
"typeof": i,
vocab: i,
autoCapitalize: null,
autoCorrect: null,
autoSave: null,
color: null,
itemProp: i,
itemScope: i | l,
itemType: i,
itemID: i,
itemRef: i,
results: null,
security: i,
unselectable: i
},
DOMAttributeNames: {
acceptCharset: "accept-charset",
className: "class",
htmlFor: "for",
httpEquiv: "http-equiv"
},
DOMPropertyNames: {
autoCapitalize: "autocapitalize",
autoComplete: "autocomplete",
autoCorrect: "autocorrect",
autoFocus: "autofocus",
autoPlay: "autoplay",
autoSave: "autosave",
encType: "encoding",
hrefLang: "hreflang",
radioGroup: "radiogroup",
spellCheck: "spellcheck",
srcDoc: "srcdoc",
srcSet: "srcset"
}
};
e.exports = h;
}, function(e, t, n) {
"use strict";
var r = (n(199), n(332)), o = (n(40), "_getDOMNodeDidWarn"), a = {
getDOMNode: function() {
return this.constructor[o] = !0, r(this);
}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = e._currentElement._owner || null;
if (t) {
var n = t.getName();
if (n) return " Check the render method of `" + n + "`.";
}
return "";
}
function o(e) {}
var a = n(198), i = n(98), s = n(71), l = n(199), u = n(87), c = n(239), p = (n(238), 
n(123)), f = n(330), d = n(38), h = n(195), y = n(32), g = n(340);
n(40);
o.prototype.render = function() {
var e = l.get(this)._currentElement.type;
return e(this.props, this.context, this.updater);
};
var m = 1, b = {
construct: function(e) {
this._currentElement = e, this._rootNodeID = null, this._instance = null, this._pendingElement = null, 
this._pendingStateQueue = null, this._pendingReplaceState = !1, this._pendingForceUpdate = !1, 
this._renderedComponent = null, this._context = null, this._mountOrder = 0, this._topLevelWrapper = null, 
this._pendingCallbacks = null;
},
mountComponent: function(e, t, n) {
this._context = n, this._mountOrder = m++, this._rootNodeID = e;
var r, a, i = this._processProps(this._currentElement.props), u = this._processContext(n), c = this._currentElement.type, d = "prototype" in c;
d && (r = new c(i, u, f)), (!d || null === r || r === !1 || s.isValidElement(r)) && (a = r, 
r = new o(c)), r.props = i, r.context = u, r.refs = h, r.updater = f, this._instance = r, 
l.set(r, this);
var g = r.state;
void 0 === g && (r.state = g = null), "object" != typeof g || Array.isArray(g) ? y(!1) : void 0, 
this._pendingStateQueue = null, this._pendingReplaceState = !1, this._pendingForceUpdate = !1, 
r.componentWillMount && (r.componentWillMount(), this._pendingStateQueue && (r.state = this._processPendingState(r.props, r.context))), 
void 0 === a && (a = this._renderValidatedComponent()), this._renderedComponent = this._instantiateReactComponent(a);
var b = p.mountComponent(this._renderedComponent, e, t, this._processChildContext(n));
return r.componentDidMount && t.getReactMountReady().enqueue(r.componentDidMount, r), 
b;
},
unmountComponent: function() {
var e = this._instance;
e.componentWillUnmount && e.componentWillUnmount(), p.unmountComponent(this._renderedComponent), 
this._renderedComponent = null, this._instance = null, this._pendingStateQueue = null, 
this._pendingReplaceState = !1, this._pendingForceUpdate = !1, this._pendingCallbacks = null, 
this._pendingElement = null, this._context = null, this._rootNodeID = null, this._topLevelWrapper = null, 
l.remove(e);
},
_maskContext: function(e) {
var t = null, n = this._currentElement.type, r = n.contextTypes;
if (!r) return h;
t = {};
for (var o in r) t[o] = e[o];
return t;
},
_processContext: function(e) {
var t = this._maskContext(e);
return t;
},
_processChildContext: function(e) {
var t = this._currentElement.type, n = this._instance, r = n.getChildContext && n.getChildContext();
if (r) {
"object" != typeof t.childContextTypes ? y(!1) : void 0;
for (var o in r) o in t.childContextTypes ? void 0 : y(!1);
return d({}, e, r);
}
return e;
},
_processProps: function(e) {
return e;
},
_checkPropTypes: function(e, t, n) {
var o = this.getName();
for (var a in e) if (e.hasOwnProperty(a)) {
var i;
try {
"function" != typeof e[a] ? y(!1) : void 0, i = e[a](t, a, o, n);
} catch (s) {
i = s;
}
if (i instanceof Error) {
r(this);
n === c.prop;
}
}
},
receiveComponent: function(e, t, n) {
var r = this._currentElement, o = this._context;
this._pendingElement = null, this.updateComponent(t, r, e, o, n);
},
performUpdateIfNecessary: function(e) {
null != this._pendingElement && p.receiveComponent(this, this._pendingElement || this._currentElement, e, this._context), 
(null !== this._pendingStateQueue || this._pendingForceUpdate) && this.updateComponent(e, this._currentElement, this._currentElement, this._context, this._context);
},
updateComponent: function(e, t, n, r, o) {
var a, i = this._instance, s = this._context === o ? i.context : this._processContext(o);
t === n ? a = n.props : (a = this._processProps(n.props), i.componentWillReceiveProps && i.componentWillReceiveProps(a, s));
var l = this._processPendingState(a, s), u = this._pendingForceUpdate || !i.shouldComponentUpdate || i.shouldComponentUpdate(a, l, s);
u ? (this._pendingForceUpdate = !1, this._performComponentUpdate(n, a, l, s, e, o)) : (this._currentElement = n, 
this._context = o, i.props = a, i.state = l, i.context = s);
},
_processPendingState: function(e, t) {
var n = this._instance, r = this._pendingStateQueue, o = this._pendingReplaceState;
if (this._pendingReplaceState = !1, this._pendingStateQueue = null, !r) return n.state;
if (o && 1 === r.length) return r[0];
for (var a = d({}, o ? r[0] : n.state), i = o ? 1 : 0; i < r.length; i++) {
var s = r[i];
d(a, "function" == typeof s ? s.call(n, a, e, t) : s);
}
return a;
},
_performComponentUpdate: function(e, t, n, r, o, a) {
var i, s, l, u = this._instance, c = Boolean(u.componentDidUpdate);
c && (i = u.props, s = u.state, l = u.context), u.componentWillUpdate && u.componentWillUpdate(t, n, r), 
this._currentElement = e, this._context = a, u.props = t, u.state = n, u.context = r, 
this._updateRenderedComponent(o, a), c && o.getReactMountReady().enqueue(u.componentDidUpdate.bind(u, i, s, l), u);
},
_updateRenderedComponent: function(e, t) {
var n = this._renderedComponent, r = n._currentElement, o = this._renderValidatedComponent();
if (g(r, o)) p.receiveComponent(n, o, e, this._processChildContext(t)); else {
var a = this._rootNodeID, i = n._rootNodeID;
p.unmountComponent(n), this._renderedComponent = this._instantiateReactComponent(o);
var s = p.mountComponent(this._renderedComponent, a, e, this._processChildContext(t));
this._replaceNodeWithMarkupByID(i, s);
}
},
_replaceNodeWithMarkupByID: function(e, t) {
a.replaceNodeWithMarkupByID(e, t);
},
_renderValidatedComponentWithoutOwnerOrContext: function() {
var e = this._instance, t = e.render();
return t;
},
_renderValidatedComponent: function() {
var e;
i.current = this;
try {
e = this._renderValidatedComponentWithoutOwnerOrContext();
} finally {
i.current = null;
}
return null === e || e === !1 || s.isValidElement(e) ? void 0 : y(!1), e;
},
attachRef: function(e, t) {
var n = this.getPublicInstance();
null == n ? y(!1) : void 0;
var r = t.getPublicInstance(), o = n.refs === h ? n.refs = {} : n.refs;
o[e] = r;
},
detachRef: function(e) {
var t = this.getPublicInstance().refs;
delete t[e];
},
getName: function() {
var e = this._currentElement.type, t = this._instance && this._instance.constructor;
return e.displayName || t && t.displayName || e.name || t && t.name || null;
},
getPublicInstance: function() {
var e = this._instance;
return e instanceof o ? null : e;
},
_instantiateReactComponent: null
};
u.measureMethods(b, "ReactCompositeComponent", {
mountComponent: "mountComponent",
updateComponent: "updateComponent",
_renderValidatedComponent: "_renderValidatedComponent"
});
var v = {
Mixin: b
};
e.exports = v;
}, function(e, t) {
"use strict";
var n = {
onClick: !0,
onDoubleClick: !0,
onMouseDown: !0,
onMouseMove: !0,
onMouseUp: !0,
onClickCapture: !0,
onDoubleClickCapture: !0,
onMouseDownCapture: !0,
onMouseMoveCapture: !0,
onMouseUpCapture: !0
}, r = {
getNativeProps: function(e, t, r) {
if (!t.disabled) return t;
var o = {};
for (var a in t) t.hasOwnProperty(a) && !n[a] && (o[a] = t[a]);
return o;
}
};
e.exports = r;
}, function(e, t, n) {
"use strict";
function r() {
return this;
}
function o() {
var e = this._reactInternalComponent;
return !!e;
}
function a() {
}
function i(e, t) {
var n = this._reactInternalComponent;
n && (x.enqueueSetPropsInternal(n, e), t && x.enqueueCallbackInternal(n, t));
}
function s(e, t) {
var n = this._reactInternalComponent;
n && (x.enqueueReplacePropsInternal(n, e), t && x.enqueueCallbackInternal(n, t));
}
function l(e, t) {
t && (null != t.dangerouslySetInnerHTML && (null != t.children ? U(!1) : void 0, 
"object" == typeof t.dangerouslySetInnerHTML && W in t.dangerouslySetInnerHTML ? void 0 : U(!1)), 
null != t.style && "object" != typeof t.style ? U(!1) : void 0);
}
function u(e, t, n, r) {
var o = O.findReactContainerForID(e);
if (o) {
var a = o.nodeType === q ? o.ownerDocument : o;
B(t, a);
}
r.getReactMountReady().enqueue(c, {
id: e,
registrationName: t,
listener: n
});
}
function c() {
var e = this;
T.putListener(e.id, e.registrationName, e.listener);
}
function p() {
var e = this;
e._rootNodeID ? void 0 : U(!1);
var t = O.getNode(e._rootNodeID);
switch (t ? void 0 : U(!1), e._tag) {
case "iframe":
e._wrapperState.listeners = [ T.trapBubbledEvent(S.topLevelTypes.topLoad, "load", t) ];
break;

case "video":
case "audio":
e._wrapperState.listeners = [];
for (var n in K) K.hasOwnProperty(n) && e._wrapperState.listeners.push(T.trapBubbledEvent(S.topLevelTypes[n], K[n], t));
break;

case "img":
e._wrapperState.listeners = [ T.trapBubbledEvent(S.topLevelTypes.topError, "error", t), T.trapBubbledEvent(S.topLevelTypes.topLoad, "load", t) ];
break;

case "form":
e._wrapperState.listeners = [ T.trapBubbledEvent(S.topLevelTypes.topReset, "reset", t), T.trapBubbledEvent(S.topLevelTypes.topSubmit, "submit", t) ];
}
}
function f() {
I.mountReadyWrapper(this);
}
function d() {
A.postUpdateWrapper(this);
}
function h(e) {
Z.call(Q, e) || (J.test(e) ? void 0 : U(!1), Q[e] = !0);
}
function y(e, t) {
return e.indexOf("-") >= 0 || null != t.is;
}
function g(e) {
h(e), this._tag = e.toLowerCase(), this._renderedChildren = null, this._previousStyle = null, 
this._previousStyleCopy = null, this._rootNodeID = null, this._wrapperState = null, 
this._topLevelWrapper = null, this._nodeWithLegacyProperties = null;
}
var m = n(946), b = n(948), v = n(164), _ = n(325), S = n(109), T = n(237), w = n(327), E = n(959), I = n(962), C = n(963), A = n(514), P = n(966), O = n(72), R = n(970), k = n(87), x = n(330), M = n(38), N = n(241), D = n(242), U = n(32), L = (n(338), 
n(122)), $ = n(244), G = n(339), F = (n(503), n(342), n(40), T.deleteListener), B = T.listenTo, j = T.registrationNameModules, H = {
string: !0,
number: !0
}, V = L({
children: null
}), z = L({
style: null
}), W = L({
__html: null
}), q = 1, K = {
topAbort: "abort",
topCanPlay: "canplay",
topCanPlayThrough: "canplaythrough",
topDurationChange: "durationchange",
topEmptied: "emptied",
topEncrypted: "encrypted",
topEnded: "ended",
topError: "error",
topLoadedData: "loadeddata",
topLoadedMetadata: "loadedmetadata",
topLoadStart: "loadstart",
topPause: "pause",
topPlay: "play",
topPlaying: "playing",
topProgress: "progress",
topRateChange: "ratechange",
topSeeked: "seeked",
topSeeking: "seeking",
topStalled: "stalled",
topSuspend: "suspend",
topTimeUpdate: "timeupdate",
topVolumeChange: "volumechange",
topWaiting: "waiting"
}, X = {
area: !0,
base: !0,
br: !0,
col: !0,
embed: !0,
hr: !0,
img: !0,
input: !0,
keygen: !0,
link: !0,
meta: !0,
param: !0,
source: !0,
track: !0,
wbr: !0
}, Y = {
listing: !0,
pre: !0,
textarea: !0
}, J = (M({
menuitem: !0
}, X), /^[a-zA-Z][a-zA-Z:_\.\-\d]*$/), Q = {}, Z = {}.hasOwnProperty;
g.displayName = "ReactDOMComponent", g.Mixin = {
construct: function(e) {
this._currentElement = e;
},
mountComponent: function(e, t, n) {
this._rootNodeID = e;
var r = this._currentElement.props;
switch (this._tag) {
case "iframe":
case "img":
case "form":
case "video":
case "audio":
this._wrapperState = {
listeners: null
}, t.getReactMountReady().enqueue(p, this);
break;

case "button":
r = E.getNativeProps(this, r, n);
break;

case "input":
I.mountWrapper(this, r, n), r = I.getNativeProps(this, r, n);
break;

case "option":
C.mountWrapper(this, r, n), r = C.getNativeProps(this, r, n);
break;

case "select":
A.mountWrapper(this, r, n), r = A.getNativeProps(this, r, n), n = A.processChildContext(this, r, n);
break;

case "textarea":
P.mountWrapper(this, r, n), r = P.getNativeProps(this, r, n);
}
l(this, r);
var o;
if (t.useCreateElement) {
var a = n[O.ownerDocumentContextKey], i = a.createElement(this._currentElement.type);
_.setAttributeForID(i, this._rootNodeID), O.getID(i), this._updateDOMProperties({}, r, t, i), 
this._createInitialChildren(t, r, n, i), o = i;
} else {
var s = this._createOpenTagMarkupAndPutListeners(t, r), u = this._createContentMarkup(t, r, n);
o = !u && X[this._tag] ? s + "/>" : s + ">" + u + "</" + this._currentElement.type + ">";
}
switch (this._tag) {
case "input":
t.getReactMountReady().enqueue(f, this);

case "button":
case "select":
case "textarea":
r.autoFocus && t.getReactMountReady().enqueue(m.focusDOMComponent, this);
}
return o;
},
_createOpenTagMarkupAndPutListeners: function(e, t) {
var n = "<" + this._currentElement.type;
for (var r in t) if (t.hasOwnProperty(r)) {
var o = t[r];
if (null != o) if (j.hasOwnProperty(r)) o && u(this._rootNodeID, r, o, e); else {
r === z && (o && (o = this._previousStyleCopy = M({}, t.style)), o = b.createMarkupForStyles(o));
var a = null;
null != this._tag && y(this._tag, t) ? r !== V && (a = _.createMarkupForCustomAttribute(r, o)) : a = _.createMarkupForProperty(r, o), 
a && (n += " " + a);
}
}
if (e.renderToStaticMarkup) return n;
var i = _.createMarkupForID(this._rootNodeID);
return n + " " + i;
},
_createContentMarkup: function(e, t, n) {
var r = "", o = t.dangerouslySetInnerHTML;
if (null != o) null != o.__html && (r = o.__html); else {
var a = H[typeof t.children] ? t.children : null, i = null != a ? null : t.children;
if (null != a) r = D(a); else if (null != i) {
var s = this.mountChildren(i, e, n);
r = s.join("");
}
}
return Y[this._tag] && "\n" === r.charAt(0) ? "\n" + r : r;
},
_createInitialChildren: function(e, t, n, r) {
var o = t.dangerouslySetInnerHTML;
if (null != o) null != o.__html && $(r, o.__html); else {
var a = H[typeof t.children] ? t.children : null, i = null != a ? null : t.children;
if (null != a) G(r, a); else if (null != i) for (var s = this.mountChildren(i, e, n), l = 0; l < s.length; l++) r.appendChild(s[l]);
}
},
receiveComponent: function(e, t, n) {
var r = this._currentElement;
this._currentElement = e, this.updateComponent(t, r, e, n);
},
updateComponent: function(e, t, n, r) {
var o = t.props, a = this._currentElement.props;
switch (this._tag) {
case "button":
o = E.getNativeProps(this, o), a = E.getNativeProps(this, a);
break;

case "input":
I.updateWrapper(this), o = I.getNativeProps(this, o), a = I.getNativeProps(this, a);
break;

case "option":
o = C.getNativeProps(this, o), a = C.getNativeProps(this, a);
break;

case "select":
o = A.getNativeProps(this, o), a = A.getNativeProps(this, a);
break;

case "textarea":
P.updateWrapper(this), o = P.getNativeProps(this, o), a = P.getNativeProps(this, a);
}
l(this, a), this._updateDOMProperties(o, a, e, null), this._updateDOMChildren(o, a, e, r), 
!N && this._nodeWithLegacyProperties && (this._nodeWithLegacyProperties.props = a), 
"select" === this._tag && e.getReactMountReady().enqueue(d, this);
},
_updateDOMProperties: function(e, t, n, r) {
var o, a, i;
for (o in e) if (!t.hasOwnProperty(o) && e.hasOwnProperty(o)) if (o === z) {
var s = this._previousStyleCopy;
for (a in s) s.hasOwnProperty(a) && (i = i || {}, i[a] = "");
this._previousStyleCopy = null;
} else j.hasOwnProperty(o) ? e[o] && F(this._rootNodeID, o) : (v.properties[o] || v.isCustomAttribute(o)) && (r || (r = O.getNode(this._rootNodeID)), 
_.deleteValueForProperty(r, o));
for (o in t) {
var l = t[o], c = o === z ? this._previousStyleCopy : e[o];
if (t.hasOwnProperty(o) && l !== c) if (o === z) if (l ? l = this._previousStyleCopy = M({}, l) : this._previousStyleCopy = null, 
c) {
for (a in c) !c.hasOwnProperty(a) || l && l.hasOwnProperty(a) || (i = i || {}, i[a] = "");
for (a in l) l.hasOwnProperty(a) && c[a] !== l[a] && (i = i || {}, i[a] = l[a]);
} else i = l; else j.hasOwnProperty(o) ? l ? u(this._rootNodeID, o, l, n) : c && F(this._rootNodeID, o) : y(this._tag, t) ? (r || (r = O.getNode(this._rootNodeID)), 
o === V && (l = null), _.setValueForAttribute(r, o, l)) : (v.properties[o] || v.isCustomAttribute(o)) && (r || (r = O.getNode(this._rootNodeID)), 
null != l ? _.setValueForProperty(r, o, l) : _.deleteValueForProperty(r, o));
}
i && (r || (r = O.getNode(this._rootNodeID)), b.setValueForStyles(r, i));
},
_updateDOMChildren: function(e, t, n, r) {
var o = H[typeof e.children] ? e.children : null, a = H[typeof t.children] ? t.children : null, i = e.dangerouslySetInnerHTML && e.dangerouslySetInnerHTML.__html, s = t.dangerouslySetInnerHTML && t.dangerouslySetInnerHTML.__html, l = null != o ? null : e.children, u = null != a ? null : t.children, c = null != o || null != i, p = null != a || null != s;
null != l && null == u ? this.updateChildren(null, n, r) : c && !p && this.updateTextContent(""), 
null != a ? o !== a && this.updateTextContent("" + a) : null != s ? i !== s && this.updateMarkup("" + s) : null != u && this.updateChildren(u, n, r);
},
unmountComponent: function() {
switch (this._tag) {
case "iframe":
case "img":
case "form":
case "video":
case "audio":
var e = this._wrapperState.listeners;
if (e) for (var t = 0; t < e.length; t++) e[t].remove();
break;

case "input":
I.unmountWrapper(this);
break;

case "html":
case "head":
case "body":
U(!1);
}
if (this.unmountChildren(), T.deleteAllListeners(this._rootNodeID), w.unmountIDFromEnvironment(this._rootNodeID), 
this._rootNodeID = null, this._wrapperState = null, this._nodeWithLegacyProperties) {
var n = this._nodeWithLegacyProperties;
n._reactInternalComponent = null, this._nodeWithLegacyProperties = null;
}
},
getPublicInstance: function() {
if (!this._nodeWithLegacyProperties) {
var e = O.getNode(this._rootNodeID);
e._reactInternalComponent = this, e.getDOMNode = r, e.isMounted = o, e.setState = a, 
e.replaceState = a, e.forceUpdate = a, e.setProps = i, e.replaceProps = s, e.props = this._currentElement.props, 
this._nodeWithLegacyProperties = e;
}
return this._nodeWithLegacyProperties;
}
}, k.measureMethods(g, "ReactDOMComponent", {
mountComponent: "mountComponent",
updateComponent: "updateComponent"
}), M(g.prototype, g.Mixin, R.Mixin), e.exports = g;
}, function(e, t, n) {
"use strict";
function r(e) {
return o.createFactory(e);
}
var o = n(71), a = (n(518), n(936)), i = a({
a: "a",
abbr: "abbr",
address: "address",
area: "area",
article: "article",
aside: "aside",
audio: "audio",
b: "b",
base: "base",
bdi: "bdi",
bdo: "bdo",
big: "big",
blockquote: "blockquote",
body: "body",
br: "br",
button: "button",
canvas: "canvas",
caption: "caption",
cite: "cite",
code: "code",
col: "col",
colgroup: "colgroup",
data: "data",
datalist: "datalist",
dd: "dd",
del: "del",
details: "details",
dfn: "dfn",
dialog: "dialog",
div: "div",
dl: "dl",
dt: "dt",
em: "em",
embed: "embed",
fieldset: "fieldset",
figcaption: "figcaption",
figure: "figure",
footer: "footer",
form: "form",
h1: "h1",
h2: "h2",
h3: "h3",
h4: "h4",
h5: "h5",
h6: "h6",
head: "head",
header: "header",
hgroup: "hgroup",
hr: "hr",
html: "html",
i: "i",
iframe: "iframe",
img: "img",
input: "input",
ins: "ins",
kbd: "kbd",
keygen: "keygen",
label: "label",
legend: "legend",
li: "li",
link: "link",
main: "main",
map: "map",
mark: "mark",
menu: "menu",
menuitem: "menuitem",
meta: "meta",
meter: "meter",
nav: "nav",
noscript: "noscript",
object: "object",
ol: "ol",
optgroup: "optgroup",
option: "option",
output: "output",
p: "p",
param: "param",
picture: "picture",
pre: "pre",
progress: "progress",
q: "q",
rp: "rp",
rt: "rt",
ruby: "ruby",
s: "s",
samp: "samp",
script: "script",
section: "section",
select: "select",
small: "small",
source: "source",
span: "span",
strong: "strong",
style: "style",
sub: "sub",
summary: "summary",
sup: "sup",
table: "table",
tbody: "tbody",
td: "td",
textarea: "textarea",
tfoot: "tfoot",
th: "th",
thead: "thead",
time: "time",
title: "title",
tr: "tr",
track: "track",
u: "u",
ul: "ul",
"var": "var",
video: "video",
wbr: "wbr",
circle: "circle",
clipPath: "clipPath",
defs: "defs",
ellipse: "ellipse",
g: "g",
image: "image",
line: "line",
linearGradient: "linearGradient",
mask: "mask",
path: "path",
pattern: "pattern",
polygon: "polygon",
polyline: "polyline",
radialGradient: "radialGradient",
rect: "rect",
stop: "stop",
svg: "svg",
text: "text",
tspan: "tspan"
}, r);
e.exports = i;
}, function(e, t, n) {
"use strict";
function r() {
this._rootNodeID && f.updateWrapper(this);
}
function o(e) {
var t = this._currentElement.props, n = i.executeOnChange(t, e);
l.asap(r, this);
var o = t.name;
if ("radio" === t.type && null != o) {
for (var a = s.getNode(this._rootNodeID), u = a; u.parentNode; ) u = u.parentNode;
for (var f = u.querySelectorAll("input[name=" + JSON.stringify("" + o) + '][type="radio"]'), d = 0; d < f.length; d++) {
var h = f[d];
if (h !== a && h.form === a.form) {
var y = s.getID(h);
y ? void 0 : c(!1);
var g = p[y];
g ? void 0 : c(!1), l.asap(r, g);
}
}
}
return n;
}
var a = n(328), i = n(326), s = n(72), l = n(74), u = n(38), c = n(32), p = {}, f = {
getNativeProps: function(e, t, n) {
var r = i.getValue(t), o = i.getChecked(t), a = u({}, t, {
defaultChecked: void 0,
defaultValue: void 0,
value: null != r ? r : e._wrapperState.initialValue,
checked: null != o ? o : e._wrapperState.initialChecked,
onChange: e._wrapperState.onChange
});
return a;
},
mountWrapper: function(e, t) {
var n = t.defaultValue;
e._wrapperState = {
initialChecked: t.defaultChecked || !1,
initialValue: null != n ? n : null,
onChange: o.bind(e)
};
},
mountReadyWrapper: function(e) {
p[e._rootNodeID] = e;
},
unmountWrapper: function(e) {
delete p[e._rootNodeID];
},
updateWrapper: function(e) {
var t = e._currentElement.props, n = t.checked;
null != n && a.updatePropertyByID(e._rootNodeID, "checked", n || !1);
var r = i.getValue(t);
null != r && a.updatePropertyByID(e._rootNodeID, "value", "" + r);
}
};
e.exports = f;
}, function(e, t, n) {
"use strict";
var r = n(509), o = n(514), a = n(38), i = (n(40), o.valueContextKey), s = {
mountWrapper: function(e, t, n) {
var r = n[i], o = null;
if (null != r) if (o = !1, Array.isArray(r)) {
for (var a = 0; a < r.length; a++) if ("" + r[a] == "" + t.value) {
o = !0;
break;
}
} else o = "" + r == "" + t.value;
e._wrapperState = {
selected: o
};
},
getNativeProps: function(e, t, n) {
var o = a({
selected: void 0,
children: void 0
}, t);
null != e._wrapperState.selected && (o.selected = e._wrapperState.selected);
var i = "";
return r.forEach(t.children, function(e) {
null != e && ("string" == typeof e || "number" == typeof e) && (i += e);
}), o.children = i, o;
}
};
e.exports = s;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
return e === n && t === r;
}
function o(e) {
var t = document.selection, n = t.createRange(), r = n.text.length, o = n.duplicate();
o.moveToElementText(e), o.setEndPoint("EndToStart", n);
var a = o.text.length, i = a + r;
return {
start: a,
end: i
};
}
function a(e) {
var t = window.getSelection && window.getSelection();
if (!t || 0 === t.rangeCount) return null;
var n = t.anchorNode, o = t.anchorOffset, a = t.focusNode, i = t.focusOffset, s = t.getRangeAt(0);
try {
s.startContainer.nodeType, s.endContainer.nodeType;
} catch (l) {
return null;
}
var u = r(t.anchorNode, t.anchorOffset, t.focusNode, t.focusOffset), c = u ? 0 : s.toString().length, p = s.cloneRange();
p.selectNodeContents(e), p.setEnd(s.startContainer, s.startOffset);
var f = r(p.startContainer, p.startOffset, p.endContainer, p.endOffset), d = f ? 0 : p.toString().length, h = d + c, y = document.createRange();
y.setStart(n, o), y.setEnd(a, i);
var g = y.collapsed;
return {
start: g ? h : d,
end: g ? d : h
};
}
function i(e, t) {
var n, r, o = document.selection.createRange().duplicate();
"undefined" == typeof t.end ? (n = t.start, r = n) : t.start > t.end ? (n = t.end, 
r = t.start) : (n = t.start, r = t.end), o.moveToElementText(e), o.moveStart("character", n), 
o.setEndPoint("EndToStart", o), o.moveEnd("character", r - n), o.select();
}
function s(e, t) {
if (window.getSelection) {
var n = window.getSelection(), r = e[c()].length, o = Math.min(t.start, r), a = "undefined" == typeof t.end ? o : Math.min(t.end, r);
if (!n.extend && o > a) {
var i = a;
a = o, o = i;
}
var s = u(e, o), l = u(e, a);
if (s && l) {
var p = document.createRange();
p.setStart(s.node, s.offset), n.removeAllRanges(), o > a ? (n.addRange(p), n.extend(l.node, l.offset)) : (p.setEnd(l.node, l.offset), 
n.addRange(p));
}
}
}
var l = n(68), u = n(995), c = n(532), p = l.canUseDOM && "selection" in document && !("getSelection" in window), f = {
getOffsets: p ? o : a,
setOffsets: p ? i : s
};
e.exports = f;
}, function(e, t, n) {
"use strict";
var r = n(517), o = n(975), a = n(331);
r.inject();
var i = {
renderToString: o.renderToString,
renderToStaticMarkup: o.renderToStaticMarkup,
version: a
};
e.exports = i;
}, function(e, t, n) {
"use strict";
function r() {
this._rootNodeID && c.updateWrapper(this);
}
function o(e) {
var t = this._currentElement.props, n = a.executeOnChange(t, e);
return s.asap(r, this), n;
}
var a = n(326), i = n(328), s = n(74), l = n(38), u = n(32), c = (n(40), {
getNativeProps: function(e, t, n) {
null != t.dangerouslySetInnerHTML ? u(!1) : void 0;
var r = l({}, t, {
defaultValue: void 0,
value: void 0,
children: e._wrapperState.initialValue,
onChange: e._wrapperState.onChange
});
return r;
},
mountWrapper: function(e, t) {
var n = t.defaultValue, r = t.children;
null != r && (null != n ? u(!1) : void 0, Array.isArray(r) && (r.length <= 1 ? void 0 : u(!1), 
r = r[0]), n = "" + r), null == n && (n = "");
var i = a.getValue(t);
e._wrapperState = {
initialValue: "" + (null != i ? i : n),
onChange: o.bind(e)
};
},
updateWrapper: function(e) {
var t = e._currentElement.props, n = a.getValue(t);
null != n && i.updatePropertyByID(e._rootNodeID, "value", "" + n);
}
});
e.exports = c;
}, function(e, t, n) {
"use strict";
function r(e) {
o.enqueueEvents(e), o.processEventQueue(!1);
}
var o = n(196), a = {
handleTopLevel: function(e, t, n, a, i) {
var s = o.extractEvents(e, t, n, a, i);
r(s);
}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = f.getID(e), n = p.getReactRootIDFromNodeID(t), r = f.findReactContainerForID(n), o = f.getFirstReactDOM(r);
return o;
}
function o(e, t) {
this.topLevelType = e, this.nativeEvent = t, this.ancestors = [];
}
function a(e) {
i(e);
}
function i(e) {
for (var t = f.getFirstReactDOM(y(e.nativeEvent)) || window, n = t; n; ) e.ancestors.push(n), 
n = r(n);
for (var o = 0; o < e.ancestors.length; o++) {
t = e.ancestors[o];
var a = f.getID(t) || "";
m._handleTopLevel(e.topLevelType, t, a, e.nativeEvent, y(e.nativeEvent));
}
}
function s(e) {
var t = g(window);
e(t);
}
var l = n(498), u = n(68), c = n(110), p = n(139), f = n(72), d = n(74), h = n(38), y = n(336), g = n(931);
h(o.prototype, {
destructor: function() {
this.topLevelType = null, this.nativeEvent = null, this.ancestors.length = 0;
}
}), c.addPoolingTo(o, c.twoArgumentPooler);
var m = {
_enabled: !0,
_handleTopLevel: null,
WINDOW_HANDLE: u.canUseDOM ? window : null,
setHandleTopLevel: function(e) {
m._handleTopLevel = e;
},
setEnabled: function(e) {
m._enabled = !!e;
},
isEnabled: function() {
return m._enabled;
},
trapBubbledEvent: function(e, t, n) {
var r = n;
return r ? l.listen(r, t, m.dispatchEvent.bind(null, e)) : null;
},
trapCapturedEvent: function(e, t, n) {
var r = n;
return r ? l.capture(r, t, m.dispatchEvent.bind(null, e)) : null;
},
monitorScrollValue: function(e) {
var t = s.bind(null, e);
l.listen(window, "scroll", t);
},
dispatchEvent: function(e, t) {
if (m._enabled) {
var n = o.getPooled(e, t);
try {
d.batchedUpdates(a, n);
} finally {
o.release(n);
}
}
}
};
e.exports = m;
}, function(e, t, n) {
"use strict";
var r = n(509), o = n(511), a = n(510), i = n(961), s = n(71), l = (n(518), n(527)), u = n(331), c = n(38), p = n(996), f = s.createElement, d = s.createFactory, h = s.cloneElement, y = {
Children: {
map: r.map,
forEach: r.forEach,
count: r.count,
toArray: r.toArray,
only: p
},
Component: o,
createElement: f,
cloneElement: h,
isValidElement: s.isValidElement,
PropTypes: l,
createClass: a.createClass,
createFactory: d,
createMixin: function(e) {
return e;
},
DOM: i,
version: u,
__spread: c
};
e.exports = y;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
g.push({
parentID: e,
parentNode: null,
type: p.INSERT_MARKUP,
markupIndex: m.push(t) - 1,
content: null,
fromIndex: null,
toIndex: n
});
}
function o(e, t, n) {
g.push({
parentID: e,
parentNode: null,
type: p.MOVE_EXISTING,
markupIndex: null,
content: null,
fromIndex: t,
toIndex: n
});
}
function a(e, t) {
g.push({
parentID: e,
parentNode: null,
type: p.REMOVE_NODE,
markupIndex: null,
content: null,
fromIndex: t,
toIndex: null
});
}
function i(e, t) {
g.push({
parentID: e,
parentNode: null,
type: p.SET_MARKUP,
markupIndex: null,
content: t,
fromIndex: null,
toIndex: null
});
}
function s(e, t) {
g.push({
parentID: e,
parentNode: null,
type: p.TEXT_CONTENT,
markupIndex: null,
content: t,
fromIndex: null,
toIndex: null
});
}
function l() {
g.length && (c.processChildrenUpdates(g, m), u());
}
function u() {
g.length = 0, m.length = 0;
}
var c = n(198), p = n(329), f = (n(98), n(123)), d = n(508), h = n(333), y = 0, g = [], m = [], b = {
Mixin: {
_reconcilerInstantiateChildren: function(e, t, n) {
return d.instantiateChildren(e, t, n);
},
_reconcilerUpdateChildren: function(e, t, n, r) {
var o;
return o = h(t), d.updateChildren(e, o, n, r);
},
mountChildren: function(e, t, n) {
var r = this._reconcilerInstantiateChildren(e, t, n);
this._renderedChildren = r;
var o = [], a = 0;
for (var i in r) if (r.hasOwnProperty(i)) {
var s = r[i], l = this._rootNodeID + i, u = f.mountComponent(s, l, t, n);
s._mountIndex = a++, o.push(u);
}
return o;
},
updateTextContent: function(e) {
y++;
var t = !0;
try {
var n = this._renderedChildren;
d.unmountChildren(n);
for (var r in n) n.hasOwnProperty(r) && this._unmountChild(n[r]);
this.setTextContent(e), t = !1;
} finally {
y--, y || (t ? u() : l());
}
},
updateMarkup: function(e) {
y++;
var t = !0;
try {
var n = this._renderedChildren;
d.unmountChildren(n);
for (var r in n) n.hasOwnProperty(r) && this._unmountChildByName(n[r], r);
this.setMarkup(e), t = !1;
} finally {
y--, y || (t ? u() : l());
}
},
updateChildren: function(e, t, n) {
y++;
var r = !0;
try {
this._updateChildren(e, t, n), r = !1;
} finally {
y--, y || (r ? u() : l());
}
},
_updateChildren: function(e, t, n) {
var r = this._renderedChildren, o = this._reconcilerUpdateChildren(r, e, t, n);
if (this._renderedChildren = o, o || r) {
var a, i = 0, s = 0;
for (a in o) if (o.hasOwnProperty(a)) {
var l = r && r[a], u = o[a];
l === u ? (this.moveChild(l, s, i), i = Math.max(l._mountIndex, i), l._mountIndex = s) : (l && (i = Math.max(l._mountIndex, i), 
this._unmountChild(l)), this._mountChildByNameAtIndex(u, a, s, t, n)), s++;
}
for (a in r) !r.hasOwnProperty(a) || o && o.hasOwnProperty(a) || this._unmountChild(r[a]);
}
},
unmountChildren: function() {
var e = this._renderedChildren;
d.unmountChildren(e), this._renderedChildren = null;
},
moveChild: function(e, t, n) {
e._mountIndex < n && o(this._rootNodeID, e._mountIndex, t);
},
createChild: function(e, t) {
r(this._rootNodeID, t, e._mountIndex);
},
removeChild: function(e) {
a(this._rootNodeID, e._mountIndex);
},
setTextContent: function(e) {
s(this._rootNodeID, e);
},
setMarkup: function(e) {
i(this._rootNodeID, e);
},
_mountChildByNameAtIndex: function(e, t, n, r, o) {
var a = this._rootNodeID + t, i = f.mountComponent(e, a, r, o);
e._mountIndex = n, this.createChild(e, i);
},
_unmountChild: function(e) {
this.removeChild(e), e._mountIndex = null;
}
}
};
e.exports = b;
}, function(e, t, n) {
"use strict";
var r = n(32), o = {
isValidOwner: function(e) {
return !(!e || "function" != typeof e.attachRef || "function" != typeof e.detachRef);
},
addComponentAsRefTo: function(e, t, n) {
o.isValidOwner(n) ? void 0 : r(!1), n.attachRef(t, e);
},
removeComponentAsRefFrom: function(e, t, n) {
o.isValidOwner(n) ? void 0 : r(!1), n.getPublicInstance().refs[t] === e.getPublicInstance() && n.detachRef(t);
}
};
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
this.reinitializeTransaction(), this.renderToStaticMarkup = !1, this.reactMountReady = o.getPooled(null), 
this.useCreateElement = !e && s.useCreateElement;
}
var o = n(236), a = n(110), i = n(237), s = n(513), l = n(523), u = n(201), c = n(38), p = {
initialize: l.getSelectionInformation,
close: l.restoreSelection
}, f = {
initialize: function() {
var e = i.isEnabled();
return i.setEnabled(!1), e;
},
close: function(e) {
i.setEnabled(e);
}
}, d = {
initialize: function() {
this.reactMountReady.reset();
},
close: function() {
this.reactMountReady.notifyAll();
}
}, h = [ p, f, d ], y = {
getTransactionWrappers: function() {
return h;
},
getReactMountReady: function() {
return this.reactMountReady;
},
destructor: function() {
o.release(this.reactMountReady), this.reactMountReady = null;
}
};
c(r.prototype, u.Mixin, y), a.addPoolingTo(r), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
"function" == typeof e ? e(t.getPublicInstance()) : a.addComponentAsRefTo(t, e, n);
}
function o(e, t, n) {
"function" == typeof e ? e(null) : a.removeComponentAsRefFrom(t, e, n);
}
var a = n(971), i = {};
i.attachRefs = function(e, t) {
if (null !== t && t !== !1) {
var n = t.ref;
null != n && r(n, e, t._owner);
}
}, i.shouldUpdateRefs = function(e, t) {
var n = null === e || e === !1, r = null === t || t === !1;
return n || r || t._owner !== e._owner || t.ref !== e.ref;
}, i.detachRefs = function(e, t) {
if (null !== t && t !== !1) {
var n = t.ref;
null != n && o(n, e, t._owner);
}
}, e.exports = i;
}, function(e, t) {
"use strict";
var n = {
isBatchingUpdates: !1,
batchedUpdates: function(e) {}
};
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
i.isValidElement(e) ? void 0 : h(!1);
var t;
try {
p.injection.injectBatchingStrategy(u);
var n = s.createReactRootID();
return t = c.getPooled(!1), t.perform(function() {
var r = d(e, null), o = r.mountComponent(n, t, f);
return l.addChecksumToMarkup(o);
}, null);
} finally {
c.release(t), p.injection.injectBatchingStrategy(a);
}
}
function o(e) {
i.isValidElement(e) ? void 0 : h(!1);
var t;
try {
p.injection.injectBatchingStrategy(u);
var n = s.createReactRootID();
return t = c.getPooled(!0), t.perform(function() {
var r = d(e, null);
return r.mountComponent(n, t, f);
}, null);
} finally {
c.release(t), p.injection.injectBatchingStrategy(a);
}
}
var a = n(516), i = n(71), s = n(139), l = n(524), u = n(974), c = n(976), p = n(74), f = n(195), d = n(243), h = n(32);
e.exports = {
renderToString: r,
renderToStaticMarkup: o
};
}, function(e, t, n) {
"use strict";
function r(e) {
this.reinitializeTransaction(), this.renderToStaticMarkup = e, this.reactMountReady = a.getPooled(null), 
this.useCreateElement = !1;
}
var o = n(110), a = n(236), i = n(201), s = n(38), l = n(86), u = {
initialize: function() {
this.reactMountReady.reset();
},
close: l
}, c = [ u ], p = {
getTransactionWrappers: function() {
return c;
},
getReactMountReady: function() {
return this.reactMountReady;
},
destructor: function() {
a.release(this.reactMountReady), this.reactMountReady = null;
}
};
s(r.prototype, i.Mixin, p), o.addPoolingTo(r), e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(333), o = {
getChildMapping: function(e) {
return e ? r(e) : e;
},
mergeChildMappings: function(e, t) {
function n(n) {
return t.hasOwnProperty(n) ? t[n] : e[n];
}
e = e || {}, t = t || {};
var r = {}, o = [];
for (var a in e) t.hasOwnProperty(a) ? o.length && (r[a] = o, o = []) : o.push(a);
var i, s = {};
for (var l in t) {
if (r.hasOwnProperty(l)) for (i = 0; i < r[l].length; i++) {
var u = r[l][i];
s[r[l][i]] = n(u);
}
s[l] = n(l);
}
for (i = 0; i < o.length; i++) s[o[i]] = n(o[i]);
return s;
}
};
e.exports = o;
}, function(e, t, n) {
"use strict";
var r = n(507), o = n(977), a = n(38), i = n(86), s = r.createClass({
displayName: "ReactTransitionGroup",
propTypes: {
component: r.PropTypes.any,
childFactory: r.PropTypes.func
},
getDefaultProps: function() {
return {
component: "span",
childFactory: i.thatReturnsArgument
};
},
getInitialState: function() {
return {
children: o.getChildMapping(this.props.children)
};
},
componentWillMount: function() {
this.currentlyTransitioningKeys = {}, this.keysToEnter = [], this.keysToLeave = [];
},
componentDidMount: function() {
var e = this.state.children;
for (var t in e) e[t] && this.performAppear(t);
},
componentWillReceiveProps: function(e) {
var t = o.getChildMapping(e.children), n = this.state.children;
this.setState({
children: o.mergeChildMappings(n, t)
});
var r;
for (r in t) {
var a = n && n.hasOwnProperty(r);
!t[r] || a || this.currentlyTransitioningKeys[r] || this.keysToEnter.push(r);
}
for (r in n) {
var i = t && t.hasOwnProperty(r);
!n[r] || i || this.currentlyTransitioningKeys[r] || this.keysToLeave.push(r);
}
},
componentDidUpdate: function() {
var e = this.keysToEnter;
this.keysToEnter = [], e.forEach(this.performEnter);
var t = this.keysToLeave;
this.keysToLeave = [], t.forEach(this.performLeave);
},
performAppear: function(e) {
this.currentlyTransitioningKeys[e] = !0;
var t = this.refs[e];
t.componentWillAppear ? t.componentWillAppear(this._handleDoneAppearing.bind(this, e)) : this._handleDoneAppearing(e);
},
_handleDoneAppearing: function(e) {
var t = this.refs[e];
t.componentDidAppear && t.componentDidAppear(), delete this.currentlyTransitioningKeys[e];
var n = o.getChildMapping(this.props.children);
n && n.hasOwnProperty(e) || this.performLeave(e);
},
performEnter: function(e) {
this.currentlyTransitioningKeys[e] = !0;
var t = this.refs[e];
t.componentWillEnter ? t.componentWillEnter(this._handleDoneEntering.bind(this, e)) : this._handleDoneEntering(e);
},
_handleDoneEntering: function(e) {
var t = this.refs[e];
t.componentDidEnter && t.componentDidEnter(), delete this.currentlyTransitioningKeys[e];
var n = o.getChildMapping(this.props.children);
n && n.hasOwnProperty(e) || this.performLeave(e);
},
performLeave: function(e) {
this.currentlyTransitioningKeys[e] = !0;
var t = this.refs[e];
t.componentWillLeave ? t.componentWillLeave(this._handleDoneLeaving.bind(this, e)) : this._handleDoneLeaving(e);
},
_handleDoneLeaving: function(e) {
var t = this.refs[e];
t.componentDidLeave && t.componentDidLeave(), delete this.currentlyTransitioningKeys[e];
var n = o.getChildMapping(this.props.children);
n && n.hasOwnProperty(e) ? this.performEnter(e) : this.setState(function(t) {
var n = a({}, t.children);
return delete n[e], {
children: n
};
});
},
render: function() {
var e = [];
for (var t in this.state.children) {
var n = this.state.children[t];
n && e.push(r.cloneElement(this.props.childFactory(n), {
ref: t,
key: t
}));
}
return r.createElement(this.props.component, this.props, e);
}
});
e.exports = s;
}, function(e, t, n) {
"use strict";
var r = n(164), o = r.injection.MUST_USE_ATTRIBUTE, a = {
xlink: "http://www.w3.org/1999/xlink",
xml: "http://www.w3.org/XML/1998/namespace"
}, i = {
Properties: {
clipPath: o,
cx: o,
cy: o,
d: o,
dx: o,
dy: o,
fill: o,
fillOpacity: o,
fontFamily: o,
fontSize: o,
fx: o,
fy: o,
gradientTransform: o,
gradientUnits: o,
markerEnd: o,
markerMid: o,
markerStart: o,
offset: o,
opacity: o,
patternContentUnits: o,
patternUnits: o,
points: o,
preserveAspectRatio: o,
r: o,
rx: o,
ry: o,
spreadMethod: o,
stopColor: o,
stopOpacity: o,
stroke: o,
strokeDasharray: o,
strokeLinecap: o,
strokeOpacity: o,
strokeWidth: o,
textAnchor: o,
transform: o,
version: o,
viewBox: o,
x1: o,
x2: o,
x: o,
xlinkActuate: o,
xlinkArcrole: o,
xlinkHref: o,
xlinkRole: o,
xlinkShow: o,
xlinkTitle: o,
xlinkType: o,
xmlBase: o,
xmlLang: o,
xmlSpace: o,
y1: o,
y2: o,
y: o
},
DOMAttributeNamespaces: {
xlinkActuate: a.xlink,
xlinkArcrole: a.xlink,
xlinkHref: a.xlink,
xlinkRole: a.xlink,
xlinkShow: a.xlink,
xlinkTitle: a.xlink,
xlinkType: a.xlink,
xmlBase: a.xml,
xmlLang: a.xml,
xmlSpace: a.xml
},
DOMAttributeNames: {
clipPath: "clip-path",
fillOpacity: "fill-opacity",
fontFamily: "font-family",
fontSize: "font-size",
gradientTransform: "gradientTransform",
gradientUnits: "gradientUnits",
markerEnd: "marker-end",
markerMid: "marker-mid",
markerStart: "marker-start",
patternContentUnits: "patternContentUnits",
patternUnits: "patternUnits",
preserveAspectRatio: "preserveAspectRatio",
spreadMethod: "spreadMethod",
stopColor: "stop-color",
stopOpacity: "stop-opacity",
strokeDasharray: "stroke-dasharray",
strokeLinecap: "stroke-linecap",
strokeOpacity: "stroke-opacity",
strokeWidth: "stroke-width",
textAnchor: "text-anchor",
viewBox: "viewBox",
xlinkActuate: "xlink:actuate",
xlinkArcrole: "xlink:arcrole",
xlinkHref: "xlink:href",
xlinkRole: "xlink:role",
xlinkShow: "xlink:show",
xlinkTitle: "xlink:title",
xlinkType: "xlink:type",
xmlBase: "xml:base",
xmlLang: "xml:lang",
xmlSpace: "xml:space"
}
};
e.exports = i;
}, function(e, t, n) {
"use strict";
function r(e) {
if ("selectionStart" in e && l.hasSelectionCapabilities(e)) return {
start: e.selectionStart,
end: e.selectionEnd
};
if (window.getSelection) {
var t = window.getSelection();
return {
anchorNode: t.anchorNode,
anchorOffset: t.anchorOffset,
focusNode: t.focusNode,
focusOffset: t.focusOffset
};
}
if (document.selection) {
var n = document.selection.createRange();
return {
parentElement: n.parentElement(),
text: n.text,
top: n.boundingTop,
left: n.boundingLeft
};
}
}
function o(e, t) {
if (_ || null == m || m !== c()) return null;
var n = r(m);
if (!v || !d(v, n)) {
v = n;
var o = u.getPooled(g.select, b, e, t);
return o.type = "select", o.target = m, i.accumulateTwoPhaseDispatches(o), o;
}
return null;
}
var a = n(109), i = n(197), s = n(68), l = n(523), u = n(140), c = n(501), p = n(533), f = n(122), d = n(503), h = a.topLevelTypes, y = s.canUseDOM && "documentMode" in document && document.documentMode <= 11, g = {
select: {
phasedRegistrationNames: {
bubbled: f({
onSelect: null
}),
captured: f({
onSelectCapture: null
})
},
dependencies: [ h.topBlur, h.topContextMenu, h.topFocus, h.topKeyDown, h.topMouseDown, h.topMouseUp, h.topSelectionChange ]
}
}, m = null, b = null, v = null, _ = !1, S = !1, T = f({
onSelect: null
}), w = {
eventTypes: g,
extractEvents: function(e, t, n, r, a) {
if (!S) return null;
switch (e) {
case h.topFocus:
(p(t) || "true" === t.contentEditable) && (m = t, b = n, v = null);
break;

case h.topBlur:
m = null, b = null, v = null;
break;

case h.topMouseDown:
_ = !0;
break;

case h.topContextMenu:
case h.topMouseUp:
return _ = !1, o(r, a);

case h.topSelectionChange:
if (y) break;

case h.topKeyDown:
case h.topKeyUp:
return o(r, a);
}
return null;
},
didPutListener: function(e, t, n) {
t === T && (S = !0);
}
};
e.exports = w;
}, function(e, t) {
"use strict";
var n = Math.pow(2, 53), r = {
createReactRootIndex: function() {
return Math.ceil(Math.random() * n);
}
};
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(109), o = n(498), a = n(197), i = n(72), s = n(983), l = n(140), u = n(986), c = n(988), p = n(240), f = n(985), d = n(989), h = n(200), y = n(990), g = n(86), m = n(334), b = n(32), v = n(122), _ = r.topLevelTypes, S = {
abort: {
phasedRegistrationNames: {
bubbled: v({
onAbort: !0
}),
captured: v({
onAbortCapture: !0
})
}
},
blur: {
phasedRegistrationNames: {
bubbled: v({
onBlur: !0
}),
captured: v({
onBlurCapture: !0
})
}
},
canPlay: {
phasedRegistrationNames: {
bubbled: v({
onCanPlay: !0
}),
captured: v({
onCanPlayCapture: !0
})
}
},
canPlayThrough: {
phasedRegistrationNames: {
bubbled: v({
onCanPlayThrough: !0
}),
captured: v({
onCanPlayThroughCapture: !0
})
}
},
click: {
phasedRegistrationNames: {
bubbled: v({
onClick: !0
}),
captured: v({
onClickCapture: !0
})
}
},
contextMenu: {
phasedRegistrationNames: {
bubbled: v({
onContextMenu: !0
}),
captured: v({
onContextMenuCapture: !0
})
}
},
copy: {
phasedRegistrationNames: {
bubbled: v({
onCopy: !0
}),
captured: v({
onCopyCapture: !0
})
}
},
cut: {
phasedRegistrationNames: {
bubbled: v({
onCut: !0
}),
captured: v({
onCutCapture: !0
})
}
},
doubleClick: {
phasedRegistrationNames: {
bubbled: v({
onDoubleClick: !0
}),
captured: v({
onDoubleClickCapture: !0
})
}
},
drag: {
phasedRegistrationNames: {
bubbled: v({
onDrag: !0
}),
captured: v({
onDragCapture: !0
})
}
},
dragEnd: {
phasedRegistrationNames: {
bubbled: v({
onDragEnd: !0
}),
captured: v({
onDragEndCapture: !0
})
}
},
dragEnter: {
phasedRegistrationNames: {
bubbled: v({
onDragEnter: !0
}),
captured: v({
onDragEnterCapture: !0
})
}
},
dragExit: {
phasedRegistrationNames: {
bubbled: v({
onDragExit: !0
}),
captured: v({
onDragExitCapture: !0
})
}
},
dragLeave: {
phasedRegistrationNames: {
bubbled: v({
onDragLeave: !0
}),
captured: v({
onDragLeaveCapture: !0
})
}
},
dragOver: {
phasedRegistrationNames: {
bubbled: v({
onDragOver: !0
}),
captured: v({
onDragOverCapture: !0
})
}
},
dragStart: {
phasedRegistrationNames: {
bubbled: v({
onDragStart: !0
}),
captured: v({
onDragStartCapture: !0
})
}
},
drop: {
phasedRegistrationNames: {
bubbled: v({
onDrop: !0
}),
captured: v({
onDropCapture: !0
})
}
},
durationChange: {
phasedRegistrationNames: {
bubbled: v({
onDurationChange: !0
}),
captured: v({
onDurationChangeCapture: !0
})
}
},
emptied: {
phasedRegistrationNames: {
bubbled: v({
onEmptied: !0
}),
captured: v({
onEmptiedCapture: !0
})
}
},
encrypted: {
phasedRegistrationNames: {
bubbled: v({
onEncrypted: !0
}),
captured: v({
onEncryptedCapture: !0
})
}
},
ended: {
phasedRegistrationNames: {
bubbled: v({
onEnded: !0
}),
captured: v({
onEndedCapture: !0
})
}
},
error: {
phasedRegistrationNames: {
bubbled: v({
onError: !0
}),
captured: v({
onErrorCapture: !0
})
}
},
focus: {
phasedRegistrationNames: {
bubbled: v({
onFocus: !0
}),
captured: v({
onFocusCapture: !0
})
}
},
input: {
phasedRegistrationNames: {
bubbled: v({
onInput: !0
}),
captured: v({
onInputCapture: !0
})
}
},
keyDown: {
phasedRegistrationNames: {
bubbled: v({
onKeyDown: !0
}),
captured: v({
onKeyDownCapture: !0
})
}
},
keyPress: {
phasedRegistrationNames: {
bubbled: v({
onKeyPress: !0
}),
captured: v({
onKeyPressCapture: !0
})
}
},
keyUp: {
phasedRegistrationNames: {
bubbled: v({
onKeyUp: !0
}),
captured: v({
onKeyUpCapture: !0
})
}
},
load: {
phasedRegistrationNames: {
bubbled: v({
onLoad: !0
}),
captured: v({
onLoadCapture: !0
})
}
},
loadedData: {
phasedRegistrationNames: {
bubbled: v({
onLoadedData: !0
}),
captured: v({
onLoadedDataCapture: !0
})
}
},
loadedMetadata: {
phasedRegistrationNames: {
bubbled: v({
onLoadedMetadata: !0
}),
captured: v({
onLoadedMetadataCapture: !0
})
}
},
loadStart: {
phasedRegistrationNames: {
bubbled: v({
onLoadStart: !0
}),
captured: v({
onLoadStartCapture: !0
})
}
},
mouseDown: {
phasedRegistrationNames: {
bubbled: v({
onMouseDown: !0
}),
captured: v({
onMouseDownCapture: !0
})
}
},
mouseMove: {
phasedRegistrationNames: {
bubbled: v({
onMouseMove: !0
}),
captured: v({
onMouseMoveCapture: !0
})
}
},
mouseOut: {
phasedRegistrationNames: {
bubbled: v({
onMouseOut: !0
}),
captured: v({
onMouseOutCapture: !0
})
}
},
mouseOver: {
phasedRegistrationNames: {
bubbled: v({
onMouseOver: !0
}),
captured: v({
onMouseOverCapture: !0
})
}
},
mouseUp: {
phasedRegistrationNames: {
bubbled: v({
onMouseUp: !0
}),
captured: v({
onMouseUpCapture: !0
})
}
},
paste: {
phasedRegistrationNames: {
bubbled: v({
onPaste: !0
}),
captured: v({
onPasteCapture: !0
})
}
},
pause: {
phasedRegistrationNames: {
bubbled: v({
onPause: !0
}),
captured: v({
onPauseCapture: !0
})
}
},
play: {
phasedRegistrationNames: {
bubbled: v({
onPlay: !0
}),
captured: v({
onPlayCapture: !0
})
}
},
playing: {
phasedRegistrationNames: {
bubbled: v({
onPlaying: !0
}),
captured: v({
onPlayingCapture: !0
})
}
},
progress: {
phasedRegistrationNames: {
bubbled: v({
onProgress: !0
}),
captured: v({
onProgressCapture: !0
})
}
},
rateChange: {
phasedRegistrationNames: {
bubbled: v({
onRateChange: !0
}),
captured: v({
onRateChangeCapture: !0
})
}
},
reset: {
phasedRegistrationNames: {
bubbled: v({
onReset: !0
}),
captured: v({
onResetCapture: !0
})
}
},
scroll: {
phasedRegistrationNames: {
bubbled: v({
onScroll: !0
}),
captured: v({
onScrollCapture: !0
})
}
},
seeked: {
phasedRegistrationNames: {
bubbled: v({
onSeeked: !0
}),
captured: v({
onSeekedCapture: !0
})
}
},
seeking: {
phasedRegistrationNames: {
bubbled: v({
onSeeking: !0
}),
captured: v({
onSeekingCapture: !0
})
}
},
stalled: {
phasedRegistrationNames: {
bubbled: v({
onStalled: !0
}),
captured: v({
onStalledCapture: !0
})
}
},
submit: {
phasedRegistrationNames: {
bubbled: v({
onSubmit: !0
}),
captured: v({
onSubmitCapture: !0
})
}
},
suspend: {
phasedRegistrationNames: {
bubbled: v({
onSuspend: !0
}),
captured: v({
onSuspendCapture: !0
})
}
},
timeUpdate: {
phasedRegistrationNames: {
bubbled: v({
onTimeUpdate: !0
}),
captured: v({
onTimeUpdateCapture: !0
})
}
},
touchCancel: {
phasedRegistrationNames: {
bubbled: v({
onTouchCancel: !0
}),
captured: v({
onTouchCancelCapture: !0
})
}
},
touchEnd: {
phasedRegistrationNames: {
bubbled: v({
onTouchEnd: !0
}),
captured: v({
onTouchEndCapture: !0
})
}
},
touchMove: {
phasedRegistrationNames: {
bubbled: v({
onTouchMove: !0
}),
captured: v({
onTouchMoveCapture: !0
})
}
},
touchStart: {
phasedRegistrationNames: {
bubbled: v({
onTouchStart: !0
}),
captured: v({
onTouchStartCapture: !0
})
}
},
volumeChange: {
phasedRegistrationNames: {
bubbled: v({
onVolumeChange: !0
}),
captured: v({
onVolumeChangeCapture: !0
})
}
},
waiting: {
phasedRegistrationNames: {
bubbled: v({
onWaiting: !0
}),
captured: v({
onWaitingCapture: !0
})
}
},
wheel: {
phasedRegistrationNames: {
bubbled: v({
onWheel: !0
}),
captured: v({
onWheelCapture: !0
})
}
}
}, T = {
topAbort: S.abort,
topBlur: S.blur,
topCanPlay: S.canPlay,
topCanPlayThrough: S.canPlayThrough,
topClick: S.click,
topContextMenu: S.contextMenu,
topCopy: S.copy,
topCut: S.cut,
topDoubleClick: S.doubleClick,
topDrag: S.drag,
topDragEnd: S.dragEnd,
topDragEnter: S.dragEnter,
topDragExit: S.dragExit,
topDragLeave: S.dragLeave,
topDragOver: S.dragOver,
topDragStart: S.dragStart,
topDrop: S.drop,
topDurationChange: S.durationChange,
topEmptied: S.emptied,
topEncrypted: S.encrypted,
topEnded: S.ended,
topError: S.error,
topFocus: S.focus,
topInput: S.input,
topKeyDown: S.keyDown,
topKeyPress: S.keyPress,
topKeyUp: S.keyUp,
topLoad: S.load,
topLoadedData: S.loadedData,
topLoadedMetadata: S.loadedMetadata,
topLoadStart: S.loadStart,
topMouseDown: S.mouseDown,
topMouseMove: S.mouseMove,
topMouseOut: S.mouseOut,
topMouseOver: S.mouseOver,
topMouseUp: S.mouseUp,
topPaste: S.paste,
topPause: S.pause,
topPlay: S.play,
topPlaying: S.playing,
topProgress: S.progress,
topRateChange: S.rateChange,
topReset: S.reset,
topScroll: S.scroll,
topSeeked: S.seeked,
topSeeking: S.seeking,
topStalled: S.stalled,
topSubmit: S.submit,
topSuspend: S.suspend,
topTimeUpdate: S.timeUpdate,
topTouchCancel: S.touchCancel,
topTouchEnd: S.touchEnd,
topTouchMove: S.touchMove,
topTouchStart: S.touchStart,
topVolumeChange: S.volumeChange,
topWaiting: S.waiting,
topWheel: S.wheel
};
for (var w in T) T[w].dependencies = [ w ];
var E = v({
onClick: null
}), I = {}, C = {
eventTypes: S,
extractEvents: function(e, t, n, r, o) {
var i = T[e];
if (!i) return null;
var g;
switch (e) {
case _.topAbort:
case _.topCanPlay:
case _.topCanPlayThrough:
case _.topDurationChange:
case _.topEmptied:
case _.topEncrypted:
case _.topEnded:
case _.topError:
case _.topInput:
case _.topLoad:
case _.topLoadedData:
case _.topLoadedMetadata:
case _.topLoadStart:
case _.topPause:
case _.topPlay:
case _.topPlaying:
case _.topProgress:
case _.topRateChange:
case _.topReset:
case _.topSeeked:
case _.topSeeking:
case _.topStalled:
case _.topSubmit:
case _.topSuspend:
case _.topTimeUpdate:
case _.topVolumeChange:
case _.topWaiting:
g = l;
break;

case _.topKeyPress:
if (0 === m(r)) return null;

case _.topKeyDown:
case _.topKeyUp:
g = c;
break;

case _.topBlur:
case _.topFocus:
g = u;
break;

case _.topClick:
if (2 === r.button) return null;

case _.topContextMenu:
case _.topDoubleClick:
case _.topMouseDown:
case _.topMouseMove:
case _.topMouseOut:
case _.topMouseOver:
case _.topMouseUp:
g = p;
break;

case _.topDrag:
case _.topDragEnd:
case _.topDragEnter:
case _.topDragExit:
case _.topDragLeave:
case _.topDragOver:
case _.topDragStart:
case _.topDrop:
g = f;
break;

case _.topTouchCancel:
case _.topTouchEnd:
case _.topTouchMove:
case _.topTouchStart:
g = d;
break;

case _.topScroll:
g = h;
break;

case _.topWheel:
g = y;
break;

case _.topCopy:
case _.topCut:
case _.topPaste:
g = s;
}
g ? void 0 : b(!1);
var v = g.getPooled(i, n, r, o);
return a.accumulateTwoPhaseDispatches(v), v;
},
didPutListener: function(e, t, n) {
if (t === E) {
var r = i.getNode(e);
I[e] || (I[e] = o.listen(r, "click", g));
}
},
willDeleteListener: function(e, t) {
t === E && (I[e].remove(), delete I[e]);
}
};
e.exports = C;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(140), a = {
clipboardData: function(e) {
return "clipboardData" in e ? e.clipboardData : window.clipboardData;
}
};
o.augmentClass(r, a), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(140), a = {
data: null
};
o.augmentClass(r, a), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(240), a = {
dataTransfer: null
};
o.augmentClass(r, a), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(200), a = {
relatedTarget: null
};
o.augmentClass(r, a), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(140), a = {
data: null
};
o.augmentClass(r, a), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(200), a = n(334), i = n(994), s = n(335), l = {
key: i,
location: null,
ctrlKey: null,
shiftKey: null,
altKey: null,
metaKey: null,
repeat: null,
locale: null,
getModifierState: s,
charCode: function(e) {
return "keypress" === e.type ? a(e) : 0;
},
keyCode: function(e) {
return "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0;
},
which: function(e) {
return "keypress" === e.type ? a(e) : "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0;
}
};
o.augmentClass(r, l), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(200), a = n(335), i = {
touches: null,
targetTouches: null,
changedTouches: null,
altKey: null,
metaKey: null,
ctrlKey: null,
shiftKey: null,
getModifierState: a
};
o.augmentClass(r, i), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(240), a = {
deltaX: function(e) {
return "deltaX" in e ? e.deltaX : "wheelDeltaX" in e ? -e.wheelDeltaX : 0;
},
deltaY: function(e) {
return "deltaY" in e ? e.deltaY : "wheelDeltaY" in e ? -e.wheelDeltaY : "wheelDelta" in e ? -e.wheelDelta : 0;
},
deltaZ: null,
deltaMode: null
};
o.augmentClass(r, a), e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
for (var t = 1, n = 0, o = 0, a = e.length, i = -4 & a; i > o; ) {
for (;o < Math.min(o + 4096, i); o += 4) n += (t += e.charCodeAt(o)) + (t += e.charCodeAt(o + 1)) + (t += e.charCodeAt(o + 2)) + (t += e.charCodeAt(o + 3));
t %= r, n %= r;
}
for (;a > o; o++) n += t += e.charCodeAt(o);
return t %= r, n %= r, t | n << 16;
}
var r = 65521;
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e, t) {
var n = null == t || "boolean" == typeof t || "" === t;
if (n) return "";
var r = isNaN(t);
return r || 0 === t || a.hasOwnProperty(e) && a[e] ? "" + t : ("string" == typeof t && (t = t.trim()), 
t + "px");
}
var o = n(504), a = o.isUnitlessNumber;
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r, o) {
return o;
}
n(38), n(40);
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
if (e.key) {
var t = a[e.key] || e.key;
if ("Unidentified" !== t) return t;
}
if ("keypress" === e.type) {
var n = o(e);
return 13 === n ? "Enter" : String.fromCharCode(n);
}
return "keydown" === e.type || "keyup" === e.type ? i[e.keyCode] || "Unidentified" : "";
}
var o = n(334), a = {
Esc: "Escape",
Spacebar: " ",
Left: "ArrowLeft",
Up: "ArrowUp",
Right: "ArrowRight",
Down: "ArrowDown",
Del: "Delete",
Win: "OS",
Menu: "ContextMenu",
Apps: "ContextMenu",
Scroll: "ScrollLock",
MozPrintableKey: "Unidentified"
}, i = {
8: "Backspace",
9: "Tab",
12: "Clear",
13: "Enter",
16: "Shift",
17: "Control",
18: "Alt",
19: "Pause",
20: "CapsLock",
27: "Escape",
32: " ",
33: "PageUp",
34: "PageDown",
35: "End",
36: "Home",
37: "ArrowLeft",
38: "ArrowUp",
39: "ArrowRight",
40: "ArrowDown",
45: "Insert",
46: "Delete",
112: "F1",
113: "F2",
114: "F3",
115: "F4",
116: "F5",
117: "F6",
118: "F7",
119: "F8",
120: "F9",
121: "F10",
122: "F11",
123: "F12",
144: "NumLock",
145: "ScrollLock",
224: "Meta"
};
e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
for (;e && e.firstChild; ) e = e.firstChild;
return e;
}
function r(e) {
for (;e; ) {
if (e.nextSibling) return e.nextSibling;
e = e.parentNode;
}
}
function o(e, t) {
for (var o = n(e), a = 0, i = 0; o; ) {
if (3 === o.nodeType) {
if (i = a + o.textContent.length, t >= a && i >= t) return {
node: o,
offset: t - a
};
a = i;
}
o = n(r(o));
}
}
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
return o.isValidElement(e) ? void 0 : a(!1), e;
}
var o = n(71), a = n(32);
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
return '"' + o(e) + '"';
}
var o = n(242);
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(72);
e.exports = r.renderSubtreeIntoContainer;
} ]);
/*! accept_exclusive_keywords_start*/
//# sourceMappingURL=http://collector.ops.dice.se/artifacts/sparta-client/sources/release-bf4pc-bf1dlc1/warsaw/ALL/bundle-release-bf4pc-bf1dlc1_11296_3284083e_warsaw_all_prod.js.map
/*! accept_exclusive_keywords_end */