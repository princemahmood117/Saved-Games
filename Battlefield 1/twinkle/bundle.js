/* Twinkle Signature v1 LJVCgGVZMrM47QPTB646/lTm/vTU3+WkrZ055LX1NHRdtFy1DAmV7FSndTctqA5q7Uil0HEAP+hGqn6/YvxrBQ== *//*!
 *   Version: release-bf1-xpack0_9198_4bcc0069_tunguska_all_prod
 *   Build #: 9198
 *  Revision: 4bcc0069c590b7dd2ee00ee692c00d47d02b1335
 *    Branch: release-bf1-xpack0
 *   Channel: tunguska
 *  Platform: all
 *    Locale: en-us
 * Timestamp: 2016-12-03 12:34:31 UTC
 */
!function(e) {
function t(r) {
if (n[r]) return n[r].exports;
var o = n[r] = {
exports: {},
id: r,
loaded: !1
};
return e[r].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports;
}
var n = {};
return t.m = e, t.c = n, t.p = "", t(0);
}([ function(e, t, n) {
e.exports = n(853);
}, function(e, t, n) {
"use strict";
e.exports = n(491);
}, function(e, t, n) {
"use strict";
function r(e) {
return e + "_" + ee++;
}
var o = n(882).init;
t.init = o;
var a = n(873).AnimatedSurface;
t.AnimatedSurface = a;
var i = n(890);
t.hasSurfaceBounds = i;
var s = n(891);
t.lifecycleProfiler = s;
var l = n(227).profiler;
t.profiler = l;
var u = n(226);
t.perfFlags = u;
var p = n(133).TweenBatching;
t.TweenBatching = p;
var c = n(225);
t.Tween = c;
var f = n(889);
t.video = f;
var d = n(485).getTime;
t.now = d;
var h = n(486);
t.ActionWrapper = h;
var y = n(481).frostbite;
t.frostbite = y;
var g = n(478);
t.TwinkleMouseEventChain = g;
var m = n(315);
t.eventsLookup = m;
var b = n(482);
t.inputHandler = b;
var v = n(151);
t.renderer = v;
var _ = n(483);
t.kvstorage = _;
var S = n(357);
t.base64 = S;
var w = n(875), T = w.createStyleSheet;
t.createStyleSheet = T;
var C = w.createStyle;
t.createStyle = C;
var E = n(316), I = E.httpRequest;
t.httpRequest = I;
var P = E.HTTP_METHODS;
t.HTTP_METHODS = P;
var O = n(484).loadAssetRequest;
t.loadAssetRequest = O;
var A = n(888), k = A.render;
t.render = k;
var R = A.getRootId;
t.getRootId = R;
var x = n(184), M = x.getBoundsSync;
t.getBoundsSync = M;
var N = x.getMultipleBoundsSync;
t.getMultipleBoundsSync = N;
var $ = n(79);
t.options = $.options;
var D = n(45);
t.Native = D.Native;
var U = n(362);
t.testElement = U;
var L = n(569);
t.console = L;
var F = n(202);
t.texture = F.textureHandler;
var G = n(108);
t.getBuildInfo = G.getBuildInfo;
var j = n(253);
t.Bounds = j.Bounds;
var B = n(363);
t.Point = B.Point;
var H = n(109);
t.events = H;
var V = n(580);
t.Sound = V.Sound;
var z = n(202);
t.TexturePreloader = z.TexturePreloader;
var W = n(579);
t.particles = W;
var q = n(251);
t.focus = q;
var K = n(359);
t.Focusable = K.Focusable;
var X = n(581);
t.surfaceChain = X;
var Y = l.measure;
t.measure = Y;
var J = function(e, t) {
$.options.urlHook && (t = $.options.urlHook(t)), D.Native.loadFont(e, t);
};
t.loadFont = J;
var Q = function(e) {
return G.getBuildInfo().hasVerifyCodeSignature() ? D.Native.verifyCodeSignatureSync(e) : !0;
};
t.verifyCodeSignature = Q;
var Z = function(e) {
return q.focusable(e);
};
t.focusable = Z;
var ee = 0;
t.autoId = r;
}, function(e, t) {
function n(e, t) {
if (e === t) return !1;
if (!e && !t) return !1;
if (!e && t) return !0;
if (e && !t) return !0;
var n = Object.keys(e), r = Object.keys(t);
if (n.length !== r.length) return !0;
var o, a;
for (o = 0; o < n.length; o++) {
a = n[o];
var i = e[a], s = t[a];
if (i !== s) return !0;
}
return !1;
}
function r(e) {
return function t(e, r) {
return e.prototype.shouldComponentUpdate || (e.prototype.shouldComponentUpdate = function o(e, t) {
return n(e, this.props) || n(t, this.state);
}), e;
};
}
t.__esModule = !0, t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
var r, o;
(function() {
var n = this, a = n._, i = Array.prototype, s = Object.prototype, l = Function.prototype, u = i.push, p = i.slice, c = i.concat, f = s.toString, d = s.hasOwnProperty, h = Array.isArray, y = Object.keys, g = l.bind, m = function(e) {
return e instanceof m ? e : this instanceof m ? void (this._wrapped = e) : new m(e);
};
"undefined" != typeof e && e.exports && (t = e.exports = m), t._ = m, m.VERSION = "1.7.0";
var b = function(e, t, n) {
if (void 0 === t) return e;
switch (null == n ? 3 : n) {
case 1:
return function(n) {
return e.call(t, n);
};

case 2:
return function(n, r) {
return e.call(t, n, r);
};

case 3:
return function(n, r, o) {
return e.call(t, n, r, o);
};

case 4:
return function(n, r, o, a) {
return e.call(t, n, r, o, a);
};
}
return function() {
return e.apply(t, arguments);
};
};
m.iteratee = function(e, t, n) {
return null == e ? m.identity : m.isFunction(e) ? b(e, t, n) : m.isObject(e) ? m.matches(e) : m.property(e);
}, m.each = m.forEach = function(e, t, n) {
if (null == e) return e;
t = b(t, n);
var r, o = e.length;
if (o === +o) for (r = 0; o > r; r++) t(e[r], r, e); else {
var a = m.keys(e);
for (r = 0, o = a.length; o > r; r++) t(e[a[r]], a[r], e);
}
return e;
}, m.map = m.collect = function(e, t, n) {
if (null == e) return [];
t = m.iteratee(t, n);
for (var r, o = e.length !== +e.length && m.keys(e), a = (o || e).length, i = Array(a), s = 0; a > s; s++) r = o ? o[s] : s, 
i[s] = t(e[r], r, e);
return i;
};
var v = "Reduce of empty array with no initial value";
m.reduce = m.foldl = m.inject = function(e, t, n, r) {
null == e && (e = []), t = b(t, r, 4);
var o, a = e.length !== +e.length && m.keys(e), i = (a || e).length, s = 0;
if (arguments.length < 3) {
if (!i) throw new TypeError(v);
n = e[a ? a[s++] : s++];
}
for (;i > s; s++) o = a ? a[s] : s, n = t(n, e[o], o, e);
return n;
}, m.reduceRight = m.foldr = function(e, t, n, r) {
null == e && (e = []), t = b(t, r, 4);
var o, a = e.length !== +e.length && m.keys(e), i = (a || e).length;
if (arguments.length < 3) {
if (!i) throw new TypeError(v);
n = e[a ? a[--i] : --i];
}
for (;i--; ) o = a ? a[i] : i, n = t(n, e[o], o, e);
return n;
}, m.find = m.detect = function(e, t, n) {
var r;
return t = m.iteratee(t, n), m.some(e, function(e, n, o) {
return t(e, n, o) ? (r = e, !0) : void 0;
}), r;
}, m.filter = m.select = function(e, t, n) {
var r = [];
return null == e ? r : (t = m.iteratee(t, n), m.each(e, function(e, n, o) {
t(e, n, o) && r.push(e);
}), r);
}, m.reject = function(e, t, n) {
return m.filter(e, m.negate(m.iteratee(t)), n);
}, m.every = m.all = function(e, t, n) {
if (null == e) return !0;
t = m.iteratee(t, n);
var r, o, a = e.length !== +e.length && m.keys(e), i = (a || e).length;
for (r = 0; i > r; r++) if (o = a ? a[r] : r, !t(e[o], o, e)) return !1;
return !0;
}, m.some = m.any = function(e, t, n) {
if (null == e) return !1;
t = m.iteratee(t, n);
var r, o, a = e.length !== +e.length && m.keys(e), i = (a || e).length;
for (r = 0; i > r; r++) if (o = a ? a[r] : r, t(e[o], o, e)) return !0;
return !1;
}, m.contains = m.include = function(e, t) {
return null == e ? !1 : (e.length !== +e.length && (e = m.values(e)), m.indexOf(e, t) >= 0);
}, m.invoke = function(e, t) {
var n = p.call(arguments, 2), r = m.isFunction(t);
return m.map(e, function(e) {
return (r ? t : e[t]).apply(e, n);
});
}, m.pluck = function(e, t) {
return m.map(e, m.property(t));
}, m.where = function(e, t) {
return m.filter(e, m.matches(t));
}, m.findWhere = function(e, t) {
return m.find(e, m.matches(t));
}, m.max = function(e, t, n) {
var r, o, a = -(1 / 0), i = -(1 / 0);
if (null == t && null != e) {
e = e.length === +e.length ? e : m.values(e);
for (var s = 0, l = e.length; l > s; s++) r = e[s], r > a && (a = r);
} else t = m.iteratee(t, n), m.each(e, function(e, n, r) {
o = t(e, n, r), (o > i || o === -(1 / 0) && a === -(1 / 0)) && (a = e, i = o);
});
return a;
}, m.min = function(e, t, n) {
var r, o, a = 1 / 0, i = 1 / 0;
if (null == t && null != e) {
e = e.length === +e.length ? e : m.values(e);
for (var s = 0, l = e.length; l > s; s++) r = e[s], a > r && (a = r);
} else t = m.iteratee(t, n), m.each(e, function(e, n, r) {
o = t(e, n, r), (i > o || o === 1 / 0 && a === 1 / 0) && (a = e, i = o);
});
return a;
}, m.shuffle = function(e) {
for (var t, n = e && e.length === +e.length ? e : m.values(e), r = n.length, o = Array(r), a = 0; r > a; a++) t = m.random(0, a), 
t !== a && (o[a] = o[t]), o[t] = n[a];
return o;
}, m.sample = function(e, t, n) {
return null == t || n ? (e.length !== +e.length && (e = m.values(e)), e[m.random(e.length - 1)]) : m.shuffle(e).slice(0, Math.max(0, t));
}, m.sortBy = function(e, t, n) {
return t = m.iteratee(t, n), m.pluck(m.map(e, function(e, n, r) {
return {
value: e,
index: n,
criteria: t(e, n, r)
};
}).sort(function(e, t) {
var n = e.criteria, r = t.criteria;
if (n !== r) {
if (n > r || void 0 === n) return 1;
if (r > n || void 0 === r) return -1;
}
return e.index - t.index;
}), "value");
};
var _ = function(e) {
return function(t, n, r) {
var o = {};
return n = m.iteratee(n, r), m.each(t, function(r, a) {
var i = n(r, a, t);
e(o, r, i);
}), o;
};
};
m.groupBy = _(function(e, t, n) {
m.has(e, n) ? e[n].push(t) : e[n] = [ t ];
}), m.indexBy = _(function(e, t, n) {
e[n] = t;
}), m.countBy = _(function(e, t, n) {
m.has(e, n) ? e[n]++ : e[n] = 1;
}), m.sortedIndex = function(e, t, n, r) {
n = m.iteratee(n, r, 1);
for (var o = n(t), a = 0, i = e.length; i > a; ) {
var s = a + i >>> 1;
n(e[s]) < o ? a = s + 1 : i = s;
}
return a;
}, m.toArray = function(e) {
return e ? m.isArray(e) ? p.call(e) : e.length === +e.length ? m.map(e, m.identity) : m.values(e) : [];
}, m.size = function(e) {
return null == e ? 0 : e.length === +e.length ? e.length : m.keys(e).length;
}, m.partition = function(e, t, n) {
t = m.iteratee(t, n);
var r = [], o = [];
return m.each(e, function(e, n, a) {
(t(e, n, a) ? r : o).push(e);
}), [ r, o ];
}, m.first = m.head = m.take = function(e, t, n) {
return null == e ? void 0 : null == t || n ? e[0] : 0 > t ? [] : p.call(e, 0, t);
}, m.initial = function(e, t, n) {
return p.call(e, 0, Math.max(0, e.length - (null == t || n ? 1 : t)));
}, m.last = function(e, t, n) {
return null == e ? void 0 : null == t || n ? e[e.length - 1] : p.call(e, Math.max(e.length - t, 0));
}, m.rest = m.tail = m.drop = function(e, t, n) {
return p.call(e, null == t || n ? 1 : t);
}, m.compact = function(e) {
return m.filter(e, m.identity);
};
var S = function(e, t, n, r) {
if (t && m.every(e, m.isArray)) return c.apply(r, e);
for (var o = 0, a = e.length; a > o; o++) {
var i = e[o];
m.isArray(i) || m.isArguments(i) ? t ? u.apply(r, i) : S(i, t, n, r) : n || r.push(i);
}
return r;
};
m.flatten = function(e, t) {
return S(e, t, !1, []);
}, m.without = function(e) {
return m.difference(e, p.call(arguments, 1));
}, m.uniq = m.unique = function(e, t, n, r) {
if (null == e) return [];
m.isBoolean(t) || (r = n, n = t, t = !1), null != n && (n = m.iteratee(n, r));
for (var o = [], a = [], i = 0, s = e.length; s > i; i++) {
var l = e[i];
if (t) i && a === l || o.push(l), a = l; else if (n) {
var u = n(l, i, e);
m.indexOf(a, u) < 0 && (a.push(u), o.push(l));
} else m.indexOf(o, l) < 0 && o.push(l);
}
return o;
}, m.union = function() {
return m.uniq(S(arguments, !0, !0, []));
}, m.intersection = function(e) {
if (null == e) return [];
for (var t = [], n = arguments.length, r = 0, o = e.length; o > r; r++) {
var a = e[r];
if (!m.contains(t, a)) {
for (var i = 1; n > i && m.contains(arguments[i], a); i++) ;
i === n && t.push(a);
}
}
return t;
}, m.difference = function(e) {
var t = S(p.call(arguments, 1), !0, !0, []);
return m.filter(e, function(e) {
return !m.contains(t, e);
});
}, m.zip = function(e) {
if (null == e) return [];
for (var t = m.max(arguments, "length").length, n = Array(t), r = 0; t > r; r++) n[r] = m.pluck(arguments, r);
return n;
}, m.object = function(e, t) {
if (null == e) return {};
for (var n = {}, r = 0, o = e.length; o > r; r++) t ? n[e[r]] = t[r] : n[e[r][0]] = e[r][1];
return n;
}, m.indexOf = function(e, t, n) {
if (null == e) return -1;
var r = 0, o = e.length;
if (n) {
if ("number" != typeof n) return r = m.sortedIndex(e, t), e[r] === t ? r : -1;
r = 0 > n ? Math.max(0, o + n) : n;
}
for (;o > r; r++) if (e[r] === t) return r;
return -1;
}, m.lastIndexOf = function(e, t, n) {
if (null == e) return -1;
var r = e.length;
for ("number" == typeof n && (r = 0 > n ? r + n + 1 : Math.min(r, n + 1)); --r >= 0; ) if (e[r] === t) return r;
return -1;
}, m.range = function(e, t, n) {
arguments.length <= 1 && (t = e || 0, e = 0), n = n || 1;
for (var r = Math.max(Math.ceil((t - e) / n), 0), o = Array(r), a = 0; r > a; a++, 
e += n) o[a] = e;
return o;
};
var w = function() {};
m.bind = function(e, t) {
var n, r;
if (g && e.bind === g) return g.apply(e, p.call(arguments, 1));
if (!m.isFunction(e)) throw new TypeError("Bind must be called on a function");
return n = p.call(arguments, 2), r = function() {
if (!(this instanceof r)) return e.apply(t, n.concat(p.call(arguments)));
w.prototype = e.prototype;
var o = new w();
w.prototype = null;
var a = e.apply(o, n.concat(p.call(arguments)));
return m.isObject(a) ? a : o;
};
}, m.partial = function(e) {
var t = p.call(arguments, 1);
return function() {
for (var n = 0, r = t.slice(), o = 0, a = r.length; a > o; o++) r[o] === m && (r[o] = arguments[n++]);
for (;n < arguments.length; ) r.push(arguments[n++]);
return e.apply(this, r);
};
}, m.bindAll = function(e) {
var t, n, r = arguments.length;
if (1 >= r) throw new Error("bindAll must be passed function names");
for (t = 1; r > t; t++) n = arguments[t], e[n] = m.bind(e[n], e);
return e;
}, m.memoize = function(e, t) {
var n = function(r) {
var o = n.cache, a = t ? t.apply(this, arguments) : r;
return m.has(o, a) || (o[a] = e.apply(this, arguments)), o[a];
};
return n.cache = {}, n;
}, m.delay = function(e, t) {
var n = p.call(arguments, 2);
return setTimeout(function() {
return e.apply(null, n);
}, t);
}, m.defer = function(e) {
return m.delay.apply(m, [ e, 1 ].concat(p.call(arguments, 1)));
}, m.throttle = function(e, t, n) {
var r, o, a, i = null, s = 0;
n || (n = {});
var l = function() {
s = n.leading === !1 ? 0 : m.now(), i = null, a = e.apply(r, o), i || (r = o = null);
};
return function() {
var u = m.now();
s || n.leading !== !1 || (s = u);
var p = t - (u - s);
return r = this, o = arguments, 0 >= p || p > t ? (clearTimeout(i), i = null, s = u, 
a = e.apply(r, o), i || (r = o = null)) : i || n.trailing === !1 || (i = setTimeout(l, p)), 
a;
};
}, m.debounce = function(e, t, n) {
var r, o, a, i, s, l = function() {
var u = m.now() - i;
t > u && u > 0 ? r = setTimeout(l, t - u) : (r = null, n || (s = e.apply(a, o), 
r || (a = o = null)));
};
return function() {
a = this, o = arguments, i = m.now();
var u = n && !r;
return r || (r = setTimeout(l, t)), u && (s = e.apply(a, o), a = o = null), s;
};
}, m.wrap = function(e, t) {
return m.partial(t, e);
}, m.negate = function(e) {
return function() {
return !e.apply(this, arguments);
};
}, m.compose = function() {
var e = arguments, t = e.length - 1;
return function() {
for (var n = t, r = e[t].apply(this, arguments); n--; ) r = e[n].call(this, r);
return r;
};
}, m.after = function(e, t) {
return function() {
return --e < 1 ? t.apply(this, arguments) : void 0;
};
}, m.before = function(e, t) {
var n;
return function() {
return --e > 0 ? n = t.apply(this, arguments) : t = null, n;
};
}, m.once = m.partial(m.before, 2), m.keys = function(e) {
if (!m.isObject(e)) return [];
if (y) return y(e);
var t = [];
for (var n in e) m.has(e, n) && t.push(n);
return t;
}, m.values = function(e) {
for (var t = m.keys(e), n = t.length, r = Array(n), o = 0; n > o; o++) r[o] = e[t[o]];
return r;
}, m.pairs = function(e) {
for (var t = m.keys(e), n = t.length, r = Array(n), o = 0; n > o; o++) r[o] = [ t[o], e[t[o]] ];
return r;
}, m.invert = function(e) {
for (var t = {}, n = m.keys(e), r = 0, o = n.length; o > r; r++) t[e[n[r]]] = n[r];
return t;
}, m.functions = m.methods = function(e) {
var t = [];
for (var n in e) m.isFunction(e[n]) && t.push(n);
return t.sort();
}, m.extend = function(e) {
if (!m.isObject(e)) return e;
for (var t, n, r = 1, o = arguments.length; o > r; r++) {
t = arguments[r];
for (n in t) d.call(t, n) && (e[n] = t[n]);
}
return e;
}, m.pick = function(e, t, n) {
var r, o = {};
if (null == e) return o;
if (m.isFunction(t)) {
t = b(t, n);
for (r in e) {
var a = e[r];
t(a, r, e) && (o[r] = a);
}
} else {
var i = c.apply([], p.call(arguments, 1));
e = new Object(e);
for (var s = 0, l = i.length; l > s; s++) r = i[s], r in e && (o[r] = e[r]);
}
return o;
}, m.omit = function(e, t, n) {
if (m.isFunction(t)) t = m.negate(t); else {
var r = m.map(c.apply([], p.call(arguments, 1)), String);
t = function(e, t) {
return !m.contains(r, t);
};
}
return m.pick(e, t, n);
}, m.defaults = function(e) {
if (!m.isObject(e)) return e;
for (var t = 1, n = arguments.length; n > t; t++) {
var r = arguments[t];
for (var o in r) void 0 === e[o] && (e[o] = r[o]);
}
return e;
}, m.clone = function(e) {
return m.isObject(e) ? m.isArray(e) ? e.slice() : m.extend({}, e) : e;
}, m.tap = function(e, t) {
return t(e), e;
};
var T = function(e, t, n, r) {
if (e === t) return 0 !== e || 1 / e === 1 / t;
if (null == e || null == t) return e === t;
e instanceof m && (e = e._wrapped), t instanceof m && (t = t._wrapped);
var o = f.call(e);
if (o !== f.call(t)) return !1;
switch (o) {
case "[object RegExp]":
case "[object String]":
return "" + e == "" + t;

case "[object Number]":
return +e !== +e ? +t !== +t : 0 === +e ? 1 / +e === 1 / t : +e === +t;

case "[object Date]":
case "[object Boolean]":
return +e === +t;
}
if ("object" != typeof e || "object" != typeof t) return !1;
for (var a = n.length; a--; ) if (n[a] === e) return r[a] === t;
var i = e.constructor, s = t.constructor;
if (i !== s && "constructor" in e && "constructor" in t && !(m.isFunction(i) && i instanceof i && m.isFunction(s) && s instanceof s)) return !1;
n.push(e), r.push(t);
var l, u;
if ("[object Array]" === o) {
if (l = e.length, u = l === t.length) for (;l-- && (u = T(e[l], t[l], n, r)); ) ;
} else {
var p, c = m.keys(e);
if (l = c.length, u = m.keys(t).length === l) for (;l-- && (p = c[l], u = m.has(t, p) && T(e[p], t[p], n, r)); ) ;
}
return n.pop(), r.pop(), u;
};
m.isEqual = function(e, t) {
return T(e, t, [], []);
}, m.isEmpty = function(e) {
if (null == e) return !0;
if (m.isArray(e) || m.isString(e) || m.isArguments(e)) return 0 === e.length;
for (var t in e) if (m.has(e, t)) return !1;
return !0;
}, m.isElement = function(e) {
return !(!e || 1 !== e.nodeType);
}, m.isArray = h || function(e) {
return "[object Array]" === f.call(e);
}, m.isObject = function(e) {
var t = typeof e;
return "function" === t || "object" === t && !!e;
}, m.each([ "Arguments", "Function", "String", "Number", "Date", "RegExp" ], function(e) {
m["is" + e] = function(t) {
return f.call(t) === "[object " + e + "]";
};
}), m.isArguments(arguments) || (m.isArguments = function(e) {
return m.has(e, "callee");
}), m.isFunction = function(e) {
return "function" == typeof e || !1;
}, m.isFinite = function(e) {
return isFinite(e) && !isNaN(parseFloat(e));
}, m.isNaN = function(e) {
return m.isNumber(e) && e !== +e;
}, m.isBoolean = function(e) {
return e === !0 || e === !1 || "[object Boolean]" === f.call(e);
}, m.isNull = function(e) {
return null === e;
}, m.isUndefined = function(e) {
return void 0 === e;
}, m.has = function(e, t) {
return null != e && d.call(e, t);
}, m.noConflict = function() {
return n._ = a, this;
}, m.identity = function(e) {
return e;
}, m.constant = function(e) {
return function() {
return e;
};
}, m.noop = function() {}, m.property = function(e) {
return function(t) {
return t[e];
};
}, m.matches = function(e) {
var t = m.pairs(e), n = t.length;
return function(e) {
if (null == e) return !n;
e = new Object(e);
for (var r = 0; n > r; r++) {
var o = t[r], a = o[0];
if (o[1] !== e[a] || !(a in e)) return !1;
}
return !0;
};
}, m.times = function(e, t, n) {
var r = Array(Math.max(0, e));
t = b(t, n, 1);
for (var o = 0; e > o; o++) r[o] = t(o);
return r;
}, m.random = function(e, t) {
return null == t && (t = e, e = 0), e + Math.floor(Math.random() * (t - e + 1));
}, m.now = Date.now || function() {
return new Date().getTime();
};
var C = {
"&": "&amp;",
"<": "&lt;",
">": "&gt;",
'"': "&quot;",
"'": "&#x27;",
"`": "&#x60;"
}, E = m.invert(C), I = function(e) {
var t = function(t) {
return e[t];
}, n = "(?:" + m.keys(e).join("|") + ")", r = RegExp(n), o = RegExp(n, "g");
return function(e) {
return e = null == e ? "" : "" + e, r.test(e) ? e.replace(o, t) : e;
};
};
m.escape = I(C), m.unescape = I(E), m.result = function(e, t) {
if (null == e) return void 0;
var n = e[t];
return m.isFunction(n) ? e[t]() : n;
};
var P = 0;
m.uniqueId = function(e) {
var t = ++P + "";
return e ? e + t : t;
}, m.templateSettings = {
evaluate: /<%([\s\S]+?)%>/g,
interpolate: /<%=([\s\S]+?)%>/g,
escape: /<%-([\s\S]+?)%>/g
};
var O = /(.)^/, A = {
"'": "'",
"\\": "\\",
"\r": "r",
"\n": "n",
"\u2028": "u2028",
"\u2029": "u2029"
}, k = /\\|'|\r|\n|\u2028|\u2029/g, R = function(e) {
return "\\" + A[e];
};
m.template = function(e, t, n) {
!t && n && (t = n), t = m.defaults({}, t, m.templateSettings);
var r = RegExp([ (t.escape || O).source, (t.interpolate || O).source, (t.evaluate || O).source ].join("|") + "|$", "g"), o = 0, a = "__p+='";
e.replace(r, function(t, n, r, i, s) {
return a += e.slice(o, s).replace(k, R), o = s + t.length, n ? a += "'+\n((__t=(" + n + "))==null?'':_.escape(__t))+\n'" : r ? a += "'+\n((__t=(" + r + "))==null?'':__t)+\n'" : i && (a += "';\n" + i + "\n__p+='"), 
t;
}), a += "';\n", t.variable || (a = "with(obj||{}){\n" + a + "}\n"), a = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + a + "return __p;\n";
try {
var i = new Function(t.variable || "obj", "_", a);
} catch (s) {
throw s.source = a, s;
}
var l = function(e) {
return i.call(this, e, m);
}, u = t.variable || "obj";
return l.source = "function(" + u + "){\n" + a + "}", l;
}, m.chain = function(e) {
var t = m(e);
return t._chain = !0, t;
};
var x = function(e) {
return this._chain ? m(e).chain() : e;
};
m.mixin = function(e) {
m.each(m.functions(e), function(t) {
var n = m[t] = e[t];
m.prototype[t] = function() {
var e = [ this._wrapped ];
return u.apply(e, arguments), x.call(this, n.apply(m, e));
};
});
}, m.mixin(m), m.each([ "pop", "push", "reverse", "shift", "sort", "splice", "unshift" ], function(e) {
var t = i[e];
m.prototype[e] = function() {
var n = this._wrapped;
return t.apply(n, arguments), "shift" !== e && "splice" !== e || 0 !== n.length || delete n[0], 
x.call(this, n);
};
}), m.each([ "concat", "join", "slice" ], function(e) {
var t = i[e];
m.prototype[e] = function() {
return x.call(this, t.apply(this._wrapped, arguments));
};
}), m.prototype.value = function() {
return this._wrapped;
}, r = [], o = function() {
return m;
}.apply(t, r), !(void 0 !== o && (e.exports = o));
}).call(this);
}, function(e, t, n) {
function __(e) {
return r.currentTranslations[e] || e;
}
var r = n(387);
e.exports = __;
}, function(e, t, n) {
(function(t) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e) {
return I.colSpan(e);
}
function i(e) {
return I.rowSpan(e);
}
function s(e) {
var t = A[e];
return t || (t = A[e] = _.createStyle("height" + e, {
height: i(e)
})), t;
}
function l(e) {
var t = k[e];
return t || (t = k[e] = _.createStyle("width" + e, {
width: a(e)
})), t;
}
function u(e) {
var t = e.height ? s(e.height) : null;
return h["default"].createElement("surface", c({
style: [ O.row ].concat(t, e.style)
}, e.surfaceProps ? e.surfaceProps : {}), e.children);
}
function p(e) {
var t = e.width ? l(e.width) : null, n = e.style && e.style.width ? O.colWithGutter : O.colWithoutGutter;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: e.children,
style: [ n ].concat(t, e.style)
},
_owner: null
};
}
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = o(d), y = n(791), g = o(y), m = n(181), b = o(m), v = n(2), _ = r(v), S = SpartaGlobals.bundleIsPC ? 8 : 10, w = 24, T = SpartaGlobals.bundleIsPC ? 125 : 97, C = 1384 / 1660, E = SpartaGlobals.bundleIsPC ? C * b["default"].safeZone.width : b["default"].safeZone.width, I = t.contentGrid = new g["default"](E, b["default"].safeZone.height, w, T, S, 0), P = new g["default"](b["default"].safeZone.width, b["default"].safeZone.height, w, T, S, 0), O = _.createStyleSheet({
row: {
margin: [ 0, 0, S, 0 ],
flexDirection: "row",
flexWrap: "nowrap"
},
colWithGutter: {
margin: [ 0, S, 0, 0 ],
flexDirection: "column",
flexWrap: "nowrap"
},
colWithoutGutter: {
margin: [ 0, 0, 0, 0 ],
flexDirection: "column",
flexWrap: "nowrap"
}
}), A = {}, k = {};
e.exports = {
ROWS: T,
COLUMNS: w,
GUTTER: S,
CELL_WIDTH: I.columnWidth,
CELL_HEIGHT: I.rowHeight,
getWidth: a,
getHeight: i,
Row: u,
Col: p,
window: P,
content: I
};
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return _(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), f = i(c), d = n(49), h = n(40), y = n(2), g = n(68), m = n(224), b = n(8), v = {
_$Text: {
displayName: "Text"
}
}, _ = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Text/Text.jsx",
components: v,
locals: [],
imports: []
}), S = b.observer(function(e, t) {
var n = h.getTextSizes(g.fontState.locale), r = {}, o = null, a = 0;
e.letterSpacing ? a = e.letterSpacing : t.routeConfig && t.routeConfig.fonts && t.routeConfig.fonts.letterSpacing && (a = t.routeConfig.fonts.letterSpacing), 
o = e.section ? e.section : t.routeConfig && t.routeConfig.gameId ? t.routeConfig.gameId : "generic", 
null !== o && g.fontState.fonts.hasOwnProperty(o) && (r = g.fontState.fonts[o]);
var i = e.size.toUpperCase(), s = r[e.type] ? r[e.type] : r.normal;
a = e.letterSpacing ? e.letterSpacing : m.getLetterSpacing(s);
var l = Array.isArray(e.style) ? Object.assign.apply(Object, [ {} ].concat(e.style)) : e.style, c = p({
fontSize: n[i],
fontFamily: s.name,
color: e.color,
textLetterSpacing: a
}, l);
return t.color && !c.color && (c.color = t.color), {
$$typeof: u,
type: "surface",
key: "Text",
ref: null,
props: {
onClick: e.onClick,
text: void 0 !== e.value ? e.value : "",
style: c
},
_owner: null
};
});
S.defaultProps = {
type: "normal",
size: "M"
}, S.propTypes = {
size: f["default"].PropTypes.string,
onClick: f["default"].PropTypes.func,
section: f["default"].PropTypes.string,
letterSpacing: f["default"].PropTypes.number
}, S.contextTypes = {
routeConfig: f["default"].PropTypes.instanceOf(d.Route),
color: f["default"].PropTypes.any
};
var w = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
return S(this.props, this.context);
};
var n = t;
return t = a("_$Text")(t) || t;
}(f["default"].Component);
w.propTypes = S.propTypes, w.defaultProps = S.defaultProps, w.contextTypes = S.contextTypes, 
t["default"] = y.perfFlags.STATELESS_ROUTE_TEXT ? S : w, e.exports = t["default"];
}, function(e, t, n) {
!function(t, r) {
e.exports = r(n(10), n(1));
}(this, function(e, t) {
return function(e) {
function t(r) {
if (n[r]) return n[r].exports;
var o = n[r] = {
exports: {},
id: r,
loaded: !1
};
return e[r].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports;
}
var n = {};
return t.m = e, t.c = n, t.p = "", t(0);
}([ function(e, t, n) {
"use strict";
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.reactiveComponent = t.PropTypes = t.propTypes = t.inject = t.Provider = t.trackComponents = t.componentByNodeRegistery = t.renderReporter = t.observer = void 0;
var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
}, i = arguments, s = n(1);
Object.defineProperty(t, "observer", {
enumerable: !0,
get: function() {
return s.observer;
}
}), Object.defineProperty(t, "renderReporter", {
enumerable: !0,
get: function() {
return s.renderReporter;
}
}), Object.defineProperty(t, "componentByNodeRegistery", {
enumerable: !0,
get: function() {
return s.componentByNodeRegistery;
}
}), Object.defineProperty(t, "trackComponents", {
enumerable: !0,
get: function() {
return s.trackComponents;
}
});
var l = n(9);
Object.defineProperty(t, "Provider", {
enumerable: !0,
get: function() {
return o(l)["default"];
}
});
var u = n(6);
Object.defineProperty(t, "inject", {
enumerable: !0,
get: function() {
return o(u)["default"];
}
});
var p = n(2), c = o(p), f = n(3), d = o(f), h = n(10), y = r(h), g = void 0;
if (g = "mobx-react/custom", !c["default"]) throw new Error(g + " requires the MobX package");
if (!d["default"]) throw new Error(g + " requires React to be available");
t.propTypes = y, t.PropTypes = y, t["default"] = e.exports, t.reactiveComponent = function() {
return console.warn("[mobx-react] `reactiveComponent` has been renamed to `observer` and will be removed in 1.1."), 
observer.apply(null, i);
}, "object" === ("undefined" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ ? "undefined" : a(__MOBX_DEVTOOLS_GLOBAL_HOOK__)) && __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(e.exports, c["default"]);
}, function(e, t, n) {
"use strict";
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return y["default"] ? y["default"].findDOMNode(e) : null;
}
function a(e) {
var t = o(e);
t && S && S.set(t, e), w.emit({
event: "render",
renderTime: e.__$mobRenderEnd - e.__$mobRenderStart,
totalTime: Date.now() - e.__$mobRenderStart,
component: e,
node: t
});
}
function i() {
if ("undefined" == typeof WeakMap) throw new Error("[mobx-react] tracking components is not supported in this browser.");
_ || (_ = !0);
}
function s(e, t) {
var n = e[t], r = T[t];
n ? e[t] = function() {
n.apply(this, arguments), r.apply(this, arguments);
} : e[t] = r;
}
function l(e, t) {
if ("string" == typeof e) throw new Error("Store names should be provided as array");
if (Array.isArray(e)) return t ? v["default"].apply(null, e)(l(t)) : function(t) {
return l(e, t);
};
var n = e;
if (!("function" != typeof n || n.prototype && n.prototype.render || n.isReactClass || d["default"].Component.isPrototypeOf(n))) return l(d["default"].createClass({
displayName: n.displayName || n.name,
propTypes: n.propTypes,
contextTypes: n.contextTypes,
getDefaultProps: function() {
return n.defaultProps;
},
render: function() {
return n.call(this, this.props, this.context);
}
}));
if (!n) throw new Error("Please pass a valid component to 'observer'");
var r = n.prototype || n;
return [ "componentWillMount", "componentWillUnmount", "componentDidMount", "componentDidUpdate" ].forEach(function(e) {
s(r, e);
}), r.shouldComponentUpdate || (r.shouldComponentUpdate = T.shouldComponentUpdate), 
n.isMobXReactObserver = !0, n;
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.renderReporter = t.componentByNodeRegistery = void 0;
var u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
};
t.trackComponents = i, t.observer = l;
var p = n(2), c = r(p), f = n(3), d = r(f), h = n(4), y = r(h), g = n(5), m = r(g), b = n(6), v = r(b), _ = !1, S = t.componentByNodeRegistery = "undefined" != typeof WeakMap ? new WeakMap() : void 0, w = t.renderReporter = new m["default"](), T = {
componentWillMount: function() {
var e = this, t = this.displayName || this.name || this.constructor && (this.constructor.displayName || this.constructor.name) || "<component>", n = this._reactInternalInstance && this._reactInternalInstance._rootNodeID, r = this.render.bind(this), o = null, a = !1, i = function() {
return o = new c["default"].Reaction(t + "#" + n + ".render()", function() {
a || (a = !0, "function" == typeof e.componentWillReact && e.componentWillReact(), 
e.__$mobxIsUnmounted !== !0 && d["default"].Component.prototype.forceUpdate.call(e));
}), s.$mobx = o, e.render = s, s();
}, s = function() {
a = !1;
var t = void 0;
return o.track(function() {
_ && (e.__$mobRenderStart = Date.now()), t = c["default"].extras.allowStateChanges(!1, r), 
_ && (e.__$mobRenderEnd = Date.now());
}), t;
};
this.render = i;
},
componentWillUnmount: function() {
if (this.render.$mobx && this.render.$mobx.dispose(), this.__$mobxIsUnmounted = !0, 
_) {
var e = o(this);
e && S && S["delete"](e), w.emit({
event: "destroy",
component: this,
node: e
});
}
},
componentDidMount: function() {
_ && a(this);
},
componentDidUpdate: function() {
_ && a(this);
},
shouldComponentUpdate: function(e, t) {
if (this.render.$mobx && this.render.$mobx.isScheduled() === !0) return !1;
if (this.state !== t) return !0;
var n = Object.keys(this.props);
if (n.length !== Object.keys(e).length) return !0;
for (var r = void 0, o = n.length - 1; r = n[o]; o--) {
var a = e[r];
if (a !== this.props[r]) return !0;
if (a && "object" === ("undefined" == typeof a ? "undefined" : u(a)) && !c["default"].isObservable(a)) return !0;
}
return !1;
}
};
}, function(t, n) {
t.exports = e;
}, function(e, n) {
e.exports = t;
}, function(e, t) {
e.exports = null;
}, function(e, t) {
"use strict";
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), o = function() {
function e() {
n(this, e), this.listeners = [];
}
return r(e, [ {
key: "on",
value: function(e) {
var t = this;
return this.listeners.push(e), function() {
var n = t.listeners.indexOf(e);
-1 !== n && t.listeners.splice(n, 1);
};
}
}, {
key: "emit",
value: function(e) {
this.listeners.forEach(function(t) {
return t(e);
});
}
} ]), e;
}();
t["default"] = o;
}, function(e, t, n) {
(function(e) {
"use strict";
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
var n = u["default"].createClass({
displayName: "MobXStoreInjector",
render: function() {
var n = this, r = {};
for (var o in this.props) this.props.hasOwnProperty(o) && (r[o] = this.props[o]);
var a = e(this.context.mobxStores || {}, r, this.context) || {};
for (var i in a) r[i] = a[i];
return r.ref = function(e) {
n.wrappedInstance = e;
}, u["default"].createElement(t, r);
}
});
return n.contextTypes = {
mobxStores: l.PropTypes.object
}, n.wrappedComponent = t, a(n, t), (0, c["default"])(n, t), n;
}
function a(t, n) {
"undefined" != typeof e && e.env && "production" !== e.env.NODE_ENV && [ "propTypes", "defaultProps", "contextTypes" ].forEach(function(e) {
var r = t[e];
Object.defineProperty(t, e, {
set: function(t) {
var r = n.displayName || n.name;
console.warn("Mobx Injector: you are trying to attach " + e + " to HOC instead of " + r + ". Use `wrappedComponent` property.");
},
get: function() {
return r;
},
configurable: !0
});
});
}
function i(e) {
return function(t, n) {
return e.forEach(function(e) {
if (!(e in n)) {
if (!(e in t)) throw new Error("MobX observer: Store '" + e + "' is not available! Make sure it is provided by some Provider");
n[e] = t[e];
}
}), n;
};
}
function s() {
var e = void 0;
if ("function" == typeof arguments[0]) e = arguments[0]; else {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
e = i(t);
}
return function(t) {
return o(e, t);
};
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = s;
var l = n(3), u = r(l), p = n(8), c = r(p);
}).call(t, n(7));
}, function(e, t) {
function n(e) {
return l === setTimeout ? setTimeout(e, 0) : l.call(null, e, 0);
}
function r(e) {
u === clearTimeout ? clearTimeout(e) : u.call(null, e);
}
function o() {
d && c && (d = !1, c.length ? f = c.concat(f) : h = -1, f.length && a());
}
function a() {
if (!d) {
var e = n(o);
d = !0;
for (var t = f.length; t; ) {
for (c = f, f = []; ++h < t; ) c && c[h].run();
h = -1, t = f.length;
}
c = null, d = !1, r(e);
}
}
function i(e, t) {
this.fun = e, this.array = t;
}
function s() {}
var l, u, p = e.exports = {};
!function() {
try {
l = setTimeout;
} catch (e) {
l = function() {
throw new Error("setTimeout is not defined");
};
}
try {
u = clearTimeout;
} catch (e) {
u = function() {
throw new Error("clearTimeout is not defined");
};
}
}();
var c, f = [], d = !1, h = -1;
p.nextTick = function(e) {
var t = new Array(arguments.length - 1);
if (arguments.length > 1) for (var r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];
f.push(new i(e, t)), 1 !== f.length || d || n(a);
}, i.prototype.run = function() {
this.fun.apply(null, this.array);
}, p.title = "browser", p.browser = !0, p.env = {}, p.argv = [], p.version = "", 
p.versions = {}, p.on = s, p.addListener = s, p.once = s, p.off = s, p.removeListener = s, 
p.removeAllListeners = s, p.emit = s, p.binding = function(e) {
throw new Error("process.binding is not supported");
}, p.cwd = function() {
return "/";
}, p.chdir = function(e) {
throw new Error("process.chdir is not supported");
}, p.umask = function() {
return 0;
};
}, function(e, t) {
"use strict";
var n = {
childContextTypes: !0,
contextTypes: !0,
defaultProps: !0,
displayName: !0,
getDefaultProps: !0,
mixins: !0,
propTypes: !0,
type: !0
}, r = {
name: !0,
length: !0,
prototype: !0,
caller: !0,
arguments: !0,
arity: !0
}, o = "function" == typeof Object.getOwnPropertySymbols;
e.exports = function(e, t, a) {
if ("string" != typeof t) {
var i = Object.getOwnPropertyNames(t);
o && (i = i.concat(Object.getOwnPropertySymbols(t)));
for (var s = 0; s < i.length; ++s) if (!(n[i[s]] || r[i[s]] || a && a[i[s]])) try {
e[i[s]] = t[i[s]];
} catch (l) {}
}
return e;
};
}, function(e, t, n) {
"use strict";
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return !t || "object" != typeof t && "function" != typeof t ? e : t;
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
Object.defineProperty(t, "__esModule", {
value: !0
});
var s = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), l = n(3), u = r(l), p = {
children: !0,
key: !0,
ref: !0
}, c = function(e) {
function t() {
return o(this, t), a(this, Object.getPrototypeOf(t).apply(this, arguments));
}
return i(t, e), s(t, [ {
key: "render",
value: function() {
return u["default"].Children.only(this.props.children);
}
}, {
key: "getChildContext",
value: function() {
var e = {}, t = this.context.mobxStores;
if (t) for (var n in t) e[n] = t[n];
for (var r in this.props) p[r] || (e[r] = this.props[r]);
return {
mobxStores: e
};
}
}, {
key: "componentWillReceiveProps",
value: function(e) {
Object.keys(e).length !== Object.keys(this.props).length && console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children");
for (var t in e) p[t] || this.props[t] === e[t] || console.warn("MobX Provider: Provided store '" + t + "' has changed. Please avoid replacing stores as the change might not propagate to all children");
}
} ]), t;
}(l.Component);
c.contextTypes = {
mobxStores: l.PropTypes.object
}, c.childContextTypes = {
mobxStores: l.PropTypes.object.isRequired
}, t["default"] = c;
}, function(e, t, n) {
"use strict";
function r(e) {
function t(t, n, r, o, a, i) {
for (var s = arguments.length, l = Array(s > 6 ? s - 6 : 0), u = 6; s > u; u++) l[u - 6] = arguments[u];
return (0, p.untracked)(function() {
if (o = o || "<<anonymous>>", i = i || r, null == n[r]) {
if (t) {
var s = null === n[r] ? "null" : "undefined";
return new Error("The " + a + " `" + i + "` is marked as required in `" + o + "`, but its value is `" + s + "`.");
}
return null;
}
return e.apply(void 0, [ n, r, o, a, i ].concat(l));
});
}
var n = t.bind(null, !1);
return n.isRequired = t.bind(null, !0), n;
}
function o(e, t) {
return "symbol" === e ? !0 : "Symbol" === t["@@toStringTag"] ? !0 : "function" == typeof Symbol && t instanceof Symbol;
}
function a(e) {
var t = "undefined" == typeof e ? "undefined" : u(e);
return Array.isArray(e) ? "array" : e instanceof RegExp ? "object" : o(t, e) ? "symbol" : t;
}
function i(e) {
var t = a(e);
if ("object" === t) {
if (e instanceof Date) return "date";
if (e instanceof RegExp) return "regexp";
}
return t;
}
function s(e, t) {
return r(function(n, r, o, s, l) {
return (0, p.untracked)(function() {
if (e && a(n[r]) === t.toLowerCase()) return null;
var s = void 0;
switch (t) {
case "Array":
s = p.isObservableArray;
break;

case "Object":
s = p.isObservableObject;
break;

case "Map":
s = p.isObservableMap;
break;

default:
throw new Error("Unexpected mobxType: " + t);
}
var u = n[r];
if (!s(u)) {
var c = i(u), f = e ? " or javascript `" + t.toLowerCase() + "`" : "";
return new Error("Invalid prop `" + l + "` of type `" + c + "` supplied to `" + o + "`, expected `mobx.Observable" + t + "`" + f + ".");
}
return null;
});
});
}
function l(e, t) {
return r(function(n, r, o, a, i) {
for (var l = arguments.length, u = Array(l > 5 ? l - 5 : 0), c = 5; l > c; c++) u[c - 5] = arguments[c];
return (0, p.untracked)(function() {
if ("function" != typeof t) return new Error("Property `" + i + "` of component `" + o + "` has invalid PropType notation.");
var l = s(e, "Array")(n, r, o);
if (l instanceof Error) return l;
for (var p = n[r], c = 0; c < p.length; c++) if (l = t.apply(void 0, [ p, c, o, a, i + "[" + c + "]" ].concat(u)), 
l instanceof Error) return l;
return null;
});
});
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.objectOrObservableObject = t.arrayOrObservableArrayOf = t.arrayOrObservableArray = t.observableObject = t.observableMap = t.observableArrayOf = t.observableArray = void 0;
var u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
}, p = n(2);
t.observableArray = s(!1, "Array"), t.observableArrayOf = l.bind(null, !1), t.observableMap = s(!1, "Map"), 
t.observableObject = s(!1, "Object"), t.arrayOrObservableArray = s(!0, "Array"), 
t.arrayOrObservableArrayOf = l.bind(null, !0), t.objectOrObservableObject = s(!0, "Object");
} ]);
});
}, function(e, t, n) {
"use strict";
function bbUrl(e) {
return "undefined" == typeof r.onlinePrefix, r.onlinePrefix + e;
}
function bbOfflineUrl(e) {
return "undefined" == typeof r.offlinePrefix, r.offlinePrefix + e;
}
var r = n(355);
n(2);
t.bbUrl = bbUrl, t.bbOfflineUrl = bbOfflineUrl;
}, function(e, t) {
(function(n) {
"use strict";
function r(e, t, n, r) {
return 1 === arguments.length && "function" == typeof e ? U(e.name || "<unnamed action>", e) : 2 === arguments.length && "function" == typeof t ? U(e, t) : 1 === arguments.length && "string" == typeof e ? o(e) : o(t).apply(null, arguments);
}
function o(e) {
return function(t, n, r) {
return r && "function" == typeof r.value ? (r.value = U(e, r.value), r.enumerable = !1, 
r.configurable = !0, r) : At(e).apply(this, arguments);
};
}
function a(e, t, n) {
var r = "string" == typeof e ? e : e.name || "<unnamed action>", o = "function" == typeof e ? e : t, a = "function" == typeof e ? t : n;
return ft("function" == typeof o, "`runInAction` expects a function"), ft(0 === o.length, "`runInAction` expects a function without arguments"), 
ft("string" == typeof r && r.length > 0, "actions should have valid names, got: '" + r + "'"), 
L(r, o, a, void 0);
}
function i(e) {
return "function" == typeof e && e.isMobxAction === !0;
}
function s(e, t, n) {
function r() {
a(s);
}
var o, a, i;
"string" == typeof e ? (o = e, a = t, i = n) : "function" == typeof e && (o = e.name || "Autorun@" + ct(), 
a = e, i = t), Ue(a, "autorun methods cannot have modifiers"), ft("function" == typeof a, "autorun expects a function"), 
i && (a = a.bind(i));
var s = new Gt(o, function() {
this.track(r);
});
return s.schedule(), s.getDisposer();
}
function l(e, t, n, r) {
var o, a, i, l;
"string" == typeof e ? (o = e, a = t, i = n, l = r) : "function" == typeof e && (o = "When@" + ct(), 
a = e, i = t, l = n);
var u = s(o, function(e) {
if (a.call(l)) {
e.dispose();
var t = Q();
i.call(l), Z(t);
}
});
return u;
}
function u(e, t, n) {
return dt("`autorunUntil` is deprecated, please use `when`."), l.apply(null, arguments);
}
function p(e, t, n, r) {
function o() {
i(p);
}
var a, i, s, l;
"string" == typeof e ? (a = e, i = t, s = n, l = r) : "function" == typeof e && (a = e.name || "AutorunAsync@" + ct(), 
i = e, s = t, l = n), void 0 === s && (s = 1), l && (i = i.bind(l));
var u = !1, p = new Gt(a, function() {
u || (u = !0, setTimeout(function() {
u = !1, p.isDisposed || p.track(o);
}, s));
});
return p.schedule(), p.getDisposer();
}
function c(e, t, n, o, a, i) {
function s() {
if (!S.isDisposed) {
var e = !1;
S.track(function() {
var t = g(S);
e = vt(m, _, t), _ = t;
}), b && c && p(_, S), b || e !== !0 || p(_, S), b && (b = !1);
}
}
var l, u, p, c, f, d;
"string" == typeof e ? (l = e, u = t, p = n, c = o, f = a, d = i) : (l = e.name || t.name || "Reaction@" + ct(), 
u = e, p = t, c = n, f = o, d = a), void 0 === c && (c = !1), void 0 === f && (f = 0);
var h = Ne(u, Vt.Reference), y = h[0], g = h[1], m = y === Vt.Structure;
d && (g = g.bind(d), p = r(l, p.bind(d)));
var b = !0, v = !1, _ = void 0, S = new Gt(l, function() {
1 > f ? s() : v || (v = !0, setTimeout(function() {
v = !1, s();
}, f));
});
return S.schedule(), S.getDisposer();
}
function f(e, t, n, r) {
return "function" == typeof e && arguments.length < 3 ? "function" == typeof t ? d(e, t, void 0) : d(e, void 0, t) : kt.apply(null, arguments);
}
function d(e, t, n) {
var r = Ne(e, Vt.Recursive), o = r[0], a = r[1];
return new Dt(a, n, o === Vt.Structure, a.name, t);
}
function h(e, t) {
ft("function" == typeof e && 1 === e.length, "createTransformer expects a function that accepts one argument");
var n = {}, r = Ft.resetId, o = function(r) {
function o(t, n) {
r.call(this, function() {
return e(n);
}, null, !1, "Transformer-" + e.name + "-" + t, void 0), this.sourceIdentifier = t, 
this.sourceObject = n;
}
return Ot(o, r), o.prototype.onBecomeUnobserved = function() {
var e = this.value;
r.prototype.onBecomeUnobserved.call(this), delete n[this.sourceIdentifier], t && t(e, this.sourceObject);
}, o;
}(Dt);
return function(e) {
r !== Ft.resetId && (n = {}, r = Ft.resetId);
var t = y(e), a = n[t];
return a ? a.get() : (a = n[t] = new o(t, e), a.get());
};
}
function y(e) {
if (null === e || "object" != typeof e) throw new Error("[mobx] transform expected some kind of object, got: " + e);
var t = e.$transformId;
return void 0 === t && (t = ct(), wt(e, "$transformId", t)), t;
}
function g(e, t) {
return z() || console.warn("[mobx.expr] 'expr' should only be used inside other reactive functions."), 
f(e, t).get();
}
function m(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
return ft(arguments.length >= 2, "extendObservable expected 2 or more arguments"), 
ft("object" == typeof e, "extendObservable expects an object as first argument"), 
ft(!(e instanceof tn), "extendObservable should not be used on maps, use map.merge instead"), 
t.forEach(function(t) {
ft("object" == typeof t, "all arguments of extendObservable should be objects"), 
b(e, t, Vt.Recursive, null);
}), e;
}
function b(e, t, n, r) {
var o = qe(e, r, n);
for (var a in t) if (_t(t, a)) {
if (e === t && !Ct(e, a)) continue;
var i = Object.getOwnPropertyDescriptor(t, a);
Ke(o, a, i);
}
return e;
}
function v(e, t) {
return _(tt(e, t));
}
function _(e) {
var t = {
name: e.name
};
return e.observing && e.observing.length > 0 && (t.dependencies = yt(e.observing).map(_)), 
t;
}
function S(e, t) {
return w(tt(e, t));
}
function w(e) {
var t = {
name: e.name
};
return re(e) && (t.observers = oe(e).map(w)), t;
}
function T(e, t, n) {
return "function" == typeof n ? E(e, t, n) : C(e, t);
}
function C(e, t) {
return mt(e) && !et(e) ? (dt("Passing plain objects to intercept / observe is deprecated and will be removed in 3.0"), 
nt(O(e)).intercept(t)) : nt(e).intercept(t);
}
function E(e, t, n) {
return mt(e) && !et(e) ? (dt("Passing plain objects to intercept / observe is deprecated and will be removed in 3.0"), 
m(e, {
property: e[t]
}), E(e, t, n)) : nt(e, t).intercept(n);
}
function I(e, t) {
if (null === e || void 0 === e) return !1;
if (void 0 !== t) {
if (e instanceof tn || e instanceof Qt) throw new Error("[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.");
if (et(e)) {
var n = e.$mobx;
return n.values && !!n.values[t];
}
return !1;
}
return !!e.$mobx || e instanceof Mt || e instanceof Gt || e instanceof Dt;
}
function P(e, t, n) {
return ft(arguments.length >= 2 && arguments.length <= 3, "Illegal decorator config", t), 
Et(e, t), ft(!n || !n.get, "@observable can not be used on getters, use @computed instead"), 
Rt.apply(null, arguments);
}
function O(e, t) {
if (void 0 === e && (e = void 0), "string" == typeof arguments[1]) return P.apply(null, arguments);
if (ft(arguments.length < 3, "observable expects zero, one or two arguments"), I(e)) return e;
var n = Ne(e, Vt.Recursive), r = n[0], o = n[1], a = r === Vt.Reference ? xt.Reference : A(o);
switch (a) {
case xt.Array:
case xt.PlainObject:
return De(o, r);

case xt.Reference:
case xt.ComplexObject:
return new sn(o, r);

case xt.ComplexFunction:
throw new Error("[mobx.observable] To be able to make a function reactive it should not have arguments. If you need an observable reference to a function, use `observable(asReference(f))`");

case xt.ViewFunction:
return dt("Use `computed(expr)` instead of `observable(expr)`"), f(e, t);
}
ft(!1, "Illegal State");
}
function A(e) {
return null === e || void 0 === e ? xt.Reference : "function" == typeof e ? e.length ? xt.ComplexFunction : xt.ViewFunction : Array.isArray(e) || e instanceof Qt ? xt.Array : "object" == typeof e ? mt(e) ? xt.PlainObject : xt.ComplexObject : xt.Reference;
}
function k(e, t, n, r) {
return "function" == typeof n ? x(e, t, n, r) : R(e, t, n);
}
function R(e, t, n) {
return mt(e) && !et(e) ? (dt("Passing plain objects to intercept / observe is deprecated and will be removed in 3.0"), 
nt(O(e)).observe(t, n)) : nt(e).observe(t, n);
}
function x(e, t, n, r) {
return mt(e) && !et(e) ? (dt("Passing plain objects to intercept / observe is deprecated and will be removed in 3.0"), 
m(e, {
property: e[t]
}), x(e, t, n, r)) : nt(e, t).observe(n, r);
}
function M(e, t, n) {
function r(r) {
return t && n.push([ e, r ]), r;
}
if (void 0 === t && (t = !0), void 0 === n && (n = null), e instanceof Date || e instanceof RegExp) return e;
if (t && null === n && (n = []), t && null !== e && "object" == typeof e) for (var o = 0, a = n.length; a > o; o++) if (n[o][0] === e) return n[o][1];
if (!e) return e;
if (Array.isArray(e) || e instanceof Qt) {
var i = r([]), s = e.map(function(e) {
return M(e, t, n);
});
i.length = s.length;
for (var o = 0, a = s.length; a > o; o++) i[o] = s[o];
return i;
}
if (e instanceof tn) {
var l = r({});
return e.forEach(function(e, r) {
return l[r] = M(e, t, n);
}), l;
}
if (I(e) && e.$mobx instanceof sn) return M(e(), t, n);
if (e instanceof sn) return M(e.get(), t, n);
if ("object" == typeof e) {
var i = r({});
for (var u in e) i[u] = M(e[u], t, n);
return i;
}
return e;
}
function N(e, t, n) {
return void 0 === t && (t = !0), void 0 === n && (n = null), dt("toJSON is deprecated. Use toJS instead"), 
M.apply(null, arguments);
}
function $(e) {
return console.log(e), e;
}
function D(e, t) {
switch (arguments.length) {
case 0:
if (e = Ft.trackingDerivation, !e) return $("whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested it's value.");
break;

case 2:
e = tt(e, t);
}
return e = tt(e), e instanceof Dt ? $(e.whyRun()) : e instanceof Gt ? $(e.whyRun()) : void ft(!1, "whyRun can only be used on reactions and computed values");
}
function U(e, t) {
ft("function" == typeof t, "`action` can only be invoked on functions"), ft("string" == typeof e && e.length > 0, "actions should have valid names, got: '" + e + "'");
var n = function() {
return L(e, t, this, arguments);
};
return n.isMobxAction = !0, n;
}
function L(e, t, n, r) {
ft(!(Ft.trackingDerivation instanceof Dt), "Computed values or transformers should not invoke actions or trigger other side effects");
var o, a = ye();
if (a) {
o = Date.now();
var i = r && r.length || 0, s = new Array(i);
if (i > 0) for (var l = 0; i > l; l++) s[l] = r[l];
me({
type: "action",
name: e,
fn: t,
target: n,
arguments: s
});
}
var u = Q();
we(e, n, !1);
var p = B(!0);
try {
return t.apply(n, r);
} finally {
H(p), Te(!1), Z(u), a && be({
time: Date.now() - o
});
}
}
function F(e) {
return 0 === arguments.length ? (dt("`useStrict` without arguments is deprecated, use `isStrictModeEnabled()` instead"), 
Ft.strictMode) : (ft(null === Ft.trackingDerivation, "It is not allowed to set `useStrict` when a derivation is running"), 
Ft.strictMode = e, Ft.allowStateChanges = !e, void 0);
}
function G() {
return Ft.strictMode;
}
function j(e, t) {
var n = B(e), r = t();
return H(n), r;
}
function B(e) {
var t = Ft.allowStateChanges;
return Ft.allowStateChanges = e, t;
}
function H(e) {
Ft.allowStateChanges = e;
}
function V(e) {
switch (e.dependenciesState) {
case $t.UP_TO_DATE:
return !1;

case $t.NOT_TRACKING:
case $t.STALE:
return !0;

case $t.POSSIBLY_STALE:
var t = !0, n = Q();
try {
for (var r = e.observing, o = r.length, a = 0; o > a; a++) {
var i = r[a];
if (i instanceof Dt && (i.get(), e.dependenciesState === $t.STALE)) return t = !1, 
Z(n), !0;
}
return t = !1, ee(e), Z(n), !1;
} finally {
t && ee(e);
}
}
}
function z() {
return null !== Ft.trackingDerivation;
}
function W() {
Ft.allowStateChanges || ft(!1, Ft.strictMode ? "It is not allowed to create or change state outside an `action` when MobX is in strict mode. Wrap the current method in `action` if this state change is intended" : "It is not allowed to change the state when a computed value or transformer is being evaluated. Use 'autorun' to create reactive functions with side-effects.");
}
function q(e, t) {
ee(e), e.newObserving = new Array(e.observing.length + 100), e.unboundDepsCount = 0, 
e.runId = ++Ft.runId;
var n = Ft.trackingDerivation;
Ft.trackingDerivation = e;
var r, o = !0;
try {
r = t.call(e), o = !1;
} finally {
o ? K(e) : (Ft.trackingDerivation = n, X(e));
}
return r;
}
function K(e) {
var t = "[mobx] An uncaught exception occurred while calculating your computed value, autorun or transformer. Or inside the render() method of an observer based React component. These functions should never throw exceptions as MobX will not always be able to recover from them. " + ("Please fix the error reported after this message or enable 'Pause on (caught) exceptions' in your debugger to find the root cause. In: '" + e.name + "'. ") + "For more details see https://github.com/mobxjs/mobx/issues/462";
ye() && ge({
type: "error",
message: t
}), console.warn(t), ee(e), e.newObserving = null, e.unboundDepsCount = 0, e.recoverFromError(), 
ue(), ne();
}
function X(e) {
var t = e.observing, n = e.observing = e.newObserving;
e.newObserving = null;
for (var r = 0, o = e.unboundDepsCount, a = 0; o > a; a++) {
var i = n[a];
0 === i.diffValue && (i.diffValue = 1, r !== a && (n[r] = i), r++);
}
for (n.length = r, o = t.length; o--; ) {
var i = t[o];
0 === i.diffValue && ie(i, e), i.diffValue = 0;
}
for (;r--; ) {
var i = n[r];
1 === i.diffValue && (i.diffValue = 0, ae(i, e));
}
}
function Y(e) {
for (var t = e.observing, n = t.length; n--; ) ie(t[n], e);
e.dependenciesState = $t.NOT_TRACKING, t.length = 0;
}
function J(e) {
var t = Q(), n = e();
return Z(t), n;
}
function Q() {
var e = Ft.trackingDerivation;
return Ft.trackingDerivation = null, e;
}
function Z(e) {
Ft.trackingDerivation = e;
}
function ee(e) {
if (e.dependenciesState !== $t.UP_TO_DATE) {
e.dependenciesState = $t.UP_TO_DATE;
for (var t = e.observing, n = t.length; n--; ) t[n].lowestObserverState = $t.UP_TO_DATE;
}
}
function te() {}
function ne() {
Ft.resetId++;
var e = new Lt();
for (var t in e) -1 === Ut.indexOf(t) && (Ft[t] = e[t]);
Ft.allowStateChanges = !Ft.strictMode;
}
function re(e) {
return e.observers && e.observers.length > 0;
}
function oe(e) {
return e.observers;
}
function ae(e, t) {
var n = e.observers.length;
n && (e.observersIndexes[t.__mapid] = n), e.observers[n] = t, e.lowestObserverState > t.dependenciesState && (e.lowestObserverState = t.dependenciesState);
}
function ie(e, t) {
if (1 === e.observers.length) e.observers.length = 0, se(e); else {
var n = e.observers, r = e.observersIndexes, o = n.pop();
if (o !== t) {
var a = r[t.__mapid] || 0;
a ? r[o.__mapid] = a : delete r[o.__mapid], n[a] = o;
}
delete r[t.__mapid];
}
}
function se(e) {
e.isPendingUnobservation || (e.isPendingUnobservation = !0, Ft.pendingUnobservations.push(e));
}
function le() {
Ft.inBatch++;
}
function ue() {
if (1 === Ft.inBatch) {
for (var e = Ft.pendingUnobservations, t = 0; t < e.length; t++) {
var n = e[t];
n.isPendingUnobservation = !1, 0 === n.observers.length && n.onBecomeUnobserved();
}
Ft.pendingUnobservations = [];
}
Ft.inBatch--;
}
function pe(e) {
var t = Ft.trackingDerivation;
null !== t ? t.runId !== e.lastAccessedBy && (e.lastAccessedBy = t.runId, t.newObserving[t.unboundDepsCount++] = e) : 0 === e.observers.length && se(e);
}
function ce(e) {
if (e.lowestObserverState !== $t.STALE) {
e.lowestObserverState = $t.STALE;
for (var t = e.observers, n = t.length; n--; ) {
var r = t[n];
r.dependenciesState === $t.UP_TO_DATE && r.onBecomeStale(), r.dependenciesState = $t.STALE;
}
}
}
function fe(e) {
if (e.lowestObserverState !== $t.STALE) {
e.lowestObserverState = $t.STALE;
for (var t = e.observers, n = t.length; n--; ) {
var r = t[n];
r.dependenciesState === $t.POSSIBLY_STALE ? r.dependenciesState = $t.STALE : r.dependenciesState === $t.UP_TO_DATE && (e.lowestObserverState = $t.UP_TO_DATE);
}
}
}
function de(e) {
if (e.lowestObserverState === $t.UP_TO_DATE) {
e.lowestObserverState = $t.POSSIBLY_STALE;
for (var t = e.observers, n = t.length; n--; ) {
var r = t[n];
r.dependenciesState === $t.UP_TO_DATE && (r.dependenciesState = $t.POSSIBLY_STALE, 
r.onBecomeStale());
}
}
}
function he() {
if (!(Ft.isRunningReactions === !0 || Ft.inTransaction > 0)) {
Ft.isRunningReactions = !0;
for (var e = Ft.pendingReactions, t = 0; e.length > 0; ) {
if (++t === jt) throw ne(), new Error("Reaction doesn't converge to a stable state after " + jt + " iterations. Probably there is a cycle in the reactive function: " + e[0]);
for (var n = e.splice(0), r = 0, o = n.length; o > r; r++) n[r].runReaction();
}
Ft.isRunningReactions = !1;
}
}
function ye() {
return Bt;
}
function ge(e) {
if (!Bt) return !1;
for (var t = Ft.spyListeners, n = 0, r = t.length; r > n; n++) t[n](e);
}
function me(e) {
var t = bt({}, e, {
spyReportStart: !0
});
ge(t);
}
function be(e) {
ge(e ? bt({}, e, Ht) : Ht);
}
function ve(e) {
return Ft.spyListeners.push(e), Bt = Ft.spyListeners.length > 0, ht(function() {
var t = Ft.spyListeners.indexOf(e);
-1 !== t && Ft.spyListeners.splice(t, 1), Bt = Ft.spyListeners.length > 0;
});
}
function _e(e) {
return dt("trackTransitions is deprecated. Use mobx.spy instead"), "boolean" == typeof e && (dt("trackTransitions only takes a single callback function. If you are using the mobx-react-devtools, please update them first"), 
e = arguments[1]), e ? ve(e) : (dt("trackTransitions without callback has been deprecated and is a no-op now. If you are using the mobx-react-devtools, please update them first"), 
function() {});
}
function Se(e, t, n) {
void 0 === t && (t = void 0), void 0 === n && (n = !0), we(e.name || "anonymous transaction", t, n);
var r = e.call(t);
return Te(n), r;
}
function we(e, t, n) {
void 0 === t && (t = void 0), void 0 === n && (n = !0), le(), Ft.inTransaction += 1, 
n && ye() && me({
type: "transaction",
target: t,
name: e
});
}
function Te(e) {
void 0 === e && (e = !0), 0 === --Ft.inTransaction && he(), e && ye() && be(), ue();
}
function Ce(e) {
return e.interceptors && e.interceptors.length > 0;
}
function Ee(e, t) {
var n = e.interceptors || (e.interceptors = []);
return n.push(t), ht(function() {
var e = n.indexOf(t);
-1 !== e && n.splice(e, 1);
});
}
function Ie(e, t) {
for (var n = Q(), r = e.interceptors, o = 0, a = r.length; a > o; o++) if (t = r[o](t), 
ft(!t || t.type, "Intercept handlers should return nothing or a change object"), 
!t) return null;
return Z(n), t;
}
function Pe(e) {
return e.changeListeners && e.changeListeners.length > 0;
}
function Oe(e, t) {
var n = e.changeListeners || (e.changeListeners = []);
return n.push(t), ht(function() {
var e = n.indexOf(t);
-1 !== e && n.splice(e, 1);
});
}
function Ae(e, t) {
var n = Q(), r = e.changeListeners;
if (r) {
r = r.slice();
for (var o = 0, a = r.length; a > o; o++) Array.isArray(t) ? r[o].apply(null, t) : r[o](t);
Z(n);
}
}
function ke(e) {
return new zt(e);
}
function Re(e) {
return new Wt(e);
}
function xe(e) {
return new qt(e);
}
function Me(e, t) {
return ze(e, t);
}
function Ne(e, t) {
return e instanceof zt ? [ Vt.Reference, e.value ] : e instanceof Wt ? [ Vt.Structure, e.value ] : e instanceof qt ? [ Vt.Flat, e.value ] : [ t, e ];
}
function $e(e) {
return e === ke ? Vt.Reference : e === Re ? Vt.Structure : e === xe ? Vt.Flat : (ft(void 0 === e, "Cannot determine value mode from function. Please pass in one of these: mobx.asReference, mobx.asStructure or mobx.asFlat, got: " + e), 
Vt.Recursive);
}
function De(e, t, n) {
var r;
if (I(e)) return e;
switch (t) {
case Vt.Reference:
return e;

case Vt.Flat:
Ue(e, "Items inside 'asFlat' cannot have modifiers"), r = Vt.Reference;
break;

case Vt.Structure:
Ue(e, "Items inside 'asStructure' cannot have modifiers"), r = Vt.Structure;
break;

case Vt.Recursive:
o = Ne(e, Vt.Recursive), r = o[0], e = o[1];
break;

default:
ft(!1, "Illegal State");
}
return Array.isArray(e) ? Be(e, r, n) : mt(e) && Object.isExtensible(e) ? b(e, e, r, n) : e;
var o;
}
function Ue(e, t) {
if (e instanceof zt || e instanceof Wt || e instanceof qt) throw new Error("[mobx] asStructure / asReference / asFlat cannot be used here. " + t);
}
function Le(e) {
var t = Fe(e), n = Ge(e);
Object.defineProperty(Qt.prototype, "" + e, {
enumerable: !1,
configurable: !0,
set: t,
get: n
});
}
function Fe(e) {
return function(t) {
var n = this.$mobx, r = n.values;
if (Ue(t, "Modifiers cannot be used on array values. For non-reactive array values use makeReactive(asFlat(array))."), 
e < r.length) {
W();
var o = r[e];
if (Ce(n)) {
var a = Ie(n, {
type: "update",
object: n.array,
index: e,
newValue: t
});
if (!a) return;
t = a.newValue;
}
t = n.makeReactiveArrayItem(t);
var i = n.mode === Vt.Structure ? !Pt(o, t) : o !== t;
i && (r[e] = t, n.notifyArrayChildUpdate(e, t, o));
} else {
if (e !== r.length) throw new Error("[mobx.array] Index out of bounds, " + e + " is larger than " + r.length);
n.spliceWithArray(e, 0, [ t ]);
}
};
}
function Ge(e) {
return function() {
var t = this.$mobx;
return t && e < t.values.length ? (t.atom.reportObserved(), t.values[e]) : void console.warn("[mobx.array] Attempt to read an array index (" + e + ") that is out of bounds (" + t.values.length + "). Please check length first. Out of bound indices will not be tracked by MobX");
};
}
function je(e) {
for (var t = Xt; e > t; t++) Le(t);
Xt = e;
}
function Be(e, t, n) {
return new Qt(e, t, n);
}
function He(e) {
return dt("fastArray is deprecated. Please use `observable(asFlat([]))`"), Be(e, Vt.Flat, null);
}
function Ve(e) {
return e instanceof Qt;
}
function ze(e, t) {
return new tn(e, t);
}
function We(e) {
return e instanceof tn;
}
function qe(e, t, n) {
if (void 0 === n && (n = Vt.Recursive), et(e)) return e.$mobx;
mt(e) || (t = e.constructor.name + "@" + ct()), t || (t = "ObservableObject@" + ct());
var r = new nn(e, t, n);
return Tt(e, "$mobx", r), r;
}
function Ke(e, t, n) {
e.values[t] ? (ft("value" in n, "cannot redefine property " + t), e.target[t] = n.value) : "value" in n ? Xe(e, t, n.value, !0, void 0) : Xe(e, t, n.get, !0, n.set);
}
function Xe(e, t, n, r, o) {
r && Et(e.target, t);
var a, s = e.name + "." + t, l = !0;
if (n instanceof sn) a = n, n.name = s, l = !1; else if (n instanceof Dt) a = n, 
n.name = s, n.scope || (n.scope = e.target); else if ("function" != typeof n || 0 !== n.length || i(n)) if (n instanceof Wt && "function" == typeof n.value && 0 === n.value.length) a = new Dt(n.value, e.target, !0, s, o); else {
if (l = !1, Ce(e)) {
var u = Ie(e, {
object: e.target,
name: t,
type: "add",
newValue: n
});
if (!u) return;
n = u.newValue;
}
a = new sn(n, e.mode, s, !1), n = a.value;
} else a = new Dt(n, e.target, !1, s, o);
e.values[t] = a, r && Object.defineProperty(e.target, t, l ? Je(t) : Ye(t)), l || Ze(e, e.target, t, n);
}
function Ye(e) {
var t = rn[e];
return t ? t : rn[e] = {
configurable: !0,
enumerable: !0,
get: function() {
return this.$mobx.values[e].get();
},
set: function(t) {
Qe(this, e, t);
}
};
}
function Je(e) {
var t = on[e];
return t ? t : on[e] = {
configurable: !0,
enumerable: !1,
get: function() {
return this.$mobx.values[e].get();
},
set: function(t) {
return this.$mobx.values[e].set(t);
}
};
}
function Qe(e, t, n) {
var r = e.$mobx, o = r.values[t];
if (Ce(r)) {
var a = Ie(r, {
type: "update",
object: e,
name: t,
newValue: n
});
if (!a) return;
n = a.newValue;
}
if (n = o.prepareNewValue(n), n !== an) {
var i = Pe(r), s = ye(), a = Ae || Pe ? {
type: "update",
object: e,
oldValue: o.value,
name: t,
newValue: n
} : null;
s && me(a), o.setNewValue(n), i && Ae(r, a), s && be();
}
}
function Ze(e, t, n, r) {
var o = Pe(e), a = ye(), i = o || a ? {
type: "add",
object: t,
name: n,
newValue: r
} : null;
a && me(i), o && Ae(e, i), a && be();
}
function et(e) {
return "object" == typeof e && null !== e ? (it(e), e.$mobx instanceof nn) : !1;
}
function tt(e, t) {
if ("object" == typeof e && null !== e) {
if (Ve(e)) return ft(void 0 === t, "It is not possible to get index atoms from arrays"), 
e.$mobx.atom;
if (We(e)) {
if (void 0 === t) return tt(e._keys);
var n = e._data[t] || e._hasMap[t];
return ft(!!n, "the entry '" + t + "' does not exist in the observable map '" + rt(e) + "'"), 
n;
}
if (it(e), et(e)) {
ft(!!t, "please specify a property");
var r = e.$mobx.values[t];
return ft(!!r, "no observable property '" + t + "' found on the observable object '" + rt(e) + "'"), 
r;
}
if (e instanceof Mt || e instanceof Dt || e instanceof Gt) return e;
} else if ("function" == typeof e && e.$mobx instanceof Gt) return e.$mobx;
ft(!1, "Cannot obtain atom from " + e);
}
function nt(e, t) {
return ft(e, "Expection some object"), void 0 !== t ? nt(tt(e, t)) : e instanceof Mt || e instanceof Dt || e instanceof Gt ? e : We(e) ? e : (it(e), 
e.$mobx ? e.$mobx : void ft(!1, "Cannot obtain administration from " + e));
}
function rt(e, t) {
var n;
return n = void 0 !== t ? tt(e, t) : et(e) || We(e) ? nt(e) : tt(e), n.name;
}
function ot(e, t, n, r, o) {
function a(a, i, s, l) {
if (ft(o || st(arguments), "This function is a decorator, but it wasn't invoked like a decorator"), 
s) {
_t(a, "__mobxLazyInitializers") || wt(a, "__mobxLazyInitializers", a.__mobxLazyInitializers && a.__mobxLazyInitializers.slice() || []);
var u = s.value, p = s.initializer;
return a.__mobxLazyInitializers.push(function(t) {
e(t, i, p ? p.call(t) : u, l, s);
}), {
enumerable: r,
configurable: !0,
get: function() {
return this.__mobxDidRunLazyInitializers !== !0 && it(this), t.call(this, i);
},
set: function(e) {
this.__mobxDidRunLazyInitializers !== !0 && it(this), n.call(this, i, e);
}
};
}
var c = {
enumerable: r,
configurable: !0,
get: function() {
return this.__mobxInitializedProps && this.__mobxInitializedProps[i] === !0 || at(this, i, void 0, e, l, s), 
t.call(this, i);
},
set: function(t) {
this.__mobxInitializedProps && this.__mobxInitializedProps[i] === !0 ? n.call(this, i, t) : at(this, i, t, e, l, s);
}
};
return arguments.length < 3 && Object.defineProperty(a, i, c), c;
}
return o ? function() {
if (st(arguments)) return a.apply(null, arguments);
var e = arguments;
return function(t, n, r) {
return a(t, n, r, e);
};
} : a;
}
function at(e, t, n, r, o, a) {
_t(e, "__mobxInitializedProps") || wt(e, "__mobxInitializedProps", {}), e.__mobxInitializedProps[t] = !0, 
r(e, t, n, o, a);
}
function it(e) {
e.__mobxDidRunLazyInitializers !== !0 && e.__mobxLazyInitializers && (wt(e, "__mobxDidRunLazyInitializers", !0), 
e.__mobxDidRunLazyInitializers && e.__mobxLazyInitializers.forEach(function(t) {
return t(e);
}));
}
function st(e) {
return (2 === e.length || 3 === e.length) && "string" == typeof e[1];
}
function lt() {
return "function" == typeof Symbol && Symbol.iterator || "@@iterator";
}
function ut(e) {
ft(e[ln] !== !0, "Illegal state: cannot recycle array as iterator"), Tt(e, ln, !0);
var t = -1;
return Tt(e, "next", function n() {
return t++, {
done: t >= this.length,
value: t < this.length ? this[t] : void 0
};
}), e;
}
function pt(e, t) {
Tt(e, lt(), t);
}
function ct() {
return ++Ft.mobxGuid;
}
function ft(e, t, n) {
if (!e) throw new Error("[mobx] Invariant failed: " + t + (n ? " in '" + n + "'" : ""));
}
function dt(e) {
-1 === cn.indexOf(e) && (cn.push(e), console.error("[mobx] Deprecated: " + e));
}
function ht(e) {
var t = !1;
return function() {
return t ? void 0 : (t = !0, e.apply(this, arguments));
};
}
function yt(e) {
var t = [];
return e.forEach(function(e) {
-1 === t.indexOf(e) && t.push(e);
}), t;
}
function gt(e, t, n) {
if (void 0 === t && (t = 100), void 0 === n && (n = " - "), !e) return "";
var r = e.slice(0, t);
return "" + r.join(n) + (e.length > t ? " (... and " + (e.length - t) + "more)" : "");
}
function mt(e) {
if (null === e || "object" != typeof e) return !1;
var t = Object.getPrototypeOf(e);
return t === Object.prototype || null === t;
}
function bt() {
for (var e = arguments[0], t = 1, n = arguments.length; n > t; t++) {
var r = arguments[t];
for (var o in r) _t(r, o) && (e[o] = r[o]);
}
return e;
}
function vt(e, t, n) {
return e ? !Pt(t, n) : t !== n;
}
function _t(e, t) {
return dn.call(e, t);
}
function St(e, t) {
for (var n = 0; n < t.length; n++) wt(e, t[n], e[t[n]]);
}
function wt(e, t, n) {
Object.defineProperty(e, t, {
enumerable: !1,
writable: !0,
configurable: !0,
value: n
});
}
function Tt(e, t, n) {
Object.defineProperty(e, t, {
enumerable: !1,
writable: !1,
configurable: !0,
value: n
});
}
function Ct(e, t) {
var n = Object.getOwnPropertyDescriptor(e, t);
return !n || n.configurable !== !1 && n.writable !== !1;
}
function Et(e, t) {
ft(Ct(e, t), "Cannot make property '" + t + "' observable, it is not configurable and writable in the target object");
}
function It(e) {
var t = [];
for (var n in e) t.push(n);
return t;
}
function Pt(e, t) {
if (null === e && null === t) return !0;
if (void 0 === e && void 0 === t) return !0;
var n = Array.isArray(e) || Ve(e);
if (n !== (Array.isArray(t) || Ve(t))) return !1;
if (n) {
if (e.length !== t.length) return !1;
for (var r = e.length - 1; r >= 0; r--) if (!Pt(e[r], t[r])) return !1;
return !0;
}
if ("object" == typeof e && "object" == typeof t) {
if (null === e || null === t) return !1;
if (It(e).length !== It(t).length) return !1;
for (var o in e) {
if (!(o in t)) return !1;
if (!Pt(e[o], t[o])) return !1;
}
return !0;
}
return e === t;
}
var Ot = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
};
te(), t.extras = {
allowStateChanges: j,
getAtom: tt,
getDebugName: rt,
getDependencyTree: v,
getObserverTree: S,
isComputingDerivation: z,
isSpyEnabled: ye,
resetGlobalState: ne,
spyReport: ge,
spyReportEnd: be,
spyReportStart: me,
trackTransitions: _e
}, t._ = {
getAdministration: nt,
resetGlobalState: ne
}, "object" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ && __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx(e.exports);
var At = ot(function(e, t, n, o, a) {
var i = o && 1 === o.length ? o[0] : n.name || t || "<unnamed action>", s = r(i, n);
wt(e, t, s);
}, function(e) {
return this[e];
}, function() {
ft(!1, "It is not allowed to assign new values to @action fields");
}, !1, !0);
t.action = r, t.runInAction = a, t.isAction = i, t.autorun = s, t.when = l, t.autorunUntil = u, 
t.autorunAsync = p, t.reaction = c;
var kt = ot(function(e, t, n, r, o) {
ft("undefined" != typeof o, "@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.");
var a = o.get, i = o.set;
ft("function" == typeof a, "@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'");
var s = !1;
r && 1 === r.length && r[0].asStructure === !0 && (s = !0);
var l = qe(e, void 0, Vt.Recursive);
Xe(l, t, s ? Re(a) : a, !1, i);
}, function(e) {
var t = this.$mobx.values[e];
return void 0 === t ? void 0 : t.get();
}, function(e, t) {
this.$mobx.values[e].set(t);
}, !1, !0);
t.computed = f, t.createTransformer = h, t.expr = g, t.extendObservable = m, t.intercept = T, 
t.isObservable = I;
var Rt = ot(function(e, t, n) {
var r = B(!0);
"function" == typeof n && (n = ke(n));
var o = qe(e, void 0, Vt.Recursive);
Xe(o, t, n, !0, void 0), H(r);
}, function(e) {
var t = this.$mobx.values[e];
return void 0 === t ? void 0 : t.get();
}, function(e, t) {
Qe(this, e, t);
}, !0, !1);
t.observable = O;
var xt;
!function(e) {
e[e.Reference = 0] = "Reference", e[e.PlainObject = 1] = "PlainObject", e[e.ComplexObject = 2] = "ComplexObject", 
e[e.Array = 3] = "Array", e[e.ViewFunction = 4] = "ViewFunction", e[e.ComplexFunction = 5] = "ComplexFunction";
}(xt || (xt = {})), t.observe = k, t.toJS = M, t.toJSON = N, t.whyRun = D, t.useStrict = F, 
t.isStrictModeEnabled = G;
var Mt = function() {
function e(e) {
void 0 === e && (e = "Atom@" + ct()), this.name = e, this.isPendingUnobservation = !0, 
this.observers = [], this.observersIndexes = {}, this.diffValue = 0, this.lastAccessedBy = 0, 
this.lowestObserverState = $t.NOT_TRACKING;
}
return e.prototype.onBecomeUnobserved = function() {}, e.prototype.reportObserved = function() {
pe(this);
}, e.prototype.reportChanged = function() {
we("propagatingAtomChange", null, !1), ce(this), Te(!1);
}, e.prototype.toString = function() {
return this.name;
}, e;
}();
t.BaseAtom = Mt;
var Nt = function(e) {
function t(t, n, r) {
void 0 === t && (t = "Atom@" + ct()), void 0 === n && (n = fn), void 0 === r && (r = fn), 
e.call(this, t), this.name = t, this.onBecomeObservedHandler = n, this.onBecomeUnobservedHandler = r, 
this.isPendingUnobservation = !1, this.isBeingTracked = !1;
}
return Ot(t, e), t.prototype.reportObserved = function() {
return le(), e.prototype.reportObserved.call(this), this.isBeingTracked || (this.isBeingTracked = !0, 
this.onBecomeObservedHandler()), ue(), !!Ft.trackingDerivation;
}, t.prototype.onBecomeUnobserved = function() {
this.isBeingTracked = !1, this.onBecomeUnobservedHandler();
}, t;
}(Mt);
t.Atom = Nt;
var $t, Dt = function() {
function e(e, t, n, r, o) {
this.derivation = e, this.scope = t, this.compareStructural = n, this.dependenciesState = $t.NOT_TRACKING, 
this.observing = [], this.newObserving = null, this.isPendingUnobservation = !1, 
this.observers = [], this.observersIndexes = {}, this.diffValue = 0, this.runId = 0, 
this.lastAccessedBy = 0, this.lowestObserverState = $t.UP_TO_DATE, this.unboundDepsCount = 0, 
this.__mapid = "#" + ct(), this.value = void 0, this.isComputing = !1, this.isRunningSetter = !1, 
this.name = r || "ComputedValue@" + ct(), o && (this.setter = U(r + "-setter", o));
}
return e.prototype.peek = function() {
this.isComputing = !0;
var e = B(!1), t = this.derivation.call(this.scope);
return H(e), this.isComputing = !1, t;
}, e.prototype.peekUntracked = function() {
var e = !0;
try {
var t = this.peek();
return e = !1, t;
} finally {
e && K(this);
}
}, e.prototype.onBecomeStale = function() {
de(this);
}, e.prototype.onBecomeUnobserved = function() {
ft(this.dependenciesState !== $t.NOT_TRACKING, "INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row"), 
Y(this), this.value = void 0;
}, e.prototype.get = function() {
ft(!this.isComputing, "Cycle detected in computation " + this.name, this.derivation), 
le(), 1 === Ft.inBatch ? V(this) && (this.value = this.peekUntracked()) : (pe(this), 
V(this) && this.trackAndCompute() && fe(this));
var e = this.value;
return ue(), e;
}, e.prototype.recoverFromError = function() {
this.isComputing = !1;
}, e.prototype.set = function(e) {
if (this.setter) {
ft(!this.isRunningSetter, "The setter of computed value '" + this.name + "' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"), 
this.isRunningSetter = !0;
try {
this.setter.call(this.scope, e);
} finally {
this.isRunningSetter = !1;
}
} else ft(!1, "[ComputedValue '" + this.name + "'] It is not possible to assign a new value to a computed value.");
}, e.prototype.trackAndCompute = function() {
ye() && ge({
object: this,
type: "compute",
fn: this.derivation,
target: this.scope
});
var e = this.value, t = this.value = q(this, this.peek);
return vt(this.compareStructural, t, e);
}, e.prototype.observe = function(e, t) {
var n = this, r = !0, o = void 0;
return s(function() {
var a = n.get();
if (!r || t) {
var i = Q();
e(a, o), Z(i);
}
r = !1, o = a;
});
}, e.prototype.toJSON = function() {
return this.get();
}, e.prototype.toString = function() {
return this.name + "[" + this.derivation.toString() + "]";
}, e.prototype.whyRun = function() {
var e = Boolean(Ft.trackingDerivation), t = yt(this.isComputing ? this.newObserving : this.observing).map(function(e) {
return e.name;
}), n = yt(oe(this).map(function(e) {
return e.name;
}));
return "\nWhyRun? computation '" + this.name + "':\n * Running because: " + (e ? "[active] the value of this computation is needed by a reaction" : this.isComputing ? "[get] The value of this computed was requested outside a reaction" : "[idle] not running at the moment") + "\n" + (this.dependenciesState === $t.NOT_TRACKING ? " * This computation is suspended (not in use by any reaction) and won't run automatically.\n	Didn't expect this computation to be suspended at this point?\n	  1. Make sure this computation is used by a reaction (reaction, autorun, observer).\n	  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).\n" : " * This computation will re-run if any of the following observables changes:\n    " + gt(t) + "\n    " + (this.isComputing && e ? " (... or any observable accessed during the remainder of the current run)" : "") + "\n	Missing items in this list?\n	  1. Check whether all used values are properly marked as observable (use isObservable to verify)\n	  2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.\n  * If the outcome of this computation changes, the following observers will be re-run:\n    " + gt(n) + "\n");
}, e;
}();
!function(e) {
e[e.NOT_TRACKING = -1] = "NOT_TRACKING", e[e.UP_TO_DATE = 0] = "UP_TO_DATE", e[e.POSSIBLY_STALE = 1] = "POSSIBLY_STALE", 
e[e.STALE = 2] = "STALE";
}($t || ($t = {})), t.IDerivationState = $t, t.untracked = J;
var Ut = [ "mobxGuid", "resetId", "spyListeners", "strictMode", "runId" ], Lt = function() {
function e() {
this.version = 4, this.trackingDerivation = null, this.runId = 0, this.mobxGuid = 0, 
this.inTransaction = 0, this.isRunningReactions = !1, this.inBatch = 0, this.pendingUnobservations = [], 
this.pendingReactions = [], this.allowStateChanges = !0, this.strictMode = !1, this.resetId = 0, 
this.spyListeners = [];
}
return e;
}(), Ft = function() {
var e = new Lt();
if (n.__mobservableTrackingStack || n.__mobservableViewStack) throw new Error("[mobx] An incompatible version of mobservable is already loaded.");
if (n.__mobxGlobal && n.__mobxGlobal.version !== e.version) throw new Error("[mobx] An incompatible version of mobx is already loaded.");
return n.__mobxGlobal ? n.__mobxGlobal : n.__mobxGlobal = e;
}(), Gt = function() {
function e(e, t) {
void 0 === e && (e = "Reaction@" + ct()), this.name = e, this.onInvalidate = t, 
this.observing = [], this.newObserving = [], this.dependenciesState = $t.NOT_TRACKING, 
this.diffValue = 0, this.runId = 0, this.unboundDepsCount = 0, this.__mapid = "#" + ct(), 
this.isDisposed = !1, this._isScheduled = !1, this._isTrackPending = !1, this._isRunning = !1;
}
return e.prototype.onBecomeStale = function() {
this.schedule();
}, e.prototype.schedule = function() {
this._isScheduled || (this._isScheduled = !0, Ft.pendingReactions.push(this), le(), 
he(), ue());
}, e.prototype.isScheduled = function() {
return this._isScheduled;
}, e.prototype.runReaction = function() {
this.isDisposed || (this._isScheduled = !1, V(this) && (this._isTrackPending = !0, 
this.onInvalidate(), this._isTrackPending && ye() && ge({
object: this,
type: "scheduled-reaction"
})));
}, e.prototype.track = function(e) {
le();
var t, n = ye();
n && (t = Date.now(), me({
object: this,
type: "reaction",
fn: e
})), this._isRunning = !0, q(this, e), this._isRunning = !1, this._isTrackPending = !1, 
this.isDisposed && Y(this), n && be({
time: Date.now() - t
}), ue();
}, e.prototype.recoverFromError = function() {
this._isRunning = !1, this._isTrackPending = !1;
}, e.prototype.dispose = function() {
this.isDisposed || (this.isDisposed = !0, this._isRunning || (le(), Y(this), ue()));
}, e.prototype.getDisposer = function() {
var e = this.dispose.bind(this);
return e.$mobx = this, e;
}, e.prototype.toString = function() {
return "Reaction[" + this.name + "]";
}, e.prototype.whyRun = function() {
var e = yt(this._isRunning ? this.newObserving : this.observing).map(function(e) {
return e.name;
});
return "\nWhyRun? reaction '" + this.name + "':\n * Status: [" + (this.isDisposed ? "stopped" : this._isRunning ? "running" : this.isScheduled() ? "scheduled" : "idle") + "]\n * This reaction will re-run if any of the following observables changes:\n    " + gt(e) + "\n    " + (this._isRunning ? " (... or any observable accessed during the remainder of the current run)" : "") + "\n	Missing items in this list?\n	  1. Check whether all used values are properly marked as observable (use isObservable to verify)\n	  2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.\n";
}, e;
}();
t.Reaction = Gt;
var jt = 100, Bt = !1, Ht = {
spyReportEnd: !0
};
t.spy = ve, t.transaction = Se;
var Vt;
!function(e) {
e[e.Recursive = 0] = "Recursive", e[e.Reference = 1] = "Reference", e[e.Structure = 2] = "Structure", 
e[e.Flat = 3] = "Flat";
}(Vt || (Vt = {})), t.asReference = ke, t.asStructure = Re, t.asFlat = xe;
var zt = function() {
function e(e) {
this.value = e, Ue(e, "Modifiers are not allowed to be nested");
}
return e;
}(), Wt = function() {
function e(e) {
this.value = e, Ue(e, "Modifiers are not allowed to be nested");
}
return e;
}(), qt = function() {
function e(e) {
this.value = e, Ue(e, "Modifiers are not allowed to be nested");
}
return e;
}();
t.asMap = Me;
var Kt = function() {
var e = !1, t = {};
return Object.defineProperty(t, "0", {
set: function() {
e = !0;
}
}), Object.create(t)[0] = 1, e === !1;
}(), Xt = 0, Yt = function() {
function e() {}
return e;
}();
Yt.prototype = [];
var Jt = function() {
function e(e, t, n, r) {
this.mode = t, this.array = n, this.owned = r, this.lastKnownLength = 0, this.interceptors = null, 
this.changeListeners = null, this.atom = new Mt(e || "ObservableArray@" + ct());
}
return e.prototype.makeReactiveArrayItem = function(e) {
return Ue(e, "Array values cannot have modifiers"), this.mode === Vt.Flat || this.mode === Vt.Reference ? e : De(e, this.mode, this.atom.name + "[..]");
}, e.prototype.intercept = function(e) {
return Ee(this, e);
}, e.prototype.observe = function(e, t) {
return void 0 === t && (t = !1), t && e({
object: this.array,
type: "splice",
index: 0,
added: this.values.slice(),
addedCount: this.values.length,
removed: [],
removedCount: 0
}), Oe(this, e);
}, e.prototype.getArrayLength = function() {
return this.atom.reportObserved(), this.values.length;
}, e.prototype.setArrayLength = function(e) {
if ("number" != typeof e || 0 > e) throw new Error("[mobx.array] Out of range: " + e);
var t = this.values.length;
e !== t && (e > t ? this.spliceWithArray(t, 0, new Array(e - t)) : this.spliceWithArray(e, t - e));
}, e.prototype.updateArrayLength = function(e, t) {
if (e !== this.lastKnownLength) throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");
this.lastKnownLength += t, t > 0 && e + t + 1 > Xt && je(e + t + 1);
}, e.prototype.spliceWithArray = function(e, t, n) {
W();
var r = this.values.length;
if (void 0 === e ? e = 0 : e > r ? e = r : 0 > e && (e = Math.max(0, r + e)), t = 1 === arguments.length ? r - e : void 0 === t || null === t ? 0 : Math.max(0, Math.min(t, r - e)), 
void 0 === n && (n = []), Ce(this)) {
var o = Ie(this, {
object: this.array,
type: "splice",
index: e,
removedCount: t,
added: n
});
if (!o) return pn;
t = o.removedCount, n = o.added;
}
n = n.map(this.makeReactiveArrayItem, this);
var a = n.length - t;
this.updateArrayLength(r, a);
var i = (s = this.values).splice.apply(s, [ e, t ].concat(n));
return (0 !== t || 0 !== n.length) && this.notifyArraySplice(e, n, i), i;
var s;
}, e.prototype.notifyArrayChildUpdate = function(e, t, n) {
var r = !this.owned && ye(), o = Pe(this), a = o || r ? {
object: this.array,
type: "update",
index: e,
newValue: t,
oldValue: n
} : null;
r && me(a), this.atom.reportChanged(), o && Ae(this, a), r && be();
}, e.prototype.notifyArraySplice = function(e, t, n) {
var r = !this.owned && ye(), o = Pe(this), a = o || r ? {
object: this.array,
type: "splice",
index: e,
removed: n,
added: t,
removedCount: n.length,
addedCount: t.length
} : null;
r && me(a), this.atom.reportChanged(), o && Ae(this, a), r && be();
}, e;
}(), Qt = function(e) {
function t(t, n, r, o) {
void 0 === o && (o = !1), e.call(this);
var a = new Jt(r, n, this, o);
Tt(this, "$mobx", a), t && t.length ? (a.updateArrayLength(0, t.length), a.values = t.map(a.makeReactiveArrayItem, a), 
a.notifyArraySplice(0, a.values.slice(), pn)) : a.values = [], Kt && Object.defineProperty(a.array, "0", Zt);
}
return Ot(t, e), t.prototype.intercept = function(e) {
return this.$mobx.intercept(e);
}, t.prototype.observe = function(e, t) {
return void 0 === t && (t = !1), this.$mobx.observe(e, t);
}, t.prototype.clear = function() {
return this.splice(0);
}, t.prototype.concat = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t - 0] = arguments[t];
return this.$mobx.atom.reportObserved(), Array.prototype.concat.apply(this.slice(), e.map(function(e) {
return Ve(e) ? e.slice() : e;
}));
}, t.prototype.replace = function(e) {
return this.$mobx.spliceWithArray(0, this.$mobx.values.length, e);
}, t.prototype.toJS = function() {
return this.slice();
}, t.prototype.toJSON = function() {
return this.toJS();
}, t.prototype.peek = function() {
return this.$mobx.values;
}, t.prototype.find = function(e, t, n) {
void 0 === n && (n = 0), this.$mobx.atom.reportObserved();
for (var r = this.$mobx.values, o = r.length, a = n; o > a; a++) if (e.call(t, r[a], a, this)) return r[a];
return void 0;
}, t.prototype.splice = function(e, t) {
for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
switch (arguments.length) {
case 0:
return [];

case 1:
return this.$mobx.spliceWithArray(e);

case 2:
return this.$mobx.spliceWithArray(e, t);
}
return this.$mobx.spliceWithArray(e, t, n);
}, t.prototype.push = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t - 0] = arguments[t];
var n = this.$mobx;
return n.spliceWithArray(n.values.length, 0, e), n.values.length;
}, t.prototype.pop = function() {
return this.splice(Math.max(this.$mobx.values.length - 1, 0), 1)[0];
}, t.prototype.shift = function() {
return this.splice(0, 1)[0];
}, t.prototype.unshift = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t - 0] = arguments[t];
var n = this.$mobx;
return n.spliceWithArray(0, 0, e), n.values.length;
}, t.prototype.reverse = function() {
this.$mobx.atom.reportObserved();
var e = this.slice();
return e.reverse.apply(e, arguments);
}, t.prototype.sort = function(e) {
this.$mobx.atom.reportObserved();
var t = this.slice();
return t.sort.apply(t, arguments);
}, t.prototype.remove = function(e) {
var t = this.$mobx.values.indexOf(e);
return t > -1 ? (this.splice(t, 1), !0) : !1;
}, t.prototype.toString = function() {
return "[mobx.array] " + Array.prototype.toString.apply(this.$mobx.values, arguments);
}, t.prototype.toLocaleString = function() {
return "[mobx.array] " + Array.prototype.toLocaleString.apply(this.$mobx.values, arguments);
}, t;
}(Yt);
pt(Qt.prototype, function() {
return ut(this.slice());
}), St(Qt.prototype, [ "constructor", "intercept", "observe", "clear", "concat", "replace", "toJS", "toJSON", "peek", "find", "splice", "push", "pop", "shift", "unshift", "reverse", "sort", "remove", "toString", "toLocaleString" ]), 
Object.defineProperty(Qt.prototype, "length", {
enumerable: !1,
configurable: !0,
get: function() {
return this.$mobx.getArrayLength();
},
set: function(e) {
this.$mobx.setArrayLength(e);
}
}), [ "every", "filter", "forEach", "indexOf", "join", "lastIndexOf", "map", "reduce", "reduceRight", "slice", "some" ].forEach(function(e) {
var t = Array.prototype[e];
wt(Qt.prototype, e, function() {
return this.$mobx.atom.reportObserved(), t.apply(this.$mobx.values, arguments);
});
});
var Zt = {
configurable: !0,
enumerable: !1,
set: Fe(0),
get: Ge(0)
};
je(1e3), t.fastArray = He, t.isObservableArray = Ve;
var en = {}, tn = function() {
function e(e, t) {
var n = this;
this.$mobx = en, this._data = {}, this._hasMap = {}, this.name = "ObservableMap@" + ct(), 
this._keys = new Qt(null, Vt.Reference, this.name + ".keys()", !0), this.interceptors = null, 
this.changeListeners = null, this._valueMode = $e(t), this._valueMode === Vt.Flat && (this._valueMode = Vt.Reference), 
j(!0, function() {
mt(e) ? n.merge(e) : Array.isArray(e) && e.forEach(function(e) {
var t = e[0], r = e[1];
return n.set(t, r);
});
});
}
return e.prototype._has = function(e) {
return "undefined" != typeof this._data[e];
}, e.prototype.has = function(e) {
return this.isValidKey(e) ? (e = "" + e, this._hasMap[e] ? this._hasMap[e].get() : this._updateHasMapEntry(e, !1).get()) : !1;
}, e.prototype.set = function(e, t) {
this.assertValidKey(e), e = "" + e;
var n = this._has(e);
if (Ue(t, "[mobx.map.set] Expected unwrapped value to be inserted to key '" + e + "'. If you need to use modifiers pass them as second argument to the constructor"), 
Ce(this)) {
var r = Ie(this, {
type: n ? "update" : "add",
object: this,
newValue: t,
name: e
});
if (!r) return;
t = r.newValue;
}
n ? this._updateValue(e, t) : this._addValue(e, t);
}, e.prototype["delete"] = function(e) {
var t = this;
if (this.assertValidKey(e), e = "" + e, Ce(this)) {
var n = Ie(this, {
type: "delete",
object: this,
name: e
});
if (!n) return !1;
}
if (this._has(e)) {
var r = ye(), o = Pe(this), n = o || r ? {
type: "delete",
object: this,
oldValue: this._data[e].value,
name: e
} : null;
return r && me(n), Se(function() {
t._keys.remove(e), t._updateHasMapEntry(e, !1);
var n = t._data[e];
n.setNewValue(void 0), t._data[e] = void 0;
}, void 0, !1), o && Ae(this, n), r && be(), !0;
}
return !1;
}, e.prototype._updateHasMapEntry = function(e, t) {
var n = this._hasMap[e];
return n ? n.setNewValue(t) : n = this._hasMap[e] = new sn(t, Vt.Reference, this.name + "." + e + "?", !1), 
n;
}, e.prototype._updateValue = function(e, t) {
var n = this._data[e];
if (t = n.prepareNewValue(t), t !== an) {
var r = ye(), o = Pe(this), a = o || r ? {
type: "update",
object: this,
oldValue: n.value,
name: e,
newValue: t
} : null;
r && me(a), n.setNewValue(t), o && Ae(this, a), r && be();
}
}, e.prototype._addValue = function(e, t) {
var n = this;
Se(function() {
var r = n._data[e] = new sn(t, n._valueMode, n.name + "." + e, !1);
t = r.value, n._updateHasMapEntry(e, !0), n._keys.push(e);
}, void 0, !1);
var r = ye(), o = Pe(this), a = o || r ? {
type: "add",
object: this,
name: e,
newValue: t
} : null;
r && me(a), o && Ae(this, a), r && be();
}, e.prototype.get = function(e) {
return e = "" + e, this.has(e) ? this._data[e].get() : void 0;
}, e.prototype.keys = function() {
return ut(this._keys.slice());
}, e.prototype.values = function() {
return ut(this._keys.map(this.get, this));
}, e.prototype.entries = function() {
var e = this;
return ut(this._keys.map(function(t) {
return [ t, e.get(t) ];
}));
}, e.prototype.forEach = function(e, t) {
var n = this;
this.keys().forEach(function(r) {
return e.call(t, n.get(r), r);
});
}, e.prototype.merge = function(t) {
var n = this;
return Se(function() {
t instanceof e ? t.keys().forEach(function(e) {
return n.set(e, t.get(e));
}) : Object.keys(t).forEach(function(e) {
return n.set(e, t[e]);
});
}, void 0, !1), this;
}, e.prototype.clear = function() {
var e = this;
Se(function() {
J(function() {
e.keys().forEach(e["delete"], e);
});
}, void 0, !1);
}, Object.defineProperty(e.prototype, "size", {
get: function() {
return this._keys.length;
},
enumerable: !0,
configurable: !0
}), e.prototype.toJS = function() {
var e = this, t = {};
return this.keys().forEach(function(n) {
return t[n] = e.get(n);
}), t;
}, e.prototype.toJs = function() {
return dt("toJs is deprecated, use toJS instead"), this.toJS();
}, e.prototype.toJSON = function() {
return this.toJS();
}, e.prototype.isValidKey = function(e) {
return null === e || void 0 === e ? !1 : "string" != typeof e && "number" != typeof e && "boolean" != typeof e ? !1 : !0;
}, e.prototype.assertValidKey = function(e) {
if (!this.isValidKey(e)) throw new Error("[mobx.map] Invalid key: '" + e + "'");
}, e.prototype.toString = function() {
var e = this;
return this.name + "[{ " + this.keys().map(function(t) {
return t + ": " + e.get(t);
}).join(", ") + " }]";
}, e.prototype.observe = function(e, t) {
return ft(t !== !0, "`observe` doesn't support the fire immediately property for observable maps."), 
Oe(this, e);
}, e.prototype.intercept = function(e) {
return Ee(this, e);
}, e;
}();
t.ObservableMap = tn, pt(tn.prototype, function() {
return this.entries();
}), t.map = ze, t.isObservableMap = We;
var nn = function() {
function e(e, t, n) {
this.target = e, this.name = t, this.mode = n, this.values = {}, this.changeListeners = null, 
this.interceptors = null;
}
return e.prototype.observe = function(e, t) {
return ft(t !== !0, "`observe` doesn't support the fire immediately property for observable objects."), 
Oe(this, e);
}, e.prototype.intercept = function(e) {
return Ee(this, e);
}, e;
}(), rn = {}, on = {};
t.isObservableObject = et;
var an = {}, sn = function(e) {
function t(t, n, r, o) {
void 0 === r && (r = "ObservableValue@" + ct()), void 0 === o && (o = !0), e.call(this, r), 
this.mode = n, this.hasUnreportedChange = !1, this.value = void 0;
var a = Ne(t, Vt.Recursive), i = a[0], s = a[1];
this.mode === Vt.Recursive && (this.mode = i), this.value = De(s, this.mode, this.name), 
o && ye() && ge({
type: "create",
object: this,
newValue: this.value
});
}
return Ot(t, e), t.prototype.set = function(e) {
var t = this.value;
if (e = this.prepareNewValue(e), e !== an) {
var n = ye();
n && me({
type: "update",
object: this,
newValue: e,
oldValue: t
}), this.setNewValue(e), n && be();
}
}, t.prototype.prepareNewValue = function(e) {
if (Ue(e, "Modifiers cannot be used on non-initial values."), W(), Ce(this)) {
var t = Ie(this, {
object: this,
type: "update",
newValue: e
});
if (!t) return an;
e = t.newValue;
}
var n = vt(this.mode === Vt.Structure, this.value, e);
return n ? De(e, this.mode, this.name) : an;
}, t.prototype.setNewValue = function(e) {
var t = this.value;
this.value = e, this.reportChanged(), Pe(this) && Ae(this, [ e, t ]);
}, t.prototype.get = function() {
return this.reportObserved(), this.value;
}, t.prototype.intercept = function(e) {
return Ee(this, e);
}, t.prototype.observe = function(e, t) {
return t && e(this.value, void 0), Oe(this, e);
}, t.prototype.toJSON = function() {
return this.get();
}, t.prototype.toString = function() {
return this.name + "[" + this.value + "]";
}, t;
}(Mt), ln = "__$$iterating", un = function() {
function e() {
this.listeners = [], dt("extras.SimpleEventEmitter is deprecated and will be removed in the next major release");
}
return e.prototype.emit = function() {
for (var e = this.listeners.slice(), t = 0, n = e.length; n > t; t++) e[t].apply(null, arguments);
}, e.prototype.on = function(e) {
var t = this;
return this.listeners.push(e), ht(function() {
var n = t.listeners.indexOf(e);
-1 !== n && t.listeners.splice(n, 1);
});
}, e.prototype.once = function(e) {
var t = this.on(function() {
t(), e.apply(this, arguments);
});
return t;
}, e;
}();
t.SimpleEventEmitter = un;
var pn = [];
Object.freeze(pn);
var cn = [], fn = function() {}, dn = Object.prototype.hasOwnProperty;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
"use strict";
var r = n(541), o = n(537), a = n(535), i = n(536), s = n(243), l = n(534), u = n(552), p = n(528), c = n(533), f = n(195);
t.gatewayState = new f.GatewayState(), t.gameStore = new r.GameStore(), t.settingsStore = new o.SettingsStore(), 
t.routeStore = new i.RouteStore(), t.takeoverStore = new s.TakeoverStore(), t.locationStore = new a.LocationStore(t.routeStore), 
t.layoutStateStore = new l.LayoutStateStore(t.locationStore, t.routeStore), t.quickmatchOptionsStore = new u.QuickmatchOptionsStore(), 
t.backgroundMusicStore = new c.BackgroundMusicStore(), t.shortcutKitsStore = new p.ShortcutKitsStore();
}, function(e, t, n) {
"use strict";
var r = n(2), o = n(4), a = n(196), i = 0, s = 0, l = function() {
function e() {}
return e.byFBAction = function(t) {
return e._byFBAction[t];
}, e.Accept = new a.Key("Accept", 13, 5, [ "OK", "TwinkleAccept" ], i++, s++, !1), 
e.Decline = new a.Key("Decline", 27, 7, [ "Back", "TwinkleDecline" ], i++, s++, !1), 
e.Option1 = new a.Key("Option1", 88, 6, [ "View", "TwinkleOption1" ], i++, s++, !1), 
e.Option2 = new a.Key("Option2", 89, 4, [ "Edit", "TwinkleOption2" ], i++, s++, !1), 
e.Option3 = new a.Key("Option3", 45, 10, [ "LThumb", "TwinkleOption3" ], i++, s++, !1), 
e.Option4 = new a.Key("Option4", 46, 11, [ "RThumb", "TwinkleOption4" ], i++, s++, !1), 
e.Previous = new a.Key("Previous", 33, 16, [ "TabLeft", "TwinklePrevious" ], i++, s++, !1), 
e.Next = new a.Key("Next", 34, 17, [ "TabRight", "TwinkleNext" ], i++, s++, !1), 
e.Home = new a.Key("Home", 36, 14, [ "MenuTriggerLeft", "TwinkleHome" ], i++, s++, !1), 
e.End = new a.Key("End", 35, 15, [ "MenuTriggerRight", "TwinkleEnd" ], i++, s++, !1), 
e.Up = new a.Key("Up", 38, 0, [ "NavigateUp", "TwinkleUp" ], i++, s++, !0), e.Down = new a.Key("Down", 40, 1, [ "NavigateDown", "TwinkleDown" ], i++, s++, !0), 
e.Left = new a.Key("Left", 37, 2, [ "NavigateLeft", "TwinkleLeft" ], i++, s++, !0), 
e.Right = new a.Key("Right", 39, 3, [ "NavigateRight", "TwinkleRight" ], i++, s++, !0), 
e.Select = new a.Key("Select", 8, 13, [ "Deactivate", "TwinkleSelect" ], i++, s++, !1), 
e.ScrollUp = new a.Key("ScrollUp", 47, 29, [ "NavigateRUp", "TwinkleScrollUp" ], i++, s++, !0), 
e.ScrollDown = new a.Key("ScrollDown", 48, 30, [ "NavigateRDown", "TwinkleScrollDown" ], i++, s++, !0), 
e.Start = new a.Key("Start", 32, 12, [ "Start", "TwinkleStart" ], i++, s++, !1), 
e.list = [ e.Accept, e.Decline, e.Option1, e.Option2, e.Option3, e.Option4, e.Previous, e.Next, e.Home, e.End, e.Up, e.Down, e.Left, e.Right, e.Select, e.ScrollUp, e.ScrollDown, e.Start ], 
e._byFBAction = [ o.object(e.list.map(function(e) {
return [ e.fbAction[0], e ];
})), o.object(e.list.map(function(e) {
return [ e.fbAction[1], e ];
})) ], e.byKeyCode = o.object(e.list.map(function(e) {
return [ e.keyCode, e ];
})), e.byPadCode = o.object(e.list.map(function(e) {
return [ e.padCode, e ];
})), e.prioritized = o.sortBy(e.list, "priority"), e.ordered = o.sortBy(e.list, "order"), 
e;
}();
if (r.inputHandler.isEnterOnCircle()) {
var u = l.Accept;
l.Accept = l.Decline, l.Decline = u;
}
e.exports = l;
}, function(e, t, n) {
var r = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, o = n(4), a = n(2).Tween, i = n(2), s = i.Native.objectAssign, l = 0, u = {
easing: "CubicInOut",
duration: 22 / 60 * 1e3
}, p = {
defaultItemDelay: 50,
defaultTweenOptions: new a.Options(u),
defaultTweenOptionsNew: u,
calculateSpeed: function c(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? p.defaultTweenOptions.duration : arguments[1];
return Math.abs(e) / t;
},
tweenBetween: function f(e, t) {
return s({}, this.defaultTweenOptionsNew, {
from: e,
to: t,
speed: this.calculateSpeed(t - e),
duration: null
});
},
tweenSwitch: function d(e, t, n) {
var r = arguments.length <= 3 || void 0 === arguments[3] ? {} : arguments[3], o = arguments.length <= 4 || void 0 === arguments[4] ? {} : arguments[4], a = s({}, this.defaultTweenOptionsNew, n ? r : o), i = this.calculateSpeed(t - e, a.duration);
return 0 >= i ? (console.warn("Performing Animation.tweenSwitch with negative or 0 speed"), 
s({}, a, {
to: n ? t : e
})) : s({}, a, {
to: n ? t : e,
speed: i,
duration: null
});
},
tweenTo: function h(e, t) {
return s({}, this.defaultTweenOptionsNew, {
to: e
}, t);
},
tween: function y(e, t, n) {
return new a(e + "_" + l++, t, o.extend({}, p.defaultTweenOptions, n));
}
};
p.presets = {
transition: r({}, p.defaultTweenOptions, {
duration: p.defaultTweenOptions.duration / 1.5
}),
trickleUp: {
values: {
opacity: {
from: 0,
to: 1
},
translateY: {
from: 80,
to: 0
}
},
options: p.defaultTweenOptions
},
slideRight: {
values: {
opacity: {
from: 0,
to: 1
},
translateX: {
from: -91,
to: 0
}
},
options: o.extend({}, p.defaultTweenOptions, {
delay: p.defaultItemDelay
})
},
list: {
enter: {
duration: p.defaultTweenOptions.duration / 4
},
leave: {
duration: p.defaultTweenOptions.duration / 2
},
scroll: {
easing: "Linear",
duration: p.defaultTweenOptions.duration / 4
}
},
text: {
scroll: {
duration: p.defaultTweenOptions.duration / 2,
easing: "CubicOut"
}
},
focusables: {
enter: {
"default": {
duration: SpartaGlobals.bundleIsPC ? p.defaultTweenOptions.duration / 4 : p.defaultTweenOptions.duration / 2.5
},
fast: {
duration: p.defaultTweenOptions.duration / 4
},
slow: {
duration: p.defaultTweenOptions.duration / 2
}
},
leave: {
easing: "Linear",
duration: p.defaultTweenOptions.duration / 2
}
},
press: {
duration: SpartaGlobals.bundleIsPC ? p.defaultTweenOptions.duration / 10 : p.defaultTweenOptions.duration / 5
},
easings: {
linear: {
easing: "Linear"
},
quadraticIn: {
easing: "QuadraticIn"
},
quadraticOut: {
easing: "QuadraticOut"
},
quadraticInOut: {
easing: "QuadraticInOut"
},
cubicIn: {
easing: "CubicIn"
},
cubicOut: {
easing: "CubicOut"
},
cubicInOut: {
easing: "CubicInOut"
},
cubicOutBack: {
easing: "CubicOutBack"
},
sineIn: {
easing: "SineIn"
},
sineOut: {
easing: "SineOut"
},
sineInOut: {
easing: "SineInOut"
}
}
}, e.exports = p;
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, o = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
n(this, e), this.label = t.label, this.action = t.action, this.holdAction = t.holdAction, 
this.releaseAction = t.releaseAction, this.key = t.key, this.visible = t.visible, 
this.blockInputFor = "number" == typeof t.blockInputFor ? t.blockInputFor : 0;
}
return e.prototype.equals = function t(e) {
return this === e ? !0 : this.label === e.label && this.action === e.action && this.holdAction === e.holdAction && this.releaseAction === e.releaseAction && this.key === e.key && this.visible === e.visible && this.blockInputFor === e.blockInputFor;
}, e.prototype.extend = function o(t) {
return new e(r({}, this, t));
}, e;
}();
t["default"] = o, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(585), a = r(o), i = n(586), s = r(i);
t["default"] = {
createAction: a["default"],
createStore: s["default"]
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
var n = function(t) {
function n(r) {
o(this, n), t.call(this, r), this._isMounted = !0, this._storeUnsubscribes = [], 
this.state = this.state || {}, this.subscribeToStores(e, !1);
}
return a(n, t), n.prototype.componentWillUnmount = function r() {
t.prototype.componentWillUnmount && t.prototype.componentWillUnmount.call(this), 
this._isMounted = !1, this.unsubscribeFromStores();
}, n.prototype.subscribeToStores = function i(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1], n = !1, r = {};
return u["default"].each(e, function(e, t) {
var o = e.getState;
"function" == typeof o && (r[t] = o.apply(e), n = !0), this._storeUnsubscribes.push(e.listen(this.onStoreChange.bind(this, t)));
}.bind(this)), n && (t ? this.setState(r) : this.state = u["default"].extend(this.state, r)), 
r;
}, n.prototype.unsubscribeFromStores = function s() {
this._storeUnsubscribes.forEach(function(e) {
return e();
}), this._storeUnsubscribes = [];
}, n.prototype.onStoreChange = function l(e, t) {
if (this._isMounted) {
var n = {};
n[e] = t, this.setState(n, null, "updated store value for " + e);
}
}, n;
}(t);
return n.displayName = t.displayName || t.name, n;
};
}
t.__esModule = !0, t["default"] = i;
var s = n(1), l = (r(s), n(4)), u = r(l);
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var a = n(15), i = o(a), s = n(2), l = r(s);
e.exports = {
quitSparta: i["default"].createAction(),
gotoLocation: i["default"].createAction(),
setLocationSubtitle: i["default"].createAction(),
goToParentRoute: i["default"].createAction(),
goBackInHistory: i["default"].createAction(),
goForwardInHistory: i["default"].createAction(),
updateLocation: i["default"].createAction(),
handleSpartaActivated: i["default"].createAction(),
handleSpartaActivatedUpdate: i["default"].createAction(),
handleSpartaWillDeactivate: i["default"].createAction(),
handlePushNotification: i["default"].createAction(),
setResolution: i["default"].createAction(),
setNavigationEnabled: i["default"].createAction(),
updateConfig: i["default"].createAction(),
updateInstallState: i["default"].createAction(),
updateSubscription: i["default"].createAction(),
setClientVideoRecordingEnabled: i["default"].createAction()
}, l.getBuildInfo().isRemoteEngine() && (window.CoreActions = e.exports);
}, function(e, t, n) {
var r = n(2).Bounds, o = n(6), a = n(181), i = a.dangerZoneSize, s = a.safeZone, l = a.screen, u = {
breadcrumbs: o.getHeight(SpartaGlobals.bundleIsPC ? 4 : 3),
header: o.getHeight(SpartaGlobals.bundleIsPC ? 5 : 4),
headerBottomMargin: o.getHeight(SpartaGlobals.bundleIsPC ? 4 : 3),
tabs: o.getHeight(SpartaGlobals.bundleIsPC ? 4 : 3),
fadeTop: o.getHeight(SpartaGlobals.bundleIsPC ? 4 : 3),
fadeBottom: o.getHeight(SpartaGlobals.bundleIsPC ? 0 : 3),
footerTopMargin: o.getHeight(SpartaGlobals.bundleIsPC ? 0 : 1),
footer: o.getHeight(SpartaGlobals.bundleIsPC ? 0 : 5),
tallContent: o.getHeight(SpartaGlobals.bundleIsPC ? 14 : 10)
}, p = s.height - u.breadcrumbs - u.header - u.headerBottomMargin - u.tabs - u.fadeTop - u.fadeBottom - u.footerTopMargin - u.footer;
SpartaGlobals.bundleIsPC && (p += i.height);
var c = new r(s.left, s.top, s.width, u.breadcrumbs + u.header), f = new r(s.left, c.bottom + u.headerBottomMargin, o.content.width, u.tabs), d = new r(s.left, f.bottom, o.content.width, u.fadeTop), h = new r(s.left, s.bottom - u.footer, s.width, u.footer), y = new r(s.left, h.top - u.footerTopMargin - u.fadeBottom, s.width, u.fadeBottom), g = new r(s.left, d.bottom, o.content.width, p), m = new r(s.left, g.top, s.width, u.tallContent), b = Math.ceil(l.width * (997 / 1920)), v = Math.ceil(l.height * (273 / 1080)), _ = SpartaGlobals.bundleIsConsole ? 277 : 189, S = SpartaGlobals.bundleIsConsole ? 76 : 63, w = s.height - u.footerTopMargin - u.footer, T = o.getHeight(6) + 4 * o.GUTTER, C = o.getWidth(8) + i.width, E = o.getWidth(6), I = 200, P = SpartaGlobals.bundleIsConsole ? new r(0, 0, 0, 0) : new r(l.right, l.top, T, w), O = SpartaGlobals.bundleIsConsole ? new r(0, 0, 0, 0) : new r(l.right, l.top, T + I, w), A = SpartaGlobals.bundleIsConsole ? new r(l.right, l.top, C, w) : new r(l.right, l.top, E, w), k = E + I, R = SpartaGlobals.bundleIsConsole ? new r(0, 0, 0, 0) : new r(l.right, l.top, k, w), x = o.getWidth(9), M = SpartaGlobals.bundleIsPC ? o.getHeight(5) : h.height, N = SpartaGlobals.bundleIsPC ? a.sideOffset : o.getWidth(7) + i.width;
e.exports = {
header: c,
tabs: f,
fadeAreaTop: d,
footer: h,
fadeAreaBottom: y,
content: g,
tallContent: m,
dangerZoneSize: i,
screen: l,
safeZone: s,
startScreenLogo: new r(Math.floor(l.width / 2 - b / 2), Math.floor(l.height / 2.3 - v / 2), b, v),
background: l,
mainMenu: new r(l.left - N, l.top, N, l.height),
input: h,
logo: new r(c.right - _, c.top, _, S),
comCenter: {
minimized: P,
maximized: A,
containerMaximized: R,
containerMinimized: O,
inviteNotificationWidth: I
},
userBar: SpartaGlobals.bundleIsPC ? new r(s.right - x, g.bottom - M, x, M) : new r(h.right - x, h.bottom - M, x, M)
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
S.merge(e), w.trigger(S.getState());
}
function a(e) {
var t = e.envBranchName;
if (t) {
var n = f.gameStore.games;
return u["default"].find(n.toJS(), function(e, n) {
return e.branchNameTest && -1 !== t.toLowerCase().indexOf(e.branchNameTest);
});
}
return null;
}
function i(e, t, n) {
if ("zh-cn" === e && (e = b["default"].CHINESE), e === b["default"].ENGLISH) return b["default"].ENGLISH;
if (!e) return console.error("Invalid locale argument. Got: '" + e + "'"), b["default"].ENGLISH;
if (!n) return console.error("Invalid region argument. Got: '" + n + "'"), b["default"].ENGLISH;
var r = a({
envBranchName: t
});
if (!r) return console.error("Could not get locales to load. Failed to get hosting game"), 
b["default"].ENGLISH;
var o = r.locales[n.toLowerCase()];
if (!o) return console.error("Missing region in list of supported locales " + ("(region: '" + n + "', game: '" + r.displayName() + "'")), 
b["default"].ENGLISH;
var i = o[SpartaGlobals.bundlePlatform];
return i ? -1 === i.indexOf(e) ? (console.error("Missing locale in list of supported locales " + ("(locale: '" + e + "', platform: '" + SpartaGlobals.bundlePlatform + "', ") + ("region: '" + n + "', game '" + r.displayName() + "')")), 
b["default"].ENGLISH) : e : (console.error("Missing platform in list of supported locales " + ("(platform: '" + SpartaGlobals.bundlePlatform + "', region: '" + n + "', game: '" + r.displayName() + "')")), 
b["default"].ENGLISH);
}
function s(e) {
var t = e.toLowerCase();
return "eu" === t || "ru" === t || "jp" === t ? t : _["default"].NA;
}
t.__esModule = !0;
var l = n(4), u = r(l), p = n(15), c = r(p), f = n(11), d = n(69), h = r(d), y = n(24), g = r(y), m = n(112), b = r(m), v = n(646), _ = r(v), S = new g["default"]("NativePropertiesStore", {
enableInputConcepts: !1,
enableTwinkleInputConcepts: !1,
envBranchName: null,
envChangeListNumber: null,
envOnlineEnvironment: null,
protocolVersion: null,
serviceOverride: null,
productCode: null,
gatewayProtocol: "http",
gatewayHost: null,
ready: !1,
hostingGameId: null,
locale: null,
commerceLocale: null,
region: null,
crossLaunch: null,
parentSessionId: null,
isStreamingInstalling: null
}), w = c["default"].createStore({
init: function T() {
h["default"].nativeClientReadyMessage.listen(function(e) {
var t = null, n = null, r = e.nativeClientInformation;
if (!u["default"].isEmpty(r.serviceOverride)) try {
t = JSON.parse(r.serviceOverride);
} catch (l) {
console.warn("Failed to parse service override JSON:", r.serviceOverride);
}
u["default"].isEmpty(r.productCode) || (n = r.productCode);
var p = S.getState(), c = r.region ? s(r.region) : _["default"].EU, f = r.locale, d = (r.commerceLocale || "").toLowerCase(), h = {
enableInputConcepts: r.enableInputConcepts || !1,
enableTwinkleInputConcepts: r.enableTwinkleInputConcepts || !1,
envBranchName: r.env.branchName,
envChangeListNumber: r.env.changeListNumber,
envOnlineEnvironment: r.env.onlineEnvironment,
gatewayHost: r.env.gatewayHost,
protocolVersion: r.protocolVersion,
serviceOverride: t,
productCode: n,
locale: i(f, r.env.branchName, c) || b["default"].ENGLISH,
commerceLocale: d,
ready: !0,
region: c,
originalLocale: f,
crossLaunch: r.crossLaunch,
parentSessionId: r.parentSessionId,
isStreamingInstalling: r.isStreamingInstalling || !1
};
if (r.env.gatewayProtocol && (h.gatewayProtocol = r.env.gatewayProtocol), !p.hostingGameId) {
var y = a(h);
if (!y) throw new Error("Could not get hosting game. Invalid branchName (" + r.env.branchName + ")?");
h.hostingGameId = y ? y.gameId : null;
}
o(h);
}), h["default"].firstPartyConnectedMessage.listen(function(e) {
var t = {
envOnlineEnvironment: e.onlineEnvironment,
gatewayHost: e.gatewayHost,
gatewayProtocol: e.gatewayProtocol,
ready: !0
};
o(t);
});
},
getHostingGame: function C() {
var e = S.getState().hostingGameId;
return e ? f.gameStore.getGame(e) : null;
},
getState: function E() {
return S.getState();
}
});
t["default"] = w, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return b(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function s(e) {
return e = f["default"].extend({
ignoreParentIsolation: !1,
passDownId: !0,
group: !1
}, e), function(t) {
var n = function(t) {
function n(n) {
r(this, i), t.call(this, n), this.inputOptions = e, this.state = this.state || {};
}
o(n, t), n.prototype.getChildContext = function s() {
return p({
parentInputDecoratedComponent: this
}, t.prototype.getChildContext && t.prototype.getChildContext.call(this));
}, n.prototype.updateInput = function l() {
var e = [].concat(t.prototype.getInput && t.prototype.getInput.call(this), this._isActive && t.prototype.getActiveInput && t.prototype.getActiveInput.call(this)).filter(function(e) {
return e;
});
g["default"].register(this.registrationId, this.inputGroupId, e);
}, n.prototype.componentWillEnter = function u(e) {
t.prototype.componentWillEnter && t.prototype.componentWillEnter.call(this, e), 
this._isActive = !0, this.updateInput();
}, n.prototype.componentWillFocus = function c() {
if (t.prototype.componentWillFocus) {
for (var e, n = arguments.length, r = Array(n), o = 0; n > o; o++) r[o] = arguments[o];
(e = t.prototype.componentWillFocus).call.apply(e, [ this ].concat(r));
}
this._isFocused = !0, this.updateInput();
}, n.prototype.componentWillBlur = function f() {
if (t.prototype.componentWillBlur) {
for (var e, n = arguments.length, r = Array(n), o = 0; n > o; o++) r[o] = arguments[o];
(e = t.prototype.componentWillBlur).call.apply(e, [ this ].concat(r));
}
this._isFocused = !1, this.updateInput();
}, n.prototype.componentWillLeave = function d(e) {
t.prototype.componentWillLeave && t.prototype.componentWillLeave.call(this, e), 
this._isActive = !1, this.updateInput();
}, n.prototype.componentWillMount = function h() {
var n = this.context.parentInputDecoratedComponent, r = e.group !== !1 && this.props.group !== !1;
this._allowIsolation = !0, this.isOwnInputGroup = r || !n || !n.inputOptions.passDownId, 
this.inputGroupId = this.isOwnInputGroup ? "inputGroup" + v++ : n.inputGroupId, 
this.registrationId = "inputRegistration" + _++, t.prototype.componentWillMount && t.prototype.componentWillMount.call(this);
}, n.prototype.componentDidMount = function y() {
t.prototype.componentDidMount && t.prototype.componentDidMount.call(this), this.updateInput();
}, n.prototype.componentDidUpdate = function m(e, n) {
t.prototype.componentDidUpdate && t.prototype.componentDidUpdate.call(this, e, n), 
this.updateInput();
}, n.prototype.componentWillUnmount = function b() {
t.prototype.componentWillUnmount && t.prototype.componentWillUnmount.call(this), 
g["default"]["delete"](this.registrationId, this.inputGroupId);
}, n.prototype.allowIsolation = function S(e) {
this._allowIsolation = e;
var t = this.context.parentInputDecoratedComponent;
t && t.allowIsolation(e);
}, n.prototype.isIsolationAllowed = function w() {
if (this.inputOptions.ignoreParentIsolation) return this._allowIsolation;
if (!this._allowIsolation) return !1;
var e = this.context.parentInputDecoratedComponent;
return e ? e.isIsolationAllowed() : !0;
}, n.prototype.isolateInputGroup = function T() {
if (this.isIsolationAllowed()) {
if (this.isOwnInputGroup) {
var e = this.context.parentInputDecoratedComponent;
e && e.allowIsolation(!1);
}
g["default"].isolateGroup(this.inputGroupId);
}
}, n.prototype.releaseInputGroup = function C() {
if (this._allowIsolation) {
if (this.isOwnInputGroup) {
var e = this.context.parentInputDecoratedComponent;
e && e.allowIsolation(!0);
}
g["default"].releaseGroup(this.inputGroupId);
}
}, n.prototype.render = function E() {
return this.getInput && this.getInput(), t.prototype.render.call(this);
};
var i = n;
return n = a("_$InputManagedComponent")(n) || n;
}(t), i = {
parentInputDecoratedComponent: h["default"].PropTypes.any
};
return n.contextTypes = f["default"].extend({}, t.contextTypes, i), n.childContextTypes = f["default"].extend({}, t.childContextTypes, i), 
n.displayName = t.displayName || t.name, n;
};
}
var l = n(3), u = i(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
};
t["default"] = s;
var c = n(4), f = i(c), d = n(1), h = i(d), y = n(124), g = i(y), m = {
_$InputManagedComponent: {
displayName: "InputManagedComponent",
isInFunction: !0
}
}, b = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-common/lib/decorators/input.js",
components: m,
locals: [],
imports: []
}), v = 0, _ = 0;
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {}
t.__esModule = !0;
var a = n(625), i = r(a);
o.prototype.createClient = function(e) {
return i["default"](e);
}, o.prototype.resetClients = function() {
a.instances.forEach(function(e) {
return e.reset();
});
}, t["default"] = new o(), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
updateServers: a["default"].createAction(),
setGameData: a["default"].createAction(),
refreshGameData: a["default"].createAction(),
setFilterOptions: a["default"].createAction(),
resetFilters: a["default"].createAction(),
prepareFilters: a["default"].createAction(),
toggleFilters: a["default"].createAction(),
setFilterValue: a["default"].createAction(),
applyFilters: a["default"].createAction(),
toggleFilterCategory: a["default"].createAction(),
invertFilterCategory: a["default"].createAction(),
saveFilter: a["default"].createAction(),
refreshSavedFilters: a["default"].createAction(),
deleteSavedFilter: a["default"].createAction(),
refreshServers: a["default"].createAction(),
fetchServerCounts: a["default"].createAction(),
setServerCounts: a["default"].createAction(),
trackFilterJoin: a["default"].createAction(),
cycleSort: a["default"].createAction(),
setSort: a["default"].createAction(),
toggleBookmark: a["default"].createAction(),
refreshBookmarks: a["default"].createAction(),
setHistory: a["default"].createAction(),
refreshHistory: a["default"].createAction(),
refreshRentedServers: a["default"].createAction(),
getDetailsForRentedServer: a["default"].createAction(),
clearRentedServerDetails: a["default"].createAction(),
receivePingResult: a["default"].createAction(),
requestPings: a["default"].createAction(),
getDetailsForServer: a["default"].createAction(),
clearServerDetails: a["default"].createAction()
};
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return M(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(13), y = s(h), g = n(2), m = n(14), b = s(m), v = n(12), _ = s(v), S = n(6), w = s(S), T = n(7), C = s(T), E = n(59), I = s(E), P = n(9), O = n(11), A = n(19), k = s(A), R = n(8), x = {
_$Button: {
displayName: "Button"
}
}, M = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/buttons/Button.jsx",
components: x,
locals: [],
imports: []
}), N = {
button: {
zOffset: 0,
justifyContent: "center",
height: w["default"].getHeight(7)
},
buttonBorder: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 5,
texture: P.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2
},
background: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
backgroundColor: "#ffffff",
zOffset: 1
},
textContainer: {
position: "absolute",
zOffset: 3,
bottom: 0,
left: 0,
right: 0,
top: 0,
alignItems: "center",
justifyContent: "center"
},
textLight: function D(e) {
return {
color: e ? "#00000066" : "#ffffff",
zOffset: 3
};
},
textDark: {
color: "#000000",
zOffset: 3
}
}, $ = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = t.focusItem ? t.focusItem : g.focus.create(this, "button_" + t.text), 
this.focusItem.autoFocusCandidate = !0, g.focus.onComponentUpdate(this, function(e, t) {
r.focusItem.setActive("ead60ad4:61", !e.disabled);
});
}
a(t, e), t.prototype.componentDidMount = function s() {
this.props.stealFocus && this.focusItem.setFocused(g.focus.FocusSource.Auto);
}, t.prototype.getDynamicStyles = function l() {
return g.focus.system.controllerMode ? {
showOnHover: {
opacity: y["default"].tweenSwitch(0, 1, this.focusItem.isFocused, y["default"].presets.focusables.enter["default"])
},
hideOnHover: {
opacity: y["default"].tweenSwitch(1, 0, this.focusItem.isFocused, y["default"].presets.focusables.enter["default"])
}
} : {
showOnHover: {
opacity: this.focusItem.isFocused ? 1 : 0
},
hideOnHover: {
opacity: this.focusItem.isFocused ? 0 : 1
}
};
}, t.prototype.getTexts = function u(e) {
var t = this.props, n = t.text, o = t.inverted, a = t.textSize, i = t.textStyle, s = null, l = O.layoutStateStore.current;
s = l && l.config ? l.config.gameId || "generic" : k["default"].getHostingGame().gameId;
var u = {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
value: n.toUpperCase(),
size: a,
section: s,
type: "emphasis",
style: N.textLight(o)
}),
_owner: null
}, f = {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
value: n.toUpperCase(),
size: a,
section: s,
type: "emphasis",
style: p({}, N.textLight(o), e.hideOnHover, i)
}),
_owner: null
}, d = {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
value: n.toUpperCase(),
size: a,
section: s,
type: "emphasis",
style: p({}, N.textDark, e.showOnHover)
}),
_owner: null
};
return {
disabled: u,
normal: f,
hover: d
};
}, t.prototype.getIcons = function f(e) {
var t = this.props, n = t.icon, r = t.size, o = {
normal: {
texture: n.normal,
width: r,
height: r
},
hover: {
texture: n.hover,
width: r,
height: r
}
}, a = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, o.normal, {
opacity: .5
}),
skipFade: !0
},
_owner: null
}, i = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, o.normal, e.hideOnHover),
skipFade: !0
},
_owner: null
}, s = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, o.hover, e.showOnHover),
skipFade: !0
},
_owner: null
};
return {
disabled: a,
normal: i,
hover: s
};
}, t.prototype.render = function d() {
var e = this.props, t = e.text, n = e.inputLabel, o = e.action, a = e.disabled, i = e.style, s = e.icon, l = e.inverted, u = e.blockInputFor, f = p({}, N.button, i), d = this.getDynamicStyles(), h = {
disabled: null,
normal: null,
hover: null
};
if (s ? h = this.getIcons(d) : t && (h = this.getTexts(d)), a) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, N.background, {
opacity: 0
})
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: N.buttonBorder
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: h.disabled,
style: N.textContainer
},
_owner: null
} ],
style: p({}, f, {
opacity: .5
})
},
_owner: null
};
var y = n ? n : __("ID_SPARTA_ACTION_SELECT"), g = o ? new b["default"]({
label: y,
action: o,
key: _["default"].Accept,
blockInputFor: u
}) : null, m = l ? {
opacity: 1
} : d.showOnHover;
return {
$$typeof: c,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, N.background, m)
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: N.buttonBorder
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: h.hover,
style: N.textContainer
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: h.normal,
style: N.textContainer
},
_owner: null
} ],
input: g,
glow: !0,
style: f,
focusItem: this.focusItem
}),
_owner: null
};
};
var n = t;
return t = i("_$Button")(t) || t, t = R.observer(t) || t;
}(d["default"].Component);
t["default"] = $, $.propTypes = {
inputLabel: d["default"].PropTypes.string,
action: d["default"].PropTypes.func,
blockInputFor: d["default"].PropTypes.number,
disabled: d["default"].PropTypes.bool,
inverted: d["default"].PropTypes.bool,
text: d["default"].PropTypes.string,
textSize: d["default"].PropTypes.string,
icon: d["default"].PropTypes.object,
size: d["default"].PropTypes.number
}, $.defaultProps = {
blockInputFor: 500,
textSize: "S",
text: " "
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(t) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, n, r) {
function o(n) {
(t.__storageDebug === !0 || t.__storageDebug === e || t.__storageDebug instanceof Array && t.__storageDebug.indexOf(e) >= 0) && console.debug(e, "set", n), 
t.__storage = t.__storage.set(e, n);
}
function a() {
return t.__storage.get(e);
}
if (!t.__storage.hasOwnProperty(e)) {
var s = r ? n : new l["default"](n);
t.__storage = t.__storage.set(e, s);
}
var u = {
set: function c(e, t) {
var n = a();
n = n.set(e, t), o(n);
},
merge: function f(e) {
var t = a();
t = t.merge(e), o(t);
},
remove: function d(e) {
var t = a();
t = t.remove(e), o(t);
},
get: function h(e) {
var t = a();
return t.get(e);
}
}, p = {
setState: function y(e) {
var t = r ? e : new l["default"](e);
o(t);
},
getState: function g() {
var e = a();
return e;
}
};
return r ? p : i["default"].extend({}, u, p);
}
var a = n(4), i = r(a), s = n(123), l = r(s);
t.__storage = new l["default"](), e.exports = o;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = {
display: a["default"].createAction(),
close: a["default"].createAction(),
closeAll: a["default"].createAction(),
closeGroup: a["default"].createAction()
};
e.exports = i;
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e) {
e || (J = void 0);
}
function i(e) {
var t = "/" === e[e.length - 1];
return t ? e.substr(0, e.length - 1) : e;
}
function s() {
return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
var t = 16 * Math.random() | 0, n = "x" === e ? t : 3 & t | 8;
return n.toString(16);
});
}
function l(e, t, n) {
var r = L["default"].getState(), o = r.gatewayHost + "/jsonrpc/" + SpartaGlobals.bundlePlatform.toLowerCase() + "/api", a = O["default"].isFunction(n) ? n() : n, i = {
jsonrpc: "2.0",
method: t,
params: a,
id: s()
}, l = "X-Guest: no-session-id";
e && "" !== e && (l = "X-GatewaySession: " + e), l += "\r\nX-ClientVersion: release-bf1-xpack0_9198_4bcc0069_tunguska_all_prod";
var u = {
methodName: t,
params: a
};
return Q(u), new Promise(function(e, n) {
R.httpRequest(R.HTTP_METHODS.POST, o + "?" + t, i, l, !0, function(t, r) {
var o = r.result, a = r.error;
t && !a ? (ee(o, u), e(o)) : (Z(a, u), n(I({}, a, {
request: u
})));
});
});
}
function u() {
return new Promise(function(e) {
B["default"].connect(function(t) {
return t.isReady() ? (e(), !1) : void 0;
});
});
}
function p(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? 3e4 : arguments[1];
return new Promise(function(n, r) {
u().then(function() {
var o, a, i = function s(e) {
o(), clearTimeout(a), e ? n(e) : r("Could not get auth code from frostbite. Was this request made while offline?");
};
a = setTimeout(function() {
console.warn("sparta.getNewAuthCode timed out"), i(!1);
}, t), o = R.frostbite.registerMessageListener("sparta.authCodeAvailableMessage", function(e, t) {
var n = (t.success, t.authCode);
return i(n);
}), R.frostbite.sendMessage("sparta.getNewAuthCode", {
clientId: e,
timeout: t
});
})["catch"](r);
});
}
function c(e, t) {
return l(null, "Authentication.viaEmail", {
email: e,
password: t
}).then(function(e) {
var t = e.data;
return t;
});
}
function f() {
var e = L["default"].getState();
return e.gatewayEmail ? c(e.gatewayEmail, e.gatewayPassword) : p(K[SpartaGlobals.bundlePlatform]);
}
function d(e) {
var t = G["default"].getState();
return l(null, "Authentication.getEnvIdViaAuthCode", {
authCode: e,
product: t.productCode,
dtab: t.serviceOverride,
locale: t.locale,
branchName: t.envBranchName,
changeListNumber: t.envChangeListNumber
}).then(function(t) {
var n = t.sessionId;
if (!n) throw new Error('Bad response from gateway "getEnvIdViaAuthCode" using auth code ' + e + ": " + ('No session id received (response.sessionId == "' + n + '")'));
return h(n).then(function(e) {
var r = {
personaId: t.personaId,
sessionId: n,
envId: t.envId,
parameters: t.parameters,
entitlements: e
};
return g(r), r;
});
}).then(function(e) {
return new N.GatewaySession(e.personaId, e.sessionId, e.envId, e.parameters, new q.GameEntitlements(e.entitlements));
});
}
function h(e) {
return Y ? Y : Y = new Promise(function(t, n) {
var r = O["default"].keys(W.gameStore.games.toJS()).concat([ "sparta" ]);
l(e, "Identity.getEntitlementsByGames", {
games: r,
forceRefresh: !0
}).then(function(e) {
e = O["default"].chain(e).map(function(e, t) {
var n = O["default"].map(e, function(e) {
return new q.Entitlement(e);
});
return [ t, n ];
}).object().value(), re(e), Y = void 0, t(e);
})["catch"](function(e) {
console.error(e), Y = void 0, n(e);
});
});
}
function y() {
return W.gatewayState.session.sessionId ? h(W.gatewayState.session.sessionId).then(function(e) {
var t = new N.GatewaySession(W.gatewayState.session.personaId, W.gatewayState.session.sessionId, W.gatewayState.session.envId, W.gatewayState.session.parameters, e);
return g(t), t.entitlements = new q.GameEntitlements(e), W.gatewayState.session = t, 
t;
}) : void console.error("Trying to refresh entitlements without a valid GatewaySession");
}
function g(e) {
return e;
}
function m() {
return Promise.resolve(null);
}
function b() {
return X ? X : B["default"].getState().isReady() ? (W.gatewayState.setSessionState(z.GatewaySessionState.connecting), 
X = m().then(function(e) {
return e ? e : (console.log("GWSESSION: No session from disk, getting authcode"), 
f().then(d));
}).then(function(e) {
return oe(e), W.gatewayState.setSessionState(z.GatewaySessionState.established, e), 
te(e), e.sessionId;
})["catch"](function(e) {
throw console.log("GWSESSION: Failed to create session: ", e), X = void 0, W.gatewayState.setSessionState(z.GatewaySessionState.failed), 
e;
})) : Promise.reject("Making gateway request while presence not ready! Please check onlineState");
}
function v(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? !0 : arguments[2];
return W.gatewayState.sessionState === z.GatewaySessionState.failed ? (console.warn("GatewayClient in offline state, call GatewayClient.connect to go online."), 
Promise.reject()) : b().then(function(n) {
return l(n, e, t);
})["catch"](function(r) {
throw r.code === D["default"].INVALID_SESSION && (console.log("GWSESSION: Got invalid session response from GW, clearing session..."), 
M.kvstorage.removeItem("gwsession", function() {
console.log("GWSESSION: Removed session"), X && W.gatewayState.sessionState === z.GatewaySessionState.established && (X = void 0, 
W.gatewayState.setSessionState(z.GatewaySessionState.none), n && v(e, t, !1));
})), r;
});
}
function _() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? "Manual disconnect" : arguments[0];
W.gatewayState.setSessionState(z.GatewaySessionState.failed), X = void 0, a(!1, e);
}
function S() {
b();
}
function w() {
B["default"].getState().isReady() && W.gatewayState.canConnect && S();
}
function T(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? 3e4 : arguments[1];
return new Promise(function(n, r) {
var o, a = R.frostbite.registerMessageListener("sparta.firstPartyTokens", function(e, t) {
clearTimeout(o), a(), n(t.tokens);
});
R.frostbite.sendMessage("sparta.getFirstPartyTokens", e), o = setTimeout(function() {
a(), r("sparta.getFirstPartyTokens timed out");
}, t);
});
}
function C() {
return J ? J : J = v("Inventory.getFirstPartyServices").then(T).then(function(e) {
return v("Inventory.registerFirstPartyTokens", {
tokens: e
});
}).then(function() {
return a(!0);
})["catch"](function(e) {
throw console.error(e), a(!1, "Failed to refresh first party tokens: " + e), e;
});
}
function E(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? !0 : arguments[2];
return v(e, t)["catch"](function(r) {
if (console.error(r), r.code === D["default"].FIRST_PARTY_TOKEN_EXPIRED && (a(!1, "First party tokens expired: " + r), 
n)) return C().then(function() {
return E(e, t, !1);
});
throw r;
});
}
t.__esModule = !0;
var I = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, P = n(4), O = o(P), A = n(15), k = o(A), R = n(2), x = n(10), M = r(R), N = n(345), $ = n(643), D = o($), U = n(165), L = o(U), F = n(19), G = o(F), j = n(34), B = o(j), H = n(11), V = n(39), z = n(195), W = n(11), q = n(274), K = {
PC: "sparta-backend-as-user-pc",
XBOXONE: "sparta-backend-as-user-xone",
PS4: "sparta-backend-as-user-ps4"
}, X = void 0, Y = void 0, J = void 0, Q = k["default"].createAction(), Z = k["default"].createAction(), ee = k["default"].createAction(), te = k["default"].createAction(), ne = k["default"].createAction(), re = k["default"].createAction(), oe = x.action("recieve session", function(e) {
var t = e.parameters;
V.acceptKeyword("accept_exclusive_keywords_start"), H.settingsStore.featureFlags = t && t.featureFlags ? t.featureFlags : [], 
H.settingsStore.supportsFilterState = t && t.supportsFilterState, H.settingsStore.battlebinaryPrefix = t && t.bbPrefix ? i(t.bbPrefix) : "https://battlebinary.battlelog.com/view", 
t && t.currentUtcTimestamp && H.settingsStore.setCurrentUtcTimestamp(t.currentUtcTimestamp), 
V.acceptKeyword("accept_exclusive_keywords_end"), ne(e.envId);
});
B["default"].connect(w), t["default"] = {
request: v,
firstPartyRequest: E,
disconnect: _,
connect: S,
refreshEntitlements: y,
onSessionEstablished: te,
onRequest: Q,
onResponse: ee,
onError: Z,
onEnvironmentIdReceived: ne,
onSessionEntitlementsReceived: re
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = {
setComponentVisibility: a["default"].createAction(),
setComponentVisibilities: a["default"].createAction(),
hideComponent: a["default"].createAction(),
showComponent: a["default"].createAction(),
focusComponent: a["default"].createAction(),
addRouteConfig: a["default"].createAction({
sync: !0
}),
removeRouteConfig: a["default"].createAction({
sync: !0
}),
replaceRouteConfig: a["default"].createAction({
sync: !0
}),
focusPreviousComponent: a["default"].createAction(),
handleBlackFadeStart: a["default"].createAction(),
handleBlackFadeDone: a["default"].createAction(),
handleStartScreenClosed: a["default"].createAction(),
handleErrorPopupDismissed: a["default"].createAction()
};
e.exports = i;
}, function(e, t, n) {
function r(e) {
if (e instanceof o) {
for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; t > r; r++) n[r - 1] = arguments[r];
return e.scope.apply(e, n);
}
throw new Error("scopedStore requires Miniflux Stores");
}
var o = n(43);
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = function(e, t, n, r, o, a, i, s) {
if (!e) {
var l;
if (void 0 === t) l = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."); else {
var u = [ n, r, o, a, i, s ], p = 0;
l = new Error("Invariant Violation: " + t.replace(/%s/g, function() {
return u[p++];
}));
}
throw l.framesToPop = 1, l;
}
};
e.exports = r;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o);
t["default"] = {
setGameServer: a["default"].createAction(),
setGameServerRole: a["default"].createAction(),
setSinglePlayer: a["default"].createAction(),
updateGameState: a["default"].createAction(),
setGameServerQueue: a["default"].createAction(),
resetGameServerQueue: a["default"].createAction(),
stopGame: a["default"].createAction(),
joinServer: a["default"].createAction(),
joinMatchmakingResult: a["default"].createAction(),
handleJoinReady: a["default"].createAction(),
handleQueueStatusUpdate: a["default"].createAction(),
refreshInstalledGames: a["default"].createAction(),
setInstalledExpansions: a["default"].createAction(),
joinedServer: a["default"].createAction(),
leftServer: a["default"].createAction(),
sendServerInvite: a["default"].createAction(),
activateEor: a["default"].createAction(),
enterSpecificGameMode: a["default"].createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t, n) {
void 0 === n && (n = 5);
var r = Math.abs(e - t);
return n >= r;
}
function r(e) {
var t = e.map(function(e) {
return e.getBackingSurfaceId();
}), n = l.getMultipleBoundsSync(t), r = Number.MAX_VALUE, o = Number.MAX_VALUE, a = 0, i = 0;
for (var s in n) if (n.hasOwnProperty(s)) {
var u = n[s];
u.left < r && (r = u.left), u.top < o && (o = u.top), u.right > a && (a = u.right), 
u.bottom > i && (i = u.bottom);
}
return new l.Bounds(r, o, a - r, i - o);
}
var o = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, a = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, i = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, s = n(1), l = n(2), u = n(8), p = n(10), c = n(12), f = n(14), d = n(13), h = n(6), y = n(20), g = function() {
function e(e, t) {
void 0 === e && (e = 0), void 0 === t && (t = 0), this._x = e, this._y = t;
}
return Object.defineProperty(e.prototype, "x", {
get: function() {
return this._x;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "y", {
get: function() {
return this._y;
},
enumerable: !0,
configurable: !0
}), e;
}(), m = function() {
function e() {
this.scrollOffset = new g(), this.containerBounds = new l.Bounds(), this.contentBounds = new l.Bounds(), 
this.isHovered = !1, this.focusAncestor = l.focus.createAncestor(l.autoId("scrollcontainer"));
}
return Object.defineProperty(e.prototype, "canScrollUp", {
get: function() {
return this.scrollOffset.y > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canScrollLeft", {
get: function() {
return this.scrollOffset.x > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canScrollDown", {
get: function() {
return this.scrollOffset.y < this.maxScrollOffset.y;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canScrollRight", {
get: function() {
return this.scrollOffset.x < this.maxScrollOffset.x;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canScroll", {
get: function() {
return this.contentBounds.width > this.containerBounds.width || this.contentBounds.height > this.containerBounds.height;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "maxScrollOffset", {
get: function() {
return new g(Math.max(this.contentBounds.width - this.containerBounds.width, 0), Math.max(this.contentBounds.height - this.containerBounds.height, 0));
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "viewportBounds", {
get: function() {
return new l.Bounds(this.scrollOffset.x, this.scrollOffset.y, this.containerBounds.width, this.containerBounds.height);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "scrollbarOffset", {
get: function() {
var e = this.scrollOffset.y / this.contentBounds.height;
return new g(0, e * this.containerBounds.height);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "scrollbarHeight", {
get: function() {
var e = this.containerBounds.height / this.contentBounds.height;
return e * this.containerBounds.height;
},
enumerable: !0,
configurable: !0
}), e.prototype.scrollInDirection = function(e, t, n) {
void 0 === n && (n = 100);
var r = this.scrollOffset.x + e * n, o = this.scrollOffset.y + t * n;
this.setScrollOffset(r, o);
}, e.prototype.scrollToBounds = function(e) {
var t = this.viewportBounds, n = 0, r = 0;
e.top < t.top ? n = e.top - t.top : e.bottom > t.bottom && (n = e.bottom - t.bottom), 
e.left < t.left ? r = e.left - t.left : e.right > t.right && (r = e.right - t.right), 
this.setScrollOffset(this.scrollOffset.x + r, this.scrollOffset.y + n);
}, e.prototype.setScrollOffset = function(e, t) {
var n = Math.max(Math.min(e, this.maxScrollOffset.x), 0), r = Math.max(Math.min(t, this.maxScrollOffset.y), 0);
(this.scrollOffset.x !== n || this.scrollOffset.y !== r) && (this.scrollOffset = new g(n, r));
}, e.prototype.setContainerBounds = function(e) {
e.equals(this.containerBounds, !1) || (this.containerBounds = e);
}, e.prototype.setContentBounds = function(e) {
e.equals(this.contentBounds, !1) || (this.contentBounds = e);
}, e.prototype.setHovered = function(e) {
this.isHovered = e;
}, e.prototype.getLocalBounds = function(e) {
return e.localX || e.localY ? new l.Bounds(e.localX, e.localY, e.width, e.height) : e.offset(this.containerBounds.x - this.scrollOffset.x, this.containerBounds.y - this.scrollOffset.y);
}, i([ p.observable ], e.prototype, "scrollOffset", void 0), i([ p.observable ], e.prototype, "containerBounds", void 0), 
i([ p.observable ], e.prototype, "contentBounds", void 0), i([ p.observable ], e.prototype, "isHovered", void 0), 
i([ p.computed ], e.prototype, "canScrollUp", null), i([ p.computed ], e.prototype, "canScrollLeft", null), 
i([ p.computed ], e.prototype, "canScrollDown", null), i([ p.computed ], e.prototype, "canScrollRight", null), 
i([ p.computed ], e.prototype, "canScroll", null), i([ p.computed ], e.prototype, "maxScrollOffset", null), 
i([ p.computed ], e.prototype, "viewportBounds", null), i([ p.computed ], e.prototype, "scrollbarOffset", null), 
i([ p.computed ], e.prototype, "scrollbarHeight", null), i([ p.action ], e.prototype, "scrollInDirection", null), 
i([ p.action ], e.prototype, "scrollToBounds", null), i([ p.action ], e.prototype, "setScrollOffset", null), 
i([ p.action ], e.prototype, "setContainerBounds", null), i([ p.action ], e.prototype, "setContentBounds", null), 
i([ p.action ], e.prototype, "setHovered", null), e;
}();
t.ScrollerState = m;
var b = function(t) {
function n(e) {
var n = this;
t.call(this, e), this.scrollerState = e.scrollerState || new m(), this.scrollerState.focusAncestor = l.focus.createAncestor(l.autoId("scrollcontainer")), 
this.scrollerState.focusAncestor.onFocusChildChanged.listen(function(e) {
return n.onFocusChildChanged(e);
});
}
return o(n, t), n.prototype.getInput = function() {
var e = this, t = this.scrollerState.canScrollUp || this.scrollerState.canScrollDown, n = t && l.focus.system.controllerMode;
return n && ("auto" === this.props.controller ? n = this.scrollerState.focusAncestor.hasFocusedChild : this.props.controller || (n = !1)), 
n ? [ new f({
action: function() {
return e.scrollInDirection(0, -1);
},
key: c.ScrollUp,
visible: !1
}), new f({
action: function() {
return e.scrollInDirection(0, 1);
},
key: c.ScrollDown,
label: __("ID_SPARTA_ACTION_SCROLL")
}) ] : void 0;
}, n.prototype.getSoftClip = function() {
if (this.props.softClip && this.scrollerState.canScroll) {
var e = this.scrollerState.scrollOffset, t = this.scrollerState.maxScrollOffset, n = this.props.softClip.slice();
return 0 === e.x ? n[0] = 0 : e.x === t.x && (n[2] = 0), 0 === e.y ? n[1] = 0 : e.y === t.y && (n[3] = 0), 
[ n[0], n[1], n[2], n[3] ];
}
}, n.prototype.getNearestEdgeVector = function(t) {
var n = r(this.scrollerState.focusAncestor.children);
return e(t.left, n.left) && this.scrollerState.canScrollLeft ? new g(0, this.scrollerState.scrollOffset.y) : e(t.right, n.right) && this.scrollerState.canScrollRight ? new g(this.scrollerState.maxScrollOffset.x, this.scrollerState.scrollOffset.y) : e(t.top, n.top) && this.scrollerState.canScrollUp ? new g(this.scrollerState.scrollOffset.x, 0) : e(t.bottom, n.bottom) && this.scrollerState.canScrollDown ? new g(this.scrollerState.scrollOffset.x, this.scrollerState.maxScrollOffset.y) : void 0;
}, n.prototype.componentDidUpdateBounds = function(e) {
this.scrollerState.setContainerBounds(e);
}, n.prototype.shouldScrollToFocus = function() {
if (l.focus.system.lastFocusSource === l.focus.FocusSource.Auto) return !1;
var e = void 0 !== this.props.focus ? this.props.focus : l.focus.system.controllerMode;
return e === !0 || "key" === e && l.focus.system.lastFocusSource === l.focus.FocusSource.Spatial;
}, n.prototype.updateContentBounds = function(e) {
var t = r(this.scrollerState.focusAncestor.children);
t.width > e.width && (e = new l.Bounds(e.x, e.y, t.width, e.height, e.localX, e.localY)), 
this.scrollerState.setContentBounds(e);
}, n.prototype.onFocusChildChanged = function(e) {
if (e && this.shouldScrollToFocus()) {
var t = l.getBoundsSync(e.getBackingSurfaceId());
if (t) {
var n = this.getNearestEdgeVector(t);
n ? this.scrollTo(n.x, n.y) : this.scrollToBounds(t);
}
}
}, n.prototype.onMouseScroll = function(e) {
this.scrollInDirection(0, e.scroll > 0 ? -1 : 1), this.props.onMouseScroll && this.props.onMouseScroll(e);
}, n.prototype.scrollInDirection = function(e, t) {
this.scrollerState.scrollInDirection(e, t);
}, n.prototype.scrollToElement = function(e) {
this.scrollerState.scrollToBounds(this.scrollerState.getLocalBounds(e.bounds));
}, n.prototype.scrollToBounds = function(e) {
this.scrollerState.scrollToBounds(this.scrollerState.getLocalBounds(e));
}, n.prototype.scrollTo = function(e, t) {
this.scrollerState.setScrollOffset(e, t);
}, n.prototype.render = function() {
var e = this, t = void 0 !== this.props.tween ? this.props.tween : l.focus.system.controllerMode;
return s.createElement("surface", {
key: "scroller",
style: this.props.style
}, s.createElement(S, {
clipMargin: this.props.clipMargin,
softClip: this.getSoftClip()
}, s.createElement(v, {
tween: t,
onBoundsChanged: function(t) {
return e.updateContentBounds(t);
},
onMouseScroll: this.onMouseScroll.bind(this),
onMouseEnter: function() {
return e.scrollerState.setHovered(!0);
},
onMouseLeave: function() {
return e.scrollerState.setHovered(!1);
},
scrollerState: this.scrollerState
}, this.props.children)), s.createElement(_, {
scrollerState: this.scrollerState,
position: this.props.scrollbarPosition,
enabled: this.props.scrollbar
}), this.props.overlay);
}, n.defaultProps = {
controller: "auto",
scrollbar: "auto",
scrollbarPosition: "outside"
}, n = i([ y(), u.observer, l.hasSurfaceBounds() ], n);
}(s.Component);
t.Scroller = b;
var v = function(e) {
function t(t) {
var n = this;
e.call(this, t), this.translateX = d.tween("44db0545:449", 0, d.presets.list.scroll), 
this.translateY = d.tween("44db0545:450", 0, d.presets.list.scroll), this.offsetSubscription = p.reaction(function() {
return n.props.scrollerState.scrollOffset;
}, function(e) {
return n.updateTweens(e);
});
}
return o(t, e), t.prototype.componentWillUnmount = function() {
this.translateX.destroy(), this.translateY.destroy(), this.offsetSubscription();
}, t.prototype.componentDidUpdateBounds = function(e) {
this.props.onBoundsChanged(e);
}, t.prototype.updateTweens = function(e) {
this.props.tween ? (this.translateX.to(-e.x), this.translateY.to(-e.y)) : (this.translateX.set(-e.x), 
this.translateY.set(-e.y));
}, t.prototype.render = function() {
var e = {
translateX: this.translateX.getStyle(),
translateY: this.translateY.getStyle()
};
return s.createElement("surface", a({
key: "tilter",
style: e
}, this.props.scrollerState.focusAncestor.hooks, {
onMouseScroll: this.props.onMouseScroll,
onMouseEnter: this.props.onMouseEnter,
onMouseLeave: this.props.onMouseLeave
}), this.props.children);
}, t = i([ l.hasSurfaceBounds() ], t);
}(s.Component), _ = function(e) {
function t() {
e.apply(this, arguments);
}
return o(t, e), Object.defineProperty(t.prototype, "visible", {
get: function() {
return this.props.scrollerState.canScrollUp || this.props.scrollerState.canScrollDown ? "auto" === this.props.enabled ? this.props.scrollerState.focusAncestor.hasFocusedChild || this.props.scrollerState.isHovered : this.props.enabled === !0 : !1;
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = 2, t = {
position: "absolute",
top: 0,
bottom: 0,
right: "outside" === this.props.position ? -(h.GUTTER + e) : 0,
width: e,
opacity: d.tweenSwitch(0, 1, this.visible)
}, n = {
position: "absolute",
top: 0,
right: 0,
left: 0,
height: this.props.scrollerState.scrollbarHeight,
translateY: this.props.scrollerState.scrollbarOffset.y,
backgroundColor: "#ffffffa6"
};
return s.createElement("surface", {
key: "scrollbar",
style: t
}, s.createElement("surface", {
style: n
}));
}, i([ p.computed ], t.prototype, "visible", null), t = i([ u.observer ], t);
}(s.Component), S = function(e) {
function t() {
e.apply(this, arguments);
}
return o(t, e), t.prototype.render = function() {
var e = {
flex: 1,
flexDirection: "row",
layer: !0,
layerClip: !0
};
return this.props.softClip && (e.layerSoftClip = this.props.softClip), this.props.clipMargin && (e.margin = this.props.clipMargin.map(function(e) {
return -e;
}), e.padding = this.props.clipMargin), s.createElement("surface", {
key: "clipper",
style: e
}, s.createElement("surface", {
style: {
flex: 1
}
}, this.props.children));
}, t;
}(s.Component);
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {
return f.fontState.locale === h["default"].ARABIC;
}
function a(e) {
return e && !o() ? e : e.reverse();
}
function i(e) {
return o() && e && (e.textLetterSpacing = 0), e;
}
function s() {
return f.fontState.locale === h["default"].JAPANESE;
}
function l() {
return f.fontState.locale === h["default"].ITALIAN;
}
function u() {
return f.fontState.locale === h["default"].CHINESE;
}
function p() {
return f.fontState.locale === h["default"].RUSSIAN;
}
function c() {
return f.fontState.locale === h["default"].FRENCH;
}
t.__esModule = !0, t.isRTLLanguage = o, t.localeRearrange = a, t.localeLetterSpacing = i, 
t.isJapaneseLanguage = s, t.isItalianLanguage = l, t.isTradChineseLanguage = u, 
t.isRussianLanguage = p, t.isFrenchLanguage = c;
var f = n(68), d = n(112), h = r(d);
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(6), y = s(h), g = n(31), m = n(296), b = s(m), v = n(18), _ = s(v), S = n(819), w = s(S), T = n(219), C = s(T), E = n(137), I = {
_$Template: {
displayName: "Template"
}
}, P = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/templates/Template.jsx",
components: I,
locals: [],
imports: []
}), O = [ _["default"].fadeAreaTop.height, _["default"].dangerZoneSize.width, SpartaGlobals.bundleIsPC ? _["default"].dangerZoneSize.height : _["default"].fadeAreaBottom.height, SpartaGlobals.bundleIsPC ? _["default"].content.left - _["default"].mainMenu.width - 1 : _["default"].content.left ], A = [ 0, _["default"].fadeAreaTop.height, 0, SpartaGlobals.bundleIsPC ? _["default"].dangerZoneSize.height : _["default"].fadeAreaBottom.height ], k = {
templateStyle: c({
position: "absolute"
}, _["default"].screen.style),
headerColumn: {
position: "absolute",
top: _["default"].tabs.top,
left: _["default"].tabs.left,
width: _["default"].tabs.width,
height: _["default"].tabs.height + _["default"].fadeAreaTop.height,
zOffset: 1
},
aboveContent: SpartaGlobals.bundleIsPC ? {
position: "absolute",
top: _["default"].tabs.top,
left: _["default"].tabs.left,
width: _["default"].tabs.width,
height: _["default"].tabs.height + _["default"].fadeAreaTop.height
} : {
position: "absolute",
left: 0,
right: 0,
height: _["default"].tallContent.height,
top: -_["default"].tallContent.height,
paddingBottom: 4 * y["default"].GUTTER,
justifyContent: "flex-end"
},
headerRow: {
flexDirection: "row",
alignItems: "flex-end"
},
contentWrapper: {
position: "absolute",
top: _["default"].content.top,
left: _["default"].content.left,
height: _["default"].content.height,
width: _["default"].safeZone.width
},
divider: {
position: "absolute",
bottom: _["default"].fadeAreaTop.height - y["default"].GUTTER,
left: 0,
right: 0
}
}, R = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: "header",
ref: null,
props: {
style: c({
position: "absolute"
}, _["default"].header.style, {
backgroundColor: "#FF660055"
})
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: "tabs",
ref: null,
props: {
style: c({
position: "absolute"
}, _["default"].tabs.style, {
backgroundColor: "#FF660055"
})
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: "fadearea",
ref: null,
props: {
style: c({
position: "absolute"
}, _["default"].fadeAreaTop.style, {
backgroundColor: "#00800055"
})
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: "content",
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: "tallearea",
ref: null,
props: {
style: {
width: _["default"].content.width,
height: _["default"].tallContent.height,
backgroundColor: "#3366FF55"
}
},
_owner: null
},
style: c({
position: "absolute"
}, _["default"].content.style, {
backgroundColor: "#3366FF55"
})
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: "fadeareabottom",
ref: null,
props: {
style: c({
position: "absolute"
}, _["default"].fadeAreaBottom.style, {
backgroundColor: "#00800055"
})
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: "footer",
ref: null,
props: {
style: c({
position: "absolute"
}, _["default"].footer.style, {
backgroundColor: "#FF660055"
})
},
_owner: null
} ]
},
_owner: null
}, x = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.scrollTo = function s(e, t) {
this.refs.scroller && this.refs.scroller.scrollTo(e, t);
}, t.prototype.tiltTo = function l(e, t) {
SpartaGlobals.bundleIsConsole && this.refs.tilter && this.refs.tilter.tiltTo(e, t);
}, t.prototype.renderHeader = function u() {
if (this.props.header) {
var e = this.props.showDivider ? {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
style: k.divider
}),
_owner: null
} : null;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.header,
style: k.headerRow
},
_owner: null
}, e ],
style: k.headerColumn
},
_owner: null
};
}
}, t.prototype.renderAboveContent = function c() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.aboveContent,
style: k.aboveContent
},
_owner: null
};
}, t.prototype.renderTilter = function f() {
return d["default"].createElement(w["default"], {
ref: "tilter"
}, SpartaGlobals.bundleIsConsole && this.renderAboveContent(), this.props.children);
}, t.prototype.render = function h() {
var e = this.props.tallContent ? 0 : _["default"].tallContent.height, t = {
contentWrapper: {
paddingTop: e
}
}, n = this.props.wideContent && SpartaGlobals.bundleIsPC ? _["default"].safeZone.width : _["default"].content.width, o = _["default"].content.height, a = "auto";
return this.props.globalScrollListener && (a = !0), this.props.noScrollListener && (a = !1), 
{
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.props.debugGrid ? R : null, this.renderHeader(), SpartaGlobals.bundleIsPC && this.renderAboveContent(), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: d["default"].createElement("surface", {
ref: "focusable",
style: {
flex: 1
}
}, this.props.scrollContent ? d["default"].createElement(g.Scroller, {
ref: "scroller",
style: {
width: n,
height: o
},
controller: a,
clipMargin: O,
softClip: A,
focus: this.props.scrollToFocus,
scrollbar: this.props.verticalIndicator ? "auto" : !1
}, this.renderTilter()) : {
$$typeof: p,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
children: this.renderTilter(),
width: n,
height: o,
clipContent: this.props.clipContent,
clipPadding: O,
softClip: A
}),
_owner: null
}),
style: [ k.contentWrapper, t.contentWrapper ]
},
_owner: null
} ],
style: k.templateStyle
},
_owner: null
};
};
var n = t;
return t = i("_$Template")(t) || t;
}(d["default"].Component);
t["default"] = x, x.contextTypes = {
viewComponentState: d["default"].PropTypes.instanceOf(E.ViewComponentState)
}, x.defaultProps = {
tallContent: SpartaGlobals.bundleIsPC,
scrollContent: SpartaGlobals.bundleIsPC,
scrollToFocus: SpartaGlobals.bundleIsConsole,
clipContent: !1,
showScrollAction: !1,
debugGrid: !1,
wideContent: !1,
verticalIndicator: SpartaGlobals.bundleIsPC,
useAbsoluteScrollBounds: !1
}, x.propTypes = {
debugGrid: d["default"].PropTypes.bool,
tallContent: d["default"].PropTypes.bool,
scrollContent: d["default"].PropTypes.bool,
scrollToFocus: d["default"].PropTypes.bool,
showDivider: d["default"].PropTypes.bool
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(43), s = r(i), l = n(88), u = r(l), p = n(241), c = n(120), f = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, new p.PresenceState({
state: p.PresenceStates.disconnected,
mode: c.PresenceModeType.offline
})), u["default"].handleMessage.listen(function(e) {
var t = n.getState().props, r = t.state, o = t.mode, a = t.hasInternet, i = t.resultType, s = t.customMessage, l = t.isFirstPartyConnected, u = t.isQoSReady;
switch (e.eventType) {
case c.ConnectionEventType.modeChanged:
o = e.mode, o === c.PresenceModeType.offline && (r = p.PresenceStates.disconnected);
break;

case c.ConnectionEventType.connectionMessage:
s = e.customMessage;
break;

case c.ConnectionEventType.connecting:
r = p.PresenceStates.connecting;
break;

case c.ConnectionEventType.firstPartyConnected:
l = !0, a = !0;
break;

case c.ConnectionEventType.firstPartyDisconnected:
SpartaGlobals.bundleIsConsole && (a = !1, r = p.PresenceStates.disconnected), l = !1;
break;

case c.ConnectionEventType.connectionReady:
l = !0, a = !0, r = p.PresenceStates.ready, o = c.PresenceModeType.online, i = e.resultType;
break;

case c.ConnectionEventType.onlineFlowDone:
l = !0, a = !0, r = p.PresenceStates.ready, o = c.PresenceModeType.online;

case c.ConnectionEventType.qualityOfServiceDone:
u = !0;
break;

case c.ConnectionEventType.backendDisconnected:
case c.ConnectionEventType.connectFailed:
case c.ConnectionEventType.disconnected:
r = p.PresenceStates.disconnected, u = null !== e.isQoSReady ? e.isQoSReady : !1;
var f = e.resultType !== c.ConnectionResultType.success && e.resultType !== c.ConnectionResultType.none;
i = f ? e.resultType : c.ConnectionResultType.failure;
}
n.setState(new p.PresenceState({
state: r,
mode: o,
hasInternet: a,
resultType: i,
customMessage: s,
isFirstPartyConnected: l,
isQoSReady: u
}));
});
}
return a(t, e), t;
}(s["default"]);
t["default"] = new f(), e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function r(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
return function(t) {
return B(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function s(e, t, n) {
var r = arguments.length <= 3 || void 0 === arguments[3] ? 500 : arguments[3];
return new w["default"]({
label: n ? n : K.confirm(),
key: t,
blockInputFor: r,
action: e
});
}
function l(e, t, n, r, o) {
return G.localeRearrange([ s(e, O["default"].Accept, n ? n : K.confirm(), o), s(t, O["default"].Decline, r ? r : K.deny()) ]);
}
function u(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? {} : arguments[2];
return new Promise(function(r, a) {
C["default"].display(new I["default"]({
content: {
$$typeof: m,
type: W,
key: null,
ref: null,
props: o(W.defaultProps, {
message: e,
title: t
}),
_owner: null
},
inputs: [ s(r, O["default"].Accept, K.confirm()) ],
createButtons: !0,
priority: n.priority,
stackable: n.stackable
}));
});
}
function p(e, t, n) {
var r = arguments.length <= 3 || void 0 === arguments[3] ? null : arguments[3];
return new Promise(function(a, i) {
var l = r ? {
id: r
} : {}, u = [];
n.useConfirmInput && u.push(s(a, O["default"].Accept, K.confirm())), n.customInput && u.push(s(n.customInput.action, n.customInput.key, n.customInput.label)), 
C["default"].display(new I["default"](b({
content: {
$$typeof: m,
type: W,
key: null,
ref: null,
props: o(W.defaultProps, {
message: e,
title: t
}),
_owner: null
},
inputs: u,
createButtons: !0
}, l)));
});
}
function c(e, t, n, r) {
return new Promise(function(a, i) {
C["default"].display(new I["default"]({
content: {
$$typeof: m,
type: W,
key: null,
ref: null,
props: o(W.defaultProps, {
message: e,
title: t,
image: n
}),
_owner: null
},
inputs: [ s(a, O["default"].Accept, K.confirm()), s(r.action, r.key, r.label) ],
createButtons: !0
}));
});
}
function f(e, t) {
return new Promise(function(n, r) {
C["default"].display(new I["default"]({
content: {
$$typeof: m,
type: q,
key: null,
ref: null,
props: o(q.defaultProps, {
message: e,
subMessage: t
}),
_owner: null
},
inputs: [ s(n, O["default"].Accept, K["continue"]()) ],
createButtons: !0
}));
});
}
function d(e, t, n, r) {
var a = arguments.length <= 4 || void 0 === arguments[4] ? null : arguments[4], i = arguments.length <= 5 || void 0 === arguments[5] ? {} : arguments[5];
return new Promise(function(s, u) {
var p = a ? {
id: a
} : {}, c = i.blockInputFor ? i.blockInputFor : 500;
C["default"].display(new I["default"](b({
content: {
$$typeof: m,
type: W,
key: null,
ref: null,
props: o(W.defaultProps, {
message: e,
title: t
}),
_owner: null
},
inputs: l(s, u, n, r, c),
createButtons: !0,
priority: i.priority,
stackable: i.stackable
}, p)));
});
}
function h(e, t, n, r) {
return new Promise(function(a, i) {
C["default"].display(new I["default"]({
id: "prompt",
content: {
$$typeof: m,
type: X,
key: null,
ref: null,
props: o(X.defaultProps, {
title: e,
minLength: t,
maxLength: n,
inputType: r.inputType,
defaultMessage: r.message,
onTypingValidate: r.onTypingValidate,
onOkValidate: r.onOkValidate,
onOk: a,
onCancel: i
}),
_owner: null
}
}));
});
}
var y = n(3), g = i(y);
t.__esModule = !0;
var m = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, b = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
};
t.alert = u, t.alertWithOption = p, t.alertWithImageAndOption = c, t.alertWithCenteredContent = f, 
t.confirm = d, t.prompt = h;
var v = n(1), _ = i(v), S = n(14), w = i(S), T = n(25), C = i(T), E = n(47), I = i(E), P = n(12), O = i(P), A = n(6), k = i(A), R = n(7), x = i(R), M = n(23), N = i(M), $ = n(180), D = i($), U = n(11), L = n(19), F = i(L), G = n(32), j = {
_$PromptContent: {
displayName: "PromptContent"
}
}, B = g["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/popups/StandardPopups.js",
components: j,
locals: [],
imports: []
}), H = {
container: {
flex: 1,
justifyContent: "center",
alignItems: "center"
},
header: {
marginBottom: 2 * k["default"].GUTTER
},
message: {
marginTop: k["default"].getHeight(1),
marginBottom: k["default"].getHeight(3),
flex: 1
},
subMessage: {
color: "#cccccc",
marginTop: k["default"].getHeight(2)
},
messageCentered: {
textAlign: "center",
alignSelf: "stretch"
},
image: {
textureMode: "contain",
height: k["default"].getHeight(18),
width: k["default"].getWidth(22),
marginBottom: 2 * k["default"].GUTTER
},
input: {
zOffset: 2,
marginTop: k["default"].GUTTER,
width: k["default"].getWidth(8.5),
height: k["default"].getHeight(6),
marginBottom: k["default"].GUTTER
},
buttonContainer: {
flexDirection: "column",
width: k["default"].getWidth(6),
alignSelf: "center",
marginTop: 2 * k["default"].GUTTER
},
button: {
width: k["default"].getWidth(6),
marginBottom: k["default"].GUTTER
}
}, V = SpartaGlobals.bundleIsPC ? "M" : "L", z = SpartaGlobals.bundleIsPC ? "S" : "M", W = function Y(e, t) {
var n = null, r = H.header, a = b({}, H.message);
if (G.isRTLLanguage() && (a.width = k["default"].getWidth(14), a.textAlignForRTL = "center"), 
t.fonts) r.fontFamily = t.fonts.normal.name, a.fontFamily = t.fonts.normal.name; else {
var i = U.layoutStateStore.current;
n = i && i.config && i.config.gameId ? U.layoutStateStore.current.config.gameId : F["default"].getHostingGame().gameId;
}
return {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: [ e.title ? {
$$typeof: m,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
value: e.title.toUpperCase(),
size: V,
style: r,
section: n
}),
_owner: null
} : null, e.image ? {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
style: b({
texture: e.image
}, H.image)
},
_owner: null
} : null, {
$$typeof: m,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
value: e.message,
style: a,
size: z,
section: n
}),
_owner: null
} ],
style: H.container
},
_owner: null
};
};
W.propTypes = {
title: _["default"].PropTypes.string,
message: _["default"].PropTypes.string.isRequired
};
var q = function J(e, t) {
var n = null, r = b({}, H.message);
if (G.isRTLLanguage() && (r.width = k["default"].getWidth(14), r.textAlignForRTL = "center"), 
t.fonts) r.fontFamily = t.fonts.normal.name; else {
var a = U.layoutStateStore.current;
n = a && a.config && a.config.gameId ? U.layoutStateStore.current.config.gameId : F["default"].getHostingGame().gameId;
}
return {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: m,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
value: e.message,
style: [ r, H.messageCentered ],
size: "M",
section: n
}),
_owner: null
}, e.subMessage && {
$$typeof: m,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
value: e.subMessage,
style: [ r, H.messageCentered, H.subMessage ],
size: "S",
section: n
}),
_owner: null
} ],
style: H.container
},
_owner: null
};
};
q.propTypes = {
message: _["default"].PropTypes.string.isRequired
};
var K = {
confirm: function Q() {
return __("ID_SPARTA_ACTION_OK");
},
deny: function Z() {
return __("ID_SPARTA_ACTION_CANCEL");
},
"continue": function ee() {
return __("ID_SPARTA_ACTION_CONTINUE");
}
}, X = function(t) {
function n(n) {
e(this, i), t.call(this, n), this.state = {
isValid: !0,
validationMessage: null
};
}
r(n, t), n.prototype.getInput = function l() {
return [ s(this.onCancel.bind(this), O["default"].Decline, K.deny()) ];
}, n.prototype.onOk = function u() {
this.props.onOk(this.refs.inputField.state.value), C["default"].close(this.props.popupInfo.id);
}, n.prototype.onOkClicked = function p() {
var e = this;
this.props.onOkValidate ? this.props.onOkValidate(this.refs.inputField.state.value).then(function() {
return e.onOk();
})["catch"](function(t) {
console.error(t), e.setState({
isValid: !1,
validationMessage: t
});
}) : this.onOk();
}, n.prototype.onCancel = function c() {
C["default"].close(this.props.popupInfo.id), this.props.onCancel();
}, n.prototype.onTypingInput = function f(e) {
if (!SpartaGlobals.bundleIsConsole) {
var t = this.isTypingValid(e);
this.state.isValid !== t && this.setState({
isValid: t
});
}
}, n.prototype.isTypingValid = function d(e) {
var t = this.props, n = t.minLength, r = t.maxLength, o = t.onTypingValidate, a = e.trim(), i = a.length >= n && a.length <= r;
return i && o ? o(a) : i;
}, n.prototype.toggleEdit = function h() {
this.refs.inputField.showVirtualKeyboard();
}, n.prototype.renderButtons = function y() {
return {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: m,
type: N["default"],
key: null,
ref: null,
props: o(N["default"].defaultProps, {
text: K.confirm(),
style: H.button,
action: this.onOkClicked.bind(this),
disabled: !this.state.isValid && SpartaGlobals.bundleIsPC
}),
_owner: null
}, SpartaGlobals.bundleIsPC ? {
$$typeof: m,
type: N["default"],
key: null,
ref: null,
props: o(N["default"].defaultProps, {
text: K.deny(),
style: H.button,
action: this.onCancel.bind(this)
}),
_owner: null
} : null ],
style: H.buttonContainer
},
_owner: null
};
}, n.prototype.render = function g() {
var e = this, t = this.renderButtons(), n = null, r = U.layoutStateStore.current;
return n = r && r.config ? r.config.gameId || "generic" : F["default"].getHostingGame().gameId, 
{
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.props.title ? {
$$typeof: m,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
value: this.props.title.toUpperCase(),
size: V,
style: H.header,
section: n
}),
_owner: null
} : null, {
$$typeof: m,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
value: this.state.validationMessage || this.props.defaultMessage,
size: z,
section: n,
style: {
marginBottom: k["default"].GUTTER
}
}),
_owner: null
}, _["default"].createElement(D["default"], {
key: "field",
ref: "inputField",
title: this.props.title || "",
description: this.props.title || "",
style: H.input,
section: n,
type: this.props.inputType,
maxLength: this.props.maxLength,
isInvalid: !this.state.isValid,
onValueChanged: function(t) {
return e.onTypingInput(t);
},
deactivateOnBlur: !1,
editKey: O["default"].Accept
}), t ],
style: H.container
},
_owner: null
};
};
var i = n;
return n = a("_$PromptContent")(n) || n;
}(_["default"].Component);
X.defaultProps = {
defaultMessage: ""
}, X.propTypes = {
title: _["default"].PropTypes.string.isRequired,
minLength: _["default"].PropTypes.number.isRequired,
maxLength: _["default"].PropTypes.number.isRequired,
inputType: _["default"].PropTypes.string,
defaultMesage: _["default"].PropTypes.string,
onTypingValidate: _["default"].PropTypes.func,
onOkValidate: _["default"].PropTypes.func,
onOk: _["default"].PropTypes.func,
onCancel: _["default"].PropTypes.func
};
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o);
t["default"] = {
setServerQuery: a["default"].createAction(),
setCampaignLevels: a["default"].createAction(),
getCampaignEpisodes: a["default"].createAction(),
getTrackableMedals: a["default"].createAction(),
setTrackableMedals: a["default"].createAction(),
setTrackedMedal: a["default"].createAction(),
gameShowOptions: a["default"].createAction(),
gameShowCredits: a["default"].createAction(),
joinGame: a["default"].createAction(),
enterOperations: a["default"].createAction(),
enterCampaign: a["default"].createAction(),
quitCampaign: a["default"].createAction(),
fetchEorData: a["default"].createAction(),
setFallbackEorMapName: a["default"].createAction(),
clearEorData: a["default"].createAction(),
updateEorData: a["default"].createAction(),
endOfRoundCountdownCompleted: a["default"].createAction(),
changeGameViewContentVisibility: a["default"].createAction(),
showLoadout: a["default"].createAction(),
buyBattlepack: a["default"].createAction(),
buyBattlepackForScraps: a["default"].createAction(),
viewBattlepack: a["default"].createAction(),
openBattlepack: a["default"].createAction(),
viewBlueprint: a["default"].createAction(),
claimBlueprint: a["default"].createAction(),
scrapItem: a["default"].createAction(),
showCodex: a["default"].createAction()
}, e.exports = t["default"];
}, function(e, t) {
"use strict";
function n(e, t) {
if (null == e) throw new TypeError("Object.assign target cannot be null or undefined");
for (var n = Object(e), r = Object.prototype.hasOwnProperty, o = 1; o < arguments.length; o++) {
var a = arguments[o];
if (null != a) {
var i = Object(a);
for (var s in i) r.call(i, s) && (n[s] = i[s]);
}
}
return n;
}
e.exports = n;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
showLocalUserSelectionUI: a["default"].createAction(),
getOnlinePrivileges: a["default"].createAction(),
showUserProfile: a["default"].createAction(),
setUGCAccessLevel: a["default"].createAction(),
refreshSessionUser: a["default"].createAction(),
receiveSessionUser: a["default"].createAction(),
updateCareer: a["default"].createAction(),
refreshCareer: a["default"].createAction(),
updateUsers: a["default"].createAction(),
setUsers: a["default"].createAction(),
updatePresences: a["default"].createAction(),
removeServerPresences: a["default"].createAction(),
onSignInChange: a["default"].createAction(),
setOnboardingFlag: a["default"].createAction(),
setOnboardingState: a["default"].createAction(),
receiveOnboardingFlag: a["default"].createAction(),
receiveOnboardingFlags: a["default"].createAction(),
receiveOnboardingFlagsError: a["default"].createAction(),
getOnboardingFlags: a["default"].createAction()
};
}, function(e, t) {
// Just adding @preserve or ! to a comment will not help to keep it when the compressor is rearranging/optimizing code.
"use strict";
function n(e) {}
t.acceptKeyword = n;
}, function(e, t, n) {
function r(e) {
var t;
return t = SpartaGlobals.bundleIsPC ? a.hasOwnProperty(e) ? a[e] : a[o] : i.hasOwnProperty(e) ? i[e] : i[o];
}
t.__esModule = !0, t.getTextSizes = r;
var o = "default", a = {
"default": {
XXL: 42,
XL: 30,
L: 24,
M: 18,
S: 12,
XS: 10,
XXS: 8
},
"zh-tw": {
XXL: 42,
XL: 30,
L: 24,
M: 18,
S: 14,
XS: 14,
XXS: 13
}
}, i = {
"default": {
XXL: 52,
XL: 37,
L: 30,
M: 22,
S: 16,
XS: 14,
XXS: 12
},
"zh-tw": {
XXL: 52,
XL: 37,
L: 30,
M: 22,
S: 17,
XS: 17,
XXS: 17
}
}, s = {
XXL: 92,
XL: 62,
L: 42,
M: 32,
S: 22,
XS: 18,
XXS: 14
}, l = {
XXL: 100,
XL: 70,
L: 50,
M: 40,
S: 30,
XS: 25,
XXS: 20
}, u = SpartaGlobals.bundleIsPC ? s : l;
t.LINE_HEIGHTS = u;
}, function(e, t, n) {
"use strict";
function r(e) {
return e === i.ConnectionResultType.tooYoung || e === i.ConnectionResultType.tooYoungForContent || e === i.ConnectionResultType.requiredUpdateExists || e === i.ConnectionResultType.originStartupFailed || e === i.ConnectionResultType.originMandatoryUpdate || e === i.ConnectionResultType.originNotLoggedIn || e === i.ConnectionResultType.accountBanned || e === i.ConnectionResultType.missingOnlineAccess;
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(10), i = n(120), s = n(195), l = n(11), u = n(34), p = function() {
function e() {
this.presenceState = u.getState();
}
return Object.defineProperty(e.prototype, "canGoOnline", {
get: function() {
return !this.isOnlineBlazeAndGateway && !this.isConnecting && !r(this.presenceState.resultType);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "goOnlineIsRetry", {
get: function() {
return this.presenceState.resultType === i.ConnectionResultType.missingOnlineAccess || this.presenceState.resultType === i.ConnectionResultType.noMultiplayerPrivilege;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canChangeUser", {
get: function() {
return this.presenceState.resultType === i.ConnectionResultType.missingOnlineAccess || this.presenceState.resultType === i.ConnectionResultType.noMultiplayerPrivilege;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isConnecting", {
get: function() {
return this.presenceState.isConnecting() || this.presenceState.resultType === i.ConnectionResultType.needUserInteraction || l.gatewayState.sessionState === s.GatewaySessionState.connecting;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isOnlineBlazeAndGateway", {
get: function() {
return this.isPresenceReady && this.hasGatewaySession;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isPresenceReady", {
get: function() {
return this.presenceState.isReady();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isMissingMPPrivileges", {
get: function() {
return this.presenceState.isMissingMPPrivileges();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasGatewaySession", {
get: function() {
return l.gatewayState.sessionState === s.GatewaySessionState.established;
},
enumerable: !0,
configurable: !0
}), e.prototype.setPresenceState = function(e) {
this.presenceState = e;
}, o([ a.observable ], e.prototype, "presenceState", void 0), o([ a.computed ], e.prototype, "canGoOnline", null), 
o([ a.computed ], e.prototype, "goOnlineIsRetry", null), o([ a.computed ], e.prototype, "canChangeUser", null), 
o([ a.computed ], e.prototype, "isConnecting", null), o([ a.computed ], e.prototype, "isOnlineBlazeAndGateway", null), 
o([ a.computed ], e.prototype, "isPresenceReady", null), o([ a.computed ], e.prototype, "isMissingMPPrivileges", null), 
o([ a.computed ], e.prototype, "hasGatewaySession", null), o([ a.action ], e.prototype, "setPresenceState", null), 
e;
}();
t.onlineState = new p(), u.listen(function(e) {
t.onlineState.setPresenceState(e);
});
}, function(e, t, n) {
"use strict";
var r = n(85), o = r;
e.exports = o;
}, function(e, t, n) {
(function(r) {
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e, t) {
for (var n = 0, r = e.length; r > n; n++) {
var o = e[n];
if (!t || !t.hasOwnProperty(o)) return void 0;
t = t[o];
}
return t;
}
t.__esModule = !0;
var l = n(10), u = n(254), p = o(u), c = function(e) {
function t(n) {
var r = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1];
a(this, t), e.call(this, r), this.previousPayload = [ n ], this.scopeStores = {}, 
this.setState(n), this.initialize && this.initialize();
}
return i(t, e), t.prototype.setState = function n(e) {
e && "object" == typeof e && (e = e), this.state = e, this.publishPayload([ e ]), 
r.__storage && this.constructor.name && -1 === [ "TransformedStore", "JoinedStore", "Store" ].indexOf(this.constructor.name) && (r.__storage = r.__storage.set(this.constructor.name, e));
}, t.prototype.getState = function o() {
return this.state;
}, t.prototype.scope = function u() {
for (var e = arguments.length, t = Array(e), n = 0; e > n; n++) t[n] = arguments[n];
var r = t.join("/");
return this.scopeStores[r] || (this.scopeStores[r] = this.transform(s.bind(null, t)));
}, t.prototype.transform = function p(e) {
return new f(this, e);
}, t.prototype.connect = function c(e) {
var t, n = this, r = function o() {
e(n.getState()) === !1 && t.unsubscribe();
};
return t = this.subscribe(r), r(), t;
}, t.prototype.promise = function h() {
var e = this, t = arguments.length <= 0 || void 0 === arguments[0] ? function() {} : arguments[0], n = arguments.length <= 1 || void 0 === arguments[1] ? function() {} : arguments[1];
return new Promise(function(r, o) {
e.connect(function(e) {
return t(e) ? (r(), !1) : n(e) ? (o(), !1) : void 0;
});
});
}, t.prototype.join = function y() {
for (var e = arguments.length, t = Array(e), n = 0; e > n; n++) t[n] = arguments[n];
return new d([ this ].concat(t));
}, t.join = function g() {
for (var e = arguments.length, t = Array(e), n = 0; e > n; n++) t[n] = arguments[n];
return new d(t);
}, t.prototype.listenTo = function m(e, t) {
return e && t ? ("string" == typeof t && (t = this[t]), e.listen(t.bind(this))) : void 0;
}, t.fromMobxStore = function b(e) {
var n = new t(e());
return l.reaction(e, function(e) {
return n.setState(e);
}), n;
}, t;
}(p["default"]), f = function(e) {
function t(n, r) {
var o = this;
a(this, t), e.call(this, r(n.getState()), !0), n.subscribe(function() {
o.setState(r(n.getState()));
});
}
return i(t, e), t;
}(c), d = function(e) {
function t(n) {
a(this, t), e.call(this, void 0, !0), this.sourceSubscriptions = null, this.sourceStores = n, 
this.batchTimeout = !1;
}
return i(t, e), t.prototype.subscribe = function n(t, r) {
var o = this;
return this.sourceSubscriptions || (this.sourceSubscriptions = this.sourceStores.map(function(e) {
return e.subscribe(function() {
return o.enqueuePublish();
});
})), e.prototype.subscribe.call(this, t, function() {
0 === o.subscriptions.length && (o.sourceSubscriptions.forEach(function(e) {
return e.unsubscribe();
}), o.sourceSubscription = null), r && r();
});
}, t.prototype.enqueuePublish = function r() {
var e = this;
clearTimeout(this.batchTimeout), this.batchTimeout = setTimeout(function() {
return e.publishPayload(e.getState());
}, 1);
}, t.prototype.getState = function o() {
return this.sourceStores.map(function(e) {
return e.getState();
});
}, t.prototype.connect = function s(t) {
return e.prototype.connect.call(this, function(e) {
return t.apply(void 0, e);
});
}, t.prototype.transform = function l(t) {
return e.prototype.transform.call(this, function(e) {
return t.apply(void 0, e);
});
}, t;
}(c);
t["default"] = c, e.exports = t["default"];
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, s = n(43), l = r(s), u = n(19), p = r(u), c = n(57), f = r(c), d = n(275), h = r(d), y = n(30), g = r(y), m = n(169), b = r(m), v = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, new h["default"]()), g["default"].setGameServerRole.listen(function(e) {
n.setState(new h["default"](i({}, n.getState(), {
role: e
})));
}), g["default"].setGameServer.listen(function(e) {
n.setState(new h["default"](i({}, n.getState(), {
server: e
})));
}), g["default"].resetGameServerQueue.listen(function() {
n.extendQueueState({
queue: new b["default"]()
});
}), g["default"].setGameServerQueue.listen(function(e) {
n.extendQueueState(e);
}), g["default"].handleQueueStatusUpdate.listen(function(e) {
var t = e.gameId, r = e.queueStatus, o = n.getState(), a = o.queue;
if (!a.blazeGameId || a.blazeGameId === t) {
var i = null !== r.position ? parseInt(r.position, 10) : null;
n.extendQueueState({
blazeGameId: t,
position: i
});
}
}), g["default"].leftServer.listen(function() {
n.setState(new h["default"](i({}, n.getState(), {
server: null,
role: null
})));
}), g["default"].setSinglePlayer.listen(function(e) {
n.setState(new h["default"](i({}, n.getState(), {
isSingleplayer: e,
isMultiplayer: !e
})));
}), g["default"].updateGameState.listen(function(e) {
var t = e.navigationState, r = e;
if (t) if (t === f["default"].FrontEnd) {
var o = n.getState();
o.queue.isPending || (r = i({}, e, {
server: null,
role: null,
isChangingServer: !1
}));
} else t === f["default"].InGameMenu && (r = i({}, e, {
isChangingServer: !1
}));
n.setState(new h["default"](i({}, n.getState(), r)));
}), p["default"].scope("hostingGameId").connect(function(e) {
n.setState(new h["default"](i({}, n.getState(), {
gameId: e
})));
});
}
return a(t, e), t.prototype.extendQueueState = function n(e) {
var t, n = this.getState(), r = n.queue;
if (r.blazeGameId !== e.blazeGameId) {
var o = e.gameId || n.gameId;
t = new b["default"](i({}, e, {
gameId: o
}));
} else t = new b["default"](i({}, r, e));
this.setState(new h["default"](i({}, n, {
queue: t
})));
}, t;
}(l["default"]);
t["default"] = new v(), e.exports = t["default"];
}, function(e, t, n) {
(function(e) {
"use strict";
var r, o = n(201), a = n(356), i = n(570), s = n(572), l = n(79), u = n(64);
r = e.TwinkleNative ? new i.InprocDelegate() : "undefined" != typeof e.jasmine ? new s.MockDelegate() : new a.RemoteDelegate(), 
t.Native = new o.TwinkleNative(r), e.onScriptCall = function(t, n) {
e.onScriptCalls([ [ t, n ] ]);
}, e.onScriptCalls = function(n) {
n = l.options.batchCallTransformer(n);
var r = !1;
u.batchedUpdates(function() {
n.forEach(function(t) {
var n = t[0], o = t[1], a = e[n];
if (a) {
if (l.options.onErrorCallback) try {
a.apply(void 0, o);
} catch (i) {
l.options.onErrorCallback(n, i);
} else a.apply(void 0, o);
"onSurfaceBoundsChanged" !== n && (r = !0);
} else console.error("Missing function '" + n + "'. Make sure it exists in the global scope.");
});
}), r && t.Native.applyStateChanges();
};
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
show: a["default"].createAction(),
hide: a["default"].createAction(),
route: a["default"].createAction(),
browseWhileWaiting: a["default"].createAction()
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return "string" == typeof e ? {
$$typeof: s,
type: h["default"],
key: null,
ref: null,
props: a(h["default"].defaultProps, {
value: e
}),
_owner: null
} : e;
}
t.__esModule = !0;
var s = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, l = n(4), u = r(l), p = n(1), c = (r(p), 
n(697)), f = r(c), d = n(7), h = r(d), y = 0, g = function m() {
var e = this, t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, m), "string" == typeof t && (t = {
content: t
}), this.createdDate = new Date(), this.id = t.id || "popup" + y++, this.group = t.group || "default", 
this.content = i(t.content), this.inputs = t.inputs || [], this.createButtons = void 0 !== t.createButtons ? t.createButtons : SpartaGlobals.bundleIsPC, 
this.fullScreen = void 0 !== t.fullScreen ? t.fullScreen : !1, this.containContent = void 0 !== t.containContent ? t.containContent : !0, 
this.centerContent = void 0 !== t.centerContent ? t.centerContent : !0, this.texture = t.texture, 
this.backgroundColor = t.backgroundColor, this.requireOnline = t.requireOnline, 
this.disableBlur = t.disableBlur, this.leftAlignInputs = void 0 !== t.leftAlignInputs ? t.leftAlignInputs : !1, 
this.priority = parseInt(t.priority || 0, 10), this.stackable = void 0 !== t.stackable ? t.stackable : !1, 
this.instantShow = void 0 !== t.instantShow ? t.instantShow : !1, this.inputs = this.inputs.map(function(t) {
return new f["default"](u["default"].extend({}, t, {
popup: e
}));
});
};
t["default"] = g, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(43), a = r(o), i = n(116), s = r(i), l = n(222), u = r(l), p = a["default"].join(s["default"], u["default"].scope("userId")).transform(function(e, t) {
return e[t];
});
t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t) {
e.location = new a.Location(o.compact([ t.location.path, e.location.path ]).join("/")), 
s.forEach(function(n) {
var r = e[n], o = t[n];
if (!e.hasOwnProperty(n)) throw Error("Invalid inheritable property: Unknown property name " + n);
void 0 === r && (e[n] = o);
});
}
function r(t, n) {
return n.map(function(n, a) {
var i = o.extend({}, n);
return void 0 === i.priority && (i.priority = a), e(i, t), i.parent = t, i.children = r(i, i.children), 
new l(i);
});
}
var o = n(4), a = n(94), i = n(206), s = [ "logoUrl", "backgroundSize", "backgroundUrl", "backgroundOverlayUrl", "backgroundOverlaySize", "backgroundVideoUrl", "backgroundMusicTrack", "backgroundMask", "backgroundOffset", "backgroundAnimation", "backgroundSkyColor", "requireOnline", "requireMpInstalled", "fonts", "gameId", "postProcess" ], l = function() {
function e(e) {
void 0 === e && (e = {}), this.parent = void 0, this.skipToFirstChild = !1, this.args = {}, 
this.gameId = void 0, this.logoUrl = void 0, this.excludeFromHistory = !1, this.visible = void 0, 
this.fonts = void 0, this.enableMainMenu = !0, this.hideInMainMenu = !1, this.showHeader = !0, 
this.disableBackground = !1, this.backgroundMask = !1, this.backgroundSize = void 0, 
this.backgroundUrl = void 0, this.backgroundOverlayUrl = void 0, this.backgroundOverlaySize = void 0, 
this.backgroundVideoUrl = void 0, this.backgroundMusicTrack = void 0, this.backgroundOffset = void 0, 
this.backgroundAnimation = void 0, this.backgroundSkyColor = void 0, this.requireOnline = void 0, 
this.requireMpInstalled = !1, this.normalIconUrl = void 0, this.activeIconUrl = void 0, 
this.view = void 0, this.disabled = !1, this.children = [], this.priority = void 0, 
this.postProcess = void 0, this.getTitle = function() {
return "";
}, this.getSubtitle = function() {
return "";
}, 2 === arguments.length && (e = o.extend({
location: arguments[0]
}, arguments[1]));
for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
if (this.location = i(a.Location, this.location), void 0 === this.visible) {
var n = e.getTitle ? !0 : !1;
this.visible = n;
}
this.children = this.children.filter(function(e) {
return e ? !0 : !1;
});
}
return e.prototype.getDisabledLabel = function() {
return this.disabledLabel ? this.disabledLabel : __("ID_SPARTA_MENU_DISABLED_LABEL");
}, e.prototype.cascade = function() {
return new e(o.extend({}, this, {
children: r(this, this.children)
}));
}, e.prototype.flatten = function() {
for (var e = [ this ], t = []; e.length; ) {
var n = e.pop();
t.push(n);
for (var r = 0; r < n.children.length; r++) e.push(n.children[r]);
}
return t;
}, e;
}();
t.Route = l;
}).call(t, n(5));
}, function(e, t, n) {
(function(r) {
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var s = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, l = n(43), u = o(l), p = n(2), c = n(57), f = o(c), d = n(399), h = o(d), y = n(25), g = o(y), m = n(17), b = o(m), v = n(46), _ = o(v), S = n(30), w = o(S), T = n(27), C = o(T), E = n(44), I = o(E), P = function(e) {
function t() {
var n = this;
a(this, t), e.call(this, new h["default"]({
route: "none",
previousRoute: "none"
})), this.isSubRoute = !1, this.isEORShown = !1, this.isLoadingShown = !1, _["default"].show.listen(function() {
n.setState(new h["default"](s({}, n.getState(), {
isVisible: !0
})));
}), _["default"].hide.listen(function() {
n.setState(new h["default"](s({}, n.getState(), {
isVisible: !1,
previousRoute: "none",
previousSubRoute: null
})));
}), _["default"].route.listen(function(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1], r = n.getState(), o = r.route, a = r.subRoute;
"playing" === e && o !== e && g["default"].closeAll(), n.isEORShown = "eor" === e || n.isEORShown && "playing" !== e, 
n.isSubRoute = !!t, n.isLoadingShown = "loading" === e, n.setState(new h["default"](s({}, r, {
route: e,
subRoute: t,
previousRoute: o,
previousSubRoute: a,
isEORShown: n.isEORShown
})));
}), p.frostbite.registerMessageListener("game.showEndOfRoundMessage", function() {
_["default"].route("eor"), _["default"].show(), n.setState(new h["default"](s({}, n.getState(), {
isEORShown: !0
})));
}), I["default"].scope("navigationState").listen(function(e) {
n.updateLayoutAndGameViewVisibility(e);
}), b["default"].handleSpartaActivated.listen(function() {
n.updateLayoutAndGameViewVisibility(I["default"].getState().navigationState);
}), w["default"].leftServer.listen(function() {
_["default"].hide(), _["default"].route("none");
});
}
return i(t, e), t.prototype.updateLayoutAndGameViewVisibility = function n(e) {
switch (e) {
case f["default"].LoadingScreen:
this.isEORShown || this.isSubRoute || I["default"].getState().isSingleplayer || _["default"].route("loading"), 
_["default"].show();
break;

case f["default"].InGameMenu:
this.isEORShown || this.isSubRoute || this.isLoadingShown || _["default"].route("playing"), 
_["default"].show();
break;

case f["default"].EndOfRound:
_["default"].route("eor"), _["default"].show();
break;

case f["default"].FrontEnd:
var t = I["default"].getState();
t.queue.isPending ? (_["default"].show(), _["default"].route("loading")) : (_["default"].hide(), 
_["default"].route("none")), C["default"].showComponent("all"), setTimeout(function() {
C["default"].handleBlackFadeStart(0);
}, 1e3);
}
}, t;
}(u["default"]), O = new P();
t["default"] = O, p.getBuildInfo().isRemoteEngine() && (r.gameViewStateStore = O), 
e.exports = t["default"];
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
checkout: a["default"].createAction(),
checkoutStatus: a["default"].createAction(),
checkoutCompleted: a["default"].createAction(),
updateOffers: a["default"].createAction(),
setOffers: a["default"].createAction(),
showUnavailableStore: a["default"].createAction(),
purchasePsPlus: a["default"].createAction(),
updateRSPTemplate: a["default"].createAction(),
getShortcutKitsByLicense: a["default"].createAction()
};
}, function(e, t, n) {
e.exports = n(631);
}, function(e, t, n) {
(function(r) {
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t, n) {
var r = C.getState(), o = new b["default"](l["default"].extend({}, r.values, e));
r.comCenter && o.mainMenu && (o.mainMenu = !1, o.values.mainMenu = !1), r.mainMenu && o.comCenter && (o.comCenter = !1, 
o.values.comCenter = !1), C.setState(o), I.trigger(C.getState());
var a = new Promise(function(e) {
setTimeout(function() {
if (t) {
var n = t();
if (n instanceof Promise) return void n.then(e);
}
e();
}, n || w["default"].defaultTweenOptions.duration);
}), i = f["default"].getState();
e.all === !1 ? a.then(function() {
h["default"].handleSpartaWillDeactivate(), E || (E = !0, T.Native.setGlyphTextureSizeSync(2048)), 
T.frostbite.sendMessage("sparta.hideSparta");
}) : "none" === i.route && E && (E = !1, T.Native.setGlyphTextureSizeSync(4096));
}
function i(e, t, n, r) {
var o = {};
o[e] = t, a(o, n, r);
}
t.__esModule = !0;
var s = n(4), l = o(s), u = n(15), p = o(u), c = n(50), f = o(c), d = n(17), h = o(d), y = n(27), g = o(y), m = n(702), b = o(m), v = n(24), _ = o(v), S = n(13), w = o(S), T = n(2), C = new _["default"]("LayoutVisibilityStore", new b["default"]({
mainMenu: !1,
viewTint: !1,
contextMenus: !1,
comCenter: !1,
userBar: SpartaGlobals.bundleIsConsole,
miniComCenter: SpartaGlobals.bundleIsPC,
miniMenu: SpartaGlobals.bundleIsPC,
breadcrumbs: !0
}), !0), E = !1, I = p["default"].createStore({
init: function P() {
g["default"].setComponentVisibilities.listen(a), g["default"].setComponentVisibility.listen(i), 
g["default"].hideComponent.listen(function(e, t, n) {
i(e, !1, t, n);
}), g["default"].showComponent.listen(function(e, t, n) {
i(e, !0, t, n);
});
},
getState: function O() {
return C.getState();
}
});
T.getBuildInfo().isRemoteEngine() && (r.LayoutVisibilityStore = I), t["default"] = I, 
e.exports = t["default"];
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function a() {
Y.forEach(function(e) {
return e.startListening();
});
}
function i() {
Y.forEach(function(e) {
return e.stopListening();
});
}
t.__esModule = !0, t.startListening = a, t.stopListening = i;
var s = n(1), l = (o(s), n(4)), u = o(l), p = n(52), c = n(21), f = r(c), d = n(48), h = r(d), y = n(36), g = r(y), m = n(177), b = r(m), v = n(292), _ = r(v), S = n(217), w = r(S), T = n(455), C = r(T), E = n(788), I = r(E), P = n(51), O = r(P), A = n(164), k = r(A), R = n(167), x = n(41), M = n(56), N = n(11), $ = n(19), D = r($), U = "tunguska", L = f["default"].createClient({
requestOn: [ g["default"].buyBattlepackForScraps ],
throttle: 1e3,
shouldPerformRequest: function J() {
return !0;
},
request: function Q(e, t, n) {
return new Promise(function(r, o) {
var a = p.gatewayClient.request("Battlepack.buyForScraps", {
game: U,
pack: e
});
a.then(function(o) {
r(o);
var a = {
transactionType: "item_purchase_scraps",
transactionCode: "drain",
itemId: e,
price: t,
balance: n - t,
currency: "scraps",
status: "complete",
revenueModel: "virtual"
};
k["default"].trackEvent(R.Events.Transaction, a);
}), a["catch"](function(e) {
o(e);
});
});
},
parse: function Z(e) {
return e;
},
onRequestError: function ee(e, t) {
this.publish(new Error("Request error when attempting to buy item with scraps"));
},
update: function te(e) {
e ? this.publish(null, e) : this.publish(new Error("Failed to buy item with scraps"));
}
});
t.buyForScraps = L;
var F = f["default"].createClient({
requestOn: [ g["default"].openBattlepack ],
throttle: 3e3,
shouldPerformRequest: function ne() {
return !0;
},
request: function re(e) {
return p.gatewayClient.request("Battlepack.open", {
game: U,
withVoucher: e
});
},
parse: function oe(e) {
return e ? new b["default"](e) : null;
},
onRequestError: function ae(e, t) {
this.publish(new Error("Request error when attempting to open battlepack"), t);
},
update: function ie(e, t, n) {
e ? this.publish(null, e) : this.publish(new Error("Failed to open battlepack"), n);
}
});
t.open = F;
var G = f["default"].createClient({
requestOn: [ g["default"].claimBlueprint ],
throttle: 2e3,
shouldPerformRequest: function se() {
return !0;
},
request: function le(e) {
return p.gatewayClient.request("Battlepack.open", {
game: U,
withVoucher: e
});
},
parse: function ue(e) {
return e;
},
onRequestError: function pe(e, t) {
this.publish(new Error("Request error when attempting to claim blueprint"), t);
},
update: function ce(e, t, n) {
e ? this.publish(null, e) : this.publish(new Error("Failed to claim blueprint"), n);
}
});
t.claimBlueprint = G;
var j = f["default"].createClient({
requestOn: [ F, L ],
throttle: 1e3,
shouldPerformRequest: function fe() {
return x.onlineState.isPresenceReady;
},
request: function de() {
return p.gatewayClient.request("Battlepack.listBattlepackVouchers", {
game: U
});
},
onRequestError: function he(e) {
this.publish(null, e);
},
parse: function ye(e) {
return e.map(function(e) {
return new b["default"](e);
});
},
update: function ge(e) {
this.publish(e);
}
});
t.unopened = j;
var B = f["default"].createClient({
requestOn: [ g["default"].scrapItem ],
throttle: 500,
shouldPerformRequest: function me() {
return !0;
},
request: function be(e) {
return p.gatewayClient.request("Battlepack.scrapItem", {
game: U,
item: e.key
});
},
parse: function ve(e) {
return e;
},
onRequestError: function _e(e, t) {
this.publish(new Error("Request error when attempting to scrap item"), t);
},
update: function Se(e, t, n) {
e ? (n.quantity -= 1, this.publish(null, n)) : this.publish(new Error("Failed to scrap item"), n);
}
});
t.scrap = B;
var H = f["default"].createClient({
throttle: 1e3,
name: "TunguskaBattlepackInventory",
requestOn: [ F, B, G ],
shouldPerformRequest: function we() {
return !0;
},
request: function Te() {
return p.gatewayClient.request("Battlepack.listInventory", {
game: U
});
},
parse: function Ce(e) {
return {
items: e.items.filter(function(e) {
return e.quantity > 0;
}).map(function(e) {
return new _["default"](e);
}),
categories: e.categories
};
},
update: function Ee(e) {
this.publish(e);
}
});
t.inventory = H;
var V = f["default"].createClient({
throttle: 3e3,
shouldPerformRequest: function Ie() {
return !0;
},
request: function Pe() {
return p.gatewayClient.request("Battlepack.getPurchasablePacks", {
game: U
});
},
parse: function Oe(e) {
return Object.keys(e).map(function(t) {
return new b["default"](e[t]);
});
},
update: function Ae(e) {
this.publish(e);
}
});
t.purchasable = V;
var z = f["default"].createClient({
throttle: 200,
requestOn: [ F, L, B, O["default"].checkoutCompleted ],
shouldPerformRequest: function ke() {
return x.onlineState.isPresenceReady;
},
request: function Re() {
var e = void 0, t = h["default"].getState();
return t && (e = t.spartaUserId.personaId), p.gatewayClient.request("Battlepack.getSummary", {
game: U,
personaId: e
});
},
parse: function xe(e) {
return new I["default"](e);
},
update: function Me(e) {
this.publish(e);
}
});
t.summary = z;
var W = f["default"].createClient({
throttle: 200,
shouldPerformRequest: function Ne() {
return !0;
},
request: function $e() {
return new Promise(function(e, t) {
p.gatewayClient.firstPartyRequest("Inventory.getPurchases", {
games: [ U ],
categories: [ "battlepacks" ]
}).then(function(n) {
if (!n || !n.purchases) return t();
var r = n.purchases.map(function(e) {
return 0 === e.state.value ? new Promise(function(t, n) {
p.gatewayClient.firstPartyRequest("Inventory.startPurchase", {
game: e.game,
productId: "",
data: e.data,
pinData: null
}).then(function(r) {
return r && r.purchaseId ? void p.gatewayClient.firstPartyRequest("Inventory.completePurchase", {
game: e.game,
productId: "",
purchaseId: r.purchaseId,
transactionId: r.purchaseId,
result: "completed",
pinData: null
}).then(t, n) : n();
}, n);
}) : 1 === e.state.value ? p.gatewayClient.firstPartyRequest("Inventory.completePurchase", {
game: e.game,
productId: "",
purchaseId: e.purchaseId,
result: "completed",
pinData: null
}) : void 0;
}).filter(function(e) {
return null != e;
});
Promise.all(r).then(function() {
var t = r.length > 0;
e(t), t && j.trigger();
}, t);
}, t);
});
},
parse: function De(e) {
return e;
},
update: function Ue(e) {
this.publish(e);
}
});
t.handleStalePurchases = W;
var q = f["default"].createClient({
throttle: 2e3,
shouldPerformRequest: function Le() {
return !0;
},
request: function Fe() {
return p.gatewayClient.request("Battlepack.getBattlepackOffers", {
game: U,
locale: D["default"].getState().commerceLocale || D["default"].getState().locale || "en-us".toLowerCase()
});
},
parse: function Ge(e) {
return e.map(function(e) {
return new w["default"](e);
});
},
update: function je(e) {
this.publish(e);
}
});
t.getPackOffers = q;
var K = f["default"].createClient({
throttle: 1e3,
shouldPerformRequest: function Be() {
return !0;
},
request: function He() {
return p.gatewayClient.request("Battlepack.getPuzzlePacks", {
game: U
});
},
parse: function Ve(e) {
return u.values(e).map(function(e) {
return new C["default"]({
pack: new b["default"](e)
});
});
},
update: function ze(e) {
this.publish(e);
}
});
t.getPuzzlePacks = K;
var X = f["default"].createClient({
throttle: 1e3,
shouldPerformRequest: function We() {
return M.isHostingGame(U) && !0;
},
request: function qe() {
return new Promise(function(e) {
j.trigger(), z.trigger(), H.trigger(), V.trigger(), W.trigger(), K.trigger(), N.settingsStore.isFeatureEnabled("purchaseBattlepacks") && q.trigger(), 
e();
});
},
parse: function Ke(e) {
return e;
},
update: function Xe(e) {
this.publish(e);
}
});
t.initialFetch = X;
var Y = [ j, F, H, B, z, L, G ];
}, function(e, t, n) {
(function(__) {
function t(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var r = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, o = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), a = n(4), i = n(659), s = function() {
function e(n) {
t(this, e), n = n || {}, this.country = n.country, this.game = n.game, this.gameId = n.gameId + "", 
this.guid = n.guid, this.mapMode = n.mapMode || "", this.mapModePretty = n.mapModePretty || "", 
this.mapVariant = n.mapVariant, this.mapName = n.mapName || "", this.mapNamePretty = n.mapNamePretty || "", 
this.mapImageUrl = n.mapImageUrl, this._name = n.name ? n.name.trim() : "", this.description = n.description || "", 
this.ranked = n.ranked || !1, this.preset = n.preset || "", this.serverType = n.serverType || "", 
this.tickRate = n.tickRate || "", this.ip = n.ip || "", this.pingSiteAlias = n.pingSiteAlias, 
this.passwordProtected = n.passwordProtected, this.custom = n.custom, this.isFavorite = n.isFavorite, 
this.expansions = n.expansions || [], this.isActive = void 0 !== n.isActive ? !!n.isActive : !0, 
this.experience = n.experience || "";
var r = {
current: 0,
max: 32
};
this.slots = a.extend({
soldier: r,
queue: r,
commander: r,
spectator: r
}, n.slots), this.slots = a.object(a.map(this.slots, function(e, t) {
return [ t.toLowerCase(), e ];
})), this.rsp = n.rsp || {};
var o = 0;
a.each(this.expansions, function(e) {
o += e.mask;
}), this.expansionMask = o;
}
return e.prototype.hasAvailableSlotsForRole = function s(e) {
var t = this.slots[e];
return t && t.current < t.max;
}, e.prototype.isRoleSupported = function l(e) {
var t = this.slots[e];
return t && t.max > 0;
}, e.prototype.createJoinOptions = function u(e) {
return new i(r({
gameId: this.game,
blazeGameId: this.gameId,
server: this
}, e));
}, o(e, [ {
key: "name",
get: function p() {
var e = n(115)["default"], t = null;
return e.getState().hasAccess(t) ? this._name : __("ID_SPARTA_SERVER_NAME_HIDDEN");
}
} ]), e;
}();
e.exports = s;
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
var t = u["default"].getHostingGame().gameId;
if (!t) throw new Error("Cannot check hosting game before it is set!");
return t === e;
}
function o() {
return r(p.layoutStateStore.current.config.gameId);
}
function a() {
var e = u["default"].getHostingGame().displayName();
return c.alert(__("ID_SPARTA_RIME_NO_ACCESS").replace("[[game]]", e), "");
}
function i() {
return c.alert(__("ID_SPARTA_RIME_NO_ACCESS_JOINING"));
}
function s(e) {
var t = u["default"].getHostingGame();
return t.gameId !== e ? !1 : t.supportedRoles && t.supportedRoles.indexOf("spectator") > -1 ? t.hasSpectatorFeatureFlag ? p.settingsStore.isFeatureEnabled("spectator") : !0 : void 0;
}
t.__esModule = !0, t.isHostingGame = r, t.routeIsHostingGame = o, t.showNotInHostingGameAlert = a, 
t.showCannotShowBecauseMatchmakingAlert = i, t.supportsSpectating = s;
var l = n(19), u = e(l), p = n(11), c = n(35);
}).call(t, n(5));
}, function(e, t) {
e.exports = {
None: 0,
FrontEnd: 1,
LoadingScreen: 2,
InGameMenu: 3,
EndOfRound: 4
};
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), f = i(c), d = n(9), h = {
_$Spinner: {
displayName: "Spinner"
}
}, y = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Spinner.jsx",
components: h,
locals: [],
imports: []
}), g = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.timeout = 0, this.state = {
isRunning: this.props.autoRun
};
}
o(t, e), t.prototype.componentDidMount = function i() {
var e = this;
this.timeout = setTimeout(function() {
var t = e._reactInternalInstance ? e._reactInternalInstance._rootNodeID : "{unknown}", n = "Spinner component " + t + " with autoRun " + e.props.autoRun + "\n                         has been mounted for 15+ seconds, stuck in an endless loading state?";
console.error(n);
}, 15e3);
}, t.prototype.componentWillUnmount = function s() {
clearTimeout(this.timeout);
}, t.prototype.toggle = function l(e) {
this.setState({
isRunning: e
});
}, t.prototype.render = function c() {
var e = p({
width: this.props.size,
height: this.props.size,
spriteAnimation: {
spriteSheet: d.bbOfflineUrl("/sparta/assets/ui/sprites/loading60oneliner-4e12447d.png"),
fps: 60,
frameWidth: 102,
frameHeight: 102,
totalFrames: 87,
looping: !0,
running: this.state.isRunning
}
}, this.props.style);
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: e
},
_owner: null
};
};
var n = t;
return t = a("_$Spinner")(t) || t;
}(f["default"].Component);
t["default"] = g, g.defaultProps = {
autoRun: !0,
size: 26
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return k(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e, t) {
return e && t ? function() {
for (var n = arguments.length, r = Array(n), o = 0; n > o; o++) r[o] = arguments[o];
if (!(r && r.length && r[0].isRepeat)) {
var a = e.apply(void 0, r);
a instanceof Promise ? a.then(t) : t.apply(void 0, r);
}
} : e || t;
}
var u = n(3), p = s(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = s(d), y = n(10), g = n(2), m = n(20), b = s(m), v = n(14), _ = s(v), S = n(83), w = s(S), T = n(13), C = s(T), E = n(12), I = s(E), P = n(9), O = n(8), A = {
_$Glow: {
displayName: "Glow"
},
_$Pressable: {
displayName: "Pressable"
}
}, k = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Pressable.jsx",
components: A,
locals: [],
imports: []
}), R = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function r() {
this.tweens = {
glow: C["default"].tween("f6fa3d1e:31", 0, C["default"].presets.list.leave)
};
}, t.prototype.componentDidMount = function s() {
var e = this;
this.fadeTo(.6).then(function() {
return e.fadeTo(.2);
});
}, t.prototype.componentWillUnmount = function l() {
this.tweens.glow.destroy(), this.tweens.glow = null;
}, t.prototype.fadeTo = function u(e) {
var t = this;
return new Promise(function(n) {
null == t.tweens.glow || t.tweens.glow.isDestroyed() ? n() : t.tweens.glow.to(e, null, n);
});
}, t.prototype.render = function p() {
var e = {};
return this.props.isFocused && (e = f({
position: "absolute",
bottom: -9,
left: -9,
right: -9,
top: -9,
zOffset: 1,
texture: P.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-blur-42d30442.png"),
textureMode: "fill",
textureBorder: [ 12, 12, 12, 12 ],
opacity: this.tweens.glow.getStyle()
}, this.props.style)), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: e
},
_owner: null
};
};
var n = t;
return t = i("_$Glow")(t) || t;
}(h["default"].Component), x = function(e) {
function t(t) {
var r = this;
if (o(this, n), e.call(this, t), !t.focusItem) throw new Error("No focus item passed to <Pressable>");
this.tweens = {
scaleX: C["default"].tween("f6fa3d1e:85", 1),
scaleY: C["default"].tween("f6fa3d1e:86", 1)
}, this.triggerInput = w["default"](function() {
r.mutatedInput && r.mutatedInput.forEach(function(e) {
return e.action();
});
}, 250, !0, !1);
var a = t.focusItem;
g.focus.onComponentUpdate(this, function(e, t) {
a.setActive("f6fa3d1e:97", !e.disabled);
});
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this;
this.mutateInput(this.props.input), this.props.disableFocusInputUpdate || (this.cancelUpdateFocusInput = y.reaction(function() {
return g.focus.system.controllerMode && e.props.focusItem.isFocused;
}, function(t) {
t && e.updateInput();
})), this.pressInOptions = {
easing: "Linear",
duration: C["default"].presets.press.duration
}, this.pressOutOptions = {
easing: "CubicOut",
duration: C["default"].presets.press.duration
}, this.updateAnimationSettings();
var t = this.props.focusItem;
this.eventListeners = [ t.onClick.listen(function() {
e.triggerInput();
}), t.onFocus(function() {
return e.playEnter();
}), t.onBlur(function() {
return e.playLeave();
}), t.onHover(function() {
return e.playEnter();
}), t.onLeave(function() {
return e.playLeave();
}) ];
}, t.prototype.componentWillReceiveProps = function u(e) {
this.mutateInput(e.input);
}, t.prototype.componentDidUpdate = function p() {
this.updateAnimationSettings();
}, t.prototype.componentWillUnmount = function d() {
if (this.cancelUpdateFocusInput && this.cancelUpdateFocusInput(), !this._animating) {
for (var e in this.tweens) this.tweens[e].destroy();
for (;this.eventListeners.length; ) this.eventListeners.pop()();
}
}, t.prototype.getInput = function m() {
return this.props.focusItem.isFocused && g.focus.system.controllerMode ? this.mutatedInput : void 0;
}, t.prototype.onClick = function v(e) {
this.triggerInput();
}, t.prototype.updateAnimationSettings = function S() {
this.pressAnimation = {
scaleX: {
from: this.props.scale ? this.props.scaleValues.scaleX.to : 1,
to: this.props.scale ? this.props.pressScale : 1
},
scaleY: {
from: this.props.scale ? this.props.scaleValues.scaleY.to : 1,
to: this.props.scale ? this.props.pressScale : 1
}
};
}, t.prototype.mutateInput = function T(e) {
var t = this;
switch (e && (e = Array.isArray(e) ? e : [ e ]), e && 0 !== e.length || (e = [], 
this.props.useDefaultInput && e.push(new _["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: I["default"].Accept
}))), this.props.triggerMode) {
case "before":
this.mutatedInput = e.map(function(e) {
return e.extend({
action: l(e.action, function() {
return t.playPress();
})
});
});
break;

case "between":
this.mutatedInput = e.map(function(e) {
var n = e.action;
return e.extend({
action: l(function() {
return t.playPressDown();
}, function() {
return n && n(), t.playReleaseUp();
})
});
});
break;

case "after":
this.mutatedInput = e.map(function(e) {
return e.extend({
action: l(function() {
return t.playPress();
}, e.action)
});
});
}
}, t.prototype.playPressDown = function E() {
return this.playAnimation(this.pressAnimation, "to", this.pressInOptions);
}, t.prototype.playReleaseUp = function P() {
return this.playAnimation(this.pressAnimation, "from", this.pressOutOptions);
}, t.prototype.playPress = function A() {
var e = this;
return this.props.disabled ? void 0 : this.playPressDown().then(function() {
return e.playReleaseUp();
});
}, t.prototype.playEnter = function k() {
return this.props.scale ? this.playAnimation(this.props.scaleValues, "to", this.props.scaleInOptions) : void 0;
}, t.prototype.playLeave = function x() {
return this.props.scale ? this.playAnimation(this.props.scaleValues, "from", this.props.scaleOutOptions) : void 0;
}, t.prototype.playAnimation = function M(e, t, n) {
var r = this;
this._animating = !0;
var o = Object.keys(e).map(function(o) {
return new Promise(function(a) {
r.tweens[o].isDestroyed() ? a() : r.tweens[o].to(e[o][t], n, a);
});
});
return Promise.all(o).then(function() {
r._animating = !1;
});
}, t.prototype.render = function N() {
var e, t = f({}, this.props.style, g.Tween.getStyles(this.tweens));
return this.props.glow && (e = {
$$typeof: c,
type: R,
key: null,
ref: null,
props: r(R.defaultProps, {
isFocused: this.props.focusItem.isFocused
}),
_owner: null
}), h["default"].createElement("surface", f({
style: t
}, this.props.focusItem.hooks), e, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: {
flex: 1,
zOffset: 2
}
},
_owner: null
});
};
var n = t;
return t = i("_$Pressable")(t) || t, t = b["default"]()(t) || t, t = O.observer(t) || t;
}(h["default"].Component);
t["default"] = x, x.defaultProps = {
glow: !1,
scale: !1,
scaleValues: {
scaleX: {
from: 1,
to: 1.057
},
scaleY: {
from: 1,
to: 1.057
}
},
useDefaultInput: !0,
scaleInOptions: C["default"].presets.focusables.enter["default"],
scaleOutOptions: C["default"].presets.focusables.leave,
triggerMode: "between",
pressScale: .965,
disabled: !1,
disableFocusInputUpdate: !1
}, x.propTypes = {
focusItem: h["default"].PropTypes.instanceOf(g.focus.FocusItem).isRequired,
glow: h["default"].PropTypes.bool,
scale: h["default"].PropTypes.bool,
scaleValues: h["default"].PropTypes.object,
scaleInOptions: h["default"].PropTypes.object,
scaleOutOptions: h["default"].PropTypes.object,
useDefaultInput: h["default"].PropTypes.bool,
input: h["default"].PropTypes.oneOfType([ h["default"].PropTypes.instanceOf(_["default"]), h["default"].PropTypes.arrayOf(h["default"].PropTypes.instanceOf(_["default"])) ]),
triggerMode: h["default"].PropTypes.oneOf([ "before", "between", "after" ]),
disableFocusInputUpdate: h["default"].PropTypes.bool
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(95), i = n(95), s = n(13), l = n(7), u = n(293);
!function(e) {
e[e.Left = 0] = "Left", e[e.Right = 1] = "Right";
}(t.Direction || (t.Direction = {}));
var p = t.Direction, c = function(e) {
function t() {
e.apply(this, arguments), this.origin = this.props.direction === p.Right || this.props.rtl ? 0 : this.props.outerWidth - this.props.innerWidth, 
this.translateX = s.tween("38e8cd1c:32", this.origin), this._loopTimeout = null, 
this._delayTimeout = null, this._animationStarted = !1;
}
return r(t, e), t.prototype.componentWillUnmount = function() {
clearTimeout(this._delayTimeout), clearTimeout(this._loopTimeout), this.translateX.destroy();
}, t.prototype.componentDidUpdate = function() {
var e = this;
this.props.delay ? (clearTimeout(this._delayTimeout), this._delayTimeout = setTimeout(function() {
return e.update();
}, this.props.delay)) : this.update();
}, t.prototype.getDistance = function(e) {
return this.props.loop ? e : Math.abs(e - this.props.outerWidth);
}, t.prototype.update = function() {
var e = this.getDistance(this.props.innerWidth);
if (clearTimeout(this._loopTimeout), this.reset(e), this.props.innerWidth && this.props.outerWidth > 0 && this.props.outerWidth < this.props.innerWidth) {
if (this.props.loop) return void this.loop(e, !0);
if (this.props.scroll) return void this.scroll(e);
}
}, t.prototype.loop = function(e, t) {
var n = this;
void 0 === t && (t = !1), this._animationStarted || (this._animationStarted = !0, 
this.props.onScrollStart());
var r = this.props.direction === p.Left || this.props.rtl, o = r ? e : -e, a = r ? -this.props.outerWidth : this.props.outerWidth, i = {
duration: this.props.durations.enter * (t ? 5 : 10),
easing: "Linear"
};
this.translateX.to(o, i), this._loopTimeout = setTimeout(function() {
n.props.loop && (n.translateX.set(a), n.loop(e));
}, i.duration);
}, t.prototype.scroll = function(e) {
this._animationStarted || (this._animationStarted = !0, this.props.onScrollStart());
var t = {
duration: this.props.durations.enter * Math.ceil(e / 100),
easing: "linear"
};
this.props.direction !== p.Right || this.props.rtl || (e = -e), this.translateX.to(e, t);
}, t.prototype.reset = function(e) {
var t = this;
if (this._animationStarted && !this.props.loop && !this.props.scroll) {
var n = {
duration: this.props.durations.leave * Math.ceil(e / 100),
easing: "linear"
};
this.translateX.to(this.origin, n, function() {
t.props.onScrollStop();
}), this._animationStarted = !1;
}
}, t.prototype.render = function() {
var e = {
translateX: this.translateX.getStyle(),
enableMouseEvents: !1
};
return o.createElement(u, {
style: e,
onBoundsChanged: this.props.onBoundsChanged
}, this.props.children);
}, t.defaultProps = {
outerWidth: 0
}, t;
}(o.Component), f = function(e) {
function t() {
e.apply(this, arguments), this.state = {
outerBounds: null,
innerBounds: null,
isAnimated: !1
};
}
return r(t, e), t.prototype.getWidth = function(e) {
return e ? e.width : 0;
}, t.isSizeEqual = function(e, t) {
return e && t && e.width === t.width && e.height === t.height;
}, t.prototype.updateOuterBounds = function(e) {
t.isSizeEqual(this.state.outerBounds, e) || this.setState({
outerBounds: e
});
}, t.prototype.updateInnerBounds = function(e) {
t.isSizeEqual(this.state.innerBounds, e) || this.setState({
innerBounds: e
});
}, t.prototype.renderEllipsis = function() {
var e = {
position: "absolute",
right: -22,
bottom: -2,
opacity: s.tweenSwitch(1, 0, this.props.scroll)
};
return o.createElement(l, {
value: "...",
style: e
});
}, t.prototype.render = function() {
var e = this, t = this.props.rtl, n = this.props.scrollTo === p.Left || t, r = n ? {
justifyContent: "flex-end"
} : {}, l = {};
this.props.width ? l.width = this.props.width : this.props.style && this.props.style.width && (l.width = this.props.style.width);
var f = l.width ? l.width : this.getWidth(this.state.outerBounds), d = this.getWidth(this.state.innerBounds), h = d && f > 0 && d > f, y = this.props.showEllipsis && h, g = {
enter: this.props.durations && this.props.durations.enter ? this.props.durations.enter : s.defaultTweenOptions.duration,
leave: this.props.durations && this.props.durations.leave ? this.props.durations.leave : s.defaultTweenOptions.leave
}, m = i.assign3(l, this.props.style, {
marginRight: y ? 22 : 0
}), b = a.assign4({
layer: !!h || this.state.isAnimated,
layerClip: !!h || this.state.isAnimated,
flexDirection: "row",
flexWrap: "nowrap",
enableMouseEvents: !1
}, r, l, this.props.style);
return o.createElement("surface", {
style: m,
onClick: this.props.onClick
}, y ? this.renderEllipsis() : null, o.createElement(u, {
style: b,
onBoundsChanged: this.updateOuterBounds.bind(this)
}, o.createElement(c, {
scroll: this.props.scroll,
loop: this.props.loop,
delay: this.props.delay,
direction: this.props.scrollTo,
innerWidth: d,
outerWidth: f,
durations: g,
onScrollStart: function() {
e.setState({
isAnimated: !0
});
},
onScrollStop: function() {
e.setState({
isAnimated: !1
});
},
onBoundsChanged: this.updateInnerBounds.bind(this),
rtl: t
}, this.props.children)));
}, t.defaultProps = {
scroll: !1,
scrollTo: p.Right,
loop: !1,
showEllipsis: !1,
durations: {
enter: s.defaultTweenOptions.duration,
leave: s.defaultTweenOptions.duration
},
rtl: !1
}, t;
}(o.Component);
t.Marquee = f;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o);
t["default"] = {
handleCardDisplayed: a["default"].createAction(),
handleCardInteraction: a["default"].createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return R(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(4), h = l(d), y = n(2), g = r(y), m = n(1), b = l(m), v = n(71), _ = l(v), S = n(179), w = l(S), T = n(296), C = l(T), E = n(7), I = l(E), P = n(6), O = l(P), A = n(8), k = {
_$List: {
displayName: "List"
}
}, R = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/List.jsx",
components: k,
locals: [],
imports: []
}), x = g.createStyleSheet({
groupHeader: {
height: O["default"].getHeight(7),
flexDirection: "column",
alignItems: "flex-start",
justifyContent: "center"
}
}), M = function D(e) {
return Array.isArray(e) && e.length > 0;
}, N = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.itemReferences = {}, M(t.groups) && M(t.groups[0]) ? this.state = {
activeItemId: t.groups[0][0].id
} : M(t.items) ? this.state = {
activeItemId: t.items[0].id
} : this.state = {
activeItemId: void 0
}, this.focusAncestor = g.focus.createAncestor("list-ancestor"), this.focusGroup = g.focus.createGroup("list"), 
this.focusGroup.behavior = g.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | g.focus.GroupBehavior.VERTICAL, 
this.focusAncestor.onFocusChildChanged.listen(function(e) {
t.onFocus && e && e.isFocused && t.onFocus();
});
}
i(t, e), t.prototype.componentWillUnmount = function r() {
this.focusGroup.destroy();
}, t.prototype.componentWillBlur = function l() {
this.props.onBlur && this.props.onBlur();
}, t.prototype.setItemFocus = function u(e) {
this.itemReferences[e].focusItem.setFocused(y.focus.FocusSource.Auto);
}, t.prototype.setActive = function p(e) {
this.setState({
activeItemId: e
}, null, "new list id: " + e);
}, t.prototype.descendantDidFocus = function d(e) {
this.props.autoActivateItems && this.setActive(e.id), this.props.onItemDidFocus && this.props.onItemDidFocus(e);
}, t.prototype.shouldFocusableKeepActiveChild = function m(e) {
return !this.props.forgetItemFocus;
}, t.prototype.renderDivider = function v(e) {
return {
$$typeof: f,
type: C["default"],
key: e,
ref: null,
props: o(C["default"].defaultProps, {
spacing: this.props.dividerSpacing
}),
_owner: null
};
}, t.prototype.renderItem = function S(e, t) {
var n = this;
if (_["default"].isValidElement(e)) return e;
var r = e.key || "item-" + t;
"function" == typeof e.label && (e.label = e.label());
var o = e.hasOwnProperty("id") ? e.id : t, a = o === this.state.activeItemId, i = e.onFocus ? e.onFocus : function() {
return n.descendantDidFocus(e);
};
return b["default"].createElement(y.Focusable, {
ref: function(t) {
return n.itemReferences[e.id] = t;
},
key: r,
groupIndex: t,
group: this.focusGroup,
focusOnHover: this.props.autoActivateItems,
onFocus: i,
debugName: "listitem_" + o
}, function(t) {
var r = {
isActive: a,
id: o,
focusItem: t,
showActiveIndicator: n.props.showActiveIndicator ? !0 : !1
}, i = h["default"].extend({}, r, e);
return b["default"].createElement(n.props.listItemComponent, i);
});
}, t.prototype.render = function w() {
var e, t = this;
e = this.props.groups ? this.props.groups : this.props.items ? [ this.props.items ] : [];
var n = [], r = 0;
return "none" !== this.props.divider && n.push(this.renderDivider(n.length)), h["default"].each(e, function(e, a) {
"string" == typeof a && (n.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: I["default"],
key: n.length,
ref: null,
props: o(I["default"].defaultProps, {
value: a,
size: t.props.headerSize,
type: "emphasis",
style: {
marginTop: O["default"].GUTTER,
marginBottom: O["default"].GUTTER
}
}),
_owner: null
},
style: x.groupHeader
},
_owner: null
}), "item" === t.props.divider && n.push(t.renderDivider(n.length)));
var i = e.length - 1;
e.forEach(function(e, o) {
n.push(t.renderItem(e, r)), r++;
var s = o === i && a;
"item" !== t.props.divider || s || n.push(t.renderDivider(n.length));
}), "group" === t.props.divider && n.push(t.renderDivider(n.length));
}), b["default"].createElement("surface", c({
onMouseDown: this.props.onMouseDown,
style: this.props.style
}, this.focusAncestor.hooks), n, this.props.children);
};
var n = t;
return t = s("_$List")(t) || t, t = A.observer(t) || t;
}(b["default"].Component);
t["default"] = N;
var $ = b["default"].PropTypes.array;
N.propTypes = {
onItemDidFocus: b["default"].PropTypes.func,
autoActivateItems: b["default"].PropTypes.bool,
divider: b["default"].PropTypes.oneOf([ "group", "item", "none" ]),
dividerSpacing: b["default"].PropTypes.number,
items: $
}, N.defaultProps = {
divider: "group",
headerSize: "M",
listItemComponent: w["default"]
}, e.exports = t["default"];
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(2), i = n(248), s = n(18), l = function() {
function e() {
this.left = 0, this.top = 0, this.width = 0, this.height = 0;
}
return r([ o.observable ], e.prototype, "left", void 0), r([ o.observable ], e.prototype, "top", void 0), 
r([ o.observable ], e.prototype, "width", void 0), r([ o.observable ], e.prototype, "height", void 0), 
e;
}(), u = function() {
function e() {
this.extra = new i.ExtraElements();
}
return r([ o.observable ], e.prototype, "reactComponent", void 0), e;
}(), p = function() {
function e() {
this.window = new l(), this.layout = new u();
}
return Object.defineProperty(e.prototype, "viewportScale", {
get: function() {
var e = this.window.width / s.screen.style.width, t = this.window.height / s.screen.style.height, n = Math.min(e, t);
return {
scaleX: n,
scaleY: n
};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "viewportPosition", {
get: function() {
return {
left: this.window.width / 2 - s.screen.style.width / 2 + s.screen.style.left,
top: this.window.height / 2 - s.screen.style.height / 2 + s.screen.style.top
};
},
enumerable: !0,
configurable: !0
}), e.prototype.setWindowSize = function(e, t) {
this.window.width = e, this.window.height = t;
}, r([ o.computed ], e.prototype, "viewportScale", null), r([ o.computed ], e.prototype, "viewportPosition", null), 
r([ o.action ], e.prototype, "setWindowSize", null), e;
}();
t.uiState = new p(), a.events.onWindowSizeChanged.listen(function(e, n) {
t.uiState.setWindowSize(e, n);
});
}, function(e, t, n) {
"use strict";
function r() {
I.ReactReconcileTransaction && _ ? void 0 : g(!1);
}
function o() {
this.reinitializeTransaction(), this.dirtyComponentsLength = null, this.callbackQueue = p.getPooled(), 
this.reconcileTransaction = I.ReactReconcileTransaction.getPooled(!1);
}
function a(e, t, n, o, a, i) {
r(), _.batchedUpdates(e, t, n, o, a, i);
}
function i(e, t) {
return e._mountOrder - t._mountOrder;
}
function s(e) {
var t = e.dirtyComponentsLength;
t !== m.length ? g(!1) : void 0, m.sort(i);
for (var n = 0; t > n; n++) {
var r = m[n], o = r._pendingCallbacks;
if (r._pendingCallbacks = null, d.performUpdateIfNecessary(r, e.reconcileTransaction), 
o) for (var a = 0; a < o.length; a++) e.callbackQueue.enqueue(o[a], r.getPublicInstance());
}
}
function l(e) {
return r(), _.isBatchingUpdates ? void m.push(e) : void _.batchedUpdates(l, e);
}
function u(e, t) {
_.isBatchingUpdates ? void 0 : g(!1), b.enqueue(e, t), v = !0;
}
var p = n(228), c = n(107), f = n(84), d = n(118), h = n(190), y = n(37), g = n(29), m = [], b = p.getPooled(), v = !1, _ = null, S = {
initialize: function() {
this.dirtyComponentsLength = m.length;
},
close: function() {
this.dirtyComponentsLength !== m.length ? (m.splice(0, this.dirtyComponentsLength), 
C()) : m.length = 0;
}
}, w = {
initialize: function() {
this.callbackQueue.reset();
},
close: function() {
this.callbackQueue.notifyAll();
}
}, T = [ S, w ];
y(o.prototype, h.Mixin, {
getTransactionWrappers: function() {
return T;
},
destructor: function() {
this.dirtyComponentsLength = null, p.release(this.callbackQueue), this.callbackQueue = null, 
I.ReactReconcileTransaction.release(this.reconcileTransaction), this.reconcileTransaction = null;
},
perform: function(e, t, n) {
return h.Mixin.perform.call(this, this.reconcileTransaction.perform, this.reconcileTransaction, e, t, n);
}
}), c.addPoolingTo(o);
var C = function() {
for (;m.length || v; ) {
if (m.length) {
var e = o.getPooled();
e.perform(s, null, e), o.release(e);
}
if (v) {
v = !1;
var t = b;
b = p.getPooled(), t.notifyAll(), p.release(t);
}
}
};
C = f.measure("ReactUpdates", "flushBatchedUpdates", C);
var E = {
injectReconcileTransaction: function(e) {
e ? void 0 : g(!1), I.ReactReconcileTransaction = e;
},
injectBatchingStrategy: function(e) {
e ? void 0 : g(!1), "function" != typeof e.batchedUpdates ? g(!1) : void 0, "boolean" != typeof e.isBatchingUpdates ? g(!1) : void 0, 
_ = e;
}
}, I = {
ReactReconcileTransaction: null,
batchedUpdates: a,
enqueueUpdate: l,
flushBatchedUpdates: C,
injection: E,
asap: u
};
e.exports = I;
}, function(e, t) {
"use strict";
var n = !("undefined" == typeof window || !window.document || !window.document.createElement), r = {
canUseDOM: n,
canUseWorkers: "undefined" != typeof Worker,
canUseEventListeners: n && !(!window.addEventListener && !window.attachEvent),
canUseViewport: n && !!window.screen,
isInWorker: !n
};
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t) {
return "string" == typeof e ? s.createElement(f, a({
value: e
}, t)) : e;
}
var o = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, a = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, i = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, s = n(1), l = n(2), u = n(8), p = n(10), c = n(141), f = n(7), d = n(6), h = n(293), y = n(13), g = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, m = {
heading: {
opacity: .8,
marginBottom: d.GUTTER,
textAlignForRTL: "left"
},
description: {
textAlignForRTL: "left"
},
iconContainer: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
alignItems: "center",
justifyContent: "center"
},
icon: function(e, t, n, r, o, a) {
var i = 1;
c.activeBackgroundScaleIncrease > 0 && (i = y.tweenSwitch(i, i + c.activeBackgroundScaleIncrease, e, c.tweenInOptions, c.tweenOutOptions));
var s = {
width: n,
height: r,
texture: t,
textureMode: "contain",
textureAlign: [ .5, 1 ],
scaleX: i,
scaleY: i
};
return a && (s.opacity = o ? 1 : .5, s.grayScale = o ? 0 : 1), s;
}
}, b = function(e) {
function t(t) {
e.call(this, t), this.iconWidth = 0, this.iconHeight = 0, this.focusItem = t.focusItem || l.focus.create(this, l.autoId("basicCard"));
}
return o(t, e), t.prototype.updateBounds = function(e) {
void 0 === e && (e = this.props);
var t = this.card.backgroundHeight * e.iconSize;
this.iconWidth = t, this.iconHeight = t;
}, t.prototype.componentWillUpdate = function(e) {
e.iconSize !== this.props.iconSize && this.updateBounds(e);
}, t.prototype.renderTexts = function(e, t, n, o) {
var a = "split" === n, i = a ? "M" : "XS", l = a ? "XS" : "M", u = a ? .66 : 1, p = Object.assign({}, m.description, {
opacity: u
});
return e && (e = e.toUpperCase()), s.createElement("surface", {
style: {
height: o
}
}, r(e, {
style: m.heading,
type: "emphasis",
size: i
}), r(t, {
style: p,
size: l
}));
}, t.prototype.render = function() {
var e, t, n = this, r = this.props.enabled !== !1, o = this.renderTexts(this.props.heading, this.props.description, this.props.layout, this.props.textHeight), i = this.focusItem.isFocused && r, l = i && this.props.activeIcon || this.props.icon, u = l && [ s.createElement(h, {
key: "bounds",
onBoundsChanged: function(e) {
return n.updateBounds();
},
style: g
}), s.createElement("surface", {
key: "icon",
style: m.iconContainer
}, s.createElement("surface", {
style: m.icon(i, l, this.iconWidth, this.iconHeight, r, this.props.useGrayScale)
})) ], p = u ? "split" : "inline", f = void 0 !== this.props.layout ? this.props.layout : p;
return "split" === f ? e = o : t = o, this.props.bottom && (e = this.props.bottom, 
t = o), s.createElement(c.Card, a({
ref: function(e) {
return n.card = e;
}
}, this.props, {
focusItem: this.focusItem,
enabled: r,
bottom: e
}), this.props.children, u, t);
}, t.defaultProps = {
size: "SSM",
useGrayScale: !0,
iconSize: .75
}, i([ p.observable ], t.prototype, "iconWidth", void 0), i([ p.observable ], t.prototype, "iconHeight", void 0), 
i([ p.action ], t.prototype, "updateBounds", null), t = i([ u.observer ], t);
}(s.Component);
t.BasicCard = b;
}, function(e, t) {
"use strict";
!function(e) {
e[e.None = 0] = "None", e[e.Joinable = 1] = "Joinable", e[e.Playing = 2] = "Playing", 
e[e.Online = 3] = "Online", e[e.Away = 4] = "Away", e[e.Offline = 5] = "Offline";
}(t.UserPresenceStates || (t.UserPresenceStates = {}));
t.UserPresenceStates;
}, function(e, t, n) {
"use strict";
function r(e) {
s.loadFont(e.name, e.url);
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(10), i = n(4), s = n(2), l = n(567), u = n(531);
a.observe(u.accountInfoPSN, "language", function(e) {
var n = l.psnAccountLanguageToSpartaLocale(e);
t.fontState.updateFontsForLocale(n);
});
var p = function() {
function e() {
this.locales = [], this.locale = null, this.commerceLocale = null, this.registeredFonts = [];
}
return Object.defineProperty(e.prototype, "fonts", {
get: function() {
return this.locale ? l.fontConfig[this.locale] : l.fontConfig.empty;
},
enumerable: !0,
configurable: !0
}), e.prototype.setLocales = function(e, t) {
this.locale = e.toLowerCase(), this.commerceLocale = t.toLowerCase();
}, e.prototype.updateFontsForLocale = function(e) {
var t = this;
return new Promise(function(n, r) {
if (e && l.fontConfig.hasOwnProperty(e) ? -1 === t.locales.indexOf(e) && t.locales.push(e) : console.warn("Locale not found in fontConfig. Falling back to en-us. Got locale: " + e), 
t.commerceLocale) {
var o = l.commerceLocaleToRegionFontLocale(t.commerceLocale);
o && -1 === t.locales.indexOf(o) && t.locales.push(o);
}
var a = t.getFontsToLoad();
0 == a.length && n(), t.loadFonts(a);
var u = setTimeout(function() {
if (!i.every(a, "loaded")) {
var e = i.filter(a, function(e) {
return !e.loaded;
}), t = i.map(e, function(e) {
return e.name;
});
console.warn("These fonts could not be loaded in time:", t);
}
clearTimeout(u), n();
}, 3e4), p = s.events.onAssetLoaded.listen(function(e, t) {
var o = !1;
i.every(a, function(n, i) {
var s = n.url.replace("http://offline.twinkle", "");
return -1 !== e.indexOf(s) ? (o = !0, t ? a[i].loaded = !0 : (p(), r()), !1) : !0;
}), o && i.every(a, "loaded") && (clearTimeout(u), p(), n());
});
});
}, e.prototype.getFontsToLoad = function() {
var e = this, t = [];
return this.locales.forEach(function(n) {
var r = l.fontConfig[n];
for (var o in r) if (r.hasOwnProperty(o)) {
var a = r[o], i = a.normal, s = a.emphasis;
e.isFontNotRegistered(i.name) && (e.registeredFonts.push(i.name), t.push({
name: i.name,
url: i.url,
loaded: !1
})), e.isFontNotRegistered(s.name) && (e.registeredFonts.push(s.name), t.push({
name: s.name,
url: s.url,
loaded: !1
}));
}
}), t;
}, e.prototype.loadFonts = function(e) {
for (var t in e) {
var n = e[t];
r(n);
}
}, e.prototype.isFontNotRegistered = function(e) {
return -1 === this.registeredFonts.indexOf(e);
}, o([ a.observable ], e.prototype, "locales", void 0), o([ a.observable ], e.prototype, "locale", void 0), 
o([ a.observable ], e.prototype, "commerceLocale", void 0), o([ a.observable ], e.prototype, "registeredFonts", void 0), 
o([ a.computed ], e.prototype, "fonts", null), o([ a.action ], e.prototype, "setLocales", null), 
o([ a.action ], e.prototype, "updateFontsForLocale", null), o([ a.action ], e.prototype, "getFontsToLoad", null), 
e;
}();
t.FontState = p, t.fontState = new p();
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
nativeClientReadyMessage: a["default"].createAction(),
nativeClientSettingsMessage: a["default"].createAction(),
firstPartyConnectedMessage: a["default"].createAction(),
spartaErrorMessage: a["default"].createAction(),
allModulesDidLoad: a["default"].createAction()
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (!(e instanceof c["default"])) throw new Error("Got invalid party. Has to be of type Party.");
S.setState(e), C.trigger(S.getState());
}
function a() {
var e = S.getState(), t = Date.now(), n = {}, r = Object.keys(e.invitations);
r.forEach(function(r) {
var o = e.invitations[r];
o.createdAt.getTime() + w > t && (n[o.spartaUserId.getPlatformId()] = o);
}), o(new c["default"](Object.assign({}, e, {
invitations: n
}))), i();
}
function i() {
clearTimeout(T), T = -1, s();
}
function s() {
if (!(T >= 0)) {
var e = S.getState(), t = Object.keys(e.invitations);
if (0 !== t.length) {
var n = Number.MAX_VALUE;
t.forEach(function(t) {
var r = e.invitations[t].createdAt.getTime();
n > r && (n = r);
});
var r = Math.min(n - Date.now() + w, w);
T = setTimeout(a, r);
}
}
}
var l = n(15), u = r(l), p = n(313), c = r(p), f = n(310), d = r(f), h = n(129), y = r(h), g = n(24), m = r(g), b = n(11), v = n(19), _ = r(v), S = new m["default"]("PartyStore", new c["default"](), !0), w = 5e3, T = -1, C = u["default"].createStore({
init: function E() {
this.listenTo(y["default"].invite, this.onInvite), this.listenTo(d["default"].onPartyMembersUpdated, this.onPartyMembersUpdated), 
this.listenTo(d["default"].onPartyUpdated, this.onPartyUpdated), this.listenTo(d["default"].onPartyDisbanded, this.onPartyDisbanded);
},
onPartyDisbanded: function I() {
o(new c["default"]({
state: p.PartyState.Disbanded
})), i();
},
onPartyMembersUpdated: function P(e) {
var t = S.getState(), n = [];
Object.keys(t.invitations).forEach(function(r) {
var o = t.invitations[r];
e[o.spartaUserId.getPlatformId()] && (n[r] = o);
}), o(new c["default"](Object.assign({}, t, {
invitations: n,
members: e
}))), i();
},
onPartyUpdated: function O(e) {
o(new c["default"](Object.assign({}, S.getState(), e)));
},
onInvite: function A(e) {
var t = S.getState();
if (!t.hasInvitationForUser(e.spartaUserId)) {
var n = Object.assign({}, t.invitations);
n[e.spartaUserId.getPlatformId()] = new p.PartyInvite({
spartaUserId: e.spartaUserId
}), o(new c["default"](Object.assign({}, t, {
invitations: n
}))), s();
}
},
isInAParty: function k() {
var e = S.getState(), t = !0;
if (SpartaGlobals.bundleIsPS4) {
var n = b.gameStore.getGame(_["default"].getState().hostingGameId), r = n.joinConfig && n.joinConfig.useSquadJoin || !1;
t = !(r && !e.forceSquadJoin);
}
return SpartaGlobals.bundleIsXBOXONE && e.size() < 2 && (t = !1), e.isValidParty() && t;
},
getState: function R() {
return S.getState();
},
waitForCreation: function x() {
return new Promise(function(e, t) {
S.getState().isValidParty() ? e(S.getState()) : !function() {
var n = setTimeout(function() {
return t(S.getState());
}, 5e3), r = function o() {
return setTimeout(function() {
S.getState().isValidParty() ? (clearTimeout(n), e(S.getState())) : o();
}, 100);
};
r();
}();
});
}
});
e.exports = C;
}, function(e, t, n) {
"use strict";
var r = n(93), o = n(37), a = (n(233), "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103), i = {
key: !0,
ref: !0,
__self: !0,
__source: !0
}, s = function(e, t, n, r, o, i, s) {
var l = {
$$typeof: a,
type: e,
key: t,
ref: n,
props: s,
_owner: i
};
return l;
};
s.createElement = function(e, t, n) {
var o, a = {}, l = null, u = null, p = null, c = null;
if (null != t) {
u = void 0 === t.ref ? null : t.ref, l = void 0 === t.key ? null : "" + t.key, p = void 0 === t.__self ? null : t.__self, 
c = void 0 === t.__source ? null : t.__source;
for (o in t) t.hasOwnProperty(o) && !i.hasOwnProperty(o) && (a[o] = t[o]);
}
var f = arguments.length - 2;
if (1 === f) a.children = n; else if (f > 1) {
for (var d = Array(f), h = 0; f > h; h++) d[h] = arguments[h + 2];
a.children = d;
}
if (e && e.defaultProps) {
var y = e.defaultProps;
for (o in y) "undefined" == typeof a[o] && (a[o] = y[o]);
}
return s(e, l, u, p, c, r.current, a);
}, s.createFactory = function(e) {
var t = s.createElement.bind(null, e);
return t.type = e, t;
}, s.cloneAndReplaceKey = function(e, t) {
var n = s(e.type, t, e.ref, e._self, e._source, e._owner, e.props);
return n;
}, s.cloneAndReplaceProps = function(e, t) {
var n = s(e.type, e.key, e.ref, e._self, e._source, e._owner, t);
return n;
}, s.cloneElement = function(e, t, n) {
var a, l = o({}, e.props), u = e.key, p = e.ref, c = e._self, f = e._source, d = e._owner;
if (null != t) {
void 0 !== t.ref && (p = t.ref, d = r.current), void 0 !== t.key && (u = "" + t.key);
for (a in t) t.hasOwnProperty(a) && !i.hasOwnProperty(a) && (l[a] = t[a]);
}
var h = arguments.length - 2;
if (1 === h) l.children = n; else if (h > 1) {
for (var y = Array(h), g = 0; h > g; g++) y[g] = arguments[g + 2];
l.children = y;
}
return s(e.type, u, p, c, f, d, l);
}, s.isValidElement = function(e) {
return "object" == typeof e && null !== e && e.$$typeof === a;
}, e.exports = s;
}, function(e, t, n) {
"use strict";
function r(e, t) {
for (var n = Math.min(e.length, t.length), r = 0; n > r; r++) if (e.charAt(r) !== t.charAt(r)) return r;
return e.length === t.length ? -1 : n;
}
function o(e) {
return e ? e.nodeType === B ? e.documentElement : e.firstChild : null;
}
function a(e) {
var t = o(e);
return t && Y.getID(t);
}
function i(e) {
var t = s(e);
if (t) if (G.hasOwnProperty(t)) {
var n = G[t];
n !== e && (c(n, t) ? D(!1) : void 0, G[t] = e);
} else G[t] = e;
return t;
}
function s(e) {
return e && e.getAttribute && e.getAttribute(F) || "";
}
function l(e, t) {
var n = s(e);
n !== t && delete G[n], e.setAttribute(F, t), G[t] = e;
}
function u(e) {
return G.hasOwnProperty(e) && c(G[e], e) || (G[e] = Y.findReactNodeByID(e)), G[e];
}
function p(e) {
var t = I.get(e)._rootNodeID;
return C.isNullComponentID(t) ? null : (G.hasOwnProperty(t) && c(G[t], t) || (G[t] = Y.findReactNodeByID(t)), 
G[t]);
}
function c(e, t) {
if (e) {
s(e) !== t ? D(!1) : void 0;
var n = Y.findReactContainerForID(t);
if (n && N(n, e)) return !0;
}
return !1;
}
function f(e) {
delete G[e];
}
function d(e) {
var t = G[e];
return t && c(t, e) ? void (K = t) : !1;
}
function h(e) {
K = null, E.traverseAncestors(e, d);
var t = K;
return K = null, t;
}
function y(e, t, n, r, o, a) {
w.useCreateElement && (a = x({}, a), n.nodeType === B ? a[V] = n : a[V] = n.ownerDocument);
var i = A.mountComponent(e, t, r, a);
e._renderedComponent._topLevelWrapper = e, Y._mountImageIntoNode(i, n, o, r);
}
function g(e, t, n, r, o) {
var a = R.ReactReconcileTransaction.getPooled(r);
a.perform(y, null, e, t, n, a, r, o), R.ReactReconcileTransaction.release(a);
}
function m(e, t) {
for (A.unmountComponent(e), t.nodeType === B && (t = t.documentElement); t.lastChild; ) t.removeChild(t.lastChild);
}
function b(e) {
var t = a(e);
return t ? t !== E.getReactRootIDFromNodeID(t) : !1;
}
function v(e) {
for (;e && e.parentNode !== e; e = e.parentNode) if (1 === e.nodeType) {
var t = s(e);
if (t) {
var n, r = E.getReactRootIDFromNodeID(t), o = e;
do if (n = s(o), o = o.parentNode, null == o) return null; while (n !== r);
if (o === W[r]) return e;
}
}
return null;
}
var _ = n(153), S = n(229), w = (n(93), n(496)), T = n(71), C = n(503), E = n(134), I = n(188), P = n(507), O = n(84), A = n(118), k = n(325), R = n(64), x = n(37), M = n(191), N = n(518), $ = n(235), D = n(29), U = n(236), L = n(335), F = (n(337), 
n(42), _.ID_ATTRIBUTE_NAME), G = {}, j = 1, B = 9, H = 11, V = "__ReactMount_ownerDocument$" + Math.random().toString(36).slice(2), z = {}, W = {}, q = [], K = null, X = function() {};
X.prototype.isReactComponent = {}, X.prototype.render = function() {
return this.props;
};
var Y = {
TopLevelWrapper: X,
_instancesByReactRootID: z,
scrollMonitor: function(e, t) {
t();
},
_updateRootComponent: function(e, t, n, r) {
return Y.scrollMonitor(n, function() {
k.enqueueElementInternal(e, t), r && k.enqueueCallbackInternal(e, r);
}), e;
},
_registerComponent: function(e, t) {
!t || t.nodeType !== j && t.nodeType !== B && t.nodeType !== H ? D(!1) : void 0, 
S.ensureScrollValueMonitoring();
var n = Y.registerContainer(t);
return z[n] = e, n;
},
_renderNewRootComponent: function(e, t, n, r) {
var o = $(e, null), a = Y._registerComponent(o, t);
return R.batchedUpdates(g, o, a, t, n, r), o;
},
renderSubtreeIntoContainer: function(e, t, n, r) {
return null == e || null == e._reactInternalInstance ? D(!1) : void 0, Y._renderSubtreeIntoContainer(e, t, n, r);
},
_renderSubtreeIntoContainer: function(e, t, n, r) {
T.isValidElement(t) ? void 0 : D(!1);
var i = new T(X, null, null, null, null, null, t), l = z[a(n)];
if (l) {
var u = l._currentElement, p = u.props;
if (L(p, t)) {
var c = l._renderedComponent.getPublicInstance(), f = r && function() {
r.call(c);
};
return Y._updateRootComponent(l, i, n, f), c;
}
Y.unmountComponentAtNode(n);
}
var d = o(n), h = d && !!s(d), y = b(n), g = h && !l && !y, m = Y._renderNewRootComponent(i, n, g, null != e ? e._reactInternalInstance._processChildContext(e._reactInternalInstance._context) : M)._renderedComponent.getPublicInstance();
return r && r.call(m), m;
},
render: function(e, t, n) {
return Y._renderSubtreeIntoContainer(null, e, t, n);
},
registerContainer: function(e) {
var t = a(e);
return t && (t = E.getReactRootIDFromNodeID(t)), t || (t = E.createReactRootID()), 
W[t] = e, t;
},
unmountComponentAtNode: function(e) {
!e || e.nodeType !== j && e.nodeType !== B && e.nodeType !== H ? D(!1) : void 0;
var t = a(e), n = z[t];
if (!n) {
var r = (b(e), s(e));
r && r === E.getReactRootIDFromNodeID(r);
return !1;
}
return R.batchedUpdates(m, n, e), delete z[t], delete W[t], !0;
},
findReactContainerForID: function(e) {
var t = E.getReactRootIDFromNodeID(e), n = W[t];
return n;
},
findReactNodeByID: function(e) {
var t = Y.findReactContainerForID(e);
return Y.findComponentRoot(t, e);
},
getFirstReactDOM: function(e) {
return v(e);
},
findComponentRoot: function(e, t) {
var n = q, r = 0, o = h(t) || e;
for (n[0] = o.firstChild, n.length = 1; r < n.length; ) {
for (var a, i = n[r++]; i; ) {
var s = Y.getID(i);
s ? t === s ? a = i : E.isAncestorIDOf(s, t) && (n.length = r = 0, n.push(i.firstChild)) : n.push(i.firstChild), 
i = i.nextSibling;
}
if (a) return n.length = 0, a;
}
n.length = 0, D(!1);
},
_mountImageIntoNode: function(e, t, n, a) {
if (!t || t.nodeType !== j && t.nodeType !== B && t.nodeType !== H ? D(!1) : void 0, 
n) {
var i = o(t);
if (P.canReuseMarkup(e, i)) return;
var s = i.getAttribute(P.CHECKSUM_ATTR_NAME);
i.removeAttribute(P.CHECKSUM_ATTR_NAME);
var l = i.outerHTML;
i.setAttribute(P.CHECKSUM_ATTR_NAME, s);
var u = e, p = r(u, l);
" (client) " + u.substring(p - 20, p + 20) + "\n (server) " + l.substring(p - 20, p + 20);
t.nodeType === B ? D(!1) : void 0;
}
if (t.nodeType === B ? D(!1) : void 0, a.useCreateElement) {
for (;t.lastChild; ) t.removeChild(t.lastChild);
t.appendChild(e);
} else U(t, e);
},
ownerDocumentContextKey: V,
getReactRootID: a,
getID: i,
setID: l,
getNode: u,
getNodeFromInstance: p,
isValid: c,
purgeID: f
};
O.measureMethods(Y, "ReactMount", {
_renderNewRootComponent: "_renderNewRootComponent",
_mountImageIntoNode: "_mountImageIntoNode"
}), e.exports = Y;
}, function(e, t, n) {
"use strict";
function r(e, t) {
return p.focus.system.withBounds(function() {
var n, r, a = e.focusAncestor.children.map(function(e) {
return e.getBounds();
}).filter(function(e) {
return !!e;
}), i = e.containerBounds.left, s = e.containerBounds.right, l = Number.MAX_VALUE;
"left" === t ? (n = a.map(function(e) {
return e.right < i ? i - e.right : l;
}), r = a.map(function(e) {
return e.right > i && e.left < i ? i - e.left : l;
})) : (n = a.map(function(e) {
return e.left > s ? e.left - s : l;
}), r = a.map(function(e) {
return e.left < s && e.right > s ? e.right - s : l;
}));
var u = o(n), p = o(r);
return u.delta !== l ? a[u.index] : p.delta !== l ? a[p.index] : void 0;
});
}
function o(e) {
var t = e.map(function(e, t) {
return {
delta: e,
index: t
};
});
return l.sortBy(t, "delta")[0];
}
var a = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, i = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, s = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, l = n(4), u = n(1), p = n(2), c = n(31), f = n(8), d = n(10), h = n(9), y = n(6), g = n(13), m = {
left: {
normal: h.bbOfflineUrl("/sparta/jsclient/builds/assets/left_white-03807e66.png"),
hover: h.bbOfflineUrl("/sparta/jsclient/builds/assets/left_black-fab2d5b9.png")
},
right: {
normal: h.bbOfflineUrl("/sparta/jsclient/builds/assets/right_white-8a3f8212.png"),
hover: h.bbOfflineUrl("/sparta/jsclient/builds/assets/right_black-bdf62701.png")
}
}, b = {
arrow: function(e, t, n, r) {
var o = y.getWidth(1), a = (t - o) / 2, i = "left" === e ? {
position: "absolute",
top: a,
left: y.GUTTER
} : {
position: "absolute",
top: a,
right: y.GUTTER
};
return Object.assign({}, i, {
zOffset: 1e4,
width: o,
height: o,
padding: [ y.GUTTER, 1.5 * y.GUTTER, y.GUTTER, 1.5 * y.GUTTER ],
enableMouseEvents: n,
backgroundColor: r ? "#ffffff" : "#00000055",
opacity: g.tweenSwitch(0, 1, n, g.presets.focusables.enter.fast, g.presets.focusables.leave)
});
},
arrowTexture: function(e, t) {
return {
flex: 1,
texture: m[e][t ? "hover" : "normal"],
textureAtlas: "SpartaCommonAtlas",
textureMode: "cover"
};
}
}, v = function(e) {
function t(t) {
e.call(this, t), this.focusItem = p.focus.create(this, p.autoId("cardCarouselArrow")), 
this.focusItem.onClick.listen(this.props.onClick);
}
return a(t, e), t.prototype.render = function() {
var e = b.arrowTexture(this.props.direction, this.focusItem.isHovered), t = b.arrow(this.props.direction, this.props.scrollerHeight, this.props.isVisible, this.focusItem.isHovered);
return u.createElement("surface", i({
style: t
}, this.focusItem.hooks), u.createElement("surface", {
style: e
}));
}, t = s([ f.observer ], t);
}(u.Component), _ = function(e) {
function t() {
e.apply(this, arguments), this.scrollerState = new c.ScrollerState(), this.shouldKeepArrowsVisible = !1;
}
return a(t, e), t.prototype.keepArrowsVisibleFor = function(e) {
var t = this;
this.shouldKeepArrowsVisible = !0, this.keepArrowsVisibleTimeout = setTimeout(d.action(function() {
t.shouldKeepArrowsVisible = !1;
}), e);
}, t.prototype.scroll = function(e) {
var t = r(this.scrollerState, e);
t && (this.scrollerState.scrollToBounds(this.scrollerState.getLocalBounds(t)), this.keepArrowsVisibleFor(1e3));
}, t.prototype.onMouseScroll = function(e) {
this.props.mouseScroll && this.scroll(e.scroll > 0 ? "left" : "right");
}, t.prototype.renderArrows = function() {
var e = this, t = this.scrollerState.containerBounds.height, n = !p.focus.system.controllerMode, r = n && (this.scrollerState.canScrollLeft || this.shouldKeepArrowsVisible), o = n && (this.scrollerState.canScrollRight || this.shouldKeepArrowsVisible);
return [ u.createElement(v, {
key: "left",
scrollerHeight: t,
direction: "left",
isVisible: r,
onClick: function() {
return e.scroll("left");
}
}), u.createElement(v, {
key: "right",
scrollerHeight: t,
direction: "right",
isVisible: o,
onClick: function() {
return e.scroll("right");
}
}) ];
}, t.prototype.render = function() {
var e = this, t = {
tween: !0,
scrollbar: !1,
scrollerState: this.scrollerState,
onMouseScroll: function(t) {
return e.onMouseScroll(t);
},
softClip: [ this.props.clipLeft ? y.getWidth(.5) : 0, 0, y.getWidth(2.5), 0 ],
clipMargin: [ 3 * y.GUTTER, y.getWidth(2.5), 3 * y.GUTTER, SpartaGlobals.bundleIsPC ? y.getWidth(1) : y.getWidth(this.props.clipLeft ? .5 : 2) ],
style: Object.assign({
width: this.props.width
}, this.props.style)
};
return u.createElement(c.Scroller, i({}, t, {
overlay: this.renderArrows()
}), u.createElement("surface", {
key: "wrapper",
style: {
flexWrap: "nowrap",
flexDirection: "row"
}
}, this.props.children));
}, t.defaultProps = {
mouseScroll: !0
}, s([ d.observable ], t.prototype, "shouldKeepArrowsVisible", void 0), s([ d.action ], t.prototype, "keepArrowsVisibleFor", null), 
t = s([ f.observer ], t);
}(u.Component);
t.CardCarousel = _;
}, function(e, t, n) {
"use strict";
var r = n(2);
t.quicklinksGroup = r.focus.createGroup("quicklinks"), t.comcenterGroup = r.focus.createGroup("comcenter"), 
t.mainmenuGroup = r.focus.createGroup("mainmenu"), t.minimainmenuGroup = r.focus.createGroup("minimainmenu"), 
t.topmenuGroup = r.focus.createGroup("topmenu"), t.scoreboardTeamLeftGroup = r.focus.createGroup("teamleft"), 
t.scoreboardTeamRightGroup = r.focus.createGroup("teamright"), t.battlepackWinnersGroup = r.focus.createGroup("battlepackwinners"), 
t.handleIfNotTheSameGroup = function(e, t) {
return function(n, o) {
var a = r.focus.system.findNextItem(n, o);
return a && a.group === e ? {
result: r.focus.NavigationResultType.HIT,
toItem: a
} : t(n, o);
};
}, t.stopIfNotTheSameGroup = function(e) {
return t.handleIfNotTheSameGroup(e, function(e, t) {
return {
result: r.focus.NavigationResultType.STOP
};
});
}, t.comcenterGroup.handleDirection(r.focus.Direction.Up, t.stopIfNotTheSameGroup(t.comcenterGroup)), 
t.comcenterGroup.handleDirection(r.focus.Direction.Down, t.stopIfNotTheSameGroup(t.comcenterGroup)), 
t.quicklinksGroup.behavior = r.focus.GroupBehavior.HORIZONTAL | r.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | r.focus.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET, 
t.quicklinksGroup.handleDirection(r.focus.Direction.Right, t.handleIfNotTheSameGroup(t.quicklinksGroup, function(e, n) {
return t.comcenterGroup.navigateToGroup(e, n);
})), t.quicklinksGroup.handleDirection(r.focus.Direction.Left, t.handleIfNotTheSameGroup(t.quicklinksGroup, function(e, n) {
return SpartaGlobals.bundleIsPC ? t.minimainmenuGroup.navigateToGroup(e, n) : t.mainmenuGroup.navigateToGroup(e, n);
})), t.mainmenuGroup.behavior = r.focus.GroupBehavior.VERTICAL | r.focus.GroupBehavior.WRAP_AROUND, 
t.mainmenuGroup.handleDirection(r.focus.Direction.Left, function(e, t) {
return {
result: r.focus.NavigationResultType.STOP
};
}), t.minimainmenuGroup.behavior = r.focus.GroupBehavior.VERTICAL | r.focus.GroupBehavior.WRAP_AROUND, 
t.minimainmenuGroup.handleDirection(r.focus.Direction.Left, function(e, t) {
return {
result: r.focus.NavigationResultType.STOP
};
}), t.scoreboardTeamLeftGroup.behavior = r.focus.GroupBehavior.VERTICAL | r.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | r.focus.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET, 
t.scoreboardTeamRightGroup.behavior = r.focus.GroupBehavior.VERTICAL | r.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | r.focus.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET, 
t.battlepackWinnersGroup.behavior = r.focus.GroupBehavior.HORIZONTAL | r.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | r.focus.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, s = n(43), l = r(s), u = n(81), p = r(u), c = n(285), f = r(c), d = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, new f["default"]()), p["default"].newSession.listen(function(e) {
n.setState(new f["default"](e));
}), p["default"].receivedSessionUpdate.listen(function(e) {
var t = e.sessionId, r = e.status, o = n.getState();
if (o && t === o.sessionId) {
var a = new f["default"](i({}, o, {
status: r.name
}));
n.setState(a);
}
}), p["default"].receivedSessionServer.listen(function(e, t) {
var r = e.sessionId, o = n.getState();
if (o && r === o.sessionId) {
var a = new f["default"](i({}, o, {
server: t
}));
n.setState(a);
}
}), p["default"].removeSession.listen(function(e) {
var t = n.getState();
t && t.sessionId === e.sessionId && n.setState(new f["default"]());
}), p["default"].canJoinSession.listen(function(e) {
var t = n.getState();
t && t.sessionId && n.setState(new f["default"](i({}, t, {
canJoin: e
})));
});
}
return a(t, e), t;
}(l["default"]);
t["default"] = new d(), e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), f = i(c), d = n(2), h = {
_$ProgressBar: {
displayName: "ProgressBar"
}
}, y = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/ProgressBar.jsx",
components: h,
locals: [],
imports: []
}), g = {
S: 4,
M: 8,
L: 16,
XL: 20
}, m = d.createStyleSheet({
segmentsContainer: {
zOffset: 2,
position: "absolute",
bottom: 0,
left: 0,
flexWrap: "nowrap",
flexDirection: "row"
},
line: {
position: "absolute",
top: 0,
width: 1,
backgroundColor: "#000000"
}
}), b = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.state = {
width: this.props.width
};
}
o(t, e), t.prototype.componentDidUpdateBounds = function i() {
0 === this.state.width && this.bounds.width > 0 && this.setState({
width: this.bounds.width
});
}, t.prototype.getProgressWidth = function s() {
var e = this.state.width * Math.min(this.props.completed, 1) - 2 * this.props.padding;
return Math.floor(e > 0 ? e : this.props.defaultWidth);
}, t.prototype.renderSegmentation = function l() {
for (var e = [], t = 0; t < this.props.segmented - 1; t++) {
var n = p({
height: g[this.props.height],
left: Math.floor(this.state.width * ((t + 1) * (1 / this.props.segmented)))
}, m.line);
e.push({
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
});
}
var r = {
width: this.state.width,
height: g[this.props.height]
};
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: [ m.segmentsContainer, r ]
},
_owner: null
};
}, t.prototype.render = function c() {
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: {
width: this.getProgressWidth(),
opacity: 0 === this.getProgressWidth() ? 0 : 1,
height: g[this.props.height] - 2 * this.props.padding,
backgroundColor: this.props.barColor,
margin: this.props.padding,
borderRadius: this.props.borderRadius
}
},
_owner: null
}, this.props.segmented > 0 && this.renderSegmentation() ]
},
_owner: null
},
style: [ {
width: this.state.width,
height: g[this.props.height],
backgroundColor: this.props.backgroundColor
}, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = a("_$ProgressBar")(t) || t, t = d.hasSurfaceBounds()(t) || t;
}(f["default"].Component);
t["default"] = b, b.propTypes = {
height: f["default"].PropTypes.oneOf([ "s", "m", "l", "xl", "S", "M", "L", "XL" ]),
width: f["default"].PropTypes.number.isRequired,
completed: f["default"].PropTypes.number.isRequired,
defaultWidth: f["default"].PropTypes.number,
segmented: f["default"].PropTypes.number
}, b.defaultProps = {
width: 0,
height: "M",
barColor: "#ff9900",
backgroundColor: "#000000AA",
defaultWidth: 0,
segmented: 0,
padding: 0,
borderRadius: [ 0, 0, 0, 0 ]
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
e = e || {}, this.friendState = e.friendState, this.spartaUserId = new p["default"](e.spartaUserId), 
e.avatarUrl && (this.avatarUrl = e.avatarUrl), this.displayName = e.name || "", 
this.name = e.name, this.isLeader = e.isLeader, this.presence = l["default"](f["default"], e.presence), 
this.id = this.spartaUserId.getPlatformId(), this.presence = new f["default"](i["default"].extend({}, this.presence, {
userId: this.id
}));
}
var a = n(4), i = r(a), s = n(206), l = r(s), u = n(142), p = r(u), c = n(150), f = r(c);
o.getFriendStateString = function(e) {
var t = e.toLowerCase(), n = t[0].toUpperCase() + t.substr(1);
return n;
}, o.prototype = {
getFriendStateString: function d() {
return o.getFriendStateString(this.friendState);
}
}, o.getButtons = n(830), e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = e.lastIndexOf("/");
return t > -1 ? e.substring(t + 1) : void 0;
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(10), i = n(11), s = n(44);
!function(e) {
e[e.highlights = 0] = "highlights", e[e.personal = 1] = "personal", e[e.scoreboard = 2] = "scoreboard", 
e[e.squad = 3] = "squad";
}(t.EorPages || (t.EorPages = {}));
var l = (t.EorPages, function() {
function e() {
this.data = void 0, this.battlePacksData = void 0, this.error = void 0, this.isActive = !1, 
this.fallbackMapName = "", this.fallbackGameMode = "", this.nextLevelName = void 0, 
this.nextGameMode = void 0, this.loadingScreenReady = !1, this.quitInProgress = !1, 
this.viewedPages = [], this.gameReadyToQuit = !1, this.reportedPlayers = [];
}
return e.prototype.initializeEor = function() {
this.loadingScreenReady = !1;
}, e.prototype.setEndOfRoundData = function(e) {
this.data = e;
}, e.prototype.setError = function(e) {
this.error = e;
}, e.prototype.clearEndOfRoundData = function(e) {
this.viewedPages = [], this.reportedPlayers = [], this.data = void 0, this.error = void 0, 
this.gameReadyToQuit = !1, this.battlePacksData && this.battlePacksData.gameReportId !== e && (this.battlePacksData = void 0);
}, Object.defineProperty(e.prototype, "battlePacks", {
get: function() {
return this.data && this.data.battlePacks || this.battlePacksData;
},
enumerable: !0,
configurable: !0
}), e.prototype.setBattlepacks = function(e) {
this.battlePacksData = e;
}, e.prototype.setFallbackMapName = function(e) {
this.fallbackMapName = e;
}, e.prototype.setFallbackGameMode = function(e) {
this.fallbackGameMode = e;
}, e.prototype.setQuitProgress = function(e) {
this.quitInProgress = e;
}, e.prototype.setGameReadyToQuit = function(e) {
this.gameReadyToQuit = e;
}, e.prototype.setLoadingState = function(e) {
var t = e.levelName || "";
-1 === t.toLowerCase().indexOf("frontend") ? (t && "" !== t && (this.nextLevelName = r(t)), 
e.gameMode && "" !== e.gameMode && (this.nextGameMode = e.gameMode && e.gameMode.replace(/[_0-9]+$/, "")), 
this.loadingScreenReady = !0) : (this.nextLevelName = void 0, this.nextGameMode = void 0);
}, e.prototype.clearViewedPages = function() {
this.viewedPages = [];
}, e.prototype.viewPage = function(e) {
this.isViewed(e) || this.viewedPages.push(e);
}, e.prototype.reportPlayer = function(e) {
this.isReported(e) || this.reportedPlayers.push(e);
}, Object.defineProperty(e.prototype, "isLoadingDataEnabled", {
get: function() {
return i.settingsStore.isFeatureEnabled("eorLoadingScreenInfo");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isQuitDuringLoadingEnabled", {
get: function() {
return i.settingsStore.isFeatureEnabled("eorLoadingScreenQuitInProgress");
},
enumerable: !0,
configurable: !0
}), e.prototype.isViewed = function(e) {
return this.viewedPages.indexOf(e) >= 0;
}, e.prototype.isReported = function(e) {
return this.reportedPlayers.indexOf(e) >= 0;
}, o([ a.observable ], e.prototype, "data", void 0), o([ a.observable ], e.prototype, "battlePacksData", void 0), 
o([ a.observable ], e.prototype, "error", void 0), o([ a.observable ], e.prototype, "isActive", void 0), 
o([ a.observable ], e.prototype, "fallbackMapName", void 0), o([ a.observable ], e.prototype, "fallbackGameMode", void 0), 
o([ a.observable ], e.prototype, "nextLevelName", void 0), o([ a.observable ], e.prototype, "nextGameMode", void 0), 
o([ a.observable ], e.prototype, "loadingScreenReady", void 0), o([ a.observable ], e.prototype, "quitInProgress", void 0), 
o([ a.observable ], e.prototype, "viewedPages", void 0), o([ a.observable ], e.prototype, "gameReadyToQuit", void 0), 
o([ a.observable ], e.prototype, "reportedPlayers", void 0), o([ a.action ], e.prototype, "initializeEor", null), 
o([ a.action ], e.prototype, "setEndOfRoundData", null), o([ a.action ], e.prototype, "setError", null), 
o([ a.action ], e.prototype, "clearEndOfRoundData", null), o([ a.computed ], e.prototype, "battlePacks", null), 
o([ a.action ], e.prototype, "setBattlepacks", null), o([ a.action ], e.prototype, "setFallbackMapName", null), 
o([ a.action ], e.prototype, "setFallbackGameMode", null), o([ a.action ], e.prototype, "setQuitProgress", null), 
o([ a.action ], e.prototype, "setGameReadyToQuit", null), o([ a.action ], e.prototype, "setLoadingState", null), 
o([ a.action ], e.prototype, "clearViewedPages", null), o([ a.action ], e.prototype, "viewPage", null), 
o([ a.action ], e.prototype, "reportPlayer", null), o([ a.computed ], e.prototype, "isLoadingDataEnabled", null), 
o([ a.computed ], e.prototype, "isQuitDuringLoadingEnabled", null), e;
}());
t.tunguskaEndOfRoundStore = new l(), s.scope("isReady").listen(function(e) {
t.tunguskaEndOfRoundStore.setGameReadyToQuit(e);
});
}, function(e, t) {
"use strict";
t.options = {
defaultFontFamily: null,
defaultFontSize: 18,
defaultFontColor: "#ffffff",
enableRTV: !1,
enableMouse: !0,
enableDevWarnings: !0,
enableLogging: !0,
rlvSocketUrl: null,
onErrorCallback: null,
urlHook: function(e) {
return e;
},
fontSettings: {},
getFontSettings: function(e) {
return t.options.fontSettings[e] ? t.options.fontSettings[e] : t.options.fontSettings["default"] || {};
},
batchCallTransformer: function(e) {
return e;
}
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(43), s = r(i), l = n(274), u = n(26), p = r(u), c = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, new l.GameEntitlements()), p["default"].onSessionEntitlementsReceived.listen(function(e) {
n.setState(new l.GameEntitlements(e));
});
}
return a(t, e), t;
}(s["default"]);
t["default"] = new c(), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
prepare: a["default"].createAction({
children: [ "cancel", "continue" ]
}),
start: a["default"].createAction(),
stop: a["default"].createAction(),
getStatus: a["default"].createAction(),
newSession: a["default"].createAction(),
receivedSessionUpdate: a["default"].createAction(),
receivedSessionServer: a["default"].createAction(),
removeSession: a["default"].createAction(),
canJoinSession: a["default"].createAction(),
handleServerFound: a["default"].createAction(),
onMatchmakingFailed: a["default"].createAction(),
onMatchmakingFailedDismiss: a["default"].createAction()
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o);
t["default"] = {
getArticles: a["default"].createAction(),
getArticleDetail: a["default"].createAction(),
updateDetails: a["default"].createAction(),
saveArticleMetrics: a["default"].createAction(),
resetArticleDetailState: a["default"].createAction(),
getContactChannels: a["default"].createAction(),
updateLocation: a["default"].createAction(),
updateSource: a["default"].createAction(),
updateCategories: a["default"].createAction(),
updateArticleId: a["default"].createAction(),
updateSelectedCategory: a["default"].createAction(),
resetContextDetails: a["default"].createAction(),
updateContactDetails: a["default"].createAction(),
createCase: a["default"].createAction(),
updateSelectedChannel: a["default"].createAction(),
resetCaseDetailState: a["default"].createAction(),
resetChannelDetailState: a["default"].createAction()
}, e.exports = t["default"];
}, function(e, t) {
t.__esModule = !0, t["default"] = function(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? !0 : arguments[2], r = arguments.length <= 3 || void 0 === arguments[3] ? !0 : arguments[3], o = void 0;
return function() {
var a = this, i = arguments;
n && !o ? (e.apply(this, i), o = setTimeout(function() {
o = null;
}, t)) : (o && clearTimeout(o), o = setTimeout(function() {
r && e.apply(a, i), o = null;
}, t));
};
}, e.exports = t["default"];
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
return n;
}
var o = {
enableMeasure: !1,
storedMeasure: r,
measureMethods: function(e, t, n) {
},
measure: function(e, t, n) {
return n;
},
injection: {
injectMeasure: function(e) {
o.storedMeasure = e;
}
}
};
e.exports = o;
}, function(e, t) {
"use strict";
function n(e) {
return function() {
return e;
};
}
function r() {}
r.thatReturns = n, r.thatReturnsFalse = n(!1), r.thatReturnsTrue = n(!0), r.thatReturnsNull = n(null), 
r.thatReturnsThis = function() {
return this;
}, r.thatReturnsArgument = function(e) {
return e;
}, e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
if (isNaN(e)) return "0";
var t = Math.round(10 * e) / 10;
return t.toLocaleString();
}
function o(e) {
var t = l.getState().locale || "en-us";
if ("number" != typeof e || "undefined" == typeof u[t]) return "";
var n = e.toFixed(2), r = u[t].decimal;
return n.replace(".", r);
}
function a(e, t) {
return "number" != typeof e || "number" != typeof t ? "" : o(e / Math.max(t, 1));
}
function i(e) {
if ("undefined" == typeof e) return "";
var t = l.getState().locale || "en-us", n = e.toString().split("."), r = u[t];
return n[0] = n[0].replace(/\B(?=(\d{3})+(?!\d))/g, r.thousand), n.join(r.decimal);
}
function s(e, t) {
var n = 2, r = 100, o = l.getState().locale || "en-us", a = u[o], i = function(e) {
return "undefined" == typeof u[o] ? e : e.replace(".", a.decimal);
};
if (isNaN(e)) return i("0.00");
(t && !isNaN(t) || 0 === t) && (n = t, r = Math.pow(10, t));
var s = (Math.round(e * r) / r).toFixed(n);
return i(s);
}
var l = n(19);
t.formatNumber = r, t.formatRatio = o, t.formatRatioBetweenNumbers = a, t.formatThousands = i, 
t.formatDecimals = s;
var u = {
"ar-sa": {
decimal: ".",
thousand: ","
},
"cs-cz": {
decimal: ".",
thousand: ","
},
"de-de": {
decimal: ",",
thousand: "."
},
"en-us": {
decimal: ".",
thousand: ","
},
"es-es": {
decimal: ",",
thousand: ""
},
"es-mx": {
decimal: ".",
thousand: " "
},
"fr-fr": {
decimal: ",",
thousand: " "
},
"it-it": {
decimal: ",",
thousand: "."
},
"ja-jp": {
decimal: ".",
thousand: ","
},
"ko-kr": {
decimal: ".",
thousand: ","
},
"pl-pl": {
decimal: ",",
thousand: " "
},
"pt-br": {
decimal: ",",
thousand: "."
},
"ru-ru": {
decimal: ",",
thousand: " "
},
"tr-tr": {
decimal: ",",
thousand: "."
},
"zh-tw": {
decimal: ".",
thousand: ","
}
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = {
trackScreen: a["default"].createAction(),
trackScreenState: a["default"].createAction(),
trackEvent: a["default"].createAction(),
trackTimer: a["default"].createAction(),
trackException: a["default"].createAction(),
trackFunnel: a["default"].createAction(),
trackMetric: a["default"].createAction(),
trackDimension: a["default"].createAction(),
trackJoinSource: a["default"].createAction(),
trackPurchase: a["default"].createAction(),
flush: a["default"].createAction()
};
e.exports = i;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
connect: a["default"].createAction(),
disconnect: a["default"].createAction(),
handleMessage: a["default"].createAction()
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(43), s = r(i), l = n(267), u = r(l), p = n(17), c = r(p), f = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, new u["default"]({
progress: 1,
isInstalling: !1,
isMpInstalled: !0
})), c["default"].updateInstallState.listen(function(e) {
n.setState(e);
});
}
return a(t, e), t;
}(s["default"]);
t["default"] = new f(), e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e) {
switch (e) {
case 0:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_RARITY_SPECIAL");

case 1:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_RARITY_DISTINGUISHED");

case 2:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_RARITY_LEGENDARY");

case 3:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_RARITY_LEGENDARY");
}
}
t.__esModule = !0, t.getName = e;
var r = n(9), o = n(39), a = r.bbOfflineUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_white_flare-a3a0b83b.png");
t.standard = a;
var i = r.bbOfflineUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_white_flare-a3a0b83b.png");
t.special = i;
var s = r.bbOfflineUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_blue_flare-3f82da1b.png");
t.distinguished = s;
var l = r.bbOfflineUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_orange_flare-68d1e160.png");
t.legendary = l;
var u = r.bbUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_orange_flare-68d1e160.png");
t.mixed = u, o.acceptKeyword("accept_exclusive_keywords_start");
var p = "fb://Sparta/UI/Movies/tunguskapack_standard_1", c = "fb://Sparta/UI/Movies/tunguskapack_standard_2", f = "fb://Sparta/UI/Movies/tunguskapack_standard_3", d = "fb://Sparta/UI/Movies/tunguskapack_enhanced_2", h = "fb://Sparta/UI/Movies/tunguskapack_enhanced_3", y = "fb://Sparta/UI/Movies/tunguskapack_superior_3";
o.acceptKeyword("accept_exclusive_keywords_end");
var g = {
0: [ p, c, f ],
1: [ d, d, h ],
2: [ y, y, y ]
};
t.videos = g;
var m = {
0: i,
1: s,
2: l,
3: u
};
t.level = m;
var b = {
0: r.bbUrl("/sparta/assets/tunguska/battlepacks/flare-white-grid-6df9d5a2.png"),
1: r.bbUrl("/sparta/assets/tunguska/battlepacks/flare-blue-grid-0712865c.png"),
2: r.bbUrl("/sparta/assets/tunguska/battlepacks/flare-orange-grid-55edbcfe.png"),
width: 206,
height: 170
};
t.fade = b, o.acceptKeyword("accept_exclusive_keywords_start");
var v = {
0: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-white-9297467d.jpg"),
1: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-blue-7e706f88.jpg"),
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-orange-0b2a170f.jpg"),
3: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-orange-0b2a170f.jpg"),
width: 408,
height: 1e3
};
t.flare = v;
var _ = {
0: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-side-white-46ef71e7.jpg"),
1: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-side-blue-627243c1.jpg"),
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-side-orange-84ff029e.jpg"),
3: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-side-orange-84ff029e.jpg"),
width: 1782,
height: 922
};
t.sideFlare = _;
var S = {
0: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/bottom-flare-white-db827b5b.jpg"),
1: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/bottom-flare-blue-c1f2b771.jpg"),
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/bottom-flare-orange-1e65fd65.jpg"),
3: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/bottom-flare-orange-1e65fd65.jpg"),
width: 1e3,
height: 455
};
t.bottomGlow = S;
var w = r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/CircleBoom-d69f3cbb.png");
t.circleTexture = w;
var T = r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/Battlepack_TankSkin-e5669d14.wav"), C = {
DEFAULT: T,
VEHICLE: T,
WEAPON: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/Battlepack_WeaponSkin_WHITE_Small_WITH_TAIL_STE-a70cab95.wav"),
NUGGET: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/Battlepack_WeaponSkin_BLUE_Medium_WITH_TAIL_STE-1e40f11e.wav")
};
t.openingAudio = C;
var E = r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/endframe-8d869f8a.jpg");
t.backgroundEnd = E, o.acceptKeyword("accept_exclusive_keywords_end"), o.acceptKeyword("accept_exclusive_keywords_start");
var I = {
0: {
frames: [ r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f1-5290508a.dds"), r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f2-50222f29.dds") ],
0: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f3_0-39f4d8f9.dds"),
1: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f3_1-b21130e3.dds"),
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f3_2-e9f7c6bd.dds")
},
1: {
frames: [ r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f1-c606bf16.dds"), r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f2-1a493088.dds"), r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f3-fb397a41.dds") ],
1: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f4_1-b21ed798.dds"),
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f4_2-fcce5e8b.dds")
},
2: {
frames: [ r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f1-9eca1ab6.dds"), r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f2-59efaf46.dds"), r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f3-533da6a1.dds"), r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f4-fc815f1c.dds") ],
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f5_2-50caedf7.dds")
}
};
t.openingFrames = I;
var P = {
0: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/tunguska_battlepack_open_standard-024d5c78.wav"),
1: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/tunguska_battlepack_open_enhanced-ded90293.wav"),
2: r.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/tunguska_battlepack_open_superior-b25bc55e.wav")
};
t.frameSounds = P, o.acceptKeyword("accept_exclusive_keywords_end");
var O = {
0: "#ffffffee",
1: "#6baee5",
2: "#d48311",
3: "#d48311"
};
t.rgb = O;
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var a = n(4), i = n(1), s = n(14), l = n(20), u = n(303), p = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.getInput = function a() {
return this.props.action || this.props.holdAction || this.props.releaseAction ? new s({
visible: !1,
key: this.props.inputKey,
action: this.props.action,
align: this.props.align,
holdAction: this.props.holdAction,
releaseAction: this.props.releaseAction,
blockInputFor: this.props.blockInputFor || 0
}) : void 0;
};
var n = t;
return t = l()(t) || t;
}(u);
p.propTypes = a.extend({}, u.propTypes, {
action: i.PropTypes.func,
holdAction: i.PropTypes.func,
releaseAction: i.PropTypes.func
}), t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(24), s = r(i), l = n(82), u = r(l), p = n(44), c = r(p), f = new s["default"]("WwceSupportStore"), d = a["default"].createStore({
init: function h() {
u["default"].updateSource.listen(function(e) {
f.set("source", e), d.trigger(f.getState());
}), c["default"].listen(function(e) {
var t = void 0;
if (e.isRunning) if (e.isMultiplayer) {
var n = e.server || {};
t = "mp_" + (n.mapName || "");
} else {
var r = (e.levelName || "").split("/");
t = "sp_" + r[2];
} else t = "";
console.log("context being passed for in-game help " + t.toLowerCase()), f.set("contextForInGame", t.toLowerCase()), 
d.trigger(f.getState());
}), u["default"].updateCategories.listen(function(e) {
f.set("categories", e), d.trigger(f.getState());
}), u["default"].updateSelectedCategory.listen(function(e) {
f.set("selectedCategory", e), d.trigger(f.getState());
}), u["default"].updateArticleId.listen(function(e) {
f.set("articleId", e), d.trigger(f.getState());
}), u["default"].updateLocation.listen(function(e) {
f.set("userLocation", e), d.trigger(f.getState());
}), u["default"].updateContactDetails.listen(function(e, t) {
f.set("countryCode", e), f.set("phoneNumber", t);
}), u["default"].updateSelectedChannel.listen(function(e) {
f.set("selectedChannel", e);
}), u["default"].resetContextDetails.listen(function() {
f.set("source", null);
});
},
getState: function y() {
return f.getState();
},
getInitialState: function g() {
return this.getState();
}
});
t["default"] = d, e.exports = t["default"];
}, function(e, t) {
"use strict";
var n = {
current: null
};
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
return a.reduce(s.parse(e), function(e, t, n) {
return e[n] = t, e;
}, {});
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(4), i = n(10), s = n(898), l = function() {
function e(t) {
void 0 === t && (t = ""), t = "string" == typeof t ? e.parse(t) : e.parse(t.path, t.args), 
this.path = t.path, this.args = t.args || {};
}
return Object.defineProperty(e.prototype, "section", {
get: function() {
return e.determineSection(this.path);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "queryString", {
get: function() {
return s.stringify(this.args);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "url", {
get: function() {
return this.queryString ? this.path + "?" + this.queryString : this.path;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "expression", {
get: function() {
return new RegExp("^" + this.path);
},
enumerable: !0,
configurable: !0
}), e.indexOfBestMatch = function(e, t, n) {
if (!t) return -1;
for (var r = n ? function(e) {
return t.path === e.path;
} : function(e) {
return e.expression.test(t.path);
}, o = -1, a = Number.MAX_VALUE, i = 0; i < e.length; i++) {
var s = e[i];
if (r(s)) {
var l = Math.abs(s.path.length - t.path.length);
a > l && (o = i, a = l);
}
}
return -1 === o && t.path.length > 0 && (o = 0), o;
}, e.determineSection = function(e) {
"#/" === e.substr(0, 2) && (e = e.substr(2)), "/" === e[0] && (e = e.substr(1));
var t = e.indexOf("/", 1);
return -1 !== t ? e.substr(0, t) : e;
}, e.parse = function(e, t) {
e = e ? e + "" : "", e || (e = "");
var n, o, i = e.indexOf("?");
if (-1 === i) n = e, o = {}; else {
var s = e.substr(i + 1);
n = e.substr(0, i), o = r(s);
}
return {
path: n,
args: a.extend(o, t)
};
}, e.prototype.equals = function(e) {
return e ? e.path === this.path && a.isEqual(e.args, this.args) : !1;
}, e.prototype.toString = function() {
return this.url;
}, o([ i.computed ], e.prototype, "section", null), o([ i.computed ], e.prototype, "queryString", null), 
o([ i.computed ], e.prototype, "url", null), o([ i.computed ], e.prototype, "expression", null), 
e;
}();
t.Location = l;
}, function(e, t) {
"use strict";
function n(e, t) {
return Object.assign(e, t);
}
function r(e, t, n) {
return Object.assign(e, t, n);
}
function o(e, t, n, r) {
return Object.assign(e, t, n, r);
}
t.assign2 = n, t.assign3 = r, t.assign4 = o;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
var n = function(t) {
function n(e) {
o(this, n), t.call(this, e), this._isMounted = !0, this._actionUnsubscribes = [];
}
return a(n, t), n.prototype.componentWillMount = function r() {
t.prototype.componentWillMount && t.prototype.componentWillMount.call(this), e && this.subscribeToActions(e);
}, n.prototype.componentWillUnmount = function i() {
t.prototype.componentWillUnmount && t.prototype.componentWillUnmount.call(this), 
this._isMounted = !1, this._actionUnsubscribes.forEach(function(e) {
return e();
}), this._actionUnsubscribes = [];
}, n.prototype.triggerActionHandler = function s(e) {
if (this._isMounted) {
var t = this[e];
if (t) {
for (var n = arguments.length, r = Array(n > 1 ? n - 1 : 0), o = 1; n > o; o++) r[o - 1] = arguments[o];
t.apply(this, r);
} else console.warn("Missing handler", e, "on component", this.displayName);
}
}, n.prototype.subscribeToActions = function l(e) {
var t = this;
u["default"].each(e, function(e, n) {
e = Array.isArray(e) ? e : [ e ], e.forEach(function(e) {
t._actionUnsubscribes.push(e.listen(t.triggerActionHandler.bind(t, n)));
});
});
}, n;
}(t);
return n.displayName = t.displayName || t.name, n;
};
}
t.__esModule = !0, t["default"] = i;
var s = n(1), l = (r(s), n(4)), u = r(l);
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o);
t["default"] = {
onJoinMultiplayerServerResult: a["default"].createAction(),
onMultiplayerServerDisconnection: a["default"].createAction(),
onJoinMultiplayerFailed: a["default"].createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, a = n(4), i = r(a), s = n(15), l = r(s), u = n(24), p = r(u), c = n(269), f = r(c), d = new p["default"]("PingSiteStore"), h = l["default"].createStore({
init: function y() {
var e = this;
this.listenTo(f["default"].setPingSites, function(t, n) {
var r = {};
n.forEach(function(e) {
r[e.alias] = e;
}), d.set(t, r), e.trigger(e.getState());
}), this.listenTo(f["default"].updatePingSites, function(t, n) {
var r = o({}, d.get(t));
n.forEach(function(e) {
r[e.alias] = e;
}), d.set(t, r), e.trigger(e.getState());
});
},
getState: function g() {
return d.getState();
},
getPingSitesByAddress: function m(e, t) {
var n = d.get(e);
return Object.keys(n).filter(function(e) {
return n[e].address === t;
}).map(function(e) {
return n[e];
});
},
getBestPingSiteAlias: function b(e) {
var t = d.get(e), n = i["default"].sortBy(i["default"].filter(t, function(e) {
return e.ping > 0;
}), "ping");
return n.length > 0 ? n[0].alias : null;
}
});
t["default"] = h, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = n(24), s = n(22), l = new i("ServerGameDataStore"), u = a["default"].createStore({
init: function p() {
this.listenTo(s.setGameData, function(e) {
l.setState(e), u.trigger(this.getState());
});
},
getState: function c() {
return l.getState();
}
});
e.exports = u;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(719), a = r(o), i = n(718), s = r(i), l = n(717), u = r(l), p = n(286), c = r(p), f = n(716), d = r(f), h = n(722), y = r(h), g = n(430), m = r(g), b = n(720), v = r(b), _ = n(721), S = r(_), w = n(287), T = r(w), C = n(715), E = r(C), I = n(4), P = n(1), O = {
types: {
Recommendation: n(425)
},
actions: {
RecommendationActions: n(61)
},
stores: {
RecommendationStore: n(427),
WelcomeMessageStore: n(429)
},
decorators: {
recommend: n(126)
},
renderCards: function A(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? "" : arguments[2];
return I.chain(e).filter(function(e) {
return e.group !== n;
}).map(function(e, n) {
return O.renderCard(e, n, t);
}).compact().value();
},
renderCard: function k(e, t, n) {
var r = O.getCardComponent(e);
if (r) {
var o = e.group.charAt(0).toUpperCase() + e.group.slice(1);
return P.createElement(r, {
key: "rcmnd" + o + t,
recommendation: I.extend({
positionIndex: t + 1
}, e),
size: I.isFunction(n) ? n(e, t) : n
});
}
console.warn("Recommendation has no card implementation", e);
},
getCardComponent: function R(e) {
switch (e.group) {
case "friends":
return v["default"];

case "item":
return a["default"];

case "filter":
return s["default"];

case "server":
return m["default"];

case "continue":
return u["default"];

case "article":
return c["default"];

case "video":
return y["default"];

case "churn":
return d["default"];

case "route":
return S["default"];

case "offer":
return T["default"];

case "battlepack":
return E["default"];
}
}
};
e.exports = O;
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return I(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(4), g = r(y), m = n(8), b = n(13), v = l(b), _ = n(7), S = l(_), w = n(40), T = n(9), C = n(32), E = {
_$TunguskaBattlepackScraps: {
displayName: "TunguskaBattlepackScraps"
}
}, I = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackScraps.jsx",
components: E,
locals: [],
imports: []
}), P = T.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-scraps-black2-l-9b6c5c4a.png");
t.dark = P;
var O = T.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-scraps-white2-l-bb954c75.png");
t.light = O;
var A = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
animatedValue: t.animated ? t.value : null
}, this.tweens = {
scale: v["default"].tween("31b7629a:23", 1)
};
}
i(t, e), t.prototype.componentWillReceiveProps = function r(e) {
var t = this;
e.animated && (e.value > this.props.value ? this.tweens.scale.to(2, {
delay: 1800,
duration: 200,
easing: "CubicIn"
}, function() {
t._unmounting || (t.setState({
animatedValue: e.value
}), t.tweens.scale.to(1, {
duration: 500,
easing: "CubicOut"
}));
}) : this.setState({
animatedValue: e.value
}));
}, t.prototype.componentWillUnmount = function l() {
this._unmounting = !0, g.each(this.tweens, function(e) {
return e.destroy();
});
}, t.prototype.render = function u() {
var e = this.props.dark ? P : O, t = this.props.dark ? "#000000" : "#ffffff", n = w.LINE_HEIGHTS[this.props.size] || w.LINE_HEIGHTS[S["default"].defaultProps.size], r = void 0;
this.props.prefix && (r = {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
value: this.props.prefix.trim() + " ",
color: t,
size: this.props.size,
style: {
marginRight: 8
}
}),
_owner: null
});
var a = void 0;
this.props.suffix && (a = {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
value: " " + this.props.suffix.trim(),
color: t,
size: this.props.size,
style: {
marginLeft: 8
}
}),
_owner: null
});
var i = (this.props.animated ? this.state.animatedValue : this.props.value) || 0;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: C.localeRearrange([ r, [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: {
texture: e,
textureMode: "contain",
width: n,
height: n,
marginLeft: 4,
marginRight: 4
}
},
_owner: null
}, {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
value: "" + i,
color: t,
size: this.props.size,
style: {
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle()
}
}),
_owner: null
} ], a ]),
style: c({
flexDirection: "row"
}, this.props.style)
},
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackScraps")(t) || t, t = m.observer(t) || t;
}(h.Component);
t.TunguskaBattlepackScraps = A;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(24), s = r(i), l = n(54), u = new s["default"]("TunguskaBattlepackBalanceStore"), p = a["default"].createStore({
init: function c() {
l.summary.listen(function(e) {
u.setState(e), p.trigger(u.getState());
});
},
getState: function f() {
return u.getState();
},
getInitialState: function d() {
return this.getState();
}
});
t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return function(t) {
return b(t, e);
};
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e) {
switch (e) {
case y.UserPresenceStates.Joinable:
return "#02A0E2";

case y.UserPresenceStates.Playing:
return "#02A0E2";

case y.UserPresenceStates.Online:
return "#007F00";

case y.UserPresenceStates.Away:
return "#DC453E";

case y.UserPresenceStates.Offline:
return "#B3B3B3";
}
return "#00000000";
}
var i = n(3), s = o(i), l = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, u = n(1), p = o(u), c = n(77), f = o(c), d = n(6), h = o(d), y = n(67), g = n(9), m = {
_$Unknown: {}
}, b = s["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Avatar.jsx",
components: m,
locals: [],
imports: []
}), v = r("_$Unknown")(p["default"].createClass({
propTypes: {
user: p["default"].PropTypes.instanceOf(f["default"])
},
statics: {
getAvatarUrl: function _(e) {
return e && e.avatarUrl || g.bbOfflineUrl("/sparta/assets/ui/avatars/default-76365f9d.jpg");
}
},
getDefaultProps: function S() {
return {
size: h["default"].getHeight(4)
};
},
render: function w() {
var e = this.props.showPresence, t = {
avatar: {
position: "relative",
textureMode: "cover",
width: this.props.size,
height: this.props.size
},
indicator: {
width: 2,
position: "absolute",
top: 0,
bottom: 0,
left: -4
}
}, n = v.getAvatarUrl(this.props.user), r = e ? {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
style: [ t.indicator, {
backgroundColor: a(this.props.user.presence.state)
} ]
},
_owner: null
} : null, o = {
texture: n,
textureAtlas: "AvatarAtlas",
marginLeft: e ? 2 : 0
};
return {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
children: r,
onMouseEnter: this.props.onMouseEnter,
onMouseLeave: this.props.onMouseLeave,
style: [ t.avatar, o ].concat(this.props.style)
},
_owner: null
};
}
}));
e.exports = v;
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return b(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(7), h = s(d), y = n(6), g = s(y), m = {
_$EmptyState: {
displayName: "EmptyState"
}
}, b = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/EmptyState.jsx",
components: m,
locals: [],
imports: []
}), v = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getFocusInput = function s() {
return [];
}, t.prototype.render = function l() {
var e = {
flex: 1,
alignItems: "center",
justifyContent: "center",
paddingBottom: g["default"].getHeight(2)
}, t = {
marginBottom: g["default"].getHeight(1),
width: g["default"].getWidth(24),
textAlign: "center",
textAlignForRTL: "center"
}, n = this.props.text ? {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
value: this.props.text.toUpperCase(),
size: "M",
style: t
}),
_owner: null
} : void 0, o = this.props.subText ? {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
value: this.props.subText,
size: "S"
}),
_owner: null
} : void 0;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ n, o, this.props.children ],
style: [ e, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = i("_$EmptyState")(t) || t;
}(f["default"].Component);
t["default"] = v, v.propTypes = {
text: f["default"].PropTypes.string,
subText: f["default"].PropTypes.string
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return O(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(20), h = s(d), y = n(13), g = s(y), m = n(59), b = s(m), v = n(4), _ = s(v), S = n(10), w = n(8), T = n(14), C = s(T), E = n(12), I = s(E), P = {
_$IconButton: {
displayName: "IconButton"
}
}, O = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/buttons/IconButton.jsx",
components: P,
locals: [],
imports: []
}), A = {
duration: g["default"].defaultTweenOptions.duration / 8
}, k = {
duration: g["default"].defaultTweenOptions.duration / 4
}, R = {
easing: "CubicOut",
duration: 1e3
}, x = {
easing: "CubicIn",
duration: 1e3
}, M = {
easing: "CubicIn",
duration: 250
}, N = {
blur: {
position: "absolute",
layer: !0,
layerGrabBackground: !1
},
icon: {
textureMode: "contain",
zOffset: 1
}
}, $ = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.input = new C["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function a() {
r.doAction();
},
blockInputFor: 500,
key: I["default"].Accept
}), this.tweens = {
opacity: g["default"].tween("843dea7f:57", 0),
scale: g["default"].tween("843dea7f:58", 1)
};
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this;
this.cancelAutorun = S.autorun(function() {
e.props.focusItem && e.props.focusItem.isFocused ? e.props.blur && e.startBlur() : e.stopBlurring();
});
}, t.prototype.componentWillUnmount = function l() {
var e = this;
this.cancelAutorun && this.cancelAutorun(), this.stopBlurring(), this.blurPromise ? this.blurPromise.then(function() {
e.destroyTweens();
}) : this.destroyTweens();
}, t.prototype.onTweenFinished = function u() {
this.loopBlur && this.tweenBlur(!this.isBlurActive);
}, t.prototype.destroyTweens = function c() {
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.tweenBlur = function f(e) {
var t = this;
this.blurPromise && (this.blurPromise.isCanceled = !0);
var n = new Promise(function(n) {
t.isBlurActive = e;
var r = e ? 1 : 0, o = e ? 1.2 : 1, a = e ? R : x;
t.loopBlur === !1 && (a = M), t.tweens.opacity.to(r, a, n), t.tweens.scale.to(o, a);
}).then(function() {
n.isCanceled || t.onTweenFinished();
});
this.blurPromise = n;
}, t.prototype.startBlur = function d() {
this.loopBlur = !0, this.tweenBlur(!0);
}, t.prototype.stopBlurring = function y() {
this.loopBlur = !1, this.tweenBlur(!1);
}, t.prototype.doAction = function m() {
this.props.action();
}, t.prototype.renderIcon = function v() {
var e = this.props.muted ? .85 : 1;
1 === this.props.opacity && (e = .5);
var t = _["default"].defaults({
width: this.props.size,
height: this.props.size,
texture: this.props.icon,
textureAtlas: "SpartaCommonAtlas",
opacity: g["default"].tweenSwitch(this.props.opacity, e, this.props.focusItem.isFocused, A, k)
}, N.icon);
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
};
}, t.prototype.renderBlur = function T() {
var e = this.props.size, t = _["default"].defaults({
width: e,
height: e,
opacity: this.tweens.opacity.getStyle(),
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle(),
textureAtlas: "SpartaCommonAtlas",
texture: this.props.blur
}, N.blur);
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
};
}, t.prototype.render = function E() {
var e = this.props.blur && !this.props.muted;
return {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
children: [ e ? this.renderBlur() : null, this.renderIcon() ],
input: this.input,
triggerMode: "after",
focusItem: this.props.focusItem,
style: this.props.style,
pressScale: .7
}),
_owner: null
};
};
var n = t;
return t = i("_$IconButton")(t) || t, t = h["default"]()(t) || t, t = w.observer(t) || t;
}(f["default"].Component);
t["default"] = $, $.propTypes = {
icon: f["default"].PropTypes.string,
action: f["default"].PropTypes.func,
size: f["default"].PropTypes.number,
blur: f["default"].PropTypes.string,
muted: f["default"].PropTypes.bool,
opacity: f["default"].PropTypes.number
}, $.defaultProps = {
muted: !1,
opacity: .66
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = n(237), o = r({
bubbled: null,
captured: null
}), a = r({
topAbort: null,
topBlur: null,
topCanPlay: null,
topCanPlayThrough: null,
topChange: null,
topClick: null,
topCompositionEnd: null,
topCompositionStart: null,
topCompositionUpdate: null,
topContextMenu: null,
topCopy: null,
topCut: null,
topDoubleClick: null,
topDrag: null,
topDragEnd: null,
topDragEnter: null,
topDragExit: null,
topDragLeave: null,
topDragOver: null,
topDragStart: null,
topDrop: null,
topDurationChange: null,
topEmptied: null,
topEncrypted: null,
topEnded: null,
topError: null,
topFocus: null,
topInput: null,
topKeyDown: null,
topKeyPress: null,
topKeyUp: null,
topLoad: null,
topLoadedData: null,
topLoadedMetadata: null,
topLoadStart: null,
topMouseDown: null,
topMouseMove: null,
topMouseOut: null,
topMouseOver: null,
topMouseUp: null,
topPaste: null,
topPause: null,
topPlay: null,
topPlaying: null,
topProgress: null,
topRateChange: null,
topReset: null,
topScroll: null,
topSeeked: null,
topSeeking: null,
topSelectionChange: null,
topStalled: null,
topSubmit: null,
topSuspend: null,
topTextInput: null,
topTimeUpdate: null,
topTouchCancel: null,
topTouchEnd: null,
topTouchMove: null,
topTouchStart: null,
topVolumeChange: null,
topWaiting: null,
topWheel: null
}), i = {
topLevelTypes: a,
PropagationPhases: o
};
e.exports = i;
}, function(e, t, n) {
"use strict";
var r = n(29), o = function(e) {
var t = this;
if (t.instancePool.length) {
var n = t.instancePool.pop();
return t.call(n, e), n;
}
return new t(e);
}, a = function(e, t) {
var n = this;
if (n.instancePool.length) {
var r = n.instancePool.pop();
return n.call(r, e, t), r;
}
return new n(e, t);
}, i = function(e, t, n) {
var r = this;
if (r.instancePool.length) {
var o = r.instancePool.pop();
return r.call(o, e, t, n), o;
}
return new r(e, t, n);
}, s = function(e, t, n, r) {
var o = this;
if (o.instancePool.length) {
var a = o.instancePool.pop();
return o.call(a, e, t, n, r), a;
}
return new o(e, t, n, r);
}, l = function(e, t, n, r, o) {
var a = this;
if (a.instancePool.length) {
var i = a.instancePool.pop();
return a.call(i, e, t, n, r, o), i;
}
return new a(e, t, n, r, o);
}, u = function(e) {
var t = this;
e instanceof t ? void 0 : r(!1), e.destructor(), t.instancePool.length < t.poolSize && t.instancePool.push(e);
}, p = 10, c = o, f = function(e, t) {
var n = e;
return n.instancePool = [], n.getPooled = t || c, n.poolSize || (n.poolSize = p), 
n.release = u, n;
}, d = {
addPoolingTo: f,
oneArgumentPooler: o,
twoArgumentPooler: a,
threeArgumentPooler: i,
fourArgumentPooler: s,
fiveArgumentPooler: l
};
e.exports = d;
}, function(e, t, n) {
"use strict";
function r() {
if (!o) try {
var e = a.Native.getBuildInfoSync(), t = e.features, n = e.platform, r = e.buildConfig, s = e.scriptEngine, l = e.functions ? e.functions : {}, u = e.surfaceProps ? e.surfaceProps : {};
o = new i(n, r, s, t, l, u);
} catch (p) {
o = new i("unknown", "unknown", "unknown", {}, {}, {});
}
return o;
}
var o, a = n(45), i = function() {
function e(e, t, n, r, o, a) {
this.platform = e, this.buildConfig = t, this.scriptEngine = n, this.features = r, 
this.functions = o, this.surfaceProps = a;
}
return e.prototype.isFeatureSupported = function(e) {
var t = this.features[e];
return t ? t.enabled : !1;
}, e.prototype.isCTE = function() {
return this.isFeatureSupported("CTE") || BUNDLE.features.isCTE;
}, e.prototype.isRetail = function() {
return "retail" === this.buildConfig;
}, e.prototype.isEndUserBuild = function() {
return "final" !== this.buildConfig && "performance" !== this.buildConfig && "release" !== this.buildConfig && "debug" !== this.buildConfig;
}, e.prototype.getSurfaceProps = function() {
var e = Object.keys(this.surfaceProps);
return 0 === e.length ? [ "enable", "zIndex", "zOffset", "blendMode", "layer", "layerOpacity", "layerBlur", "layerBlurStrength", "layerBlurTintColor", "layerBlurSamples", "layerBlurPass", "layerClip", "layerSoftClip", "layerGrabBackground", "layerClearColor", "layerGrayScale", "layerStereoPostProcess", "layerStereoPostProcessIntensity", "layerStereoPostProcessColorShift", "layerStereoPostProcessScanlines", "layerStereoPostProcessDistort", "localBounds", "focusable", "events", "opacity", "selfOpacity", "backgroundColor", "borderColor", "color", "grayScale", "text", "textEdgeOffset", "textSoftness", "textLetterSpacing", "textLineSpacing", "enableMouseEvents", "texture", "video", "textureMode", "textureAlign", "textureOffset", "textureOffsetX", "textureOffsetY", "textureScale", "textureRotateZ", "textureBorder", "texture1", "video1", "texture1Mode", "texture1Align", "texture1Offset", "texture1OffsetX", "texture1OffsetY", "texture1Scale", "texture1RotateZ", "texture1Border", "texture2", "video2", "texture2Mode", "texture2Align", "texture2Offset", "texture2OffsetX", "texture2OffsetY", "texture2Scale", "texture2RotateZ", "texture2Border", "texture3", "video3", "texture3Mode", "texture3Align", "texture3Offset", "texture3OffsetX", "texture3OffsetY", "texture3Scale", "texture3RotateZ", "texture3Border", "width", "height", "minWidth", "maxWidth", "minHeight", "maxHeight", "flex", "flexWrap", "flexDirection", "fontFamily", "fontSize", "justifyContent", "alignContent", "alignItems", "alignSelf", "textAlign", "wordWrap", "whiteSpace", "position", "margin", "marginTop", "marginRight", "marginBottom", "marginLeft", "padding", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "left", "top", "right", "bottom", "translate", "translateX", "translateY", "translateZ", "rotate", "rotateX", "rotateY", "rotateZ", "scale", "scaleX", "scaleY", "borderSize", "shaderUrl", "shaderProgram", "shaderSurfaceUv", "spriteAnimation", "borderRadius" ] : ([ "texture", "texture1", "texture2", "texture3", "spriteAnimation" ].forEach(function(t) {
-1 === e.indexOf(t) && e.push(t);
}), e);
}, e.prototype.isRemoteEngine = function() {
return "remote" === this.scriptEngine;
}, e.prototype.hasBatchedRemoteCalls = function() {
return this.isRemoteEngine() && this.isFeatureSupported("BatchedRemoteCalls");
}, e.prototype.hasLoadAssetRequest = function() {
return this.isFeatureSupported("LoadAssetRequest");
}, e.prototype.hasConsoleCalls = function() {
return this.isFeatureSupported("ConsoleCalls");
}, e.prototype.hasVerifyCodeSignature = function() {
return this.isFeatureSupported("VerifyCodeSignature");
}, e.prototype.hasUseTextureUrl = function() {
return this.isFeatureSupported("UseTextureUrl");
}, e.prototype.hasJsStartSync = function() {
return this.isFeatureSupported("JsStartSync");
}, e.prototype.hasJsCreateAtlas = function() {
return this.isFeatureSupported("JsCreateAtlas");
}, e.prototype.hasAudioBus = function() {
return this.isFeatureSupported("AudioBus");
}, e.prototype.hasSetGlyphSamplesSync = function() {
return this.isFeatureSupported("SetGlyphSamplesSync");
}, e.prototype.hasSetGlyphTextureSizeSync = function() {
return this.isFeatureSupported("SetGlyphTextureSizeSync");
}, e.prototype.hasSetFullscreenResampleSync = function() {
return this.isFeatureSupported("SetFullscreenResampleSync");
}, e.prototype.hasSurfaceDebugHighlight = function() {
return this.isFeatureSupported("SurfaceDebugHighlight");
}, e.prototype.isPC = function() {
return "win64" === this.platform;
}, e.prototype.isXboxOne = function() {
return "xboxone" === this.platform;
}, e.prototype.isPS4 = function() {
return "ps4" === this.platform;
}, e.prototype.hasSDF = function() {
return this.hasConsoleCalls();
}, e;
}();
t.getBuildInfo = r;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = a[e];
return t || (t = a[e] = new o.TwinkleTypedEvent()), t;
}
var o = n(121);
t.onInputActionDown = new o.TwinkleEvent(), t.onInputActionUp = new o.TwinkleEvent(), 
t.onKeyDown = new o.TwinkleEvent(), t.onKeyUp = new o.TwinkleEvent(), t.onPadButtonDown = new o.TwinkleEvent(), 
t.onPadButtonUp = new o.TwinkleEvent(), t.onTextureLoaded = new o.TwinkleEvent(), 
t.beginReactTransaction = new o.TwinkleEvent(), t.endReactTransaction = new o.TwinkleEvent(), 
t.httpRequestCompleted = new o.TwinkleEvent(), t.onTypingInput = new o.TwinkleEvent(), 
t.onMouseEvent = new o.TwinkleEvent(), t.onPropagatingMouseEvent = new o.TwinkleEvent(), 
t.onPropagatingMouseEvents = new o.TwinkleEvent(), t.onWindowSizeChanged = new o.TwinkleEvent(), 
t.onConsoleMessage = new o.TwinkleTypedEvent(), t.onAssetLoaded = new o.TwinkleEvent(), 
t.onVideoStopped = new o.TwinkleEvent(), t.onVideoLooped = new o.TwinkleEvent(), 
t.onManifestDownloaded = new o.TwinkleTypedEvent(), t.onManifestAssetsDownloadStarted = new o.TwinkleTypedEvent(), 
t.onManifestAssetsDownloadCompleted = new o.TwinkleTypedEvent();
var a = {};
t.getCommandHandler = r, t.onConsoleMessage.listen(function(e) {
var t = e.indexOf(" ");
if (!(1 > t)) {
var n = e.substr(0, t), r = e.substr(t + 1), o = a[n];
o && o.trigger(r);
}
});
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(43), s = r(i), l = n(19), u = r(l), p = n(634), c = r(p), f = n(111), d = r(f), h = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, {}), (SpartaGlobals.bundleIsPC || SpartaGlobals.bundleIsXBOXONE) && d["default"].onReady.listen(function() {
n.setCopy({}), n.setThreeLetterCountry("usa"), n.setApiEnv(), n.setPlatform(), n.setLocale(), 
n.setCountryAndCopy();
});
}
return a(t, e), t.prototype.setCountryAndCopy = function n() {
var e = this, t = "https://api1.origin.com/ecommerce2/ipToStoreFront";
c["default"].get({
url: t,
headers: "Accept: application/json",
isJson: !0,
retry: 5,
success: function n(t) {
e.setThreeLetterCountry(t.country), e.retrieveCopy();
},
failure: function r(t, n) {
e.retrieveCopy();
}
});
}, t.prototype.retrieveCopy = function r() {
var e = this, t = "https://data1.origin.com/{apiEnv}/odc/messaging/sparta/{platform}.{locale}.{country}.xjson".replace("{apiEnv}", this.getApiEnv()).replace("{platform}", this.getPlatform().toLowerCase()).replace("{locale}", this.getLocale()).replace("{country}", this.getThreeLetterCountry());
c["default"].get({
url: t,
isJson: !0,
retry: 3,
success: function n(t) {
e.setCopy(t), e.retrieveUrlData();
}
});
}, t.prototype.retrieveUrlData = function i() {
var e = this, t = this.getProperty(this.getCopy(), "settings.url.accessTos") || "";
t = t.replace("{country}", this.getThreeLetterCountry()).replace("{lang}", this.getLanguage());
var n = this.getProperty(this.getCopy(), "settings.url.accessTosData") || "", r = this.getProperty(this.getCopy(), "settings.url.accessTosPrepend") || "", o = this.getProperty(this.getCopy(), "settings.url.accessTosDate") || "";
"" !== o && (o = new Date(o).toLocaleDateString()), "" !== n ? (n = r + n, n = n.replace("%accessTosDate%", o), 
this.getCopy().settings.url.accessTosData = this.sanitizeUrlData(n)) : "" !== t && c["default"].get({
url: t,
retry: 3,
success: function a(t) {
n = r + t, n = n.replace("%accessTosDate%", o), e.getCopy().settings.url.accessTosData = e.sanitizeUrlData(n);
}
});
}, t.prototype.sanitizeUrlData = function s(e) {
var t = "\n";
return e = e.replace(new RegExp("<br>", "g"), t), e = e.replace(new RegExp(t + t, "g"), t), 
e = e.trim(), e = e.replace(new RegExp(/<.*?>/g), ""), e.split(/\n/);
}, t.prototype.strReplace = function l(e, t, n) {
return "string" != typeof e || "string" != typeof n ? e : (e = e.replace(t.toLowerCase(), n), 
e = e.replace(t.toUpperCase(), n.toUpperCase()));
}, t.prototype.updateCopyRecurse = function p(e, t, n) {
for (var r = "%" + t + "%", o = Object.keys(e), a = 0; a < o.length; a++) {
var i = o[a];
"string" == typeof e[i] ? e[i] = this.strReplace(e[i], r, n) : "object" == typeof e[i] && (e[i] = this.updateCopyRecurse(e[i], t, n));
}
return e;
}, t.prototype.getProperty = function f(e, t) {
return t.split(".").reduce(function(e, t) {
return "undefined" == typeof e || null === e ? e : e[t];
}, e);
}, t.prototype.getCopyPage = function h(e, t) {
if ("object" != typeof this.getCopy()) return {};
if ("object" != typeof this.getCopy()[e]) return {};
var n = this.getCopy()[e];
if ("object" == typeof t) for (var r = Object.keys(t), o = 0; o < r.length; o++) n = this.updateCopyRecurse(n, r[o], t[r[o]]);
return n;
}, t.prototype.getLanguage = function y() {
var e = [ "de", "es", "fr", "it", "ja", "ko", "pl", "pt", "ru", "zh" ], t = this.getLocale().substr(0, 2);
return -1 === e.indexOf(t) && (t = "en"), t;
}, t.prototype.setCopy = function g(e) {
this.copy = e;
}, t.prototype.getCopy = function m() {
return this.copy;
}, t.prototype.setPlatform = function b() {
this.platform = SpartaGlobals.bundlePlatform;
}, t.prototype.getPlatform = function v() {
return this.platform;
}, t.prototype.setApiEnv = function _() {
this.apiEnv = "live";
}, t.prototype.getApiEnv = function S() {
return this.apiEnv;
}, t.prototype.setLocale = function w() {
var e = u["default"].getState().locale;
this.locale = e ? e.toLowerCase() : "en-us";
}, t.prototype.getLocale = function T() {
return this.locale;
}, t.prototype.setThreeLetterCountry = function C(e) {
this.threeLetterCountry = e;
}, t.prototype.getThreeLetterCountry = function E() {
return this.threeLetterCountry;
}, t;
}(s["default"]);
t["default"] = new h(), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o);
t["default"] = {
onConnecting: a["default"].createAction(),
onReady: a["default"].createAction(),
onDisconnected: a["default"].createAction(),
onFirstPartyConnected: a["default"].createAction()
}, e.exports = t["default"];
}, function(e, t) {
e.exports = {
ARABIC: "ar-sa",
CHINESE: "zh-tw",
CZECH: "cs-cz",
ENGLISH: "en-us",
FRENCH: "fr-fr",
GERMAN: "de-de",
ITALIAN: "it-it",
JAPANESE: "ja-jp",
KOREAN: "ko-kr",
POLISH: "pl-pl",
PORTUGUESE_BRAZIL: "pt-br",
RUSSIAN: "ru-ru",
SPANISH: "es-es",
SPANISH_MEXICO: "es-mx",
TURKISH: "tr-tr"
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return e.advanced = u["default"].filter(e.settings.all, function(e) {
return m.indexOf(e.filterKey) > -1;
}), e.advanced = e.advanced.concat(v), e.rules = u["default"].filter(e.settings.all, function(e) {
return b.indexOf(e.filterKey) > -1;
}), e.rules.forEach(function(e) {
e.format = _[e.filterKey];
}), delete e.settings, e;
}
function a(e) {
var t = u["default"].object(u["default"].map(e.settings, function(e, t) {
var n = "Weapons" === t ? "weaponClasses" : t.toLowerCase();
return [ n, e ];
})), n = u["default"].extend({}, e, t);
return delete n.settings, n;
}
function i(e) {
return u["default"].object(u["default"].map(e, function(e, t) {
var n = u["default"].extend({}, e);
return n.gameModes = u["default"].filter(n.gameModes, function(e) {
return -1 === e.disabledFor.indexOf("ServerFilter");
}), n.gameModes = u["default"].sortBy(n.gameModes, function(e) {
return e.prettyName;
}), n.settings ? n.settings.all ? [ t, o(n) ] : [ t, a(n) ] : [ t, n ];
}));
}
function s(e) {
var t = g.getState(), n = t;
u["default"].each(e, function(e, t) {
var r = u["default"].extend({}, n[t], e);
n = n.set(t, r);
}), g.setState(n), S.trigger(g.getState());
}
var l = n(4), u = r(l), p = n(15), c = r(p), f = n(24), d = r(f), h = n(22), y = r(h), g = new d["default"]("ServerFilterOptionsStore"), m = [ "osls", "vvsa", "vffi", "vaba", "vkca", "v3ca", "v3sp", "vrhe", "vmsp", "vhud", "vmin", "vnta" ], b = [ "vtkk", "vnit", "vtkc", "vvsd", "vgmc", "vbdm", "vprt", "vshe" ], v = [ {
name: "Password Protection",
type: "bool",
filterKey: "passwordProtected",
defaultValue: void 0,
prettyName: "PASSWORD PROTECTION",
description: "Include or exclude servers with passwords set"
} ], _ = {
vnit: "seconds",
vvsd: "percent",
vgmc: "percent",
vbdm: "percent",
vprt: "percent",
vshe: "percent"
}, S = c["default"].createStore({
init: function w() {
this.listenTo(y["default"].setGameData, function(e) {
s(i(e));
}), this.listenTo(y["default"].setFilterOptions, function(e) {
s(e);
});
},
getState: function T() {
return g.getState();
}
});
e.exports = S;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(34), a = r(o), i = n(13), s = r(i), l = a["default"].transform(function(e) {
return e.isReady() && !e.isTooYoung();
});
t.CanOpenComcenterStore = l;
var u = s["default"].tween("43df96be:8", 0);
t.comCenterTranslateY = u;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var i = n(43), s = r(i), l = n(38), u = r(l), p = n(131), c = r(p), f = n(48), d = r(f), h = {
None: "none",
Friends: "friends",
Everyone: "everyone"
};
t.UGCAccessLevel = h;
var y = function() {
function e(t) {
a(this, e), this.level = t;
}
return e.prototype.hasAccess = function t(e) {
var t = d["default"].getState();
if (t && e && e.id === t.id) return !0;
switch (this.level) {
case h.None:
return !1;

case h.Everyone:
return !0;

case h.Friends:
return e && c["default"].getState()[e.id] ? !0 : !1;
}
throw Error("Access level not supported: " + this.level);
}, e;
}();
t.UGCAccess = y;
var g = function(e) {
function t() {
var n = this;
a(this, t);
var r = SpartaGlobals.bundleIsPC ? h.Everyone : null;
e.call(this, new y(r)), u["default"].setUGCAccessLevel.listen(function(e) {
n.setState(new y(e));
});
}
return o(t, e), t;
}(s["default"]);
t["default"] = new g();
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
O.setState(s(e)), A.trigger(O.getState());
}
function a(e) {
O.merge(s(e)), A.trigger(O.getState());
}
function i(e) {
var t = p["default"].chain(e).map(function(e) {
var t = A.getUserById(e.userId);
if (t) {
var n = l(t.presence, e), r = new w["default"](p["default"].extend({}, t, {
presence: n
}));
return [ r.id, r ];
}
}).compact().value();
t.length && a(p["default"].object(t));
}
function s(e) {
return p["default"].reduce(e, function(e, t) {
if (t instanceof w["default"]) {
if (!t.id) throw new Error("User is missing id", t);
return e[t.id] = t, e;
}
throw new Error("Got invalid user. Must be of type User");
}, {});
}
function l(e, t) {
return new C["default"](p["default"].extend({}, e, t));
}
t.__esModule = !0;
var u = n(4), p = r(u), c = n(15), f = r(c), d = n(24), h = r(d), y = n(38), g = r(y), m = n(30), b = r(m), v = n(222), _ = r(v), S = n(77), w = r(S), T = n(150), C = r(T), E = n(67), I = n(111), P = r(I), O = new h["default"]("UserStore"), A = f["default"].createStore({
init: function k() {
var e = this;
g["default"].setUsers.listen(o), g["default"].updateUsers.listen(a), g["default"].updatePresences.listen(i), 
g["default"].removeServerPresences.listen(function(e) {
var t = p["default"].map(e, function(e) {
return {
userId: e,
server: void 0
};
});
i(t);
}), g["default"].receiveSessionUser.listen(function(t) {
if (t) {
var n = void 0, r = e.getUserById(t.id);
r && r.avatarUrl && r.id === t.id && (n = r.avatarUrl), a([ new w["default"](p["default"].extend({}, t, n ? {
avatarUrl: n
} : null)) ]);
}
}), P["default"].onReady.listen(function() {
var e = _["default"].getState(), t = new C["default"]({
userId: e.userId,
state: E.UserPresenceStates.Online
});
i([ t ]);
}), b["default"].joinedServer.listen(function(e) {
var t = _["default"].getState(), n = new C["default"]({
userId: t.userId,
state: E.UserPresenceStates.Playing,
server: e
});
i([ n ]);
}), b["default"].leftServer.listen(function() {
var e = _["default"].getState(), t = new C["default"]({
userId: e.userId,
state: E.UserPresenceStates.Online,
server: null
});
i([ t ]);
});
},
getState: function R() {
return O.getState();
},
getUserById: function x(e) {
return e += "", O.get(e);
},
getUserByName: function M(e) {
return e ? p["default"].find(p["default"].values(O.getState()), function(t) {
return t.name === e;
}) : null;
}
});
t["default"] = A, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return R(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), c = i(p), f = n(16), d = i(f), h = n(20), y = i(h), g = n(14), m = i(g), b = n(12), v = i(b), _ = n(33), S = i(_), w = n(58), T = i(w), C = n(6), E = i(C), I = n(92), P = i(I), O = n(41), A = n(294), k = {
_$WwceSupportTemplate: {
displayName: "WwceSupportTemplate"
}
}, R = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportTemplate.jsx",
components: k,
locals: [],
imports: []
}), x = {
dynContentStyle: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 10,
flexDirection: "column",
justifyContent: "center",
maxWidth: E["default"].getWidth(25),
alignItems: "center"
}
}, M = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.componentDidMount = function s() {
this.updateInput();
}, n.prototype.getInput = function l() {
var e = this, t = [];
return "InGame" === this.state.context.source && this.props.onBackClick && t.push(new m["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
action: function n() {
return e.props.onBackClick();
},
key: v["default"].Decline,
visible: !0
})), t;
}, n.prototype.render = function p() {
return O.onlineState.isOnlineBlazeAndGateway ? this.props.loading ? {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: u,
type: T["default"],
key: null,
ref: null,
props: e(T["default"].defaultProps, {
size: 50,
style: {
marginBottom: 3 * E["default"].GUTTER
}
}),
_owner: null
},
style: x.dynContentStyle
},
_owner: null
} : "InGame" === this.state.context.source ? this.props.children : {
$$typeof: u,
type: S["default"],
key: null,
ref: null,
props: e(S["default"].defaultProps, {
children: this.props.children,
tallContent: !0
}),
_owner: null
} : {
$$typeof: u,
type: A.ConnectionState,
key: null,
ref: null,
props: e(A.ConnectionState.defaultProps, {}),
_owner: null
};
};
var i = n;
return n = a("_$WwceSupportTemplate")(n) || n, n = d["default"]({
context: P["default"]
})(n) || n, n = y["default"]()(n) || n;
}(c["default"].Component);
t.WwceSupportTemplate = M;
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
function r() {
o.attachRefs(this, this._currentElement);
}
var o = n(934), a = {
mountComponent: function(e, t, n, o) {
var a = e.mountComponent(t, n, o);
return e._currentElement && null != e._currentElement.ref && n.getReactMountReady().enqueue(r, e), 
a;
},
unmountComponent: function(e) {
o.detachRefs(e, e._currentElement), e.unmountComponent();
},
receiveComponent: function(e, t, n, a) {
var i = e._currentElement;
if (t !== i || a !== e._context) {
var s = o.shouldUpdateRefs(i, t);
s && o.detachRefs(e, i), e.receiveComponent(t, n, a), s && e._currentElement && null != e._currentElement.ref && n.getReactMountReady().enqueue(r, e);
}
},
performUpdateIfNecessary: function(e, t) {
e.performUpdateIfNecessary(t);
}
};
e.exports = a;
}, function(e, t) {
"use strict";
var n = function(e) {
var t;
for (t in e) if (e.hasOwnProperty(t)) return t;
return null;
};
e.exports = n;
}, function(e, t) {
"use strict";
function n(e, t) {
for (var n in e) if (e[n] === t) return n;
return null;
}
!function(e) {
e[e.none = 0] = "none", e[e.modeChanged = 1] = "modeChanged", e[e.disconnected = 2] = "disconnected", 
e[e.backendDisconnected = 3] = "backendDisconnected", e[e.connecting = 4] = "connecting", 
e[e.connectFailed = 5] = "connectFailed", e[e.connectionReady = 6] = "connectionReady", 
e[e.onlineFlowDone = 7] = "onlineFlowDone", e[e.telemetryTokenReceived = 8] = "telemetryTokenReceived", 
e[e.firstPartyConnected = 9] = "firstPartyConnected", e[e.firstPartyDisconnected = 10] = "firstPartyDisconnected", 
e[e.pingValueResolved = 11] = "pingValueResolved", e[e.connectionMessage = 12] = "connectionMessage", 
e[e.qualityOfServiceDone = 13] = "qualityOfServiceDone";
}(t.ConnectionEventType || (t.ConnectionEventType = {}));
var r = t.ConnectionEventType;
!function(e) {
e[e.none = 0] = "none", e[e.success = 1] = "success", e[e.authCodeFailed = 2] = "authCodeFailed", 
e[e.connectionFailed = 3] = "connectionFailed", e[e.duplicateLogin = 4] = "duplicateLogin", 
e[e.failure = 5] = "failure", e[e.invalidUser = 6] = "invalidUser", e[e.loginCancelled = 7] = "loginCancelled", 
e[e.missingOnlineAccess = 8] = "missingOnlineAccess", e[e.needUserInteraction = 9] = "needUserInteraction", 
e[e.networkDisconnect = 10] = "networkDisconnect", e[e.networkError = 11] = "networkError", 
e[e.noMultiplayerPrivilege = 12] = "noMultiplayerPrivilege", e[e.originOffline = 13] = "originOffline", 
e[e.originStartupFailed = 14] = "originStartupFailed", e[e.requiredUpdateExists = 15] = "requiredUpdateExists", 
e[e.serverConfiguration = 16] = "serverConfiguration", e[e.serverDisconnect = 17] = "serverDisconnect", 
e[e.serverNotFound = 18] = "serverNotFound", e[e.systemError = 19] = "systemError", 
e[e.timeout = 20] = "timeout", e[e.tooYoung = 21] = "tooYoung", e[e.tooYoungForContent = 22] = "tooYoungForContent", 
e[e.userLost = 23] = "userLost", e[e.originMandatoryUpdate = 24] = "originMandatoryUpdate", 
e[e.noService = 25] = "noService", e[e.originNotLoggedIn = 26] = "originNotLoggedIn", 
e[e.psuLimitExceeded = 27] = "psuLimitExceeded", e[e.accountBanned = 28] = "accountBanned";
}(t.ConnectionResultType || (t.ConnectionResultType = {}));
var o = t.ConnectionResultType;
!function(e) {
e[e.none = 0] = "none", e[e.offline = 1] = "offline", e[e.silentOnline = 2] = "silentOnline", 
e[e.online = 3] = "online";
}(t.PresenceModeType || (t.PresenceModeType = {}));
var a = t.PresenceModeType, i = function() {
function e(e) {
var t = void 0 === e ? {} : e, n = t.gameId, i = void 0 === n ? "" : n, s = t.customMessage, l = void 0 === s ? "" : s, u = t.eventType, p = void 0 === u ? r.none : u, c = t.mode, f = void 0 === c ? a.none : c, d = t.resultType, h = void 0 === d ? o.none : d, y = t.isQoSReady, g = void 0 === y ? !1 : y;
this.gameId = i, this.customMessage = l, this.eventType = p, this.resultType = h, 
this.mode = f, this.isQoSReady = g, Object.freeze(this);
}
return e.prototype.toString = function() {
return [ this.gameId, this.customMessage, n(r, this.eventType), n(o, this.resultType), n(a, this.mode) ].filter(function(e) {
return null != e && "" != e;
}).join(", ");
}, e;
}();
t.PresenceStatusMessage = i;
}, function(e, t) {
"use strict";
var n = function() {
function e() {
this.callbacks = [];
}
return e.prototype.listen = function(e) {
var t = this;
return this.callbacks.push(e), function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
};
}, e.prototype.listenOnce = function(e) {
var t = this.listen(function() {
for (var n = [], r = 0; r < arguments.length; r++) n[r - 0] = arguments[r];
t(), e.apply(void 0, n);
});
return t;
}, e.prototype.trigger = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t - 0] = arguments[t];
for (var n = this.callbacks.slice(), r = 0; r < n.length; r++) n[r].apply(null, e);
}, e.prototype.destroy = function() {
this.callbacks.length = 0;
}, e;
}();
t.TwinkleEvent = n;
var r = function() {
function e() {
this.callbacks = [];
}
return e.prototype.listen = function(e) {
var t = this;
return this.callbacks.push(e), function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
};
}, e.prototype.listenOnce = function(e) {
var t = this.listen(function() {
t(), e();
});
return t;
}, e.prototype.trigger = function() {
for (var e = this.callbacks.slice(), t = 0; t < e.length; t++) e[t]();
}, e.prototype.destroy = function() {
this.callbacks.length = 0;
}, e;
}();
t.TwinkleSignal = r;
var o = function() {
function e() {
this.callbacks = [];
}
return e.prototype.listen = function(e) {
var t = this;
return this.callbacks.push(e), function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
};
}, e.prototype.listenOnce = function(e) {
var t = this.listen(function(n) {
t(), e(n);
});
return t;
}, e.prototype.trigger = function(e) {
for (var t = this.callbacks.slice(), n = 0; n < t.length; n++) t[n](e);
}, e.prototype.destroy = function() {
this.callbacks.length = 0;
}, e;
}();
t.TwinkleTypedEvent = o;
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(43), s = r(i), l = n(4), u = r(l), p = n(51), c = r(p), f = n(259), d = r(f), h = n(11), y = n(9), g = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, {});
var r = {};
u["default"].each(u["default"].keys(h.gameStore.games.toJS()), function(e) {
r[e] = {
offers: [],
available: !1,
loading: !0,
error: !1
};
}), c["default"].setOffers.listen(function(e, t, r, o, a) {
var i = u["default"].extend({}, n.getState());
i[e] = {
offers: t,
available: r,
loading: o,
error: a
}, n.setState(i);
});
}
return a(t, e), t.prototype.getGameState = function n(e) {
var t = u["default"].extend({}, this.getState());
return t[e] || {
offers: [],
available: !1,
loading: !1,
error: !1
};
}, t.prototype.getOffers = function r(e) {
return this.getGameState(e).offers;
}, t.prototype.getOffersByGroup = function i(e, t) {
return u["default"].filter(this.getOffers(e), function(e) {
return e.group === t;
});
}, t.prototype.getGameOffers = function s(e) {
return this.getOffersByGroup(e, "game");
}, t.prototype.getPremiumOffers = function l(e) {
return this.getOffersByGroup(e, "premium");
}, t.prototype.getExpansionOffers = function p(e) {
return this.getOffersByGroup(e, "xpacks");
}, t.prototype.getBattlepackOffers = function f(e) {
return this.getOffersByGroup(e, "battlepacks");
}, t.prototype.getKitShortcutOffers = function g(e) {
return this.getOffersByGroup(e, "shortcuts");
}, t.prototype.getRSPOffers = function m(e) {
return this.getOffersByGroup(e, "rsp");
}, t.prototype.getRSPVirtualOffers = function b(e) {
var t = this.getRSPOffers(e);
return t.length ? [ new d["default"]({
id: "virtualRSP-custom",
productId: "virtualRSP.custom",
group: "virtualRSP",
gameId: e,
backgroundUrl: y.bbUrl("/sparta/jsclient/builds/assets/rsp-card-7e768e07.png"),
displayName: __("ID_SPARTA_COMMERCE_RSP") + " (" + __("ID_SPARTA_COMMERCE_RSP_OFFER_PRICE").toUpperCase() + ")",
description: {
longDesc: __("ID_SPARTA_COMMERCE_RSP_OFFER_DESCRIPTION_LONG"),
shortDesc: __("ID_SPARTA_COMMERCE_RSP_OFFER_DESCRIPTION_SHORT")
},
owned: !1
}) ] : [];
}, t.prototype.getPreorderOffers = function v(e) {
return this.getOffersByGroup(e, "pre-order");
}, t.prototype.getBetaOffers = function _(e) {
return this.getOffersByGroup(e, "beta");
}, t.prototype.getDeluxeOffers = function S(e) {
return this.getOffersByGroup(e, "deluxe");
}, t.prototype.getAccessOffers = function w() {
return this.getOffersByGroup("access", "access");
}, t;
}(s["default"]);
t["default"] = new g(), e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var o = n(4), a = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
r(this, e), o.extend(this, t);
}
return e.prototype.merge = function t(n) {
return new e(o.extend({}, this, n));
}, e.prototype.get = function n(e) {
return this[e];
}, e.prototype.set = function a(e, t) {
var n = {};
return n[e] = t, this.merge(n);
}, e.prototype.remove = function i(t) {
var n = o.without(o.keys(this), t);
return new e(o.extend({}, o.pick(this, n)));
}, e.prototype.hasValue = function s(e) {
return o.any(o.values(this), function(t) {
return t === e;
});
}, e.prototype.values = function l() {
return o.values(this);
}, e.prototype.size = function u() {
return Object.keys(this).length;
}, e.prototype.isEmpty = function p() {
return 0 === Object.keys(this).length;
}, e;
}();
t["default"] = a, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
register: a["default"].createAction({
sync: !0
}),
"delete": a["default"].createAction({
sync: !0
}),
isolateGroup: a["default"].createAction({
sync: !0
}),
releaseGroup: a["default"].createAction({
sync: !0
}),
trigger: a["default"].createAction({
sync: !0
}),
calledAction: a["default"].createAction(),
calledHoldAction: a["default"].createAction(),
calledReleaseAction: a["default"].createAction()
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return _["default"].getState()[e];
}
function a(e, t) {
var n = A.get(e);
n ? (n.id || n.filterName) && (n = new w["default"](f["default"].omit(n, "id", "filterName"))) : n = new w["default"](), 
n = t(n), A.set(e, n), M(e, n);
}
function i(e) {
if (e && "scale" === e[0].type) {
var t = function() {
var t = {};
return e.forEach(function(e) {
return t[e.defaultOption] = "on";
}), {
v: t
};
}();
if ("object" == typeof t) return t.v;
} else {
var n = function() {
var t = {};
return e.forEach(function(e) {
return t[e.filterKey] = e.defaultValue ? "on" : "off";
}), {
v: t
};
}();
if ("object" == typeof n) return n.v;
}
}
function s(e, t) {
var n = o(t);
n && x.forEach(function(t) {
n[t] && (e[t] = i(n[t]));
});
}
function l(e) {
var t = T.gameStore.getGame(e).serverListDefaultFilter;
if (!t) return t = {}, s(t, e), new w["default"](t);
t = f["default"].extend({}, t);
var n = R[E["default"].getBestPingSiteAlias(e)];
return n && void 0 !== t.regions && (t.regions = {}, t.regions[n] = "on"), s(t, e), 
new w["default"](t);
}
function u(e, t) {
var n = t(l(e));
A.set(e, n), M(e, n);
}
function p(e, t) {
T.settingsStore.supportsFilterState && k.indexOf(e) > -1 && O.saveFilterState(e, t);
}
t.__esModule = !0;
var c = n(4), f = r(c), d = n(15), h = r(d), y = n(24), g = r(y), m = n(22), b = r(m), v = n(113), _ = r(v), S = n(669), w = r(S), T = n(11), C = n(98), E = r(C), I = n(10), P = n(41), O = n(542), A = new g["default"]("ServerFilterStore"), k = [], R = {
ams: "EU",
dub: "EU",
gru: "SAm",
brz: "SAm",
sjc: "NAm",
lax: "NAm",
iad: "NAm",
nrt: "Asia",
syd: "OC"
}, x = [ "kits", "vehicles", "weaponClasses", "misc", "scales" ], M = f["default"].debounce(p, 1e3), N = h["default"].createStore({
init: function $() {
var e = this;
this.listenTo(b["default"].setFilterValue, function(e, t, n, r) {
var o = "advanced" !== t && -1 === x.indexOf(t);
a(e, function(e) {
return e.setFilterCondition(t, n, r, o);
}), this.trigger(this.getState());
}), this.listenTo(b["default"].toggleFilters, function(e, t, n, r) {
a(e, function(e) {
return e.replaceFilterKeys(t, n, r);
}), this.trigger(this.getState());
}), this.listenTo(b["default"].prepareFilters, function(e) {
null == A.get(e) && (u(e, function(t) {
return l(e);
}), this.trigger(this.getState()));
}), this.listenTo(b["default"].resetFilters, function(e) {
u(e, function(t) {
return l(e);
}), this.trigger(this.getState());
}), this.listenTo(b["default"].applyFilters, function(e, t) {
u(e, function(e) {
return new w["default"](t);
}), this.trigger(this.getState());
}), this.listenTo(b["default"].toggleFilterCategory, function(e, t) {
var n = o(e), r = f["default"].map(n[t], function(e) {
return e.filterKey;
});
a(e, function(e) {
return e.toggleConditionsInCategory(t, r, "on");
}), this.trigger(this.getState());
}), this.listenTo(b["default"].invertFilterCategory, function(e, t) {
var n = o(e), r = f["default"].map(n[t], function(e) {
return e.filterKey;
});
a(e, function(e) {
return e.invertCategory(t, r);
}), this.trigger(this.getState());
}), I.when(function() {
return P.onlineState.isOnlineBlazeAndGateway && T.settingsStore.supportsFilterState;
}, function() {
return e.loadFilterState();
});
},
_receiveState: function D(e) {
var t = f["default"].object(f["default"].map(e, function(e, t) {
return null == e || "object" != typeof e ? [] : null == t || "string" != typeof t ? [] : [ t, new w["default"](e) ];
}));
A.setState(t), this.trigger(this.getState());
},
loadFilterState: function U() {
var e = this, t = Object.keys(T.gameStore.games.toJS());
k = t, O.getFilterState(t).then(function(t) {
e._receiveState(t);
})["catch"](function(e) {
return console.warn("Could not load filter state from gateway", e);
});
},
getState: function L() {
return A.getState();
},
getStateByGameId: function F(e) {
return A.get(e);
}
});
t["default"] = N, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
var t = T["default"](e);
return Object.keys(t).length > 0 ? JSON.stringify(t) : !1;
}
function s() {
var e, t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], n = t, r = {}, s = t;
return function(t) {
var l = function(t) {
function l() {
o(this, p), t.apply(this, arguments);
}
a(l, t), l.prototype.componentWillMount = function f() {
var e = this;
t.prototype.componentWillMount && t.prototype.componentWillMount.call(this), c.when(function() {
return O.onlineState.isOnlineBlazeAndGateway;
}, function() {
return e.updateRecommenderOptions();
});
}, l.prototype.componentWillEnter = function h() {
t.prototype.componentWillEnter && t.prototype.componentWillEnter.call(this), O.onlineState.isOnlineBlazeAndGateway && (this.updateServerCounters(), 
this.updateRecommenderOptions());
}, l.prototype.updateServerCounters = function g() {
var e = u["default"].chain(this.state.recommendations).filter(function(e) {
return e.recommendationId && e.matchmake;
}).map(function(e) {
var t = {
id: e.recommendationId,
game: e.game,
signalFilterJson: JSON.stringify(E["default"](e.matchmake))
}, n = P["default"].getByGameId(e.game);
return n && (t.protocolVersion = n), t;
}).value();
e.length > 0 && m["default"].fetchServerCounts(e);
}, l.prototype.componentDidUpdate = function b(e, n) {
t.prototype.componentDidUpdate && t.prototype.componentDidUpdate.call(this, e, n), 
this.state.recommendations && this.state.recommendations !== n.recommendations && this.updateServerCounters();
}, l.prototype.updateRecommenderOptions = function _(t) {
r = u["default"].extend({}, r, t), s = u["default"].extend({}, n, r), e = i(s), 
s && s.hasOwnProperty("ruleCategories") && !function() {
var e = k["default"].getHostingGame().gameId;
s.ruleCategories = u["default"].map(s.ruleCategories, function(t) {
return e + "_" + t;
});
}(), e && (y["default"].trigger(e, s), this.unsubscribeFromStores(), this.subscribeToStores({
recommendations: S["default"](d["default"], e)
}));
};
var p = l;
return l = v["default"]()(l) || l;
}(t);
return l.displayName = t.displayName || t.name, l;
};
}
t.__esModule = !0, t["default"] = s;
var l = n(4), u = r(l), p = n(1), c = (r(p), n(10)), f = n(427), d = r(f), h = n(426), y = r(h), g = n(22), m = r(g), b = n(16), v = r(b), _ = n(28), S = r(_), w = n(624), T = r(w), C = n(146), E = r(C), I = n(211), P = r(I), O = n(41), A = n(19), k = r(A);
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, a = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, i = n(1), s = r(i), l = n(6), u = r(l), p = {
XS: u["default"].getHeight(1.5),
S: u["default"].getHeight(2),
M: u["default"].getHeight(4),
L: u["default"].getHeight(6)
}, c = function f(e) {
var t = a({
width: p[e.size],
height: p[e.size],
textureMode: "contain"
}, e.style, {
grayScale: e.isDisabled ? 1 : 0
});
return e.image && (t.texture = e.image), t.textureAtlas = "SpartaCommonAtlas", {
$$typeof: o,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
};
};
c.propTypes = {
size: s["default"].PropTypes.string,
isDisabled: s["default"].PropTypes.bool
}, c.defaultProps = {
size: "S"
}, t["default"] = c, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), c = i(p), f = n(464), d = i(f), h = {
_$Fader: {
displayName: "Fader"
}
}, y = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/tweeners/Fader.jsx",
components: h,
locals: [],
imports: []
}), g = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = {
propertyName: "opacity",
inValue: 1,
outValue: 0
};
return this.props.duration && (e.inOptions = {
duration: this.props.duration
}, e.outOptions = {
duration: this.props.duration
}), c["default"].createElement(d["default"], u({}, this.props, {
tweens: [ e ]
}));
};
var n = t;
return t = a("_$Fader")(t) || t;
}(c["default"].Component);
t["default"] = g, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
create: a["default"].createAction(),
leave: a["default"].createAction(),
invite: a["default"].createAction(),
getStatus: a["default"].createAction(),
getMembers: a["default"].createAction()
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = n(466), s = n(223), l = n(24), u = new l("CareerStore", new s(), !0), p = a["default"].createStore({
init: function c() {
i.listen(function(e) {
u.setState(e), p.trigger(u.getState());
});
},
getState: function f() {
return u.getState();
},
getGameStats: function d(e) {
var t = u.getState();
return t ? t.gameStats[e] : null;
}
});
e.exports = p;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
c.setState(a(e)), f.trigger(c.getState());
}
function a(e) {
return l.reduce(e, function(e, t) {
return e[t.id] = t, e;
}, {});
}
var i = n(15), s = r(i), l = n(4), u = n(116), p = n(24), c = new p("FriendStore"), f = s["default"].createStore({
init: function d() {
this.listenTo(u, function(e) {
var t = l.chain(e).values().filter(function(e) {
return e.friendState;
}).value();
o(t);
});
},
getState: function h() {
return c.getState();
}
});
e.exports = f;
}, function(e, t, n) {
e.exports = n(571).__Logger;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return void 0 !== e ? e : null;
}
t.__esModule = !0;
var a = n(45), i = n(226), s = r(i), l = {
batch: [],
depth: 0,
start: function u() {
l.depth++;
},
stop: function p() {
l.depth--, 0 === l.depth && l.flush();
},
flush: function c() {
if (s["default"].MISC) return void this.flushOpt();
if (0 !== l.batch.length) {
for (var e = [], t = l.batch, n = 0, r = t.length; r > n; n++) {
var i = t[n];
if (!i.tween._isDestroyed) {
var u = i.instruction, p = u.options;
e.push({
id: i.tween.id,
from: o(u.from),
to: o(u.to),
duration: o(p.duration),
speed: o(p.speed),
easing: o(p.easing),
delay: o(p.delay)
});
}
}
l.batch.length = 0, e.length > 0 && a.Native.updateTweens(e);
}
},
flushOpt: function f() {
var e = l.batch, t = e.length;
if (0 !== t) {
for (var n = [], r = 0; t > r; r++) {
var o = e[r], i = o.instruction, s = i.options;
n.push({
id: o.tween.id,
from: void 0 === i.from ? null : i.from,
to: void 0 === i.to ? null : i.to,
duration: void 0 === s.duration ? null : s.duration,
speed: void 0 === s.speed ? null : s.speed,
easing: void 0 === s.easing ? null : s.easing,
delay: void 0 === s.delay ? null : s.delay
});
}
e.length = 0, a.Native.updateTweens(n);
}
}
};
t.TweenBatching = l;
}, function(e, t, n) {
"use strict";
function r(e) {
return d + e.toString(36);
}
function o(e, t) {
return e.charAt(t) === d || t === e.length;
}
function a(e) {
return "" === e || e.charAt(0) === d && e.charAt(e.length - 1) !== d;
}
function i(e, t) {
return 0 === t.indexOf(e) && o(t, e.length);
}
function s(e) {
return e ? e.substr(0, e.lastIndexOf(d)) : "";
}
function l(e, t) {
if (a(e) && a(t) ? void 0 : f(!1), i(e, t) ? void 0 : f(!1), e === t) return e;
var n, r = e.length + h;
for (n = r; n < t.length && !o(t, n); n++) ;
return t.substr(0, n);
}
function u(e, t) {
var n = Math.min(e.length, t.length);
if (0 === n) return "";
for (var r = 0, i = 0; n >= i; i++) if (o(e, i) && o(t, i)) r = i; else if (e.charAt(i) !== t.charAt(i)) break;
var s = e.substr(0, r);
return a(s) ? void 0 : f(!1), s;
}
function p(e, t, n, r, o, a) {
e = e || "", t = t || "", e === t ? f(!1) : void 0;
var u = i(t, e);
u || i(e, t) ? void 0 : f(!1);
for (var p = 0, c = u ? s : l, d = e; ;d = c(d, t)) {
var h;
if (o && d === e || a && d === t || (h = n(d, u, r)), h === !1 || d === t) break;
p++ < y ? void 0 : f(!1);
}
}
var c = n(511), f = n(29), d = ".", h = d.length, y = 1e4, g = {
createReactRootID: function() {
return r(c.createReactRootIndex());
},
createReactID: function(e, t) {
return e + t;
},
getReactRootIDFromNodeID: function(e) {
if (e && e.charAt(0) === d && e.length > 1) {
var t = e.indexOf(d, 1);
return t > -1 ? e.substr(0, t) : e;
}
return null;
},
traverseEnterLeave: function(e, t, n, r, o) {
var a = u(e, t);
a !== e && p(e, a, n, r, !1, !0), a !== t && p(a, t, n, o, !0, !1);
},
traverseTwoPhase: function(e, t, n) {
e && (p("", e, t, n, !0, !1), p(e, "", t, n, !1, !0));
},
traverseTwoPhaseSkipTarget: function(e, t, n) {
e && (p("", e, t, n, !0, !0), p(e, "", t, n, !0, !0));
},
traverseAncestors: function(e, t, n) {
p("", e, t, n, !0, !1);
},
getFirstCommonAncestorID: u,
_getNextDescendantID: l,
isAncestorIDOf: i,
SEPARATOR: d
};
e.exports = g;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
this.dispatchConfig = e, this.dispatchMarker = t, this.nativeEvent = n, this.target = r, 
this.currentTarget = r;
var o = this.constructor.Interface;
for (var a in o) if (o.hasOwnProperty(a)) {
var s = o[a];
s ? this[a] = s(n) : this[a] = n[a];
}
var l = null != n.defaultPrevented ? n.defaultPrevented : n.returnValue === !1;
l ? this.isDefaultPrevented = i.thatReturnsTrue : this.isDefaultPrevented = i.thatReturnsFalse, 
this.isPropagationStopped = i.thatReturnsFalse;
}
var o = n(107), a = n(37), i = n(85), s = (n(42), {
type: null,
currentTarget: i.thatReturnsNull,
eventPhase: null,
bubbles: null,
cancelable: null,
timeStamp: function(e) {
return e.timeStamp || Date.now();
},
defaultPrevented: null,
isTrusted: null
});
a(r.prototype, {
preventDefault: function() {
this.defaultPrevented = !0;
var e = this.nativeEvent;
e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1, this.isDefaultPrevented = i.thatReturnsTrue);
},
stopPropagation: function() {
var e = this.nativeEvent;
e && (e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0, this.isPropagationStopped = i.thatReturnsTrue);
},
persist: function() {
this.isPersistent = i.thatReturnsTrue;
},
isPersistent: i.thatReturnsFalse,
destructor: function() {
var e = this.constructor.Interface;
for (var t in e) this[t] = null;
this.dispatchConfig = null, this.dispatchMarker = null, this.nativeEvent = null;
}
}), r.Interface = s, r.augmentClass = function(e, t) {
var n = this, r = Object.create(n.prototype);
a(r, e.prototype), e.prototype = r, e.prototype.constructor = e, e.Interface = a({}, n.Interface, t), 
e.augmentClass = n.augmentClass, o.addPoolingTo(e, o.fourArgumentPooler);
}, o.addPoolingTo(r, o.fourArgumentPooler), e.exports = r;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(343), i = function(e) {
function t(t) {
e.call(this, t);
}
return r(t, e), Object.defineProperty(t.prototype, "area", {
get: function() {
return this.context.isPopup ? a.ps4StoreIconStore.popup : a.ps4StoreIconStore.content;
},
enumerable: !0,
configurable: !0
}), t.prototype.componentWillMount = function() {
SpartaGlobals.bundleIsPS4 && this.area.add();
}, t.prototype.componentWillUnmount = function() {
SpartaGlobals.bundleIsPS4 && this.area.remove();
}, t.prototype.render = function() {
return this.props.children;
}, t.contextTypes = {
isPopup: o.PropTypes.bool
}, t;
}(o.Component);
t.PS4StoreContent = i;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
return t > e ? t : e > n ? n : e;
}
function o(e, t, n) {
var r = e.map(function(e) {
return e.location;
});
return l.Location.indexOfBestMatch(r, t, n);
}
function a(e, t) {
var n = -1 === e.mainMenuIndex || -1 === t.mainMenuIndex, a = -1 === e.subMenuIndex || -1 === t.subMenuIndex;
if (a && n) {
var i = t.config.priority > e.config.priority ? 1 : -1;
return new h(0, i, 0);
}
var s = !n && r(t.mainMenuIndex - e.mainMenuIndex, -1, 1), l = !a && r(t.subMenuIndex - e.subMenuIndex, -1, 1), u = e.breadcrumbs.length >= b || t.breadcrumbs.length >= b ? t.breadcrumbs.length - e.breadcrumbs.length : 0;
if (0 === s && 0 === l && 0 === u && t.breadcrumbs.length >= b) {
var p = t.activeSubMenuConfig ? t.activeSubMenuConfig.children : [], c = o(p, e.location, !1), f = o(p, t.location, !1);
l = r(f - c, -1, 1);
}
return s ? new h(0, s, 0) : u ? new h(0, 0, u) : l ? new h(l, 0, 0) : new h(0, 0, 0);
}
var i = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, s = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, l = n(94), u = n(156), p = n(11), c = n(8), f = (c.observer, n(10)), d = n(53), h = (n(18), 
n(13), n(264)), y = function(e) {
function t(t, n) {
e.call(this), this.name = t, this.aggregate = null, this.activeSlot = null, this.setContent(n);
}
return i(t, e), t.prototype.slideDown = function(e, t) {
this.activeSlot && this.activeSlot.slideDown(e, t);
}, t.prototype.setContent = function(e) {
this.aggregate = e;
}, t.prototype.contentEquals = function(e) {
return this.aggregate ? this.aggregate.location.path === e.location.path : !1;
}, s([ f.observable ], t.prototype, "aggregate", void 0), s([ f.observable ], t.prototype, "activeSlot", void 0), 
s([ f.action ], t.prototype, "setContent", null), t;
}(u.ItemState);
t.ViewComponentState = y;
var g = d.getState(), m = function(e) {
function t() {
e.apply(this, arguments), this.viewTint = g.viewTint, this.mainMenu = g.mainMenu, 
this.comCenter = g.comCenter;
}
return i(t, e), Object.defineProperty(t.prototype, "navigationVector", {
get: function() {
return this.previous && this.current && this.previous.aggregate && this.current.aggregate ? a(this.previous.aggregate, this.current.aggregate) : null;
},
enumerable: !0,
configurable: !0
}), s([ f.computed ], t.prototype, "navigationVector", null), s([ f.observable ], t.prototype, "viewTint", void 0), 
s([ f.observable ], t.prototype, "mainMenu", void 0), s([ f.observable ], t.prototype, "comCenter", void 0), 
t;
}(u.EnterLeaveState);
t.ViewState = m, t.viewState = new m(p.layoutStateStore.current, new y("0", null), new y("1", null), new y("2", null), new y("3", null)), 
f.reaction(function() {
return p.layoutStateStore.current;
}, function(e) {
t.viewState.switchToItem(e);
}), d.listen(f.action("update viewstate visibility", function(e) {
t.viewState.viewTint = e.viewTint, t.viewState.mainMenu = e.mainMenu, t.viewState.comCenter = e.comCenter;
}));
var b = 4;
}, function(e, t) {
"use strict";
!function(e) {
e[e.Failed = 1] = "Failed", e[e.InProgress = 2] = "InProgress", e[e.Completed = 3] = "Completed";
}(t.TestStatus || (t.TestStatus = {}));
var n = t.TestStatus, r = function() {
function e(e) {
this.name = e, this.timeoutMs = 6e4, this.actions = [], this.pos = 0, this.doneCallbacks = [];
}
return e.prototype.run = function(e) {
var t = this, n = !1, r = 0;
this.done = function(t) {
n || (clearTimeout(r), n = !0, e(t));
}, this.timeoutMs > 0 && (r = setTimeout(function() {
e("Timeout running " + t.name + " after " + t.timeoutMs + " ms");
}, this.timeoutMs)), this.next();
}, e.prototype.done = function(e) {
this.doneCallbacks.forEach(function(t) {
t(e);
});
}, e.prototype.abort = function(e) {
this.done(e);
}, e.prototype.next = function() {
var e = this.actions[this.pos++];
e ? e() : this.done();
}, e.prototype.delay = function(e) {
var t = this;
return this.actions.push(function() {
setTimeout(function() {
t.next();
}, e);
}), this;
}, e.prototype.gotoLocation = function(e) {
return this;
}, e.prototype.custom = function(e) {
var t = this;
return this.actions.push(function() {
e(function(e) {
e ? t.abort(e) : t.next();
});
}), this;
}, e.prototype.waitUntil = function(e, t, n, r) {
var o = this, a = {
error: r
};
return this.actions.push(function() {
var r = 0, i = setInterval(function() {
if (r > n) {
clearInterval(i);
var t = a.error ? a.error : "Tried " + r + " times without success";
o.abort(t);
} else e(a) && (clearInterval(i), o.next());
r++;
}, t);
}), this;
}, e.prototype.timeout = function(e) {
return this.timeoutMs = e, this;
}, e.prototype.onDone = function(e) {
return this.doneCallbacks.push(e), this;
}, e;
}();
t.Step = r;
var o = function() {
function e() {
this.steps = [], this.pos = 0;
}
return e.prototype.step = function(e) {
var t = new r(e);
return this.steps.push(t), t;
}, e.prototype.pause = function(e) {
return this.step("Pause " + e + " ms").delay(e);
}, e.prototype.run = function(e) {
this.pos = 0, this.runNext(e);
}, e.prototype.runNext = function(e) {
var t = this, r = this.steps[this.pos++];
if (!r) return void e(n.Completed, "All steps completed successfully");
var o = "Step " + this.pos + " of " + this.steps.length + " '" + r.name + "'";
e(n.InProgress, "[START] " + o + " started");
var a = Date.now();
r.run(function(r) {
var i = Date.now() - a, s = r ? "failed with error '" + r + "'" : "completed successfully", l = "[END] " + o + " " + s + " after " + i.toFixed(1) + " ms";
r ? e(n.Failed, l) : (e(n.InProgress, l), t.runNext(e));
});
}, e;
}();
t.Task = o;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = function() {
function e() {
this.timeLeft = 0, this.active = !1, this.prevTime = 0;
}
return e.prototype.start = function(e, t) {
this.active || (this.prevTime = Date.now(), this.timeLeft = 60 * e + t, this.active = !0, 
this.updateTimer());
}, e.prototype.stop = function() {
this.timeLeft = 0, this.active = !1;
}, e.prototype.updateMsLeft = function(e) {
this.timeLeft = e;
}, e.prototype.updateTimer = function() {
var e = this, t = Date.now(), n = t - this.prevTime;
this.prevTime = t;
var r = this.timeLeft - Math.floor(n / 1e3);
this.updateMsLeft(r), this.active && r > 0 && setTimeout(function() {
e.updateTimer();
}, 1e3);
}, r([ o.observable ], e.prototype, "timeLeft", void 0), r([ o.observable ], e.prototype, "active", void 0), 
r([ o.action ], e.prototype, "start", null), r([ o.action ], e.prototype, "stop", null), 
r([ o.action ], e.prototype, "updateMsLeft", null), e;
}();
t.NextRoundCountDown = a, t.nextRoundCountDown = new a();
}, function(e, t, n) {
(function(e) {
"use strict";
function r() {
u.onlineState.isPresenceReady && !t.operationFlow.byPassGlobe && f.hideComponent("all", function() {
l.cloudTransition.setToSpace(), t.operationFlow.enter(function() {
m.route("none"), c.sendMessage("game.enterOperations");
});
});
}
function o(e) {
if (t.operationFlow.state !== C.none) switch (e) {
case v.LoadingScreen:
t.operationFlow.state === C.joined && f.hideComponent("all", function() {
m.route("playing"), m.hide(), t.operationFlow.startPlaying();
});
break;

case v.InGameMenu:
t.operationFlow.state !== C.eor && m.route("playing"), f.handleBlackFadeStart(0), 
l.cloudTransition.state !== l.CloudTransitionState.earth && l.cloudTransition.setToEarth();
break;

case v.FrontEnd:
t.operationFlow.byPassGlobe ? t.operationFlow.clear() : t.operationFlow.state === C.globe ? (l.cloudTransition.setToSpace(l.CloudTransitionState.clouds), 
p.globeState.set("Sparta"), setTimeout(function() {
l.cloudTransition.landOnEarth(function() {
t.operationFlow.clear();
}, l.CloudTransitionSound.planet);
}, 600)) : t.operationFlow.state === C.matchmaking ? (m.route("loading"), m.show()) : t.operationFlow.state !== C.error && r();
}
}
function a() {
S.enterOperations.listen(function() {
t.operationFlow.enter();
}), y.enterSpecificGameMode.listen(function(e) {
"operations" === e && t.operationFlow.enter();
}), h.onMatchmakingFailed.listen(function(e, n) {
t.operationFlow.state !== C.none && (t.operationFlow.failMatchmaking(e), n || l.cloudTransition.landOnEarth());
}), h.onMatchmakingFailedDismiss.listen(function(e) {
t.operationFlow.state === C.failed && (e ? f.hideComponent("all", function() {
t.operationFlow.enter(function() {});
}) : f.showComponent("all", function() {
t.operationFlow.clear();
}));
}), h.prepare.cancel.listen(function() {
t.operationFlow.state === C.matchmaking && f.hideComponent("all", function() {
c.sendMessage("sparta.matchmakingResult", {
gameId: "tunguska",
result: T.failure
}), t.operationFlow.enter(function() {});
});
}), h.handleServerFound.listen(function() {
t.operationFlow.state === C.matchmaking && t.operationFlow.serverFound();
}), y.setGameServer.listen(function(e) {
void 0 === e && (e = {});
var n = e.mapMode || "", r = n.indexOf("Breakthrough") >= 0;
if (t.operationFlow.state !== C.none && t.operationFlow.state !== C.queued || !r) t.operationFlow.state === C.none || r || t.operationFlow.clear(); else {
var o = b.getState().queue;
"Queued" === o.status ? t.operationFlow.queued() : t.operationFlow.join(), t.operationFlow.setGlobeByPassing(!0);
}
}), b.scope("queue").listen(function(e) {
t.operationFlow.state === C.joined && "Queued" === e.status ? (t.operationFlow.queued(), 
f.handleBlackFadeStart(0)) : t.operationFlow.state === C.queued && "Cancelled" === e.status && t.operationFlow.clear();
}), g.onJoinMultiplayerFailed.listen(function() {
t.operationFlow.state !== C.none && t.operationFlow.clear();
}), g.onMultiplayerServerDisconnection.listen(function(e) {
e.shouldShowErrorMessage() && t.operationFlow.state !== C.none && (u.onlineState.isPresenceReady && !t.operationFlow.byPassGlobe && l.cloudTransition.setToSpace(), 
t.operationFlow.error());
}), f.handleErrorPopupDismissed.listen(function() {
t.operationFlow.state === C.error && r();
}), d.handleSpartaActivated.listen(function() {
o(b.getState().navigationState);
}), b.scope("navigationState").listen(o);
}
var i = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, s = n(10), l = n(157), u = n(41), p = n(199), c = n(2).frostbite, f = n(27), d = n(17), h = n(81), y = n(30), g = n(97), m = n(46), b = n(44), v = n(57), _ = n(168).checkGameState, S = n(36), w = e.get("TunguskaOperationFlowState");
!function(e) {
e[e.none = 0] = "none", e[e.globe = 1] = "globe", e[e.matchmaking = 2] = "matchmaking", 
e[e.serverFound = 3] = "serverFound", e[e.queued = 4] = "queued", e[e.joined = 5] = "joined", 
e[e.playing = 6] = "playing", e[e.eor = 7] = "eor", e[e.failed = 8] = "failed", 
e[e.error = 9] = "error";
}(t.OperationState || (t.OperationState = {}));
var T, C = t.OperationState;
!function(e) {
e[e.success = 0] = "success", e[e.failure = 1] = "failure", e[e.timeout = 2] = "timeout", 
e[e.canceled = 3] = "canceled";
}(T || (T = {}));
var E = function() {
function e() {
this.state = C.none, this.byPassGlobe = !1, this.index = -1, this.debug = !1;
}
return e.prototype.log = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.debug && w.log.apply(w, [ e ].concat(t));
}, e.prototype.setGlobeByPassing = function(e) {
this.log("setGlobeByPassing to", e), this.byPassGlobe = e;
}, e.prototype.enter = function(e) {
var t = this;
void 0 === e && (e = null), this.state !== C.globe && (this.log("enter", this.state), 
this.state = C.none, this.index = -1, e ? (e(), this.enterGlobe()) : _().then(function() {
l.cloudTransition.flyToClouds(function() {
l.cloudTransition.fadeOutFromWhite(200, function() {
f.hideComponent("all", function() {
l.cloudTransition.setToSpace(), p.globeState.set("Disable", !0);
});
}), t.enterGlobe(), c.sendMessage("game.enterOperations");
}, l.CloudTransitionSound.planet);
}));
}, e.prototype.enterGlobe = function() {
this.log("enterGlobe", this.state), this.state = C.globe;
}, e.prototype.startMatchmaking = function(e) {
this.log("startMatchmaking", this.state), h.prepare("tunguska", e), this.state = C.matchmaking, 
this.index = e.operationIndex;
}, e.prototype.failMatchmaking = function(e) {
if (this.log("failMatchmaking", this.state), this.state === C.matchmaking) {
var t = "JoinFailed" === e.status ? T.failure : T.timeout;
c.sendMessage("sparta.matchmakingResult", {
gameId: "tunguska",
result: t
}), this.state = C.failed;
}
}, e.prototype.cancelMatchmaking = function(e) {
var t = this;
void 0 === e && (e = !1), this.log("cancelMatchmaking", this.state), this.state === C.matchmaking && (e ? c.sendMessage("sparta.matchmakingResult", {
gameId: "tunguska",
result: T.canceled
}) : f.hideComponent("all", function() {
t.enterGlobe(), c.sendMessage("sparta.matchmakingResult", {
gameId: "tunguska",
result: T.canceled
});
}));
}, e.prototype.startPlaying = function() {
this.log("startPlaying", this.state), this.state = C.playing;
}, e.prototype.serverFound = function() {
this.log("serverFound", this.state), this.state = C.serverFound;
}, e.prototype.queued = function() {
this.log("queued", this.state), this.state = C.queued;
}, e.prototype.join = function() {
this.log("join", this.state), this.state = C.joined, f.handleBlackFadeStart(1);
}, e.prototype.endRound = function() {
this.log("endRound", this.state), this.state === C.playing && (this.state = C.eor);
}, e.prototype.error = function() {
this.log("error", this.state), this.state !== C.none && (this.state = C.error);
}, e.prototype.clear = function() {
this.log("clear"), this.state = C.none, this.index = -1, p.globeState.set("Sparta"), 
this.setGlobeByPassing(!1);
}, Object.defineProperty(e.prototype, "showLoadingScreen", {
get: function() {
return this.state === C.none || this.state === C.queued;
},
enumerable: !0,
configurable: !0
}), i([ s.observable ], e.prototype, "state", void 0), i([ s.observable ], e.prototype, "byPassGlobe", void 0), 
i([ s.action ], e.prototype, "setGlobeByPassing", null), i([ s.action ], e.prototype, "enter", null), 
i([ s.action ], e.prototype, "enterGlobe", null), i([ s.action ], e.prototype, "startMatchmaking", null), 
i([ s.action ], e.prototype, "failMatchmaking", null), i([ s.action ], e.prototype, "startPlaying", null), 
i([ s.action ], e.prototype, "serverFound", null), i([ s.action ], e.prototype, "queued", null), 
i([ s.action ], e.prototype, "join", null), i([ s.action ], e.prototype, "endRound", null), 
i([ s.action ], e.prototype, "error", null), i([ s.action ], e.prototype, "clear", null), 
i([ s.computed ], e.prototype, "showLoadingScreen", null), e;
}();
t.TunguskaOperationFlowState = E, t.operationFlow = new E(), t.startOperationFlow = a;
}).call(t, n(132));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(2), i = n(8), s = n(10), l = n(9), u = n(293), p = n(13), c = n(59), f = n(6), d = n(817), h = n(218), y = h.CARD_WIDTH, g = h.CARD_HEIGHT, m = n(14), b = n(12), v = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, _ = {
position: "absolute",
top: 0,
right: 0,
left: 0
};
t.tweenInOptions = p.presets.focusables.enter.fast, t.tweenOutOptions = p.presets.focusables.leave, 
t.activeBackgroundScaleIncrease = SpartaGlobals.bundleIsConsole ? .05 : 0;
var S = f.GUTTER, w = {
container: function(e, n, r, o, a) {
var i, s;
return o && (i = f.getWidth(y.cells[o]), s = f.getHeight(g.cells[o])), Object.assign({
width: i,
height: s,
backgroundColor: r,
opacity: p.tweenSwitch(0, 1, e, t.tweenInOptions, t.tweenOutOptions),
marginRight: f.GUTTER,
marginBottom: f.GUTTER,
layer: !0,
layerClip: !0,
zOffset: n ? 10 : 0
}, a);
},
top: {
flex: 1,
layer: !0,
layerClip: !0
},
texture: function(e, n, r, o, a, i) {
void 0 === n && (n = {});
var s = n.textureScale || o || 1;
return i && (s += .1), t.activeBackgroundScaleIncrease > 0 && (s = p.tweenSwitch(s, s + t.activeBackgroundScaleIncrease, e, t.tweenInOptions, t.tweenOutOptions)), 
Object.assign({}, n, {
textureMode: "cover",
textureOffsetY: p.tweenSwitch(0, -f.GUTTER, e, t.tweenInOptions, t.tweenOutOptions),
textureScale: s,
grayScale: a && !r ? 1 : 0
});
},
backgroundShade: function() {
return {
zOffset: 1,
textureMode: "fill",
texture: l.bbOfflineUrl("/sparta/jsclient/builds/assets/card-gradient-active-news-abc6b204.png")
};
},
content: [ v, {
flex: 1,
zOffset: 3,
padding: 3 * f.GUTTER
} ],
highlight: function(e) {
return {
minHeight: p.tweenSwitch(0, S, e, t.tweenInOptions, t.tweenOutOptions),
zOffset: 2,
justifyContent: "flex-end"
};
},
bottom: {
padding: 3 * f.GUTTER
},
fold: function(e, n) {
return {
marginBottom: e ? p.tweenSwitch(-e, 0, n, t.tweenInOptions, t.tweenOutOptions) : 0
};
},
overlay: [ v, {
enableMouseEvents: !1,
zOffset: 4
} ],
dimmer: function(e) {
return [ v, {
enableMouseEvents: !1,
backgroundColor: "#000000",
opacity: p.tweenSwitch(0, .5, e, t.tweenInOptions, t.tweenOutOptions),
zOffset: 5
} ];
}
}, T = function(n) {
function l(e) {
var t = this;
n.call(this, e), this.width = 0, this.height = 0, this.foldHeight = 0, this.bottomHeight = 0, 
this.contentTextColorTween = p.tween("3132c7f8:313", "#ffffff"), this.bottomTextColorTween = p.tween("3132c7f8:314", "#ffffff"), 
this.highlightColorTween = p.tween("3132c7f8:315", this.props.inactiveHighlightColor), 
this.focusItem = this.props.focusItem || a.focus.create(this, a.autoId("card")), 
this.stopTweening = s.reaction(function() {
return [ t.isActive, t.hasBackground ];
}, function() {
return t.updateTweens();
}), this.focusItem.onFocus(function() {
t.props.onFocus && t.props.onFocus();
}), this.focusItem.onBlur(function() {
t.props.onBlur && t.props.onBlur();
}), this.updateActiveOverride(e.forcedActive, e.enabled);
}
return e(l, n), Object.defineProperty(l.prototype, "isBoundsReady", {
get: function() {
return 0 !== this.width && 0 !== this.height;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(l.prototype, "isActive", {
get: function() {
return void 0 !== this.isActiveOverride ? this.isActiveOverride : this.focusItem.isFocused || this.focusItem.isHovered;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(l.prototype, "scaleValues", {
get: function() {
var e = 2 * f.GUTTER;
return {
scaleX: {
from: 1,
to: 0 === this.width ? 1 : (this.width + e) / this.width
},
scaleY: {
from: 1,
to: 0 === this.height ? 1 : (this.height + e) / this.height
}
};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(l.prototype, "backgroundHeight", {
get: function() {
return this.height - this.bottomHeight;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(l.prototype, "backgroundUrls", {
get: function() {
return this.props.background ? "string" == typeof this.props.background ? [ this.props.background ] : this.props.background : [];
},
enumerable: !0,
configurable: !0
}), l.prototype.setSize = function(e, t) {
this.width = e, this.height = t;
}, l.prototype.setFoldHeight = function(e) {
this.foldHeight = e;
}, l.prototype.setBottomHeight = function(e) {
this.bottomHeight = e;
}, l.prototype.updateActiveOverride = function(e, t) {
t ? e ? this.isActiveOverride = !0 : this.isActiveOverride = void 0 : this.isActiveOverride = !1;
}, l.prototype.getInput = function() {
return this.props.input ? this.props.input : this.props.onPress ? new m({
label: __("ID_SPARTA_ACTION_SELECT"),
action: this.props.onPress,
blockInputFor: 500,
key: b.Accept
}) : void 0;
}, l.prototype.componentWillReceiveProps = function(e) {
this.updateActiveOverride(e.forcedActive, e.enabled);
}, l.prototype.componentDidUpdate = function() {
this.updateTweens();
}, l.prototype.componentWillUnmount = function() {
this.contentTextColorTween.destroy(), this.bottomTextColorTween.destroy(), this.highlightColorTween.destroy(), 
this.stopTweening();
}, Object.defineProperty(l.prototype, "hasBackground", {
get: function() {
return this.backgroundUrls.length || void 0 !== this.props.backgroundVideo ? !0 : !1;
},
enumerable: !0,
configurable: !0
}), l.prototype.updateTweens = function() {
var e = this.isActive ? t.tweenInOptions : t.tweenOutOptions;
this.contentTextColorTween.to(this.isActive && !this.hasBackground ? "#000000" : "#ffffff", e), 
this.bottomTextColorTween.to(this.isActive ? "#000000" : "#ffffff", e), this.highlightColorTween.to(this.isActive ? this.props.activeHighlightColor : this.props.inactiveHighlightColor, e);
}, l.prototype.renderBackground = function() {
var e = this, t = this.backgroundUrls.length > 1, n = Object.assign({
height: this.backgroundHeight
}, _), r = w.texture(this.isActive, this.props.backgroundStyle, this.props.enabled, this.props.backgroundScale, this.props.useGrayScale, t);
if (t) return o.createElement(d, {
style: n,
textures: this.backgroundUrls,
textureStyle: r
});
var a = Object.assign({
texture: this.backgroundUrls[0]
}, n, r);
return void 0 !== this.props.backgroundVideo ? o.createElement(C, {
ref: function(t) {
return e.video = t;
},
style: a,
isActive: this.isActive,
source: this.props.backgroundVideo,
option: this.props.backgroundVideoOption
}) : o.createElement("surface", {
style: a
});
}, l.prototype.render = function() {
var e = this, t = this.props.bottom && o.createElement(u, {
style: w.bottom,
onBoundsChanged: function(t) {
return e.setBottomHeight(t.height);
}
}, this.props.bottom), n = this.props.fold && o.createElement(u, {
style: w.fold(this.foldHeight, this.isActive),
onBoundsChanged: function(t) {
return e.setFoldHeight(t.height);
}
}, this.props.fold), r = this.hasBackground && this.props.backgroundShade && o.createElement("surface", {
style: [ {
height: this.backgroundHeight
}, _, w.backgroundShade() ]
}), a = this.props.overlay && o.createElement("surface", {
style: w.overlay
}, this.props.overlay);
return o.createElement(c, {
focusItem: this.focusItem,
input: this.getInput(),
scale: SpartaGlobals.bundleIsConsole,
scaleValues: this.scaleValues,
triggerMode: this.props.triggerMode,
style: w.container(this.isBoundsReady, this.isActive, this.highlightColorTween.getStyle(), this.props.size, this.props.style)
}, o.createElement("surface", {
style: w.top
}, this.renderBackground(), r, o.createElement(E, {
style: w.content,
color: this.contentTextColorTween.getStyle()
}, o.createElement("surface", {
style: {
flex: 1,
justifyContent: "flex-end"
}
}, this.props.children))), o.createElement(E, {
style: w.highlight(this.isActive),
color: this.bottomTextColorTween.getStyle()
}, t, n), a, o.createElement(u, {
style: w.dimmer(!this.props.enabled),
onBoundsChanged: function(t) {
return e.setSize(t.width, t.height);
}
}));
}, l.defaultProps = {
size: "M",
enabled: !0,
backgroundScale: 1,
backgroundShade: !0,
backgroundVideoOption: "focus",
activeHighlightColor: "#ffffff",
inactiveHighlightColor: "#00000085"
}, r([ s.observable ], l.prototype, "width", void 0), r([ s.observable ], l.prototype, "height", void 0), 
r([ s.observable ], l.prototype, "foldHeight", void 0), r([ s.observable ], l.prototype, "bottomHeight", void 0), 
r([ s.observable ], l.prototype, "isActiveOverride", void 0), r([ s.computed ], l.prototype, "isBoundsReady", null), 
r([ s.computed ], l.prototype, "isActive", null), r([ s.computed ], l.prototype, "scaleValues", null), 
r([ s.computed ], l.prototype, "backgroundHeight", null), r([ s.action ], l.prototype, "setSize", null), 
r([ s.action ], l.prototype, "setFoldHeight", null), r([ s.action ], l.prototype, "setBottomHeight", null), 
r([ s.action ], l.prototype, "updateActiveOverride", null), l = r([ i.observer ], l);
}(o.Component);
t.Card = T;
var C = function(t) {
function n(e) {
t.call(this, e), this.isPlaying = !1, this.reactToChanges({
source: void 0
}, e);
}
return e(n, t), n.prototype.componentWillUpdate = function(e) {
this.reactToChanges(this.props, e);
}, n.prototype.componentWillUnmount = function() {
this.stop();
}, n.prototype.reactToChanges = function(e, t) {
t.source !== e.source && (this.stop(), this.updateVideo(t.source)), t.isActive !== e.isActive && "focus" === t.option && (t.isActive ? this.play() : this.stop());
}, n.prototype.updateVideo = function(e) {
this.video = "string" == typeof e ? a.video.loadVideo(e) : e, this.video.setVolume(0), 
"auto" === this.props.option && this.play();
}, n.prototype.play = function() {
this.video && (this.isPlaying = !0, this.video.play());
}, n.prototype.stop = function() {
this.video && (this.isPlaying = !1, this.video.stop());
}, n.prototype.render = function() {
return o.createElement("surface", {
style: [ this.props.style, {
video: this.isPlaying ? this.video.id : void 0
} ]
});
}, r([ s.observable ], n.prototype, "video", void 0), r([ s.observable ], n.prototype, "isPlaying", void 0), 
r([ s.action ], n.prototype, "updateVideo", null), r([ s.action ], n.prototype, "play", null), 
r([ s.action ], n.prototype, "stop", null), n = r([ i.observer ], n);
}(o.Component), E = function(t) {
function n() {
t.apply(this, arguments);
}
return e(n, t), n.prototype.getChildContext = function() {
return {
color: this.props.color
};
}, n.prototype.render = function() {
return o.createElement("surface", {
style: this.props.style
}, this.props.children);
}, n.childContextTypes = {
color: o.PropTypes.any
}, n;
}(o.Component);
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var o = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
r(this, e), t.sceNpId && (this.sceNpId = "" + t.sceNpId), t.xUid && (this.xUid = "" + t.xUid), 
t.nucleusId && (this.nucleusId = "" + t.nucleusId), t.personaId && (this.personaId = "" + t.personaId), 
t.personaName && (this.personaName = "" + t.personaName);
}
return e.prototype.getPlatformId = function t() {
return e.getPlatformId(this);
}, e.prototype.equals = function n(e) {
return this.sceNpId && e.sceNpId && this.sceNpId === e.sceNpId ? !0 : this.xUid && e.xUid && this.xUid === e.xUid ? !0 : this.nucleusId && e.nucleusId && this.nucleusId === e.nucleusId ? !0 : this.personaId && e.personaId && this.personaId === e.personaId ? !0 : this.personaName && e.personaName && this.personaName === e.personaName ? !0 : !1;
}, e.prototype.isNull = function o() {
var e = this.getPlatformId();
return !e || "0" === e;
}, e.update = function a() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], n = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
return new e({
sceNpId: n.sceNpId || t.sceNpId,
xUid: n.xUid || t.xUid,
nucleusId: n.nucleusId || t.nucleusId,
personaId: n.personaId || t.personaId,
personaName: n.personaName || t.personaName
});
}, e.getPlatformId = function i() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
return SpartaGlobals.bundleIsPS4 && e.sceNpId ? e.sceNpId : SpartaGlobals.bundleIsXBOXONE && e.xUid ? e.xUid : SpartaGlobals.bundleIsPC && e.nucleusId ? e.nucleusId : (console.error("Missing all platformId options, id value is empty or platform is undefined"), 
null);
}, e;
}();
t["default"] = o, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
joinMultiplayerServer: a["default"].createAction(),
continueSinglePlayer: a["default"].createAction()
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
launchGame: a["default"].createAction(),
countdownThenLaunchGame: a["default"].createAction({
children: [ "cancel", "continue" ]
}),
launchGameWithNotification: a["default"].createAction()
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {
p["default"].toggleBookmark.listen(function(e) {
b[e.guid] || (b[e.guid] = m["default"](function(e) {
return v.trigger(e);
}, 1e3, !1)), b[e.guid](e);
});
}
t.__esModule = !0, t.startToggleBookmarkClient = o;
var a = n(21), i = r(a), s = n(26), l = r(s), u = n(22), p = r(u), c = n(4), f = r(c), d = n(55), h = r(d), y = n(41), g = n(83), m = r(g), b = [], v = i["default"].createClient({
shouldPerformRequest: function _(e) {
return e ? e.game ? e.guid ? y.onlineState.isOnlineBlazeAndGateway : (console.error("ToggleServerBookmarkClient - Server is missing guid property", e), 
!1) : (console.error("ToggleServerBookmarkClient - Server is missing game property", e), 
!1) : (console.error("ToggleServerBookmarkClient - No server provided"), !1);
},
request: function S(e) {
delete b[e.guid];
var t = f["default"].pick(e, [ "game", "guid" ]);
return e.isFavorite ? l["default"].request("ServerBookmark.unbookmarkServer", t) : l["default"].request("ServerBookmark.bookmarkServer", t);
},
onRequestError: function w(e, t) {
this.publish(t);
},
parse: function T(e) {
return e;
},
update: function C(e, t, n) {
var r = new h["default"](f["default"].extend({}, n, {
isFavorite: !n.isFavorite
}));
this.publish(r);
}
});
t.ToggleServerBookmarkClient = v;
}, function(e, t, n) {
function r(e) {
var t = {};
return a.each(e, function(e, n) {
a.values(e).length > 0 && (t[n] = a.extend({}, e)), "passwordProtected" === n && (t[n] = e);
}), o(t, "advanced", i), o(t, "name", [ "name" ]), e && e.version && (t.version = e.version), 
t;
}
function o(e, t, n) {
e[t] && (Object.keys(e[t]).forEach(function(r) {
n.indexOf(r) >= 0 && (e[r] = e[t][r], delete e[t][r]);
}), a.values(e[t]).length < 1 && n.indexOf(t) < 0 && delete e[t]);
}
t.__esModule = !0, t["default"] = r;
var a = n(4), i = [ "passwordProtected", "mapRotation", "modeRotation" ];
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var a = n(15), i = o(a), s = n(4), l = r(s), u = n(123), p = o(u), c = n(24), f = o(c), d = n(54), h = new f["default"]("TunguskaBattlepackStore"), y = !1, g = i["default"].createStore({
init: function m() {
var e = this;
h.setState(new p["default"]({
packs: new p["default"]({}),
error: null
})), d.unopened.listen(function(t, n) {
var r = l.extend({}, e.getState(), {
error: n
});
t && (y = !0, r.packs = new p["default"](t.reduce(function(e, t) {
return e[t.packName] = t, e;
}, {}))), h.setState(new p["default"](r)), g.trigger(h.getState());
});
},
hasLoadedOnce: function b() {
return y;
},
getState: function v() {
return h.getState();
},
getInitialState: function _() {
return this.getState();
},
getNum: function S() {
return h.getState().packs.length;
},
getPackByName: function w(e) {
return h.getState().packs.get(e);
}
});
t["default"] = g, e.exports = t["default"];
}, function(e, t, n) {
var r = n(565);
e.exports = r.inputButtonIcons;
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), c = i(p), f = n(13), d = i(f), h = {
_$FlexibleTweener: {
displayName: "FlexibleTweener"
}
}, y = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/tweeners/FlexibleTweener.jsx",
components: h,
locals: [],
imports: []
}), g = {
easing: "CubicOut",
duration: d["default"].defaultTweenOptions.duration / 2
}, m = {
easing: "CubicIn",
duration: g.duration
}, b = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.componentWillMount = function i() {
var e = this;
this.content = this.props.children, this.state = {
tweenState: "in"
}, this.inTweens = {}, this.outTweens = {}, this.allowUpdates = !0, this.updateTweens(this.props), 
this.props.playInOnMount || this.props.inTweens.map(function(t) {
var n = e.inTweens[t.propertyName];
n.set(t.toValue);
});
}, t.prototype.componentDidMount = function s() {
this.props.playInOnMount && this.playIn(this.props);
}, t.prototype.componentWillReceiveProps = function l(e) {
var t = this;
return e.transitionId === this.props.transitionId ? (this.content = e.children, 
void (this.nextContent = e.children)) : (this.nextContent = e.children, this.updateTweens(e), 
void this.setState({
tweenState: "out"
}, function() {
t.allowUpdates = !1;
var n = t.playOut(e);
n.then(function() {
t.allowUpdates = !0, t.content = t.nextContent, t.updateTweens(e), t._reactInternalInstance && t.setState({
tweenState: "in"
}, function() {
t.playIn(e).then(t.props.onTransitionFinished);
});
});
}));
}, t.prototype.shouldComponentUpdate = function p() {
return this.allowUpdates;
}, t.prototype.componentWillUnmount = function f() {
var e;
for (e in this.inTweens) this.inTweens[e].destroy();
for (e in this.outTweens) this.outTweens[e].destroy();
}, t.prototype.updateTweens = function h(e) {
var t = this;
this._reactInternalInstance && (e.inTweens.forEach(function(e) {
var n = t.inTweens[e.propertyName];
n && n.destroy();
var r = void 0 !== e.fromValue ? e.fromValue : e.toValue;
t.inTweens[e.propertyName] = d["default"].tween("6dcc6051:104", r);
}), e.outTweens.forEach(function(e) {
var n = t.outTweens[e.propertyName];
n && n.destroy();
var r = void 0 !== e.fromValue ? e.fromValue : e.toValue;
t.outTweens[e.propertyName] = d["default"].tween("6dcc6051:114", r);
}));
}, t.prototype.playOut = function y() {
var e = this, t = arguments.length <= 0 || void 0 === arguments[0] ? this.props : arguments[0];
return Promise.all(t.outTweens.map(function(t) {
var n = e.outTweens[t.propertyName], r = t.options || m;
return new Promise(function(e) {
return n.transition(t.fromValue, t.toValue, r, e);
});
}));
}, t.prototype.playIn = function b() {
var e = this, t = arguments.length <= 0 || void 0 === arguments[0] ? this.props : arguments[0];
return Promise.all(t.inTweens.map(function(t) {
var n = e.inTweens[t.propertyName], r = t.options || g;
return new Promise(function(e) {
return n.transition(t.fromValue, t.toValue, r, e);
});
}));
}, t.prototype.render = function v() {
var e = u({}, this.props.style), t = "in" === this.state.tweenState ? this.inTweens : this.outTweens;
for (var n in t) e[n] = t[n].getStyle();
return c["default"].createElement("surface", u({}, this.props, {
style: e
}), this.content);
};
var n = t;
return t = a("_$FlexibleTweener")(t) || t;
}(c["default"].Component);
t["default"] = b;
var v = c["default"].PropTypes.shape({
propertyName: c["default"].PropTypes.string.isRequired,
fromValue: c["default"].PropTypes.number,
toValue: c["default"].PropTypes.number.isRequired,
options: c["default"].PropTypes.object
});
b.defaultProps = {
playInOnMount: !0
}, b.propTypes = {
transitionId: c["default"].PropTypes.oneOfType([ c["default"].PropTypes.string, c["default"].PropTypes.number ]),
inTweens: c["default"].PropTypes.arrayOf(v),
outTweens: c["default"].PropTypes.arrayOf(v)
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e = e || {}, this.userId = e.userId + "", this.state = e.state || o.UserPresenceStates.Offline, 
this.firstPartyState = e.firstPartyState || o.UserPresenceStates.Offline, this.text = e.text, 
this.server = e.server, !i.contains(i.values(o.UserPresenceStates), this.state)) throw Error("Unknown presence state: " + this.state);
this.state !== o.UserPresenceStates.Joinable || this.server || (this.state = o.UserPresenceStates.Playing);
}
var o = n(67), a = n(353), i = n(4);
r.getStateString = function(e) {
return a.getTranslatedPresence(e);
}, r.prototype = {
getStateString: function s() {
return r.getStateString(this.state);
},
toString: function l() {
return this.text || this.getStateString();
}
}, e.exports = r;
}, function(e, t, n) {
(function(t) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
var a = n(109), i = o(a), s = n(321), l = r(s), u = n(108), p = n(45).Native, c = n(133).TweenBatching, f = (n(227).profiler, 
!1), d = [];
if (f) {
var h = l["default"].prototype.setState;
l["default"].prototype.setState = function(e, t, n) {
return d.push(n || "unknown"), h.call(this, e, t);
};
}
var y = u.getBuildInfo().getSurfaceProps(), g = n(4), m = function v(e, t, n) {
var r = !1, o = y;
(e.shaderUrl || e.shaderProgram || t.shaderUrl || t.shaderProgram) && (o = y.slice(), 
Object.keys(e).forEach(function(e) {
e.startsWith("shaderParam_") && o.push(e);
}), Object.keys(t).forEach(function(e) {
e.startsWith("shaderParam_") && o.push(e);
}));
var a, i, s, l, u, p, c;
for (i = 0, s = o.length; s > i; i++) if (a = o[i], l = e[a], u = t[a], p = typeof l, 
c = typeof u, p === c) switch (p) {
case "undefined":
break;

case "object":
g.isEqual(l, u) || (r = !0, n[a] = u);
break;

case "number":
case "string":
case "boolean":
l !== u && (r = !0, n[a] = u);
break;

default:
throw new Error("Unknown type " + p + " for property " + a);
} else "undefined" === c ? (r = !0, n[a] = null) : "undefined" === p ? (r = !0, 
n[a] = u) : (r = !0, n[a] = u);
return r;
}, b = 0;
e.exports = {
replaceRoot: function _(e) {
p.createRootSurface(e);
},
processChildrenUpdates: function S(e, t) {
p.updateSurfaceChildren(t, e);
},
updateSurface: function w(e, t) {
if ("string" != typeof e) throw new Error("Got non string as surfaceId: " + typeof e);
p.updateSurface(e, t);
},
replaceSurface: function T(e, t) {
if ("string" != typeof e) throw new Error("Got non string as surfaceId: " + typeof e);
p.replaceSurface(e, t);
},
diffProps: function C(e, t, n) {
return m(e, t, n);
},
beginTransaction: function E() {
f && (b = t.performance.now()), i.beginReactTransaction.trigger(), c.start();
},
endTransaction: function I() {
if (c.stop(), i.endReactTransaction.trigger(), f) {
var e = d.slice();
d.length = 0;
var n = t.performance.now() - b;
console.log("React update took " + n.toFixed(1) + " ms Reasons: " + e.join(" | "));
}
}
};
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
"use strict";
function r() {}
function o(e) {
try {
return e.then;
} catch (t) {
return m = t, b;
}
}
function a(e, t) {
try {
return e(t);
} catch (n) {
return m = n, b;
}
}
function i(e, t, n) {
try {
e(t, n);
} catch (r) {
return m = r, b;
}
}
function s(e) {
if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
if ("function" != typeof e) throw new TypeError("not a function");
this._45 = 0, this._81 = 0, this._65 = null, this._54 = null, e !== r && y(e, this);
}
function l(e, t, n) {
return new e.constructor(function(o, a) {
var i = new s(r);
i.then(o, a), u(e, new h(t, n, i));
});
}
function u(e, t) {
for (;3 === e._81; ) e = e._65;
return s._10 && s._10(e), 0 === e._81 ? 0 === e._45 ? (e._45 = 1, void (e._54 = t)) : 1 === e._45 ? (e._45 = 2, 
void (e._54 = [ e._54, t ])) : void e._54.push(t) : void p(e, t);
}
function p(e, t) {
g(function() {
var n = 1 === e._81 ? t.onFulfilled : t.onRejected;
if (null === n) return void (1 === e._81 ? c(t.promise, e._65) : f(t.promise, e._65));
var r = a(n, e._65);
r === b ? f(t.promise, m) : c(t.promise, r);
});
}
function c(e, t) {
if (t === e) return f(e, new TypeError("A promise cannot be resolved with itself."));
if (t && ("object" == typeof t || "function" == typeof t)) {
var n = o(t);
if (n === b) return f(e, m);
if (n === e.then && t instanceof s) return e._81 = 3, e._65 = t, void d(e);
if ("function" == typeof n) return void y(n.bind(t), e);
}
e._81 = 1, e._65 = t, d(e);
}
function f(e, t) {
e._81 = 2, e._65 = t, s._97 && s._97(e, t), d(e);
}
function d(e) {
if (1 === e._45 && (u(e, e._54), e._54 = null), 2 === e._45) {
for (var t = 0; t < e._54.length; t++) u(e, e._54[t]);
e._54 = null;
}
}
function h(e, t, n) {
this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, 
this.promise = n;
}
function y(e, t) {
var n = !1, r = i(e, function(e) {
n || (n = !0, c(t, e));
}, function(e) {
n || (n = !0, f(t, e));
});
n || r !== b || (n = !0, f(t, m));
}
var g = n(487), m = null, b = {};
e.exports = s, s._10 = null, s._97 = null, s._61 = r, s.prototype.then = function(e, t) {
if (this.constructor !== s) return l(this, e, t);
var n = new s(r);
return u(this, new h(e, t, n)), n;
};
}, function(e, t, n) {
"use strict";
function r(e, t) {
return (e & t) === t;
}
var o = n(29), a = {
MUST_USE_ATTRIBUTE: 1,
MUST_USE_PROPERTY: 2,
HAS_SIDE_EFFECTS: 4,
HAS_BOOLEAN_VALUE: 8,
HAS_NUMERIC_VALUE: 16,
HAS_POSITIVE_NUMERIC_VALUE: 48,
HAS_OVERLOADED_BOOLEAN_VALUE: 64,
injectDOMPropertyConfig: function(e) {
var t = a, n = e.Properties || {}, i = e.DOMAttributeNamespaces || {}, l = e.DOMAttributeNames || {}, u = e.DOMPropertyNames || {}, p = e.DOMMutationMethods || {};
e.isCustomAttribute && s._isCustomAttributeFunctions.push(e.isCustomAttribute);
for (var c in n) {
s.properties.hasOwnProperty(c) ? o(!1) : void 0;
var f = c.toLowerCase(), d = n[c], h = {
attributeName: f,
attributeNamespace: null,
propertyName: c,
mutationMethod: null,
mustUseAttribute: r(d, t.MUST_USE_ATTRIBUTE),
mustUseProperty: r(d, t.MUST_USE_PROPERTY),
hasSideEffects: r(d, t.HAS_SIDE_EFFECTS),
hasBooleanValue: r(d, t.HAS_BOOLEAN_VALUE),
hasNumericValue: r(d, t.HAS_NUMERIC_VALUE),
hasPositiveNumericValue: r(d, t.HAS_POSITIVE_NUMERIC_VALUE),
hasOverloadedBooleanValue: r(d, t.HAS_OVERLOADED_BOOLEAN_VALUE)
};
if (h.mustUseAttribute && h.mustUseProperty ? o(!1) : void 0, !h.mustUseProperty && h.hasSideEffects ? o(!1) : void 0, 
h.hasBooleanValue + h.hasNumericValue + h.hasOverloadedBooleanValue <= 1 ? void 0 : o(!1), 
l.hasOwnProperty(c)) {
var y = l[c];
h.attributeName = y;
}
i.hasOwnProperty(c) && (h.attributeNamespace = i[c]), u.hasOwnProperty(c) && (h.propertyName = u[c]), 
p.hasOwnProperty(c) && (h.mutationMethod = p[c]), s.properties[c] = h;
}
}
}, i = {}, s = {
ID_ATTRIBUTE_NAME: "data-reactid",
properties: {},
getPossibleStandardName: null,
_isCustomAttributeFunctions: [],
isCustomAttribute: function(e) {
for (var t = 0; t < s._isCustomAttributeFunctions.length; t++) {
var n = s._isCustomAttributeFunctions[t];
if (n(e)) return !0;
}
return !1;
},
getDefaultValueForProperty: function(e, t) {
var n, r = i[e];
return r || (i[e] = r = {}), t in r || (n = document.createElement(e), r[t] = n[t]), 
r[t];
},
injection: a
};
e.exports = s;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = function() {
function e(e, t) {
this.selectionState = e, this.index = t;
}
return Object.defineProperty(e.prototype, "active", {
get: function() {
return this.selectionState.index === this.index;
},
enumerable: !0,
configurable: !0
}), r([ o.computed ], e.prototype, "active", null), e;
}();
t.CareerItemSelectionState = a;
var i = function() {
function e() {
this.index = -1, this.itemStates = {};
}
return e.prototype.setActiveItem = function(e, t, n) {
this.item = e, this.index = t, this.category = n;
}, e.prototype.getItemState = function(e) {
return this.itemStates[e] || (this.itemStates[e] = new a(this, e)), this.itemStates[e];
}, r([ o.observable ], e.prototype, "item", void 0), r([ o.observable ], e.prototype, "category", void 0), 
r([ o.observable ], e.prototype, "index", void 0), r([ o.action ], e.prototype, "setActiveItem", null), 
e;
}();
t.CareerSelectionState = i;
}, function(e, t, n) {
"use strict";
var r = {
eu: {
PC: [],
XBOXONE: [],
PS4: []
},
jp: {
PC: [],
XBOXONE: [],
PS4: []
},
na: {
PC: [],
XBOXONE: [],
PS4: []
},
ru: {
PC: [],
XBOXONE: [],
PS4: []
}
}, o = function() {
function e(e) {
void 0 === e && (e = {}), this.crossLaunchIds = Object, this.releaseDate = new Date(), 
this.isEnabled = !0, this.consolePartyBar = !0, this.rspConfig = {
isEnabled: function() {
return !1;
}
}, this.joinConfig = {}, this.styles = {
rankBadge: {},
alignBadgeInfo: "none"
}, this.locales = r, this.supportedRoles = [ "soldier" ], this.supportedServerTypes = [ "OFFICIAL", "RANKED", "UNRANKED", "PRIVATE" ], 
this.hasParticleEffects = !1, this.showUnlockBar = !0, this.shouldDisplayMedalProgression = !1, 
this.showCategorizationForVehicles = !1, this.hasSpectatorFeatureFlag = !1;
for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
}
return Object.defineProperty(e.prototype, "recentServersRoute", {
get: function() {
return this.serverListRoute + "?tab=recent";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "subscriberAccessFeatureFlagName", {
get: function() {
return this.gameId + "_Access_" + SpartaGlobals.bundlePlatform.toLowerCase();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "subscriberAccessPdpFeatureFlagName", {
get: function() {
return this.gameId + "_AccessPDP_" + SpartaGlobals.bundlePlatform.toLowerCase();
},
enumerable: !0,
configurable: !0
}), e;
}();
t.Game = o;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(8), a = (o.observer, n(10));
n(18), n(13), n(264);
!function(e) {
e[e.IDLE = 0] = "IDLE", e[e.ENTERING = 1] = "ENTERING", e[e.ACTIVE = 2] = "ACTIVE", 
e[e.LEAVING = 3] = "LEAVING";
}(t.EnterLeaveStates || (t.EnterLeaveStates = {}));
var i = t.EnterLeaveStates, s = 0, l = function() {
function e() {
this.currentState = i.IDLE, this.previousState = i.IDLE, this.stateTimer = 0, this.stateTimeout = 500, 
this.lastChangeId = 0;
}
return e.prototype.changeState = function(e) {
var t = this;
this.lastChangeId = s++, this.previousState = this.currentState, this.currentState = e, 
e === i.IDLE && this.setContent(null), clearTimeout(this.stateTimer), e === i.LEAVING && (this.stateTimer = setTimeout(a.action("state timer leaving", function() {
t.currentState === i.LEAVING && t.changeState(i.IDLE);
}), this.stateTimeout)), e === i.ENTERING && (this.stateTimer = setTimeout(a.action("state timer entering", function() {
t.currentState === i.ENTERING && t.changeState(i.ACTIVE);
}), this.stateTimeout));
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
return this.currentState === i.ACTIVE || this.currentState === i.ENTERING;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isVisible", {
get: function() {
return this.currentState === i.ACTIVE || this.currentState === i.ENTERING || this.currentState === i.LEAVING;
},
enumerable: !0,
configurable: !0
}), r([ a.observable ], e.prototype, "currentState", void 0), r([ a.observable ], e.prototype, "previousState", void 0), 
r([ a.action ], e.prototype, "changeState", null), r([ a.computed ], e.prototype, "isActive", null), 
r([ a.computed ], e.prototype, "isVisible", null), e;
}();
t.ItemState = l;
var u = function() {
function e(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.states = i, this.previous = null, this.items = t, this.switchToItem(e);
}
return Object.defineProperty(e.prototype, "current", {
get: function() {
for (var e = null, t = 0; t < this.items.length; t++) {
var n = this.items[t];
if (n.isActive) {
if (e) throw console.error(this.items), new Error("Cannot have more than one active item!");
e = n;
}
}
return e;
},
enumerable: !0,
configurable: !0
}), e.prototype.allocateItem = function(e) {
for (var t = null, n = [], r = 0; r < this.items.length; r++) {
var o = this.items[r];
if (!o.isActive) {
if (o.contentEquals(e)) return o;
o.currentState === i.IDLE && (t = o), o.currentState === i.LEAVING && n.push(o);
}
}
if (!t) {
if (n.length > 0) return n.sort(function(e, t) {
return e.lastChangeId - t.lastChangeId;
}), n[0];
throw console.error("Cannot allocate an item, they are all busy (" + this.items.length + ")"), 
new Error("Cannot allocate an item, they are all busy (" + this.items.length + ")");
}
return t;
}, e.prototype.switchToItem = function(e) {
if (this.current && this.current.contentEquals(e)) return void this.current.setContent(e);
var t = this.current, n = this.allocateItem(e);
this.previous = t, n.changeState(i.ENTERING), n.setContent(e), t && t.changeState(i.LEAVING);
}, r([ a.observable ], e.prototype, "previous", void 0), r([ a.computed ], e.prototype, "current", null), 
r([ a.action ], e.prototype, "switchToItem", null), e;
}();
t.EnterLeaveState = u;
}, function(e, t, n) {
(function(e) {
"use strict";
var r = n(1), o = n(2), a = n(63), i = n(199), s = n(197), l = n(9), u = n(13), p = n(166), c = n(114).comCenterTranslateY, f = n(8).observer, d = e.get("TunguskaCloudTransition"), h = l.bbOfflineUrl("/sparta/assets/tunguska/animations/background_transition_clouds-fedb40b8.png"), y = {
w: 1e3,
h: 540
}, g = l.bbOfflineUrl("/sparta/assets/tunguska/UI_Globe_WarStories_EpisodeBack_Whoosh-f6614d1a.wav"), m = l.bbOfflineUrl("/sparta/assets/tunguska/Sparta_Whoosh_Up-1eac9f4c.wav"), b = l.bbOfflineUrl("/sparta/assets/tunguska/Sparta_Whoosh_Down-ebbd3dac.wav");
!function(e) {
e[e.earth = 0] = "earth", e[e.clouds = 1] = "clouds", e[e.space = 2] = "space";
}(t.CloudTransitionState || (t.CloudTransitionState = {}));
var v = t.CloudTransitionState;
!function(e) {
e[e.down = 0] = "down", e[e.up = 1] = "up", e[e.planet = 2] = "planet";
}(t.CloudTransitionSound || (t.CloudTransitionSound = {}));
var _ = t.CloudTransitionSound, S = f(function(e) {
var t = Math.round(e.scale * y.w * a.uiState.viewportScale.scaleX), n = Math.round(e.scale * y.h * a.uiState.viewportScale.scaleY), o = -(t - a.uiState.window.width) / 2, i = {
width: t,
height: n,
left: o,
top: -n,
position: "absolute",
texture: h,
opacity: 1,
zOffset: 1e6,
enableMouseEvents: !1,
translateY: e.yTween.getStyle()
};
return r.createElement("surface", {
style: i
});
}), w = f(function(e) {
var t = {
width: a.uiState.window.width,
height: a.uiState.window.height,
left: 0,
top: 0,
position: "absolute",
backgroundColor: "#ffffff",
opacity: e.opacityTween.getStyle(),
zOffset: 1e6,
enableMouseEvents: !1
};
return r.createElement("surface", {
style: t
});
}), T = f(function(e) {
var t = 6 * a.uiState.window.height, n = {
width: a.uiState.window.width,
height: t,
top: -t,
left: 0,
zOffset: -2e3,
position: "absolute",
backgroundColor: s.backgroundContainer.getSkyColor() || "#657790",
enableMouseEvents: !1,
opacity: e.opacityTween.getStyle()
};
return r.createElement("surface", {
style: n
});
}), C = 1;
t.gameViewTweenY = u.tween("41adda09:94", 0), t.gameBackgroundTweenY = u.tween("41adda09:95", 0);
var E = function() {}, I = function() {
function e() {
this.debug = !1, this.resizeListener = null, this.whiteFadeOpacityTween = u.tween("41adda09:105", 0), 
this.skyOpacityTween = u.tween("41adda09:106", 1), this.id = C++, this.yTweenCloud1 = u.tween("41adda09:112", 0), 
this.yTweenCloud2 = u.tween("41adda09:113", 0), this.planetTransitionSound = o.Sound.load(g), 
this.cloudTransitionSoundUp = o.Sound.load(m), this.cloudTransitionSoundDown = o.Sound.load(b), 
this._state = v.earth, this._destination = v.earth, this.currentTransitionTimeouts = [], 
this.sky = r.createElement(T, {
key: "sky" + this.id,
opacityTween: this.skyOpacityTween
}), this.whiteFade = r.createElement(w, {
key: "whitefade" + this.id,
opacityTween: this.whiteFadeOpacityTween
}), this.cloud1 = r.createElement(S, {
key: "cloud1" + this.id,
scale: 7,
yTween: this.yTweenCloud1
}), this.cloud2 = r.createElement(S, {
key: "cloud2" + this.id,
scale: 4,
yTween: this.yTweenCloud2
});
}
return e.prototype.log = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.debug && d.log.apply(d, [ e ].concat(t));
}, Object.defineProperty(e.prototype, "state", {
get: function() {
return this._state;
},
enumerable: !0,
configurable: !0
}), e.prototype.flyToSpace = function(e) {
var t = this;
return void 0 === e && (e = E), this.log("flyToSpace - currentState: " + this._state + ", currentDestination: " + this._destination + ", newDestination: " + v.space), 
this._destination === v.space ? (this.log("Transition ignored."), void d.warn("Calling flyToSpace while already in/going to space")) : (this.resizeListener || (this.resizeListener = this.onResize()), 
this.stopTransition(), this._destination = v.space, this.playSound(_.planet), void this.moveFromEarthToClouds(function() {
i.globeState.show(), t.zoomFromCloudsToSpace(1500, e);
}));
}, e.prototype.landOnEarth = function(e, t) {
var n = this;
return void 0 === e && (e = E), void 0 === t && (t = _.down), this.log("landOnEarth - currentState: " + this._state + ", currentDestination: " + this._destination + ", newDestination: " + v.earth), 
this._destination === v.earth ? (this.log("Transition ignored."), void d.warn("Calling landOnEarth while already on/going to earth")) : (this.stopTransition(), 
void (this._state === v.space || this._destination === v.space ? (this._destination = v.earth, 
this.playSound(_.planet), this.zoomFromSpaceToClouds(1e3, function() {
n.moveFromCloudsToEarth(e);
})) : (this._state === v.clouds || this._destination === v.clouds) && (this._destination = v.earth, 
this.playSound(t), this.moveFromCloudsToEarth(e))));
}, e.prototype.flyToClouds = function(e, t) {
return void 0 === e && (e = E), void 0 === t && (t = _.up), this.log("flyToClouds - currentState: " + this._state + ", currentDestination: " + this._destination + ", newDestination: " + v.clouds), 
this._destination === v.clouds ? (this.log("Transition ignored."), void d.warn("Calling flyToClouds while already in/going to clouds")) : (this.resizeListener || (this.resizeListener = this.onResize()), 
this.stopTransition(), this._destination = v.clouds, this.playSound(t), void this.moveFromEarthToClouds(function() {
e();
}));
}, e.prototype.setToEarth = function(e) {
void 0 === e && (e = {
changeGlobe: !0
}), this.log("SET EARTH"), this.stopTransition(), this._state = v.earth, this._destination = v.earth, 
t.gameViewTweenY.set(0), t.gameBackgroundTweenY.set(0), c.set(0), a.uiState.layout.reactComponent.tweenTranslateY.set(0), 
this.skyOpacityTween.set(0), this.yTweenCloud1.set(0), this.yTweenCloud2.set(0), 
this.whiteFadeOpacityTween.set(0), e.changeGlobe && (i.globeState.hide(), i.globeState.setOffViewport());
}, e.prototype.setToSpace = function(e) {
void 0 === e && (e = v.space), this.log("SET TO SPACE", e), this.stopTransition(), 
this._state = e, this._destination = e, a.uiState.layout.reactComponent.tweenTranslateY.autorun(function(e) {
return e.set(6 * a.uiState.window.height);
}), t.gameViewTweenY.autorun(function(e) {
return e.set(-6 * a.uiState.window.height * (1 / a.uiState.viewportScale.scaleY));
}), t.gameBackgroundTweenY.autorun(function(e) {
return e.set(-6 * a.uiState.window.height);
}), c.autorun(function(e) {
return e.set(-6 * a.uiState.window.height * (1 / a.uiState.viewportScale.scaleY));
}), this.skyOpacityTween.set(0), this.yTweenCloud1.set(-200), this.yTweenCloud2.set(800), 
i.globeState.show(), i.globeState.setOnClouds();
}, e.prototype.fadeOutFromWhite = function(e, t) {
void 0 === t && (t = E), this.whiteFadeOpacityTween.to(0, {
duration: e
}), this.currentTransitionTimeouts.push(setTimeout(function() {
return t();
}, e));
}, e.prototype.stopTransition = function() {
this.currentTransitionTimeouts.forEach(function(e) {
clearTimeout(e);
}), this.currentTransitionTimeouts = [];
}, e.prototype.moveFromEarthToClouds = function(e) {
var n = this;
this.log("EARTH ---> CLOUDS"), i.globeState.setOnClouds();
var r = 1e3, l = 300, u = 1e3;
p.blockInputFor(r + l);
var f = 6 * -a.uiState.window.height * (1 / a.uiState.viewportScale.scaleY), d = 6 * -a.uiState.window.height;
a.uiState.layout.extra.addElements([ this.whiteFade ]), s.backgroundContainer.extra.addElements([ this.sky, this.cloud1, this.cloud2 ]), 
this.skyOpacityTween.set(1), this.currentTransitionTimeouts.push(setTimeout(function() {
o.TweenBatching.start(), a.uiState.layout.reactComponent.tweenTranslateY.to(6 * a.uiState.window.height, {
duration: u,
easing: "CubicIn"
}), t.gameViewTweenY.to(f, {
duration: u,
easing: "CubicIn"
}), t.gameBackgroundTweenY.set(d), c.to(f, {
duration: u,
easing: "CubicIn"
}), o.TweenBatching.stop(), n.yTweenCloud1.to(-200, {
duration: u,
easing: "CubicIn"
});
}, 300)), this.yTweenCloud2.to(800, {
duration: u,
easing: "CubicIn"
}), this.currentTransitionTimeouts.push(setTimeout(function() {
n.fadeToWhite(300, function() {
n.skyOpacityTween.set(0), n.yTweenCloud2.set(600), n._state = v.clouds, e();
});
}, r));
}, e.prototype.moveFromCloudsToEarth = function(e) {
var n = this;
this.log("CLOUDS ---> EARTH");
var r = 300, l = 1e3;
p.blockInputFor(r + l), a.uiState.layout.extra.addElements([ this.whiteFade ]), 
s.backgroundContainer.extra.addElements([ this.sky, this.cloud1, this.cloud2 ]), 
this.fadeToWhite(r, function() {
i.globeState.hide(), n.fadeOutFromWhite(r), n.skyOpacityTween.set(1), n.yTweenCloud1.to(0, {
duration: l,
easing: "CubicOut"
}), n.currentTransitionTimeouts.push(setTimeout(function() {
n.yTweenCloud2.to(0, {
duration: l,
easing: "CubicOut"
});
}, 600)), o.TweenBatching.start(), a.uiState.layout.reactComponent.tweenTranslateY.to(0, {
duration: l,
easing: "CubicOut"
}), t.gameViewTweenY.to(0, {
duration: l,
easing: "CubicOut"
}), t.gameBackgroundTweenY.set(0), c.to(0, {
duration: l,
easing: "CubicOut"
}), o.TweenBatching.stop(), n.currentTransitionTimeouts.push(setTimeout(function() {
n._state = v.earth, n.skyOpacityTween.set(0), i.globeState.setOffViewport(), n.currentTransitionTimeouts.push(setTimeout(function() {
o.focus.system.focusedItem || o.focus.system.recalculate();
}, 100));
}, l)), e();
});
}, e.prototype.zoomFromCloudsToSpace = function(e, t) {
var n = this;
return this._state !== v.clouds ? void t() : (this.log("CLOUDS ---> SPACE"), p.blockInputFor(e), 
i.globeState.moveToSpace({
duration: e,
easing: "CubicOut"
}), this.fadeOutFromWhite(400), void this.currentTransitionTimeouts.push(setTimeout(function() {
n._state = v.space, t();
}, e)));
}, e.prototype.zoomFromSpaceToClouds = function(e, t) {
var n = this;
return this._state !== v.space ? void t() : (this.log("SPACE ---> CLOUDS"), p.blockInputFor(e), 
i.globeState.moveToClouds({
duration: e,
easing: "CubicIn"
}), this.currentTransitionTimeouts.push(setTimeout(function() {
n.fadeToWhite(200);
}, e - 200)), void this.currentTransitionTimeouts.push(setTimeout(function() {
n._state = v.clouds, t();
}, e)));
}, e.prototype.fadeToWhite = function(e, t) {
void 0 === t && (t = E), this.whiteFadeOpacityTween.to(1, {
duration: e
}), this.currentTransitionTimeouts.push(setTimeout(function() {
return t();
}, e));
}, e.prototype.playSound = function(e) {
switch (e) {
case _.down:
this.cloudTransitionSoundDown.setVolume(.6), this.cloudTransitionSoundDown.play();
break;

case _.up:
this.cloudTransitionSoundUp.setVolume(.6), this.cloudTransitionSoundUp.play();
break;

case _.planet:
this.planetTransitionSound.setVolume(.5), this.planetTransitionSound.play();
}
}, e.prototype.onResize = function() {
switch (this.log("onResize", this._state), this._state) {
case v.clouds:
case v.space:}
}, e;
}();
t.cloudTransition = new I();
}).call(t, n(132));
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = function() {
function e(e, t) {
this.total = e, this.completed = t;
}
return e;
}();
t.CodexCategoryProgression = a;
var i = function() {
function e(e, t, n) {
this.name = e, this.items = t, this.progression = n;
}
return e;
}();
t.CodexCategoryGroup = i;
var s = function() {
function e(e, t, n, r, a, i, s, l, u, p, c) {
var f = this;
void 0 === l && (l = !1), void 0 === u && (u = !1), this.category = e, this.code = t, 
this.criteria = n, this.details = r, this.displayName = a, this.id = i, this.imageUrl = s, 
this.isGolden = u, this.voiceOver = c, this.isCollected = !1, this.category = e, 
this.code = t, this.criteria = n, this.details = r, this.displayName = a, this.id = i, 
this.imageUrl = s, o.action("entry init", function() {
f.isCollected = l, f.progression = p;
})(), this.isGolden = u, this.voiceOver = c;
}
return r([ o.observable ], e.prototype, "isCollected", void 0), r([ o.observable ], e.prototype, "progression", void 0), 
e;
}();
t.CodexEntry = s;
var l = function() {
function e(e, t, n, r) {
var a = this;
this.description = "", this.unlocked = !1, this.valueAcquired = 0, this.valueNeeded = 0, 
o.action("entry progression init", function() {
a.description = e, a.unlocked = t, a.valueAcquired = n, a.valueNeeded = r;
})();
}
return r([ o.observable ], e.prototype, "description", void 0), r([ o.observable ], e.prototype, "unlocked", void 0), 
r([ o.observable ], e.prototype, "valueAcquired", void 0), r([ o.observable ], e.prototype, "valueNeeded", void 0), 
e;
}();
t.CodexEntryProgression = l;
var u = function() {
function e(e, t, n, r, o) {
void 0 === r && (r = null), void 0 === o && (o = null), this.description = e, this.header = t, 
this.images = n, this.subHeader = r, this.text2 = o;
}
return e;
}();
t.CodexEntryDetails = u;
var p = function() {
function e(e, t, n) {
this.code = e, this.name = t, this.progression = n;
}
return e;
}();
t.CodexEntryCriteria = p;
var c = function() {
function e(e, t, n) {
var r = this;
this.unlocked = !1, this.valueAcquired = 0, this.valueNeeded = 0, o.action("entry criteria progression init", function() {
r.unlocked = e, r.valueAcquired = t, r.valueNeeded = n;
})();
}
return r([ o.observable ], e.prototype, "unlocked", void 0), r([ o.observable ], e.prototype, "valueAcquired", void 0), 
r([ o.observable ], e.prototype, "valueNeeded", void 0), e;
}();
t.CodexEntryCriteriaProgression = c;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(2), s = n(8), l = n(10), u = n(141), p = n(60), c = n(7), f = n(6), d = n(40).LINE_HEIGHTS, h = n(218).CARD_WIDTH, y = n(302), g = n(103), m = n(14), b = n(12), v = n(20), _ = n(663), S = n(32), w = S.isRTLLanguage, T = S.localeRearrange, C = 3, E = 57, I = 13, P = {
heading: {
position: "absolute",
bottom: 0,
left: 0,
zOffset: 51
},
headingColor: {
opacity: .66
},
type: {
opacity: .8,
textAlignForRTL: "left"
},
custom: {
color: [ 255, 153, 0, 255 ]
},
text: {
textLineSpacing: d.S
},
textRTL: {
textAlignForRTL: "left"
},
avatarContainer: {
flexDirection: "row",
flexWrap: "wrap",
marginTop: 10,
zOffset: 51,
marginBottom: f.GUTTER
},
avatar: {
backgroundColor: [ 0, 0, 0, 124 ],
marginRight: f.GUTTER / 2
},
infoZone: {
height: f.getHeight(I),
zOffset: 51
},
joinButton: {
marginTop: 1.5 * f.GUTTER,
marginBottom: 1.5 * f.GUTTER,
flexDirection: "row",
textAlign: "center",
textAlignForRTL: "center"
},
hrLine: {
height: 1,
flexDirection: "row",
backgroundColor: "#0000001a"
},
contextMenu: {
zOffset: 52,
width: 21
},
bottomRowContainer: function(e) {
return {
alignItems: "center",
justifyContent: "space-between",
flexDirection: "row"
};
}
};
P.secondaryText = Object.assign({}, P.text, {
opacity: .65
});
var O = function(t) {
function n(e) {
t.call(this, e), this.isContextMenuOpen = !1, this.focusItem = e.focusItem || i.focus.create(this, i.autoId("playCard"));
}
return e(n, t), Object.defineProperty(n.prototype, "isActive", {
get: function() {
return this.focusItem.isFocused || this.focusItem.isHovered || this.isContextMenuOpen;
},
enumerable: !0,
configurable: !0
}), n.prototype.getInput = function() {
var e = this;
return this.isContextMenuOpen ? new m({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: b.Decline,
action: function() {
return e.contextMenu.close();
}
}) : void 0;
}, n.prototype.componentDidUpdateBounds = function() {
this.previousBounds && this.previousBounds.height === this.bounds.height || (this.previousBounds = this.bounds, 
this.forceUpdate());
}, n.prototype.renderInfoZone = function(e) {
var t = w() ? p.Direction.Left : p.Direction.Right, n = w() ? {
textLineSpacing: d.S + f.GUTTER / 2
} : {}, r = this.props.modes ? a.createElement(p.Marquee, {
scroll: e,
scrollTo: t,
style: {
flex: 1
}
}, a.createElement(c, {
value: this.props.modes,
style: [ P.text, n ],
type: "emphasis",
size: "S"
})) : void 0, o = this.props.maps ? a.createElement(c, {
value: this.props.maps,
style: [ P.text, P.textRTL ],
type: "emphasis",
size: "S"
}) : void 0;
return a.createElement("surface", null, r, o);
}, n.prototype.renderFriendNames = function(e, t) {
if (1 === e.length && 0 === t.length) return e[0].displayName;
var n = e.map(function(e) {
return e.displayName;
});
return t.length ? __("ID_SPARTA_GENERIC_X_AND_Y_MORE").replace("[[x]]", n.join(", ")).replace("[[y]]", t.length + "") : __("ID_SPARTA_GENERIC_X_AND_Y").replace("[[x]]", n.slice(0, n.length - 1).join(", ")).replace("[[y]]", n[n.length - 1]);
}, n.prototype.renderFriendAvatars = function(e) {
var t = e.map(function(e, t) {
return a.createElement(g, {
user: e,
key: t,
size: E,
style: P.avatar
});
});
return a.createElement("surface", {
style: P.avatarContainer
}, t);
}, n.prototype.renderHeading = function() {
var e, t = this.props.heading.toUpperCase();
if (this.props.friends.length > 0) {
var n = this.props.friends.slice(0, C), r = this.props.friends.slice(C);
t += " - " + this.renderFriendNames(n, r), e = this.renderFriendAvatars(n);
}
var o = this.props.custom && a.createElement(c, {
value: __("ID_SPARTA_SERVER_TYPE_CUSTOM_GAME"),
size: "XS",
style: [ P.custom, P.textRTL ]
}), i = Object.assign({}, P.type, this.props.headingColor ? {
color: this.props.headingColor
} : P.headingColor), s = t ? a.createElement(c, {
value: t,
type: "emphasis",
size: "XS",
style: i
}) : void 0;
return a.createElement("surface", {
style: P.heading
}, e, o, s);
}, n.prototype.renderBottom = function() {
var e = this, t = this.props.contextMenu ? a.createElement(y, {
key: "contextMenuButton",
ref: function(t) {
return e.contextMenu = t;
},
dark: this.isActive,
position: {
x: this.bounds.x,
y: this.bounds.y + this.bounds.height
},
options: this.props.contextMenu.options,
style: P.contextMenu,
onOpen: l.action(function() {
return e.isContextMenuOpen = !0;
}),
onClose: l.action(function() {
return e.isContextMenuOpen = !1;
}),
menuWidth: f.getWidth(h.cells[this.props.size])
}) : void 0, n = this.props.counterId ? a.createElement(_, {
key: "serverCount",
style: Object.assign({}, P.secondaryText, {
zOffset: 1
}),
gameId: this.props.game,
size: "XS",
counterId: this.props.counterId
}) : void 0, r = this.props.playersInfo ? a.createElement(c, {
key: "playersInfo",
value: this.props.playersInfo,
style: [ P.text, P.textRTL ],
size: "S"
}) : void 0, o = this.props.filters && a.createElement(c, {
size: "XS",
value: this.props.filters,
style: P.secondaryText
});
return a.createElement("surface", null, this.renderInfoZone(this.isActive), o, a.createElement("surface", {
style: P.bottomRowContainer(this.isActive, this.bottomRowHeight)
}, T([ r, n, t ])));
}, n.prototype.renderFold = function() {
return this.props.joinButtonName && a.createElement("surface", null, a.createElement("surface", {
style: P.hrLine
}), a.createElement(c, {
value: this.props.joinButtonName,
style: P.joinButton,
type: "emphasis",
size: "S"
}));
}, n.prototype.render = function() {
return a.createElement(u.Card, r({}, this.props, {
forcedActive: this.isContextMenuOpen,
focusItem: this.focusItem,
bottom: this.renderBottom(),
fold: this.renderFold()
}), this.renderHeading());
}, n.defaultProps = {
size: "M",
friends: [],
custom: !1
}, o([ l.observable ], n.prototype, "isContextMenuOpen", void 0), o([ l.observable ], n.prototype, "bottomRowHeight", void 0), 
o([ l.computed ], n.prototype, "isActive", null), n = o([ i.hasSurfaceBounds(), s.observer, v() ], n);
}(a.Component);
t.PlayCard = O;
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(7), i = n(40).LINE_HEIGHTS, s = {
height: 1,
backgroundColor: "#ffffff",
position: "absolute",
left: 0,
right: 0
}, l = function(e) {
function t() {
e.apply(this, arguments);
}
return r(t, e), t.prototype.render = function() {
var e = Object.assign({}, s, {
top: i[this.props.size] / 2
});
return this.props.color && (e.backgroundColor = this.props.color), o.createElement("surface", {
style: {
position: "relative"
}
}, o.createElement("surface", {
style: e
}), o.createElement(a, {
value: this.props.value,
size: this.props.size,
color: this.props.color
}));
}, t;
}(o.Component);
t.Strikethrough = l;
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return x(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function s(e, t) {
if (!e) return {};
var n = 0, r = 0;
t ? e.items.forEach(function(e) {
n += l(e), r += e.items.length;
}) : (n = l(e), r = e.items.length);
var o = n === r;
return {
allUnlocked: o,
numTotal: r,
numUnlocked: n
};
}
function l(e) {
return e.items.filter(function(e) {
return e.progression ? e.progression.unlocked : !1;
}).length;
}
var u = n(3), p = i(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = i(d), y = n(8), g = n(4), m = i(g), b = n(6), v = i(b), _ = n(62), S = i(_), w = n(31), T = n(18), C = i(T), E = n(23), I = i(E), P = n(7), O = i(P), A = n(11), k = n(2), R = {
_$CompletedText: {
displayName: "CompletedText"
},
_$CareerSectionProgression: {
displayName: "CareerSectionProgression"
},
_$CareerSection: {
displayName: "CareerSection"
}
}, x = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/CareerSection.jsx",
components: R,
locals: [],
imports: []
}), M = [ C["default"].fadeAreaTop.height + v["default"].getHeight(2), C["default"].dangerZoneSize.width, SpartaGlobals.bundleIsPC ? C["default"].dangerZoneSize.height : C["default"].fadeAreaBottom.height, SpartaGlobals.bundleIsPC ? C["default"].content.left - C["default"].mainMenu.width - 1 : 0 ], N = [ -50, C["default"].fadeAreaTop.height, -50, SpartaGlobals.bundleIsPC ? C["default"].dangerZoneSize.height : C["default"].fadeAreaBottom.height ], $ = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = A.gameStore.getGame(this.props.gameId), t = e && !this.props.isFocused && this.props.isCompleted && !this.props.muted, n = t ? e.styles.completedText : void 0, r = this.props.muted ? .5 : 1, o = f({}, this.props.style, n, {
opacity: r
});
return h["default"].createElement(O["default"], f({}, this.props, {
style: o
}));
};
var n = t;
return t = a("_$CompletedText")(t) || t, t = y.observer(t) || t;
}(h["default"].Component);
t.CompletedText = $, $.propTypes = {
gameId: h["default"].PropTypes.string.isRequired
};
var D = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.render = function s() {
if (!this.props.category) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var t = this.props.categoryUnlockStatus, n = this.props.fontColor ? this.props.fontColor : "#ffffff";
return this.props.focused && (n = "#000000"), {
$$typeof: c,
type: $,
key: null,
ref: null,
props: e($.defaultProps, {
style: {
zOffset: 10
},
gameId: this.props.gameId,
size: "S",
isFocused: this.props.focused,
color: n,
muted: this.props.muted,
isCompleted: t.numUnlocked === t.numTotal,
value: t.numUnlocked + "/" + t.numTotal
}),
_owner: null
};
};
var i = n;
return n = a("_$CareerSectionProgression")(n) || n;
}(h["default"].Component), U = function(t) {
function n(e) {
var n = this;
r(this, i), t.call(this, e), this.scrollToSelectedItem = function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? 10 : arguments[0], t = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1], r = n.refs["item" + n.props.selectionState.index];
r && r.bounds && void 0 !== r.bounds.localY ? t ? r.focusItem.setFocused() : n.refs.itemScroller.scrollToElement(r) : e > 0 && setTimeout(function() {
return n.scrollToSelectedItem(e - 1, t);
}, 250);
}, this.state = {
page: 1,
activeCategory: this.props.categorizedData[0] || null
};
}
o(n, t), n.prototype.componentDidMount = function l() {
this.preSelect(this.props);
}, n.prototype.componentWillReceiveProps = function u(e) {
!this.state.activeCategory && e.categorizedData.length && this.preSelect(e);
}, n.prototype.onItemFocus = function p(e, t, n) {
this.props.selectionState.setActiveItem(e, t), this.refs.focusPaneScroller && this.refs.focusPaneScroller.scrollTo(0, 0);
}, n.prototype.onItemSelect = function d() {
if (k.focus.system.controllerMode && this.refs.focuspane && this.props.allowSelect) {
var e = this.refs.focuspane.focusAncestor.getChildren();
e.length && e[0].setFocused(k.focus.FocusSource.Spatial);
}
SpartaGlobals.bundleIsPC && this.refs.focusPaneScroller && this.refs.focusPaneScroller.scrollTo(0, 0);
}, n.prototype.compareCategories = function g(e, t) {
if (void 0 !== e.sortOrder || void 0 !== t.sortOrder) {
var n = void 0 !== e.sortOrder ? e.sortOrder : Number.MAX_VALUE, r = void 0 !== t.sortOrder ? t.sortOrder : Number.MAX_VALUE;
if (n !== r) return r > n ? -1 : 1;
}
if (this.props.sortCategoriesByLabel) {
var o = String(e.label).toLowerCase(), a = String(t.label).toLowerCase();
return o.localeCompare(a);
}
return e;
}, n.prototype.preSelect = function b(e) {
var t, n = e.categorizedData, r = void 0 === n ? [] : n, o = e.preSelectedCategory, a = r.slice().sort(this.compareCategories.bind(this));
if (r.length) {
var i = m["default"].find(a, function(e) {
return e.items.length > 0;
}), s = o && m["default"].find(r, function(e) {
return e.name && e.name.toLowerCase() === o.toLowerCase();
});
t = s || i;
}
var l, u;
if (this.props.preSelectedId) {
var p = this.findItemInfo(r, this.props.preSelectedId);
p && (t = p.category, l = p.item, u = p.index);
}
this.props.ensureItemFocus && t && !l && (l = this.props.hasCategories ? t.items[0].items[0] : t.items[0], 
u = 0), t && this.setActiveCategory(t);
var c = a.indexOf(t);
if (SpartaGlobals.bundleIsConsole && c >= 0 && this.props.showCategorization, !this.props.onlyPreselectCategory && l) {
var f = SpartaGlobals.bundleIsConsole && void 0 !== this.props.preSelectedId;
this.onItemFocus(l, u), this.scrollToSelectedItem(void 0, f);
}
}, n.prototype.findItemInfo = function _(e, t) {
var n, r, o, a, i, s = function p(e, n, r) {
var o = !1;
if (n.packages) {
var a = m["default"].find(n.packages, function(e) {
return e === t;
});
a && (o = !0);
} else n.code === t ? o = !0 : n.name === t && (o = !0);
return o ? !0 : void 0;
};
if (this.props.hasCategories) for (n = 0; n < e.length; n++) {
a = e[n];
var l = -1;
for (r = 0; r < a.items.length; r++) {
var u = a.items[r];
for (o = 0; o < u.items.length; o++) if (i = u.items[o], s(a, i, ++l)) return {
category: a,
item: i,
index: l
};
}
} else for (n = 0; n < e.length; n++) for (a = e[n], r = 0; r < a.items.length; r++) if (i = a.items[r], 
s(a, i, r)) return {
category: a,
item: i,
index: r
};
}, n.prototype.showMore = function T() {
this.setState(function(e) {
return e.page += 1, e;
});
}, n.prototype.setActiveCategory = function E(e) {
if (this.refs.list && this.refs.list.setActive(e.name), this.setState({
activeCategory: e
}), this.props.ensureItemFocus) {
var t = this.props.hasCategories ? e.items[0].items[0] : e.items[0];
this.onItemFocus(t, 0);
} else this.props.selectionState.setActiveItem();
this.refs.itemScroller && this.refs.itemScroller.scrollTo(0, 0), this.props.selectionState.setActiveItem();
}, n.prototype.renderCategories = function P() {
var t = this;
if (!this.props.categorizedData) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = (this.props.categorizedData || []).slice().sort(this.compareCategories.bind(this)), r = n.map(function(n) {
var r = "function" == typeof n.name ? n.name() : n.name, o = s(n, t.props.hasCategories), a = n.muted || !1;
return {
label: r,
scrollLabel: !0,
id: r,
muted: a,
sortOrder: n.sortOrder || 0,
showActiveIndicator: r === t.state.activeCategory.name,
onTrigger: function i() {
return t.setActiveCategory(n);
},
subLabel: {
$$typeof: c,
type: D,
key: null,
ref: null,
props: e(D.defaultProps, {
gameId: t.props.gameId,
categoryUnlockStatus: o,
category: n,
muted: a,
hasCategories: t.props.hasCategories
}),
_owner: null
}
};
});
return h["default"].createElement(S["default"], {
ref: "list",
items: r,
divider: "item"
});
}, n.prototype.renderItemCategories = function A() {
var t = this;
if (!this.props.categorizedData || !this.state.activeCategory) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = 0, r = this.state.activeCategory.items.length - 1;
return this.state.activeCategory.items.map(function(o, a) {
if (!o.items.length) return null;
var i = 0 === a, s = a === r, l = t.renderItems(o, i, n);
return n += o.items.length, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: O["default"],
key: null,
ref: null,
props: e(O["default"].defaultProps, {
value: o.name,
size: "S",
style: {
marginBottom: v["default"].GUTTER
}
}),
_owner: null
}, l ],
style: {
localBounds: !1,
marginBottom: s ? 0 : v["default"].GUTTER
}
},
_owner: null
};
});
}, n.prototype.renderItems = function R() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], n = this, r = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1], o = arguments.length <= 2 || void 0 === arguments[2] ? 0 : arguments[2];
if (!this.props.categorizedData || !this.state.activeCategory) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var a = t.items || this.state.activeCategory.items;
if (!a || !a.length) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var i = this.props.showCategorization ? this.props.rowItemLength : 6, s = this.props.showCategorization ? this.props.widthGridCells : 18, l = v["default"].GUTTER, u = l * (i - 1), p = v["default"].getWidth(s) / i - u / i, f = Math.ceil(a.length / i);
a = a.map(function(e, a) {
var s = Math.floor(a / i) + 1, u = 1 === s, c = s === f, d = {
width: p,
marginBottom: c ? 0 : l,
marginLeft: a % i === 0 ? 0 : l
}, h = o + a;
return e = n.props.renderItem(d, e, h, n.onItemSelect.bind(n, e, h), n.onItemFocus.bind(n, e, h, r && u), t);
});
var d = 100 * this.state.page, h = a.slice(0, d), y = SpartaGlobals.bundleIsConsole ? 4 * p + 3 * l : 2 * p + l, g = a.length - d;
return g > 100 && (g = 100), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: h,
style: {
flexDirection: "row",
flexWrap: "wrap",
localBounds: !1
}
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: a.length > d ? {
$$typeof: c,
type: I["default"],
key: null,
ref: null,
props: e(I["default"].defaultProps, {
textSize: "M",
text: __("ID_SPARTA_CAREER_ITEMS_NEXT100").replace("100", g + ""),
style: {
width: y
},
action: function() {
return n.showMore();
}
}),
_owner: null
} : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
},
style: {
alignItems: "center",
localBounds: !1
}
},
_owner: null
} ],
style: {
localBounds: !1
}
},
_owner: null
};
}, n.prototype.render = function x() {
var t = this.props.disableFocusPage ? 2 : 3;
t = this.props.showCategorization ? t : t - 1;
var n = k.focus.system.controllerMode ? C["default"].content.height - 2 * v["default"].GUTTER : C["default"].content.height - 16 * v["default"].GUTTER, r = {
clipPadding: M,
clipContent: !0,
scrollToFocus: k.focus.system.controllerMode,
softClip: N,
verticalIndicator: !0
}, o = this.props.categoryInFocusPane ? this.state.activeCategory.name : null;
if (!this.props.categorizedData) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var a = this.props.showCategorization ? 6 : 0, i = this.props.showCategorization ? this.props.widthGridCells : 18, s = 24 - a - i - (t - 1), l = !this.props.disableFocusPane && {
$$typeof: c,
type: v["default"].Col,
key: null,
ref: null,
props: e(v["default"].Col.defaultProps, {
children: h["default"].createElement(w.Scroller, f({
style: {
height: n
},
controller: !0
}, r, {
ref: "focusPaneScroller"
}), this.props.renderFocusPane(s, function() {}, o)),
width: s
}),
_owner: null
}, u = C["default"].content.height;
return this.props.renderCategoryInfo && (u -= 4 * v["default"].GUTTER), SpartaGlobals.bundleIsPC && (u -= 2 * v["default"].GUTTER), 
{
$$typeof: c,
type: v["default"].Row,
key: null,
ref: null,
props: e(v["default"].Row.defaultProps, {
children: [ this.props.showCategorization ? {
$$typeof: c,
type: v["default"].Col,
key: null,
ref: null,
props: e(v["default"].Col.defaultProps, {
children: h["default"].createElement(w.Scroller, f({
style: {
height: n
}
}, r), this.renderCategories()),
width: a
}),
_owner: null
} : null, {
$$typeof: c,
type: v["default"].Col,
key: null,
ref: null,
props: e(v["default"].Col.defaultProps, {
children: [ this.props.renderCategoryInfo ? this.props.renderCategoryInfo(this.state.activeCategory) : null, h["default"].createElement("surface", {
ref: "items",
style: {
flex: 1
}
}, h["default"].createElement(w.Scroller, f({
ref: "itemScroller",
key: this.state.activeCategory,
style: {
height: u
}
}, r, {
controller: !1
}), this.props.hasCategories ? this.renderItemCategories() : this.renderItems(this.state.activeCategory, !0))) ],
width: i
}),
_owner: null
}, l ],
style: {
justifyContent: "space-between",
width: C["default"].content.width
}
}),
_owner: null
};
};
var i = n;
return n = a("_$CareerSection")(n) || n, n = y.observer(n) || n;
}(h["default"].Component);
t["default"] = U, U.defaultProps = {
onlyPreselectCategory: !1,
ensureItemFocus: !1,
sortCategoriesByLabel: !0,
categoryInFocusPane: !1,
showCategorization: !0,
rowItemLength: 4,
widthGridCells: 10,
allowSelect: !1
}, U.propTypes = {
gameId: h["default"].PropTypes.string.isRequired,
categorizedData: h["default"].PropTypes.array.isRequired,
renderItem: h["default"].PropTypes.func.isRequired,
renderFocusPane: h["default"].PropTypes.func.isRequired,
categoryInFocusPane: h["default"].PropTypes.bool,
preSelectedCategory: h["default"].PropTypes.string,
preSelectedId: h["default"].PropTypes.string,
sortCategoriesByLabel: h["default"].PropTypes.bool,
showCategorization: h["default"].PropTypes.bool,
onlyPreselectCategory: h["default"].PropTypes.bool,
ensureItemFocus: h["default"].PropTypes.bool
};
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
this.code = e.code, this.images = e.images || {}, this.index = e.index, e.description && (this.description = e.description), 
e.name && (this.name = e.name), e.dependencies && (this.dependencies = e.dependencies), 
e.progression && (this.progression = e.progression), e.criterias && (this.criterias = e.criterias), 
e.equipped && (this.equipped = e.equipped), e.type && (this.type = e.type), e.stages && (this.stages = e.stages), 
e.unlocks && (this.unlocks = e.unlocks), e.expansions && (this.expansions = e.expansions), 
e.timesTaken && (this.timesTaken = e.timesTaken), e.xp && (this.xp = e.xp);
}
var a = n(4), i = r(a);
o.prototype.getCriteriaProgression = function() {
if (!this.criterias) return 0;
var e = this.criterias.length, t = 0;
return i["default"].each(this.criterias, function(e) {
t += e.progression.percent;
}), 0 !== t ? t / e : 0;
}, o.prototype.hasUnlockedAllDependencies = function() {
return this.dependencies ? i["default"].every(this.dependencies, function(e) {
return e.progression ? e.progression.unlocked : !0;
}) : !0;
}, e.exports = o;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = {
playEffect: a["default"].createAction(),
playTrack: a["default"].createAction(),
stopTrack: a["default"].createAction()
};
e.exports = i;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = {
trackEvent: a["default"].createAction(),
trackJoinSources: a["default"].createAction()
};
t["default"] = i, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
u.merge(e), p.trigger(u.getState());
}
t.__esModule = !0;
var a = n(15), i = r(a), s = n(17), l = n(24), u = new l("ConfigStore", {
debug: !1,
gatewayHost: "http://sparta-gw-cert.test.ops.dice.se",
onlineEnvironment: "test",
webEndpoint: "omaha.test"
}), p = i["default"].createStore({
init: function c() {
s.updateConfig.listen(o);
},
getState: function f() {
return u.getState();
}
});
t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
(function(r) {
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e, t) {
return e === t ? 0 : t > e ? -1 : 1;
}
t.__esModule = !0;
var l = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, u = n(4), p = o(u), c = n(43), f = o(c), d = n(14), h = o(d), y = n(12), g = o(y), m = n(124), b = o(m), v = n(2), _ = n(10), S = 0, w = {}, T = [], C = function(e) {
function t() {
function n() {
var e = g["default"].prioritized.slice(), t = T[T.length - 1] || Object.keys(w);
t = t.slice().reverse();
var n = p["default"].chain(t).map(function(e) {
return p["default"].values(w[e]);
}).flatten().compact().value(), r = [], o = [];
return n.forEach(function(t) {
if (t.key) {
var n = e.indexOf(t.key);
n > -1 && (e.splice(n, 1), r.push(t));
} else o.push(t);
}), o.forEach(function(t) {
e.length > 0 ? r.push(new h["default"](l({}, t, {
key: e.shift()
}))) : console.error("Could not assign input key automatically: No more keys available");
}), r = r.sort(function(e, t) {
return s(e.key.order, t.key.order);
});
}
var r = this;
a(this, t), e.call(this, []), b["default"].register.listen(function(e, t, n) {
var r = w[t] && w[t][e];
if (!p["default"].isEqual(r, n)) {
var a = w[t] || (w[t] = {});
a[e] = n, o();
}
}), b["default"]["delete"].listen(function(e, t) {
var n = w[t];
n && n[e] && (delete n[e], 0 === Object.keys(n).length && delete w[t], o());
}), b["default"].isolateGroup.listen(function(e) {
e = Array.isArray(e) ? e : [ e ], T.push(e), o();
}), b["default"].releaseGroup.listen(function(e) {
e = Array.isArray(e) ? e : [ e ];
for (var t = 0; t < T.length; t++) if (p["default"].isEqual(T[t], e)) {
T.splice(t, 1), o();
break;
}
}), b["default"].trigger.listen(function(e) {
var t = r.getState();
[ e ].forEach(function(e) {
t.forEach(function(t) {
t.key === e.key && (e.isPress && t.action && 0 === S && (t.blockInputFor > 0 && (S++, 
setTimeout(function() {
return S--;
}, t.blockInputFor)), t.action(e), b["default"].calledAction(e)), e.isHold && t.holdAction && (t.holdAction(e), 
b["default"].calledHoldAction(e)), e.isRelease && t.releaseAction && (t.releaseAction(e), 
b["default"].calledReleaseAction(e)));
});
});
}), this.rebuildState = function() {
return r.setState(n());
};
var o = function i() {
return r.rebuildState();
};
}
return i(t, e), t.prototype.getInputsForKey = function n(e) {
return this.getState().filter(function(t) {
return t.key === e;
});
}, t.prototype.blockInputFor = function r(e) {
S++, setTimeout(function() {
return S--;
}, e);
}, t.prototype.getRegistry = function o() {
return w;
}, t.prototype.getIsolatedGroupIds = function u() {
return T;
}, t;
}(f["default"]), E = new C();
t["default"] = E, v.getBuildInfo().isRemoteEngine() && (r.inputStore = E), _.autorun(function() {
if (v.focus.system.controllerMode && v.focus.system.inputs.length > 0) {
var e = v.focus.system.inputs.slice();
b["default"].register("focusaccept", "focusgroup", e);
} else b["default"].register("focusaccept", "focusgroup", []);
}), e.exports = t["default"];
}).call(t, function() {
return this;
}());
}, function(e, t) {
t.__esModule = !0;
var n = {
Error: "error",
GameEnd: "game_end",
GameStart: "game_start",
Login: "login",
Logout: "logout",
Message: "message",
MultiplayerJoin: "mp_match_join",
PageView: "page_view",
SessionStart: "boot_start",
Transaction: "transaction",
SpartaStart: "sparta_start",
SpartaEnd: "sparta_end"
}, r = {
error: "error",
normal: "normal",
success: "success"
};
t.Events = n, t.Status = r;
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e, t, n) {
m.confirm(__("ID_SPARTA_GAMESTATE_STOP_QUICKMATCH"), __("ID_SPARTA_GAMESTATE_STOP_MATCHMAKING_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_NO"), "quitMatchmaking").then(function() {
g["default"].stop(), t(e);
})["catch"](function(e) {
console.error(e), n();
});
}
function o(e, t, n) {
m.confirm(__("ID_SPARTA_GAMESTATE_LEAVE_QUEUE"), __("ID_SPARTA_MATCHMAKING_LEAVE_QUEUE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_NO"), "leaveQueue").then(function() {
h["default"].stopGame(), t(e);
})["catch"](function(e) {
console.error(e), n();
});
}
function a(e) {
return new Promise(function(t, n) {
var a = f["default"].getState(), i = p["default"].getState();
if (i && i.sessionId) i.isCancellable && i.getDuration() > 1e3 ? r(e, t, n) : (console.warn("Rejecting game start, matchmaking not yet cancellable"), 
n()); else if (a.server) if (a.isRunning && e) {
var s = a.isServerJoiningAllowed(e);
s ? (h["default"].updateGameState({
isChangingServer: !0
}), t(e)) : m.alert(__("ID_SPARTA_GAMESTATE_ALREADY_IN_SERVER"), "").then(function() {
return n();
});
} else a.queue.isPending ? o(e, t, n) : (console.warn("Rejecting game start, in-game/join not cancellable"), 
n()); else t(e);
});
}
function i() {
S["default"].setComponentVisibilities({
miniMenu: !1,
miniComCenter: !1
});
}
function s(e) {
a().then(function() {
SpartaGlobals.bundleIsPC && i();
}).then(e());
}
function l(e) {
s(function() {
return v["default"].gotoLocation(e);
});
}
t.__esModule = !0, t.checkGameState = a, t.goIntoRIME = s, t.gotoLocationIntoRIME = l;
var u = n(75), p = e(u), c = n(44), f = e(c), d = n(30), h = e(d), y = n(81), g = e(y), m = n(35), b = n(17), v = e(b), _ = n(27), S = e(_);
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var o = n(80), a = e(o), i = {
None: "None",
Joined: "Joined",
Queued: "Queued",
Failed: "Failed",
Cancelled: "Cancelled"
};
t.QueueStatus = i;
var s = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
r(this, e), this.gameId = t.gameId, this.blazeGameId = t.blazeGameId, this.status = t.status || i.none, 
this.position = void 0 === t.position || null === t.position ? -1 : t.position, 
this.isPending = this.status === i.Queued, this.hasPremium = a["default"].getState().hasPremiumAccess(t.gameId);
}
return e.prototype.getPrettyStatus = function t(e) {
if (this.status !== i.Queued) return "";
if (-1 === this.position) return __("ID_SPARTA_ONLINE_QUEUE_RESERVING_SLOT");
if (0 === this.position && this.status === i.Queued) return __(e ? this.hasPremium ? "ID_SPARTA_ONLINE_QUEUED_SHORT_PREMIUM" : "ID_SPARTA_ONLINE_QUEUED_SHORT" : this.hasPremium ? "ID_SPARTA_ONLINE_QUEUED_PREMIUM" : "ID_SPARTA_ONLINE_QUEUED");
if (this.position > 0 && this.status === i.Queued) {
var t = __(this.hasPremium ? "ID_SPARTA_ONLINE_QUEUE_POSITION_PREMIUM" : "ID_SPARTA_ONLINE_QUEUE_POSITION");
return t.replace("[[position]]", this.position);
}
return console.warn("QueueInfo - Impossible to find a queue message, we should never enter this else"), 
"";
}, e;
}();
t["default"] = s;
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return Se(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function s(e) {
xe = e;
}
function l(e) {
var t;
if (e) t = Ae.promise(function(e) {
return e;
}); else {
var n = new Promise(function(e) {
var t = b.frostbite.registerMessageListener("sparta.pressToStartCompleted", function() {
t(), e();
});
b.frostbite.sendMessage("sparta.pressToStart");
});
t = Promise.all([ n, Ae.promise(function(e) {
return e;
}) ]);
}
return t.then(function() {
return new Promise(function(e) {
var t = setTimeout(function() {
console.warn("StartScreen waiting too long (30s) for connections, forcing resolve."), 
e();
}, 3e4);
return !$.onlineState.isConnecting && x.takeoverStore.hasFetched ? (clearTimeout(t), 
void e()) : void v.when(function() {
return !$.onlineState.isConnecting;
}, function() {
$.onlineState.isOnlineBlazeAndGateway ? v.when(function() {
return x.takeoverStore.hasFetched;
}, function() {
clearTimeout(t), e();
}) : (clearTimeout(t), e());
});
});
});
}
function u(e) {
var t = e.src, n = e.width, r = e.height;
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: {
height: r,
backgroundColor: "#ffffff",
textureAlign: [ .5, .5 ],
marginRight: 20,
texture: t,
width: n
}
},
_owner: null
};
}
var p = n(3), c = i(p);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103;
t.overrideDismissCallback = s;
var h = n(1), y = i(h), g = n(43), m = i(g), b = n(2), v = n(10), _ = n(8), S = n(16), w = i(S), T = n(20), C = i(T), E = n(35), I = n(25), P = i(I), O = n(19), A = i(O), k = n(44), R = i(k), x = n(11), M = n(48), N = i(M), $ = n(41), D = n(424), U = n(63), L = n(57), F = i(L), G = n(821), j = i(G), B = n(38), H = i(B), V = n(27), z = i(V), W = n(12), q = i(W), K = n(18), X = i(K), Y = n(181), J = i(Y), Q = n(6), Z = i(Q), ee = n(13), te = i(ee), ne = n(7), re = i(ne), oe = n(91), ae = i(oe), ie = n(816), se = i(ie), le = n(128), ue = i(le), pe = n(307), ce = i(pe), fe = n(9), de = n(46), he = i(de), ye = n(50), ge = i(ye), me = n(348), be = n(195), ve = n(420), _e = {
_$StartScreen: {
displayName: "StartScreen"
},
_$BottomBar: {
displayName: "BottomBar"
}
}, Se = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/StartScreen.jsx",
components: _e,
locals: [],
imports: []
}), we = SpartaGlobals.bundleIsXBOXONE, Te = SpartaGlobals.bundleIsXBOXONE, Ce = {
easing: te["default"].defaultTweenOptions.easing,
duration: 800
}, Ee = {
padding: [ 1.5 * Z["default"].GUTTER, 3 * Z["default"].GUTTER, Z["default"].GUTTER, 3 * Z["default"].GUTTER ],
backgroundColor: "#00000099",
color: "#ffffff",
height: SpartaGlobals.bundleIsPC ? Z["default"].getHeight(6) : Z["default"].getHeight(5),
alignItems: "center",
justifyContent: "center"
}, Ie = Ee, Pe = SpartaGlobals.bundleIsPC ? "M" : "S", Oe = !1, Ae = new m["default"](!1), ke = A["default"].scope("hostingGameId").transform(function(e) {
var t = x.gameStore.getGame(e);
return t;
}), Re = new m["default"](!0), xe = void 0, Me = m["default"].join(Re, ke, R["default"].scope("isRunning")).transform(function(e, t, n) {
return e && t && !n ? !0 : !1;
});
t.isVisibleStore = Me, R["default"].scope("navigationState").connect(function(e) {
return e ? ((R["default"].getState().hideStartScreen || e !== F["default"].FrontEnd) && Re.setState(!1), 
!1) : void 0;
}), Me.connect(function(e) {
z["default"].setComponentVisibilities({
only: e ? [] : !1
}), e || z["default"].handleStartScreenClosed();
});
var Ne;
if (we) {
var $e;
N["default"].scope("id").connect(function(e) {
if ($e && "0" !== $e) {
var t = function n() {
var e = __("ID_SPARTA_START_SIGNIN_CHANGE_PC");
SpartaGlobals.bundleIsXBOXONE ? e = __("ID_SPARTA_START_SIGNIN_CHANGE_XB1") : SpartaGlobals.bundleIsPS4 && (e = __("ID_SPARTA_START_SIGNIN_CHANGE_PS4")), 
ge["default"].getState().isVisible && (he["default"].hide(), he["default"].route("none")), 
H["default"].onSignInChange(), Ne = E.alert(e).then(function() {
D.clearLegalPromise(), P["default"].closeAll(), Re.setState(!0), Ne = null;
});
};
if (Re.getState()) Oe && s(function() {
t();
}); else {
if (Ne) return;
t();
}
}
$e = e;
});
}
var De = n(894), Ue = b.focus.system.createScaledComponent(), Le = function(t) {
function n(e) {
var n = this;
r(this, i), t.call(this, e), this.state = {}, this.isolated = !1, this.userStartOpacity = te["default"].tween("52181048:248", 0), 
this.startScreenOpacity = te["default"].tween("52181048:249", 0), this.tryToIsolateInput(), 
this.emitters = {
first: new b.particles.Emitter(),
second: new b.particles.Emitter(),
third: new b.particles.Emitter()
};
var o = [ fe.bbOfflineUrl("/sparta/assets/ui/particles/red-dash-76860a51.png"), fe.bbOfflineUrl("/sparta/jsclient/builds/assets/PRT_Start_Blur-fb108348.jpg"), fe.bbOfflineUrl("/sparta/jsclient/builds/assets/PRT_Start_Glow-f47cfeb1.jpg") ];
v.action("configure emitters", function() {
for (var e in n.emitters) n.emitters[e].config.fromJson(De), n.emitters[e].config.textureList = o;
})();
}
o(n, t), n.prototype.getChildContext = function s() {
var e = {};
return this.state.localGame && this.state.localGame.fonts && (e.fonts = this.state.localGame.fonts), 
e;
}, n.prototype.componentDidMount = function u() {
var e = this;
this.subscriptions = [ Me.connect(function(t) {
t && e.initialize();
}) ];
}, n.prototype.componentDidUpdate = function p() {
this.tryToIsolateInput();
}, n.prototype.componentWillUnmount = function c() {
for (;this.subscriptions.length; ) this.subscriptions.pop().unsubscribe();
clearTimeout(this.secondEmitterTimeout), clearTimeout(this.thirdEmitterTimeout);
for (var e in this.emitters) this.emitters[e].stop();
}, n.prototype.onUserStart = function h(e) {
var t = this;
if (!Oe) {
if (R["default"].getState().navigationState !== F["default"].FrontEnd) return void console.info("Ignoring StartScreen user-start, waiting for navigationState to be FrontEnd");
Oe = !0;
var n = function r() {
t.playStartAnimation().then(function() {
var n = -1;
return v.when(function() {
return !$.onlineState.isConnecting && x.gatewayState.sessionState !== be.GatewaySessionState.none;
}, function() {
$.onlineState.isOnlineBlazeAndGateway ? (n = setTimeout(function() {
x.takeoverStore.hasFetched ? console.info("Takeover fetch-timeout triggered even though hasFetched is true") : (console.warn("Took to long to fetch Takeovers. Skipping"), 
x.takeoverStore.setFetched());
}, 1e4), me.GetTakeoversClient.trigger(t.state.localGame.gameId)) : x.takeoverStore.setFetched();
}), v.when(function() {
return x.takeoverStore.hasFetched;
}, function() {
clearTimeout(n);
}), t.setState({
waitingForUserStart: !1
}), l(e);
}).then(function() {
return t.dismiss();
});
};
this.refs.startButton && this.refs.startButton.pulsate(), this.releaseInputGroup(), 
D.tryShowLegal().then(function() {
t.isolateInputGroup(), n();
});
}
}, n.prototype.onUserChange = function g() {
H["default"].showLocalUserSelectionUI();
}, n.prototype.onOnboarded = function m() {
Ae.setState(!0);
}, n.prototype.tryToIsolateInput = function S() {
this.state.isVisible && !this.isolated ? (this.isolated = !0, this.isolateInputGroup()) : !this.state.isVisible && this.isolated && (this.isolated = !1, 
this.releaseInputGroup());
}, n.prototype.playStartAnimation = function T() {
var e = this;
return this.refs.startButton ? new Promise(function(t) {
e.refs.startButton && e.refs.startButton.refs.icon && e.refs.startButton.refs.icon.separate(Ce), 
e.userStartOpacity.to(0), setTimeout(t, 1e3);
}) : Promise.resolve();
}, n.prototype.startParticles = function E() {
var e = this;
this.emitters.first.start();
var t = this.emitters.first.config.lifetimeMs.value / 3;
this.secondEmitterTimeout = setTimeout(function() {
return e.emitters.second.start();
}, t), this.thirdEmitterTimeout = setTimeout(function() {
return e.emitters.third.start();
}, 2 * t);
}, n.prototype.initialize = function I() {
var e = this;
Oe = !1, this.setState({
waitingForUserStart: !0
}), ve.initialBlackFade.then(function() {
e.startScreenOpacity.to(1), e.userStartOpacity.to(1), e.refs.bottomBar && e.refs.bottomBar.appear(), 
e.state.localGame.hasParticleEffects && e.startParticles(), (SpartaGlobals.bundleIsPC || A["default"].getState().crossLaunch && SpartaGlobals.bundleIsPS4) && R["default"].scope("navigationState").connect(function(t) {
return t === F["default"].FrontEnd ? (e.onUserStart(), !1) : void 0;
});
}), b.frostbite.registerMessageListener("sparta.skipPressToStart", function() {
e.onUserStart(!0);
});
}, n.prototype.dismiss = function P() {
var e = this, t = te["default"].defaultTweenOptions.duration;
z["default"].handleBlackFadeStart(1, {
duration: t,
easing: "Linear"
}, function() {
e.finishDismiss();
});
}, n.prototype.finishDismiss = function O() {
Oe = !1, Re.setState(!1), xe ? (console.info("Dismissing StartScreen with callback override"), 
xe(), xe = void 0) : this.props.onDismiss && this.props.onDismiss();
}, n.prototype.renderProgress = function k() {
var t = this;
if (this.state.isOnboarded) {
var n = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
return ($.onlineState.isConnecting || !x.takeoverStore.hasFetched) && (n = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: re["default"],
key: null,
ref: null,
props: e(re["default"].defaultProps, {
size: Pe,
section: this.state.localGame.gameId,
value: __("ID_SPARTA_ONLINE_PRESENCE_CONNECTING").toUpperCase()
}),
_owner: null
},
style: Ie
},
_owner: null
}), {
id: "presence",
content: n
};
}
var r = j["default"].onboarded_home.onboarding, o = A["default"].getState();
if (o.crossLaunch) {
var a = o.crossLaunch.gameMode;
a && "SP" === a ? r = j["default"].crossLaunch.SP : a && "MP" === a && (r = o.crossLaunch.friend ? j["default"].crossLaunch.MP_FRIEND : j["default"].crossLaunch.MP);
}
var i = {
size: Pe,
section: this.state.localGame.gameId,
style: {
marginTop: -Z["default"].GUTTER / 2
}
};
return {
id: "onboarding",
content: {
$$typeof: d,
type: se["default"],
key: null,
ref: null,
props: e(se["default"].defaultProps, {
messages: r,
style: Ie,
textProps: i,
onEnd: function() {
return t.onOnboarded();
}
}),
_owner: null
}
};
}, n.prototype.renderStartButtons = function M() {
var t = this;
if (!Te) return {
id: "anonymous-start",
content: y["default"].createElement(ae["default"], {
ref: "startButton",
label: __("ID_SPARTA_START_BUTTON"),
inputKey: q["default"].Accept,
action: function() {
return t.onUserStart();
},
section: this.state.localGame.gameId,
style: f({
opacity: this.userStartOpacity.getStyle()
}, Ie, {
paddingTop: Z["default"].GUTTER,
zOffset: 1
})
})
};
var n = f({
alignItems: "center"
}, Ie, {
paddingTop: Z["default"].GUTTER,
zOffset: 1
}), r = this.state.sessionUser && "0" !== this.state.sessionUser.id && {
$$typeof: d,
type: ce["default"],
key: null,
ref: null,
props: e(ce["default"].defaultProps, {
children: y["default"].createElement(ae["default"], {
ref: "startButton",
inputKey: q["default"].Accept,
action: function() {
return t.onUserStart();
},
style: n,
section: this.state.localGame.gameId,
label: __("ID_SPARTA_START_PLAYAS") + " " + this.state.sessionUser.displayName
}),
transitionId: this.state.sessionUser.id,
height: Z["default"].getHeight(5),
style: {
marginBottom: Z["default"].GUTTER
}
}),
_owner: null
};
return {
id: "userchange_" + (this.state.sessionUser ? "online" : "offline"),
content: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ r, {
$$typeof: d,
type: ae["default"],
key: null,
ref: null,
props: e(ae["default"].defaultProps, {
label: __("ID_SPARTA_START_SELECTUSER"),
inputKey: q["default"].Select,
action: this.onUserChange,
section: this.state.localGame.gameId,
style: f({
opacity: this.userStartOpacity.getStyle()
}, Ie, {
zOffset: 1
})
}),
_owner: null
} ],
style: {
justifyContent: "center",
alignItems: "center"
}
},
_owner: null
}
};
}, n.prototype.renderStartupState = function L() {
return this.state.waitingForUserStart === !1 ? this.renderProgress() : SpartaGlobals.bundleIsPC ? {
id: "loading",
content: {
$$typeof: d,
type: re["default"],
key: null,
ref: null,
props: e(re["default"].defaultProps, {
value: __("ID_SPARTA_START_LOADING").toUpperCase(),
size: Pe,
section: this.state.localGame.gameId
}),
_owner: null
}
} : this.renderStartButtons();
}, n.prototype.render = function G() {
if (!this.state.isVisible) return null;
var t = this.state.localGame.startScreenAnimation, n = t ? {
$$typeof: d,
type: t,
key: null,
ref: null,
props: e(t.defaultProps, {
style: {
zOffset: 26
}
}),
_owner: null
} : null, r = f({
position: "absolute",
zOffset: 9e4
}, U.uiState.window, {
backgroundColor: "#000000FF",
texture: this.state.localGame.startScreenImageUrl,
textureMode: "none",
textureScale: U.uiState.viewportScale.scaleX
}), o = f({
position: "absolute",
width: X["default"].screen.width,
height: X["default"].screen.height
}, U.uiState.viewportPosition, U.uiState.viewportScale, {
opacity: this.startScreenOpacity.getStyle()
}), a = f({
position: "absolute"
}, X["default"].startScreenLogo.style), i = {
position: "absolute",
width: X["default"].startScreenLogo.style.width,
height: X["default"].startScreenLogo.style.height,
left: 0,
top: 0,
texture: this.state.localGame.startScreenLogoUrl
}, s = {
position: "absolute",
width: X["default"].screen.width,
left: X["default"].screen.left,
top: X["default"].startScreenLogo.bottom + Z["default"].window.rowSpan(4),
flexDirection: "column",
alignItems: "center",
justifyContent: "flex-start",
zOffset: 20
}, l = {
height: 60
}, u = this.renderStartupState(), p = x.settingsStore.isFeatureEnabled("particles") ? null : {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: b.particles.Renderer,
key: null,
ref: null,
props: e(b.particles.Renderer.defaultProps, {
emitter: this.emitters.first
}),
_owner: null
}, {
$$typeof: d,
type: b.particles.Renderer,
key: null,
ref: null,
props: e(b.particles.Renderer.defaultProps, {
emitter: this.emitters.second
}),
_owner: null
}, {
$$typeof: d,
type: b.particles.Renderer,
key: null,
ref: null,
props: e(b.particles.Renderer.defaultProps, {
emitter: this.emitters.third
}),
_owner: null
} ],
style: {
position: "absolute",
top: -100,
left: 100,
zOffset: 26
}
},
_owner: null
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "test",
key: null,
ref: null,
props: {
guid: "startscreen"
},
_owner: null
}, n, p, y["default"].createElement("surface", {
style: o,
ref: Ue
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: i
},
_owner: null
},
style: a
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: ue["default"],
key: null,
ref: null,
props: e(ue["default"].defaultProps, {
children: u.content,
transitionId: u.id,
style: l
}),
_owner: null
}, null ],
style: s
},
_owner: null
}, y["default"].createElement(Fe, {
ref: "bottomBar",
section: this.state.localGame.gameId
})) ],
style: r
},
_owner: null
};
};
var i = n;
return n = a("_$StartScreen")(n) || n, n = w["default"]({
isVisible: Me,
localGame: ke,
sessionUser: N["default"],
isOnboarded: Ae
})(n) || n, n = _.observer(n) || n, n = C["default"]({
group: !0
})(n) || n;
}(y["default"].Component);
t["default"] = Le, Le.childContextTypes = f({}, Le.childContextTypes, {
fonts: y["default"].PropTypes.shape({
normal: y["default"].PropTypes.any,
emphasis: y["default"].PropTypes.any,
letterSpacing: y["default"].PropTypes.number
})
});
var Fe = function(t) {
function n(e) {
r(this, i), t.call(this, e), this.tweens = {
opacity: te["default"].tween("52181048:740", 0, {
duration: 500
}),
translateY: te["default"].tween("52181048:741", 0, {
duration: 1e3
})
};
}
o(n, t), n.prototype.componentDidMount = function s() {
var e = this;
setTimeout(function() {
return e.appear();
}, 2500);
}, n.prototype.componentWillUnmount = function l() {
this.tweens.opacity.destroy(), this.tweens.translateY.destroy();
}, n.prototype.appear = function p() {
return this.animateVisibility(!0);
}, n.prototype.disappear = function c() {
return this.animateVisibility(!1);
}, n.prototype.animateVisibility = function f(e) {
var t = this;
return new Promise(function(n) {
var r = 2 * J["default"].dangerZoneSize.height;
t.tweens.opacity.to(e ? 1 : 0), t.tweens.translateY.to(e ? 0 : r, null, n);
});
}, n.prototype.render = function h() {
var t = {
zOffset: 3,
position: "absolute",
bottom: J["default"].dangerZoneSize.height,
left: J["default"].dangerZoneSize.width,
right: J["default"].dangerZoneSize.width,
flexDirection: "row",
justifyContent: "space-between",
opacity: this.tweens.opacity.getStyle(),
translateY: this.tweens.translateY.getStyle()
}, n = {
alignSelf: "center",
color: "#ffffff",
textLineSpacing: 1
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: u,
key: null,
ref: null,
props: e(u.defaultProps, {
src: fe.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-ea-300d3ce5.png"),
width: 50,
height: 50
}),
_owner: null
}, {
$$typeof: d,
type: u,
key: null,
ref: null,
props: e(u.defaultProps, {
src: fe.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-dice-c4e44205.png"),
width: 74,
height: 18
}),
_owner: null
}, {
$$typeof: d,
type: u,
key: null,
ref: null,
props: e(u.defaultProps, {
src: fe.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-uprise-8b0e9297.png"),
width: 90,
height: 18
}),
_owner: null
} ],
style: {
flexDirection: "row",
alignItems: "center"
}
},
_owner: null
}, {
$$typeof: d,
type: re["default"],
key: null,
ref: null,
props: e(re["default"].defaultProps, {
style: n,
size: "S",
value: __("ID_SPARTA_START_COPYRIGHT"),
section: this.props.section
}),
_owner: null
} ],
style: t
},
_owner: null
};
};
var i = n;
return n = a("_$BottomBar")(n) || n;
}(y["default"].Component);
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(4), s = r(i), l = n(43), u = r(l), p = n(25), c = r(p), f = n(47), d = r(f), h = n(44), y = r(h), g = n(50), m = r(g), b = n(57), v = r(b), _ = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, {}), c["default"].display.listen(function(e) {
var t = y["default"].getState().navigationState;
if (t) n.openPopupWhenReady(e, t); else var r = y["default"].scope("navigationState").listen(function(t) {
r(), n.openPopupWhenReady(e, t);
});
}), c["default"].close.listen(function(e) {
var t = s["default"].extend({}, n.getState());
delete t[e], n.setState(t);
}), c["default"].closeAll.listen(function() {
for (var e in n.getState()) n.getState().hasOwnProperty(e) && c["default"].close(e);
}), c["default"].closeGroup.listen(function(e) {
var t = n.getState(), r = s["default"].extend({}, n.getState());
s["default"].each(t, function(t) {
t.group === e && delete r[t.id];
}), n.setState(r);
});
}
return a(t, e), t.prototype.getTopPopup = function n() {
var e = s["default"].values(this.getState());
return e.length ? e[e.length - 1] : null;
}, t.prototype.openPopup = function r(e) {
var t = this;
e instanceof d["default"] || (e = new d["default"](e));
var n = this.getTopPopup();
if (n && n.priority > e.priority) var r = this.listen(function(n) {
r();
var o = y["default"].getState().navigationState;
t.openPopupWhenReady(e, o);
}); else {
var o = s["default"].extend({}, this.getState());
e.id in o || (o[e.id] = e, this.setState(o));
}
}, t.prototype.openPopupWhenReady = function i(e, t) {
var n = this;
switch (t) {
case v["default"].FrontEnd:
case v["default"].LoadingScreen:
this.openPopup(e);
break;

case v["default"].InGameMenu:
var r = m["default"].getState(), o = r.isVisible;
if (o) this.openPopup(e); else var a = m["default"].listen(function(t) {
t.isVisible && (a(), n.openPopup(e));
});
break;

case v["default"].EndOfRound:}
}, t;
}(u["default"]);
t["default"] = new _(), e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return Y(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = n(4), y = l(h), g = n(1), m = l(g), b = n(13), v = l(b), _ = n(18), S = l(_), w = n(49), T = n(68), C = n(317), E = l(C), I = n(34), P = l(I), O = n(171), A = l(O), k = n(12), R = l(k), x = n(14), M = l(x), N = n(6), $ = l(N), D = n(23), U = l(D), L = n(303), F = l(L), G = n(16), j = l(G), B = n(2), H = n(20), V = l(H), z = n(63), W = n(8), q = n(10), K = n(11), X = {
_$PopupContainer: {
displayName: "PopupContainer"
},
_$Popup: {
displayName: "Popup"
},
_$Popups: {
displayName: "Popups"
}
}, Y = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/popups/Popups.jsx",
components: X,
locals: [],
imports: []
}), J = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, Q = {
flexDirection: "row",
alignSelf: "center",
marginTop: $["default"].GUTTER,
zOffset: 100
}, Z = B.focus.system.createScaledComponent(), ee = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = this.props.children, t = d({
justifyContent: "center"
}, S["default"].screen.style, z.uiState.viewportPosition, z.uiState.viewportScale, this.props.style);
return m["default"].createElement("surface", {
ref: Z,
style: t
}, e);
};
var n = t;
return t = s("_$PopupContainer")(t) || t, t = W.observer(t) || t;
}(m["default"].Component);
t.PopupContainer = ee;
var te = function(e) {
function t(t) {
a(this, l), e.call(this, t), o(this, "isVisible", n), this.focusAncestor = B.focus.createAncestor("popupgroup_" + t.popup.id), 
this.opacityTween = v["default"].tween("6b2fb63c:62", t.popup.instantShow ? 1 : 0), 
t.popup.instantShow && this.setVisible(!0);
}
var n = {};
i(t, e), t.prototype.componentWillEnter = function u(e) {
var t = this;
this.isolateInputGroup(), this.refs.content && this.refs.content.popupWillShow && this.refs.content.popupWillShow(), 
this.focusAncestor.isolate(), this.props.popup.instantShow || (this.opacityTween.to(1), 
this.setVisible(!0)), this.updateInput(), this.cancelReaction = q.reaction(function() {
return B.focus.system.controllerMode;
}, function() {
return t.updateInput();
}), e();
}, t.prototype.componentDidEnter = function p() {
var e = this.focusAncestor.getChildren()[0];
e && e.setFocused(B.focus.FocusSource.Auto);
}, t.prototype.componentWillLeave = function h(e) {
this.releaseInputGroup(), this.cancelReaction(), this.focusAncestor.deisolate(), 
this.refs.content && this.refs.content.popupWillHide && this.refs.content.popupWillHide(), 
this.opacityTween.to(0, null, e), this.setVisible(!1), this.updateInput();
}, t.prototype.componentWillUnmount = function g() {
this.focusAncestor.destroy(), this.opacityTween.destroy(), this.releaseInputGroup();
}, t.prototype.getInput = function b() {
var e = this;
if (this.isVisible) {
var t = [];
return this.props.popup.inputs && (t = B.focus.system.controllerMode ? this.props.popup.inputs.map(function(t) {
var n = e.props.popup.createButtons;
return n ? new M["default"](d({}, t, {
visible: !1,
action: function r() {
var n = e.refs[t.key.id];
n.pulsate().then(t.action);
}
})) : t;
}) : y["default"].filter(this.props.popup.inputs, function(e) {
return e.key !== R["default"].Accept;
})), this.refs.content && this.refs.content.getInput && (t = t.concat(this.refs.content.getInput())), 
t;
}
return [];
}, t.prototype.getFontStyle = function _() {
var e, t, n = K.layoutStateStore.current.config, r = n.fonts, o = n.gameId;
return r ? (t = r.letterSpacing || 0, e = o ? T.fontState.fonts[o].normal.name : T.fontState.fonts.generic.normal.name) : (console.log("No font config available, using default for route config:", K.layoutStateStore.current.config), 
e = T.fontState.fonts.generic.normal.name), {
fontFamily: e,
textLetterSpacing: t
};
}, t.prototype.renderButtons = function w(e) {
var t = this.getFontStyle(), n = e.inputs.length - 1, o = e.inputs.map(function(e, o) {
var a;
return B.focus.system.controllerMode ? (a = {
marginRight: o !== n ? 4 * $["default"].GUTTER : 0
}, m["default"].createElement(F["default"], {
ref: e.key.id,
inputKey: e.key,
style: a,
labelStyle: t,
label: e.label,
key: "button" + o
})) : (a = {
width: $["default"].getWidth(2.5),
marginRight: o !== n ? $["default"].GUTTER : 0
}, {
$$typeof: c,
type: B.focus.Focusable,
key: null,
ref: null,
props: r(B.focus.Focusable.defaultProps, {
children: function i(t) {
return m["default"].createElement(U["default"], d({
ref: "button_" + o
}, e, {
focusItem: t,
text: e.label,
style: a,
key: "button" + o
}));
},
debugName: "popupbutton_" + o
}),
_owner: null
});
}), a = {};
return !e.fullScreen && e.leftAlignInputs && (a = {
justifyContent: "flex-start",
alignSelf: "flex-start",
marginLeft: -(S["default"].screen.width / 4) + S["default"].dangerZoneSize.width
}), m["default"].createElement("surface", {
ref: "buttons",
style: [ Q, a ]
}, o);
}, t.prototype.renderContent = function C(e) {
var t = e.content, n = {
popupInfo: e
};
return t.type.prototype instanceof m["default"].Component && (n.ref = "content"), 
m["default"].cloneElement(t, n);
}, t.prototype.render = function E() {
var e = this.props.popup, t = {
opacity: this.opacityTween.getStyle(),
position: "absolute",
top: 0,
left: 0,
width: z.uiState.window.width,
height: z.uiState.window.height,
zOffset: void 0 !== this.props.index ? 100 * this.props.index : 0
}, n = d({
opacity: this.opacityTween.getStyle(),
zOffset: -1,
layer: !0,
layerBlur: e.disableBlur ? void 0 : v["default"].tweenSwitch(0, 1, this.isVisible),
layerBlurStrength: e.disableBlur ? void 0 : v["default"].tweenSwitch(0, 2, this.isVisible),
layerGrabBackground: !0
}, J);
if (e.texture ? (t.backgroundColor = "#000000FF", n.textureMode = "cover", n.texture = e.texture, 
n.layerGrabBackground = !1, n.zOffset = 0) : n.backgroundColor = e.backgroundColor ? e.backgroundColor : "#000000B2", 
"undefined" != typeof e.containContent && !e.containContent) return m["default"].createElement("surface", d({
style: t
}, this.focusAncestor.hooks), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
}, this.renderContent(e), e.createButtons ? this.renderButtons(e) : null);
var o = {
opacity: this.opacityTween.getStyle()
}, a = {
zOffset: 2,
layer: !1
}, i = e.centerContent ? {
alignSelf: "center",
alignItems: "center"
} : null;
return a = e.fullScreen ? d({}, a, J) : d({}, a, {
width: S["default"].screen.width / 2
}), m["default"].createElement("surface", d({
style: t
}, this.focusAncestor.hooks), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
}, {
$$typeof: c,
type: ee,
key: null,
ref: null,
props: r(ee.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderContent(e), e.createButtons ? this.renderButtons(e) : null ],
style: [ a, i ]
},
_owner: null
},
style: o,
onClick: function() {}
}),
_owner: null
});
}, f(t, [ {
key: "setVisible",
decorators: [ q.action ],
value: function I(e) {
this.isVisible = e;
}
}, {
key: "isVisible",
decorators: [ q.observable ],
initializer: function O() {
return !1;
},
enumerable: !0
} ], null, n);
var l = t;
return t = s("_$Popup")(t) || t, t = j["default"]({
presence: P["default"]
})(t) || t, t = V["default"]({
group: !0,
ignoreParentIsolation: !0
})(t) || t, t = W.observer(t) || t;
}(m["default"].Component), ne = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.getChildContext = function o() {
var e = K.layoutStateStore.current.config, t = e.gameId, n = {
routeConfig: e,
isPopup: !0
};
return null !== t && T.fontState.fonts.hasOwnProperty(t) && (n.fonts = T.fontState.fonts[t]), 
n;
}, t.prototype.getStackablePopups = function l(e) {
for (var t = [], n = e.length - 1; n >= 0; ) {
var r = e[n];
if (!r.stackable) break;
t.push(r), n--;
}
return t.reverse(), t;
}, t.prototype.render = function u() {
var e = y["default"].sortBy(this.state.popups, "createdDate"), t = e.length && e[e.length - 1], n = [];
t && t.stackable ? n = this.getStackablePopups(e).map(function(e, t) {
return {
$$typeof: c,
type: te,
key: e.id,
ref: null,
props: r(te.defaultProps, {
popup: e,
index: t
}),
_owner: null
};
}) : t && n.push({
$$typeof: c,
type: te,
key: t.id,
ref: null,
props: r(te.defaultProps, {
popup: t
}),
_owner: null
});
var o = d({
zOffset: 1e5,
enableMouseEvents: n.length ? !0 : !1
}, J);
return {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
children: n,
tag: "surface",
style: o
}),
_owner: null
};
};
var n = t;
return t = s("_$Popups")(t) || t, t = j["default"]({
popups: A["default"]
})(t) || t, t = W.observer(t) || t;
}(m["default"].Component);
t["default"] = ne, ne.childContextTypes = d({}, ne.childContextTypes, {
isPopup: m["default"].PropTypes.bool,
routeConfig: m["default"].PropTypes.instanceOf(w.Route),
fonts: m["default"].PropTypes.shape({
normal: m["default"].PropTypes.any,
emphasis: m["default"].PropTypes.any,
letterSpacing: m["default"].PropTypes.number
})
});
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
var t = new Promise(function(e) {
y["default"].hide(), e();
});
v["default"].hideComponent("all", function() {
return t.then(e);
}, 1);
}
function a() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? function() {} : arguments[0], t = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1], n = t ? N : x, r = t ? $ : M;
v["default"].handleBlackFadeStart(1, n, function() {
e(), v["default"].handleBlackFadeStart(0, r);
});
}
function i() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
e.showGameReadyPopup ? I.confirm(__("ID_SPARTA_TUNGUSKA_PLAYING_JOIN_NOW"), __("ID_SPARTA_TUNGUSKA_PLAYING_GAME_READY"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_NO"), "gotoGame").then(function() {
u(e);
}) : u(e);
}
function s(e) {
e && I.confirm(__("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_EXIT_PROMPT"), __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_EXIT_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL"), "leaveServer").then(function() {
return e();
});
}
function l(e, t) {
var n = "quitprogresspopup";
e ? (S.tunguskaEndOfRoundStore.setQuitProgress(!0), I.alertWithOption("", __("ID_SPARTA_GAMESTATE_END_OF_ROUND_STATUS_QUITTING"), {
useConfirmInput: !1,
customInput: {
action: function r() {
return S.tunguskaEndOfRoundStore.setQuitProgress(!1);
},
key: R["default"].Decline,
label: __("ID_SPARTA_ACTION_CANCEL")
}
}, n)) : (S.tunguskaEndOfRoundStore.setQuitProgress(!1), A["default"].close(n), 
w.nextRoundCountDown.stop(), m["default"].stopGame(), t && t());
}
function u(e) {
e.withBlackFade ? c(e) : p(e);
}
function p(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? function() {} : arguments[1];
o(function() {
e.changeRoute && y["default"].route(e.changeRoute), E.frostbite.sendMessage("sparta.gameResume"), 
t();
});
}
function c(e) {
v["default"].handleBlackFadeStart(1, x, function() {
C["default"].changeGameViewContentVisibility(!1), p(e, function() {
d.action("e14ccf5c:148", function() {
_.tunguskaLevelStore.clearMpLevel(), P.backgroundState.isVisible = !1;
}), v["default"].handleBlackFadeStart(0, M);
});
});
}
t.__esModule = !0, t.hideSparta = o, t.fadeBlack = a, t.goToGame = i, t.quitWithConfirm = s, 
t.toggleQuittingOverlay = l;
var f = n(1), d = (r(f), n(10)), h = n(46), y = e(h), g = n(30), m = e(g), b = n(27), v = e(b), _ = n(200), S = n(78), w = n(139), T = n(36), C = e(T), E = n(2), I = n(35), P = n(176), O = n(25), A = e(O), k = n(12), R = e(k), x = {
duration: 700
}, M = {
duration: 1e3
}, N = {
duration: 700
}, $ = {
duration: 500,
delay: 700
}, D = {
totalSlowDuration: $.duration + $.delay + N.duration,
totalDuration: x.duration + M.duration
};
t.fadeOptions = D;
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return ae(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = s(d), y = n(4), g = s(y), m = n(2), b = n(74), v = n(10), _ = n(18), S = s(_), w = n(13), T = s(w), C = n(6), E = s(C), I = n(27), P = s(I), O = n(28), A = s(O), k = n(16), R = s(k), x = n(96), M = s(x), N = n(36), $ = s(N), D = n(275), U = s(D), L = n(30), F = s(L), G = n(399), j = s(G), B = n(53), H = s(B), V = n(760), z = s(V), W = n(176), q = n(766), K = s(q), X = n(765), Y = s(X), J = n(139), Q = n(173), Z = n(157), ee = n(140), te = n(78), ne = n(171), re = s(ne), oe = {
_$Header: {
displayName: "Header"
},
_$TunguskaGameViewRoute: {
displayName: "TunguskaGameViewRoute"
}
}, ae = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/TunguskaGameViewRoute.jsx",
components: oe,
locals: [],
imports: []
}), ie = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, se = E["default"].window.rowSpan(11), le = E["default"].window.rowSpan(7), ue = E["default"].window.rowSpan(SpartaGlobals.bundleIsPC ? 9 : 3), pe = S["default"].footer.top - S["default"].dangerZoneSize.height - ue, ce = le + ue, fe = SpartaGlobals.bundleIsPC ? S["default"].dangerZoneSize.width : 0, de = 40, he = E["default"].window.rowSpan(SpartaGlobals.bundleIsPC ? 12 : 3), ye = -he - E["default"].window.rowSpan(6), ge = {
duration: 100
}, me = {
duration: 50
}, be = {
header: {
rotate: {
duration: 200,
delay: 200
},
opacity: {
duration: 100,
delay: 200
}
},
inputBar: {
translation: {
duration: 150
},
opacity: {
duration: 100
}
}
}, ve = {
container: f({
zOffset: 11e3
}, S["default"].screen.style, {
position: "absolute"
}),
containerForeground: f({}, ie, {
zOffset: 20,
layer: !0,
layerGrabBackground: !1
}),
header: {
padding: [ S["default"].dangerZoneSize.height, S["default"].dangerZoneSize.width + fe, S["default"].dangerZoneSize.height, S["default"].dangerZoneSize.width ],
flexDirection: "row",
zOffset: 1,
height: se,
justifyContent: "center",
pivot: [ 0, se / 4, 0 ],
alignItems: "center"
},
column: {
flex: 1,
justifyContent: "center",
zOffset: 1
},
content: {
justifyContent: "center",
flex: 1,
padding: [ S["default"].dangerZoneSize.height / 2, S["default"].dangerZoneSize.width + fe, S["default"].dangerZoneSize.height + ce, S["default"].dangerZoneSize.width ]
},
input: {
position: "absolute",
left: 0,
top: pe,
height: le,
flexDirection: "row",
justifyContent: "space-between",
alignContent: "stretch",
alignItems: "flex-end",
marginLeft: 0,
marginRight: 0,
zOffset: 9050
},
borderContainerMiddle: {
flex: 1,
height: SpartaGlobals.bundleIsConsole ? 32 : E["default"].window.rowSpan(4)
},
borderContainerRight: {
flex: 0,
width: S["default"].dangerZoneSize.width,
height: SpartaGlobals.bundleIsConsole ? 32 : E["default"].window.rowSpan(4)
},
borderContainerLeft: {
flex: 0,
width: S["default"].dangerZoneSize.width,
height: SpartaGlobals.bundleIsConsole ? 32 : E["default"].window.rowSpan(4)
},
rightButtons: {
flex: 0,
zOffset: 1,
alignItems: "center"
},
storeButtons: {
flex: 0
},
inputBorder: {
position: "absolute",
left: 0,
right: 0,
bottom: 0,
height: 2,
backgroundColor: "#e6e6e680"
},
bottomBar: {
position: "absolute",
flexDirection: "row",
justifyContent: "center",
alignItems: "center",
left: 0,
right: 0,
height: de,
bottom: ye
}
}, _e = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function r() {
var e = this.props.header, t = f({}, ve.header, {
rotateX: T["default"].tweenSwitch(90, 0, this.props.isVisible, be.header.rotate, me),
opacity: T["default"].tweenSwitch(0, 1, this.props.isVisible, be.header.opacity, me)
});
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: e.left,
style: f({
alignItems: "flex-start"
}, ve.column)
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: e.middle,
style: f({
alignItems: "center"
}, ve.column)
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: e.right,
style: f({
alignItems: "flex-end"
}, ve.column)
},
_owner: null
} ],
style: t
},
_owner: null
};
};
var n = t;
return t = i("_$Header")(t) || t;
}(h["default"].Component), Se = h["default"].PropTypes.shape({
left: h["default"].PropTypes.any,
middle: h["default"].PropTypes.any,
right: h["default"].PropTypes.any
});
_e.propTypes = {
header: Se,
isVisible: h["default"].PropTypes.bool
}, _e.defaultProps = {
isVisible: !1
};
var we = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.state = {
fadeInReady: !1
}, this.currentVisibility = !1, this.opacityTween = T["default"].tween("a3ae5796:219", 0), 
this.focusAncestor = m.focus.createAncestor("gameview"), this.focusAncestor.getIsolationExceptions = function() {
return b.comcenterGroup.members;
}, this.cancelQueryListener = m.focus.system.onInvalidQuery.listen(function(e) {
r.props.gameViewState.isVisible && e.setAsVisible(r.focusAncestor.getChildren());
}), this.defaultLayoutComponents = {
userBar: SpartaGlobals.bundleIsConsole,
comCenter: void 0,
miniComCenter: void 0,
tint: void 0,
footer: void 0
};
}
a(t, e), t.prototype.componentWillMount = function s() {
this.configureVisibility(!1);
}, t.prototype.componentDidMount = function l() {
var e = this, t = "eor" === this.props.gameViewState.route && "loading" !== this.props.gameViewState.previousRoute;
this.props.fadeInBlack && t ? Q.fadeBlack(v.action("hide background", function() {
W.backgroundState.isVisible = !1, e.setRendered();
})) : this.setRendered();
}, t.prototype.componentDidUpdate = function u() {
this.configureVisibility(), this.updateBackgroundState();
}, t.prototype.componentWillUnmount = function d() {
this.focusAncestor.getChildren().forEach(function(e) {
e.setActive("a3ae5796:270", !1);
}), this.cancelQueryListener(), this.opacityTween.destroy(), delete this.opacityTween, 
this.configureVisibility(!1), this.focusAncestor.destroy();
}, t.prototype.setRendered = function y() {
this.setState({
fadeInReady: !0,
hasRendered: !0
});
}, t.prototype.configureVisibility = function _() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? this.props.gameViewState.isVisible : arguments[0], t = this.state.hasRendered ? e : !1;
this.currentVisibility !== t && (this.currentVisibility = t, this.currentVisibility && this.opacityTween ? this.opacityTween.to(1) : this.opacityTween && this.opacityTween.to(0), 
this.focusAncestor.setActive("gameViewVisibility", t), t ? (this.focusAncestor.isolate(), 
m.focus.system.recalculate(), P["default"].setComponentVisibilities({
only: f({}, this.defaultLayoutComponents, this.props.layoutComponents)
})) : (this.focusAncestor.deisolate(), P["default"].setComponentVisibilities({
only: !1
})));
}, t.prototype.render = function w() {
var e = this, t = this.state.hasRendered ? this.props.gameViewState.isVisible : !1, n = {
container: f({}, ve.container, {
opacity: this.opacityTween.getStyle(),
translateY: Z.gameViewTweenY.getStyle(),
enableMouseEvents: t
}),
containerForeground: f({}, ve.containerForeground, {
layerBlur: SpartaGlobals.bundleIsConsole ? T["default"].tweenSwitch(0, 1, this.state.isComCenterVisible, ge, me) : 0
}),
input: f({}, ve.input, {
opacity: T["default"].tweenSwitch(0, 1, t && (SpartaGlobals.bundleIsConsole || !this.state.isComCenterVisible), be.inputBar.opacity, me),
translateY: T["default"].tweenSwitch(Math.max(1, (S["default"].screen.height - pe) / 2), 0, t, be.inputBar.translation, me),
enableMouseEvents: !this.state.isComCenterVisible,
layer: this.state.isComCenterVisible,
layerClip: this.state.isComCenterVisible,
width: S["default"].screen.width,
layerSoftClip: this.state.isComCenterVisible ? [ 0, 0, 100, 0 ] : [ 0, 0, 0, 0 ]
}),
rightButtons: f({}, ve.rightButtons, {
opacity: T["default"].tweenSwitch(0, 1, !this.state.isComCenterVisible, ge, me)
})
}, o = this.props.header ? {
$$typeof: c,
type: _e,
key: null,
ref: null,
props: r(_e.defaultProps, {
header: this.props.header,
isVisible: t
}),
_owner: null
} : null, a = {
$$typeof: c,
type: z["default"],
key: null,
ref: null,
props: r(z["default"].defaultProps, {
style: ve.storeButtons,
height: ve.input.height
}),
_owner: null
}, i = this.state.isComCenterVisible || this.state.hasVisiblePopups || !this.props.rightButtons ? null : {
$$typeof: c,
type: z["default"],
key: null,
ref: null,
props: r(z["default"].defaultProps, {
style: n.rightButtons,
height: ve.input.height,
custom: this.props.rightButtons
}),
_owner: null
}, s = ee.operationFlow.state === ee.OperationState.eor, l = void 0;
if (this.props.nextRoundCountDown && J.nextRoundCountDown.active) l = {
$$typeof: c,
type: Y["default"],
key: null,
ref: null,
props: r(Y["default"].defaultProps, {
gameState: this.props.gameState,
style: ve.bottomBar,
text: s ? "" : __("ID_SPARTA_GAMESTATE_NEXT_ROUND_STARTS_IN"),
callback: function() {
$["default"].endOfRoundCountdownCompleted(), s ? F["default"].stopGame() : te.tunguskaEndOfRoundStore.quitInProgress && te.tunguskaEndOfRoundStore.isQuitDuringLoadingEnabled || Q.goToGame({
withBlackFade: !0,
showGameReadyPopup: !e.props.nextRoundCountDown.autoDismiss,
changeRoute: "playing"
}), e.props.nextRoundCountDown.callback && e.props.nextRoundCountDown.callback();
}
}),
_owner: null
}; else if ("loading" === this.props.gameViewState.route) {
this.server = this.props.gameState && this.props.gameState.server || this.props.match && this.props.match.server;
var u = "";
this.server ? u = this.props.gameState.queue.getPrettyStatus() || __("ID_SPARTA_SERVER_LOADING_GAME") : this.props.match && this.props.match.gameId && (u = __("ID_SPARTA_GAMESTATE_MATCHMAKING")), 
l = {
$$typeof: c,
type: K["default"],
key: null,
ref: null,
props: r(K["default"].defaultProps, {
style: ve.bottomBar,
text: u
}),
_owner: null
};
}
var p = this.props.fadeInBlack && !this.state.fadeInReady ? null : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: ve.inputBorder
},
_owner: null
},
style: ve.borderContainerLeft
},
_owner: null
}, a, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: ve.inputBorder
},
_owner: null
},
style: ve.borderContainerMiddle
},
_owner: null
}, i, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: ve.inputBorder
},
_owner: null
},
style: ve.borderContainerRight
},
_owner: null
} ],
style: n.input
},
_owner: null
}, d = this.props.fadeInBlack && !this.state.fadeInReady ? null : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ o, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.props.children, l ],
style: {
flex: 1
}
},
_owner: null
},
style: ve.content
},
_owner: null
} ],
style: n.containerForeground
},
_owner: null
};
return h["default"].createElement("surface", f({
style: n.container
}, this.focusAncestor.hooks), d, p);
}, p(t, [ {
key: "updateBackgroundState",
decorators: [ v.action ],
value: function C() {
var e = this;
g["default"].each(g["default"].keys(this.props.backgroundState), function(t) {
W.backgroundState[t] = e.props.backgroundState[t];
}), W.backgroundState.isVisible = this.currentVisibility;
}
} ]);
var n = t;
return t = i("_$TunguskaGameViewRoute")(t) || t, t = R["default"]({
isComCenterVisible: A["default"](H["default"], "comCenter"),
hasVisiblePopups: re["default"].transform(function(e) {
return Object.keys(e).length > 0;
})
})(t) || t, t = M["default"]({
configureVisibility: $["default"].changeGameViewContentVisibility
})(t) || t;
}(h["default"].Component);
t["default"] = we, we.defaultProps = {
nextRoundCountDown: null,
fadeInBlack: !1
}, we.propTypes = {
nextRoundCountDown: h["default"].PropTypes.object,
fadeInBlack: h["default"].PropTypes.bool,
gameState: h["default"].PropTypes.instanceOf(U["default"]).isRequired,
gameViewState: h["default"].PropTypes.instanceOf(j["default"]).isRequired
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t) {
e.exports = {
segment: {
scale: {
duration: 2500
},
baseDelay: 0,
scaleBack: {
duration: 500
}
},
rankImage: {
move: {
duration: 500,
delay: 300
},
scale: {
"in": {
duration: 500,
delay: 300
},
out: {
delay: 1e3,
duration: 500
}
}
},
rankUpOverlay: {
opacity: {
duration: 500
},
left: {
duration: 500
}
},
bonds: {
scale: {
duration: 500,
delay: 100
},
flare: {
duration: 500,
delay: 0
}
},
highlights: {
highlight: {
base: {
delay: 600
},
grow: {
duration: 500
}
}
}
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, a = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, i = n(1), s = (r(i), n(8)), l = n(10), u = n(13), p = r(u), c = n(9), f = n(63), d = n(157), h = n(99), y = r(h), g = c.bbUrl("/sparta/jsclient/builds/assets/loading-map-placeholder-1e71f22a.jpg"), m = [ c.bbUrl("/sparta/jsclient/builds/assets/map-overlay1-ccac3d98.png"), c.bbUrl("/sparta/jsclient/builds/assets/map-overlay2-dd8c642f.png"), c.bbUrl("/sparta/jsclient/builds/assets/map-overlay3-fd478149.png"), c.bbUrl("/sparta/jsclient/builds/assets/map-overlay4-1298a885.png") ], b = function S(e, t) {
var n = {
mp_desert: {
overlay: m[0]
},
mp_faofortress: {
overlay: m[0]
},
mp_suez: {
overlay: m[0]
},
mp_italiancoast: {
overlay: m[1]
},
mp_mountainfort: {
overlay: m[1]
},
mp_amiens: {
overlay: m[2]
},
mp_chateau: {
overlay: m[3]
},
mp_forest: {
overlay: m[3]
},
mp_scar: {
overlay: m[2]
},
mp_giant: {
overlay: m[2]
}
}, r = n[e] || {}, o = t.tunguska, a = o && o.maps && o.maps.filter(function(t) {
return t.filterKey.toLowerCase() === e;
});
if (a && a.length > 0) {
var i = a[0];
r.background = i.images && i.images.Jpg1000xANY;
}
return r;
}, v = l.observable({
mapName: null,
isVisible: !1,
isBlurred: !1,
showMap: !1,
hideOverlay: !1,
tweenOptions: p["default"].defaultTweenOptions
});
t.backgroundState = v;
var _ = s.observer(function() {
var e = v.tweenOptions, t = v.showMap && v.isBlurred, n = v.hideOverlay || !1, r = {
width: f.uiState.window.width,
height: f.uiState.window.height,
left: 0,
top: 0,
position: "absolute",
zOffset: 11e3,
backgroundColor: v.isBlurred ? "#00000040" : "#00000001",
opacity: v.isVisible ? 1 : 0,
translateY: d.gameBackgroundTweenY.getStyle()
}, i = {
flex: 1,
layer: !0,
layerGrabBackground: !0,
layerBlur: p["default"].tweenSwitch(0, 1, v.isBlurred, e),
textureAtlas: "SpartaCommonAtlas",
textureMode: "cover"
}, s = {
position: "absolute",
right: 0,
top: 0,
bottom: 0,
left: 0,
zOffset: 1,
opacity: t ? 1 : 0,
backgroundColor: "#00000040"
}, l = {
position: "absolute",
right: 0,
top: 0,
bottom: 0,
left: 0,
zOffset: 2,
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
textureAlign: [ 1, .5 ]
}, u = "";
if (v.mapName && (u = v.mapName.toLowerCase()), t) {
var c = y["default"].getState(), h = b(u, c), m = h.background, _ = h.overlay;
i = a({}, i, {
texture: m ? m : g
}), _ && (l = a({}, l, {
texture: _,
opacity: p["default"].tweenSwitch(0, 1, !n, {
duration: 300
}, {
duration: 300
})
}));
}
return {
$$typeof: o,
type: "surface",
key: "gameBackground",
ref: null,
props: {
children: [ {
$$typeof: o,
type: "surface",
key: null,
ref: null,
props: {
style: i
},
_owner: null
}, {
$$typeof: o,
type: "surface",
key: null,
ref: null,
props: {
style: s
},
_owner: null
}, {
$$typeof: o,
type: "surface",
key: null,
ref: null,
props: {
style: l
},
_owner: null
} ],
style: r
},
_owner: null
};
});
t.GameBackground = _;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
this.descriptionText = e.descriptionText || "", this.images = e.images, this.items = (e.items || []).map(function(e) {
return new i["default"](e);
}), this.origin = e.origin, this.packId = e.packId, this.packKey = e.packKey, this.packName = e.packName, 
this.personaId = e.personaId, this.prices = e.prices;
var t = parseInt(e.quantity, 10);
t && (this.quantity = t), this.rarenessLevel = e.rarenessLevel, this.revision = e.revision || "", 
this.visualName = e.visualName || e.packName || "", this.getScrapPrice = function() {
var e = void 0;
return this.prices && this.prices.forEach(function(t) {
var n = t[0];
"scraps" === n.name && (e = n.quantity);
}), e;
};
}
t.__esModule = !0;
var a = n(292), i = r(a);
t["default"] = o, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e) {
return e ? y.on : {};
}
t.__esModule = !0;
var i = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, s = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, l = n(1), u = o(l), p = n(2), c = r(p), f = n(9), d = f.bbOfflineUrl("/sparta/assets/ui/checkbox_on-3892f9f9.png"), h = f.bbOfflineUrl("/sparta/assets/ui/checkbox-ee4a5c14.png"), y = c.createStyleSheet({
on: {
texture: d
},
texture: {
texture: h,
alignSelf: "center",
width: 16,
height: 16,
textureBorder: 2,
textureMode: "fill"
}
}), g = function m(e) {
var t = e.value, n = e.style;
return {
$$typeof: s,
type: "surface",
key: null,
ref: null,
props: {
style: i({}, y.texture, a(t), n)
},
_owner: null
};
};
g.propTypes = {
value: u["default"].PropTypes.bool
}, g.defaultProps = {
style: {}
}, t["default"] = g, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return F(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), h = n(1), y = l(h), g = n(8), m = n(2), b = r(m), v = n(10), _ = n(14), S = l(_), w = n(12), T = l(w), C = n(6), E = l(C), I = n(7), P = l(I), O = n(299), A = l(O), k = n(40), R = n(59), x = l(R), M = n(60), N = n(13), $ = l(N), D = n(68), U = n(32), L = {
_$ListItem: {
displayName: "ListItem"
}
}, F = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/ListItem.jsx",
components: L,
locals: [],
imports: []
}), G = b.createStyleSheet({
background: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
backgroundColor: "#ffffff",
zOffset: 3
},
itemBase: {
paddingLeft: 2 * E["default"].GUTTER,
paddingRight: 2 * E["default"].GUTTER,
flex: 1,
zOffset: 3,
flexDirection: "row",
justifyContent: "space-between",
alignItems: "center",
height: E["default"].getHeight(7)
},
itemActive: {
backgroundColor: "#ffffff33"
},
activeIndicator: {
position: "absolute",
left: 0,
top: 0,
bottom: 0,
width: 2,
backgroundColor: "#ffffff",
zOffset: 2
},
mutedText: {
opacity: .5
}
}), j = {
enter: $["default"].defaultTweenOptions.duration / 3,
leave: $["default"].defaultTweenOptions.duration / 3
}, B = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = t.focusItem || b.focus.create(this, "listitem-" + t.label), 
this.focusItem.autoFocusCandidate = !0;
}
i(t, e), t.prototype.renderLabel = function r(e, t) {
var n = t ? {
marginLeft: E["default"].GUTTER / 2
} : {
paddingRight: E["default"].GUTTER / 2
};
n = this.props.muted ? f({}, n, G.mutedText) : n;
var r = this.props.label, a = k.getTextSizes(D.fontState.locale);
if ("function" == typeof r && (r = this.props.label()), "string" == typeof r) {
var i = this.isFocused || this.props.isActive && this.props.showActiveIndicator === !0, s = i && !this.props.muted ? "emphasis" : "normal", l = t ? M.Direction.Left : M.Direction.Right;
r = this.props.scrollLabel ? {
$$typeof: c,
type: M.Marquee,
key: null,
ref: null,
props: o(M.Marquee.defaultProps, {
children: {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
value: this.props.upperCase ? r.toUpperCase() : r,
size: this.props.fontSize,
style: {
flex: 1
},
color: e,
type: s
}),
_owner: null
},
style: f({
zOffset: 4,
flex: 1
}, n),
scroll: this.isFocused,
scrollTo: l,
delay: 100,
onClick: this.props.onLabelClick
}),
_owner: null
} : {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
value: this.props.upperCase ? r.toUpperCase() : r,
size: this.props.fontSize,
onClick: this.props.onLabelClick,
color: e,
type: s,
style: f({
zOffset: 4,
flex: 1,
textAlignForRTL: "left"
}, n)
}),
_owner: null
};
}
var u = this.props.icon || (this.isFocused && !this.props.muted ? this.props.focusIcon : this.props.blurIcon);
if (u) {
var p = this.props.iconSize ? this.props.iconSize : this.props.fontSize;
r = {
$$typeof: c,
type: A["default"],
key: null,
ref: null,
props: o(A["default"].defaultProps, {
style: {
zOffset: 4,
opacity: this.props.muted ? .5 : 1
},
height: a[p],
icon: u,
label: r,
iconSpace: this.props.iconSpace
}),
_owner: null
};
}
return r;
}, t.prototype.renderSubLabel = function l(e, t) {
var n = {
marginLeft: E["default"].GUTTER / 2
};
n = this.props.muted ? f({}, n, G.mutedText) : n;
var r = this.props.subLabel;
if ("function" == typeof this.props.subLabel && (r = this.props.subLabel()), "string" == typeof r) {
var a = r || " ";
return {
$$typeof: c,
type: M.Marquee,
key: null,
ref: null,
props: o(M.Marquee.defaultProps, {
children: {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
value: a,
size: "XS",
color: e,
style: {
marginTop: 3
}
}),
_owner: null
},
style: f({
zOffset: 4,
flex: 1
}, n),
scroll: this.isFocused,
scrollTo: M.Direction.Left,
onClick: this.props.onSubLabelClick,
durations: j
}),
_owner: null
};
}
return r ? (r = y["default"].cloneElement(r, f({}, r.props, {
focused: this.isFocused,
fontColor: this.props.fontColor,
isArabic: t
})), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: r,
onClick: this.props.onSubLabelClick,
style: {
zOffset: 4,
justifyContent: "flex-end"
}
},
_owner: null
}) : void 0;
}, t.prototype.renderContent = function u(e) {
var t = f({}, G.itemBase, e ? G.itemActive : {});
if (this.props.style && this.props.style.height && (t.height = this.props.style.height), 
this.props.children) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: t
},
_owner: null
};
var n = this.props.fontColor ? this.props.fontColor : "#ffffff";
this.isFocused && !this.props.muted && (n = "#000000");
var r = e && {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: G.activeIndicator
},
_owner: null
}, o = U.isRTLLanguage();
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: U.localeRearrange([ this.renderLabel(n, o), this.renderSubLabel(n, o) ]),
style: t
},
_owner: null
}, r ]
},
_owner: null
};
}, t.prototype.render = function p() {
var e, t = this.props.isActive && !this.isFocused && this.props.showActiveIndicator === !0, n = {
opacity: this.isFocused && !this.props.muted ? 1 : 0
};
return e = this.props.input ? this.props.input : this.props.onTrigger && new S["default"]({
label: this.props.inputLabel || __("ID_SPARTA_ACTION_SELECT"),
action: this.props.onTrigger,
blockInputFor: this.props.blockInputFor ? this.props.blockInputFor : 0,
key: T["default"].Accept
}), {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ G.background, n ]
},
_owner: null
}, this.renderContent(t) ],
input: e,
glow: !0,
style: this.props.style,
id: this.props.id,
focusItem: this.focusItem,
onClick: this.props.onClick,
item: this.props.item
}),
_owner: null
};
}, d(t, [ {
key: "isFocused",
decorators: [ v.computed ],
get: function h() {
return this.focusItem.isHovered;
}
} ]);
var n = t;
return t = s("_$ListItem")(t) || t, t = g.observer(t) || t;
}(y["default"].Component);
t["default"] = B, B.propTypes = {
focusItem: y["default"].PropTypes.instanceOf(b.focus.FocusItem),
fontSize: y["default"].PropTypes.string,
isActive: y["default"].PropTypes.bool,
muted: y["default"].PropTypes.bool,
upperCase: y["default"].PropTypes.bool,
scrollLabel: y["default"].PropTypes.bool,
label: y["default"].PropTypes.oneOfType([ y["default"].PropTypes.string, y["default"].PropTypes.element, y["default"].PropTypes.func ]).isRequired,
subLabel: y["default"].PropTypes.oneOfType([ y["default"].PropTypes.string, y["default"].PropTypes.element, y["default"].PropTypes.func ]),
inputLabel: y["default"].PropTypes.string,
onTrigger: y["default"].PropTypes.func,
blockInputFor: y["default"].PropTypes.number,
icon: y["default"].PropTypes.string,
iconSize: y["default"].PropTypes.string,
iconSpace: y["default"].PropTypes.number,
focusIcon: y["default"].PropTypes.string,
blurIcon: y["default"].PropTypes.string,
onClick: y["default"].PropTypes.func,
onLabelClick: y["default"].PropTypes.func,
onSubLabelClick: y["default"].PropTypes.func
}, B.defaultProps = {
fontSize: "S",
upperCase: !0,
muted: !1
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return L(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e, t, n) {
return t > e ? t : e > n ? n : e;
}
var p = n(3), c = l(p);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(4), y = l(h), g = n(1), m = l(g), b = n(815), v = l(b), _ = n(2), S = r(_), w = n(8), T = n(20), C = l(T), E = n(13), I = l(E), P = n(7), O = l(P), A = n(14), k = l(A), R = n(196), x = n(17), M = l(x), N = n(49), $ = n(12), D = l($), U = {
_$InputField: {
displayName: "InputField"
}
}, L = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Text/InputField.jsx",
components: U,
locals: [],
imports: []
}), F = /[\u0020-\u007E\u00A0-\u017F\u0192\u01FA-\u01FF\u20AC\u2122\u2012\u2013\u2014\u2018\u2019\u201C\u201D\u0410-\u042F\u0490\u0406\u0402\u0452\u0403\u0453\u0456\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\u040B\u045B\u040C\u045C\u0455\u040E\u045E\u040F\u045F\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E]/, G = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, j = {
LatinFull: 1,
Numeric: 2,
Alphabet: 4,
Gamertag: 8,
Password: 16,
AlphabetSpace: 32
}, B = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t);
var o = this.props.initialValue || "";
this.state = {
value: o,
cursorStart: o.length,
cursorEnd: o.length
}, this.focusItem = S.focus.create(this, "inputfield"), this.focusItem.autoFocusCandidate = !0, 
this.props.useVirtualKeyboard ? (this.focusItem.onFocus(function() {
return r.activate();
}), this.focusItem.onBlur(function() {
return r.deactivate();
})) : (this.focusItem.onFocus(function() {
r.isolateInputGroup(), r.updateInput();
}), this.focusItem.onBlur(function() {
return r.releaseInputGroup();
})), this.eventSubscriptions = [], this.cursorOpacity = I["default"].tween("1f1aa49a:83", 0);
}
i(t, e), t.prototype.componentWillReceiveProps = function r(e) {
if (e.initialValue !== this.props.initialValue) {
var t = e.initialValue || "";
this.setState({
value: t,
cursorStart: t.length,
cursorEnd: t.length
});
}
}, t.prototype.componentWillUnmount = function l() {
this.deactivate(), this.cursorOpacity.destroy();
}, t.prototype.getInput = function p() {
var e = this;
if (this.focusItem.isFocused) {
var t = this.props.useVirtualKeyboard ? !1 : this.state.isActive;
if (t) return [ new k["default"]({
label: __("ID_SPARTA_ACTION_CANCEL"),
action: function r() {
return e.deactivate();
},
key: this.props.cancelKey
}) ];
var n = this.props.useVirtualKeyboard ? function() {
return e.showVirtualKeyboard();
} : function() {
return e.activate();
};
return [ new k["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: n,
key: this.props.editKey
}) ];
}
}, t.prototype.onKeyDown = function c(e) {
switch (e) {
case 27:
this.props.useVirtualKeyboard || this.deactivate();
break;

case 37:
this.offsetCursor(-1);
break;

case 39:
this.offsetCursor(1);
break;

case 8:
this.deleteOffset(-1);
break;

case 46:
this.deleteOffset(1);
break;

case 35:
this.offsetCursor(this.state.value.length);
break;

case 36:
this.offsetCursor(-this.state.value.length);
break;

case 160:
this.isShiftDown = !0;
break;

case 162:
this.isControlDown = !0;
break;

case 65:
this.isControlDown && this.setState({
cursorStart: 0,
cursorEnd: this.state.value.length
});
}
}, t.prototype.onKeyUp = function h(e) {
switch (e) {
case 160:
this.isShiftDown = !1;
break;

case 162:
this.isControlDown = !1;
}
}, t.prototype.onCharacterClicked = function g(e) {
if (this.state.isActive) {
var t = e - this.state.cursorEnd;
this.offsetCursor(t);
} else this.activate();
}, t.prototype.cursorMin = function m() {
return Math.min(this.state.cursorStart, this.state.cursorEnd);
}, t.prototype.cursorMax = function b() {
return Math.min(this.state.cursorStart, this.state.cursorEnd);
}, t.prototype.selectionSize = function _() {
return this.cursorMax() - this.cursorMin();
}, t.prototype.subscribeToEvents = function T() {
var e = this;
this.unsubscribeFromEvents(), this.props.useVirtualKeyboard || (this.eventSubscriptions.push(S.events.onPropagatingMouseEvent.listen(function(t) {
return e.deactivateOnClickOutside(t);
})), this.eventSubscriptions.push(S.events.onKeyUp.listen(this.onKeyUp.bind(this))), 
this.eventSubscriptions.push(S.events.onKeyDown.listen(this.onKeyDown.bind(this))), 
this.eventSubscriptions.push(S.events.onTypingInput.listen(function(t, n, r) {
return e.insertValue(r);
})), S.frostbite.sendMessage("sparta.toggleVirtualKeyboard", {
show: !0
}), this.eventSubscriptions.push(function() {
S.frostbite.sendMessage("sparta.toggleVirtualKeyboard", {
show: !1
});
}));
}, t.prototype.unsubscribeFromEvents = function E() {
this.eventSubscriptions.forEach(function(e) {
return e();
}), this.eventSubscriptions = [];
}, t.prototype.deactivate = function P() {
this.state.isActive && (this.props.useCursor && (this.releaseInputGroup(), M["default"].setNavigationEnabled(!0), 
clearInterval(this.cursorVisibilityInterval), this.cursorOpacity.set(0)), this.unsubscribeFromEvents(), 
this.setState({
isActive: !1
}));
}, t.prototype.activate = function A() {
if (!this.props.disabled) {
if (this.state.isActive) return void this.offsetCursor(this.state.value.length);
this.props.useCursor && (this.isolateInputGroup(), M["default"].setNavigationEnabled(!1), 
this.cursorVisibilityInterval = setInterval(this.toggleCursorVisibility.bind(this), 500), 
this.cursorOpacity.set(1)), this.subscribeToEvents(), this.setState({
isActive: !0
});
}
}, t.prototype.deactivateOnClickOutside = function R(e) {
var t = this;
if ("onClick" === e.eventName && e.button <= 3) {
if (y["default"].some(e.surfaces, function(e) {
return e.surfaceId.indexOf(t._reactInternalInstance._rootNodeID) > -1;
})) return;
this.deactivate();
}
}, t.prototype.insertValue = function x(e) {
var t = e.split("").filter(function(e) {
return F.test(e);
}).join("");
t && this.splice(this.cursorMin(), this.selectionSize(), t);
}, t.prototype.replaceValue = function N(e) {
var t = e.split("").filter(function(e) {
return F.test(e);
}).join("");
this.setState({
value: t,
cursorStart: t.length,
cursorEnd: t.length
}), this.props.onValueChanged && this.props.onValueChanged(e);
}, t.prototype.splice = function $(e, t, n) {
var r;
0 > e && (r = e + t, e = 0, t = r > 0 ? r : 0), r = e + t, r > this.state.value.length && (e >= this.state.value.length ? (e = this.state.value.length, 
t = 0) : t = this.state.value.length - e);
var o = this.state.value.split("");
if (n && n.length > 0) {
var a = this.props.maxLength - (o.length - t);
n = n.substring(0, a);
} else n = "";
o.splice(e, t, n);
var i = o.join(""), s = e + n.length, l = u(s, 0, i.length);
this.setState({
value: i,
cursorStart: l,
cursorEnd: l
}), this.props.onValueChanged && this.props.onValueChanged(i);
}, t.prototype.deleteOffset = function D(e) {
var t = this.selectionSize();
if (t) this.splice(this.cursorMin(), t); else if (e > 0) this.splice(this.state.cursorStart, e); else if (0 > e) {
var n = Math.abs(e);
this.splice(this.state.cursorStart - n, n);
}
}, t.prototype.offsetCursor = function U(e) {
if (!e) return this.state.value.length;
var t;
if (this.isShiftDown) t = u(this.state.cursorEnd + e, 0, this.state.value.length), 
this.setState({
cursorEnd: t
}); else {
var n = 0 > e ? this.cursorMin() : this.cursorMax();
t = u(n + e, 0, this.state.value.length), this.setState({
cursorStart: t,
cursorEnd: t
});
}
}, t.prototype.toggleCursorVisibility = function L() {
this.cursorOpacity.set(this.cursorOpacity.previousInstruction.to ? 0 : 1);
}, t.prototype.showVirtualKeyboard = function B() {
var e = this;
this.props.useVirtualKeyboard && this.eventSubscriptions.length < 1 && this.eventSubscriptions.push(S.events.onTypingInput.listen(function(t, n, r) {
n && e.replaceValue(r);
})), S.frostbite.sendMessage("sparta.toggleVirtualKeyboard", {
show: !0,
title: this.props.title || "",
description: this.props.description || "",
defaultText: this.state.value,
maxTextLength: this.props.maxLength,
characterType: j[this.props.type]
});
}, t.prototype.renderPaddingChar = function H(e, t) {
return " " === e ? {
$$typeof: d,
type: O["default"],
key: null,
ref: null,
props: o(O["default"].defaultProps, {
value: "_",
style: f({}, t, {
opacity: 0
}),
section: this.props.section,
size: this.props.size
}),
_owner: null
} : {
$$typeof: d,
type: O["default"],
key: null,
ref: null,
props: o(O["default"].defaultProps, {
value: e,
style: t,
section: this.props.section,
size: this.props.size
}),
_owner: null
};
}, t.prototype.render = function V() {
var e = this, t = this.state.value;
if ("Password" === this.props.type) {
t = "";
for (var n = 0; n < this.state.value.length; n++) t += "*";
}
var r;
if (this.props.useCursor && 0 === this.selectionSize()) {
var a, i, s;
!function() {
a = t.substr(0, e.state.cursorStart), e.context.fonts ? i = e.context.fonts : e.context.routeConfig && (i = e.context.routeConfig.fonts);
var n = i ? i.letterSpacing : 0, l = n > 0 ? {
paddingLeft: n,
opacity: 0
} : {
opacity: 0
};
s = y["default"].map(a, function(t, n) {
return e.renderPaddingChar(t, l);
}), r = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ s, {
$$typeof: d,
type: O["default"],
key: null,
ref: null,
props: o(O["default"].defaultProps, {
value: "|",
size: e.props.size,
section: e.props.section,
style: {
color: "#ffffff",
opacity: e.cursorOpacity.getStyle()
}
}),
_owner: null
} ],
style: f({
paddingLeft: 10,
flexDirection: "row",
zOffset: 10
}, G)
},
_owner: null
};
}();
}
return {
$$typeof: d,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
children: r,
onClick: function(t) {
return e.activate(t);
},
onCharacterClicked: function(t) {
return e.onCharacterClicked(t);
},
selectionStart: this.cursorMin(),
focusItem: this.focusItem,
selectionEnd: this.cursorMax(),
style: this.props.style,
size: this.props.size,
section: this.props.section,
isActive: this.state.isActive,
isInvalid: this.props.isInvalid,
placeholder: this.props.placeholder,
value: t
}),
_owner: null
};
};
var n = t;
return t = s("_$InputField")(t) || t, t = C["default"]({
group: SpartaGlobals.bundleIsPC
})(t) || t, t = w.observer(t) || t;
}(m["default"].Component);
t["default"] = B, B.defaultProps = {
type: "LatinFull",
title: "",
maxLength: 255,
useVirtualKeyboard: SpartaGlobals.bundleIsConsole,
useCursor: SpartaGlobals.bundleIsPC,
initialValue: "",
size: "M",
isInvalid: !1,
deactivateOnBlur: !0,
disabled: !1,
cancelKey: D["default"].Decline
}, B.propTypes = {
initialValue: m["default"].PropTypes.string,
type: m["default"].PropTypes.oneOf(Object.keys(j)).isRequired,
title: m["default"].PropTypes.string,
description: m["default"].PropTypes.string,
maxLength: m["default"].PropTypes.number.isRequired,
onValueChanged: m["default"].PropTypes.func,
editKey: m["default"].PropTypes.instanceOf(R.Key),
cancelKey: m["default"].PropTypes.instanceOf(R.Key),
size: m["default"].PropTypes.string,
style: m["default"].PropTypes.object,
useCursor: m["default"].PropTypes.bool.isRequired,
useVirtualKeyboard: m["default"].PropTypes.bool.isRequired,
disabled: m["default"].PropTypes.bool
}, B.contextTypes = f({}, B.contextTypes, {
routeConfig: m["default"].PropTypes.instanceOf(N.Route),
fonts: m["default"].PropTypes.shape({
normal: m["default"].PropTypes.any,
emphasis: m["default"].PropTypes.any,
letterSpacing: m["default"].PropTypes.number
})
}), e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
var r = n(2).Bounds, o = new r(0, 0, 1920, 1080), a = {
width: SpartaGlobals.bundleIsPC ? 40 / 1920 : 101 / 1920,
height: SpartaGlobals.bundleIsPC ? 40 / 1080 : 55 / 1080
}, i = {
width: a.width * o.width,
height: a.height * o.height
}, s = SpartaGlobals.bundleIsPC ? 90 : 0, l = new r(o.left + i.width + s, o.top + i.height, o.width - 2 * i.width - 2 * s, o.height - 2 * i.height);
e.exports = {
screen: o,
dangerZoneSize: i,
safeZone: l,
sideOffset: s
};
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r() {
[ w, T, C, E, I ].forEach(function(e) {
return e.startListening();
});
}
function o() {
[ w, T, C, E, I ].forEach(function(e) {
return e.stopListening();
});
}
t.__esModule = !0, t.startListening = r, t.stopListening = o;
var a = n(46), i = e(a), s = n(82), l = e(s), u = n(17), p = e(u), c = n(4), f = n(21), d = n(52).gatewayClient, h = n(845), y = n(846), g = n(848), m = n(847), b = n(11).locationStore, v = n(19), _ = n(69), S = n(92), w = f.createClient({
requestOn: [ l["default"].getArticles ],
request: function P(e) {
var t = v.getState().locale, n = t.replace("-", "_").replace(/\_(.*)/, function a(e) {
return e.toUpperCase();
}), r = this.getContext(e), o = {
locale: n,
context: r || v.getHostingGame().gameId
};
return d.request("Aegis.listArticles", o);
},
getContext: function O(e) {
var t;
if ("InGame" === e) {
var n = S.getState().contextForInGame;
t = n.replace(/\//g, "-");
} else for (var r = b.history, o = r.length - 1; o >= 0; o--) if (-1 === r[o].path.indexOf("wwcesupport")) {
var a = r[o].path.replace(/\//g, "-");
t = a, console.log("Context being passed to fetch articles " + t);
break;
}
return t;
},
parse: function A(e) {
var t = this.sortArticlesByDate(e.articles), n = c.map(t, function(e) {
return new h({
id: e.articleId,
title: e.articleTitle,
summary: e.articleSummary,
categories: e.articleCategories
});
});
return {
showContactUs: e.showContactUs,
articleList: n
};
},
sortArticlesByDate: function k(e) {
var t = c.sortBy(e, function(e) {
return e.articlePublishDate;
});
return t.reverse();
},
onRequestError: function R(e) {
var t = this.getContext(S.getState().source);
t = t.replace(/-/g, "/"), _.spartaErrorMessage(__("ID_SPARTA_HELP_ERROR_MSG"), __("ID_SPARTA_MAIN_TITLE_HELP"), function n() {
"InGame" === S.getState().source ? i["default"].route("playing") : p["default"].gotoLocation(t);
});
},
update: function x(e) {
this.publish(e);
}
});
t.articleList = w;
var T = f.createClient({
requestOn: [ l["default"].getArticleDetail ],
request: function M(e) {
var t = v.getState().locale, n = t.replace("-", "_").replace(/\_(.*)/, function o(e) {
return e.toUpperCase();
}), r = {
locale: n,
articleId: e
};
return d.request("Aegis.parsedArticle", r);
},
onRequestError: function N(e) {
_.spartaErrorMessage(__("ID_SPARTA_HELP_ERROR_MSG"), __("ID_SPARTA_MAIN_TITLE_HELP"), function t() {
"InGame" === S.getState().source ? i["default"].route("playing") : p["default"].gotoLocation("wwcesupport/help");
});
},
parse: function $(e) {
var t = e.response, n = new y({
id: t.article.articleId,
content: t.article.articleContent,
categories: t.article.articleCategories,
title: t.article.articleTitle,
summary: t.article.articleSummary
});
return {
showContactUs: t.showContactUs,
article: n,
parsedArticle: e.parsedChunks
};
},
update: function D(e) {
this.publish(e);
}
});
t.articleDetail = T;
var C = f.createClient({
requestOn: [ l["default"].saveArticleMetrics ],
request: function U(e, t) {
var n = {
articleId: e,
isHelpful: t
};
return d.request("Aegis.articleMetrics", n);
},
parse: function L(e) {
return e;
},
update: function F(e) {
this.publish(e);
}
});
t.articleMetrics = C;
var E = f.createClient({
requestOn: [ l["default"].getContactChannels ],
request: function G(e, t) {
var n = v.getState().locale, r = n.replace("-", "_").replace(/\_(.*)/, function a(e) {
return e.toUpperCase();
}), o = {
locale: r,
category: e,
location: t
};
return d.request("Aegis.channels", o);
},
onRequestError: function j(e) {
_.spartaErrorMessage(__("ID_SPARTA_HELP_ERROR_MSG"), __("ID_SPARTA_MAIN_TITLE_HELP"), function t() {
"InGame" === S.getState().source ? i["default"].route("playing") : p["default"].gotoLocation("wwcesupport/help");
});
},
parse: function B(e) {
(c.isUndefined(e.channels) || null === e.channels || e.channels && 0 === e.channels.length) && _.spartaErrorMessage(__("ID_SPARTA_HELP_ERROR_MSG"), __("ID_SPARTA_MAIN_TITLE_HELP"), function r() {
"InGame" === S.getState().source ? i["default"].route("playing") : p["default"].gotoLocation("wwcesupport/help");
});
var t = this.sortByRecommendedChannel(e.channels), n = c.map(t, function(e) {
return new g({
message: e.channelMessage,
name: e.channelName,
rank: e.channelRank,
customerValue: e.customerValue,
lifeCycle: e.lifeCycle,
skill: e.skill,
waitTime: e.waitTime,
waitTimeRange: e.waitTimeRange,
notInBusinessHours: e.notBussinessHours
});
});
return {
countryCodes: e.countryCodes,
email: e.email,
phoneNumber: e.phoneNumber,
countryCode: e.countryCode,
channels: n
};
},
sortByRecommendedChannel: function H(e) {
var t = null;
if (c.each(e, function(e) {
"phone" === e.channelName && (t = e);
}, this), null != t && e.length > 1) {
var n = e.indexOf(t);
return e.splice(n, 1), e.splice(0, 0, t), e;
}
return e;
},
update: function V(e) {
this.publish(e);
}
});
t.contactChannels = E;
var I = f.createClient({
requestOn: [ l["default"].createCase ],
request: function z(e) {
var t = v.getState().locale, n = t.replace("-", "_").replace(/\_(.*)/, function i(e) {
return e.toUpperCase();
}), r = c.isUndefined(S.getState()) ? null : S.getState().selectedChannel, o = null != r ? {
lifeCycle: r.lifeCycle,
customerValue: r.customerValue,
countryCode: S.getState().countryCode,
skill: r.skill
} : null, a = {
locale: n,
email: e,
category: S.getState().selectedCategory,
callbackNumber: S.getState().phoneNumber,
channel: r.name,
payload: JSON.stringify(o)
};
return d.request("Aegis.createCase", a);
},
onRequestError: function W(e) {
_.spartaErrorMessage(__("ID_SPARTA_HELP_ERROR_MSG"), __("ID_SPARTA_MAIN_TITLE_HELP"), function t() {
"InGame" === S.getState().source ? i["default"].route("playing") : p["default"].gotoLocation("wwcesupport/help");
});
},
parse: function q(e) {
if (c.isUndefined(e.message) || "" === e.message) {
var t = new m({
channel: e.channel,
caseNumber: e.caseNumber,
waitTime: e.waitTime,
waitTimeRange: e.waitTimeRange
});
return {
caseDetail: t
};
}
return {
message: e.message,
messageCode: e.messageCode
};
},
update: function K(e) {
this.publish(e);
}
});
t.createCase = I;
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(24), s = r(i), l = n(182), u = n(82), p = r(u), c = new s["default"]("WwceSupportContactChannelStore"), f = a["default"].createStore({
init: function d() {
l.contactChannels.listen(function(e) {
c = e, f.trigger(c);
}), p["default"].resetChannelDetailState.listen(function() {
c = {};
});
},
getState: function h() {
return c;
},
getInitialState: function y() {
return this.getState();
}
});
t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return new d.Bounds(e.x, e.y, e.width, e.height, e.localX, e.localY);
}
function o(e) {
p.TweenBatching.start(), e.forEach(function(e) {
var t = h[e.surfaceId];
if (t) for (var n = 0; n < t.length; n++) t[n].receiveBounds(r(e));
}), p.TweenBatching.stop();
}
function a(e) {
var t = c.Native.getSurfaceBoundsSync(e);
return t && "number" == typeof t.x ? r(t) : null;
}
function i(e) {
for (var t = f.batchSyncCalls(e.map(function(e) {
return {
func: "getSurfaceBoundsSync",
args: [ e ]
};
})), n = {}, o = 0; o < e.length; o++) {
var a = e[o], i = t[o];
i && "number" == typeof i.x && (n[a] = r(i));
}
return n;
}
function s(e) {
var t = e.getSurfaceId(), n = h[t] || (h[t] = []);
n.push(e);
}
function l(e) {
var t = e.getSurfaceId();
delete h[t];
}
function u(e) {
return !!h[e];
}
t.__esModule = !0, t.onSurfaceBoundsChanged = o, t.getBoundsSync = a, t.getMultipleBoundsSync = i, 
t.subscribe = s, t.unsubscribe = l, t.hasSubscription = u;
var p = n(133), c = n(45), f = n(358), d = n(253), h = {};
}, function(e, t, n) {
"use strict";
var r = n(490), o = n(915), a = n(504), i = n(513), s = n(514), l = n(29), u = (n(42), 
{}), p = null, c = function(e, t) {
e && (o.executeDispatchesInOrder(e, t), e.isPersistent() || e.constructor.release(e));
}, f = function(e) {
return c(e, !0);
}, d = function(e) {
return c(e, !1);
}, h = null, y = {
injection: {
injectMount: o.injection.injectMount,
injectInstanceHandle: function(e) {
h = e;
},
getInstanceHandle: function() {
return h;
},
injectEventPluginOrder: r.injectEventPluginOrder,
injectEventPluginsByName: r.injectEventPluginsByName
},
eventNameDispatchConfigs: r.eventNameDispatchConfigs,
registrationNameModules: r.registrationNameModules,
putListener: function(e, t, n) {
"function" != typeof n ? l(!1) : void 0;
var o = u[t] || (u[t] = {});
o[e] = n;
var a = r.registrationNameModules[t];
a && a.didPutListener && a.didPutListener(e, t, n);
},
getListener: function(e, t) {
var n = u[t];
return n && n[e];
},
deleteListener: function(e, t) {
var n = r.registrationNameModules[t];
n && n.willDeleteListener && n.willDeleteListener(e, t);
var o = u[t];
o && delete o[e];
},
deleteAllListeners: function(e) {
for (var t in u) if (u[t][e]) {
var n = r.registrationNameModules[t];
n && n.willDeleteListener && n.willDeleteListener(e, t), delete u[t][e];
}
},
extractEvents: function(e, t, n, o, a) {
for (var s, l = r.plugins, u = 0; u < l.length; u++) {
var p = l[u];
if (p) {
var c = p.extractEvents(e, t, n, o, a);
c && (s = i(s, c));
}
}
return s;
},
enqueueEvents: function(e) {
e && (p = i(p, e));
},
processEventQueue: function(e) {
var t = p;
p = null, e ? s(t, f) : s(t, d), p ? l(!1) : void 0, a.rethrowCaughtError();
},
__purge: function() {
u = {};
},
__getListenerBank: function() {
return u;
}
};
e.exports = y;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
var r = t.dispatchConfig.phasedRegistrationNames[n];
return b(e, r);
}
function o(e, t, n) {
var o = t ? m.bubbled : m.captured, a = r(e, n, o);
a && (n._dispatchListeners = y(n._dispatchListeners, a), n._dispatchIDs = y(n._dispatchIDs, e));
}
function a(e) {
e && e.dispatchConfig.phasedRegistrationNames && h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker, o, e);
}
function i(e) {
e && e.dispatchConfig.phasedRegistrationNames && h.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker, o, e);
}
function s(e, t, n) {
if (n && n.dispatchConfig.registrationName) {
var r = n.dispatchConfig.registrationName, o = b(e, r);
o && (n._dispatchListeners = y(n._dispatchListeners, o), n._dispatchIDs = y(n._dispatchIDs, e));
}
}
function l(e) {
e && e.dispatchConfig.registrationName && s(e.dispatchMarker, null, e);
}
function u(e) {
g(e, a);
}
function p(e) {
g(e, i);
}
function c(e, t, n, r) {
h.injection.getInstanceHandle().traverseEnterLeave(n, r, s, e, t);
}
function f(e) {
g(e, l);
}
var d = n(106), h = n(185), y = (n(42), n(513)), g = n(514), m = d.PropagationPhases, b = h.getListener, v = {
accumulateTwoPhaseDispatches: u,
accumulateTwoPhaseDispatchesSkipTarget: p,
accumulateDirectDispatches: f,
accumulateEnterLeaveDispatches: c
};
e.exports = v;
}, function(e, t, n) {
"use strict";
var r = n(29), o = !1, a = {
unmountIDFromEnvironment: null,
replaceNodeWithMarkupByID: null,
processChildrenUpdates: null,
injection: {
injectEnvironment: function(e) {
o ? r(!1) : void 0, a.unmountIDFromEnvironment = e.unmountIDFromEnvironment, a.replaceNodeWithMarkupByID = e.replaceNodeWithMarkupByID, 
a.processChildrenUpdates = e.processChildrenUpdates, o = !0;
}
}
};
e.exports = a;
}, function(e, t) {
"use strict";
var n = {
remove: function(e) {
e._reactInternalInstance = void 0;
},
get: function(e) {
return e._reactInternalInstance;
},
has: function(e) {
return void 0 !== e._reactInternalInstance;
},
set: function(e, t) {
e._reactInternalInstance = t;
}
};
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(135), a = n(331), i = {
view: function(e) {
if (e.view) return e.view;
var t = a(e);
if (null != t && t.window === t) return t;
var n = t.ownerDocument;
return n ? n.defaultView || n.parentWindow : window;
},
detail: function(e) {
return e.detail || 0;
}
};
o.augmentClass(r, i), e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(29), o = {
reinitializeTransaction: function() {
this.transactionWrappers = this.getTransactionWrappers(), this.wrapperInitData ? this.wrapperInitData.length = 0 : this.wrapperInitData = [], 
this._isInTransaction = !1;
},
_isInTransaction: !1,
getTransactionWrappers: null,
isInTransaction: function() {
return !!this._isInTransaction;
},
perform: function(e, t, n, o, a, i, s, l) {
this.isInTransaction() ? r(!1) : void 0;
var u, p;
try {
this._isInTransaction = !0, u = !0, this.initializeAll(0), p = e.call(t, n, o, a, i, s, l), 
u = !1;
} finally {
try {
if (u) try {
this.closeAll(0);
} catch (c) {} else this.closeAll(0);
} finally {
this._isInTransaction = !1;
}
}
return p;
},
initializeAll: function(e) {
for (var t = this.transactionWrappers, n = e; n < t.length; n++) {
var r = t[n];
try {
this.wrapperInitData[n] = a.OBSERVED_ERROR, this.wrapperInitData[n] = r.initialize ? r.initialize.call(this) : null;
} finally {
if (this.wrapperInitData[n] === a.OBSERVED_ERROR) try {
this.initializeAll(n + 1);
} catch (o) {}
}
}
},
closeAll: function(e) {
this.isInTransaction() ? void 0 : r(!1);
for (var t = this.transactionWrappers, n = e; n < t.length; n++) {
var o, i = t[n], s = this.wrapperInitData[n];
try {
o = !0, s !== a.OBSERVED_ERROR && i.close && i.close.call(this, s), o = !1;
} finally {
if (o) try {
this.closeAll(n + 1);
} catch (l) {}
}
}
this.wrapperInitData.length = 0;
}
}, a = {
Mixin: o,
OBSERVED_ERROR: {}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
var r = {};
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = function() {
function e(e, t) {
this.personaId = e, this.url = t;
}
return e;
}(), i = function() {
function e() {
this.personaEmblems = o.map();
}
return e.prototype.setEquippedEmblem = function(e) {
this.equippedEmblemTemplate = e;
}, e.prototype.addEmblemForPersona = function(e, t) {
this.personaEmblems.set(e, new a(e, t));
}, e.prototype.clearPersonaEmblems = function() {
this.personaEmblems.clear();
}, e.prototype.getEmblemForPersona = function(e) {
return this.personaEmblems.get(e);
}, r([ o.observable ], e.prototype, "equippedEmblemTemplate", void 0), r([ o.action ], e.prototype, "setEquippedEmblem", null), 
r([ o.action ], e.prototype, "addEmblemForPersona", null), r([ o.action ], e.prototype, "clearPersonaEmblems", null), 
e;
}();
t.emblemState = new i();
}, function(e, t) {
"use strict";
var n = function() {
function e(e) {
void 0 === e && (e = {}), this.unlocked = !1;
for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
this.percent = this.unlocked ? 1 : 0, this.needed > 0 && this.acquired >= 0 && (this.percent = Math.min(this.acquired / this.needed, 1));
}
return e;
}();
t.Progression = n;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(4), i = n(10), s = "on", l = "off", u = function() {
function e(e, t) {
this.key = e, this.value = t;
}
return e;
}();
t.Setting = u;
var p = function() {
function e(e, t, n, r, o, a, i, s) {
this.id = e, this.label = t, this.description = n, this.options = r, this.defaultSetting = o, 
this.initialSetting = a, this._isEnabled = !0, this.setting = a, this.optionFormatter = i, 
this.optionQualifier = s;
}
return Object.defineProperty(e.prototype, "value", {
get: function() {
return this.formatSetting(this.setting);
},
enumerable: !0,
configurable: !0
}), e.prototype.set = function(e) {
this.setting = e;
}, e.prototype.enable = function() {
this._isEnabled = !0;
}, e.prototype.disable = function() {
this._isEnabled = !1;
}, Object.defineProperty(e.prototype, "isEnabled", {
get: function() {
return this._isEnabled;
},
enumerable: !0,
configurable: !0
}), e.prototype.formatSetting = function(e) {
return this.optionFormatter ? this.optionFormatter(e, this.defaultSetting) : e.value;
}, e.prototype.toSetting = function() {
return e = {}, e[this.setting.key] = s, e;
var e;
}, e.prototype.equalSettings = function(e, t) {
return e.value === t.value;
}, e.prototype.isValid = function(e) {
return this.optionQualifier ? this.optionQualifier(e) : !0;
}, e.prototype.nextSetting = function() {
var e = this, t = a.find(this.options, function(t) {
return e.equalSettings(t, e.setting);
}), n = this.options.indexOf(t), r = this.options.slice(n + 1), o = a.find(r, function(t) {
return e.isValid(t);
});
return o || (o = a.find(this.options, function(t) {
return e.isValid(t);
})), o;
}, e.prototype.toggle = function() {
this.set(this.nextSetting());
}, o([ i.observable ], e.prototype, "setting", void 0), o([ i.observable ], e.prototype, "_isEnabled", void 0), 
o([ i.computed ], e.prototype, "value", null), o([ i.action ], e.prototype, "set", null), 
o([ i.action ], e.prototype, "enable", null), o([ i.action ], e.prototype, "disable", null), 
e;
}();
t.Option = p;
var c = function(e) {
function t(t, n, r, o, a, i, s) {
var l = [ new u(t, !0), new u(t, !1) ];
e.call(this, t, n, r, l, new u(t, !!o), new u(t, !!a), i, s);
}
return r(t, e), t.prototype.toSetting = function() {
return e = {}, e[this.setting.key] = this.setting.value ? s : l, e;
var e;
}, t.fromSetting = function(e) {
return e === s;
}, t;
}(p);
t.BooleanOption = c;
var f = function(e) {
function t(t, n, r, o, a, i, s, l) {
var p = o.map(function(e) {
return new u(t, e);
});
e.call(this, t, n, r, p, new u(t, a), new u(t, i), s, l);
}
return r(t, e), t.prototype.toSetting = function() {
return e = {}, e[this.setting.key] = this.setting.value, e;
var e;
}, t;
}(p);
t.NumberOption = f;
var d = function(e) {
function t(t, n, r, o, a, i, s, l) {
var p = o.map(function(e) {
return new u(t, e);
});
e.call(this, t, n, r, p, new u(t, a), new u(t, i), s, l);
}
return r(t, e), t;
}(p);
t.ObjectOption = d;
var h = function() {
function e(e) {
this.images = e;
}
return e.prototype.image = function(e) {
var t = a.find(this.images, function(t) {
return t.id === e;
});
return t ? t.url : null;
}, e;
}();
t.ImageSet = h;
var y = function() {
function e(e, t, n, r) {
this.id = e, this.label = t, this.description = n, this.images = r;
}
return e;
}();
t.Map = y;
var g = function() {
function e(e, t, n, r, o) {
this.id = e, this.filterKey = t, this.label = n, this.description = r, this.images = o;
}
return e;
}();
t.GameMode = g;
var m = function() {
function e(e, t, n, r, o) {
this.id = e, this.mapOptions = t, this.gameModeOptions = n, this.defaultEntry = r, 
this.minimumMapEntries = 1, this.maximumMapEntries = 15, o && 0 !== o.length ? this.entries = o : this.entries = [ r ];
}
return Object.defineProperty(e.prototype, "hasMaxEntries", {
get: function() {
return this.entries.length === this.maximumMapEntries;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasMinEntries", {
get: function() {
return this.entries.length === this.minimumMapEntries;
},
enumerable: !0,
configurable: !0
}), e.prototype.addEntry = function(e) {
return this.hasMaxEntries ? void 0 : (this.entries.push(e || this.defaultEntry), 
this.entries[this.entries.length - 1]);
}, e.prototype.changeEntry = function(e, t) {
this.entries.splice(e, 1, t);
}, e.prototype.removeEntry = function(e) {
0 > e || e >= this.entries.length || this.hasMinEntries || this.entries.splice(e, 1);
}, e.prototype.resetEntries = function() {
this.entries = [ this.defaultEntry ];
}, e.prototype.toSetting = function() {
return this.entries.map(function(e) {
return {
gameMode: e.gameMode.id,
mapName: e.map.id
};
});
}, o([ i.observable ], e.prototype, "entries", void 0), o([ i.computed ], e.prototype, "hasMaxEntries", null), 
o([ i.computed ], e.prototype, "hasMinEntries", null), o([ i.action ], e.prototype, "addEntry", null), 
o([ i.action ], e.prototype, "changeEntry", null), o([ i.action ], e.prototype, "removeEntry", null), 
o([ i.action ], e.prototype, "resetEntries", null), e;
}();
t.MapRotationOption = m;
var b = function() {
function e(e, t, n, r) {
void 0 === n && (n = ""), void 0 === r && (r = 255), this.id = e, this.label = t, 
this.defaultSetting = n, this.maxLength = r, this._isVisible = !0, this._isEnabled = !0, 
this.setting = n;
}
return Object.defineProperty(e.prototype, "value", {
get: function() {
return this.setting;
},
enumerable: !0,
configurable: !0
}), e.prototype.toSetting = function() {
return e = {}, e[this.id] = this.value, e;
var e;
}, e.prototype.change = function(e) {
this.setting = e;
}, e.prototype.hide = function() {
this._isVisible = !1;
}, e.prototype.disable = function() {
this._isEnabled = !1;
}, Object.defineProperty(e.prototype, "isEnabled", {
get: function() {
return this._isEnabled;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isVisible", {
get: function() {
return this._isVisible;
},
enumerable: !0,
configurable: !0
}), o([ i.observable ], e.prototype, "setting", void 0), o([ i.computed ], e.prototype, "value", null), 
o([ i.action ], e.prototype, "change", null), o([ i.action ], e.prototype, "hide", null), 
o([ i.action ], e.prototype, "disable", null), e;
}();
t.TextOption = b;
var v = function() {
function e(e, t, n, r, o) {
this.id = e, this.label = t, this.items = n, this.configurator = r, this.configFormatter = o;
}
return Object.defineProperty(e.prototype, "value", {
get: function() {
return this.configFormatter ? this.configFormatter(this.items) : this.items.length;
},
enumerable: !0,
configurable: !0
}), o([ i.computed ], e.prototype, "value", null), e;
}();
t.ConfigGroup = v;
var _ = function() {
function e(e, t, n) {
this.rspTemplate = e, this.gameSettings = t, this.groups = n;
}
return e.prototype.getOption = function(e) {
var t = a.flatten(this.groups.map(function(e) {
return e.items;
}));
return a.find(t, function(t) {
return e === t.id;
});
}, e.prototype.getGroup = function(e) {
return a.find(this.groups, function(t) {
return t.id === e;
});
}, e;
}();
t.RSPConfig = _;
var S = function() {
function e(e, t, n) {
this.levels = e, this.gameModes = t, this.masks = n;
}
return e.prototype.getLevel = function(e) {
return a.find(this.levels, function(t) {
return t.levelName === e;
});
}, e.prototype.getGameMode = function(e) {
return a.find(this.gameModes, function(t) {
return t.gameModeName === e;
});
}, e.prototype.getSmallestGameModeSize = function(e) {
var t = this, n = e.map(function(e) {
return t.getGameMode(e).playerCount;
});
return a.first(n.sort());
}, e.prototype.getMask = function(e) {
return a.find(this.masks, function(t) {
return t.maskName === e;
});
}, e;
}();
t.RSPTemplate = S, function(e) {
e[e.Orphaned = 0] = "Orphaned", e[e.Pending = 1] = "Pending";
}(t.PurchaseState || (t.PurchaseState = {}));
t.PurchaseState;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(345), i = n(274);
!function(e) {
e[e.none = 0] = "none", e[e.connecting = 1] = "connecting", e[e.established = 2] = "established", 
e[e.failed = 3] = "failed";
}(t.GatewaySessionState || (t.GatewaySessionState = {}));
var s = t.GatewaySessionState, l = function() {
function e() {
this.session = new a.GatewaySession("", "", "", {}, new i.GameEntitlements()), this.sessionState = s.none;
}
return Object.defineProperty(e.prototype, "canConnect", {
get: function() {
return this.sessionState == s.none || this.sessionState == s.failed;
},
enumerable: !0,
configurable: !0
}), e.prototype.setSessionState = function(e, t) {
this.sessionState = e, this.session = t ? t : this.session;
}, r([ o.observable ], e.prototype, "session", void 0), r([ o.observable ], e.prototype, "sessionState", void 0), 
r([ o.computed ], e.prototype, "canConnect", null), r([ o.action ], e.prototype, "setSessionState", null), 
e;
}();
t.GatewayState = l;
}, function(e, t) {
"use strict";
var n = 0, r = function() {
function e(e, t, r, o, a, i, s) {
this.name = e, this.keyCode = t, this.padCode = r, this.fbAction = o, this.order = a, 
this.priority = i, this.enableRepeat = s, this.id = n++, this.fbAction = this.fbAction.map(function(e) {
return "UIInputAction_" + e;
}), Object.freeze(this);
}
return e.prototype.toString = function() {
return this.name;
}, e;
}();
t.Key = r;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(11), i = n(2), s = n(63), l = n(10), u = n(156), p = n(248), c = n(9), f = n(53), d = n(13), h = (n(27), 
[ 2180, 1226 ]), y = 80, g = SpartaGlobals.bundleIsPC ? d.presets.transition : d.defaultTweenOptions, m = .4, b = function() {
function e(e) {
var t = e.config;
this.url = t.backgroundUrl || c.bbOfflineUrl("/sparta/jsclient/builds/assets/generic_bg_2-6a4a26e3.jpg"), 
this.overlayUrl = t.backgroundOverlayUrl, this.size = t.backgroundSize || h, this.overlaySize = t.backgroundOverlaySize, 
this.skyColor = t.backgroundSkyColor, this.mainMenuIndex = e.mainMenuIndex, this.subMenuIndex = e.subMenuIndex, 
this.subMenuCount = e.subMenuConfigs.length, this.breadcrumbsCount = e.breadcrumbs.length, 
this.animation = t.backgroundAnimation;
}
return e.prototype.equals = function(e) {
var t = this.mainMenuIndex === e.mainMenuIndex, n = this.url === e.url;
return t && n;
}, o([ l.observable ], e.prototype, "url", void 0), o([ l.observable ], e.prototype, "overlayUrl", void 0), 
o([ l.observable ], e.prototype, "size", void 0), o([ l.observable ], e.prototype, "overlaySize", void 0), 
o([ l.observable ], e.prototype, "skyColor", void 0), o([ l.observable ], e.prototype, "mainMenuIndex", void 0), 
o([ l.observable ], e.prototype, "subMenuIndex", void 0), o([ l.observable ], e.prototype, "subMenuCount", void 0), 
o([ l.observable ], e.prototype, "breadcrumbsCount", void 0), o([ l.observable ], e.prototype, "animation", void 0), 
e;
}();
t.BackgroundInfo = b;
var v = function(e) {
function t(t, n) {
e.call(this), this.name = t, this.info = n;
}
return r(t, e), t.prototype.setContent = function(e) {
this.info = e;
}, t.prototype.contentEquals = function(e) {
return !!this.info && this.info.equals(e);
}, o([ l.observable ], t.prototype, "info", void 0), o([ l.action ], t.prototype, "setContent", null), 
t;
}(u.ItemState);
t.BackgroundItem = v;
var _ = f.getState(), S = function() {
function e() {
this.offsetX = d.tween("b4ef07c1:75", 0, g), this.offsetY = d.tween("b4ef07c1:76", 0, g), 
this.textureScale = d.tween("b4ef07c1:77", 1, g), this.blurStrength = d.tween("b4ef07c1:78", 0, g);
}
return e;
}(), w = function(e) {
function t() {
e.apply(this, arguments), this.viewOffsetX = _.viewOffsetX, this.comCenter = _.comCenter, 
this.extra = new p.ExtraElements(), this.backgroundTweens = new S(), this.overlayTweens = new S();
}
return r(t, e), Object.defineProperty(t.prototype, "offsetX", {
get: function() {
return this.current && this.current.info ? this.getViewOffset(this.current.info) : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "overlayOffsetX", {
get: function() {
return 1.5 * this.offsetX + 600;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "offsetY", {
get: function() {
return 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "blurDepth", {
get: function() {
if (!this.current || !this.current.info) return 0;
var e = Math.max(1, this.current.info.breadcrumbsCount - 2);
return e > 1 ? e : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "blurStrength", {
get: function() {
return Math.min(2 * this.blurDepth, 20);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "overlayBlurStrength", {
get: function() {
return .2 * this.blurStrength;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "overlayOffsetY", {
get: function() {
var e = 0;
return 2 === this.blurDepth ? e = 100 : 3 === this.blurDepth && (e = 250), 1.4 * this.offsetY + e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "zoom", {
get: function() {
return 1 + this.getMenuDepth(this.current && this.current.info) * m;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "overlayZoom", {
get: function() {
return 1.05 * this.zoom;
},
enumerable: !0,
configurable: !0
}), t.getViewOffsetXStepWidth = function(e) {
var t = e.size[0];
if (s.uiState.window.width > t) return 0;
var n = Math.abs(s.uiState.window.width - t) / 2, r = Math.floor(n / (e.subMenuCount + 1));
return Math.min(r, y);
}, t.prototype.getViewOffset = function(e) {
var n = this.viewOffsetX ? 190 : 0, r = t.getViewOffsetXStepWidth(e), o = Math.max(e.subMenuIndex, 0), a = n + o * -r;
return SpartaGlobals.bundleIsConsole && this.comCenter && (a -= r), a;
}, t.prototype.getMenuDepth = function(e) {
return e ? Math.max(e.breadcrumbsCount - 3, 0) : 0;
}, t.prototype.getSkyColor = function() {
return this.current && this.current.info && this.current.info.skyColor;
}, o([ l.observable ], t.prototype, "viewOffsetX", void 0), o([ l.observable ], t.prototype, "comCenter", void 0), 
o([ l.computed ], t.prototype, "offsetX", null), o([ l.computed ], t.prototype, "overlayOffsetX", null), 
o([ l.computed ], t.prototype, "offsetY", null), o([ l.computed ], t.prototype, "blurDepth", null), 
o([ l.computed ], t.prototype, "blurStrength", null), o([ l.computed ], t.prototype, "overlayBlurStrength", null), 
o([ l.computed ], t.prototype, "overlayOffsetY", null), o([ l.computed ], t.prototype, "zoom", null), 
o([ l.computed ], t.prototype, "overlayZoom", null), t;
}(u.EnterLeaveState);
t.backgroundContainer = new w(new b(a.layoutStateStore.current), new v("0", null), new v("1", null), new v("2", null), new v("3", null)), 
l.autorun(function() {
i.TweenBatching.start(), t.backgroundContainer.backgroundTweens.offsetX.to(t.backgroundContainer.offsetX), 
t.backgroundContainer.backgroundTweens.offsetY.to(t.backgroundContainer.offsetY), 
t.backgroundContainer.backgroundTweens.textureScale.to(t.backgroundContainer.zoom), 
t.backgroundContainer.backgroundTweens.blurStrength.to(t.backgroundContainer.blurStrength), 
t.backgroundContainer.overlayTweens.offsetX.to(t.backgroundContainer.overlayOffsetX), 
t.backgroundContainer.overlayTweens.offsetY.to(t.backgroundContainer.overlayOffsetY), 
t.backgroundContainer.overlayTweens.textureScale.to(t.backgroundContainer.overlayZoom), 
t.backgroundContainer.overlayTweens.blurStrength.to(t.backgroundContainer.overlayBlurStrength), 
i.TweenBatching.stop();
}), f.listen(l.action("background container visibility", function(e) {
t.backgroundContainer.viewOffsetX = e.viewOffsetX, t.backgroundContainer.comCenter = e.comCenter;
}));
var T = null;
l.reaction(function() {
return a.layoutStateStore.current;
}, l.action("bginfo route aggregate", function(e) {
var n = new b(e);
T && n.equals(T) ? t.backgroundContainer.current && t.backgroundContainer.current.setContent(n) : (T = n, 
t.backgroundContainer.switchToItem(n));
}));
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(4), i = n(240);
!function(e) {
e[e.DoubleXp = 0] = "DoubleXp", e[e.Success = 1] = "Success", e[e.Info = 2] = "Info", 
e[e.Warning = 3] = "Warning", e[e.Danger = 4] = "Danger";
}(t.NoticeType || (t.NoticeType = {}));
var s = t.NoticeType;
t.stringToNoticeType = function(e) {
switch (e) {
case "star":
return s.DoubleXp;

case "success":
return s.Success;

case "info":
return s.Info;

case "warn":
return s.Warning;

case "high":
return s.Danger;

default:
return s.Info;
}
};
var l = function(e) {
return e.type === s.DoubleXp;
}, u = function(e, t) {
return e.type < t.type ? 1 : e.type > t.type ? -1 : 0;
}, p = function() {
function e() {
this.notices = o.map(), this.doubleXpNotice = o.map();
}
return e.prototype.setNotices = function(e) {
var t = this;
Object.keys(e).forEach(function(n) {
var r = a.reject(e[n], l);
t.notices.set(n, r);
var o = a.find(e[n], l);
o && t.doubleXpNotice.set(n, o);
});
}, e.prototype.isNoticeAvailable = function(e) {
return i.store.isMandatoryUpdateInstalled ? !0 : this.getNotice(e) ? !0 : !1;
}, e.prototype.getNotice = function(e) {
var t = this.notices.get(e) || [], n = t.sort(u);
return n[0] || null;
}, e.prototype.getDoubleXpNotice = function(e) {
return this.doubleXpNotice.get(e) || null;
}, r([ o.action ], e.prototype, "setNotices", null), e;
}();
t.store = new p();
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(2), i = n(10), s = n(8).observer, l = n(63), u = n(13), p = n(44), c = n(57), f = {
x: -600,
y: 1600,
radius: 3e3,
angleX: -10,
angleY: -20,
angleZ: 15
}, d = {
x: -250,
y: 750,
radius: 1500,
angleX: -10,
angleY: -20,
angleZ: 15
}, h = function() {
function e() {
this.isVisible = !1, this.surfaceId = null, this.stateName = "Disable", this.stateChangeDuration = .8, 
this.radius = 10.04, this.fadeDistance = 2.05, this.glow = "#bbccff22", this.stateLocked = !1, 
this.tweens = {
x: u.tween("0bb62e6c:39", f.x),
y: u.tween("0bb62e6c:40", f.y),
radius: u.tween("0bb62e6c:41", f.radius),
cameraAngleX: u.tween("0bb62e6c:42", f.angleX),
cameraAngleY: u.tween("0bb62e6c:43", f.angleY),
cameraAngleZ: u.tween("0bb62e6c:44", f.angleZ)
};
}
return Object.defineProperty(e.prototype, "visible", {
get: function() {
return null !== this.surfaceId && this.isVisible;
},
enumerable: !0,
configurable: !0
}), e.prototype.setSurfaceId = function(e) {
this.surfaceId = e;
}, e.prototype.set = function(e, t, n) {
void 0 === t && (t = !1), void 0 === n && (n = this.stateChangeDuration), this.stateName = e, 
this.stateChangeDuration = n, this.stateLocked = t;
}, e.prototype.show = function() {
this.isVisible = !0;
}, e.prototype.hide = function() {
this.isVisible = !1;
}, e.prototype.moveToSpace = function(e) {
a.TweenBatching.start(), this.tweens.cameraAngleX.transition(f.angleX, d.angleX, e), 
this.tweens.cameraAngleY.transition(f.angleY, d.angleY, e), this.tweens.cameraAngleZ.transition(f.angleZ, d.angleZ, e), 
this.tweens.radius.transition(f.radius, d.radius, e), this.tweens.x.transition(f.x, d.x, e), 
this.tweens.y.transition(f.y, d.y, e), a.TweenBatching.stop();
}, e.prototype.moveToClouds = function(e) {
a.TweenBatching.start(), this.tweens.cameraAngleX.transition(d.angleX, f.angleX, e), 
this.tweens.cameraAngleY.transition(d.angleY, f.angleY, e), this.tweens.cameraAngleZ.transition(d.angleZ, f.angleZ, e), 
this.tweens.radius.transition(d.radius, f.radius, e), this.tweens.x.transition(d.x, f.x, e), 
this.tweens.y.transition(d.y, f.y, e), a.TweenBatching.stop();
}, e.prototype.setOnClouds = function() {
this.tweens.cameraAngleX.set(f.angleX), this.tweens.cameraAngleY.set(f.angleY), 
this.tweens.cameraAngleZ.set(f.angleZ), this.tweens.radius.set(f.radius), this.tweens.x.set(f.x), 
this.tweens.y.set(f.y);
}, e.prototype.setOffViewport = function() {
"Disable" !== this.stateName && (this.tweens.y.set(-Math.max(l.uiState.window.height, 2e3)), 
this.tweens.radius.set(Math.max(l.uiState.window.width / 2, 1200)));
}, r([ i.observable ], e.prototype, "isVisible", void 0), r([ i.observable ], e.prototype, "surfaceId", void 0), 
r([ i.observable ], e.prototype, "stateName", void 0), r([ i.observable ], e.prototype, "stateChangeDuration", void 0), 
r([ i.observable ], e.prototype, "radius", void 0), r([ i.observable ], e.prototype, "fadeDistance", void 0), 
r([ i.observable ], e.prototype, "glow", void 0), r([ i.computed ], e.prototype, "visible", null), 
r([ i.action ], e.prototype, "setSurfaceId", null), r([ i.action ], e.prototype, "set", null), 
r([ i.action ], e.prototype, "show", null), r([ i.action ], e.prototype, "hide", null), 
r([ i.action ], e.prototype, "moveToSpace", null), r([ i.action ], e.prototype, "moveToClouds", null), 
r([ i.action ], e.prototype, "setOnClouds", null), r([ i.action ], e.prototype, "setOffViewport", null), 
e;
}();
t.GlobeState = h, t.globeState = new h(), i.autorun(function() {
if (t.globeState.surfaceId) {
var e = {
enable: !0,
surfId: t.globeState.surfaceId || "",
radius: t.globeState.radius,
fadeDistance: t.globeState.fadeDistance,
glow: t.globeState.glow
};
a.frostbite.sendMessage("sparta.setGlobeSurface", e);
}
});
var y = !0;
p.scope("navigationState").listen(function(e) {
t.globeState.stateLocked || (e === c.FrontEnd ? (t.globeState.set("Sparta"), y && (t.globeState.setOffViewport(), 
y = !1)) : e === c.LoadingScreen && t.globeState.set("Disable"));
}), i.autorun(function() {
a.frostbite.sendMessage("sparta.setGlobeState", {
state: t.globeState.stateName,
duration: t.globeState.stateChangeDuration
});
});
var g = {
translateX: t.globeState.tweens.x.getStyle(),
translateY: t.globeState.tweens.y.getStyle(),
scaleX: t.globeState.tweens.radius.getStyle(),
scaleY: t.globeState.tweens.radius.getStyle(),
rotateX: t.globeState.tweens.cameraAngleX.getStyle(),
rotateY: t.globeState.tweens.cameraAngleY.getStyle(),
rotateZ: t.globeState.tweens.cameraAngleZ.getStyle()
};
t.TunguskaGlobe = s(function() {
var e = {
enable: t.globeState.visible,
zOffset: 75,
position: "absolute",
left: l.uiState.viewportPosition.left,
top: l.uiState.viewportPosition.top,
width: l.uiState.window.width,
height: l.uiState.window.height,
opacity: t.globeState.visible ? 1 : 0
};
return o.createElement("surface", {
style: e,
onSurfaceId: function(e) {
return t.globeState.setSurfaceId(e);
}
}, o.createElement("surface", {
style: g
}));
});
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(2), a = n(10), i = function() {
function e(e, t, n, r) {
this.title = e, this.description = t, this.codeBooksTotal = n, this.codeBooksCollected = r;
}
return e;
}();
t.ObjectiveItem = i;
var s = function() {
function e(e, t, n, r) {
this.title = e, this.description = t, this.levelPath = n, this.gameMode = r;
}
return e;
}();
t.MPLevelItem = s;
var l = function() {
function e() {
this.currentObjective = null, this.currentMPLevel = null;
}
return e.prototype.updateObjective = function(e) {
this.currentObjective = e;
}, e.prototype.updateMPLevel = function(e) {
this.currentMPLevel = e;
}, e.prototype.clearObjective = function() {
this.currentObjective = null;
}, e.prototype.clearMpLevel = function() {
this.currentMPLevel = null;
}, r([ a.observable ], e.prototype, "currentObjective", void 0), r([ a.observable ], e.prototype, "currentMPLevel", void 0), 
r([ a.action ], e.prototype, "updateObjective", null), r([ a.action ], e.prototype, "updateMPLevel", null), 
r([ a.action ], e.prototype, "clearObjective", null), r([ a.action ], e.prototype, "clearMpLevel", null), 
e;
}();
t.TunguskaLevelStore = l, t.tunguskaLevelStore = new l(), o.frostbite.registerMessageListener("tunguska.CurrentObjectiveResponse", function(e, n) {
if (n) {
var r = n.objective || "", o = n.description || "", a = n.codeBooksCollected || 0, s = n.codeBooksTotal || 0;
t.tunguskaLevelStore.updateObjective(new i(r, o, s, a));
}
}), o.frostbite.registerMessageListener("tunguska.levelDescriptionResponse", function(e, n) {
if (n) {
var r = n.name || "", o = n.description || "", a = n.levelPath || "", i = n.currentGameMode || "";
t.tunguskaLevelStore.updateMPLevel(new s(r, o, a, i));
}
});
}, function(e, t, n) {
"use strict";
var r = n(79), o = function() {
function e() {
this.needStateChanges = !1;
}
return e.prototype.call = function(e, t, n) {
if ("applyStateChanges" === e) {
if (!this.needStateChanges) return;
this.needStateChanges = !1;
} else this.needStateChanges = !0;
if (!r.options.enableDevWarnings) return this.delegateCall(e, t, n);
if (this.functions) {
var o = this.functions[e];
if (!o) return console.warn("Native API does not expose function " + e), console.warn("Please update method information in TwinkleNative.ts!"), 
null;
if (o.argc !== n.length) return console.warn("Native API " + e + " expects " + o.argc + " arguments, got " + n.length), 
console.warn("Please update method information in TwinkleNative.ts!"), null;
if (o.sync !== t) return console.warn("Native API " + e + " sync mismatch (expects " + o.sync + " but got " + t), 
console.warn("Please update method information in TwinkleNative.ts!"), null;
}
var a = this.delegateCall(e, t, n);
return "getBuildInfoSync" === e && a.functions && (this.functions = a.functions), 
a;
}, e;
}();
t.AbstractDelegate = o;
var a = function() {
function e(e) {
var t = this;
this.delegate = e, this.objectAssignDefined = function(e, n, r) {
return t.delegate.objectAssignDefined(e, n, r);
}, this.objectAssign = function(e, n, r) {
return t.delegate.objectAssign(e, n, r);
};
}
return e.prototype.createRootSurface = function(e) {
return this.delegate.call("createRootSurface", !1, [ e ]);
}, e.prototype.updateSurface = function(e, t) {
return this.delegate.call("updateSurface", !1, [ e, t ]);
}, e.prototype.replaceSurface = function(e, t) {
return this.delegate.call("replaceSurface", !1, [ e, t ]);
}, e.prototype.updateSurfaceChildren = function(e, t) {
return this.delegate.call("updateSurfaceChildren", !1, [ e, t ]);
}, e.prototype.getSurfaceBoundsSync = function(e) {
return this.delegate.call("getSurfaceBoundsSync", !0, [ e ]);
}, e.prototype.getSurfaceChainAtPositionSync = function(e, t) {
return this.delegate.call("getSurfaceChainAtPositionSync", !0, [ e, t ]);
}, e.prototype.playVideo = function(e, t, n) {
this.delegate.call("playVideo", !1, [ e, t, n ]);
}, e.prototype.playVideoAudioBus = function(e, t, n, r) {
this.delegate.call("playVideoAudioBus", !1, [ e, t, n, r ]);
}, e.prototype.pauseVideo = function(e) {
return this.delegate.call("pauseVideo", !1, [ e ]);
}, e.prototype.stopVideo = function(e) {
this.delegate.call("stopVideo", !1, [ e ]);
}, e.prototype.setVideoVolume = function(e, t) {
this.delegate.call("setVideoVolume", !1, [ e, t ]);
}, e.prototype.stopAllVideo = function() {
return this.delegate.call("stopAllVideo", !1, []);
}, e.prototype.playSound = function(e, t, n) {
return this.delegate.call("playSound", !1, [ e, t, n ]);
}, e.prototype.playSoundAudioBus = function(e, t, n, r) {
return this.delegate.call("playSoundAudioBus", !1, [ e, t, n, r ]);
}, e.prototype.pauseSound = function(e) {
return this.delegate.call("pauseSound", !1, [ e ]);
}, e.prototype.stopSound = function(e) {
return this.delegate.call("stopSound", !1, [ e ]);
}, e.prototype.setSoundVolume = function(e, t) {
return this.delegate.call("setSoundVolume", !1, [ e, t ]);
}, e.prototype.stopAllSounds = function() {
return this.delegate.call("stopAllSounds", !1, []);
}, e.prototype.fetchKey = function(e, t) {
return this.delegate.call("fetchKey", !1, [ e, t ]);
}, e.prototype.storeKey = function(e, t, n) {
return this.delegate.call("storeKey", !1, [ e, t, n ]);
}, e.prototype.removeKey = function(e, t) {
return this.delegate.call("removeKey", !1, [ e, t ]);
}, e.prototype.clearKeys = function(e) {
return this.delegate.call("clearKeys", !1, [ e ]);
}, e.prototype.createTween = function(e, t) {
return this.delegate.call("createTween", !1, [ e, t ]);
}, e.prototype.destroyTween = function(e) {
return this.delegate.call("destroyTween", !1, [ e ]);
}, e.prototype.startTween = function(e, t, n, r, o, a, i) {
return this.delegate.call("startTween", !1, [ e, t, n, r, o, a, i ]);
}, e.prototype.updateTweens = function(e) {
return this.delegate.call("updateTweens", !1, [ e ]);
}, e.prototype.getTweenValueSync = function(e) {
return this.delegate.call("getTweenValueSync", !0, [ e ]);
}, e.prototype.loadTexture = function(e, t, n) {
return this.delegate.call("loadTexture", !1, [ e, t, n ]);
}, e.prototype.loadDefaultTexture = function(e, t, n) {
return this.delegate.call("loadDefaultTexture", !1, [ e, t, n ]);
}, e.prototype.clearTextures = function(e, t) {
return this.delegate.call("clearTextures", !1, [ e, t ]);
}, e.prototype.createDynamicAtlasSync = function(e, t, n, r, o, a) {
return this.delegate.call("createDynamicAtlasSync", !0, [ e, t, n, r, o, a ]);
}, e.prototype.destroyAtlas = function(e) {
return this.delegate.call("destroyAtlas", !0, [ e ]);
}, e.prototype.setEnableAtlas = function(e, t) {
return this.delegate.call("setEnableAtlas", !0, [ e, t ]);
}, e.prototype.setGlyphSamplesSync = function(e) {
return this.delegate.call("setGlyphSamplesSync", !0, [ e ]);
}, e.prototype.setGlyphTextureSizeSync = function(e) {
return this.delegate.call("setGlyphTextureSizeSync", !0, [ e ]);
}, e.prototype.setFullscreenResampleSync = function(e, t, n) {
return this.delegate.call("setFullscreenResampleSync", !0, [ e, t, n ]);
}, e.prototype.isEnterOnCircle = function() {
return this.delegate.call("isEnterOnCircle", !0, []);
}, e.prototype.jsStart = function() {
return this.delegate.call("jsStart", !1, []);
}, e.prototype.jsStartSync = function() {
return this.delegate.call("jsStartSync", !0, []);
}, e.prototype.addTimeout = function(e, t) {
return this.delegate.call("addTimeout", !1, [ e, t ]);
}, e.prototype.log = function(e, t) {
return this.delegate.call("log", !1, [ e, t ]);
}, e.prototype.setCaptureGameScreen = function(e) {
return this.delegate.call("setCaptureGameScreen", !1, [ e ]);
}, e.prototype.httpRequest = function(e, t, n, r, o) {
return this.delegate.call("httpRequest", !1, [ e, t, n, r, o ]);
}, e.prototype.loadAssetRequest = function(e, t) {
return this.delegate.call("loadAssetRequest", !1, [ e, t ]);
}, e.prototype.loadFont = function(e, t) {
return this.delegate.call("loadFont", !1, [ e, t ]);
}, e.prototype.playSpriteAnimation = function(e, t) {
return this.delegate.call("playSpriteAnimation", !1, [ e, t ]);
}, e.prototype.applyStateChanges = function() {
return this.delegate.call("applyStateChanges", !1, []);
}, e.prototype.sendMessage = function(e, t) {
return this.delegate.call("sendMessage", !1, [ e, t ]);
}, e.prototype.fbSettingSet = function(e, t) {
return this.delegate.call("fbSettingSet", !1, [ e, t ]);
}, e.prototype.showError = function(e) {
return this.delegate.call("showError", !1, [ e ]);
}, e.prototype.enableMouseMoveSync = function(e) {
return this.delegate.call("enableMouseMoveSync", !0, [ e ]);
}, e.prototype.getBuildInfoSync = function() {
return this.delegate.call("getBuildInfoSync", !0, []);
}, e.prototype.sendConsoleCommandSync = function(e) {
return this.delegate.call("sendConsoleCommandSync", !0, [ e ]);
}, e.prototype.writeConsoleOutputSync = function(e, t) {
return this.delegate.call("writeConsoleOutputSync", !0, [ e, t ]);
}, e.prototype.setUseCssMarginOrderSync = function(e) {
return this.delegate.call("setUseCssMarginOrderSync", !0, [ e ]);
}, e.prototype.verifyCodeSignatureSync = function(e) {
return this.delegate.call("verifyCodeSignatureSync", !0, [ e ]);
}, e.prototype.surfaceDebugHighlight = function(e, t, n, r, o) {
return this.delegate.call("surfaceDebugHighlight", !1, [ e, t, n, r, o ]);
}, e.prototype.start = function(e) {
return this.delegate.start(e);
}, e.prototype.profilerTime = function() {
return this.delegate.profilerTime();
}, e;
}();
t.TwinkleNative = a;
}, function(e, t, n) {
"use strict";
var r = n(583), o = n(582), a = n(79), i = n(108), s = n(45).Native, l = n(109), u = n(584);
t.GAME_SCREEN_TEXTURE = "GAME_SCREEN_TEXTURE", t.STATIC_ATLAS = "STATIC_ATLAS", 
t.SINGLE_TEXTURE = "SINGLE_TEXTURE", t.DYNAMIC_ATLAS = "DYNAMIC_ATLAS", t.twinkleAtlasIds = {
StaticAtlas: 0,
SingleTexture: 1,
DynamicAtlas: 2
}, t.atlasToId = {}, t.atlasToId[t.STATIC_ATLAS] = t.twinkleAtlasIds.StaticAtlas, 
t.atlasToId[t.SINGLE_TEXTURE] = t.twinkleAtlasIds.SingleTexture, t.atlasToId[t.DYNAMIC_ATLAS] = t.twinkleAtlasIds.DynamicAtlas;
var p = function() {
function e(e) {
var t = this;
this.component = e, this.unmounted = !1, this.unloaders = [];
var n = e.componentWillUnmount;
e.componentWillUnmount = function() {
t.unmounted = !0, t.unloadAll(), n && n.apply(e);
};
}
return e.prototype.preload = function(e, n) {
if (this.unmounted) throw new Error("Trying to preload on an unmounted component");
var r = t.textureHandler.getOrCreateTexture(a.options.urlHook(e), n);
u.TextureKeepAlive.increaseRefCount(r);
var o = !1, i = function() {
o || (o = !0, u.TextureKeepAlive.decreaseRefCount(r));
};
return this.unloaders.push(i), i;
}, e.prototype.unloadAll = function() {
this.unloaders.forEach(function(e) {
return e();
}), this.unloaders.length = 0;
}, e;
}();
t.TexturePreloader = p;
var c = function() {
function e() {
this.keyToTexture = {}, this.keepAlive = u.TextureKeepAlive;
}
return e.backwardsCompatibleAtlas = function(e, n) {
if ("string" == typeof n) return i.getBuildInfo().hasJsCreateAtlas() ? n : "SpartaCommonAtlas" === n ? t.DYNAMIC_ATLAS : t.SINGLE_TEXTURE;
if ("number" == typeof n) {
if (n === t.twinkleAtlasIds.StaticAtlas) return t.STATIC_ATLAS;
if (n === t.twinkleAtlasIds.SingleTexture) return t.SINGLE_TEXTURE;
if (n === t.twinkleAtlasIds.DynamicAtlas) return t.DYNAMIC_ATLAS;
} else if ("undefined" == typeof n) return t.SINGLE_TEXTURE;
throw new Error("Got invalid atlas " + n + " for url " + e);
}, e.prototype.unmount = function(e) {
u.TextureKeepAlive.unmount(e), r.TextureFadeIn.unmount(e);
}, e.prototype.createPreloader = function(e) {
return new p(e);
}, e.prototype.getTextures = function() {
var e = this, t = Object.keys(this.keyToTexture);
return t.map(function(t) {
return e.keyToTexture[t];
});
}, e.prototype.loadDefaultTexture = function(e, t, n) {
s.loadDefaultTexture(e, a.options.urlHook(t), n);
}, e.prototype.getTexture = function(t, n) {
var r = o.Texture.toReference(t, e.backwardsCompatibleAtlas(t, n));
return this.keyToTexture[r.key];
}, e.prototype.getOrCreateTexture = function(t, n) {
var r = o.Texture.toReference(t, e.backwardsCompatibleAtlas(t, n)), a = this.keyToTexture[r.key];
return a || (a = this.keyToTexture[r.key] = new o.Texture(r)), a;
}, e.prototype.handle = function(e, n, o, a) {
if (n === t.GAME_SCREEN_TEXTURE) return t.SINGLE_TEXTURE;
if ("" === n) return void console.error("Trying to load empty string as texture in surface: " + e._rootNodeID);
var i = this.getOrCreateTexture(n, o);
return i.isLoaded() || i.loading(), a && "undefined" != typeof a.skipFade && (u.TextureKeepAlive.handle(e, i, a), 
r.TextureFadeIn.handle(e, i, a)), i.reference.atlas;
}, e.prototype.update = function(e, n) {
"string" == typeof n.texture && (n.texture = a.options.urlHook(n.texture), n.textureAtlas = this.handle(e, n.texture, n.textureAtlas, n)), 
"string" == typeof n.texture1 && (n.texture1 = a.options.urlHook(n.texture1), n.texture1Atlas = this.handle(e, n.texture1, n.texture1Atlas)), 
"string" == typeof n.texture2 && (n.texture2 = a.options.urlHook(n.texture2), n.texture2Atlas = this.handle(e, n.texture2, n.texture2Atlas)), 
"string" == typeof n.texture3 && (n.texture3 = a.options.urlHook(n.texture3), n.texture3Atlas = this.handle(e, n.texture3, n.texture3Atlas)), 
n.spriteAnimation && "string" == typeof n.spriteAnimation.spriteSheet && (n.spriteAnimation.spriteSheet = a.options.urlHook(n.spriteAnimation.spriteSheet), 
n.spriteAnimation.spriteSheetAtlas = this.handle(e, n.spriteAnimation.spriteSheet, t.SINGLE_TEXTURE)), 
delete n.isPreloader;
}, e.prototype.onTextureUnloaded = function(e, n) {
if (e !== t.GAME_SCREEN_TEXTURE) {
var r = this.getTexture(e, n);
return r ? void r.unloaded() : void console.warn("Got unload for unknown texture:", e, n);
}
}, e.prototype.onTextureLoaded = function(e, n, r, o, a) {
if (e !== t.GAME_SCREEN_TEXTURE) {
var i = this.getOrCreateTexture(e, n);
i.loaded(r), l.onTextureLoaded.trigger();
}
}, e.prototype.getPendingTextures = function() {
return this.getTextures().filter(function(e) {
return !e.isLoaded();
});
}, e.prototype.waitForReady = function(e) {
var t = this;
return void 0 === e && (e = 5e3), new Promise(function(n) {
function r() {
a(), clearTimeout(o), n();
}
if (0 === t.getPendingTextures().length) return void n();
var o, a;
a = l.onTextureLoaded.listen(function() {
0 === t.getPendingTextures().length && r();
}), o = setTimeout(function() {
console.warn("Timed out while waiting for all textures to be ready. Textures still loading:", t.getPendingTextures()), 
r();
}, e);
});
}, e;
}();
t.textureHandler = new c();
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return D(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(4), y = s(h), g = n(8), m = n(2), b = n(20), v = s(b), _ = n(19), S = s(_), w = n(6), T = s(w), C = n(76), E = s(C), I = n(7), P = s(I), O = n(9), A = n(13), k = s(A), R = n(12), x = s(R), M = n(14), N = s(M), $ = {
_$AwardItem: {
displayName: "AwardItem"
}
}, D = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/AwardItem.jsx",
components: $,
locals: [],
imports: []
}), U = {
box: {
position: "relative"
},
focusedCard: {
backgroundColor: "#ffffff"
},
activeCard: {
backgroundColor: "#ffffff33"
},
blurredCard: {
backgroundColor: "#00000055"
},
positionWrapper: {
position: "relative"
},
award: {
height: T["default"].getHeight(12),
opacity: .3,
grayScale: 1,
zOffset: 1,
textureMode: "contain",
textureScale: .9
},
dependency: {
width: T["default"].getWidth(3),
height: T["default"].getHeight(5),
opacity: .5,
position: "relative",
textureMode: "contain",
textureScale: 1.2
},
dependencySeparator: {
height: 1,
backgroundColor: "#000000"
},
dependencySeparatorFocused: {
opacity: .07
},
dependencySeparatorNotFocused: {
opacity: 0
},
unlockedImage: {
opacity: 1,
grayScale: 0
},
progressBar: {
position: "relative"
},
multiplier: {
position: "absolute",
bottom: 10,
right: 10,
zOffset: 2
},
multiplierFocused: {
color: "#000000"
},
multiplierNotFocused: {
color: "#FFFFFF"
},
expansionIcon: {
textureMode: "contain",
height: T["default"].getHeight(2),
width: T["default"].getHeight(2),
position: "absolute",
right: T["default"].GUTTER,
bottom: T["default"].GUTTER
},
starContainer: {
zOffset: 10,
flexDirection: "row",
position: "absolute",
left: T["default"].GUTTER,
bottom: T["default"].GUTTER - 1
},
star: {
width: T["default"].getHeight(2),
height: T["default"].getHeight(2),
texture: O.bbOfflineUrl("/sparta/assets/ui/icons/ui/small-star-white-b3141b80.png"),
textureMode: "contain",
marginRight: T["default"].GUTTER / 2,
color: "#ff9900"
},
starNumber: {
marginTop: -1
},
checkmark: {
zOffset: 10,
position: "absolute",
left: T["default"].GUTTER,
bottom: T["default"].GUTTER,
width: 1.5 * T["default"].GUTTER * (23 / 16),
height: 1.5 * T["default"].GUTTER,
texture: O.bbOfflineUrl("/sparta/assets/ui/checkmark-32184656.png"),
textureMode: "contain"
}
}, L = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = m.focus.create(this, "awardimage"), 
m.focus.onComponentUpdate(this, function(e, t) {
r.focusItem.debugName = "awarditem_" + e.awardImage, e.input ? r.focusItem.setClickInput(e.input) : e.onFocus ? SpartaGlobals.bundleIsPC && r.focusItem.setClickInput(new N["default"]({
action: e.onFocus,
label: __("ID_SPARTA_ACTION_SELECT"),
key: x["default"].Accept
})) : console.warn("No action for awarditem " + e.awardImage);
}), this.focusItem.onChange.listen(function(e) {
e && m.focus.system.controllerMode && r.props.onFocus();
});
}
a(t, e), t.prototype.renderAward = function s(e) {
var t = {
award: c({}, U.award, {
texture: this.props.awardImage,
textureAtlas: this.props.atlas,
color: e ? this.props.activeColor : this.props.inactiveColor,
width: this.props.style.width
}, this.props.unlocked && U.unlockedImage, this.props.imageStyle),
awardCount: c({}, U.multiplier, e ? U.multiplierFocused : U.multiplierNotFocused)
}, n = this.props.awardCount ? this.props.awardCount : Math.floor(this.props.dependencyAcquired / this.props.dependencyNeeded);
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: t.award
},
_owner: null
}, {
$$typeof: p,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
value: n > 0 ? "x" + n : "",
type: "emphasis",
size: "S",
style: t.awardCount
}),
_owner: null
} ],
style: U.positionWrapper
},
_owner: null
};
}, t.prototype.renderDependency = function l(e, t, n) {
var o = {
dependency: {
texture: e,
width: this.props.style.width
}
};
return {
$$typeof: p,
type: "surface",
key: "dependency" + t,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ U.dependency, o.dependency, this.props.unlocked || this.props.itemState.active ? U.unlockedImage : null ]
},
_owner: null
}, {
$$typeof: p,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
value: "x" + this.props.dependencyAcquired,
size: "XS",
type: "emphasis",
style: [ U.multiplier, n ? U.multiplierFocused : U.multiplierNotFocused ]
}),
_owner: null
} ],
style: U.positionWrapper
},
_owner: null
};
}, t.prototype.renderDependencies = function u(e) {
var t = this, n = y["default"].map(this.props.dependencies, function(n, r) {
return t.renderDependency(n.images.Small, r, e);
});
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderSeparator(), n ]
},
_owner: null
};
}, t.prototype.renderSeparator = function f(e) {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ U.dependencySeparator, e ? U.dependencySeparatorFocused : U.dependencySeparatorNotFocused ]
},
_owner: null
};
}, t.prototype.renderProgressBar = function h() {
return {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
height: "S",
width: this.props.style.width,
completed: this.props.progressPercent,
segmented: this.props.stages.length,
style: U.progressBar,
backgroundColor: this.props.progressionBackground
}),
_owner: null
};
}, t.prototype.renderStars = function b(e) {
var t = this.props.star;
if (!t) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = 100 === t.timesAquired, o = e ? "#000000" : "#ffffff", a = n && !e ? "#ff9900" : o, i = {
star: c({}, U.star, {
color: a
}),
starNumber: c({}, U.starNumber, {
color: a
})
}, s = n ? 100 : t.timesAquired;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: i.star
},
_owner: null
}, {
$$typeof: p,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
style: i.starNumber,
value: "" + s,
size: "XS",
gameId: this.props.gameId
}),
_owner: null
} ],
style: U.starContainer
},
_owner: null
};
}, t.prototype.renderCheckmark = function _(e, t) {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, U.checkmark, {
color: t ? "#000000" : "#ffffff",
opacity: k["default"].tweenSwitch(0, 1, e)
})
},
_owner: null
};
}, t.prototype.renderExpansionIcon = function w() {
var e = S["default"].getHostingGame().expansions, t = this.props.expansion, n = t && e[t.license];
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, U.expansionIcon, {
texture: n
})
},
_owner: null
};
}, t.prototype.renderLockIcon = function C(e) {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: {
position: "absolute",
right: 5,
bottom: 6,
opacity: .3,
width: T["default"].getHeight(2),
height: T["default"].getHeight(2),
color: e ? this.props.activeColor : this.props.inactiveColor,
texture: O.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-lock-white-242e77e0.png")
}
},
_owner: null
};
}, t.prototype.render = function I() {
var e = this.props.itemState.active, t = this.focusItem.isFocused, n = void 0;
n = t ? U.focusedCard : e ? U.activeCard : U.blurredCard;
var r = void 0;
return this.props.showLockIcon && !this.props.unlocked && (r = this.renderLockIcon(t)), 
d["default"].createElement("surface", c({
style: [ U.box, this.props.style ]
}, this.focusItem.hooks), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderAward(t), this.props.dependencies.length > 0 && this.renderDependencies(t), this.props.expansion ? this.renderExpansionIcon() : null, this.renderStars(t), this.renderCheckmark(this.props.checked, t), r ],
style: n
},
_owner: null
}, null !== this.props.progressPercent && this.renderProgressBar());
};
var n = t;
return t = i("_$AwardItem")(t) || t, t = m.hasSurfaceBounds()(t) || t, t = v["default"]()(t) || t, 
t = g.observer(t) || t;
}(d["default"].Component);
t["default"] = L, L.propTypes = {
checked: d["default"].PropTypes.bool,
unlocked: d["default"].PropTypes.bool,
dependencies: d["default"].PropTypes.array,
dependencyAcquired: d["default"].PropTypes.number,
dependencyNeeded: d["default"].PropTypes.number,
progressionBackground: d["default"].PropTypes.string,
activeColor: d["default"].PropTypes.string,
inactiveColor: d["default"].PropTypes.string
}, L.defaultProps = {
checked: !1,
stages: [],
dependencies: [],
dependencyAcquired: 0,
dependencyNeeded: 1,
progressPercent: null,
progressionBackground: "#FFFFFF75"
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(43), s = r(i), l = n(255), u = r(l), p = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, {}), this.externalStores = [], this.clientMedals = {}, 
u["default"].listen(function(e, t) {
n.clientMedals[e] = t, n.rebuildState();
});
}
return a(t, e), t.prototype.rebuildState = function n() {
var e = {};
for (var t in this.clientMedals) e[t] = this.clientMedals[t].slice();
this.externalStores.forEach(function(t) {
var n = t.getState();
for (var r in n) {
var o = n[r], a = e[r];
a ? a.push.apply(a, o) : e[r] = o;
}
}), this.setState(e);
}, t.prototype.addExternal = function r(e) {
var t = this;
this.externalStores.push(e), e.listen(function() {
return t.rebuildState();
});
}, t;
}(s["default"]);
t["default"] = new p(), e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return _(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(2), h = n(6), y = s(h), g = n(7), m = s(g), b = n(31), v = {
_$LegalContent: {
displayName: "LegalContent"
}
}, _ = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/components/LegalContent.jsx",
components: v,
locals: [],
imports: []
}), S = n(110), w = d.createStyleSheet({
paragraph: {
margin: [ 0, 0, 30, 0 ]
},
scrollerContainer: {
margin: [ 40, 40, 40, 40 ]
}
}), T = {
header: SpartaGlobals.bundleIsConsole ? "XL" : "XXL",
heading: SpartaGlobals.bundleIsConsole ? "S" : "M",
text: SpartaGlobals.bundleIsConsole ? "S" : "M",
subtext: SpartaGlobals.bundleIsConsole ? "XS" : "S",
fineprint: SpartaGlobals.bundleIsConsole ? "XXS" : "S"
}, C = "PC" === S.getPlatform() ? 1 : .75, E = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.createScroller = function s(e) {
var t = y["default"].getHeight(105 * C), n = y["default"].getWidth(24 * C), o = [];
switch (this.settings = S.getCopyPage("settings"), this.props.legal) {
case "terms":
o = S.getProperty(this.settings, "url.accessTosData");
}
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: b.Scroller,
key: null,
ref: null,
props: r(b.Scroller.defaultProps, {
children: this.createContent(o),
style: {
height: t,
width: n
},
controller: !0,
scrollbarPosition: "inside"
}),
_owner: null
},
style: w.scrollerContainer
},
_owner: null
};
}, t.prototype.createContent = function l(e) {
for (var t = [], n = 0; n < e.length; n++) t.push({
$$typeof: p,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
value: e[n],
size: T.text,
style: w.paragraph
}),
_owner: null
});
return t;
}, t.prototype.render = function u() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.createScroller(this.props.legal)
},
_owner: null
};
};
var n = t;
return t = i("_$LegalContent")(t) || t;
}(f["default"].Component);
t["default"] = E, e.exports = t["default"];
}, function(e, t) {
function n(e, t, n) {
return t instanceof e ? t : new e(t, n);
}
e.exports = n;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o);
t["default"] = {
ping: a["default"].createAction(),
qosPing: a["default"].createAction(),
resolve: a["default"].createAction(),
flushCache: a["default"].createAction(),
emptyQueue: a["default"].createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o);
t["default"] = {
pingCompleted: a["default"].createAction(),
qosPingCompleted: a["default"].createAction(),
resolveCompleted: a["default"].createAction()
}, e.exports = t["default"];
}, function(e, t) {
e.exports = {
Primary: 0,
Secondary: 1,
Wheel: 2,
Back: 3,
Forward: 4
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
for (var n = e.length, r = 0; r >= 0 && n > r; r += 1) if (t(e[r])) return r;
return -1;
}
function a(e, t) {
if (e) {
var n = o(e, function(e) {
return e.guid === t.guid;
});
if (!(0 > n)) {
var r = e.slice();
return r.splice(n, 1, t), r;
}
}
}
function i(e, t) {
return e.name.toLowerCase().localeCompare(t.name.toLowerCase());
}
function s(e, t) {
var n = e.slots.soldier, r = t.slots.soldier;
return n.current !== r.current ? n.current - r.current : n.max - r.max;
}
function l(e, t) {
var n = void 0;
return f.pingResults.has(e.ip) ? n = f.pingResults.get(e.ip) : t[e.pingSiteAlias] && (n = t[e.pingSiteAlias].ping), 
0 > n || null == n ? y : n;
}
function u(e, t, n) {
var r = t === c.SortDirection.ASC ? 1 : -1, o = n && h["default"].getState()[n] ? h["default"].getState()[n] : {};
switch (e) {
case "ping":
return function(e, t) {
var n = (l(e, o) - l(t, o)) * r;
return 0 === n ? i(e, t) : n;
};

case "players":
return function(e, t) {
var n = s(e, t) * r;
return 0 === n ? i(e, t) : n;
};

case "name":
return function(e, t) {
return i(e, t) * r;
};

default:
throw new Error("Unknown sortkey: ", e);
}
}
function p(e, t, n) {
if ("none" !== n && "none" !== t && e.length) {
var r = u(t, n, e[0].game), o = e.slice();
return o.sort(r), o;
}
return e;
}
t.__esModule = !0, t.updateByGuid = a, t.sortServers = p;
var c = n(282), f = n(347), d = n(98), h = r(d), y = 99999;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(4), s = r(i), l = n(24), u = r(l), p = n(11), c = n(19), f = r(c), d = new u["default"]("ProtocolVersionStore"), h = a["default"].createStore({
init: function y() {
var e = this;
f["default"].listen(function(t) {
var n = p.gameStore.games.toJS();
s["default"].forEach(n, function(e) {
return d.set(e.gameId, t.hostingGameId === e.gameId ? t.protocolVersion : void 0);
}), e.trigger(d.getState());
});
},
getState: function g() {
return d.getState();
},
getByGameId: function m(e) {
return d.get(e);
}
});
t["default"] = h, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(4), a = r(o), i = n(15), s = r(i), l = n(24), u = r(l), p = n(406), c = r(p), f = n(404), d = r(f), h = n(402), y = r(h), g = new u["default"]("SavedFiltersStore"), m = s["default"].createStore({
init: function b() {
this.listenTo(c["default"], function(e, t) {}), this.listenTo(d["default"], function(e, t, n) {
g.set(e, {
data: t,
error: n
}), this.trigger(this.getState());
}), this.listenTo(y["default"], function(e, t) {
var n = g.get(e);
if (n && n.data) {
var r = a["default"].filter(n.data, function(e) {
return e.id !== t.id;
});
g.set(e, {
data: r,
error: n.error
}), this.trigger(this.getState());
}
});
},
getState: function v() {
return g.getState();
}
});
e.exports = m;
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return v(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = i(c), d = n(6), h = i(d), y = n(2), g = n(18), m = i(g), b = {
_$ComCenterDivider: {
displayName: "ComCenterDivider"
}
}, v = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/comcenter/ComCenterDivider.jsx",
components: b,
locals: [],
imports: []
}), _ = y.createStyleSheet({
dividerContainer: {
zOffset: 50,
position: "relative"
},
verticalContainer: {
alignSelf: "flex-start"
},
horizontalContainer: {
marginTop: h["default"].GUTTER,
marginBottom: h["default"].GUTTER
},
vertical: {
position: "absolute",
top: 0,
bottom: 0,
width: 1,
height: h["default"].getHeight(6),
backgroundColor: "#000000"
},
horizontal: {
left: 0,
right: 0,
height: 1
},
dividerLine: {
position: "absolute",
backgroundColor: "#FFFFFF33"
}
}), S = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = this.props, t = e.vertical, n = e.maximized, r = e.style, o = n ? {
width: m["default"].comCenter.maximized.style.width - 8 * h["default"].GUTTER
} : {
width: h["default"].getHeight(6)
}, a = t ? _.verticalContainer : _.horizontalContainer;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ _.dividerLine, t ? _.vertical : _.horizontal ]
},
_owner: null
},
style: u({}, _.dividerContainer, a, r, o)
},
_owner: null
};
};
var n = t;
return t = a("_$ComCenterDivider")(t) || t;
}(f["default"].Component);
t["default"] = S, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return $(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(2), g = r(y), m = n(6), b = l(m), v = n(12), _ = l(v), S = n(23), w = l(S), T = n(91), C = l(T), E = n(25), I = l(E), P = n(47), O = l(P), A = n(35), k = n(752), R = l(k), x = n(101), M = n(32), N = {
_$BattlepackItemScrapButton: {
displayName: "BattlepackItemScrapButton"
}
}, $ = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackItemScrapButton.jsx",
components: N,
locals: [],
imports: []
}), D = g.createStyleSheet({
container: {
flexDirection: "row"
},
inputButton: {
marginRight: 2 * b["default"].GUTTER
},
valueButtonContent: {
flexDirection: "row"
},
scrapIcon: {
marginLeft: b["default"].GUTTER
}
}), U = function(e) {
function t() {
a(this, t), e.apply(this, arguments);
}
return i(t, e), t.prototype.getTexts = function n(t) {
var n = e.prototype.getTexts.call(this, t);
return f({}, n, {
normal: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: M.localeRearrange([ n.normal, {
$$typeof: c,
type: x.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(x.TunguskaBattlepackScraps.defaultProps, {
value: this.props.value,
size: this.props.textSize,
style: D.scrapIcon
}),
_owner: null
} ]),
style: [ D.valueButtonContent, t.hideOnHover ]
},
_owner: null
},
hover: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: M.localeRearrange([ n.hover, {
$$typeof: c,
type: x.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(x.TunguskaBattlepackScraps.defaultProps, {
value: this.props.value,
size: this.props.textSize,
style: D.scrapIcon,
dark: !0
}),
_owner: null
} ]),
style: [ D.valueButtonContent, t.showOnHover ]
},
_owner: null
},
disabled: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: M.localeRearrange([ n.disabled, {
$$typeof: c,
type: x.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(x.TunguskaBattlepackScraps.defaultProps, {
value: this.props.value,
size: this.props.textSize,
style: D.scrapIcon
}),
_owner: null
} ]),
style: D.valueButtonContent
},
_owner: null
}
});
}, t;
}(w["default"]), L = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.onClick = function r() {
var e = this;
A.confirm(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_CONFIRM"), null, null, null, null, {
priority: 1,
stackable: !0
}).then(function() {
I["default"].display(new O["default"]({
id: "scrapPopup",
group: "battlepack",
content: {
$$typeof: c,
type: R["default"],
key: null,
ref: null,
props: o(R["default"].defaultProps, {
item: e.props.item,
onSuccess: e.props.onSuccess,
onError: e.props.onError,
onCancel: e.props.onCancel,
noConfirmation: !0
}),
_owner: null
},
fullScreen: !0,
createButtons: !1,
priority: 1,
stackable: !0
}));
}, function() {
"function" == typeof e.props.onCancel && e.props.onCancel();
});
}, t.prototype.render = function l() {
var e = this, t = this.props.item;
if (!t.scrapValue) return null;
var n = this.props.label || __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_FOR");
return SpartaGlobals.bundleIsPC || !this.props.useInputButton ? h["default"].createElement(U, f({
text: n,
value: t.scrapValue,
action: function() {
return e.onClick();
}
}, this.props)) : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
inputKey: _["default"].Option2,
label: n,
style: D.inputButton,
action: function() {
return e.onClick();
}
}),
_owner: null
}, {
$$typeof: c,
type: x.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(x.TunguskaBattlepackScraps.defaultProps, {
value: t.scrapValue,
size: "S"
}),
_owner: null
} ],
style: [ D.container, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = s("_$BattlepackItemScrapButton")(t) || t;
}(h["default"].Component);
t["default"] = L, L.propTypes = {
item: h["default"].PropTypes.object.isRequired,
onSuccess: h["default"].PropTypes.func,
onError: h["default"].PropTypes.func,
onCancel: h["default"].PropTypes.func,
useInputButton: h["default"].PropTypes.bool
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return w(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(820), y = s(h), g = n(7), m = s(g), b = n(32), v = n(6), _ = s(v), S = {
_$Title: {
displayName: "Title"
}
}, w = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/Title.jsx",
components: S,
locals: [],
imports: []
}), T = {
textLetterSpacing: 9,
marginTop: SpartaGlobals.bundleIsPC ? 2 * _["default"].GUTTER : 4 * _["default"].GUTTER
}, C = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = T;
return b.isRTLLanguage() && (e = c({}, T), e.textLetterSpacing = 0), {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
children: {
$$typeof: p,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
style: e,
size: "XXL",
value: this.props.text.toUpperCase(),
section: "tunguska"
}),
_owner: null
},
transitionId: this.props.text
}),
_owner: null
};
};
var n = t;
return t = i("_$Title")(t) || t;
}(d["default"].Component);
t["default"] = C, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var a = n(15), i = o(a), s = n(4), l = r(s), u = n(24), p = o(u), c = n(54), f = new p["default"]("TunguskaBattlepackInventoryStore"), d = i["default"].createStore({
init: function h() {
c.inventory.listen(function(e) {
f.setState(e), d.trigger(f.getState());
});
},
getState: function y() {
return f.getState();
},
getInitialState: function g() {
return this.getState();
},
getItemByKey: function m(e) {
return l.find(this.getState().items, function(t) {
return t.key === e;
});
}
});
t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
e = e || {}, this.amount = parseInt(e.amount, 10), this.battlepack = o(a, e.battlepack), 
this.data = e.data, this.offerId = e.offerId, this.productId = e.productId, this.packType = e.packType, 
this.pinData = e.pinData, this.price = e.price, this.listPrice = e.listPrice, this.shortDesc = e.shortDesc, 
this.longDesc = e.longDesc;
}
t.__esModule = !0;
var o = n(206), a = n(177);
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = {
cells: {
SSL: 12,
XL: 6,
L: 10,
SSM: 6,
M: 5,
S: 4,
SW: 5.75
},
parts: {
S: 8
}
}, o = {
cells: {
SSL: 55,
XL: 55,
L: 45,
SSM: 55,
M: 45,
S: 34,
SW: 22
},
parts: {
S: 3.4
}
}, a = {
cells: {
SSL: 9.6,
XL: 6,
L: 8,
SSM: 4.8,
M: 4,
S: 5,
SW: 5.75
},
parts: {
S: 8
}
}, i = {
cells: {
SSL: 43.5,
XL: 55,
L: 35.5,
SSM: 43.5,
M: 35.5,
S: 22,
SW: 22
},
parts: {
S: 3.55
}
}, s = SpartaGlobals.bundleIsPC ? a : r;
t.CARD_WIDTH = s;
var l = SpartaGlobals.bundleIsPC ? i : o;
t.CARD_HEIGHT = l;
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return d(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), c = i(p), f = {
_$Clipper: {
displayName: "Clipper"
}
}, d = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Clipper.jsx",
components: f,
locals: [],
imports: []
}), h = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = {};
if (this.props.clipContent) {
var t = this.props.width + (this.props.clipPadding[1] + this.props.clipPadding[3]), n = this.props.height + (this.props.clipPadding[0] + this.props.clipPadding[2]);
e = {
layer: this.props.clipContent,
layerClip: this.props.clipContent,
layerGrabBackground: !1,
layerSoftClip: this.props.softClip,
width: t,
height: n,
margin: [ -this.props.clipPadding[0], -this.props.clipPadding[1], -this.props.clipPadding[2], -this.props.clipPadding[3] ],
padding: [ this.props.clipPadding[0], this.props.clipPadding[1], this.props.clipPadding[2], this.props.clipPadding[3] ]
};
}
var r = u({}, e, this.props.style), o = this.props.extra || {};
return c["default"].createElement("surface", u({
style: r
}, o), this.props.children);
};
var n = t;
return t = a("_$Clipper")(t) || t;
}(c["default"].Component);
t["default"] = h, h.defaultProps = {
clipContent: !0,
clipPadding: [ 0, 0, 0, 0 ],
softClip: [ 0, 0, 0, 0 ]
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return g(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(7), h = s(d), y = {
_$DateText: {
displayName: "DateText"
}
}, g = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Text/DateText.jsx",
components: y,
locals: [],
imports: []
}), m = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.output = "", this.updateParsedTime(this.props.date, this.props.timestamp, this.props.timePlayed, this.props.unit);
}, t.prototype.componentWillUpdate = function l(e) {
this.updateParsedTime(e.date, e.timestamp, e.timePlayed, e.unit);
}, t.prototype.updateParsedTime = function u(e, t, n, r) {
if (e || t) {
var o = new Date(), a = e ? e : new Date(1e3 * t), i = Math.round(Math.abs((a.getTime() - o.getTime()) / 864e5));
0 === i ? this.output = __("ID_SPARTA_DATETIME_TODAY").toLocaleUpperCase() : 1 === i ? this.output = __("ID_SPARTA_DATETIME_YESTERDAY").toLocaleUpperCase() : this.output = a.toDateString().toUpperCase();
}
if (void 0 !== n) if (r) switch (r) {
case "minutes":
this.output = Math.floor(n / 60) + " " + __("ID_SPARTA_DATETIME_MIN");
break;

case "hours":
this.output = Math.floor(n / 3600) + " " + __("ID_SPARTA_DATETIME_H");
break;

case "days":
this.output = Math.floor(n / 86400) + " " + __("ID_SPARTA_DATETIME_DAYS");
} else {
var s = Math.floor(n / 86400), l = Math.floor(n % 86400 / 3600), u = Math.floor(n % 86400 % 3600 / 60);
this.output = "0", n > 60 && (this.output = "", this.output += s > 0 ? s + " " + __("ID_SPARTA_DATETIME_DAY") + (s > 1 ? "S" : "") : "", 
this.output += l > 0 ? (s > 0 ? " & " : "") + l + __("ID_SPARTA_DATETIME_H") : "", 
this.output += u > 0 ? (l > 0 || s > 0 ? " & " : "") + u + __("ID_SPARTA_DATETIME_MIN") : "");
}
}, t.prototype.render = function c() {
return {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
value: this.output,
type: this.props.type,
style: this.props.style,
size: this.props.size,
section: this.props.section,
letterSpacing: this.props.letterSpacing
}),
_owner: null
};
};
var n = t;
return t = i("_$DateText")(t) || t;
}(f["default"].Component);
t["default"] = m, m.propTypes = {
date: f["default"].PropTypes.instanceOf(Date),
timePlayed: f["default"].PropTypes.number,
unit: f["default"].PropTypes.oneOf([ "minutes", "hours", "days" ])
}, m.defaultProps = {
section: "generic",
letterSpacing: 0
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? 1e3 : arguments[1];
if (!e) return [];
for (var n = [], r = null; -1 !== r; ) r = Math.max(e.indexOf("\n", t), e.indexOf("\r", t)), 
n.push(e.substr(0, r)), e = e.substr(r + 1);
return n.push(e), n;
}
function i(e) {
return a(e).map(function(e) {
return {
$$typeof: s,
type: p["default"],
key: null,
ref: null,
props: o(p["default"].defaultProps, {
size: "S",
value: e
}),
_owner: null
};
});
}
t.__esModule = !0;
var s = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103;
t.chunkTextByLines = a, t.createChunkedTexts = i;
var l = n(1), u = (r(l), n(7)), p = r(u);
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(43), s = r(i), l = n(38), u = r(l), p = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, {
userId: null
}), u["default"].receiveSessionUser.listen(function(e) {
n.setState({
userId: e ? e.id : null
});
});
}
return a(t, e), t;
}(s["default"]);
t["default"] = new p(), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
e = e || {}, this.stats = new a(e.stats), this.gameStats = o.object(o.map(e.gameStats, function(e, t) {
return [ t, new a(e) ];
}));
}
var o = n(4), a = n(394);
e.exports = r;
}, function(e, t, n) {
function r(e) {
return i[e.name] || 0;
}
var o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start");
var a = {
FRUTIGER: {
LIGHT: "FrutigerLTStd-Light",
ROMAN: "FrutigerLTStd-Roman"
},
FUTURA: {
LIGHT: "FuturaMaxiStd-Light",
MEDIUM: "FuturaMaxiBook"
},
PURISTA: {
BOLD: "Purista-Bold",
MEDIUM: "Purista-Medium",
SEMI_BOLD: "Purista-SemiBold"
},
ROBOTO: {
BOLD: "Roboto-Bold",
LIGHT: "Roboto-Light",
MEDIUM: "Roboto-Medium",
THIN: "Roboto-Thin",
CONDENSED_BOLD: "RobotoCondensed-Bold",
CONDENSED_BOLD_ITALIC: "RobotoCondensed-BoldItalic",
CONDENSED_ITALIC: "RobotoCondensed-Italic",
CONDENSED_LIGHT: "RobotoCondensed-Light",
CONDENSED_LIGHT_ITALIC: "RobotoCondensed-LightItalic",
CONDENSED_REGULAR: "RobotoCondensed-Regular"
},
DFP_sougeitai_W5: "DFP_sougeitai_W5",
TunguskaJapanese: "TunguskaJapanese",
Asiajunggothic: "Asiajunggothic",
TunguskaKorean: "TunguskaKorean",
FuturaJP: "FuturaMaxiBook-JP",
FuturaAR: "FuturaMaxiBook-AR",
FuturaTC: "FuturaMaxiBook-TC"
}, i = {
"FuturaMaxiStd-Light": 2,
FuturaMaxiBook: 2
};
o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = {
fonts: a,
getLetterSpacing: r
};
}, function(e, t, n) {
(function(t) {
function r(e) {
if (e = e || {}, h.MISC) void 0 !== e.duration && (this.duration = e.duration), 
void 0 !== e.speed && (this.speed = e.speed), void 0 !== e.easing && (this.easing = e.easing), 
void 0 !== e.delay && (this.delay = e.delay); else {
var t = this;
r.properties.forEach(function(n) {
void 0 !== e[n] && (t[n] = e[n]);
});
}
}
function o(e) {
e = e || {}, this.from = e.from, this.to = e.to, this.options = new r(e.options);
}
function a(e) {
if (!g) throw new Error(e);
}
function i(e) {
return "string" == typeof e && "#" === e.substr(0, 1) ? !0 : null == e || isFinite(e) || Array.isArray(e) && 4 === e.length;
}
function s(e) {
if (i(e.from) || (e = new o(c.extend({}, e, {
from: null
})), a("Infinity or NaN passed in Tween from value")), i(e.to) || (e = new o(c.extend({}, e, {
to: null
})), a("Infinity or NaN passed in Tween to value")), null != e.options.duration && !isFinite(e.options.duration)) {
var t = new r(c.extend({}, e.options, {
duration: null
}));
e = new o(c.extend({}, e, {
options: t
})), a("Infinity or NaN passed in Tween duration value");
}
return e;
}
function l(e, t, n) {
this.id = e, this.defaultOptions = new r(n), this.previousInstruction = new o({
to: t,
options: n
}), this._isDestroyed = !1, this.cancelAutorun = null, y[e] = this, d.createTween(this.id, void 0 !== t ? t : null);
}
var u = n(10), p = n(108), c = n(4), f = n(133).TweenBatching, d = n(45).Native, h = (n(227).profiler, 
n(226)), y = {}, g = p.getBuildInfo().isRetail();
r.properties = [ "duration", "speed", "easing", "delay" ], r.prototype = {
equals: function m(e) {
if (h.MISC) return this.duration === e.duration && this.speed === e.speed && this.easing === e.easing && this.delay === e.delay;
for (var t = 0; t < r.properties.length; t++) {
var n = r.properties[t];
if (this[n] !== e[n]) return !1;
}
return !0;
}
}, o.prototype = {
equals: function b(e) {
return this.from === e.from && this.to === e.to && this.options.equals(e.options);
}
}, l.prototype = {
onTweenStatus: function v(e) {
0 === e && (this.isTweening = !1, this._endCallback && this._endCallback());
},
addCallback: function _(e) {
var t = this;
if (e) {
var n = this._endCallback;
n ? this._endCallback = function() {
t._endCallback = null, n(), e();
} : this._endCallback = function() {
t._endCallback = null, e();
};
}
},
isDestroyed: function S() {
return this._isDestroyed;
},
destroy: function w() {
this.cancelAutorun && this.cancelAutorun(), this._isDestroyed = !0, delete y[this.id], 
d.destroyTween(this.id);
},
instruct: function T(e, t) {
this._isDestroyed || (t || (e = new o({
from: e.from,
to: e.to,
options: c.extend({}, this.defaultOptions, e.options)
})), void 0 === e.from && this.previousInstruction.equals(e) ? this.isTweening || this._endCallback && this._endCallback() : (e = s(e), 
this.previousInstruction = e, this.isTweening = !0, f.batch.push({
tween: this,
instruction: e
}), 0 === f.depth && f.flush()));
},
transition: function C(e, t, n, r) {
if (!this._isDestroyed) {
this.cancelAutorun && this.cancelAutorun();
var a = c.extend({}, this.defaultOptions, n);
h.MISC ? this._isDestroyed || this.instruct(new o({
from: e,
to: t,
options: a
}), !0) : this.instruct(new o({
from: e,
to: t,
options: n
})), "function" == typeof r ? setTimeout(r, a.delay ? a.delay + a.duration : a.duration) : "undefined" != typeof r && console.error("Invalid callback passed as argument to Tween.transition", r);
}
},
from: function E(e, t, n) {
this._isDestroyed || this.transition(e, void 0, t, n);
},
autorun: function I(e) {
var t = this;
this.cancelAutorun && this.cancelAutorun(), this.cancelAutorun = u.autorun(function() {
return e(t);
});
},
to: function P(e, t, n) {
this._isDestroyed || this.transition(void 0, e, t, n);
},
set: function O(e, t) {
this._isDestroyed || this.transition(e, e, {
speed: null,
duration: 1
}, t);
},
get: function A() {
return this._isDestroyed ? void 0 : d.getTweenValueSync(this.id);
},
getStyle: function k() {
return this.id;
}
}, l.Instruction = o, l.Options = r, l.getStyles = function(e) {
var t = {};
for (var n in e) if (e.hasOwnProperty(n)) {
var r = e[n];
r instanceof l ? t[n] = r.getStyle() : t[n] = l.getStyles(r);
}
return t;
}, t.onTweenStatus = function(e, t) {
var n = y[e];
n && n.onTweenStatus(t);
}, e.exports = l;
}).call(t, function() {
return this;
}());
}, function(e, t) {
(function(t) {
var n = {
DISABLE_EVENTS: !1,
MISC: !0,
CONTENT_RENDER: !0,
VIEW_KEYS: !0,
INPUT_STATE: !0,
MINIFLUX: !0,
USE_STATIC_SURFACES: !0,
STATELESS_ROUTE_TEXT: !0,
STATELESS_GRID: !0
};
"undefined" != typeof window && (t.window._perfFlags = n), e.exports = n;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
t.__esModule = !0;
var r = n(45), o = n(79), a = {
react: [ 0, 0, 255, 255 ],
core: [ 255, 0, 0, 255 ],
render: [ 0, 255, 0, 255 ],
lifecycle: [ 0, 255, 255, 255 ],
props: [ 255, 0, 255, 255 ],
surface: [ 127, 255, 127, 255 ],
entry: []
}, i = function c(e, t, n) {
var r = Math.round(6 * e), o = 6 * e - r, a = n * (1 - t), i = n * (1 - o * t), s = n * (1 - (1 - o) * t), l = 255, u = 0, p = 255;
switch (r) {
case 0:
l = n, u = s, p = a;
break;

case 1:
l = i, u = n, p = a;
break;

case 2:
l = a, u = n, p = s;
break;

case 3:
l = a, u = n, p = i;
break;

case 4:
l = s, u = a, p = n;
break;

case 5:
l = n, u = a, p = i;
}
return [ Math.round(256 * l), Math.round(256 * u), Math.round(256 * p), 255 ];
}, s = .618033988749895, l = 0, u = function f() {
return l += s, l %= 1, i(l, .5, .95);
}, p = {
measureStart: function d() {},
measureStop: function h() {},
measure: function y() {}
};
t.profiler = p, o.options.enableRTV && (p.measureStart = function(e, t) {
"" === t && (t = 0 === e.indexOf("ReactTwinkleComponent") ? "react" : e), a[t] || (a[t] = u());
var n = a[t] || [ 127, 127, 127, 255 ];
r.Native.profilerStart && r.Native.profilerStart(e, n);
}, p.measureStop = function() {
r.Native.profilerStop && r.Native.profilerStop();
}, p.measure = function(e, t, n, r, o) {
try {
return n.apply(r, o);
} finally {}
});
}, function(e, t, n) {
"use strict";
function r() {
this._callbacks = null, this._contexts = null;
}
var o = n(107), a = n(37), i = n(29);
a(r.prototype, {
enqueue: function(e, t) {
this._callbacks = this._callbacks || [], this._contexts = this._contexts || [], 
this._callbacks.push(e), this._contexts.push(t);
},
notifyAll: function() {
var e = this._callbacks, t = this._contexts;
if (e) {
e.length !== t.length ? i(!1) : void 0, this._callbacks = null, this._contexts = null;
for (var n = 0; n < e.length; n++) e[n].call(t[n]);
e.length = 0, t.length = 0;
}
},
reset: function() {
this._callbacks = null, this._contexts = null;
},
destructor: function() {
this.reset();
}
}), o.addPoolingTo(r), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
return Object.prototype.hasOwnProperty.call(e, g) || (e[g] = h++, f[e[g]] = {}), 
f[e[g]];
}
var o = n(106), a = n(185), i = n(490), s = n(928), l = n(84), u = n(512), p = n(37), c = n(333), f = {}, d = !1, h = 0, y = {
topAbort: "abort",
topBlur: "blur",
topCanPlay: "canplay",
topCanPlayThrough: "canplaythrough",
topChange: "change",
topClick: "click",
topCompositionEnd: "compositionend",
topCompositionStart: "compositionstart",
topCompositionUpdate: "compositionupdate",
topContextMenu: "contextmenu",
topCopy: "copy",
topCut: "cut",
topDoubleClick: "dblclick",
topDrag: "drag",
topDragEnd: "dragend",
topDragEnter: "dragenter",
topDragExit: "dragexit",
topDragLeave: "dragleave",
topDragOver: "dragover",
topDragStart: "dragstart",
topDrop: "drop",
topDurationChange: "durationchange",
topEmptied: "emptied",
topEncrypted: "encrypted",
topEnded: "ended",
topError: "error",
topFocus: "focus",
topInput: "input",
topKeyDown: "keydown",
topKeyPress: "keypress",
topKeyUp: "keyup",
topLoadedData: "loadeddata",
topLoadedMetadata: "loadedmetadata",
topLoadStart: "loadstart",
topMouseDown: "mousedown",
topMouseMove: "mousemove",
topMouseOut: "mouseout",
topMouseOver: "mouseover",
topMouseUp: "mouseup",
topPaste: "paste",
topPause: "pause",
topPlay: "play",
topPlaying: "playing",
topProgress: "progress",
topRateChange: "ratechange",
topScroll: "scroll",
topSeeked: "seeked",
topSeeking: "seeking",
topSelectionChange: "selectionchange",
topStalled: "stalled",
topSuspend: "suspend",
topTextInput: "textInput",
topTimeUpdate: "timeupdate",
topTouchCancel: "touchcancel",
topTouchEnd: "touchend",
topTouchMove: "touchmove",
topTouchStart: "touchstart",
topVolumeChange: "volumechange",
topWaiting: "waiting",
topWheel: "wheel"
}, g = "_reactListenersID" + String(Math.random()).slice(2), m = p({}, s, {
ReactEventListener: null,
injection: {
injectReactEventListener: function(e) {
e.setHandleTopLevel(m.handleTopLevel), m.ReactEventListener = e;
}
},
setEnabled: function(e) {
m.ReactEventListener && m.ReactEventListener.setEnabled(e);
},
isEnabled: function() {
return !(!m.ReactEventListener || !m.ReactEventListener.isEnabled());
},
listenTo: function(e, t) {
for (var n = t, a = r(n), s = i.registrationNameDependencies[e], l = o.topLevelTypes, u = 0; u < s.length; u++) {
var p = s[u];
a.hasOwnProperty(p) && a[p] || (p === l.topWheel ? c("wheel") ? m.ReactEventListener.trapBubbledEvent(l.topWheel, "wheel", n) : c("mousewheel") ? m.ReactEventListener.trapBubbledEvent(l.topWheel, "mousewheel", n) : m.ReactEventListener.trapBubbledEvent(l.topWheel, "DOMMouseScroll", n) : p === l.topScroll ? c("scroll", !0) ? m.ReactEventListener.trapCapturedEvent(l.topScroll, "scroll", n) : m.ReactEventListener.trapBubbledEvent(l.topScroll, "scroll", m.ReactEventListener.WINDOW_HANDLE) : p === l.topFocus || p === l.topBlur ? (c("focus", !0) ? (m.ReactEventListener.trapCapturedEvent(l.topFocus, "focus", n), 
m.ReactEventListener.trapCapturedEvent(l.topBlur, "blur", n)) : c("focusin") && (m.ReactEventListener.trapBubbledEvent(l.topFocus, "focusin", n), 
m.ReactEventListener.trapBubbledEvent(l.topBlur, "focusout", n)), a[l.topBlur] = !0, 
a[l.topFocus] = !0) : y.hasOwnProperty(p) && m.ReactEventListener.trapBubbledEvent(p, y[p], n), 
a[p] = !0);
}
},
trapBubbledEvent: function(e, t, n) {
return m.ReactEventListener.trapBubbledEvent(e, t, n);
},
trapCapturedEvent: function(e, t, n) {
return m.ReactEventListener.trapCapturedEvent(e, t, n);
},
ensureScrollValueMonitoring: function() {
if (!d) {
var e = u.refreshScrollValues;
m.ReactEventListener.monitorScrollValue(e), d = !0;
}
},
eventNameDispatchConfigs: a.eventNameDispatchConfigs,
registrationNameModules: a.registrationNameModules,
putListener: a.putListener,
getListener: a.getListener,
deleteListener: a.deleteListener,
deleteAllListeners: a.deleteAllListeners
});
l.measureMethods(m, "ReactBrowserEventEmitter", {
putListener: "putListener",
deleteListener: "deleteListener"
}), e.exports = m;
}, function(e, t, n) {
"use strict";
var r = {};
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(237), o = r({
prop: null,
context: null,
childContext: null
});
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(189), a = n(512), i = n(330), s = {
screenX: null,
screenY: null,
clientX: null,
clientY: null,
ctrlKey: null,
shiftKey: null,
altKey: null,
metaKey: null,
getModifierState: i,
button: function(e) {
var t = e.button;
return "which" in e ? t : 2 === t ? 2 : 4 === t ? 1 : 0;
},
buttons: null,
relatedTarget: function(e) {
return e.relatedTarget || (e.fromElement === e.srcElement ? e.toElement : e.fromElement);
},
pageX: function(e) {
return "pageX" in e ? e.pageX : e.clientX + a.currentScrollLeft;
},
pageY: function(e) {
return "pageY" in e ? e.pageY : e.clientY + a.currentScrollTop;
}
};
o.augmentClass(r, s), e.exports = r;
}, function(e, t, n) {
"use strict";
var r = !1;
e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
return o[e];
}
function r(e) {
return ("" + e).replace(a, n);
}
var o = {
"&": "&amp;",
">": "&gt;",
"<": "&lt;",
'"': "&quot;",
"'": "&#x27;"
}, a = /[&><"']/g;
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
return "function" == typeof e && "undefined" != typeof e.prototype && "function" == typeof e.prototype.mountComponent && "function" == typeof e.prototype.receiveComponent;
}
function o(e) {
var t;
if (null === e || e === !1) t = new i(o); else if ("object" == typeof e) {
var n = e;
!n || "function" != typeof n.type && "string" != typeof n.type ? u(!1) : void 0, 
t = "string" == typeof n.type ? s.createInternalComponent(n) : r(n.type) ? new n.type(n) : new p();
} else "string" == typeof e || "number" == typeof e ? t = s.createInstanceForText(e) : u(!1);
return t.construct(e), t._mountIndex = 0, t._mountImage = null, t;
}
var a = n(919), i = n(502), s = n(508), l = n(37), u = n(29), p = (n(42), function() {});
l(p.prototype, a.Mixin, {
_instantiateReactComponent: o
}), e.exports = o;
}, function(e, t, n) {
"use strict";
var r = n(65), o = /^[ \r\n\t\f]/, a = /<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/, i = function(e, t) {
e.innerHTML = t;
};
if ("undefined" != typeof MSApp && MSApp.execUnsafeLocalFunction && (i = function(e, t) {
MSApp.execUnsafeLocalFunction(function() {
e.innerHTML = t;
});
}), r.canUseDOM) {
var s = document.createElement("div");
s.innerHTML = " ", "" === s.innerHTML && (i = function(e, t) {
if (e.parentNode && e.parentNode.replaceChild(e, e), o.test(t) || "<" === t[0] && a.test(t)) {
e.innerHTML = String.fromCharCode(65279) + t;
var n = e.firstChild;
1 === n.data.length ? e.removeChild(n) : n.deleteData(0, 1);
} else e.innerHTML = t;
});
}
e.exports = i;
}, function(e, t, n) {
"use strict";
var r = n(29), o = function(e) {
var t, n = {};
e instanceof Object && !Array.isArray(e) ? void 0 : r(!1);
for (t in e) e.hasOwnProperty(t) && (n[t] = t);
return n;
};
e.exports = o;
}, function(e, t) {
"use strict";
var n = function() {
function e() {
this.purchasesByGame = {};
}
return e.prototype.getType = function(e, t) {
var n = this.purchasesByGame[e];
return void 0 === n ? void 0 : n.filter(function(e) {
return e.state.value === t;
});
}, e.prototype.setPurchases = function(e, t) {
this.purchasesByGame[e] = t;
}, e;
}();
t.rspPurchaseStore = new n();
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(9), i = n(6), s = n(13), l = n(7), u = n(258), p = n(16), c = function(t) {
function n(e) {
t.call(this, e), this.opacityTween = s.tween("AccessImageOpacity", 0), this.updateTweens(!1);
}
return e(n, t), n.prototype.componentDidMount = function() {
this.updateTweens(this.state.subscriptionStatus);
}, n.prototype.componentWillUpdate = function(e, t) {
t.subscriptionStatus !== this.state.subscriptionStatus && this.updateTweens(t.subscriptionStatus);
}, n.prototype.updateTweens = function(e) {
e ? this.opacityTween.to(.2) : this.opacityTween.to(0);
}, n.prototype.componentWillUnmount = function() {
this.opacityTween.destroy();
}, n.prototype.render = function() {
var e = SpartaGlobals.bundleIsPC ? a.bbUrl("/sparta/jsclient/builds/assets/logo-originaccess-a535b212.png") : a.bbUrl("/sparta/jsclient/builds/assets/logo-eaaccess-433bac60.png"), t = SpartaGlobals.bundleIsPC ? 3 : 4, n = this.props.width || i.getWidth(5), r = {
texture: e,
height: i.getHeight(6),
width: n,
textureMode: "contain",
textureAlign: [ 1, 1 ],
opacity: this.opacityTween.getStyle()
}, s = {
marginTop: SpartaGlobals.bundleIsPC ? 0 : i.GUTTER,
opacity: this.opacityTween.getStyle(),
width: n,
textAlign: "right"
}, u = {
height: i.getHeight(20),
width: i.getWidth(t),
flexDirection: "column",
justifyContent: "flex-end"
};
return this.props.style && (u = Object.assign({}, this.props.style)), o.createElement("surface", {
style: u
}, o.createElement("surface", {
style: r
}), o.createElement(l, {
value: __("ID_SPARTA_COMMERCE_ACCESS_DISCOUNT"),
size: "XS",
style: s,
section: "generic"
}));
}, n = r([ p({
subscriptionStatus: u
}) ], n);
}(o.Component);
t.AccessImage = c;
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
function r() {
a.events.onManifestDownloaded.listen(function(e) {
i.action("onManifestDownloaded", function() {
var n = e.bundleVersion != e.newBundleVersion;
t.store.isUpdateAvailable = n, t.store.isUpdateMandatory = e.isMandatory;
})();
}), a.events.onManifestAssetsDownloadStarted.listen(function(e) {
i.action("onManifestAssetsDownloadStarted", function() {
t.store.isUpdateDownloading = !0;
})();
}), a.events.onManifestAssetsDownloadCompleted.listen(function(e) {
i.action("onManifestAssetsDownloadCompleted", function() {
t.store.isUpdateDownloading = !1, t.store.isUpdateDownloaded = !0;
})();
});
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(2), i = n(10), s = function() {
function e() {
this.isUpdateAvailable = !1, this.isUpdateMandatory = !1, this.isUpdateDownloading = !1, 
this.isUpdateDownloaded = !1;
}
return Object.defineProperty(e.prototype, "isMandatoryUpdateInstalled", {
get: function() {
return this.isUpdateAvailable && this.isUpdateMandatory && this.isUpdateDownloaded;
},
enumerable: !0,
configurable: !0
}), o([ i.observable ], e.prototype, "isUpdateAvailable", void 0), o([ i.observable ], e.prototype, "isUpdateMandatory", void 0), 
o([ i.observable ], e.prototype, "isUpdateDownloading", void 0), o([ i.observable ], e.prototype, "isUpdateDownloaded", void 0), 
o([ i.computed ], e.prototype, "isMandatoryUpdateInstalled", null), e;
}();
t.BundleUpdateStore = s, t.init = r, t.store = new s(), window.bundleUpdateStore = t.store;
}, function(e, t, n) {
"use strict";
var r = n(120);
!function(e) {
e[e.none = 0] = "none", e[e.disconnected = 1] = "disconnected", e[e.connecting = 2] = "connecting", 
e[e.ready = 3] = "ready";
}(t.PresenceStates || (t.PresenceStates = {}));
var o = t.PresenceStates, a = function() {
function e(e) {
void 0 === e && (e = {}), this.props = e, this.state = void 0 !== e.state ? e.state : o.none, 
this.hasInternet = void 0 !== e.hasInternet ? e.hasInternet : !1, this.isFirstPartyConnected = null != e.isFirstPartyConnected ? e.isFirstPartyConnected : !1, 
this.isQoSReady = null != e.isQoSReady ? e.isQoSReady : !1, this.mode = void 0 !== e.mode ? e.mode : r.PresenceModeType.none, 
this.resultType = void 0 !== e.resultType ? e.resultType : r.ConnectionResultType.none, 
this.customMessage = e.customMessage || "", Object.freeze(this);
}
return e.prototype.shouldDisplayPresenceErrors = function() {
return this.mode !== r.PresenceModeType.silentOnline;
}, e.prototype.isUnknown = function() {
return this.state === o.none;
}, e.prototype.isDisconnected = function() {
return this.state === o.disconnected;
}, e.prototype.isTooYoung = function() {
return this.resultType === r.ConnectionResultType.tooYoung || this.resultType === r.ConnectionResultType.tooYoungForContent;
}, e.prototype.isReady = function() {
return this.state === o.ready;
}, e.prototype.isConnecting = function() {
return this.state === o.connecting;
}, e.prototype.isMissingMPPrivileges = function() {
return this.resultType === r.ConnectionResultType.noMultiplayerPrivilege;
}, e.prototype.resultToHumanReadable = function() {
throw new Error("deprecated");
}, e;
}();
t.PresenceState = a;
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t) {
switch (t.type) {
case "bool":
return t.defaultValue ? "on" === e[t.filterKey] : "off" === e[t.filterKey];

case "scale":
return "on" === e[t.defaultOption];

case "int":
return null == e[t.filterKey];

default:
return e[t.filterKey] === String(t.defaultValue);
}
}
function n(e, t) {
return "on" === e ? t.prettyName || t.name : "off" === e ? __("ID_SPARTA_FILTER_NO_FILTERS").replace("[[filterCategory]]", t.prettyName || t.name) : "";
}
function r(e, t) {
return t.name + " " + 100 * t.options[e] + "%";
}
function o(e, t) {
var n = t.filter(function(t) {
return t.filterKey === e;
});
return n.length ? n[0].prettyName || n[0].name : e;
}
function a(e, t, n) {
void 0 === n && (n = !1);
var r = Object.keys(e), a = r.length, i = t ? t.length : 0;
return 0 === a ? "" : 1 === a ? o(r[0], t) : a === i ? __("ID_SPARTA_FILTER_ANY_FILTERS") : n ? r.map(function(e) {
return o(e, t);
}).join(", ") : a + " / " + i;
}
function i(t, r) {
var o = r.filter(function(n) {
return !e(t, n);
}), a = o.length;
if (0 === a) return "";
if (1 === a) {
var i = t[o[0].filterKey];
if (i) return n(i, o[0]);
}
return __("ID_SPARTA_FILTER_CUSTOM_FILTERS");
}
function s(e, t) {
var r = Object.keys(e), o = r.length, a = t ? t.length : 0;
if (0 === o) return "";
if (1 === o) {
var i = t.filter(function(e) {
return e.filterKey === r[0];
}), s = e[r[0]];
if (s) return n(s, i[0]);
}
return o + " / " + a;
}
function l(t, n) {
var o = n.filter(function(n) {
return !e(t, n);
}), a = o.length;
if (0 === a) return "";
if (1 === a) {
var i = Object.keys(t).filter(function(e) {
return null != o[0].options[e];
});
if (i.length) return r(i[0], o[0]);
}
return __("ID_SPARTA_FILTER_CUSTOM_FILTERS");
}
function u(e, t) {
var n = Object.keys(e), r = n.length, a = t ? t.length : 0;
return 0 === r ? "" : 1 === r ? o(n[0], t) : r + " / " + a;
}
function p(e, t, n) {
return "name" === n ? e.name || "" : h.indexOf(n) > -1 ? a(e, t, "slots" === n) : "scales" === n ? l(e, t) : "rules" === n ? u(e, t) : "advanced" === n ? s(e, t) : [ "kits", "vehicles", "weaponClasses", "misc" ].indexOf(n) > -1 ? i(e, t) : "???";
}
function c(e) {
return "maps" === e ? __("ID_SPARTA_FILTER_MAPS") : "gameModes" === e ? __("ID_SPARTA_FILTER_GAMEMODES") : "vehicles" === e ? __("ID_SPARTA_FILTER_VEHICLES") : "kits" === e ? __("ID_SPARTA_FILTER_KITS") : "weaponClasses" === e ? __("ID_SPARTA_FILTER_WEAPONS") : "misc" === e ? __("ID_SPARTA_FILTER_ADVANCED") : "scales" === e ? __("ID_SPARTA_FILTER_RULES") : "serverType" === e ? __("ID_SPARTA_FILTER_SERVERTYPE") : "presets" === e ? __("ID_SPARTA_FILTER_PRESET") : "rules" === e ? __("ID_SPARTA_FILTER_RULES") : "advanced" === e ? __("ID_SPARTA_FILTER_ADVANCED") : "slots" === e ? __("ID_SPARTA_FILTER_SLOTS") : "regions" === e ? __("ID_SPARTA_FILTER_REGIONS") : "gameSizes" === e ? __("ID_SPARTA_FILTER_GAMESIZE") : "name" === e ? __("ID_SPARTA_FILTER_NAME") : "";
}
function f(e, t, n) {
var r = n.map(function(n) {
return p(e[n], t[n], n);
});
return r.reduce(function(e, t) {
return "" === e ? t : "" === t ? e : __("ID_SPARTA_FILTER_CUSTOM_FILTERS");
});
}
function d(t, n) {
void 0 === n && (n = {});
var r = [], a = !1, i = Object.keys(n).filter(function(e) {
return "maps" !== e && "gameModes" !== e;
}), s = [ "gameModes", "maps" ].concat(i);
return s.forEach(function(i) {
var s = t[i], l = n[i];
if (l && s) if (m.indexOf(i) > -1) {
var u = Object.keys(s);
u.length && (1 === u.length && y.indexOf(i) > -1 ? r.push(o(u[0], l)) : "maps" === i || "gameModes" === i ? r.push(u.length + "/" + l.length + " " + c(i)) : r.push(c(i)));
} else {
var p = l.filter(function(t) {
return !e(s, t);
});
p.length && (b.indexOf(i) > -1 ? a || (a = !0) : r.push(c(i)));
}
}), t.name && t.name.name && r.push(c("name")), {
text: r.join(", "),
isCustomGames: a
};
}
var h = [ "maps", "gameModes", "regions", "slots", "presets", "serverType", "tickRates", "gameSizes" ], y = [ "maps", "gameModes", "gameSizes", "regions", "presets", "serverType", "tickRates" ], g = [ "advanced", "rules" ], m = h.concat(g);
t.describeFilterCategory = p;
var b = [ "kits", "vehicles", "weaponClasses", "misc", "scales" ];
t.describeFilterCategories = f, t.getFilterSummary = d;
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10);
!function(e) {
e[e.Popup = 0] = "Popup", e[e.Inline = 1] = "Inline";
}(t.TakeoverType || (t.TakeoverType = {}));
var a, i = t.TakeoverType;
!function(e) {
e[e.PC = 0] = "PC", e[e.PS4 = 1] = "PS4", e[e.XB1 = 2] = "XB1";
}(a || (a = {}));
var s = function() {
function e() {
this.type = i.Popup, this.dismissed = !1;
}
return e.prototype.dismiss = function() {
this.dismissed = !0;
}, r([ o.observable ], e.prototype, "dismissed", void 0), r([ o.action ], e.prototype, "dismiss", null), 
e;
}();
t.Takeover = s;
var l = function() {
function e() {
this.hasFetched = !1, this.takeovers = [];
}
return Object.defineProperty(e.prototype, "activeTakeover", {
get: function() {
return this.takeovers.find(function(e) {
return !e.dismissed;
});
},
enumerable: !0,
configurable: !0
}), e.prototype.setFetched = function() {
this.hasFetched = !0;
}, e.prototype.populateTakeovers = function(e) {
this.hasFetched || (this.hasFetched = !0, this.takeovers = this.takeovers.concat(e));
}, r([ o.observable ], e.prototype, "hasFetched", void 0), r([ o.observable ], e.prototype, "takeovers", void 0), 
r([ o.computed ], e.prototype, "activeTakeover", null), r([ o.action ], e.prototype, "setFetched", null), 
r([ o.action ], e.prototype, "populateTakeovers", null), e;
}();
t.TakeoverStore = l;
}, function(e, t, n) {
"use strict";
function r(e) {
e.step("Wait for start screen").waitUntil(function() {
return !s;
}, 1e3, 20).timeout(3e4);
}
function o(e, t) {
e.step("Goto " + t).custom(function(e) {
i.gotoLocation(t), a.Native.applyStateChanges(), e();
}).delay(3e3);
}
var a = n(2), i = n(17), s = !0;
a.testElement.onMount("startscreen", function() {
a.testElement.onUnmount("startscreen", function() {
s = !1;
});
}), t.passStartScreen = r, t.gotoLocation = o;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(4), i = n(158), s = function() {
function e() {
this.codexEntries = [];
}
return e.prototype.setCodexEntries = function(e) {
this.codexEntries = e;
}, Object.defineProperty(e.prototype, "careerCodexCategories", {
get: function() {
var e = a.groupBy(this.codexEntries, function(e) {
return e.category;
});
return a.map(e, function(e, t) {
var n = e.length, r = 0;
e.forEach(function(e) {
e.isCollected && r++;
});
var o = new i.CodexCategoryProgression(n, r);
return new i.CodexCategoryGroup(t, e, o);
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "totalCodexProgression", {
get: function() {
var e = 0, t = this.codexEntries.length;
return this.codexEntries.forEach(function(t) {
t.isCollected && e++;
}), {
total: t,
completed: e
};
},
enumerable: !0,
configurable: !0
}), e.prototype.getCodexEntryById = function(e) {
return a.find(this.codexEntries.slice(), function(t) {
return t.id === e;
});
}, e.prototype.getCodexEntryByCode = function(e) {
return a.find(this.codexEntries.slice(), function(t) {
return t.code === e;
});
}, r([ o.observable ], e.prototype, "codexEntries", void 0), r([ o.action ], e.prototype, "setCodexEntries", null), 
r([ o.computed ], e.prototype, "careerCodexCategories", null), r([ o.computed ], e.prototype, "totalCodexProgression", null), 
e;
}();
t.TunguskaCodexStore = s, t.tunguskaCodexStore = new s();
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, r = n(10), o = n(140), a = n(81), i = n(50), s = n(35), l = function() {
function t() {
this.isServerReady = !1, this.isMatchmakingActive = !1;
}
return t.prototype.initializeSteps = function(e) {
this.steps = {
mode: {
done: !!e.mode,
name: __("ID_SPARTA_GAMESTATE_MATCHMAKING_MODE")
},
map: {
done: !!e.map,
name: __("ID_SPARTA_GAMESTATE_MATCHMAKING_MAP")
},
location: {
done: !!e.location,
name: __("ID_SPARTA_GAMESTATE_MATCHMAKING_AREA")
},
skill: {
done: !!e.skill,
name: __("ID_SPARTA_GAMESTATE_MATCHMAKING_SKILL")
}
};
}, t.prototype.startNewCheckList = function(e) {
a.canJoinSession(!1), this.isMatchmakingActive = !0, this.initializeSteps(e), this.processSteps();
}, t.prototype.setCanJoinSession = function() {
this.isMatchmakingActive && (a.canJoinSession(!0), this.reset());
}, t.prototype.processSteps = function() {
var e = this;
this.checkNextStep("mode").then(function() {
e.checkNextStep("map").then(function() {
e.checkNextStep("location").then(function() {
e.isServerReady && e.checkNextStep("skill").then(function() {
i.getState().subRoute && o.operationFlow.state !== o.OperationState.none ? s.confirm(__("ID_SPARTA_TUNGUSKA_PLAYING_JOIN_NOW"), __("ID_SPARTA_TUNGUSKA_PLAYING_GAME_READY"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_NO"), "setCanJoinSession").then(function() {
e.setCanJoinSession();
}) : setTimeout(function() {
e.setCanJoinSession();
}, 1500);
});
});
});
});
}, t.prototype.checkNextStep = function(e) {
var t = this;
return new Promise(function(n, o) {
t.isMatchmakingActive || o(), t.steps[e].done ? n() : setTimeout(r.action("Step done", function() {
t.steps[e].done = !0, n();
}), t.randomTime());
});
}, t.prototype.randomTime = function() {
var e = this.isServerReady ? 1 : 10;
return Math.random() * e * 1e3;
}, t.prototype.handleServerFound = function() {
this.isServerReady = !0, this.isMatchmakingActive && this.processSteps();
}, t.prototype.reset = function() {
this.isMatchmakingActive = !1, this.isServerReady = !1;
}, e([ r.observable ], t.prototype, "steps", void 0), e([ r.observable ], t.prototype, "isServerReady", void 0), 
e([ r.observable ], t.prototype, "isMatchmakingActive", void 0), e([ r.action ], t.prototype, "initializeSteps", null), 
e([ r.action ], t.prototype, "startNewCheckList", null), e([ r.action ], t.prototype, "handleServerFound", null), 
e([ r.action ], t.prototype, "reset", null), t;
}();
t.matchmakingCheckList = new l(), a.handleServerFound.listen(function() {
t.matchmakingCheckList.handleServerFound();
}), a.stop.listen(function() {
t.matchmakingCheckList.reset();
});
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(94), i = n(1), s = n(10), l = n(8).observer, u = n(156), p = n(137), c = n(95), f = n(4), d = n(33), h = n(6), y = n(461), g = n(18), m = n(13), b = n(17), v = function() {
function e(e, t) {
this.index = e, this.tab = t;
}
return e;
}(), _ = function(e) {
function t(t, n) {
e.call(this), this.name = t, this.content = null, this.setContent(n);
}
return r(t, e), t.prototype.setContent = function(e) {
this.content = e;
}, t.prototype.contentEquals = function(e) {
return !!this.content && this.content.index === e.index;
}, o([ s.observable ], t.prototype, "content", void 0), o([ s.action ], t.prototype, "setContent", null), 
t;
}(u.ItemState), S = function(e) {
function t(t, n) {
for (var r = [], o = 2; o < arguments.length; o++) r[o - 2] = arguments[o];
e.apply(this, [ n ].concat(r)), this.viewComponentState = t;
}
return r(t, e), Object.defineProperty(t.prototype, "leftToRight", {
get: function() {
return this.previous && this.current && this.previous.content && this.current.content ? this.previous.content.index > this.current.content.index : !1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "activeTabIndex", {
get: function() {
return this.current && this.current.content ? this.current.content.index : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "activeTab", {
get: function() {
return this.current && this.current.content && this.current.content.tab;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "location", {
get: function() {
return this.viewComponentState && this.viewComponentState.aggregate && this.viewComponentState.aggregate.location;
},
enumerable: !0,
configurable: !0
}), t.prototype.setActiveTab = function(e, t, n) {
if (!this.activeTab || this.activeTabIndex !== e) {
this.switchToItem(new v(e, t[e]));
var r = this.location;
n && r && this.activeTab && (0 === e && r.path ? r = new a.Location(r.path) : r.args && r.args.tab !== this.activeTab.name && (r = new a.Location(r.path + "?tab=" + this.activeTab.name)), 
b.updateLocation(r));
}
}, o([ s.computed ], t.prototype, "leftToRight", null), o([ s.computed ], t.prototype, "activeTabIndex", null), 
o([ s.computed ], t.prototype, "activeTab", null), o([ s.computed ], t.prototype, "location", null), 
o([ s.action ], t.prototype, "setActiveTab", null), t;
}(u.EnterLeaveState), w = {
header: {
flex: 1,
flexDirection: "row",
justifyContent: "space-between"
},
contentHeader: {
flexDirection: "row",
alignSelf: "center",
height: h.getHeight(2.4)
}
}, T = function(e) {
function t() {
e.apply(this, arguments), this.tweens = {
translateX: m.tween("TabslotTranlateX", 0)
};
}
return r(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.dispose = s.reaction(function() {
return e.props.item.currentState;
}, function() {
var t = e.props.item;
e.handleSlideOutOrIn(t.previousState, t.currentState);
});
}, t.prototype.handleSlideOutOrIn = function(e, t) {
var n = this, r = s.untracked(function() {
return n.props.tabbedTemplate.leftToRight;
}) ? -1 : 1;
t === u.EnterLeaveStates.LEAVING && this.tweens.translateX.to(-1920 * r), t === u.EnterLeaveStates.ENTERING && (e !== u.EnterLeaveStates.IDLE ? this.tweens.translateX.to(0) : this.tweens.translateX.transition(1920 * r, 0)), 
t === u.EnterLeaveStates.ACTIVE && this.tab && this.tab.onSelect && this.tab.onSelect();
}, Object.defineProperty(t.prototype, "tab", {
get: function() {
return this.props.item.content && this.props.item.content.tab;
},
enumerable: !0,
configurable: !0
}), t.prototype.componentWillUnmount = function() {
this.dispose();
}, t.prototype.render = function() {
var e = this.tab;
if (!e) return null;
if (!this.props.item.isVisible) return null;
var t = e.render ? e.render() : i.createElement(e.component, c.assign3({}, e.props, {
key: e.name
})), n = {
width: g.content.width,
position: "absolute",
marginTop: this.props.topGutter ? h.GUTTER : 0,
translateX: this.tweens.translateX.getStyle()
};
return i.createElement("surface", {
style: n
}, t);
}, t = o([ l ], t);
}(i.Component), C = l(function(e) {
var t = null;
if (e.header) t = e.header; else {
var n = e.tabbedTemplate.activeTab;
n && n.renderHeader && (t = n.renderHeader());
}
var r = c.assign3({}, w.contentHeader, {
opacity: m.tweenSwitch(0, 1, t)
});
return i.createElement("surface", {
style: w.header
}, i.createElement(y, {
tabs: e.tabs,
activeTabIndex: e.tabbedTemplate.activeTabIndex,
onTabSelect: function(t) {
e.tabbedTemplate.setActiveTab(t, e.tabs, !0);
}
}), i.createElement("surface", {
style: r
}, t));
}), E = function(e) {
function t(t) {
e.call(this, t);
}
return r(t, e), t.prototype.componentWillMount = function() {
var e = this.props.tabs.map(function(e, t) {
return new _("slot" + t, null);
});
this.tabbedTemplate = new (S.bind.apply(S, [ void 0 ].concat([ this.context.viewComponentState, new v(0, null) ], e)))();
var t = 0, n = this.tabbedTemplate.location;
if (n && n.args && n.args.tab) {
var r = f.find(this.props.tabs, function(e) {
return e.name === n.args.tab;
});
r && (t = this.props.tabs.indexOf(r));
}
this.handleTabSelected(t, !1);
}, t.prototype.handleTabSelected = function(e, t) {
void 0 === t && (t = !0), this.tabbedTemplate.setActiveTab(e, this.props.tabs, t);
}, t.prototype.render = function() {
var e = this, t = this.tabbedTemplate.items.map(function(t) {
return i.createElement(T, {
key: t.name,
topGutter: e.props.topGutter,
item: t,
tabbedTemplate: e.tabbedTemplate
});
}), n = i.createElement(C, {
tabbedTemplate: this.tabbedTemplate,
tabs: this.props.tabs,
header: this.props.header
});
return i.createElement(d, {
ref: "template",
tallContent: !0,
scrollContent: this.props.scrollContent,
header: n,
showDivider: this.props.showDivider
}, t);
}, t.propTypes = {
tabs: i.PropTypes.arrayOf(i.PropTypes.shape({
name: i.PropTypes.string.isRequired,
title: i.PropTypes.any.isRequired,
component: i.PropTypes.element,
props: i.PropTypes.object,
onSelect: i.PropTypes.func
})),
header: i.PropTypes.element,
showDivider: i.PropTypes.bool,
topGutter: i.PropTypes.bool
}, t.contextTypes = {
viewComponentState: i.PropTypes.instanceOf(p.ViewComponentState).isRequired
}, t.defaultProps = {
scrollContent: !1,
topGutter: !0
}, t;
}(i.Component);
t.TabbedTemplate = E;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = function() {
function e() {
this.elements = [];
}
return e.prototype.addElements = function(e) {
var t = this;
return e.forEach(function(e) {
-1 === t.elements.indexOf(e) && t.elements.push(e);
}), function() {
return t.removeElements(e);
};
}, e.prototype.removeElements = function(e) {
var t = this;
e.forEach(function(e) {
var n = t.elements.indexOf(e);
n > -1 && t.elements.splice(n, 1);
});
}, r([ o.observable ], e.prototype, "elements", void 0), r([ o.action ], e.prototype, "addElements", null), 
r([ o.action ], e.prototype, "removeElements", null), e;
}();
t.ExtraElements = a;
}, function(e, t) {
"use strict";
var n = {}, r = function() {
function e() {}
return e.inc = function(e, t) {
void 0 === t && (t = 1), n[e] || (n[e] = 0), n[e] += t;
}, e.reset = function() {
n = {};
}, e.get = function() {
return n;
}, e;
}();
t.Metrics = r;
}, function(e, t) {
"use strict";
!function(e) {
e[e.Left = 0] = "Left", e[e.Right = 1] = "Right", e[e.Up = 2] = "Up", e[e.Down = 3] = "Down";
}(t.Direction || (t.Direction = {}));
t.Direction;
!function(e) {
e[e.HORIZONTAL = 1] = "HORIZONTAL", e[e.VERTICAL = 2] = "VERTICAL", e[e.WRAP_AROUND = 4] = "WRAP_AROUND", 
e[e.EDGE_STOP = 8] = "EDGE_STOP", e[e.REMEMBER_LAST_FOCUSED_MEMBER = 16] = "REMEMBER_LAST_FOCUSED_MEMBER", 
e[e.PREFER_FIRST_MEMBER_OVER_TARGET = 32] = "PREFER_FIRST_MEMBER_OVER_TARGET";
}(t.GroupBehavior || (t.GroupBehavior = {}));
t.GroupBehavior;
!function(e) {
e[e.STOP = 0] = "STOP", e[e.FALLTHROUGH = 1] = "FALLTHROUGH", e[e.HIT = 2] = "HIT";
}(t.NavigationResultType || (t.NavigationResultType = {}));
t.NavigationResultType;
!function(e) {
e[e.Spatial = 0] = "Spatial", e[e.Mouse = 1] = "Mouse", e[e.Auto = 2] = "Auto";
}(t.FocusSource || (t.FocusSource = {}));
t.FocusSource;
}, function(e, t, n) {
"use strict";
function r(e, t) {
return y.create(e, t);
}
function o(e) {
return new c.FocusGroup(y, e);
}
function a(e) {
return new c.FocusAncestor(y, e);
}
function i(e) {
if ("string" != typeof e) throw new Error("Invalid debugName");
return function(t) {
var n = function(t) {
function n(n) {
t.call(this, n), this.focusItem = null, this.focusItem = r(this, "@focusable " + e);
}
return s(n, t), n.prototype.focus = function() {
y.setAsFocused(this.focusItem, f.FocusSource.Auto);
}, n.prototype.blur = function() {
y.removeFocus(this.focusItem);
}, n = l([ d ], n);
}(t);
return n;
};
}
var s = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, l = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, u = n(359);
t.Focusable = u.Focusable;
var p = n(574);
t.FocusableAncestor = p.FocusableAncestor;
var c = n(573);
t.FocusItem = c.FocusItem, t.FocusGroup = c.FocusGroup, t.NavigationResult = c.NavigationResult, 
t.FocusAncestor = c.FocusAncestor, t.DirectionHandler = c.DirectionHandler, t.GroupDirectionHandler = c.GroupDirectionHandler;
var f = n(250);
t.Direction = f.Direction, t.GroupBehavior = f.GroupBehavior, t.NavigationResultType = f.NavigationResultType, 
t.FocusSource = f.FocusSource;
var d = n(8).observer, h = n(184), y = new c.FocusSystem(h);
t.system = y, t.create = r, t.createGroup = o, t.createAncestor = a, t.focusable = i;
var g = function(e, t) {
var n = e.componentWillUpdate;
e.componentWillUpdate = function(r, o) {
n && n.apply(e, r, o), t(r, o);
};
var r = e.componentWillMount;
e.componentWillMount = function() {
r && r.apply(e), t(e.props, e.state);
};
};
t.onComponentUpdate = g;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = function() {
function e(e, t, n) {
var r = this;
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = null), this.variance = 0, 
this.value = 0, this.absolute = null, o.action("jittervalue init", function() {
r.value = e, r.variance = t, r.absolute = n;
})();
}
return e.prototype.generateValue = function() {
return this.value + (Math.random() * (2 * this.variance) - this.variance);
}, e.prototype.toJson = function() {
return {
value: this.value,
variance: this.variance,
absolute: this.absolute
};
}, e.prototype.fromJson = function(e) {
this.value = e.value, this.variance = e.variance, this.absolute = e.absolute;
}, r([ o.observable ], e.prototype, "variance", void 0), r([ o.observable ], e.prototype, "value", void 0), 
r([ o.observable ], e.prototype, "absolute", void 0), r([ o.action ], e.prototype, "fromJson", null), 
e;
}();
t.JitterValue = a;
}, function(e, t, n) {
"use strict";
var r = n(363), o = function() {
function e(e, t, n, o, a, i) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = 0), void 0 === o && (o = 0), 
this.x = e, this.y = t, this.width = n, this.height = o, this.localX = a, this.localY = i, 
this.top = t, this.right = e + n, this.bottom = t + o, this.left = e, this.center = new r.Point(this.left + (this.right - this.left) / 2, this.top + (this.bottom - this.top) / 2), 
this.style = {
left: this.left,
top: this.top,
width: this.width,
height: this.height
};
}
return e.prototype.equals = function(e, t) {
void 0 === t && (t = !0);
var n = !0;
return t && (n = this.localX === e.localX && this.localY === e.localY), this.x === e.x && this.y === e.y && this.width === e.width && this.height === e.height && n;
}, e.prototype.empty = function() {
return 0 === this.width && 0 === this.height;
}, e.prototype.intersects = function(e) {
return e.x < this.x + this.width && this.x < e.x + e.width && e.y < this.y + this.height ? this.y <= e.y + e.height : !1;
}, e.prototype.offset = function(t, n) {
return void 0 === t && (t = 0), void 0 === n && (n = 0), new e(this.x - t, this.y - n, this.width, this.height);
}, e.prototype.subtract = function(t) {
var n = this.right, r = this.left, o = this.top, a = this.bottom;
return t && (n = t.left < this.right && t.left > this.left ? t.left : this.right, 
r = t.right > this.left && t.right < this.right ? t.right : this.left, o = t.bottom > this.top && t.bottom < this.bottom ? t.bottom : this.top, 
a = t.top < this.bottom && t.top > this.top ? t.top : this.bottom), new e(r, o, n - r, a - o);
}, e.prototype.edgeDistance = function(e) {
var t = this.edgePoint(this.center.angle(e.center)), n = e.edgePoint(e.center.angle(this.center));
return t.distance(n);
}, e.prototype.edgeDistanceSquared = function(e) {
var t = this.edgePoint(this.center.angle(e.center)), n = e.edgePoint(e.center.angle(this.center));
return t.squaredDistance(n);
}, e.prototype.edgePoint = function(e) {
var t = Math.cos(e), n = Math.sin(e), o = Math.abs(t), a = Math.abs(n), i = this.width / 2 * a <= this.height / 2 * o ? this.width / 2 / (o || 1) : this.height / 2 / (a || 1);
return new r.Point(this.center.x + t * i, this.center.y + n * i);
}, e;
}();
t.Bounds = o;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
t < e.length - 1 ? e[t] = e.pop() : e.pop();
}
t.__esModule = !0;
var i = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), s = n(4), l = r(s), u = n(587), p = r(u), c = function() {
function e(t) {
o(this, e), this.subscriptions = [], this.onlyPublishOnChange = t || !1;
}
return e.prototype.publish = function t() {
for (var e = arguments.length, t = Array(e), n = 0; e > n; n++) t[n] = arguments[n];
this.publishPayload(t);
}, e.prototype.publishPayload = function n(e) {
if (this.interceptor.subscriptions.length > 0) {
var t, n = function c() {
o = !0;
}, r = function f(t) {
e = t;
}, o = !1, a = {
cancel: n,
change: r
};
if ((t = this.interceptor).publish.apply(t, [ a ].concat(e)), o) return;
}
if (this.onlyPublishOnChange) {
if (l["default"].isEqual(e, this.previousPayload)) return;
this.previousPayload = e;
}
if (0 !== this.subscriptions.length) {
this.before.publishPayload(e);
for (var i = this.subscriptions.slice(), s = 0, u = i.length; u > s; s++) {
var p;
(p = i[s]).onPublish.apply(p, e);
}
this.after.publishPayload(e);
}
}, e.prototype.subscribe = function r(e, t) {
var n = new p["default"](this, e, t);
return this.subscriptions.push(n), n;
}, e.prototype.removeSubscription = function s(e) {
var t = this.subscriptions.indexOf(e);
-1 !== t && (a(this.subscriptions, t), e.onUnsubscribe && e.onUnsubscribe());
}, e.prototype.trigger = function u() {
for (var e = arguments.length, t = Array(e), n = 0; e > n; n++) t[n] = arguments[n];
this.publishPayload(t);
}, e.prototype.listen = function c() {
var e = this.subscribe.apply(this, arguments);
return this.removeSubscription.bind(this, e);
}, i(e, [ {
key: "before",
get: function f() {
return this._before || (this._before = new e());
}
}, {
key: "after",
get: function d() {
return this._after || (this._after = new e());
}
}, {
key: "interceptor",
get: function h() {
return this._interceptor || (this._interceptor = new e());
}
} ]), e;
}();
t["default"] = c, e.exports = t["default"];
}, function(e, t, n) {
var r = n(193), o = n(4), a = n(21), i = n(52).gatewayClient, s = n(162), l = n(256), u = a.createClient({
throttle: 3e4,
request: function p(e) {
return i.request("Progression.getMedals", {
game: e
});
},
parse: function c(e) {
return o.map(e, function(e) {
return new l({
name: e.name,
items: o.map(e.awards, function(e) {
var t, n = e.dependencies && e.dependencies[0], a = e.stages && e.stages.length > 0;
if (a) {
var i = o.countBy(e.stages, function(e) {
return e.progression.unlocked ? "done" : "todo";
}).done || 0, l = e.stages.length;
t = new r.Progression({
unlocked: e.progression.unlocked,
acquired: i,
needed: l
});
} else t = n ? new r.Progression({
unlocked: n.progression.unlocked,
acquired: n.progression.valueAcquired,
needed: n.progression.valueNeeded
}) : new r.Progression({
unlocked: e.progression.unlocked,
acquired: e.progression.valueAcquired,
needed: e.progression.valueNeeded
});
return new s({
xp: 5e3,
code: e.code,
description: e.description,
name: e.name,
images: e.images,
progression: t,
dependencies: o.map(e.dependencies, function(e) {
return new s({
code: e.code,
name: e.name,
description: e.description,
images: e.images,
progression: new r.Progression({
unlocked: e.progression.unlocked,
acquired: e.progression.valueAcquired,
needed: e.progression.valueNeeded
})
});
}),
stages: o.map(e.stages, function(e) {
return new s({
code: e.code,
name: e.name,
description: e.description,
images: e.images,
progression: new r.Progression({
unlocked: e.progression.unlocked,
acquired: e.progression.valueAcquired,
needed: e.progression.valueNeeded
})
});
})
});
})
});
});
},
update: function f(e, t, n) {
this.publish(n, e);
}
});
e.exports = u;
}, function(e, t) {
function n(e) {
this.id = e.id, this.name = e.name, this.items = e.items, this.infoComponent = e.infoComponent, 
this.muted = !e.items || 0 === e.items.length, e.sortOrder && (this.sortOrder = e.sortOrder);
}
e.exports = n;
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var r = n(1), o = (e(r), n(26)), a = n(11), i = n(2), s = n(35), l = n(51), u = e(l), p = n(618), c = e(p), f = n(383), d = e(f), h = n(617), y = n(526), g = n(343), m = n(21), b = n(26), v = 0, _ = m.createClient({
requestOn: [ u["default"].checkout ],
request: function T(e, t) {
var n = t ? t : e.data;
return g.ps4StoreIconStore.setPurchaseActive(!0), b.firstPartyRequest("Inventory.startPurchase", {
game: e.gameId,
productId: e.offerId,
data: n ? n : null,
pinData: e.pinData
});
},
onRequestError: function C() {
g.ps4StoreIconStore.setPurchaseActive(!1);
},
parse: function E(e, t) {
var n = new c["default"]({
jobId: ++v,
purchaseId: e.purchaseId,
offer: t
});
return d["default"].add(n), n;
},
update: function I(e, t, n, r, o) {
o ? u["default"].checkoutStatus({
status: 1,
CHECKOUT_COMPLETED: 1
}, e) : i.frostbite.sendMessage("sparta.commerceCheckout", {
offerId: e.offer.productId,
crossTitleCheckout: "game" === e.offer.type,
owned: e.offer.owned,
jobId: e.jobId
}), this.publish(e);
}
});
t.StartPurchaseRequest = _;
var S = m.createClient({
requestOn: [ u["default"].checkoutStatus ],
request: function P(e, t) {
var n = "error";
return e.status === e.CHECKOUT_COMPLETED ? n = "completed" : e.status === e.CHECKOUT_CANCELLED ? n = "cancelled" : e.status === e.CHECKOUT_FAILURE ? n = "error" : e.status === e.CHECKOUT_OIG_DISABLED && (n = "disabled"), 
g.ps4StoreIconStore.setPurchaseActive(!1), b.firstPartyRequest("Inventory.completePurchase", {
game: t.offer.gameId,
productId: t.offer.offerId,
purchaseId: t.purchaseId,
pinData: t.offer.pinData,
result: n
});
},
parse: function O(e) {
return e;
},
update: function A(e, t, n, r) {
if (!r.offer.owned) if (n.status === n.CHECKOUT_COMPLETED) {
u["default"].updateOffers([ r.offer.gameId ]), o.refreshEntitlements();
var i = a.gameStore.getGame(r.offer.gameId);
r && r.offer && r.offer.gameId && "access" === r.offer.gameId ? h.openPopupSuccess() : r && r.offer && "shortcuts" === r.offer.group && i.storeConfig.showShortcutKitReceipt ? y.openShortcutKitSuccess(r) : s.alert(__("ID_SPARTA_COMMERCE_CHECKOUT_COMPLETED"), "");
} else SpartaGlobals.bundleIsPC && !a.settingsStore.isOriginInGameOverlayAvailable ? s.alert(__("ID_SPARTA_COMMERCE_CHECKOUT_OIG_DISABLED"), "") : n.status === n.CHECKOUT_CANCELLED ? s.alert(__("ID_SPARTA_COMMERCE_CHECKOUT_CANCELLED"), "") : n.status === n.CHECKOUT_FAILURE ? s.alert(__("ID_SPARTA_COMMERCE_CHECKOUT_FAILURE"), "") : s.alert(__("ID_SPARTA_COMMERCE_CHECKOUT_OTHER"), "");
u["default"].checkoutCompleted(n, r.offer, t);
}
}), w = {
startListening: function k() {
_.startListening(), S.startListening();
}
};
t["default"] = w;
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(43), s = r(i), l = n(379), u = r(l), p = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, !1), u["default"].listen(function(e) {
n.setState(e);
});
}
return a(t, e), t;
}(s["default"]);
t["default"] = new p(), e.exports = t["default"];
}, function(e, t) {
function n(e) {
this.id = e.id, this.group = e.group, this.gameId = e.gameId, this.displayName = e.displayName, 
this.description = e.description, this.owned = e.owned, this.type = e.type, this.licenses = e.licenses, 
this.backgroundUrl = e.backgroundUrl, this.offerId = e.offerId || "", this.price = e.price, 
this.listPrice = e.listPrice || null, this.isDiscounted = null !== this.listPrice && this.price !== this.listPrice, 
this.productId = e.productId, this.offerId = e.offerId, this.data = e.data, this.pinData = e.pinData, 
this.isRepurchaseable = "bundle" === this.type || "consumable" === this.type, this.licenses = this.licenses ? this.licenses.split(",") : [];
}
e.exports = n;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return function(t) {
return V(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l() {
U["default"].display(new F["default"]({
content: {
$$typeof: c,
type: j["default"],
key: null,
ref: null,
props: a(j["default"].defaultProps, {
legal: "terms"
}),
_owner: null
},
id: "linkTextPopup",
fullScreen: !0,
inputs: [ new $["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: R["default"].Decline
}) ]
}));
}
var u = n(3), p = s(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(2), y = n(100), g = s(y), m = n(7), b = s(m), v = n(6), _ = s(v), S = n(40), w = n(381), T = s(w), C = n(382), E = s(C), I = n(380), P = s(I), O = n(33), A = s(O), k = n(12), R = s(k), x = n(20), M = s(x), N = n(14), $ = s(N), D = n(25), U = s(D), L = n(47), F = s(L), G = n(205), j = s(G), B = n(11), H = {
_$LearnMore: {
displayName: "LearnMore"
}
}, V = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/LearnMore.jsx",
components: H,
locals: [],
imports: []
}), z = S.getTextSizes("en-us".toLowerCase()), W = n(110), q = "commerce/store/access/common-questions", K = "/store/access/common-questions", X = "/store/list?tab=access", Y = "PC" === W.getPlatform() ? 1 : .75, J = 3 * Y, Q = .1, Z = {
header: "XL",
heading: "S",
text: "S",
subtext: "XS",
fineprint: "XXS"
}, ee = h.createStyleSheet({
container: {},
columnMain: {
width: SpartaGlobals.bundleIsPC ? _["default"].getWidth(12) : _["default"].getWidth(10.5)
},
columnSidebar: {
width: SpartaGlobals.bundleIsPC ? _["default"].getWidth(5) : _["default"].getWidth(6)
},
columnAuxiliary: {
width: SpartaGlobals.bundleIsPC ? _["default"].getWidth(5) : _["default"].getWidth(7)
},
columnLegal: {
width: _["default"].getWidth(24)
},
columnBorder: {},
rowMain: {
height: SpartaGlobals.bundleIsPC ? _["default"].getHeight(88) : _["default"].getHeight(68)
},
rowLegal: {
height: _["default"].getHeight(J)
},
rowBorder: {
height: _["default"].getHeight(Q)
},
header: {
marginBottom: 35
},
heading: {
marginBottom: 15
},
paragraph: {
marginBottom: 25
},
image: {
marginBottom: 25,
textureMode: "none",
textureAlign: [ 0, 0 ]
},
surfaceLegal: {
opacity: .33
},
labelPressMoreInfoText: {
fontSize: z[Z.text]
},
callToActionHeading: {
fontSize: z[Z.text]
},
callToAction: {
width: SpartaGlobals.bundleIsPC ? _["default"].getWidth(5) : _["default"].getWidth(7)
},
callToActionSubText: {
fontSize: z[Z.subtext],
marginTop: 7
},
callToActionButton: {
fontSize: z[Z.text],
width: SpartaGlobals.bundleIsPC ? _["default"].getWidth(5) : _["default"].getWidth(7)
}
}), te = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.copy = W.getCopyPage("learn-more"), this.settings = W.getCopyPage("settings"), 
this.accessTabbedRoute = W.getProperty(this.props, "viewLocation.args.accessTabbedRoute"), 
this.baseRoute = W.getProperty(this.props, "viewLocation.args.baseRoute");
try {
this.gameId = this.props.gameId || this.props.viewLocation.args.gameId;
} catch (o) {
this.gameId = void 0;
}
this.baseRoute && (this.gameId = this.baseRoute), this.gameId && !this.props.gameId && this.accessTabbedRoute === !0 && B.locationStore.setLocation(this.gameId + X, !0);
}
o(t, e), t.prototype.getInput = function s() {
return new $["default"]({
action: function e() {
return l();
},
key: R["default"].Option2,
label: W.getProperty(this.settings, "label.terms")
});
}, t.prototype.createVideo = function u() {
var e = [ {
author: "EA",
group: "video",
game: W.getProperty(this.copy, "video.game") || "",
imageUrl: W.getProperty(this.copy, "video.imageUrl") || "",
title: W.getProperty(this.copy, "video.title") || "",
url: W.getProperty(this.copy, "video.url") || ""
} ], t = (SpartaGlobals.bundleIsConsole, "M");
return g["default"].renderCards(e, t);
}, t.prototype.createCommonQuestions = function p() {
var e = q;
return this.gameId && (e = this.gameId + K), "PC" === W.getPlatform() ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: a(E["default"].defaultProps, {
action: "link",
text: W.getProperty(this.settings, "label.commonQuestions"),
style: ee.callToActionSubText,
location: e
}),
_owner: null
}, {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: a(E["default"].defaultProps, {
action: "popup",
text: W.getProperty(this.settings, "label.terms"),
style: ee.callToActionSubText
}),
_owner: null
} ]
},
_owner: null
} : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: a(P["default"].defaultProps, {
text: W.getProperty(this.settings, "label.commonQuestions"),
button: "X",
action: "link",
width: ee.columnAuxiliary.width,
style: ee.callToActionSubText,
location: e
}),
_owner: null
}
},
_owner: null
};
}, t.prototype.buildPointImage = function f(e) {
try {
if (e) {
var t = e.split("|") || [];
if (4 === t.length) {
var n = {
texture: t[3],
width: parseInt(t[1], 10),
height: parseInt(t[2], 10)
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ ee.image, n ]
},
_owner: null
};
}
}
} catch (r) {
return null;
}
}, t.prototype.buildPointText = function d(e) {
try {
return {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: a(b["default"].defaultProps, {
value: e,
size: Z.text,
style: ee.paragraph
}),
_owner: null
};
} catch (t) {
return null;
}
}, t.prototype.buildPoints = function h() {
for (var e = [], t = W.getProperty(this.copy, "list") || [], n = 0; n < t.length; n++) {
for (var r = t[n], o = W.getProperty(r, "items") || [], i = [], s = 0; s < o.length; s++) {
var l = 0 === o[s].indexOf("image|") ? this.buildPointImage(o[s]) : this.buildPointText(o[s]);
l && i.push(l);
}
e.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: a(b["default"].defaultProps, {
value: r.heading,
size: Z.heading,
style: ee.heading,
type: "emphasis"
}),
_owner: null
}, i ]
},
_owner: null
});
}
return e;
}, t.prototype.render = function y() {
var e = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: _["default"].Row,
key: null,
ref: null,
props: a(_["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: _["default"].Col,
key: null,
ref: null,
props: a(_["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.createVideo(),
style: ee.surfaceSidebar
},
_owner: null
},
style: ee.columnSidebar
}),
_owner: null
}, {
$$typeof: c,
type: _["default"].Col,
key: null,
ref: null,
props: a(_["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.buildPoints()
},
_owner: null
},
style: ee.columnMain
}),
_owner: null
}, {
$$typeof: c,
type: _["default"].Col,
key: null,
ref: null,
props: a(_["default"].Col.defaultProps, {
style: {
width: _["default"].getWidth(SpartaGlobals.bundleIsPC ? 1 : .5)
}
}),
_owner: null
}, {
$$typeof: c,
type: _["default"].Col,
key: null,
ref: null,
props: a(_["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: a(T["default"].defaultProps, {
gameId: this.gameId,
headingStyle: ee.callToActionHeading,
buttonStyle: ee.callToActionButton,
subTextStyle: ee.callToActionSubText
}),
_owner: null
}, this.createCommonQuestions() ],
style: ee.callToAction
},
_owner: null
}
},
_owner: null
},
style: ee.columnAuxiliary
}),
_owner: null
} ],
style: ee.rowMain
}),
_owner: null
}, {
$$typeof: c,
type: _["default"].Row,
key: null,
ref: null,
props: a(_["default"].Row.defaultProps, {
children: {
$$typeof: c,
type: _["default"].Col,
key: null,
ref: null,
props: a(_["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: a(b["default"].defaultProps, {
value: this.copy.legal,
size: Z.fineprint
}),
_owner: null
},
style: ee.surfaceLegal
},
_owner: null
},
style: ee.columnLegal
}),
_owner: null
},
style: ee.rowLegal
}),
_owner: null
}, {
$$typeof: c,
type: _["default"].Row,
key: null,
ref: null,
props: a(_["default"].Row.defaultProps, {
children: {
$$typeof: c,
type: _["default"].Col,
key: null,
ref: null,
props: a(_["default"].Col.defaultProps, {
style: ee.columnBorder
}),
_owner: null
},
style: ee.rowBorder
}),
_owner: null
} ],
style: ee.container
},
_owner: null
};
return this.props.noTemplate ? e : {
$$typeof: c,
type: A["default"],
key: null,
ref: null,
props: a(A["default"].defaultProps, {
children: e,
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$LearnMore")(t) || t, t = M["default"]()(t) || t;
}(d["default"].Component);
t["default"] = te, te.defaultProps = {
noTemplate: !1
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function s(e) {
return function(t) {
return le(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = l(h), g = n(4), m = l(g), b = n(2), v = n(40), _ = n(10), S = n(8), w = n(122), T = l(w), C = n(80), E = l(C), I = r(b), P = n(247), O = n(73), A = n(33), k = l(A), R = n(6), x = l(R), M = n(104), N = l(M), $ = n(7), D = l($), U = n(31), L = n(18), F = l(L), G = n(13), j = l(G), B = n(16), H = l(B), V = n(287), z = l(V), W = n(619), q = l(W), K = n(262), X = l(K), Y = n(51), J = l(Y), Q = n(11), Z = n(17), ee = l(Z), te = n(27), ne = l(te), re = n(239), oe = n(260), ae = l(oe), ie = n(56), se = {
_$TabContent: {
displayName: "TabContent"
},
_$TabSingleOffer: {
displayName: "TabSingleOffer"
},
_$TabGameOffer: {
displayName: "TabGameOffer"
},
_$TabAccess: {
displayName: "TabAccess"
},
_$StoreGameOverview: {
displayName: "StoreGameOverview"
}
}, le = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/StoreGameOverview.jsx",
components: se,
locals: [],
imports: []
}), ue = [ "battlepacks", "shortcuts", "expansions", "premium" ], pe = {
flex: 1,
alignItems: "center",
justifyContent: "center",
flexDirection: "row",
width: F["default"].content.width,
height: F["default"].content.height - x["default"].getHeight(10)
}, ce = b.createStyleSheet({
separation: {
width: 1,
height: x["default"].getHeight(43),
marginLeft: 4 * x["default"].GUTTER,
marginRight: 4 * x["default"].GUTTER,
backgroundColor: "#ffffff26"
},
text: {
pc: {
textLineSpacing: Math.round(1.2 * v.LINE_HEIGHTS.S),
position: "absolute",
top: 0,
right: -x["default"].getWidth(8.5),
width: x["default"].getWidth(8)
},
console: {
textLineSpacing: Math.round(1.2 * v.LINE_HEIGHTS.S)
}
},
singleOfferText: {
pc: {
textLineSpacing: Math.round(1.2 * v.LINE_HEIGHTS.S)
},
console: {
textLineSpacing: Math.round(1.2 * v.LINE_HEIGHTS.S)
}
},
access: {
pc: {
position: "absolute",
bottom: x["default"].getHeight(3),
right: -x["default"].getWidth(8)
},
console: {
marginRight: F["default"].dangerZoneSize.width,
alignSelf: "flex-end",
marginBottom: x["default"].GUTTER
}
},
descriptionColumn: {
flexDirection: "column",
height: F["default"].content.height,
justifyContent: "space-between"
}
}), fe = [ 0, F["default"].fadeAreaTop.height, 0, F["default"].dangerZoneSize.height ], de = S.observer(function(e) {
return {
$$typeof: d,
type: D["default"],
key: null,
ref: null,
props: i(D["default"].defaultProps, {
value: e.description.text,
style: e.textStyle,
size: "S"
}),
_owner: null
};
}), he = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusAncestor = I.focus.createAncestor("tabcontent"), 
this.tweens = {
opacity: j["default"].tween("e00a5b05:106", 0)
}, this.description = _.observable({
text: ""
});
}
a(t, e), t.prototype.componentDidMount = function r() {
this.mounted = !0;
}, t.prototype.componentWillReceiveProps = function l(e) {
this.setDescription(this.getInitialDescription(e.offers));
}, t.prototype.componentWillUnmount = function u() {
var e = this;
this.focusAncestor.destroy(), this.mounted = !1, this.tweens.opacity.to(0, function() {
e.tweens.opacity.destroy();
}), ne["default"].focusComponent("content");
}, t.prototype.getInitialDescription = function p(e) {
return e.length > 0 ? e[0].description.longDesc : "";
}, t.prototype.getUnownedOffers = function h(e) {
return m["default"].filter(e, function(e) {
return !e.owned || e.isRepurchaseable;
});
}, t.prototype.onSelectOffer = function g(e) {
this.setDescription(e.description.longDesc || e.description.shortDesc);
}, t.prototype.setDescription = function b(e) {
var t = this, n = {
duration: j["default"].defaultTweenOptions.duration / 4
};
this.tweens.opacity.to(0, n, function() {
t.mounted && (t.updateDescription(e), t.tweens.opacity.to(1, n), t.refs.description && t.refs.description.scrollTo(0, 0));
});
}, t.prototype.renderOffersPC = function v(e) {
var t = c({}, ce.text.pc, {
textAlignForRTL: "left",
opacity: this.tweens.opacity.getStyle()
});
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: U.Scroller,
key: "scroller_pc",
ref: null,
props: i(U.Scroller.defaultProps, {
children: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: {
flexWrap: "wrap",
flexDirection: "row"
}
},
_owner: null
},
style: {
width: x["default"].getWidth(17),
height: F["default"].content.height
},
softClip: fe
}),
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: de,
key: null,
ref: null,
props: i(de.defaultProps, {
description: this.description,
textStyle: t
}),
_owner: null
}, {
$$typeof: d,
type: re.AccessImage,
key: null,
ref: null,
props: i(re.AccessImage.defaultProps, {
style: ce.access.pc,
width: x["default"].getWidth(6)
}),
_owner: null
} ],
style: ce.descriptionColumn
},
_owner: null
} ],
style: {
marginTop: -x["default"].GUTTER,
flexDirection: "row"
}
},
_owner: null
};
}, t.prototype.renderOffersConsole = function w(e) {
var t = c({}, ce.text.console, {
opacity: this.tweens.opacity.getStyle()
});
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: O.CardCarousel,
key: null,
ref: null,
props: i(O.CardCarousel.defaultProps, {
children: e,
width: x["default"].getWidth(24)
}),
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: {
height: x["default"].getHeight(4)
}
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ y["default"].createElement(U.Scroller, {
style: {
width: x["default"].getWidth(20),
height: x["default"].getHeight(13)
},
controller: !0,
scrollbarPosition: "inside",
softClip: [ 0, x["default"].getHeight(2), 0, x["default"].getHeight(2) ],
ref: "description",
clipPadding: [ x["default"].getHeight(2), x["default"].getHeight(2), x["default"].getHeight(2), 0 ]
}, {
$$typeof: d,
type: de,
key: null,
ref: null,
props: i(de.defaultProps, {
description: this.description,
textStyle: t
}),
_owner: null
}), {
$$typeof: d,
type: re.AccessImage,
key: null,
ref: null,
props: i(re.AccessImage.defaultProps, {
style: ce.access.console,
width: x["default"].getWidth(4)
}),
_owner: null
} ],
style: {
flexDirection: "row"
}
},
_owner: null
} ],
style: {
flexDirection: "column"
}
},
_owner: null
};
}, t.prototype.render = function T() {
var e, t = this, n = m["default"].map(this.props.offers, function(e, n) {
var r = 0 === n && t.props.refCb ? t.props.refCb : function() {};
return {
$$typeof: d,
type: I.Focusable,
key: null,
ref: null,
props: i(I.Focusable.defaultProps, {
children: function o(a) {
return a.onFocus(function() {
return t.onSelectOffer(e);
}), a.onBlur(function() {
SpartaGlobals.bundleIsPC && t.setDescription("");
}), {
$$typeof: d,
type: z["default"],
key: "offer" + n,
ref: null,
props: i(z["default"].defaultProps, {
refCb: r,
recommendation: e,
focusItem: a
}),
_owner: null
};
},
debugName: "tabcontent_" + n
}),
_owner: null
};
});
return e = n.length > 0 ? SpartaGlobals.bundleIsPC ? this.renderOffersPC(n) : this.renderOffersConsole(n) : {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: N["default"],
key: "emptyCategory",
ref: null,
props: i(N["default"].defaultProps, {
text: __("ID_SPARTA_COMMERCE_OFFER_ERROR_CATEGORY")
}),
_owner: null
},
style: pe
},
_owner: null
}, y["default"].createElement("surface", this.focusAncestor.hooks, e);
}, f(t, [ {
key: "updateDescription",
decorators: [ _.action ],
value: function C(e) {
this.description.text = e;
}
} ]);
var n = t;
return t = s("_$TabContent")(t) || t, t = S.observer(t) || t;
}(y["default"].Component);
he.defaultProps = {
isStoreIconRequired: !0
};
var ye = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusAncestor = I.focus.createAncestor("TabSingleOffer");
}
a(t, e), t.prototype.componentDidMount = function r() {
this.mounted = !0;
}, t.prototype.componentWillUnmount = function l() {
this.mounted = !1, ne["default"].focusComponent("content");
}, t.prototype.renderOfferPC = function u(e) {
var t = c({}, ce.singleOfferText.pc, {
textAlignForRTL: "left"
});
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: {
marginBottom: x["default"].getHeight(4)
}
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: D["default"],
key: null,
ref: null,
props: i(D["default"].defaultProps, {
value: this.props.offer.description.longDesc,
style: t,
size: "S"
}),
_owner: null
}
},
_owner: null
} ],
style: {
width: x["default"].getWidth(17)
}
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: re.AccessImage,
key: null,
ref: null,
props: i(re.AccessImage.defaultProps, {
style: ce.access.pc,
width: x["default"].getWidth(6)
}),
_owner: null
},
style: ce.descriptionColumn
},
_owner: null
} ],
style: {
marginTop: -x["default"].GUTTER,
flexDirection: "row"
}
},
_owner: null
};
}, t.prototype.renderOfferConsole = function p(e) {
var t = c({}, ce.singleOfferText.console);
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: {
marginBottom: x["default"].getHeight(4)
}
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: D["default"],
key: null,
ref: null,
props: i(D["default"].defaultProps, {
value: this.props.offer.description.longDesc,
style: t,
size: "S"
}),
_owner: null
}
},
_owner: null
} ],
style: {
width: x["default"].getWidth(24)
}
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: {
height: x["default"].getHeight(4)
}
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: {
width: x["default"].getWidth(20),
height: x["default"].getHeight(22)
}
},
_owner: null
}, {
$$typeof: d,
type: re.AccessImage,
key: null,
ref: null,
props: i(re.AccessImage.defaultProps, {
style: ce.access.console,
width: x["default"].getWidth(4)
}),
_owner: null
} ],
style: {
flexDirection: "row"
}
},
_owner: null
} ],
style: {
flexDirection: "column"
}
},
_owner: null
};
}, t.prototype.render = function f() {
var e, t = {
$$typeof: d,
type: z["default"],
key: "offer",
ref: null,
props: i(z["default"].defaultProps, {
focusItem: this.focusItem,
refCb: this.props.refCb,
recommendation: this.props.offer
}),
_owner: null
};
return e = this.props.offer ? SpartaGlobals.bundleIsPC ? this.renderOfferPC(t) : this.renderOfferConsole(t) : {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: N["default"],
key: "emptyCategory",
ref: null,
props: i(N["default"].defaultProps, {
text: __("ID_SPARTA_COMMERCE_OFFER_ERROR_CATEGORY")
}),
_owner: null
},
style: pe
},
_owner: null
}, y["default"].createElement("surface", this.focusAncestor.hooks, e);
};
var n = t;
return t = s("_$TabSingleOffer")(t) || t, t = b.focusable("e00a5b05:247")(t) || t;
}(y["default"].Component);
ye.defaultProps = {
isStoreIconRequired: !0
};
var ge = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.componentWillUnmount = function r() {
ne["default"].focusComponent("content");
}, t.prototype.render = function l() {
return this.props.offers && this.props.offers.length > 0 ? {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: q["default"],
key: null,
ref: null,
props: i(q["default"].defaultProps, {
refCb: this.props.refCb,
isInstallable: this.props.isInstallable,
offers: this.props.offers,
owned: this.props.owned,
gameId: this.props.gameId
}),
_owner: null
}
},
_owner: null
} : {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: N["default"],
key: "emptyCategory",
ref: null,
props: i(N["default"].defaultProps, {
text: __("ID_SPARTA_COMMERCE_OFFER_ERROR_CATEGORY")
}),
_owner: null
},
style: pe
},
_owner: null
};
};
var n = t;
return t = s("_$TabGameOffer")(t) || t;
}(y["default"].Component);
ge.defaultProps = {
isInstallable: !0
};
var me = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function r() {
return {
$$typeof: d,
type: ae["default"],
key: null,
ref: null,
props: i(ae["default"].defaultProps, {
noTemplate: !0,
gameId: this.props.gameId
}),
_owner: null
};
};
var n = t;
return t = s("_$TabAccess")(t) || t;
}(y["default"].Component), be = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function r() {
this.storeAvailability = !0, J["default"].updateOffers(m["default"].keys(Q.gameStore.games.toJS()));
}, t.prototype.componentWillUpdate = function l(e, t) {
var n = function o(e, t) {
return m["default"].contains(m["default"].keys(e), t) ? e[t].available : null;
}, r = n(t.store, this.props.viewLocation.args.gameId);
this.storeAvailability === !0 && r === !1 && (this.storeAvailability = r, J["default"].showUnavailableStore(), 
SpartaGlobals.bundleIsPS4 && ee["default"].goBackInHistory());
}, t.prototype.getBaseConfiguration = function u(e) {
var t = {}, n = __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_TAB_ORIGIN_ACCESS" : "ID_SPARTA_TAB_EA_ACCESS"), r = ge, o = [], a = Q.gameStore.getGame(e).subscriberAccessFeatureFlagName;
Q.settingsStore.isFeatureEnabled(a) ? r = me : o = T["default"].getAccessOffers();
var i = [ {
name: "pre-order",
title: __("ID_SPARTA_CARD_PREORDER"),
component: he,
props: {
offers: T["default"].getPreorderOffers(e)
}
}, {
name: "beta",
title: "Beta",
component: he,
props: {
offers: T["default"].getBetaOffers(e)
}
}, {
name: "battlepacks",
title: __("ID_SPARTA_TAB_BATTLEPACKS"),
component: he,
props: {
offers: T["default"].getBattlepackOffers(e)
}
}, {
name: "shortcuts",
title: __("ID_SPARTA_TAB_KITSHORTCUTS"),
component: he,
props: {
offers: T["default"].getKitShortcutOffers(e)
}
}, {
name: "expansions",
title: __("ID_SPARTA_TAB_EXPANSIONS"),
component: he,
props: {
offers: T["default"].getExpansionOffers(e)
}
}, {
name: "premium",
title: __("ID_SPARTA_TAB_PREMIUM"),
component: ge,
props: {
offers: T["default"].getPremiumOffers(e),
isInstallable: SpartaGlobals.bundleIsConsole && !this.hasPremium(e),
gameId: e
}
}, {
name: "deluxe",
title: __("ID_SPARTA_TAB_DELUXE"),
component: ge,
props: {
offers: T["default"].getDeluxeOffers(e),
isInstallable: SpartaGlobals.bundleIsConsole && !this.hasDeluxe(e),
gameId: e
}
}, {
name: "rent",
title: __("ID_SPARTA_TAB_RSP"),
component: ye,
props: {
offer: m["default"].first(T["default"].getRSPVirtualOffers(e)),
isStoreIconRequired: !1
}
}, {
name: "access",
title: n,
component: r,
props: {
offers: o,
isInstallable: !1,
gameId: e,
owned: E["default"].getState().hasAccess()
}
} ], s = [ "rent" ];
return SpartaGlobals.bundleIsPS4 && s.push("battlepacks"), ie.routeIsHostingGame() || (i = i.filter(function(e) {
return -1 === s.indexOf(e.name);
})), i.map(function(e) {
return e.props.refCb = function(n) {
t[e.name] = n;
}, e.onSelect = function() {}, e;
});
}, t.prototype.getTabs = function p(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? ue : arguments[1], n = this.getBaseConfiguration(e), r = m["default"].map(t, function(e) {
return m["default"].find(n, function(t) {
return t.name === e;
});
});
return m["default"].compact(r);
}, t.prototype.hasPremium = function c(e) {
return e && E["default"].getState().hasPremiumAccess(e);
}, t.prototype.hasDeluxe = function f(e) {
return e && E["default"].getState().hasDeluxeEdition(e);
}, t.prototype.ownsGame = function h(e) {
return E["default"].getState().hasOnlineAccess(e);
}, t.prototype.render = function y() {
var e = this.props.viewLocation.args, t = e.gameId, n = e.baseRoute, r = e.specific, o = Q.gameStore.getGame(t).storeConfig, a = o.getTabs(), s = null, l = T["default"].getGameState(t), u = T["default"].getOffers(t), p = l.available && !l.error, c = SpartaGlobals.bundleIsConsole;
if (r) {
switch (r) {
case "pre-order":
u = T["default"].getPreorderOffers(t);
break;

case "beta":
u = T["default"].getBetaOffers(t), c = SpartaGlobals.bundleIsConsole && !this.hasPremium(t);
break;

case "premium":
u = T["default"].getPremiumOffers(t);
break;

case "deluxe":
u = T["default"].getOffersByGroup(t, "deluxe");
break;

case "game":
u = T["default"].getGameOffers(t);
break;

default:
u = T["default"].getOffersByGroup(t, r);
}
s = {
$$typeof: d,
type: k["default"],
key: null,
ref: null,
props: i(k["default"].defaultProps, {
children: {
$$typeof: d,
type: q["default"],
key: null,
ref: null,
props: i(q["default"].defaultProps, {
baseRoute: n,
offers: u,
gameId: t,
isInstallable: c
}),
_owner: null
},
tallContent: !0
}),
_owner: null
};
} else this.ownsGame(t) ? (u = T["default"].getOffers(t), s = {
$$typeof: d,
type: P.TabbedTemplate,
key: null,
ref: null,
props: i(P.TabbedTemplate.defaultProps, {
baseRoute: n,
topGutter: !1,
tabs: this.getTabs(t, a),
scrollContent: !1
}),
_owner: null
}) : (u = T["default"].getGameOffers(t), s = {
$$typeof: d,
type: k["default"],
key: null,
ref: null,
props: i(k["default"].defaultProps, {
children: {
$$typeof: d,
type: q["default"],
key: null,
ref: null,
props: i(q["default"].defaultProps, {
baseRoute: n,
offers: u,
gameId: t
}),
_owner: null
},
tallContent: !0
}),
_owner: null
});
return {
$$typeof: d,
type: X["default"],
key: null,
ref: null,
props: i(X["default"].defaultProps, {
children: s,
available: p && u && u.length > 0,
loading: l.loading
}),
_owner: null
};
};
var n = t;
return t = s("_$StoreGameOverview")(t) || t, t = H["default"]({
store: T["default"]
})(t) || t, t = b.focusable("e00a5b05:373")(t) || t;
}(y["default"].Component);
t["default"] = be, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(104), h = s(d), y = n(33), g = s(y), m = n(6), b = s(m), v = n(18), _ = s(v), S = n(58), w = s(S), T = {
_$StoreLoadingState: {
displayName: "StoreLoadingState"
}
}, C = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/StoreLoadingState.jsx",
components: T,
locals: [],
imports: []
}), E = {
flex: 1,
alignItems: "center",
justifyContent: "center",
flexDirection: "row",
width: _["default"].content.width,
height: _["default"].content.height - b["default"].getHeight(10)
}, I = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this.props.available, t = this.props.loading;
return t ? {
$$typeof: p,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
children: {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
autoRun: !0,
size: 50
}),
_owner: null
}
}),
_owner: null
},
style: E
},
_owner: null
},
tallContent: !0
}),
_owner: null
} : e ? this.props.children : {
$$typeof: p,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
text: __("ID_SPARTA_COMMERCE_EMPTY_NOCONTENT_TEXT"),
subText: __("ID_SPARTA_COMMERCE_EMPTY_NOCONTENT_SUBTEXT")
}),
_owner: null
},
style: E
},
_owner: null
},
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$StoreLoadingState")(t) || t;
}(f["default"].Component);
t["default"] = I, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
var t = function n() {
throw new Error("Can't trigger '" + e + "' because it is defined as a frostbiteListenable, not a frostbiteAction");
};
return t.listen = function(t) {
var n = function r(e) {
for (var n = arguments.length, r = Array(n > 1 ? n - 1 : 0), o = 1; n > o; o++) r[o - 1] = arguments[o];
t.apply(void 0, r);
};
return o.frostbite.registerMessageListener(e, n), function() {
o.frostbite.removeMessageListener(e, n);
};
}, t;
}
t.__esModule = !0, t["default"] = r;
var o = n(2);
e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0], r = arguments.length <= 1 || void 0 === arguments[1] ? 0 : arguments[1], o = arguments.length <= 2 || void 0 === arguments[2] ? 0 : arguments[2];
n(this, e), this.x = t, this.y = r, this.z = o;
}
return e.prototype.add = function t(n) {
return new e(this.x + n.x, this.y + n.y, this.z + n.z);
}, e.prototype.subtract = function r(t) {
return new e(this.x - t.x, this.y - t.y, this.z - t.z);
}, e.prototype.scale = function o() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? 1 : arguments[0], n = arguments.length <= 1 || void 0 === arguments[1] ? 1 : arguments[1], r = arguments.length <= 2 || void 0 === arguments[2] ? 1 : arguments[2];
return new e(this.x * t, this.y * n, this.z * r);
}, e;
}();
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), i = n(10), s = n(19), l = n(163), u = n(268), p = n(12), c = n(124), f = n(17), d = n(2), h = n(2).TweenBatching, y = 400, g = 300, m = 35, b = !0, v = 0;
s.getState().enableTwinkleInputConcepts && (v = 1), s.listen(function(e) {
var t = e.enableTwinkleInputConcepts;
v = t ? 1 : 0;
});
var _ = function() {
function e(t) {
o(this, e), this.key = t;
}
return e.prototype.trigger = function t(e) {
h.start(), e = e || {};
var t = new u({
key: this.key,
isRelease: e.isRelease || !1,
isRepeat: e.isRepeat || !1,
isHold: e.isHold || !1
});
if (c.trigger(t), !e.isRelease && !e.isHold && b) switch (this.key) {
case p.Left:
d.focus.system.navigate(d.focus.Direction.Left, function() {
return l.playEffect(1);
});
break;

case p.Up:
d.focus.system.navigate(d.focus.Direction.Up, function() {
return l.playEffect(1);
});
break;

case p.Right:
d.focus.system.navigate(d.focus.Direction.Right, function() {
return l.playEffect(1);
});
break;

case p.Down:
d.focus.system.navigate(d.focus.Direction.Down, function() {
return l.playEffect(1);
});
}
h.stop();
}, e.prototype.hold = function n() {
this.trigger({
isHold: !0
}), this.holdTriggered = !0;
}, e.prototype.repeat = function r() {
var e = this;
this.trigger({
isRepeat: !0
}), this.repeatId = setInterval(function() {
return e.trigger({
isRepeat: !0
});
}, m), this.repeatTriggered = !0;
}, e.prototype.update = function a(e) {
var t = this;
if (this.isDown === e) return !1;
if (clearTimeout(this.holdDelayId), clearTimeout(this.repeatDelayId), clearInterval(this.repeatId), 
this.isDown = e, e) {
this.trigger(), this.holdDelayId = setTimeout(function() {
return t.hold();
}, y);
var n = this.key === p.ScrollDown || this.key === p.ScrollUp ? 50 : g;
this.key.enableRepeat && (this.repeatDelayId = setTimeout(function() {
return t.repeat();
}, n));
} else this.trigger({
isRelease: !0,
isRepeat: this.repeatTriggered,
isHold: this.holdTriggered
});
return this.holdTriggered = !1, this.repeatTriggered = !1, !0;
}, e;
}(), S = "PC";
SpartaGlobals.bundleIsXBOXONE ? S = "XBOXONE" : SpartaGlobals.bundleIsPS4 && (S = "PS4");
var w = function() {
function e() {
o(this, e), r(this, "currentInputType", t), this.states = {}, this.subscriptions = [];
}
var t = {}, t = {};
return a(e, [ {
key: "currentInputType",
decorators: [ i.observable ],
initializer: function n() {
return S;
},
enumerable: !0
} ], null, t), e.prototype.getState = function s(e) {
return this.states[e.id] || (this.states[e.id] = new _(e));
}, e.prototype.updateKey = function l(e, t) {
e && this.getState(e).update(t);
}, e.prototype.start = function u() {
var e = this;
f.setNavigationEnabled.listen(function(e) {
b = e;
}), d.frostbite.registerMessageListener("sparta.activated", function() {
Object.keys(e.states).forEach(function(t) {
var n = e.states[t];
n.update(!1) && console.log("Force release key '" + n.key.name + "' as it was down when Sparta deactivated");
});
}), d.events.onInputActionDown.listen(function(t, n, r) {
e.setUsingGamePad(r), e.updateKey(p.byFBAction(v)[n], !0);
}), d.events.onInputActionUp.listen(function(t, n, r) {
e.updateKey(p.byFBAction(v)[n], !1);
});
}, a(e, [ {
key: "setUsingGamePad",
decorators: [ i.action ],
value: function c(e) {
SpartaGlobals.bundleIsPC && (e ? this.currentInputType = "XBOXONE" : this.currentInputType = "PC");
}
} ], null, t), e;
}();
e.exports = new w();
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var o = n(2), a = function() {
function e() {
r(this, e);
}
return e.prototype.get = function t(e, n) {
o.kvstorage.getItem(e, function(e, t, r) {
0 > r && r !== o.kvstorage.errorCodes.GET_KEYNOTFOUND && console.warn("Error " + r + " loading key " + e);
var a = void 0;
if (t) try {
a = JSON.parse(t);
} catch (i) {
console.warn("Error parsing JSON from kvstorage:", e, t, i);
}
n(a);
});
}, e.prototype.load = function n(e, t) {
o.kvstorage.getItem(e, function(e, n, r) {
if (r === o.kvstorage.errorCodes.GET_KEYNOTFOUND) return void t(null);
if (0 > r) return console.warn("Error " + r + " loading key " + e), void t(null);
if (o.kvstorage.removeItem(e, function(e, t) {
0 > t && console.warn("Got error  " + t + " removing key " + e + ".");
}), n) {
var a = null;
try {
a = JSON.parse(n);
} catch (i) {
console.warn("Error parsing JSON from kvstorage:", e, n, i);
}
t(a);
}
});
}, e.prototype.save = function a(e, t) {
if (null == t) return void console.error("data is null/undefined");
if (!e) return void console.error("Key parameter is missing");
var n = JSON.stringify(t);
o.kvstorage.storeItem(e, n, function(e, t) {
0 > t && console.warn("Got error " + t + " saving key " + e);
});
}, e;
}();
t["default"] = a, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], t = e.progress, r = void 0 === t ? 0 : t, a = e.isInstalling, i = void 0 === a ? !1 : a, s = e.isMpInstalled, l = void 0 === s ? !1 : s;
n(this, o), this.progress = r, this.isInstalling = i, this.isMpInstalled = l;
};
t["default"] = r, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var r = function o(e) {
n(this, o), this.key = e.key, this.isRelease = e.isRelease, this.isRepeat = e.isRepeat, 
this.isHold = e.isHold, this.isPress = !this.isRelease && !this.isHold;
};
e.exports = r;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o);
t["default"] = {
setPingSites: a["default"].createAction(),
updatePingSites: a["default"].createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__, e) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = function n(t) {
return new Promise(function(n, r) {
t.trim().length < 1 && r(__("ID_SPARTA_ONLINE_JOIN_ENTER_VALID_PASSWORD")), T["default"].triggerAsPromise(e, t).then(function(e) {
var t = (e.gameId, e.verified);
t ? n() : r(__("ID_SPARTA_ONLINE_JOIN_INVALID_PASSWORD"));
});
});
};
return S.prompt(__("ID_SPARTA_ONLINE_JOIN_PASSWORD_PROTECTED"), 1, 36, {
onOkValidate: t,
inputType: "Password",
message: __("ID_SPARTA_ONLINE_JOIN_ENTER_PASSWORD")
});
}
function a(t, n, r) {
var o = !1, a = x.gameStore.getGame(r);
if (a.showMissingExpansionsPopupOverride && (e.info("Custom showMissingExpansionsPopupOverride called."), 
o = a.showMissingExpansionsPopupOverride(t, n, r))) return void e.info("Custom missing expansion Popup rendered.");
var i = "";
t.length && (i = __("ID_SPARTA_ONLINE_JOIN_MISSING_EXPANSION_MESSAGE") + "\n\n" + g["default"].map(t, function(e) {
return "- " + e.prettyName;
}).join("\n")), n.length && (t.length && (i += "\n\n"), i = i + __("ID_SPARTA_ONLINE_JOIN_EXPANSION_NOT_INSTALLED") + "\n\n" + g["default"].map(n, function(e) {
return "- " + e.prettyName;
}).join("\n"));
var s = {
title: __("ID_SPARTA_ONLINE_JOIN_MISSING_EXPANSION_TITLE"),
details: i,
image: a.expansionsImage,
label: __("ID_SPARTA_ACTION_GET_EXPANSIONS")
};
return S.alertWithImageAndOption(s.details, s.title, s.image, {
action: function l() {
P["default"].gotoLocation(a.startRoute + "/store/list?tab=expansions");
},
key: E["default"].Option2,
label: s.label
});
}
function i(e, t) {
var n = __("ID_SPARTA_ONLINE_JOIN_MISSING_PREMIUM_MESSAGE"), r = g["default"].map(e, function(e) {
return "- " + e.prettyName;
});
return S.alertWithOption(n + r.join("\n"), __("ID_SPARTA_ONLINE_JOIN_MISSING_PREMIUM_TITLE"), {
useConfirmInput: !0,
customInput: {
action: function o() {
P["default"].gotoLocation("commerce/store/" + t + "?tab=premium");
},
key: E["default"].Option2,
label: __("ID_SPARTA_ACTION_GET_PREMIUM_ACCESS")
}
});
}
function s(e, t) {
var n = v["default"].getState();
return g["default"].filter(e, function(e) {
return "DEFAULT" !== e.name && !n.hasExpansionAccess(t, e.name);
});
}
function l(e, t) {
var n = _.installedExpansions.getMask(t);
return n ? g["default"].filter(e, function(e) {
return "DEFAULT" !== e.name && !(e.mask & n);
}) : [];
}
function u(e) {
var t = R["default"].getGameStats(e);
return t ? t.rank.number >= 10 : !0;
}
function p(e, t) {
var n = s(e, t), r = l(e, t), o = g["default"].filter(r, function(e) {
return !g["default"].some(n, function(t) {
return t.license === e.license;
});
});
return [ n, o ];
}
function c(e) {
var t = p(e.expansions, e.game), n = t[0], r = t[1];
return n.length || r.length ? (a(n, r, e.game), !1) : !0;
}
function f(e) {
return new Promise(function(t, n) {
var r = p(e.server.expansions, e.server.game), i = r[0], s = r[1], l = x.gameStore.getGame(e.server.game), c = void 0;
l.showMissingEntitlementPopupOnJoinFor && (c = g["default"].flatten(i.map(function(e) {
return l.showMissingEntitlementPopupOnJoinFor[e.name] || [];
})));
var f = 0 === i.length, d = f || c && -1 === c.indexOf(e.server.mapName);
if (!d || s.length) a(i, s, e.server.game).then(n); else if (e.server.isRoleSupported(e.role)) if ("commander" !== e.role || u(e.server.game)) if (e.server.passwordProtected) o(e.server).then(function(n) {
t(e.extend({
password: n
}));
})["catch"](n); else if (e.squadJoin) {
var h = e.server.expansionMask;
(h & e.party.expansionMask) !== h ? S.confirm(__("ID_SPARTA_USER_PARTY_MISSING_CONTENT_MESSAGE"), __("ID_SPARTA_USER_PARTY_MISSING_CONTENT_TITLE"), __("ID_SPARTA_ACTION_CONTINUE"), __("ID_SPARTA_ACTION_CANCEL"), "missingContent").then(function() {
t(e);
})["catch"](n) : t(e);
} else t(e); else S.alert(__("ID_SPARTA_ONLINE_JOIN_RANK_10"), __("ID_SPARTA_ONLINE_JOIN_FAILED_TITLE")).then(n); else {
var y = "";
switch (e.role) {
case "spectator":
y = __("ID_SPARTA_ONLINE_JOIN_ROLE_NOT_SUPPORTED_SPECTATOR");
break;

case "commander":
y = __("ID_SPARTA_ONLINE_JOIN_ROLE_NOT_SUPPORTED_COMMANDER");
break;

default:
y = __("ID_SPARTA_ONLINE_JOIN_ROLE_NOT_SUPPORTED").replace("[[role]]", e.role);
}
S.alert(y, __("ID_SPARTA_ONLINE_JOIN_FAILED_TITLE")).then(n);
}
});
}
function d(e, t, n) {
var r = Object.keys(t[n])[0];
if (!r) return null;
var o = e[n] && g["default"].find(e[n], function(e) {
return e.filterKey === r;
});
return o || console.warn("Could not find " + r + " in " + n), o;
}
function h(e, t) {
return new Promise(function(n, r) {
var o = v["default"].getState(), s = [], l = [], c = !1;
if (!e) return console.warn("Matchmaking - Game id is undefined!! Something wrong!"), 
void S.alert(__("ID_SPARTA_MATCHMAKING_FAILED_GENERIC"), __("ID_SPARTA_MATCHMAKING_FAILED")).then(r);
var f = void 0;
if (t.gameModes ? f = d(A["default"].getState()[e], t, "gameModes") : t.experiences && (f = d(A["default"].getState()[e], t, "experiences")), 
f && f.expansions) {
var h = p(f.expansions, e);
l = h[0], s = h[1], c = f.premium;
}
l.length || s.length ? !c || o.hasPremiumAccess(e) || s.length ? a(l, s, e).then(r) : i(l, e).then(r) : "commander" !== t.role || u(e) ? n(e, t) : S.alert(__("ID_SPARTA_ONLINE_JOIN_RANK_10"), __("ID_SPARTA_MATCHMAKING_CHECK_FAILED")).then(r);
});
}
t.__esModule = !0, t.validateContentAccessToServerWithPopup = c, t.checkJoinOptions = f, 
t.checkMatchmakingOptions = h;
var y = n(4), g = r(y), m = n(1), b = (r(m), n(80)), v = r(b), _ = n(540), S = n(35), w = n(668), T = r(w), C = n(12), E = r(C), I = n(17), P = r(I), O = n(99), A = r(O), k = n(130), R = r(k), x = n(11);
}).call(t, n(5), n(132));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
var n = l["default"].getState().server;
if (n && (!e || n.gameId === e)) return new Promise(function(e) {
return e(n);
});
var r = t || p["default"].getState().hostingGameId;
return e && r ? new Promise(function(t) {
f["default"].request({
game: r,
gameId: e
}).then(function(e) {
t(e ? new i["default"](e) : null);
})["catch"](function() {
return t(null);
});
}) : new Promise(function(e) {
return e(null);
});
}
t.__esModule = !0, t["default"] = o;
var a = n(55), i = r(a), s = n(44), l = r(s), u = n(19), p = r(u), c = n(278), f = r(c);
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t, n) {
var r = a();
switch (r) {
case d.Full:
i(e, t);
break;

case d.Simple:
s(e, n);
break;

case d.None:
f.showNotInHostingGameAlert();
}
}
function a() {
return l.settingsStore.isFeatureEnabled(h) ? d.Full : l.settingsStore.isFeatureEnabled(y) ? d.Simple : d.None;
}
function i(e, t) {
p["default"].countdownThenLaunchGame(l.gameStore.getGame(e), new c.CrossLaunchOptions({
gameId: e,
params: t
}));
}
function s(e, t) {
p["default"].launchGameWithNotification(e, t);
}
t.__esModule = !0, t.continueCrosslaunch = o, t.getCrosslaunchSetting = a;
var l = n(11), u = n(144), p = r(u), c = n(273), f = n(56), d = {
Full: "fullCrosslaunch",
Simple: "simpleCrosslaunch",
None: "none"
};
t.CrosslaunchSetting = d;
var h = d.Full + SpartaGlobals.bundlePlatform.replace("XBOXONE", "XB1"), y = d.Simple + SpartaGlobals.bundlePlatform.replace("XBOXONE", "XB1");
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(4), i = r(a), s = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, e), Object.keys(t).forEach(function(e) {
"role" === e ? "spectator" === t[e] ? this.isSpectator = "true" : this.role = t[e] ? t[e] : "soldier" : this[e] = t[e];
}, this);
}
return e.prototype.toString = function t() {
var e = i["default"].chain(this).pairs().map(function(e) {
return e[0] + '="' + e[1] + '"';
}).value().join(" ").replace(/\"/g, '\\"');
return "<data " + e + "></data>";
}, e;
}(), l = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, e), Object.keys(t).forEach(function(e) {
"requestStateParams" === e ? this.requestStateParams = t.requestStateParams instanceof s ? t.requestStateParams : new s(t.requestStateParams) : this[e] = t[e];
}, this);
}
return e.prototype.clone = function t() {
var e = i["default"].extend({}, this);
return e.requestStateParams = i["default"].extend({}, this.requestStateParams), 
e;
}, e.prototype.toString = function n() {
var e = [];
return Object.keys(this).forEach(function(t) {
e.push("-" + t);
var n = this[t];
"requestStateParams" === t && n instanceof s && (n = n.toString()), null != n && "" !== n && e.push('"' + n + '"');
}, this), e.join(" ");
}, e;
}();
t.LaunchParams = l;
var u = function p() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, p), this.gameId = e.gameId, this.x86Version = e.x86Version || !1, this.params = e.params && e.params instanceof l ? e.params : new l(e.params);
};
t.CrossLaunchOptions = u;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(4), i = r(a), s = n(11), l = {
ONLINE_ACCESS: "ONLINE_ACCESS",
DELUXE_EDITION: "EDITION_DELUXE",
ORIGIN_ACCESS: "ORIGIN_ACCESS",
EA_ACCESS: "EA_ACCESS",
TRIAL: "TRIAL_ONLINE_ACCESS",
PREMIUM_ACCESS: "PREMIUM_ACCESS",
xpack: function h(e) {
return (e || "").toUpperCase() + "_ACCESS";
}
}, u = l;
t.EntitlementTag = u;
var p = {
ACTIVE: "ACTIVE",
DELETED: "DELETED",
PENDING: "PENDING",
BANNED: "BANNED",
DISABLED: "DISABLED"
};
t.EntitlementStatus = p;
var c = function y(e) {
o(this, y), this.entitlementTag = e.entitlementTag, this.status = e.status, this.entitlementTag && this.status || console.warn("Incomplete entitlement", this);
};
t.Entitlement = c;
var f = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, e), this.lookup = t;
}
return e.prototype.isEmpty = function t(e) {
return "undefined" == typeof this.lookup[e] || 0 === i["default"].keys(this.lookup[e]).length;
}, e.prototype.findEntitlement = function n(e, t, r) {
var o = this.lookup[e] || [];
return i["default"].find(o, function(e) {
return r ? e.entitlementTag === t && e.status === r : e.entitlementTag === t;
});
}, e.prototype.hasExpansionAccess = function r(e, t) {
var n = u.xpack(t);
return this.findEntitlement(e, n, p.ACTIVE) ? !0 : !1;
}, e.prototype.hasOnlineAccess = function a(e) {
return s.gameStore.getGame(e).enforceEntitlements ? this.findEntitlement(e, u.ONLINE_ACCESS, p.ACTIVE) ? !0 : !1 : !0;
}, e.prototype.hasDeluxeEdition = function l(e) {
return this.findEntitlement(e, u.DELUXE_EDITION) ? !0 : !1;
}, e.prototype.ownsGame = function c(e) {
return s.gameStore.getGame(e).enforceEntitlements ? this.findEntitlement(e, u.ONLINE_ACCESS, p.ACTIVE) ? !0 : !1 : !0;
}, e.prototype.isBanned = function f(e) {
return this.findEntitlement(e, u.ONLINE_ACCESS, p.BANNED) ? !0 : !1;
}, e.prototype.hasAccess = function d() {
return SpartaGlobals.bundleIsPC ? this.findEntitlement("origin", u.ORIGIN_ACCESS, p.ACTIVE) ? !0 : !1 : this.findEntitlement("origin", u.EA_ACCESS, p.ACTIVE) ? !0 : !1;
}, e.prototype.hasTrial = function h(e) {
return this.findEntitlement(e, u.ONLINE_ACCESS) ? !1 : this.findEntitlement(e, u.TRIAL, p.ACTIVE) ? !0 : !1;
}, e.prototype.hasPremiumAccess = function y(e) {
return this.findEntitlement(e, u.PREMIUM_ACCESS, p.ACTIVE) ? !0 : !1;
}, e;
}(), d = f;
t.GameEntitlements = d, t["default"] = d;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(169), i = r(a), s = n(57), l = r(s), u = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, e), this.role = t.role, this.server = t.server, this.queue = new i["default"](t.queue), 
this.navigationState = t.navigationState, this.levelName = t.levelName, this.isMultiplayer = t.isMultiplayer, 
this.isSingleplayer = !this.isMultiplayer, this.isOnline = t.isOnline, this.isDeployed = t.isDeployed || !1, 
this.isChangingServer = t.isChangingServer || !1, this.isSpectator = t.isSpectator || !1, 
this.hideStartScreen = void 0 !== t.hideStartScreen ? t.hideStartScreen : !1, this.gameId = this.server && this.server.game || t.gameId, 
this.isRunning = this.navigationState && this.navigationState !== l["default"].FrontEnd, 
this.isReady = this.navigationState === l["default"].InGameMenu, this.isLoading = this.isMultiplayer ? !this.isReady && this.server && !this.queue.isPending : !this.isReady;
}
return e.prototype.isServerJoiningAllowed = function t(e) {
return !this.server || this.server && this.server.gameId !== e && !this.isLoading && this.navigationState !== l["default"].LoadingScreen;
}, e.prototype.getPrettyState = function n() {
return this.server ? this.server.name : null;
}, e;
}();
t["default"] = u, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function n(e) {
return i[e] || o.unknownError;
}
function r(e) {
var t = "";
switch (e) {
case o.success:
case o.gameFull:
return;

case o.timeOut:
t = __("ID_SPARTA_ONLINE_JOIN_TIMEOUT");
break;

case o.gameNotFound:
t = __("ID_SPARTA_ONLINE_JOIN_GAME_NOT_FOUND");
break;

case o.gameNotJoinable:
t = __("ID_SPARTA_ONLINE_JOIN_UNABLE_TO_JOIN");
break;

case o.invalidGameState:
t = __("ID_SPARTA_ONLINE_JOIN_INVALID_GAME_STATE");
break;

case o.wrongVersion:
t = __("ID_SPARTA_ONLINE_JOIN_WRONG_VERSION");
break;

case o.noServerFound:
t = __("ID_SPARTA_ONLINE_JOIN_SERVER_NOT_FOUND");
break;

case o.playerNotFound:
t = __("ID_SPARTA_ONLINE_JOIN_PLAYER_NOT_FOUND");
break;

case o.failedReputationCheck:
t = __("ID_SPARTA_ONLINE_JOIN_FAILED_REPUTATION_CHECK");
break;

case o.banned:
t = __("ID_SPARTA_ONLINE_JOIN_BANNED");
break;

case o.roleFull:
t = __("ID_SPARTA_ONLINE_JOIN_ROLE_FULL");
break;

case o.roleNotAllowed:
t = __("ID_SPARTA_ONLINE_JOIN_ROLE_NOT_ALLOWED");
break;

case o.roleCriteriaFailed:
t = __("ID_SPARTA_ONLINE_JOIN_ROLE_CRITERIA_FAILED");
break;

case o.indirectJoinFail:
t = __("ID_SPARTA_ONLINE_JOIN_INDIRECT_JOIN_FAILED");
break;

case o.rankCriteriaFailed:
t = __("ID_SPARTA_ONLINE_JOIN_RANK_CRITERIA_FAILED");
break;

case o.noMultiplayerPrivilege:
t = __("ID_SPARTA_ONLINE_JOIN_NO_MULTIPLAYER_PRIVILEGE");
break;

case o.alreadyInSession:
t = __("ID_SPARTA_ONLINE_JOIN_ALREADY_IN_SESSION");
break;

case o.inviteExpired:
t = __("ID_SPARTA_ONLINE_JOIN_INVITATION_EXPIRED");
break;

case o.tooYoung:
t = __("ID_SPARTA_ONLINE_JOIN_TOO_YOUNG");
break;

case o.streamInstallInProgress:
t = __("ID_SPARTA_ONLINE_JOIN_STREAM_INSTALL_IN_PROGRESS");
break;

case o.reservationAlreadyExists:
t = __("ID_SPARTA_ONLINE_JOIN_RESERVATION_ALREADY_EXISTS");
break;

case o.noReservationFound:
t = __("ID_SPARTA_ONLINE_JOIN_NO_RESERVATION_FOUND");
break;

case o.unknownError:
default:
t = __("ID_SPARTA_ONLINE_JOIN_UNKNOWN_ERROR");
}
return t;
}
t.__esModule = !0, t.lookupGatewayJoinError = n, t.getHumanReadableMessage = r;
var o = {
none: 0,
unknownError: 1,
success: 2,
timeOut: 3,
gameNotFound: 4,
gameFull: 5,
gameNotJoinable: 6,
invalidGameState: 7,
wrongVersion: 8,
noServerFound: 9,
playerNotFound: 10,
failedReputationCheck: 11,
banned: 12,
roleFull: 13,
roleNotAllowed: 14,
roleCriteriaFailed: 15,
indirectJoinFail: 16,
queued: 17,
rankCriteriaFailed: 18,
noMultiplayerPrivilege: 19,
alreadyInSession: 20,
inviteExpired: 21,
tooYoung: 22,
streamInstallInProgress: 23,
reservationAlreadyExists: 24,
noReservationFound: 25
};
t.JoinResultType = o;
var a = {
none: 0,
joined: 1,
joinFailed: 2,
queued: 3,
disconnected: 4,
gameAttributeUpdated: 5,
playerClaimingReservation: 6,
otherPlayerJoined: 7,
otherPlayerLeft: 8
};
t.JoinEventType = a;
var i = {
GAMEMANAGER_ERR_INVALID_GAME_ID: o.noServerFound,
GAMEMANAGER_ERR_GAME_FULL: o.gameFull,
GAMEMANAGER_ERR_ALREADY_GAME_MEMBER: o.alreadyInSession,
GAMEMANAGER_ERR_INVALID_GAME_STATE_ACTION: o.invalidGameState,
GAMEMANAGER_ERR_PLAYER_NOT_FOUND: o.playerNotFound,
GAMEMANAGER_ERR_PLAYER_BANNED: o.banned,
GAMEMANAGER_ERR_GAME_ENTRY_CRITERIA_FAILED: o.rankCriteriaFailed,
GAMEMANAGER_ERR_GAME_PROTOCOL_VERSION_MISMATCH: o.wrongVersion,
GAMEMANAGER_ERR_SPECTATOR_SLOTS_FULL: o.roleFull,
GAMEMANAGER_ERR_RESERVATION_ALREADY_EXISTS: o.reservationAlreadyExists,
GAMEMANAGER_ERR_ROLE_NOT_ALLOWED: o.roleNotAllowed,
GAMEMANAGER_ERR_ROLE_FULL: o.roleFull,
GAMEMANAGER_ERR_ROLE_CRITERIA_FAILED: o.roleCriteriaFailed,
GAMEMANAGER_ERR_FAILED_REPUTATION_CHECK: o.failedReputationCheck
}, s = function() {
function t() {
var n = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
e(this, t), this.gameId = n.gameId, this.blazeGameId = n.blazeGameId, this.server = n.server, 
this.customMessage = n.customMessage, this.resultType = n.resultType || o.none, 
this.eventType = n.eventType || a.none;
}
return t.prototype.toHumanReadable = function n() {
return this.customMessage ? this.customMessage : r(this.resultType);
}, t.prototype.getTitle = function i() {
return __("ID_SPARTA_ONLINE_JOIN_FAILED_TITLE");
}, t;
}();
t["default"] = s;
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, a = n(4), i = r(a), s = n(21), l = r(s), u = n(52), p = n(55), c = r(p), f = n(22), d = r(f), h = l["default"].createClient({
requestOn: [ d["default"].refreshRentedServers ],
request: function y(e) {
return u.gatewayClient.request("RSP.listServers", {
game: e
});
},
onRequestError: function g(e, t) {
this.publish(t, void 0, e);
},
parse: function m(e, t) {
var n = i["default"].map(e, function(e) {
var n = e.server, r = e.rspServer;
return n ? new c["default"](o({
rsp: r
}, n)) : new c["default"]({
rsp: r,
game: t,
name: r.name,
pingSiteAlias: r.pingSiteAlias,
isActive: !1
});
});
return i["default"].compact(n);
},
update: function b(e, t, n) {
this.publish(n, e);
}
});
t.ListRSPClient = h;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(26), a = r(o), i = n(34), s = r(i), l = n(21), u = n(22), p = l.createClient({
requestOn: [ u.getDetailsForServer ],
shouldPerformRequest: function c() {
return s["default"].getState().isReady();
},
request: function f(e) {
if (!e || !e.game || !e.gameId) throw new Error("You need to provide at least a game and gameId when fetching server details");
var t = {
game: e.game,
gameId: e.gameId
};
return a["default"].request("GameServer.getServerDetails", t);
},
onRequestError: function d(e) {
this.publish(void 0, e);
},
parse: function h(e) {
return e;
},
update: function y(e) {
this.publish(e);
}
});
e.exports = p;
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
return "gameModes" === e || "maps" === e || "weaponClasses" === e;
}
function o(e, t) {
var n = I["default"].filter(t, function(t) {
return "on" === e[t.filterKey];
}), r = I["default"].filter(t, function(t) {
return "off" === e[t.filterKey];
});
return n.length > 0 ? n : r;
}
function a(e, t) {
return I["default"].filter(t, function(t) {
return null == e[t.filterKey];
});
}
function i(e, t) {
arguments.length <= 2 || void 0 === arguments[2] ? !1 : arguments[2];
return I["default"].filter(t, function(t) {
return "scale" === t.type ? I["default"].some(I["default"].keys(t.options), function(t) {
return e[t];
}) : "int" === t.type ? null != e[t.filterKey] : e.hasOwnProperty(t.filterKey);
});
}
function s(e, t) {
return "off" === t ? __("ID_SPARTA_FILTER_NO_FILTERS").replace("[[filterCategory]]", e.prettyName || e.name) : e.prettyName || e.name;
}
function l(e, t) {
var n = I["default"].filter(Object.keys(t), function(t) {
return e.options[t];
});
return n.length > 0 ? e.name + " " + 100 * e.options[n[0]] + "%" : __("ID_SPARTA_FILTER_NO_FILTERS").replace("[[filterCategory]]", e.name);
}
function u(e, t) {
var n = t[e.filterKey];
return Array.isArray(n) ? e.name + " " + n[0] + " - " + n[1] : null == n ? __("ID_SPARTA_FILTER_ANY_FILTERS").replace("[[filterCategory]]", e.name) : e.name + " " + n;
}
function p(e, t) {
return "int" === e.type ? u(e, t) : "scale" === e.type ? l(e, t) : "bool" === e.type || null == e.type ? s(e, t[e.filterKey]) : void 0;
}
function c(e) {
for (var t = ""; e && e.length && t.length + e[0].length < P; ) t += 0 === t.length ? e.shift() : ", " + e.shift();
return e.length && (t += " +" + e.length), t;
}
function f(e, t) {
if (!e) return [ "" ];
if (e.name) return [ e.name ];
var n = i(e, t);
return n.map(function(t) {
return p(t, e);
});
}
function d(e, t) {
var n = I["default"].keys(e).length, r = I["default"].keys(t).length, o = "mixed";
return 0 === n ? o = "none" : n === r && (o = "all"), o;
}
function h(e, t, n) {
return function(r, o, a) {
switch (r) {
case "all":
return e();

case "none":
return t();

default:
return n(o, a);
}
};
}
function y(e, t) {
var n = I["default"].keys(e).length, r = I["default"].keys(t).length, i = r - n > 1, s = i || 3 > r ? o(e, t) : a(e, t), l = s.map(function(t) {
var n = t.prettyName || t.name;
return "on" === e[t.filterKey] ? n : __("ID_SPARTA_FILTER_NO_FILTERS").replace("[[filterCategory]]", n);
});
return c(l);
}
function g(e) {
return "object" == typeof e && e && (!e.isEmpty || !e.isEmpty());
}
function m(e, t, n) {
return I["default"].object(I["default"].compact(I["default"].map(e, function(e, r) {
var o = g(e);
if ("name" === r && e.name) return [ r, e.name ];
var a = o ? i(e, t[r] || [], n) : [], s = a.map(function(t) {
return p(t, e);
});
return s.length > 0 ? [ r, s.join(", ") ] : null;
})));
}
function b(e, t) {
return {
subHeading: e.toUpperCase(),
content: I["default"].compact(t).join("\n").toUpperCase()
};
}
function v(e, t) {
return !I["default"].some(e, function(e, n) {
if (!g(e)) return !1;
var r = i(e, t[n]);
return r.length > 0;
});
}
function _(e, t) {
return t(e.status, e.filter, e.options);
}
function S(e) {
return "maps" === e ? A : "gameModes" === e ? k : O;
}
function w(e) {
return I["default"].compact(I["default"].map(e, function(e, t) {
return "none" !== e.status || "maps" === t || "gameModes" === t ? _(e, S(t)) : null;
}));
}
function T(e, t) {
var n = I["default"].object(I["default"].map(e, function(e, n) {
return [ n, {
filter: e,
options: t[n],
status: d(e, t[n])
} ];
}));
return "mixed" === n.maps.status && "mixed" !== n.gameModes.status ? b(_(n.maps, A), w(I["default"].omit(n, [ "maps", "presets", "serverType" ]))) : b(_(n.gameModes, k), w(I["default"].omit(n, [ "gameModes", "presets", "serverType" ])));
}
function C(e, t) {
var n = m(e, t, !0);
return I["default"].values(n).join(", ");
}
t.__esModule = !0, t.shouldSummarizeAllNone = r, t.isDefaultFilter = v, t.getFilterCardSummary = T, 
t.getServerSettingsOneliner = C;
var E = n(4), I = e(E), P = 30, O = function R(e, t, n) {
var r = f(t, n);
return c(r);
}, A = h(function() {
return __("ID_SPARTA_FILTER_ALL_MAPS");
}, function() {
return __("ID_SPARTA_FILTER_ALL_MAPS");
}, y), k = h(function() {
return __("ID_SPARTA_FILTER_ALL_MODES");
}, function() {
return __("ID_SPARTA_FILTER_ALL_MODES");
}, y);
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(4), a = r(o), i = n(15), s = r(i), l = n(277), u = n(210), p = n(55), c = r(p), f = n(145), d = n(24), h = n(22), y = new d("RentedServerStore"), g = s["default"].createStore({
init: function m() {
var e = this;
this.listenTo(l.ListRSPClient, function(e, t, n) {
y.set(e, {
data: t,
error: n
}), this.trigger(this.getState()), h.requestPings(a["default"].pluck(t, "ip"));
}), this.listenTo(h.toggleBookmark, function(t) {
var n = new c["default"](a["default"].extend({}, t, {
isFavorite: !t.isFavorite
}));
e.updateServerBookmarked(n);
}), this.listenTo(f.ToggleServerBookmarkClient, this.updateServerBookmarked);
},
findAll: function b(e) {
var t = y.get(e);
return t && t.data;
},
findByRSPId: function v(e, t) {
var n = y.get(e) || [];
return a["default"].find(n.data, function(e) {
return e.rsp.serverId === t;
});
},
updateServerBookmarked: function _(e) {
if (e.guid) {
var t = y.get(e.game) || {}, n = t.data ? t.data.slice() : [], r = u.updateByGuid(n, e);
r && (y.set(e.game, {
data: r,
error: t.error
}), this.trigger(this.getState()));
}
},
getState: function S() {
return y.getState();
}
});
e.exports = g;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(210), a = n(15), i = r(a), s = n(145), l = n(55), u = r(l), p = n(409), c = r(p), f = n(4), d = r(f), h = n(24), y = n(22), g = new h("ServerHistoryStore"), m = i["default"].createStore({
init: function b() {
var e = this;
this.listenTo(c["default"], function(e, t, n) {
g.set(e, {
data: t,
error: n
}), this.trigger(this.getState()), y.requestPings(d["default"].pluck(t, "ip"));
}), this.listenTo(y.toggleBookmark, function(t) {
var n = new u["default"](d["default"].extend({}, t, {
isFavorite: !t.isFavorite
}));
e.updateServerBookmarked(n);
}), this.listenTo(s.ToggleServerBookmarkClient, this.updateServerBookmarked);
},
updateServerBookmarked: function v(e) {
if (e.guid) {
var t = g.get(e.game) || {}, n = t.data ? t.data.slice() : [], r = o.updateByGuid(n, e);
r && (g.set(e.game, {
data: r,
error: t.error
}), this.trigger(this.getState()));
}
},
getState: function _() {
return g.getState();
}
});
t["default"] = m, e.exports = t["default"];
}, function(e, t) {
t.__esModule = !0, t["default"] = {
SortKeys: {
NAME: "name",
PING: "ping",
PLAYERS: "players",
NONE: "none"
},
SortDirection: {
ASC: "asc",
DESC: "desc",
NONE: "none"
}
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = {
blur: a["default"].createAction(),
focus: a["default"].createAction(),
enableVideo: a["default"].createAction(),
disableVideo: a["default"].createAction()
};
e.exports = i;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = {
display: a["default"].createAction(),
hide: a["default"].createAction()
};
e.exports = i;
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(4), i = r(a), s = n(55), l = r(s), u = void 0, p = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, e), t.status && "SessionStarting" === t.status && (u = new Date().getTime()), 
this.personaId = t.personaId, this.sessionId = t.sessionId, this.gameId = t.gameId, 
this.env = t.env || {}, this.status = t.status, this.server = t.server ? new l["default"](t.server) : void 0, 
this.canJoin = void 0 !== t.canJoin ? t.canJoin : !1, this.isResolved = this.status && i["default"].contains([ "SuccessJoined", "SessionTimedOut", "JoinFailed", "SessionCanceled" ], this.status), 
this.isPending = this.status && !this.isResolved, this.isCancellable = this.isPending && !!this.sessionId, 
this.filter = t.filter || {};
}
return e.prototype.getDuration = function t() {
return new Date().getTime() - u;
}, e.prototype.getPrettyStatus = function n() {
switch (this.status) {
case "SessionStarting":
return __("ID_SPARTA_MATCHMAKING_SESSION_STARTING");

case "SessionStarted":
return __("ID_SPARTA_MATCHMAKING_SESSION_STARTED");

case "SessionTimedOut":
return __("ID_SPARTA_MATCHMAKING_SESSION_TIMEOUT");

case "SuccessJoined":
return __("ID_SPARTA_MATCHMAKING_JOINED");

case "JoinFailed":
return __("ID_SPARTA_MATCHMAKING_FAILED");

case "SessionCanceled":
return __("ID_SPARTA_MATCHMAKING_SESSION_CANCELED");
}
}, e;
}();
t["default"] = p, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return U(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), c = i(p), f = n(25), d = i(f), h = n(710), y = i(h), g = n(61), m = i(g), b = n(2), v = n(14), _ = i(v), S = n(12), w = i(S), T = n(391), C = i(T), E = n(31), I = n(6), P = i(I), O = n(105), A = i(O), k = n(66), R = n(18), x = i(R), M = n(11), N = n(8), $ = n(9), D = {
_$ArticleRecommendationCard: {
displayName: "ArticleRecommendationCard"
},
_$ArticlePopup: {
displayName: "ArticlePopup"
}
}, U = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/ArticleRecommendationCard.jsx",
components: D,
locals: [],
imports: []
}), L = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.componentDidMount = function s() {
m["default"].handleCardDisplayed(this.props.recommendation);
}, n.prototype.getButtons = function l(e) {
var t = this;
return new _["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: w["default"].Accept,
blockInputFor: 500,
action: function n() {
m["default"].handleCardInteraction(t.props.recommendation), t.openArticlePopup();
}
});
}, n.prototype.getBackgroundImage = function p(e) {
return e.featuredImage && e.featuredImage.fileReference;
}, n.prototype.getGameDisplayName = function c(e) {
return e && e.game;
}, n.prototype.getTitle = function f(e) {
return e && e.pageTitle && e.pageTitle.text || "";
}, n.prototype.getArticle = function h() {
return this.props.recommendation instanceof C["default"] ? this.props.recommendation : new C["default"](this.props.recommendation);
}, n.prototype.openArticlePopup = function y() {
var t = this.getArticle();
d["default"].display({
id: "articlePopup",
fullScreen: !0,
createButtons: !1,
content: {
$$typeof: u,
type: F,
key: null,
ref: null,
props: e(F.defaultProps, {
article: t,
popupId: "articlePopup"
}),
_owner: null
},
inputs: [ new _["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: w["default"].Decline
}) ]
});
}, n.prototype.render = function g() {
var t = this, n = this.getArticle(), r = this.getBackgroundImage(n);
return r ? {
$$typeof: u,
type: b.Focusable,
key: null,
ref: null,
props: e(b.Focusable.defaultProps, {
children: function o(a) {
return {
$$typeof: u,
type: k.BasicCard,
key: null,
ref: null,
props: e(k.BasicCard.defaultProps, {
input: t.getButtons(n),
focusItem: a,
heading: __("ID_SPARTA_CARD_ARTICLE"),
description: t.getTitle(n),
game: t.getGameDisplayName(n),
background: r,
size: t.props.size
}),
_owner: null
};
},
debugName: "article_scard_" + n.id,
autoFocusCandidate: !0
}),
_owner: null
} : {
$$typeof: u,
type: b.Focusable,
key: null,
ref: null,
props: e(b.Focusable.defaultProps, {
children: function a(r) {
return {
$$typeof: u,
type: k.BasicCard,
key: null,
ref: null,
props: e(k.BasicCard.defaultProps, {
input: t.getButtons(n),
focusItem: r,
heading: "NEWS",
description: t.getTitle(n),
size: t.props.size
}),
_owner: null
};
},
debugName: "article_tcard_" + n.id,
autoFocusCandidate: !0
}),
_owner: null
};
};
var i = n;
return n = a("_$ArticleRecommendationCard")(n) || n;
}(c["default"].Component);
t["default"] = L, L.propTypes = {
recommendation: c["default"].PropTypes.object.isRequired
};
var F = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.onClose = function s() {
d["default"].close(this.props.popupId);
}, n.prototype.render = function l() {
var t = this, n = M.layoutStateStore.current.config, r = {
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0
}, o = $.bbOfflineUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"), a = {
position: "absolute",
top: x["default"].dangerZoneSize.height,
right: x["default"].dangerZoneSize.width - 3 * P["default"].GUTTER,
zOffset: 100
}, i = SpartaGlobals.bundleIsPC ? {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: u,
type: b.Focusable,
key: null,
ref: null,
props: e(b.Focusable.defaultProps, {
children: function m(n) {
return {
$$typeof: u,
type: A["default"],
key: null,
ref: null,
props: e(A["default"].defaultProps, {
action: t.onClose.bind(t),
focusItem: n,
size: 24,
icon: o,
style: {
padding: P["default"].GUTTER
}
}),
_owner: null
};
},
debugName: "article_close"
}),
_owner: null
},
style: a
},
_owner: null
} : null, s = P["default"].getWidth(18), l = P["default"].getHeight(3), p = 5 * P["default"].GUTTER, c = {
clipPadding: [ l, p, P["default"].getHeight(5), 0 ],
softClip: [ 0, l, 0, l ],
scrollHeight: x["default"].screen.style.height - 2 * x["default"].dangerZoneSize.height
}, f = {
clipPadding: [ l, p, 0, 0 ],
softClip: [ 0, l, 0, P["default"].getHeight(15) ],
scrollHeight: x["default"].screen.style.height - 2 * x["default"].dangerZoneSize.height - P["default"].getHeight(5)
}, d = SpartaGlobals.bundleIsPC ? c : f, h = {
marginTop: x["default"].dangerZoneSize.height,
marginBottom: SpartaGlobals.bundleIsPC ? 0 : x["default"].dangerZoneSize.height,
paddingLeft: (x["default"].screen.style.width - s) / 2
}, g = null;
return g = this.props.rawNewsContent ? this.props.rawNewsContent : {
$$typeof: u,
type: y["default"],
key: this.props.article.id,
ref: null,
props: e(y["default"].defaultProps, {
article: this.props.article,
routeConfig: n
}),
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ i, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: u,
type: E.Scroller,
key: null,
ref: null,
props: e(E.Scroller.defaultProps, {
children: g,
style: {
width: s,
height: d.scrollHeight
},
controller: !0,
clipMargin: d.clipPadding,
softClip: d.softClip
}),
_owner: null
},
style: h
},
_owner: null
} ],
style: r
},
_owner: null
};
};
var i = n;
return n = a("_$ArticlePopup")(n) || n, n = N.observer(n) || n;
}(c["default"].Component);
t.ArticlePopup = F, F.propTypes = {
article: c["default"].PropTypes.object
};
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return $(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(2), y = r(h), g = n(17), m = l(g), b = n(51), v = l(b), _ = n(136), S = n(61), w = l(S), T = n(14), C = l(T), E = n(12), I = l(E), P = n(66), O = n(7), A = l(O), k = n(160), R = n(6), x = l(R), M = n(8), N = {
_$OfferRecommendationCard: {
displayName: "OfferRecommendationCard"
}
}, $ = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/OfferRecommendationCard.jsx",
components: N,
locals: [],
imports: []
}), D = y.createStyleSheet({
priceTag: {
flexDirection: "row",
justifyContent: "flex-end",
position: "absolute",
top: 0,
right: 3 * -x["default"].GUTTER
},
price: {
marginTop: 4 * x["default"].GUTTER,
padding: SpartaGlobals.bundleIsPC ? [ x["default"].GUTTER, 2 * x["default"].GUTTER, x["default"].GUTTER, 2 * x["default"].GUTTER ] : [ 2 * x["default"].GUTTER, 4 * x["default"].GUTTER, 2 * x["default"].GUTTER, 4 * x["default"].GUTTER ],
backgroundColor: "#00000080"
},
discount: {
opacity: .5,
flexDirection: "column"
}
}), U = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentDidMount = function r() {
w["default"].handleCardDisplayed(this.props.recommendation);
}, t.prototype.getButtons = function l(e) {
var t = this;
if (!e.owned || !SpartaGlobals.bundleIsPC) return new C["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: I["default"].Accept,
blockInputFor: 500,
action: function n() {
return w["default"].handleCardInteraction(t.props.recommendation), "virtualRSP" === e.group ? void m["default"].gotoLocation(e.gameId + "/store/list/rsp") : void v["default"].checkout(e);
}
});
}, t.prototype.render = function u() {
var e = this.props.recommendation, t = e.backgroundUrl, n = e.price || "", r = e.listPrice;
"0.00" === n.replace(/^\D+|\D+$/g, "") && (n = __("ID_SPARTA_COMMERCE_OFFER_FREE").toLocaleUpperCase()), 
"xpacks" !== e.group && "shortcuts" !== e.group || !e.owned || (n = __("ID_SPARTA_COMMERCE_OFFER_OWNED").toLocaleUpperCase());
var a = null;
e.isDiscounted, a = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: k.Strikethrough,
key: null,
ref: null,
props: o(k.Strikethrough.defaultProps, {
value: r,
size: "S"
}),
_owner: null
},
style: D.discount
},
_owner: null
};
var i = e.price && {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: d["default"].createElement("surface", {
style: D.price,
ref: "discount"
}, a, {
$$typeof: c,
type: _.PS4StoreContent,
key: null,
ref: null,
props: o(_.PS4StoreContent.defaultProps, {
children: {
$$typeof: c,
type: A["default"],
key: null,
ref: null,
props: o(A["default"].defaultProps, {
value: n || e.cardTag,
size: SpartaGlobals.bundleIsPC ? "S" : "M"
}),
_owner: null
}
}),
_owner: null
}),
style: D.priceTag
},
_owner: null
}, s = e.displayName.replace("", "");
return d["default"].createElement(P.BasicCard, {
input: this.getButtons(e),
focusItem: this.props.focusItem,
description: s,
background: t,
size: this.props.size,
ref: this.props.refCb || function() {}
}, i);
};
var n = t;
return t = s("_$OfferRecommendationCard")(t) || t, t = M.observer(t) || t;
}(d["default"].Component);
t["default"] = U, U.propTypes = {
focusItem: d["default"].PropTypes.instanceOf(y.focus.FocusItem).isRequired,
recommendation: d["default"].PropTypes.object.isRequired
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return k(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(8), y = n(2), g = n(13), m = s(g), b = n(7), v = s(b), _ = n(6), S = s(_), w = n(76), T = s(w), C = n(9), E = n(218), I = n(158), P = n(59), O = s(P), A = {
_$TunguskaCodexCard: {
displayName: "TunguskaCodexCard"
}
}, k = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaCodexCard.jsx",
components: A,
locals: [],
imports: []
}), R = {
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0
}, x = C.bbOfflineUrl("/sparta/assets/tunguska/career/golden-texture-eae85f40.png"), M = C.bbOfflineUrl("/sparta/jsclient/builds/assets/codex-locked-m-dc2f03d1.png"), N = C.bbOfflineUrl("/sparta/jsclient/builds/assets/codex-locked-2b76a9ee.png"), $ = C.bbOfflineUrl("/sparta/jsclient/builds/assets/card-gradient-inactive-news-1bef4fc7.png"), D = C.bbOfflineUrl("/sparta/jsclient/builds/assets/card-gradient-active-news-abc6b204.png"), U = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = y.focus.create(this, "codecard_" + t.entry.displayName);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.preloader = y.texture.createPreloader(this);
var e = this.props.isInPopup ? [ 15, 15, 15, 15 ] : [ 5, 5, 5, 5 ], t = this.props.isInPopup ? [ 0, 0, 15, 15 ] : [ 0, 0, 5, 5 ], n = S["default"].GUTTER * (this.props.isInPopup ? 4 : 2), r = {
position: "absolute",
bottom: 0,
top: 0,
left: 0,
right: 0,
zOffset: 2,
textureMode: "cover",
borderRadius: e
};
this.styles = {
image: c({}, R, {
zOffset: 1,
textureMode: "cover",
borderRadius: e
}),
info: {
position: "absolute",
bottom: 0,
right: 0,
left: 0,
zOffset: 55,
padding: n
},
goldenText: {
texture2: x,
texture2Mode: "fill",
opacity: 1
},
textCategory: {
opacity: .66,
textAlignForRTL: "left"
},
textName: {
textAlignForRTL: "left"
},
goldenLine: {
position: "absolute",
bottom: -1,
right: 0,
left: 0,
height: this.props.isInPopup ? 16 : 8,
zOffset: 51,
texture2: x,
texture2Mode: "fill",
borderRadius: t
},
progressBar: {
position: "absolute",
bottom: -1,
left: 0,
right: 0,
borderRadius: t,
zOffset: 51
},
lockedBackground: {
texture: M,
opacity: .4
},
lockedBackgroundLarge: {
texture: N,
opacity: .4
},
inactiveOverlay: c({}, r, {
texture: $
}),
activeOverlay: c({}, r, {
texture: D
})
}, this.preloader.preload(D, void 0), this.preloader.preload($, void 0), this.preloader.preload(x, void 0), 
this.isCollected() ? this.preloader.preload(this.props.entry.imageUrl, void 0) : (this.preloader.preload(N, void 0), 
this.preloader.preload(M, void 0));
}, t.prototype.isCollected = function l() {
return this.props.completedOverride || this.props.entry.isCollected;
}, t.prototype.renderGoldenLine = function u() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: this.styles.goldenLine
},
_owner: null
};
}, t.prototype.renderInfo = function f(e) {
var t = e.isCollected || this.props.completedOverride, n = e.category || "", o = e.displayName || "";
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: v["default"],
key: "category",
ref: null,
props: r(v["default"].defaultProps, {
value: n.toUpperCase(),
size: this.props.isInPopup ? "L" : "XXS",
style: c({}, this.styles.textCategory, t ? this.styles.goldenText : {})
}),
_owner: null
}, {
$$typeof: p,
type: v["default"],
key: "name",
ref: null,
props: r(v["default"].defaultProps, {
value: o.toUpperCase(),
size: this.props.isInPopup ? "XL" : "XS",
type: "emphasis",
style: c({}, this.styles.textName, t ? this.styles.goldenText : {})
}),
_owner: null
} ],
style: this.styles.info
},
_owner: null
};
}, t.prototype.renderProgress = function d(e) {
var t = e.criteria || [], n = t.length ? 0 : 1, o = 0;
t.forEach(function(e) {
n += e.progression ? e.progression.valueNeeded : 0, o += e.progression ? e.progression.valueAcquired : 0;
});
var a = this.props.isInPopup ? [ 0, 0, 0, 16 ] : [ 0, 0, 0, 5 ];
return {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
style: this.styles.progressBar,
barColor: "#FF9900",
backgroundColor: "#000000",
height: this.props.isInPopup ? "L" : "M",
borderRadius: a,
completed: 100 * o / n / 100
}),
_owner: null
};
}, t.prototype.render = function g() {
var e = this.props.isInPopup, t = this.props.entry, n = this.props.skipProgress, o = this.focusItem.isFocused, a = this.isCollected(), i = {}, s = c({}, this.styles.inactiveOverlay, {
opacity: m["default"].tweenSwitch(1, 0, o, m["default"].presets.focusables.enter.fast, m["default"].presets.focusables.leave)
}), l = c({}, this.styles.activeOverlay, {
opacity: m["default"].tweenSwitch(0, 1, o, m["default"].presets.focusables.enter.fast, m["default"].presets.focusables.leave)
});
i = a ? {
texture: t.imageUrl
} : e ? this.styles.lockedBackgroundLarge : this.styles.lockedBackground;
var u = c({
width: S["default"].getWidth(E.CARD_WIDTH.cells.S),
height: S["default"].getHeight(E.CARD_HEIGHT.cells.S),
borderRadius: this.styles.image.borderRadius,
enableMouseEvents: !this.props.isInPopup
}, this.props.style);
return {
$$typeof: p,
type: O["default"],
key: null,
ref: null,
props: r(O["default"].defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ this.styles.image, i ]
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: s
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: l
},
_owner: null
}, !a && !n && this.renderProgress(t), this.renderInfo(t), a && t.isGolden && this.renderGoldenLine() ],
style: u,
input: this.props.buttons,
scale: !this.props.isInPopup,
focusItem: this.focusItem
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaCodexCard")(t) || t, t = h.observer(t) || t;
}(d["default"].Component);
t["default"] = U, U.propTypes = {
entry: d["default"].PropTypes.instanceOf(I.CodexEntry).isRequired,
hasNoSideMargin: d["default"].PropTypes.bool
}, U.defaultProps = {
isInPopup: !1
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function a(e) {
s(e, y.MENU);
}
function i(e) {
s(e, y.CODEX);
}
function s(e, t) {
var n = f["default"].getState().navigationState === h["default"].FrontEnd;
e && t && n && p.frostbite.sendMessage("tunguska.playVO", {
voName: e,
category: t
});
}
function l() {
i("vo_stop_all");
}
var u = n(2), p = o(u), c = n(44), f = r(c), d = n(57), h = r(d), y = {
MENU: "MenuVO",
CODEX: "CodexVO"
};
e.exports = {
voCategories: y,
playMenuVO: a,
playCodexVO: i,
stopCodexVO: l,
menuSounds: {
CLASS_UNLOCKED_ASSAULT: "vo_menu_npx_18",
CLASS_UNLOCKED_MEDIC: "vo_menu_npx_19",
CLASS_UNLOCKED_SUPPORT: "vo_menu_npx_20",
CLASS_UNLOCKED_SCOUT: "vo_menu_npx_21",
CLASS_UNLOCKED_TANKER: "vo_menu_npx_22",
CLASS_UNLOCKED_PILOT: "vo_menu_npx_23",
BATTLEPACK_YOU_HAVE_UNOPENED_BATTLEPACKS: "vo_sparta_recurring_01",
BATTLEPACK_RECEIVED_FIRST_BATTLEPACK: "vo_sparta_npx_02",
BATTLEPACK_RECEIVED_BATTLEPACK: "vo_sparta_recurring_03",
BATTLEPACK_RECEIVED_LEGENDARY_ITEM: "vo_sparta_recurring_04",
BATTLEPACK_REVEIVED_DISTINGUISHED_ITEM: "vo_sparta_recurring_05",
BATTLEPACK_YOU_CAN_NOW_RECEIVE_SUPERIOR_BATTLEBACK: "vo_sparta_recurring_06",
BATTLEPACK_YOU_CAN_NOW_RECEIVE_ENHANCHED_BATTLEBACK: "vo_sparta_recurring_07",
BATTLEPACK_RECEIVED_SPECIAL_ITEM: "vo_sparta_recurring_08",
EOR_YOU_HAVE_RANKED_UP: "vo_sparta_recurring_09",
EOR_YOU_RECEIVED_MEDAL: "vo_sparta_recurring_10",
EOR_SQUAD_DOMINATED_THE_BATTLE: "vo_sparta_recurring_11",
EOR_WELL_PLAYED_MAJOR_CONTRIBUTION: "vo_sparta_recurring_12",
EOR_FRIEND_PLAYED_A_BIG_ROLE_IN_BATTLE: "vo_sparta_recurring_13",
MENU_SECTION_NPX_CODEX_EXPLANATION: "vo_sparta_npx_59",
MENU_SECTION_NPX_CREATE_PARTY_OR_JOIN_FRIENDS_ON_THE_BATTLEFIELD: "vo_sparta_npx_14",
MENU_SECTION_NPX_BROWSE_THE_BATTLEFIELD_TITLES: "vo_sparta_npx_15",
MENU_SECTION_NPX_SOLDIER: "vo_sparta_npx_46",
GREETINGS_WELCOME_TO_THE_BATTLEFIELD: "vo_sparta_npx_16",
GREETINGS_GOOD_MORNING_SOLDIER: "vo_sparta_recurring_17",
GREETINGS_GOOD_AFTERNOON_SOLDIER: "vo_sparta_recurring_18",
GREETINGS_GOOD_EVENING_SOLDIER: "vo_sparta_recurring_19",
GREETINGS_THESE_ARE_YOUR_PERSONALIZED_SHORTCUTS: "vo_sparta_npx_20",
GREETINGS_WHAT_AN_ELITE_TIME_FOR_SOME_BATTLEFIELD: "vo_sparta_recurring_21",
SPLASH_WELCOME_TO_THE_BATTLEFIELD_PREPARING_YOUR_EXPERIENCE: "vo_sparta_recurring_54",
SPLASH_WELCOME_BACK_TO_YOUR_BATTLEFIELD_SOLDIER: "vo_sparta_recurring_55",
SPLASH_WELCOME_BACK_SOLDIER: "vo_sparta_recurring_56",
CALLOUTS_ARE_YOU_AWAKE_SOLDIER: "vo_sparta_recurring_22",
CALLOUTS_REPORT_IN_SOLDIER: "vo_sparta_recurring_23",
CALLOUTS_HEEEELLLLOOOOOO: "vo_sparta_recurring_24",
CALLOUTS_IMPRESSIVE_STAMINA_SOLDIER: "vo_sparta_recurring_25",
CALLOUTS_MAKE_UP_YOUR_MIND_SOLDIER: "vo_sparta_recurring_26",
LOADING_PICK_A_WEEKLY_MEDAL_TO_TRACK: "vo_sparta_npx_27",
LOADING_PICK_A_WEEKLY_ASSIGNMENT_TO_TRACK: "vo_sparta_npx_28",
MP_NPX_FIND_NEW_BF1_EXPERIENCES_OR_CREATE_CUSTOM_GAMES: "vo_sparta_npx_29",
MP_NPX_QUICKMATCH_SECTION: "vo_sparta_npx_30",
MP_NPX_EXPERIENCE_SECTION: "vo_sparta_npx_31",
MP_NPX_OPERATIONS_SECTION: "vo_sparta_npx_32",
MP_NPX_CUSTOM_GAMES_SECTION: "vo_sparta_npx_33",
MP_NPX_SERVER_BROWSER_SECTION: "vo_sparta_npx_34",
MP_NPX_SERVERBROWSER_FILTER: "vo_sparta_npx_38",
MP_MATCHMAKING_IN_PROGRESS: "vo_sparta_recurring_35",
MP_MATCHMAKING_COMPLETED: "vo_sparta_recurring_36",
MP_SERVERBROWSER_NO_SERVERS_FOUND: "vo_sparta_recurring_37",
EVENTS_NEW_COMMUNITY_MISSION_HAS_STARTED: "vo_sparta_recurring_40",
EVENTS_COMMUNITY_MISSION_COMPLETED: "vo_sparta_recurring_41",
EVENTS_NEW_WEEKLY_ASSIGNMENT_AVAILABLE: "vo_sparta_recurring_42",
EVENTS_DOUBLE_EXPERIENCE_WEEKEND_ONGOING: "vo_sparta_recurring_49",
FEATURE_NPX_CUSTOM_GAMES_UNLOCKED: "vo_sparta_recurring_43",
FEATURE_NPX_OPERATIONS_UNLOCKED: "vo_sparta_recurring_44",
FEATURE_NPX_CUSTOMIZATION: "vo_sparta_recurring_45",
SOCIAL_YOU_HAVE_FRIENDS_PLAYING: "vo_sparta_recurring_50",
SOCIAL_YOU_HAVE_UNREAD_NOTIFICATIONS: "vo_sparta_recurring_51",
SOCIAL_YOU_RECEIVED_A_PARTY_INVITE: "vo_sparta_recurring_52",
SOCIAL_PLATOON_MEMBERS_ARE_PLAYING: "vo_sparta_recurring_53",
VETERAN_VETERAN_PROGRAM_NPX: "vo_sparta_npx_57",
VETERAN_VETERAN_LEVEL_HAS_BEEN_UPGRADED: "vo_sparta_npx_58",
GAME_MODE_UNLOCKED_CONQUEST: "vo_sparta_recurring_60",
GAME_MODE_UNLOCKED_DOMINATION: "vo_sparta_recurring_61",
GAME_MODE_UNLOCKED_TEAM_DEATHMATCH: "vo_sparta_recurring_62",
GAME_MODE_UNLOCKED_PIGEON_CARRIER: "vo_sparta_recurring_63",
GAME_MODE_UNLOCKED_AIRSHIP_RAID: "vo_sparta_recurring_64",
GAME_MODE_UNLOCKED_RUSH: "vo_sparta_recurring_65",
SQUAD_SELECT_SQUAD_TO_JOIN: "vo_menu_npx_01",
SQUAD_YOU_BECAME_SQUADLEADER: "vo_menu_recurring_03",
SQUAD_PROMOTED_TO_SQUADLEADER: "vo_menu_recurring_04",
SQUAD_CREATED: "vo_menu_recurring_05",
IN_GAME_NPX_SCREEN_INFO_CLASS_SELECTION: "vo_menu_npx_08",
IN_GAME_NPX_SCREEN_INFO_SQUAD_SELECTION: "vo_menu_npx_02",
IN_GAME_NPX_SCREEN_INFO_LOADOUT_CUSTOMIZATION: "vo_menu_npx_10",
IN_GAME_NPX_SCREEN_INFO_VEHICLE_CUSTOMIZATION: "vo_menu_npx_17",
IN_GAME_NPX_SCREEN_INFO_ADJUST_SOUND: "vo_menu_npx_26",
IN_GAME_USE_SELECTION_TO_CHOOSE_VEHICLE_DEPLOY_TYPE: "vo_menu_npx_06",
IN_GAME_SELECT_YOUR_DEPLOY_POINT_TO_JOIN_BATTLE: "vo_menu_npx_07",
IN_GAME_DEPLOYMENT_FAILED: "vo_menu_recurring_09",
IN_GAME_SPAWN_ON_SQUAD_OR_OBJECTIVE_INFO: "vo_menu_npx_25",
IN_GAME_NPX_MODIFY_WEAPON_INFO: "vo_menu_npx_11",
IN_GAME_NPX_WEAPON_NEEDS_TO_BE_DEPLOYED_TO_GROUND: "vo_menu_npx_28",
IN_GAME_NPX_EXTRA_LOADOUT_SLOT_UNLOCKED: "vo_menu_npx_24",
IN_GAME_RANK_NOT_HIGH_ENOUGH_RANK_TO_ACCESS_ITEM: "vo_menu_npx_15",
IN_GAME_MOTHER_TURN_OF_MOTHER_VOICE_INFO: "vo_menu_npx_27",
IN_GAME_NPX_ITEM_FIRST_ITEM_UNLOCKED: "vo_menu_npx_16",
WARBONDS_FIRST_EARNED_INFO: "vo_menu_npx_12",
WARBONDS_NPX_INFO: "vo_menu_npx_13",
WARBONDS_INSUFFICIENT_WARBONDS_TO_UNLOCK: "vo_menu_npx_14",
TRACKED_MEDAL_COMPLETED: "vo_sparta_npx_47",
NEW_WEEKLY_MEDALS_AVAILABLE: "vo_sparta_recurring_48",
YOU_ARE_CLOSE_TO_RANKING_UP: "vo_sparta_recurring_39"
}
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
t.__esModule = !0;
var i = n(43), s = r(i), l = n(10), u = n(36), p = r(u), c = n(41), f = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, []), p["default"].setTrackableMedals.listen(function(e) {
n.setState(e);
});
var r = l.autorun(function() {
c.onlineState.hasGatewaySession && 0 === n.getState().length && (p["default"].getTrackableMedals(), 
r());
});
}
return a(t, e), t;
}(s["default"]);
t["default"] = new f(), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
for (var t in e) {
var n = e[t];
if (n.isTracked) return n;
}
}
t.__esModule = !0;
var s = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, l = n(4), u = r(l), p = n(43), c = r(p), f = n(290), d = r(f), h = n(36), y = r(h), g = n(456), m = r(g), b = n(11), v = function(e) {
function t() {
var n = this;
o(this, t), e.call(this, i(d["default"].getState())), d["default"].listen(function(e) {
n.setState(i(e));
}), y["default"].setTrackedMedal.listen(function(e) {
var t = d["default"].getState(), r = t.reduce(function(e, t) {
return e[t.id] = t, e;
}, {}), o = n.getState();
o && (r[o.id] = new m["default"](s({}, o, {
isTracked: !1
}))), r[e.id] = new m["default"](s({}, e, {
isTracked: !0
}));
var a = u["default"].values(r);
y["default"].setTrackableMedals(a);
});
}
return a(t, e), t.prototype.getTimeToNextReset = function n() {
var e = 210866803200, t = 604800, n = b.settingsStore.getServerAdjustedTimestamp() + e, r = Math.floor(n / t) * t;
return r + t - n;
}, t;
}(c["default"]);
t["default"] = new v(), e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o(e) {
n(this, o), this.category = e.category, this.description = e.description, this.images = e.images || {}, 
this.itemType = (e.itemType || "").toUpperCase(), this.key = e.key, this.name = e.name, 
this.nugget = e.nugget, this.parentKey = e.key.replace("_v", ""), this.parentName = e.parentName, 
this.quantity = parseInt(e.quantity, 10), this.rarenessLevel = e.rarenessLevel, 
this.scrapValue = parseInt(e.scrapValue, 10);
};
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return h(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), c = i(p), f = n(2), d = {
_$BoundedZone: {
displayName: "BoundedZone"
}
}, h = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/BoundedZone.jsx",
components: d,
locals: [],
imports: []
}), y = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.componentDidUpdateBounds = function i() {
this.props.onBoundsChanged && this.props.onBoundsChanged(this.bounds);
}, t.prototype.render = function s() {
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: this.props.style
},
_owner: null
};
};
var n = t;
return t = a("_$BoundedZone")(t) || t, t = f.hasSurfaceBounds()(t) || t;
}(c["default"].Component);
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return B(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(20), y = s(h), g = n(14), m = s(g), b = n(12), v = s(b), _ = n(88), S = s(_), w = n(23), T = s(w), C = n(7), E = s(C), I = n(2), P = e(I), O = n(10), A = n(6), k = s(A), R = n(58), x = s(R), M = n(38), N = s(M), $ = n(41), D = n(8), U = n(26), L = s(U), F = n(120), G = n(170), j = {
_$ConnectionState: {
displayName: "ConnectionState"
}
}, B = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/ConnectionState.jsx",
components: j,
locals: [],
imports: []
}), H = SpartaGlobals.bundleIsXBOXONE, V = P.createStyleSheet({
container: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 10,
justifyContent: "center",
alignItems: "center"
},
content: {
flexDirection: "column",
alignItems: "center"
},
box: {
maxWidth: k["default"].getWidth(25),
justifyContent: "center",
alignItems: "center"
},
title: {
marginBottom: k["default"].getHeight(2)
},
description: {
opacity: .5,
textAlign: "center",
textAlignForRTL: "center",
width: k["default"].getWidth(18),
marginBottom: k["default"].getHeight(2)
}
}), z = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidMount = function s() {
var e = this;
this.dispose = O.autorun(function() {
e.onOnlineStateChanged($.onlineState.canGoOnline, $.onlineState.canChangeUser);
});
}, t.prototype.componentWillUnmount = function l() {
this.dispose();
}, t.prototype.getMessage = function u(e) {
if (e.isOnlineBlazeAndGateway) return {
title: "",
description: ""
};
if (e.isConnecting) return {
title: __("ID_SPARTA_ONLINE_PRESENCE_CONNECTING"),
description: e.presenceState.customMessage
};
if (e.isPresenceReady) return {
title: __("ID_SPARTA_ONLINE_GATEWAY_NOT_LOGGED_IN"),
description: __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED") + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO") + " (2000)"
};
var t = e.presenceState, n = "", r = "";
switch (t.hasInternet ? (n = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED") + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO") + " (1000)") : (n = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED") + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO") + " (1001)"), 
t.resultType) {
case F.ConnectionResultType.duplicateLogin:
n = __("ID_SPARTA_ONLINE_PRESENCE_ALREADY_IN_USE"), r = __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case F.ConnectionResultType.loginCancelled:
n = __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_ONLINE_PRESENCE_LOGIN_CANCELLED_XB1" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_ONLINE_PRESENCE_LOGIN_CANCELLED_PS4" : "ID_SPARTA_ONLINE_PRESENCE_LOGIN_CANCELLED_PC"), 
r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_UNAVAILABLE"), r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case F.ConnectionResultType.invalidUser:
case F.ConnectionResultType.accountBanned:
case F.ConnectionResultType.missingOnlineAccess:
n = __("ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS"), r = __("ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS_DESC"), 
r += __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS_XBLIVE" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS_PSNETWORK" : "ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case F.ConnectionResultType.noMultiplayerPrivilege:
n = __("ID_SPARTA_ONLINE_PRESENCE_MISSING_PRIVILEGES"), r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO"), SpartaGlobals.bundleIsPS4 && (r = __("ID_SPARTA_ONLINE_PRESENCE_MISSING_PS_PLUS"));
break;

case F.ConnectionResultType.originOffline:
n = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_OFFLINE"), r = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_OFFLINE_DESC");
break;

case F.ConnectionResultType.originStartupFailed:
n = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_FAILED"), r = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_FAILED_DESC");
break;

case F.ConnectionResultType.originMandatoryUpdate:
n = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_UPDATE"), r = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_UPDATE_DESC"), 
r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case F.ConnectionResultType.originNotLoggedIn:
n = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_NOT_LOGGED_IN"), r = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_NOT_LOGGED_IN_DESC"), 
r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case F.ConnectionResultType.psuLimitExceeded:
n = __("ID_SPARTA_ONLINE_PRESENCE_PSU_LIMIT_EXCEEDED"), r = __("ID_SPARTA_ONLINE_PRESENCE_PSU_LIMIT_EXCEEDED_DESC");
break;

case F.ConnectionResultType.requiredUpdateExists:
n = __("ID_SPARTA_ONLINE_PRESENCE_REQUIRED_UPDATE"), r = __("ID_SPARTA_ONLINE_PRESENCE_REQUIRED_UPDATE_DESC"), 
r += "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case F.ConnectionResultType.authCodeFailed:
case F.ConnectionResultType.networkError:
case F.ConnectionResultType.serverConfiguration:
case F.ConnectionResultType.systemError:
case F.ConnectionResultType.failure:
n = __("ID_SPARTA_ONLINE_PRESENCE_FAILED_EA_ONLINE"), r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case F.ConnectionResultType.connectionFailed:
case F.ConnectionResultType.networkDisconnect:
case F.ConnectionResultType.serverDisconnect:
case F.ConnectionResultType.serverNotFound:
case F.ConnectionResultType.timeout:
n = __("ID_SPARTA_ONLINE_PRESENCE_LOST_EA_CONNECTION"), r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case F.ConnectionResultType.tooYoung:
case F.ConnectionResultType.tooYoungForContent:
n = __("ID_SPARTA_ONLINE_PRESENCE_ACCESS_DENIED"), r = __("ID_SPARTA_ONLINE_PRESENCE_ACCESS_DENIED_DESC");
break;

case F.ConnectionResultType.userLost:
n = __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_ONLINE_PRESENCE_SIGNIN_CHANGE" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_ONLINE_PRESENCE_LOST_PSN_CONNECTION" : "ID_SPARTA_ONLINE_PRESENCE_LOST_USER"), 
r = "";
break;

case F.ConnectionResultType.noService:
n = __("ID_SPARTA_ONLINE_PRESENCE_NO_SERVICE"), r = __("ID_SPARTA_ONLINE_PRESENCE_NO_SERVICE_DESC"), 
r += __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
}
return {
title: n,
description: r
};
}, t.prototype.getConnectAction = function f() {
return {
action: $.onlineState.isPresenceReady ? L["default"].connect : S["default"].connect,
label: __($.onlineState.goOnlineIsRetry ? "ID_SPARTA_ONLINE_PRESENCE_TRY_AGAIN" : "ID_SPARTA_ONLINE_PRESENCE_GO_ONLINE")
};
}, t.prototype.getChangeUserAction = function d() {
return {
action: N["default"].showLocalUserSelectionUI,
label: __("ID_SPARTA_MENU_CHANGE_PROFILE")
};
}, t.prototype.getInput = function h() {
var e = [];
return $.onlineState.canGoOnline && e.push(new m["default"](c({
key: v["default"].Option1
}, this.getConnectAction()))), H && $.onlineState.canChangeUser && e.push(new m["default"](c({
key: v["default"].Option2
}, this.getChangeUserAction()))), e;
}, t.prototype.getConnectButton = function g() {
var e = this.getConnectAction();
return {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
text: e.label,
style: {
width: k["default"].getWidth(4)
},
action: e.action
}),
_owner: null
};
}, t.prototype.onOnlineStateChanged = function b() {
this.updateInput();
}, t.prototype.render = function _() {
var e = SpartaGlobals.bundleIsPC && $.onlineState.canGoOnline ? this.getConnectButton() : null, t = this.getMessage($.onlineState), n = $.onlineState.isConnecting && !G.isVisibleStore.getState() && {
$$typeof: p,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
size: 50,
style: {
marginBottom: 3 * k["default"].GUTTER
}
}),
_owner: null
}, o = c({}, V.box), a = c({}, V.content), i = c({}, V.title), s = c({}, V.description);
this.props.width && (o.width = this.props.width, i.width = this.props.width, s.width = this.props.width);
var l = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ n, {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
value: t.title.toUpperCase(),
type: "normal",
size: "L",
style: i
}),
_owner: null
} ],
style: a
},
_owner: null
}, {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
value: t.description,
type: "normal",
size: "S",
style: s
}),
_owner: null
}, e ],
style: o
},
_owner: null
}, u = SpartaGlobals.bundleIsPC ? {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: l,
style: V.container
},
_owner: null
} : {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: l,
style: V.container
},
_owner: null
};
return u;
};
var n = t;
return t = i("_$ConnectionState")(t) || t, t = y["default"]()(t) || t, t = D.observer(t) || t;
}(d["default"].Component);
t.ConnectionState = z;
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return m(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = e / 60 / 60 / 1e3;
if (t > 24) {
var n = Math.round(t / 24), r = __(1 === n ? "ID_SPARTA_DATETIME_DAY" : "ID_SPARTA_DATETIME_DAYS");
return n + " " + r;
}
var o = Math.floor(t), a = t - o, i = 60 * a, s = Math.floor(i);
a = i - s;
var l = 60 * a, u = Math.floor(l);
return 10 > s && (s = "0" + s), 10 > u && (u = "0" + u), o + ":" + s + ":" + u;
}
var u = n(3), p = s(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(7), y = s(h), g = {
_$Countdown: {
displayName: "Countdown"
}
}, m = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Countdown.jsx",
components: g,
locals: [],
imports: []
}), b = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
currentTime: new Date().getTime()
};
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this;
this.intervalId = setInterval(function() {
return e.setState({
currentTime: new Date().getTime()
});
}, 1e3);
}, t.prototype.componentWillUnmount = function l() {
clearInterval(this.intervalId), delete this.intervalId;
}, t.prototype.render = function u() {
var e = this.props, t = e.format, n = e.targetTime, o = e.timeDelta, a = e.doneText, i = r(e, [ "format", "targetTime", "timeDelta", "doneText" ]);
void 0 === o ? o = n - this.state.currentTime : "function" == typeof o && (o = o());
var s = o > 0 || !a ? t(o) : a;
return d["default"].createElement(y["default"], c({
value: s
}, i));
};
var n = t;
return t = i("_$Countdown")(t) || t;
}(d["default"].Component);
t["default"] = b, b.propTypes = {
format: d["default"].PropTypes.func.isRequired,
targetTime: d["default"].PropTypes.number.isRequired,
doneText: d["default"].PropTypes.string
}, b.defaultProps = {
format: l
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return h(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), f = i(c), d = {
_$Divider: {
displayName: "Divider"
}
}, h = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Divider.jsx",
components: d,
locals: [],
imports: []
}), y = {
height: 1,
backgroundColor: "#ffffff1A",
marginTop: 0,
marginBottom: 0
}, g = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = {};
this.props.hasOwnProperty("spacing") && (e = {
marginTop: this.props.spacing,
marginBottom: this.props.spacing
});
var t = p({}, y, this.props.style, e);
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
};
};
var n = t;
return t = a("_$Divider")(t) || t;
}(f["default"].Component);
t["default"] = g, g.propTypes = {
spacing: f["default"].PropTypes.number
}, e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = {
XXL: 46,
XL: 33,
L: 28,
M: 22,
S: 16,
XS: 13,
XXS: 13
}, o = {
XXL: 55,
XL: 42,
L: 33,
M: 27,
S: 22,
XS: 18,
XXS: 16
}, a = SpartaGlobals.bundleIsPC ? r : o;
t.ELLIPSIS_OFFSET = a;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return b(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(7), h = s(d), y = n(267), g = s(y), m = {
_$InstallState: {
displayName: "InstallState"
}
}, b = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/InstallState.jsx",
components: m,
locals: [],
imports: []
}), v = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
justifyContent: "center",
alignItems: "center"
}, _ = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = Math.round(100 * this.props.state.progress), t = "";
return e >= 0 && (t = __("ID_SPARTA_INSTALL_INSTALLING_STATUS"), this.props.state.isInstalling || (t = __("ID_SPARTA_INSTALL_INSTALLING_STATUS_PAUSED")), 
t = t.replace("[[percentage]]", e)), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
value: this.props.text,
type: "normal",
size: "L"
}),
_owner: null
}, {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
value: t,
type: "normal",
size: "S"
}),
_owner: null
} ],
style: [ v, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = i("_$InstallState")(t) || t;
}(f["default"].Component);
t["default"] = _, _.propTypes = {
text: f["default"].PropTypes.string.isRequired,
state: f["default"].PropTypes.instanceOf(g["default"]).isRequired
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return w(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u), c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(2), g = r(y), m = n(13), b = l(m), v = n(7), _ = l(v), S = {
_$LabeledIcon: {
displayName: "LabeledIcon"
}
}, w = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/LabeledIcon.jsx",
components: S,
locals: [],
imports: []
}), T = g.createStyleSheet({
container: {
alignItems: "center",
justifyContent: "flex-start",
flexDirection: "row"
}
}), C = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.tweens = {
container: {
opacity: b["default"].tween("91fd6d18:23", 1)
},
icon: {
translateX: b["default"].tween("91fd6d18:24", 0)
},
label: {
translateX: b["default"].tween("91fd6d18:25", 0)
}
}, this.tweenStyles = y.Tween.getStyles(this.tweens);
}
i(t, e), t.prototype.componentWillUnmount = function r() {
this.tweens.container.opacity.destroy(), this.tweens.icon.translateX.destroy(), 
this.tweens.label.translateX.destroy();
}, t.prototype.separate = function l(e, t) {
this.tweens.container.opacity.transition(1, 0, e);
var n = "left" === this.props.align ? this.tweens.icon : this.tweens.label, r = "left" === this.props.align ? this.tweens.label : this.tweens.icon;
n.translateX.transition(0, -100, e), r.translateX.transition(0, 100, e, t);
}, t.prototype.join = function u(e) {
this.tweens.container.opacity.to(1, e), this.tweens.icon.translateX.to(0, e), this.tweens.label.translateX.to(0, e);
}, t.prototype.render = function p() {
var e = (void 0 !== this.props.width ? this.props.width : this.props.height) || 0, t = (void 0 !== this.props.height ? this.props.height : this.props.width) || 0, n = void 0 !== this.props.space ? this.props.space : e / 2, r = this.props.icon;
"string" == typeof r && (r = {
$$typeof: f,
type: "surface",
key: "iconelement",
ref: null,
props: {
style: {
texture: this.props.icon,
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
width: e,
height: t,
grayScale: this.props.isDisabled ? 1 : 0
}
},
_owner: null
});
var a;
a = this.props.iconSpace ? 2 * this.props.iconSpace + n : "left" === this.props.align ? n : 0;
var i = this.props.iconSpace || ("right" === this.props.align ? n : 0), s = {
$$typeof: f,
type: "surface",
key: "icon",
ref: null,
props: {
children: r,
style: [ this.tweenStyles.icon, {
height: t,
width: e,
marginRight: a,
marginLeft: i
} ]
},
_owner: null
}, l = {
$$typeof: f,
type: "surface",
key: "label",
ref: null,
props: {
children: "string" == typeof this.props.label ? {
$$typeof: f,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: this.props.label
}),
_owner: null
} : this.props.label,
"static": !0,
style: this.tweenStyles.label
},
_owner: null
}, u = "left" === this.props.align ? [ s, l ] : [ l, s ], p = c({}, this.tweenStyles.container, T.container, this.props.style), d = this.props.labelDecoration;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ u, d ],
style: p,
onClick: this.props.onClick
},
_owner: null
};
};
var n = t;
return t = s("_$LabeledIcon")(t) || t;
}(h["default"].Component);
C.defaultProps = {
align: "left"
}, C.propTypes = {
height: h["default"].PropTypes.number,
width: h["default"].PropTypes.number,
space: h["default"].PropTypes.number,
label: h["default"].PropTypes.node,
align: h["default"].PropTypes.oneOf([ "left", "right" ]),
iconSpace: h["default"].PropTypes.number
}, e.exports = C;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
var t = "unknown";
return e >= 0 && 50 > e ? t = "best" : e >= 50 && 100 > e ? t = "good" : e >= 100 && 170 > e ? t = "ok" : e >= 170 && 220 > e ? t = "bad" : e >= 220 && (t = "worst"), 
t;
}
t.__esModule = !0;
var i = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, s = n(1), l = r(s), u = n(4), p = r(u), c = n(7), f = r(c), d = n(127), h = r(d), y = n(8), g = n(347), m = n(9), b = {
"bad-dark": m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-bad-dark-70bffc72.png"),
bad: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-bad-44eb0603.png"),
best: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-best-541aba08.png"),
"ok-dark": m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-ok-dark-cf767f8d.png"),
ok: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-ok-dark-cf767f8d.png"),
"good-dark": m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-good-dark-cae1727b.png"),
good: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-good-8bf696ce.png"),
"unknown-dark": m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-unknown-dark-e1371818.png"),
unknown: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-unknown-1f157eef.png"),
"worst-dark": m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-worst-dark-9788a96a.png"),
worst: m.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-worst-8132a91f.png")
}, v = [ "unknown", "best", "good", "ok", "bad", "worst" ], _ = p["default"].object(v.map(function(e, t) {
return [ e, b[e] ];
})), S = p["default"].object(v.map(function(e, t) {
return "best" === e ? [ e, _.best ] : [ e, b[e + "-dark"] ];
})), w = {
normal: _,
dark: S
}, T = y.observer(function(e) {
function t() {
var t = a(s), n = e.dark ? w.dark : w.normal;
return n[t] || console.warn("could not find texture:", t, n), {
$$typeof: i,
type: h["default"],
key: null,
ref: null,
props: o(h["default"].defaultProps, {
image: n[t],
size: "S",
style: r.pingIcon
}),
_owner: null
};
}
function n() {
return SpartaGlobals.bundleIsPC ? {
$$typeof: i,
type: f["default"],
key: null,
ref: null,
props: o(f["default"].defaultProps, {
style: [ r.pingText, e.textStyle ],
type: e.fontType,
size: "XS",
value: s >= 0 ? "" + s : "-"
}),
_owner: null
} : null;
}
var r = {
pingText: {
alignSelf: "center"
},
pingIcon: {
zOffset: 1,
marginRight: 10
}
}, s = -1;
return e.ping ? s = e.ping : e.ip && g.pingResults.has(e.ip) && (s = g.pingResults.get(e.ip)), 
{
$$typeof: i,
type: "surface",
key: null,
ref: null,
props: {
children: [ t(), n() ],
style: e.style
},
_owner: null
};
});
T.propTypes = {
style: l["default"].PropTypes.object,
fontType: l["default"].PropTypes.string,
textStyle: l["default"].PropTypes.object,
ping: l["default"].PropTypes.number
}, T.defaultProps = {
style: {},
fontType: "",
textStyle: {},
ping: -1
}, t["default"] = T, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function t(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return U(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l), p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(4), y = s(h), g = n(2), m = t(g), b = n(130), v = s(b), _ = n(13), S = s(_), w = n(794), T = s(w), C = n(16), E = s(C), I = n(53), P = s(I), O = n(28), A = s(O), k = n(9), R = n(7), x = s(R), M = n(6), N = t(M), $ = n(8), D = {
_$RankBadge: {
displayName: "RankBadge"
}
}, U = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Soldier/RankBadge.jsx",
components: D,
locals: [],
imports: []
}), L = {
initialState: "from",
values: {
scaleX: {
from: .3,
to: .7
},
scaleY: {
from: .3,
to: .7
},
opacity: {
from: 0,
to: 1
}
},
options: y["default"].extend({}, S["default"].defaultTweenOptions, {
easing: "cubicOut",
duration: 250
})
}, F = {
initialState: "from",
values: {
scaleX: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: y["default"].extend({}, S["default"].defaultTweenOptions, {
easing: "cubicOut",
duration: 250
})
}, G = {
initialState: "from",
values: {
opacity: {
from: 0,
to: .5
}
},
options: y["default"].extend({}, S["default"].defaultTweenOptions, {
easing: "linear",
duration: 375
})
}, j = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.componentDidMount = function s() {
this.componentDidUpdate(this.props, this.state);
}, t.prototype.shouldComponentUpdate = function l(e, t) {
return (this.props.gameId !== e.gameId || this.state.career.gameStats !== t.career.gameStats || this.state.isVisible !== t.isVisible) && t.isVisible === !0;
}, t.prototype.componentDidUpdate = function u(e, t) {
var n = this;
this.props.noAnimation ? (this.refs.flare && this.refs.flare.rewind(0), this.refs.progress && this.refs.progress.rewind(0)) : (this.play(300), 
setTimeout(function() {
n.refs && n.refs.rankBadgeRadial && m.Native.playSpriteAnimation(n.refs.rankBadgeRadial.getSurfaceId(), !0);
}, 400), setTimeout(function() {
n.refs && n.refs.progress && (n.refs.progress.play(), n.refs.progress.rewind(G.options.duration + 100));
}, 940));
}, t.prototype.getLeftInfo = function f() {
var e = this.props.gameId || "generic", t = this.state.career.gameStats[this.props.gameId], n = t && t.rank.number || 0, o = SpartaGlobals.bundleIsPC ? 2 * -N.GUTTER : -N.GUTTER, a = {
alignItems: "flex-end",
justifyContent: "center",
height: this.props.badgeSize,
marginRight: o
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_RANK").toUpperCase() + " " + n,
size: "S",
section: e
}),
_owner: null
},
style: a
},
_owner: null
};
}, t.prototype.getRightInfo = function h() {
var e = this.props.gameId || "generic", t = this.state.career.gameStats[this.props.gameId], n = t && t.rank.number || 0, o = SpartaGlobals.bundleIsPC ? 2 * -N.GUTTER : -N.GUTTER, a = {
alignItems: "flex-start",
justifyContent: "center",
height: this.props.badgeSize,
marginLeft: o
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_RANK").toUpperCase() + " " + n,
size: "S",
section: e
}),
_owner: null
},
style: a
},
_owner: null
};
}, t.prototype.getBottomInfo = function y() {
var e = this.props.gameId || "generic", t = this.state.career.gameStats[this.props.gameId], n = t && t.rank.number || 0, o = {
scale: this.props.bottomInfoScale,
marginTop: 4 * this.props.barSize,
alignSelf: "center",
textAlign: "center",
padding: [ 0, N.GUTTER, 0, N.GUTTER ],
texture: k.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
width: 7 * N.GUTTER,
textureBorder: [ 2, 2, 2, 2 ]
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
value: "" + n,
size: "S",
section: e,
style: {
alignSelf: "center"
}
}),
_owner: null
},
style: o
},
_owner: null
};
}, t.prototype.play = function b(e) {
this.refs.animation && this.refs.animation.play(e), this.refs.flare && (this.refs.flare.play(e + 400), 
this.refs.flare.rewind(e + L.options.duration + 400));
}, t.prototype.render = function _() {
var e = this.state.career && this.state.career.gameStats[this.props.gameId];
if (!e) return null;
var t = e && e.rank.imageUrl || k.bbOfflineUrl("/sparta/jsclient/builds/assets/blank-69d0497e.png"), n = k.bbOfflineUrl("/sparta/jsclient/builds/assets/rankbadge_flare-d34b0fcb.png"), o = k.bbOfflineUrl("/sparta/jsclient/builds/assets/rankbadge_glow-4add5478.png"), a = e && e.rank && e.rank.progress || {}, i = a.percentage || 0, s = L;
this.props.rankIconScaling && (s = Object.assign({}, L, {
values: {
scaleX: this.props.rankIconScaling,
scaleY: this.props.rankIconScaling
}
})), s.initialState = this.props.skipAnimation ? "to" : "from", F.initialState = this.props.skipAnimation ? "to" : "from", 
G.initialState = this.props.skipAnimation ? "to" : "from";
var l = {
width: this.props.badgeSize,
height: this.props.badgeSize
}, u = p({
textureMode: "contain"
}, l), f = {
position: "absolute",
width: this.props.badgeSize + 3 * this.props.barSize,
height: this.props.badgeSize + 3 * this.props.barSize,
left: 1.5 * -this.props.barSize,
top: 1.5 * -this.props.barSize
}, h = {
position: "absolute",
width: this.props.badgeSize + 5 * this.props.barSize,
height: this.props.badgeSize + 5 * this.props.barSize,
left: 2.5 * -this.props.barSize,
top: 2.5 * -this.props.barSize
}, y = p({}, h, {
scaleX: 1.6,
scaleY: 1.6
}), m = p({
zOffset: 50
}, y, {
spriteAnimation: {
spriteSheet: k.bbOfflineUrl("/sparta/jsclient/builds/assets/rankbadge_radial-54c5be99.png"),
fps: 60,
frameWidth: 155,
frameHeight: 155,
totalFrames: 60,
looping: !1
}
}), b = {
flexDirection: "row"
};
"left" === this.props.align && (b = p({}, b, {
marginLeft: -this.props.badgeSize * (SpartaGlobals.bundleIsPC ? .35 : .5)
}));
var v = {
texture: t,
textureAtlas: "SpartaCommonAtlas",
zOffset: 2
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ "left" === this.props.align && this.getLeftInfo(), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ d["default"].createElement(g.AnimatedSurface, {
ref: "animation",
animation: s,
style: [ u, v ]
}), d["default"].createElement(g.AnimatedSurface, {
ref: "flare",
animation: F,
style: [ h, {
texture: n,
textureAtlas: "SpartaCommonAtlas",
zOffset: 1
} ]
}), d["default"].createElement(g.AnimatedSurface, {
ref: "progress",
animation: G,
style: [ y, {
texture: o,
textureAtlas: "SpartaCommonAtlas"
} ]
}), d["default"].createElement("surface", {
style: m,
ref: "rankBadgeRadial"
}), {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
progress: i,
progressColor: "#ff9900ff",
bgColor: "#33333333",
size: this.props.barSize,
style: f
}),
_owner: null
}, "bottom" === this.props.align && this.getBottomInfo() ],
style: [ l, this.props.badgeStyle ]
},
_owner: null
}, "right" === this.props.align && this.getRightInfo() ],
onClick: this.props.onClick,
style: p({}, b, this.props.style)
},
_owner: null
};
};
var n = t;
return t = i("_$RankBadge")(t) || t, t = E["default"]({
career: v["default"],
isVisible: A["default"](P["default"], "logo")
})(t) || t, t = $.observer(t) || t;
}(d["default"].Component);
j.defaultProps = {
bottomInfoScale: SpartaGlobals.bundleIsConsole ? 1.5 : 1.45,
badgeSize: 130,
barSize: 10,
align: "none"
}, e.exports = j;
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(284), y = s(h), g = n(2), m = r(g), b = n(13), v = s(b), _ = n(8), S = n(63), w = n(9), T = {
_$ContextMenuButton: {
displayName: "ContextMenuButton"
}
}, C = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/buttons/ContextMenuButton.jsx",
components: T,
locals: [],
imports: []
}), E = m.createStyleSheet({
dots: {
width: 21,
zOffset: 1,
height: 5,
textureMode: "none"
},
container: {
flexDirection: "column",
alignItems: "center",
justifyContent: "center",
width: 60,
height: 40
}
}), I = .5, P = {
white: w.bbOfflineUrl("/sparta/jsclient/builds/assets/dots-white-03a7610a.png"),
black: w.bbOfflineUrl("/sparta/jsclient/builds/assets/dots-black-87f8f273.png")
}, O = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.tweens = {
opacity: v["default"].tween("17f41c48:39", I)
}, this.hasOffsetSet = !1;
}
a(t, e), t.prototype.componentWillUnmount = function r() {
this.tweens.opacity.destroy();
}, t.prototype.onClick = function s(e) {
e.stopPropagation.trigger();
var t = c({}, this.bounds);
this.props.offset && (t.x = t.x + this.props.offset.x, t.y = t.y + this.props.offset.y);
var n = this.props.position || {
x: t.x,
y: t.y
};
n.x = n.x - S.uiState.viewportPosition.left, n.y = n.y - S.uiState.viewportPosition.top, 
this.openAt(n, this.props.align);
}, t.prototype.onMouseEnter = function l() {
this.tweens.opacity.set(1);
}, t.prototype.onMouseLeave = function u() {
this.tweens.opacity.set(I);
}, t.prototype.openAt = function f(e, t) {
y["default"].display(this.props.options, e, t, this.props.onOpen, this.props.onClose, this.props.menuWidth, this.props.parentHeight);
}, t.prototype.close = function d() {
y["default"].hide();
}, t.prototype.render = function h() {
var e = {
dots: {
texture: P[this.props.dark ? "black" : "white"],
opacity: this.tweens.opacity.getStyle()
}
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ E.dots, e.dots ]
},
_owner: null
},
style: [ E.container, this.props.style ],
onClick: this.onClick.bind(this),
onMouseEnter: this.onMouseEnter.bind(this),
onMouseLeave: this.onMouseLeave.bind(this)
},
_owner: null
};
};
var n = t;
return t = i("_$ContextMenuButton")(t) || t, t = g.hasSurfaceBounds()(t) || t, t = _.observer(t) || t;
}(d["default"].Component);
O.propTypes = {
options: d["default"].PropTypes.arrayOf(d["default"].PropTypes.object).isRequired,
align: d["default"].PropTypes.string,
width: d["default"].PropTypes.number,
position: d["default"].PropTypes.object,
dark: d["default"].PropTypes.bool,
onOpen: d["default"].PropTypes.func,
onClose: d["default"].PropTypes.func,
offset: d["default"].PropTypes.object
}, O.defaultProps = {
align: "left",
dark: !1
}, t["default"] = O, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return m(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(14), f = i(c), d = n(2), h = n(8), y = n(9), g = {
_$VisualButton: {
displayName: "VisualButton"
}
}, m = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/buttons/VisualButton.jsx",
components: g,
locals: [],
imports: []
}), b = n(1), v = n(299), _ = n(196).Key, S = n(6), w = n(7), T = n(2), C = n(124), E = n(268), I = n(148), P = y.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-inv-83f715ff.png"), O = y.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"), A = T.createStyleSheet({
pcButton: {
backgroundColor: "#ffffff33",
height: S.getHeight(5),
justifyContent: "center",
alignItems: "center",
padding: [ 0, 2 * S.GUTTER, 0, 2 * S.GUTTER ],
marginRight: S.GUTTER
},
pcButtonLarge: {
height: S.getHeight(7)
},
pcButtonHovered: {
backgroundColor: "#ffffff66"
},
pcButtonInverted: {
backgroundColor: "#00000011"
},
pcButtonInvertedHovered: {
backgroundColor: "#00000033"
},
pcButtonBorder: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
texture: O,
textureAtlas: "SpartaCommonAtlas",
textureBorder: [ 2, 2, 2, 2 ],
textureMode: "fill"
},
pcButtonBorderLarge: {},
pcButtonInvertedBorder: {
textureAtlas: "SpartaCommonAtlas",
texture: P
},
label: {
color: [ 255, 255, 255, 200 ]
},
labelInverted: {
color: [ 0, 0, 0, 200 ]
}
}), k = S.getHeight(3), R = 58, x = 59, M = y.bbOfflineUrl("/sparta/assets/ui/sprites/visualbuttonpulsate-96eb83fc.png"), N = function(e) {
function t(t) {
var o = this;
r(this, n), e.call(this, t), this.focusItem = d.focus.create(this, "visual-button"), 
this.preloader = T.texture.createPreloader(this), t.useConsoleStyle && (this.preloader.preload(P, "SpartaCommonAtlas"), 
this.preloader.preload(O, "SpartaCommonAtlas"));
var a = I[t.inverted ? "inverted" : "normal"][t.inputKey.name];
this.preloader.preload(a, "SpartaCommonAtlas"), this.preloader.preload(M, "SINGLE_TEXTURE"), 
d.focus.onComponentUpdate(this, function(e, t) {
o.focusItem.setClickInput(new f["default"]({
key: e.inputKey,
action: function n() {
return o.triggerAction();
},
visible: !1
}));
});
}
o(t, e), t.prototype.pulsate = function i() {
var e = this;
return new Promise(function(t) {
T.focus.system.controllerMode ? (T.Native.playSpriteAnimation(e.refs.iconSprite.getSurfaceId(), !0), 
setTimeout(t, 350)) : t();
});
}, t.prototype.triggerAction = function s(e) {
this.props.inputKey && C.trigger(new E({
key: this.props.inputKey
}));
}, t.prototype.renderIcon = function l(e) {
var t = this.props.iconSize || k;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: {
zOffset: 1,
texture: e,
width: t,
height: t,
textureAtlas: "SpartaCommonAtlas"
}
},
_owner: null
}, b.createElement("surface", {
ref: "iconSprite",
style: {
zOffset: 2,
position: "absolute",
width: R,
height: x,
top: (t - x) / 2,
left: (t - R) / 2,
spriteAnimation: {
spriteSheet: M,
fps: 60,
frameWidth: R,
frameHeight: x,
totalFrames: 31,
startFrame: 10,
looping: !1
}
}
}) ]
},
_owner: null
};
}, t.prototype.render = function c() {
var e = this.props.styleSheetOverride ? this.props.styleSheetOverride : A, t = u({}, e.label, this.props.inverted ? e.labelInverted : null, this.props.labelStyle), n = this.props.label ? b.createElement(w, u({
value: this.props.label.toUpperCase(),
type: this.props.labelType,
section: this.props.section,
size: this.props.large ? "M" : "S",
style: t
}, this.props.labelProps)) : null, r = "undefined" != typeof this.props.useConsoleStyle ? this.props.useConsoleStyle : T.focus.system.controllerMode;
if (r) {
var o = I[this.props.inverted ? "inverted" : "normal"][this.props.inputKey.name];
o || console.warn("Rendering VisualButton with missing icon", this.props.inputKey);
var a = this.props.styleSheetOverride && e.labelContainer ? u({}, e.labelContainer, this.props.large ? e.labelContainerLarge : null) : this.props.style, i = this.props.iconSize || k, s = this.renderIcon(o);
return b.createElement(v, u({}, this.props, {
ref: "icon",
height: i,
space: S.GUTTER,
labelDecoration: this.props.labelDecoration,
style: a,
icon: s,
label: n,
onClick: this.triggerAction.bind(this)
}));
}
var l = u({}, e.pcButton, this.props.inverted ? e.pcButtonInverted : null, this.focusItem.isFocused ? e.pcButtonHovered : null, this.props.inverted && this.focusItem.isFocused ? e.pcButtonInvertedHovered : null, this.props.large ? e.pcButtonLarge : null), c = u({}, e.pcButtonBorder, this.props.inverted ? e.pcButtonInvertedBorder : null, this.props.large ? e.pcButtonBorderLarge : null);
return b.createElement("surface", u({
style: l
}, this.focusItem.hooks), n, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: c
},
_owner: null
});
};
var n = t;
return t = a("_$VisualButton")(t) || t, t = h.observer(t) || t;
}(b.Component);
N.propTypes = {
inputKey: b.PropTypes.instanceOf(_),
label: b.PropTypes.string,
template: b.PropTypes.string,
labelProps: b.PropTypes.object,
labelStyle: b.PropTypes.object,
useConsoleStyle: b.PropTypes.bool,
iconSize: b.PropTypes.number,
large: b.PropTypes.bool,
style: b.PropTypes.object
}, N.defaultProps = {
large: !1,
labelBorder: null,
labelType: "normal"
}, t["default"] = N, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1];
return new Promise(function(n, r) {
u.settingsStore.isFeatureEnabled("tutorials") && e && e.videoUrl && p.routeIsHostingGame() ? !function() {
var r = l["default"].getState(), a = r && r.id, i = "gameMode-" + e.shortFilterKey;
c.get(i, function() {
var r = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
if (a && r[a]) {
var s = a + " has already seen the video for " + e.prettyName;
t ? (console.info(s, ", but we're showing the video anyway"), o.showFullscreenVideo(e.videoUrl, e.prettyName, e.catchphrase).then(function() {
n();
})) : (console.info(s), n());
} else t ? (console.info("Showing the video for " + e.prettyName + "\n                                 regardless of seen state since it was triggered from QuickMatch."), 
o.showFullscreenVideo(e.videoUrl, e.prettyName, e.catchphrase).then(function() {
n();
})) : (console.info("Showing the video for " + e.prettyName + " since it was not seen yet by " + a), 
o.showFullscreenVideo(e.videoUrl, e.prettyName, e.catchphrase, __("ID_SPARTA_ACTION_SKIP"), 0).then(function() {
console.info(a + " has now seen the video for " + e.prettyName), r[a] = !0, c.save(i, r), 
n();
}));
});
}() : n();
});
}
t.__esModule = !0, t.showTutorialForGameMode = r;
var o = n(463), a = n(266), i = e(a), s = n(48), l = e(s), u = n(11), p = n(56), c = new i["default"]();
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return S(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), c = i(p), f = n(33), d = i(f), h = n(6), y = i(h), g = n(31), m = n(18), b = i(m), v = n(218), _ = {
_$SideColTemplate: {
displayName: "SideColTemplate"
}
}, S = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/templates/SideColTemplate.jsx",
components: _,
locals: [],
imports: []
}), w = SpartaGlobals.bundleIsPC ? y["default"].getHeight(4) : 0, T = SpartaGlobals.bundleIsPC ? 2 * (y["default"].getWidth(v.CARD_WIDTH.cells.M) + y["default"].GUTTER) : y["default"].getWidth(6), C = y["default"].getWidth(24) - T, E = {
container: {
flexDirection: "row",
width: y["default"].getWidth(24)
},
sideCol: {
width: T,
paddingRight: y["default"].getWidth(1)
},
mainCol: {
width: C,
flexWrap: SpartaGlobals.bundleIsPC ? "wrap" : "nowrap",
height: b["default"].content.height
}
}, I = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.tiltToSideCol = function i() {
this.props.tilting && this.refs.template && this.refs.template.tiltTo(0, 0);
}, t.prototype.tiltToMainCol = function s() {
this.props.tilting && this.refs.template && this.refs.template.tiltTo(-310, 0);
}, t.prototype.renderMainColScroller = function l() {
return c["default"].createElement("surface", {
ref: "focusable"
}, c["default"].createElement(g.Scroller, {
ref: "scroller",
style: E.mainCol,
controller: !0,
softClip: [ 0, w, 0, 0 ]
}, this.props.children));
}, t.prototype.renderMainColFocusable = function p() {
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: E.mainCol,
onFocus: this.tiltToMainCol.bind(this),
onBlur: this.tiltToSideCol.bind(this)
},
_owner: null
};
}, t.prototype.render = function f() {
return c["default"].createElement(d["default"], {
ref: "template",
tallContent: this.props.tallContent,
scrollContent: !1,
clipContent: !0,
scrollToFocus: !1
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.sideContent,
style: E.sideCol,
onFocus: this.tiltToSideCol.bind(this)
},
_owner: null
}, SpartaGlobals.bundleIsPC || this.props.useScroller ? this.renderMainColScroller() : this.renderMainColFocusable() ],
style: E.container
},
_owner: null
});
};
var n = t;
return t = a("_$SideColTemplate")(t) || t;
}(c["default"].Component);
t["default"] = I, I.defaultProps = {
tilting: !0,
useScroller: !1,
sideContent: {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
}
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return N(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), d = n(4), h = s(d), y = n(1), g = s(y), m = n(33), b = s(m), v = n(6), _ = s(v), S = n(461), w = s(S), T = n(94), C = n(149), E = s(C), I = n(18), P = s(I), O = n(13), A = s(O), k = n(17), R = s(k), x = n(137), M = {
_$TabbedTemplate: {
displayName: "TabbedTemplate"
}
}, N = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/templates/TabbedTemplate.jsx",
components: M,
locals: [],
imports: []
}), $ = {
header: {
flex: 1,
flexDirection: "row",
justifyContent: "space-between"
},
contentHeader: {
flexDirection: "row",
alignSelf: "center",
height: _["default"].getHeight(2.4)
}
}, D = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
activeTabIndex: 0,
previousTabIndex: 0
};
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this, t = this.state.activeTabIndex;
if (this.location && this.location.args && this.location.args.tab) {
var n = h["default"].find(this.props.tabs, function(t) {
return t.name === e.location.args.tab;
});
n && (t = this.props.tabs.indexOf(n), this.setState({
activeTabIndex: t
}));
}
this.handleTabSelected(t, !1);
}, t.prototype.handleTabSelected = function l(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1], n = this.props.tabs[e];
this.setState({
previousTabIndex: this.state.activeTabIndex,
activeTabIndex: e
});
var r = this.location;
t && r && (0 === e && this.location.path ? r = new T.Location(this.location.path) : this.location.args && this.location.args.tab !== n.name && (r = new T.Location(this.location.path + "?tab=" + n.name)), 
R["default"].updateLocation(r)), n.onSelect && n.onSelect();
}, t.prototype.renderHeader = function u() {
var e = null;
if (this.props.header) e = this.props.header; else {
var t = this.props.tabs[this.state.activeTabIndex];
t.renderHeader && (e = t.renderHeader());
}
var n = c({}, $.contentHeader, {
opacity: A["default"].tweenSwitch(0, 1, e)
});
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
tabs: this.props.tabs,
activeTabIndex: this.state.activeTabIndex,
onTabSelect: this.handleTabSelected.bind(this)
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: n
},
_owner: null
} ],
style: $.header
},
_owner: null
};
}, t.prototype.renderTab = function d(e) {
return e.render ? e.render() : g["default"].createElement(e.component, h["default"].extend({}, e.props, {
key: e.name
}));
}, t.prototype.renderContent = function y() {
var e = this.props.tabs[this.state.activeTabIndex], t = P["default"].content.width, n = this.state.activeTabIndex > this.state.previousTabIndex, o = [ {
propertyName: "translateX",
fromValue: n ? t : -t,
toValue: 0
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1
} ], a = [ {
propertyName: "translateX",
fromValue: 0,
toValue: n ? -t : t
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0
} ];
return {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
children: this.renderTab(e),
inTweens: o,
outTweens: a,
playInOnMount: !1,
transitionId: e.name,
style: {
width: t,
marginTop: this.props.topGutter ? _["default"].GUTTER : 0
}
}),
_owner: null
};
}, t.prototype.render = function m() {
return g["default"].createElement(b["default"], {
ref: "template",
tallContent: !0,
scrollContent: this.props.scrollContent,
header: this.renderHeader(),
showDivider: this.props.showDivider
}, this.renderContent());
}, f(t, [ {
key: "location",
get: function v() {
return this.context.viewComponentState && this.context.viewComponentState.aggregate && this.context.viewComponentState.aggregate.location;
}
} ]);
var n = t;
return t = i("_$TabbedTemplate")(t) || t;
}(g["default"].Component);
t["default"] = D, D.propTypes = {
tabs: g["default"].PropTypes.arrayOf(g["default"].PropTypes.shape({
name: g["default"].PropTypes.string.isRequired,
title: g["default"].PropTypes.any.isRequired,
component: g["default"].PropTypes.element,
props: g["default"].PropTypes.object,
onSelect: g["default"].PropTypes.func
})),
header: g["default"].PropTypes.element,
showDivider: g["default"].PropTypes.bool,
topGutter: g["default"].PropTypes.bool
}, D.contextTypes = {
viewComponentState: g["default"].PropTypes.instanceOf(x.ViewComponentState).isRequired
}, D.defaultProps = {
scrollContent: !1,
topGutter: !0
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return g(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), f = i(c), d = n(149), h = i(d), y = {
_$Slider: {
displayName: "Slider"
}
}, g = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/tweeners/Slider.jsx",
components: y,
locals: [],
imports: []
}), m = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = this.props.height || this.props.style && this.props.style.height, t = e || 100, n = [ {
propertyName: "translateY",
fromValue: t,
toValue: 0,
options: this.props.options
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1,
options: this.props.options
} ], r = [ {
propertyName: "translateY",
fromValue: 0,
toValue: -t,
options: this.props.options
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0,
options: this.props.options
} ], o = p({
height: e,
layer: !0,
layerClip: !0
}, this.props.style);
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: f["default"].createElement(h["default"], {
ref: "tweener",
inTweens: n,
outTweens: r,
onTransitionFinished: this.props.onTransitionFinished,
transitionId: this.props.transitionId
}, this.props.children),
style: o
},
_owner: null
};
};
var n = t;
return t = a("_$Slider")(t) || t;
}(f["default"].Component);
t["default"] = m, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(828);
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = n(2), s = n(249), l = a["default"].createAction(), u = a["default"].createAction(), p = a["default"].createAction();
e.exports = {
fetchFriends: l,
updatePagination: u,
handleFriendsReceived: p
};
var c = null, f = !0;
l.listen(function() {
f = !1;
}), i.frostbite.registerMessageListener("sparta.friendsUpdated", function(e, t) {
return f ? (c ? s.Metrics.inc("friendupdate.ignored") : setTimeout(function() {
c && (s.Metrics.inc("friendupdate.used"), p(c)), c = null;
}, 1e3), void (c = t)) : (f = !0, void p(t));
});
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o);
t["default"] = {
onPartyMembersUpdated: a["default"].createAction(),
onPartyUpdated: a["default"].createAction(),
onPartyDisbanded: a["default"].createAction(),
onGameSessionJoinRefused: a["default"].createAction()
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
var n = l.indexOf(e.presence.state), r = l.indexOf(t.presence.state);
return n !== r ? n - r : e.displayName.toLowerCase().localeCompare(t.displayName.toLowerCase());
}
function o(e) {
function t(e) {
var t = n[e];
return t ? (t.sort(r), {
state: e,
translation: i.getTranslatedPresence(e),
key: a.UserPresenceStates[e],
friends: t
}) : void 0;
}
var n = s.chain(e).values().groupBy(function(e) {
return e.presence.state;
}).value();
n[a.UserPresenceStates.Joinable] && (n[a.UserPresenceStates.Playing] || (n[a.UserPresenceStates.Playing] = []), 
n[a.UserPresenceStates.Playing] = [].concat(n[a.UserPresenceStates.Playing], n[a.UserPresenceStates.Joinable]), 
delete n[a.UserPresenceStates.Joinable]), n[a.UserPresenceStates.Away] && (n[a.UserPresenceStates.Online] || (n[a.UserPresenceStates.Online] = []), 
n[a.UserPresenceStates.Online] = [].concat(n[a.UserPresenceStates.Online], n[a.UserPresenceStates.Away]), 
delete n[a.UserPresenceStates.Away]);
var o = [ a.UserPresenceStates.Playing, a.UserPresenceStates.Online, a.UserPresenceStates.Away, a.UserPresenceStates.Offline ];
return s.chain(o).map(t).compact().value();
}
t.__esModule = !0, t.compareFriends = r, t.getGroupsForFriends = o;
var a = n(67), i = n(353), s = n(4), l = [ a.UserPresenceStates.Joinable, a.UserPresenceStates.Playing, a.UserPresenceStates.Online, a.UserPresenceStates.Away, a.UserPresenceStates.Offline ];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = n(77), s = n(116), l = n(70), u = [], p = a["default"].createStore({
init: function c() {
this.listenTo(l, this.onUpdate), this.listenTo(s, this.onUpdate);
},
onUpdate: function f() {
var e = l.getState();
e && (u = Object.keys(e.members).map(function(e) {
return s.getUserById(e) || new i();
}), this.trigger(u));
},
getState: function d() {
return u;
}
});
e.exports = p;
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var o = n(67), a = {
None: "None",
Creating: "Creating",
Stable: "Stable",
Leaving: "Leaving",
Disbanded: "Disbanded"
};
t.PartyState = a;
var i = function l() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
r(this, l), this.spartaUserId = e.spartaUserId, this.createdAt = new Date();
};
t.PartyInvite = i;
var s = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
r(this, e), this.id = t.id && t.id + "", this.gameId = t.gameId && t.gameId + "", 
this.blazeGroupId = t.blazeGroupId && t.blazeGroupId + "", this.expansionMask = t.expansionMask, 
this.squadJoinFromParty = t.squadJoinFromParty, this.forceSquadJoin = t.forceSquadJoin, 
this.squadJoin = t.squadJoinFromParty || this.forceSquadJoin, this.invitations = t.invitations || {}, 
this.members = t.members || {}, this.state = t.state || a.None, this.invitations, 
this.members;
}
return e.prototype.size = function t() {
return Object.keys(this.members).length;
}, e.prototype.isFull = function n() {
var e = 0;
return SpartaGlobals.bundleIsPC ? e = 16 : SpartaGlobals.bundleIsXBOXONE ? e = 5 : SpartaGlobals.bundleIsPS4 && (e = 8), 
this.size() >= e;
}, e.prototype.hasMember = function i(e) {
return !!this.members[e.getPlatformId()];
}, e.prototype.hasInvitationForUser = function s(e) {
return !!this.invitations[e.getPlatformId()];
}, e.prototype.canInviteUserToParty = function l(e) {
return e.presence.state !== o.UserPresenceStates.Offline && !this.isFull() && !this.hasMember(e.spartaUserId) && !this.hasInvitationForUser(e.spartaUserId);
}, e.prototype.pendingInvitationCount = function u() {
return Object.keys(this.invitations).length;
}, e.prototype.isValidParty = function p() {
return this.blazeGroupId && "0" !== this.blazeGroupId;
}, e.prototype.isInSquadJoin = function c() {
return this.squadJoin || this.forceSquadJoin;
}, e.prototype.canCreateParty = function f() {
return !this.isValidParty() && (this.state === a.None || this.state === a.Disbanded);
}, e.prototype.canLeaveParty = function d() {
var e = !0;
return SpartaGlobals.bundleIsXBOXONE && (e = Object.keys(this.members).length > 1), 
this.state === a.Stable && e;
}, e.prototype.isCreatingParty = function h() {
return this.state === a.Creating;
}, e.prototype.isLeavingParty = function y() {
return this.state === a.Leaving;
}, e;
}();
t["default"] = s;
}, function(e, t, n) {
(function(e) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a() {
return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function(e) {
var t = 16 * Math.random() | 0, n = "x" === e ? t : 3 & t | 8;
return n.toString(16);
});
}
function i(e) {
var t = void 0;
try {
var n = p.getState();
n.id && (h.user.id = n.id), n.nucleusId && (h.user.nucleusId = n.nucleusId), n.displayName && (h.user.username = n.displayName), 
n.personaId && (h.user.personaId = n.personaId);
var r = {}, o = c.getState();
o.envBranchName && (r.gameBranch = o.envBranchName), o.envChangeListNumber && (r.gameChangelist = o.envChangeListNumber), 
o.envOnlineEnvironment && (r.gameOnlineEnv = o.envOnlineEnvironment), o.protocolVersion && (r.gameProtocolVer = o.protocolVersion), 
o.gatewayHost && (r.gatewayHost = o.gatewayHost), t = h.captureException(e, {
tags: r
});
} catch (a) {}
return t;
}
t.__esModule = !0, t.generateEvent = i;
var s = n(2), l = n(4), u = r(l), p = n(48), c = n(19), f = 100, d = function() {
function t(e) {
o(this, t), this.projectId = e.projectId, this.baseUrl = e.baseUrl, this.publicKey = e.publicKey, 
this.baseTags = e.tags || {}, this.baseExtra = e.extra || {}, this.release = e.release, 
this.numExceptionsSent = 0, this.debugLog = e.debugLog ? console.log : function() {}, 
this.user = {};
}
return t.prototype.captureException = function n(e, t) {
if (this.numExceptionsSent > f) return void this.debugLog("Max exceptions to send exceeded. Backing off...");
t = t || {};
var n = this._createEvent(e, t.tags || {}, t.extra || {});
return this._sendEvent(n), this.numExceptionsSent++, n;
}, t.prototype._sendEvent = function r(e) {
var t = this;
s.httpRequest(s.HTTP_METHODS.POST, this._getUrl(), JSON.stringify(e), this._getHeaders(), !0, function(e, n) {
return e ? void t.debugLog("Successfully sent report to Sentry! ID: " + n.id) : void t.debugLog("Error sending when sending report to Sentry. Reason: " + JSON.stringify(n));
});
}, t.prototype._createEvent = function i(t, n, r) {
var o = {
event_id: a(),
platform: "javascript",
message: t.name + ": " + t.message
};
o.tags = u["default"].extend({}, this.baseTags, n), o.extra = u["default"].extend({}, this.baseExtra, r);
var i = null;
try {
i = e.isJSC ? this._getJscStacktrace(t) : this._getStacktrace(t);
} catch (s) {
this.debugLog("Error converting Duktape stacktrace to Sentry format");
}
return i ? o.exception = [ {
type: t.name,
value: t.message,
stacktrace: {
frames: i
}
} ] : o.extra.stacktraceStr = t.stack, this.release && (o.release = this.release), 
Object.keys(this.user).length > 0 && (o.user = this.user), o;
}, t.prototype._getUrl = function l() {
return this.baseUrl + "/api/" + this.projectId + "/store/";
}, t.prototype._getHeaders = function p() {
var e = this._generateAuthHeader();
return e += "\nOrigin: http://twinkle.ea.com";
}, t.prototype._generateAuthHeader = function c() {
var e = {
sentry_version: 7,
sentry_client: "raven-twinkle/1.0",
sentry_timestamp: parseInt(Date.now() / 1e3, 10),
sentry_key: this.publicKey
};
return "X-Sentry-Auth: Sentry " + u["default"].map(e, function(e, t) {
return t + "=" + e;
}).join(", ");
}, t.prototype._getStacktrace = function d(e) {
var t = e.stack.replace(/\t/gm, "").replace(/preventsyield/gm, "").replace(/native/gm, "").replace(/strict/gm, ""), n = function o(e) {
return e.indexOf(".cpp:") > 0 || e.indexOf(".h:") > 0 || e.indexOf("TnT") > 0;
}, r = t.split("\n");
return r.shift(), r = r.filter(function(e) {
return !n(e);
}), r = r.map(function(e) {
var t = e.indexOf(".js:") > 0;
if (n(e)) {
var r = e.substr(e.lastIndexOf(":") + 1), o = e.substr(0, e.lastIndexOf(":"));
return {
filename: o.substr(o.lastIndexOf("\\") + 1),
abs_path: o,
lineno: parseInt(r, 10)
};
}
if (t) {
var a = e.split(" "), i = a[0], s = parseInt(a[1].split(":")[1], 10);
return {
filename: "bundle.js",
"function": i,
lineno: s
};
}
return null;
}), r = u["default"].compact(r), r.reverse(), r;
}, t.prototype._getJscStacktrace = function h(e) {
var t = e.stack.split("\n"), n = function c(e, t) {
return e.indexOf(t) >= 0;
}, r = function f(e) {
return e.indexOf("[native code]") >= 0;
}, o = "bundle-release-bf1-xpack0_9198_4bcc0069_tunguska_all_prod.js", a = "http://collector.ops.dice.se/artifacts/sparta-client/sources/release-bf1-xpack0/tunguska/ALL/bundle-release-bf1-xpack0_9198_4bcc0069_tunguska_all_prod.js";
t = t.filter(function(e) {
return !r(e);
});
var i, s, l, p;
return t = t.map(function(e) {
return n(e, "@") ? (i = e.match(/\s*(.*?)@(.*?):(\d+):(\d+)/), p = i[1], s = parseInt(i[3], 10), 
l = parseInt(i[4], 10), {
in_app: !0,
filename: o,
"function": p,
lineno: s,
colno: l,
abs_path: a
}) : n(e, ":") ? (i = e.match(/\s*(.*?):(\d+):(\d+)/), p = "__unknown", s = parseInt(i[2], 10), 
l = parseInt(i[3], 10), {
in_app: !0,
filename: o,
"function": "__unknown",
lineno: s,
colno: l,
abs_path: a
}) : {
filename: o,
"function": e
};
}), t = u["default"].compact(t), t.reverse(), t;
}, t;
}();
t.Raven = d;
var h = new d({
baseUrl: "https://sentry-public.battlelog.com",
projectId: 7,
publicKey: "c05110aa1a754ac0acb10e3385cf0eee",
release: "release-bf1-xpack0_9198_4bcc0069_tunguska_all_prod",
tags: {
platform: SpartaGlobals.bundlePlatform.toLowerCase(),
jsEnv: "prod",
version: "9198",
branch: "release-bf1-xpack0",
channel: "tunguska"
}
});
t.raven = h;
}).call(t, function() {
return this;
}());
}, function(e, t) {
function n(e, t, n, r) {
var o = i[e] || (i[e] = {});
o = o[t] || (o[t] = {}), o[n] = r;
}
function r(e, t, n) {
3 === arguments.length ? i[e] && i[e][t] && n && delete i[e][t][n] : 2 === arguments.length ? i[e] && t && delete i[e][t] : 1 === arguments.length && e && delete i[e];
}
function o(e, t) {
var n = i[e] && i[e][t];
return n && Object.keys(n).length > 0;
}
function a(e, t) {
if (!o(e, t)) return [];
var n = i[e][t], r = [];
for (var a in n) n.hasOwnProperty(a) && r.push(n[a]);
return r;
}
t.__esModule = !0, t.register = n, t.destroy = r, t.hasCallbacks = o, t.getCallbacks = a;
var i = {};
t.lookup = i;
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t, n, r, o, a) {
o && (n = "string" == typeof n ? n : JSON.stringify(n));
var i = u;
u++;
var s = {
id: i,
method: e,
url: t,
data: n,
headers: r,
isJson: o,
callback: a
};
y.add(s);
}
function a(e, t, n, r, o) {
var a = p[e];
if (!a) return void console.warn("Unable to handle unknown http response", {
requestId: e,
data: n,
headers: r,
statusCode: o
});
if (a.isJson) {
try {
n = "" !== n ? JSON.parse(n) : {};
} catch (i) {
console.error("Bad JSON from server:", n), n = {};
}
null === n && (n = {}), n || (n = {}), t || n.error || (n.error = {
message: "HTTP REQUEST FAILED (status code: " + o + ")",
code: o
});
}
y.remove(a), a.callback && a.callback(t, n, r), l.httpRequestCompleted.trigger({
success: t,
data: n,
headers: r
}, {
id: e,
url: a.url,
data: a.data,
headers: a.headers
});
}
t.__esModule = !0, t.httpRequest = o, t.onHttpRequestCompleted = a;
var i = n(45), s = n(109), l = r(s), u = 0, p = {}, c = [], f = 0, d = 8, h = {
GET: 0,
POST: 1
};
t.HTTP_METHODS = h;
var y = {
next: function g() {
if (0 !== c.length) {
if (f >= d) return void console.warn("Queueing request, max concurrent HTTP requests reached:", d);
f++;
var e = c[0], t = p[e], n = c.indexOf(e);
n >= 0 && c.splice(n, 1), i.Native.httpRequest(t.id, t.method, t.url, t.data, t.headers);
}
},
add: function m(e) {
p[e.id] = e, c.push(e.id), this.next();
},
remove: function b(e) {
delete p[e.id], f--, this.next();
}
};
}, function(e, t, n) {
e.exports = n(939);
}, function(e, t, n) {
!function(t, r) {
e.exports = r(n(10), n(1), n(895));
}(this, function(e, t, n) {
return function(e) {
function t(r) {
if (n[r]) return n[r].exports;
var o = n[r] = {
exports: {},
id: r,
loaded: !1
};
return e[r].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports;
}
var n = {};
return t.m = e, t.c = n, t.p = "", t(0);
}([ function(e, t, n) {
"use strict";
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.reactiveComponent = t.PropTypes = t.propTypes = t.inject = t.Provider = t.trackComponents = t.componentByNodeRegistery = t.renderReporter = t.observer = void 0;
var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
}, i = arguments, s = n(1);
Object.defineProperty(t, "observer", {
enumerable: !0,
get: function() {
return s.observer;
}
}), Object.defineProperty(t, "renderReporter", {
enumerable: !0,
get: function() {
return s.renderReporter;
}
}), Object.defineProperty(t, "componentByNodeRegistery", {
enumerable: !0,
get: function() {
return s.componentByNodeRegistery;
}
}), Object.defineProperty(t, "trackComponents", {
enumerable: !0,
get: function() {
return s.trackComponents;
}
});
var l = n(9);
Object.defineProperty(t, "Provider", {
enumerable: !0,
get: function() {
return o(l)["default"];
}
});
var u = n(6);
Object.defineProperty(t, "inject", {
enumerable: !0,
get: function() {
return o(u)["default"];
}
});
var p = n(2), c = o(p), f = n(3), d = o(f), h = n(10), y = r(h), g = void 0;
if (g = "mobx-react", !c["default"]) throw new Error(g + " requires the MobX package");
if (!d["default"]) throw new Error(g + " requires React to be available");
t.propTypes = y, t.PropTypes = y, t["default"] = e.exports, t.reactiveComponent = function() {
return console.warn("[mobx-react] `reactiveComponent` has been renamed to `observer` and will be removed in 1.1."), 
observer.apply(null, i);
}, "object" === ("undefined" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ ? "undefined" : a(__MOBX_DEVTOOLS_GLOBAL_HOOK__)) && __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(e.exports, c["default"]);
}, function(e, t, n) {
"use strict";
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return y["default"] ? y["default"].findDOMNode(e) : null;
}
function a(e) {
var t = o(e);
t && S && S.set(t, e), w.emit({
event: "render",
renderTime: e.__$mobRenderEnd - e.__$mobRenderStart,
totalTime: Date.now() - e.__$mobRenderStart,
component: e,
node: t
});
}
function i() {
if ("undefined" == typeof WeakMap) throw new Error("[mobx-react] tracking components is not supported in this browser.");
_ || (_ = !0);
}
function s(e, t) {
var n = e[t], r = T[t];
n ? e[t] = function() {
n.apply(this, arguments), r.apply(this, arguments);
} : e[t] = r;
}
function l(e, t) {
if ("string" == typeof e) throw new Error("Store names should be provided as array");
if (Array.isArray(e)) return t ? v["default"].apply(null, e)(l(t)) : function(t) {
return l(e, t);
};
var n = e;
if (!("function" != typeof n || n.prototype && n.prototype.render || n.isReactClass || d["default"].Component.isPrototypeOf(n))) return l(d["default"].createClass({
displayName: n.displayName || n.name,
propTypes: n.propTypes,
contextTypes: n.contextTypes,
getDefaultProps: function() {
return n.defaultProps;
},
render: function() {
return n.call(this, this.props, this.context);
}
}));
if (!n) throw new Error("Please pass a valid component to 'observer'");
var r = n.prototype || n;
return [ "componentWillMount", "componentWillUnmount", "componentDidMount", "componentDidUpdate" ].forEach(function(e) {
s(r, e);
}), r.shouldComponentUpdate || (r.shouldComponentUpdate = T.shouldComponentUpdate), 
n.isMobXReactObserver = !0, n;
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.renderReporter = t.componentByNodeRegistery = void 0;
var u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
};
t.trackComponents = i, t.observer = l;
var p = n(2), c = r(p), f = n(3), d = r(f), h = n(4), y = r(h), g = n(5), m = r(g), b = n(6), v = r(b), _ = !1, S = t.componentByNodeRegistery = "undefined" != typeof WeakMap ? new WeakMap() : void 0, w = t.renderReporter = new m["default"](), T = {
componentWillMount: function() {
var e = this, t = this.displayName || this.name || this.constructor && (this.constructor.displayName || this.constructor.name) || "<component>", n = this._reactInternalInstance && this._reactInternalInstance._rootNodeID, r = this.render.bind(this), o = null, a = !1, i = function() {
return o = new c["default"].Reaction(t + "#" + n + ".render()", function() {
a || (a = !0, "function" == typeof e.componentWillReact && e.componentWillReact(), 
e.__$mobxIsUnmounted !== !0 && d["default"].Component.prototype.forceUpdate.call(e));
}), s.$mobx = o, e.render = s, s();
}, s = function() {
a = !1;
var t = void 0;
return o.track(function() {
_ && (e.__$mobRenderStart = Date.now()), t = c["default"].extras.allowStateChanges(!1, r), 
_ && (e.__$mobRenderEnd = Date.now());
}), t;
};
this.render = i;
},
componentWillUnmount: function() {
if (this.render.$mobx && this.render.$mobx.dispose(), this.__$mobxIsUnmounted = !0, 
_) {
var e = o(this);
e && S && S["delete"](e), w.emit({
event: "destroy",
component: this,
node: e
});
}
},
componentDidMount: function() {
_ && a(this);
},
componentDidUpdate: function() {
_ && a(this);
},
shouldComponentUpdate: function(e, t) {
if (this.render.$mobx && this.render.$mobx.isScheduled() === !0) return !1;
if (this.state !== t) return !0;
var n = Object.keys(this.props);
if (n.length !== Object.keys(e).length) return !0;
for (var r = void 0, o = n.length - 1; r = n[o]; o--) {
var a = e[r];
if (a !== this.props[r]) return !0;
if (a && "object" === ("undefined" == typeof a ? "undefined" : u(a)) && !c["default"].isObservable(a)) return !0;
}
return !1;
}
};
}, function(t, n) {
t.exports = e;
}, function(e, n) {
e.exports = t;
}, function(e, t) {
e.exports = n;
}, function(e, t) {
"use strict";
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), o = function() {
function e() {
n(this, e), this.listeners = [];
}
return r(e, [ {
key: "on",
value: function(e) {
var t = this;
return this.listeners.push(e), function() {
var n = t.listeners.indexOf(e);
-1 !== n && t.listeners.splice(n, 1);
};
}
}, {
key: "emit",
value: function(e) {
this.listeners.forEach(function(t) {
return t(e);
});
}
} ]), e;
}();
t["default"] = o;
}, function(e, t, n) {
(function(e) {
"use strict";
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
var n = u["default"].createClass({
displayName: "MobXStoreInjector",
render: function() {
var n = this, r = {};
for (var o in this.props) this.props.hasOwnProperty(o) && (r[o] = this.props[o]);
var a = e(this.context.mobxStores || {}, r, this.context) || {};
for (var i in a) r[i] = a[i];
return r.ref = function(e) {
n.wrappedInstance = e;
}, u["default"].createElement(t, r);
}
});
return n.contextTypes = {
mobxStores: l.PropTypes.object
}, n.wrappedComponent = t, a(n, t), (0, c["default"])(n, t), n;
}
function a(t, n) {
"undefined" != typeof e && e.env && "production" !== e.env.NODE_ENV && [ "propTypes", "defaultProps", "contextTypes" ].forEach(function(e) {
var r = t[e];
Object.defineProperty(t, e, {
set: function(t) {
var r = n.displayName || n.name;
console.warn("Mobx Injector: you are trying to attach " + e + " to HOC instead of " + r + ". Use `wrappedComponent` property.");
},
get: function() {
return r;
},
configurable: !0
});
});
}
function i(e) {
return function(t, n) {
return e.forEach(function(e) {
if (!(e in n)) {
if (!(e in t)) throw new Error("MobX observer: Store '" + e + "' is not available! Make sure it is provided by some Provider");
n[e] = t[e];
}
}), n;
};
}
function s() {
var e = void 0;
if ("function" == typeof arguments[0]) e = arguments[0]; else {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
e = i(t);
}
return function(t) {
return o(e, t);
};
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = s;
var l = n(3), u = r(l), p = n(8), c = r(p);
}).call(t, n(7));
}, function(e, t) {
function n(e) {
return l === setTimeout ? setTimeout(e, 0) : l.call(null, e, 0);
}
function r(e) {
u === clearTimeout ? clearTimeout(e) : u.call(null, e);
}
function o() {
d && c && (d = !1, c.length ? f = c.concat(f) : h = -1, f.length && a());
}
function a() {
if (!d) {
var e = n(o);
d = !0;
for (var t = f.length; t; ) {
for (c = f, f = []; ++h < t; ) c && c[h].run();
h = -1, t = f.length;
}
c = null, d = !1, r(e);
}
}
function i(e, t) {
this.fun = e, this.array = t;
}
function s() {}
var l, u, p = e.exports = {};
!function() {
try {
l = setTimeout;
} catch (e) {
l = function() {
throw new Error("setTimeout is not defined");
};
}
try {
u = clearTimeout;
} catch (e) {
u = function() {
throw new Error("clearTimeout is not defined");
};
}
}();
var c, f = [], d = !1, h = -1;
p.nextTick = function(e) {
var t = new Array(arguments.length - 1);
if (arguments.length > 1) for (var r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];
f.push(new i(e, t)), 1 !== f.length || d || n(a);
}, i.prototype.run = function() {
this.fun.apply(null, this.array);
}, p.title = "browser", p.browser = !0, p.env = {}, p.argv = [], p.version = "", 
p.versions = {}, p.on = s, p.addListener = s, p.once = s, p.off = s, p.removeListener = s, 
p.removeAllListeners = s, p.emit = s, p.binding = function(e) {
throw new Error("process.binding is not supported");
}, p.cwd = function() {
return "/";
}, p.chdir = function(e) {
throw new Error("process.chdir is not supported");
}, p.umask = function() {
return 0;
};
}, function(e, t) {
"use strict";
var n = {
childContextTypes: !0,
contextTypes: !0,
defaultProps: !0,
displayName: !0,
getDefaultProps: !0,
mixins: !0,
propTypes: !0,
type: !0
}, r = {
name: !0,
length: !0,
prototype: !0,
caller: !0,
arguments: !0,
arity: !0
}, o = "function" == typeof Object.getOwnPropertySymbols;
e.exports = function(e, t, a) {
if ("string" != typeof t) {
var i = Object.getOwnPropertyNames(t);
o && (i = i.concat(Object.getOwnPropertySymbols(t)));
for (var s = 0; s < i.length; ++s) if (!(n[i[s]] || r[i[s]] || a && a[i[s]])) try {
e[i[s]] = t[i[s]];
} catch (l) {}
}
return e;
};
}, function(e, t, n) {
"use strict";
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return !t || "object" != typeof t && "function" != typeof t ? e : t;
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
Object.defineProperty(t, "__esModule", {
value: !0
});
var s = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), l = n(3), u = r(l), p = {
children: !0,
key: !0,
ref: !0
}, c = function(e) {
function t() {
return o(this, t), a(this, Object.getPrototypeOf(t).apply(this, arguments));
}
return i(t, e), s(t, [ {
key: "render",
value: function() {
return u["default"].Children.only(this.props.children);
}
}, {
key: "getChildContext",
value: function() {
var e = {}, t = this.context.mobxStores;
if (t) for (var n in t) e[n] = t[n];
for (var r in this.props) p[r] || (e[r] = this.props[r]);
return {
mobxStores: e
};
}
}, {
key: "componentWillReceiveProps",
value: function(e) {
Object.keys(e).length !== Object.keys(this.props).length && console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children");
for (var t in e) p[t] || this.props[t] === e[t] || console.warn("MobX Provider: Provided store '" + t + "' has changed. Please avoid replacing stores as the change might not propagate to all children");
}
} ]), t;
}(l.Component);
c.contextTypes = {
mobxStores: l.PropTypes.object
}, c.childContextTypes = {
mobxStores: l.PropTypes.object.isRequired
}, t["default"] = c;
}, function(e, t, n) {
"use strict";
function r(e) {
function t(t, n, r, o, a, i) {
for (var s = arguments.length, l = Array(s > 6 ? s - 6 : 0), u = 6; s > u; u++) l[u - 6] = arguments[u];
return (0, p.untracked)(function() {
if (o = o || "<<anonymous>>", i = i || r, null == n[r]) {
if (t) {
var s = null === n[r] ? "null" : "undefined";
return new Error("The " + a + " `" + i + "` is marked as required in `" + o + "`, but its value is `" + s + "`.");
}
return null;
}
return e.apply(void 0, [ n, r, o, a, i ].concat(l));
});
}
var n = t.bind(null, !1);
return n.isRequired = t.bind(null, !0), n;
}
function o(e, t) {
return "symbol" === e ? !0 : "Symbol" === t["@@toStringTag"] ? !0 : "function" == typeof Symbol && t instanceof Symbol;
}
function a(e) {
var t = "undefined" == typeof e ? "undefined" : u(e);
return Array.isArray(e) ? "array" : e instanceof RegExp ? "object" : o(t, e) ? "symbol" : t;
}
function i(e) {
var t = a(e);
if ("object" === t) {
if (e instanceof Date) return "date";
if (e instanceof RegExp) return "regexp";
}
return t;
}
function s(e, t) {
return r(function(n, r, o, s, l) {
return (0, p.untracked)(function() {
if (e && a(n[r]) === t.toLowerCase()) return null;
var s = void 0;
switch (t) {
case "Array":
s = p.isObservableArray;
break;

case "Object":
s = p.isObservableObject;
break;

case "Map":
s = p.isObservableMap;
break;

default:
throw new Error("Unexpected mobxType: " + t);
}
var u = n[r];
if (!s(u)) {
var c = i(u), f = e ? " or javascript `" + t.toLowerCase() + "`" : "";
return new Error("Invalid prop `" + l + "` of type `" + c + "` supplied to `" + o + "`, expected `mobx.Observable" + t + "`" + f + ".");
}
return null;
});
});
}
function l(e, t) {
return r(function(n, r, o, a, i) {
for (var l = arguments.length, u = Array(l > 5 ? l - 5 : 0), c = 5; l > c; c++) u[c - 5] = arguments[c];
return (0, p.untracked)(function() {
if ("function" != typeof t) return new Error("Property `" + i + "` of component `" + o + "` has invalid PropType notation.");
var l = s(e, "Array")(n, r, o);
if (l instanceof Error) return l;
for (var p = n[r], c = 0; c < p.length; c++) if (l = t.apply(void 0, [ p, c, o, a, i + "[" + c + "]" ].concat(u)), 
l instanceof Error) return l;
return null;
});
});
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.objectOrObservableObject = t.arrayOrObservableArrayOf = t.arrayOrObservableArray = t.observableObject = t.observableMap = t.observableArrayOf = t.observableArray = void 0;
var u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
}, p = n(2);
t.observableArray = s(!1, "Array"), t.observableArrayOf = l.bind(null, !1), t.observableMap = s(!1, "Map"), 
t.observableObject = s(!1, "Object"), t.arrayOrObservableArray = s(!0, "Array"), 
t.arrayOrObservableArrayOf = l.bind(null, !0), t.objectOrObservableObject = s(!0, "Object");
} ]);
});
}, function(e, t, n) {
"use strict";
function r(e) {
return p.hasOwnProperty(e) ? !0 : u.hasOwnProperty(e) ? !1 : l.test(e) ? (p[e] = !0, 
!0) : (u[e] = !0, !1);
}
function o(e, t) {
return null == t || e.hasBooleanValue && !t || e.hasNumericValue && isNaN(t) || e.hasPositiveNumericValue && 1 > t || e.hasOverloadedBooleanValue && t === !1;
}
var a = n(153), i = n(84), s = n(958), l = (n(42), /^[a-zA-Z_][\w\.\-]*$/), u = {}, p = {}, c = {
createMarkupForID: function(e) {
return a.ID_ATTRIBUTE_NAME + "=" + s(e);
},
setAttributeForID: function(e, t) {
e.setAttribute(a.ID_ATTRIBUTE_NAME, t);
},
createMarkupForProperty: function(e, t) {
var n = a.properties.hasOwnProperty(e) ? a.properties[e] : null;
if (n) {
if (o(n, t)) return "";
var r = n.attributeName;
return n.hasBooleanValue || n.hasOverloadedBooleanValue && t === !0 ? r + '=""' : r + "=" + s(t);
}
return a.isCustomAttribute(e) ? null == t ? "" : e + "=" + s(t) : null;
},
createMarkupForCustomAttribute: function(e, t) {
return r(e) && null != t ? e + "=" + s(t) : "";
},
setValueForProperty: function(e, t, n) {
var r = a.properties.hasOwnProperty(t) ? a.properties[t] : null;
if (r) {
var i = r.mutationMethod;
if (i) i(e, n); else if (o(r, n)) this.deleteValueForProperty(e, t); else if (r.mustUseAttribute) {
var s = r.attributeName, l = r.attributeNamespace;
l ? e.setAttributeNS(l, s, "" + n) : r.hasBooleanValue || r.hasOverloadedBooleanValue && n === !0 ? e.setAttribute(s, "") : e.setAttribute(s, "" + n);
} else {
var u = r.propertyName;
r.hasSideEffects && "" + e[u] == "" + n || (e[u] = n);
}
} else a.isCustomAttribute(t) && c.setValueForAttribute(e, t, n);
},
setValueForAttribute: function(e, t, n) {
r(t) && (null == n ? e.removeAttribute(t) : e.setAttribute(t, "" + n));
},
deleteValueForProperty: function(e, t) {
var n = a.properties.hasOwnProperty(t) ? a.properties[t] : null;
if (n) {
var r = n.mutationMethod;
if (r) r(e, void 0); else if (n.mustUseAttribute) e.removeAttribute(n.attributeName); else {
var o = n.propertyName, i = a.getDefaultValueForProperty(e.nodeName, o);
n.hasSideEffects && "" + e[o] === i || (e[o] = i);
}
} else a.isCustomAttribute(t) && e.removeAttribute(t);
}
};
i.measureMethods(c, "DOMPropertyOperations", {
setValueForProperty: "setValueForProperty",
setValueForAttribute: "setValueForAttribute",
deleteValueForProperty: "deleteValueForProperty"
}), e.exports = c;
}, function(e, t, n) {
"use strict";
function r(e) {
null != e.checkedLink && null != e.valueLink ? u(!1) : void 0;
}
function o(e) {
r(e), null != e.value || null != e.onChange ? u(!1) : void 0;
}
function a(e) {
r(e), null != e.checked || null != e.onChange ? u(!1) : void 0;
}
function i(e) {
if (e) {
var t = e.getName();
if (t) return " Check the render method of `" + t + "`.";
}
return "";
}
var s = n(510), l = n(231), u = n(29), p = (n(42), {
button: !0,
checkbox: !0,
image: !0,
hidden: !0,
radio: !0,
reset: !0,
submit: !0
}), c = {
value: function(e, t, n) {
return !e[t] || p[e.type] || e.onChange || e.readOnly || e.disabled ? null : new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.");
},
checked: function(e, t, n) {
return !e[t] || e.onChange || e.readOnly || e.disabled ? null : new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.");
},
onChange: s.func
}, f = {}, d = {
checkPropTypes: function(e, t, n) {
for (var r in c) {
if (c.hasOwnProperty(r)) var o = c[r](t, r, e, l.prop);
if (o instanceof Error && !(o.message in f)) {
f[o.message] = !0;
i(n);
}
}
},
getValue: function(e) {
return e.valueLink ? (o(e), e.valueLink.value) : e.value;
},
getChecked: function(e) {
return e.checkedLink ? (a(e), e.checkedLink.value) : e.checked;
},
executeOnChange: function(e, t) {
return e.valueLink ? (o(e), e.valueLink.requestChange(t.target.value)) : e.checkedLink ? (a(e), 
e.checkedLink.requestChange(t.target.checked)) : e.onChange ? e.onChange.call(void 0, t) : void 0;
}
};
e.exports = d;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
this.props = e, this.context = t, this.refs = a, this.updater = n || o;
}
var o = n(509), a = (n(233), n(191)), i = n(29);
n(42);
r.prototype.isReactComponent = {}, r.prototype.setState = function(e, t) {
"object" != typeof e && "function" != typeof e && null != e ? i(!1) : void 0, this.updater.enqueueSetState(this, e), 
t && this.updater.enqueueCallback(this, t);
}, r.prototype.forceUpdate = function(e) {
this.updater.enqueueForceUpdate(this), e && this.updater.enqueueCallback(this, e);
};
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(323), o = n(72), a = {
processChildrenUpdates: r.dangerouslyProcessChildrenUpdates,
replaceNodeWithMarkupByID: r.dangerouslyReplaceNodeWithMarkupByID,
unmountIDFromEnvironment: function(e) {
o.purgeID(e);
}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
var r = n(489), o = n(319), a = n(72), i = n(84), s = n(29), l = {
dangerouslySetInnerHTML: "`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",
style: "`style` must be set using `updateStylesByID()`."
}, u = {
updatePropertyByID: function(e, t, n) {
var r = a.getNode(e);
l.hasOwnProperty(t) ? s(!1) : void 0, null != n ? o.setValueForProperty(r, t, n) : o.deleteValueForProperty(r, t);
},
dangerouslyReplaceNodeWithMarkupByID: function(e, t) {
var n = a.getNode(e);
r.dangerouslyReplaceNodeWithMarkup(n, t);
},
dangerouslyProcessChildrenUpdates: function(e, t) {
for (var n = 0; n < e.length; n++) e[n].parentNode = a.getNode(e[n].parentID);
r.processUpdates(e, t);
}
};
i.measureMethods(u, "ReactDOMIDOperations", {
dangerouslyReplaceNodeWithMarkupByID: "dangerouslyReplaceNodeWithMarkupByID",
dangerouslyProcessChildrenUpdates: "dangerouslyProcessChildrenUpdates"
}), e.exports = u;
}, function(e, t, n) {
"use strict";
var r = n(237), o = r({
INSERT_MARKUP: null,
MOVE_EXISTING: null,
REMOVE_NODE: null,
SET_MARKUP: null,
TEXT_CONTENT: null
});
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
s.enqueueUpdate(e);
}
function o(e, t) {
var n = i.get(e);
return n ? n : null;
}
var a = (n(93), n(71)), i = n(188), s = n(64), l = n(37), u = n(29), p = (n(42), 
{
isMounted: function(e) {
var t = i.get(e);
return t ? !!t._renderedComponent : !1;
},
enqueueCallback: function(e, t) {
"function" != typeof t ? u(!1) : void 0;
var n = o(e);
return n ? (n._pendingCallbacks ? n._pendingCallbacks.push(t) : n._pendingCallbacks = [ t ], 
void r(n)) : null;
},
enqueueCallbackInternal: function(e, t) {
"function" != typeof t ? u(!1) : void 0, e._pendingCallbacks ? e._pendingCallbacks.push(t) : e._pendingCallbacks = [ t ], 
r(e);
},
enqueueForceUpdate: function(e) {
var t = o(e, "forceUpdate");
t && (t._pendingForceUpdate = !0, r(t));
},
enqueueReplaceState: function(e, t) {
var n = o(e, "replaceState");
n && (n._pendingStateQueue = [ t ], n._pendingReplaceState = !0, r(n));
},
enqueueSetState: function(e, t) {
var n = o(e, "setState");
if (n) {
var a = n._pendingStateQueue || (n._pendingStateQueue = []);
a.push(t), r(n);
}
},
enqueueSetProps: function(e, t) {
var n = o(e, "setProps");
n && p.enqueueSetPropsInternal(n, t);
},
enqueueSetPropsInternal: function(e, t) {
var n = e._topLevelWrapper;
n ? void 0 : u(!1);
var o = n._pendingElement || n._currentElement, i = o.props, s = l({}, i.props, t);
n._pendingElement = a.cloneAndReplaceProps(o, a.cloneAndReplaceProps(i, s)), r(n);
},
enqueueReplaceProps: function(e, t) {
var n = o(e, "replaceProps");
n && p.enqueueReplacePropsInternal(n, t);
},
enqueueReplacePropsInternal: function(e, t) {
var n = e._topLevelWrapper;
n ? void 0 : u(!1);
var o = n._pendingElement || n._currentElement, i = o.props;
n._pendingElement = a.cloneAndReplaceProps(o, a.cloneAndReplaceProps(i, t)), r(n);
},
enqueueElementInternal: function(e, t) {
e._pendingElement = t, r(e);
}
});
e.exports = p;
}, function(e, t) {
"use strict";
e.exports = "0.14.3";
}, function(e, t, n) {
"use strict";
function r(e) {
return null == e ? null : 1 === e.nodeType ? e : o.has(e) ? a.getNodeFromInstance(e) : (null != e.render && "function" == typeof e.render ? i(!1) : void 0, 
void i(!1));
}
var o = (n(93), n(188)), a = n(72), i = n(29);
n(42);
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
var r = e, o = void 0 === r[n];
o && null != t && (r[n] = t);
}
function o(e) {
if (null == e) return e;
var t = {};
return a(e, r, t), t;
}
var a = n(336);
n(42);
e.exports = o;
}, function(e, t) {
"use strict";
function n(e) {
var t, n = e.keyCode;
return "charCode" in e ? (t = e.charCode, 0 === t && 13 === n && (t = 13)) : t = n, 
t >= 32 || 13 === t ? t : 0;
}
e.exports = n;
}, function(e, t) {
"use strict";
function n(e) {
var t = this, n = t.nativeEvent;
if (n.getModifierState) return n.getModifierState(e);
var r = o[e];
return r ? !!n[r] : !1;
}
function r(e) {
return n;
}
var o = {
Alt: "altKey",
Control: "ctrlKey",
Meta: "metaKey",
Shift: "shiftKey"
};
e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
var t = e.target || e.srcElement || window;
return 3 === t.nodeType ? t.parentNode : t;
}
e.exports = n;
}, function(e, t) {
"use strict";
function n(e) {
var t = e && (r && e[r] || e[o]);
return "function" == typeof t ? t : void 0;
}
var r = "function" == typeof Symbol && Symbol.iterator, o = "@@iterator";
e.exports = n;
}, function(e, t, n) {
"use strict";
/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(e, t) {
if (!a.canUseDOM || t && !("addEventListener" in document)) return !1;
var n = "on" + e, r = n in document;
if (!r) {
var i = document.createElement("div");
i.setAttribute(n, "return;"), r = "function" == typeof i[n];
}
return !r && o && "wheel" === e && (r = document.implementation.hasFeature("Events.wheel", "3.0")), 
r;
}
var o, a = n(65);
a.canUseDOM && (o = document.implementation && document.implementation.hasFeature && document.implementation.hasFeature("", "") !== !0), 
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(65), o = n(234), a = n(236), i = function(e, t) {
e.textContent = t;
};
r.canUseDOM && ("textContent" in document.documentElement || (i = function(e, t) {
a(e, o(t));
})), e.exports = i;
}, function(e, t) {
"use strict";
function n(e, t) {
var n = null === e || e === !1, r = null === t || t === !1;
if (n || r) return n === r;
var o = typeof e, a = typeof t;
return "string" === o || "number" === o ? "string" === a || "number" === a : "object" === a && e.type === t.type && e.key === t.key;
}
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
return y[e];
}
function o(e, t) {
return e && null != e.key ? i(e.key) : t.toString(36);
}
function a(e) {
return ("" + e).replace(g, r);
}
function i(e) {
return "$" + a(e);
}
function s(e, t, n, r) {
var a = typeof e;
if (("undefined" === a || "boolean" === a) && (e = null), null === e || "string" === a || "number" === a || u.isValidElement(e)) return n(r, e, "" === t ? d + o(e, 0) : t), 
1;
var l, p, y = 0, g = "" === t ? d : t + h;
if (Array.isArray(e)) for (var m = 0; m < e.length; m++) l = e[m], p = g + o(l, m), 
y += s(l, p, n, r); else {
var b = c(e);
if (b) {
var v, _ = b.call(e);
if (b !== e.entries) for (var S = 0; !(v = _.next()).done; ) l = v.value, p = g + o(l, S++), 
y += s(l, p, n, r); else for (;!(v = _.next()).done; ) {
var w = v.value;
w && (l = w[1], p = g + i(w[0]) + h + o(l, 0), y += s(l, p, n, r));
}
} else if ("object" === a) {
String(e);
f(!1);
}
}
return y;
}
function l(e, t, n) {
return null == e ? 0 : s(e, "", t, n);
}
var u = (n(93), n(71)), p = n(134), c = n(332), f = n(29), d = (n(42), p.SEPARATOR), h = ":", y = {
"=": "=0",
".": "=1",
":": "=2"
}, g = /[=.:]/g;
e.exports = l;
}, function(e, t, n) {
"use strict";
var r = (n(37), n(85)), o = (n(42), r);
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
s("Emblems.getEquippedEmblem", {
personaId: e,
platform: SpartaGlobals.bundlePlatform.toLowerCase()
}).then(function(e) {
return u.emblemState.setEquippedEmblem(e);
})["catch"](function() {
return console.warn("Error fetching equipped emblem");
});
}
function o() {
var e = l.getState();
e && e.spartaUserId.personaId && c(e.spartaUserId.personaId);
}
function a(e) {
s("Petition.reportEquippedEmblem", {
personaId: e
}).then(function(e) {
e || console.warn("Error reporting the equipped emblem, reporting failed");
})["catch"](function() {
return console.warn("Error reporting the equipped emblem");
});
}
function i(e) {
s("Emblems.getEquippedEmblem", {
personaId: e,
platform: SpartaGlobals.bundlePlatform.toLowerCase()
}).then(function(t) {
return u.emblemState.addEmblemForPersona(e, t);
})["catch"](function() {
u.emblemState.addEmblemForPersona(e), console.warn("Error fetching equipped emblem");
});
}
var s = n(26).request, l = n(48), u = (n(38), n(192)), p = n(4), c = p.debounce(r, 3e4, !0);
t.refreshEquippedEmblem = o, t.reportEquippedEmblem = a, t.requestEmblemForPersona = i;
}, function(e, t) {
"use strict";
function n(e, t) {
return e.progression.needed > 1 && t.progression.needed > 1 ? e.progression.needed - t.progression.needed : e.progression.needed > 1 ? -1 : t.progression.needed > 1 ? 1 : e.progression.needed === t.progression.needed ? e.progression.unlocked ? -1 : t.progression.unlocked ? 1 : 0 : 1 === e.progression.needed ? 1 : 1 === t.progression.needed ? -1 : e.progression.needed - t.progression.needed;
}
t.sortItemsByProgression = n;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = function() {
function e(e, t) {
this.name = e, this.amount = 0, this.amount = t;
}
return e.prototype.updateAmount = function(e) {
this.amount = e;
}, r([ o.observable ], e.prototype, "amount", void 0), r([ o.action ], e.prototype, "updateAmount", null), 
e;
}();
t.GameWalletConsumable = a;
var i = function() {
function e(e) {
this.game = e, this.consumables = {};
}
return e.prototype.getValueOf = function(e) {
return this.consumables[e] ? this.consumables[e].amount : 0;
}, e.prototype.updateData = function(e) {
var t = this;
Object.keys(e).forEach(function(n) {
t.consumables[n] ? t.consumables[n].updateAmount(e[n]) : t.consumables[n] = new a(n, e[n]);
});
}, r([ o.observable ], e.prototype, "consumables", void 0), r([ o.action ], e.prototype, "updateData", null), 
e;
}();
t.GameWallet = i;
var s = function() {
function e() {
this.wallets = {};
}
return e.prototype.getWallet = function(e) {
return this.wallets[e] || (this.wallets[e] = new i(e)), this.wallets[e];
}, e.prototype.updateWallet = function(e, t) {
this.wallets[e] || (this.wallets[e] = new i(e)), this.wallets[e].updateData(t);
}, r([ o.action ], e.prototype, "updateWallet", null), e;
}();
t.WalletStore = s, t.walletStore = new s();
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t, n, r, o) {
return d.UpdateRSPClient.triggerAsPromise(e, t, {
bannerSettings: {
bannerUrl: n.bannerUrl,
clearBanner: !n.bannerUrl
},
mapRotation: r,
serverSettings: p.extend({}, n, {
mapRotationId: r.id
}, {
customGameSettings: JSON.stringify(o)
})
});
}
function r(e, t, n, r) {
var o = "rsp:ServerId=" + e + ";Slots=64,PingSiteAlias=" + n;
return new Promise(function(e, n) {
f.triggerAsPromise(t, o, r).then(function() {
var r = y.checkoutCompleted.listen(function(o, a, i) {
a.productId === t.productId && (r(), o.status === o.CHECKOUT_COMPLETED ? i.serverId ? e(i.serverId) : (g.spartaErrorMessage(__("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_RETRY"), __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT")), 
n()) : n());
});
})["catch"](function(e) {
console.error(e);
var t = "";
switch (e.code) {
case -22505:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT_PINGSITE_CAPACITY_MAX_REACHED");
break;

case -22506:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT_SERVER_USER_OWNER_MAX_REACHED");
break;

default:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT_GENERIC");
}
g.spartaErrorMessage(t, __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT")), n(e);
});
});
}
function o(e, t) {
return new Promise(function(n, r) {
var o = m.findByRSPId(e, t);
if (o) n(o); else {
var a = m.listen(function() {
o = m.findByRSPId(e, t), o && (a(), n(o));
});
b.refreshRentedServers(e);
}
});
}
function a(e) {
return d.GetRSPPingSitesClient.triggerAsPromise(e);
}
function i(e) {
return new Promise(function(t, n) {
var r = v.getRSPOffers(e);
if (r.length) t(r); else {
var o = v.listen(function() {
var n = v.getGameState(e);
n.loading || (o(), r = v.getRSPOffers(e), t(r));
});
y.updateOffers([ e ]);
}
});
}
function s(e, t) {
return new Promise(function(n) {
var r = c.rspPurchaseStore.getType(e, t);
r instanceof Array ? n(r[0]) : d.RSPResumablePurchasesClient.triggerAsPromise(e).then(function(e) {
if (e instanceof Array) {
var r = e.filter(function(e) {
return e.state.value === t;
});
n(r[0]);
} else n();
});
});
}
function l(e) {
return new Promise(function(t) {
var n = h.rspTemplateStore.getTemplate(e);
return n ? void t(n) : void d.RSPTemplateClient.triggerAsPromise(e).then(function(e) {
t(e);
})["catch"](function() {
t();
});
});
}
function u(e, t) {
return new Promise(function(n, r) {
b.clearRentedServerDetails();
var o = _.listen(function(e) {
e.data && (o(), n(e.data));
});
b.getDetailsForRentedServer({
game: e,
serverId: t
});
});
}
var p = n(4), c = n(238), f = n(257).StartPurchaseRequest, d = n(342), h = n(527), y = n(51), g = n(69), m = n(280), b = n(22), v = n(122), _ = n(412);
t.updateServer = e, t.purchaseServer = r, t.fetchServer = o, t.fetchRspPingSites = a, 
t.fetchRspOffers = i, t.fetchResumablePurchase = s, t.fetchRSPTemplate = l, t.fetchServerDetails = u;
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = n(4), o = n(21), a = n(52).gatewayClient, i = n(34), s = n(51), l = n(87), u = n(194), p = n(238);
t.UpdateRSPClient = o.createClient({
listener: function(e, t, n) {
return [ e, {
game: e,
serverId: t,
bannerSettings: n.bannerSettings,
mapRotation: n.mapRotation,
serverSettings: n.serverSettings
} ];
},
request: function(e, t) {
return a.request("RSP.updateServer", t);
},
parse: function(e) {
return e;
},
update: function(e) {
this.publish(e.serverId);
}
}), t.GetRSPPingSitesClient = o.createClient({
shouldPerformRequest: function() {
return i.getState().isReady();
},
listener: function(e) {
return [ e ];
},
request: function(e) {
return a.request("RSP.getPingSites", {
game: e
});
},
onRequestError: function(e) {
this.publish([]);
},
parse: function(e) {
return e.pingSites;
},
update: function(e) {
this.publish(e);
}
}), t.RSPResumablePurchasesClient = o.createClient({
request: function(e) {
return a.firstPartyRequest("Inventory.getPurchases", {
games: [ e ],
categories: [ "rsp" ]
});
},
parse: function(e) {
return e.purchases;
},
onRequestError: function() {
this.publish();
},
update: function(e, t, n) {
e.length > 0 && l.trackEvent("RSP", "ResumablePurchases", e.length), p.rspPurchaseStore.setPurchases(n, e), 
this.publish(e);
}
}), t.RSPCompletePendingPurchaseClient = o.createClient({
request: function(e) {
return a.firstPartyRequest("Inventory.completePurchase", {
game: e.game,
productId: "",
purchaseId: e.purchaseId,
transactionId: e.purchaseId,
result: "completed",
pinData: null
});
},
onRequestError: function() {
l.trackEvent("RSP", "CompletePendingPurchase", "Failure"), this.publish();
},
parse: function(e) {
return e;
},
update: function(e) {
l.trackEvent("RSP", "CompletePendingPurchase", "Success"), this.publish(e);
}
}), t.RSPTemplateClient = o.createClient({
request: function(e) {
return a.request("RSP.getTemplate", {
game: e
});
},
parse: function(e) {
var t = r.find(e.templates, function(e) {
return "default" === e.name;
}), n = r.map(t.levelList, function(e) {
var t = e.levelName, n = e.gameModes;
return {
levelName: t,
gameModes: n
};
}), o = r.map(t.gameModeList, function(e) {
var t = e.gameModeShortName, n = e.gameModeName, r = e.playerCount;
return {
gameModeShortName: t,
gameModeName: n,
playerCount: parseInt(r, 10)
};
}), a = r.map(t.maskTemplateList, function(e) {
var t = e.maskName, n = e.maskEntries;
return {
maskName: t,
entries: n
};
});
return new u.RSPTemplate(n, o, a);
},
update: function(e, t, n) {
s.updateRSPTemplate(n, e), this.publish(e);
}
});
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(2), a = n(10), i = n(50), s = n(53), l = n(171), u = a.observable({
gameViewVisible: !1,
contentVisible: !1,
popupVisible: !1,
mainMenuVisible: !1,
comCenterVisible: !1
});
i.listen(a.action("storeIconState.gameViewVisible", function(e) {
u.gameViewVisible = e.isVisible;
})), s.listen(a.action("storeIconState.contentViewVisible", function(e) {
u.contentVisible = e.content && !e.mainMenu && !e.comCenter, u.mainMenuVisible = e.mainMenu, 
u.comCenterVisible = e.comCenter;
})), l.listen(a.action("storeIconState.contentViewVisible", function(e) {
u.popupVisible = Object.keys(e).length > 0;
}));
var p = function() {
function e() {
var e = this;
this.popup = new c(function() {
return u.contentVisible && u.popupVisible;
}), this.content = new c(function() {
return u.contentVisible && !u.gameViewVisible && !u.mainMenuVisible && !u.popupVisible;
}), this.isPurchaseActive = !1, a.reaction(function() {
return e.showPrice;
}, function(e) {
return o.frostbite.sendMessage(e ? "sparta.orbis.showStoreIcon" : "sparta.orbis.hideStoreIcon");
}, !0);
}
return Object.defineProperty(e.prototype, "showPrice", {
get: function() {
return !this.isPurchaseActive && (this.content.visibility || this.popup.visibility);
},
enumerable: !0,
configurable: !0
}), e.prototype.setPurchaseActive = function(e) {
this.isPurchaseActive = e;
}, r([ a.observable ], e.prototype, "isPurchaseActive", void 0), r([ a.computed ], e.prototype, "showPrice", null), 
r([ a.action ], e.prototype, "setPurchaseActive", null), e;
}(), c = function() {
function e(e) {
this.visibilityCheck = e, this.numPricesMounted = 0;
}
return Object.defineProperty(e.prototype, "visibility", {
get: function() {
return this.numPricesMounted > 0 && this.visibilityCheck();
},
enumerable: !0,
configurable: !0
}), e.prototype.add = function() {
++this.numPricesMounted;
}, e.prototype.remove = function() {
--this.numPricesMounted;
}, r([ a.observable ], e.prototype, "numPricesMounted", void 0), r([ a.computed ], e.prototype, "visibility", null), 
r([ a.action ], e.prototype, "add", null), r([ a.action ], e.prototype, "remove", null), 
e;
}();
t.AreaState = c, t.ps4StoreIconStore = new p();
}, function(e, t) {
"use strict";
function n(e, t, n) {
var r = t || 256, o = n || "png";
return e.replace(/\[SIZE\]/, r.toString()).replace(/\[FORMAT\]/, o);
}
t.imageUrlFromTemplate = n;
}, function(e, t) {
"use strict";
var n = function() {
function e(e, t, n, r, o) {
this.personaId = e, this.sessionId = t, this.envId = n, this.parameters = r, this.entitlements = o;
}
return e;
}();
t.GatewaySession = n;
}, function(e, t, n) {
"use strict";
function r(e) {
if (p.getState().hostingGameId !== e) return null;
var t = i.gameStore.getGame(e);
if (!t) throw new Error("Could not find Game with gameId '" + e + "'");
return t.gameViewComponent;
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(10), i = n(11), s = n(81), l = n(30), u = n(46), p = n(19), c = function() {
function e() {
this.showNotice = !1, this.gameViewComponent = null, this.isRunning = !1;
}
return e.prototype.toggleNotice = function(e) {
this.showNotice = e;
}, e.prototype.start = function(e) {
this.gameViewComponent = r(e), this.showNotice = null == this.gameViewComponent, 
this.isRunning = !0;
}, e.prototype.end = function() {
this.showNotice = !1, this.isRunning = !1;
}, o([ a.observable ], e.prototype, "showNotice", void 0), o([ a.observable ], e.prototype, "gameViewComponent", void 0), 
o([ a.action ], e.prototype, "toggleNotice", null), o([ a.action ], e.prototype, "start", null), 
o([ a.action ], e.prototype, "end", null), e;
}();
t.joinFlowState = new c(), s.start.listen(function(e) {
t.joinFlowState.start(e.gameId);
}), l.handleJoinReady.listen(function(e) {
t.joinFlowState.isRunning || e.squadJoin || t.joinFlowState.start(e.server.game);
}), l.leftServer.listen(function() {
t.joinFlowState.end();
}), s.removeSession.listen(function() {
t.joinFlowState.end();
}), u.browseWhileWaiting.listen(function(e) {
t.joinFlowState.toggleNotice(e);
});
}, function(e, t, n) {
"use strict";
var r = n(10), o = n(22), a = n(207), i = n(208);
t.pingResults = r.map(), SpartaGlobals.bundleIsPC && (o.requestPings.listen(function(e) {
a.ping(e);
}), i.pingCompleted.listen(r.action("pingCompleted", function(e, n, r) {
t.pingResults.set(e, r ? -1 : n);
})));
}, function(e, t, n) {
"use strict";
var r = n(243), o = n(11), a = n(21), i = n(52).gatewayClient;
t.GetTakeoversClient = a.createClient({
shouldPerformRequest: function() {
return !o.takeoverStore.hasFetched;
},
request: function(e) {
return i.request("Takeover.getTakeovers", {
game: e
});
},
parse: function(e, t) {
if (!e || 0 === e.length) return [];
for (var n = [], o = 0; o < e.length; o++) {
var a = e[o], i = new r.Takeover();
i.id = a.id, i.gameId = t, i.title = a.title, i.subTitle = a.subtitle, i.description = a.description, 
a.backgroundUrl && (i.backgroundUrl = a.backgroundUrl), n.push(i);
}
return n;
},
onRequestError: function() {
o.takeoverStore.setFetched();
},
update: function(e) {
o.takeoverStore.populateTakeovers(e);
}
}), t.TakeoverSeenClient = a.createClient({
request: function(e) {
return i.request("Takeover.takeoverSeen", {
game: e.gameId,
takeoverId: e.id
});
},
parse: function() {},
update: function() {}
});
}, function(e, t, n) {
"use strict";
function r(e) {
return I[e] < E;
}
function o(e, t, n) {
setTimeout(function() {
S.fetchEorData(e, t, n);
}, 5e3);
}
function a(e) {
var t = e.serverInfo || {}, n = e.personalInfo || {}, r = e.squadInfo || {}, o = e.highlights || [], a = e.scoreboard || {}, l = e.battlePacks || {}, u = e.ranks, p = e.reportId, d = e.roundDuration, h = e.timeStamp, m = c(t), b = f(n), v = y(r), _ = g(o), S = s(a), w = i(l);
return new C.EndOfRoundData(p, d, u, w, _, b, m, v, S, h);
}
function i(e) {
var t = e.gameReportId;
if (t) {
var n = e.packs || [], r = e.players || [], o = n.map(function(e) {
return new C.EndOfRoundBattlepackInfo(e.id, e.imageUrl);
}), a = r.map(function(e) {
return new C.EndOfRoundPlayerBattlePack((e.personaId || "").toString(), (e.platformId || "").toString(), e.name, e.avatarUrl, e.packId);
});
return new C.EndOfRoundBattlepacks(t, a, o);
}
}
function s(e) {
var t = e.winner, n = e.teams || [], r = n.map(function(e) {
return l(e, t);
});
return new C.EndOfRoundScoreboard(r, t);
}
function l(e, t) {
var n = e.teamId, r = n === t, o = u(e.counter), a = p(e.faction || {}), i = e.players.map(function(e) {
return new C.EndOfRoundScoreboardEntry(e);
});
return new C.EndOfRoundTeam(n, a, i, o, r);
}
function u(e) {
var t = e || {};
return new C.EndOfRoundCounter(t.attacker || 0, t.bases || 0, t.counterType, t.life || 0, t.startingLife || 0, t.teamId || 0);
}
function p(e) {
return new C.EndOfRoundFaction(e.id, e.imageUrl, e.name);
}
function c(e) {
return new C.EndOfRoundServerInfo(e);
}
function f(e) {
var t = e.awardTrain || [], n = e.stats || {}, r = e.rankProgression || {}, o = t.map(function(e) {
return new C.EndOfRoundAward(e);
}), a = d(r), i = h(n);
return new C.EndOfRoundPersonalStats(e, [], a, i, o);
}
function d(e) {
var t = e.ranks || [], n = e.scores || [], r = t.map(function(e) {
return new C.EndOfRoundRank(e.imageUrl, e.number, e.name, e.scoreNeeded, e.warBonds, e.isMaxRank);
}), o = n.map(function(e) {
return new C.EndOfRoundRankScore(e.id, e.name, e.value);
}), a = parseInt(e.initialValue, 10) || 0, i = parseInt(e.minutesToNextRank, 10) || 0;
return new C.EndOfRoundRankProgression(a, i, r, o);
}
function h(e) {
return new C.EndOfRoundStats(e);
}
function y(e) {
var t = e.squadId, n = e.teamId, r = e.highlights || [], o = e.stats || {}, a = h(o), i = r.map(function(e) {
return m(e);
});
return new C.EndOfRoundSquadInfo(t, n, i, a);
}
function g(e) {
var t = e.map(function(e) {
return m(e);
});
return t;
}
function m(e) {
var t = b(e.player), n = e.value, r = 0;
return isNaN(n) || (r = parseInt(n, 10) || parseFloat(n)), new C.EndOfRoundHighlight(e.id, e.name, t, e.unit, r);
}
function b(e) {
return new C.EndOfRoundPlayer(e.avatar, e.name, (e.personaId || "").toString(), (e.platformId || "").toString(), e.rank, e.teamId);
}
var v = n(21), _ = n(26), S = n(36), w = n(87), T = n(78), C = n(562), E = 5, I = {}, P = v.createClient({
requestOn: [ S.fetchEorData ],
throttle: 600,
shouldPerformRequest: function(e) {
return I[e] = (I[e] || 0) + 1, I[e] <= E;
},
request: function(e, t, n) {
void 0 === t && (t = !1), void 0 === n && (n = !1);
var r = "EndOfRound.getEorData";
return n ? r = "EndOfRound.getEorDataForSpectator" : t && (r = "EndOfRound.getOldEorData"), 
_.request(r, {
game: "tunguska",
gameReportId: e,
attempts: I[e]
});
},
onRequestError: function(e, t, n, a) {
w.trackEvent("EndOfRound", "FailedAttempt", e.code), r(t) ? o(t, n, a) : (T.tunguskaEndOfRoundStore.setEndOfRoundData(void 0), 
T.tunguskaEndOfRoundStore.setError(e), w.trackEvent("EndOfRound", "Error", "MaxAttempts"));
},
parse: function(e) {
return e ? a(e) : void 0;
},
update: function(e, t, n, a, i) {
e ? (T.tunguskaEndOfRoundStore.setEndOfRoundData(e), w.trackEvent("EndOfRound", "Success", I[n])) : r(n) ? (w.trackEvent("EndOfRound", "FailedAttempt", "NoData"), 
o(n, a, i)) : w.trackEvent("EndOfRound", "Error", "NoData");
}
});
t.parseEndOfRoundData = a, t.parseBattlePacks = i, Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = P;
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
var t = {
CodexEntryCategory_Weapons: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_WEAPONS"),
CodexEntryCategory_Vehicles: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_VEHICLES"),
CodexEntryCategory_Tactics: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_TACTICS"),
CodexEntryCategory_War: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_WAR"),
CodexEntryCategory_World: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_WORLD")
};
return t[e] || "";
}
function r(e) {
var t = {
c124: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c124-787d4263.jpg"),
c125: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c125-9edd4227.jpg"),
c126: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c126-8fc65ecb.jpg"),
c127: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c127-b60ec47f.jpg"),
c128: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c128-9f2341bc.jpg"),
c129: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c129-ad93a5e7.jpg"),
c130: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c130-6805066c.jpg"),
c131: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c131-3c4bf8b7.jpg"),
c132: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c132-2c7f6e1d.jpg"),
c133: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c133-190ec9fb.jpg"),
c134: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c134-e673fc4f.jpg"),
c135: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c135-d5841139.jpg"),
c136: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c136-d9ce7cc2.jpg"),
c137: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c137-92012e01.jpg"),
c138: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c138-fd86daf9.jpg"),
c139: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c139-ef086b0e.jpg"),
c140: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c140-e4905a6c.jpg"),
c141: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c141-fa768ea4.jpg"),
c142: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c142-c8b9ccfc.jpg"),
c143: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c143-383cdefa.jpg"),
c144: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c144-7373e4dc.jpg"),
c145: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c145-93b0e6a4.jpg"),
c146: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c146-ced86c68.jpg"),
c147: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c147-cd022aea.jpg"),
c148: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c148-178c6d7b.jpg"),
c149: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c149-de6e339a.jpg"),
c150: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c150-f833fc42.jpg"),
c151: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c151-6f822064.jpg"),
c152: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c152-8334825a.jpg"),
c153: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c153-adc146c2.jpg"),
c154: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c154-9cfad38f.jpg"),
c155: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c155-b02b8ead.jpg"),
c156: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c156-0d84eb70.jpg"),
c157: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c157-10baafa3.jpg"),
c158: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c158-96776f14.jpg"),
c159: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c159-2a2198ae.jpg"),
c160: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c160-3808716a.jpg"),
c161: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c161-2cb12c6e.jpg"),
c162: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c162-37e71bb5.jpg"),
c163: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c163-15d71729.jpg"),
c164: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c164-69a2885a.jpg"),
c165: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c165-2d3c99a1.jpg"),
c166: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c166-b1866421.jpg"),
c167: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c167-84a50e8f.jpg"),
c168: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c168-1b795dd4.jpg"),
c169: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c169-2dbd19ed.jpg"),
c170: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c170-c08f2edd.jpg"),
c171: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c171-ef5720fd.jpg"),
c172: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c172-b2f1ede1.jpg"),
c173: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c173-6215f641.jpg"),
c174: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c174-292983ea.jpg"),
c175: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c175-dc82f620.jpg"),
c176: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c176-47aff5b9.jpg"),
c177: u.bbOfflineUrl("/sparta/assets/images/bf1/codex/c177-8f6a27a4.jpg")
};
return t[e];
}
var o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(2), i = n(10), s = n(4), l = n(158), u = n(9), p = n(83), c = n(36), f = "Levels/SP/EP6_Epilogue/SP_Epilogue/SP_Epilogue", d = function() {
function e(e, t, n, r) {
this.title = e, this.description = t, this.codeBooksTotal = n, this.codeBooksCollected = r;
}
return o([ i.observable ], e.prototype, "title", void 0), o([ i.observable ], e.prototype, "description", void 0), 
o([ i.observable ], e.prototype, "codeBooksTotal", void 0), o([ i.observable ], e.prototype, "codeBooksCollected", void 0), 
e;
}();
t.ObjectiveItem = d;
var h = function() {
function e(e, t, n) {
var r = this;
this.chapters = e, this.name = n, this.isCompleted = !1, i.action("CampaignEpisode init", function() {
r.chapters = e, r.isCompleted = t, r.name = n;
})();
}
return Object.defineProperty(e.prototype, "isEpilogue", {
get: function() {
var e = !1;
return this.chapters.forEach(function(t) {
t.isEpilogue && (e = !0);
}), e;
},
enumerable: !0,
configurable: !0
}), o([ i.observable ], e.prototype, "isCompleted", void 0), o([ i.computed ], e.prototype, "isEpilogue", null), 
e;
}();
t.CampaignEpisode = h;
var y = function() {
function e(e, t, n, r, o, a, i, s, l, u, p) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === r && (r = ""), void 0 === o && (o = !1), 
void 0 === a && (a = !1), void 0 === i && (i = !1), void 0 === s && (s = !1), void 0 === l && (l = ""), 
void 0 === u && (u = ""), void 0 === p && (p = []), this.codeBooksCollected = e, 
this.codeBooksTotal = t, this.codexEntries = n, this.currentObjective = r, this.isCompleted = o, 
this.isCooperative = a, this.isEpilogue = i, this.isMenu = s, this.name = l, this.path = u, 
this.startPoints = p;
}
return e;
}();
t.EpisodeChapter = y;
var g = function() {
function e(e, t, n) {
void 0 === e && (e = ""), void 0 === t && (t = !1), void 0 === n && (n = ""), this.category = e, 
this.isDefault = t, this.name = n;
}
return e;
}();
t.ChapterStartPoint = g;
var m = function() {
function e() {
this.episodes = [], this.currentObjective = null;
}
return e.prototype.updateObjective = function(e) {
this.currentObjective = e;
}, e.prototype.setCampaigns = function(e) {
this.episodes = e;
}, Object.defineProperty(e.prototype, "allCodexEntries", {
get: function() {
var e = [];
return this.episodes.forEach(function(t) {
t.chapters.forEach(function(t) {
e = e.concat(t.codexEntries);
});
}), e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "campaignProgress", {
get: function() {
var e = 0, t = 0, n = 0, r = 0, o = 0, a = 0;
return this.episodes.forEach(function(i) {
i.isEpilogue || (i.isCompleted && e++, i.chapters.forEach(function(e) {
var t = e.codexEntries;
a += e.codeBooksTotal, o += e.codeBooksCollected, n += t.length, t.forEach(function(e) {
e.isCollected && r++;
});
}), t++);
}), {
totalEpisodes: t,
totalCodexEntries: n,
totalCodeBooks: a,
completedEpisodes: e,
completedCodexEntries: r,
completedCodeBooks: o
};
},
enumerable: !0,
configurable: !0
}), e.prototype.getChapter = function(e) {
var t = [];
this.episodes.forEach(function(e) {
t = t.concat(e.chapters);
});
var n = s.find(t, function(t) {
return t.path && e === t.path.toLowerCase();
});
return n;
}, e.prototype.getCodexEntryById = function(e) {
var t = [];
return this.episodes.forEach(function(e) {
e.chapters.forEach(function(e) {
t = t.concat(e.codexEntries);
});
}), s.find(t, function(t) {
return t.id === e;
});
}, o([ i.observable ], e.prototype, "episodes", void 0), o([ i.observable ], e.prototype, "currentObjective", void 0), 
o([ i.action ], e.prototype, "updateObjective", null), o([ i.action ], e.prototype, "setCampaigns", null), 
o([ i.computed ], e.prototype, "allCodexEntries", null), o([ i.computed ], e.prototype, "campaignProgress", null), 
e;
}();
t.TunguskaCampaignStore = m, t.tunguskaCampaignStore = new m();
var b = p(function() {
a.frostbite.sendMessage("tunguska.campaignInformationRequest");
}, 1e4, !0, !1);
c.getCampaignEpisodes.listen(function() {
b();
}), a.frostbite.registerMessageListener("tunguska.campaignInformationResponse", function(n, o) {
if (o && o.campaignInformation && o.campaignInformation.episodes) {
var a = o.campaignInformation.episodes.map(function(t) {
var n = t.chapters.map(function(t) {
var n = t.codexEntries.map(function(t) {
var n = t.criteria || [], o = !0, a = n.map(function(e) {
var t = e.progression || [], n = t.map(function(e) {
return new l.CodexEntryCriteriaProgression(e.unlocked, e.valueAcquired, e.valueNeeded);
});
return new l.CodexEntryCriteria(e.code, e.name, n);
}), i = new l.CodexEntryProgression(t.criteriaName, t.isCompleted, t.progression ? t.progression.valueAcquired : 0, t.progression ? t.progression.valueNeeded : 1), s = new l.CodexEntryDetails(t.description, t.header, [], t.subheader, t.text2), u = r(t.code), p = void 0;
return new l.CodexEntry(e(t.category), t.code, a, s, t.nameSid, t.codexId, u, t.isCompleted, o, i, p);
}), o = t.startPoints || [], a = o.map(function(e) {
return new g(e.category, e.isDefault, e.name);
});
return new y(t.codeBooksCollected, t.codeBooksTotal, n, t.currentObjective, t.isCompleted, t.isCooperative, t.path ? t.path.toLowerCase() === f.toLowerCase() : !1, t.isMenu, t.name, t.path, a);
});
return new h(n, t.isCompleted, t.name);
});
t.tunguskaCampaignStore.setCampaigns(a);
}
}), a.frostbite.registerMessageListener("tunguska.CurrentObjectiveResponse", function(e, n) {
if (n) {
var r = n.objective || "", o = n.description || "", a = n.codeBooksCollected || 0, i = n.codeBooksTotal || 0;
t.tunguskaCampaignStore.updateObjective(new d(r, o, i, a));
}
});
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(2);
!function(e) {
e[e.Muted = 0] = "Muted", e[e.Disabled = 1] = "Disabled", e[e.Silent = 2] = "Silent", 
e[e.Speaking = 3] = "Speaking";
}(t.SpeakingStatus || (t.SpeakingStatus = {}));
var i = t.SpeakingStatus, s = function() {
function e(e) {
this.onlineId = e, this.status = i.Silent;
}
return e.prototype.update = function(e) {
this.speakerId = e.speakerId, this.status = e.status;
}, r([ o.observable ], e.prototype, "speakerId", void 0), r([ o.observable ], e.prototype, "status", void 0), 
r([ o.action ], e.prototype, "update", null), e;
}();
t.VoipPlayer = s;
var l = function() {
function e() {
this.voipPlayers = o.map(), a.frostbite.registerMessageListener("sparta.onVoipSpeakerStatusChanged", this.onVoipSpeakerStatusChanged.bind(this));
}
return e.prototype.getPlayer = function(e) {
return this.voipPlayers.get(e);
}, e.prototype.addPlayer = function(e) {
this.voipPlayers.set(e, new s(e));
}, e.prototype.onVoipSpeakerStatusChanged = function(e, t) {
var n = this;
t && t.speakerChanges && t.speakerChanges.forEach(function(e) {
var t = n.getOrCreatePlayer(e.onlineId);
t.update(e);
});
}, e.prototype.getOrCreatePlayer = function(e) {
return this.voipPlayers.has(e) || this.addPlayer(e), this.voipPlayers.get(e);
}, r([ o.action ], e.prototype, "addPlayer", null), r([ o.action ], e.prototype, "onVoipSpeakerStatusChanged", null), 
e;
}();
t.VoipState = l;
}, function(e, t, n) {
"use strict";
var r = n(9);
t.flagIcons = {
AD: r.bbUrl("/sparta/assets/ui/flags/AD-e4adff7d.png"),
AE: r.bbUrl("/sparta/assets/ui/flags/AE-34aeeb45.png"),
AF: r.bbUrl("/sparta/assets/ui/flags/AF-f4881338.png"),
AG: r.bbUrl("/sparta/assets/ui/flags/AG-4f7153e5.png"),
AI: r.bbUrl("/sparta/assets/ui/flags/AI-7a085bf1.png"),
AL: r.bbUrl("/sparta/assets/ui/flags/AL-a8bfa21a.png"),
AM: r.bbUrl("/sparta/assets/ui/flags/AM-56e77b86.png"),
AN: r.bbUrl("/sparta/assets/ui/flags/AN-e00b5e97.png"),
AO: r.bbUrl("/sparta/assets/ui/flags/AO-8841662d.png"),
AQ: r.bbUrl("/sparta/assets/ui/flags/AQ-9a8eefd0.png"),
AR: r.bbUrl("/sparta/assets/ui/flags/AR-151d1e46.png"),
AS: r.bbUrl("/sparta/assets/ui/flags/AS-bac10830.png"),
AT: r.bbUrl("/sparta/assets/ui/flags/AT-496ebc6e.png"),
AU: r.bbUrl("/sparta/assets/ui/flags/AU-c78ee63c.png"),
AW: r.bbUrl("/sparta/assets/ui/flags/AW-46ef162b.png"),
AX: r.bbUrl("/sparta/assets/ui/flags/AX-5635d351.png"),
AZ: r.bbUrl("/sparta/assets/ui/flags/AZ-d5b6a7a6.png"),
BA: r.bbUrl("/sparta/assets/ui/flags/BA-99323356.png"),
BB: r.bbUrl("/sparta/assets/ui/flags/BB-b8996737.png"),
BD: r.bbUrl("/sparta/assets/ui/flags/BD-c4e23a5d.png"),
BE: r.bbUrl("/sparta/assets/ui/flags/BE-fb78d11e.png"),
BF: r.bbUrl("/sparta/assets/ui/flags/BF-27a4adc9.png"),
BG: r.bbUrl("/sparta/assets/ui/flags/BG-6aebcc10.png"),
BH: r.bbUrl("/sparta/assets/ui/flags/BH-bc6116e2.png"),
BI: r.bbUrl("/sparta/assets/ui/flags/BI-05145efa.png"),
BJ: r.bbUrl("/sparta/assets/ui/flags/BJ-cff84c9f.png"),
BL: r.bbUrl("/sparta/assets/ui/flags/BL-49a69e98.png"),
BM: r.bbUrl("/sparta/assets/ui/flags/BM-c2589543.png"),
BN: r.bbUrl("/sparta/assets/ui/flags/BN-49969ca8.png"),
BO: r.bbUrl("/sparta/assets/ui/flags/BO-29112a71.png"),
BR: r.bbUrl("/sparta/assets/ui/flags/BR-9ea3dd9d.png"),
BS: r.bbUrl("/sparta/assets/ui/flags/BS-06c54b61.png"),
BT: r.bbUrl("/sparta/assets/ui/flags/BT-1191498b.png"),
BW: r.bbUrl("/sparta/assets/ui/flags/BW-d28b1034.png"),
BY: r.bbUrl("/sparta/assets/ui/flags/BY-61745439.png"),
BZ: r.bbUrl("/sparta/assets/ui/flags/BZ-7ee3e3f9.png"),
CA: r.bbUrl("/sparta/assets/ui/flags/CA-1cb4ebdd.png"),
CC: r.bbUrl("/sparta/assets/ui/flags/CC-c4ae74d9.png"),
CD: r.bbUrl("/sparta/assets/ui/flags/CD-7ffcc4fb.png"),
CF: r.bbUrl("/sparta/assets/ui/flags/CF-13c60a13.png"),
CG: r.bbUrl("/sparta/assets/ui/flags/CG-764b5ee3.png"),
CH: r.bbUrl("/sparta/assets/ui/flags/CH-d0466f31.png"),
CI: r.bbUrl("/sparta/assets/ui/flags/CI-6c10a667.png"),
CK: r.bbUrl("/sparta/assets/ui/flags/CK-5b6e46cb.png"),
CL: r.bbUrl("/sparta/assets/ui/flags/CL-91ef7fad.png"),
CM: r.bbUrl("/sparta/assets/ui/flags/CM-0f23f4b8.png"),
CN: r.bbUrl("/sparta/assets/ui/flags/CN-4f9b63e1.png"),
CO: r.bbUrl("/sparta/assets/ui/flags/CO-df91b71e.png"),
CR: r.bbUrl("/sparta/assets/ui/flags/CR-15895bd4.png"),
CU: r.bbUrl("/sparta/assets/ui/flags/CU-080f7630.png"),
CV: r.bbUrl("/sparta/assets/ui/flags/CV-40c2d2be.png"),
CW: r.bbUrl("/sparta/assets/ui/flags/CW-e6c2517b.png"),
CX: r.bbUrl("/sparta/assets/ui/flags/CX-726d4c60.png"),
CY: r.bbUrl("/sparta/assets/ui/flags/CY-7e351f71.png"),
CZ: r.bbUrl("/sparta/assets/ui/flags/CZ-2186557c.png"),
DE: r.bbUrl("/sparta/assets/ui/flags/DE-3f0ece5b.png"),
DJ: r.bbUrl("/sparta/assets/ui/flags/DJ-731ff03d.png"),
DK: r.bbUrl("/sparta/assets/ui/flags/DK-e6ae2fd1.png"),
DM: r.bbUrl("/sparta/assets/ui/flags/DM-08bde27b.png"),
DO: r.bbUrl("/sparta/assets/ui/flags/DO-8dbc556c.png"),
DZ: r.bbUrl("/sparta/assets/ui/flags/DZ-0a977a8f.png"),
EC: r.bbUrl("/sparta/assets/ui/flags/EC-231273bd.png"),
EE: r.bbUrl("/sparta/assets/ui/flags/EE-21c26c51.png"),
EG: r.bbUrl("/sparta/assets/ui/flags/EG-d58f60dc.png"),
EH: r.bbUrl("/sparta/assets/ui/flags/EH-39b91f9a.png"),
ER: r.bbUrl("/sparta/assets/ui/flags/ER-ed880635.png"),
ES: r.bbUrl("/sparta/assets/ui/flags/ES-b73d720d.png"),
ET: r.bbUrl("/sparta/assets/ui/flags/ET-4d0ae275.png"),
EU: r.bbUrl("/sparta/assets/ui/flags/EU-320e862e.png"),
FI: r.bbUrl("/sparta/assets/ui/flags/FI-61123a1d.png"),
FJ: r.bbUrl("/sparta/assets/ui/flags/FJ-879730c4.png"),
FK: r.bbUrl("/sparta/assets/ui/flags/FK-5704bf47.png"),
FM: r.bbUrl("/sparta/assets/ui/flags/FM-a9c3f10c.png"),
FO: r.bbUrl("/sparta/assets/ui/flags/FO-8249d71d.png"),
FR: r.bbUrl("/sparta/assets/ui/flags/FR-d96086fc.png"),
GA: r.bbUrl("/sparta/assets/ui/flags/GA-ba126721.png"),
GB: r.bbUrl("/sparta/assets/ui/flags/GB-7daf4fd0.png"),
GD: r.bbUrl("/sparta/assets/ui/flags/GD-a8341409.png"),
GE: r.bbUrl("/sparta/assets/ui/flags/GE-1ee8f5d0.png"),
GG: r.bbUrl("/sparta/assets/ui/flags/GG-d56b0224.png"),
GH: r.bbUrl("/sparta/assets/ui/flags/GH-e69af5ad.png"),
GI: r.bbUrl("/sparta/assets/ui/flags/GI-05d2c630.png"),
GL: r.bbUrl("/sparta/assets/ui/flags/GL-8e00a7de.png"),
GM: r.bbUrl("/sparta/assets/ui/flags/GM-db071389.png"),
GN: r.bbUrl("/sparta/assets/ui/flags/GN-a04cd28f.png"),
GQ: r.bbUrl("/sparta/assets/ui/flags/GQ-595ac586.png"),
GR: r.bbUrl("/sparta/assets/ui/flags/GR-bb5e4eb4.png"),
GS: r.bbUrl("/sparta/assets/ui/flags/GS-4e207b92.png"),
GT: r.bbUrl("/sparta/assets/ui/flags/GT-66c6de72.png"),
GU: r.bbUrl("/sparta/assets/ui/flags/GU-7396a516.png"),
GW: r.bbUrl("/sparta/assets/ui/flags/GW-269ec765.png"),
GY: r.bbUrl("/sparta/assets/ui/flags/GY-59b053dc.png"),
HK: r.bbUrl("/sparta/assets/ui/flags/HK-27077c47.png"),
HN: r.bbUrl("/sparta/assets/ui/flags/HN-c17bfb28.png"),
HR: r.bbUrl("/sparta/assets/ui/flags/HR-23ab6bf3.png"),
HT: r.bbUrl("/sparta/assets/ui/flags/HT-9baeec8d.png"),
HU: r.bbUrl("/sparta/assets/ui/flags/HU-15146d95.png"),
IC: r.bbUrl("/sparta/assets/ui/flags/IC-1d88fd18.png"),
ID: r.bbUrl("/sparta/assets/ui/flags/ID-c00e98ab.png"),
IE: r.bbUrl("/sparta/assets/ui/flags/IE-0902c961.png"),
IL: r.bbUrl("/sparta/assets/ui/flags/IL-b1e6df32.png"),
IM: r.bbUrl("/sparta/assets/ui/flags/IM-9b6dfad3.png"),
IN: r.bbUrl("/sparta/assets/ui/flags/IN-faacf69d.png"),
IQ: r.bbUrl("/sparta/assets/ui/flags/IQ-fd96bef3.png"),
IR: r.bbUrl("/sparta/assets/ui/flags/IR-06b2b498.png"),
IS: r.bbUrl("/sparta/assets/ui/flags/IS-ebeb633f.png"),
IT: r.bbUrl("/sparta/assets/ui/flags/IT-3dd2a276.png"),
JE: r.bbUrl("/sparta/assets/ui/flags/JE-5d1e66cb.png"),
JM: r.bbUrl("/sparta/assets/ui/flags/JM-239552fe.png"),
JO: r.bbUrl("/sparta/assets/ui/flags/JO-2b6fd088.png"),
JP: r.bbUrl("/sparta/assets/ui/flags/JP-e879a1c8.png"),
KE: r.bbUrl("/sparta/assets/ui/flags/KE-b75186ce.png"),
KG: r.bbUrl("/sparta/assets/ui/flags/KG-9f9b8a89.png"),
KH: r.bbUrl("/sparta/assets/ui/flags/KH-66c625eb.png"),
KI: r.bbUrl("/sparta/assets/ui/flags/KI-f4d2aadb.png"),
KM: r.bbUrl("/sparta/assets/ui/flags/KM-ab5d5854.png"),
KN: r.bbUrl("/sparta/assets/ui/flags/KN-1b4a1629.png"),
KP: r.bbUrl("/sparta/assets/ui/flags/KP-35f95e2b.png"),
KR: r.bbUrl("/sparta/assets/ui/flags/KR-044e720c.png"),
KW: r.bbUrl("/sparta/assets/ui/flags/KW-ebb336cb.png"),
KY: r.bbUrl("/sparta/assets/ui/flags/KY-5d87bdea.png"),
KZ: r.bbUrl("/sparta/assets/ui/flags/KZ-0a9aa87b.png"),
LA: r.bbUrl("/sparta/assets/ui/flags/LA-eb21d164.png"),
LB: r.bbUrl("/sparta/assets/ui/flags/LB-9158ae1b.png"),
LC: r.bbUrl("/sparta/assets/ui/flags/LC-10120f60.png"),
LI: r.bbUrl("/sparta/assets/ui/flags/LI-0d1ea135.png"),
LK: r.bbUrl("/sparta/assets/ui/flags/LK-b5a963cc.png"),
LR: r.bbUrl("/sparta/assets/ui/flags/LR-e88bf94b.png"),
LS: r.bbUrl("/sparta/assets/ui/flags/LS-6bc2b679.png"),
LT: r.bbUrl("/sparta/assets/ui/flags/LT-debf99d2.png"),
LU: r.bbUrl("/sparta/assets/ui/flags/LU-b7838ab6.png"),
LV: r.bbUrl("/sparta/assets/ui/flags/LV-b2f24089.png"),
LY: r.bbUrl("/sparta/assets/ui/flags/LY-fa400dde.png"),
MA: r.bbUrl("/sparta/assets/ui/flags/MA-6b4517ad.png"),
MD: r.bbUrl("/sparta/assets/ui/flags/MD-63951696.png"),
ME: r.bbUrl("/sparta/assets/ui/flags/ME-a9593d1d.png"),
MF: r.bbUrl("/sparta/assets/ui/flags/MF-c92f9c50.png"),
MG: r.bbUrl("/sparta/assets/ui/flags/MG-9b4dacfc.png"),
MH: r.bbUrl("/sparta/assets/ui/flags/MH-b0c3855c.png"),
MK: r.bbUrl("/sparta/assets/ui/flags/MK-79c0a0db.png"),
ML: r.bbUrl("/sparta/assets/ui/flags/ML-e798d38e.png"),
MM: r.bbUrl("/sparta/assets/ui/flags/MM-ea30c673.png"),
MN: r.bbUrl("/sparta/assets/ui/flags/MN-b926f134.png"),
MO: r.bbUrl("/sparta/assets/ui/flags/MO-c3e6327d.png"),
MP: r.bbUrl("/sparta/assets/ui/flags/MP-19d69554.png"),
MQ: r.bbUrl("/sparta/assets/ui/flags/MQ-5866388c.png"),
MR: r.bbUrl("/sparta/assets/ui/flags/MR-4c5750cd.png"),
MS: r.bbUrl("/sparta/assets/ui/flags/MS-2b8d8f74.png"),
MT: r.bbUrl("/sparta/assets/ui/flags/MT-736e2d9e.png"),
MU: r.bbUrl("/sparta/assets/ui/flags/MU-4ef5c631.png"),
MV: r.bbUrl("/sparta/assets/ui/flags/MV-5b7bbfd0.png"),
MW: r.bbUrl("/sparta/assets/ui/flags/MW-ce5608e7.png"),
MX: r.bbUrl("/sparta/assets/ui/flags/MX-57283c58.png"),
MY: r.bbUrl("/sparta/assets/ui/flags/MY-f7e43df2.png"),
MZ: r.bbUrl("/sparta/assets/ui/flags/MZ-c29168e1.png"),
NA: r.bbUrl("/sparta/assets/ui/flags/NA-4fd5ff15.png"),
NC: r.bbUrl("/sparta/assets/ui/flags/NC-a856653e.png"),
NE: r.bbUrl("/sparta/assets/ui/flags/NE-70b14b65.png"),
NF: r.bbUrl("/sparta/assets/ui/flags/NF-99457e75.png"),
NG: r.bbUrl("/sparta/assets/ui/flags/NG-3de8b11c.png"),
NI: r.bbUrl("/sparta/assets/ui/flags/NI-877b6b79.png"),
NL: r.bbUrl("/sparta/assets/ui/flags/NL-3dbf7fba.png"),
NO: r.bbUrl("/sparta/assets/ui/flags/NO-cc5a119b.png"),
NP: r.bbUrl("/sparta/assets/ui/flags/NP-a2d224e2.png"),
NR: r.bbUrl("/sparta/assets/ui/flags/NR-a1c8802e.png"),
NU: r.bbUrl("/sparta/assets/ui/flags/NU-21ce1ccb.png"),
NZ: r.bbUrl("/sparta/assets/ui/flags/NZ-623ae5d6.png"),
OM: r.bbUrl("/sparta/assets/ui/flags/OM-5e2c5328.png"),
PA: r.bbUrl("/sparta/assets/ui/flags/PA-b18627d2.png"),
PE: r.bbUrl("/sparta/assets/ui/flags/PE-e39e726f.png"),
PF: r.bbUrl("/sparta/assets/ui/flags/PF-b0b49a4d.png"),
PG: r.bbUrl("/sparta/assets/ui/flags/PG-3fd13ef9.png"),
PH: r.bbUrl("/sparta/assets/ui/flags/PH-15f7ee1c.png"),
PK: r.bbUrl("/sparta/assets/ui/flags/PK-db8fc9c9.png"),
PL: r.bbUrl("/sparta/assets/ui/flags/PL-75c0761b.png"),
PN: r.bbUrl("/sparta/assets/ui/flags/PN-3ac40607.png"),
PR: r.bbUrl("/sparta/assets/ui/flags/PR-566f6e29.png"),
PS: r.bbUrl("/sparta/assets/ui/flags/PS-df64769b.png"),
PT: r.bbUrl("/sparta/assets/ui/flags/PT-74f6bf4d.png"),
PW: r.bbUrl("/sparta/assets/ui/flags/PW-caf8552c.png"),
PY: r.bbUrl("/sparta/assets/ui/flags/PY-001da2b8.png"),
QA: r.bbUrl("/sparta/assets/ui/flags/QA-fb925b16.png"),
RO: r.bbUrl("/sparta/assets/ui/flags/RO-e661d49f.png"),
RS: r.bbUrl("/sparta/assets/ui/flags/RS-778fd48d.png"),
RU: r.bbUrl("/sparta/assets/ui/flags/RU-e3a12eab.png"),
RW: r.bbUrl("/sparta/assets/ui/flags/RW-89fa2533.png"),
SA: r.bbUrl("/sparta/assets/ui/flags/SA-91d38b6d.png"),
SB: r.bbUrl("/sparta/assets/ui/flags/SB-9264ba48.png"),
SC: r.bbUrl("/sparta/assets/ui/flags/SC-cc9811a8.png"),
SD: r.bbUrl("/sparta/assets/ui/flags/SD-86fb33aa.png"),
SE: r.bbUrl("/sparta/assets/ui/flags/SE-608bbd2c.png"),
SG: r.bbUrl("/sparta/assets/ui/flags/SG-838fe09f.png"),
SH: r.bbUrl("/sparta/assets/ui/flags/SH-f239fab0.png"),
SI: r.bbUrl("/sparta/assets/ui/flags/SI-b3980327.png"),
SK: r.bbUrl("/sparta/assets/ui/flags/SK-c479360f.png"),
SL: r.bbUrl("/sparta/assets/ui/flags/SL-ac9be6e3.png"),
SM: r.bbUrl("/sparta/assets/ui/flags/SM-66fdf4f5.png"),
SN: r.bbUrl("/sparta/assets/ui/flags/SN-9d032e3d.png"),
SO: r.bbUrl("/sparta/assets/ui/flags/SO-ef2fd436.png"),
SR: r.bbUrl("/sparta/assets/ui/flags/SR-091bb522.png"),
SS: r.bbUrl("/sparta/assets/ui/flags/SS-fcab5cb2.png"),
ST: r.bbUrl("/sparta/assets/ui/flags/ST-e259df2c.png"),
SV: r.bbUrl("/sparta/assets/ui/flags/SV-d8856f13.png"),
SY: r.bbUrl("/sparta/assets/ui/flags/SY-8f5cdb1f.png"),
SZ: r.bbUrl("/sparta/assets/ui/flags/SZ-4dc0f9a7.png"),
TC: r.bbUrl("/sparta/assets/ui/flags/TC-a156dfd1.png"),
TD: r.bbUrl("/sparta/assets/ui/flags/TD-f04f31ce.png"),
TF: r.bbUrl("/sparta/assets/ui/flags/TF-4f7a0223.png"),
TG: r.bbUrl("/sparta/assets/ui/flags/TG-d021a954.png"),
TH: r.bbUrl("/sparta/assets/ui/flags/TH-8c2a3d98.png"),
TJ: r.bbUrl("/sparta/assets/ui/flags/TJ-df83741b.png"),
TK: r.bbUrl("/sparta/assets/ui/flags/TK-c87af5e4.png"),
TL: r.bbUrl("/sparta/assets/ui/flags/TL-531fe62f.png"),
TM: r.bbUrl("/sparta/assets/ui/flags/TM-808180a4.png"),
TN: r.bbUrl("/sparta/assets/ui/flags/TN-e487ea19.png"),
TO: r.bbUrl("/sparta/assets/ui/flags/TO-14931588.png"),
TR: r.bbUrl("/sparta/assets/ui/flags/TR-af48fd2a.png"),
TT: r.bbUrl("/sparta/assets/ui/flags/TT-f5b8db94.png"),
TV: r.bbUrl("/sparta/assets/ui/flags/TV-7e653864.png"),
TW: r.bbUrl("/sparta/assets/ui/flags/TW-27961448.png"),
TZ: r.bbUrl("/sparta/assets/ui/flags/TZ-4b08d222.png"),
UA: r.bbUrl("/sparta/assets/ui/flags/UA-b6b75d48.png"),
UG: r.bbUrl("/sparta/assets/ui/flags/UG-710c7a4e.png"),
US: r.bbUrl("/sparta/assets/ui/flags/US-24c80f7b.png"),
UY: r.bbUrl("/sparta/assets/ui/flags/UY-b38a0a1b.png"),
UZ: r.bbUrl("/sparta/assets/ui/flags/UZ-83c792e5.png"),
VA: r.bbUrl("/sparta/assets/ui/flags/VA-71d050c3.png"),
VC: r.bbUrl("/sparta/assets/ui/flags/VC-7eebd710.png"),
VE: r.bbUrl("/sparta/assets/ui/flags/VE-6d34bf9d.png"),
VG: r.bbUrl("/sparta/assets/ui/flags/VG-a425a235.png"),
VI: r.bbUrl("/sparta/assets/ui/flags/VI-c16a5faf.png"),
VN: r.bbUrl("/sparta/assets/ui/flags/VN-d17eb47d.png"),
VU: r.bbUrl("/sparta/assets/ui/flags/VU-aef21d3d.png"),
WF: r.bbUrl("/sparta/assets/ui/flags/WF-26a80e56.png"),
WS: r.bbUrl("/sparta/assets/ui/flags/WS-b3a806b0.png"),
YE: r.bbUrl("/sparta/assets/ui/flags/YE-f4dbdf42.png"),
YT: r.bbUrl("/sparta/assets/ui/flags/YT-febdebbe.png"),
ZA: r.bbUrl("/sparta/assets/ui/flags/ZA-4e295308.png"),
ZM: r.bbUrl("/sparta/assets/ui/flags/ZM-8775588c.png"),
ZW: r.bbUrl("/sparta/assets/ui/flags/ZW-6b58d77a.png"),
"default": r.bbUrl("/sparta/assets/ui/flags/default-870fef7b.png")
};
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
var t = "";
switch (e) {
case r.UserPresenceStates.Joinable:
t = __("ID_SPARTA_LAYOUT_COMCENTER_JOINABLE");
break;

case r.UserPresenceStates.Playing:
t = __("ID_SPARTA_LAYOUT_COMCENTER_PLAYING");
break;

case r.UserPresenceStates.Online:
t = __("ID_SPARTA_LAYOUT_COMCENTER_ONLINE");
break;

case r.UserPresenceStates.Away:
t = __("ID_SPARTA_LAYOUT_COMCENTER_AWAY");
break;

case r.UserPresenceStates.Offline:
t = __("ID_SPARTA_LAYOUT_COMCENTER_OFFLINE");
}
return t;
}
var r = n(67);
t.getTranslatedPresence = e;
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(11), i = function() {
function e() {
this.games = [];
}
return e.prototype.addGameToFetch = function(e) {
-1 == this.games.indexOf(e) && this.games.push(e);
}, e.prototype.addGamesToFetch = function(e) {
for (var t in e) this.addGameToFetch(e[t]);
}, r([ o.observable ], e.prototype, "games", void 0), r([ o.action ], e.prototype, "addGameToFetch", null), 
r([ o.action ], e.prototype, "addGamesToFetch", null), e;
}();
t.CareerFetchingState = i, t.careerFetchingState = new i(), o.reaction(function() {
return a.layoutStateStore.current;
}, function(e) {
var n = e.config.gameId;
n && -1 === t.careerFetchingState.games.indexOf(n) && t.careerFetchingState.addGameToFetch(n);
});
}, function(e, t) {
"use strict";
t.offlinePrefix = "http://offline.twinkle", t.offlinePrefixLen = t.offlinePrefix.length, 
t.onlinePrefix = "http://online.twinkle", t.onlinePrefixLen = t.onlinePrefix.length, 
t.bbPrefix = "[BB_PREFIX]", t.bbPrefixLen = t.bbPrefix.length;
}, function(e, t, n) {
(function(e) {
"use strict";
function r(e, t) {
return JSON.stringify([ e, t ]);
}
function o(e) {
try {
l.send(e);
} catch (t) {
console.error("Failed to send payload over WebSocket:", t);
}
}
function a(t) {
var n = new e.XMLHttpRequest();
if (n.open("POST", "/sync_call", !1), n.send(t), 200 !== n.status) throw console.error("Got status: ", n.status, " for payload ", t), 
new Error("Sync call returned status " + n.status + ". See console for more detail.");
try {
return JSON.parse(i(n.responseText));
} catch (r) {
throw console.error("Could not parse TwinkleNative sync reply as JSON", r), console.info("Reply: ", n.responseText), 
new Error("Sync call failed to parse as JSON. See console for more detail.");
}
}
function i(e) {
return e.replace(/"__BASE64(.*?)"/g, function(e, t) {
return JSON.stringify(c.decode(t));
});
}
function s(e) {
var t, n = i(e.data);
try {
t = JSON.parse(n);
} catch (r) {
return console.error("Could not parse TwinkleNative websocket message as JSON", r), 
console.info("Websocket message: ", e.data), [];
}
var o;
return o = "string" == typeof t[0] && Array.isArray(t[1]) ? [ t ] : t, o = f.options.batchCallTransformer(o), 
o.map(function(e) {
return {
funcName: e[0],
args: e[1]
};
});
}
var l, u = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, p = n(201), c = n(357), f = n(79), d = n(64), h = !1, y = [];
t.syncRequest = a;
var g = function(t) {
function n() {
t.apply(this, arguments);
}
return u(n, t), n.prototype.start = function(t) {
var n = this;
l = new e.WebSocket("ws://" + e.location.host + "/ws"), l.onopen = function() {
h = !0, y.forEach(o), y = [], t();
}, l.onerror = t, l.onmessage = function(t) {
var r = !1;
d.batchedUpdates(function() {
s(t).forEach(function(t) {
var n = e[t.funcName];
n ? n.apply(void 0, t.args) : console.error("Missing function '" + t.funcName + "'. Make sure it exists in the global scope."), 
"onSurfaceBoundsChanged" !== t.funcName && (r = !0);
});
}), r && n.call("applyStateChanges", !1, []);
};
}, n.prototype.objectAssignDefined = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o = typeof n;
if (Array.isArray(n) && (o = "array"), "object" !== o && null !== n && "undefined" !== o) throw new Error("Source 2 must be object, null or undefined, got " + o);
var a, i;
if (t) for (a in t) t.hasOwnProperty(a) && (i = t[a], "undefined" != typeof i && (e[a] = i));
if (n) for (a in n) n.hasOwnProperty(a) && (i = n[a], "undefined" != typeof i && (e[a] = i));
return e;
}, n.prototype.objectAssign = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o = typeof n;
if (Array.isArray(n) && (o = "array"), "object" !== o && null !== n && "undefined" !== o) throw new Error("Source 2 must be object, null or undefined, got " + o);
var a, i;
if (t) for (a in t) t.hasOwnProperty(a) && (i = t[a], e[a] = i);
if (n) for (a in n) n.hasOwnProperty(a) && (i = n[a], e[a] = i);
return e;
}, n.prototype.profilerTime = function() {
return e.window.performance.now();
}, n.prototype.delegateCall = function(e, t, n) {
var i = r(e, n);
return t ? a(i)[0] : void (h ? o(i) : y.push(i));
}, n;
}(p.AbstractDelegate);
t.RemoteDelegate = g;
}).call(t, function() {
return this;
}());
}, function(e, t) {
"use strict";
function n(e) {
var t, n, r, a, s, l, u, p = "", c = 0;
for (e = o(e); c < e.length; ) t = e.charCodeAt(c++), n = e.charCodeAt(c++), r = e.charCodeAt(c++), 
a = t >> 2, s = (3 & t) << 4 | n >> 4, l = (15 & n) << 2 | r >> 6, u = 63 & r, isNaN(n) ? l = u = 64 : isNaN(r) && (u = 64), 
p = p + i.charAt(a) + i.charAt(s) + i.charAt(l) + i.charAt(u);
return p;
}
function r(e) {
var t, n, r, o, s, l, u, p = "", c = 0;
for (e = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""); c < e.length; ) o = i.indexOf(e.charAt(c++)), 
s = i.indexOf(e.charAt(c++)), l = i.indexOf(e.charAt(c++)), u = i.indexOf(e.charAt(c++)), 
t = o << 2 | s >> 4, n = (15 & s) << 4 | l >> 2, r = (3 & l) << 6 | u, p += String.fromCharCode(t), 
64 !== l && (p += String.fromCharCode(n)), 64 !== u && (p += String.fromCharCode(r));
return a(p);
}
function o(e) {
e = e.replace(/\r\n/g, "\n");
for (var t = "", n = 0; n < e.length; n++) {
var r = e.charCodeAt(n);
128 > r ? t += String.fromCharCode(r) : r > 127 && 2048 > r ? (t += String.fromCharCode(r >> 6 | 192), 
t += String.fromCharCode(63 & r | 128)) : (t += String.fromCharCode(r >> 12 | 224), 
t += String.fromCharCode(r >> 6 & 63 | 128), t += String.fromCharCode(63 & r | 128));
}
return t;
}
function a(e) {
for (var t = "", n = 0, r = 0, o = 0, a = 0; n < e.length; ) r = e.charCodeAt(n), 
128 > r ? (t += String.fromCharCode(r), n++) : r > 191 && 224 > r ? (o = e.charCodeAt(n + 1), 
t += String.fromCharCode((31 & r) << 6 | 63 & o), n += 2) : (o = e.charCodeAt(n + 1), 
a = e.charCodeAt(n + 2), t += String.fromCharCode((15 & r) << 12 | (63 & o) << 6 | 63 & a), 
n += 3);
return t;
}
var i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
t.encode = n, t.decode = r;
}, function(e, t, n) {
"use strict";
function r(e) {
if (s.options.enableDevWarnings) {
if (!Array.isArray(e)) throw console.error(e), new Error("Batch calls was not an array");
e.forEach(function(t) {
if ("string" != typeof t.func) throw console.error(e), new Error("Batch call function name was not a string");
if (!Array.isArray(t.args)) throw console.error(e), new Error("Batch call args was not an array");
if ("Sync" !== t.func.substr(t.func.length - 4)) throw console.error(e), new Error("Batch call can only be made for sync functions, not: " + t.func);
});
}
if (o.getBuildInfo().hasBatchedRemoteCalls()) {
var t = [];
return e.forEach(function(e) {
t.push(e.func, e.args);
}), a.syncRequest(JSON.stringify(t));
}
return e.map(function(e) {
return i.Native.delegate.call(e.func, !0, e.args);
});
}
var o = n(108), a = n(356), i = n(45), s = n(79);
t.batchSyncCalls = r;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(251), s = n(8).observer, l = function(e) {
function t(t) {
var n = this;
e.call(this, t), this.focusItem = i.create(this, this.props.debugName), t.autoFocusCandidate && (this.focusItem.autoFocusCandidate = !0), 
t.group && t.group.addMember(this.focusItem, t.groupIndex), i.onComponentUpdate(this, function(e, t) {
"undefined" != typeof e.focusOnHover && (n.focusItem.focusOnHover = e.focusOnHover), 
n.focusItem.setActive("Focusable.tsx", "boolean" == typeof e.isActive ? e.isActive : !0);
});
}
return r(t, e), t.prototype.componentWillMount = function() {
var e = this;
this.focusItem.onFocus(function() {
"function" == typeof e.props.onFocus && e.props.onFocus();
}), this.focusItem.onBlur(function() {
"function" == typeof e.props.onBlur && e.props.onBlur();
});
}, t.prototype.render = function() {
var e = this.props.children;
return "function" == typeof e ? e(this.focusItem) : (console.warn("Expected a function as the children to Focusable"), 
null);
}, t = o([ s ], t);
}(a.Component);
t.Focusable = l;
}, function(e, t, n) {
"use strict";
var r = n(121), o = function() {
function e(e, t, n, o, a, i, s) {
var l = this;
this.lifespan = e, this.x = t, this.y = n, this.opacity = o, this.scale = a, this.rotate = i, 
this.color = s, this.death = new r.TwinkleSignal(), setTimeout(function() {
return l.death.trigger();
}, this.lifespan);
}
return e;
}();
t.Particle = o;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(252), i = function() {
function e(e, t, n, r, o, a, i) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = "Linear"), 
void 0 === r && (r = .2), void 0 === o && (o = .2), void 0 === a && (a = .8), void 0 === i && (i = .8), 
this.from = e, this.to = t, this.easing = n, this.p1x = r, this.p1y = o, this.p2x = a, 
this.p2y = i;
}
return e;
}();
t.TweenConfig = i;
var s = function() {
function e(e, t, n) {
var r = this;
this.easing = "Linear", this.p1x = new a.JitterValue(.2, 0, null), this.p1y = new a.JitterValue(.2, 0, null), 
this.p2x = new a.JitterValue(.8, 0, null), this.p2y = new a.JitterValue(.8, 0, null), 
o.action("JitterTweenConfig init", function() {
r.from = e, r.to = t, r.easing = n;
})();
}
return e.prototype.generateConfig = function() {
var e = this.from.generateValue(), t = this.to.generateValue();
return this.from.absolute && !this.to.absolute ? t += e : !this.from.absolute && this.to.absolute && (e += t), 
new i(e, t, this.easing, this.p1x.generateValue(), this.p1y.generateValue(), this.p2x.generateValue(), this.p2y.generateValue());
}, e.prototype.toJson = function() {
return {
from: this.from.toJson(),
to: this.to.toJson(),
easing: this.easing,
p1x: this.p1x.toJson(),
p1y: this.p1y.toJson(),
p2x: this.p2x.toJson(),
p2y: this.p2y.toJson()
};
}, e.prototype.fromJson = function(e) {
this.from.fromJson(e.from), this.to.fromJson(e.to), this.easing = e.easing, this.p1x.fromJson(e.p1x), 
this.p1y.fromJson(e.p1y), this.p2x.fromJson(e.p2x), this.p2y.fromJson(e.p2y);
}, r([ o.observable ], e.prototype, "from", void 0), r([ o.observable ], e.prototype, "to", void 0), 
r([ o.observable ], e.prototype, "easing", void 0), r([ o.observable ], e.prototype, "p1x", void 0), 
r([ o.observable ], e.prototype, "p1y", void 0), r([ o.observable ], e.prototype, "p2x", void 0), 
r([ o.observable ], e.prototype, "p2y", void 0), e;
}();
t.JitterTweenConfig = s;
}, function(e, t) {
"use strict";
function n(e, t) {
if (!t.group && !t.guid) return void console.error("Test element at '" + e + "' is missing a guid or group");
var n = {
props: t,
surfaceId: e
};
if (t.guid) {
var r = f[t.guid];
if (r) return void console.error("Test element guid '" + t.guid + "' cannot be set on '" + t.guid + "' since it is already in use at '" + r.props.guid + "'");
f[t.guid] = n, l("mount", t.guid);
}
t.group && d.get(t.group).addElement(n);
}
function r(e, t) {
t.guid && (l("unmount", t.guid), delete f[t.guid]), t.group && d.get(t.group).removeElementById(e);
}
function o(e, t, o) {
return o.guid || o.group ? (t.guid && o.guid ? t.guid !== o.guid ? (r(e, t), n(e, o)) : f[t.guid].props = o : t.guid ? r(e, t) : o.guid && n(e, o), 
void (t.group && o.group ? t.group !== o.group ? (d.get(t.group).removeElementById(e), 
d.get(o.group).addElement({
surfaceId: e,
props: o
})) : d.get(o.group).updateElementById(e, o) : t.group ? d.get(t.group).removeElementById(e) : o.group && d.get(o.group).addElement({
surfaceId: e,
props: o
}))) : void console.error("Test element at '" + e + "' is missing a guid or group");
}
function a(e) {
return f.hasOwnProperty(e);
}
function i(e) {
return f[e];
}
function s(e) {
return d.get(e).elements;
}
function l(e, t) {
var n = e + "_" + t;
h[n] && (h[n].slice().forEach(function(e) {
e();
}), delete h[n]);
}
function u(e, t, n) {
var r = e + "_" + t;
h[r] || (h[r] = []), h[r].push(n);
}
function p(e, t) {
a(e) ? t() : u("mount", e, t);
}
function c(e, t) {
a(e) ? u("unmount", e, t) : t();
}
var f = {}, d = function() {
function e(e) {
this.name = e, this.elements = [];
}
return e.prototype.addElement = function(e) {
this.elements.push(e), this.trigger();
}, e.prototype.removeElementById = function(e) {
this.elements = this.elements.filter(function(t) {
return t.surfaceId !== e;
}), this.trigger();
}, e.prototype.updateElementById = function(e, t) {
this.elements.forEach(function(n) {
n.surfaceId === e && (n.props = t);
}), this.trigger();
}, e.prototype.trigger = function() {}, e.get = function(t) {
return e.groups[t] || (e.groups[t] = new e(t)), e.groups[t];
}, e.groups = {}, e;
}();
t.mount = n, t.unmount = r, t.update = o, t.isMounted = a, t.getByGuid = i, t.getGroup = s;
var h = {};
t.onMount = p, t.onUnmount = c;
}, function(e, t) {
"use strict";
var n = function() {
function e(e, t) {
this.x = e, this.y = t;
}
return e.prototype.angle = function(e) {
return Math.atan2(e.y - this.y, e.x - this.x);
}, e.prototype.distance = function(e) {
return Math.sqrt(Math.pow(e.x - this.x, 2) + Math.pow(e.y - this.y, 2));
}, e.prototype.squaredDistance = function(e) {
var t = e.x - this.x, n = e.y - this.y;
return t * t + n * n;
}, e;
}();
t.Point = n;
}, function(e, t, n) {
t.__esModule = !0;
var r = n(11), o = n(4), a = n(21), i = n(52).gatewayClient, s = n(365), l = a.createClient({
throttle: 3e4,
listener: function u() {
return [ Object.keys(r.gameStore.games.toJS()).concat([ "sparta" ]) ];
},
request: function p(e) {
var t = new Date(), n = new Date(t.getFullYear(), t.getMonth(), t.getDate()), r = n.getTime();
return i.request("Calendar.getItemsFiltered", {
amount: 20,
games: e,
startTime: r
});
},
parse: function c(e) {
return o.map(e, function(e) {
return new s({
name: e.name,
description: e.description,
gameId: e.game.name.toLowerCase(),
date: new Date(e.releaseDate)
});
});
},
update: function f(e) {
this.publish(e);
}
});
t["default"] = l, e.exports = t["default"];
}, function(e, t) {
function n(e) {
e = e || {}, this.name = e.name, this.description = e.description, this.gameId = e.gameId, 
this.date = e.date;
}
t.__esModule = !0, t["default"] = n, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(364), s = [], l = a["default"].createStore({
init: function u() {
i.listen(function(e) {
s = e, l.trigger(s);
});
},
getState: function p() {
return s;
}
});
t["default"] = l, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function t(e, t) {
t = l.filter(t, function(e) {
return !e.isNative;
});
var r = l.map(t, function(t) {
return new p(t.route.toLowerCase(), {
args: {
gameId: e
},
getTitle: function n() {
return t.getTitle();
},
view: t.view
});
});
return r.unshift(new p("details", {
args: {
gameId: e
},
getTitle: function o() {
return "Detailed Stats";
},
view: n(376)
})), r;
}
function r() {
var e = SpartaGlobals.bundleIsPC ? i.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-4dd7c086.png") : i.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-15285efc.png"), r = o;
o = new p("career", {
requireOnline: !0,
getTitle: function a() {
return __("ID_SPARTA_MAIN_TITLE_CAREER");
},
getSubtitle: function c() {
return __("ID_SPARTA_MAIN_TITLE_CAREER");
},
view: n(611),
normalIconUrl: e,
backgroundUrl: i.bbOfflineUrl("/sparta/jsclient/builds/assets/bg2-ea20dc07.dds"),
backgroundSize: [ 4084, 1440 ],
priority: 3,
children: l.map(s.gameStore.games.toJS(), function(e) {
return new p(e.gameId, {
fonts: e.fonts,
visible: !1,
backgroundSize: [ 2048, 1200 ],
getTitle: function r() {
return e.displayName();
},
args: {
gameId: e.gameId
},
view: n(377),
children: t(e.gameId, e.careerConfig)
});
})
}), r ? u.replaceRouteConfig(r, o) : u.addRouteConfig(o);
}
var o, a = n(10), i = n(9), s = n(11), l = n(4), u = n(27), p = n(49).Route;
e.exports = {
stores: {
MedalStore: n(204)
},
initialize: function c() {
a.reaction(function() {
return s.gameStore.games;
}, function() {
r();
}), r();
},
generateChildrenRoutes: t
};
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = {
medalsPageVisited: a["default"].createAction()
};
t["default"] = i, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(21), s = r(i), l = n(26), u = r(l), p = n(162), c = r(p), f = n(256), d = r(f), h = n(193), y = s["default"].createClient({
throttle: 3e4,
request: function g(e) {
return u["default"].request("Progression.getDogtags", {
game: e
});
},
parse: function m(e) {
return a["default"].map(e, function(e) {
return new d["default"]({
name: e.name,
sortOrder: e.sortOrder,
items: a["default"].compact(a["default"].map(e.dogtags, function(e) {
return new c["default"]({
code: e.unlockId,
description: e.description,
index: e.index,
images: e.images,
name: e.name,
progression: new h.Progression({
unlocked: e.progression.unlocked,
acquired: e.progression.valueAcquired,
needed: e.progression.valueNeeded
}),
equipped: e.equipped,
type: e.tagType.name,
timesTaken: e.timesTaken
});
}))
});
});
},
update: function b(e, t, n) {
this.publish(n, e);
}
});
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(21), a = r(o), i = n(26), s = r(i), l = n(594), u = r(l), p = n(604), c = r(p), f = n(374), d = a["default"].createClient({
throttle: 3e4,
request: function h(e) {
return s["default"].request("Progression.getKitItems", {
game: e
});
},
parse: function y(e) {
return e.map(function(e) {
var t = f.getImagesByKit(e.id);
return new c["default"]({
name: e.kit,
progression: e.progression,
weapons: u["default"].parse(e.weapons, e.kit, t, !1),
images: t
});
});
},
update: function g(e, t, n) {
this.publish(n, e);
}
});
e.exports = d;
}, function(e, t, n) {
var r = n(21), o = n(52).gatewayClient, a = n(394), i = r.createClient({
throttle: 3e4,
request: function s(e) {
return o.request("Stats.detailedStats", {
game: e
});
},
parse: function l(e) {
return e.basicStats.favoriteClass = e.favoriteClass, e.basicStats.roundHistory = e.roundHistory, 
new a(e.basicStats);
},
update: function u(e, t, n) {
this.publish(n, e);
}
});
e.exports = i;
}, function(e, t, n) {
function r(e, t, n) {
var r = s.map(e, function(e) {
return new f({
name: e.name,
description: e.description,
images: e.images,
stats: n,
category: t,
progression: new a.Progression({
unlocked: e.progression.unlocked,
acquired: e.progression.valueAcquired,
needed: e.progression.valueNeeded
})
});
});
return r.sort(i.sortItemsByProgression);
}
function o(e) {
for (var t = [], n = 0; n < e.length; n++) {
var r = e[n];
if (r.vehicles.length > 0) {
var o = r.vehicles[0];
t.push(new c({
id: r.sortOrder,
description: o.description,
images: o.images,
name: r.name,
stats: r.stats,
star: r.star,
progression: new a.Progression({
unlocked: !0
}),
packages: s.map(r.vehicles, function(e) {
return e.name;
})
}));
}
}
return t.sort(function(e, t) {
return e.id < t.id ? -1 : e.id > t.id ? 1 : 0;
});
}
var a = n(193), i = n(339), s = n(4), l = n(21), u = n(52).gatewayClient, p = n(606), c = n(605), f = n(375), d = l.createClient({
throttle: 3e4,
request: function h(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1];
return t ? u.request("Progression.getVehiclesWithAccessories", {
game: e
}) : u.request("Progression.getVehicles", {
game: e
});
},
parse: function y(e, t, n) {
var a = [];
if (n) for (var i = 0; i < e.length; i++) {
var s = e[i];
if (s.accessories.length > 0) {
var l = r(s.accessories, s.name, s.stats);
a.push(new p({
name: s.name,
star: s.star,
stats: s.stats,
sortOrder: s.sortOrder,
items: l
}));
}
} else a.push(new p({
name: "all",
items: o(e)
}));
return a;
},
update: function g(e, t, n) {
this.publish(n, e);
}
});
e.exports = d;
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return M(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), h = n(1), y = l(h), g = n(6), m = l(g), b = n(7), v = l(b), _ = n(2), S = r(_), w = n(4), T = l(w), C = n(76), E = l(C), I = n(162), P = l(I), O = n(8), A = n(32), k = n(178), R = l(k), x = {
_$AwardFocusPane: {
displayName: "AwardFocusPane"
}
}, M = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/AwardFocusPane.jsx",
components: x,
locals: [],
imports: []
}), N = S.createStyleSheet({
image: {
height: m["default"].getHeight(29),
textureMode: "contain",
marginBottom: 2 * m["default"].GUTTER
},
name: {
marginBottom: m["default"].GUTTER,
textAlignForRTL: "left"
},
progressBar: {
marginBottom: 2 * m["default"].GUTTER
},
segmentedProgressBar: {
marginBottom: 1
},
progressSpecContainer: {
flexDirection: "row",
marginBottom: 2 * m["default"].GUTTER,
justifyContent: "space-between"
},
description: {
width: 300,
color: "#EEEEEE"
},
progressText: {
color: "#EEEEEE"
},
dependencies: {
marginBottom: 2 * m["default"].GUTTER
},
dependencyImage: {
textureMode: "contain",
width: 100,
height: 100,
alignSelf: "center"
},
dependencySpecContainer: {
flexDirection: "row",
justifyContent: "space-between"
},
dependencyText: {
width: 300,
marginBottom: m["default"].GUTTER
},
dependencyDescription: {
color: "#EEEEEE"
},
criterias: {
marginBottom: 2 * m["default"].GUTTER
},
criteriaSpecContainer: {
flexDirection: "row",
justifyContent: "space-between",
marginBottom: 2 * m["default"].GUTTER
},
criteriaText: {
color: "#EEEEEE",
width: 300
},
criteriaSpec: {
color: "#EEEEEE"
},
awardCount: {
marginBottom: 2 * m["default"].GUTTER
},
stagesContainer: {
marginBottom: 2 * m["default"].GUTTER
},
hrLine: {
height: 1,
backgroundColor: "#ffffff1a",
marginBottom: 2 * m["default"].GUTTER
}
}), $ = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.renderProgress = function r(e) {
var t = this.item.stages && this.item.stages.length, n = this.props.showProgressBar && {
$$typeof: f,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
width: e,
completed: this.item.progression.percent,
segmented: t,
style: t > 0 ? N.segmentedProgressBar : N.progressBar,
backgroundColor: "#FFFFFF75"
}),
_owner: null
};
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ n, this.renderProgressDescription(e) ]
},
_owner: null
};
}, t.prototype.renderProgressDescription = function l(e) {
var t = A.isRTLLanguage(), n = c({}, N.progressText, {
flex: 2,
textAlignForRTL: "left",
marginRight: t ? m["default"].GUTTER / 2 : 0
}), r = {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
size: "S",
value: this.item.description,
style: n
}),
_owner: null
}, a = this.item.stages && this.item.stages.length;
if (this.item.stages && a > 0) {
for (var i = [], s = 0; a > s; s++) {
var l = this.item.stages[s], u = l.progression.unlocked ? 1 : .66, p = 3 * m["default"].GUTTER, d = {
position: "absolute",
left: -p,
top: m["default"].GUTTER * (2 / 3)
}, h = {
textAlignForRTL: "left"
};
A.isRTLLanguage() && (d.left = 12.5 * p, h.left = -p), i.push({
$$typeof: f,
type: "surface",
key: "stage-" + l.code,
ref: null,
props: {
children: [ {
$$typeof: f,
type: R["default"],
key: null,
ref: null,
props: o(R["default"].defaultProps, {
value: l.progression.unlocked,
style: d
}),
_owner: null
}, {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
value: l.name,
size: "S",
style: h
}),
_owner: null
} ],
style: {
opacity: u,
marginLeft: p,
marginBottom: m["default"].GUTTER
}
},
_owner: null
});
}
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: i,
style: c({}, N.stagesContainer, {
width: e
})
},
_owner: null
};
}
if (this.item.progression.acquired > this.item.progression.needed) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ r, {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_DOGTAGS_TAKEN") + " " + this.item.progression.acquired + " " + __("ID_SPARTA_CAREER_DOGTAGS_TAKEN_SEVERAL"),
style: {
paddingRight: t ? m["default"].GUTTER : null
}
}),
_owner: null
} ],
"static": !0,
style: c({}, N.progressSpecContainer, {
flexDirection: "column"
})
},
_owner: null
};
var y = this.props.showProgressNumbers && 0 !== this.item.progression.needed ? {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
size: "S",
value: "" + this.item.progression.acquired + "/" + this.item.progression.needed
}),
_owner: null
} : null, g = t ? y : r, b = t ? r : y;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ g, b ],
"static": !0,
style: c({}, N.progressSpecContainer, {
width: e
})
},
_owner: null
};
}, t.prototype.renderDependencies = function u(e) {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: T["default"].map(this.item.dependencies, function(t, n) {
return {
$$typeof: f,
type: "surface",
key: n,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, N.dependencyImage, {
texture: t.images.Small
})
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
type: "emphasis",
size: "S",
value: t.name
}),
_owner: null
}, {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
type: "emphasis",
size: "S",
value: "x" + t.progression.acquired
}),
_owner: null
} ],
style: c({}, N.dependencySpecContainer)
},
_owner: null
}, {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
size: "XS",
value: t.description,
style: c({}, N.dependencyText, {
width: e
})
}),
_owner: null
} ]
},
_owner: null
};
}),
"static": !0,
style: N.dependencies
},
_owner: null
};
}, t.prototype.renderCriterias = function p(e) {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: T["default"].map(this.item.criterias, function(t, n) {
return {
$$typeof: f,
type: "surface",
key: n,
ref: null,
props: {
children: [ {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
size: "S",
value: t.name,
style: c({}, N.criteriaText, {
width: e,
paddingRight: 3 * m["default"].GUTTER
})
}),
_owner: null
}, {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
size: "S",
value: "" + t.progression.acquired + "/" + t.progression.needed
}),
_owner: null
} ],
style: N.criteriaSpecContainer
},
_owner: null
};
}),
"static": !0,
style: N.criterias
},
_owner: null
};
}, t.prototype.renderAwardCount = function h(e) {
var t = this.item.timesTaken, n = "";
return n = 0 === t ? __("ID_SPARTA_CAREER_DOGTAGS_NEVER") : 1 === t ? t + " " + __("ID_SPARTA_CAREER_DOGTAGS_TAKEN_ONCE") : t + " " + __("ID_SPARTA_CAREER_DOGTAGS_TAKEN_SEVERAL"), 
n = n.replace("[[timesTaken]]", t), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
value: n + " " + __("ID_SPARTA_CAREER_DOGTAGS_TAKEN_FROM_ENEMIES"),
size: "S",
type: "emphasis",
style: {
width: e
}
}),
_owner: null
},
"static": !0,
style: N.awardCount
},
_owner: null
};
}, t.prototype.renderDescription = function y(e) {
var t = {
width: e,
marginBottom: 2 * m["default"].GUTTER,
textAlignForRTL: "left"
};
return {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
value: this.item.description,
style: t,
size: "S"
}),
_owner: null
};
}, t.prototype.renderFocusedItem = function g(e) {
var t = this.item.progression || {}, n = t.needed || 0 === t.needed, r = {
opacity: .66,
textAlignForRTL: "left",
marginBottom: m["default"].GUTTER,
marginRight: A.isRTLLanguage() ? m["default"].GUTTER : 0
}, a = {
marginRight: A.isRTLLanguage() ? m["default"].GUTTER / 2 + 1 : 0
}, i = void 0 !== this.item.xp && {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
value: this.item.xp + __("ID_SPARTA_GENERIC_XP"),
size: "S",
style: r
}),
_owner: null
};
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: [ N.image, {
texture: this.item.images.Small
}, this.props.imageStyle ]
},
_owner: null
}, {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
size: "M",
style: c({}, N.name, a),
value: this.item.name
}),
_owner: null
}, i, this.props.showDescription && this.item.description && this.renderDescription(e), n && this.renderProgress(e), this.item.dependencies && this.renderDependencies(e), this.item.criterias && this.renderCriterias(e), this.item.timesTaken && this.renderAwardCount(e) ]
},
_owner: null
};
}, t.prototype.render = function b() {
var e = this.item, t = this.props.widthGridCells, n = m["default"].getWidth(t);
return {
$$typeof: f,
type: m["default"].Col,
key: null,
ref: null,
props: o(m["default"].Col.defaultProps, {
children: e && this.renderFocusedItem(n),
width: t
}),
_owner: null
};
}, d(t, [ {
key: "item",
get: function _() {
return this.props.selectionState.item;
}
} ]);
var n = t;
return t = s("_$AwardFocusPane")(t) || t, t = O.observer(t) || t;
}(y["default"].Component);
$.propTypes = {
item: y["default"].PropTypes.instanceOf(P["default"]),
widthGridCells: y["default"].PropTypes.number.isRequired,
showDescription: y["default"].PropTypes.bool,
showProgressBar: y["default"].PropTypes.bool,
showProgressNumbers: y["default"].PropTypes.bool
}, $.defaultProps = {
showDescription: !1,
showProgress: !0,
showProgressNumbers: !0
}, t["default"] = $, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e ? i[e] || null : null;
}
t.__esModule = !0, t.getImagesByKit = r;
var o = n(9), a = n(39);
a.acceptKeyword("accept_exclusive_keywords_start");
var i = {
Medic: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconMedicLarge-229bba54.png"),
black: o.bbUrl("/sparta/jsclient/builds/assets/medic-black-ea4e2a1a.png")
},
Assault: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconAssaultLarge-563b3a10.png"),
black: o.bbUrl("/sparta/jsclient/builds/assets/assault-black-0dcc3fe4.png")
},
Support: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconSupportLarge-17c34ab8.png"),
black: o.bbUrl("/sparta/jsclient/builds/assets/support-black-3eca0136.png")
},
Scout: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconScoutLarge-886eef18.png"),
black: o.bbUrl("/sparta/jsclient/builds/assets/scout-black-7ef7dbaf.png")
},
Cavalry: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconRiderLarge-c946be3c.png"),
black: null
},
Pilot: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconPilotLarge-b482de39.png"),
black: null
},
Tanker: {
white: o.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconTankerLarge-8a5201f7.png"),
black: null
}
};
a.acceptKeyword("accept_exclusive_keywords_end");
}, function(e, t) {
function n(e) {
this.images = e.images || {}, e.name && (this.name = e.name), e.description && (this.description = e.description), 
e.progression && (this.progression = e.progression), e.category && (this.category = e.category), 
e.stats && (this.stats = e.stats);
}
e.exports = n;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return N(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(8), h = n(4), y = s(h), g = n(16), m = s(g), b = n(6), v = s(b), _ = n(7), S = s(_), w = n(220), T = s(w), C = n(33), E = s(C), I = n(602), P = s(I), O = n(371), A = s(O), k = n(86), R = n(2), x = n(32), M = {
_$CareerDetails: {
displayName: "CareerDetails"
}
}, N = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerDetails.jsx",
components: M,
locals: [],
imports: []
}), $ = 25, D = "#e73b3b", U = "#0e8dc2", L = R.createStyleSheet({
statHighlightsRow: {
flex: 1,
flexWrap: "wrap"
},
statHighlightsRow2: {
marginTop: v["default"].getHeight(9)
},
statHighlightCell: {
height: v["default"].getHeight(8),
width: v["default"].getWidth(6)
},
statHighlightCellHeading: {
marginBottom: v["default"].GUTTER,
marginRight: v["default"].ROWS,
textAlignForRTL: "left"
},
statRowInitial: {
flexDirection: "row",
paddingBottom: $,
justifyContent: "space-between"
},
statRow: {
flexDirection: "row",
paddingTop: $,
paddingBottom: $,
justifyContent: "space-between"
},
statRowUnderline: {
height: 1,
flexDirection: "row",
backgroundColor: "#ffffff55"
},
ghHeading: {
marginTop: v["default"].getHeight(2),
marginBottom: $,
textAlignForRTL: "left"
},
ghTime: {
height: v["default"].getHeight(4)
},
ghTimeText: {
fontSize: 14,
textAlign: "left",
color: "#FFFFFF",
position: "absolute",
top: 0,
marginBottom: v["default"].GUTTER
},
ghTimeTextAgo: {
left: 0
},
ghTimeTextToday: {
right: 0
},
ghLegend: {
width: v["default"].getWidth(2),
marginRight: 0,
textAlignForRTL: "left"
},
ghLegendText: {
fontSize: 14,
textAlign: "right",
position: "absolute",
textAlignForRTL: "left"
},
ghLegendTextWin: {
bottom: 5,
color: U,
textAlignForRTL: "left"
},
ghLegendTextLose: {
top: 5,
color: D,
textAlignForRTL: "left"
},
ghGraph: {
width: v["default"].getWidth(17)
},
ghGraphContainer: {
flexWrap: "nowrap",
flexDirection: "row"
},
ghGraphDay: {
flex: 1
},
ghGraphBar: {
position: "absolute",
right: 0,
width: 8
},
ghGraphWinBar: {
bottom: 0,
backgroundColor: U
},
ghGraphLoseBar: {
top: 0,
backgroundColor: D
},
ghHalf: {
height: v["default"].getHeight(10)
},
ghLine: {
height: 1,
flexDirection: "row",
backgroundColor: "#ffffff55"
}
}), F = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidMount = function s() {
A["default"].trigger(this.props.viewLocation.args.gameId);
}, t.prototype.renderLeftStats = function l(e) {
return {
$$typeof: p,
type: v["default"].Col,
key: null,
ref: null,
props: r(v["default"].Col.defaultProps, {
children: [ {
$$typeof: p,
type: v["default"].Row,
key: null,
ref: null,
props: r(v["default"].Row.defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_SPM"),
size: "S",
style: L.statHighlightCellHeading
}),
_owner: null
}, {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "XXL",
value: "" + e.spm,
style: L.statHighlightCellHeading
}),
_owner: null
} ],
style: L.statHighlightCell
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_WIN_RATIO"),
size: "S",
style: L.statHighlightCellHeading
}),
_owner: null
}, {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "XXL",
value: "" + e.winPercentage + "%",
style: L.statHighlightCellHeading
}),
_owner: null
} ],
style: L.statHighlightCell
},
_owner: null
} ],
style: L.statHighlightsRow
}),
_owner: null
}, {
$$typeof: p,
type: v["default"].Row,
key: null,
ref: null,
props: r(v["default"].Row.defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
size: "S",
style: L.statHighlightCellHeading
}),
_owner: null
}, {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "XXL",
value: "" + k.formatThousands(e.kills),
style: L.statHighlightCellHeading
}),
_owner: null
} ],
style: L.statHighlightCell
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_KD_RATIO"),
size: "S",
style: L.statHighlightCellHeading
}),
_owner: null
}, {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "XXL",
value: "" + e.kdRatio,
style: L.statHighlightCellHeading
}),
_owner: null
} ],
style: L.statHighlightCell
},
_owner: null
} ],
style: [ L.statHighlightsRow, L.statHighlightsRow2 ]
}),
_owner: null
} ],
width: 12
}),
_owner: null
};
}, t.prototype.renderRightStats = function u(e, t) {
return {
$$typeof: p,
type: v["default"].Col,
key: null,
ref: null,
props: r(v["default"].Col.defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: x.localeRearrange([ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_DETAILS_TIME_PLAYED")
}),
_owner: null
}, {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
size: "S",
timePlayed: e.timePlayed,
section: t
}),
_owner: null
} ]),
style: L.statRowInitial
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: L.statRowUnderline
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: x.localeRearrange([ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_DETAILS_KPM"),
style: L.statRowHeading
}),
_owner: null
}, {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "S",
value: "" + e.kpm,
style: L.statRowValue
}),
_owner: null
} ]),
style: L.statRow
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: L.statRowUnderline
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: x.localeRearrange([ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_DETAILS_SKILL")
}),
_owner: null
}, {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "S",
value: "" + e.skill
}),
_owner: null
} ]),
style: L.statRow
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: L.statRowUnderline
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: x.localeRearrange([ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_DETAILS_MOST_PLAYED_CLASS")
}),
_owner: null
}, {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "S",
value: e.favoriteClass.toUpperCase()
}),
_owner: null
} ]),
style: L.statRow
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: L.statRowUnderline
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: x.localeRearrange([ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_DETAILS_MOST_PLAYED_MAP")
}),
_owner: null
}, {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "S",
value: "" + e.favoriteMap.toUpperCase()
}),
_owner: null
} ]),
style: L.statRow
},
_owner: null
} ],
width: 7
}),
_owner: null
};
}, t.prototype.renderGameHistory = function c(e, t) {
var n = {}, o = {};
x.isRTLLanguage() && (e = e.reverse(), n.marginRight = v["default"].getWidth(1.75), 
n.marginLeft = -v["default"].getWidth(1.75), o.marginLeft = v["default"].getWidth(19));
var a = y["default"].max(e, function(e) {
return e.results.wins >= e.results.losses ? e.results.wins : e.results.losses;
}), i = a.results.wins >= a.results.losses ? a.results.wins : a.results.losses, s = [], l = [], u = function d(e) {
return e / i * v["default"].getHeight(10);
};
if (y["default"].each(e, function(e) {
s.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ L.ghGraphBar, L.ghGraphWinBar, {
height: u(e.results.wins)
} ]
},
_owner: null
},
style: L.ghGraphDay
},
_owner: null
}), l.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ L.ghGraphBar, L.ghGraphLoseBar, {
height: u(e.results.losses)
} ]
},
_owner: null
},
style: L.ghGraphDay
},
_owner: null
});
}), s.length + l.length === 0) return null;
var c = x.isRTLLanguage() ? {
marginLeft: -v["default"].getWidth(1.5)
} : {
left: 0
}, f = x.isRTLLanguage() ? {
marginLeft: v["default"].getWidth(13.5)
} : {
right: 0
};
return {
$$typeof: p,
type: v["default"].Col,
key: null,
ref: null,
props: r(v["default"].Col.defaultProps, {
children: [ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_GAME_HISTORY"),
style: L.ghHeading
}),
_owner: null
}, {
$$typeof: p,
type: v["default"].Row,
key: null,
ref: null,
props: r(v["default"].Row.defaultProps, {
children: [ {
$$typeof: p,
type: v["default"].Col,
key: null,
ref: null,
props: r(v["default"].Col.defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: L.ghTime
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_WINS"),
style: [ L.ghLegendText, L.ghLegendTextWin, o ]
}),
_owner: null
},
style: L.ghHalf
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: L.ghLine
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_LOSSES"),
style: [ L.ghLegendText, L.ghLegendTextLose, o ]
}),
_owner: null
},
style: L.ghHalf
},
_owner: null
} ],
style: L.ghLegend
}),
_owner: null
}, {
$$typeof: p,
type: v["default"].Col,
key: null,
ref: null,
props: r(v["default"].Col.defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
timestamp: e.length && e[0].timestamp,
style: [ L.ghTimeText, c ],
section: t
}),
_owner: null
}, {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
timestamp: e.length && e[e.length - 1].timestamp,
style: [ L.ghTimeText, f ],
section: t
}),
_owner: null
} ],
style: L.ghTime
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: s,
style: [ L.ghHalf, L.ghGraphContainer, n ]
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: L.ghLine
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: l,
style: [ L.ghHalf, L.ghGraphContainer, n ]
},
_owner: null
} ],
style: L.ghGraph
}),
_owner: null
} ]
}),
_owner: null
} ],
width: 19
}),
_owner: null
};
}, t.prototype.render = function f() {
var e = this.props.viewLocation.args.gameId;
if (!this.state.stats[e]) return {
$$typeof: p,
type: v["default"].Col,
key: null,
ref: null,
props: r(v["default"].Col.defaultProps, {}),
_owner: null
};
var t = this.state.stats[e];
return {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
children: [ {
$$typeof: p,
type: v["default"].Row,
key: null,
ref: null,
props: r(v["default"].Row.defaultProps, {
children: [ this.renderLeftStats(t), this.renderRightStats(t, e) ]
}),
_owner: null
}, {
$$typeof: p,
type: v["default"].Row,
key: null,
ref: null,
props: r(v["default"].Row.defaultProps, {
children: this.renderGameHistory(t.roundsPerDay, e),
height: 20
}),
_owner: null
} ],
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$CareerDetails")(t) || t, t = m["default"]({
stats: P["default"]
})(t) || t, t = d.observer(t) || t;
}(f["default"].Component);
t["default"] = F, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return ie(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(4), y = s(h), g = n(17), m = s(g), b = n(33), v = s(b), _ = n(6), S = s(_), w = n(7), T = s(w), C = n(62), E = s(C), I = n(301), P = s(I), O = n(813), A = s(O), k = n(60), R = n(219), x = s(R), M = n(31), N = n(812), $ = s(N), D = n(374), U = n(104), L = s(U), F = n(595), G = s(F), j = n(8), B = n(86), H = n(56), V = n(16), z = s(V), W = n(11), q = n(130), K = s(q), X = n(48), Y = s(X), J = n(115), Q = s(J), Z = n(89), ee = s(Z), te = n(9), ne = n(192), re = n(338), oe = n(344), ae = {
_$LinkedHighlightCard: {
displayName: "LinkedHighlightCard"
},
_$CareerGameOverview: {
displayName: "CareerGameOverview"
}
}, ie = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerGameOverview.jsx",
components: ae,
locals: [],
imports: []
}), se = {
top: S["default"].getHeight(4.5),
left: S["default"].getWidth(10),
right: S["default"].getWidth(1)
}, le = {
statsOverviewContainer: {
width: S["default"].getWidth(16),
zOffset: 1,
marginRight: 2 * S["default"].CELL_WIDTH
},
rankNumber: {
marginRight: 2 * S["default"].GUTTER,
padding: [ 0, S["default"].GUTTER, 0, S["default"].GUTTER ],
texture: te.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
width: 7 * S["default"].GUTTER,
textureBorder: [ 2, 2, 2, 2 ]
},
timeToRankUp: {
opacity: .66,
color: "#ffffff"
},
userName: {
marginBottom: 5,
marginTop: 5
},
dogtagsContainer: {
alignSelf: "center",
width: S["default"].getWidth(5.9),
height: S["default"].getHeight(11),
marginBottom: -S["default"].getHeight(8),
zOffset: 100
},
gameStatsContainer: {
flexDirection: "row",
height: S["default"].getHeight(13)
},
gameStatsPair: {
marginRight: 10
},
gameStatsHeading: {
marginBottom: S["default"].getHeight(1),
color: "#ffffff",
textAlignForRTL: "left"
},
gameStatsValue: {
marginLeft: -3,
textAlignForRTL: "left"
},
soldierImage: {
position: "absolute",
top: -se.top,
right: -se.right,
paddingRight: se.right,
paddingLeft: se.left,
paddingBottom: S["default"].getHeight(23),
width: S["default"].getWidth(7) + se.left + se.right,
height: S["default"].getHeight(87) + se.top,
textureMode: "contain",
textureAlign: [ 1, 0 ],
zOffset: 0,
texture2: te.bbOfflineUrl("/sparta/jsclient/builds/assets/soldier_gradient2-d93a9314.png"),
texture2Mode: "fill",
texture2Offset: [ 0, -65 ],
justifyContent: "flex-end"
},
topCardsRow: {
zOffset: 11,
justifyContent: "space-between"
},
platoonEmblemBackgroundImage: {
textureMode: "fill",
texture2: te.bbOfflineUrl("/sparta/jsclient/builds/assets/emblemgradient-8596ee37.png"),
texture2Mode: "fill",
texture2Offset: [ 0, -100 ],
position: "absolute",
top: -S["default"].getHeight(26),
right: 0,
height: S["default"].getHeight(55),
width: S["default"].getHeight(55),
opacity: .2
}
}, ue = void 0, pe = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this.props.startRoute, t = this.props.link, n = this.props.label, o = this.props.item, a = function i() {
return m["default"].gotoLocation(e + t + "?id=" + o.itemId);
};
return {
$$typeof: c,
type: A["default"],
key: null,
ref: null,
props: r(A["default"].defaultProps, {
item: o,
onClick: a,
label: n
}),
_owner: null
};
};
var n = t;
return t = i("_$LinkedHighlightCard")(t) || t;
}(d["default"].Component), ce = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.gameId = this.props.viewLocation.args.gameId;
}
a(t, e), t.prototype.componentWillMount = function s() {
this.menuItems = this.getMenuItems();
}, t.prototype.componentDidMount = function l() {
re.refreshEquippedEmblem(), this.trySetInitialFocus();
}, t.prototype.componentWillUpdate = function u() {
this.menuItems = this.getMenuItems();
}, t.prototype.componentDidUpdate = function f() {
this.trySetInitialFocus();
}, t.prototype.componentWillUnmount = function h() {
ue = void 0 !== this.pendingItemId ? this.pendingItemId : void 0;
}, t.prototype.getMenuItems = function g() {
var e = this, t = W.gameStore.getGame(this.gameId).careerConfig, n = H.routeIsHostingGame();
return t = t.filter(function(t) {
return !t.requiresInstallation || !e.state.isInstalling;
}).filter(function(e) {
return !e.featureFlag || W.settingsStore.isFeatureEnabled(e.featureFlag);
}).map(function(t, o) {
if (t = p({}, t), t.id = t.hasOwnProperty("id") ? t.id : o, t.isNative && !n ? (t.muted = !0, 
t.onTrigger = H.showNotInHostingGameAlert) : !function() {
var n = t.onTrigger.bind(t) || function() {};
t.onTrigger = function() {
e.pendingItemId = t.id, n();
};
}(), t.completion) {
var a = e.getGameStats() || {}, i = y["default"].filter(a.completion, function(e) {
return Array.isArray(t.completion) ? -1 !== t.completion.indexOf(e.name) : e.name === t.completion;
});
if (i.length) {
var s = i.reduce(function(e, t) {
return e.add(t);
});
t.subLabel = {
$$typeof: c,
type: $["default"],
key: null,
ref: null,
props: r($["default"].defaultProps, {
completionName: t.completion,
completionObj: s
}),
_owner: null
};
}
}
return t;
});
}, t.prototype.getStartRoute = function b() {
return W.gameStore.getGame(this.gameId).startRoute;
}, t.prototype.getGameStats = function _() {
return this.state.career.gameStats[this.gameId];
}, t.prototype.getRankUpTime = function w() {
var e, t = this.getGameStats(), n = t.rank.progress.total - t.rank.progress.current, r = t.spm;
return r > 0 && (e = n / r / 60, e = 1 > e ? 0 : e.toFixed()), e;
}, t.prototype.trySetInitialFocus = function C() {
this.initialFocusDone || this.refs.menu && void 0 !== ue && (this.initialFocusDone = !0, 
this.refs.menu.setItemFocus(ue));
}, t.prototype.renderPlatoonImage = function I() {
if (ne.emblemState.equippedEmblemTemplate && this.state.ugcAccess.hasAccess(this.state.sessionUser)) {
var e = oe.imageUrlFromTemplate(ne.emblemState.equippedEmblemTemplate, 512, "png");
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, le.platoonEmblemBackgroundImage, {
texture: e
})
},
_owner: null
};
}
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
}, t.prototype.renderSoldierImage = function O() {
var e = this.state.career.gameStats[this.gameId], t = {
texture: e && e.soldierImageUrl
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderDogtags(),
style: [ le.soldierImage, t ]
},
_owner: null
};
}, t.prototype.renderDogtags = function R() {
var e = W.gameStore.getGame(this.gameId), t = this.getGameStats(), n = le.dogtagsContainer;
return t && t.equippedDogtags ? {
$$typeof: c,
type: G["default"],
key: null,
ref: null,
props: r(G["default"].defaultProps, {
tags: t.equippedDogtags,
style: n,
size: e.dogtagsConfig.size,
type: e.dogtagsConfig.type
}),
_owner: null
} : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
};
}, t.prototype.renderGameStats = function N() {
var e = this.getGameStats(), t = SpartaGlobals.bundleIsConsole ? "XL" : "L", n = e && e.spm && e.spm.length > 6 ? "S" : t, o = 10 / 3, a = {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_WINS").toUpperCase(),
size: "S",
style: le.gameStatsHeading
}),
_owner: null
}, {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
value: "" + (e ? e.winPercentage : 0) + "%",
size: t,
type: "emphasis",
style: le.gameStatsValue
}),
_owner: null
} ],
width: o,
style: le.gameStatsPair
}),
_owner: null
}, i = {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_SPM").toUpperCase(),
size: "S",
style: le.gameStatsHeading
}),
_owner: null
}, {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
value: "" + (e ? e.spm : 0),
size: n,
type: "emphasis",
style: p({}, le.gameStatsValue)
}),
_owner: null
} ],
width: o,
style: le.gameStatsPair
}),
_owner: null
}, s = {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_KPM").toUpperCase(),
size: "S",
style: le.gameStatsHeading
}),
_owner: null
}, {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
value: "" + (e ? e.kpm : 0),
size: t,
type: "emphasis",
style: le.gameStatsValue
}),
_owner: null
} ],
width: o,
style: le.gameStatsPair
}),
_owner: null
};
return {
$$typeof: c,
type: S["default"].Row,
key: null,
ref: null,
props: r(S["default"].Row.defaultProps, {
children: [ a, i, s ],
style: le.gameStatsContainer
}),
_owner: null
};
}, t.prototype.renderSoldierInfo = function U() {
var e = this.getGameStats(), t = this.getRankUpTime(), n = 0 === t ? __("ID_SPARTA_CAREER_DETAILS_RANK_LESS_1H") : __("ID_SPARTA_CAREER_DETAILS_RANK_HOURS").replace("[[time]]", t), o = t >= 0 ? __("ID_SPARTA_CAREER_DETAILS_RANK_HOURS_TEXT").replace("[[time]]", n) : "", a = 1 === e.rank.progress.percentage;
return a && (o = ""), {
$$typeof: c,
type: S["default"].Row,
key: null,
ref: null,
props: r(S["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: this.renderRank(),
style: {
width: S["default"].getHeight(12)
}
}),
_owner: null
}, {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
children: {
$$typeof: c,
type: k.Marquee,
key: null,
ref: null,
props: r(k.Marquee.defaultProps, {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
type: "emphasis",
size: "L",
value: this.state.sessionUser && this.state.sessionUser.displayName ? this.state.sessionUser.displayName : "",
style: p({
marginLeft: 1.5 * S["default"].GUTTER,
marginRight: 3 * S["default"].GUTTER
}, le.userName)
}),
_owner: null
},
showEllipsis: !0,
width: S["default"].getWidth(13)
}),
_owner: null
},
width: S["default"].getWidth(13.5),
height: S["default"].getHeight(7),
clipContent: !0,
softClip: [ 15, 0, 30, 0 ]
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
size: "S",
value: "" + e.rank.number,
style: {
alignSelf: "center"
}
}),
_owner: null
},
style: le.rankNumber
},
_owner: null
}, {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
size: "S",
value: B.formatThousands(e.rank.progress.current) + " / " + B.formatThousands(e.rank.progress.total)
}),
_owner: null
}, {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
size: "S",
value: o,
style: le.timeToRankUp
}),
_owner: null
} ],
style: {
flexDirection: "row",
marginLeft: 1.5 * S["default"].GUTTER
}
},
_owner: null
} ],
width: 14
}),
_owner: null
} ],
style: {
height: S["default"].getHeight(14)
}
}),
_owner: null
};
}, t.prototype.renderCards = function F() {
var e = this.getGameStats(), t = this.getStartRoute(), n = 5, o = e.highlights && e.highlights.kit && e.highlights.kit.name ? D.getImagesByKit(e.highlights.kit.name) : null;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: S["default"].Row,
key: null,
ref: null,
props: r(S["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: A["default"],
key: null,
ref: null,
props: r(A["default"].defaultProps, {
item: e.highlights.vehicle,
onClick: function() {
m["default"].gotoLocation(t + "/soldier/vehicles?id=" + e.highlights.vehicle.name);
},
label: __("ID_SPARTA_CAREER_VEHICLES")
}),
_owner: null
},
width: n
}),
_owner: null
}, {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: pe,
key: null,
ref: null,
props: r(pe.defaultProps, {
item: e.highlights.primary,
startRoute: t,
link: W.gameStore.getGame(this.gameId).shouldDisplayMedalProgression ? "/soldier/weapons" : "/soldier/kits",
label: __("ID_SPARTA_CAREER_KITS")
}),
_owner: null
},
width: n
}),
_owner: null
} ],
style: le.topCardsRow
}),
_owner: null
}, {
$$typeof: c,
type: S["default"].Row,
key: null,
ref: null,
props: r(S["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: A["default"],
key: null,
ref: null,
props: r(A["default"].defaultProps, {
item: e.highlights.kit,
onClick: function() {
m["default"].gotoLocation(t + "/soldier/kits?category=" + e.highlights.kit.name);
},
imageUrl: o ? o.white : null,
label: __("ID_SPARTA_CAREER_KITS")
}),
_owner: null
},
width: n
}),
_owner: null
}, {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: pe,
key: null,
ref: null,
props: r(pe.defaultProps, {
item: e.highlights.sidearm,
startRoute: t,
link: W.gameStore.getGame(this.gameId).shouldDisplayMedalProgression ? "/soldier/weapons" : "/soldier/kits",
label: __("ID_SPARTA_CAREER_KITS")
}),
_owner: null
},
width: n
}),
_owner: null
} ],
style: le.topCardsRow
}),
_owner: null
} ],
style: {
marginTop: 2
}
},
_owner: null
};
}, t.prototype.renderRank = function V() {
var e = this.props.viewLocation.args.gameId, t = W.gameStore.getGame(e);
return {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
style: {
marginTop: 15,
marginLeft: 15,
zOffset: 10
},
skipAnimation: !0,
noAnimation: !0,
badgeSize: S["default"].getHeight(8),
gameId: e,
rankIconScaling: t.styles.rankIconScaling
}),
_owner: null
};
}, t.prototype.renderContent = function q() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderPlatoonImage(), {
$$typeof: c,
type: S["default"].Row,
key: null,
ref: null,
props: r(S["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: this.renderSoldierImage(),
width: 7
}),
_owner: null
}, {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: [ this.renderSoldierInfo(), {
$$typeof: c,
type: S["default"].Row,
key: null,
ref: null,
props: r(S["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: M.Scroller,
key: null,
ref: null,
props: r(M.Scroller.defaultProps, {
children: d["default"].createElement(E["default"], {
ref: "menu",
items: this.menuItems,
divider: "item"
}),
style: {
height: S["default"].getHeight(58)
},
softClip: [ 0, 20, 0, 20 ]
}),
_owner: null
},
width: 6
}),
_owner: null
}, {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: r(S["default"].Col.defaultProps, {
children: [ this.renderGameStats(), this.renderCards() ],
width: 10
}),
_owner: null
} ],
style: {
justifyContent: "space-between"
}
}),
_owner: null
} ],
width: 17
}),
_owner: null
} ],
style: {
justifyContent: "space-between"
}
}),
_owner: null
} ],
style: {
width: S["default"].getWidth(24)
}
},
_owner: null
};
}, t.prototype.render = function X() {
return this.state.career && this.getGameStats() ? {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
children: this.renderContent(),
tallContent: !0,
scrollContent: !1
}),
_owner: null
} : {
$$typeof: c,
type: L["default"],
key: null,
ref: null,
props: r(L["default"].defaultProps, {
text: __("ID_SPARTA_CAREER_ERROR_TEXT"),
subText: __("ID_SPARTA_CAREER_ERROR_SUBTEXT")
}),
_owner: null
};
};
var n = t;
return t = i("_$CareerGameOverview")(t) || t, t = z["default"]({
career: K["default"],
sessionUser: Y["default"],
ugcAccess: Q["default"],
isInstalling: ee["default"].scope("isInstalling")
})(t) || t, t = j.observer(t) || t;
}(d["default"].Component);
t["default"] = ce, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = p["default"].find(e, function(e) {
return "card" === e.type;
});
return t ? t.url : (t = p["default"].find(e, function(e) {
return "offer" === e.type;
}), t ? t.url : (t = p["default"].find(e, function(e) {
return "boxart" === e.type;
}), t ? t.url : null));
}
function a(e) {
p["default"].each(e.gameIds, function(e) {
T["default"].setOffers(e, [], !0, !0, !1);
});
var t = !!e.gameIds && e.gameIds.length > 0 && e.gameIds || [];
return 0 === t.length && (t = p["default"].keys(v.gameStore.games.toJS())), t.push("access"), 
h["default"].firstPartyRequest("Store.getOffers", {
games: t,
locale: b["default"].getState().commerceLocale || b["default"].getState().locale || "en-us".toLowerCase()
});
}
t.__esModule = !0;
var i = n(2), s = n(15), l = r(s), u = n(4), p = r(u), c = n(21), f = r(c), d = n(26), h = r(d), y = n(34), g = r(y), m = n(19), b = r(m), v = n(11), _ = n(259), S = r(_), w = n(51), T = r(w), C = n(389), E = l["default"].createAction(), I = f["default"].createClient({
requestOn: [ E ],
gameIds: [],
initialize: function P() {
T["default"].updateOffers.listen(function(e) {
if (SpartaGlobals.bundleIsPS4) {
var t = i.frostbite.registerMessageListener("sparta.orbis.isStoreAvailableResponse", function(n, r) {
E({
available: r.available,
gameIds: e
}), t();
});
i.frostbite.sendMessage("sparta.orbis.isStoreAvailable");
} else E({
available: !0,
gameIds: e
});
});
},
shouldPerformRequest: function O() {
return g["default"].getState().isReady();
},
onRequestError: function A(e, t) {
p["default"].each(t.gameIds, function(e) {
T["default"].setOffers(e, [], !1, !1, !0);
});
},
request: function k(e) {
return p["default"].each(e.gameIds, function(e) {
T["default"].setOffers(e, [], !0, !0, !1);
}), e.available === !1 ? new Promise(function(t) {
t({
gameIds: e.gameIds,
unavailable: !0
});
}) : a(e);
},
parse: function R(e) {
var t = {
offers: {},
available: !1,
gameIds: []
};
return e.unavailable ? (t.gameIds = e.gameIds, t) : (t.available = !0, t.offers = p["default"].object(p["default"].map(e.feeds, function(e) {
return t.gameIds.push(e.game), [ e.game, p["default"].map(e.offers, function(t) {
return new S["default"]({
id: t.ownership.id,
group: t.ownership.group,
gameId: e.game,
displayName: t.displayName,
price: t.price,
listPrice: t.listPrice,
productId: t.productId,
offerId: t.offerId,
data: t.data,
owned: t.ownership.owned,
type: t.ownership.type.name.toLowerCase(),
licenses: t.meta && t.meta.licenses,
description: {
shortDesc: t.description.shortDesc,
longDesc: C.stripHTML(t.description.longDesc)
},
backgroundUrl: o(t.images),
pinData: t.pinData
});
}) ];
})), t);
},
update: function x(e) {
var t = e.offers, n = e.available, r = e.gameIds;
p["default"].each(r, function(e) {
T["default"].setOffers(e, t[e], n, !1, !1);
});
}
});
t["default"] = I, e.exports = t["default"];
}, function(e, t, n) {
var r = n(21), o = n(26), a = n(17), i = r.createClient({
requestOn: [ o.onSessionEstablished, o.onSessionEntitlementsReceived, a.updateSubscription ],
throttleAll: 1e4,
shouldPerformRequest: function s() {
return !SpartaGlobals.bundleIsPS4;
},
request: function l() {
return o.request("Inventory.getSubscriptionStatus");
},
parse: function u(e) {
return e.subscribed;
},
update: function p(e) {
this.publish(e);
}
});
e.exports = i;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return N(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(2), y = n(25), g = s(y), m = n(47), b = s(m), v = n(17), _ = s(v), S = n(148), w = s(S), T = n(20), C = s(T), E = n(14), I = s(E), P = n(12), O = s(P), A = n(7), k = s(A), R = n(205), x = s(R), M = {
_$ButtonCallout: {
displayName: "ButtonCallout"
}
}, N = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/components/ButtonCallout.jsx",
components: M,
locals: [],
imports: []
}), $ = h.createStyleSheet({
buttonCallout: {
margin: [ 0, 0, 10, 0 ],
flexDirection: "row"
},
iconButton: {
width: 32,
height: 32,
margin: [ -4.4, 3, 0, 5 ]
},
iconButtonX: {
texture: w["default"].normal.Option1
},
iconButtonY: {
texture: w["default"].normal.Option2
}
}), D = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.getInput = function s() {
var e = this, t = "";
switch (this.props.button) {
case "X":
t = O["default"].Option1;
break;

case "Y":
t = O["default"].Option2;
}
return [ new I["default"]({
visible: !1,
action: function n() {
return e.pressAction();
},
key: t
}) ];
}, t.prototype.pressAction = function l() {
switch (this.props.action) {
case "link":
_["default"].gotoLocation(this.props.location);
break;

case "popup":
this.showPopupTerms();
}
}, t.prototype.showPopupTerms = function u() {
g["default"].display(new b["default"]({
content: {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
legal: "terms"
}),
_owner: null
},
id: "linkTextPopup",
fullScreen: !0,
inputs: [ new I["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: O["default"].Decline
}) ]
}));
}, t.prototype.endsWith = function f(e, t, n) {
var r = e;
("number" != typeof n || !isFinite(n) || Math.floor(n) !== n || n > r.length) && (n = r.length), 
n -= t.length;
var o = r.indexOf(t, n);
return -1 !== o && o === n;
}, t.prototype.render = function d() {
var e = "%btn%", t = "";
switch (this.props.button) {
case "X":
t = $.iconButtonX;
break;

case "Y":
t = $.iconButtonY;
}
var n = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ $.iconButton, t ]
},
_owner: null
}, o = [], a = [], i = this.props.text;
if (i && i.length > 0) if (i.indexOf(e) < 0) o.push({
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
value: i,
style: this.props.style,
size: "XS"
}),
_owner: null
}); else if (0 === i.indexOf(e)) o.push(n), a = i.split(e), o.push({
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
value: a[1],
style: this.props.style,
size: "XS"
}),
_owner: null
}); else if (this.endsWith(i, e)) a = i.split(e), o.push({
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
value: a[0],
style: this.props.style,
size: "XS"
}),
_owner: null
}), o.push(n); else {
a = i.split(e);
for (var s = 1; s < a.length; s++) o.push(n), o.push({
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
value: a[s],
style: this.props.style,
size: "XS"
}),
_owner: null
});
}
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: o,
style: p({}, $.buttonCallout, {
width: this.props.width
})
},
_owner: null
};
};
var n = t;
return t = i("_$ButtonCallout")(t) || t, t = C["default"]()(t) || t;
}(d["default"].Component);
t["default"] = D, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return $(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(2), d = r(f), h = n(1), y = l(h), g = n(2), m = n(257), b = n(16), v = l(b), _ = n(258), S = l(_), w = n(23), T = l(w), C = n(7), E = l(C), I = n(58), P = l(I), O = n(17), A = l(O), k = n(51), R = l(k), x = n(122), M = l(x), N = {
_$CallToAction: {
displayName: "CallToAction"
}
}, $ = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/components/CallToAction.jsx",
components: N,
locals: [],
imports: []
}), D = n(110), U = {
ACCESSMONTHID: "ACCESSMONTHID",
ACCESSYEARID: "ACCESSYEARID"
}, L = g.createStyleSheet({
buttonContainer: {
margin: [ 0, 0, 20, 0 ]
},
labelChoosePlan: {
margin: [ 0, 0, 20, 0 ]
},
labelOr: {
margin: [ 0, 0, 20, 0 ],
flexDirection: "row"
},
labelOrHandleBars: {
opacity: .3,
backgroundColor: "#FFFFFF",
flex: 1,
height: 1,
margin: [ 13, 0, 0, 0 ]
},
labelOrHandleBarLeft: {
marginRight: 10
},
labelOrHandleBarRight: {
marginLeft: 10
},
labelPressMoreInfo: {
margin: [ 20, 0, 0, 0 ],
flexDirection: "row"
},
calltoAction: {
margin: [ 0, 0, 0, 0 ]
},
spinner: {
height: 40
}
}), F = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.settings = D.getCopyPage("settings"), this.state = {
ticks: 0,
loaded: !1
}, this.subscriptionStatus = null, R["default"].updateOffers();
}
i(t, e), t.prototype.componentDidMount = function r() {
this.requestSubscriptionStatus();
}, t.prototype.componentDidUpdate = function l(e, t) {
t.unparsedOffers !== this.state.unparsedOffers && this.state.unparsedOffers.access && this.createOffersMap({
offers: this.state.unparsedOffers
});
}, t.prototype.requestSubscriptionStatus = function u() {
SpartaGlobals.bundleIsPS4 || A["default"].updateSubscription();
}, t.prototype.createOffersMap = function p(e) {
for (var t = D.getProperty(e, "offers.access") || [], n = {}, r = 0; r < t.offers.length; r++) switch (!0) {
case 0 === r:
n[U.ACCESSMONTHID] = t.offers[r];
break;

case 1 === r:
n[U.ACCESSYEARID] = t.offers[r];
}
this.setState({
offers: n,
loaded: !0
});
}, t.prototype.setPrice = function f(e) {
var t = "", n = "";
switch (e) {
case "monthly":
t = "subscription.button.monthly", n = U.ACCESSMONTHID;
break;

case "yearly":
t = "subscription.button.yearly", n = U.ACCESSYEARID;
}
var r = this.state.offers;
if (r && r[n]) {
var o = D.getProperty(this.settings, t) || "";
return o.replace("%PRICE%", r[n].price);
}
return "";
}, t.prototype.setFooter = function h() {
var e = D.getProperty(this.settings, "subscription.text") || "", t = this.findOffer(U.ACCESSMONTHID);
return t && t.price && (e = e.replace("%PRICE%", t.price)), e;
}, t.prototype.createCallToAction = function g() {
return this.isInstallActionShown() ? this.createInstallButton() : this.isCallToActionShown() ? "PC" === D.getPlatform() ? this.createCallToActionPC() : this.createCallToActionXboxOne() : this.createSpinner();
}, t.prototype.findOffer = function b(e) {
return this.state.offers && this.state.offers[e] ? this.state.offers[e] : null;
}, t.prototype.purchasePCMonthly = function _() {
this.purchaseSubscription(this.findOffer(U.ACCESSMONTHID));
}, t.prototype.purchaseConsoleMonthly = function w() {
this.purchaseSubscription(this.findOffer(U.ACCESSMONTHID));
}, t.prototype.purchaseConsoleYearly = function C() {
this.purchaseSubscription(this.findOffer(U.ACCESSYEARID));
}, t.prototype.purchaseSubscription = function I(e) {
if (e) {
var t = {
component: this
};
m.StartPurchaseRequest.triggerAsPromise(e).then(this.requestSubscriptionStatus(t));
}
}, t.prototype.installAccess = function O() {
try {
if (this.state.offers) for (var e in this.state.offers) {
var t = this.state.offers[e].offerId;
if (t) {
d.frostbite.sendMessage("sparta.commerceShowDetails", {
offerId: t,
jobId: 0
});
break;
}
}
} catch (n) {}
}, t.prototype.isInstallActionShown = function k() {
return "undefined" != typeof this.state.subscriptionStatus && null !== this.state.subscriptionStatus && this.state.subscriptionStatus && this.state.loaded;
}, t.prototype.isCallToActionShown = function x() {
return "undefined" != typeof this.state.subscriptionStatus && null !== this.state.subscriptionStatus && !this.state.subscriptionStatus && this.state.loaded;
}, t.prototype.isSpinnerShown = function N() {
return !(this.isCallToActionShown() || this.isInstallActionShown());
}, t.prototype.createCallToActionPC = function $() {
var e = this;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
text: this.setPrice("monthly"),
style: this.props.buttonStyle,
action: function() {
return e.purchasePCMonthly();
}
}),
_owner: null
},
style: L.buttonContainer
},
_owner: null
}, {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
value: this.setFooter(),
style: [ L.labelPressMoreInfoText, this.props.subTextStyle ]
}),
_owner: null
} ],
style: [ L.calltoAction ]
},
_owner: null
};
}, t.prototype.createCallToActionXboxOne = function F() {
var e = this;
try {
if (this.state.loaded && this.state.offers && Object.keys(this.state.offers).length > 0) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
value: D.getProperty(this.settings, "subscription.heading"),
type: "emphasis",
style: [ L.labelChoosePlan, this.props.headingStyle ]
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
text: this.setPrice("monthly"),
style: this.props.buttonStyle,
action: function() {
return e.purchaseConsoleMonthly();
}
}),
_owner: null
},
style: L.buttonContainer
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ L.labelOrHandleBars, L.labelOrHandleBarLeft ]
},
_owner: null
}, {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
value: "OR",
size: "XS"
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ L.labelOrHandleBars, L.labelOrHandleBarRight ]
},
_owner: null
} ],
style: [ L.labelOr, this.props.style ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
text: this.setPrice("yearly"),
style: this.props.buttonStyle,
action: function() {
return e.purchaseConsoleYearly();
}
}),
_owner: null
},
style: L.buttonContainer
},
_owner: null
} ],
style: [ L.calltoAction ]
},
_owner: null
};
} catch (t) {}
}, t.prototype.createInstallButton = function G() {
var e = this, t = SpartaGlobals.bundleIsPC ? __("ID_SPARTA_COMMERCE_OFFER_OWNED") : D.getProperty(this.settings, "label.installAccess");
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
text: t,
disabled: SpartaGlobals.bundleIsPC,
style: this.props.buttonStyle,
action: function() {
return e.installAccess();
}
}),
_owner: null
},
style: L.buttonContainer
},
_owner: null
},
style: [ L.calltoAction ]
},
_owner: null
};
}, t.prototype.createSpinner = function j() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: y["default"].createElement(P["default"], {
ref: "indicator",
size: 20
}),
style: [ L.spinner ]
},
_owner: null
};
}, t.prototype.render = function B() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.createCallToAction()
},
_owner: null
};
};
var n = t;
return t = s("_$CallToAction")(t) || t, t = v["default"]({
subscriptionStatus: S["default"],
unparsedOffers: M["default"]
})(t) || t;
}(y["default"].Component);
t["default"] = F, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return R(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(2), y = n(25), g = s(y), m = n(47), b = s(m), v = n(14), _ = s(v), S = n(12), w = s(S), T = n(205), C = s(T), E = n(17), I = s(E), P = n(8), O = n(7), A = s(O), k = {
_$LinkText: {
displayName: "LinkText"
}
}, R = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/components/LinkText.jsx",
components: k,
locals: [],
imports: []
}), x = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.state = {
isHovered: !1
}, this.focusItem = h.focus.create(this, "linktext-" + t.text), this.focusItem.setClickInput(new _["default"]({
key: w["default"].Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function a() {
var a = r.props.action, e = r.props.location;
"link" === a && e ? I["default"].gotoLocation(e) : "popup" === a && r.showPopupTerms();
}
}));
}
a(t, e), t.prototype.showPopupTerms = function s() {
g["default"].display(new b["default"]({
content: {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
legal: "terms"
}),
_owner: null
},
id: "linkTextPopup",
fullScreen: !0,
inputs: [ new _["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: w["default"].Decline
}) ]
}));
}, t.prototype.render = function l() {
var e = this, t = {
color: "#ffffff",
opacity: this.state.isHovered ? 1 : .66
}, n = function o() {
return e.setState({
isHovered: !0
});
}, r = function a() {
return e.setState({
isHovered: !1
});
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: d["default"].createElement(A["default"], p({
value: this.props.text,
size: "XS",
style: [ this.props.style, t ]
}, this.focusItem.hooks)),
onMouseEnter: n,
onMouseLeave: r
},
_owner: null
};
};
var n = t;
return t = i("_$LinkText")(t) || t, t = P.observer(t) || t;
}(d["default"].Component);
t["default"] = x, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
var r = n(24), o = {
_transactions: new r("TransactionLog"),
get: function a(e) {
return this._transactions.get(e);
},
add: function i(e) {
this._transactions.set(e.jobId, e);
}
};
e.exports = o;
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(2), h = n(7), y = s(h), g = n(6), m = s(g), b = n(62), v = s(b), _ = n(40), S = n(33), w = s(S), T = {
_$CommonQuestions: {
displayName: "CommonQuestions"
}
}, C = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/CommonQuestions.jsx",
components: T,
locals: [],
imports: []
}), E = _.getTextSizes("en-us".toLowerCase()), I = n(110), P = {
header: "XL",
heading: "M",
text: "S",
subtext: "XS",
fineprint: "XXS"
}, O = d.createStyleSheet({
container: {},
columnHeading: {},
columnMain: {
width: m["default"].getWidth(14)
},
columnSidebar: {
width: m["default"].getWidth(10)
},
rowMain: {
height: SpartaGlobals.bundleIsPC ? m["default"].getHeight(88) : m["default"].getHeight(68)
},
header: {
marginBottom: 35
},
heading: {
marginBottom: 15
},
paragraph: {
marginBottom: 25,
textLineSpacing: Math.round(1.2 * _.LINE_HEIGHTS[P.text])
},
surfaceMain: {},
surfaceSidebar: {
padding: [ 0, 30, 0, 0 ]
},
surfaceLegal: {
opacity: .6
},
hiddenAnswer: {
opacity: 0
},
menuItems: {
fontSize: E[P.text]
},
shownAnswer: {
opacity: 100,
position: "absolute",
left: 0,
top: 0
},
answerParagraph: {
margin: [ 0, 0, 20, 0 ]
},
columnBorder: {
position: "absolute",
top: 0,
bottom: 0,
width: 2,
backgroundColor: "#FFFFFF",
opacity: .2
}
}), A = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.copy = I.getCopyPage("common-questions"), this.settings = I.getCopyPage("settings"), 
this.questions = I.getProperty(this.copy, "list") || [], this.state = {
displayedAnswer: this.questions.length > 0 ? 0 : -1
};
}
a(t, e), t.prototype.showAnswer = function s(e) {
this.setState({
displayedAnswer: e
});
}, t.prototype.createQuestions = function l() {
var e = this, t = [];
if (this.questions) for (var n = function(n) {
t.push({
id: n,
label: e.questions[n].heading || "",
showActiveIndicator: !0,
onFocus: function r() {
e.refs.list && (e.refs.list.setActive(n), e.showAnswer(n));
},
onTrigger: function o() {
e.refs.list && (e.refs.list.setActive(n), e.showAnswer(n));
}
});
}, r = 0; r < this.questions.length; r++) n(r);
return t;
}, t.prototype.createAnswers = function u() {
for (var e = [], t = 0; t < this.questions.length; t++) e.push({
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: this.questions[t].heading,
style: O.heading,
size: P.heading
}),
_owner: null
}, this.createAnswerParagraphs(t) ],
style: this.state.displayedAnswer === t ? O.shownAnswer : O.hiddenAnswer
},
_owner: null
});
return e;
}, t.prototype.createAnswerParagraphs = function c(e) {
for (var t = [], n = this.questions[e].items, o = 0; o < n.length; o++) t.push({
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: n[o],
style: O.paragraph,
size: P.text
}),
_owner: null
});
return t;
}, t.prototype.render = function d() {
return {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: m["default"].Row,
key: null,
ref: null,
props: r(m["default"].Row.defaultProps, {
children: [ {
$$typeof: p,
type: m["default"].Col,
key: null,
ref: null,
props: r(m["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: f["default"].createElement(v["default"], {
items: this.createQuestions(),
ref: "list",
divider: "item",
activeItemId: 0,
forgetItemFocus: !1
}),
style: O.surfaceSidebar
},
_owner: null
},
style: O.columnSidebar
}),
_owner: null
}, {
$$typeof: p,
type: m["default"].Col,
key: null,
ref: null,
props: r(m["default"].Col.defaultProps, {}),
_owner: null
}, {
$$typeof: p,
type: m["default"].Col,
key: null,
ref: null,
props: r(m["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.createAnswers(),
style: O.surfaceMain
},
_owner: null
},
style: O.columnMain
}),
_owner: null
} ],
style: O.rowMain
}),
_owner: null
},
style: O.container
},
_owner: null
},
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$CommonQuestions")(t) || t;
}(f["default"].Component);
t["default"] = A, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return function(t) {
return H(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l() {
A["default"].display(new R["default"]({
content: {
$$typeof: c,
type: M["default"],
key: null,
ref: null,
props: a(M["default"].defaultProps, {
legal: "terms"
}),
_owner: null
},
id: "linkTextPopup",
fullScreen: !0,
inputs: [ new j["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: U["default"].Decline
}) ]
}));
}
var u = n(3), p = s(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(2), y = n(100), g = s(y), m = n(7), b = s(m), v = n(6), _ = s(v), S = n(40), w = n(381), T = s(w), C = n(382), E = s(C), I = n(380), P = s(I), O = n(25), A = s(O), k = n(47), R = s(k), x = n(205), M = s(x), N = n(33), $ = s(N), D = n(12), U = s(D), L = n(20), F = s(L), G = n(14), j = s(G), B = {
_$PlayFirst: {
displayName: "PlayFirst"
}
}, H = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/PlayFirst.jsx",
components: B,
locals: [],
imports: []
}), V = S.getTextSizes("en-us".toLowerCase()), z = n(110), W = "commerce/store/access", q = "/store/list?tab=access", K = "PC" === z.getPlatform() ? 1 : .75, X = 3 * K, Y = .1, J = .8 * K, Q = {
header: "XL",
heading: "S",
text: "S",
subtext: "XS",
fineprint: "XXS"
}, Z = h.createStyleSheet({
container: {},
columnMain: {
width: _["default"].getWidth(13)
},
columnSidebar: {
width: _["default"].getWidth(10)
},
columnLegal: {
width: _["default"].getWidth(24),
padding: [ 0, _["default"].getWidth(J), 0, 0 ]
},
columnBorder: {},
rowMain: {
height: SpartaGlobals.bundleIsPC ? _["default"].getHeight(88) : _["default"].getHeight(68)
},
rowLegal: {
height: _["default"].getHeight(X)
},
rowBorder: {
height: _["default"].getHeight(Y)
},
surfaceMain: {},
surfaceSidebar: {
alignItems: "flex-start"
},
surfaceLegal: {
opacity: .33
},
header: {
marginBottom: 3 * _["default"].GUTTER
},
list: {
marginBottom: 20
},
listItem: {
padding: [ 0, 0, 1.5 * _["default"].GUTTER, 0 ]
},
listIndicator: {
width: _["default"].getWidth(.5) - _["default"].GUTTER
},
videoItem: {},
callToActionHeading: {
fontSize: V[Q.text]
},
callToActionButton: {
fontSize: V[Q.text]
},
callToActionSubText: {
fontSize: V[Q.subtext]
},
listItemText: {
textLineSpacing: S.LINE_HEIGHTS[Q.text]
},
legalText: {
fontSize: V[Q.fineprint]
},
callToAction: {
width: 500,
marginTop: 2 * _["default"].GUTTER
}
}), ee = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.gameName = z.getProperty(z.getCopy(), "play-first-trial.gameName") || "", 
this.copy = z.getCopyPage("play-first-trial", {
game: this.gameName
}), this.settings = z.getCopyPage("settings");
}
o(t, e), t.prototype.getInput = function s() {
return new j["default"]({
action: function e() {
return l();
},
key: U["default"].Option2,
label: z.getProperty(this.settings, "label.terms")
});
}, t.prototype.createItemList = function u() {
var e = [], t = z.getProperty(this.copy, "list") || [];
if (t.length > 0) {
t = z.getProperty(t[0], "items") || [];
for (var n = 0; n < t.length; n++) e.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: a(b["default"].defaultProps, {
value: "- " + t[n],
style: Z.listItemText,
size: Q.text
}),
_owner: null
},
style: Z.listItem
},
_owner: null
});
}
return e;
}, t.prototype.createVideo = function p() {
var e = [ {
author: "EA",
group: "video",
game: z.getProperty(this.copy, "video.game") || "",
imageUrl: z.getProperty(this.copy, "video.imageUrl") || "",
title: z.getProperty(this.copy, "video.title") || "",
url: z.getProperty(this.copy, "video.url") || ""
} ], t = SpartaGlobals.bundleIsConsole ? "L" : "SSL";
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: g["default"].renderCards(e, t),
style: Z.videoItem
},
_owner: null
};
}, t.prototype.createLegal = function f() {
return "PC" === z.getPlatform() ? {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: a(E["default"].defaultProps, {
action: "popup",
text: z.getProperty(this.settings, "label.terms"),
style: Z.callToActionSubText
}),
_owner: null
} : {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: a(b["default"].defaultProps, {
value: this.copy.legal,
size: Q.fineprint
}),
_owner: null
};
}, t.prototype.createMoreInfo = function d() {
var e = W;
return this.props.viewLocation.args.gameId && (e = this.props.viewLocation.args.gameId + q), 
"PC" === z.getPlatform() ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: a(E["default"].defaultProps, {
action: "link",
text: z.getProperty(this.settings, "label.learnMore"),
style: Z.callToActionSubText,
location: e
}),
_owner: null
}
},
_owner: null
} : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: a(P["default"].defaultProps, {
button: "X",
action: "link",
text: z.getProperty(this.settings, "label.learnMore"),
style: Z.callToActionSubText,
location: e
}),
_owner: null
}
},
_owner: null
};
}, t.prototype.render = function h() {
return {
$$typeof: c,
type: $["default"],
key: null,
ref: null,
props: a($["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: _["default"].Row,
key: null,
ref: null,
props: a(_["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: _["default"].Col,
key: null,
ref: null,
props: a(_["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: a(b["default"].defaultProps, {
value: this.copy.header,
size: Q.header,
style: Z.header
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.createItemList(),
style: Z.list
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: a(T["default"].defaultProps, {
headingStyle: Z.callToActionHeading,
buttonStyle: Z.callToActionButton,
subTextStyle: Z.callToActionSubText
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.createMoreInfo(),
style: {
paddingTop: _["default"].GUTTER
}
},
_owner: null
} ],
style: Z.callToAction
},
_owner: null
} ],
style: Z.surfaceMain
},
_owner: null
},
style: Z.columnMain
}),
_owner: null
}, {
$$typeof: c,
type: _["default"].Col,
key: null,
ref: null,
props: a(_["default"].Col.defaultProps, {
style: {
width: _["default"].getWidth(1)
}
}),
_owner: null
}, {
$$typeof: c,
type: _["default"].Col,
key: null,
ref: null,
props: a(_["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.createVideo(),
style: Z.surfaceSidebar
},
_owner: null
},
style: Z.columnSidebar
}),
_owner: null
} ],
style: Z.rowMain
}),
_owner: null
}, {
$$typeof: c,
type: _["default"].Row,
key: null,
ref: null,
props: a(_["default"].Row.defaultProps, {
children: {
$$typeof: c,
type: _["default"].Col,
key: null,
ref: null,
props: a(_["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.createLegal(),
style: Z.surfaceLegal
},
_owner: null
},
style: Z.columnLegal
}),
_owner: null
},
style: Z.rowLegal
}),
_owner: null
}, {
$$typeof: c,
type: _["default"].Row,
key: null,
ref: null,
props: a(_["default"].Row.defaultProps, {
children: {
$$typeof: c,
type: _["default"].Col,
key: null,
ref: null,
props: a(_["default"].Col.defaultProps, {
style: Z.columnBorder
}),
_owner: null
},
style: Z.rowBorder
}),
_owner: null
} ],
style: Z.container
},
_owner: null
},
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$PlayFirst")(t) || t, t = F["default"]()(t) || t;
}(d["default"].Component);
t["default"] = ee, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return D(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e, t) {
return 0 === t ? "L" : "M";
}
function u(e, t) {
return 0 === t ? "SSL" : "SSM";
}
var p = n(3), c = s(p);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), h = n(1), y = s(h), g = n(4), m = s(g), b = n(62), v = s(b), _ = n(17), S = s(_), w = n(73), T = n(305), C = s(T), E = n(6), I = s(E), P = n(100), O = s(P), A = n(126), k = s(A), R = n(33), x = s(R), M = n(56), N = n(11), $ = {
_$StoreLanding: {
displayName: "StoreLanding"
}
}, D = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/StoreLanding.jsx",
components: $,
locals: [],
imports: []
}), U = [ "battlepacks", "shortcuts", "expansions", "premium" ], L = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.recommendationCategory = this.props.viewLocation.args.recommendationCategory ? [ this.props.viewLocation.args.recommendationCategory ] : [ this.getRecoCategory(t) ];
}
a(t, e), t.prototype.componentWillMount = function s() {
this.updateRecommenderOptions({
count: 4,
games: [ this.gameId ],
ruleCategories: this.recommendationCategory
});
}, t.prototype.getRecoCategory = function p(e) {
var t = N.gatewayState.session.entitlements;
return t.ownsGame(this.gameId) ? "store_game_overview" : "store_game_overview_promo";
}, t.prototype.getBaseConfiguration = function c() {
var e = __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_TAB_ORIGIN_ACCESS" : "ID_SPARTA_TAB_EA_ACCESS"), t = [ {
id: "battlepacks",
label: __("ID_SPARTA_TAB_BATTLEPACKS")
}, {
id: "deluxe",
label: __("ID_SPARTA_TAB_DELUXE")
}, {
id: "shortcuts",
label: __("ID_SPARTA_TAB_KITSHORTCUTS")
}, {
id: "expansions",
label: __("ID_SPARTA_TAB_EXPANSIONS")
}, {
id: "premium",
label: __("ID_SPARTA_TAB_PREMIUM")
}, {
id: "rent",
label: __("ID_SPARTA_TAB_RSP")
}, {
id: "access",
label: e
} ], n = [ "rent" ];
return SpartaGlobals.bundleIsPS4 && n.push("battlepacks"), M.routeIsHostingGame() || (t = t.filter(function(e) {
return -1 === n.indexOf(e.id);
})), t;
}, t.prototype.getOffers = function h() {
return this.state.offers && this.state.offers.hasOwnProperty(this.gameId) ? this.state.offers[this.gameId] : [];
}, t.prototype.getMenuItems = function g(e) {
var t = this, n = arguments.length <= 1 || void 0 === arguments[1] ? U : arguments[1], r = this.getBaseConfiguration(e);
return m["default"].compact(m["default"].map(n, function(n) {
var o = m["default"].find(r, function(e) {
return e.id === n;
}), a = N.gameStore.getGame(e).startRoute + "/store/list?tab=" + n, i = t.props.viewLocation;
return i && i.args && i.args.baseRoute && i.args.accessTabbedRoute !== !0 && "access" === n && (a = i.args.baseRoute + "/store/access"), 
o ? m["default"].extend({}, o, {
route: a,
onClick: function s() {
S["default"].gotoLocation(a);
},
blockInputFor: 500,
onTrigger: function l() {
S["default"].gotoLocation(a);
}
}) : void 0;
}));
}, t.prototype.render = function b() {
var e = this.props.viewLocation.args.gameId, t = N.gameStore.getGame(e).storeConfig, n = t.getTabs(), o = this.getMenuItems(e, n), a = SpartaGlobals.bundleIsPC ? u : l;
return o.length > 1 ? y["default"].createElement(C["default"], {
ref: "template",
sideContent: {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
items: o,
divider: "item"
}),
_owner: null
}
}, {
$$typeof: f,
type: w.CardCarousel,
key: null,
ref: null,
props: r(w.CardCarousel.defaultProps, {
children: O["default"].renderCards(this.state.recommendations, a, "friends"),
width: I["default"].getWidth(16),
clipLeft: !0
}),
_owner: null
}) : {
$$typeof: f,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
children: {
$$typeof: f,
type: w.CardCarousel,
key: null,
ref: null,
props: r(w.CardCarousel.defaultProps, {
children: O["default"].renderCards(this.state.recommendations, a, "friends"),
width: I["default"].getWidth(24)
}),
_owner: null
}
}),
_owner: null
};
}, d(t, [ {
key: "gameId",
get: function _() {
return this.props.viewLocation.args.gameId;
}
} ]);
var n = t;
return t = i("_$StoreLanding")(t) || t, t = k["default"]()(t) || t;
}(y["default"].Component);
t["default"] = L, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t) {
e.exports = {
currentTranslations: {}
};
}, function(e, t, n) {
function r(e) {
c ? e() : p ? p.then(e) : setTimeout(function() {
return r(e);
}, 100);
}
function o() {
return c ? (u = null, Promise.resolve()) : (u || (u = new Promise(function(e) {
r(e);
})), u);
}
function a(e, t) {
var n = null, r = null;
e = e.replace("-", "_");
var o = l[e] || "";
c = !1;
var a;
return a = "http://offline.twinkle/sparta/jsclient/builds/assets/translations" + o.substr(o.lastIndexOf("/")), 
a = i.options.urlHook(a), p = new Promise(function(e, t) {
function o(t, o) {
r = new Date();
var i = r.getTime() - n.getTime();
t ? (console.log("Translations loaded in " + i + " ms", a), s.currentTranslations = JSON.parse(o)) : console.warn("Failed to download translations after " + i + " ms", a), 
c = !0, e();
}
n = new Date(), i.getBuildInfo().hasLoadAssetRequest() ? i.loadAssetRequest(a, o) : i.httpRequest(i.HTTP_METHODS.GET, a, "", "", !1, o);
});
}
t.__esModule = !0, t.waitForTranslations = o, t.loadTranslations = a;
var i = n(2), s = n(387), l = {
ar_sa: "assets/ar_SA-7617cb5c.json",
cs_cz: "assets/cs_CZ-4a831406.json",
de_de: "assets/de_DE-46f28788.json",
en_us: "assets/en_US-194aa11b.json",
es_es: "assets/es_ES-0f2783be.json",
es_mx: "assets/es_MX-a9b41d21.json",
fr_fr: "assets/fr_FR-8c291cfc.json",
it_it: "assets/it_IT-068881e5.json",
ja_jp: "assets/ja_JP-a69b8310.json",
ko_kr: "assets/ko_KR-4d5a0b60.json",
pl_pl: "assets/pl_PL-ebe7984f.json",
pt_br: "assets/pt_BR-78742b48.json",
ru_ru: "assets/ru_RU-f31d311c.json",
tr_tr: "assets/tr_TR-b2f67897.json",
zh_tw: "assets/zh_TW-ee2599da.json"
}, u = null, p = null, c = !1;
}, function(e, t) {
function n(e) {
if (!e) return "";
for (var t = [ "<p>", "</p>", "<b>", "</b>", "<ul>", "</ul>", "<li>", "</li>", "<i>", "</i>", "<br>", "&nbsp;", "<p .+>", "<a[^>]*>", "</a>" ], n = e, r = 0; r < t.length; r++) {
var o = t[r];
n = n.replace(new RegExp(o, "g"), "");
}
return n;
}
t.__esModule = !0, t.stripHTML = n;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = void 0 !== e, n = i.routeIsHostingGame();
return n ? t ? i.showCannotShowBecauseMatchmakingAlert : void 0 : i.showNotInHostingGameAlert;
}
t.__esModule = !0, t.getActionIfUnavailable = o;
var a = n(1), i = (r(a), n(56));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(4), i = r(a), s = n(11), l = n(623), u = r(l), p = n(389), c = function() {
function e(t, n) {
o(this, e), this.group = "article", this.creationDate = t.creationDate ? new Date(t.creationDate.substr(0, 19)) : new Date(), 
this.featuredImage = t.featuredImage, this.pageTitle = t.pageTitle, this.description = t.description || "", 
this.parsedChunks = t.parsedChunks || [], t.body ? this.body = i["default"].map(t.body.children, function(e) {
var t = e.resourceType.replace("ea/core/contentapi/components/", "");
return {
type: t,
image: "image" === t ? e.fileReference || "" : null,
text: "text" === t ? p.stripHTML(e.text) : null
};
}) : this.body = [], this.isFeatured = t.featuredFrom && t.featuredTo && u["default"](t.featuredFrom, t.featuredTo), 
this.game = n ? s.gameStore.getGame(n).displayName : "", this.id = t.slug;
}
return e.prototype.hasRequiredFields = function t() {
var e = null !== this.pageTitle, t = this.parsedChunks.length > 0 && !this.parsedChunks[0].hasOwnProperty("warning");
return e && t;
}, e;
}();
t["default"] = c, e.exports = t["default"];
}, function(e, t) {
function n(e) {
e = e || {}, this.current = e.current || 0, this.total = e.total || 0, this.percentage = this.total ? this.current / this.total : 0;
}
e.exports = n;
}, function(e, t, n) {
(function(__) {
function t(e) {
e = e || {}, this.number = e.number || 0, this.name = e.name || __("ID_SPARTA_CAREER_RANK") + " " + this.number, 
this.imageUrl = e.imageUrl || "", this.progress = new r(e.progress);
}
var r = n(392);
e.exports = t;
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
if (e = e || {}, e.highlights = e.highlights || {}, this.rank = new s(o.extend({}, e.rank, {
progress: e.rankProgress
})), this.timePlayed = e.timePlayed || 0, this.kills = e.kills ? parseInt(e.kills, 10) : 0, 
this.deaths = e.deaths || 0, this.wins = e.wins || 0, this.losses = e.losses || 0, 
this.kpm = l.formatRatio(e.kpm), this.spm = l.formatThousands(Math.round(e.spm || 0)), 
this.soldierImageUrl = e.soldierImageUrl || u, e.equippedDogtags && (this.equippedDogtags = e.equippedDogtags), 
this.skill = e.skill ? parseFloat(e.skill).toFixed(0) : 0, this.favoriteClass = e.favoriteClass ? e.favoriteClass : "", 
this.favoriteMap = "-", e.roundHistory && e.roundHistory.favouriteMap) {
var t = e.roundHistory.favouriteMap;
this.favoriteMap = t.substr(3, t.length);
}
this.highlights = o.chain(e.highlights).map(function(e) {
return e && e.highlightType ? [ e.highlightType, new i(e) ] : void 0;
}).compact().object().value(), this.completion = o.map(e.completion, function(e) {
return new a(e);
}), this.roundsPerDay = [], e.roundHistory && e.roundHistory.roundsPerDay && (this.roundsPerDay = o.map(e.roundHistory.roundsPerDay, function(e, t) {
var n = {
wins: e && e.wins || 0,
losses: e && e.losses || 0
};
return {
timestamp: parseInt(t, 10),
results: n
};
})), this.games = this.wins + this.losses, this.kdRatio = l.formatRatioBetweenNumbers(this.kills, this.deaths), 
this.wlRatio = l.formatRatioBetweenNumbers(this.wins, this.losses), this.winPercentage = (100 * (this.wins / Math.max(this.games, 1))).toFixed(0), 
this.losePercentage = l.formatRatioBetweenNumbers(this.losses, this.games);
}
var o = n(4), a = n(626), i = n(627), s = n(393), l = n(86), u = "//eaassets-a.akamaihd.net/battlelog/bb/sparta/soldier-silhouette-40850146.png";
e.exports = r;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(207), s = r(i), l = n(208), u = r(l), p = n(644), c = r(p), f = n(15), d = r(f), h = n(24), y = r(h), g = new y["default"]("NetworkStore", {
pingTargetsQueue: [],
qosPingTargetsQueue: [],
resolveTargetsQueue: [],
pingCache: {},
qosPingCache: {},
resolveCache: {}
}), m = d["default"].createStore({
init: function b() {
var e = this;
s["default"].ping.listen(function(t) {
g.merge({
pingTargetsQueue: a["default"].compact(a["default"].union(g.getState().pingTargetsQueue, t))
}), e.trigger(e.getState());
}), s["default"].qosPing.listen(function(t) {
g.merge({
qosPingTargetsQueue: a["default"].compact(a["default"].union(g.getState().qosPingTargetsQueue, t))
}), e.trigger(e.getState());
}), s["default"].resolve.listen(function(t) {
g.merge({
resolveTargetsQueue: a["default"].compact(a["default"].union(g.getState().resolveTargetsQueue, t))
}), e.trigger(e.getState());
}), u["default"].pingCompleted.listen(function(e, t, n) {
if (!n) {
var r = g.getState().pingCache;
r[e] = new c["default"]({
ip: e,
ping: t
}), g.merge({
pingCache: r
});
}
}), u["default"].qosPingCompleted.listen(function(e, t, n) {
if (!n) {
var r = g.getState().pingCache;
r[e] = new c["default"]({
pingSiteAlias: e,
ping: t
}), g.merge({
pingCache: r
});
}
}), u["default"].resolveCompleted.listen(function(e, t) {
if (t) {
var n = g.getState().resolveCache;
n[e] = new c["default"]({
host: e,
ip: t
}), g.merge({
resolveCache: n
});
}
}), s["default"].flushCache.listen(function() {
var e = Date.now(), t = g.getState().pingCache, n = g.getState().qosPingCache, r = g.getState().resolveCache;
Object.keys(t).forEach(function(n) {
e - t[n].createdAt > 5e3 && delete t[n];
}), Object.keys(n).forEach(function(t) {
e - n[t].createdAt > 6e5 && delete n[t];
}), Object.keys(r).forEach(function(t) {
e - r[t].createdAt > 6e5 && delete r[t];
}), g.merge({
pingCache: t,
qosPingCache: n,
resolveCache: r
});
}), s["default"].emptyQueue.listen(function() {
g.merge({
pingTargetsQueue: [],
qosPingTargetsQueue: [],
resolveTargetsQueue: []
});
});
},
getState: function v() {
return g.getState();
}
});
t["default"] = m, e.exports = t["default"];
}, function(e, t) {
function n(e, t, n) {
this.name = e, this.identifier = t, this.blazeNamespace = n;
}
n.prototype.toString = function() {
return this.name;
}, e.exports = n;
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
return new Promise(function(t, n) {
var r = setTimeout(function() {
n(__("ID_SPARTA_ONLINE_JOIN_QOS_NOT_READY"));
}, 3e4);
return p["default"].getState().isQoSReady ? (t(e), void clearTimeout(r)) : (l["default"].connect(), 
void p["default"].scope("isQoSReady").listen(function(n) {
n && (t(e), clearTimeout(r));
}));
});
}
function o(e) {
return new Promise(function(t, n) {
i["default"].getState().isMpInstalled ? t(e) : c.alert(__("ID_SPARTA_ONLINE_JOIN_UNABLE_TO_JOIN"), __("ID_SPARTA_INSTALL_INSTALLING_MP")).then(function() {
return n();
});
});
}
t.__esModule = !0, t.checkQoSReady = r, t.checkMPInstalled = o;
var a = n(89), i = e(a), s = n(88), l = e(s), u = n(34), p = e(u), c = n(35);
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function e(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
return new Promise(function(t, n) {
var r = a["default"].getState();
return r.isReady() ? void t(e) : void i.alert(__("ID_SPARTA_GAMESTATE_MUST_LOGIN"), "").then(function() {
return n();
});
});
}
t.__esModule = !0, t.checkPresenceReady = r;
var o = n(34), a = e(o), i = n(35);
}).call(t, n(5));
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
n(this, o), this.isVisible = e.isVisible, this.route = e.route, this.subRoute = e.subRoute, 
this.previousRoute = e.previousRoute, this.previousSubRoute = e.previousSubRoute, 
this.isEORShown = e.isEORShown;
};
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var n = {
ok: 0,
wrongProtocolVersion: 1,
wrongTitleVersion: 2,
serverFull: 3,
kickedOut: 4,
banned: 5,
genericError: 6,
wrongPassword: 7,
kickedOutDemoOver: 8,
rankRestricted: 9,
configurationNotAllowed: 10,
serverReclaimed: 11,
missingContent: 12,
notVerified: 13,
timedOut: 14,
connectFailed: 15,
noReply: 16,
acceptFailed: 17,
mismatchingContent: 18,
kickedOutRankTooHigh: 19,
interactivityTimeout: 20,
kickedFromQueue: 21,
teamKills: 22,
kickedByAdmin: 23,
kickedViaPunkBuster: 24,
kickedOutServerFull: 25,
eSportsMatchStarting: 26,
notInESportsRosters: 27,
eSportsMatchEnding: 28,
virtualServerExpired: 29,
virtualServerRecreate: 30,
eSportsTeamFull: 31,
eSportsMatchAborted: 32,
eSportsMatchWalkover: 33,
eSportsMatchWarmupTimedOut: 34,
notAllowedToSpectate: 35,
noSpectateSlotAvailable: 36,
invalidSpectateJoin: 37,
kickedViaFairFight: 38,
kickedCommanderOnLeave: 39,
kickedCommanderAfterMutiny: 40,
serverMaintenance: 41,
kickedGameTimeAccountOnUnofficial: 42,
kickedViaShield: 43
};
t.DisconnectionType = n;
var r = {
unknown: 0,
timeout: 1,
connectionLost: 2,
backendConnectionLost: 3,
reservationTimeout: 4,
kicked: 5,
banned: 6,
playerLeft: 7,
groupLeft: 8,
joinedAnotherGame: 9,
gameDestroyed: 10,
gameEnded: 11,
migrationFailed: 12,
hostEjected: 13,
hostInjectedFailed: 14,
joinFirstPartySessionFailed: 15,
queuePromotionFailed: 16
};
t.DisconnectionReasonType = r;
var o = function() {
function t() {
var n = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
e(this, t), this.gameId = n.gameId, this.customMessage = n.customMessage, this.disconnectionType = n.disconnectionType, 
this.disconnectionReasonType = n.disconnectionReasonType;
}
return t.prototype.toHumanReadable = function o() {
if (this.customMessage) return this.customMessage;
var e = this.getDisconnectionReasonMessage();
return "" === e && (e = this.getDisconnectionMessage()), e;
}, t.prototype.getDisconnectionReasonMessage = function a() {
var e = "";
switch (this.disconnectionReasonType) {
case r.timeout:
e = __("ID_SPARTA_ONLINE_DISCONNECT_TIMEOUT");
break;

case r.connectionLost:
case r.backendConnectionLost:
e = __("ID_SPARTA_ONLINE_DISCONNECT_CONNECTIONLOST");
break;

case r.playerLeft:
e = __("ID_SPARTA_ONLINE_DISCONNECT_PLAYERLEFT");
break;

case r.gameDestroyed:
e = __("ID_SPARTA_ONLINE_DISCONNECT_GAMEDESTROYED");
}
return e;
}, t.prototype.getTitle = function i() {
var e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER");
return this.disconnectionReasonType === r.gameDestroyed && (e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER")), 
e;
}, t.prototype.getDisconnectionMessage = function s() {
var e = "";
switch (this.disconnectionType) {
case n.wrongProtocolVersion:
e = __("ID_SPARTA_ONLINE_DISCONNECT_WRONG_PROTOCOLVERSION");
break;

case n.wrongTitleVersion:
e = __("ID_SPARTA_ONLINE_DISCONNECT_WRONG_TITLEVERSION");
break;

case n.serverFull:
e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER_FULL");
break;

case n.kickedOut:
e = __("ID_SPARTA_ONLINE_DISCONNECT_GENERIC_MESSAGE");
break;

case n.banned:
e = __("ID_SPARTA_ONLINE_DISCONNECT_BANNED");
break;

case n.wrongPassword:
e = __("ID_SPARTA_ONLINE_DISCONNECT_WRONG_PASSWORD");
break;

case n.missingContent:
e = __("ID_SPARTA_ONLINE_DISCONNECT_MISSING_CONTENT");
break;

case n.timedOut:
e = __("ID_SPARTA_ONLINE_DISCONNECT_TIMEDOUT");
break;

case n.connectFailed:
e = __("ID_SPARTA_ONLINE_DISCONNECT_CONNECT_FAILED");
break;

case n.noReply:
e = __("ID_SPARTA_ONLINE_DISCONNECT_NO_REPLY");
break;

case n.acceptFailed:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ACCEPT_FAILED");
break;

case n.mismatchingContent:
e = __("ID_SPARTA_ONLINE_DISCONNECT_MISMATCHING_CONTENT");
break;

case n.kickedOutRankTooHigh:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKOUT_HIGH_RANK");
break;

case n.interactivityTimeout:
e = __("ID_SPARTA_ONLINE_DISCONNECT_INTERACTIVITY_TIMEOUT");
break;

case n.kickedFromQueue:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_FROM_QUEUE");
break;

case n.teamKills:
e = __("ID_SPARTA_ONLINE_DISCONNECT_TEAM_KILLS");
break;

case n.kickedByAdmin:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_BY_ADMIN");
break;

case n.kickedViaPunkBuster:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_BY_PUNKBUSTER");
break;

case n.kickedViaFairFight:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_BY_FAIRFIGHT");
break;

case n.kickedOutServerFull:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_FULL_SERVER");
break;

case n.eSportsMatchStarting:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_START");
break;

case n.notInESportsRosters:
e = __("ID_SPARTA_ONLINE_DISCONNECT_NOT_ESPORT_ROSTERS");
break;

case n.eSportsMatchEnding:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_END");
break;

case n.virtualServerExpired:
e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER_EXPIRED");
break;

case n.virtualServerRecreate:
e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER_MAINTENANCE");
break;

case n.eSportsTeamFull:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_FULL_TEAM");
break;

case n.eSportsMatchAborted:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_ABORTED");
break;

case n.eSportsMatchWalkover:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_WALKOVER");
break;

case n.eSportsMatchWarmupTimedOut:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_WARUMP_TIMEOUT");
break;

case n.serverMaintenance:
e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER_MAINTENANCE");
break;

case n.ok:
case n.genericError:
case n.kickedGameTimeAccountOnUnofficial:
case n.kickedViaShield:
case n.notAllowedToSpectate:
case n.noSpectateSlotAvailable:
case n.invalidSpectateJoin:
case n.kickedCommanderOnLeave:
case n.kickedCommanderAfterMutiny:
case n.kickedOutDemoOver:
case n.rankRestricted:
case n.configurationNotAllowed:
case n.serverReclaimed:
case n.notVerified:
default:
e = __("ID_SPARTA_ONLINE_DISCONNECT_GENERIC_MESSAGE");
}
return e;
}, t.prototype.shouldShowErrorMessage = function l() {
return null != this.disconnectionReasonType && this.disconnectionReasonType !== r.unknown && this.disconnectionReasonType !== r.playerLeft && this.disconnectionReasonType !== r.groupLeft && this.disconnectionReasonType !== r.joinedAnotherGame || this.disconnectionType !== n.ok;
}, t;
}();
t["default"] = o;
}).call(t, n(5));
}, function(e, t) {
function n() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
this.alias = e.alias, this.address = e.address, this.ip = e.ip || "", this.ping = e.ping || "";
}
t.__esModule = !0, t["default"] = n, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(21), a = r(o), i = n(26), s = r(i), l = n(22), u = r(l), p = a["default"].createClient({
requestOn: [ u["default"].deleteSavedFilter ],
request: function c(e, t) {
if (!e || !t) throw new Error("Missing parameter, expected gameId, savedFilter");
var n = {
id: t.id
};
return s["default"].request("GameServer.deleteFilter", n);
},
onRequestError: function f(e, t) {
this.publish(t.game, null, e);
},
parse: function d(e) {
return e;
},
update: function h(e, t, n, r) {
this.publish(n, r);
}
});
t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, a = n(4), i = r(a), s = n(21), l = r(s), u = n(26), p = r(u), c = n(19), f = r(c), d = n(22), h = r(d), y = n(34), g = r(y), m = n(52), b = l["default"].createClient({
requestOn: [ m.gatewayClient.onSessionEstablished, h["default"].refreshGameData ],
shouldPerformRequest: function v() {
return g["default"].getState().isReady() && !0;
},
listener: function _() {
return {
game: f["default"].getHostingGame().gameId
};
},
request: function S(e) {
if (!e || !e.game) throw new Error("You need to provide at least a game when fetching game hints");
var t = {
game: e.game
};
return p["default"].request("Gamedata.getGameHints", t);
},
onRequestError: function w() {
this.publish([]);
},
parse: function T(e) {
var t = {
general: []
};
return i["default"].map(e, function(e) {
e.tags.length > 0 ? e.tags.map(function(n) {
if (!t[n]) {
var r;
t = o({}, t, (r = {}, r[n] = [], r));
}
t[n].push(e);
}) : t.general.push(e);
}), t;
},
update: function C(e) {
this.publish(e);
}
});
t["default"] = b, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(21), s = r(i), l = n(26), u = r(l), p = n(22), c = r(p), f = n(34), d = r(f), h = n(410), y = s["default"].createClient({
requestOn: [ c["default"].refreshSavedFilters ],
shouldPerformRequest: function g() {
return d["default"].getState().isReady();
},
request: function m(e) {
if (!e) throw new Error("You need to provide at least a game when fetching saved filters");
var t = {
game: e
};
return u["default"].request("GameServer.getFilters", t);
},
onRequestError: function b(e, t) {
this.publish(t.game, [], e);
},
parse: function v(e) {
return a["default"].map(e, function(e) {
return a["default"].extend({}, {
id: e.id,
filterName: e.name
}, h.parseFilterJson(e.filter));
});
},
update: function _(e, t, n) {
this.publish(n, e);
}
});
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(26), a = r(o), i = n(34), s = r(i), l = n(21), u = n(22), p = l.createClient({
requestOn: [ u.getDetailsForRentedServer ],
shouldPerformRequest: function c() {
return s["default"].getState().isReady();
},
request: function f(e) {
if (!e || !e.game || !e.serverId) throw new Error("You need to provide at least a game and serverId when fetching server details");
var t = {
game: e.game,
serverId: e.serverId
};
return a["default"].request("RSP.getServerDetails", t);
},
onRequestError: function d(e) {
this.publish(void 0, e);
},
parse: function h(e) {
if (e.serverSettings && e.serverSettings.customGameSettings) try {
e.serverSettings.customGameSettings = JSON.parse(e.serverSettings.customGameSettings);
} catch (t) {
console.warn("Failed to parse customGameSettings JSON:", e.serverSettings.customGameSettings);
}
return e;
},
update: function y(e) {
this.publish(e);
}
});
e.exports = p;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(21), s = r(i), l = n(26), u = r(l), p = n(22), c = r(p), f = n(410), d = s["default"].createClient({
requestOn: [ c["default"].saveFilter ],
request: function h(e, t, n) {
if (!e || !t || !n) throw new Error("Missing parameter, expected gameId, filter, name");
var r = {
game: e,
name: n,
filterJson: f.writeFilterJson(t)
};
return u["default"].request("GameServer.saveFilter", r);
},
onRequestError: function y(e, t) {
this.publish(t.game, null, e);
},
parse: function g(e) {
return a["default"].extend({}, {
id: e.id,
filterName: e.name
}, f.parseFilterJson(e.filter));
},
update: function m(e, t, n, r, o) {
this.publish(n, e);
}
});
t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(21), s = r(i), l = n(26), u = r(l), p = n(55), c = r(p), f = n(22), d = r(f), h = n(34), y = r(h), g = s["default"].createClient({
requestOn: [ d["default"].refreshBookmarks ],
shouldPerformRequest: function m() {
return y["default"].getState().isReady();
},
request: function b(e) {
if (!e || !e.game) throw new Error("You need to provide at least a game when fetching favorite servers");
var t = {
game: e.game
};
return u["default"].request("ServerBookmark.getBookmarks", t);
},
onRequestError: function v(e, t) {
this.publish(t.game, [], e);
},
parse: function _(e) {
return a["default"].map(e, function(e) {
return new c["default"](e);
});
},
update: function S(e, t, n) {
this.publish(n.game, e);
}
});
t["default"] = g, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(26), a = r(o), i = n(125), s = r(i), l = n(146), u = r(l), p = n(211), c = r(p), f = n(34), d = r(f), h = n(4), y = n(21), g = n(55), m = n(22), b = 50, v = y.createClient({
requestOn: [ m.refreshServers ],
shouldPerformRequest: function _() {
return d["default"].getState().isReady();
},
request: function S(e) {
if (!e || !e.game) throw new Error("You need to provide at least a game when fetching servers");
var t = u["default"](e.filter ? e.filter : s["default"].getStateByGameId(e.game)), n = {
game: e.game,
filterJson: JSON.stringify(t)
}, r = c["default"].getByGameId(e.game);
return r && (n.protocolVersion = r), e.limit ? n.limit = e.limit : n.limit = b, 
a["default"].request("GameServer.searchServers", n);
},
onRequestError: function w(e, t) {
this.publish(t.game, null, e);
},
parse: function T(e) {
var t = h.partition(e.gameservers, function(e) {
return e.name && "" !== e.name.trim();
}), n = t[0], r = t[1];
return r.length && console.warn("Invalid servers returned", r), {
servers: h.map(n, function(e) {
return new g(e);
}),
hasMoreResults: e.hasMoreResults
};
},
update: function C(e, t, n) {
this.publish(n.game, e);
}
});
e.exports = v;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(21), s = r(i), l = n(26), u = r(l), p = n(55), c = r(p), f = n(22), d = r(f), h = n(48), y = r(h), g = n(34), m = r(g), b = s["default"].createClient({
requestOn: [ d["default"].refreshHistory ],
shouldPerformRequest: function v() {
return m["default"].getState().isReady();
},
request: function _(e) {
if (!e || !e.game) throw new Error("You need to provide at least a game when fetching server history");
var t = y["default"].getState();
if (!t) return Promise.reject("No session user state available");
if (!t.spartaUserId) return Promise.reject("No spartaUserId available in state: " + JSON.stringify(t));
if (!t.spartaUserId.personaId) return Promise.reject("No spartaUserId.personaId available in state: " + JSON.stringify(t));
var n = {
game: e.game,
personaId: t.spartaUserId.personaId
};
return u["default"].request("ServerHistory.mostRecentServers", n);
},
onRequestError: function S(e, t) {
this.publish(t.game, [], e);
},
parse: function w(e) {
return a["default"].map(e, function(e) {
return new c["default"](e);
});
},
update: function T(e, t, n) {
this.publish(n.game, e);
}
});
t["default"] = b, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return l["default"].each(c, function(t) {
e.hasOwnProperty(t) && (e.hasOwnProperty("advanced") || (e.advanced = {}), e.advanced[t] = e[t], 
delete e[t]);
}), e.hasOwnProperty("name") && (e.name = {
name: e.name
}), e;
}
function a(e) {
return JSON.stringify(p["default"](e));
}
function i(e) {
var t = JSON.parse(e);
return t ? o(t) : {};
}
t.__esModule = !0, t.writeFilterJson = a, t.parseFilterJson = i;
var s = n(4), l = r(s), u = n(146), p = r(u), c = [ "passwordProtected", "mapRotation", "modeRotation" ];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = n(403), s = r(i), l = n(4), u = r(l), p = n(24), c = new p("GameHintStore"), f = a["default"].createStore({
init: function d() {
this.listenTo(s["default"], function(e) {
c.set("hints", e), this.trigger(this.getState());
});
},
getState: function h() {
return c.getState();
},
getHints: function y(e, t) {
var n = c.get("hints");
if (!n) return [];
var r = [];
return e && (r = r.concat(u["default"].sample(n[e], 1))), t && (r = r.concat(u["default"].sample(n[t], 1))), 
r = r.concat(u["default"].sample(n.general, 6 - r.length)), u["default"].shuffle(r.map(function(e) {
return e.name;
}));
}
});
e.exports = f;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = n(405), s = n(22), l = n(24), u = new l("RentedServerDetailsStore"), p = a["default"].createStore({
init: function c() {
this.listenTo(i, function(e, t) {
u.setState({
data: e,
error: t
}), this.trigger(this.getState());
}), this.listenTo(s.clearRentedServerDetails, function() {
u.setState(null), this.trigger(this.getState());
});
},
getState: function f() {
return u.getState();
}
});
e.exports = p;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = n(407), s = r(i), l = n(145), u = n(55), p = r(u), c = n(4), f = r(c), d = n(24), h = n(22), y = new d("ServerBookmarkStore"), g = a["default"].createStore({
init: function m() {
var e = this;
this.listenTo(s["default"], function(e, t, n) {
y.set(e, {
data: t,
error: n
}), this.trigger(this.getState()), h.requestPings(f["default"].pluck(t, "ip"));
}), this.listenTo(h.toggleBookmark, function(t) {
var n = new p["default"](f["default"].extend({}, t, {
isFavorite: !t.isFavorite
}));
e.updateServerBookmarked(n);
}), this.listenTo(l.ToggleServerBookmarkClient, this.updateServerBookmarked);
},
updateServerBookmarked: function b(e) {
for (var t = y.get(e.game) || {}, n = t.data ? t.data.slice() : [], r = 0; r < n.length; r++) if (n[r].guid === e.guid) {
n.splice(r, 1);
break;
}
e.isFavorite && n.push(e), y.set(e.game, {
data: n,
error: t.error
}), this.trigger(this.getState());
},
getState: function v() {
return y.getState();
}
});
e.exports = g;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = n(24), s = n(22), l = new i("ServerCountStore"), u = a["default"].createStore({
init: function p() {
this.listenTo(s.setServerCounts, function(e) {
l.merge(e), this.trigger(this.getState());
});
},
getState: function c() {
return l.getState();
}
});
e.exports = u;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(4), a = r(o), i = n(15), s = r(i), l = n(145), u = n(55), p = r(u), c = n(278), f = n(22), d = n(24), h = new d("ServerDetailsStore"), y = s["default"].createStore({
init: function g() {
var e = this;
this.listenTo(c, function(e, t) {
h.setState({
data: e,
error: t
}), this.trigger(this.getState());
}), this.listenTo(f.toggleBookmark, function(t) {
var n = new p["default"](a["default"].extend({}, t, {
isFavorite: !t.isFavorite
}));
e.updateServerBookmarked(n);
}), this.listenTo(l.ToggleServerBookmarkClient, this.updateServerBookmarked), this.listenTo(f.clearServerDetails, function() {
h.setState(null), this.trigger(this.getState());
});
},
updateServerBookmarked: function m(e) {
if (e.guid) {
var t = h.getState();
t.data && t.data.guid && e.guid === t.data.guid && (h.merge({
data: a["default"].extend({}, t.data, {
isFavorite: e.isFavorite
})
}), this.trigger(this.getState()));
}
},
getState: function b() {
return h.getState();
}
});
e.exports = y;
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var r = n(15), o = t(r), a = n(24), i = t(a), s = n(22), l = t(s), u = n(282), p = n(4), c = t(p), f = [ {
key: u.SortKeys.NONE,
direction: u.SortDirection.NONE,
getLabel: function y() {
return __("ID_SPARTA_SERVER_SORT_NONE");
}
}, {
key: u.SortKeys.NAME,
direction: u.SortDirection.ASC,
getLabel: function g() {
return __("ID_SPARTA_SERVER_SORT_NAME");
}
}, {
key: u.SortKeys.PLAYERS,
direction: u.SortDirection.DESC,
getLabel: function m() {
return __("ID_SPARTA_SERVER_SORT_PLAYERS");
}
}, {
key: u.SortKeys.PING,
direction: u.SortDirection.ASC,
getLabel: function b() {
return __("ID_SPARTA_SERVER_SORT_PING");
}
} ], d = new i["default"]("ServerSortStore", {
current: f[0],
next: f[1]
}), h = o["default"].createStore({
init: function v() {
this.listenTo(l["default"].cycleSort, function() {
var e = d.get("next"), t = f.indexOf(e), n = t + 1;
n === f.length && (n = 0);
var r = f[n];
d.set("current", e), d.set("next", r), this.trigger(this.getState());
}), this.listenTo(l["default"].setSort, function(e) {
var t = d.get("current");
if (t.key === e) {
var n = void 0;
switch (t.direction) {
case u.SortDirection.ASC:
n = u.SortDirection.DESC;
break;

case u.SortDirection.DESC:
n = u.SortDirection.NONE;
break;

default:
n = u.SortDirection.ASC;
}
d.set("current", {
key: t.key,
direction: n,
getLabel: function r() {
return t.getLabel();
}
});
} else d.set("current", c["default"].find(f, function(t) {
return t.key === e;
}));
this.trigger(this.getState());
});
},
getState: function _() {
return d.getState();
},
reset: function S() {
d.set("current", f[0]), d.set("next", f[1]), this.trigger(this.getState());
}
});
e.exports = h;
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(4), a = r(o), i = n(15), s = r(i), l = n(210), u = n(145), p = n(55), c = r(p), f = n(24), d = n(22), h = n(408), y = new f("ServerStore"), g = s["default"].createStore({
init: function m() {
var e = this;
this.listenTo(h, function(e, t, n) {
y.set(e, {
data: t,
error: n
}), this.trigger(this.getState()), t && t.servers && d.requestPings(a["default"].pluck(t.servers, "ip"));
}), this.listenTo(d.toggleBookmark, function(t) {
var n = new c["default"](a["default"].extend({}, t, {
isFavorite: !t.isFavorite
}));
e.updateServerBookmarked(n);
}), this.listenTo(u.ToggleServerBookmarkClient, this.updateServerBookmarked);
},
updateServerBookmarked: function b(e) {
if (e.guid) {
var t = y.get(e.game) || {}, n = t.data && t.data.servers ? t.data.servers.slice() : [], r = l.updateByGuid(n, e), o = a["default"].extend({}, t.data, {
servers: r
});
r && (y.set(e.game, {
data: o,
error: t.error
}), this.trigger(this.getState()));
}
},
getState: function v() {
return y.getState();
}
});
e.exports = g;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = {
sectionTransitionComplete: a["default"].createAction()
};
e.exports = i;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
spartaClientCaptureMouse: a["default"].createAction(),
spartaClientMinimizeWindow: a["default"].createAction(),
spartaClientExitToWindows: a["default"].createAction()
};
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return xe(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u() {
if (!De) {
k["default"].handleBlackFadeStart(1, {
duration: 0
});
var e = new Date(), t = 5500;
O.texture.waitForReady().then(function() {
var n = new Date(), r = n - e, o = Math.max(t - r, 0);
setTimeout(function() {
$e = !1, k["default"].handleBlackFadeStart(0, null, function() {
d();
});
}, o);
});
}
}
function p(e) {
return SpartaGlobals.bundleIsConsole && "mainMenu" === e || "comCenter" === e;
}
var c = n(3), f = l(c);
t.__esModule = !0;
var d, h = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), y = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, g = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, m = n(1), b = l(m), v = n(18), _ = l(v), S = n(13), w = l(S), T = n(53), C = l(T), E = n(50), I = l(E), P = n(2), O = r(P), A = n(27), k = l(A), R = n(44), x = l(R), M = n(57), N = l(M), $ = n(12), D = l($), U = n(14), L = l(U), F = n(20), G = l(F), j = n(96), B = l(j), H = n(16), V = l(H), z = n(114), W = n(70), q = l(W), K = n(678), X = l(K), Y = n(677), J = l(Y), Q = n(679), Z = l(Q), ee = n(680), te = l(ee), ne = n(681), re = l(ne), oe = n(683), ae = l(oe), ie = n(685), se = l(ie), le = n(675), ue = l(le), pe = n(674), ce = l(pe), fe = n(170), de = l(fe), he = n(546), ye = n(197), ge = n(682), me = l(ge), be = n(684), ve = (l(be), 
n(696)), _e = n(172), Se = l(_e), we = n(676), Te = l(we), Ce = n(421), Ee = l(Ce), Ie = n(63), Pe = n(8), Oe = n(10), Ae = n(550), ke = n(11), Re = {
_$BlackFade: {
displayName: "BlackFade"
},
_$FooterLineBar: {
displayName: "FooterLineBar"
},
_$BackgroundContainer: {
displayName: "BackgroundContainer"
},
_$Layout: {
displayName: "Layout"
}
}, xe = f["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/Layout.jsx",
components: Re,
locals: [],
imports: []
}), Me = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, Ne = O.createStyleSheet({
footerLine: {
zOffset: 61e3,
left: 0,
right: 0,
top: _["default"].fadeAreaBottom.bottom,
height: 1,
backgroundColor: [ 255, 255, 255, 26 ]
}
}), $e = !0, De = !1, Ue = new Promise(function(e) {
d = e;
});
t.initialBlackFade = Ue, x["default"].scope("navigationState").connect(function(e) {
return e ? (e !== N["default"].FrontEnd && (De = !0, $e = !1, k["default"].handleBlackFadeStart(0, {
duration: 0
})), !1) : void 0;
});
var Le = function(e) {
function t(t) {
a(this, n), e.call(this, t), this._timeout = 0, this.opacityTween = w["default"].tween("d48a9bda:136", 1);
}
i(t, e), t.prototype.componentDidMount = function r() {
u(), this.runTimeout();
}, t.prototype.componentWillUnmount = function o() {
this.clearTimeout();
}, t.prototype.runTimeout = function l() {
var e = this, t = 15e3;
this.clearTimeout(), this._timeout = setTimeout(function() {
return x["default"].getState().navigationState === N["default"].LoadingScreen ? (console.warn("BlackFade - Trying to hide the black fade but the game is still in a loading state. " + ("Re-initiating a timeout of " + t + "ms")), 
void e.runTimeout()) : (console.warn("BlackFade - BlackFade wasn't hidden within a reasonable " + ("timelimit (" + t + "ms). Forcing BlackFade to hide")), 
void e.opacityTween.to(0, null, function() {
k["default"].handleBlackFadeDone();
}));
}, t);
}, t.prototype.clearTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
clearTimeout(this._timeout);
}), t.prototype.changeOpacity = function p(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1], n = arguments.length <= 2 || void 0 === arguments[2] ? null : arguments[2];
return $e ? void console.warn("Trying to change opacity of BlackFade while it's locked (to value: " + e + ")") : (console.info("BlackFade - Setting opacity to " + e), 
0 === e ? this.clearTimeout() : this.runTimeout(), void this.opacityTween.to(e, t, function() {
k["default"].handleBlackFadeDone(), n && n();
}));
}, t.prototype.render = function c() {
var e = g({}, Me, {
zOffset: 9999999999,
backgroundColor: "#000000",
enableMouseEvents: !1,
opacity: this.opacityTween.getStyle()
});
return {
$$typeof: y,
type: "surface",
key: "blackfade",
ref: null,
props: {
style: e
},
_owner: null
};
};
var n = t;
return t = s("_$BlackFade")(t) || t, t = B["default"]({
changeOpacity: k["default"].handleBlackFadeStart
})(t) || t;
}(b["default"].Component), Fe = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
return SpartaGlobals.bundleIsConsole && !this.state.gameView.isVisible ? {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
style: g({}, Ne.footerLine, {
opacity: this.props.opacityTween.getStyle()
})
},
_owner: null
} : null;
};
var n = t;
return t = s("_$FooterLineBar")(t) || t, t = V["default"]({
gameView: I["default"]
})(t) || t;
}(b["default"].Component), Ge = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = ye.backgroundContainer.items.map(function(e) {
return b["default"].createElement(Ae.Background, {
ref: e.name,
key: e.name,
bgItem: e
});
});
return {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: [ e, ye.backgroundContainer.extra.elements.slice() ]
},
_owner: null
};
};
var n = t;
return t = s("_$BackgroundContainer")(t) || t, t = Pe.observer(t) || t;
}(b["default"].Component), je = O.focus.system.createScaledComponent(), Be = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.footerLineOpacityTween = w["default"].tween("d48a9bda:279", 1), 
this.gameViewVisible = !1, this.isInGame = !1, this.isSquadJoin = !1, this.isPresenceReady = !1, 
this.tweenOpacity = w["default"].tween("d48a9bda:284", fe.isVisibleStore.getState() ? 0 : 1), 
this.tweenTranslateY = w["default"].tween("d48a9bda:285", 0);
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this;
z.CanOpenComcenterStore.connect(function(t) {
e.canOpenComcenter = t, e.updateInput();
});
}, t.prototype.getInput = function l() {
var e = C["default"].getState(), t = e.mainMenu || e.comCenter;
if (!SpartaGlobals.bundleIsConsole || t || this.isSquadJoin) return [];
var n = [];
return ke.layoutStateStore.current.config.enableMainMenu && (n.push(new L["default"]({
visible: !1,
action: function r() {
return k["default"].showComponent("mainMenu");
},
key: D["default"].Home
})), ke.layoutStateStore.current.breadcrumbs.length <= 3 && n.push(new L["default"]({
visible: !1,
action: function o() {
return k["default"].showComponent("mainMenu");
},
key: D["default"].Decline
}))), this.canOpenComcenter && n.push(new L["default"]({
visible: !1,
action: function a() {
return k["default"].showComponent("comCenter");
},
key: D["default"].End
})), n;
}, t.prototype.getComponent = function u(e) {
var t = this.refs[e];
if (t) return t;
var n = this.refs.view;
if ("header" === e) return n.getHeader();
if ("content" === e) return n.getContent();
throw Error("Could not find layout component by reference: " + e);
}, t.prototype.onComponentHidden = function c(e) {
SpartaGlobals.bundleIsPC || p(e) && this.focusPreviousComponent();
}, t.prototype.onIsRunningChanged = function f(e) {
this.isInGame = e, this.isInGame || this.focusPreviousComponent();
}, t.prototype.onIsSquadJoinChanged = function d(e) {
this.isSquadJoin = e, SpartaGlobals.bundleIsPC && e && k["default"].setComponentVisibilities({
breadCrumbs: !e,
miniMenu: !e,
miniComCenter: !e
}), this.updateInput();
}, t.prototype.onGameViewVisibilityChanged = function m(e) {
this.gameViewVisible = e, this.isInGame || this.focusPreviousComponent();
}, t.prototype.onIsStartScreenVisibleChanged = function v(e) {
var t = e ? 0 : 1;
console.info("Changing opacity in Layout to " + t), this.tweenOpacity.to(t);
}, t.prototype.onVisibilityChanged = function S(e) {
SpartaGlobals.bundleIsConsole && this.updateInput();
var t = e.content === !1;
this.footerLineOpacityTween.to(t ? 0 : 1);
}, t.prototype.onDismiss = function T() {
var e = this;
!function() {
var t = w["default"].defaultTweenOptions.duration;
setTimeout(function() {
k["default"].handleBlackFadeStart(0, {
duration: t,
easing: "Linear"
}, function() {
e.startLoadingContent();
});
}, t);
}();
}, t.prototype.startLoadingContent = function E() {
this.focusPreviousComponent(), this.playStartAnimations();
}, t.prototype.focusPreviousComponent = function P() {
if (this.gameViewVisible) this.focusComponent("gameView"); else {
var e = C["default"].getState();
e.mainMenu ? this.focusComponent("mainMenu") : e.comCenter ? this.focusComponent("comCenter") : fe.isVisibleStore.getState() ? this.focusComponent("startScreen") : this.focusComponent("view");
}
}, t.prototype.focusComponent = function O(e) {}, t.prototype.playStartAnimations = function A() {
var e = this.getComponent("content");
e && e.trickleUp();
}, t.prototype.render = function R() {
var e = !1, t = SpartaGlobals.bundleIsPC ? {
$$typeof: y,
type: Te["default"],
key: "contextMenus",
ref: null,
props: o(Te["default"].defaultProps, {}),
_owner: null
} : null, n = SpartaGlobals.bundleIsPC ? b["default"].createElement(re["default"], {
key: "mainMenu",
ref: "mainMenu"
}) : b["default"].createElement(te["default"], {
key: "mainMenu",
ref: "mainMenu"
}), r = g({}, _["default"].screen.style, Ie.uiState.viewportPosition, Ie.uiState.viewportScale, {
zOffset: 80
}), a = {
position: "absolute",
left: 0,
top: 0,
width: Ie.uiState.window.width,
height: Ie.uiState.window.height
}, i = SpartaGlobals.bundleIsPC ? b["default"].createElement(se["default"], {
key: "comCenter",
ref: "comCenter"
}) : b["default"].createElement(ce["default"], {
key: "comCenter",
ref: "comCenter"
}), s = SpartaGlobals.bundleIsPC ? {
$$typeof: y,
type: ue["default"],
key: null,
ref: null,
props: o(ue["default"].defaultProps, {}),
_owner: null
} : null;
return {
$$typeof: y,
type: "surface",
key: "bgcontainer",
ref: null,
props: {
children: [ Ie.uiState.layout.extra.elements.slice(), {
$$typeof: y,
type: Le,
key: "blackFade",
ref: null,
props: o(Le.defaultProps, {}),
_owner: null
}, {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: y,
type: Ge,
key: null,
ref: null,
props: o(Ge.defaultProps, {}),
_owner: null
}, b["default"].createElement("surface", {
key: "layout",
style: r,
ref: je
}, b["default"].createElement(he.ViewContainer, {
key: "view",
ref: "view"
}), b["default"].createElement(X["default"], {
key: "gameView",
ref: "gameView"
}), {
$$typeof: y,
type: J["default"],
key: "gameJoinNotice",
ref: null,
props: o(J["default"].defaultProps, {}),
_owner: null
}, n, {
$$typeof: y,
type: ae["default"],
key: "userBar",
ref: null,
props: o(ae["default"].defaultProps, {}),
_owner: null
}, {
$$typeof: y,
type: Z["default"],
key: "input",
ref: null,
props: o(Z["default"].defaultProps, {}),
_owner: null
}, {
$$typeof: y,
type: me["default"],
key: "tint",
ref: null,
props: o(me["default"].defaultProps, {}),
_owner: null
}, i, s, {
$$typeof: y,
type: Ee["default"],
key: "rCfgLayout",
ref: null,
props: o(Ee["default"].defaultProps, {
children: [ {
$$typeof: y,
type: ve.Notifications,
key: "notifications",
ref: null,
props: o(ve.Notifications.defaultProps, {}),
_owner: null
}, t ],
auto: !0,
style: Me
}),
_owner: null
}, {
$$typeof: y,
type: Fe,
key: null,
ref: null,
props: o(Fe.defaultProps, {
opacityTween: this.footerLineOpacityTween
}),
_owner: null
}, e) ],
style: {
translateY: this.tweenTranslateY.getStyle(),
opacity: this.tweenOpacity.getStyle()
}
},
_owner: null
}, {
$$typeof: y,
type: Se["default"],
key: "popups",
ref: null,
props: o(Se["default"].defaultProps, {}),
_owner: null
}, b["default"].createElement(de["default"], {
key: "startScreen",
ref: "startScreen",
onDismiss: this.onDismiss.bind(this)
}) ],
style: a
},
_owner: null
};
}, h(t, [ {
key: "componentWillMount",
decorators: [ Oe.action("setting layout react component") ],
value: function M() {
Ie.uiState.layout.reactComponent = this;
}
}, {
key: "componentWillUnmount",
decorators: [ Oe.action("removing layout react component") ],
value: function N() {
Ie.uiState.layout.reactComponent = null, this.canOpenComcenter = !1;
}
} ]);
var n = t;
return t = s("_$Layout")(t) || t, t = G["default"]({
passDownId: !1
})(t) || t, t = B["default"]({
focusComponent: k["default"].focusComponent,
focusPreviousComponent: k["default"].focusPreviousComponent,
onComponentHidden: k["default"].hideComponent,
onVisibilityChanged: C["default"],
onIsRunningChanged: x["default"].scope("isRunning").transform(function(e) {
return !!e;
}),
onIsSquadJoinChanged: q["default"].scope("forceSquadJoin").transform(function(e) {
return !!e;
}),
onGameViewVisibilityChanged: I["default"].scope("isVisible").transform(function(e) {
return !!e;
}),
onIsStartScreenVisibleChanged: fe.isVisibleStore
})(t) || t, t = Pe.observer(t) || t;
}(b["default"].Component);
t["default"] = Be;
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return m(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), c = i(p), f = n(49), d = n(11), h = n(94), y = n(10), g = {
_$RouteConfigContext: {
displayName: "RouteConfigContext"
}
}, m = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/RouteConfigContext.jsx",
components: g,
locals: [],
imports: []
}), b = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.state = {
routeConfig: d.layoutStateStore.current.config
};
}
o(t, e), t.prototype.getChildContext = function i() {
return {
routeConfig: this.props.routeConfig || this.state.routeConfig,
location: this.props.location
};
}, t.prototype.componentWillMount = function s() {
var e = this;
this.props.auto && (this.unsubscribe = y.reaction(function() {
return d.layoutStateStore.current;
}, function(t) {
e.setState({
routeConfig: t.config
});
}));
}, t.prototype.componentWillUnmount = function l() {
this.props.auto && this.unsubscribe();
}, t.prototype.render = function u() {
return c["default"].createElement("surface", this.props, this.props.children);
};
var n = t;
return t = a("_$RouteConfigContext")(t) || t;
}(c["default"].Component);
t["default"] = b, b.childContextTypes = u({}, b.childContextTypes, {
routeConfig: c["default"].PropTypes.instanceOf(f.Route),
location: c["default"].PropTypes.instanceOf(h.Location)
}), e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return S(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(13), y = s(h), g = n(688), m = s(g), b = n(213), v = s(b), _ = {
_$ComCenterGroup: {
displayName: "ComCenterGroup"
}
}, S = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/comcenter/ComCenterGroup.jsx",
components: _,
locals: [],
imports: []
}), w = {
duration: 500,
easing: "CubicOut"
}, T = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.fadeTween = y["default"].tween("6b713bc7:12", 0);
}
a(t, e), t.prototype.componentDidMount = function s() {
this.animate(this.props);
}, t.prototype.componentWillUpdate = function l(e) {
this.animate(e);
}, t.prototype.componentWillUnmount = function u() {
this.fadeTween.destroy();
}, t.prototype.animate = function f(e) {
e.maximized ? this.fadeTween.to(1, w) : this.fadeTween.to(0, w);
}, t.prototype.render = function d() {
var e = this.props, t = e.children, n = e.state, o = e.translation, a = e.maximized, i = e.alwaysVisible, s = e.showDivider, l = e.style, u = e.hideMiniIcon, f = c({}, l, {
localBounds: !1,
opacity: i ? 1 : this.fadeTween.getStyle()
}), d = n && o ? {
$$typeof: p,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
state: n,
translation: o,
maximized: a,
hideMiniIcon: u
}),
_owner: null
} : void 0;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ d, t, s && {
$$typeof: p,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
maximized: a
}),
_owner: null
} ],
style: c({}, f)
},
_owner: null
};
};
var n = t;
return t = i("_$ComCenterGroup")(t) || t;
}(d["default"].Component);
T.defaultProps = {
showDivider: !0
}, t["default"] = T, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return q(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(4), c = i(p), f = n(1), d = i(f), h = n(2), y = n(18), g = i(y), m = n(13), b = i(m), v = n(53), _ = i(v), S = n(28), w = i(S), T = n(16), C = i(T), E = n(294), I = n(298), P = i(I), O = n(89), A = i(O), k = n(14), R = i(k), x = n(17), M = i(x), N = n(12), $ = i(N), D = n(41), U = n(8), L = n(26), F = i(L), G = n(88), j = i(G), B = n(20), H = i(B), V = n(50), z = i(V), W = {
_$Content: {
displayName: "Content"
}
}, q = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/view/Content.jsx",
components: W,
locals: [],
imports: []
}), K = c["default"].extend({
initialState: "to"
}, b["default"].presets.trickleUp), X = {
fullScreen: u({
zOffset: 1e3,
position: "absolute"
}, g["default"].screen.style)
}, Y = function(e) {
function t(t) {
var o = this;
r(this, n), e.call(this, t), this.focusAncestor = h.focus.createAncestor("content"), 
this.cancelQueryListener = h.focus.system.onInvalidQuery.listen(function(e) {
o.state.isGameViewVisible ? e.reportInvalid(o.focusAncestor.getChildren()) : e.setAsVisible(o.focusAncestor.getChildren());
}), h.focus.onComponentUpdate(this, function(e, t) {
o.focusAncestor.getSubAncestors().forEach(function(e) {
e.setActive("7d2d0635:55", !t.isGameViewVisible), e.getChildren().forEach(function(e) {
e.setActive("7d2d0635:57", !t.isGameViewVisible);
});
});
});
}
o(t, e), t.prototype.shouldComponentUpdate = function i(e, t) {
return !c["default"].isEqual(this.props, e) || !c["default"].isEqual(this.state, t);
}, t.prototype.componentWillUnmount = function s() {
this.cancelQueryListener(), this.focusAncestor.destroy();
}, t.prototype.getInput = function l() {
if (this.state.isVisible && !this.state.isGameViewVisible) {
var e = this.getGoOnlineAction();
return e ? e : this.props.depth > 3 && !this.state.isMainMenuVisible ? [ new R["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: $["default"].Decline,
blockInputFor: 500,
action: function t() {
return M["default"].goBackInHistory();
}
}) ] : [];
}
}, t.prototype.getGoOnlineAction = function p() {
return this.props.requireOnline && this.props.offlineView && D.onlineState.canGoOnline ? [ new R["default"]({
key: $["default"].Option1,
action: function e() {
D.onlineState.isPresenceReady ? F["default"].connect() : j["default"].connect();
},
label: __(D.onlineState.goOnlineIsRetry ? "ID_SPARTA_ONLINE_PRESENCE_TRY_AGAIN" : "ID_SPARTA_ONLINE_PRESENCE_GO_ONLINE")
}) ] : null;
}, t.prototype.trickleUp = function f() {
this.refs.animation.play();
}, t.prototype.render = function y() {
var e, t = this.props.view, n = this.props.offlineView;
e = this.props.requireMpInstalled && !this.state.installState.isMpInstalled ? d["default"].createElement(P["default"], {
text: __("ID_SPARTA_INSTALL_INSTALLING_MP"),
state: this.state.installState,
ref: "component"
}) : this.props.requireOnline && !D.onlineState.isOnlineBlazeAndGateway ? n && !D.onlineState.isConnecting ? d["default"].createElement(n, {
ref: "component",
key: this.props.location.path,
viewLocation: this.props.location
}) : d["default"].createElement(E.ConnectionState, {
ref: "component"
}) : t ? d["default"].createElement(t, {
ref: "component",
key: this.props.location.path,
viewLocation: this.props.location
}) : null;
var r = X.fullScreen, o = {
opacity: b["default"].tweenSwitch(0, 1, this.state.isVisible),
enableMouseEvents: this.state.isVisible
}, a = t ? [ r, o, this.props.style ] : null;
return d["default"].createElement(h.AnimatedSurface.Static, {
"static": this.props["static"],
key: "animStatic",
ref: "animation",
style: a,
animation: K
}, d["default"].createElement("surface", u({}, this.focusAncestor.hooks, {
"static": !0,
key: "animWrpr",
style: {
flex: 1,
position: "relative"
}
}), e));
};
var n = t;
return t = a("_$Content")(t) || t, t = C["default"]({
isGameViewVisible: w["default"](z["default"], "isVisible"),
isVisible: w["default"](_["default"], "content"),
isMainMenuVisible: w["default"](_["default"], "mainMenu"),
installState: A["default"]
})(t) || t, t = U.observer(t) || t, t = H["default"]()(t) || t;
}(d["default"].Component);
t["default"] = Y, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function e(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return re(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l() {
return new Promise(function(e) {
var t = _.frostbite.registerMessageListener("sparta.getLocalUserResp", function(n, r) {
t(), e(r.gamerTag);
});
_.frostbite.sendMessage("sparta.getLocalUser");
});
}
function u(e) {
return new Promise(function(t, n) {
k["default"].display(new x["default"]({
content: {
$$typeof: m,
type: se,
key: null,
ref: null,
props: r(se.defaultProps, {
textsToShow: e.textsToShow,
textsToAccept: e.textsToAccept,
acceptMessage: e.getAcceptMessage(),
onCompleted: t,
onCancel: n
}),
_owner: null
}
}));
});
}
function p(e, t) {
return new Promise(function(n, r) {
return SpartaGlobals.bundleIsPC ? (console.info("Resolving Legal Flow instantly due to platform being PC"), 
void n()) : void ae.get("legal", function() {
var r = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
r[t] ? (console.info("Legal Flow already accepted by gamerTag '" + t + "'"), n()) : u(e).then(function() {
r[t] = !0, ae.save("legal", r);
}).then(function() {
return n();
});
});
});
}
function c(e) {
return new Promise(function(t, n) {
e.companionNotification || t(), e.companionNotification().then(function() {
return t();
});
});
}
function f(e, t) {
return new Promise(function(n, r) {
ae.get("legal_companion", function() {
var r = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
r[t] ? (console.info("Companion Legal Flow already accepted by gamerTag '" + t + "'"), 
n()) : c(e).then(function() {
r[t] = !0, ae.save("legal_companion", r);
}).then(function() {
return n();
});
});
});
}
function d() {
oe = null;
}
function h() {
return oe || (oe = new Promise(function(e) {
console.info("Trying to show Legal Flow (waiting for gamerTag)"), l().then(function(t) {
var n = O["default"].getHostingGame(), r = n && n.legal;
return r && r.textsToAccept || (console.warn("Cannot show legal popups, current game did not provide texts to accept"), 
e()), t ? void p(r, t).then(function() {
return f(r, t);
}).then(function() {
return e();
}) : (console.warn("No gamerTag returned, showing Legal Flow for unknown user without saving save-state"), 
void p(r).then(function() {
return e();
}));
});
}).then(function() {
_.frostbite.sendMessage("sparta.legalAccepted");
})), oe;
}
var y = n(3), g = s(y);
t.__esModule = !0;
var m = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, b = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
};
t.showCompanionNotification = f, t.clearLegalPromise = d, t.tryShowLegal = h;
var v = n(2), _ = e(v), S = n(4), w = s(S), T = n(1), C = s(T), E = n(266), I = s(E), P = n(19), O = s(P), A = n(25), k = s(A), R = n(47), x = s(R), M = n(7), N = s(M), $ = n(221), D = n(6), U = s(D), L = n(31), F = n(23), G = s(F), j = n(20), B = s(j), H = n(14), V = s(H), z = n(12), W = s(z), q = n(13), K = s(q), X = n(18), Y = s(X), J = n(17), Q = s(J), Z = n(112), ee = s(Z), te = n(32), ne = {
_$LegalFlow: {
displayName: "LegalFlow"
}
}, re = g["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/tryShowLegal.js",
components: ne,
locals: [],
imports: []
}), oe = void 0, ae = new I["default"](), ie = {
button: {
width: U["default"].getWidth(6),
marginRight: U["default"].GUTTER
},
container: {
backgroundColor: "#FF000000",
marginTop: -U["default"].getHeight(6),
width: U["default"].getWidth(18),
justifyContent: "center",
alignItems: "flex-start",
height: Y["default"].safeZone.height - Y["default"].footer.height
},
buttonContainer: {
justifyContent: "flex-start",
flexDirection: "row",
width: U["default"].getWidth(18),
alignSelf: "center",
marginTop: U["default"].getHeight(4)
},
iconsContainerStyle: {
flexDirection: "row",
marginTop: U["default"].getHeight(4)
}
}, se = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.preloaded = !1, this.state = {
didNotAccept: !1,
currentKey: 0,
data: null
}, this.acceptMessage = "", this.fadeTween = K["default"].tween("ca03392e:67", 1), 
this.error = {
translateY: K["default"].tween("ca03392e:69", U["default"].getHeight(4)),
opacity: K["default"].tween("ca03392e:70", 0)
};
}
a(t, e), t.prototype.componentDidMount = function s() {
this.setState({
currentKey: "EULA"
}), this.preloadData();
}, t.prototype.componentWillUpdate = function l(e, t) {
if (t.currentKey !== this.state.currentKey && this.fadeTween.to(1), t.didNotAccept && t.didNotAccept !== this.state.didNotAccept) {
var n = {
easing: [ 0, .33, .33, 1 ]
};
this.error.translateY.to(0, n), this.error.opacity.to(1, n);
}
}, t.prototype.componentWillUnmount = function u() {
this.fadeTween.destroy(), this.error.translateY.destroy(), this.error.opacity.destroy();
}, t.prototype.getInput = function p() {
return this.modifyInput(!0);
}, t.prototype.onAccepted = function c() {
k["default"].close(this.props.popupInfo.id), this.props.onCompleted();
}, t.prototype.modifyInput = function f(e) {
var t = [], n = this.state.currentKey, r = "TOS" === n, o = "PP" === n, a = "EULA" === n;
if (this.state.data) {
if (this.state.data.TOS) {
var i = b({}, this.state.data.TOS.input, {
visible: !r
});
t.push(new V["default"](i));
}
if (this.state.data.PP) {
var s = b({}, this.state.data.PP.input, {
visible: !o
});
t.push(new V["default"](s));
}
if (this.state.data.EULA) {
var l = b({}, this.state.data.EULA.input, {
visible: !a
});
t.push(new V["default"](l));
}
e !== !0 && t.unshift({
visible: !0,
key: W["default"].Accept,
label: __("ID_SPARTA_ACTION_SELECT")
});
}
return t;
}, t.prototype.preloadData = function d() {
var e = this;
if (!this.preloaded) {
this.preloaded = !0;
var t = O["default"].getState(), n = this.props, r = n.textsToShow, o = n.textsToAccept, a = n.acceptMessage;
t.locale === ee["default"].GERMAN && (a = a.concat(" " + __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_CONSOLE_GERMANY_ADDENDUM"))), 
this.acceptMessage = a;
var i = {
EULA: null,
TOS: null,
PP: null
}, s = {
EULA: !1,
TOS: !1,
PP: !1
}, l = function c(t) {
s[t] = !0, s.EULA && s.TOS && s.PP && e.setState({
data: i
});
}, u = {
EULA: o.EULA,
TOS: r.TOS,
PP: r.PP
}, p = function f(n) {
var r = t.locale, o = u[n] && u[n].sources ? u[n].sources[r] : null;
return o ? void _.loadAssetRequest(_.options.urlHook(o), function(t, r) {
if (t) {
var o = {
EULA: W["default"].Decline,
TOS: W["default"].Option1,
PP: W["default"].Option2
};
i[n] = {
text: $.createChunkedTexts(r),
title: u[n].getTitle(),
input: {
label: u[n].getTitle(),
action: function a() {
return e.showText(n);
},
key: o[n]
}
};
} else console.warn("Failed to fetch: " + n);
l(n);
}) : (console.warn("Missing source for: " + n + " with locale: " + r), void l(n));
};
p("EULA"), p("TOS"), p("PP");
}
}, t.prototype.showText = function h(e) {
var t = this;
this.state.currentKey !== e && !function() {
var n = {
duration: 1e3
};
t.fadeTween.to(0, n, function() {
t.setState({
currentKey: e
}), t.fadeTween.to(1, n);
});
}();
}, t.prototype.render = function y() {
var e = this, t = this.state.currentKey;
if (0 === t || !this.state.data || !this.state.data[t]) return {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = this.state.data[t].text, o = this.state.data[t].title.toUpperCase(), a = ie.buttonContainer;
te.isRTLLanguage() && (w["default"].each(n, function(e) {
e.props.style = {
textAlignForRTL: "left",
marginRight: U["default"].GUTTER
};
}), a.justifyContent = "flex-end");
var i = {
textAlign: "left",
width: ie.container.width,
color: "#c2c2c2",
opacity: this.fadeTween.getStyle()
}, s = {
width: ie.container.width,
marginTop: U["default"].GUTTER,
translateY: this.error.translateY.getStyle(),
opacity: this.error.opacity.getStyle(),
textAlignForRTL: "left"
}, l = C["default"].createElement(G["default"], {
ref: "acceptButton",
text: __("ID_SPARTA_LEGAL_ACCEPT"),
style: ie.button,
action: function() {
return e.onAccepted();
}
}), u = (!SpartaGlobals.bundleIsPC || !this.state.didNotAccept) && {
$$typeof: m,
type: G["default"],
key: null,
ref: null,
props: r(G["default"].defaultProps, {
text: __("ID_SPARTA_LEGAL_DONOTACCEPT"),
style: ie.button,
action: function() {
return e.setState({
didNotAccept: !0
});
}
}),
_owner: null
}, p = SpartaGlobals.bundleIsPC && this.state.didNotAccept && {
$$typeof: m,
type: G["default"],
key: null,
ref: null,
props: r(G["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_QUIT"),
style: ie.button,
action: function() {
return Q["default"].quitSparta();
}
}),
_owner: null
};
return {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: m,
type: L.Scroller,
key: t,
ref: null,
props: r(L.Scroller.defaultProps, {
children: {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: m,
type: N["default"],
key: null,
ref: null,
props: r(N["default"].defaultProps, {
value: o,
size: "L",
type: "emphasis",
style: {
marginBottom: U["default"].getHeight(5),
textAlignForRTL: "left"
}
}),
_owner: null
}, n ],
style: i
},
_owner: null
},
style: {
width: ie.container.width,
height: U["default"].getHeight(56)
},
controller: !0,
clipMargin: [ U["default"].getHeight(5), 0, 0, U["default"].getWidth(3) ],
softClip: [ 0, 20, 0, 20 ]
}),
_owner: null
}, {
$$typeof: m,
type: N["default"],
key: null,
ref: null,
props: r(N["default"].defaultProps, {
value: this.acceptMessage,
size: "S",
style: {
width: ie.container.width,
marginTop: U["default"].getHeight(4),
color: "#FF9900",
textAlignForRTL: "left",
marginRight: U["default"].GUTTER
}
}),
_owner: null
}, {
$$typeof: m,
type: N["default"],
key: null,
ref: null,
props: r(N["default"].defaultProps, {
size: "S",
color: "#b92828",
style: s,
value: __("ID_SPARTA_LEGAL_ACCEPT_ERROR")
}),
_owner: null
}, {
$$typeof: m,
type: "surface",
key: null,
ref: null,
props: {
children: te.localeRearrange([ l, u, p ]),
style: a
},
_owner: null
} ],
style: ie.container
},
_owner: null
};
};
var n = t;
return t = i("_$LegalFlow")(t) || t, t = B["default"]()(t) || t;
}(C["default"].Component);
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
o.extend(this, e), e.filter && (this.filter = e.filter);
}
var o = n(4);
e.exports = r;
}, function(e, t, n) {
function r(e, t) {
return Math.random() * (t - e) + e;
}
function o(e) {
var t;
if (t = e.hasOwnProperty("recommendationType") ? e.recommendationType : Object.keys(e).filter(function(e) {
return -1 !== f.indexOf(e);
})[0]) {
var n = e[t];
return new u(i.extend({
group: t,
game: e.game,
telemetryId: e.telemetryId
}, n));
}
console.error("Unable to parseRecommendation", e);
}
var a = n(167), i = n(4), s = n(21), l = n(61), u = n(425), p = n(164), c = n(26), f = [ "matchmake", "campaign", "article", "item", "battlepack", "server", "filter", "continue", "video", "churn" ], d = {}, h = s.createClient({
requestOn: [ l.fetchRecommendations ],
throttle: 3e4,
request: function y(e, t) {
return t.count || (t.count = 10), d[JSON.stringify(t)] = Date.now(), c.request("Recommender.recommend", t);
},
parse: function g(e) {
var t = i.chain(e.recommendations).filter(function(e) {
return !e.churn;
}).map(o).filter(function(e) {
return e;
}).value();
if (t.length > 0 && "item" === t[0].group) {
var n = t.shift();
t.splice(r(1, t.length), 0, n);
}
return t;
},
update: function m(e, t, n, r) {
var o = JSON.stringify(r), i = d[o];
delete d[o];
var s = (Date.now() - i) / 1e3, l = "received";
e.forEach(function(e) {
p.trackEvent(a.Events.Message, {
recommendation: e,
secondsDuration: s,
messageType: l
});
}), this.publish(n, e, r);
}
});
e.exports = h;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
return i["default"].chain(e).map(function(e) {
var t = f["default"].getState()[e];
return t && t.length > 0 ? {
group: "friends",
playingFriends: t
} : void 0;
}).compact().value();
}
var a = n(4), i = r(a), s = n(15), l = r(s), u = n(426), p = r(u), c = n(467), f = r(c), d = n(24), h = new d("RecommendationStore"), y = new d("RecommendationBucketsPatchedWithFriends"), g = !0, m = l["default"].createStore({
init: function b() {
this.listenTo(p["default"], function(e, t, n) {
g && (y.set(e, n.games), t = o(n.games).concat(t)), h.set(e, t), this.trigger(this.getState());
}), g && this.listenTo(f["default"], function() {
y.getState().isEmpty() || (i["default"].each(y.getState(), function(e, t) {
var n = i["default"].filter(h.get(t), function(e) {
return "friends" !== e.group;
}), r = o(e), a = r.concat(n);
h.set(t, a);
}), this.trigger(this.getState()));
});
},
getState: function v() {
return h.getState();
}
});
e.exports = m;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(21), a = r(o), i = n(26), s = r(i), l = n(19), u = r(l), p = a["default"].createClient({
throttle: 108e3,
request: function c(e) {
if (!e.game || "number" != typeof e.minutesToUTC) throw new Error("You need to provide at least game and minutesToUtc when fetching a recommendation message");
return e.gameClient = u["default"].getHostingGame().gameId, s["default"].request("Onboarding.welcomeMessage", e);
},
parse: function f(e) {
return e;
},
update: function d(e, t, n) {
this.publish(n.game, e);
}
});
t["default"] = p, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(24), s = n(428), l = new i("WelcomeMessageStore"), u = a["default"].createStore({
init: function p() {
this.listenTo(s, function(e, t) {
l.set(e, t), this.trigger(this.getState());
});
},
getState: function c() {
return l.getState();
}
});
t["default"] = u, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(14), h = s(d), y = n(12), g = s(y), m = n(61), b = s(m), v = n(30), _ = s(v), S = n(2), w = n(55), T = s(w), C = n(159), E = n(56), I = {
_$ServerRecommendationCard: {
displayName: "ServerRecommendationCard"
}
}, P = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/ServerRecommendationCard.jsx",
components: I,
locals: [],
imports: []
}), O = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = S.focus.create(this, "server_rec_card");
}
a(t, e), t.prototype.componentDidMount = function s() {
b["default"].handleCardDisplayed(this.props.recommendation);
}, t.prototype.getButtons = function l(e) {
var t = this, n = [ new h["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN"),
key: g["default"].Accept,
blockInputFor: 500,
action: function r() {
return t.onJoinServer(e);
}
}) ];
return SpartaGlobals.bundleIsConsole && E.supportsSpectating(e.game) && n.push(new h["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
key: g["default"].Option1,
blockInputFor: 500,
action: function o() {
return t.onJoinServer(e, "spectator");
}
})), n;
}, t.prototype.getContextMenuConfig = function u(e) {
var t = this, n = [];
if (E.supportsSpectating(e.game)) {
var r = {
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
action: function o() {
return t.onJoinServer(e, "spectator");
}
};
n.push(r);
}
return n.length ? {
options: n
} : null;
}, t.prototype.onJoinServer = function c(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? "soldier" : arguments[1];
b["default"].handleCardInteraction(this.props.recommendation), _["default"].joinServer(e.createJoinOptions({
role: t
}));
}, t.prototype.render = function f() {
var e = this.props.recommendation, t = new T["default"](e.server.server), n = SpartaGlobals.bundleIsPC ? this.getContextMenuConfig(t) : null;
return {
$$typeof: p,
type: C.PlayCard,
key: null,
ref: null,
props: r(C.PlayCard.defaultProps, {
heading: __("ID_SPARTA_SERVER_RECENT"),
focusItem: this.focusItem,
input: this.getButtons(t),
contextMenu: n,
joinButtonName: __("ID_SPARTA_ACTION_SERVER_JOIN").toLocaleUpperCase(),
modes: t.name.toUpperCase(),
maps: t.mapModePretty,
playersInfo: t.mapNamePretty,
size: this.props.size,
background: t.mapImageUrl
}),
_owner: null
};
};
var n = t;
return t = i("_$ServerRecommendationCard")(t) || t;
}(f["default"].Component);
t["default"] = O, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return function(t) {
return F(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = U.chunkTextByLines(e.value), n = t.map(function(e) {
return {
$$typeof: d,
type: v["default"],
key: null,
ref: null,
props: a(v["default"].defaultProps, {
value: e,
size: "S",
style: H.paragraphText
}),
_owner: null
};
});
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: n
},
_owner: null
};
}
function u(e) {
var t = e.topMargin ? e.topMargin : T["default"].GUTTER, n = {
marginTop: t
};
return M.isRTLLanguage() && (n.textAlignForRTL = "left", n.marginRight = 2 * T["default"].GUTTER), 
{
$$typeof: d,
type: v["default"],
key: null,
ref: null,
props: a(v["default"].defaultProps, {
size: e.size,
value: e.value,
style: n
}),
_owner: null
};
}
var p = n(3), c = s(p);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = s(h), g = n(25), m = s(g), b = n(7), v = s(b), _ = n(18), S = s(_), w = n(6), T = s(w), C = n(31), E = n(158), I = n(288), P = s(I), O = n(2), A = n(178), k = s(A), R = n(40), x = n(9), M = n(32), N = n(105), $ = s(N), D = n(289), U = n(221), L = {
_$CodexPopupRightPane: {
displayName: "CodexPopupRightPane"
},
_$TunguskaCodexPopup: {
displayName: "TunguskaCodexPopup"
}
}, F = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaCodexPopup.jsx",
components: L,
locals: [],
imports: []
}), G = 160, j = 225, B = R.LINE_HEIGHTS.S, H = {
container: {
width: S["default"].safeZone.width,
height: .75 * S["default"].safeZone.height,
marginBottom: T["default"].getHeight(5),
flexDirection: "row"
},
cardContainer: {
width: T["default"].window.colSpan(8.5),
height: .75 * S["default"].safeZone.height
},
cardContainerSmall: {
width: G + T["default"].window.colSpan(1),
height: .75 * S["default"].safeZone.height
},
cardSmall: {
width: G,
height: j,
opacity: 1
},
card: {
width: T["default"].window.colSpan(7.5),
height: .75 * S["default"].safeZone.height,
opacity: 1
},
criteriaContainer: {
marginBottom: T["default"].GUTTER,
marginTop: T["default"].GUTTER
},
criteria: {
flexDirection: "row",
marginBottom: T["default"].GUTTER,
marginTop: T["default"].GUTTER
},
paragraphText: {
marginTop: T["default"].GUTTER,
textLineSpacing: SpartaGlobals.bundleIsConsole ? Math.round(1.2 * B) : Math.round(1.2 * B),
textAlignForRTL: "left",
marginRight: 2 * T["default"].GUTTER
},
goldenText: {
texture2: x.bbOfflineUrl("/sparta/assets/tunguska/career/golden-texture-eae85f40.png"),
texture2Mode: "fill",
opacity: 1
}
}, V = [ 0, 0, 0, SpartaGlobals.bundleIsPC ? S["default"].dangerZoneSize.height : S["default"].fadeAreaBottom.height ], z = [ 0, S["default"].dangerZoneSize.width, SpartaGlobals.bundleIsPC ? S["default"].dangerZoneSize.height : S["default"].fadeAreaBottom.height, SpartaGlobals.bundleIsPC ? S["default"].content.left - S["default"].mainMenu.width - 1 : 0 ], W = {
style: {
width: T["default"].window.colSpan(14),
height: H.container.height,
flex: 1
},
clipPadding: z,
softClip: V,
controller: !0
}, q = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.renderProgressInfo = function s(e) {
var t = this;
if (e && e.criteria && e.criteria.length) {
var n = e.criteria.map(function(n) {
var r = e.isCollected;
return t.renderCriteria(n, r);
});
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: n
},
_owner: null
};
}
return this.renderCriteria({
name: e.progression ? e.progression.description : "",
progression: {
unlocked: e.isCollected ? 1 : 0
}
});
}, t.prototype.renderCollectedInfo = function p(e) {
if (e.isCollected || this.props.completedOverride) {
var t = e.details, n = SpartaGlobals.bundleIsConsole ? "L" : "M", r = null, o = null;
return t.subHeader && "" !== t.subHeader && (o = {
$$typeof: d,
type: u,
key: null,
ref: null,
props: a(u.defaultProps, {
size: n,
value: t.subHeader.toUpperCase(),
topMargin: 4 * T["default"].GUTTER
}),
_owner: null
}), t.text2 && "" !== t.text2 && (r = {
$$typeof: d,
type: l,
key: null,
ref: null,
props: a(l.defaultProps, {
value: t.text2
}),
_owner: null
}), {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: l,
key: null,
ref: null,
props: a(l.defaultProps, {
value: e.details.description
}),
_owner: null
}, o, r ]
},
_owner: null
};
}
}, t.prototype.renderCriteria = function c(e, t) {
var n = e.progression && e.progression.unlocked || this.props.completedOverride || t, r = n ? H.goldenText : {}, o = 2 * T["default"].GUTTER, i = M.isRTLLanguage() ? {
marginRight: o,
textAlignForRTL: "left",
width: SpartaGlobals.bundleIsConsole ? T["default"].getWidth(13) : T["default"].getWidth(16),
flexWrap: "wrap"
} : {
marginLeft: o,
width: SpartaGlobals.bundleIsConsole ? T["default"].getWidth(13.5) : T["default"].getWidth(17),
flexWrap: "wrap"
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: "surface",
key: "criteria-" + e.code,
ref: null,
props: {
children: M.localeRearrange([ {
$$typeof: d,
type: k["default"],
key: null,
ref: null,
props: a(k["default"].defaultProps, {
value: n,
style: f({}, r)
}),
_owner: null
}, {
$$typeof: d,
type: v["default"],
key: null,
ref: null,
props: a(v["default"].defaultProps, {
value: e.name,
size: "S",
type: "normal",
style: f({}, r, i)
}),
_owner: null
} ]),
style: H.criteria
},
_owner: null
},
style: H.criteriaContainer
},
_owner: null
};
}, t.prototype.render = function h() {
var e = this.props.codex, t = e.category || "", n = e.details && e.details.header ? e.details.header : "";
return y["default"].createElement(C.Scroller, f({}, W, {
ref: "rightPane"
}), {
$$typeof: d,
type: v["default"],
key: null,
ref: null,
props: a(v["default"].defaultProps, {
size: "S",
value: t.toUpperCase(),
style: {
opacity: .66,
textAlignForRTL: "left",
marginRight: 2 * T["default"].GUTTER
}
}),
_owner: null
}, {
$$typeof: d,
type: u,
key: null,
ref: null,
props: a(u.defaultProps, {
size: "XL",
value: n.toUpperCase()
}),
_owner: null
}, this.renderProgressInfo(e), this.renderCollectedInfo(e));
};
var n = t;
return t = i("_$CodexPopupRightPane")(t) || t;
}(y["default"].Component), K = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.isVOPlaying = !1;
}
o(t, e), t.prototype.componentDidMount = function s() {
this.canPlayVoiceOver() && (this.isVOPlaying = !0, D.playCodexVO(this.props.codex.voiceOver));
}, t.prototype.componentWillUnmount = function l() {
this.isVOPlaying && D.stopCodexVO();
}, t.prototype.canPlayVoiceOver = function u() {
return this.props.codex && this.props.codex.voiceOver && (this.props.codex.isCollected || this.props.completedOverride) && this.props.shouldPlayVoiceOver;
}, t.prototype.closePopup = function p() {
this.isVOPlaying && (this.isVOPlaying = !1, D.stopCodexVO()), m["default"].close(this.props.popupInfo.id);
}, t.prototype.renderCloseButton = function c() {
var e = this, t = x.bbOfflineUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"), n = {
position: "absolute",
top: 13 * -T["default"].GUTTER,
right: 8 * -T["default"].GUTTER,
zOffset: 100
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: O.Focusable,
key: null,
ref: null,
props: a(O.Focusable.defaultProps, {
children: function r(n) {
return {
$$typeof: d,
type: $["default"],
key: null,
ref: null,
props: a($["default"].defaultProps, {
action: function() {
return e.closePopup();
},
focusItem: n,
size: 24,
icon: t,
style: {
padding: T["default"].GUTTER
}
}),
_owner: null
};
},
debugName: "popup_close_" + this.props.popupInfo.id
}),
_owner: null
},
style: n
},
_owner: null
};
}, t.prototype.render = function f() {
var e = this.props.completedOverride, t = this.props.codex;
return t.displayName ? {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ M.localeRearrange([ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: P["default"],
key: null,
ref: null,
props: a(P["default"].defaultProps, {
entry: t,
isInPopup: !0,
hasNoSideMargin: !0,
style: H.card,
completedOverride: e
}),
_owner: null
},
style: H.cardContainer
},
_owner: null
}, y["default"].createElement(q, {
codex: t,
ref: "rightPane",
completedOverride: e
}) ]), SpartaGlobals.bundleIsPC && this.renderCloseButton() ],
style: H.container
},
_owner: null
} : {
$$typeof: d,
type: v["default"],
key: null,
ref: null,
props: a(v["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_CODEX_INFO_UNAVAILABLE")
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaCodexPopup")(t) || t;
}(y["default"].Component);
t["default"] = K, K.propTypes = {
codex: y["default"].PropTypes.instanceOf(E.CodexEntry),
isOffline: y["default"].PropTypes.bool,
shouldPlayVoiceOver: y["default"].PropTypes.bool
}, K.defaultProps = {
isOffline: !1,
shouldPlayVoiceOver: !1
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
var a = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, i = n(1), s = (r(i), 
n(25)), l = t(s), u = n(47), p = t(u), c = n(14), f = t(c), d = n(12), h = t(d), y = n(732), g = t(y), m = n(9), b = {
"ar-sa": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_ARA_SA-e1299a03.txt"),
"cs-cz": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_CZE_CZ-2f5cf166.txt"),
"de-de": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_GER_DE-e6a5fea4.txt"),
"en-us": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_ENG_US-eee34ba6.txt"),
"es-es": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_SPA_ES-7cac774b.txt"),
"es-mx": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_SPA_MX-787efc14.txt"),
"fr-fr": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_FRE_FR-6516a345.txt"),
"it-it": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_ITA_IT-3bcc4a1f.txt"),
"ja-jp": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_JPN_JP-963199c0.txt"),
"ko-kr": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_KOR_KR-562d3b5c.txt"),
"pl-pl": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_POL_PL-ab9eea33.txt"),
"pt-br": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_POR_BR-b17f8208.txt"),
"ru-ru": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_RUS_RU-ef067c66.txt"),
"tr-tr": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_TUR_TR-be6c0713.txt"),
"zh-tw": m.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_CHT_CN-9801c961.txt")
}, v = {
xboxone: {
EULA: b,
TOS: {
"ar-sa": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-ar-838e26f3.txt"),
"cs-cz": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-cs-c1e79c5a.txt"),
"de-de": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-de-50049396.txt"),
"en-us": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-en-e5b14b41.txt"),
"es-es": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-es-6fd278b8.txt"),
"es-mx": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-mx-d2a1ff28.txt"),
"fr-fr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-fr-75e4500d.txt"),
"it-it": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-it-19f00637.txt"),
"ja-jp": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-jp-def3fcc7.txt"),
"ko-kr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-ko-2d0db025.txt"),
"pl-pl": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-pl-330ae929.txt"),
"pt-br": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-br-742841a0.txt"),
"ru-ru": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-ru-049703a6.txt"),
"tr-tr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-tr-cbb786c1.txt"),
"zh-tw": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-tc-47f8cfcf.txt")
},
PP: {
"ar-sa": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ar-c5b69842.txt"),
"cs-cz": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-cs-e8558212.txt"),
"de-de": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-de-87aa792f.txt"),
"en-us": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-en-19b7fd61.txt"),
"es-es": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-es-58a02f3a.txt"),
"es-mx": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-mx-c16db0b8.txt"),
"fr-fr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-fr-65fbf187.txt"),
"it-it": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-it-58253880.txt"),
"ja-jp": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-jp-b69421f7.txt"),
"ko-kr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ko-45b894c8.txt"),
"pl-pl": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-pl-421c8f85.txt"),
"pt-br": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-br-f63d2687.txt"),
"ru-ru": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ru-2cc0c661.txt"),
"tr-tr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-tr-ecb70fcd.txt"),
"zh-tw": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-tc-a26a741a.txt")
}
},
ps4: {
EULA: b,
TOS: {
"ar-sa": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-ar-a24c85bd.txt"),
"cs-cz": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-cs-041c269d.txt"),
"de-de": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-de-2fda6c89.txt"),
"en-us": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-en-e6cd1be4.txt"),
"es-es": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-es-117b19dd.txt"),
"es-mx": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-mx-207e473a.txt"),
"fr-fr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-fr-921878e1.txt"),
"it-it": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-it-b7c13e4c.txt"),
"ja-jp": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-ja-cebe5dbd.txt"),
"ko-kr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-ko-fad1f1cf.txt"),
"pl-pl": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-pl-5300e7dd.txt"),
"pt-br": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-br-692d98a9.txt"),
"ru-ru": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-ru-cf76eb3e.txt"),
"tr-tr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-tr-f922a86e.txt"),
"zh-tw": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-tc-d3ea9753.txt")
},
PP: {
"ar-sa": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ar-d23e6be9.txt"),
"cs-cz": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-cz-10dcf052.txt"),
"de-de": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-de-5db91fe6.txt"),
"en-us": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-en-16fa45b7.txt"),
"es-es": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-es-6eeac95c.txt"),
"es-mx": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-mx-1430f8e3.txt"),
"fr-fr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-fr-928bd643.txt"),
"it-it": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-it-0d3747ea.txt"),
"ja-jp": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ja-2f18926b.txt"),
"ko-kr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ko-8e236800.txt"),
"pl-pl": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-pl-b99d410e.txt"),
"pt-br": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-br-8254622f.txt"),
"ru-ru": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ru-c6b56e0d.txt"),
"tr-tr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-tr-375ff060.txt"),
"zh-tw": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-tc-3289d77a.txt")
}
},
pc: {
EULA: {
"ar-sa": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ARA_SA-9f1bb4e4.txt"),
"cs-cz": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ENG_US-a9f0a043.txt"),
"de-de": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.30.16_GER_DE-19c12cfd.txt"),
"en-us": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ENG_US-a9f0a043.txt"),
"es-es": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_SPA_ES-21991268.txt"),
"es-mx": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_SPA_MX-c15115f5.txt"),
"fr-fr": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_FRE_FR-650af657.txt"),
"it-it": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ITA_IT-eb9da764.txt"),
"ja-jp": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_JPN_JP-a65900c0.txt"),
"ko-kr": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ENG_US-a9f0a043.txt"),
"pl-pl": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_POL_PL-be5cd911.txt"),
"pt-br": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_POR_BR-c2728510.txt"),
"ru-ru": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_RUS_RU-35cfb05f.txt"),
"tr-tr": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_TUR_TR-26a86f73.txt"),
"zh-tw": m.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_CHT_CN-23d94b14.txt")
},
TOS: {
"ar-sa": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-ar-99d3ac63.txt"),
"cs-cz": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-cs-b51352dc.txt"),
"de-de": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-de-9fef088a.txt"),
"en-us": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-en-fc85ec7e.txt"),
"es-es": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-es-de5f00b2.txt"),
"es-mx": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-mx-9bc74e74.txt"),
"fr-fr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-fr-bd3ace93.txt"),
"it-it": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-it-16a9da23.txt"),
"ja-jp": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-jp-de6a5a0e.txt"),
"ko-kr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-ko-5428e67d.txt"),
"pl-pl": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-pl-80950584.txt"),
"pt-br": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-br-bcab0db8.txt"),
"ru-ru": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-ru-5c77c7d9.txt"),
"tr-tr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-tr-f731ec3a.txt"),
"zh-tw": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-tc-267334b9.txt")
},
PP: {
"ar-sa": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ar-e158ccf8.txt"),
"cs-cz": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-cs-08e36f8e.txt"),
"de-de": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-de-5acd94c7.txt"),
"en-us": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-en-d41c6ce1.txt"),
"es-es": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-es-9b5b964e.txt"),
"es-mx": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-mx-239b4588.txt"),
"fr-fr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-fr-751c0122.txt"),
"it-it": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-it-e918e658.txt"),
"ja-jp": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-jp-d0447da4.txt"),
"ko-kr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ko-a64cd41f.txt"),
"pl-pl": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-pl-9011ec1f.txt"),
"pt-br": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-br-40bcc8f5.txt"),
"ru-ru": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ru-eeb84d61.txt"),
"tr-tr": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-tr-1162c67a.txt"),
"zh-tw": m.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-tc-20c38a96.txt")
}
}
}, _ = [], S = [], w = [], T = {
PC: function k() {
return __("ID_SPARTA_ONLINE_SERVICE_PC");
},
PS4: function R() {
return __("ID_SPARTA_ONLINE_SERVICE_PS4");
},
XBOXONE: function x() {
return __("ID_SPARTA_ONLINE_SERVICE_XBOXONE");
}
};
_.XBOXONE = {
getTitle: function M() {
return __("ID_SPARTA_LEGAL_EULA_TITLE");
},
sources: v.xboxone.EULA
}, _.PS4 = {
getTitle: function N() {
return __("ID_SPARTA_LEGAL_EULA_TITLE");
},
sources: v.ps4.EULA
}, _.PC = {
getTitle: function $() {
return __("ID_SPARTA_LEGAL_EULA_TITLE");
},
sources: v.pc.EULA
}, S.XBOXONE = {
getTitle: function D() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: v.xboxone.PP
}, S.PS4 = {
getTitle: function U() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: v.ps4.PP
}, S.PC = {
getTitle: function L() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: v.pc.PP
}, w.XBOXONE = {
getTitle: function F() {
return __("ID_SPARTA_LEGAL_TOS_TITLE");
},
sources: v.xboxone.TOS
}, w.PS4 = {
getTitle: function G() {
return __("ID_SPARTA_LEGAL_TOS_TITLE");
},
sources: v.ps4.TOS
}, w.PC = {
getTitle: function j() {
return __("ID_SPARTA_LEGAL_TOS_TITLE");
},
sources: v.pc.TOS
};
var C = _[SpartaGlobals.bundlePlatform], E = S[SpartaGlobals.bundlePlatform], I = w[SpartaGlobals.bundlePlatform], P = T[SpartaGlobals.bundlePlatform || "PC"], O = function B() {
var e = __("ID_SPARTA_TUNGUSKA_COMPANION_LEGAL_TEXT").replace("[[online_service]]", P());
return new Promise(function(t) {
l["default"].display(new p["default"]({
content: {
$$typeof: a,
type: g["default"],
key: null,
ref: null,
props: o(g["default"].defaultProps, {
legal: e
}),
_owner: null
},
createButtons: !0,
inputs: [ new f["default"]({
label: __("ID_SPARTA_ACTION_OK"),
key: h["default"].Accept,
action: function n() {
return t();
}
}) ]
}));
});
}, A = {
PC: {
getAcceptMessage: function H() {
return __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_PC");
},
textsToShow: {
TOS: I,
PP: E
},
textsToAccept: {
EULA: C
},
companionNotification: O
},
PS4: {
getAcceptMessage: function V() {
return __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_CONSOLE");
},
textsToShow: {
TOS: I,
PP: E
},
textsToAccept: {
EULA: C
},
companionNotification: O
},
XBOXONE: {
getAcceptMessage: function z() {
return __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_CONSOLE");
},
textsToShow: {
TOS: I,
PP: E
},
textsToAccept: {
EULA: C
},
companionNotification: O
}
};
e.exports = A[SpartaGlobals.bundlePlatform];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return _(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(247), h = n(807), y = s(h), g = n(802), m = s(g), b = n(9), v = {
_$TunguskaServerFilter: {
displayName: "TunguskaServerFilter"
}
}, _ = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaServerFilter.jsx",
components: v,
locals: [],
imports: []
}), S = "tunguska", w = [ {
id: "gameModes",
label: function E() {
return __("ID_SPARTA_FILTER_GAMEMODES");
},
toggleAll: !0
}, {
id: "maps",
label: function I() {
return __("ID_SPARTA_FILTER_MAPS");
},
toggleAll: !0
}, {
id: "vehiclesKits",
label: function P() {
return __("ID_SPARTA_FILTER_CLASSESVEHICLES");
},
type: "onOff",
filters: [ {
id: "kits",
label: function O() {
return __("ID_SPARTA_FILTER_KITS");
}
}, {
id: "vehicles",
label: function A() {
return __("ID_SPARTA_FILTER_VEHICLES");
}
} ]
}, {
id: "weaponClasses",
label: function k() {
return __("ID_SPARTA_FILTER_WEAPONS");
},
type: "onOff",
toggleAll: !0
}, {
id: "misc",
label: function R() {
return __("ID_SPARTA_FILTER_ADVANCED");
},
type: "onOff"
}, {
id: "scales",
label: function x() {
return __("ID_SPARTA_FILTER_RULES");
},
type: "scales"
}, {
id: "slots",
label: function M() {
return __("ID_SPARTA_FILTER_SLOTS");
},
toggleAll: !0
}, {
id: "regions",
label: function N() {
return __("ID_SPARTA_FILTER_REGIONS");
},
toggleAll: !0
}, {
id: "name",
label: function $() {
return __("ID_SPARTA_FILTER_NAME");
}
} ], T = {
A: b.bbUrl("/sparta/assets/tunguska/icons/icon-air-1ed7dab1.png"),
L: b.bbUrl("/sparta/assets/tunguska/icons/icon-land-561b83d6.png"),
1: b.bbUrl("/sparta/assets/tunguska/icons/icon-assault-a180880f.png"),
2: b.bbUrl("/sparta/assets/tunguska/icons/icon-medic-2891f85c.png"),
3: b.bbUrl("/sparta/assets/tunguska/icons/icon-support-374056e8.png"),
4: b.bbUrl("/sparta/assets/tunguska/icons/icon-scout-90dffea9.png"),
HERO: b.bbUrl("/sparta/assets/tunguska/icons/icon-hero-a92e2b7d.png"),
M: b.bbUrl("/sparta/assets/tunguska/icons/icon-melee-27a5a9d1.png"),
S: b.bbUrl("/sparta/assets/tunguska/icons/icon-shotgun-336b39f1.png"),
H: b.bbUrl("/sparta/assets/tunguska/icons/icon-handgun-60e23c35.png"),
E: b.bbUrl("/sparta/assets/tunguska/icons/icon-explosives-f0ef3e1b.png"),
LMG: b.bbUrl("/sparta/assets/tunguska/icons/icon-lmg-83486acb.png"),
SMG: b.bbUrl("/sparta/assets/tunguska/icons/icon-smg-e8df1100.png"),
SR: b.bbUrl("/sparta/assets/tunguska/icons/icon-singleactionrifle-2859bd28.png"),
SAR: b.bbUrl("/sparta/assets/tunguska/icons/icon-semiautorifle-01842e33.png"),
KG: b.bbUrl("/sparta/assets/tunguska/icons/icon-kitgadgets-6bc7f5c6.png")
}, C = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.switchTab = function s(e) {
this.refs.tabs && this.refs.tabs.handleTabSelected(e);
}, t.prototype.render = function l() {
var e = this, t = {
name: "current",
title: function a() {
return __("ID_SPARTA_TAB_CURRENT");
},
render: function i() {
return f["default"].createElement(y["default"], {
key: "current",
ref: "filterView",
gameId: S,
filterLayout: w,
supportsRentServer: !0,
filterIcons: T,
switchTab: function(t) {
return e.switchTab(t);
}
});
}
}, n = {
name: "presets",
title: function s() {
return __("ID_SPARTA_TAB_PRESETS");
},
render: function l() {
return {
$$typeof: p,
type: m["default"],
key: "presets",
ref: null,
props: r(m["default"].defaultProps, {
switchTab: function(t) {
return e.switchTab(t);
},
gameId: S
}),
_owner: null
};
}
}, o = [ t, n ];
return f["default"].createElement(d.TabbedTemplate, {
topGutter: !1,
ref: "tabs",
tabs: o
});
};
var n = t;
return t = i("_$TunguskaServerFilter")(t) || t;
}(f["default"].Component);
t["default"] = C, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return q(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(2), g = r(y), m = n(4), b = l(m), v = n(6), _ = l(v), S = n(7), w = l(S), T = n(23), C = l(T), E = n(58), I = l(E), P = n(31), O = n(25), A = l(O), k = n(51), R = l(k), x = n(136), M = n(35), N = n(16), $ = l(N), D = n(102), U = l(D), L = n(177), F = l(L), G = n(217), j = l(G), B = n(36), H = l(B), V = n(101), z = n(54), W = {
_$BattlepackConfirmBuy: {
displayName: "BattlepackConfirmBuy"
}
}, q = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackConfirmBuy.jsx",
components: W,
locals: [],
imports: []
}), K = g.createStyleSheet({
container: {
position: "absolute",
top: 0,
left: 8 * _["default"].GUTTER,
bottom: SpartaGlobals.bundleIsPC ? 0 : _["default"].getHeight(12),
right: 8 * _["default"].GUTTER,
alignItems: "center",
justifyContent: "center"
},
image: {
width: _["default"].getWidth(10),
height: _["default"].getHeight(36),
textureMode: "contain"
},
name: {
marginBottom: 2 * _["default"].GUTTER
},
description: {
marginBottom: 2 * _["default"].GUTTER
},
priceLabel: {
marginBottom: 2 * _["default"].GUTTER
},
actions: {
minHeight: 2 * _["default"].getHeight(7) + 2 * _["default"].GUTTER
},
btn: {
width: _["default"].getWidth(6),
marginBottom: _["default"].GUTTER
}
}), X = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
isLoading: !1
}, this.focusAncestor = g.focus.createAncestor("BattlepackConfirmBuy");
}
i(t, e), t.prototype.getPrice = function r() {
if (this.props.realMoney) return this.props.offer.price;
var e = this.props.pack || this.props.offer && this.props.offer.battlepack, t = b["default"].findWhere(e.prices.map(function(e) {
return e[0];
}), {
name: "scraps"
});
return t && t.quantity;
}, t.prototype.onConfirmClick = function l() {
return this.props.realMoney ? this.buy() : this.buyForScraps();
}, t.prototype.buy = function u() {
var e = this;
this.setState({
isLoading: !0
});
var t = R["default"].checkoutCompleted.listen(function(n, r, o) {
r.offerId === e.props.offer.offerId && (t(), e.closePopup(), n.status === n.CHECKOUT_COMPLETED && "function" == typeof e.props.onBuy && e.props.onBuy());
}), n = Object.assign({
gameId: "tunguska"
}, this.props.offer);
R["default"].checkout(n);
}, t.prototype.buyForScraps = function p() {
var e = this;
this.setState({
isLoading: !0
});
var t = this.props.pack || this.props.offer && this.props.offer.battlepack, n = z.buyForScraps.listen(function(t, r) {
return n(), t ? (M.alert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_BUY_ERROR")), void e.setState({
isLoading: !1
})) : (e.closePopup(), void ("function" == typeof e.props.onBuy && e.props.onBuy()));
}), r = this.state.balance && this.state.balance.scraps || 0;
H["default"].buyBattlepackForScraps(t.packKey, this.getPrice(), r);
}, t.prototype.closePopup = function d() {
var e = this.props.popupInfo && this.props.popupInfo.id;
A["default"].close(e);
}, t.prototype.render = function y() {
var e = this, t = this.props.offer, n = this.props.pack || t && t.battlepack, r = n.images && (n.images.side_big || n.images.side_normal || n.images.side_small), a = n.visualName, i = t && t.amount > 1 ? " x" + t.amount : "", s = this.getPrice(), l = void 0, u = void 0;
this.props.realMoney ? (l = {
$$typeof: f,
type: x.PS4StoreContent,
key: null,
ref: null,
props: o(x.PS4StoreContent.defaultProps, {
children: {
$$typeof: f,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
style: K.priceLabel,
value: s
}),
_owner: null
}
}),
_owner: null
}, u = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(P.Scroller, {
style: {
width: _["default"].getWidth(16),
height: _["default"].getHeight(22)
},
ref: "description",
softClip: [ 0, _["default"].getHeight(2), 0, _["default"].getHeight(2) ],
scrollPosition: "inside",
controller: !0
}, {
$$typeof: f,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
size: "S",
value: t.longDesc
}),
_owner: null
}),
style: K.description
},
_owner: null
}) : l = {
$$typeof: f,
type: V.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(V.TunguskaBattlepackScraps.defaultProps, {
style: K.priceLabel,
value: s
}),
_owner: null
};
var p = void 0;
return p = this.state.isLoading ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: I["default"],
key: null,
ref: null,
props: o(I["default"].defaultProps, {
autoRun: !0
}),
_owner: null
}, {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
text: "",
disabled: !0
}),
_owner: null
} ],
style: K.actions
},
_owner: null
} : {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_CONFIRM").toUpperCase(),
style: K.btn,
action: function() {
return e.onConfirmClick();
},
blockInputFor: 1e3
}),
_owner: null
}, {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_CANCEL").toUpperCase(),
style: K.btn,
action: function() {
return e.closePopup();
}
}),
_owner: null
} ],
style: K.actions
},
_owner: null
}, h["default"].createElement("surface", c({
style: K.container
}, this.focusAncestor.hooks), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: [ K.image, {
texture: r
} ]
},
_owner: null
}, {
$$typeof: f,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
style: K.name,
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_BUY_NAME").replace("[[name]]", a + i),
size: "L",
type: "emphasis"
}),
_owner: null
}, u, l, p);
};
var n = t;
return t = s("_$BattlepackConfirmBuy")(t) || t, t = $["default"]({
balance: U["default"]
})(t) || t;
}(h["default"].Component);
t["default"] = X, X.propTypes = {
offer: h["default"].PropTypes.instanceOf(j["default"]),
pack: h["default"].PropTypes.instanceOf(F["default"]),
popupInfo: h["default"].PropTypes.object,
onBuy: h["default"].PropTypes.func,
realMoney: h["default"].PropTypes.bool
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return fe(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(4), h = r(d), y = n(1), g = r(y), m = n(2), b = r(m), v = n(8), _ = n(6), S = l(_), w = n(7), T = l(w), C = n(160), E = n(14), I = l(E), P = n(12), O = l(P), A = n(58), k = l(A), R = n(23), x = l(R), M = n(25), N = l(M), $ = n(47), D = l($), U = n(35), L = n(16), F = l(L), G = n(50), j = l(G), B = n(453), H = l(B), V = n(452), z = l(V), W = n(102), q = l(W), K = n(440), X = l(K), Y = n(746), J = l(Y), Q = n(141), Z = n(101), ee = n(434), te = l(ee), ne = n(54), re = n(11), oe = n(177), ae = l(oe), ie = n(217), se = l(ie), le = n(76), ue = l(le), pe = n(136), ce = {
_$BattlepackPurchaseCard: {
displayName: "BattlepackPurchaseCard"
},
_$TunguskaBattlepackGet: {
displayName: "TunguskaBattlepackGet"
}
}, fe = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackGet.jsx",
components: ce,
locals: [],
imports: []
}), de = b.createStyleSheet({
emptyContainer: {
zOffset: 10,
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
marginTop: S["default"].getHeight(24)
},
empty: {
alignSelf: "center",
marginBottom: S["default"].getWidth(1)
}
}), he = {
width: S["default"].getWidth(6),
height: S["default"].getHeight(21)
}, ye = b.createStyleSheet({
text: {
alignSelf: "center",
marginTop: S["default"].GUTTER
},
purchasePrice: {
flexDirection: "row",
alignSelf: "center"
},
listPrice: {
marginRight: S["default"].GUTTER,
opacity: .6
},
image: {
textureMode: "contain",
height: S["default"].getHeight(10)
}
}), ge = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = t.focusItem || b.focus.create(this, b.autoId("battlepackCard"));
}
i(t, e), t.prototype.render = function r() {
var e = this.focusItem.isFocused, t = this.props.pack, n = this.props.offer, r = t.getScrapPrice(), a = e ? "#000000" : "#ffffff", i = f({}, ye.image, {
texture: e ? t.images.front_white : t.images.front_normal,
marginTop: n && this.props.isPurchasable ? S["default"].getHeight(-2) : 0
}), s = void 0, l = void 0, u = void 0;
if (n && this.props.isPurchasable) {
l = 1;
var p = void 0;
n.listPrice && (p = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: C.Strikethrough,
key: null,
ref: null,
props: o(C.Strikethrough.defaultProps, {
size: "S",
value: n.listPrice,
color: a
}),
_owner: null
},
style: ye.listPrice
},
_owner: null
}), s = {
$$typeof: c,
type: pe.PS4StoreContent,
key: null,
ref: null,
props: o(pe.PS4StoreContent.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
size: "S",
style: {
marginRight: S["default"].GUTTER
},
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_OR")
}),
_owner: null
}, p, {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
size: "S",
value: n.price
}),
_owner: null
} ],
style: ye.purchasePrice
},
_owner: null
}
}),
_owner: null
};
} else this.props.scrapBalance < r && (l = .6, u = {
$$typeof: c,
type: ue["default"],
key: null,
ref: null,
props: o(ue["default"].defaultProps, {
completed: this.props.scrapBalance / r,
style: {
position: "absolute",
bottom: 0,
left: 0,
right: 0
}
}),
_owner: null
});
return {
$$typeof: c,
type: Q.Card,
key: null,
ref: null,
props: o(Q.Card.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
size: "S",
type: "emphasis",
style: ye.text,
value: t.visualName.toUpperCase()
}),
_owner: null
}, {
$$typeof: c,
type: Z.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(Z.TunguskaBattlepackScraps.defaultProps, {
size: "S",
style: {
alignSelf: "center"
},
dark: e,
value: r
}),
_owner: null
}, s, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: i
},
_owner: null
} ],
style: {
opacity: l
}
},
_owner: null
},
focusItem: this.focusItem,
style: f({}, he, this.props.style),
onFocus: this.props.onFocus,
onPress: this.props.onPress,
overlay: u
}),
_owner: null
};
};
var n = t;
return t = s("_$BattlepackPurchaseCard")(t) || t, t = v.observer(t) || t;
}(g.Component);
ge.propTypes = {
pack: g.PropTypes.instanceOf(ae["default"]).isRequired,
offer: g.PropTypes.instanceOf(se["default"]),
scrapBalance: g.PropTypes.number,
isPurchasable: g.PropTypes.bool,
style: g.PropTypes.object,
onFocus: g.PropTypes.func,
onPress: g.PropTypes.func
};
var me = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusAncestor = b.focus.createAncestor("TunguskaBattlepackGet");
}
i(t, e), t.prototype.getItems = function r(e) {
var t = e && e.items.sort(function(e, t) {
return t.rarenessLevel.value - e.rarenessLevel.value;
});
return t;
}, t.prototype.getOffer = function l(e) {
return this.state.offers ? h.chain(this.state.offers).values().find(function(t) {
return t.battlepack.packKey === e.packKey;
}).value() : null;
}, t.prototype.getPurchasesEnabled = function u() {
return "none" === j["default"].getState().route && re.settingsStore.isFeatureEnabled("purchaseBattlepacks");
}, t.prototype.onTryAgainClick = function p() {
ne.initialFetch.trigger();
}, t.prototype.selectPack = function f(e) {
this.setState({
selectedPack: e
});
}, t.prototype.buyPack = function d(e) {
if (this.getPurchasesEnabled() && this.getOffer(e)) return void N["default"].display(new D["default"]({
id: "buyPopup",
group: "battlepack",
content: {
$$typeof: c,
type: J["default"],
key: null,
ref: null,
props: o(J["default"].defaultProps, {
pack: e
}),
_owner: null
},
requireOnline: !0,
fullScreen: !0,
createButtons: !1,
backgroundColor: "#00000033",
inputs: [ new I["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: O["default"].Decline
}) ]
}));
var t = this.state.balance && this.state.balance.scraps || 0, n = h.findWhere(e.prices.map(function(e) {
return e[0];
}), {
name: "scraps"
}), r = n && n.quantity;
return r > t ? void U.alert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_NOT_ENOUGH_SCRAPS")) : void N["default"].display(new D["default"]({
id: "battlepackConfirmPopup",
group: "battlepack",
content: {
$$typeof: c,
type: te["default"],
key: null,
ref: null,
props: o(te["default"].defaultProps, {
popupId: "battlepackConfirmPopup",
currency: "scraps",
pack: e
}),
_owner: null
},
requireOnline: !0,
fullScreen: !0,
createButtons: !1
}));
}, t.prototype.renderLoading = function y() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: g.createElement(k["default"], {
ref: "spinner",
autoRun: !0
}),
style: de.emptyContainer
},
_owner: null
};
}, t.prototype.renderError = function m() {
var e = this;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
style: de.empty,
size: "M",
gameId: "tunguska",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_TEXT").toUpperCase()
}),
_owner: null
}, {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
textSize: "M",
text: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_SUBTEXT"),
style: {
width: S["default"].getWidth(9)
},
action: function() {
return e.onTryAgainClick();
}
}),
_owner: null
} ],
flex: "4",
style: {
width: S["default"].getWidth(16),
justifyContent: "center",
alignItems: "center"
}
},
_owner: null
},
style: de.emptyContainer
},
_owner: null
};
}, t.prototype.render = function v() {
var e = this;
if (!H["default"].hasLoadedOnce()) return this.renderLoading();
var t = h.values(this.state.purchasable).sort(function(e, t) {
return e.rarenessLevel.value - t.rarenessLevel.value;
});
if (!t.length) return this.renderError();
var n = this.state.balance && this.state.balance.scraps || 0, r = t.map(function(t) {
return {
$$typeof: c,
type: ge,
key: null,
ref: null,
props: o(ge.defaultProps, {
onFocus: e.selectPack.bind(e, t),
onPress: e.buyPack.bind(e, t),
pack: t,
offer: e.getOffer(t),
scrapBalance: n,
isPurchasable: e.getPurchasesEnabled()
}),
_owner: null
};
}), a = this.state.selectedPack || t[0];
return g.createElement("surface", this.focusAncestor.hooks, {
$$typeof: c,
type: S["default"].Row,
key: null,
ref: null,
props: o(S["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: o(S["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SELECT_TYPE").toUpperCase(),
size: "S",
style: {
textAlignForRTL: "left",
width: S["default"].getWidth(6)
}
}),
_owner: null
},
style: {
width: S["default"].getWidth(7)
}
}),
_owner: null
}, {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: o(S["default"].Col.defaultProps, {
style: {
width: S["default"].getWidth(9)
}
}),
_owner: null
}, {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: o(S["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
size: "S",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_REVISION_CONTAINS").replace("[[revision]]", a.revision).toUpperCase(),
style: {
textAlignForRTL: "left"
}
}),
_owner: null
},
style: {
width: S["default"].getWidth(8)
}
}),
_owner: null
} ]
}),
_owner: null
}, {
$$typeof: c,
type: S["default"].Row,
key: null,
ref: null,
props: o(S["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: o(S["default"].Col.defaultProps, {
children: r,
style: {
width: S["default"].getWidth(7)
}
}),
_owner: null
}, {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: o(S["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: a && a.descriptionText,
size: "S",
style: {
textAlignForRTL: "left"
}
}),
_owner: null
},
style: {
width: S["default"].getWidth(9)
}
}),
_owner: null
}, {
$$typeof: c,
type: S["default"].Col,
key: null,
ref: null,
props: o(S["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: X["default"],
key: null,
ref: null,
props: o(X["default"].defaultProps, {
items: this.getItems(a)
}),
_owner: null
},
style: {
width: S["default"].getWidth(8)
}
}),
_owner: null
} ]
}),
_owner: null
});
};
var n = t;
return t = s("_$TunguskaBattlepackGet")(t) || t, t = F["default"]({
purchasable: H["default"],
offers: z["default"],
balance: q["default"]
})(t) || t;
}(g.Component);
t["default"] = me, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return W(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(4), y = r(h), g = n(7), m = l(g), b = n(6), v = l(b), _ = n(31), S = n(18), w = l(S), T = n(62), C = l(T), E = n(16), I = l(E), P = n(54), O = n(2), A = r(O), k = n(8), R = n(216), x = l(R), M = n(750), N = l(M), $ = n(437), D = l($), U = n(214), L = l(U), F = n(751), G = l(F), j = n(14), B = l(j), H = n(12), V = l(H), z = {
_$TunguskaBattlepackInventoryFocusItem: {
displayName: "TunguskaBattlepackInventoryFocusItem"
},
_$TunguskaBattlepackInventoryItem: {
displayName: "TunguskaBattlepackInventoryItem"
},
_$TunguskaBattlepackInventory: {
displayName: "TunguskaBattlepackInventory"
}
}, W = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackInventory.jsx",
components: z,
locals: [],
imports: []
}), q = A.createStyleSheet({
box: {
position: "relative",
width: v["default"].getWidth(4),
height: v["default"].getHeight(14)
},
focusedCard: {
backgroundColor: "#ffffff"
},
focusedCardText: {
color: "#000000"
},
hoverCard: {
backgroundColor: "#00000088"
},
blurredCard: {
backgroundColor: "#00000055"
},
itemList: {
flex: 1,
flexDirection: "row",
flexWrap: "wrap"
},
actions: {
marginTop: v["default"].GUTTER,
marginLeft: v["default"].GUTTER,
marginRight: v["default"].GUTTER
},
btn: {
marginBottom: v["default"].GUTTER
}
}), K = [ 0, w["default"].fadeAreaTop.height, 0, SpartaGlobals.bundleIsPC ? w["default"].dangerZoneSize.height : w["default"].fadeAreaBottom.height ], X = [ "ID_P_CAT_SEMI", "ID_P_CAT_SMG", "ID_P_CAT_LMG", "ID_P_CAT_BOLT", "ID_P_CAT_SHOTGUN", "ID_P_CAT_SIDEARM", "ID_P_CAT_CLUB" ], Y = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = this.props.item;
if (!e) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var t = void 0;
return "VISUALS" === e.itemType && (t = {
$$typeof: c,
type: D["default"],
key: null,
ref: null,
props: o(D["default"].defaultProps, {
item: e,
style: q.btn,
useInputButton: !0
}),
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: G["default"],
key: null,
ref: null,
props: o(G["default"].defaultProps, {
item: e
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ t, {
$$typeof: c,
type: L["default"],
key: null,
ref: null,
props: o(L["default"].defaultProps, {
item: e,
style: q.btn,
useInputButton: !0
}),
_owner: null
} ],
style: q.actions
},
_owner: null
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackInventoryFocusItem")(t) || t, t = k.observer(t) || t;
}(d["default"].Component), J = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.focusItem = A.focus.create(this, t.item.key), 
A.focus.onComponentUpdate(this, function(e, t) {
e.onFocus ? SpartaGlobals.bundleIsPC && r.focusItem.setClickInput(new B["default"]({
action: e.onFocus,
label: __("ID_SPARTA_ACTION_SELECT"),
key: V["default"].Accept
})) : console.warn("No action for battlepack item ");
}), this.focusItem.onChange.listen(function(e) {
e && A.focus.system.controllerMode && r.props.onFocus();
});
}
i(t, e), t.prototype.componentWillUnmount = function r() {
this.focusItem.setActive("7fa395e8:123", !1);
}, t.prototype.render = function l() {
var e = this.props.item;
if (!e) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var t = q.blurredCard, n = void 0;
return this.props.isActive || this.focusItem.isFocused ? (t = q.focusedCard, n = q.focusedCardText) : this.focusItem.isHovered && (t = q.hoverCard), 
{
$$typeof: c,
type: N["default"],
key: null,
ref: null,
props: o(N["default"].defaultProps, {
focusItem: this.focusItem,
onFocus: this.props.onFocus,
item: e,
style: [ q.box, t, this.props.style ],
textStyle: n,
showRarity: !this.props.isActive && !this.focusItem.isFocused
}),
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackInventoryItem")(t) || t, t = k.observer(t) || t;
}(d["default"].Component), Q = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusAncestor = A.focus.createAncestor("tunguskabattlepackinventory");
}
i(t, e), t.prototype.componentDidMount = function r() {
P.inventory.trigger();
}, t.prototype.componentWillUpdate = function l(e, t) {
var n = this, r = this.state.inventory, o = t.inventory;
o && o.items && r && r.items && r.items.length !== o.items.length && t.focusedItem && !y.find(t.inventory.items, function(e) {
return e.key === t.focusedItem;
}) && !function() {
var e = n.focusAncestor.getChildren()[0];
e && setTimeout(function() {
e.setFocused(A.focus.FocusSource.Auto);
}, 1e3);
}();
}, t.prototype.componentWillUnmount = function u() {
this.focusAncestor.destroy();
}, t.prototype.getFocusedItem = function p() {
var e = this;
return this.state.inventory && this.state.inventory.items && this.state.focusedItem && y.find(this.state.inventory.items, function(t) {
return t.key === e.state.focusedItem;
});
}, t.prototype.onFocusedItem = function f(e) {
this.setState({
focusedItem: e.key
});
}, t.prototype.onCategoriesFocused = function d() {
this.state.focusedItem && SpartaGlobals.bundleIsConsole && this.setState({
focusedItem: null
});
}, t.prototype.setCategory = function h(e) {
this.setState({
focusedCategory: e,
focusedItem: null
});
}, t.prototype.renderCategories = function g(e, t) {
var n = this;
if (!e) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var r = this.state.inventory.items || [], a = {};
r.forEach(function(e) {
a[e.category] || (a[e.category] = 0), a[e.category]++;
});
var i = e.map(function(e) {
var r = a[e.key], o = e.name + (r ? " (" + r + ")" : "");
return {
label: o,
inputLabel: __("ID_SPARTA_ACTION_SELECT"),
isActive: t === e.key,
onTrigger: function i() {
return n.setCategory(e.key);
}
};
});
return {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
items: i,
onFocus: function() {
return n.onCategoriesFocused();
},
divider: "item",
showActiveIndicator: !0
}),
_owner: null
};
}, t.prototype.renderItems = function b(e) {
var t = this;
if (!e) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = this.state.inventory.items || [], r = n.filter(function(t) {
return t.category === e;
});
return r = r.sort(function(e, t) {
return t.rarenessLevel.value - e.rarenessLevel.value;
}), r.length ? r.map(function(e, n) {
var r = {
marginTop: n > 2 ? v["default"].GUTTER : 0,
marginLeft: n % 3 ? v["default"].GUTTER : 0
};
return {
$$typeof: c,
type: J,
key: e.key,
ref: null,
props: o(J.defaultProps, {
style: r,
isActive: t.state.focusedItem === e.key,
onFocus: t.onFocusedItem.bind(t, e),
item: e
}),
_owner: null
};
}) : [ {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_NO_ITEMS"),
size: "S",
style: {
textAlignForRTL: "left",
width: v["default"].getWidth(12)
}
}),
_owner: null
} ];
}, t.prototype.renderFocusPane = function S() {
return {
$$typeof: c,
type: Y,
key: null,
ref: null,
props: o(Y.defaultProps, {
item: this.getFocusedItem()
}),
_owner: null
};
}, t.prototype.render = function T() {
if (!this.state.inventory || !this.state.inventory.categories) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var e = this.state.inventory.categories.filter(function(e) {
return null != e.key;
}).sort(function(e, t) {
return -1 === X.indexOf(e.key) ? 1 : -1 === X.indexOf(t.key) ? -1 : X.indexOf(e.key) - X.indexOf(t.key);
}), t = this.state.focusedCategory || e[0].key, n = w["default"].content.height - v["default"].window.rowSpan(SpartaGlobals.bundleIsPC ? 20 : 7);
return {
$$typeof: c,
type: v["default"].Row,
key: null,
ref: null,
props: o(v["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: v["default"].Col,
key: null,
ref: null,
props: o(v["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: _.Scroller,
key: "scroller" + this.props.side,
ref: null,
props: o(_.Scroller.defaultProps, {
children: this.renderCategories(e, t),
style: {
height: n
},
softClip: K
}),
_owner: null
},
width: 6,
style: {
marginRight: 3 * v["default"].GUTTER
}
}),
_owner: null
}, {
$$typeof: c,
type: v["default"].Col,
key: null,
ref: null,
props: o(v["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: _.Scroller,
key: null,
ref: null,
props: o(_.Scroller.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderItems(t),
style: q.itemList
},
_owner: null
},
style: {
height: n
},
softClip: K
}),
_owner: null
},
width: 12
}),
_owner: null
}, {
$$typeof: c,
type: v["default"].Col,
key: null,
ref: null,
props: o(v["default"].Col.defaultProps, {
children: this.renderFocusPane(),
width: 6,
style: {
marginLeft: 3 * v["default"].GUTTER
}
}),
_owner: null
} ],
style: {
justifyContent: "space-between"
},
surfaceProps: this.focusAncestor.hooks
}),
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackInventory")(t) || t, t = I["default"]({
inventory: x["default"]
})(t) || t, t = k.observer(t) || t;
}(d["default"].Component);
t["default"] = Q, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return N(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(2), g = r(y), m = n(6), b = l(m), v = n(14), _ = l(v), S = n(12), w = l(S), T = n(23), C = l(T), E = n(91), I = l(E), P = n(25), O = l(P), A = n(47), k = l(A), R = n(438), x = l(R), M = {
_$BattlepackItemInspectButton: {
displayName: "BattlepackItemInspectButton"
}
}, N = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackItemInspectButton.jsx",
components: M,
locals: [],
imports: []
}), $ = g.createStyleSheet({
container: {
flexDirection: "row"
},
inputButton: {
marginRight: 2 * b["default"].GUTTER
}
}), D = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.onClick = function r() {
O["default"].display(new k["default"]({
id: "inspectPopup",
group: "battlepack",
content: {
$$typeof: f,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
item: this.props.item
}),
_owner: null
},
fullScreen: !0,
createButtons: !1,
inputs: [ new _["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: w["default"].Decline
}) ]
}));
}, t.prototype.render = function l() {
var e = this, t = this.props.item, n = this.props.label || __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_INSPECT");
return SpartaGlobals.bundleIsPC || !this.props.useInputButton ? h["default"].createElement(C["default"], c({
text: n,
value: t.scrapValue,
action: function() {
return e.onClick();
}
}, this.props)) : {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: I["default"],
key: null,
ref: null,
props: o(I["default"].defaultProps, {
inputKey: w["default"].Accept,
label: n,
style: $.inputButton,
action: function() {
return e.onClick();
}
}),
_owner: null
},
style: [ $.container, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = s("_$BattlepackItemInspectButton")(t) || t;
}(h["default"].Component);
t["default"] = D, D.propTypes = {
item: h["default"].PropTypes.object.isRequired,
useInputButton: h["default"].PropTypes.bool
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return E(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(2), y = r(h), g = n(23), m = l(g), b = n(6), v = l(b), _ = n(25), S = l(_), w = n(442), T = l(w), C = {
_$BattlepackItemInspectView: {
displayName: "BattlepackItemInspectView"
}
}, E = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackItemInspectView.jsx",
components: C,
locals: [],
imports: []
}), I = y.createStyleSheet({
btn: {
flex: 1,
marginTop: v["default"].GUTTER
},
dock: {
justifyContent: "center",
alignItems: "center",
position: "absolute",
top: 0,
right: 0,
left: 0,
bottom: 0
},
actions: {
width: v["default"].getWidth(6),
marginTop: 2 * v["default"].GUTTER
}
}), P = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.closePopup = function r() {
S["default"].close(this.props.popupInfo.id);
}, t.prototype.render = function l() {
var e = this, t = void 0;
return SpartaGlobals.bundleIsPC && (t = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_CLOSE"),
action: function() {
return e.closePopup();
},
style: I.btn
}),
_owner: null
},
style: I.actions
},
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
item: this.props.item
}),
_owner: null
}, t ],
style: I.dock
},
_owner: null
};
};
var n = t;
return t = s("_$BattlepackItemInspectView")(t) || t;
}(d["default"].Component);
t["default"] = P, P.propTypes = {
popupInfo: d["default"].PropTypes.object.isRequired,
item: d["default"].PropTypes.object.isRequired
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return G(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(4), g = r(y), m = n(2), b = n(18), v = l(b), _ = n(6), S = l(_), w = n(7), T = l(w), C = n(23), E = l(C), I = n(13), P = l(I), O = n(90), A = r(O), k = n(214), R = l(k), x = n(8), M = n(63), N = n(16), $ = l(N), D = n(172), U = n(216), L = l(U), F = {
_$TunguskaBattlepackOpenedItem: {
displayName: "TunguskaBattlepackOpenedItem"
}
}, G = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackOpenedItem.jsx",
components: F,
locals: [],
imports: []
}), j = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, B = 1024, H = 256, V = {
"default": {
duration: 500,
delay: 300
},
image: {
move: {
duration: 500,
delay: 500
},
moveUp: {
duration: 500
}
},
flare: {
opacity: {
duration: 300
},
scale: {
duration: 300,
delay: 300
}
},
parentName: {
opacity: {
duration: 700
}
}
}, z = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
isInputEnabled: !1,
hideScrapButton: !1
}, this.tweens = {
opacity: P["default"].tween("b19353cb:65", 0),
scale: P["default"].tween("b19353cb:66", 0),
translateX: P["default"].tween("b19353cb:67", 0),
translateY: P["default"].tween("b19353cb:68", 0),
flareWidth: P["default"].tween("b19353cb:71", A.flare.width),
flareHeight: P["default"].tween("b19353cb:72", A.flare.height),
flareRotate: P["default"].tween("b19353cb:73", 0),
flareScaleX: P["default"].tween("b19353cb:74", 1),
flareScaleY: P["default"].tween("b19353cb:75", 0),
flareOpacity: P["default"].tween("b19353cb:76", 0),
flareTranslateX: P["default"].tween("b19353cb:77", 0),
flareTranslateY: P["default"].tween("b19353cb:78", 0),
flash1TranslateX: P["default"].tween("b19353cb:81", 0),
flash1TranslateY: P["default"].tween("b19353cb:82", 0),
flash1Opacity: P["default"].tween("b19353cb:83", 0),
flash2TranslateX: P["default"].tween("b19353cb:84", 0),
flash2TranslateY: P["default"].tween("b19353cb:85", 0),
flash2Opacity: P["default"].tween("b19353cb:86", 0),
sideFlareOpacity: P["default"].tween("b19353cb:89", 0),
sideFlareTranslateY: P["default"].tween("b19353cb:90", 0),
circleScale: P["default"].tween("b19353cb:93", 0),
circleOpacity: P["default"].tween("b19353cb:94", 0),
glowOpacity: P["default"].tween("b19353cb:97", 0),
itemNameTranslateY: P["default"].tween("b19353cb:100", 0),
itemNameOpacity: P["default"].tween("b19353cb:101", 0),
rarityNameOpacity: P["default"].tween("b19353cb:102", 0),
rarityTranslateY: P["default"].tween("b19353cb:103", 0),
inventoryStatusOpacity: P["default"].tween("b19353cb:104", 0),
buttonScale: P["default"].tween("b19353cb:107", 0),
buttonOpacity: P["default"].tween("b19353cb:108", 0)
};
}
i(t, e), t.prototype.componentDidMount = function r() {
this.startAnimations();
}, t.prototype.componentWillUnmount = function l() {
g.each(this.tweens, function(e) {
return e.destroy();
});
}, t.prototype.getHighestResolutionImage = function u(e) {
return e.Png1024xANY ? e.Png1024xANY : e.Png300xANY ? e.Png300xANY : e.Png180xANY ? e.Png180xANY : void 0;
}, t.prototype.onDoneCallback = function p() {
"function" == typeof this.props.onDone && this.props.onDone();
}, t.prototype.startAnimations = function d() {
var e = this;
this.playSound().then(function() {
return e.step1();
}).then(function() {
return e.step2();
}).then(function() {
return e.step3();
}).then(function() {
return e.step4();
}).then(function() {
return e.onDoneCallback();
});
}, t.prototype.playSound = function h() {
var e = this, t = this.props.item && this.props.item.itemType, n = A.openingAudio[t] || A.openingAudio.DEFAULT;
return new Promise(function(t) {
e.sound = m.Sound.load(n), e.sound && e.sound.play(), setTimeout(function() {
return t();
}, 100);
});
}, t.prototype.stopSound = function y() {
this.sound && this.sound.stop();
}, t.prototype.step1 = function b() {
var e = this, t = v["default"].screen.height / 2 - H / 2, n = {
duration: 250,
easing: "Linear"
}, r = {
duration: n.duration,
delay: n.duration,
easing: "Linear"
}, o = {
duration: n.duration / 3,
delay: n.duration / 3,
easing: "Linear"
}, a = {
duration: o.duration,
delay: o.delay + o.duration,
easing: "Linear"
}, i = {
duration: n.duration + r.duration,
easing: "Linear"
}, s = {
duration: o.duration + a.duration,
delay: o.delay,
easing: "Linear"
}, l = {
duration: V["default"].duration,
delay: 200,
easing: "CubicOut"
};
return new Promise(function(u) {
var p = 4, c = A.flare.width * p, f = A.flare.height * p, d = -50, h = -350, y = c / f, g = (d - h) * y, m = 300, b = m - g, v = 600;
e.tweens.flash1Opacity.to(1, n), e.tweens.flash1Opacity.to(0, r), e.tweens.flash1TranslateX.set(b), 
e.tweens.flash1TranslateX.to(m, i), e.tweens.flash1TranslateY.set(h), e.tweens.flash1TranslateY.to(d, i), 
e.tweens.flash2Opacity.to(1, o), e.tweens.flash2Opacity.to(0, a), e.tweens.flash2TranslateX.set(b + v), 
e.tweens.flash2TranslateX.to(m + v, s), e.tweens.flash2TranslateY.set(h), e.tweens.flash2TranslateY.to(d, s, u), 
e.tweens.translateY.set(t), e.tweens.opacity.to(1, l), e.tweens.scale.to(.75, l);
});
}, t.prototype.step2 = function _() {
var e = this, t = v["default"].screen.height / 2 - A.flare.height / 2, n = {
duration: V.image.move.duration,
easing: "CubicInOut"
}, r = {
duration: V.flare.scale.duration,
easing: "QuadraticInOut"
}, o = {
duration: V.flare.opacity.duration,
delay: r.duration - 200,
easing: "CubicInOut"
};
return new Promise(function(a) {
e.tweens.flareRotate.set(160), e.tweens.flareOpacity.set(1), e.tweens.flareTranslateY.set(t), 
e.tweens.flareScaleX.set(1), e.tweens.flareScaleY.set(0), e.tweens.flareScaleX.to(2, r), 
e.tweens.flareScaleY.to(2, r), e.tweens.flareOpacity.to(0, o), e.tweens.sideFlareOpacity.to(1, r), 
e.tweens.glowOpacity.to(1, r), e.tweens.circleOpacity.set(1), e.tweens.circleOpacity.to(0, n), 
e.tweens.circleScale.to(2, n), e.tweens.scale.to(1, n, a);
});
}, t.prototype.step3 = function w() {
var e = this, t = {
duration: 800,
easing: "Linear"
};
return new Promise(function(n) {
e.tweens.sideFlareOpacity.to(0, t), e.tweens.scale.to(1.1, t, n);
});
}, t.prototype.step4 = function C() {
var e = this, t = {
duration: V.image.moveUp.duration
}, n = {
duration: V.parentName.opacity.duration
}, r = {
duration: V.image.move.duration,
delay: 200
}, o = {
duration: V.parentName.opacity.duration,
delay: r.delay + 200
}, a = {
duration: V.image.move.duration,
delay: r.delay + r.duration
}, i = {
duration: 700,
easing: "CubicOut",
delay: a.delay + 240
}, s = v["default"].screen.height / 2 - H / 2, l = 250;
return new Promise(function(u) {
var p = .75;
e.tweens.translateY.to(l, t), e.tweens.scale.to(p, t), e.tweens.itemNameTranslateY.set(s), 
e.tweens.buttonScale.to(1, r), e.tweens.buttonOpacity.to(1, r, function() {
return e.setState({
isInputEnabled: !0
});
}), e.tweens.itemNameOpacity.to(1, n), e.tweens.itemNameTranslateY.to(l, n), e.tweens.inventoryStatusOpacity.to(1, o), 
e.tweens.rarityTranslateY.set(S["default"].getHeight(3)), e.tweens.rarityTranslateY.to(S["default"].getHeight(2), a), 
e.tweens.rarityNameOpacity.to(1, a);
var c = A.flare.width, f = A.flare.height, d = -f / 2 + 120, h = -f + 120, y = c / f, g = (d - h) * y, m = 0, b = m - g;
e.tweens.flareRotate.set(-20), e.tweens.flareOpacity.set(0), e.tweens.flareScaleX.set(1), 
e.tweens.flareScaleY.set(1), e.tweens.flareTranslateY.set(h), e.tweens.flareTranslateX.set(b), 
e.tweens.flareTranslateX.to(m, i), e.tweens.flareTranslateY.to(d, i), e.tweens.flareOpacity.to(1, i, u);
});
}, t.prototype["continue"] = function I() {
this.setState({
hideScrapButton: !0
}), this.props.continueCallback && "function" == typeof this.props.continueCallback && this.props.continueCallback();
}, t.prototype.renderButtons = function O() {
var e = this, t = this.props.item, n = {
zOffset: 1e3,
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
scaleY: this.tweens.buttonScale.getStyle(),
scaleX: this.tweens.buttonScale.getStyle(),
opacity: this.tweens.buttonOpacity.getStyle()
}, r = {
marginTop: 2 * S["default"].GUTTER,
height: S["default"].getHeight(6),
width: S["default"].getWidth(8)
}, a = [];
return a.push({
$$typeof: f,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_BATTLEPACKS_ADD_TO_INVENTORY"),
stealFocus: !0,
style: r,
action: function() {
return e["continue"]();
},
disabled: !this.state.isInputEnabled
}),
_owner: null
}), t.scrapValue > 0 && !this.state.hideScrapButton && a.push({
$$typeof: f,
type: R["default"],
key: null,
ref: null,
props: o(R["default"].defaultProps, {
item: t,
style: r,
onSuccess: function() {
return e["continue"]();
},
disabled: !this.state.isInputEnabled
}),
_owner: null
}), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: a,
style: n
},
_owner: null
};
}, t.prototype.renderInventoryStatus = function k() {
var e = this, t = g.find(this.state.inventory.items, function(t) {
return t.key === e.props.item.key;
});
if (!t || 1 === t.quantity) return null;
var n = t.quantity - 1, r = {
width: S["default"].getWidth(8),
marginTop: 2 * S["default"].GUTTER,
flexDirection: "row",
justifyContent: n > 1 ? "space-between" : "center",
alignItems: "center",
opacity: this.tweens.inventoryStatusOpacity.getStyle()
}, a = {
marginLeft: 2 * S["default"].GUTTER,
backgroundColor: "#ffffffaa"
}, i = {
zOffset: 1,
margin: [ .5 * S["default"].GUTTER, 1.5 * S["default"].GUTTER, .5 * S["default"].GUTTER, 1.5 * S["default"].GUTTER ]
}, s = {
marginLeft: .5 * S["default"].GUTTER,
marginRight: .5 * S["default"].GUTTER,
width: n > 1 ? S["default"].getWidth(6.75) : null,
textAlignForRTL: n > 1 ? "left" : "center"
}, l = void 0;
return n > 1 && (l = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: "x" + n,
size: "S",
color: "#000000",
style: i
}),
_owner: null
},
style: a
},
_owner: null
}), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ITEM_ALREADY_OWNED"),
size: "S",
color: "#ffffffcc",
style: s
}),
_owner: null
}, l ],
style: r
},
_owner: null
};
}, t.prototype.render = function N() {
var e = this.props.item;
if (!e) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var t = e.rarenessLevel.value, n = A.getName(e.rarenessLevel.value).toUpperCase(), r = this.getHighestResolutionImage(e.images), a = "VISUALS" === e.itemType ? '"' + e.name + '"' : e.name, i = void 0;
e.parentName && e.parentName !== e.name && (i = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SKIN_FOR").replace("[[value]]", e.parentName).toUpperCase());
var s = {
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
zOffset: 1e3,
opacity: this.tweens.opacity.getStyle(),
translateX: this.tweens.translateX.getStyle(),
translateY: this.tweens.translateY.getStyle()
}, l = {
texture: r,
width: B,
height: H,
textureAtlas: "SINGLE_TEXTURE",
textureMode: "contain",
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle()
}, u = {
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
width: this.tweens.flareWidth.getStyle()
}, p = {
texture: A.flare[t],
textureAtlas: "SINGLE_TEXTURE",
zOffset: 1100,
enableMouseEvents: !1,
rotateZ: this.tweens.flareRotate.getStyle(),
blendMode: "screen",
width: this.tweens.flareWidth.getStyle(),
height: this.tweens.flareHeight.getStyle(),
position: "absolute",
top: 0,
left: 0,
translateX: this.tweens.flareTranslateX.getStyle(),
translateY: this.tweens.flareTranslateY.getStyle(),
scaleX: this.tweens.flareScaleX.getStyle(),
scaleY: this.tweens.flareScaleY.getStyle(),
opacity: this.tweens.flareOpacity.getStyle()
}, d = {
texture: A.sideFlare[t],
zOffset: 1050,
enableMouseEvents: !1,
width: A.sideFlare.width,
height: A.sideFlare.height,
position: "absolute",
blendMode: "screen",
top: 0,
left: 0,
translateY: M.uiState.window.height / 2 - A.sideFlare.height / 2,
opacity: this.tweens.sideFlareOpacity.getStyle()
}, h = {
texture: A.bottomGlow[t],
width: A.bottomGlow.width,
height: A.bottomGlow.height,
opacity: this.tweens.glowOpacity.getStyle(),
blendMode: "screen",
zOffset: 800,
enableMouseEvents: !1,
position: "absolute",
left: 0,
top: 0,
translateX: M.uiState.window.width / 2 - A.bottomGlow.width / 2,
translateY: M.uiState.window.height - A.bottomGlow.height
}, y = {
zOffset: 999,
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
translateY: this.tweens.itemNameTranslateY.getStyle(),
opacity: this.tweens.itemNameOpacity.getStyle()
}, g = {
zOffset: 999,
marginBottom: S["default"].getHeight(3),
translateY: this.tweens.rarityTranslateY.getStyle(),
opacity: this.tweens.rarityNameOpacity.getStyle(),
color: A.rgb[t]
}, m = c({
width: M.uiState.window.width,
height: M.uiState.window.height
}, j), b = c({
texture: A.flare[t],
width: A.flare.width,
height: A.flare.height,
rotateZ: -20,
blendMode: "screen",
enableMouseEvents: !1
}, j), v = c({}, b, {
zOffset: 1600,
scaleX: 4,
scaleY: 4,
translateX: this.tweens.flash1TranslateX.getStyle(),
translateY: this.tweens.flash1TranslateY.getStyle(),
opacity: this.tweens.flash1Opacity.getStyle()
}), _ = c({}, b, {
zOffset: 1601,
scaleX: 1.5,
scaleY: 4,
translateX: this.tweens.flash2TranslateX.getStyle(),
translateY: this.tweens.flash2TranslateY.getStyle(),
opacity: this.tweens.flash2Opacity.getStyle()
}), w = {
zOffset: 900,
alignItems: "center",
alignSelf: "center",
justifyContent: "center",
width: 1028
}, C = t > 1 ? c({
texture: A.circleTexture,
blendMode: "screen",
enableMouseEvents: !1,
width: 1028,
height: 996,
scaleX: this.tweens.circleScale.getStyle(),
scaleY: this.tweens.circleScale.getStyle(),
opacity: this.tweens.circleOpacity.getStyle()
}, j) : null, E = this.renderButtons(), I = this.renderInventoryStatus();
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: v
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: _
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: d
},
_owner: null
},
style: {
justifyContent: "center"
}
},
_owner: null
}, {
$$typeof: f,
type: D.PopupContainer,
key: null,
ref: null,
props: o(D.PopupContainer.defaultProps, {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: p
},
_owner: null
},
style: u
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: C
},
_owner: null
},
style: w
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: l
},
_owner: null
},
style: s
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: i,
size: "M",
color: "#ffffffdd"
}),
_owner: null
}, {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: a,
size: "L"
}),
_owner: null
}, {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: n,
style: g,
size: "M"
}),
_owner: null
}, E, I ],
style: y
},
_owner: null
} ],
style: {
justifyContent: "flex-start"
}
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: h
},
_owner: null
} ],
style: m
},
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackOpenedItem")(t) || t, t = $["default"]({
inventory: L["default"]
})(t) || t, t = x.observer(t) || t;
}(h.Component);
z.propTypes = {
item: h.PropTypes.object.isRequired,
continueCallback: h.PropTypes.func.isRequired
}, t["default"] = z, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function s(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function l(e) {
return function(t) {
return P(t, e);
};
}
function u(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var p = n(3), c = u(p);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = r(h), g = n(2), m = r(g), b = n(4), v = r(b), _ = n(31), S = n(7), w = u(S), T = n(6), C = u(T), E = n(90), I = {
_$PotentialItem: {
displayName: "PotentialItem"
},
_$PotentialItems: {
displayName: "PotentialItems"
}
}, P = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackPotentialItems.jsx",
components: I,
locals: [],
imports: []
}), O = m.createStyleSheet({
box: {
backgroundColor: "#00000055",
width: C["default"].getWidth(8),
height: C["default"].getHeight(7),
flexDirection: "row",
alignItems: "center"
},
image: {
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
zOffset: 2,
width: C["default"].getWidth(2),
height: C["default"].getHeight(6)
},
flareWrapper: {
width: C["default"].getWidth(8),
height: C["default"].getHeight(7),
position: "absolute",
top: 0,
left: -C["default"].getWidth(1) / 2,
zOffset: 1
},
info: {
marginLeft: C["default"].GUTTER,
marginRight: C["default"].GUTTER,
width: C["default"].getWidth(5.5)
},
name: {
textAlignForRTL: "left"
},
parentName: {
textAlignForRTL: "left",
color: "#ffffffdd"
}
}), A = function(e) {
function t() {
i(this, n), e.apply(this, arguments);
}
s(t, e), t.prototype.render = function r() {
var e = void 0, t = void 0, n = this.props, r = n.item, i = n.style, s = o(n, [ "item", "style" ]);
if (r.images) {
var l = r.images;
l.Png180xANY && (e = l.Png180xANY);
}
if (e) {
var u = {
texture: e,
marginLeft: 2 * C["default"].GUTTER,
marginRight: C["default"].GUTTER
};
t = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: [ O.image, u ]
},
_owner: null
};
}
var p = {
texture: E.fade[r.rarenessLevel.value],
width: E.fade.width,
height: C["default"].getHeight(7)
}, c = void 0;
return r.parentName && r.parentName !== r.name && (c = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SKIN_FOR").replace("[[value]]", r.parentName).toUpperCase()), 
y.createElement("surface", f({
style: [ O.box ].concat(i)
}, s), {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: p
},
_owner: null
},
style: O.flareWrapper
},
_owner: null
}, t, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: w["default"],
key: null,
ref: null,
props: a(w["default"].defaultProps, {
value: r.name,
style: [ O.name ],
size: "XS"
}),
_owner: null
}, {
$$typeof: d,
type: w["default"],
key: null,
ref: null,
props: a(w["default"].defaultProps, {
value: c,
style: O.parentName,
size: "XXS"
}),
_owner: null
} ],
style: O.info
},
_owner: null
});
};
var n = t;
return t = l("_$PotentialItem")(t) || t;
}(y.Component), k = function(e) {
function t() {
i(this, n), e.apply(this, arguments);
}
s(t, e), t.prototype.componentDidUpdate = function r(e, t) {
this.refs.scroller && e.items !== this.props.items && this.refs.scroller.scrollTo(0, 0, !0);
}, t.prototype.render = function o() {
if (!this.props.items) return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var e = v.where(this.props.items, {
nugget: !1
}).map(function(e, t) {
return {
$$typeof: d,
type: A,
key: null,
ref: null,
props: a(A.defaultProps, {
item: e,
style: {
marginTop: 0 === t ? 0 : 3
}
}),
_owner: null
};
}), t = v.where(this.props.items, {
nugget: !0
}).map(function(e) {
return {
$$typeof: d,
type: A,
key: null,
ref: null,
props: a(A.defaultProps, {
item: e,
style: {
marginTop: 3
}
}),
_owner: null
};
});
return y.createElement(_.Scroller, {
ref: "scroller",
style: {
width: C["default"].getWidth(8),
height: C["default"].getHeight(65)
},
controller: !this.props.hideScrollAction,
scrollbar: !0
}, e, {
$$typeof: d,
type: w["default"],
key: null,
ref: null,
props: a(w["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_POSSIBLE_NUGGET").toUpperCase(),
style: {
marginTop: 12,
textAlignForRTL: "left"
},
size: "S"
}),
_owner: null
}, t);
};
var n = t;
return t = l("_$PotentialItems")(t) || t;
}(y.Component);
t["default"] = k, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ae(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(2), g = r(y), m = n(4), b = r(m), v = n(8), _ = n(6), S = l(_), w = n(73), T = n(7), C = l(T), E = n(58), I = l(E), P = n(23), O = l(P), A = n(141), k = n(14), R = l(k), x = n(12), M = l(x), N = n(16), $ = l(N), D = n(454), U = l(D), L = n(76), F = l(L), G = n(214), j = l(G), B = n(437), H = l(B), V = n(25), z = l(V), W = n(47), q = l(W), K = n(36), X = l(K), Y = n(744), J = l(Y), Q = n(438), Z = l(Q), ee = n(90), te = r(ee), ne = n(9), re = n(40), oe = {
_$PuzzleAssembleButton: {
displayName: "PuzzleAssembleButton"
},
_$PuzzleCard: {
displayName: "PuzzleCard"
},
_$TunguskaBattlepackPuzzles: {
displayName: "TunguskaBattlepackPuzzles"
}
}, ae = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackPuzzles.jsx",
components: oe,
locals: [],
imports: []
}), ie = {
"true": ne.bbUrl("/sparta/jsclient/builds/assets/icon-puzzle-black-d4424f92.png"),
"false": ne.bbUrl("/sparta/jsclient/builds/assets/icon-puzzle-white-e253d349.png"),
width: re.LINE_HEIGHTS.M,
height: re.LINE_HEIGHTS.M
}, se = {
width: S["default"].getWidth(11),
height: S["default"].getHeight(44)
}, le = g.createStyleSheet({
moreRow: {
marginTop: S["default"].getHeight(1)
},
moreRowCentered: {
marginTop: S["default"].getHeight(16),
justifyContent: "center"
},
outsideCardContent: {
width: se.width,
marginTop: 3 * S["default"].GUTTER
},
cardText: {
flexDirection: "row",
justifyContent: "space-between",
alignItems: "flex-end"
},
cardNameAndRarity: {
flexDirection: "column"
},
cardBuildStatus: {
flexDirection: "column",
alignItems: "flex-end"
},
cardPieceCount: {
flexDirection: "row"
},
cardDescription: {
textAlignForRTL: "left"
},
btn: {
width: se.width,
marginTop: 2 * S["default"].GUTTER
}
}), ue = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
return SpartaGlobals.bundleIsConsole ? null : {
$$typeof: f,
type: O["default"],
key: null,
ref: null,
props: o(O["default"].defaultProps, {
text: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CLAIM_ITEM"),
style: le.btn,
action: this.props.onClick
}),
_owner: null
};
};
var n = t;
return t = s("_$PuzzleAssembleButton")(t) || t;
}(h.Component), pe = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = t.focusItem || g.focus.create(this, g.autoId("puzzleCard"));
}
i(t, e), t.prototype.viewBlueprint = function r() {
X["default"].viewBlueprint(this.props.pieceItem.key), z["default"].display(new q["default"]({
id: "blueprintPopup",
group: "battlepack",
content: {
$$typeof: f,
type: J["default"],
key: null,
ref: null,
props: o(J["default"].defaultProps, {}),
_owner: null
},
requireOnline: !0,
fullScreen: !0,
createButtons: !1,
containContent: !1,
centerContent: !1,
inputs: [ new R["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: M["default"].Decline
}) ]
}));
}, t.prototype.inspect = function l() {
X["default"].viewBlueprint(this.props.pieceItem.key), z["default"].display(new q["default"]({
id: "inspectPopup",
group: "battlepack",
content: {
$$typeof: f,
type: Z["default"],
key: null,
ref: null,
props: o(Z["default"].defaultProps, {
item: this.props.item
}),
_owner: null
},
fullScreen: !0,
createButtons: !1,
inputs: [ new R["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: M["default"].Decline
}) ]
}));
}, t.prototype.renderProgressBar = function u() {
var e = {
position: "absolute",
bottom: 0,
right: 0,
left: 0
};
return {
$$typeof: f,
type: F["default"],
key: null,
ref: null,
props: o(F["default"].defaultProps, {
style: e,
height: "M",
completed: this.props.pieceItem.quantity / this.props.price.quantity,
segmented: this.props.price.quantity,
backgroundColor: "#FFFFFF75"
}),
_owner: null
};
}, t.prototype.renderAssembleButton = function p() {
var e = this;
return {
$$typeof: f,
type: ue,
key: null,
ref: null,
props: o(ue.defaultProps, {
item: this.props.pieceItem,
onClick: function() {
return e.viewBlueprint();
}
}),
_owner: null
};
}, t.prototype.renderExtraInfo = function c() {
var e = SpartaGlobals.bundleIsPC && this.props.isUnlocked ? {
$$typeof: f,
type: H["default"],
key: null,
ref: null,
props: o(H["default"].defaultProps, {
item: this.props.item,
style: le.btn,
useInputButton: !0
}),
_owner: null
} : null, t = this.props.pieceItem.quantity > 0 ? {
$$typeof: f,
type: j["default"],
key: null,
ref: null,
props: o(j["default"].defaultProps, {
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_1_PIECE"),
item: this.props.pieceItem,
style: le.btn,
useInputButton: !0
}),
_owner: null
} : null;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: this.props.item.description,
size: "S",
style: le.cardDescription
}),
_owner: null
}, !this.props.isUnlocked && this.props.pieceItem.quantity >= this.props.price.quantity && this.renderAssembleButton(), e, t ],
style: le.outsideCardContent
},
_owner: null
};
}, t.prototype.renderContent = function d() {
var e = this.props.item, t = this.props.isUnlocked, n = this.props.price, r = this.props.pieceItem, a = {
texture: ie[!1],
width: ie.width,
height: ie.height,
marginRight: 8
}, i = void 0;
if (!t || r.quantity > 0) {
var s = void 0;
s = t ? r.quantity + " " + (1 === r.quantity ? __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_PUZZLE_PIECE").toUpperCase() : __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_PUZZLE_PIECES").toUpperCase()) : r.quantity + "/" + n.quantity + " " + __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_PUZZLE_PIECES").toUpperCase(), 
i = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: a
},
_owner: null
}, {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: s
}),
_owner: null
} ],
style: le.cardPieceCount
},
_owner: null
};
}
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: e.name
}),
_owner: null
}, {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: te.getName(e.rarenessLevel.value),
color: te.rgb[e.rarenessLevel.value]
}),
_owner: null
} ],
style: le.cardNameAndRarity
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ t && {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_PUZZLE_UNLOCKED").toUpperCase()
}),
_owner: null
}, i ],
style: le.cardBuildStatus
},
_owner: null
} ],
style: le.cardText
},
_owner: null
};
}, t.prototype.render = function h() {
var e = this, t = this.props.item.images.Png1024xANY, n = {
marginLeft: this.props.index > 0 ? S["default"].getWidth(1) : null
}, r = {
textureMode: "contain",
textureScale: .3,
opacity: this.props.isUnlocked ? 1 : .5
}, a = void 0;
return a = SpartaGlobals.bundleIsConsole && !this.props.isUnlocked && this.props.pieceItem.quantity >= this.props.price.quantity ? new R["default"]({
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CLAIM_ITEM"),
action: function i() {
return e.viewBlueprint();
},
blockInputFor: 500,
key: M["default"].Accept
}) : SpartaGlobals.bundleIsConsole && this.props.isUnlocked ? new R["default"]({
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_INSPECT"),
action: function s() {
return e.inspect();
},
blockInputFor: 500,
key: M["default"].Accept
}) : new R["default"]({
action: function l() {},
visible: !1
}), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: A.Card,
key: null,
ref: null,
props: o(A.Card.defaultProps, {
children: this.renderContent(),
focusItem: this.focusItem,
style: se,
background: t,
backgroundStyle: r,
input: a,
overlay: !this.props.isUnlocked && this.renderProgressBar(),
onFocus: this.props.onFocus,
onBlur: this.props.onBlur
}),
_owner: null
}, this.props.active && this.renderExtraInfo() ],
style: n
},
_owner: null
};
};
var n = t;
return t = s("_$PuzzleCard")(t) || t, t = v.observer(t) || t;
}(h.Component), ce = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
activePuzzle: null
};
}
i(t, e), t.prototype.renderCards = function r() {
var e = this, t = b.values(this.state.puzzles), n = t.map(function(t, n) {
return h.createElement(pe, c({
key: t.packKey,
index: n,
onFocus: function() {
return e.setState({
activePuzzle: t.packKey
});
},
active: e.state.activePuzzle === t.packKey
}, t));
});
return {
$$typeof: f,
type: w.CardCarousel,
key: null,
ref: null,
props: o(w.CardCarousel.defaultProps, {
children: n
}),
_owner: null
};
}, t.prototype.renderLoading = function l() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: h.createElement(I["default"], {
ref: "spinner",
autoRun: !0
}),
style: le.emptyContainer
},
_owner: null
};
}, t.prototype.renderEmpty = function u() {
return null;
}, t.prototype.render = function p() {
var e = void 0;
e = U["default"].hasLoadedOnce() ? this.state.puzzles < 1 ? this.renderEmpty() : this.renderCards() : this.renderLoading();
var t = this.props.centerCarousel ? le.moreRowCentered : le.moreRow;
return {
$$typeof: f,
type: S["default"].Row,
key: null,
ref: null,
props: o(S["default"].Row.defaultProps, {
children: e,
style: t
}),
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackPuzzles")(t) || t, t = $["default"]({
puzzles: U["default"]
})(t) || t;
}(h.Component);
t["default"] = ce, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function i(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
t.__esModule = !0;
var s = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, l = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, u = n(1), p = o(u), c = n(2), f = r(c), d = n(6), h = o(d), y = n(7), g = o(y), m = n(90), b = r(m), v = f.createStyleSheet({
box: {
flex: 0,
width: 1024,
height: h["default"].getHeight(48)
},
rarity: {
position: "absolute",
top: -b.flare.height + h["default"].getHeight(42),
left: 512 - h["default"].getWidth(4),
width: b.flare.width,
height: b.flare.height,
textureMode: "contain",
zOffset: 2,
rotateZ: -20,
blendMode: "screen"
},
image: {
textureAtlas: "SINGLE_TEXTURE",
textureMode: "contain",
position: "absolute",
top: h["default"].GUTTER,
left: 0,
width: 1024,
height: 256,
zOffset: 1
},
info: {
position: "absolute",
bottom: 4,
left: 8,
right: 8,
zOffset: 3,
alignItems: "center"
}
}), _ = function S(e) {
var t = void 0, n = void 0, r = e.item, o = e.style, u = a(e, [ "item", "style" ]);
if (!r) return {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
if (r.images) {
var c = r.images;
c.Png1024xANY ? t = c.Png1024xANY : c.Png300xANY ? t = c.Png300xANY : c.Png180xANY && (t = c.Png180xANY);
}
if (t) {
var f = {
texture: t
};
n = {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
style: [ v.image, f ]
},
_owner: null
};
}
var d = void 0;
r.parentName && r.parentName !== r.name && (d = r.parentName);
var h = void 0, y = void 0, m = void 0, _ = "VISUALS" === r.itemType ? '"' + r.name + '"' : r.name;
return r.rarenessLevel && (h = b.getName(r.rarenessLevel.value).toUpperCase(), y = {
color: b.rgb[r.rarenessLevel.value]
}, m = {
texture: b.flare[r.rarenessLevel.value]
}), p["default"].createElement("surface", s({
style: [ v.box ].concat(o)
}, u), n, {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
style: [ v.rarity, m ]
},
_owner: null
}, {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: l,
type: g["default"],
key: null,
ref: null,
props: i(g["default"].defaultProps, {
value: d,
size: "S"
}),
_owner: null
}, {
$$typeof: l,
type: g["default"],
key: null,
ref: null,
props: i(g["default"].defaultProps, {
value: _,
size: "M"
}),
_owner: null
}, {
$$typeof: l,
type: g["default"],
key: null,
ref: null,
props: i(g["default"].defaultProps, {
value: h,
size: "S",
type: "emphasis",
style: y
}),
_owner: null
} ],
style: v.info
},
_owner: null
});
};
t["default"] = _, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return B(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(4), g = r(y), m = n(2), b = r(m), v = n(6), _ = l(v), S = n(73), w = n(7), T = l(w), C = n(58), E = l(C), I = n(23), P = l(I), O = n(268), A = l(O), k = n(12), R = l(k), x = n(16), M = l(x), N = n(124), $ = l(N), D = n(147), U = l(D), L = n(748), F = l(L), G = n(54), j = {
_$TunguskaBattlepackUnopened: {
displayName: "TunguskaBattlepackUnopened"
}
}, B = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackUnopened.jsx",
components: j,
locals: [],
imports: []
}), H = b.createStyleSheet({
moreRow: {
marginTop: _["default"].getHeight(1)
},
moreRowCentered: {
marginTop: _["default"].getHeight(16),
justifyContent: "center"
},
card: {
marginRight: _["default"].GUTTER
},
icon: {
alignItems: "center"
},
iconTextureStyle: {
width: _["default"].getWidth(2),
height: _["default"].getWidth(2),
marginTop: _["default"].getWidth(2)
},
emptyContainer: {
width: _["default"].getWidth(24),
height: _["default"].getHeight(69),
zOffset: 10,
justifyContent: "center",
alignSelf: "center",
alignItems: "center"
},
empty: {
alignSelf: "center",
marginBottom: _["default"].getWidth(1)
}
}), V = function(e) {
function t(t) {
a(this, n), e.call(this, t);
}
i(t, e), t.prototype.componentWillMount = function r() {
G.unopened.trigger();
}, t.prototype.onGetBattlepacksClick = function l() {
this.hasNavigatedAway || ($["default"].trigger(new A["default"]({
key: R["default"].Next
})), this.hasNavigatedAway = !0);
}, t.prototype.onTryAgainClick = function u() {
this.setState({
unopened: {
error: null
}
}), G.initialFetch.trigger();
}, t.prototype.renderCards = function p(e) {
var t = this.props.centerCarousel ? H.moreRowCentered : H.moreRow, n = Math.min(e.length * (L.cardSize.width + _["default"].GUTTER), _["default"].getWidth(24));
return {
$$typeof: f,
type: _["default"].Row,
key: null,
ref: null,
props: o(_["default"].Row.defaultProps, {
children: {
$$typeof: f,
type: S.CardCarousel,
key: "carousel",
ref: null,
props: o(S.CardCarousel.defaultProps, {
children: e,
width: n
}),
_owner: null
},
style: t
}),
_owner: null
};
}, t.prototype.renderLoading = function d() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: h.createElement(E["default"], {
ref: "spinner",
autoRun: !0
}),
style: H.emptyContainer
},
_owner: null
};
}, t.prototype.renderError = function y() {
var e = this;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
style: H.empty,
size: "M",
gameId: "tunguska",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_TEXT").toUpperCase()
}),
_owner: null
}, {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
textSize: "M",
text: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_SUBTEXT"),
style: {
width: _["default"].getWidth(9)
},
action: function() {
return e.onTryAgainClick();
},
stealFocus: !0
}),
_owner: null
} ],
flex: "4",
style: {
width: _["default"].getWidth(16),
justifyContent: "center",
alignItems: "center"
}
},
_owner: null
},
style: H.emptyContainer
},
_owner: null
};
}, t.prototype.renderEmpty = function m() {
var e = this;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
style: H.empty,
size: "M",
gameId: "tunguska",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_NO_UNOPENED").toUpperCase()
}),
_owner: null
}, {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
textSize: "M",
text: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_GET"),
style: {
width: _["default"].getWidth(9)
},
action: function() {
return e.onGetBattlepacksClick();
},
stealFocus: !0,
blockInputFor: 0
}),
_owner: null
} ],
flex: "4",
style: {
width: _["default"].getWidth(16),
justifyContent: "center",
alignItems: "center"
}
},
_owner: null
},
style: H.emptyContainer
},
_owner: null
};
}, t.prototype.render = function b() {
var e = g.values(this.state.unopened.packs).filter(function(e) {
return e.quantity > 0;
}).map(function(e, t) {
return h.createElement(F["default"], c({
style: H.card
}, e, {
key: e.packKey
}));
}), t = void 0;
return t = !U["default"].hasLoadedOnce() && this.state.unopened.error ? this.renderError() : U["default"].hasLoadedOnce() ? e.length < 1 ? this.renderEmpty() : this.renderCards(e) : this.renderLoading();
};
var n = t;
return t = s("_$TunguskaBattlepackUnopened")(t) || t, t = M["default"]({
unopened: U["default"]
})(t) || t;
}(h.Component);
t["default"] = V, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(4), a = r(o), i = n(41), s = n(245), l = n(158), u = n(21), p = n(52).gatewayClient, c = u.createClient({
throttle: 3e4,
request: function f(e) {
return p.request("Progression.getCodex", {
game: e
});
},
shouldPerformRequest: function d(e) {
return i.onlineState.isPresenceReady;
},
parse: function h(e) {
var t = [];
return e.forEach(function(e) {
var n = e.awards, r = n.map(function(e) {
var t = e.codexEntry, n = t.imageUrl || t && t.images.Png640xANY, r = e.progression && e.progression.unlocked, o = !0, i = new l.CodexEntryProgression(e.description, r, e.progression ? e.progression.valueAcquired : 0, e.progression ? e.progression.valueNeeded : 1), s = e.criterias || [], u = s.map(function(e) {
var t = new l.CodexEntryCriteriaProgression(e.progression ? e.progression.unlocked : !1, e.progression ? e.progression.valueAcquired : 0, e.progression ? e.progression.valueNeeded : 1);
return new l.CodexEntryCriteria(e.code, e.name, t);
}), p = new l.CodexEntryDetails(t.description, t.header, a["default"].map(t.images, function(e) {
return e;
}), t.subHeader, t.text2);
return new l.CodexEntry(t.category, e.code, u, p, e.name, t.id, n, r, o, i, t.voId);
});
t = t.concat(r);
}), t;
},
update: function y(e) {
s.tunguskaCodexStore.setCodexEntries(e);
}
});
e.exports = c;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return R(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), c = i(p), f = n(20), d = i(f), h = n(2), y = n(14), g = i(y), m = n(12), b = i(m), v = n(174), _ = i(v), S = n(173), w = n(139), T = n(200), C = n(246), E = n(140), I = n(46), P = i(I), O = n(57), A = i(O), k = {
_$TunguskaGameViewSubRoute: {
displayName: "TunguskaGameViewSubRoute"
}
}, R = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/TunguskaGameViewSubRoute.jsx",
components: k,
locals: [],
imports: []
}), x = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.isReadyToPlay = !1;
}
o(t, e), t.prototype.componentWillReceiveProps = function i(e) {
this.props.gameState.navigationState !== A["default"].LoadingScreen || !e.gameState.isReady || e.gameState.isChangingServer || w.nextRoundCountDown.active || (this.isReadyToPlay = !0, 
S.goToGame({
withBlackFade: !0,
showGameReadyPopup: !0,
changeRoute: "playing"
}));
}, t.prototype.getInput = function s() {
var e = this;
return [ new g["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_BACK"),
key: b["default"].Decline,
action: function t() {
return e.gotoLoadingOrPlaying();
}
}) ];
}, t.prototype.gotoLoadingOrPlaying = function l() {
this.isReadyToPlay ? (T.tunguskaLevelStore.clearMpLevel(), S.goToGame({
changeRoute: "playing"
})) : this.props.gameState.isReady && !w.nextRoundCountDown.active ? (T.tunguskaLevelStore.clearMpLevel(), 
h.frostbite.sendMessage("tunguska.levelDescriptionRequest"), P["default"].route("playing")) : E.operationFlow.state === E.OperationState.serverFound ? C.matchmakingCheckList.setCanJoinSession() : P["default"].route("loading");
}, t.prototype.render = function p() {
var e = this, t = E.operationFlow.state !== E.OperationState.none, n = t ? {
isVisible: !0,
isBlurred: !0,
hideOverlay: !0
} : {
hideOverlay: !0
}, r = u({}, this.props, {
backgroundState: n,
nextRoundCountDown: {
autoDismiss: !1,
callback: function o() {
e.isReadyToPlay = !0;
}
}
});
return c["default"].createElement(_["default"], r, this.props.children);
};
var n = t;
return t = a("_$TunguskaGameViewSubRoute")(t) || t, t = d["default"]()(t) || t;
}(c["default"].Component);
t["default"] = x, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return K(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e, t) {
var n = e.rarenessLevel.value, r = t.rarenessLevel.value;
return n === r ? 0 : n > r ? -1 : 1;
}
function p(e) {
var t = e.color, n = e.trackedMedal;
return n ? {
$$typeof: h,
type: "surface",
key: "medalCallout",
ref: null,
props: {
children: [ {
$$typeof: h,
type: W["default"],
key: null,
ref: null,
props: o(W["default"].defaultProps, {
timeDelta: function() {
return 1e3 * D["default"].getTimeToNextReset();
},
color: t,
size: "XS"
}),
_owner: null
}, {
$$typeof: h,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_TIME_LEFT"),
color: t,
size: "XS",
style: {
marginLeft: w["default"].GUTTER
}
}),
_owner: null
} ],
style: {
flexDirection: "row",
marginBottom: w["default"].GUTTER
}
},
_owner: null
} : {
$$typeof: h,
type: "surface",
key: "medalCallout",
ref: null,
props: {
children: {
$$typeof: h,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_NONE"),
color: t,
size: "XS",
style: {
opacity: .66
}
}),
_owner: null
},
style: {
flexDirection: "row",
marginBottom: w["default"].GUTTER
}
},
_owner: null
};
}
var c = n(3), f = l(c);
t.__esModule = !0;
var d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, y = n(1), g = r(y), m = n(2), b = r(m), v = n(7), _ = l(v), S = n(6), w = l(S), T = n(76), C = l(T), E = n(28), I = l(E), P = n(11), O = n(9), A = n(8), k = n(12), R = l(k), x = n(759), M = l(x), N = n(54), $ = n(291), D = l($), U = n(147), L = l(U), F = n(46), G = l(F), j = n(16), B = l(j), H = n(14), V = l(H), z = n(295), W = l(z), q = {
_$BattlepackBox: {
displayName: "BattlepackBox"
},
_$GameViewBoxes: {
displayName: "GameViewBoxes"
}
}, K = f["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/GameViewBoxes.jsx",
components: q,
locals: [],
imports: []
}), X = {
front_normal: O.bbUrl("/sparta/assets/tunguska/battlepacks/default-battlepack-9531d9fe.png"),
front_white: O.bbUrl("/sparta/assets/tunguska/battlepacks/default-battlepack-w-8886d79f.png")
}, Y = {
medal_black: O.bbUrl("/sparta/assets/tunguska/icons/icon-medal-black-86eb22e9.png"),
medal_white: O.bbUrl("/sparta/assets/tunguska/icons/icon-medal-white-f8267284.png")
}, J = {
position: "absolute",
left: 0,
bottom: 0,
right: 0
}, Q = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, Z = {
width: w["default"].content.colSpan(5),
height: w["default"].content.rowSpan(18)
}, ee = {
boxContainer: {
flexDirection: "row",
width: 2 * Z.width + 2 * w["default"].GUTTER,
height: Z.height,
justifyContent: "space-between"
},
battlepack: {
textureMode: "contain",
textureAtlas: "SpartaCommonAtlas",
width: Z.width - 10 * w["default"].GUTTER,
height: Z.height - 4 * w["default"].GUTTER,
marginTop: 3 * -w["default"].GUTTER
},
bpCounter: {
zOffset: 10,
position: "absolute",
flexDirection: "row",
bottom: 2 * -w["default"].GUTTER,
left: 3 * w["default"].GUTTER,
padding: [ .75 * w["default"].GUTTER, 1.5 * w["default"].GUTTER, .75 * w["default"].GUTTER, 1.5 * w["default"].GUTTER ],
backgroundColor: "#d4d4d4",
alignItems: "center",
justifyContent: "center"
}
}, te = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = b.focus.create(this, "battlepack_box"), 
this.preloader = b.texture.createPreloader(this), this.focusItem.autoFocusCandidate = !0;
}
i(t, e), t.prototype.componentWillMount = function r() {
N.unopened.trigger(), this.props.pack && this.props.pack.images && (this.preloader.preload(this.props.pack.images.front_white), 
this.preloader.preload(this.props.pack.images.front_normal)), this.preloader.preload(X.front_normal), 
this.preloader.preload(X.front_white);
}, t.prototype.componentWillReceiveProps = function l(e) {
var t = this.props.pack && this.props.pack.images, n = e.pack && e.pack.images;
n && t && n.front_normal !== t.front_normal && (this.preloader.preload(n.front_white), 
this.preloader.preload(n.front_normal));
}, t.prototype.render = function p() {
var e = this, t = this.state.packs.values().reduce(function(e, t) {
return e + t.quantity;
}, 0), n = this.state.packs.values().sort(u)[0], r = new V["default"]({
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_VIEW"),
action: function f() {
return G["default"].route(e.props.route, "battlepacks");
},
key: R["default"].Accept
}), a = this.focusItem.isFocused ? "front_white" : "front_normal", i = .8, s = X[a], l = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_GET"), p = void 0, c = void 0;
return t > 0 && (i = 1, s = n.images[a], l = __("ID_SPARTA_TAB_BATTLEPACKS"), c = {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: h,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: "x" + t,
size: "XS",
style: {
zOffset: 1
},
color: "#000000"
}),
_owner: null
},
style: ee.bpCounter
},
_owner: null
}), L["default"].hasLoadedOnce() && (p = {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
style: d({}, ee.battlepack, {
texture: s,
opacity: i
})
},
_owner: null
}), g.createElement(M["default"], d({}, Z, {
input: r,
title: l,
focusItem: this.focusItem
}), p, c);
};
var n = t;
return t = s("_$BattlepackBox")(t) || t, t = B["default"]({
packs: I["default"](L["default"], "packs")
})(t) || t, t = A.observer(t) || t;
}(g.Component), ne = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = b.focus.create(this, "medalbox"), 
this.focusItem.autoFocusCandidate = !0;
}
i(t, e), t.prototype.componentWillMount = function r() {
this.state.trackedMedal && (this.preloader = b.texture.createPreloader(this), this.preloader.preload(this.state.trackedMedal.imageUrl, void 0));
}, t.prototype.render = function l() {
var e, t = this;
e = {
$$typeof: h,
type: p,
key: null,
ref: null,
props: o(p.defaultProps, {
trackedMedal: !!this.state.trackedMedal
}),
_owner: null
};
var n = this.state.trackedMedal && [ e, {
$$typeof: h,
type: C["default"],
key: "progress",
ref: null,
props: o(C["default"].defaultProps, {
width: Z.width,
height: "S",
completed: this.state.trackedMedal.completion.percentage,
segmented: this.state.trackedMedal.stages.length,
style: d({}, J, {
bottom: -1
})
}),
_owner: null
} ];
n = [ e ];
var r, a = this.state.trackedMedal ? {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
style: d({}, Q, {
texture: this.state.trackedMedal.imageUrl,
textureMode: "contain"
})
},
_owner: null
} : {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
style: d({}, Q, {
texture: this.focusItem.isFocused ? Y.medal_black : Y.medal_white,
opacity: .66,
textureMode: "contain"
})
},
_owner: null
}, i = new V["default"]({
label: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_CHANGE"),
action: function l() {
return G["default"].route(t.props.route, "medals");
},
key: R["default"].Accept
}), s = g.createElement(M["default"], d({}, Z, {
focusItem: this.focusItem,
shimmer: !this.state.trackedMedal,
input: i,
bottom: n,
title: __(this.state.trackedMedal ? "ID_SPARTA_TUNGUSKA_TRACKEDMEDAL" : "ID_SPARTA_TUNGUSKA_SELECTMEDAL")
}), a);
return P.settingsStore.isFeatureEnabled("ingameBattlepacks") && "playing" !== this.props.route && (r = {
$$typeof: h,
type: te,
key: null,
ref: null,
props: o(te.defaultProps, {
route: this.props.route
}),
_owner: null
}), {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ r, s ],
style: d({}, ee.boxContainer, this.props.style)
},
_owner: null
};
};
var n = t;
return t = s("_$GameViewBoxes")(t) || t, t = B["default"]({
trackedMedal: D["default"]
})(t) || t, t = A.observer(t) || t;
}(g.Component);
t["default"] = ne, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return I(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(12), h = s(d), y = n(2), g = n(91), m = s(g), b = n(6), v = s(b), _ = n(18), S = s(_), w = n(761), T = s(w), C = n(8), E = {
_$GameViewTabs: {
displayName: "GameViewTabs"
}
}, I = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/GameViewTabs.jsx",
components: E,
locals: [],
imports: []
}), P = n(20), O = v["default"].window.rowSpan(4), A = 2, k = y.createStyleSheet({
container: {
flexDirection: "column",
alignItems: "center",
justifyContent: "center"
},
tabContainer: {
flexDirection: "row",
alignItems: "center",
width: S["default"].screen.width,
marginBottom: v["default"].window.rowSpan(3),
marginLeft: -S["default"].dangerZoneSize.width,
marginRight: -S["default"].dangerZoneSize.width
},
lineContainerLeft: {
flex: 1,
alignItems: "flex-end",
height: O + A,
marginRight: v["default"].GUTTER / 2
},
lineContainerRight: {
flex: 1,
alignItems: "flex-start",
height: O + A,
marginLeft: v["default"].GUTTER / 2
},
lineBorderLeft: {
backgroundColor: "#e6e6e680",
position: "absolute",
bottom: 0,
height: A,
left: 0,
right: 0
},
lineBorderRight: {
backgroundColor: "#e6e6e680",
position: "absolute",
bottom: 0,
height: A,
left: 0,
right: 0
},
button: {
margin: [ v["default"].GUTTER / 2, 0, 0, 0 ]
},
buttonContainerLeft: {
marginRight: 2 * v["default"].GUTTER,
height: O,
width: 4 * v["default"].GUTTER,
marginTop: -2
},
buttonContainerRight: {
marginLeft: 2 * v["default"].GUTTER,
height: O,
width: 4 * v["default"].GUTTER,
marginTop: -2
}
}), R = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.prevTab = function s() {
this.props.prevTab();
}, t.prototype.nextTab = function l() {
this.props.nextTab();
}, t.prototype.goToTab = function u(e) {
this.props.goToTab(e);
}, t.prototype.render = function c() {
var e = this.props.active, t = e.id, n = y.focus.system.controllerMode ? null : {
opacity: 0
}, o = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: f["default"].createElement(m["default"], {
ref: "button1",
align: "right",
label: "",
inputKey: h["default"].Previous,
style: k.button,
action: this.prevTab.bind(this),
useConsoleStyle: !0
}),
style: [ k.buttonContainerLeft, n ]
},
_owner: null
}, a = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: f["default"].createElement(m["default"], {
ref: "button2",
align: "left",
label: "",
inputKey: h["default"].Next,
style: k.button,
action: this.nextTab.bind(this),
useConsoleStyle: !0
}),
style: [ k.buttonContainerRight, n ]
},
_owner: null
}, i = this.props.tabs.map(function(e, n) {
var o = e.id === t;
return {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
bordered: !0,
text: e.title(),
active: o,
index: n,
onClick: this.props.goToTab.bind(this, n, e)
}),
_owner: null
};
}.bind(this)), s = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ o, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: k.lineBorderLeft
},
_owner: null
} ],
style: k.lineContainerLeft
},
_owner: null
}, l = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: k.lineBorderRight
},
_owner: null
} ],
style: k.lineContainerRight
},
_owner: null
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ s, i, l ],
style: k.tabContainer
},
_owner: null
},
style: k.container
},
_owner: null
};
};
var n = t;
return t = i("_$GameViewTabs")(t) || t, t = P()(t) || t, t = C.observer(t) || t;
}(f["default"].Component);
t["default"] = R, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return w(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(4), y = s(h), g = n(7), m = s(g), b = n(6), v = s(b), _ = n(32), S = {
_$TwinColumns: {
displayName: "TwinColumns"
}
}, w = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/TwinColumns.jsx",
components: S,
locals: [],
imports: []
}), T = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this, t = {
marginLeft: 1.5 * v["default"].GUTTER,
marginRight: 1.5 * v["default"].GUTTER
}, n = y["default"].map(_.localeRearrange(y["default"].filter(this.props.elements), function(e) {
return !!e.text;
}), function(n, o) {
var a = o === e.props.elements.length - 1 ? null : {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
color: "#ffffff",
size: "S",
value: "|",
style: t
}),
_owner: null
};
return [ {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
color: n.color || "#ffffff",
size: "S",
value: n.text
}),
_owner: null
}, a ];
});
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: p({}, this.props.style, {
flexDirection: "row"
})
},
_owner: null
};
};
var n = t;
return t = i("_$TwinColumns")(t) || t;
}(d["default"].Component);
t["default"] = T, T.defaultProps = {
elements: []
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function r(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
return function(t) {
return C(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), c = i(p), f = n(2), d = n(13), h = i(d), y = n(4), g = i(y), m = n(6), b = i(m), v = n(7), _ = i(v), S = n(32), w = n(86), T = {
_$AnimatedStatRow: {
displayName: "AnimatedStatRow"
},
_$AnimatedStatBlock: {
displayName: "AnimatedStatBlock"
}
}, C = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/eor/StatsComponents.jsx",
components: T,
locals: [],
imports: []
}), E = {
statBlockStyle: {
alignItems: "center",
margin: [ b["default"].GUTTER, b["default"].GUTTER, 3 * b["default"].GUTTER, b["default"].GUTTER ]
},
statBlockValue: {
margin: [ 2, 0, 2, 0 ],
fontSize: 52
},
statRowStyle: {
justifyContent: "space-between",
margin: [ b["default"].GUTTER, 0, b["default"].GUTTER, 0 ]
},
smallStatBlockStyle: {
alignItems: "center",
margin: b["default"].GUTTER
},
placing: {
position: "absolute",
alignItems: "center",
justifyContent: "center",
width: 80,
left: -100,
top: 0,
height: 28,
bottom: 0
},
placingText: {
marginTop: SpartaGlobals.bundleIsPC ? 1 : 2
},
borderTop: {
position: "absolute",
top: 0,
height: 1,
left: 0,
right: 0
},
borderRight: {
position: "absolute",
top: 0,
width: 1,
bottom: 0,
right: 0
},
borderBottom: {
position: "absolute",
bottom: 0,
height: 1,
left: 0,
right: 0
},
borderLeft: {
position: "absolute",
top: 0,
bottom: 1,
left: 0,
width: 1
},
gold: {
backgroundColor: "#FF9900"
},
goldText: {
color: "#FF9900"
}
}, I = function M(e) {
var t = e.place, n = {
backgroundColor: "#ffffff"
}, r = {
color: "#ffffff"
}, a = "";
switch (t) {
case 1:
n = E.gold, r = E.goldText, a = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_BEST");
break;

case 2:
a = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SECOND");
break;

case 3:
a = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_THIRD");
break;

case 4:
a = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_FOURTH");
break;

case 5:
a = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_FIFTH");
}
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ n, E.borderTop ]
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ n, E.borderRight ]
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ n, E.borderBottom ]
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ n, E.borderLeft ]
},
_owner: null
}, {
$$typeof: u,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: a,
style: [ r, E.placingText ],
size: "S"
}),
_owner: null
} ],
style: E.placing
},
_owner: null
};
}, P = function N(e) {
var t = e.name, n = e.value, r = e.width, a = e.note, i = a ? {
color: "#FF9900"
} : null, s = SpartaGlobals.bundleIsPC ? "M" : "S", l = n ? n.toString() : "0";
return {
$$typeof: u,
type: b["default"].Col,
key: null,
ref: null,
props: o(b["default"].Col.defaultProps, {
children: [ {
$$typeof: u,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: t,
size: s
}),
_owner: null
}, {
$$typeof: u,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: l,
type: "emphasis",
style: [ i, E.statBlockValue ],
size: "XXL"
}),
_owner: null
}, {
$$typeof: u,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: a,
type: "emphasis",
style: i,
size: s
}),
_owner: null
} ],
style: [ E.statBlockStyle, {
width: r
} ]
}),
_owner: null
};
};
t.StatBlock = P;
var O = function $(e) {
var t = e.name, n = e.value, r = e.place, a = e.decimals, i = r && 1 === r && n > 0 ? E.goldText : null, s = parseInt(a, 10) || 0, l = r && r > 0 && 6 > r && n > 0 ? {
$$typeof: u,
type: I,
key: null,
ref: null,
props: o(I.defaultProps, {
place: r
}),
_owner: null
} : null, p = SpartaGlobals.bundleIsPC ? "M" : "S";
return {
$$typeof: u,
type: b["default"].Row,
key: null,
ref: null,
props: o(b["default"].Row.defaultProps, {
children: [ S.localeRearrange([ {
$$typeof: u,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
type: "normal",
value: t.toUpperCase(),
size: p,
style: i
}),
_owner: null
}, {
$$typeof: u,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
type: "emphasis",
value: w.formatDecimals(n, s),
size: p,
style: i
}),
_owner: null
} ]), l ],
style: E.statRowStyle
}),
_owner: null
};
};
t.StatRow = O;
var A = function D(e) {
var t = e.name, n = e.value, r = (e.place, SpartaGlobals.bundleIsPC ? "M" : "S"), a = SpartaGlobals.bundleIsPC ? "XL" : "L", i = n ? n.toString() : "0";
return {
$$typeof: u,
type: b["default"].Col,
key: null,
ref: null,
props: o(b["default"].Col.defaultProps, {
children: [ {
$$typeof: u,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: t,
style: {
marginBottom: 8
},
size: r
}),
_owner: null
}, {
$$typeof: u,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: i,
type: "emphasis",
style: {
textLetterSpacing: 2
},
size: a
}),
_owner: null
} ],
style: E.smallStatBlockStyle
}),
_owner: null
};
};
t.SmallStatBlock = A;
var k = function U() {
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: {
backgroundColor: "#ffffff11",
height: 1
}
},
_owner: null
};
};
t.Divider = k;
var R = function(t) {
function n(n) {
e(this, o), t.call(this, n), this.statRowAnimation = {
initialState: n.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: g["default"].extend({}, h["default"].defaultTweenOptions, {
easing: "CubicOut",
duration: 500
})
};
}
r(n, t), n.prototype.componentDidMount = function i() {
this.props.skipAnimation || this.play(100 * this.props.delay);
}, n.prototype.play = function s(e) {
this.refs.animation.play(e);
}, n.prototype.render = function l() {
return c["default"].createElement(f.AnimatedSurface, {
ref: "animation",
animation: this.statRowAnimation
}, this.props.children);
};
var o = n;
return n = a("_$AnimatedStatRow")(n) || n;
}(c["default"].Component);
t.AnimatedStatRow = R;
var x = function(t) {
function n(n) {
e(this, o), t.call(this, n), this.statBlockAnimation = {
initialState: n.skipAnimation ? "to" : "from",
values: {
scaleY: {
from: 1.3,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: g["default"].extend({}, h["default"].defaultTweenOptions, {
easing: "CubicOut",
duration: 500
})
};
}
r(n, t), n.prototype.componentDidMount = function i() {
this.props.skipAnimation || this.play(100 * this.props.delay);
}, n.prototype.play = function s(e) {
this.refs.animation.play(e);
}, n.prototype.render = function l() {
return c["default"].createElement(f.AnimatedSurface, {
ref: "animation",
animation: this.statBlockAnimation
}, this.props.children);
};
var o = n;
return n = a("_$AnimatedStatBlock")(n) || n;
}(c["default"].Component);
t.AnimatedStatBlock = x;
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(24), s = r(i), l = n(36), u = r(l), p = n(54), c = n(147), f = r(c), d = new s["default"]("TunguskaBattlepackActiveStore"), h = {
UNOPENED: "UNOPENED",
OPENING: "OPENING",
OPEN: "OPEN"
}, y = a["default"].createStore({
init: function g() {
u["default"].viewBattlepack.listen(function(e) {
var t = {};
t.name = e, t.state = h.UNOPENED, t.data = f["default"].getPackByName(e), d.setState(t), 
y.trigger(d.getState());
}), u["default"].openBattlepack.listen(function(e) {
d.set("state", h.OPENING), y.trigger(d.getState());
}), p.open.listen(function(e, t) {
e ? d.set("state", h.UNOPENED) : (d.set("open", t), d.set("state", h.OPEN)), y.trigger(d.getState());
});
},
getState: function m() {
return d.getState();
},
getInitialState: function b() {
return this.getState();
}
});
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(24), s = r(i), l = n(36), u = r(l), p = n(54), c = n(216), f = r(c), d = n(454), h = r(d), y = new s["default"]("TunguskaBattlepackActiveStore"), g = {
VIEW: "VIEW",
CLAIMING: "CLAIMING",
CLAIMED: "CLAIMED"
}, m = a["default"].createStore({
init: function b() {
u["default"].viewBlueprint.listen(function(e) {
var t = {};
t.key = e, t.state = g.VIEW, t.item = f["default"].getItemByKey(e), t.puzzle = h["default"].getPuzzleByKey(e), 
t.reward = null, y.setState(t), m.trigger(y.getState());
}), u["default"].claimBlueprint.listen(function(e) {
y.set("state", g.CLAIMING), m.trigger(y.getState());
}), p.claimBlueprint.listen(function(e, t) {
e ? y.set("state", g.VIEW) : (y.set("reward", t), y.set("state", g.CLAIMED)), m.trigger(y.getState());
});
},
getState: function v() {
return y.getState();
},
getInitialState: function _() {
return this.getState();
}
});
t["default"] = m, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(123), s = r(i), l = n(24), u = r(l), p = n(54), c = new u["default"]("TunguskaBattlepackOfferStore"), f = !1, d = a["default"].createStore({
init: function h() {
p.getPackOffers.listen(function(e) {
f = !0;
var t = e.reduce(function(e, t) {
return e[t.offerId] = t, e;
}, {});
c.setState(new s["default"](t)), d.trigger(c.getState());
});
},
hasLoadedOnce: function y() {
return f;
},
getState: function g() {
return c.getState();
},
getInitialState: function m() {
return this.getState();
}
});
t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(123), s = r(i), l = n(24), u = r(l), p = n(54), c = new u["default"]("TunguskaBattlepackPurchasableStore"), f = !1, d = a["default"].createStore({
init: function h() {
p.purchasable.listen(function(e) {
f = !0;
var t = e.reduce(function(e, t) {
return e[t.packName] = t, e;
}, {});
c.setState(new s["default"](t)), d.trigger(c.getState());
});
},
hasLoadedOnce: function y() {
return f;
},
getState: function g() {
return c.getState();
},
getInitialState: function m() {
return this.getState();
},
getPackByName: function b(e) {
return c.getState().get(e);
}
});
t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
t.__esModule = !0;
var a = n(4), i = o(a), s = n(15), l = r(s), u = n(123), p = r(u), c = n(24), f = r(c), d = n(216), h = r(d), y = n(54), g = n(455), m = r(g), b = n(292), v = r(b), _ = new f["default"]("TunguskaBattlepackPuzzleStore"), S = !1, w = l["default"].createStore({
init: function T() {
var e = this;
y.getPuzzlePacks.listen(function(t) {
S = !0;
var n = t.reduce(e._reducer, {});
_.setState(new p["default"](n)), w.trigger(_.getState());
}), h["default"].listen(function(t) {
if (S) {
var n = e.getState().values().reduce(e._reducer, {});
_.setState(new p["default"](n)), w.trigger(_.getState());
}
});
},
_reducer: function C(e, t) {
var n = i.extend({}, t), r = h["default"].getItemByKey(n.item.key);
return n.pieceItem = h["default"].getItemByKey(n.price.name) || new v["default"]({
key: n.price.name,
quantity: 0
}), n.isUnlocked = r && r.quantity > 0, e[n.packKey] = new m["default"](n), e;
},
hasLoadedOnce: function E() {
return S;
},
getState: function I() {
return _.getState();
},
getInitialState: function P() {
return this.getState();
},
getPuzzleByKey: function O(e) {
return this.getState()[e];
}
});
t["default"] = w, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
e = e || {}, this.pack = o(a, e.pack), this.descriptionText = e.descriptionText || this.pack.descriptionText, 
this.images = e.images || this.pack.images, this.packKey = e.packKey || this.pack.packKey, 
this.items = e.items || this.pack.items, this.item = this.getItem(), this.prices = e.prices || this.pack.prices, 
this.price = this.getPrice(), this.pieceItem = e.pieceItem, this.isUnlocked = e.isUnlocked || !1;
}
t.__esModule = !0;
var o = n(206), a = n(177);
r.prototype.getItem = function() {
return this.items && this.items.length && this.items[0];
}, r.prototype.getPrice = function() {
return this.prices && this.prices.length && this.prices[0] && this.prices[0][0];
}, t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(162), i = r(a), s = function u(e) {
var t = e.done, n = void 0 === t ? 0 : t, r = e.needed, a = void 0 === r ? 1 : r, i = e.completed, s = void 0 === i ? !1 : i, l = e.percentage;
o(this, u), this.completed = s, this.done = n, this.needed = a, this.percentage = void 0 !== l ? l : n / a, 
this.completed && (this.percentage = 1, this.done = this.needed);
}, l = function p(e) {
var t = e.id, n = e.displayName, r = e.imageUrl, a = e.isTracked, l = e.description, u = e.completion, c = e.currentStage, f = e.stages;
o(this, p), this.id = t, this.displayName = n || t, this.description = l, this.imageUrl = r, 
this.isTracked = a, this.completion = new s(u || {}), this.currentStage = c && new i["default"](c), 
this.stages = f;
};
t["default"] = l, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t, n) {
return e ? n ? h.disabled_on : t ? h.focused_on : h.on : {};
}
t.__esModule = !0;
var i = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, s = n(1), l = o(s), u = n(2), p = r(u), c = n(9), f = c.bbUrl("/sparta/assets/ui/checkmark-32184656.png"), d = c.bbUrl("/sparta/assets/ui/checkmark2-d0ec994a.png"), h = p.createStyleSheet({
on: {
texture: f
},
disabled_on: {
texture: f,
opacity: .3
},
focused_on: {
texture: d
},
texture: {
alignSelf: "center",
width: 40,
height: 28,
textureMode: "none"
}
}), y = function g(e) {
var t = e.value, n = e.focused, r = e.disabled;
return {
$$typeof: i,
type: "surface",
key: null,
ref: null,
props: {
style: [ h.texture, a(t, n, r) ]
},
_owner: null
};
};
y.propTypes = {
value: l["default"].PropTypes.bool,
focused: l["default"].PropTypes.bool,
disabled: l["default"].PropTypes.bool
}, y.defaultProps = {
focused: !1,
disabled: !1
}, t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, a = n(1), i = r(a), s = n(6), l = r(s), u = n(352), p = n(9), c = {
S: SpartaGlobals.bundleIsPC ? l["default"].getHeight(2) : l["default"].getHeight(3),
M: SpartaGlobals.bundleIsPC ? l["default"].getHeight(4) : l["default"].getHeight(6),
L: SpartaGlobals.bundleIsPC ? l["default"].getHeight(6) : l["default"].getHeight(9)
}, f = function d(e) {
var t, n = e.country || "default";
t = u.flagIcons[n], t || (console.warn("Trying to get a flag that doesn't exist: " + n), 
t = p.bbUrl("/sparta/assets/ui/flags/default-870fef7b.png"));
var r = {
texture: t,
width: c[e.size],
height: c[e.size],
textureMode: "contain",
marginRight: l["default"].GUTTER,
marginTop: 0
};
return {
$$typeof: o,
type: "surface",
key: null,
ref: null,
props: {
style: r
},
_owner: null
};
};
f.propTypes = {
country: i["default"].PropTypes.string,
size: i["default"].PropTypes.string
}, f.defaultProps = {
country: "default",
size: "S"
}, t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return fe(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(808), g = l(y), m = n(2), b = r(m), v = n(6), _ = l(v), S = n(8), w = n(4), T = l(w), C = n(14), E = l(C), I = n(12), P = l(I), O = n(20), A = l(O), k = n(30), R = l(k), x = n(44), M = l(x), N = n(80), $ = l(N), D = n(11), U = n(22), L = l(U), F = n(7), G = l(F), j = n(18), B = l(j), H = n(31), V = n(16), z = l(V), W = n(28), q = l(W), K = n(104), X = l(K), Y = n(282), J = n(210), Q = n(460), Z = l(Q), ee = n(13), te = l(ee), ne = n(58), re = l(ne), oe = n(9), ae = n(115), ie = l(ae), se = n(50), le = l(se), ue = n(70), pe = l(ue), ce = {
_$SortHeading: {
displayName: "SortHeading"
},
_$ServerList: {
displayName: "ServerList"
}
}, fe = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerList.jsx",
components: ce,
locals: [],
imports: []
}), de = oe.bbUrl("/sparta/assets/ui/icons/ui/down-1c405104.png"), he = oe.bbUrl("/sparta/assets/ui/icons/ui/up-45fe9908.png"), ye = b.createStyleSheet({
navListDivider: {
height: 1,
marginTop: -1,
backgroundColor: "#FFFFFF1A"
},
sortIndicator: {
marginLeft: _["default"].GUTTER,
width: _["default"].getHeight(1.5),
height: _["default"].getHeight(1.5),
textureMode: "contain",
marginTop: _["default"].getHeight(.25)
},
sortIndicatorDesc: {
texture: de
},
sortIndicatorAsc: {
texture: he
},
nameSpan: {
flex: 1,
flexDirection: "row"
},
slotsSpan: {
width: Z["default"].slots,
flexDirection: "row"
},
pingSpan: {
width: Z["default"].ping,
flexDirection: "row"
},
actionsSpan: {
width: Z["default"].actions,
flexDirection: "row"
},
loadingOverlay: {
position: "absolute",
zOffset: 3,
top: 0,
left: 0,
width: B["default"].content.width,
height: B["default"].content.height,
flexDirection: "row",
justifyContent: "center",
alignItems: "center",
enableMouseEvents: !1
}
}), ge = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.focusItem = m.focus.create(this, "sortheading-" + t.label), 
this.focusItem.setActive("ef12675a:98", SpartaGlobals.bundleIsPC), this.focusItem.setClickInput(new E["default"]({
key: P["default"].Accept,
label: t.label,
action: function o() {
r.setSortKey(r.props.sortKey);
}
}));
}
i(t, e), t.prototype.getSortIndicatorStyle = function r(e) {
return this.props.sortBy && e === this.props.sortBy.key && "none" !== this.props.sortBy.direction ? this.props.sortBy.direction === Y.SortDirection.ASC ? [ ye.sortIndicator, ye.sortIndicatorAsc ] : [ ye.sortIndicator, ye.sortIndicatorDesc ] : [ ye.sortIndicator ];
}, t.prototype.setSortKey = function l(e) {
L["default"].setSort(e);
}, t.prototype.render = function u() {
var e = this.props, t = e.sortKey, n = e.label, r = this.focusItem.isFocused || t === this.props.sortBy.key, a = f({
flexDirection: "row",
opacity: r ? 1 : .7
}, this.props.style), i = SpartaGlobals.bundleIsPC ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: this.getSortIndicatorStyle(t)
},
_owner: null
} : null;
return h["default"].createElement("surface", f({
style: a
}, this.focusItem.hooks), {
$$typeof: c,
type: G["default"],
key: null,
ref: null,
props: o(G["default"].defaultProps, {
value: n.toUpperCase(),
size: "S"
}),
_owner: null
}, i);
};
var n = t;
return t = s("_$SortHeading")(t) || t, t = S.observer(t) || t;
}(h["default"].Component), me = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusAncestor = b.focus.createAncestor("serverlist"), 
this.contentTween = te["default"].tween("ef12675a:154", 0, {
duration: te["default"].defaultTweenOptions.duration / 4
}), this.loadingTween = te["default"].tween("ef12675a:155", 1, {
duration: te["default"].defaultTweenOptions.duration / 4
}), this.fadingContentStyle = {
opacity: this.contentTween.getStyle()
}, this.loadingDone = !1;
}
i(t, e), t.prototype.componentWillMount = function r() {
var e = this;
this.focusAncestor.onInputFocusChanged.listen(function() {
return e.updateInput();
});
}, t.prototype.componentWillUnmount = function l() {
this.focusAncestor.destroy(), this.contentTween.destroy(), this.loadingTween.destroy();
}, t.prototype.getInput = function u() {
return !this.state.isGameViewVisible && this.props.servers && this.props.servers.length > 0 ? new E["default"]({
label: this.props.sortBy.key === Y.SortKeys.NONE ? __("ID_SPARTA_ACTION_SORT") : __("ID_SPARTA_ACTION_SORTBY") + this.props.sortBy.getLabel(),
action: this.updateSorting.bind(this),
key: P["default"].Option3
}) : void 0;
}, t.prototype.doneLoading = function p() {
this.loadingDone = !0, this.loadingTween._isDestroyed || (this.loadingTween.to(0), 
this.contentTween.to(1));
}, t.prototype.updateSorting = function d() {
L["default"].cycleSort(), this.updateInput();
}, t.prototype.startLoading = function y() {
var e = this;
this.loadingDone = !1, this.contentTween.to(0, void 0, function() {
e.loadingDone || e.loadingTween.to(1);
});
}, t.prototype.createJoinOptions = function m(e, t) {
var n = {
role: t
}, r = pe["default"].getState(), o = D.gameStore.getGame(this.props.gameId).joinConfig.useSquadJoin;
return o && r.isInSquadJoin() && (n = f({}, n, {
party: r
})), e.createJoinOptions(n);
}, t.prototype.renderItems = function v() {
var e = this, t = this.props.sortBy, n = t.key, r = t.direction, o = this.props.sortBy ? J.sortServers(this.props.servers, n, r) : this.props.servers, a = this.state.ugcAccess.level === ae.UGCAccessLevel.Everyone, i = D.gameStore.getGame(this.props.gameId).supportedRoles;
return o.map(function(t, n) {
var r = t.pingSiteAlias && e.props.pingSites ? e.props.pingSites[t.pingSiteAlias] : null, o = T["default"].filter(t.expansions, function(n) {
return "DEFAULT" !== n.name && !e.state.gameEntitlements.hasExpansionAccess(t.game, n.name);
}), s = 0 === o.length;
return {
$$typeof: c,
type: "surface",
key: "server" + n,
ref: null,
props: {
children: [ h["default"].createElement(g["default"], {
ref: "server" + n,
roles: i,
canJoin: s,
server: t,
disabled: !e.state.gameState.isServerJoiningAllowed(t.gameId),
pingSite: r,
hasUGCAccess: a,
gameData: e.props.gameData,
onSelect: function(n) {
R["default"].joinServer(e.createJoinOptions(t, n));
}
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: ye.navListDivider
},
_owner: null
} ],
style: {
localBounds: !1
}
},
_owner: null
};
});
}, t.prototype.renderHeader = function w() {
return {
$$typeof: c,
type: _["default"].Row,
key: null,
ref: null,
props: o(_["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: ge,
key: null,
ref: null,
props: o(ge.defaultProps, {
sortKey: Y.SortKeys.NAME,
label: __("ID_SPARTA_SERVER_SORT_NAME"),
sortBy: this.props.sortBy
}),
_owner: null
},
style: ye.nameSpan
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: ge,
key: null,
ref: null,
props: o(ge.defaultProps, {
sortKey: Y.SortKeys.PLAYERS,
label: __("ID_SPARTA_SERVER_SORT_PLAYERS"),
sortBy: this.props.sortBy
}),
_owner: null
},
style: ye.slotsSpan
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: ge,
key: null,
ref: null,
props: o(ge.defaultProps, {
sortKey: Y.SortKeys.PING,
label: __("ID_SPARTA_SERVER_SORT_PING"),
sortBy: this.props.sortBy
}),
_owner: null
},
style: ye.pingSpan
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: ye.actionsSpan
},
_owner: null
} ],
style: {
zOffset: 1
}
}),
_owner: null
};
}, t.prototype.renderServerItems = function C() {
var e = this.renderItems();
return this.props.bannerItem && e.push(this.props.bannerItem), h["default"].createElement(H.Scroller, {
style: f({}, this.fadingContentStyle, {
height: B["default"].content.height - _["default"].getHeight(10)
}),
ref: "scroller",
controller: !1,
tween: !1,
softClip: [ 0, _["default"].getHeight(1), 0, _["default"].getHeight(3) ]
}, e);
}, t.prototype.renderLoadingOverlay = function I() {
return {
$$typeof: c,
type: "surface",
key: "loading",
ref: null,
props: {
children: h["default"].createElement(re["default"], {
ref: "indicator",
autoRun: !0,
size: 50
}),
style: [ ye.loadingOverlay, {
opacity: this.loadingTween.getStyle()
} ]
},
_owner: null
};
}, t.prototype.renderContent = function O() {
return this.props.error ? h["default"].createElement(X["default"], f({
key: "errorState",
style: f({}, this.fadingContentStyle, ye.loadingOverlay, {
flexDirection: "column"
})
}, this.props.errorState)) : null == this.props.servers ? {
$$typeof: c,
type: "surface",
key: "unknown",
ref: null,
props: {},
_owner: null
} : this.props.servers.length > 0 ? {
$$typeof: c,
type: "surface",
key: "items",
ref: null,
props: {
children: [ this.renderHeader(), this.renderServerItems() ],
style: {
flexDirection: "column"
}
},
_owner: null
} : h["default"].createElement(X["default"], f({
key: "emptyState",
style: f({}, this.fadingContentStyle, ye.loadingOverlay, {
flexDirection: "column"
})
}, this.props.emptyState));
}, t.prototype.render = function k() {
var e = SpartaGlobals.bundleIsPC ? 2 * _["default"].GUTTER : 0;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderLoadingOverlay(), this.renderContent() ],
style: {
flex: 1,
paddingRight: e
}
},
_owner: null
};
};
var n = t;
return t = s("_$ServerList")(t) || t, t = z["default"]({
gameState: M["default"],
ugcAccess: ie["default"],
isGameViewVisible: q["default"](le["default"], "isVisible"),
gameEntitlements: $["default"]
})(t) || t, t = A["default"]()(t) || t, t = S.observer(t) || t;
}(h["default"].Component);
t["default"] = me, me.propTypes = {
gameId: h["default"].PropTypes.string.isRequired,
showFilters: h["default"].PropTypes.bool,
roles: h["default"].PropTypes.arrayOf(h["default"].PropTypes.string),
errorState: h["default"].PropTypes.object.isRequired,
emptyState: h["default"].PropTypes.object.isRequired
}, me.defaultProps = {
showFilters: !1
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(6), a = r(o), i = {
name: null,
slots: a["default"].getWidth(2.6),
ping: a["default"].getWidth(1.2),
actions: a["default"].getWidth(2.6)
}, s = {
name: null,
slots: a["default"].getWidth(3.9),
ping: a["default"].getWidth(3)
};
t["default"] = SpartaGlobals.bundleIsPC ? i : s, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(7), y = s(h), g = n(6), m = s(g), b = n(20), v = s(b), _ = n(14), S = s(_), w = n(12), T = s(w), C = n(148), E = s(C), I = n(2), P = n(8), O = {
_$TabMenu: {
displayName: "TabMenu"
},
_$TabMenuItem: {
displayName: "TabMenuItem"
}
}, A = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/TabMenu.jsx",
components: O,
locals: [],
imports: []
}), k = {
tabMenu: {
flexDirection: "row",
alignSelf: "center"
},
tab: {
marginRight: 2 * m["default"].GUTTER
}
}, R = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getInput = function s() {
return [ new S["default"]({
visible: !1,
action: this.gotoOffset.bind(this, 1),
key: T["default"].Next
}), new S["default"]({
visible: !1,
action: this.gotoOffset.bind(this, -1),
key: T["default"].Previous
}) ];
}, t.prototype.gotoOffset = function l(e) {
var t = Math.min(Math.max(0, this.props.activeTabIndex + e), this.props.tabs.length - 1);
this.props.onTabSelect(t);
}, t.prototype.rbIcon = function u() {
return E["default"].normal.Next ? {
texture: E["default"].normal.Next,
height: 3 * m["default"].CELL_HEIGHT,
width: 3 * m["default"].CELL_HEIGHT,
marginTop: 1
} : void 0;
}, t.prototype.lbIcon = function p() {
return E["default"].normal.Previous ? {
texture: E["default"].normal.Previous,
height: 3 * m["default"].CELL_HEIGHT,
width: 3 * m["default"].CELL_HEIGHT,
marginRight: 2 * m["default"].GUTTER,
marginTop: 1
} : void 0;
}, t.prototype.renderTabs = function f() {
var e = this;
return this.props.tabs.map(function(t, n) {
var o = "function" == typeof t.title ? t.title() : t.title;
return {
$$typeof: c,
type: x,
key: null,
ref: null,
props: r(x.defaultProps, {
value: o.toUpperCase(),
isActive: n === e.props.activeTabIndex,
onClick: e.props.onTabSelect.bind(e, n)
}),
_owner: null
};
});
}, t.prototype.render = function d() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.props.tabs.length > 1 ? {
$$typeof: c,
type: "surface",
key: "lb",
ref: null,
props: {
style: I.focus.system.controllerMode ? this.lbIcon() : {}
},
_owner: null
} : null, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderTabs(),
style: k.tabMenu
},
_owner: null
}, this.props.tabs.length > 1 ? {
$$typeof: c,
type: "surface",
key: "rb",
ref: null,
props: {
style: I.focus.system.controllerMode ? this.rbIcon() : {}
},
_owner: null
} : null ],
style: [ k.tabMenu, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = i("_$TabMenu")(t) || t, t = v["default"]()(t) || t, t = P.observer(t) || t;
}(d["default"].Component);
t["default"] = R;
var x = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = I.focus.create(this, "tabmenuitem_" + t.value), 
this.focusItem.setActive("e1af6d6c:93", SpartaGlobals.bundleIsPC), this.focusItem.setClickInput(new S["default"]({
action: function a() {
return r.onClick();
},
label: t.value,
key: T["default"].Accept
}));
}
a(t, e), t.prototype.onClick = function s() {
this.props.onClick && this.props.onClick();
}, t.prototype.render = function l() {
var e = this, t = this.props, n = t.value, o = t.isActive, a = .66;
this.focusItem.isFocused ? a = .9 : o && (a = 1);
var i = p({}, k.tab, {
opacity: a
});
return d["default"].createElement("surface", this.focusItem.hooks, {
$$typeof: c,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: n,
type: o ? "emphasis" : "normal",
size: "S",
onClick: function() {
return e.onClick();
},
style: i
}),
_owner: null
});
};
var n = t;
return t = i("_$TabMenuItem")(t) || t, t = v["default"]()(t) || t, t = P.observer(t) || t;
}(d["default"].Component);
e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return I(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), f = i(c), d = n(16), h = i(d), y = n(641), g = i(y), m = n(124), b = i(m), v = n(13), _ = i(v), S = n(303), w = i(S), T = n(6), C = i(T), E = {
_$InputButtons: {
displayName: "InputButtons"
}
}, I = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/buttons/InputButtons.jsx",
components: E,
locals: [],
imports: []
}), P = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.opacityTween = _["default"].tween("a01bae1e:19", 1);
}
o(t, e), t.prototype.componentWillMount = function i() {
this.unsubscribe = b["default"].trigger.listen(this.onTrigger.bind(this));
}, t.prototype.shouldComponentUpdate = function s(e, t) {
return this.props.shouldUpdate;
}, t.prototype.componentDidUpdate = function l(e, t) {
var n = this;
this.props.visibleMenu && this.opacityTween.to(0, {
duration: 150
}, function() {
n.opacityTween.to(1, {
duration: 400
});
});
}, t.prototype.onTrigger = function c(e) {
var t = this.refs[e.key.id];
t && t.pulsate();
}, t.prototype.render = function d() {
var e = this, t = p({
zOffset: 10,
marginRight: 2 * C["default"].GUTTER
}, this.props.style), n = this.state.inputs.current.map(function(n) {
return f["default"].createElement(w["default"], {
key: n.key.id,
ref: n.key.id,
inputKey: n.key,
style: t,
iconSize: e.props.iconSize,
inverted: e.props.inverted,
label: n.label,
labelStyle: e.props.labelStyle,
labelProps: e.props.labelProps,
labelType: e.props.labelType,
labelDecoration: e.props.labelDecoration,
styleSheetOverride: e.props.styleSheetOverride
});
});
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: n,
"static": !0,
style: {
flexDirection: "row",
flexWrap: "wrap",
opacity: this.opacityTween.getStyle()
}
},
_owner: null
};
};
var n = t;
return t = a("_$InputButtons")(t) || t, t = h["default"]({
inputs: g["default"]
})(t) || t;
}(f["default"].Component);
t["default"] = P, P.defaultProps = {
shouldUpdate: !0
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t, n) {
var r = this, o = arguments.length <= 3 || void 0 === arguments[3] ? null : arguments[3], a = arguments.length <= 4 || void 0 === arguments[4] ? 0 : arguments[4];
return "string" == typeof e && (e = u.video.loadVideo(e)), this.currentTrack = p.backgroundMusicStore.currentTrackId, 
g["default"].stopTrack(this.currentTrack), h["default"].disableVideo(), e.stop(), 
e.loop = !1, e.setVolume(1), e.play(), new Promise(function(i, l) {
var p = s["default"].createElement(_["default"], {
heading: t,
author: n,
video: e,
onClose: i,
timeout: a,
label: o
}), c = [];
f["default"].display({
id: "fullScreenVideo",
fullScreen: !0,
backgroundColor: "#000000",
createButtons: !1,
content: p,
inputs: c
});
var d = function h(e) {
f["default"].close("fullScreenVideo"), i();
};
r.unsubVideoStopped = u.events.onVideoStopped.listen(function(t) {
t === e.id && d();
}), r.disposeOnlineState = b.when(function() {
return !m.onlineState.isOnlineBlazeAndGateway;
}, function() {
return d();
});
}).then(function() {
r.unsubVideoStopped(), r.disposeOnlineState(), e.setVolume(0), e.stop(), h["default"].enableVideo(), 
g["default"].playTrack(r.currentTrack);
});
}
t.__esModule = !0, t.showFullscreenVideo = a;
var i = n(1), s = o(i), l = n(2), u = r(l), p = n(11), c = n(25), f = o(c), d = n(283), h = o(d), y = n(163), g = o(y), m = n(41), b = n(10), v = n(790), _ = o(v);
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), c = i(p), f = n(149), d = i(f), h = {
_$SimpleTweener: {
displayName: "SimpleTweener"
}
}, y = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/tweeners/SimpleTweener.jsx",
components: h,
locals: [],
imports: []
}), g = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = [], t = [];
return this.props.tweens.forEach(function(n) {
e.push({
propertyName: n.propertyName,
fromValue: n.outValue,
toValue: n.inValue,
options: n.inOptions
}), t.push({
propertyName: n.propertyName,
fromValue: n.inValue,
toValue: n.outValue,
options: n.outOptions
});
}), c["default"].createElement(d["default"], u({}, this.props, {
inTweens: e,
outTweens: t
}), this.props.children);
};
var n = t;
return t = a("_$SimpleTweener")(t) || t;
}(c["default"].Component);
t["default"] = g, g.propTypes = {
transitionId: c["default"].PropTypes.oneOfType([ c["default"].PropTypes.string, c["default"].PropTypes.number ]),
tweens: c["default"].PropTypes.arrayOf(c["default"].PropTypes.shape({
propertyName: c["default"].PropTypes.string.isRequired,
inValue: c["default"].PropTypes.number.isRequired,
inOptions: c["default"].PropTypes.object,
outValue: c["default"].PropTypes.number.isRequired,
outOptions: c["default"].PropTypes.object
}))
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = e, n = "";
return -1 !== e.indexOf("?") && !function() {
var r = e.split("?"), o = r[1].split("&") || [];
t = r[0];
var a = {};
l["default"].each(o, function(e) {
if (-1 !== e.indexOf("=")) {
var t = e.split("=");
a[t[0]] = t[1];
}
}), a.format = "jpg", a.w = "208", a.h = "208";
var i = [];
l["default"].each(a, function(e, t) {
i.push(t + "=" + e);
}), n = "?" + i.join("&");
}(), a(t + n);
}
function a(e) {
return 0 !== e.indexOf("http") ? "file://" + e : e;
}
function i(e) {
return e && "/origin/avatar/" !== e ? SpartaGlobals.bundleIsXBOXONE ? o(e) : a(e) : !1;
}
t.__esModule = !0, t["default"] = i;
var s = n(4), l = r(s);
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
for (var t in e.gameStats) {
var n = a.gameStore.getGame(t), r = e.gameStats[t];
n.mutateCareerStats && n.mutateCareerStats(r);
}
}
var o = n(10), a = n(11), i = n(354), s = n(41), l = n(21), u = n(52).gatewayClient, p = n(38), c = n(223), f = l.createClient({
requestOn: [ u.onSessionEstablished, p.refreshCareer ],
listener: function d() {
return [ i.careerFetchingState.games ];
},
shouldPerformRequest: function h() {
return s.onlineState.isPresenceReady;
},
request: function y(e) {
return u.request("Stats.getCareer", {
games: e
});
},
parse: function g(e) {
return r(e), new c(e);
},
update: function m(e) {
this.publish(e);
}
});
o.observe(i.careerFetchingState.games, function() {
f.trigger();
}), e.exports = f;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
f !== e && (f = e, d.trigger(e));
}
function a(e) {
return l.isEmpty(e) ? {} : l.chain(e).values().groupBy(function(e) {
return e.presence.server.game;
}).value();
}
var i = n(15), s = r(i), l = n(4), u = n(24), p = n(131), c = new u("PlayingFriendStore"), f = {}, d = s["default"].createStore({
init: function h() {
this.listenTo(p, function(e) {
var t = l.chain(e).filter(function(e) {
return e.presence.server;
}).map(function(e) {
return [ e.id, e ];
}).object().value(), n = a(t);
c.setState(n), o(this.getState());
});
},
getState: function y() {
return c.getState();
}
});
e.exports = d;
}, function(e, t) {
var n = {
Mutual: "MUTUAL",
Request: "REQUEST",
Invited: "INVITED"
};
e.exports = n;
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return H(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(46), y = l(h), g = n(7), m = l(g), b = n(117), v = n(17), _ = l(v), S = n(16), w = l(S), T = n(849), C = l(T), E = n(82), I = l(E), P = n(92), O = l(P), A = n(2), k = r(A), R = n(23), x = l(R), M = n(31), N = n(6), $ = l(N), D = n(18), U = l(D), L = n(4), F = l(L), G = n(40), j = n(11), B = {
_$WwceSupportArticleDetail: {
displayName: "WwceSupportArticleDetail"
},
_$ArticleImage: {
displayName: "ArticleImage"
}
}, H = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportArticleDetail.jsx",
components: B,
locals: [],
imports: []
}), V = k.createStyleSheet({
articleContent: {
color: "#C7C7C7"
},
articleSummary: {
marginBottom: 32,
color: "#FFFFFF"
},
articleTitle: {
marginBottom: 38,
color: "#FFFFFF"
},
noContactUs: {
marginRight: 25 * $["default"].GUTTER,
width: 80 * $["default"].GUTTER,
color: "#FFFFFF"
},
helpfulnessText: {
marginTop: 2.5 * $["default"].GUTTER,
marginRight: 4.5 * $["default"].GUTTER
},
helpfulnessBtn: {
marginLeft: $["default"].GUTTER,
width: 13.5 * $["default"].GUTTER,
height: 7 * $["default"].GUTTER
},
bodyImage: {
height: $["default"].getHeight(45),
textureMode: "contain",
textureAlign: [ .5, .5 ],
marginBottom: 30,
marginTop: 30
},
bodyParagraph: {
textLineSpacing: Math.round(1.2 * G.LINE_HEIGHTS.S),
marginBottom: 20,
textAlign: "justify",
color: "#d3d3d3"
},
list: {
marginTop: 30,
marginBottom: 20
},
listItem: {
paddingLeft: 30,
marginBottom: 20
},
selectedBtnStyle: {
backgroundColor: "#585858",
color: "#ffffff"
},
contactUsBar: {
flexDirection: "row",
position: "absolute",
bottom: SpartaGlobals.bundleIsConsole ? 0 : $["default"].content.rowSpan(9),
left: 0
}
}), z = function(e) {
function t() {
a(this, n), e.call(this), this.focusAncestor = k.focus.createAncestor("wwceSupportArticleDetail"), 
I["default"].resetArticleDetailState(), this.state = {
articleDetail: null,
context: null,
disableBtn: !1,
isHelpful: null
};
}
i(t, e), t.prototype.componentDidMount = function r() {
I["default"].getArticleDetail(this.state.context.articleId), I["default"].updateLocation("ARTICLE_BODY");
}, t.prototype.getParsedContent = function l() {
if (this.state.articleDetail.parsedArticle) {
var e = this.state.articleDetail.parsedArticle, t = "", n = "", r = [], a = function i() {
"TEXT" === t && (r.push({
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
size: "S",
style: V.bodyParagraph,
value: n
}),
_owner: null
}), n = "");
};
return F["default"].each(e, function(e) {
if ("image" === e.chunkType) a(), r.push({
$$typeof: c,
type: W,
key: null,
ref: null,
props: o(W.defaultProps, {
image: e.src
}),
_owner: null
}), t = "IMAGE"; else if ("paragraph" === e.chunkType) n += e.content.text, t = "TEXT"; else if ("bulletlist" === e.chunkType) !function() {
a();
var n = [];
F["default"].each(e.items, function(e) {
n.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
size: "S",
value: "- " + e.text
}),
_owner: null
},
style: V.listItem
},
_owner: null
});
}), r.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: V.list
},
_owner: null
}), t = "LIST";
}(); else if ("orderedlist" === e.chunkType) {
var i;
!function() {
a();
var n = [];
i = 1, F["default"].each(e.items, function(e) {
n.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
size: "S",
value: i + ". " + e.text
}),
_owner: null
},
style: V.listItem
},
_owner: null
}), i++;
}), r.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: V.list
},
_owner: null
}), t = "LIST";
}();
}
}), n && a(), r;
}
return this.state.articleDetail.article ? this.state.articleDetail.article.content : void 0;
}, t.prototype.saveArticleMetrics = function u(e) {
I["default"].saveArticleMetrics(this.state.context.articleId, e), this.setState({
disableBtn: !0,
isHelpful: e
});
}, t.prototype.handleNavigation = function p(e) {
if ("contactUs" === e) if (this.state.context.categories.length > 1) e = "wwcesupport/help/categoryselection"; else {
var t = this.state.context.categories.length > 0 ? this.state.context.categories[0].internalName : "default-category";
I["default"].updateSelectedCategory(t), e = "wwcesupport/help/channelselection";
}
"InGame" === this.state.context.source ? y["default"].route("playing/" + e) : _["default"].gotoLocation(e);
}, t.prototype.renderArticleContent = function f() {
if (this.state.articleDetail.article) {
var e = SpartaGlobals.bundleIsPC ? U["default"].content.height - $["default"].getHeight(40) : U["default"].content.height - $["default"].getHeight(30);
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
value: this.state.articleDetail.article.title,
size: "L",
style: V.articleTitle
}),
_owner: null
}, {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
value: this.state.articleDetail.article.summary,
size: "S",
style: V.articleSummary
}),
_owner: null
}, {
$$typeof: c,
type: M.Scroller,
key: null,
ref: null,
props: o(M.Scroller.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.getParsedContent(),
style: V.articleContent
},
_owner: null
},
style: {
height: e
},
controller: !0
}),
_owner: null
} ]
},
_owner: null
};
}
}, t.prototype.renderContent = function d() {
var e, t = this, n = "InGame" === this.state.context.source;
if (this.state.articleDetail.showContactUs && j.settingsStore.isFeatureEnabled("enableHelpContactUs")) {
var r = __("ID_SPARTA_HELP_CONTACT_US"), a = $["default"].GUTTER * (17.5 + 1.75 * r.length), i = $["default"].GUTTER * (105 - (17.5 + 1.75 * r.length)), s = k.createStyleSheet({
contactUsBtn: {
marginRight: i,
width: a,
height: 7 * $["default"].GUTTER
}
});
e = a + i, e = {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
text: r,
style: s.contactUsBtn,
textSize: "M",
action: function() {
return t.handleNavigation("contactUs");
}
}),
_owner: null
};
} else {
var l, u;
n ? (l = __("ID_SPARTA_HELP_NO_CONTACT_US_BFONE"), u = "S") : (l = __("ID_SPARTA_HELP_NO_CONTACT_US_PC"), 
u = "M"), e = {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
value: l,
size: u,
style: V.noContactUs
}),
_owner: null
};
}
var p = Object.assign({}, V.helpfulnessBtn, this.state.disableBtn && this.state.isHelpful ? V.selectedBtnStyle : null), f = Object.assign({}, V.helpfulnessBtn, this.state.disableBtn && !this.state.isHelpful ? V.selectedBtnStyle : null);
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderArticleContent(), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ e, {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
size: "S",
value: __("ID_SPARTA_HELP_ARTICLE_HELPFULNESS"),
style: V.helpfulnessText
}),
_owner: null
}, {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
text: __("ID_SPARTA_HELP_ARTICLE_HELPFULNESS_YES"),
disabled: this.state.disableBtn,
style: p,
action: function() {
return t.saveArticleMetrics(!0);
}
}),
_owner: null
}, {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
text: __("ID_SPARTA_HELP_ARTICLE_HELPFULNESS_NO"),
disabled: this.state.disableBtn,
style: f,
action: function() {
return t.saveArticleMetrics(!1);
}
}),
_owner: null
} ],
style: V.contactUsBar
},
_owner: null
} ],
style: {
width: U["default"].content.width,
height: U["default"].content.height
}
},
_owner: null
};
}, t.prototype.render = function h() {
var e = this;
return {
$$typeof: c,
type: b.WwceSupportTemplate,
key: null,
ref: null,
props: o(b.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
loading: !this.state.articleDetail.article,
onBackClick: function() {
return e.handleNavigation("wwcesupport/help");
}
}),
_owner: null
};
};
var n = t;
return t = s("_$WwceSupportArticleDetail")(t) || t, t = w["default"]({
articleDetail: C["default"],
context: O["default"]
})(t) || t;
}(d["default"].Component);
t["default"] = z;
var W = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ V.bodyImage, {
texture: this.props.image
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$ArticleImage")(t) || t;
}(d["default"].Component);
e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ie(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(4), g = l(y), m = n(2), b = r(m), v = n(183), _ = l(v), S = n(117), w = n(92), T = l(w), C = n(16), E = l(C), I = n(46), P = l(I), O = n(7), A = l(O), k = n(180), R = l(k), x = n(17), M = l(x), N = n(18), $ = l(N), D = n(23), U = l(D), L = n(82), F = l(L), G = n(6), j = l(G), B = n(62), H = l(B), V = n(179), z = l(V), W = n(9), q = n(352), K = n(25), X = l(K), Y = n(14), J = l(Y), Q = n(20), Z = l(Q), ee = n(12), te = l(ee), ne = n(843), re = l(ne), oe = n(31), ae = {
_$WwceSupportCallBack: {
displayName: "WwceSupportCallBack"
}
}, ie = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportCallBack.jsx",
components: ae,
locals: [],
imports: []
}), se = n(286).ArticlePopup, le = b.createStyleSheet({
submitBtn: {
width: 35 * j["default"].GUTTER,
height: 7 * j["default"].GUTTER,
color: "#FFFFFF"
},
heading: {
color: "#FFFFFF",
marginTop: SpartaGlobals.bundleIsConsole ? 10 : 50
},
content: {
color: "#C7C7C7"
},
inputField: {
marginTop: 5.5 * j["default"].GUTTER
},
countryCode: {
width: 13.5 * j["default"].GUTTER,
height: 7 * j["default"].GUTTER,
alignItems: "center",
justifyContent: "center",
position: "relative",
flexDirection: "row",
left: j["default"].GUTTER,
top: 13
},
borderStyle: {
zOffset: 5,
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2,
texture: W.bbUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
width: 13.5 * j["default"].GUTTER,
height: 6.5 * j["default"].GUTTER
},
innerContainer: {
alignItems: "center",
justifyContent: "center"
},
countryCodeList: {
marginTop: 2 * j["default"].GUTTER,
width: 40 * j["default"].GUTTER
},
countryCodeListItem: {},
phoneNumber: {
marginLeft: j["default"].GUTTER,
width: 42 * j["default"].GUTTER,
height: 7 * j["default"].GUTTER
},
code: {
marginTop: 7 * j["default"].GUTTER,
color: "#FFFFFF"
},
privacy: {
marginTop: 10,
marginLeft: 40,
width: j["default"].content.colSpan(13),
color: "#FFFFFF"
},
submitFooter: {
flexDirection: "row",
position: "absolute",
bottom: SpartaGlobals.bundleIsConsole ? 0 : j["default"].content.rowSpan(10),
left: 0
}
}), ue = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentWillMount = function r() {
this.setState({
disableBtn: !0
}), SpartaGlobals.bundleIsConsole && M["default"].setClientVideoRecordingEnabled(!1);
}, t.prototype.componentDidMount = function l() {
var e = null;
if (g["default"].isUndefined(this.state.contact) || g["default"].isUndefined(this.state.contact.countryCode) || null === this.state.contact.countryCode || (g["default"].each(this.state.contact.countryCodes, function(t) {
t.calling_code === this.state.contact.countryCode && (e = t);
}, this), null !== e && this.setCountryCode(e)), !g["default"].isUndefined(this.state.contact) && !g["default"].isUndefined(this.state.contact.phoneNumber) && null !== this.state.contact.phoneNumber) {
var t = this.state.contact.phoneNumber.toString();
if (null !== e) {
var n = this.validatePhoneNumber(t, e.min_digits, e.max_digits);
this.checkSubmitBtnStatus(e.calling_code, t, n);
} else this.phoneNumberChanged(t), this.checkSubmitBtnStatus("", t, !1);
}
SpartaGlobals.bundleIsPC && !g["default"].isUndefined(this.refs.phoneField) && this.refs.phoneField.activate(), 
c = this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection/channelselection" : "wwcesupport/help/channelselection", 
this.updateInput();
}, t.prototype.componentWillUnmount = function u() {
SpartaGlobals.bundleIsConsole && M["default"].setClientVideoRecordingEnabled(!0);
}, t.prototype.getInput = function p() {
var e = [];
return SpartaGlobals.bundleIsConsole && e.push(new J["default"]({
label: __("ID_SPARTA_HELP_PRIVACY_TITLE"),
action: this.showPopupTerms,
key: te["default"].Option1,
visible: !0
})), e;
}, t.prototype.phoneNumberChanged = function d(e) {
var t, n = /^[0-9]*$/;
e.match(n) && e.length >= this.state.minDigits && e.length <= this.state.maxDigits ? (t = !1, 
this.setState({
phoneNumber: e,
isInvalid: t
})) : (t = !0, this.setState({
isInvalid: t
})), this.checkSubmitBtnStatus(null, e, t);
}, t.prototype.validatePhoneNumber = function y(e, t, n) {
if (!g["default"].isUndefined(e) && null !== e) {
var r = /^[0-9]*$/;
return e.match(r) && e.length >= t && e.length <= n ? (this.setState({
phoneNumber: e,
isInvalid: !1
}), !1) : (this.setState({
isInvalid: !0
}), !0);
}
}, t.prototype.setCountryCode = function m(e) {
this.setState({
cCode: e.calling_code,
minDigits: e.min_digits,
maxDigits: e.max_digits
});
var t = this.validatePhoneNumber(this.refs.phoneField.state.value, e.min_digits, e.max_digits);
this.checkSubmitBtnStatus(null, null, t);
}, t.prototype.handleNavigation = function v(e) {
F["default"].updateContactDetails(this.state.cCode, this.state.phoneNumber), "InGame" === this.state.context.source ? P["default"].route("playing/" + e) : M["default"].gotoLocation(e);
}, t.prototype.checkSubmitBtnStatus = function w(e, t, n) {
var r, o = null === e || g["default"].isUndefined(e) ? this.state.cCode : e, a = null === t || g["default"].isUndefined(t) ? this.state.phoneNumber : t, i = null === n || g["default"].isUndefined(n) ? this.state.isInvalid : n;
r = "" !== o && "" !== a && i === !1 ? !1 : !0, this.setState({
disableBtn: r
});
}, t.prototype.showPopupTerms = function C() {
X["default"].display({
id: "policyPopup",
fullScreen: !0,
createButtons: !1,
content: {
$$typeof: f,
type: se,
key: null,
ref: null,
props: o(se.defaultProps, {
rawNewsContent: {
$$typeof: f,
type: re["default"],
key: null,
ref: null,
props: o(re["default"].defaultProps, {}),
_owner: null
},
popupId: "policyPopup"
}),
_owner: null
},
inputs: [ new J["default"]({
label: "Back",
key: te["default"].Decline
}) ]
});
}, t.prototype.renderContent = function I() {
var e, t = this, n = g["default"].map(this.state.contact.countryCodes, function(e, t) {
var n, r = this, a = e.iso_code || "default";
return n = q.flagIcons[a], n || (console.warn("Trying to get a flag that doesn't exist: " + a), 
n = W.bbUrl("/sparta/assets/ui/flags/default-870fef7b.png")), {
$$typeof: f,
type: z["default"],
key: null,
ref: null,
props: o(z["default"].defaultProps, {
icon: n,
iconSize: "L",
iconSpace: j["default"].GUTTER,
style: le.countryCodeListItem,
label: e.display_name + " +" + e.calling_code,
onTrigger: function() {
r.setCountryCode(e);
}
}),
_owner: null
};
}, this);
e = SpartaGlobals.bundleIsPC ? {
$$typeof: f,
type: A["default"],
key: null,
ref: null,
props: o(A["default"].defaultProps, {
value: __("ID_SPARTA_HELP_PRIVACY"),
size: "S",
style: le.privacy,
onClick: this.showPopupTerms
}),
_owner: null
} : {
$$typeof: f,
type: A["default"],
key: null,
ref: null,
props: o(A["default"].defaultProps, {
value: __("ID_SPARTA_HELP_PRIVACY"),
size: "S",
style: le.privacy
}),
_owner: null
};
var r = 0 === this.state.contact.phoneNumber ? "" : this.state.contact.phoneNumber.toString(), a = 4 * j["default"].getHeight(7);
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: A["default"],
key: null,
ref: null,
props: o(A["default"].defaultProps, {
value: __("ID_SPARTA_HELP_CALL_BACK_HEADING"),
size: "L",
style: le.heading
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(A["default"], {
ref: "codeField",
style: le.countryCode,
value: this.state.cCode
}),
style: le.innerContainer
},
_owner: null
},
style: le.borderStyle
},
_owner: null
}, h["default"].createElement(R["default"], {
ref: "phoneField",
type: "Numeric",
initialValue: r,
onValueChanged: function(e) {
return t.phoneNumberChanged(e);
},
isInvalid: this.state.isInvalid,
style: le.phoneNumber
}) ],
style: [ le.inputField, {
flexDirection: "row"
} ]
},
_owner: null
}, {
$$typeof: f,
type: A["default"],
key: null,
ref: null,
props: o(A["default"].defaultProps, {
value: __("ID_SPARTA_HELP_CALL_BACK_COUNTRY_CODE").toUpperCase(),
size: "S",
style: le.code
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: oe.Scroller,
key: null,
ref: null,
props: o(oe.Scroller.defaultProps, {
children: h["default"].createElement(H["default"], {
divider: "none",
items: n,
ref: "countryCodes",
autoActivateItems: b.focus.system.controllerMode,
showActiveIndicator: !0
}),
style: {
height: a
},
controller: !0
}),
_owner: null
},
style: le.countryCodeList
},
_owner: null
} ]
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: o(U["default"].defaultProps, {
text: __("ID_SPARTA_HELP_SUBMIT"),
textSize: "M",
disabled: this.state.disableBtn,
action: function() {
return t.handleNavigation(c + "/callbackconfirmation");
},
style: le.submitBtn
}),
_owner: null
}, e ],
style: le.submitFooter
},
_owner: null
} ],
style: {
width: $["default"].content.width,
height: $["default"].content.height
}
},
_owner: null
};
}, t.prototype.render = function O() {
var e = this;
return {
$$typeof: f,
type: S.WwceSupportTemplate,
key: null,
ref: null,
props: o(S.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
onBackClick: function() {
return e.handleNavigation(c);
}
}),
_owner: null
};
};
var n = t;
return t = s("_$WwceSupportCallBack")(t) || t, t = E["default"]({
contact: _["default"],
context: T["default"]
})(t) || t, t = Z["default"]()(t) || t;
}(h["default"].Component);
t["default"] = ue, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return G(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(2), y = n(46), g = l(y), m = n(7), b = l(m), v = n(183), _ = l(v), S = n(851), w = l(S), T = n(92), C = l(T), E = n(16), I = l(E), P = n(117), O = r(h), A = n(23), k = l(A), R = n(82), x = l(R), M = n(17), N = l(M), $ = n(4), D = l($), U = n(6), L = l(U), F = {
_$WwceSupportCallBackConfirmation: {
displayName: "WwceSupportCallBackConfirmation"
}
}, G = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportCallBackConfirmation.jsx",
components: F,
locals: [],
imports: []
}), j = O.createStyleSheet({
closeBtn: {
marginTop: 8 * L["default"].GUTTER,
width: 35 * L["default"].GUTTER,
height: 7 * L["default"].GUTTER,
color: "#FFFFFF"
},
callUsContent: {
color: "#D7DADA",
marginTop: SpartaGlobals.bundleIsPC ? L["default"].GUTTER : 0
},
title: {
color: "#FFFFFF"
},
wrapper: {
flex: 1,
alignItems: "center",
justifyContent: "center",
height: 80 * L["default"].GUTTER
}
}), B = function(e) {
function t() {
a(this, n), e.call(this), x["default"].resetCaseDetailState();
}
i(t, e), t.prototype.componentDidMount = function r() {
x["default"].createCase(this.state.contact.email);
}, t.prototype.onCloseClick = function l() {
var e = "wwcesupport/help";
"InGame" === this.state.context.source ? g["default"].route("playing/" + e) : N["default"].gotoLocation(e);
}, t.prototype.renderContent = function u() {
var e = this, t = D["default"].isUndefined(this.state["case"].caseDetail) || D["default"].isUndefined(this.state["case"].caseDetail.waitTimeRange) ? null : __("ID_SPARTA_HELP_CALL_BACK_CONFIRMATION_MSG") + " " + this.state["case"].caseDetail.waitTimeRange, n = D["default"].isUndefined(this.state["case"].caseDetail) || D["default"].isUndefined(this.state["case"].caseDetail.caseNumber) ? null : __("ID_SPARTA_HELP_CALL_BACK_CONFIRMATION_CASE_NUMBER") + " " + this.state["case"].caseDetail.caseNumber;
D["default"].isUndefined(this.state["case"].message) || ("AEGIS-C2C-MESSAGE-01" === this.state["case"].messageCode ? t = __("ID_SPARTA_HELP_MESSAGE_C2C_01") : "AEGIS-CASE-DUPLICATE-01" === this.state["case"].messageCode ? t = __("ID_SPARTA_HELP_MESSAGE_CASE_DUPLICATE") : "AEGIS-C2C-MESSAGE-02" === this.state["case"].messageCode ? t = __("ID_SPARTA_HELP_MESSAGE_C2C_02") : "AEGIS-CHANNEL-MESSAGE-01" === this.state["case"].messageCode ? t = __("ID_SPARTA_HELP_MESSAGE_CHANNEL_01") : "AEGIS-CHANNEL-MESSAGE-02" === this.state["case"].messageCode && (t = __("ID_SPARTA_HELP_MESSAGE_CHANNEL_02")));
var r;
return null !== n && (r = {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
value: __("ID_SPARTA_HELP_CALL_BACK_CONFIRMATION_HEADING"),
size: "L",
style: j.title
}),
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ r, {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
value: t,
size: "M",
style: j.callUsContent
}),
_owner: null
}, {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
value: n,
size: "M",
style: j.callUsContent
}),
_owner: null
}, {
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: o(k["default"].defaultProps, {
text: __("ID_SPARTA_HELP_CLOSE"),
style: j.closeBtn,
textSize: "M",
action: function() {
return e.onCloseClick();
}
}),
_owner: null
} ],
style: {
width: 100 * L["default"].GUTTER
}
},
_owner: null
},
style: j.wrapper
},
_owner: null
};
}, t.prototype.render = function p() {
var e = this;
return {
$$typeof: c,
type: P.WwceSupportTemplate,
key: null,
ref: null,
props: o(P.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
loading: D["default"].isUndefined(this.state["case"].caseDetail) && D["default"].isUndefined(this.state["case"].message),
onBackClick: function() {
return e.onCloseClick();
}
}),
_owner: null
};
};
var n = t;
return t = s("_$WwceSupportCallBackConfirmation")(t) || t, t = I["default"]({
contact: _["default"],
context: C["default"],
"case": w["default"]
})(t) || t, t = h.focusable("1c1126bc:39")(t) || t;
}(d["default"].Component);
t["default"] = B, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return j(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(2), g = n(4), m = l(g), b = n(20), v = l(b), _ = n(7), S = l(_), w = n(117), T = n(183), C = l(T), E = n(92), I = l(E), P = n(16), O = l(P), A = r(y), k = n(23), R = l(k), x = n(46), M = l(x), N = n(17), $ = l(N), D = n(6), U = l(D), L = n(31), F = n(40), G = {
_$WwceSupportCallBackDeflection: {
displayName: "WwceSupportCallBackDeflection"
},
_$CallBackImage: {
displayName: "CallBackImage"
}
}, j = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportCallBackDeflection.jsx",
components: G,
locals: [],
imports: []
}), B = A.createStyleSheet({
callbackContent: {
color: "#D7DADA"
},
title: {
color: "#FFFFFF",
marginBottom: 2 * U["default"].GUTTER
},
closeBtn: {
marginTop: 6 * U["default"].GUTTER,
width: 35 * U["default"].GUTTER,
height: 7 * U["default"].GUTTER,
color: "#FFFFFF"
},
bodyImage: {
height: U["default"].getHeight(45),
textureMode: "contain",
textureAlign: [ .5, .5 ],
marginBottom: 30,
marginTop: 30
},
bodyParagraph: {
textLineSpacing: Math.round(1.2 * F.LINE_HEIGHTS.S),
marginBottom: 20,
textAlign: "justify",
color: "#d3d3d3"
},
list: {
marginTop: 30,
marginBottom: 20
},
listItem: {
paddingLeft: 30,
marginBottom: 20
}
}), H = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentWillMount = function r() {
this.getDeflectionContent();
}, t.prototype.getDeflectionContent = function l() {
m["default"].each(this.state.contact.channels, function(e) {
"phone" === e.name && (c = e.message);
}, this);
}, t.prototype.getParsedContent = function u() {
if (c) {
var e = c, t = "", n = "", r = [], a = function i() {
"TEXT" === t && (r.push({
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
size: "S",
style: B.bodyParagraph,
value: n
}),
_owner: null
}), n = "");
};
return m["default"].each(e, function(e) {
if ("image" === e.chunkType) a(), r.push({
$$typeof: f,
type: V,
key: null,
ref: null,
props: o(V.defaultProps, {
image: e.src
}),
_owner: null
}), t = "IMAGE"; else if ("paragraph" === e.chunkType) n += e.content.text, t = "TEXT"; else if ("bulletlist" === e.chunkType) !function() {
a();
var n = [];
m["default"].each(e.items, function(e) {
n.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
size: "S",
value: "- " + e.text
}),
_owner: null
},
style: B.listItem
},
_owner: null
});
}), r.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: B.list
},
_owner: null
}), t = "LIST";
}(); else if ("orderedlist" === e.chunkType) {
var i;
!function() {
a();
var n = [];
i = 1, m["default"].each(e.items, function(e) {
n.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
size: "S",
value: i + ". " + e.text
}),
_owner: null
},
style: B.listItem
},
_owner: null
}), i++;
}), r.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: B.list
},
_owner: null
}), t = "LIST";
}();
}
}), n && a(), r;
}
}, t.prototype.onCloseClick = function p() {
var e;
e = this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection/channelselection" : "wwcesupport/help/channelselection", 
"InGame" === this.state.context.source ? M["default"].route("playing/" + e) : $["default"].gotoLocation(e);
}, t.prototype.renderContent = function d() {
var e = this;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
value: __("ID_SPARTA_HELP_CALL_BACK"),
size: "L",
style: B.title
}),
_owner: null
}, {
$$typeof: f,
type: L.Scroller,
key: null,
ref: null,
props: o(L.Scroller.defaultProps, {
children: this.getParsedContent(),
style: {
height: U["default"].getHeight(50)
}
}),
_owner: null
}, {
$$typeof: f,
type: R["default"],
key: null,
ref: null,
props: o(R["default"].defaultProps, {
text: __("ID_SPARTA_HELP_CLOSE"),
style: B.closeBtn,
textSize: "M",
action: function() {
return e.onCloseClick();
}
}),
_owner: null
} ],
style: {
width: 100 * U["default"].GUTTER
}
},
_owner: null
},
style: {
flex: 1,
alignItems: "center",
justifyContent: "center"
}
},
_owner: null
};
}, t.prototype.render = function h() {
var e = this;
return {
$$typeof: f,
type: w.WwceSupportTemplate,
key: null,
ref: null,
props: o(w.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
onBackClick: function() {
return e.onCloseClick();
}
}),
_owner: null
};
};
var n = t;
return t = s("_$WwceSupportCallBackDeflection")(t) || t, t = O["default"]({
contact: C["default"],
context: I["default"]
})(t) || t, t = y.focusable("52aa530d:64")(t) || t, t = v["default"]()(t) || t;
}(h["default"].Component);
t["default"] = H;
var V = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: [ B.bodyImage, {
texture: this.props.image
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$CallBackImage")(t) || t;
}(h["default"].Component);
e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return j(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(2), g = n(4), m = l(g), b = n(20), v = l(b), _ = n(7), S = l(_), w = n(117), T = n(183), C = l(T), E = n(92), I = l(E), P = n(16), O = l(P), A = r(y), k = n(23), R = l(k), x = n(46), M = l(x), N = n(17), $ = l(N), D = n(6), U = l(D), L = n(31), F = n(40), G = {
_$WwceSupportCallUs: {
displayName: "WwceSupportCallUs"
},
_$CallUsImage: {
displayName: "CallUsImage"
}
}, j = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportCallUs.jsx",
components: G,
locals: [],
imports: []
}), B = A.createStyleSheet({
callUsContent: {
color: "#D7DADA"
},
title: {
color: "#FFFFFF",
marginBottom: 2 * U["default"].GUTTER
},
closeBtn: {
marginTop: 6 * U["default"].GUTTER,
width: 35 * U["default"].GUTTER,
height: 7 * U["default"].GUTTER,
color: "#FFFFFF"
},
bodyImage: {
height: U["default"].getHeight(45),
textureMode: "contain",
textureAlign: [ .5, .5 ],
marginBottom: 30,
marginTop: 30
},
bodyParagraph: {
textLineSpacing: Math.round(1.2 * F.LINE_HEIGHTS.S),
marginBottom: 20,
textAlign: "justify",
color: "#d3d3d3"
},
list: {
marginTop: 30,
marginBottom: 20
},
listItem: {
paddingLeft: 30,
marginBottom: 20
}
}), H = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentWillMount = function r() {
this.getDeflectionContent();
}, t.prototype.getDeflectionContent = function l() {
m["default"].each(this.state.contact.channels, function(e) {
"Deflection" === e.name && (c = e.message);
}, this);
}, t.prototype.getParsedContent = function u() {
if (c) {
var e = c, t = "", n = "", r = [], a = function i() {
"TEXT" === t && (r.push({
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
size: "S",
style: B.bodyParagraph,
value: n
}),
_owner: null
}), n = "");
};
return m["default"].each(e, function(e) {
if ("image" === e.chunkType) a(), r.push({
$$typeof: f,
type: V,
key: null,
ref: null,
props: o(V.defaultProps, {
image: e.src
}),
_owner: null
}), t = "IMAGE"; else if ("paragraph" === e.chunkType) n += e.content.text, t = "TEXT"; else if ("bulletlist" === e.chunkType) !function() {
a();
var n = [];
m["default"].each(e.items, function(e) {
n.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
size: "S",
value: "- " + e.text
}),
_owner: null
},
style: B.listItem
},
_owner: null
});
}), r.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: B.list
},
_owner: null
}), t = "LIST";
}(); else if ("orderedlist" === e.chunkType) {
var i;
!function() {
a();
var n = [];
i = 1, m["default"].each(e.items, function(e) {
n.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
size: "S",
value: i + ". " + e.text
}),
_owner: null
},
style: B.listItem
},
_owner: null
}), i++;
}), r.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: B.list
},
_owner: null
}), t = "LIST";
}();
}
}), n && a(), r;
}
}, t.prototype.onCloseClick = function p() {
var e;
e = this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection/channelselection" : "wwcesupport/help/channelselection", 
"InGame" === this.state.context.source ? M["default"].route("playing/" + e) : $["default"].gotoLocation(e);
}, t.prototype.renderContent = function d() {
var e = this;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
value: __("ID_SPARTA_MENU_TITLE_HELP_CALL_US"),
size: "L",
style: B.title
}),
_owner: null
}, {
$$typeof: f,
type: L.Scroller,
key: null,
ref: null,
props: o(L.Scroller.defaultProps, {
children: this.getParsedContent(),
style: {
height: U["default"].getHeight(50)
}
}),
_owner: null
}, {
$$typeof: f,
type: R["default"],
key: null,
ref: null,
props: o(R["default"].defaultProps, {
text: __("ID_SPARTA_HELP_CLOSE"),
style: B.closeBtn,
textSize: "M",
action: function() {
return e.onCloseClick();
}
}),
_owner: null
} ],
style: {
width: 100 * U["default"].GUTTER
}
},
_owner: null
},
style: {
flex: 1,
alignItems: "center",
justifyContent: "center"
}
},
_owner: null
};
}, t.prototype.render = function h() {
var e = this;
return {
$$typeof: f,
type: w.WwceSupportTemplate,
key: null,
ref: null,
props: o(w.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
onBackClick: function() {
return e.onCloseClick();
}
}),
_owner: null
};
};
var n = t;
return t = s("_$WwceSupportCallUs")(t) || t, t = O["default"]({
contact: C["default"],
context: I["default"]
})(t) || t, t = y.focusable("b51db32e:64")(t) || t, t = v["default"]()(t) || t;
}(h["default"].Component);
t["default"] = H;
var V = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: [ B.bodyImage, {
texture: this.props.image
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$CallUsImage")(t) || t;
}(h["default"].Component);
e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return V(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(4), y = l(h), g = n(2), m = n(46), b = l(m), v = n(7), _ = l(v), S = n(477), w = l(S), T = n(17), C = l(T), E = n(16), I = l(E), P = n(117), O = n(92), A = l(O), k = r(g), R = n(9), x = n(18), M = l(x), N = n(6), $ = l(N), D = n(82), U = l(D), L = n(14), F = l(L), G = n(12), j = l(G), B = n(8), H = {
_$WwceSupportCategorySelection: {
displayName: "WwceSupportCategorySelection"
}
}, V = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportCategorySelection.jsx",
components: H,
locals: [],
imports: []
}), z = k.createStyleSheet({
title: {
color: "#FFFFFF"
},
boxesContainer: {
flexDirection: "row",
height: $["default"].getHeight(70),
color: "#FFFFFF",
fontSize: SpartaGlobals.bundleIsPC ? 24 : 30
},
box: {
width: 35 * $["default"].GUTTER,
height: 46 * $["default"].GUTTER,
marginRight: $["default"].GUTTER
},
categoryList: {
marginTop: 8 * $["default"].GUTTER
},
category: {
color: "#FFFFFF",
marginBottom: 4 * $["default"].GUTTER,
marginLeft: 3 * $["default"].GUTTER,
marginRight: 3 * $["default"].GUTTER
}
}), W = {
warranty: R.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_Warranty_White-154247ef.png"),
"technical-support": R.bbOfflineUrl("/sparta/jsclient/builds/assets/TechSupport_normalState_PC-1c7c72d0.png"),
"report-concerns-or-harassment": R.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_ReportConcerns_White-bce04f84.png"),
"report-a-bug": R.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_ReportBug_White-bbe8083f.png"),
orders: R.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_Orders_White-c4c73373.png"),
"missing-content": R.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_MissingContent_White-9fa738b1.png"),
"manage-my-account": R.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_ManageAccount_White-8807f3ac.png"),
"game-information": R.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_GameInfo_White-282bf86f.png"),
"codes-and-promotions": R.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_CodesAndPromos_White-d1e9fdad.png")
}, q = function(e) {
function t() {
a(this, n), e.call(this);
}
i(t, e), t.prototype.handleNavigation = function r(e, t) {
U["default"].updateSelectedCategory(t), "InGame" === this.state.context.source ? b["default"].route("playing/" + e) : C["default"].gotoLocation(e);
}, t.prototype.renderContent = function l() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: __("ID_SPARTA_HELP_CATEGORY_SELECTION_HEADING"),
size: "L",
style: z.title
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: y["default"].map(this.state.context.categories, function(e, t) {
var n = this;
if (3 >= t) {
var r, a, i = function() {
r = {
texture: W[e.internalName],
width: 120,
height: 120
}, a = [ {
$$typeof: c,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: e.name.toUpperCase(),
size: "S",
style: z.category
}),
_owner: null
} ];
var t = new F["default"]({
key: j["default"].Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function i() {
n.handleNavigation("wwcesupport/help/categoryselection/channelselection", e.internalName);
}
});
return {
v: {
$$typeof: c,
type: g.Focusable,
key: null,
ref: null,
props: o(g.Focusable.defaultProps, {
children: function s(e) {
return {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: r
},
_owner: null
},
bottom: a,
style: z.box,
input: t,
focusItem: e
}),
_owner: null
};
},
debugName: "wwce_category_selection",
autoFocusCandidate: !0
}),
_owner: null
}
};
}();
if ("object" == typeof i) return i.v;
}
}, this),
style: [ z.boxesContainer, z.categoryList ]
},
_owner: null
} ],
style: {
width: M["default"].content.width,
height: M["default"].content.height
}
},
_owner: null
};
}, t.prototype.render = function u() {
var e = this;
return {
$$typeof: c,
type: P.WwceSupportTemplate,
key: null,
ref: null,
props: o(P.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
onBackClick: function() {
return e.handleNavigation("wwcesupport/help");
}
}),
_owner: null
};
};
var n = t;
return t = s("_$WwceSupportCategorySelection")(t) || t, t = I["default"]({
context: A["default"]
})(t) || t, t = B.observer(t) || t;
}(d["default"].Component);
t["default"] = q, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return q(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(4), g = l(y), m = n(2), b = n(46), v = l(b), _ = n(7), S = l(_), w = n(17), T = l(w), C = n(16), E = l(C), I = n(92), P = l(I), O = n(117), A = n(183), k = l(A), R = r(m), x = n(9), M = n(18), N = l(M), $ = n(6), D = l($), U = n(477), L = l(U), F = n(82), G = l(F), j = n(14), B = l(j), H = n(12), V = l(H), z = n(8), W = {
_$WwceSupportChannelSelection: {
displayName: "WwceSupportChannelSelection"
}
}, q = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportChannelSelection.jsx",
components: W,
locals: [],
imports: []
}), K = R.createStyleSheet({
title: {
color: "#FFFFFF"
},
boxesContainer: {
flexDirection: "row",
height: D["default"].getHeight(70)
},
box: {
width: 35 * D["default"].GUTTER,
height: 46 * D["default"].GUTTER,
marginRight: D["default"].GUTTER
},
channelList: {
marginTop: 8 * D["default"].GUTTER
},
channel: {
color: "#FFFFFF",
marginBottom: 3 * D["default"].GUTTER,
marginLeft: 3 * D["default"].GUTTER,
marginRight: 3 * D["default"].GUTTER
},
channelText: {
color: "#FFFFFF",
marginBottom: 4 * D["default"].GUTTER,
marginLeft: 3 * D["default"].GUTTER,
marginRight: 3 * D["default"].GUTTER
},
deflectionImageStyle: {
texture: x.bbOfflineUrl("/sparta/jsclient/builds/assets/CallUs_normalstate_PC-946a54a6.png"),
width: 12 * D["default"].GUTTER,
height: 12 * D["default"].GUTTER
},
phoneImageStyle: {
texture: x.bbOfflineUrl("/sparta/jsclient/builds/assets/Callback_Off-fe8c9b2c.png"),
width: 12 * D["default"].GUTTER,
height: 12 * D["default"].GUTTER
}
}), X = function(e) {
function t() {
a(this, n), e.call(this), G["default"].resetChannelDetailState();
}
i(t, e), t.prototype.componentDidMount = function r() {
G["default"].getContactChannels(this.state.context.selectedCategory, this.state.context.userLocation), 
c = this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection/channelselection/" : "wwcesupport/help/channelselection/";
}, t.prototype.handleNavigation = function l(e, t) {
"backClick" === e ? (e = this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection" : "wwcesupport/help", 
G["default"].resetChannelDetailState()) : G["default"].updateSelectedChannel(t), 
"InGame" === this.state.context.source ? v["default"].route("playing/" + e) : T["default"].gotoLocation(e);
}, t.prototype.renderContent = function u() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
value: __("ID_SPARTA_HELP_CHANNEL_SELECTION_HEADING"),
size: "L",
style: K.title
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: g["default"].map(this.state.contactChannel.channels, function(e, t) {
var n = this;
if ("Deflection" === e.name) {
var r, a = function() {
r = [ {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
value: __("ID_SPARTA_MENU_TITLE_HELP_CALL_US").toUpperCase(),
size: "S",
style: K.channelText
}),
_owner: null
} ];
var t = new B["default"]({
key: V["default"].Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function a() {
return n.handleNavigation(c + "callus", e);
}
});
return {
v: {
$$typeof: f,
type: m.Focusable,
key: null,
ref: null,
props: o(m.Focusable.defaultProps, {
children: function i(e) {
return {
$$typeof: f,
type: L["default"],
key: null,
ref: null,
props: o(L["default"].defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: K.deflectionImageStyle
},
_owner: null
},
bottom: r,
input: t,
focusItem: e,
style: K.box
}),
_owner: null
};
},
debugName: "wwce_channel_selection",
autoFocusCandidate: !0
}),
_owner: null
}
};
}();
if ("object" == typeof a) return a.v;
} else if ("phone" === e.name) {
var i, s, l, u, p = function() {
e.notInBusinessHours === !0 ? i = c + "callbackDeflection" : (i = c + "callback", 
s = __("ID_SPARTA_HELP_CHANNEL_SELECTION_RECOMMENDED"), l = __("ID_SPARTA_HELP_CHANNEL_SELECTION_EST_WAIT_TIME") + e.waitTimeRange), 
u = [ {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
value: l,
size: "S",
style: K.channel
}),
_owner: null
}, {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
value: __("ID_SPARTA_MENU_TITLE_HELP_GET_A_CALL").toUpperCase(),
size: "S",
style: K.channelText
}),
_owner: null
} ];
var t = new B["default"]({
key: V["default"].Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function r() {
return n.handleNavigation(i, e);
}
});
return {
v: {
$$typeof: f,
type: m.Focusable,
key: null,
ref: null,
props: o(m.Focusable.defaultProps, {
children: function a(e) {
return {
$$typeof: f,
type: L["default"],
key: null,
ref: null,
props: o(L["default"].defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: K.phoneImageStyle
},
_owner: null
},
title: s,
bottom: u,
input: t,
focusItem: e,
style: K.box
}),
_owner: null
};
},
debugName: "wwce_channel_selection",
autoFocusCandidate: !0
}),
_owner: null
}
};
}();
if ("object" == typeof p) return p.v;
}
}, this),
style: [ K.boxesContainer, K.channelList ]
},
_owner: null
} ],
style: {
width: N["default"].content.width,
height: N["default"].content.height
}
},
_owner: null
};
}, t.prototype.render = function p() {
var e = this;
return {
$$typeof: f,
type: O.WwceSupportTemplate,
key: null,
ref: null,
props: o(O.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
loading: g["default"].isUndefined(this.state.contactChannel.channels),
onBackClick: function() {
return e.handleNavigation("backClick");
}
}),
_owner: null
};
};
var n = t;
return t = s("_$WwceSupportChannelSelection")(t) || t, t = E["default"]({
context: P["default"],
contactChannel: k["default"]
})(t) || t, t = z.observer(t) || t;
}(h["default"].Component);
t["default"] = X, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function e(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return K(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(4), h = s(d), y = n(2), g = n(8), m = n(46), b = s(m), v = n(7), _ = s(v), S = n(17), w = s(S), T = n(117), C = n(850), E = n(92), I = s(E), P = n(16), O = s(P), A = n(82), k = s(A), R = e(y), x = n(23), M = s(x), N = n(59), $ = s(N), D = n(31), U = n(6), L = s(U), F = n(18), G = s(F), j = n(14), B = s(j), H = n(12), V = s(H), z = n(11), W = n(41), q = {
_$WwceSupportOverview: {
displayName: "WwceSupportOverview"
},
_$Article: {
displayName: "Article"
}
}, K = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/WwceSupportOverview.jsx",
components: q,
locals: [],
imports: []
}), X = R.createStyleSheet({
articleTitle: {
marginBottom: 2 * L["default"].GUTTER,
color: "#D7DADA",
left: 3.2 * L["default"].GUTTER
},
articleSummary: {
color: "#C7C7C7",
marginBottom: 4 * L["default"].GUTTER,
left: 3.2 * L["default"].GUTTER
},
articleHover: {
color: "#FFFFFF"
},
noContactUs: {
position: "absolute",
bottom: SpartaGlobals.bundleIsConsole ? 0 : L["default"].content.rowSpan(9),
left: 3.2 * L["default"].GUTTER,
width: 35 * L["default"].GUTTER,
height: 7 * L["default"].GUTTER,
color: "#FFFFFF"
},
verticalDivider: {
height: 13 * L["default"].GUTTER,
width: .4 * L["default"].GUTTER,
marginBottom: .5 * L["default"].GUTTER,
backgroundColor: "#FFFFFF"
},
noArticleHeading: {
color: "#C3C3C3"
},
noArticleText: {
color: "#7C7C7C"
},
inGameHeader: {
color: "#C7C7C7",
height: L["default"].content.rowSpan(6),
marginBottom: 3 * L["default"].GUTTER
},
verticleDividerBlurred: {
height: 13 * L["default"].GUTTER,
width: .4 * L["default"].GUTTER,
marginBottom: .5 * L["default"].GUTTER
},
articleBlurred: {}
}), Y = function(e) {
function t() {
o(this, n), e.call(this), C.wwceSupportArticleState.reset();
}
a(t, e), t.prototype.componentDidMount = function s() {
W.onlineState.isOnlineBlazeAndGateway && (k["default"].getArticles(this.state.context.source), 
k["default"].updateLocation("ARTICLE_LIST"));
}, t.prototype.onBackClick = function l() {
b["default"].route("playing"), k["default"].resetContextDetails();
}, t.prototype.handleNavigation = function u(e, t) {
if (this.organiseCategories(), k["default"].updateArticleId(t), "contactUs" === e) if (this.state.context.categories.length > 1) e = "wwcesupport/help/categoryselection"; else {
var n = this.state.context.categories.length > 0 ? this.state.context.categories[0].internalName : "default-category";
k["default"].updateSelectedCategory(n), e = "wwcesupport/help/channelselection";
}
"InGame" === this.state.context.source ? b["default"].route("playing/" + e) : w["default"].gotoLocation(e);
}, t.prototype.organiseCategories = function c() {
var e = [], t = [];
if (C.wwceSupportArticleState.items.articleList && C.wwceSupportArticleState.items.articleList.length > 0) {
var n = C.wwceSupportArticleState.items.articleList[0];
h["default"].each(n.categories, function(n) {
-1 === h["default"].indexOf(t, n.internalName) && (t.push(n.internalName), e.push(n));
}, this);
}
k["default"].updateCategories(e);
}, t.prototype.renderArticleItems = function f() {
return h["default"].map(C.wwceSupportArticleState.items.articleList, function(e, t) {
var n = this, o = new B["default"]({
action: function a() {
return n.handleNavigation("wwcesupport/help/articledetail", e.id);
},
label: __("ID_SPARTA_ACTION_SELECT"),
key: V["default"].Accept
});
return 2 >= t ? {
$$typeof: p,
type: y.Focusable,
key: null,
ref: null,
props: r(y.Focusable.defaultProps, {
children: function i(t) {
return {
$$typeof: p,
type: $["default"],
key: null,
ref: null,
props: r($["default"].defaultProps, {
children: {
$$typeof: p,
type: J,
key: null,
ref: null,
props: r(J.defaultProps, {
article: e,
focusItem: t
}),
_owner: null
},
focusItem: t,
input: o
}),
_owner: null
};
},
debugName: "wwcearticle_" + e.id,
autoFocusCandidate: !0
}),
_owner: null
} : void 0;
}, this);
}, t.prototype.renderContent = function d() {
var e, t = this, n = "InGame" === this.state.context.source;
if (C.wwceSupportArticleState.items.showContactUs && z.settingsStore.isFeatureEnabled("enableHelpContactUs")) {
var o = __("ID_SPARTA_HELP_CONTACT_US"), a = L["default"].GUTTER * (17.5 + 1.75 * o.length), i = L["default"].GUTTER * (105 - (17.5 + 1.75 * o.length));
e = a + i;
var s = R.createStyleSheet({
contactUsBtn: {
marginRight: i,
width: a,
height: 7 * L["default"].GUTTER,
position: "absolute",
bottom: SpartaGlobals.bundleIsConsole ? 0 : L["default"].content.rowSpan(9),
left: 0
}
});
e = {
$$typeof: p,
type: M["default"],
key: null,
ref: null,
props: r(M["default"].defaultProps, {
text: o,
style: s.contactUsBtn,
textSize: "M",
action: function() {
return t.handleNavigation("contactUs");
}
}),
_owner: null
};
} else {
var l;
l = __(n ? "ID_SPARTA_HELP_NO_CONTACT_US_BFONE" : "ID_SPARTA_HELP_NO_CONTACT_US_PC"), 
e = {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
value: l,
size: "M",
style: X.noContactUs
}),
_owner: null
};
}
var u = n ? {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
value: __("ID_SPARTA_MENU_TITLE_HELP_ARTICLE").toUpperCase(),
size: "M",
style: X.inGameHeader
}),
_owner: null
} : null, c = G["default"].content.height - L["default"].getHeight(8);
return n && (c -= X.inGameHeader.height), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ u, {
$$typeof: p,
type: D.Scroller,
key: null,
ref: null,
props: r(D.Scroller.defaultProps, {
children: this.renderArticleItems(),
style: {
height: c
}
}),
_owner: null
}, e ],
style: {
height: G["default"].content.height
}
},
_owner: null
};
}, t.prototype.renderNoArticlesFound = function m() {
var e, t = this, n = "InGame" === this.state.context.source;
if (C.wwceSupportArticleState.items.showContactUs) {
var o = __("ID_SPARTA_HELP_CONTACT_US"), a = L["default"].GUTTER * (17.5 + 1.75 * o.length), i = L["default"].GUTTER * (105 - (17.5 + 1.75 * o.length));
e = a + i;
var s = R.createStyleSheet({
contactUsBtn: {
marginRight: i,
width: a,
height: 7 * L["default"].GUTTER,
position: "absolute",
bottom: SpartaGlobals.bundleIsConsole ? 0 : L["default"].content.rowSpan(9),
left: 0
}
});
e = {
$$typeof: p,
type: M["default"],
key: null,
ref: null,
props: r(M["default"].defaultProps, {
text: o,
style: s.contactUsBtn,
textSize: "M",
action: function() {
return t.handleNavigation("contactUs");
}
}),
_owner: null
};
} else {
var l;
l = __(n ? "ID_SPARTA_HELP_NO_CONTACT_US_BFONE" : "ID_SPARTA_HELP_NO_CONTACT_US_PC"), 
e = {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
value: l,
size: "M",
style: X.noContactUs
}),
_owner: null
};
}
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
value: __("ID_SPARTA_HELP_ARTICLE_LIST_NO_ARTICLE_FOUND"),
size: "XL",
style: X.noArticleHeading
}),
_owner: null
}, {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
value: __("ID_SPARTA_HELP_ARTICLE_LIST_NO_ARTICLE_FOUND_MSG"),
size: "L",
style: X.noArticleText
}),
_owner: null
}, e ],
style: {
width: L["default"].content.width,
height: G["default"].content.height
}
},
_owner: null
};
}, t.prototype.render = function v() {
var e = C.wwceSupportArticleState.items.articleList;
return e && 0 === e.length ? {
$$typeof: p,
type: T.WwceSupportTemplate,
key: null,
ref: null,
props: r(T.WwceSupportTemplate.defaultProps, {
children: this.renderNoArticlesFound(),
onBackClick: this.onBackClick.bind(this)
}),
_owner: null
} : {
$$typeof: p,
type: T.WwceSupportTemplate,
key: null,
ref: null,
props: r(T.WwceSupportTemplate.defaultProps, {
children: this.renderContent(),
loading: !e,
onBackClick: this.onBackClick.bind(this)
}),
_owner: null
};
};
var n = t;
return t = i("_$WwceSupportOverview")(t) || t, t = O["default"]({
context: I["default"]
})(t) || t, t = g.observer(t) || t;
}(f["default"].Component);
t.WwceSupportOverview = Y;
var J = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e, t;
return this.props.focusItem.isFocused ? (t = X.verticalDivider, e = X.articleHover) : (t = X.verticleDividerBlurred, 
e = X.articleBlurred), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
value: this.props.article.title,
size: "L",
style: [ X.articleTitle, e ]
}),
_owner: null
}, {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
value: this.props.article.summary,
size: "S",
style: [ X.articleSummary, e ]
}),
_owner: null
} ],
style: {
width: G["default"].content.width - 32
}
},
_owner: null
} ],
style: {
flexDirection: "row",
height: 18 * L["default"].GUTTER
}
},
_owner: null
};
};
var n = t;
return t = i("_$Article")(t) || t, t = y.focusable("fbcf1f02:298")(t) || t;
}(f["default"].Component);
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return E(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(2), g = r(y), m = n(7), b = l(m), v = n(6), _ = l(v), S = n(59), w = l(S), T = n(8), C = {
_$HelpBox: {
displayName: "HelpBox"
}
}, E = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/components/HelpBox.jsx",
components: C,
locals: [],
imports: []
}), I = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, P = "#ffffff", O = "#00000050", A = {
justifyContent: "center",
alignItems: "center"
}, k = {
title: {
padding: _["default"].GUTTER,
marginBottom: _["default"].GUTTER
},
content: f({}, A, {
flex: 1,
zOffset: 1
}),
bottom: {
padding: _["default"].GUTTER
}
}, R = function(e) {
function t(t) {
if (a(this, n), e.call(this, t), !t.focusItem) throw new Error("No focusItem passed to <Box>");
}
i(t, e), t.prototype.render = function r() {
var e = this.props.focusItem.isFocused, t = f({
width: this.props.width,
height: this.props.height,
backgroundColor: e ? P : O
}, this.props.style), n = {
color: e ? "#000000" : "#ffffff",
size: "XS",
style: {
zOffset: 1
}
}, r = f({}, k.title, {
backgroundColor: e ? "00000000" : O
}), a = this.props.title && {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(b["default"], f({
value: this.props.title.toUpperCase()
}, n)),
style: r
},
_owner: null
}, i = this.props.children || [], s = Array.isArray(i) ? i : [ i ];
s = s.map(function(e, t) {
var r = f({}, e.props.style, {
color: n.color
});
return h["default"].cloneElement(e, {
key: t,
style: r
});
});
var l = this.props.bottom || [];
return l = "string" == typeof l ? {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
value: l
}),
_owner: null
} : l, l = Array.isArray(l) ? l : [ l ], l = l.map(function(e, t) {
var r = f({}, e.props.style, {
color: n.color
});
return h["default"].cloneElement(e, f({
key: t
}, e.props, {
style: r
}));
}), {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: s,
style: k.content
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: l,
style: k.bottom
},
_owner: null
} ],
style: f({}, I, {
zOffset: 10
})
},
_owner: null
},
input: this.props.input,
focusItem: this.props.focusItem,
style: t,
triggerMode: "after"
}),
_owner: null
};
};
var n = t;
return t = s("_$HelpBox")(t) || t, t = T.observer(t) || t;
}(h["default"].Component);
t["default"] = R, R.propTypes = {
focusItem: h["default"].PropTypes.instanceOf(g.focus.FocusItem),
title: h["default"].PropTypes.string
}, R.defaultProps = {
width: _["default"].window.xParts(6),
height: .65 * _["default"].window.xParts(6)
}, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o(e) {
var t = e.surfaces, r = void 0 === t ? [] : t, a = e.eventName, i = e.button, s = e.scroll;
n(this, o), this.surfaces = r.map(function(e) {
return {
surfaceId: e.surfaceId,
x: e.x,
y: e.y
};
}), this.eventName = a, this.button = i, this.scroll = s;
};
t["default"] = r, e.exports = t["default"];
}, function(e, t) {
e.exports = [ "onMouseDown", "onMouseUp", "onClick", "onDoubleClick", "onMouseScroll", "onMouseEnter", "onMouseLeave", "onBoundsChanged" ];
}, function(e, t, n) {
(function(t) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = l[e];
delete l[e], t && t();
}
var a = n(45), i = n(486), s = r(i), l = {}, u = 0, p = {}, c = 0;
"undefined" == typeof t.setTimeout && (t.setTimeout = function f(e, t) {
u++;
var n = u;
return "undefined" == typeof t && (t = 0), s["default"].currentAction && (e = s["default"].currentAction.wrapTimeout(n, e, t)), 
l[n] = e, a.Native.addTimeout(n, t), n;
}), "undefined" == typeof t.setInterval && (t.setInterval = function d(e, t) {
c++;
var n = c;
p[n] = !0;
var r = function o() {
p[n] && (e(), setTimeout(o, t));
};
return setTimeout(r, t), n;
}), "undefined" == typeof t.clearInterval && (t.clearInterval = function h(e) {
delete p[e];
}), "undefined" == typeof t.clearTimeout && (t.clearTimeout = function y(e) {
s["default"].currentAction && s["default"].currentAction.clearTimeout(e), delete l[e];
}), e.exports = {
setTimeout: setTimeout,
setInterval: setInterval,
clearTimeout: clearTimeout,
clearInterval: clearInterval,
onTimeout: o
};
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
(function(e) {
function r(e) {
return function t(n, r) {
return void 0 === r && (r = null), e(n, r);
};
}
t.__esModule = !0;
var o, a = Array.prototype.slice, i = n(45), s = n(121), l = n(79);
if (t.frostbite = o, e.frostbite) t.frostbite = o = e.frostbite; else {
var u = {};
e.onFrostbiteMessage = function(t, n) {
var r = u[t];
if (r) {
var o = 0;
l.options.enableLogging && (o = e.performance.now());
try {
r.trigger(t, n);
} catch (a) {
throw a.message = "Failed to handle frostbite message " + t + ":" + a.message, a;
}
if (l.options.enableLogging) {
var i = e.performance.now() - o;
console.info("Frostbite event (receive - took " + i.toFixed(1) + "ms):", t, n);
}
}
}, t.frostbite = o = {
sendMessage: function p() {
l.options.enableLogging && console.info.apply(console, [ "Frostbite event (send):" ].concat(a.call(arguments))), 
i.Native.sendMessage.apply(i.Native, arguments);
},
getMessageListener: function c(e) {
return u[e] || (u[e] = new s.TwinkleEvent());
},
registerMessageListener: function f(e, t) {
var n = o.getMessageListener(e);
return n.listen(function() {
t && t.apply(void 0, arguments);
});
},
removeMessageListener: function d(e, t) {
var n = u[e] || (u[e] = new s.TwinkleEvent()), r = n.callbacks.indexOf(t);
-1 !== r && n.callbacks.splice(r, 1);
}
};
}
o.sendMessage = r(o.sendMessage.bind(o));
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function a(e, t) {
v.onInputActionDown.trigger(e, t, x);
}
function i(e, t) {
v.onInputActionUp.trigger(e, t, x);
}
function s(e) {
N = e;
}
function l() {
return null === N && (N = k.Native.isEnterOnCircle()), N;
}
function u(e) {
v.onKeyDown.trigger(e);
}
function p(e) {
v.onKeyUp.trigger(e);
}
function c(e) {
x = !0, clearTimeout(M), M = setTimeout(function() {
x = !1;
}, 500), v.onPadButtonDown.trigger(e);
}
function f(e) {
v.onPadButtonUp.trigger(e);
}
function d(e) {
k.Native.enableMouseMoveSync(!1), D = null, e && U && U(), U = null;
}
function h(e, t) {
k.Native.enableMouseMoveSync(!0), D = e, U = t;
}
function y(e, t) {
D && (1 >= e && 1 >= t && (e = 960 + 960 * e, t = 1080 - (540 + 540 * t)), D(e, t));
}
function g(e) {
if (D) for (var t = 0; t < e.length; t++) {
var n = e[t];
if ("onMouseUp" === T["default"][n.event]) {
d(!0);
break;
}
} else e = e.filter(function(e) {
if (!e.surfaces.length) return !0;
if (0 === e.event) $ = e.surfaces[0].surfaceId; else if (2 === e.event) return 0 !== e.button ? !1 : e.surfaces[0].surfaceId === $;
return !0;
}), E["default"].batchedUpdates(function() {
R.transaction(function() {
var t = [];
e.forEach(function(e) {
var n = m({}, e, {
eventName: T["default"][e.event]
});
n = new P["default"](n), t.push(n), v.onPropagatingMouseEvent.trigger(n);
for (var r = !0, o = function c() {
r = !1;
}, a = [], i = 0; i < n.surfaces.length; i++) {
var s = n.surfaces[i], l = new A["default"](m({}, n, s));
a.push(l.stopPropagation.listen(o));
for (var u = S.getCallbacks(l.surfaceId, l.eventName), p = 0; p < u.length; p++) v.onMouseEvent.trigger(l), 
u[p](l);
if (!r) break;
}
a.forEach(function(e) {
return e();
});
}), v.onPropagatingMouseEvents.trigger(t);
});
});
}
t.__esModule = !0;
var m = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
};
t.onInputActionDown = a, t.onInputActionUp = i, t.setIsEnterOnCircle = s, t.isEnterOnCircle = l, 
t.onKeyDown = u, t.onKeyUp = p, t.onPadButtonDown = c, t.onPadButtonUp = f, t.stopCapture = d, 
t.captureMouse = h, t.onMouseMove = y, t.onMouseEvents = g;
var b = n(109), v = o(b), _ = n(315), S = o(_), w = n(479), T = r(w), C = n(64), E = r(C), I = n(478), P = r(I), O = n(874), A = r(O), k = n(45), R = n(10), x = !1, M = 0, N = null, $ = "", D = null, U = null;
}, function(e, t, n) {
function r() {
var e = arguments[0];
if (c.hasOwnProperty(e) && void 0 !== c[e]) {
for (var t = c[e], n = [], r = 1; r < arguments.length; r++) n.push(arguments[r]);
t.apply(void 0, n);
} else console.warn("Could not find kvStorage callback with id: " + e);
}
function o(e) {
var t = f++;
return void 0 !== e && (c[t] = e), t;
}
function a(e, t, n, o) {
r(e, t, n, o);
}
function i(e, t, n) {
r(e, t, n);
}
function s(e, t, n) {
r(e, t, n);
}
function l(e, t, n) {
r(e, n);
}
var u = n(45), p = {
GET_KEYNOTFOUND: -3
}, c = {}, f = 1;
e.exports = {
getItem: function d(e, t) {
var n = o(t);
u.Native.fetchKey(n, e);
},
storeItem: function h(e, t, n) {
var r = o(n);
u.Native.storeKey(r, e, t);
},
removeItem: function y(e, t) {
var n = o(t);
u.Native.removeKey(n, e);
},
clear: function g(e) {
var t = o(e);
u.Native.clearKeys(t);
},
onKeyFetched: a,
onKeyStored: i,
onKeyRemoved: s,
onKeysCleared: l,
errorCodes: p
};
}, function(e, t, n) {
function r(e, t) {
var n = i;
i++;
var r = {
id: n,
url: e,
callback: t
};
s[n] = r, a.Native.loadAssetRequest(r.id, r.url);
}
function o(e, t, n) {
var r = s[e];
delete s[e], r.callback(t, n);
}
t.__esModule = !0, t.loadAssetRequest = r, t.onLoadAssetRequestCompleted = o;
var a = n(45), i = 1, s = {};
}, function(e, t, n) {
(function(e) {
function r() {
return o.Native.profilerTime ? 1e3 * o.Native.profilerTime() : e.window && e.window.performance ? e.window.performance.now() : Date.now();
}
t.__esModule = !0, t.getTime = r;
var o = n(45);
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e) {
a.currentAction = this, this.name = e, this.startedAt = o(), this.elapsed = 0, this.timers = 0, 
this.activeTimers = {}, this.active = !0, this.reported = !1;
}
var o = n(485).getTime, a = {
currentAction: null,
onActionCompleted: null,
createAction: function i(e) {
var t = new r(e);
return function() {
t.stop();
};
}
};
r.prototype = {
stop: function s() {
this.active = !1, this.elapsed += o() - this.startedAt, this.checkEnd();
},
checkEnd: function l() {
this.active || 0 !== this.timers || (a.currentAction === this && (a.currentAction = null), 
this.reported || (this.reported = !0, a.onActionCompleted ? a.onActionCompleted(this) : this.report()));
},
report: function u() {
var e = this.elapsed.toFixed(1) + " ms for " + this.name;
console.log(e);
},
clearTimeout: function p(e) {
this.activeTimers[e] && (this.activeTimers[e] = !1, this.timers--), this.checkEnd();
},
wrapTimeout: function c(e, t, n) {
if (n >= 600) return t;
this.activeTimers[e] = !0, this.timers++;
var r = this;
return function() {
var n = o();
t && t(), r.elapsed += o() - n, r.clearTimeout(e);
};
}
}, e.exports = a;
}, function(e, t) {
(function(t) {
"use strict";
function n(e) {
s.length || (i(), l = !0), s[s.length] = e;
}
function r() {
for (;u < s.length; ) {
var e = u;
if (u += 1, s[e].call(), u > p) {
for (var t = 0, n = s.length - u; n > t; t++) s[t] = s[t + u];
s.length -= u, u = 0;
}
}
s.length = 0, u = 0, l = !1;
}
function o(e) {
var t = 1, n = new f(e), r = document.createTextNode("");
return n.observe(r, {
characterData: !0
}), function o() {
t = -t, r.data = t;
};
}
function a(e) {
return function t() {
function t() {
clearTimeout(n), clearInterval(r), e();
}
var n = setTimeout(t, 0), r = setInterval(t, 50);
};
}
e.exports = n;
var i, s = [], l = !1, u = 0, p = 1024, c = "undefined" != typeof t ? t : self, f = c.MutationObserver || c.WebKitMutationObserver;
i = "function" == typeof f ? o(r) : a(r), n.requestFlush = i, n.makeRequestCallFromTimer = a;
}).call(t, function() {
return this;
}());
}, function(e, t) {
"use strict";
function n(e, t) {
return e + t.charAt(0).toUpperCase() + t.substring(1);
}
var r = {
animationIterationCount: !0,
boxFlex: !0,
boxFlexGroup: !0,
boxOrdinalGroup: !0,
columnCount: !0,
flex: !0,
flexGrow: !0,
flexPositive: !0,
flexShrink: !0,
flexNegative: !0,
flexOrder: !0,
fontWeight: !0,
lineClamp: !0,
lineHeight: !0,
opacity: !0,
order: !0,
orphans: !0,
tabSize: !0,
widows: !0,
zIndex: !0,
zoom: !0,
fillOpacity: !0,
stopOpacity: !0,
strokeDashoffset: !0,
strokeOpacity: !0,
strokeWidth: !0
}, o = [ "Webkit", "ms", "Moz", "O" ];
Object.keys(r).forEach(function(e) {
o.forEach(function(t) {
r[n(t, e)] = r[e];
});
});
var a = {
background: {
backgroundAttachment: !0,
backgroundColor: !0,
backgroundImage: !0,
backgroundPositionX: !0,
backgroundPositionY: !0,
backgroundRepeat: !0
},
backgroundPosition: {
backgroundPositionX: !0,
backgroundPositionY: !0
},
border: {
borderWidth: !0,
borderStyle: !0,
borderColor: !0
},
borderBottom: {
borderBottomWidth: !0,
borderBottomStyle: !0,
borderBottomColor: !0
},
borderLeft: {
borderLeftWidth: !0,
borderLeftStyle: !0,
borderLeftColor: !0
},
borderRight: {
borderRightWidth: !0,
borderRightStyle: !0,
borderRightColor: !0
},
borderTop: {
borderTopWidth: !0,
borderTopStyle: !0,
borderTopColor: !0
},
font: {
fontStyle: !0,
fontVariant: !0,
fontWeight: !0,
fontSize: !0,
lineHeight: !0,
fontFamily: !0
},
outline: {
outlineWidth: !0,
outlineStyle: !0,
outlineColor: !0
}
}, i = {
isUnitlessNumber: r,
shorthandPropertyExpansions: a
};
e.exports = i;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
var r = n >= e.childNodes.length ? null : e.childNodes.item(n);
e.insertBefore(t, r);
}
var o = n(912), a = n(324), i = n(84), s = n(236), l = n(334), u = n(29), p = {
dangerouslyReplaceNodeWithMarkup: o.dangerouslyReplaceNodeWithMarkup,
updateTextContent: l,
processUpdates: function(e, t) {
for (var n, i = null, p = null, c = 0; c < e.length; c++) if (n = e[c], n.type === a.MOVE_EXISTING || n.type === a.REMOVE_NODE) {
var f = n.fromIndex, d = n.parentNode.childNodes[f], h = n.parentID;
d ? void 0 : u(!1), i = i || {}, i[h] = i[h] || [], i[h][f] = d, p = p || [], p.push(d);
}
var y;
if (y = t.length && "string" == typeof t[0] ? o.dangerouslyRenderMarkup(t) : t, 
p) for (var g = 0; g < p.length; g++) p[g].parentNode.removeChild(p[g]);
for (var m = 0; m < e.length; m++) switch (n = e[m], n.type) {
case a.INSERT_MARKUP:
r(n.parentNode, y[n.markupIndex], n.toIndex);
break;

case a.MOVE_EXISTING:
r(n.parentNode, i[n.parentID][n.fromIndex], n.toIndex);
break;

case a.SET_MARKUP:
s(n.parentNode, n.content);
break;

case a.TEXT_CONTENT:
l(n.parentNode, n.content);
break;

case a.REMOVE_NODE:}
}
};
i.measureMethods(p, "DOMChildrenOperations", {
updateTextContent: "updateTextContent"
}), e.exports = p;
}, function(e, t, n) {
"use strict";
function r() {
if (s) for (var e in l) {
var t = l[e], n = s.indexOf(e);
if (n > -1 ? void 0 : i(!1), !u.plugins[n]) {
t.extractEvents ? void 0 : i(!1), u.plugins[n] = t;
var r = t.eventTypes;
for (var a in r) o(r[a], t, a) ? void 0 : i(!1);
}
}
}
function o(e, t, n) {
u.eventNameDispatchConfigs.hasOwnProperty(n) ? i(!1) : void 0, u.eventNameDispatchConfigs[n] = e;
var r = e.phasedRegistrationNames;
if (r) {
for (var o in r) if (r.hasOwnProperty(o)) {
var s = r[o];
a(s, t, n);
}
return !0;
}
return e.registrationName ? (a(e.registrationName, t, n), !0) : !1;
}
function a(e, t, n) {
u.registrationNameModules[e] ? i(!1) : void 0, u.registrationNameModules[e] = t, 
u.registrationNameDependencies[e] = t.eventTypes[n].dependencies;
}
var i = n(29), s = null, l = {}, u = {
plugins: [],
eventNameDispatchConfigs: {},
registrationNameModules: {},
registrationNameDependencies: {},
injectEventPluginOrder: function(e) {
s ? i(!1) : void 0, s = Array.prototype.slice.call(e), r();
},
injectEventPluginsByName: function(e) {
var t = !1;
for (var n in e) if (e.hasOwnProperty(n)) {
var o = e[n];
l.hasOwnProperty(n) && l[n] === o || (l[n] ? i(!1) : void 0, l[n] = o, t = !0);
}
t && r();
},
getPluginModuleForEvent: function(e) {
var t = e.dispatchConfig;
if (t.registrationName) return u.registrationNameModules[t.registrationName] || null;
for (var n in t.phasedRegistrationNames) if (t.phasedRegistrationNames.hasOwnProperty(n)) {
var r = u.registrationNameModules[t.phasedRegistrationNames[n]];
if (r) return r;
}
return null;
},
_resetEventPlugins: function() {
s = null;
for (var e in l) l.hasOwnProperty(e) && delete l[e];
u.plugins.length = 0;
var t = u.eventNameDispatchConfigs;
for (var n in t) t.hasOwnProperty(n) && delete t[n];
var r = u.registrationNameModules;
for (var o in r) r.hasOwnProperty(o) && delete r[o];
}
};
e.exports = u;
}, function(e, t, n) {
"use strict";
var r = n(495), o = n(926), a = n(930), i = n(37), s = n(954), l = {};
i(l, a), i(l, {
findDOMNode: s("findDOMNode", "ReactDOM", "react-dom", r, r.findDOMNode),
render: s("render", "ReactDOM", "react-dom", r, r.render),
unmountComponentAtNode: s("unmountComponentAtNode", "ReactDOM", "react-dom", r, r.unmountComponentAtNode),
renderToString: s("renderToString", "ReactDOMServer", "react-dom/server", o, o.renderToString),
renderToStaticMarkup: s("renderToStaticMarkup", "ReactDOMServer", "react-dom/server", o, o.renderToStaticMarkup)
}), l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = r, l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = o, 
e.exports = l;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
var r = void 0 === e[n];
null != t && r && (e[n] = a(t, null));
}
var o = n(118), a = n(235), i = n(335), s = n(336), l = (n(42), {
instantiateChildren: function(e, t, n) {
if (null == e) return null;
var o = {};
return s(e, r, o), o;
},
updateChildren: function(e, t, n, r) {
if (!t && !e) return null;
var s;
for (s in t) if (t.hasOwnProperty(s)) {
var l = e && e[s], u = l && l._currentElement, p = t[s];
if (null != l && i(u, p)) o.receiveComponent(l, p, n, r), t[s] = l; else {
l && o.unmountComponent(l, s);
var c = a(p, null);
t[s] = c;
}
}
for (s in e) !e.hasOwnProperty(s) || t && t.hasOwnProperty(s) || o.unmountComponent(e[s]);
return t;
},
unmountChildren: function(e) {
for (var t in e) if (e.hasOwnProperty(t)) {
var n = e[t];
o.unmountComponent(n);
}
}
});
e.exports = l;
}, function(e, t, n) {
"use strict";
function r(e) {
return ("" + e).replace(_, "//");
}
function o(e, t) {
this.func = e, this.context = t, this.count = 0;
}
function a(e, t, n) {
var r = e.func, o = e.context;
r.call(o, t, e.count++);
}
function i(e, t, n) {
if (null == e) return e;
var r = o.getPooled(t, n);
m(e, a, r), o.release(r);
}
function s(e, t, n, r) {
this.result = e, this.keyPrefix = t, this.func = n, this.context = r, this.count = 0;
}
function l(e, t, n) {
var o = e.result, a = e.keyPrefix, i = e.func, s = e.context, l = i.call(s, t, e.count++);
Array.isArray(l) ? u(l, o, n, g.thatReturnsArgument) : null != l && (y.isValidElement(l) && (l = y.cloneAndReplaceKey(l, a + (l !== t ? r(l.key || "") + "/" : "") + n)), 
o.push(l));
}
function u(e, t, n, o, a) {
var i = "";
null != n && (i = r(n) + "/");
var u = s.getPooled(t, i, o, a);
m(e, l, u), s.release(u);
}
function p(e, t, n) {
if (null == e) return e;
var r = [];
return u(e, r, null, t, n), r;
}
function c(e, t, n) {
return null;
}
function f(e, t) {
return m(e, c, null);
}
function d(e) {
var t = [];
return u(e, t, null, g.thatReturnsArgument), t;
}
var h = n(107), y = n(71), g = n(85), m = n(336), b = h.twoArgumentPooler, v = h.fourArgumentPooler, _ = /\/(?!\/)/g;
o.prototype.destructor = function() {
this.func = null, this.context = null, this.count = 0;
}, h.addPoolingTo(o, b), s.prototype.destructor = function() {
this.result = null, this.keyPrefix = null, this.func = null, this.context = null, 
this.count = 0;
}, h.addPoolingTo(s, v);
var S = {
forEach: i,
map: p,
mapIntoWithKeyPrefixInternal: u,
count: f,
toArray: d
};
e.exports = S;
}, function(e, t, n) {
"use strict";
function r(e, t) {
var n = w.hasOwnProperty(t) ? w[t] : null;
C.hasOwnProperty(t) && (n !== _.OVERRIDE_BASE ? g(!1) : void 0), e.hasOwnProperty(t) && (n !== _.DEFINE_MANY && n !== _.DEFINE_MANY_MERGED ? g(!1) : void 0);
}
function o(e, t) {
if (t) {
"function" == typeof t ? g(!1) : void 0, f.isValidElement(t) ? g(!1) : void 0;
var n = e.prototype;
t.hasOwnProperty(v) && T.mixins(e, t.mixins);
for (var o in t) if (t.hasOwnProperty(o) && o !== v) {
var a = t[o];
if (r(n, o), T.hasOwnProperty(o)) T[o](e, a); else {
var i = w.hasOwnProperty(o), u = n.hasOwnProperty(o), p = "function" == typeof a, c = p && !i && !u && t.autobind !== !1;
if (c) n.__reactAutoBindMap || (n.__reactAutoBindMap = {}), n.__reactAutoBindMap[o] = a, 
n[o] = a; else if (u) {
var d = w[o];
!i || d !== _.DEFINE_MANY_MERGED && d !== _.DEFINE_MANY ? g(!1) : void 0, d === _.DEFINE_MANY_MERGED ? n[o] = s(n[o], a) : d === _.DEFINE_MANY && (n[o] = l(n[o], a));
} else n[o] = a;
}
}
}
}
function a(e, t) {
if (t) for (var n in t) {
var r = t[n];
if (t.hasOwnProperty(n)) {
var o = n in T;
o ? g(!1) : void 0;
var a = n in e;
a ? g(!1) : void 0, e[n] = r;
}
}
}
function i(e, t) {
e && t && "object" == typeof e && "object" == typeof t ? void 0 : g(!1);
for (var n in t) t.hasOwnProperty(n) && (void 0 !== e[n] ? g(!1) : void 0, e[n] = t[n]);
return e;
}
function s(e, t) {
return function n() {
var n = e.apply(this, arguments), r = t.apply(this, arguments);
if (null == n) return r;
if (null == r) return n;
var o = {};
return i(o, n), i(o, r), o;
};
}
function l(e, t) {
return function n() {
e.apply(this, arguments), t.apply(this, arguments);
};
}
function u(e, t) {
var n = t.bind(e);
return n;
}
function p(e) {
for (var t in e.__reactAutoBindMap) if (e.__reactAutoBindMap.hasOwnProperty(t)) {
var n = e.__reactAutoBindMap[t];
e[t] = u(e, n);
}
}
var c = n(321), f = n(71), d = (n(231), n(230), n(509)), h = n(37), y = n(191), g = n(29), m = n(237), b = n(119), v = (n(42), 
b({
mixins: null
})), _ = m({
DEFINE_ONCE: null,
DEFINE_MANY: null,
OVERRIDE_BASE: null,
DEFINE_MANY_MERGED: null
}), S = [], w = {
mixins: _.DEFINE_MANY,
statics: _.DEFINE_MANY,
propTypes: _.DEFINE_MANY,
contextTypes: _.DEFINE_MANY,
childContextTypes: _.DEFINE_MANY,
getDefaultProps: _.DEFINE_MANY_MERGED,
getInitialState: _.DEFINE_MANY_MERGED,
getChildContext: _.DEFINE_MANY_MERGED,
render: _.DEFINE_ONCE,
componentWillMount: _.DEFINE_MANY,
componentDidMount: _.DEFINE_MANY,
componentWillReceiveProps: _.DEFINE_MANY,
shouldComponentUpdate: _.DEFINE_ONCE,
componentWillUpdate: _.DEFINE_MANY,
componentDidUpdate: _.DEFINE_MANY,
componentWillUnmount: _.DEFINE_MANY,
updateComponent: _.OVERRIDE_BASE
}, T = {
displayName: function(e, t) {
e.displayName = t;
},
mixins: function(e, t) {
if (t) for (var n = 0; n < t.length; n++) o(e, t[n]);
},
childContextTypes: function(e, t) {
e.childContextTypes = h({}, e.childContextTypes, t);
},
contextTypes: function(e, t) {
e.contextTypes = h({}, e.contextTypes, t);
},
getDefaultProps: function(e, t) {
e.getDefaultProps ? e.getDefaultProps = s(e.getDefaultProps, t) : e.getDefaultProps = t;
},
propTypes: function(e, t) {
e.propTypes = h({}, e.propTypes, t);
},
statics: function(e, t) {
a(e, t);
},
autobind: function() {}
}, C = {
replaceState: function(e, t) {
this.updater.enqueueReplaceState(this, e), t && this.updater.enqueueCallback(this, t);
},
isMounted: function() {
return this.updater.isMounted(this);
},
setProps: function(e, t) {
this.updater.enqueueSetProps(this, e), t && this.updater.enqueueCallback(this, t);
},
replaceProps: function(e, t) {
this.updater.enqueueReplaceProps(this, e), t && this.updater.enqueueCallback(this, t);
}
}, E = function() {};
h(E.prototype, c.prototype, C);
var I = {
createClass: function(e) {
var t = function(e, t, n) {
this.__reactAutoBindMap && p(this), this.props = e, this.context = t, this.refs = y, 
this.updater = n || d, this.state = null;
var r = this.getInitialState ? this.getInitialState() : null;
"object" != typeof r || Array.isArray(r) ? g(!1) : void 0, this.state = r;
};
t.prototype = new E(), t.prototype.constructor = t, S.forEach(o.bind(null, t)), 
o(t, e), t.getDefaultProps && (t.defaultProps = t.getDefaultProps()), t.prototype.render ? void 0 : g(!1);
for (var n in w) t.prototype[n] || (t.prototype[n] = null);
return t;
},
injection: {
injectMixin: function(e) {
S.push(e);
}
}
};
e.exports = I;
}, function(e, t, n) {
"use strict";
var r = n(93), o = n(498), a = n(500), i = n(134), s = n(72), l = n(84), u = n(118), p = n(64), c = n(326), f = n(327), d = n(959);
n(42);
a.inject();
var h = l.measure("React", "render", s.render), y = {
findDOMNode: f,
render: h,
unmountComponentAtNode: s.unmountComponentAtNode,
version: c,
unstable_batchedUpdates: p.batchedUpdates,
unstable_renderSubtreeIntoContainer: d
};
"undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject && __REACT_DEVTOOLS_GLOBAL_HOOK__.inject({
CurrentOwner: r,
InstanceHandles: i,
Mount: s,
Reconciler: u,
TextComponent: o
});
e.exports = y;
}, function(e, t) {
"use strict";
var n = {
useCreateElement: !1
};
e.exports = n;
}, function(e, t, n) {
"use strict";
function r() {
if (this._rootNodeID && this._wrapperState.pendingUpdate) {
this._wrapperState.pendingUpdate = !1;
var e = this._currentElement.props, t = i.getValue(e);
null != t && o(this, e, t);
}
}
function o(e, t, n) {
var r, o, a = s.getNode(e._rootNodeID).options;
if (t) {
for (r = {}, o = 0; o < n.length; o++) r["" + n[o]] = !0;
for (o = 0; o < a.length; o++) {
var i = r.hasOwnProperty(a[o].value);
a[o].selected !== i && (a[o].selected = i);
}
} else {
for (r = "" + n, o = 0; o < a.length; o++) if (a[o].value === r) return void (a[o].selected = !0);
a.length && (a[0].selected = !0);
}
}
function a(e) {
var t = this._currentElement.props, n = i.executeOnChange(t, e);
return this._wrapperState.pendingUpdate = !0, l.asap(r, this), n;
}
var i = n(320), s = n(72), l = n(64), u = n(37), p = (n(42), "__ReactDOMSelect_value$" + Math.random().toString(36).slice(2)), c = {
valueContextKey: p,
getNativeProps: function(e, t, n) {
return u({}, t, {
onChange: e._wrapperState.onChange,
value: void 0
});
},
mountWrapper: function(e, t) {
var n = i.getValue(t);
e._wrapperState = {
pendingUpdate: !1,
initialValue: null != n ? n : t.defaultValue,
onChange: a.bind(e),
wasMultiple: Boolean(t.multiple)
};
},
processChildContext: function(e, t, n) {
var r = u({}, n);
return r[p] = e._wrapperState.initialValue, r;
},
postUpdateWrapper: function(e) {
var t = e._currentElement.props;
e._wrapperState.initialValue = void 0;
var n = e._wrapperState.wasMultiple;
e._wrapperState.wasMultiple = Boolean(t.multiple);
var r = i.getValue(t);
null != r ? (e._wrapperState.pendingUpdate = !1, o(e, Boolean(t.multiple), r)) : n !== Boolean(t.multiple) && (null != t.defaultValue ? o(e, Boolean(t.multiple), t.defaultValue) : o(e, Boolean(t.multiple), t.multiple ? [] : ""));
}
};
e.exports = c;
}, function(e, t, n) {
"use strict";
var r = n(489), o = n(319), a = n(322), i = n(72), s = n(37), l = n(234), u = n(334), p = (n(337), 
function(e) {});
s(p.prototype, {
construct: function(e) {
this._currentElement = e, this._stringText = "" + e, this._rootNodeID = null, this._mountIndex = 0;
},
mountComponent: function(e, t, n) {
if (this._rootNodeID = e, t.useCreateElement) {
var r = n[i.ownerDocumentContextKey], a = r.createElement("span");
return o.setAttributeForID(a, e), i.getID(a), u(a, this._stringText), a;
}
var s = l(this._stringText);
return t.renderToStaticMarkup ? s : "<span " + o.createMarkupForID(e) + ">" + s + "</span>";
},
receiveComponent: function(e, t) {
if (e !== this._currentElement) {
this._currentElement = e;
var n = "" + e;
if (n !== this._stringText) {
this._stringText = n;
var o = i.getNode(this._rootNodeID);
r.updateTextContent(o, n);
}
}
},
unmountComponent: function() {
a.unmountIDFromEnvironment(this._rootNodeID);
}
}), e.exports = p;
}, function(e, t, n) {
"use strict";
function r() {
this.reinitializeTransaction();
}
var o = n(64), a = n(190), i = n(37), s = n(85), l = {
initialize: s,
close: function() {
f.isBatchingUpdates = !1;
}
}, u = {
initialize: s,
close: o.flushBatchedUpdates.bind(o)
}, p = [ u, l ];
i(r.prototype, a.Mixin, {
getTransactionWrappers: function() {
return p;
}
});
var c = new r(), f = {
isBatchingUpdates: !1,
batchedUpdates: function(e, t, n, r, o, a) {
var i = f.isBatchingUpdates;
f.isBatchingUpdates = !0, i ? e(t, n, r, o, a) : c.perform(e, null, t, n, r, o, a);
}
};
e.exports = f;
}, function(e, t, n) {
"use strict";
function r() {
if (!E) {
E = !0, m.EventEmitter.injectReactEventListener(g), m.EventPluginHub.injectEventPluginOrder(s), 
m.EventPluginHub.injectInstanceHandle(b), m.EventPluginHub.injectMount(v), m.EventPluginHub.injectEventPluginsByName({
SimpleEventPlugin: T,
EnterLeaveEventPlugin: l,
ChangeEventPlugin: a,
SelectEventPlugin: S,
BeforeInputEventPlugin: o
}), m.NativeComponent.injectGenericComponentClass(h), m.NativeComponent.injectTextComponentClass(y), 
m.Class.injectMixin(c), m.DOMProperty.injectDOMPropertyConfig(p), m.DOMProperty.injectDOMPropertyConfig(C), 
m.EmptyComponent.injectEmptyComponent("noscript"), m.Updates.injectReconcileTransaction(_), 
m.Updates.injectBatchingStrategy(d), m.RootIndex.injectCreateReactRootIndex(u.canUseDOM ? i.createReactRootIndex : w.createReactRootIndex), 
m.Component.injectEnvironment(f);
}
}
var o = n(908), a = n(910), i = n(911), s = n(913), l = n(914), u = n(65), p = n(917), c = n(918), f = n(322), d = n(499), h = n(921), y = n(498), g = n(929), m = n(505), b = n(134), v = n(72), _ = n(933), S = n(941), w = n(942), T = n(943), C = n(940), E = !1;
e.exports = {
inject: r
};
}, function(e, t, n) {
"use strict";
function r() {
if (c.current) {
var e = c.current.getName();
if (e) return " Check the render method of `" + e + "`.";
}
return "";
}
function o(e, t) {
if (e._store && !e._store.validated && null == e.key) {
e._store.validated = !0;
a("uniqueKey", e, t);
}
}
function a(e, t, n) {
var o = r();
if (!o) {
var a = "string" == typeof n ? n : n.displayName || n.name;
a && (o = " Check the top-level render call using <" + a + ">.");
}
var i = h[e] || (h[e] = {});
if (i[o]) return null;
i[o] = !0;
var s = {
parentOrOwner: o,
url: " See https://fb.me/react-warning-keys for more information.",
childOwner: null
};
return t && t._owner && t._owner !== c.current && (s.childOwner = " It was passed a child from " + t._owner.getName() + "."), 
s;
}
function i(e, t) {
if ("object" == typeof e) if (Array.isArray(e)) for (var n = 0; n < e.length; n++) {
var r = e[n];
u.isValidElement(r) && o(r, t);
} else if (u.isValidElement(e)) e._store && (e._store.validated = !0); else if (e) {
var a = f(e);
if (a && a !== e.entries) for (var i, s = a.call(e); !(i = s.next()).done; ) u.isValidElement(i.value) && o(i.value, t);
}
}
function s(e, t, n, o) {
for (var a in t) if (t.hasOwnProperty(a)) {
var i;
try {
"function" != typeof t[a] ? d(!1) : void 0, i = t[a](n, a, e, o);
} catch (s) {
i = s;
}
if (i instanceof Error && !(i.message in y)) {
y[i.message] = !0;
r();
}
}
}
function l(e) {
var t = e.type;
if ("function" == typeof t) {
var n = t.displayName || t.name;
t.propTypes && s(n, t.propTypes, e.props, p.prop), "function" == typeof t.getDefaultProps;
}
}
var u = n(71), p = n(231), c = (n(230), n(93)), f = (n(233), n(332)), d = n(29), h = (n(42), 
{}), y = {}, g = {
createElement: function(e, t, n) {
var r = "string" == typeof e || "function" == typeof e, o = u.createElement.apply(this, arguments);
if (null == o) return o;
if (r) for (var a = 2; a < arguments.length; a++) i(arguments[a], e);
return l(o), o;
},
createFactory: function(e) {
var t = g.createElement.bind(null, e);
return t.type = e, t;
},
cloneElement: function(e, t, n) {
for (var r = u.cloneElement.apply(this, arguments), o = 2; o < arguments.length; o++) i(arguments[o], r.type);
return l(r), r;
}
};
e.exports = g;
}, function(e, t, n) {
"use strict";
var r, o = n(71), a = n(503), i = n(118), s = n(37), l = {
injectEmptyComponent: function(e) {
r = o.createElement(e);
}
}, u = function(e) {
this._currentElement = null, this._rootNodeID = null, this._renderedComponent = e(r);
};
s(u.prototype, {
construct: function(e) {},
mountComponent: function(e, t, n) {
return a.registerNullComponentID(e), this._rootNodeID = e, i.mountComponent(this._renderedComponent, e, t, n);
},
receiveComponent: function() {},
unmountComponent: function(e, t, n) {
i.unmountComponent(this._renderedComponent), a.deregisterNullComponentID(this._rootNodeID), 
this._rootNodeID = null, this._renderedComponent = null;
}
}), u.injection = l, e.exports = u;
}, function(e, t) {
"use strict";
function n(e) {
return !!a[e];
}
function r(e) {
a[e] = !0;
}
function o(e) {
delete a[e];
}
var a = {}, i = {
isNullComponentID: n,
registerNullComponentID: r,
deregisterNullComponentID: o
};
e.exports = i;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
try {
return t(n, r);
} catch (a) {
return void (null === o && (o = a));
}
}
var o = null, a = {
invokeGuardedCallback: r,
invokeGuardedCallbackWithCatch: r,
rethrowCaughtError: function() {
if (o) {
var e = o;
throw o = null, e;
}
}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
var r = n(153), o = n(185), a = n(187), i = n(494), s = n(502), l = n(229), u = n(508), p = n(84), c = n(511), f = n(64), d = {
Component: a.injection,
Class: i.injection,
DOMProperty: r.injection,
EmptyComponent: s.injection,
EventPluginHub: o.injection,
EventEmitter: l.injection,
NativeComponent: u.injection,
Perf: p.injection,
RootIndex: c.injection,
Updates: f.injection
};
e.exports = d;
}, function(e, t, n) {
"use strict";
function r(e) {
return a(document.documentElement, e);
}
var o = n(925), a = n(518), i = n(519), s = n(520), l = {
hasSelectionCapabilities: function(e) {
var t = e && e.nodeName && e.nodeName.toLowerCase();
return t && ("input" === t && "text" === e.type || "textarea" === t || "true" === e.contentEditable);
},
getSelectionInformation: function() {
var e = s();
return {
focusedElem: e,
selectionRange: l.hasSelectionCapabilities(e) ? l.getSelection(e) : null
};
},
restoreSelection: function(e) {
var t = s(), n = e.focusedElem, o = e.selectionRange;
t !== n && r(n) && (l.hasSelectionCapabilities(n) && l.setSelection(n, o), i(n));
},
getSelection: function(e) {
var t;
if ("selectionStart" in e) t = {
start: e.selectionStart,
end: e.selectionEnd
}; else if (document.selection && e.nodeName && "input" === e.nodeName.toLowerCase()) {
var n = document.selection.createRange();
n.parentElement() === e && (t = {
start: -n.moveStart("character", -e.value.length),
end: -n.moveEnd("character", -e.value.length)
});
} else t = o.getOffsets(e);
return t || {
start: 0,
end: 0
};
},
setSelection: function(e, t) {
var n = t.start, r = t.end;
if ("undefined" == typeof r && (r = n), "selectionStart" in e) e.selectionStart = n, 
e.selectionEnd = Math.min(r, e.value.length); else if (document.selection && e.nodeName && "input" === e.nodeName.toLowerCase()) {
var a = e.createTextRange();
a.collapse(!0), a.moveStart("character", n), a.moveEnd("character", r - n), a.select();
} else o.setOffsets(e, t);
}
};
e.exports = l;
}, function(e, t, n) {
"use strict";
var r = n(952), o = /\/?>/, a = {
CHECKSUM_ATTR_NAME: "data-react-checksum",
addChecksumToMarkup: function(e) {
var t = r(e);
return e.replace(o, " " + a.CHECKSUM_ATTR_NAME + '="' + t + '"$&');
},
canReuseMarkup: function(e, t) {
var n = t.getAttribute(a.CHECKSUM_ATTR_NAME);
n = n && parseInt(n, 10);
var o = r(e);
return o === n;
}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
function r(e) {
if ("function" == typeof e.type) return e.type;
var t = e.type, n = c[t];
return null == n && (c[t] = n = u(t)), n;
}
function o(e) {
return p ? void 0 : l(!1), new p(e.type, e.props);
}
function a(e) {
return new f(e);
}
function i(e) {
return e instanceof f;
}
var s = n(37), l = n(29), u = null, p = null, c = {}, f = null, d = {
injectGenericComponentClass: function(e) {
p = e;
},
injectTextComponentClass: function(e) {
f = e;
},
injectComponentClasses: function(e) {
s(c, e);
}
}, h = {
getComponentClassForElement: r,
createInternalComponent: o,
createInstanceForText: a,
isTextComponent: i,
injection: d
};
e.exports = h;
}, function(e, t, n) {
"use strict";
function r(e, t) {}
var o = (n(42), {
isMounted: function(e) {
return !1;
},
enqueueCallback: function(e, t) {},
enqueueForceUpdate: function(e) {
r(e, "forceUpdate");
},
enqueueReplaceState: function(e, t) {
r(e, "replaceState");
},
enqueueSetState: function(e, t) {
r(e, "setState");
},
enqueueSetProps: function(e, t) {
r(e, "setProps");
},
enqueueReplaceProps: function(e, t) {
r(e, "replaceProps");
}
});
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
function t(t, n, r, o, a, i) {
if (o = o || w, i = i || r, null == n[r]) {
var s = v[a];
return t ? new Error("Required " + s + " `" + i + "` was not specified in " + ("`" + o + "`.")) : null;
}
return e(n, r, o, a, i);
}
var n = t.bind(null, !1);
return n.isRequired = t.bind(null, !0), n;
}
function o(e) {
function t(t, n, r, o, a) {
var i = t[n], s = y(i);
if (s !== e) {
var l = v[o], u = g(i);
return new Error("Invalid " + l + " `" + a + "` of type " + ("`" + u + "` supplied to `" + r + "`, expected ") + ("`" + e + "`."));
}
return null;
}
return r(t);
}
function a() {
return r(_.thatReturns(null));
}
function i(e) {
function t(t, n, r, o, a) {
var i = t[n];
if (!Array.isArray(i)) {
var s = v[o], l = y(i);
return new Error("Invalid " + s + " `" + a + "` of type " + ("`" + l + "` supplied to `" + r + "`, expected an array."));
}
for (var u = 0; u < i.length; u++) {
var p = e(i, u, r, o, a + "[" + u + "]");
if (p instanceof Error) return p;
}
return null;
}
return r(t);
}
function s() {
function e(e, t, n, r, o) {
if (!b.isValidElement(e[t])) {
var a = v[r];
return new Error("Invalid " + a + " `" + o + "` supplied to " + ("`" + n + "`, expected a single ReactElement."));
}
return null;
}
return r(e);
}
function l(e) {
function t(t, n, r, o, a) {
if (!(t[n] instanceof e)) {
var i = v[o], s = e.name || w, l = m(t[n]);
return new Error("Invalid " + i + " `" + a + "` of type " + ("`" + l + "` supplied to `" + r + "`, expected ") + ("instance of `" + s + "`."));
}
return null;
}
return r(t);
}
function u(e) {
function t(t, n, r, o, a) {
for (var i = t[n], s = 0; s < e.length; s++) if (i === e[s]) return null;
var l = v[o], u = JSON.stringify(e);
return new Error("Invalid " + l + " `" + a + "` of value `" + i + "` " + ("supplied to `" + r + "`, expected one of " + u + "."));
}
return r(Array.isArray(e) ? t : function() {
return new Error("Invalid argument supplied to oneOf, expected an instance of array.");
});
}
function p(e) {
function t(t, n, r, o, a) {
var i = t[n], s = y(i);
if ("object" !== s) {
var l = v[o];
return new Error("Invalid " + l + " `" + a + "` of type " + ("`" + s + "` supplied to `" + r + "`, expected an object."));
}
for (var u in i) if (i.hasOwnProperty(u)) {
var p = e(i, u, r, o, a + "." + u);
if (p instanceof Error) return p;
}
return null;
}
return r(t);
}
function c(e) {
function t(t, n, r, o, a) {
for (var i = 0; i < e.length; i++) {
var s = e[i];
if (null == s(t, n, r, o, a)) return null;
}
var l = v[o];
return new Error("Invalid " + l + " `" + a + "` supplied to " + ("`" + r + "`."));
}
return r(Array.isArray(e) ? t : function() {
return new Error("Invalid argument supplied to oneOfType, expected an instance of array.");
});
}
function f() {
function e(e, t, n, r, o) {
if (!h(e[t])) {
var a = v[r];
return new Error("Invalid " + a + " `" + o + "` supplied to " + ("`" + n + "`, expected a ReactNode."));
}
return null;
}
return r(e);
}
function d(e) {
function t(t, n, r, o, a) {
var i = t[n], s = y(i);
if ("object" !== s) {
var l = v[o];
return new Error("Invalid " + l + " `" + a + "` of type `" + s + "` " + ("supplied to `" + r + "`, expected `object`."));
}
for (var u in e) {
var p = e[u];
if (p) {
var c = p(i, u, r, o, a + "." + u);
if (c) return c;
}
}
return null;
}
return r(t);
}
function h(e) {
switch (typeof e) {
case "number":
case "string":
case "undefined":
return !0;

case "boolean":
return !e;

case "object":
if (Array.isArray(e)) return e.every(h);
if (null === e || b.isValidElement(e)) return !0;
var t = S(e);
if (!t) return !1;
var n, r = t.call(e);
if (t !== e.entries) {
for (;!(n = r.next()).done; ) if (!h(n.value)) return !1;
} else for (;!(n = r.next()).done; ) {
var o = n.value;
if (o && !h(o[1])) return !1;
}
return !0;

default:
return !1;
}
}
function y(e) {
var t = typeof e;
return Array.isArray(e) ? "array" : e instanceof RegExp ? "object" : t;
}
function g(e) {
var t = y(e);
if ("object" === t) {
if (e instanceof Date) return "date";
if (e instanceof RegExp) return "regexp";
}
return t;
}
function m(e) {
return e.constructor && e.constructor.name ? e.constructor.name : "<<anonymous>>";
}
var b = n(71), v = n(230), _ = n(85), S = n(332), w = "<<anonymous>>", T = {
array: o("array"),
bool: o("boolean"),
func: o("function"),
number: o("number"),
object: o("object"),
string: o("string"),
any: a(),
arrayOf: i,
element: s(),
instanceOf: l,
node: f(),
objectOf: p,
oneOf: u,
oneOfType: c,
shape: d
};
e.exports = T;
}, function(e, t) {
"use strict";
var n = {
injectCreateReactRootIndex: function(e) {
r.createReactRootIndex = e;
}
}, r = {
createReactRootIndex: null,
injection: n
};
e.exports = r;
}, function(e, t) {
"use strict";
var n = {
currentScrollLeft: 0,
currentScrollTop: 0,
refreshScrollValues: function(e) {
n.currentScrollLeft = e.x, n.currentScrollTop = e.y;
}
};
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e, t) {
if (null == t ? o(!1) : void 0, null == e) return t;
var n = Array.isArray(e), r = Array.isArray(t);
return n && r ? (e.push.apply(e, t), e) : n ? (e.push(t), e) : r ? [ e ].concat(t) : [ e, t ];
}
var o = n(29);
e.exports = r;
}, function(e, t) {
"use strict";
var n = function(e, t, n) {
Array.isArray(e) ? e.forEach(t, n) : e && t.call(n, e);
};
e.exports = n;
}, function(e, t, n) {
"use strict";
function r() {
return !a && o.canUseDOM && (a = "textContent" in document.documentElement ? "textContent" : "innerText"), 
a;
}
var o = n(65), a = null;
e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
var t = e && e.nodeName && e.nodeName.toLowerCase();
return t && ("input" === t && r[e.type] || "textarea" === t);
}
var r = {
color: !0,
date: !0,
datetime: !0,
"datetime-local": !0,
email: !0,
month: !0,
number: !0,
password: !0,
range: !0,
search: !0,
tel: !0,
text: !0,
time: !0,
url: !0,
week: !0
};
e.exports = n;
}, function(e, t, n) {
"use strict";
var r = n(85), o = {
listen: function(e, t, n) {
return e.addEventListener ? (e.addEventListener(t, n, !1), {
remove: function() {
e.removeEventListener(t, n, !1);
}
}) : e.attachEvent ? (e.attachEvent("on" + t, n), {
remove: function() {
e.detachEvent("on" + t, n);
}
}) : void 0;
},
capture: function(e, t, n) {
return e.addEventListener ? (e.addEventListener(t, n, !0), {
remove: function() {
e.removeEventListener(t, n, !0);
}
}) : {
remove: r
};
},
registerDefault: function() {}
};
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e, t) {
var n = !0;
e: for (;n; ) {
var r = e, a = t;
if (n = !1, r && a) {
if (r === a) return !0;
if (o(r)) return !1;
if (o(a)) {
e = r, t = a.parentNode, n = !0;
continue e;
}
return r.contains ? r.contains(a) : r.compareDocumentPosition ? !!(16 & r.compareDocumentPosition(a)) : !1;
}
return !1;
}
}
var o = n(968);
e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
try {
e.focus();
} catch (t) {}
}
e.exports = n;
}, function(e, t) {
"use strict";
function n() {
if ("undefined" == typeof document) return null;
try {
return document.activeElement || document.body;
} catch (e) {
return document.body;
}
}
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
return i ? void 0 : a(!1), f.hasOwnProperty(e) || (e = "*"), s.hasOwnProperty(e) || ("*" === e ? i.innerHTML = "<link />" : i.innerHTML = "<" + e + "></" + e + ">", 
s[e] = !i.firstChild), s[e] ? f[e] : null;
}
var o = n(65), a = n(29), i = o.canUseDOM ? document.createElement("div") : null, s = {}, l = [ 1, '<select multiple="true">', "</select>" ], u = [ 1, "<table>", "</table>" ], p = [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ], c = [ 1, '<svg xmlns="http://www.w3.org/2000/svg">', "</svg>" ], f = {
"*": [ 1, "?<div>", "</div>" ],
area: [ 1, "<map>", "</map>" ],
col: [ 2, "<table><tbody></tbody><colgroup>", "</colgroup></table>" ],
legend: [ 1, "<fieldset>", "</fieldset>" ],
param: [ 1, "<object>", "</object>" ],
tr: [ 2, "<table><tbody>", "</tbody></table>" ],
optgroup: l,
option: l,
caption: u,
colgroup: u,
tbody: u,
tfoot: u,
thead: u,
td: p,
th: p
}, d = [ "circle", "clipPath", "defs", "ellipse", "g", "image", "line", "linearGradient", "mask", "path", "pattern", "polygon", "polyline", "radialGradient", "rect", "stop", "text", "tspan" ];
d.forEach(function(e) {
f[e] = c, s[e] = !0;
}), e.exports = r;
}, function(e, t) {
"use strict";
function n(e, t) {
if (e === t) return !0;
if ("object" != typeof e || null === e || "object" != typeof t || null === t) return !1;
var n = Object.keys(e), o = Object.keys(t);
if (n.length !== o.length) return !1;
for (var a = r.bind(t), i = 0; i < n.length; i++) if (!a(n[i]) || e[n[i]] !== t[n[i]]) return !1;
return !0;
}
var r = Object.prototype.hasOwnProperty;
e.exports = n;
}, function(e, t) {
e.exports = null;
}, function(e, t, n) {
"use strict";
var r = n(11), o = n(529), a = n(21), i = n(26), s = n(51);
t.ShortcutKitsClient = a.createClient({
requestOn: [ s.getShortcutKitsByLicense ],
throttle: 1e4,
request: function(e, t) {
return i.request("Loadout.getItemsByShortCutKitByLicense", {
game: e,
license: t
});
},
parse: function(e) {
return e.map(function(e) {
return new o.ShortcutKitItem(e);
});
},
update: function(e, t, n, o) {
r.shortcutKitsStore.setShortcutKit(n, o, t);
}
});
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
return new Promise(function(t) {
var n = _.findAll(e);
n ? t(n) : L.triggerAsPromise(e).then(function() {
var n = _.findAll(e);
t(n);
});
});
}
function r(e) {
switch (e.toLowerCase()) {
case "dub":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_DUB");

case "iad":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_IAD");

case "sjc":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_SJC");

case "nrt":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_NRT");

case "syd":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_SYD");

case "brz":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_BRZ");

default:
return e.toUpperCase();
}
}
function o(e) {
var t = e.focused, n = e.listPrice, r = e.price, o = t ? "#000000" : "#ffffff";
return d.createElement("surface", {
style: {
alignItems: "flex-end"
}
}, d.createElement("surface", {
style: {
opacity: .5,
marginBottom: 5
}
}, d.createElement(y.Strikethrough, {
color: o,
value: n,
size: "XS"
})), d.createElement(I, {
color: o,
value: r,
size: "XS"
}));
}
var a = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, i = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, s = n(9), l = n(10), u = l.observable, p = l.action, c = n(8).observer, f = n(4), d = n(1), h = n(2), y = n(160), g = n(194), m = n(300), b = n(31), v = n(17), _ = n(280), S = n(23), w = n(6), T = (n(127), 
n(62)), C = n(179), E = n(180), I = n(7), P = n(457), O = n(14), A = n(209), k = n(20), R = n(12), x = n(25), M = n(47), N = n(18), $ = n(35).alert, D = n(40).LINE_HEIGHTS, U = n(105), L = n(277).ListRSPClient, F = n(2), G = n(11), j = n(341), B = s.bbOfflineUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"), H = s.bbOfflineUrl("/sparta/jsclient/builds/assets/close-black-47f1ec98.png"), V = s.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-plus-white-553dee09.png"), z = s.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-plus-a41f238a.png");
t.PingSiteLabelByAlias = r;
var W = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.render = function() {
return this.props.config && this.props.category ? d.createElement(this.props.category.configurator, {
config: this.props.config,
items: this.props.category.items,
focusGroup: this.props.focusGroup
}) : d.createElement("surface", null);
}, t;
}(d.Component);
t.CategoryConfigurator = W;
var q = function() {
function e(e) {
this.setting = e;
}
return e.prototype.update = function(e) {
this.setting = e;
}, e.prototype.remove = function(e) {
this.setting === e && (this.setting = null);
}, i([ u ], e.prototype, "setting", void 0), i([ p ], e.prototype, "update", null), 
i([ p ], e.prototype, "remove", null), e;
}(), K = new q(null), X = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.onTrigger = function(e) {
e.isEnabled && (e.toggle(), this.onAfterTrigger(e));
}, t.prototype.onAfterTrigger = function(e) {}, t.prototype.onMouseDown = function(e) {}, 
t.prototype.getInput = function(e) {
return [ new O({
label: __("ID_SPARTA_ACTION_SELECT"),
action: this.onTrigger.bind(this, e),
key: R.Accept
}) ];
}, t.prototype.getSubLabel = function(e) {
return e.value.toString();
}, t.prototype.getItems = function() {
var e = this;
return this.props.items.map(function(t, n) {
return d.createElement(F.Focusable, {
debugName: "setting_" + t.label,
key: "focusableItem" + n,
group: e.props.focusGroup,
onFocus: function() {
return K.update(t);
},
onBlur: function() {
return K.remove(t);
}
}, function(r) {
return d.createElement(C, {
key: n,
label: t.label,
focusItem: r,
muted: !t.isEnabled,
scrollLabel: !0,
subLabel: e.getSubLabel(t),
input: e.getInput(t),
onTrigger: e.onTrigger.bind(e, t)
});
});
});
}, t.prototype.render = function() {
var e = this.getItems(), t = w.getHeight(7), n = e.length - 1, r = (SpartaGlobals.bundleIsPC ? 9 : 8) * t + n, o = e.length * t + n, a = o > r ? r : void 0;
return d.createElement(w.Row, null, d.createElement(b.Scroller, {
style: {
height: a,
width: w.getWidth(6)
},
scrollbarPosition: "outside"
}, d.createElement(T, {
divider: "item",
items: e,
onMouseDown: this.onMouseDown.bind(this)
})), d.createElement(w.Col, {
width: 10.5,
style: {
margin: [ 0, 0, 0, w.CELL_WIDTH ]
}
}, d.createElement(Y, null)));
}, t = i([ c ], t);
}(d.Component);
t.SettingsConfigurator = X;
var Y = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.render = function() {
return K.setting ? d.createElement(me, {
header: K.setting.label,
description: K.setting.description
}) : d.createElement("surface", null);
}, t = i([ c ], t);
}(d.Component), J = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.onMouseDown = function(e) {
if (e && e.button === A.Secondary) {
var t = !f.every(this.props.items, function(e) {
return e.setting.value;
});
this.props.items.forEach(function(e) {
e.setting.value !== t && e.toggle();
}), this.onAfterToggleAll(t);
}
}, t.prototype.onAfterToggleAll = function(e) {}, t.prototype.getSubLabel = function(e) {
return __(e.value ? "ID_SPARTA_FILTER_SETTING_ON" : "ID_SPARTA_FILTER_SETTING_OFF");
}, t = i([ c ], t);
}(X);
t.BooleanConfigurator = J;
var Q = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.getSubLabel = function(e) {
return d.createElement(P, {
value: e.value,
disabled: !e.isEnabled
});
}, t = i([ c ], t);
}(J);
t.CheckmarkConfigurator = Q;
var Z = function(e) {
function t(t) {
e.call(this, t), this.ensureMeleeOrHandgunEnabled();
}
return a(t, e), t.prototype.ensureMeleeOrHandgunEnabled = function() {
var e = f.find(this.props.items, function(e) {
return "M" === e.setting.key;
}), t = f.find(this.props.items, function(e) {
return "H" === e.setting.key;
});
e && t && (e.setting.value || t.setting.value || e.toggle(), e.setting.value ? t.setting.value ? (t.enable(), 
e.enable()) : e.disable() : t.disable());
}, t.prototype.onAfterTrigger = function(e) {
this.ensureMeleeOrHandgunEnabled();
}, t.prototype.onAfterToggleAll = function(e) {
this.ensureMeleeOrHandgunEnabled();
}, t = i([ c ], t);
}(Q);
t.WeaponsConfigurator = Z;
var ee = function(e) {
function t(t) {
e.call(this, t), this.checkItemsRequirements();
}
return a(t, e), t.prototype.checkItemsRequirements = function() {
var e = this.props.config.gameSettings.requireAtLeastOneOfKits;
if (e) {
var t = f.filter(this.props.items, function(t) {
return e.indexOf(t.id) > -1;
}), n = f.filter(t, function(e) {
return e.setting.value;
}), r = f.filter(t, function(e) {
return !e.setting.value;
});
n.length <= 1 ? (n.forEach(function(e) {
return e.disable();
}), r.forEach(function(e) {
return e.enable();
})) : this.props.items.forEach(function(e) {
e.enable();
});
}
}, t.prototype.onAfterTrigger = function(e) {
this.checkItemsRequirements();
}, t.prototype.onAfterToggleAll = function(e) {
e || this.props.items[0].toggle(), this.checkItemsRequirements();
}, t = i([ c ], t);
}(Q);
t.KitsConfigurator = ee;
var te = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.getItems = function() {
return this.props.items.filter(function(e) {
return e.isVisible;
}).map(function(e) {
return d.createElement(le, {
id: e.id,
key: e.id,
maxLength: e.maxLength,
value: e.value,
label: e.label,
onChange: function(t) {
return e.change(t);
}
});
});
}, t.prototype.render = function() {
return d.createElement(w.Col, {
width: 13
}, d.createElement(T, {
divider: "none",
items: this.getItems()
}));
}, t = i([ c ], t);
}(d.Component);
t.TextConfigurator = te;
var ne = {
flexDirection: "row",
flex: 0,
width: SpartaGlobals.bundleIsConsole ? w.getWidth(1) : w.getWidth(2),
justifyContent: "flex-end"
}, re = function(e) {
var t = e.focused ? {
color: "#333333"
} : void 0;
return d.createElement(m, {
textStyle: t,
fontType: e.focused ? "emphasis" : "normal",
dark: e.focused,
ip: e.ip,
style: ne,
ping: e.ping
});
}, oe = function(e) {
var t = e.focused ? {
color: "#333333"
} : void 0;
return d.createElement(I, {
value: __("ID_SPARTA_COMMERCE_RSP_NO_CAPACITY"),
size: "XS",
style: t
});
}, ae = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), Object.defineProperty(t.prototype, "radioOption", {
get: function() {
return this.props.items[0];
},
enumerable: !0,
configurable: !0
}), t.prototype.getLabel = function(e) {
return this.radioOption.formatSetting(e);
}, t.prototype.getSubLabel = function(e) {
return void 0;
}, t.prototype.onTrigger = function(e) {
this.radioOption.set(e);
}, t.prototype.getItems = function() {
var e = this;
return this.radioOption.options.map(function(t, n) {
return d.createElement(F.Focusable, {
debugName: "radiosetting_" + t.key,
key: "focusableItem" + n,
group: e.props.focusGroup,
groupIndex: n
}, function(r) {
return d.createElement(C, {
focusItem: r,
key: n,
scrollLabel: !0,
label: e.getLabel(t),
subLabel: e.getSubLabel(t),
onTrigger: function() {
return e.onTrigger(t);
}
});
});
});
}, t.prototype.render = function() {
return d.createElement(w.Col, {
width: 6
}, d.createElement(T, {
divider: "item",
items: this.getItems()
}));
}, t = i([ c ], t);
}(d.Component);
t.RadioConfigurator = ae;
var ie = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.getLabel = function(e) {
return r(e.value.alias);
}, t.prototype.getSubLabel = function(e) {
return e.value.capacity > 0 ? d.createElement(re, {
ip: e.value.ip,
ping: e.value.ping
}) : d.createElement(oe, null);
}, t.prototype.onTrigger = function(e) {
e.value.capacity > 0 ? this.radioOption.set(e) : $(__("ID_SPARTA_COMMERCE_RSP_NO_CAPACITY_POPUP"), __("ID_SPARTA_COMMERCE_RSP_NO_CAPACITY"));
}, t = i([ c ], t);
}(ae);
t.PingSiteConfigurator = ie;
var se = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.getLabel = function(e) {
var t = e.value.days, n = __(1 === t ? "ID_SPARTA_COMMERCE_RSP_DAYSTOLIVE_SINGULAR" : "ID_SPARTA_COMMERCE_RSP_DAYSTOLIVE_PLURAL"), r = n.replace("[[daysToLive]]", t);
return r;
}, t.prototype.getSubLabel = function(e) {
var t = e.price, n = e.listPrice;
return n ? d.createElement(o, {
price: t,
listPrice: n
}) : t;
}, t = i([ c ], t);
}(ae);
t.DaysConfigurator = se;
var le = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.render = function() {
return d.createElement("surface", {
style: {
flex: 1,
height: w.getHeight(7),
marginBottom: w.getHeight(1)
}
}, d.createElement(E, {
initialValue: this.props.value,
placeholder: this.props.label,
maxLength: this.props.maxLength,
size: "S",
ref: "input",
onValueChanged: this.props.onChange,
style: {
flex: 1
}
}));
}, t = i([ c ], t);
}(d.Component);
t.TextFieldListItem = le;
var ue = {
list: {
width: w.getWidth(6)
},
removeButtonsWrapper: {
marginLeft: w.GUTTER,
marginTop: 1
},
removeButton: {
width: w.getHeight(7) + 2,
marginBottom: 1
}
}, pe = function() {
function e(e) {
this.entry = e;
}
return e.prototype.update = function(e) {
this.entry = e;
}, e.prototype.remove = function(e) {
this.entry === e && (this.entry = null);
}, i([ u ], e.prototype, "entry", void 0), i([ p ], e.prototype, "update", null), 
i([ p ], e.prototype, "remove", null), e;
}(), ce = new pe(null), fe = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), Object.defineProperty(t.prototype, "mapRotationOption", {
get: function() {
return this.props.items[0];
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = this.props.config.rspTemplate.getSmallestGameModeSize(this.mapRotationOption.entries.slice().map(function(e) {
return e.gameMode.filterKey;
})), t = __("ID_SPARTA_COMMERCE_RSP_CONFIG_SERVER_SIZE_DESC").replace(/\[\[serverSize]]/, e.toString());
return d.createElement(w.Row, null, d.createElement(w.Col, {
width: SpartaGlobals.bundleIsPC ? 7 : 6
}, d.createElement(he, {
focusGroup: this.props.focusGroup,
mapRotationOption: this.mapRotationOption
}), d.createElement(I, {
style: {
marginTop: 2 * w.GUTTER
},
value: t,
size: "XS"
})), d.createElement(w.Col, {
width: 10.5,
style: {
margin: [ 0, 0, 0, w.CELL_WIDTH ]
}
}, d.createElement(ye, null)));
}, t = i([ c ], t);
}(d.Component);
t.MapRotationConfigurator = fe;
var de, he = function(e) {
function t() {
e.apply(this, arguments), this.mapSelectorOpen = !1;
}
return a(t, e), t.prototype.onSelected = function(e, t) {
this.props.mapRotationOption.changeEntry(e, t);
}, t.prototype.onPopupClosed = function(e) {
var t = this, n = this.props.focusGroup.members[e];
n && (h.focus.system.setAsFocused(n, h.focus.FocusSource.Auto), this.refs.scroller && this.refs.scroller.scrollToBounds(n.getBounds())), 
setTimeout(function() {
t.mapSelectorOpen = !1;
}, 500);
}, t.prototype.selectMap = function(e, t) {
this.mapSelectorOpen || (this.mapSelectorOpen = !0, x.display(new M({
id: "chooseMap",
fullScreen: !0,
createButtons: !1,
content: d.createElement(ve, {
mapOptions: this.props.mapRotationOption.mapOptions,
gameModeOptions: this.props.mapRotationOption.gameModeOptions,
selected: e,
onClose: this.onPopupClosed.bind(this, t),
onSelect: this.onSelected.bind(this, t)
})
})));
}, t.prototype.addMapEntry = function() {
if (!this.mapSelectorOpen) {
var e = this.props.mapRotationOption.addEntry();
if (e) {
var t = this.props.mapRotationOption.entries.length - 1;
this.selectMap(e, t);
}
}
}, t.prototype.removeMapEntry = function(e, t) {
if (h.focus.system.controllerMode) {
var n = this.props.focusGroup.members[t - 1], r = this.props.focusGroup.members[t];
h.focus.system.setAsFocused(n || r, h.focus.FocusSource.Spatial);
}
this.props.mapRotationOption.removeEntry(t);
}, t.prototype.getItems = function() {
var e = this;
return this.props.mapRotationOption.entries.map(function(t, n) {
var r = [ new O({
label: __("ID_SPARTA_ACTION_CHANGE_MAP"),
action: e.selectMap.bind(e, t, n),
key: R.Accept
}) ];
h.focus.system.controllerMode && !e.props.mapRotationOption.hasMinEntries && r.push(new O({
label: __("ID_SPARTA_ACTION_REMOVE_MAP"),
action: e.removeMapEntry.bind(e, t, n),
key: R.Option1
}));
var o = d.createElement(F.Focusable, {
debugName: "mapRotationItem" + n,
group: e.props.focusGroup,
groupIndex: n,
key: "mapRotationItem" + n,
onFocus: function() {
return ce.update(t);
},
onBlur: function() {
return ce.remove(t);
}
}, function(e) {
return d.createElement(C, {
focusItem: e,
key: "mapentry" + n,
label: t.map.label,
scrollLabel: !0,
subLabel: t.gameMode.label,
input: r
});
});
return o;
});
}, t.prototype.renderDeleteEntryButtons = function() {
var e = this;
if (!SpartaGlobals.bundleIsConsole) {
var t = this.props.mapRotationOption.entries.map(function(t, n) {
return d.createElement(h.Focusable, {
debugName: "removeEntry" + n,
key: "removeEntry" + n
}, function(r) {
return d.createElement(S, {
icon: {
normal: B,
hover: H
},
size: 24,
focusItem: r,
style: ue.removeButton,
key: "removeMapEntryButton" + n,
textSize: "XS",
disabled: e.props.mapRotationOption.hasMinEntries,
action: function() {
return e.removeMapEntry(t, n);
}
});
});
});
return d.createElement("surface", {
style: ue.removeButtonsWrapper
}, f.compact(t));
}
}, t.prototype.renderAddEntryButton = function() {
var e = this;
return d.createElement(T, {
style: ue.list,
items: [ d.createElement(h.Focusable, {
debugName: "addEntry",
group: this.props.focusGroup,
groupIndex: 1e3,
key: "addEntry"
}, function(t) {
return d.createElement(C, {
id: "create-entry",
key: "add-entry",
label: "",
muted: e.props.mapRotationOption.hasMaxEntries,
fontSize: "L",
focusItem: t,
focusIcon: z,
blurIcon: V,
input: [ new O({
label: __("ID_SPARTA_COMMERCE_RSP_ADD_MAP"),
action: e.addMapEntry.bind(e),
key: R.Accept
}) ]
});
}) ]
});
}, t.prototype.render = function() {
var e = this.getItems(), t = w.getHeight(7), n = e.length - 1, r = (SpartaGlobals.bundleIsPC ? 8 : 6) * t + n, o = e.length * t + n, a = o > r ? r : void 0, i = w.getWidth(SpartaGlobals.bundleIsPC ? 7.2 : 6);
return d.createElement(w.Col, null, d.createElement(b.Scroller, {
style: {
height: a,
width: i
},
ref: "scroller",
scrollbarPosition: "outside"
}, d.createElement("surface", {
style: {
flexDirection: "row"
}
}, d.createElement(T, {
divider: "item",
style: ue.list,
items: e
}), this.renderDeleteEntryButtons())), this.renderAddEntryButton());
}, t = i([ c ], t);
}(d.Component), ye = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.render = function() {
return ce.entry ? d.createElement(me, {
imageUrl: ce.entry.map.images.image("Medium"),
header: ce.entry.map.label,
subHeader: ce.entry.gameMode.label,
description: ce.entry.gameMode.description
}) : d.createElement("surface", null);
}, t = i([ c ], t);
}(d.Component), ge = {
image: {
backgroundColor: "#000000",
height: w.getHeight(32),
textureMode: "cover",
marginBottom: 2 * w.GUTTER,
layer: !0,
layerGrabBackground: !1
}
}, me = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.render = function() {
var e, t = this.props, n = t.imageUrl, r = t.header, o = t.subHeader, a = t.description;
n && (e = d.createElement("surface", {
style: [ ge.image, {
texture: n
} ]
}));
var i;
o && (i = d.createElement(I, {
value: o,
size: "S",
style: {
textLineSpacing: D.L
}
}));
var s;
return a && (s = d.createElement(I, {
value: a,
size: "S",
style: {
textLineSpacing: D.S
}
})), d.createElement("surface", null, e, d.createElement(I, {
value: r,
size: "L",
type: "emphasis",
style: {
textLineSpacing: D.XL
}
}), i, s);
}, t = i([ c ], t);
}(d.Component), be = {
header: {
position: "absolute",
flexDirection: "row",
alignItems: "flex-end"
},
heading: {
textLineSpacing: D.XL
},
content: {
position: "absolute"
},
list: {
width: w.getWidth(6)
}
};
!function(e) {
e[e.Map = 0] = "Map", e[e.GameMode = 1] = "GameMode", e[e.Complete = 2] = "Complete";
}(de || (de = {}));
var ve = function(e) {
function t(t) {
e.call(this, t), this.state = {
selected: {
gameMode: this.props.selected.gameMode,
map: this.props.selected.map
},
step: de.Map
};
}
return a(t, e), t.prototype.getInput = function() {
return [ new O({
label: __("ID_SPARTA_ACTION_CANCEL"),
key: R.Decline,
action: this.closePopup.bind(this)
}) ];
}, t.prototype.closePopup = function() {
this.setState({
step: de.Complete
});
var e = this.props.popupInfo && this.props.popupInfo.id;
x.close(e), setTimeout(this.props.onClose, 100);
}, t.prototype.onMapSelected = function(e) {
this.setState({
selected: {
gameMode: this.state.selected.gameMode,
map: e
},
step: de.GameMode
});
}, t.prototype.onGameModeSelected = function(e) {
var t = {
gameMode: e,
map: this.state.selected.map
};
this.onComplete(t);
}, t.prototype.onComplete = function(e) {
this.props.onSelect(e), this.closePopup();
}, t.prototype.render = function() {
switch (this.state.step) {
case de.Map:
return d.createElement(Te, {
title: "1/2 - " + __("ID_SPARTA_COMMERCE_RSP_SELECTMAP"),
onSelect: this.onMapSelected.bind(this),
onCancel: this.closePopup.bind(this),
selected: this.state.selected.map,
options: this.props.mapOptions
});

case de.GameMode:
return d.createElement(Te, {
title: "2/2 - " + __("ID_SPARTA_COMMERCE_RSP_SELECTMODE"),
onSelect: this.onGameModeSelected.bind(this),
onCancel: this.closePopup.bind(this),
selected: this.state.selected.gameMode,
options: this.props.gameModeOptions
});

case de.Complete:
default:
return null;
}
}, t = i([ k() ], t);
}(d.Component), _e = function() {
function e(e) {
this.entry = e;
}
return e.prototype.update = function(e) {
this.entry = e;
}, e.prototype.remove = function(e) {
this.entry === e && (this.entry = null);
}, i([ u ], e.prototype, "entry", void 0), i([ p ], e.prototype, "update", null), 
i([ p ], e.prototype, "remove", null), e;
}(), Se = new _e(null), we = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.render = function() {
return Se.entry ? d.createElement(me, {
imageUrl: Se.entry.images.image("Medium"),
header: Se.entry.label,
description: Se.entry.description
}) : d.createElement("surface", null);
}, t = i([ c ], t);
}(d.Component), Te = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.componentWillReceiveProps = function(e) {
Se.update(e.selected);
}, t.prototype.renderItems = function() {
var e = this;
return this.props.options.map(function(t, n) {
var r = new O({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
e.props.onSelect(t);
},
key: R.Accept
});
return d.createElement(F.Focusable, {
debugName: "selectorItem" + t.id,
key: "mapmode" + n,
autoFocusCandidate: e.props.selected === t,
onFocus: function() {
return Se.update(t);
},
onBlur: function() {
return Se.remove(t);
}
}, function(n) {
return d.createElement(C, {
label: t.label,
focusItem: n,
id: t.id,
input: r,
scrollLabel: !0,
isActive: e.props.selected === t,
ref: t.id,
showActiveIndicator: !0
});
});
});
}, t.prototype.renderCloseButton = function() {
var e = this, t = {
position: "absolute",
top: 0,
right: 0,
zOffset: 100
};
return d.createElement("surface", {
style: t
}, d.createElement(F.Focusable, {
debugName: "selectorPopup"
}, function(t) {
return d.createElement(U, {
action: function() {
return e.props.onCancel();
},
focusItem: t,
size: 24,
icon: B,
style: {
padding: w.GUTTER
}
});
}));
}, t.prototype.render = function() {
return d.createElement("surface", {
style: {
position: "absolute"
}
}, d.createElement("surface", {
style: [ be.header, N.header.style ]
}, d.createElement(I, {
value: (this.props.title || "").toUpperCase(),
size: "XL",
style: [ be.heading ]
}), SpartaGlobals.bundleIsPC && this.renderCloseButton()), d.createElement(w.Row, {
style: [ be.content, N.content.style ]
}, d.createElement(w.Col, {
width: 6,
style: {
margin: [ 0, w.CELL_WIDTH, 0, 0 ]
}
}, d.createElement(T, {
divider: "item",
items: this.renderItems()
})), d.createElement(w.Col, {
width: 12
}, d.createElement(we, null))));
}, t = i([ c ], t);
}(d.Component), Ce = function(t) {
function n(e) {
t.call(this, e), this.state = {};
}
return a(n, t), n.prototype.componentWillMount = function() {
var t = this;
this.props.display.indexOf("resume") >= 0 && j.fetchResumablePurchase(this.props.gameId, g.PurchaseState.Orphaned).then(function(e) {
t.setState({
orphanedPurchase: e
});
}), this.props.display.indexOf("servers") >= 0 && e(this.props.gameId).then(function(e) {
t.setState({
servers: e
});
}), this.game = G.gameStore.getGame(this.props.gameId);
}, n.prototype.renderButton = function() {
var e = this;
return !this.state.orphanedPurchase && this.state.servers && this.state.servers.length > 0 ? d.createElement(w.Col, {
width: 6,
style: {
marginRight: 2 * w.GUTTER
}
}, d.createElement(S, {
size: 24,
text: __("ID_SPARTA_COMMERCE_RSP_VIEW_YOUR_SERVERS_BUTTON"),
textSize: "S",
action: function() {
v.gotoLocation(e.game.serverListRoute + "?tab=rented");
}
})) : void 0;
}, n.prototype.render = function() {
var e = "";
return this.state.orphanedPurchase ? e = __("ID_SPARTA_COMMERCE_RSP_ORPHANED_PURCHASE_DESC") : this.state.servers && this.state.servers.length > 0 && (e = this.state.servers.length > 1 ? __("ID_SPARTA_COMMERCE_RSP_OWNED_SERVERS").replace("[[n]]", this.state.servers.length) : __("ID_SPARTA_COMMERCE_RSP_OWNED_SERVER")), 
d.createElement(w.Row, {
height: 7,
style: {
alignItems: "center"
}
}, this.renderButton(), d.createElement(I, {
value: e,
size: "S"
}));
}, n = i([ c ], n);
}(d.Component);
t.PurchaseInfo = Ce;
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(8), i = n(11), s = n(31), l = n(63), u = n(6), p = n(7), c = n(23), bbOfflineUrl = n(9).bbOfflineUrl, f = n(19), d = n(47), h = n(25), y = n(58), g = n(12), m = n(14), b = n(51), v = {
dock: {
flex: 1,
justifyContent: "center",
alignItems: "center"
},
container: {
alignItems: "center"
},
kitIcon: {
width: u.getWidth(14),
height: u.getWidth(2),
color: "#ffffff",
margin: 2 * u.GUTTER,
textureMode: "contain"
},
button: {
width: u.getWidth(6),
marginTop: 2 * u.GUTTER
},
categoryHeader: {
marginBottom: u.GUTTER,
marginTop: 2 * u.GUTTER
},
itemRow: {
backgroundColor: "#ffffff05",
padding: 10,
flexDirection: "row",
marginBottom: u.GUTTER,
alignItems: "center"
},
itemImage: {
width: u.getWidth(3),
height: u.getHeight(7),
marginRight: u.getWidth(3)
},
itemName: {
width: u.getWidth(5),
marginRight: u.getWidth(1)
},
itemCategory: {
width: u.getWidth(2),
textAlign: "right",
opacity: .5
},
spinnerContainer: {
alignItems: "center",
justifyContent: "center",
height: u.getHeight(40)
}
}, _ = a.observer(function(e) {
var t = e.item, n = Object.assign({}, v.itemImage, {
texture: t.images.Small
});
return o.createElement("surface", {
style: v.itemRow
}, o.createElement("surface", {
style: n
}), o.createElement(p, {
style: v.itemName,
size: "S",
value: t.name
}), o.createElement(p, {
style: v.itemCategory,
size: "S",
value: t.slot
}));
}), S = function() {
h.close("confirmPurchasePopup");
}, w = function(t) {
function n(e) {
t.call(this, e), this.currentGroup = "", this.gameId = f.getState().hostingGameId, 
this.license = e.offer && e.offer.licenses && e.offer.licenses[0], b.getShortcutKitsByLicense("tunguska", this.license);
}
return e(n, t), Object.defineProperty(n.prototype, "currentGame", {
get: function() {
return i.gameStore.getGame(f.getState().hostingGameId);
},
enumerable: !0,
configurable: !0
}), n.prototype.getLicenseInfo = function() {
var e = "", t = "";
switch (this.license) {
case "sh_assault":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_ASSAULT"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-assault-light-9a9ad58d.png");
break;

case "sh_medic":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_MEDIC"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-medic-light-cb4ac00e.png");
break;

case "sh_scout":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_SCOUT"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-scout-light-288bc674.png");
break;

case "sh_support":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_SUPPORT"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-support-light-107891af.png");
break;

case "sh_player":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_INFANTRY"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-infantry-light-a2d6c325.png");
break;

case "sh_vehicle":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_VEHICLE"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-vehicle-light-92d3285c.png");
break;

case "sh_ultimate":
e = __("ID_SPARTA_COMMERCE_SHORTCUT_ULTIMATE"), t = bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-ultimate-light-8131a325.png");
}
return {
scName: e,
scIcon: t
};
}, n.prototype.renderItems = function(e) {
var t = this;
return e.length ? e.map(function(e) {
var n;
return t.currentGroup !== e.category && (n = o.createElement(p, {
size: "S",
style: v.categoryHeader,
value: e.category
}), t.currentGroup = e.category), o.createElement("surface", null, n, o.createElement(_, {
key: e.name,
item: e
}));
}) : o.createElement("surface", {
style: v.spinnerContainer
}, o.createElement(y, {
size: 50,
autoRun: !0
}));
}, n.prototype.render = function() {
var e = this, t = i.shortcutKitsStore.getByLicense(this.gameId, this.license), n = this.getLicenseInfo(), r = n.scName, a = n.scIcon, f = __("ID_SPARTA_COMMERCE_SHORTCUT_UNLOCKED").replace("[SHORTCUT]", r.toUpperCase()), d = __("ID_SPARTA_COMMERCE_SHORTCUT_UNLOCKED_DESCRIPTION").replace("[NUM]", (t.length ? t.length : "") + ""), h = Object.assign({}, v.kitIcon, {
texture: a
}), y = Object.assign({}, v.container, l.uiState.viewportScale), g = o.createElement("surface", null, o.createElement(c, {
text: __("ID_SPARTA_ACTION_CONTINUE"),
style: v.button,
action: function() {
S(), e.props.onClose();
}
}), i.settingsStore.isFeatureEnabled("tunguskaCustomizeFrontend") && o.createElement(c, {
text: __("ID_SPARTA_CUSTOMIZE_SOLDIER"),
style: v.button,
action: function() {
S(), e.props.onClose(), e.currentGame.customizeSoldierAction();
}
}));
return o.createElement("surface", {
style: v.dock
}, o.createElement("surface", {
style: y
}, o.createElement("surface", {
style: h
}), o.createElement(p, {
size: "L",
value: f
}), o.createElement(p, {
size: "S",
value: d
}), o.createElement("surface", {
style: {
marginTop: 5 * u.GUTTER,
marginBottom: 5 * u.GUTTER
}
}, o.createElement(s.Scroller, {
controller: !0,
scrollbar: !0,
style: {
height: u.getHeight(40),
width: u.getWidth(14)
},
softClip: [ 0, 5 * u.GUTTER, 0, 5 * u.GUTTER ]
}, this.renderItems(t))), SpartaGlobals.bundleIsPC && g));
}, n = r([ a.observer ], n);
}(o.Component), T = function(e) {
var t = [ new m({
key: g.Accept,
label: __("ID_SPARTA_ACTION_CONTINUE"),
action: function() {
S(), e();
}
}), new m({
key: g.Decline,
visible: !1,
action: function() {
S(), e();
}
}) ];
return i.settingsStore.isFeatureEnabled("tunguskaCustomizeFrontend") && t.push(new m({
key: g.Option2,
label: __("ID_SPARTA_CUSTOMIZE_SOLDIER"),
action: function() {
var t = i.gameStore.getGame(f.getState().hostingGameId);
S(), t.customizeSoldierAction(), e();
}
})), t;
};
t.openShortcutKitSuccess = function(e) {
return new Promise(function(t) {
h.display(new d({
content: o.createElement(w, {
onClose: t,
offer: e.offer
}),
id: "confirmPurchasePopup",
fullScreen: !0,
containContent: !1,
createButtons: !1,
inputs: T(t)
}));
});
};
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = n(51), o = function() {
function e() {
this.templates = {};
}
return e.prototype.getTemplate = function(e) {
return this.templates[e];
}, e.prototype.setTemplate = function(e, t) {
this.templates[e] = t;
}, e;
}();
t.rspTemplateStore = new o(), r.updateRSPTemplate.listen(function(e, n) {
t.rspTemplateStore.setTemplate(e, n);
});
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = function() {
function e() {
this.shortcutKits = o.map();
}
return e.prototype.setShortcutKit = function(e, t, n) {
var r = o.toJS(this.shortcutKits.get(e)) || {};
r[t] = n, this.shortcutKits.set(e, r);
}, e.prototype.getByLicense = function(e, t) {
var n = this.shortcutKits.get(e) || {};
return n[t] || [];
}, r([ o.observable ], e.prototype, "shortcutKits", void 0), r([ o.action ], e.prototype, "setShortcutKit", null), 
e;
}();
t.ShortcutKitsStore = a;
}, function(e, t) {
"use strict";
var n = function() {
function e(e) {
this.name = e.name, this.category = e.category, this.images = e.images, this.slot = e.slot;
}
return e;
}();
t.ShortcutKitItem = n;
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
var t = l.first(e).setting.value;
return t.capacity > 0 ? S.PingSiteLabelByAlias(t.alias) : __("ID_SPARTA_COMMERCE_RSP_NO_CAPACITY");
}
function r(e, t) {
void 0 === t && (t = __("ID_SPARTA_COMMERCE_RSP_DESC_ALL"));
var n = e.filter(function(e) {
return e.setting.value != e.defaultSetting.value;
});
if (0 === n.length) return t;
var r = n.filter(function(e) {
return e.setting.value;
}), o = n.filter(function(e) {
return !e.setting.value;
});
if (o.length === e.length) return __("ID_SPARTA_COMMERCE_RSP_DESC_NONE");
if (r.length === e.length) return t;
var a = null, i = null;
return r.length && (a = r[0].label + (r.length > 1 ? " +" + (r.length - 1) : "")), 
o.length && (i = __("ID_SPARTA_COMMERCE_RSP_DESC_NO") + " " + o[0].label + (o.length > 1 ? " +" + (o.length - 1) : "")), 
l.compact([ a, i ]).join(", ");
}
function o(e) {
var t = e.filter(function(e) {
return e.setting.value != e.defaultSetting.value;
});
if (0 === t.length) return "";
var n = t[0].label + " " + t[0].value;
return n + (t.length > 1 ? " +" + (t.length - 1) : "");
}
var a = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, i = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, s = n(341), l = n(4), u = n(1), p = n(318), c = n(11), f = n(2), d = n(179), h = (n(35).alert, 
n(33)), y = n(6), g = n(62), m = n(31), b = n(23), v = n(136), _ = n(194), S = n(525), w = n(74), T = n(48), C = n(115)["default"], E = n(98), I = n(17), P = n(87), O = n(69), A = n(99), k = (n(122), 
n(262)), R = function() {
function e(e, t, n) {
this.ping = e, this.alias = t, this.capacity = n;
}
return e;
}(), x = function() {
function e(e, t, n, r, o, a) {
void 0 === t && (t = 100), void 0 === n && (n = "CUSTOM"), void 0 === r && (r = "1"), 
void 0 === o && (o = "0"), void 0 === a && (a = "0"), this.maps = e, this.rotationType = n, 
this.mod = r, this.name = o, this.description = a, this.id = t > 100 ? t : 100;
}
return e;
}();
t.MapRotation = x;
var M = function(t) {
function n(e) {
var n = this;
t.call(this, e);
var r = e.viewLocation.args.gameId;
this.gameSettings = c.gameStore.getGame(r).rspConfig, this.gameData = A.getState()[r], 
this.rightFocusGroup = f.focus.createGroup("settingsRight"), this.rightFocusGroup.behavior = f.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | f.focus.GroupBehavior.VERTICAL | f.focus.GroupBehavior.WRAP_AROUND, 
this.leftFocusGroup = f.focus.createGroup("categoryLeft"), this.leftFocusGroup.behavior = f.focus.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | f.focus.GroupBehavior.VERTICAL, 
this.leftFocusGroup.handleDirection(f.focus.Direction.Right, w.handleIfNotTheSameGroup(this.leftFocusGroup, function(e, t) {
return n.rightFocusGroup.navigateToGroup(e, t);
})), this.saveButtonFocusGroup = f.focus.createGroup("saveButton"), this.leftFocusGroup.handleDirection(f.focus.Direction.Down, w.handleIfNotTheSameGroup(this.leftFocusGroup, function(e, t) {
return n.saveButtonFocusGroup.navigateToGroup(e, t);
})), this.saveButtonFocusGroup.handleDirection(f.focus.Direction.Up, w.handleIfNotTheSameGroup(this.saveButtonFocusGroup, function(e, t) {
return n.leftFocusGroup.navigateToGroup(e, t);
})), this.state = {
isLoading: !0,
isAvailable: !0,
isSaving: !1,
activeCategory: void 0
}, this.load().then(function() {
n.buildConfig(), n.onLoadingComplete();
})["catch"](function(e) {
console.error(e), n.setState({
isLoading: !1,
isAvailable: !1
});
}), this.focusAncestor = f.focus.createAncestor("rentedserverform");
}
return a(n, t), n.prototype.onCategoryItemFocused = function(e) {
this.setState({
activeCategory: e
});
}, n.prototype.getCategoryItems = function() {
var e = this;
return this.config && this.config.groups ? this.config.groups.map(function(t) {
return u.createElement(f.Focusable, {
debugName: "categories",
key: t.id,
group: e.leftFocusGroup,
onFocus: function() {
f.focus.system.controllerMode && e.onCategoryItemFocused(t);
}
}, function(n) {
return u.createElement(d, {
focusItem: n,
id: t.id,
key: t.id,
label: t.label,
scrollLabel: !0,
subLabel: function() {
return t.value;
},
isActive: e.state.activeCategory && e.state.activeCategory.id === t.id,
item: t,
onTrigger: function() {
e.setState({
activeCategory: t
});
}
});
});
}) : [];
}, n.prototype.buildBaseSettingsConfig = function(e) {
e = e || {};
var t = T.getState(), n = __("ID_SPARTA_COMMERCE_RSP_CONFIG_NAME_DEFAULT");
if (t) {
var r = t.name, o = __("ID_SPARTA_COMMERCE_RSP_CONFIG_NAME_DEFAULT_PERSONAL");
n = o.replace("[[username]]", r);
}
var a = new _.TextOption("name", __("ID_SPARTA_COMMERCE_RSP_CONFIG_NAME"), e.name || n, 64), i = new _.TextOption("password", __("ID_SPARTA_COMMERCE_RSP_CONFIG_PASSWORD"), e.password || "", 8), s = new _.TextOption("bannerUrl", __("ID_SPARTA_COMMERCE_RSP_CONFIG_BANNER"), e.bannerUrl || "", 250), l = new _.TextOption("description", __("ID_SPARTA_COMMERCE_RSP_CONFIG_DESCRIPTION"), e.description || "", 250), u = new _.TextOption("message", __("ID_SPARTA_COMMERCE_RSP_CONFIG_MESSAGE"), e.message || "", 250);
return C.getState().hasAccess() || (a.disable(), l.hide(), u.hide()), s.hide(), 
i.hide(), new _.ConfigGroup("details", __("ID_SPARTA_COMMERCE_RSP_CONFIG_DETAILS"), [ a, l, u, i, s ], S.TextConfigurator, function(e) {
return e[0].value;
});
}, n.prototype.buildMapRotationConfig = function(e) {
var t = this, n = l.filter(this.rspTemplate.gameModes, function(e) {
return -1 === t.gameSettings.excludedGameModes.indexOf(e.gameModeShortName);
}), r = l.map(n, function(e) {
var n = l.find(t.gameData.gameModes, function(t) {
var n = t.filterKey;
return n === e.gameModeName;
});
return n ? new _.GameMode(e.gameModeShortName, e.gameModeName, n.prettyName, n.description, new _.ImageSet(l.map(n.images, function(e, t) {
return {
id: t,
url: e
};
}))) : void 0;
});
r = l.sortBy(l.compact(r), function(e) {
return e.label;
});
var o = l.first(r), a = l.map(this.rspTemplate.levels, function(e) {
var n = l.find(t.gameData.maps, function(t) {
return t.filterKey === e.levelName;
});
return n ? new _.Map(n.filterKey, n.prettyName, n.description, new _.ImageSet(l.map(n.images, function(e, t) {
return {
id: t,
url: e
};
}))) : void 0;
});
a = l.sortBy(l.compact(a), function(e) {
return e.label;
});
var i = l.first(a), s = {
gameMode: o,
map: i
}, u = e ? l.map(e, function(e) {
var t = l.find(r, function(t) {
return t.id === e.gameMode;
}), n = l.find(a, function(t) {
return t.id === e.mapName;
});
return {
gameMode: t,
map: n
};
}) : void 0;
return new _.ConfigGroup("mapRotation", __("ID_SPARTA_COMMERCE_RSP_CONFIG_MAPSMODES"), [ new _.MapRotationOption("mapRotation", a, r, s, u) ], S.MapRotationConfigurator, function(e) {
var t = e[0].entries;
return 1 === t.length ? t[0].map.label : "" + t.length;
});
}, n.prototype.buildWeaponClassesConfig = function(e) {
e = e || {};
var t = this.rspTemplate.getMask("weaponmask").entries, n = this.gameData.settings.Weapons.map(function(n) {
var r = n.filterKey, o = n.prettyName, a = n.description, i = n.defaultValue;
if (-1 !== t.indexOf(r)) {
var s = "undefined" != typeof e[r] ? _.BooleanOption.fromSetting(e[r]) : i;
return new _.BooleanOption(r, o, a, 1 == i, 1 == s);
}
});
return new _.ConfigGroup("weaponClasses", __("ID_SPARTA_COMMERCE_RSP_CONFIG_WEAPONS"), l.compact(n), S.WeaponsConfigurator, r);
}, n.prototype.buildKitsConfig = function(e) {
e = e || {};
var t = this.rspTemplate.getMask("kitmask").entries, n = this.gameData.settings.Kits.map(function(n) {
var r = n.filterKey, o = n.prettyName, a = n.description, i = n.defaultValue;
if (-1 !== t.indexOf(r)) {
var s = "undefined" != typeof e[r] ? _.BooleanOption.fromSetting(e[r]) : i;
return new _.BooleanOption(r, o, a, 1 == i, 1 == s);
}
});
return new _.ConfigGroup("kits", __("ID_SPARTA_COMMERCE_RSP_CONFIG_KITS"), l.compact(n), S.KitsConfigurator, r);
}, n.prototype.buildVehiclesConfig = function(e) {
e = e || {};
var t = this.rspTemplate.getMask("vehiclemask").entries, n = this.gameData.settings.Vehicles.map(function(n) {
var r = n.filterKey, o = n.prettyName, a = n.description, i = n.defaultValue;
if (-1 !== t.indexOf(r)) {
var s = "undefined" != typeof e[r] ? _.BooleanOption.fromSetting(e[r]) : i;
return new _.BooleanOption(r, o, a, 1 == i, 1 == s);
}
});
return new _.ConfigGroup("vehicles", __("ID_SPARTA_COMMERCE_RSP_CONFIG_VEHICLES"), l.compact(n), S.CheckmarkConfigurator, r);
}, n.prototype.buildMiscConfig = function(e) {
e = e || {};
var t = this.rspTemplate.getMask("settingmask").entries, n = this.gameData.settings.Misc.map(function(n) {
var r = n.filterKey, o = n.prettyName, a = n.description, i = n.defaultValue;
if (-1 !== t.indexOf(r)) {
var s = "undefined" != typeof e[r] ? _.BooleanOption.fromSetting(e[r]) : i;
return new _.BooleanOption(r, o, a, 1 == i, 1 == s);
}
});
return new _.ConfigGroup("misc", __("ID_SPARTA_COMMERCE_RSP_CONFIG_MISC"), l.compact(n), S.BooleanConfigurator, function(e) {
return r(e, "");
});
}, n.prototype.buildScalesConfig = function(e) {
e = e || {};
var t = this.rspTemplate.getMask("scalemask"), n = l.map(this.gameData.settings.Scales, function(n) {
var r = n.filterKey, o = n.prettyName, a = n.description, i = n.defaultOption, s = n.options, u = l.object(l.compact(l.map(s, function(e, n) {
return -1 !== t.entries.indexOf(n) ? [ n, e ] : void 0;
})));
if (Object.keys(u).length) {
var p = l.map(u, function(e, t) {
return new _.Setting(t, e);
}), c = l.find(p, function(e) {
return e.key === i;
}), f = l.find(p, function(t) {
return "undefined" != typeof e[t.key] && _.BooleanOption.fromSetting(e[t.key]);
});
return new _.Option(r, o, a, p, c, f || c, function(e) {
return 100 * e.value + "%";
});
}
});
return new _.ConfigGroup("scales", __("ID_SPARTA_COMMERCE_RSP_CONFIG_RULES"), l.compact(n), S.SettingsConfigurator, o);
}, n.prototype.buildPingSiteConfig = function(t) {
var n = this, r = this.props.viewLocation.args.gameId, o = l.chain(E.getState()[r]).values().sortBy("ping").map(function(e) {
var t = l.find(n.rspPingSites, function(t) {
return t.siteAlias === e.alias;
}), r = t ? t.capacity : 0;
return new R(e.ping, e.alias, r);
}).value(), a = l.chain(o).filter(function(e) {
return e.ping >= 0 && e.capacity > 0;
}).sortBy("ping").first().value();
return a || (a = new R(-1, "", 0)), new _.ConfigGroup("pingSiteAlias", __("ID_SPARTA_COMMERCE_RSP_CONFIG_REGION"), [ new _.ObjectOption("pingSiteAlias", __("ID_SPARTA_COMMERCE_RSP_CONFIG_REGION"), "", o, a, t ? t : a) ], S.PingSiteConfigurator, e);
}, n.prototype.buildRentalPeriodConfig = function(e) {
var t, n = /^rsp:Slots=(\d+),Days=(\d+)$/;
if (this.orphanedPurchase) {
var r = this.orphanedPurchase.data.match(n), o = r[2];
t = [ {
price: __("ID_SPARTA_COMMERCE_RSP_OFFER_PRICE_PAID"),
days: parseInt(o, 10),
offer: l.find(this.rspOffers, function(e) {
var t = e.data.match(n), r = t[2];
return r === o;
})
} ];
} else t = l.map(this.rspOffers, function(e) {
var t = e.data.match(n), r = t[2];
return {
price: e.price,
listPrice: e.listPrice,
days: parseInt(r, 10),
offer: e
};
});
var a = l.sortBy(t, function(e) {
return e.days;
});
return new _.ConfigGroup("days", __("ID_SPARTA_COMMERCE_RSP_CONFIG_RENTALPERIOD"), [ new _.ObjectOption("days", __("ID_SPARTA_COMMERCE_RSP_CONFIG_RENTALPERIOD"), "", a, l.first(a), e ? e : l.first(a)) ], S.DaysConfigurator, function(e) {
var t = l.first(e).setting.value.days, n = __(1 === t ? "ID_SPARTA_COMMERCE_RSP_DAYSTOLIVE_SINGULAR" : "ID_SPARTA_COMMERCE_RSP_DAYSTOLIVE_PLURAL");
return n.replace("[[daysToLive]]", t);
});
}, n.prototype.internalSave = function() {
var e = this, t = {}, n = {};
this.config.getGroup("details") && (t = l.reduce(this.config.getGroup("details").items, function(e, t) {
return e = l.extend({}, e, t.toSetting());
}, {})), this.config.getGroup("mapRotation") && (n = this.config.getOption("mapRotation").toSetting());
var r = [ "weaponClasses", "kits", "vehicles", "misc", "scales" ], o = l.reduce(r, function(t, n) {
var r = e.config.getGroup(n);
return r && (t[r.id] = l.reduce(r.items, function(e, t) {
return e = l.extend({}, e, t.toSetting());
}, {})), t;
}, {});
this.setState({
isSaving: !0
}), this.save(t, n, o);
}, n.prototype.isSavingEnabled = function() {
if (!this.config) return !1;
var e = !0, t = this.config.getOption("pingSiteAlias");
return t && (e = t.setting.value.capacity > 0), e;
}, n.prototype.hideLoadingStatus = function() {
this.setState({
isSaving: !1,
isLoading: !1
});
}, n.prototype.render = function() {
var e = this, t = y.getHeight(SpartaGlobals.bundleIsPC ? 80 : 60), n = y.getHeight(SpartaGlobals.bundleIsPC ? 0 : 4);
return u.createElement(k, {
available: this.state.isAvailable,
loading: this.state.isLoading || this.state.isSaving
}, u.createElement(h, {
tallContent: !0,
scrollContent: !1
}, u.createElement(y.Row, {
surfaceProps: this.focusAncestor.hooks
}, u.createElement(y.Col, {
width: 6
}, u.createElement(m.Scroller, {
style: {
height: t
}
}, u.createElement(g, {
divider: "item",
items: this.getCategoryItems(),
autoActivateItems: f.focus.system.controllerMode,
showActiveIndicator: !0
})), u.createElement(f.Focusable, {
debugName: "saveButton",
group: this.saveButtonFocusGroup,
groupIndex: 0
}, function(t) {
return u.createElement(b, {
text: e.getSaveButtonText(),
focusItem: t,
style: {
marginTop: n
},
disabled: !e.isSavingEnabled(),
action: function() {
return e.internalSave();
}
});
})), u.createElement(y.Col, {
style: {
margin: [ 0, 2 * y.GUTTER, 0, y.CELL_WIDTH ]
}
}, u.createElement("surface", {
style: {
height: t,
marginBottom: n
}
}, u.createElement(S.CategoryConfigurator, {
ref: "categoryConfigurator",
focusGroup: this.rightFocusGroup,
config: this.config,
category: this.state.activeCategory
})), this.renderPurchaseInfo()))));
}, n;
}(u.Component), N = function(e) {
function t() {
e.apply(this, arguments);
}
return a(t, e), t.prototype.load = function() {
var e = this, t = this.props.viewLocation.args.gameId, n = this.props.viewLocation.args.serverId;
return Promise.all([ s.fetchRSPTemplate(t).then(function(t) {
return e.rspTemplate = t;
}), s.fetchServerDetails(t, n).then(function(t) {
return e.serverDetails = t;
}), s.fetchServer(t, n).then(function(t) {
return e.server = t;
}) ]);
}, t.prototype.onLoadingComplete = function() {
var e = this.serverDetails && this.server && this.rspTemplate;
this.setState({
isLoading: !1,
isAvailable: !!e
});
}, t.prototype.buildConfig = function() {
var e = this.serverDetails.serverSettings, t = l.find(this.serverDetails.mapRotations, function(t) {
return t.mapRotationId === e.mapRotationId;
});
this.config = new _.RSPConfig(this.rspTemplate, this.gameSettings, l.compact([ this.buildBaseSettingsConfig(e), this.buildMapRotationConfig(t ? t.maps : null), this.buildWeaponClassesConfig(e.customGameSettings.weaponClasses), this.buildKitsConfig(e.customGameSettings.kits), this.buildVehiclesConfig(e.customGameSettings.vehicles), this.buildMiscConfig(e.customGameSettings.misc), this.buildScalesConfig(e.customGameSettings.scales) ]));
}, t.prototype.getSaveButtonText = function() {
return __("ID_SPARTA_COMMERCE_RSP_RENTED_SAVE_BUTTON");
}, t.prototype.renderPurchaseInfo = function() {
return u.createElement("surface", null);
}, t.prototype.save = function(e, t, n) {
var r = this, o = this.props.viewLocation.args.gameId, a = this.server.rsp.serverId, i = this.serverDetails.serverSettings.mapRotationId, l = new x(t, parseInt(i));
s.updateServer(o, a, e, l, n).then(function() {
var e = c.gameStore.getGame(o);
P.trackEvent("RSP", "ConfigureServer", "Success"), I.gotoLocation(e.serverListRoute + "?tab=rented");
})["catch"](function(e) {
P.trackEvent("RSP", "ConfigureServer", "Failure"), console.error(e);
var t = "";
switch (e.code) {
case -32807:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_NAME_PROFANITY_RETRY");
break;

case -32808:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_DESCRIPTION_PROFANITY_RETRY");
break;

case -32809:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_PASSWORD_PROFANITY_RETRY");
break;

case -32810:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_MESSAGE_PROFANITY_RETRY");
break;

default:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_RETRY");
}
r.hideLoadingStatus(), O.spartaErrorMessage(t, __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG"));
});
}, t;
}(M);
t.ConfigureExistingServer = N;
var $ = function(e) {
function t(t) {
e.call(this, t);
}
return a(t, e), t.prototype.load = function() {
var e = this, t = this.props.viewLocation.args.gameId, n = this.props.viewLocation.args.serverId;
return Promise.all([ s.fetchResumablePurchase(t, _.PurchaseState.Orphaned).then(function(t) {
return e.orphanedPurchase = t;
}), s.fetchRspOffers(t).then(function(t) {
return e.rspOffers = t;
}), s.fetchRSPTemplate(t).then(function(t) {
return e.rspTemplate = t;
}), s.fetchServerDetails(t, n).then(function(t) {
return e.serverDetails = t;
}), s.fetchServer(t, n).then(function(t) {
return e.server = t;
}) ]);
}, t.prototype.onLoadingComplete = function() {
var e = this.rspOffers && this.rspOffers.length > 0 && this.serverDetails && this.server && this.rspTemplate;
this.setState({
isLoading: !1,
isAvailable: !!e
});
}, t.prototype.buildConfig = function() {
this.config = new _.RSPConfig(this.rspTemplate, this.gameSettings, l.compact([ this.buildRentalPeriodConfig() ]));
}, t.prototype.getSaveButtonText = function() {
return __(this.orphanedPurchase ? "ID_SPARTA_COMMERCE_RSP_RESUME_PURCHASE_SAVE_BUTTON" : "ID_SPARTA_COMMERCE_RSP_RENEW_SAVE_BUTTON");
}, t.prototype.renderPurchaseInfo = function() {
return u.createElement(v.PS4StoreContent, null, u.createElement(S.PurchaseInfo, {
gameId: this.props.viewLocation.args.gameId,
display: [ "resume" ]
}));
}, t.prototype.save = function(e, t, n) {
var r = this, o = this.props.viewLocation.args.gameId, a = this.server.rsp.serverId, i = this.config.getOption("days").setting.value.offer, l = this.server.pingSiteAlias;
s.purchaseServer(a, i, l, this.orphanedPurchase).then(function() {
var e = c.gameStore.getGame(o);
P.trackEvent("RSP", "RenewServer", "Success"), I.gotoLocation(e.serverListRoute + "?tab=rented");
})["catch"](function(e) {
P.trackEvent("RSP", "RenewServer", "Failure"), console.error(e), r.hideLoadingStatus();
});
}, t = i([ p.observer ], t);
}(M);
t.RenewExpiredServer = $;
var D = function(e) {
function t(t) {
e.call(this, t);
}
return a(t, e), t.prototype.load = function() {
var e = this, t = this.props.viewLocation.args.gameId;
return Promise.all([ s.fetchResumablePurchase(t, _.PurchaseState.Orphaned).then(function(t) {
return e.orphanedPurchase = t;
}), s.fetchRspOffers(t).then(function(t) {
return e.rspOffers = t;
}), s.fetchRspPingSites(t).then(function(t) {
return e.rspPingSites = t;
}), s.fetchRSPTemplate(t).then(function(t) {
return e.rspTemplate = t;
}) ]);
}, t.prototype.onLoadingComplete = function() {
var e = this.rspOffers && this.rspOffers.length > 0 && this.rspPingSites && this.rspPingSites.length > 0 && this.rspTemplate;
this.setState({
isLoading: !1,
isAvailable: !!e
});
}, t.prototype.buildConfig = function() {
this.config = new _.RSPConfig(this.rspTemplate, this.gameSettings, l.compact([ this.buildBaseSettingsConfig(), this.buildMapRotationConfig(), this.buildWeaponClassesConfig(), this.buildKitsConfig(), this.buildVehiclesConfig(), this.buildMiscConfig(), this.buildScalesConfig(), this.buildPingSiteConfig(), this.buildRentalPeriodConfig() ]));
}, t.prototype.getSaveButtonText = function() {
return __(this.orphanedPurchase ? "ID_SPARTA_COMMERCE_RSP_RESUME_PURCHASE_SAVE_BUTTON" : "ID_SPARTA_COMMERCE_RSP_PURCHASE_SAVE_BUTTON");
}, t.prototype.renderPurchaseInfo = function() {
return u.createElement(v.PS4StoreContent, null, u.createElement(S.PurchaseInfo, {
gameId: this.props.viewLocation.args.gameId,
display: [ "resume", "servers" ]
}));
}, t.prototype.save = function(e, t, n) {
var r = this, o = this.props.viewLocation.args.gameId, a = 0, i = this.config.getOption("days").setting.value.offer, l = this.config.getOption("pingSiteAlias").setting.value.alias;
s.purchaseServer(a, i, l, this.orphanedPurchase).then(function(r) {
var a = c.gameStore.getGame(o);
P.trackEvent("RSP", "PurchaseServer", "Success");
var i = new x(t);
s.updateServer(o, r, e, i, n).then(function() {
P.trackEvent("RSP", "UpdateServer", "Success"), I.gotoLocation(a.serverListRoute + "?tab=rented");
})["catch"](function(e) {
P.trackEvent("RSP", "UpdateServer", "Failure"), console.error(e);
var t = "";
switch (e.code) {
case -32807:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_NAME_PROFANITY_RETRY");
break;

case -32808:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_DESCRIPTION_PROFANITY_RETRY");
break;

case -32809:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_PASSWORD_PROFANITY_RETRY");
break;

case -32810:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_MESSAGE_PROFANITY_RETRY");
break;

default:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_RETRY");
}
O.spartaErrorMessage(t, __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG")), I.gotoLocation(a.serverListRoute + "?tab=rented");
});
})["catch"](function(e) {
P.trackEvent("RSP", "PurchaseServer", "Failure"), console.error(e), r.hideLoadingStatus();
});
}, t = i([ p.observer ], t);
}(M);
t.PurchaseNewServer = D;
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(2), a = n(10), i = function() {
function e() {
this.language = null, this.country = null;
}
return e.prototype.populate = function(e) {
this.language = e.language, this.country = e.country;
}, r([ a.observable ], e.prototype, "language", void 0), r([ a.observable ], e.prototype, "country", void 0), 
r([ a.action ], e.prototype, "populate", null), e;
}();
t.accountInfoPSN = new i(), o.frostbite.registerMessageListener("sparta.orbis.getAccountInfoResponse", function(e, n) {
t.accountInfoPSN.populate(n);
});
}, function(e, t, n) {
"use strict";
var r = n(4), o = n(30), a = n(97), i = n(61), s = n(75), l = n(70), u = n(87), p = n(164), c = n(95), f = function() {
function e() {
this.joinServerBrowser = null, this.joinRecommendation = null, this.joinFriend = null, 
this.joinParty = null, this.joinMatchmaking = null;
}
return e.prototype.getSources = function() {
return r.compact([ this.joinServerBrowser ? "serverbrowser" : void 0, this.joinRecommendation ? "recommendation/" + this.joinRecommendation.group : void 0, this.joinMatchmaking ? "matchmaking" : void 0, this.joinFriend ? "friend" : void 0, this.joinParty ? "party" : void 0 ]);
}, e.prototype.trackJoinSources = function(e) {
var t = this.getSources();
t.forEach(function(t) {
u.trackEvent("ServerJoin", e, t);
}), p.trackJoinSources(e, t);
}, e.prototype.clearJoinSources = function() {
this.joinServerBrowser = null, this.joinRecommendation = null, this.joinFriend = null, 
this.joinParty = null, this.joinMatchmaking = null;
}, e;
}();
t.AnalyticsStore = f, t.analyticsStore = new f(), u.trackJoinSource.listen(function(e, n) {
c.assign2(t.analyticsStore, (r = {}, r[e] = n, r));
var r;
}), i.handleCardInteraction.listen(function(e) {
t.analyticsStore.joinRecommendation = e;
}), s.listen(function(e) {
e.server && (t.analyticsStore.joinMatchmaking = e);
}), l.listen(function(e) {
t.analyticsStore.joinParty = e.size() > 1 ? e : null;
}), o.joinServer.listen(function(e) {
t.analyticsStore.joinFriend = e.friend;
}), o.handleJoinReady.listen(function() {
t.analyticsStore.trackJoinSources("Ready");
}), o.joinedServer.listen(function() {
t.analyticsStore.trackJoinSources("Joined"), t.analyticsStore.clearJoinSources();
}), a.onJoinMultiplayerFailed.listen(function() {
t.analyticsStore.trackJoinSources("Failed"), t.analyticsStore.clearJoinSources();
});
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(19), a = n(10), i = function() {
function e() {}
return e.prototype.setTrack = function(e) {
if (e && e !== this.currentTrackId) this.previousTrackId = this.currentTrackId, 
this.currentTrackId = e; else if (!e) {
var t = o.getHostingGame();
t && t.backgroundMusicTrack && t.backgroundMusicTrack !== this.currentTrackId && (this.previousTrackId = this.currentTrackId, 
this.currentTrackId = t.backgroundMusicTrack);
}
}, r([ a.observable ], e.prototype, "currentTrackId", void 0), r([ a.observable ], e.prototype, "previousTrackId", void 0), 
r([ a.action ], e.prototype, "setTrack", null), e;
}();
t.BackgroundMusicStore = i;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(538), i = function() {
function e(e, t) {
this.locationStore = e, this.routeStore = t;
}
return Object.defineProperty(e.prototype, "current", {
get: function() {
return new a.LayoutState(this.locationStore.location, this.routeStore.routes);
},
enumerable: !0,
configurable: !0
}), r([ o.computed ], e.prototype, "current", null), e;
}();
t.LayoutStateStore = i;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(94), i = n(17), s = function() {
function e(e) {
var t = this;
this.routeStore = e, this.history = [], this.historyIndex = -1, i.goBackInHistory.listen(function() {
return t.goBack();
}), i.goForwardInHistory.listen(function() {
return t.goForward();
}), i.updateLocation.listen(function(e) {
return t.setLocation(e, !0);
}), i.gotoLocation.listen(function(e) {
return t.setLocation(e);
});
}
return Object.defineProperty(e.prototype, "location", {
get: function() {
return this.locationOverride || this.history[this.historyIndex] || new a.Location("");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canGoBack", {
get: function() {
return this.canNavigate(-1);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canGoForward", {
get: function() {
return this.canNavigate(1);
},
enumerable: !0,
configurable: !0
}), e.prototype.setLocation = function(e, t) {
void 0 === t && (t = !1);
var n = e instanceof a.Location ? e : new a.Location(e);
this.isHistoryRoute(n) ? (this.locationOverride = void 0, this.historyIndex += t ? 0 : 1, 
this.history = this.history.slice(0, this.historyIndex).concat(n)) : this.locationOverride = n;
}, e.prototype.goBack = function() {
this.navigate(-1);
}, e.prototype.goForward = function() {
this.navigate(1);
}, e.prototype.navigate = function(e) {
return this.locationOverride ? void (this.locationOverride = void 0) : void (this.canNavigate(e) && (this.historyIndex += e));
}, e.prototype.canNavigate = function(e) {
var t = this.historyIndex + e;
return t >= 0 && t < this.history.length;
}, e.prototype.isHistoryRoute = function(e) {
var t = this.routeStore.routes.map(function(e) {
return e.location;
}), n = a.Location.indexOfBestMatch(t, e, !0), r = this.routeStore.routes[n];
return r && !r.excludeFromHistory;
}, e.prototype.isPreviousLocationPath = function(e) {
var t = this.history.slice();
if (t.length) {
var n = t[t.length - 1];
return n.path === e;
}
return !1;
}, r([ o.observable ], e.prototype, "history", void 0), r([ o.observable ], e.prototype, "historyIndex", void 0), 
r([ o.observable ], e.prototype, "locationOverride", void 0), r([ o.computed ], e.prototype, "location", null), 
r([ o.computed ], e.prototype, "canGoBack", null), r([ o.computed ], e.prototype, "canGoForward", null), 
r([ o.action ], e.prototype, "setLocation", null), r([ o.action ], e.prototype, "navigate", null), 
e;
}();
t.LocationStore = s;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(49), i = function() {
function e() {
var e = this;
this.all = [];
var t = n(27);
t.addRouteConfig.listen(function(t) {
return e.addRoute(t);
}), t.removeRouteConfig.listen(function(t) {
return e.removeRoute(t);
}), t.replaceRouteConfig.listen(function(t, n) {
return e.replaceRoute(t, n);
});
}
return Object.defineProperty(e.prototype, "routes", {
get: function() {
var e = n(671), t = new a.Route(Object.assign({}, e, {
children: this.all
})), r = t.cascade();
return r.flatten();
},
enumerable: !0,
configurable: !0
}), e.prototype.addRoute = function(e) {
this.all.push(e);
}, e.prototype.removeRoute = function(e) {
var t = this.all.indexOf(e);
-1 !== t && this.all.splice(t, 1);
}, e.prototype.replaceRoute = function(e, t) {
var n = this.all.indexOf(e);
-1 !== n && (this.all[n] = t);
}, r([ o.observable ], e.prototype, "all", void 0), r([ o.computed ], e.prototype, "routes", null), 
r([ o.action ], e.prototype, "addRoute", null), r([ o.action ], e.prototype, "removeRoute", null), 
r([ o.action ], e.prototype, "replaceRoute", null), e;
}();
t.RouteStore = i;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(2), a = n(10), i = n(69), s = function() {
function e() {
var e = this;
this.isTelemetryEnabled = !0, this.isOriginInGameOverlayAvailable = !1, this.battlebinaryPrefix = null, 
this.supportsFilterState = !1, this.featureFlags = [], this.serverTimestamp = 0, 
this.serverTimestampReceivedAt = Date.now(), i.nativeClientSettingsMessage.listen(function(t) {
e.setNativeSettings(t);
}), o.frostbite.registerMessageListener("sparta.origin.isIgoAvailableResponse", function(t, n) {
e.setOriginInGameOverlayAvailabilty(n.available);
});
}
return e.prototype.setNativeSettings = function(e) {
this.isTelemetryEnabled = e.isTelemetryEnabled;
}, e.prototype.setOriginInGameOverlayAvailabilty = function(e) {
this.isOriginInGameOverlayAvailable = e;
}, e.prototype.setCurrentUtcTimestamp = function(e) {
"" !== e && (this.serverTimestamp = parseInt(e, 10), this.serverTimestampReceivedAt = Date.now());
}, e.prototype.isFeatureEnabled = function(e) {
return "debugscreen" !== e || o.getBuildInfo().isEndUserBuild() ? this.featureFlags.indexOf(e) > -1 : !0;
}, e.prototype.getServerAdjustedTimestamp = function() {
return this.serverTimestamp + Math.round((Date.now() - this.serverTimestampReceivedAt) / 1e3);
}, r([ a.observable ], e.prototype, "isTelemetryEnabled", void 0), r([ a.observable ], e.prototype, "isOriginInGameOverlayAvailable", void 0), 
r([ a.observable ], e.prototype, "battlebinaryPrefix", void 0), r([ a.observable ], e.prototype, "supportsFilterState", void 0), 
r([ a.observable ], e.prototype, "featureFlags", void 0), r([ a.observable ], e.prototype, "serverTimestamp", void 0), 
r([ a.observable ], e.prototype, "serverTimestampReceivedAt", void 0), r([ a.action ], e.prototype, "setNativeSettings", null), 
r([ a.action ], e.prototype, "setOriginInGameOverlayAvailabilty", null), r([ a.action ], e.prototype, "setCurrentUtcTimestamp", null), 
e;
}();
t.SettingsStore = s;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
void 0 === n && (n = !1);
var r = e.map(function(e) {
return e.location;
});
return p.Location.indexOfBestMatch(r, t, n);
}
function o(e, t) {
var n = e.priority || 0, r = t.priority || 0;
return n === r ? e.getTitle().localeCompare(t.getTitle()) : r > n ? -1 : 1;
}
function a(e) {
return e.filter(function(e) {
return !(!e.visible || e.hideInMainMenu);
});
}
function i(e) {
return e.filter(function(e) {
return e.parent && !e.parent.parent;
});
}
function s(e, t) {
return void 0 === t && (t = []), t = t || [], t.splice(0, 0, e), e.parent && s(e.parent, t), 
t;
}
var l = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, u = n(10), p = n(94), c = n(49), f = function() {
function e(e, t) {
this._location = e, this._routes = t;
}
return Object.defineProperty(e.prototype, "config", {
get: function() {
var e = r(this._routes, this._location, !0);
return this._routes[e] || new c.Route();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "breadcrumbs", {
get: function() {
return s(this.config);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "location", {
get: function() {
return new p.Location({
path: this._location.path,
args: Object.assign({}, this.config.args, this._location.args)
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "mainMenuConfigs", {
get: function() {
var e = i(this._routes), t = a(e);
return t.sort(o), t;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "mainMenuIndex", {
get: function() {
return r(this.mainMenuConfigs, this._location);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "subMenuConfigs", {
get: function() {
var e = this.mainMenuConfigs[this.mainMenuIndex];
if (!e) return [];
var t = a(e.children);
if (!e.getSubtitle || e.getSubtitle && "" === e.getSubtitle()) return t.sort(o);
var n = new c.Route({
getTitle: function() {
return e.getSubtitle();
},
location: e.location,
priority: -1
});
return [ n ].concat(t).sort(o);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "subMenuIndex", {
get: function() {
return r(this.subMenuConfigs, this._location);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "activeSubMenuConfig", {
get: function() {
return this.subMenuConfigs[this.subMenuIndex];
},
enumerable: !0,
configurable: !0
}), l([ u.computed ], e.prototype, "config", null), l([ u.computed ], e.prototype, "breadcrumbs", null), 
l([ u.computed ], e.prototype, "location", null), l([ u.computed ], e.prototype, "mainMenuConfigs", null), 
l([ u.computed ], e.prototype, "mainMenuIndex", null), l([ u.computed ], e.prototype, "subMenuConfigs", null), 
l([ u.computed ], e.prototype, "subMenuIndex", null), l([ u.computed ], e.prototype, "activeSubMenuConfig", null), 
e;
}();
t.LayoutState = f;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = Object.keys(e).map(function(t) {
return c.createElement(w, {
key: t,
value: "[ " + t + "=" + e[t] + " ]",
style: {
fontSize: 14,
padding: 10
}
});
});
return t;
}
var o = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(249), s = n(11), l = n(8).observer, u = n(2), p = n(17), c = n(1), f = n(14), d = n(20), h = n(12), y = n(11), g = n(19), m = n(98), b = n(165), v = n(48), _ = n(27), _ = n(27), S = n(649), w = n(7), T = n(6), C = n(115)["default"], E = function(e) {
function t() {
e.call(this), this.metricUpdate = 0, this.state = {
metrics: i.Metrics.get()
};
}
return o(t, e), t.prototype.getInput = function() {
return new f({
label: "Exit",
key: h.Option1,
action: function() {
if (s.locationStore.canGoBack) p.goBackInHistory(); else {
var e = g.getHostingGame();
e && p.gotoLocation(e.startRoute);
}
}
});
}, t.prototype.componentDidMount = function() {
var e = this;
_.hideComponent("header"), this.metricUpdate = setInterval(function() {
e.setState({
metrics: i.Metrics.get()
});
}, 1e3);
}, t.prototype.componentWillUnmount = function() {
_.showComponent("header"), clearInterval(this.metricUpdate);
}, t.prototype.render = function() {
var e = b.getState(), t = m.getState(), n = {};
Object.keys(t).forEach(function(e) {
Object.keys(t[e]).forEach(function(r) {
var o = t[e][r];
n[r] = o.ping;
});
});
var o = v.getState(), a = o ? o.displayName : "<offline>", i = C.getState().level, s = g.getState(), l = {
gameId: s.hostingGameId,
protocolVersion: s.protocolVersion,
gatewayHost: e.gatewayHost,
buildConfig: u.getBuildInfo().buildConfig,
onlineEnvironment: e.onlineEnvironment,
webEndpoint: e.webEndpoint,
pingSites: JSON.stringify(n),
jsBundle: "release-bf1-xpack0_9198_4bcc0069_tunguska_all_prod (2016-12-03 12:34:31 UTC)",
user: a,
featureFlags: y.settingsStore.featureFlags.slice().join(", "),
battlebinaryPrefix: y.settingsStore.battlebinaryPrefix,
isTelemetryEnabled: y.settingsStore.isTelemetryEnabled,
ugcLevel: i,
locale: s.locale,
region: s.region
};
return c.createElement("surface", {
style: {
flex: 1,
padding: 75,
paddingLeft: 150,
paddingTop: 150,
flexDirection: "column"
}
}, c.createElement(w, {
value: "Connection Status",
style: {
fontSize: 22,
margin: [ 0, 0, 50, 0 ]
}
}), c.createElement("surface", {
style: {
flexDirection: "row",
width: T.getWidth(24) - 150
}
}, c.createElement("surface", {
style: {
flex: 1
}
}, r(l)), c.createElement("surface", {
style: {
flex: 1
}
}, c.createElement(S, null), c.createElement("surface", {
text: "Metrics"
}), c.createElement("surface", {
style: {
fontSize: 12
},
text: JSON.stringify(this.state.metrics, null, 2)
}))));
}, t = a([ l, d() ], t);
}(c.Component);
e.exports = E;
}, function(e, t, n) {
"use strict";
var r = n(30), o = function() {
function e() {
this.gameModMasks = {};
}
return e.prototype.getMask = function(e) {
return this.gameModMasks[e];
}, e.prototype.setMask = function(e, t) {
e ? this.gameModMasks[e] = parseInt(t, 10) : console.warn("Received invalid gameId", e);
}, e;
}();
t.installedExpansions = new o(), r.setInstalledExpansions.listen(function(e, n) {
t.installedExpansions.setMask(e, n);
});
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(155), i = new a.Game({
displayName: "Unknown game"
}), s = function() {
function e() {
this.games = o.map();
}
return e.prototype.getGame = function(e) {
return this.games.get(e) || i;
}, Object.defineProperty(e.prototype, "enabledGameIds", {
get: function() {
var e = [];
return this.games.forEach(function(t, n) {
t.isEnabled && e.push(n);
}), e;
},
enumerable: !0,
configurable: !0
}), e.prototype.registerGame = function(e) {
this.games.set(e.gameId, e);
}, r([ o.computed ], e.prototype, "enabledGameIds", null), r([ o.action ], e.prototype, "registerGame", null), 
e;
}();
t.GameStore = s;
}, function(e, t, n) {
"use strict";
function r(e, t) {
s("GameServer.setFilterState", {
game: e,
filterJson: JSON.stringify(t)
})["catch"](function(e) {
return console.warn("Could not save filter state", e);
});
}
function o(e, t) {
if ("string" != typeof e) return null;
try {
var n = JSON.parse(e);
return [ t, n ];
} catch (r) {
return console.warn("Unable to parse filter state for game", t, e, r), null;
}
}
function a(e) {
return s("GameServer.getFilterStates", {
games: e
}).then(function(e) {
return i.object(i.compact(i.map(e, o)));
});
}
var i = n(4), s = n(26).request;
t.saveFilterState = r, t.getFilterState = a;
}, function(e, t, n) {
"use strict";
function r(e, t) {
var n = {
game: e,
region: t,
stopCountingAt: 100,
protocolVersion: 80
};
return o("GameServer.getOperations", n).then(function(e) {
return Object.keys(e).map(function(t) {
return e[t];
});
})["catch"](function() {
return console.warn("Could not fetch operations"), [];
});
}
var o = n(26).request;
t.getOperations = r;
}, function(module, exports, __webpack_require__) {
(function(global) {
"use strict";
var PopupActions = __webpack_require__(25), Popup = __webpack_require__(47), ReactAPI = __webpack_require__(1), Twinkle = __webpack_require__(2), Input = __webpack_require__(14), _ = __webpack_require__(4), Animation = __webpack_require__(13), DateText = __webpack_require__(220), Text = __webpack_require__(7), Grid = __webpack_require__(6), BackgroundActions = __webpack_require__(283), AudioActions = __webpack_require__(163), fonts = __webpack_require__(224).fonts, TextSizes = __webpack_require__(40), KeysAPI = __webpack_require__(12), Template = __webpack_require__(33), ArticlePopup = __webpack_require__(286).ArticlePopup, CustomContent = function() {
function CustomContent() {}
return CustomContent.use = function(e) {
var t = this;
Twinkle.httpRequest(Twinkle.HTTP_METHODS.GET, e, "", "", !1, function(n, r) {
return n ? void (Twinkle.verifyCodeSignature(r) ? t.useRaw(r) : console.log("Failed to verify code signature: ", r)) : void console.log("Failed to call " + e);
});
}, CustomContent.useRaw = function(content) {
var React = ReactAPI, Keys = KeysAPI;
eval(content);
}, CustomContent;
}();
exports.CustomContent = CustomContent, Twinkle.getBuildInfo().isRemoteEngine() && (global.CustomContent = CustomContent);
}).call(exports, function() {
return this;
}());
}, function(e, t, n) {
(function(__) {
"use strict";
var e, r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(10), s = n(8), l = n(128), u = n(58), p = n(23), c = n(7), f = n(6), d = n(129), h = n(70), y = {
flex: 2,
height: f.getHeight(5),
marginLeft: f.GUTTER,
justifyContent: "center"
};
!function(e) {
e[e.None = 0] = "None", e[e.Pending = 1] = "Pending", e[e.Invited = 2] = "Invited", 
e[e.Member = 3] = "Member";
}(e || (e = {}));
var g = function(t) {
function n() {
t.apply(this, arguments), this.invitationRequestState = e.None;
}
return r(n, t), n.prototype.updateRequestState = function(e) {
this.invitationRequestState = e;
}, n.prototype.getInvitationState = function(t) {
return t ? t : this.props.party.hasMember(this.props.friend.spartaUserId) ? e.Member : e.None;
}, Object.defineProperty(n.prototype, "memberText", {
get: function() {
return __(SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_LAYOUT_COMCENTER_INPARTY_PS4" : SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_LAYOUT_COMCENTER_INPARTY_XB1" : "ID_SPARTA_LAYOUT_COMCENTER_INPARTY_PC");
},
enumerable: !0,
configurable: !0
}), n.prototype.sendInvitation = function() {
var t = this;
!this.invitationRequestState && this.props.party.canInviteUserToParty(this.props.friend) && (this.updateRequestState(e.Pending), 
this.props.party.canCreateParty() && !this.props.party.isLeavingParty() && d.create(), 
h.waitForCreation().then(function() {
d.invite(t.props.friend), setTimeout(function() {
return t.updateRequestState(e.Invited);
}, 1e3);
}));
}, n.prototype.renderState = function() {
var t = this, n = {
alignSelf: "center"
};
switch (this.getInvitationState(this.invitationRequestState)) {
case e.Member:
return a.createElement(c, {
size: "S",
value: this.memberText,
style: n
});

case e.Pending:
return a.createElement(u, {
autoRun: !0,
size: y.height,
style: n
});

case e.Invited:
return a.createElement(c, {
size: "S",
value: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_SENT"),
style: n
});

default:
return a.createElement(p, {
text: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE"),
style: {
height: y.height
},
textSize: "S",
action: function() {
return t.sendInvitation();
}
});
}
}, n.prototype.render = function() {
return a.createElement(l, {
transitionId: this.getInvitationState(this.invitationRequestState),
style: y
}, this.renderState());
}, o([ i.observable ], n.prototype, "invitationRequestState", void 0), o([ i.action ], n.prototype, "updateRequestState", null), 
n = o([ s.observer ], n);
}(a.Component);
t.PartyFriendButton = g;
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(137), s = (n(2), n(547)), l = n(95), u = n(13), p = (n(28), n(16), 
n(50)), c = n(8), f = c.observer, d = n(421), h = n(18), y = n(698), g = (n(423), 
n(699)), m = (n(264), n(27)), b = SpartaGlobals.bundleIsPC ? u.presets.transition : u.defaultTweenOptions, v = function(e) {
function t() {
e.apply(this, arguments), this.viewportLayerBlur = u.tween("4562274e:30", 0, b), 
this.viewportXOffset = u.tween("4562274e:31", 0, b);
}
return r(t, e), t.prototype.getCurrentViewComponent = function() {
return i.viewState.current ? this.refs[i.viewState.current.name] : null;
}, t.prototype.getContent = function() {
var e = this.getCurrentViewComponent();
return e ? e.refs.content : null;
}, t.prototype.getHeader = function() {
var e = this.refs.viewHeader;
return e ? e.refs.header : null;
}, t.prototype.getLeaf = function() {
var e = this.getCurrentViewComponent();
return e ? e.getLeaf() : this;
}, t.prototype.descendantDidFocus = function() {
m.setComponentVisibilities({
comCenter: !1,
mainMenu: !1
});
}, t.prototype.render = function() {
var e = {
zOffset: 1e4,
layer: !0,
layerClip: !0,
layerGrabBackground: !1,
position: "absolute",
layerBlur: this.viewportLayerBlur.getStyle(),
translateX: this.viewportXOffset.getStyle()
};
if (l.assign2(e, h.screen.style), SpartaGlobals.bundleIsConsole) {
var t = 0;
i.viewState.viewTint && (i.viewState.mainMenu && (t = h.mainMenu.width), i.viewState.comCenter && (t = -100));
var n = !p.getState().isVisible && i.viewState.viewTint;
this.viewportLayerBlur.to(n ? 1 : 0), this.viewportXOffset.to(t);
}
var r = i.viewState.items.map(function(e) {
return a.createElement(s.ViewSlot, {
ref: e.name,
key: e.name,
viewComponentState: e
});
});
return a.createElement("surface", {
style: e
}, a.createElement(_, {
ref: "viewHeader"
}), r, a.createElement(S, {
key: "logo"
}));
}, t = o([ f ], t);
}(a.Component);
t.ViewContainer = v;
var _ = f(function() {
var e = i.viewState.current, t = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
};
if (!e) return null;
var n = e.aggregate;
return n && n.config.showHeader ? a.createElement(d, {
key: "rCfgTop",
routeConfig: n.config,
style: t
}, a.createElement(y, {
key: "header",
ref: "header",
viewState: i.viewState
})) : null;
}), S = f(function() {
var e = i.viewState.current;
if (!e) return null;
var t = e.aggregate;
if (!t) return null;
var n = t.config;
return n && n.logoUrl && n.gameId ? a.createElement(g, {
imageUrl: n.logoUrl,
gameId: n.gameId
}) : null;
});
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(10), s = n(1), l = n(2), u = n(137), p = n(156), c = n(94), f = n(49), d = n(418), h = n(18), y = n(8), g = y.observer, m = n(423), b = n(13), v = (n(43), 
n(27), function(e) {
function t(t) {
e.call(this, t), this.transitionOptions = SpartaGlobals.bundleIsPC ? b.presets.transition : b.defaultTweenOptions, 
this.scaleDelta = 1.5, this._isFocused = !1, this._isFocusable = !0, this.lastFocus = null, 
this.tweens = {
translateX: b.tween("2b57041f:46", 0, this.transitionOptions),
translateY: b.tween("2b57041f:47", 0, this.transitionOptions),
opacity: b.tween("2b57041f:48", 1, this.transitionOptions),
scaleX: b.tween("2b57041f:49", 1, this.transitionOptions),
scaleY: b.tween("2b57041f:50", 1, this.transitionOptions)
}, this.focusAncestor = l.focus.createAncestor("viewslot-" + t.viewComponentState.name);
}
return r(t, e), t.prototype.getLeaf = function() {
if (this.lastFocus) {
if (this.lastFocus._isMounted) return this.lastFocus.getLeaf();
this.lastFocus = null;
}
return this.refs.content ? this.refs.content.getLeaf() : this;
}, t.prototype.handleViewTransition = function(e, t) {
if (t === p.EnterLeaveStates.LEAVING) {
var n = u.viewState.navigationVector;
if (n && n.x && this.tweens.translateX.to(-1920 * n.x), n && n.y && this.tweens.translateY.to(-1080 * n.y), 
n && n.z) {
var r = Math.max(1 + n.z * this.scaleDelta, 0);
this.tweens.opacity.to(0), this.tweens.scaleX.transition(1, r, this.transitionOptions), 
this.tweens.scaleY.transition(1, r, this.transitionOptions);
}
}
if (t === p.EnterLeaveStates.ENTERING) if (e !== p.EnterLeaveStates.IDLE) this.tweens.translateX.to(0), 
this.tweens.translateY.to(0), this.tweens.opacity.to(1), this.tweens.scaleX.to(1), 
this.tweens.scaleY.to(1); else {
var n = u.viewState.navigationVector;
if (n && n.x ? this.tweens.translateX.transition(1920 * n.x, 0) : this.tweens.translateX.set(0), 
n && n.y ? this.tweens.translateY.transition(1080 * n.y, 0, null, d.sectionTransitionComplete) : this.tweens.translateY.set(0), 
n && n.z) {
var o = Math.max(1 - n.z * this.scaleDelta, 0);
this.tweens.opacity.transition(0, 1), this.tweens.scaleX.transition(o, 1, this.transitionOptions), 
this.tweens.scaleY.transition(o, 1, this.transitionOptions);
} else this.tweens.scaleX.set(1), this.tweens.scaleY.set(1), this.tweens.opacity.set(1);
}
}, t.prototype.slideDown = function(e, t) {
e ? this.tweens.translateY.to(1080, {
duration: t
}) : this.tweens.translateY.to(0, {
duration: t
});
}, t.prototype.getComponent = function() {
var e = this.refs.content;
return e ? e.refs.component : null;
}, t.prototype.handleViewLifecycle = function(e, t) {
var n = this;
if (t === p.EnterLeaveStates.ENTERING) return void setTimeout(function() {
var e = n.getComponent();
e && e.componentWillEnter && e.componentWillEnter();
}, 0);
var r = this.getComponent();
r && (t === p.EnterLeaveStates.LEAVING && r.componentWillLeave && r.componentWillLeave(), 
t === p.EnterLeaveStates.IDLE && r.componentDidLeave && r.componentDidLeave(), t === p.EnterLeaveStates.ACTIVE && r.componentDidEnter && r.componentDidEnter());
}, t.prototype.memorizeFocusable = function(e) {
this.lastFocus = e;
}, t.prototype.componentDidMount = function() {
var e = this;
this.props.viewComponentState.activeSlot = this, this.dispose = i.autorun(function() {
var t = e.props.viewComponentState, n = t.previousState, r = t.currentState;
i.untracked(function() {
e.handleViewTransition(n, r), e.handleViewLifecycle(n, r);
});
});
}, t.prototype.componentWillMount = function() {
var e = this;
this.cancelQueryListener = l.focus.system.onInvalidQuery.listen(function(t) {
e.props.viewComponentState.isActive || t.reportInvalid(e.focusAncestor.getChildren());
});
}, t.prototype.componentWillUnmount = function() {
this.props.viewComponentState.activeSlot === this && (this.props.viewComponentState.activeSlot = null), 
this.dispose(), this.cancelQueryListener();
}, t.prototype.getChildContext = function() {
return {
viewComponentState: this.props.viewComponentState,
routeConfig: this.props.viewComponentState.aggregate ? this.props.viewComponentState.aggregate.config : null,
location: this.props.viewComponentState.aggregate ? this.props.viewComponentState.aggregate.location : new c.Location(),
parent: this
};
}, t.prototype.render = function() {
var e = this.props.viewComponentState, t = e.aggregate;
if (!t) return null;
var n = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, r = {
position: "absolute",
top: 0,
right: 0,
translateX: this.tweens.translateX.getStyle(),
translateY: this.tweens.translateY.getStyle(),
opacity: this.tweens.opacity.getStyle(),
scaleX: this.tweens.scaleX.getStyle(),
scaleY: this.tweens.scaleY.getStyle(),
width: h.screen.width,
height: h.screen.height
};
return s.createElement("surface", o({
key: "holder",
style: n
}, this.focusAncestor.hooks), s.createElement("surface", {
key: "animator",
style: r
}, s.createElement(m, {
key: "content",
ref: "content",
location: t.location,
depth: t.breadcrumbs.length,
view: t.config.view,
offlineView: t.config.offlineView,
requireOnline: t.config.requireOnline,
requireMpInstalled: t.config.requireMpInstalled,
onDescendantWillBlur: this.memorizeFocusable.bind(this)
})));
}, t.childContextTypes = {
viewComponentState: s.PropTypes.instanceOf(u.ViewComponentState),
routeConfig: s.PropTypes.instanceOf(f.Route),
location: s.PropTypes.instanceOf(c.Location),
parent: s.PropTypes.any
}, a([ i.action ], t.prototype, "componentDidMount", null), t = a([ g ], t);
}(s.Component));
t.ViewSlot = v;
}, function(e, t, n) {
(function(__) {
"use strict";
var e = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(1), a = n(60), i = n(95), s = n(198), l = n(240), u = n(9), p = n(7), c = n(6), f = n(8).observer, d = {
noticePadder: {
marginBottom: 20
},
notice: {
position: "absolute",
width: 24,
left: 0,
top: 2,
height: 24,
bottom: 0
},
noticeContainer: {
left: 34,
top: 5
},
noticeText: {
height: 32
},
noticeMarquee: {
width: 1200,
height: 32
}
}, h = function(t) {
function n() {
t.apply(this, arguments);
}
return e(n, t), n.prototype.render = function() {
var e = s.store.getNotice(this.props.gameId);
if (l.store.isMandatoryUpdateInstalled && (e = {
text: __("ID_SPARTA_UPDATE_AVAILABLE"),
type: s.NoticeType.Success
}), !e) return null;
var t = u.bbOfflineUrl("/sparta/jsclient/builds/assets/notice-blue-e74eff5d.png"), n = "#89f0ff";
e.type === s.NoticeType.Warning ? (t = u.bbOfflineUrl("/sparta/jsclient/builds/assets/notice-roange-d2b09bdd.png"), 
n = "#ffad32") : e.type === s.NoticeType.Danger ? (t = u.bbOfflineUrl("/sparta/jsclient/builds/assets/notice-red-d6a4b298.png"), 
n = "#f69a9a") : e.type === s.NoticeType.Success && (t = u.bbOfflineUrl("/sparta/jsclient/builds/assets/notice-green-e9fbae03.png"), 
n = "#a6f59c");
var r = i.assign3({}, d.notice, {
texture: t
}), f = i.assign3({}, d.noticeText, {
color: n
});
return o.createElement("surface", {
style: d.noticePadder
}, o.createElement("surface", {
style: r
}), o.createElement("surface", {
style: d.noticeContainer
}, o.createElement(a.Marquee, {
loop: !0,
style: d.noticeMarquee,
width: c.getWidth(22)
}, o.createElement(p, {
style: f,
value: e.text.toUpperCase(),
type: "emphasis",
size: "S"
}))));
}, n = r([ f ], n);
}(o.Component);
Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = h;
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e) {
v.display(new b({
id: "takeover-" + e.id,
texture: l.bbOfflineUrl("/sparta/assets/takeover/takeover_bg-d2a78eed.jpg"),
createButtons: !1,
instantShow: !0,
fullScreen: !0,
centerContent: !1,
content: a.createElement(T, {
takeover: e
})
}));
}
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(10), s = n(8), l = n(9), u = n(243), p = n(11), c = n(348), f = n(40).LINE_HEIGHTS, d = n(6), h = n(18), y = n(170), g = n(23), m = n(7), b = n(47), v = n(25), _ = {
takeoverContent: {
width: d.window.colSpan(19),
padding: [ h.dangerZoneSize.height, 0, h.dangerZoneSize.height + h.userBar.height + d.window.rowSpan(6), h.dangerZoneSize.width ],
flex: 1,
justifyContent: "flex-end"
},
title: {},
subTitle: {
marginBottom: d.window.rowSpan(3)
},
description: {
color: "#ffffffff",
textLineSpacing: f.M
},
buttonContainer: {
flexDirection: "row",
marginTop: d.window.rowSpan(7)
},
button: {
width: d.window.colSpan(5)
}
}, S = function() {
function e() {
var e = this;
this.isStartScreenVisible = y.isVisibleStore.getState(), y.isVisibleStore.connect(i.action(function(t) {
e.isStartScreenVisible = t;
}));
}
return Object.defineProperty(e.prototype, "isAllowed", {
get: function() {
return !this.isStartScreenVisible;
},
enumerable: !0,
configurable: !0
}), o([ i.observable ], e.prototype, "isStartScreenVisible", void 0), o([ i.computed ], e.prototype, "isAllowed", null), 
e;
}(), w = new S(), T = function(e) {
function t() {
e.apply(this, arguments);
}
return r(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.disposePopupClose = i.reaction(function() {
var t = p.takeoverStore.activeTakeover, n = t && t.id === e.props.takeover.id;
return !n || !w.isAllowed;
}, function(t) {
t && v.close(e.props.popupInfo.id);
});
}, t.prototype.componentWillUnmount = function() {
this.disposePopupClose();
}, t.prototype.render = function() {
var e = this;
return a.createElement("surface", {
style: _.takeoverContent
}, a.createElement(m, {
value: this.props.takeover.title.toUpperCase(),
style: _.title,
size: "L"
}), a.createElement(m, {
value: this.props.takeover.subTitle.toUpperCase(),
style: _.subTitle,
size: "XXL"
}), a.createElement(m, {
value: this.props.takeover.description,
style: _.description,
size: "M"
}), a.createElement("surface", {
style: _.buttonContainer
}, a.createElement(g, {
style: _.button,
text: __("ID_SPARTA_ACTION_CONTINUE"),
action: function() {
e.props.takeover.dismiss(), c.TakeoverSeenClient.trigger(e.props.takeover);
}
})));
}, t;
}(a.Component), C = function(t) {
function n() {
t.apply(this, arguments);
}
return r(n, t), n.prototype.componentDidMount = function() {
this.disposeTakeoverReaction = i.reaction(function() {
return w.isAllowed ? p.takeoverStore.activeTakeover : void 0;
}, function(t) {
t && t.type === u.TakeoverType.Popup && e(t);
}, !0);
}, n.prototype.componentWillUnmount = function() {
this.disposeTakeoverReaction();
}, n.prototype.render = function() {
return p.takeoverStore.activeTakeover && p.takeoverStore.activeTakeover.type === u.TakeoverType.Inline ? a.createElement(T, {
takeover: p.takeoverStore.activeTakeover
}) : null;
}, n = o([ s.observer ], n);
}(a.Component);
t.TakeoverComponent = C;
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(2), s = n(10), l = n(18), u = n(8), p = u.observer, c = n(44), f = n(57), d = n(28), h = n(13), y = n(16), g = n(53), m = n(700), b = n(63), v = n(137), _ = n(156), S = n(197), w = n(95), T = n(11), C = n(9), E = i.particles, I = E.Emitter, P = E.Renderer, O = SpartaGlobals.bundleIsPC ? h.presets.transition : h.defaultTweenOptions, A = {
container: {
zOffset: 50,
position: "absolute",
left: 0,
top: 0,
backgroundColor: [ 0, 0, 0, 0 ]
},
background: {
zOffset: -1e3,
layer: !0
},
gradientOverlay: {
width: l.background.width,
height: l.background.height,
left: 0,
top: 0,
position: "absolute",
textureMode: "cover",
texture: C.bbOfflineUrl("/sparta/jsclient/builds/assets/gradient_overlay-b86da601.png"),
zOffset: 26,
opacity: .6
}
}, k = function(e) {
function t() {
e.apply(this, arguments), this.emitters = {
leftHalf: {
left: new I(),
right: new I()
},
rightHalf: {
left: new I(),
right: new I()
}
};
}
return r(t, e), t.prototype.componentDidMount = function() {
var e = n(893), t = [ C.bbOfflineUrl("/sparta/assets/ui/particles/circle-96840943.png"), C.bbOfflineUrl("/sparta/assets/ui/particles/streak-1155f626.png") ];
for (var r in this.emitters) {
var o = function(n) {
var o = a.emitters[r][n];
if (o.config.fromJson(e), o.config.textureList = t, "left" === n) {
var i = a.emitters[r][n].config.x.to.value, l = a.emitters[r][n].config.x.from.variance;
o.config.x.to.value = -1 * i, o.config.x.from.variance = -1 * l;
}
s.when(function() {
return !T.settingsStore.isFeatureEnabled("particles");
}, function() {
return o.start();
});
}, a = this;
for (var i in this.emitters[r]) o(i);
}
}, t.prototype.componentWillUnmount = function() {
for (var e in this.emitters) for (var t in this.emitters[e]) this.emitters[e][t].stop();
}, t.prototype.render = function() {
var e = this.props.bgItem;
if (!(e && e.info && e.info.overlayUrl && e.info.overlaySize)) return null;
var t = e.info.overlaySize[0], n = e.info.overlaySize[1], r = Math.round(t * b.uiState.viewportScale.scaleX), o = Math.round(n * b.uiState.viewportScale.scaleY), i = 750, s = {
width: this.props.bgWidth,
height: this.props.bgHeight,
position: "absolute",
left: 0,
bottom: 0,
layer: !0,
layerClip: !0,
layerBlur: 1,
layerBlurStrength: S.backgroundContainer.overlayTweens.blurStrength.getStyle(),
scaleX: S.backgroundContainer.overlayTweens.textureScale.getStyle(),
scaleY: S.backgroundContainer.overlayTweens.textureScale.getStyle()
}, l = {
width: r,
height: o,
texture: e.info.overlayUrl,
textureMode: "fill",
zOffset: 1e3,
position: "absolute",
left: this.props.bgWidth / 2 - r / 2,
top: this.props.bgHeight - o,
translateX: S.backgroundContainer.overlayTweens.offsetX.getStyle(),
translateY: S.backgroundContainer.overlayTweens.offsetY.getStyle()
}, u = {
translateX: l.translateX,
translateY: l.translateY,
top: b.uiState.window.height + 100,
position: "absolute",
width: 100,
height: 100,
enableMouseEvents: !1,
zOffset: 1001,
left: b.uiState.window.width / 2 - i
}, p = {
translateX: l.translateX,
translateY: l.translateY,
top: b.uiState.window.height + 100,
position: "absolute",
width: 100,
height: 100,
enableMouseEvents: !1,
zOffset: 1001,
left: b.uiState.window.width / 2 + i
}, c = !T.settingsStore.isFeatureEnabled("particles"), f = c ? a.createElement("surface", {
style: u
}, a.createElement(P, {
emitter: this.emitters.leftHalf.left
}), a.createElement(P, {
emitter: this.emitters.leftHalf.right
})) : null, d = c ? a.createElement("surface", {
style: p
}, a.createElement(P, {
emitter: this.emitters.rightHalf.left
}), a.createElement(P, {
emitter: this.emitters.rightHalf.right
})) : null;
return a.createElement("surface", {
style: s
}, f, d, a.createElement("surface", {
style: l
}));
}, o([ s.action ], t.prototype, "componentDidMount", null), t = o([ p ], t);
}(a.Component), R = function(e) {
function t() {
e.apply(this, arguments);
}
return r(t, e), t.prototype.render = function() {
var e = {
width: b.uiState.window.width,
height: b.uiState.window.height,
left: 0,
bottom: 0,
position: "absolute",
backgroundColor: "#000000",
zOffset: -2001,
enableMouseEvents: !1,
translateY: b.uiState.layout.reactComponent.tweenTranslateY.getStyle(),
opacity: this.state.isVisible ? 1 : 0
};
return a.createElement("surface", {
style: e
});
}, t = o([ p, y({
isVisible: d(g, "background")
}) ], t);
}(a.Component);
b.uiState.layout.extra.addElements([ a.createElement(R, null) ]);
var x = function() {
function e() {
this.navigationState = c.getState().navigationState;
}
return e.prototype.setNavigationState = function(e) {
this.navigationState = e;
}, o([ s.observable ], e.prototype, "navigationState", void 0), o([ s.action ], e.prototype, "setNavigationState", null), 
e;
}(), M = new x();
c.scope("navigationState").listen(function(e) {
M.setNavigationState(e);
});
var N = function(e) {
function t(t) {
e.call(this, t), this.unloadBg = function() {}, this.unloadOverlay = function() {}, 
this.preloadedBg = !1, this.preloadedOverlay = !1, this.preloader = i.texture.createPreloader(this), 
this.tweenTranslateY = h.tween("e2606948:256", 0, O);
}
return r(t, e), Object.defineProperty(t.prototype, "shouldPreload", {
get: function() {
return M.navigationState === f.FrontEnd && this.props.bgItem.currentState !== _.EnterLeaveStates.IDLE;
},
enumerable: !0,
configurable: !0
}), t.prototype.componentDidMount = function() {
var e = this;
this.stopTransitionWatcher = s.autorun(function() {
var t = s.untracked(function() {
return v.viewState.navigationVector;
}), n = e.props.bgItem, r = n.currentState, o = n.previousState;
s.untracked(function() {
return e.updateTransition(t, r, o);
});
}), this.stopPreloadWatcher = s.autorun(function() {
if (e.shouldPreload) {
var t = e.props.bgItem;
t && t.info && (t.info.url && !e.preloadedBg && (e.unloadBg = e.preloader.preload(t.info.url, void 0), 
e.preloadedBg = !0), t.info.overlayUrl && !e.preloadedOverlay && (e.unloadOverlay = e.preloader.preload(t.info.overlayUrl, void 0), 
e.preloadedOverlay = !0));
} else e.unloadBg(), e.unloadOverlay(), e.preloadedBg = !1, e.preloadedOverlay = !1;
});
}, t.prototype.componentWillUnmount = function() {
this.stopTransitionWatcher(), this.stopPreloadWatcher();
}, t.prototype.updateTransition = function(e, t, n) {
if (e && t === _.EnterLeaveStates.LEAVING && this.tweenTranslateY.autorun(function(t) {
return t.to(e.y * -b.uiState.window.height);
}), t === _.EnterLeaveStates.ENTERING) if (n !== _.EnterLeaveStates.IDLE) this.tweenTranslateY.to(0); else if (e) {
var r = e.y * b.uiState.window.height;
this.tweenTranslateY.transition(r, 0);
} else this.tweenTranslateY.set(0);
}, t.prototype.render = function() {
var e = this.props.bgItem, t = e.info;
if (!t || this.state.gameNavigationState !== f.FrontEnd) return null;
var n = t.url, r = t.size[0], o = t.size[1], i = 120, s = b.uiState.window.height + i, l = s / o, u = r * l, p = (b.uiState.window.width - u) / 2, c = w.assign3({}, A.container, {
width: b.uiState.window.width,
height: b.uiState.window.height,
position: "absolute",
opacity: h.tweenSwitch(0, 1, this.state.isVisible),
enableMouseEvents: this.state.isVisible,
translateY: this.tweenTranslateY.getStyle()
}), d = h.tweenTo(Math.min(2 * this.state.blurDepth, 20), h.presets.transition), y = w.assign3({}, A.background, {
width: u,
height: s,
left: p,
top: b.uiState.window.height - s,
position: "absolute",
layerBlur: 1,
layerBlurStrength: S.backgroundContainer.backgroundTweens.blurStrength.getStyle(),
texture: n,
textureMode: "fill",
textureOffsetX: S.backgroundContainer.backgroundTweens.offsetX.getStyle(),
textureOffsetY: S.backgroundContainer.backgroundTweens.offsetY.getStyle(),
textureScale: S.backgroundContainer.backgroundTweens.textureScale.getStyle()
}), g = u < b.uiState.window.width ? D(u, b.uiState.window.height, "left") : null, m = u < b.uiState.window.width ? D(u, b.uiState.window.height, "right") : null, v = s < b.uiState.window.height ? D(u, b.uiState.window.height, "top") : null, T = s < b.uiState.window.height ? D(u, s, "bottom") : null, C = t.animation, E = e.currentState === _.EnterLeaveStates.ACTIVE, I = C && E ? a.createElement(C, {
style: {
zOffset: 26,
layerBlur: 1,
layerBlurStrength: d
}
}) : null;
return a.createElement("surface", {
style: c
}, a.createElement("surface", {
style: y
}, g, m, T, v, I, a.createElement(k, {
topOffset: y.top,
bgItem: e,
bgWidth: u,
bgHeight: s
})), !1);
}, o([ s.computed ], t.prototype, "shouldPreload", null), t = o([ p, y({
isVisible: d(g, "background"),
gameNavigationState: d(c, "navigationState"),
isBlurred: d(m, "isBlurred"),
blurDepth: d(m, "depth")
}) ], t);
}(a.Component);
t.Background = N;
var $ = 160, D = function(e, t, n) {
var r = "left" === n || "right" === n, o = {
position: "absolute",
zOffset: 1001,
textureMode: "fill",
width: r ? $ : e,
height: r ? t : $,
texture: null
};
switch (n) {
case "left":
o.left = -1, o.bottom = 0, o.texture = C.bbOfflineUrl("/sparta/jsclient/builds/assets/black-fade-left-1a8f81c3.png");
break;

case "right":
o.right = -1, o.bottom = 0, o.texture = C.bbOfflineUrl("/sparta/jsclient/builds/assets/black-fade-right-8fa148fd.png");
break;

case "top":
o.left = 0, o.top = 0, o.texture = C.bbOfflineUrl("/sparta/jsclient/builds/assets/black-fade-top-1b6b82cf.png");
break;

case "bottom":
o.left = 0, o.bottom = 0, o.texture = C.bbOfflineUrl("/sparta/jsclient/builds/assets/black-fade-bottom-2f5a5ec2.png");
}
return a.createElement("surface", {
style: o
});
};
}, function(e, t, n) {
(function(__) {
"use strict";
function e(e, t, n) {
void 0 === n && (n = {});
var o = function(o) {
function i() {
o.apply(this, arguments);
}
return r(i, o), i.prototype.render = function() {
return a.createElement(A, {
gameId: e,
filterDefaults: t,
filterExceptions: n
});
}, i;
}(a.Component);
return o;
}
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(2), s = n(8).observer, l = n(11), u = n(95), p = n(31), c = n(9), f = n(12), d = n(81), h = n(305), y = n(18), g = n(6), m = n(7), b = n(62), v = n(40), _ = n(14), S = n(59), w = n(13), T = n(304).showTutorialForGameMode, C = function(e) {
function t() {
e.apply(this, arguments), this.textSizes = {
heading: SpartaGlobals.bundleIsConsole ? "L" : "M",
subHeading: SpartaGlobals.bundleIsConsole ? "M" : "S",
text: (SpartaGlobals.bundleIsConsole, "S")
}, this.maxWidth = g.getWidth(14), this.itemMargin = [ 0, 0, g.GUTTER, 0 ];
}
return r(t, e), t.prototype.render = function() {
var e = this, t = this.props.item;
if (!t) return a.createElement("surface", null);
var n = t.images && t.images.Jpg1000xANY ? t.images.Jpg1000xANY : t.imageUrl, r = {
wrapper: {
width: this.maxWidth
},
image: {
texture: n,
textureMode: "cover",
textureAlign: .8,
backgroundColor: "#00000099",
width: g.getWidth(14),
height: g.getHeight(36),
marginBottom: 4 * g.GUTTER
},
objectiveWrapper: {
flex: 1,
flexDirection: "row",
marginBottom: 2 * this.itemMargin[2]
},
objective: {
width: this.maxWidth - g.getWidth(.5),
textLineSpacing: v[this.textSizes.text]
},
listIndicator: {
width: g.getWidth(.5) - g.GUTTER
},
heading: {
margin: this.itemMargin,
textAlignForRTL: "left"
},
text: {
margin: this.itemMargin,
textLineSpacing: v[this.textSizes.text],
textAlignForRTL: "left"
}
}, o = (t.objectives || []).map(function(t, n) {
return a.createElement("surface", {
key: n,
style: r.objectiveWrapper
}, a.createElement(m, {
value: "-",
style: r.listIndicator,
size: e.textSizes.text
}), a.createElement(m, {
value: t,
style: r.objective,
size: e.textSizes.text
}));
}), i = t.catchphrase ? a.createElement(m, {
value: t.catchphrase.toUpperCase(),
size: this.textSizes.subHeading,
style: r.heading
}) : null, s = t.videoUrl && l.settingsStore.isFeatureEnabled("tutorials") ? a.createElement(O, {
item: t
}) : a.createElement("surface", {
style: r.image
});
return a.createElement("surface", {
style: r.wrapper
}, s, a.createElement(m, {
value: t.prettyName.toUpperCase(),
type: "emphasis",
size: this.textSizes.heading,
style: r.heading
}), i, a.createElement(m, {
value: t.description,
size: this.textSizes.text,
style: r.text
}), o);
}, t = o([ s ], t);
}(a.Component), E = c.bbOfflineUrl("/sparta/jsclient/builds/assets/play_active-b7f2b328.png"), I = c.bbOfflineUrl("/sparta/jsclient/builds/assets/play-f2e293cf.png"), P = "SpartaCommonAtlas", O = function(e) {
function t() {
e.apply(this, arguments), this.focusItem = i.focus.create(this, "quickmatch_video"), 
this.preloader = i.texture.createPreloader(this);
}
return r(t, e), t.prototype.componentWillMount = function() {
this.preloader.preload(E, P), this.preloader.preload(I, P);
}, t.prototype.showFullScreenPopup = function() {
T(this.props.item, !0);
}, t.prototype.render = function() {
var e = this.props.item;
if (!e || !e.videoUrl) return a.createElement("surface", null);
var t = e.images && e.images.Jpg1000xANY ? e.images.Jpg1000xANY : e.imageUrl, n = [ new _({
label: __("ID_SPARTA_ACTION_WATCH_TUTORIAL"),
blockInputFor: 500,
action: this.showFullScreenPopup.bind(this),
key: f.Accept
}) ], r = {
video: {
texture: t,
textureMode: "cover",
textureAlign: .8,
textureScale: w.tweenSwitch(1, 1.02, this.focusItem.isFocused && !SpartaGlobals.bundleIsPC, w.presets.focusables.enter.slow, w.presets.focusables.leave["default"]),
backgroundColor: "#00000099",
width: g.getWidth(14),
height: g.getHeight(36),
marginBottom: 4 * g.GUTTER
}
}, o = a.createElement("surface", {
style: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
texture: this.focusItem.isFocused ? E : I,
textureAtlas: P,
textureMode: "none",
textureAlign: [ .5, .5 ]
}
});
return a.createElement(S, {
input: n,
focusItem: this.focusItem,
style: r.video
}, o);
}, t;
}(a.Component), A = function(e) {
function t() {
e.apply(this, arguments), this.labelColor = {
regular: "#FFFFFF",
premium: "#ff9900"
}, this.state = {
selectedItem: null
};
}
return r(t, e), t.prototype.createRoleItem = function(e) {
var t = this;
return {
label: e.prettyName,
onTrigger: function() {
return t.quickMatch({
role: "commander"
});
},
onFocus: function() {
return t.selectItem(e);
},
fontColor: e.premium ? this.labelColor.premium : this.labelColor.regular,
scrollLabel: !0
};
}, t.prototype.createExperienceItem = function(e) {
var t = this, n = {
experiences: {}
};
return n.experiences[e.filterKey] = "on", {
label: e.prettyName,
onTrigger: function() {
return t.quickMatch(n);
},
onFocus: function() {
return t.selectItem(e);
},
fontColor: e.premium ? this.labelColor.premium : this.labelColor.regular,
scrollLabel: !0
};
}, t.prototype.createGameModeItem = function(e) {
var t = this, n = {
gameModes: {}
};
n.gameModes[e.filterKey] = "on";
var r = this.props.filterExceptions[e.name.toLowerCase()];
return r && (n = u.assign3({}, n, r)), {
label: e.prettyName,
onTrigger: function() {
return t.quickMatch(n);
},
onFocus: function() {
return t.selectItem(e);
},
scrollLabel: !0
};
}, t.prototype.getMatchmakingModeList = function() {
var e = this, t = l.quickmatchOptionsStore.quickmatchOptions && l.quickmatchOptionsStore.quickmatchOptions[this.props.gameId], n = [];
return t && (t.experiences && (n = n.concat(t.experiences.map(function(t) {
return e.createExperienceItem(t);
}))), t.gameModes && (n = n.concat(t.gameModes.map(function(t) {
return e.createGameModeItem(t);
}))), t.roles && (n = n.concat(t.roles.map(function(t) {
return e.createRoleItem(t);
})))), n;
}, t.prototype.quickMatch = function(e) {
var t = this;
T(this.state.selectedItem).then(function() {
var n = u.assign3({}, t.props.filterDefaults, e);
d.prepare(t.props.gameId, n);
});
}, t.prototype.selectItem = function(e) {
this.setState({
selectedItem: e
});
}, t.prototype.renderSideContent = function() {
return a.createElement("surface", {
style: {
marginTop: 2 * -g.GUTTER,
paddingTop: 2 * g.GUTTER
}
}, a.createElement(p.Scroller, {
style: {
height: y.content.height
},
controller: !1
}, a.createElement(b, {
items: this.getMatchmakingModeList(),
divider: "item"
})));
}, t.prototype.render = function() {
return a.createElement(h, {
tilting: !1,
tallContent: !0,
sideContent: this.renderSideContent()
}, a.createElement(C, {
item: this.state.selectedItem
}));
}, t = o([ s ], t);
}(a.Component);
t.getGameSpecificQuickMatch = e;
}).call(t, n(5));
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(95), i = n(99), s = function() {
function e() {
var e = this;
this.quickmatchOptions = null, i.listen(function(t) {
e.setQuickmatchOptions(t);
});
}
return e.prototype.setQuickmatchOptions = function(e) {
var t = this;
void 0 === e && (e = {});
var n = {};
Object.keys(e).map(function(r) {
var o = e[r], i = a.assign2({}, {
gameModes: o.gameModes
});
i.gameModes = i.gameModes.filter(function(e) {
return t.isModeDisabled(e);
}), i.gameModes = i.gameModes.sort(function(e, t) {
return e.prettyName.toUpperCase() > t.prettyName.toUpperCase() ? 1 : -1;
});
var s = o.experiences ? o.experiences : [];
if (s.length > 0) {
var l = [], u = [], p = [];
s.map(function(e) {
"COMMANDER" === e.filterKey ? l.push(e) : e.premium ? u.push(e) : p.push(e);
});
var c = u.concat(p);
i = a.assign3({}, i, {
roles: l,
experiences: c
});
}
n[r] = i;
}), this.quickmatchOptions = n;
}, e.prototype.isModeDisabled = function(e) {
return -1 === e.disabledFor.indexOf("QuickMatch");
}, r([ o.observable ], e.prototype, "quickmatchOptions", void 0), r([ o.action ], e.prototype, "setQuickmatchOptions", null), 
e;
}();
t.QuickmatchOptionsStore = s;
}, function(e, t, n) {
"use strict";
function r(e) {
switch (s("accept_exclusive_keywords_start"), e.task) {
case "JoinMpServer":
return new l.JoinMpServer(e.server);

case "EnterOperations":
return new u.EnterOperations();

case "EnterCampaign":
return new p.EnterCampaign();

case "ExitPauseMenu":
return new i.ExitPauseMenu();

case "RedeployFromPauseMenu":
return new d.RedeployFromPauseMenu();
}
return s("accept_exclusive_keywords_end"), null;
}
function o(e) {
f.frostbite.sendMessage("sparta.setTestScenarioState", {
state: e
});
}
function a() {
f.events.getCommandHandler("test").listen(function(e) {
t.currentTask && console.error("Already running a task: " + t.currentTask.getDescription());
var n = r(JSON.parse(e));
return n ? (t.currentTask = n, console.log("Running test: ", n.getDescription()), 
o("TestScenarioState_InProgress"), void n.run(function(e, n) {
switch (e) {
case c.TestStatus.InProgress:
console.log(n), o("TestScenarioState_InProgress");
break;

case c.TestStatus.Completed:
t.currentTask = null, o("TestScenarioState_Completed");
break;

case c.TestStatus.Failed:
t.currentTask = null, f.Native.showError(n);
}
})) : void console.error("Unknown test: " + e);
});
}
var i = n(556), s = n(39).acceptKeyword, l = n(557);
s("accept_exclusive_keywords_start");
var u = n(555), p = n(554);
s("accept_exclusive_keywords_end");
var c = n(138), f = n(2), d = n(558);
t.currentTask = null, t.initialize = a;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(138), a = n(244), i = n(39).acceptKeyword;
i("accept_exclusive_keywords_start");
var s = n(36), l = function(e) {
function t() {
e.call(this), a.passStartScreen(this), a.gotoLocation(this, "tunguska/sp"), this.step("Enter Campaign").delay(3e3).custom(function(e) {
s.enterCampaign(), e();
}).timeout(5e3);
}
return r(t, e), t.prototype.getDescription = function() {
return "EnterCampaign";
}, t;
}(o.Task);
t.EnterCampaign = l, i("accept_exclusive_keywords_end");
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(138), a = n(244), i = n(39).acceptKeyword;
i("accept_exclusive_keywords_start");
var s = n(36), l = function(e) {
function t() {
e.call(this), a.passStartScreen(this), a.gotoLocation(this, "tunguska/mp"), this.step("Enter Operations").delay(3e3).custom(function(e) {
s.enterOperations(), e();
}).timeout(5e3);
}
return r(t, e), t.prototype.getDescription = function() {
return "EnterOperations";
}, t;
}(o.Task);
t.EnterOperations = l, i("accept_exclusive_keywords_end");
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(138), a = n(30), i = n(50), s = function(e) {
function t() {
e.call(this), this.step("Wait for pause menu").waitUntil(function(e) {
var t = i.getState();
return t ? t.isVisible && "playing" === t.route ? !0 : (e.error = "Expected the pause menu to be shown (isVisible: " + t.isVisible + " route: " + t.route + ")", 
!1) : !1;
}, 1e3, 10, "Expected the pause menu to be shown"), this.step("Stop Game").delay(2e3).custom(function(e) {
a.stopGame(!0), e();
}).timeout(5e3), this.step("Wait for frontend to load").custom(function(e) {
setTimeout(e, 1e4);
});
}
return r(t, e), t.prototype.getDescription = function() {
return "ExitPauseMenu";
}, t;
}(o.Task);
t.ExitPauseMenu = s;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(138), a = n(244), i = n(2), s = n(22), l = function(e) {
function t(t) {
e.call(this), this.serverName = t;
var n = "tunguska";
a.passStartScreen(this), a.gotoLocation(this, "tunguska/mp"), a.gotoLocation(this, "tunguska/mp/servers"), 
this.step("Set name filter").custom(function(e) {
i.testElement.onMount("server-quickfilter-text", function() {
s.resetFilters(n), s.setFilterValue(n, "name", "name", t), i.Native.applyStateChanges(), 
e();
});
}).delay(2e4).timeout(25e3), this.step("Filter servers").custom(function(e) {
s.refreshServers({
game: n
}), i.Native.applyStateChanges(), e();
}).delay(5e3), this.step("Join server").waitUntil(function(e) {
var n = i.testElement.getGroup("server-list-item"), r = n.map(function(e) {
return "'" + e.props.server.name + "'";
}).join(", ");
e.error = "Can't find server '" + t + "' in " + r;
var o = n.filter(function(e) {
return e.props.server.name === t;
}), a = o[0];
return a ? (console.log("Joining server", a.props.server), a.props.join(), !0) : !1;
}, 1e3, 10, "Could not find server '" + t + "'");
var r;
this.step("Waiting for join").custom(function(e) {
r = i.frostbite.registerMessageListener("game.joinResultMessage", function(t, n) {
if (n.joinResult === n.JoinResult_Success) console.log("Successfully joined the game"), 
e(); else {
var r = "Unknown: " + n.joinResult;
Object.keys(n).forEach(function(e) {
"joinResult" !== e && n.joinResult === n[e] && (r = e);
}), e("Join failed: " + r);
}
});
}).onDone(function(e) {
r && r();
});
}
return r(t, e), t.prototype.getDescription = function() {
return "JoinMpServer " + this.serverName;
}, t;
}(o.Task);
t.JoinMpServer = l;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(138), a = n(2), i = (n(30), n(50)), s = function(e) {
function t() {
e.call(this), this.step("Wait for pause menu").waitUntil(function(e) {
var t = i.getState();
return t ? t.isVisible && "playing" === t.route ? !0 : (e.error = "Expected the pause menu to be shown (isVisible: " + t.isVisible + " route: " + t.route + ")", 
!1) : !1;
}, 1e3, 10, "Expected the pause menu to be shown"), this.step("Press Redeploy in pause menu").waitUntil(function(e) {
var t = a.testElement.getGroup("menuitem"), n = t.filter(function(e) {
return "Redeploy" === e.props.label;
});
if (1 !== n.length) return e.error = "Expected a menu item with the label 'Redeploy', found " + n.length, 
!1;
var r = n[0];
return r.props.action ? (r.props.action(), !0) : (e.error = "Redeploy button without action", 
!1);
}, 1e3, 10);
}
return r(t, e), t.prototype.getDescription = function() {
return "RedeployFromPauseMenu";
}, t;
}(o.Task);
t.RedeployFromPauseMenu = s;
}, function(e, t, n) {
"use strict";
var r = n(351);
t.voipState = new r.VoipState();
}, function(e, t) {
"use strict";
function n(e, t, n, r) {
return new u(e, t, n, r || 0);
}
function r(e, t, n) {
return Math.floor(n * (e / t));
}
function o(e, t) {
return t && e.length > 2 ? e.length - 2 : 0;
}
function a(e, t) {
return t ? e.length > 2 ? e.length - 1 : 2 === e.length ? 1 : 0 : 1;
}
function i(e, t) {
if (t) {
var n = a(e, t), r = e[n];
return r.scoreNeeded || 0;
}
return e[1] ? e[1].scoreNeeded : 0;
}
function s(e, t, n, r, a, i) {
if (!i || n.length < 3) {
var s = n[o(n, !1)], l = s ? s.scoreNeeded : 0, u = (e - l) / Math.max(t - l, 1), p = Math.floor(a * u);
return p || r;
}
return 0;
}
function l(e, t, a, i, s) {
var l = [], u = t[o(t, !1)], p = u ? u.scoreNeeded : 0, c = a - p;
e = e.map(function(e) {
return n(e.id, e.name, e.value);
});
for (var f = 1; f < t.length; f++) {
var d = [], h = t[f], y = h.scoreNeeded, g = 0;
if (1 === f) y -= p, g = y - c; else {
var m = f - 1, b = t[m];
y -= b.scoreNeeded, g = y;
}
for (var v = 0; v < e.length; v++) {
var _ = e[v], S = 0;
if (_.value >= g) {
S = r(g, y, i), d.push(n(_.id, _.name, g, S)), e[v].value = _.value - g;
break;
}
_.value > 0 && (S = r(_.value, y, i), d.push(n(_.id, _.name, _.value, S)), g -= _.value, 
e[v].value = 0);
}
d.length && l.push(d);
}
if (s) {
var w = l[l.length - 1];
return w ? [ w ] : [];
}
return l;
}
var u = function() {
function e(e, t, n, r) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = 0), void 0 === r && (r = 0), 
this.id = e, this.name = t, this.value = n, this.width = r;
}
return e;
}();
t.VisualSegment = u, t.getInitialRankIndexFrom = o, t.getInitialRankIndexTo = a, 
t.getGoalValue = i, t.getInitialWidth = s, t.calculateIterations = l;
}, function(e, t, n) {
(function(e) {
"use strict";
function r(e) {
if (t.campaignFlow.state !== T.none) switch (e) {
case m.LoadingScreen:
t.campaignFlow.state === T.globe && t.campaignFlow.startMission();
break;

case m.InGameMenu:
s.cloudTransition.state !== s.CloudTransitionState.earth && (y.route("playing"), 
s.cloudTransition.setToEarth({
changeGlobe: !1
}));
break;

case m.FrontEnd:
t.campaignFlow.state === T.globe || t.campaignFlow.mustReturnToFrontend ? (s.cloudTransition.setToSpace(s.CloudTransitionState.clouds), 
l.globeState.set("Sparta"), setTimeout(function() {
s.cloudTransition.landOnEarth(function() {
t.campaignFlow.clear(), h.setSinglePlayer(!1), S("Progression.invalidateStatsAndLicenses", {
game: "tunguska"
}), f.refreshCareer(), _.getCampaignEpisodes();
}, s.CloudTransitionSound.planet);
}, 600)) : (t.campaignFlow.state === T.quit || t.campaignFlow.state === T.playing) && t.campaignFlow.enter(function() {
c.handleBlackFadeStart(0), c.hideComponent("all", function() {
u.sendMessage("tunguska.enterCampaign");
});
});
}
}
function o() {
_.enterCampaign.listen(function() {
t.campaignFlow.enter();
}), u.registerMessageListener("tunguska.crossLaunchCampaign", function() {
t.campaignFlow.enter();
}), f.onSignInChange.listen(function() {
t.campaignFlow.mustReturnToFrontend = !0;
}), b.onJoinMultiplayerServerResult.listen(function(e) {
t.campaignFlow.state !== T.none && e.resultType === v.success && (t.campaignFlow.clear(), 
s.cloudTransition.setToEarth());
}), _.quitCampaign.listen(function() {
_.getCampaignEpisodes(), s.cloudTransition.setToSpace(s.CloudTransitionState.clouds), 
y.hide(), t.campaignFlow.quit();
}), p.handleSpartaActivated.listen(function() {
r(g.getState().navigationState);
}), g.scope("navigationState").listen(r);
}
var a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(10), s = n(157), l = n(199), u = n(2).frostbite, p = n(17), c = n(27), f = n(38), d = n(168).checkGameState, h = n(30), y = n(46), g = n(44), m = n(57), b = n(97), v = n(276).JoinResultType, _ = n(36), S = n(26).request, w = e.get("TunguskaCampaignFlowState");
!function(e) {
e[e.none = 0] = "none", e[e.globe = 1] = "globe", e[e.playing = 2] = "playing", 
e[e.quit = 3] = "quit";
}(t.CampaignState || (t.CampaignState = {}));
var T = t.CampaignState, C = function() {
function e() {
this.state = T.none, this.mustReturnToFrontend = !1, this.debug = !1;
}
return e.prototype.log = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.debug && w.log.apply(w, [ e ].concat(t));
}, e.prototype.enter = function(e) {
var t = this;
void 0 === e && (e = null), this.state !== T.globe && (this.log("enter", this.state), 
e ? (e(), this.enterGlobe()) : d().then(function() {
s.cloudTransition.flyToClouds(function() {
s.cloudTransition.fadeOutFromWhite(200, function() {
c.hideComponent("all", function() {
l.globeState.set("Disable", !0), h.setSinglePlayer(!0), y.route("playing");
});
}), t.enterGlobe(), u.sendMessage("tunguska.enterCampaign");
}, s.CloudTransitionSound.planet);
}));
}, e.prototype.enterGlobe = function() {
this.log("enterGlobe", this.state), this.state = T.globe;
}, e.prototype.startMission = function() {
this.log("startMission", this.state), this.state = T.playing;
}, e.prototype.quit = function() {
this.log("quit", this.state), this.state = T.quit;
}, e.prototype.clear = function() {
this.log("clear", this.state), this.state = T.none, this.mustReturnToFrontend = !1, 
l.globeState.set("Sparta");
}, a([ i.observable ], e.prototype, "state", void 0), a([ i.action ], e.prototype, "enter", null), 
a([ i.action ], e.prototype, "enterGlobe", null), a([ i.action ], e.prototype, "startMission", null), 
a([ i.action ], e.prototype, "quit", null), a([ i.action ], e.prototype, "clear", null), 
e;
}();
t.campaignFlow = new C(), t.startCampaignFlow = o;
}).call(t, n(132));
}, function(e, t) {
"use strict";
function n(e, t) {
return t = t || 0, "object" == typeof e ? new d(e.value || t, e.place || 0) : new d(e || t, 0);
}
var r = function() {
function e(e) {
this.code = "", this.awardType = "", this.count = 0, this.score = 0, this.title = "", 
this.description = "", this.imageUrl = "", this.dependencies = void 0, this.code = e.code, 
this.awardType = e.awardType, this.count = e.completionCount, this.score = e.score, 
this.title = e.title, this.description = e.description, this.imageUrl = e.imageUrl, 
this.dependencies = e.dependencies;
}
return e;
}();
t.EndOfRoundAward = r;
var o = function() {
function e(e, t) {
this.id = e, this.imageUrl = t;
}
return e;
}();
t.EndOfRoundBattlepackInfo = o;
var a = function() {
function e(e, t, n, r, o) {
this.personaId = e, this.platformId = t, this.name = n, this.avatarUrl = r, this.packId = o;
}
return e;
}();
t.EndOfRoundPlayerBattlePack = a;
var i = function() {
function e(e, t, n) {
this.gameReportId = e, this.players = t, this.packs = n;
}
return e;
}();
t.EndOfRoundBattlepacks = i;
var s = function() {
function e(e, t, n, r, o, a) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = ""), void 0 === r && (r = 0), 
void 0 === o && (o = 0), void 0 === a && (a = 0), this.attacker = e, this.bases = t, 
this.counterType = n, this.life = r, this.startingLife = o, this.teamId = a;
}
return e.prototype.getCounterValue = function() {
var e = 0;
switch (this.counterType) {
case "attacker":
e = this.attacker;
break;

case "bases":
e = this.bases;
break;

case "life":
e = this.life;
break;

default:
e = 0;
}
return e;
}, e;
}();
t.EndOfRoundCounter = s;
var l = function() {
function e(e, t, n, r, o, a) {
void 0 === e && (e = ""), void 0 === t && (t = 0), void 0 === n && (n = ""), void 0 === r && (r = 0), 
void 0 === o && (o = 0), void 0 === a && (a = !1), this.imageUrl = e, this.number = t, 
this.name = n, this.scoreNeeded = r, this.warBonds = o, this.isMaxRank = a;
}
return e;
}();
t.EndOfRoundRank = l;
var u = function() {
function e(e, t, n, r, o, a) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = ""), void 0 === r && (r = ""), 
void 0 === o && (o = 0), void 0 === a && (a = 0), this.avatarUrl = e, this.name = t, 
this.personaId = n, this.platformId = r, this.rank = o, this.teamId = a;
}
return e;
}();
t.EndOfRoundPlayer = u;
var p = function() {
function e(e, t, n, r, o) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = void 0), 
void 0 === r && (r = ""), void 0 === o && (o = 0), this.id = e, this.name = t, this.player = n, 
this.unit = r, this.unitValue = o;
}
return e;
}();
t.EndOfRoundHighlight = p;
var c = function() {
function e(e, t, n) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = 0), this.id = e, 
this.name = t, this.value = n;
}
return e;
}();
t.EndOfRoundRankScore = c;
var f = function() {
function e(e, t, n, r) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = []), void 0 === r && (r = []), 
this.initialValue = e, this.minutesToNextRank = t, this.ranks = n, this.scores = r;
}
return e;
}();
t.EndOfRoundRankProgression = f;
var d = function() {
function e(e, t) {
void 0 === e && (e = 0), void 0 === t && (t = 0), this.value = e, this.placing = t;
}
return e;
}();
t.EndOfRoundStatsValue = d;
var h = function() {
function e(e) {
this.modeSpecifics = {};
var t = n(e.totalScore, 0), r = n(e.totalSecondsPlayed, 60), o = n(e.secondsPlayed, 60);
this.deaths = n(e.deaths, 0), this.kills = n(e.kills, 0), this.kd = n(e.kdRatio, 0), 
this.totalDeaths = n(e.totalDeaths, 0), this.totalKills = n(e.totalKills, 0), this.skill = n(e.skill, 0), 
this.skillDelta = n(e.skillDelta, 0), this.rankScore = n(e.rankScore, 0), this.score = n(e.score, 0), 
this.generalScore = n(e.generalScore, 0), this.awardScore = n(e.awardScore, 0), 
this.teamScore = n(e.teamScore, 0), this.squadScore = n(e.squadScore, 0), this.bonusScore = n(e.bonusScore, 0), 
this.flagsCaptured = n(e.flagsCaptured, 0), this.flagsDefended = n(e.flagsDefended, 0), 
this.resupplies = n(e.resupplies, 0), this.repairs = n(e.repairs, 0), this.revives = n(e.revives, 0), 
this.heals = n(e.heals, 0), this.spm = n(e.scorePerMinute, 0), this.minutesPlayed = new d(o.value / 60, 0), 
this.totalKd = new d(this.totalKills.value / (this.totalDeaths.value || 1), 0), 
this.totalSpm = new d(t.value / (r.value / 60), 0), this.modeSpecifics = e.modeSpecifics || {};
}
return e;
}();
t.EndOfRoundStats = h;
var y = function() {
function e(e, t, n, r, o) {
void 0 === n && (n = void 0), void 0 === r && (r = void 0), void 0 === o && (o = []), 
this.medals = t, this.rankProgression = n, this.stats = r, this.awardTrain = o, 
this.personaId = "", this.squadId = 0, this.teamId = 0, this.name = "", this.personaId = e.personaId, 
this.squadId = e.squadId, this.teamId = e.teamId, this.name = e.name;
}
return e;
}();
t.EndOfRoundPersonalStats = y;
var g = function() {
function e(e, t, n) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = ""), this.id = e, 
this.imageUrl = t, this.name = n;
}
return e;
}();
t.EndOfRoundMap = g;
var m = function() {
function e(e, t) {
void 0 === e && (e = ""), void 0 === t && (t = ""), this.id = e, this.name = t;
}
return e;
}();
t.EndOfRoundGameMode = m;
var b = function() {
function e(e) {
this.gameType = "", this.map = void 0, this.nextMap = void 0, this.maxClientCount = 0, 
this.mod = "", this.mode = void 0, this.nextMode = void 0, this.name = "", this.ranked = !1, 
this.roundDuration = 0, this.serverType = "", this.time = 0;
var t = e.nextMap, n = e.map, r = e.mode, o = e.nextMode, a = new g(n.id, n.imageUrl, n.name), i = t ? new g(t.id, t.imageUrl, t.name) : null, s = new m(r.id, r.name), l = t ? new m(o.id, o.name) : null;
this.gameType = e.gameType, this.map = a, this.nextMap = i, this.maxClientCount = e.maxClientCount, 
this.mod = e.mod, this.mode = s, this.nextMode = l, this.name = e.name, this.ranked = e.ranked, 
this.roundDuration = e.roundDuration, this.serverType = e.serverType, this.time = e.time;
}
return e;
}();
t.EndOfRoundServerInfo = b;
var v = function() {
function e(e, t, n, r, o, a) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = ""), void 0 === r && (r = ""), 
void 0 === o && (o = 0), void 0 === a && (a = 0), this.avatarUrl = e, this.name = t, 
this.personaId = n, this.platoon = r, this.squadId = o, this.teamId = a;
}
return e;
}();
t.EndOfRoundSquadPlayer = v;
var _ = function() {
function e(e, t, n, r) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = []), void 0 === r && (r = void 0), 
this.squadId = e, this.teamId = t, this.highlights = n, this.stats = r;
}
return e;
}();
t.EndOfRoundSquadInfo = _;
var S = function() {
function e(e, t, n) {
void 0 === e && (e = ""), void 0 === t && (t = ""), void 0 === n && (n = ""), this.id = e, 
this.imageUrl = t, this.name = n;
}
return e;
}();
t.EndOfRoundFaction = S;
var w = function() {
function e(e) {
this.deaths = 0, this.didFinish = !1, this.kills = 0, this.name = "", this.personaId = "", 
this.platformId = "", this.placing = 0, this.rank = 0, this.score = 0, this.squadId = 0, 
this.teamId = 0, this.deaths = e.deaths, this.didFinish = e.didFinish, this.kills = e.kills, 
this.name = e.name, this.personaId = e.personaId, this.platformId = e.platformId, 
this.placing = e.placing, this.rank = e.rank, this.score = e.score, this.squadId = e.squadId, 
this.teamId = e.teamId;
}
return e;
}();
t.EndOfRoundScoreboardEntry = w;
var T = function() {
function e(e, t, n, r, o) {
void 0 === e && (e = 0), void 0 === t && (t = void 0), void 0 === n && (n = []), 
void 0 === r && (r = void 0), void 0 === o && (o = !1), this.teamId = e, this.faction = t, 
this.players = n, this.counter = r, this.isWinner = o;
}
return e;
}();
t.EndOfRoundTeam = T;
var C = function() {
function e(e, t) {
void 0 === e && (e = []), void 0 === t && (t = 0), this.teams = e, this.winner = t;
}
return e;
}();
t.EndOfRoundScoreboard = C;
var E = function() {
function e(e, t, n, r, o, a, i, s, l, u) {
void 0 === e && (e = ""), void 0 === t && (t = 0), void 0 === n && (n = []), void 0 === r && (r = void 0), 
void 0 === o && (o = []), void 0 === a && (a = void 0), void 0 === i && (i = void 0), 
void 0 === s && (s = void 0), void 0 === l && (l = void 0), void 0 === u && (u = ""), 
this.reportId = e, this.roundDuration = t, this.ranks = n, this.battlePacks = r, 
this.highlights = o, this.personalInfo = a, this.serverInfo = i, this.squadInfo = s, 
this.scoreboard = l, this.timestamp = u;
}
return e.prototype.getRankByNumber = function(e) {
return this.ranks[e];
}, e;
}();
t.EndOfRoundData = E;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(1), a = n(7), i = n(6), s = n(18), l = function(e) {
function t() {
e.apply(this, arguments);
}
return r(t, e), t.prototype.render = function() {
var e = s.dangerZoneSize.height + (SpartaGlobals.bundleIsConsole ? s.footer.height + 2 * i.GUTTER : 0), t = {
position: "absolute",
bottom: e,
right: 0,
opacity: .5
};
return o.createElement("surface", {
style: t
}, o.createElement(a, {
value: "v9198",
size: "XS"
}));
}, t.defaultProps = {}, t;
}(o.Component);
t.BundleInfo = l;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(1), s = n(10), l = n(318), u = n(7), p = function(e) {
function t() {
e.apply(this, arguments), this.countValue = 0;
}
return r(t, e), t.prototype.componentWillMount = function() {
this.timeouts = [], this.countValue = 0;
}, t.prototype.componentDidMount = function() {
for (var e = this, t = this.props, n = t.iterationPerSecond, r = t.duration, o = t.countTo, a = t.countFrom, i = t.delay, s = r / 1e3 * n, l = 1e3 / n, u = function(t) {
var n = Math.floor(t * l + i), r = Math.floor((o - a) * p.quadOut(t / s));
p.timeouts.push(setTimeout(function() {
return e.play(r, n);
}, n));
}, p = this, c = 1; s >= c; c++) u(c);
}, t.prototype.componentWillUnmount = function() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.play = function(e, t) {
this.countValue = e;
}, t.prototype.quadOut = function(e) {
return e * (2 - e);
}, t.prototype.render = function() {
return i.createElement(u, o({
value: this.countValue.toString()
}, this.props));
}, t.defaultProps = {
countTo: 0,
countFrom: 0,
duration: 1e3,
delay: 0,
iterationPerSecond: 24
}, a([ s.observable ], t.prototype, "countValue", void 0), a([ s.action ], t.prototype, "componentWillMount", null), 
a([ s.action ], t.prototype, "play", null), t = a([ l.observer ], t);
}(i.Component);
Object.defineProperty(t, "__esModule", {
value: !0
}), t["default"] = p;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(9), a = n(265), i = n(10), s = {
normal: {
Accept: o.bbOfflineUrl("/sparta/jsclient/builds/assets/cross-2ea4eb1d.png"),
Decline: o.bbOfflineUrl("/sparta/jsclient/builds/assets/circle-4134dc63.png"),
Option1: o.bbOfflineUrl("/sparta/jsclient/builds/assets/square-13757f39.png"),
Option2: o.bbOfflineUrl("/sparta/jsclient/builds/assets/triangle-3b7274c0.png"),
Option3: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l3-33f1a530.png"),
Option4: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r3-84a8d96f.png"),
ScrollUp: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_ps4-01d95d35.png"),
ScrollDown: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_ps4-01d95d35.png"),
Previous: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l1-c5a53ca6.png"),
Next: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r1-af49db00.png"),
Home: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l2-400ea63c.png"),
End: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r2-e73831e2.png"),
Start: o.bbOfflineUrl("/sparta/jsclient/builds/assets/options-f26f2856.png"),
Select: o.bbOfflineUrl("/sparta/jsclient/builds/assets/share-7c934666.png")
},
inverted: {
Accept: o.bbOfflineUrl("/sparta/jsclient/builds/assets/cross_inverted-61f99468.png"),
Decline: o.bbOfflineUrl("/sparta/jsclient/builds/assets/circle_inverted-672360d5.png"),
Option1: o.bbOfflineUrl("/sparta/jsclient/builds/assets/square_inverted-214a2f32.png"),
Option2: o.bbOfflineUrl("/sparta/jsclient/builds/assets/triangle_inverted-b29c4542.png"),
Option3: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l3_inverted-b1677b06.png"),
Option4: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r3_inverted-b993b2a5.png"),
ScrollUp: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_ps4_inverted-bc656550.png"),
ScrollDown: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_ps4_inverted-bc656550.png"),
Previous: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l1_inverted-009962ae.png"),
Next: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r1_inverted-8e99c24f.png"),
Home: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l2_inverted-dba53284.png"),
End: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r2_inverted-8db5edc2.png"),
Start: o.bbOfflineUrl("/sparta/jsclient/builds/assets/options_inverted-05c4ba0d.png"),
Select: o.bbOfflineUrl("/sparta/jsclient/builds/assets/share_inverted-cf8575c4.png")
}
}, l = {
normal: {
Accept: o.bbOfflineUrl("/sparta/jsclient/builds/assets/cross-c29ecbee.png"),
Decline: o.bbOfflineUrl("/sparta/jsclient/builds/assets/circle-7ef1a8e4.png"),
Option1: o.bbOfflineUrl("/sparta/jsclient/builds/assets/triangle-d2492168.png"),
Option2: o.bbOfflineUrl("/sparta/jsclient/builds/assets/square-deaf593b.png"),
Option3: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l3-8ec0b16d.png"),
Option4: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r3-9c73371a.png"),
ScrollUp: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog-cabebd90.png"),
ScrollDown: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog-cabebd90.png"),
Previous: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l2-c3878036.png"),
Next: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r2-1bec2958.png"),
Home: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l1-cdf2ec31.png"),
End: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r1-7bbbe740.png"),
Start: o.bbOfflineUrl("/sparta/jsclient/builds/assets/start-3b07cd56.png"),
Select: o.bbOfflineUrl("/sparta/jsclient/builds/assets/select-e6a9bf79.png")
},
inverted: {
Accept: o.bbOfflineUrl("/sparta/jsclient/builds/assets/cross_inverted-1d9f85d9.png"),
Decline: o.bbOfflineUrl("/sparta/jsclient/builds/assets/circle_inverted-baca781f.png"),
Option1: o.bbOfflineUrl("/sparta/jsclient/builds/assets/triangle_inverted-53bb387c.png"),
Option2: o.bbOfflineUrl("/sparta/jsclient/builds/assets/square_inverted-a40278b1.png"),
Option3: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l3_inverted-06976414.png"),
Option4: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r3_inverted-dd030428.png"),
ScrollUp: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_inverted-cf456362.png"),
ScrollDown: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_inverted-cf456362.png"),
Previous: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l1_inverted-5fe0f264.png"),
Next: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r1_inverted-38e2cbd7.png"),
Home: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l2_inverted-8cf9b99f.png"),
End: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r2_inverted-d3c5e202.png"),
Start: o.bbOfflineUrl("/sparta/jsclient/builds/assets/start_inverted-de965324.png"),
Select: o.bbOfflineUrl("/sparta/jsclient/builds/assets/select_inverted-8a31c454.png")
}
}, u = {
normal: {
Accept: null,
Decline: null,
Option1: null,
Option2: null,
Option3: null,
Option4: null,
ScrollUp: null,
ScrollDown: null,
Previous: null,
Next: null,
Home: null,
End: null,
Start: null,
Select: null
},
inverted: {
Accept: null,
Decline: null,
Option1: null,
Option2: null,
Option3: null,
Option4: null,
ScrollUp: null,
ScrollDown: null,
Previous: null,
Next: null,
Home: null,
End: null,
Start: null,
Select: null
}
}, p = function() {
function e(e) {
this.getButtons = e;
}
return Object.defineProperty(e.prototype, "current", {
get: function() {
var e = l;
switch (a.currentInputType) {
case "PC":
e = u;
break;

case "XBOXONE":
e = l;
break;

case "PS4":
e = s;
break;

default:
console.error("Invalid currentInputType: " + a.currentInputType);
}
return this.getButtons(e);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Accept", {
get: function() {
return this.current.Accept;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Decline", {
get: function() {
return this.current.Decline;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Option1", {
get: function() {
return this.current.Option1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Option2", {
get: function() {
return this.current.Option2;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Option3", {
get: function() {
return this.current.Option3;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Option4", {
get: function() {
return this.current.Option4;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "ScrollUp", {
get: function() {
return this.current.ScrollUp;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "ScrollDown", {
get: function() {
return this.current.ScrollDown;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Previous", {
get: function() {
return this.current.Previous;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Next", {
get: function() {
return this.current.Next;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Home", {
get: function() {
return this.current.Home;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "End", {
get: function() {
return this.current.End;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Start", {
get: function() {
return this.current.Start;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "Select", {
get: function() {
return this.current.Select;
},
enumerable: !0,
configurable: !0
}), r([ i.computed ], e.prototype, "current", null), r([ i.computed ], e.prototype, "Accept", null), 
r([ i.computed ], e.prototype, "Decline", null), r([ i.computed ], e.prototype, "Option1", null), 
r([ i.computed ], e.prototype, "Option2", null), r([ i.computed ], e.prototype, "Option3", null), 
r([ i.computed ], e.prototype, "Option4", null), r([ i.computed ], e.prototype, "ScrollUp", null), 
r([ i.computed ], e.prototype, "ScrollDown", null), r([ i.computed ], e.prototype, "Previous", null), 
r([ i.computed ], e.prototype, "Next", null), r([ i.computed ], e.prototype, "Home", null), 
r([ i.computed ], e.prototype, "End", null), r([ i.computed ], e.prototype, "Start", null), 
r([ i.computed ], e.prototype, "Select", null), e;
}();
t.inputButtonIcons = {
normal: new p(function(e) {
return e.normal;
}),
inverted: new p(function(e) {
return e.inverted;
})
};
}, function(e, t, n) {
"use strict";
var r = n(2), o = r.getBuildInfo();
console.log("Running " + o.buildConfig + " on " + o.platform);
var a = o.isPC() ? "PC" : o.isPS4() ? "PS4" : o.isXboxOne() ? "XBOXONE" : "UNKNOWN", i = a;
t.bundleIsPC = "PC" === i, t.bundleIsPS4 = "PS4" === i, t.bundleIsXBOXONE = "XBOXONE" === i, 
t.bundleIsConsole = !t.bundleIsPC, t.bundlePlatform = a;
}, function(e, t, n) {
"use strict";
function r(e) {
var n = null;
for (var r in t.fontConfig) if (t.fontConfig.hasOwnProperty(r) && r.split("-")[0] === e) {
n = r;
break;
}
return n || console.warn("Could not find locale to use for PSN account language: " + e), 
n;
}
function o(e) {
var n = e.split("-")[1], r = a.keys(t.fontConfig), o = a.find(r, function(e) {
var t = e.split("-")[1];
return t === n;
});
return o;
}
var a = n(4), i = n(858), s = n(855), l = n(856), u = n(857), p = n(859), c = n(860), f = n(861), d = n(862), h = n(863), y = n(864), g = n(865), m = n(866), b = n(867), v = n(868), _ = n(869), S = n(870);
t.fontConfig = {
empty: i,
"ar-sa": s,
"cs-cz": l,
"de-de": u,
"en-us": p,
"es-es": c,
"es-mx": f,
"fr-fr": d,
"it-it": h,
"ja-jp": y,
"ko-kr": g,
"pl-pl": m,
"pt-br": b,
"ru-ru": v,
"tr-tr": _,
"zh-tw": S,
"zh-cn": S,
"zh-sg": S,
"zh-hk": S
}, t.psnAccountLanguageToSpartaLocale = r, t.commerceLocaleToRegionFontLocale = o;
}, function(e, t, n) {
"use strict";
var r = n(2), o = n(355), a = n(11), i = n(39);
r.options.urlHook = function(e) {
if (e) if (e.substr(0, o.bbPrefixLen) === o.bbPrefix) a.settingsStore.battlebinaryPrefix ? e = a.settingsStore.battlebinaryPrefix + e.substr(o.bbPrefixLen) : (console.warn("Trying to replace BB-prefix without a bb prefix: " + e), 
e = ""); else if (e.substr(0, o.onlinePrefixLen) === o.onlinePrefix) {
if (e = e.substr(o.onlinePrefixLen), a.settingsStore.battlebinaryPrefix) return a.settingsStore.battlebinaryPrefix + e;
var t = "Trying to use " + e + " when offline. Use bbOfflineUrl instead of bbUrl.";
console.warn(t);
} else e.substr(0, o.offlinePrefixLen) === o.offlinePrefix && (i.acceptKeyword("accept_exclusive_keywords_start"), 
e = "http://battlebinary.battlelog.com/view" + e.substr(o.offlinePrefixLen), i.acceptKeyword("accept_exclusive_keywords_end"));
return e;
};
}, function(e, t, n) {
"use strict";
function r(e) {
s.getBuildInfo().hasConsoleCalls() ? i.sendConsoleCommandSync(e) : console.warn("Cannont send command, native build does not support it");
}
function o(e) {
s.getBuildInfo().hasConsoleCalls() ? i.writeConsoleOutputSync("ingame", e) : console.warn("Cannont wrote to console, native build does not support it");
}
function a(e, t) {
i.fbSettingSet(e, t);
}
var i = n(45).Native, s = n(108);
t.sendCommand = r, t.writeToIngameConsole = o, t.setSetting = a;
}, function(e, t, n) {
(function(e) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(201), a = function(t) {
function n() {
t.apply(this, arguments);
}
return r(n, t), n.prototype.start = function(e) {
e();
}, n.prototype.objectAssignDefined = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o = typeof n;
if (Array.isArray(n) && (o = "array"), "object" !== o && null !== n && "undefined" !== o) throw new Error("Source 2 must be object, null or undefined, got " + o);
var a, i;
if (t) for (a in t) t.hasOwnProperty(a) && (i = t[a], "undefined" != typeof i && (e[a] = i));
if (n) for (a in n) n.hasOwnProperty(a) && (i = n[a], "undefined" != typeof i && (e[a] = i));
return e;
}, n.prototype.objectAssign = function(e, t, n) {
return Object.assign(e, t, n);
}, n.prototype.profilerTime = function() {
return e.TwinkleNative.profilerTime ? 1e3 * e.TwinkleNative.profilerTime() : Date.now();
}, n.prototype.delegateCall = function(t, n, r) {
return e.TwinkleNative.handleCall(t, r);
}, n;
}(o.AbstractDelegate);
t.InprocDelegate = a;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
(function(e) {
"use strict";
function r(t, n) {
var r, a = n.map(function(e) {
return "[" + e + "]";
}).join(" ");
switch (t) {
case "log":
r = y.bind(h, a);
break;

case "info":
r = g.bind(h, a);
break;

case "warn":
r = m.bind(h, a);
break;

case "error":
r = b.bind(h, a);
break;

default:
throw Error("Unknown Logger emitter type: " + t);
}
return e.isJSC && c.options.enableDevWarnings ? function(e) {
for (var a = [], i = 1; i < arguments.length; i++) a[i - 1] = arguments[i];
r.apply(void 0, [ e ].concat(a)), o({
type: t,
date: new Date(),
context: n,
args: [ e ].concat(a),
stack: "error" === t ? new Error().stack : null
});
} : r;
}
function o(e) {
d.push(e), u || (u = setTimeout(a, 573));
}
function a() {
!p && d.length && c.options.rlvSocketUrl && (u = void 0, p = !0, i(c.options.rlvSocketUrl, d.splice(0, d.length)).then(function() {
p = !1, a();
}));
}
function i(e, t) {
var r = n(316);
return new Promise(function(n) {
r.httpRequest(r.HTTP_METHODS.POST, e + "log", t, "Content-Type: application/json", !0, n);
});
}
function s(t) {
for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
var o = n[0];
n.length > 1 ? o = JSON.stringify(n, l()) : "string" != typeof o && (o = JSON.stringify(o, l())), 
e.TwinkleNative.handleCall("log", [ t, o ]);
}
function l() {
var e = [];
return function t(n, r) {
if (null !== r && "object" == typeof r) {
if (e.indexOf(r) >= 0) return "[Cyclic Relationship]";
e.push(r);
}
return r;
};
}
var u, p, c = n(79), f = {}, d = [], h = e.TwinkleNative ? void 0 : console, y = e.TwinkleNative ? s.bind(void 0, 2) : console.log, g = e.TwinkleNative ? s.bind(void 0, 2) : console.info, m = e.TwinkleNative ? s.bind(void 0, 4) : console.warn, b = e.TwinkleNative ? s.bind(void 0, 2) : console.error, v = function() {
function e() {
for (var e = [], t = 0; t < arguments.length; t++) e[t - 0] = arguments[t];
this.context = e, this.log = r("log", e), this.info = r("info", e), this.warn = r("warn", e), 
this.error = r("error", e);
}
return Object.defineProperty(e, "default", {
get: function() {
return e.get();
},
enumerable: !0,
configurable: !0
}), e.prototype.extend = function() {
for (var t = [], n = 0; n < arguments.length; n++) t[n - 0] = arguments[n];
var r = this.context.concat(t);
return e.get.apply(e, r);
}, e.get = function() {
for (var t = [], n = 0; n < arguments.length; n++) t[n - 0] = arguments[n];
var r = t.join("_");
return f[r] || (f[r] = new (e.bind.apply(e, [ void 0 ].concat(t)))());
}, Object.defineProperty(e, "log", {
get: function() {
return e["default"].log;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e, "info", {
get: function() {
return e["default"].info;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e, "warn", {
get: function() {
return e["default"].warn;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e, "error", {
get: function() {
return e["default"].error;
},
enumerable: !0,
configurable: !0
}), e;
}();
t.__Logger = v;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
(function(e) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = n(201), a = function(t) {
function n() {
t.apply(this, arguments);
}
return r(n, t), n.prototype.start = function(e) {
e();
}, n.prototype.objectAssignDefined = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o = typeof n;
if (Array.isArray(n) && (o = "array"), "object" !== o && null !== n && "undefined" !== o) throw new Error("Source 2 must be object, null or undefined, got " + o);
var a, i;
if (t) for (a in t) t.hasOwnProperty(a) && (i = t[a], "undefined" != typeof i && (e[a] = i));
if (n) for (a in n) n.hasOwnProperty(a) && (i = n[a], "undefined" != typeof i && (e[a] = i));
return e;
}, n.prototype.objectAssign = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o = typeof n;
if (Array.isArray(n) && (o = "array"), "object" !== o && null !== n && "undefined" !== o) throw new Error("Source 2 must be object, null or undefined, got " + o);
var a, i;
if (t) for (a in t) t.hasOwnProperty(a) && (i = t[a], e[a] = i);
if (n) for (a in n) n.hasOwnProperty(a) && (i = n[a], e[a] = i);
return e;
}, n.prototype.profilerTime = function() {
return e.window.performance.now();
}, n.prototype.delegateCall = function(e, t, n) {
console.log("MockDelegate cannot handle", e, n);
}, n;
}(o.AbstractDelegate);
t.MockDelegate = a;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(575), i = n(250), s = n(121), l = n(109), u = n(79), p = (n(8).observer, 
1920), c = 1080;
l.onWindowSizeChanged.listen(function(e, t) {
p = e, c = t;
});
var f = function() {
function e(e) {
this.system = e, this.invalids = [], this.visible = [];
}
return e.prototype.reportInvalid = function(e) {
this.system.log("Reported invalid: " + e.map(function(e) {
return e ? e.debugName : "null";
}).join(", ")), this.invalids = this.invalids.concat(e);
}, e.prototype.setAsVisible = function(e) {
this.system.log("Setting as visible: " + e.map(function(e) {
return e ? e.debugName : "null";
}).join(", ")), this.visible = this.visible.concat(e);
}, e.prototype.isValid = function(e) {
return -1 === this.invalids.indexOf(e);
}, e.prototype.isSetAsVisible = function(e) {
return this.visible.indexOf(e) > -1;
}, e.prototype.reset = function() {
this.invalids = [], this.visible = [];
}, e;
}();
t.InvalidQuery = f;
var d = function() {
function e(e) {
var t = this;
this.dependencies = e, this.debug = !1, this.isolatedGroups = [], this.isolatedAncestors = [], 
this.currentFocusedItem = null, this.currentHoveredItem = null, this.lastFocusedItem = null, 
this.ancestors = [], this.shouldRecalculate = !1, this.scaledSurfaceIds = [], this.lastHoveredItem = null, 
this.isWithBoundsContext = !1, this.controllerMode = !0, this.isRefreshingBounds = !1, 
this.refreshSurfaceIds = [], this.boundsCache = {}, this.onInvalidQuery = new s.TwinkleTypedEvent(), 
this.items = [], this.focusHistory = [], this.invalidQuery = new f(this), o.reaction(function() {
return t.shouldRecalculate;
}, function(e) {
e && t.recalculate();
});
}
return e.prototype.create = function(e, t) {
if ("string" != typeof t || "" === t) throw new Error("Invalid debugName: " + t);
var n = new h(this, t);
return n.connectLifeCycle(e), this.items.push(n), n;
}, Object.defineProperty(e.prototype, "focusedItem", {
get: function() {
return this.currentFocusedItem && this.currentFocusedItem.isActive ? this.currentFocusedItem : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hoveredItem", {
get: function() {
return this.currentHoveredItem && this.currentHoveredItem.isActive ? this.currentHoveredItem : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "inputs", {
get: function() {
return this.focusedItem ? this.focusedItem.activeInputs : this.hoveredItem ? this.hoveredItem.activeInputs : [];
},
enumerable: !0,
configurable: !0
}), e.prototype.remove = function(e) {
var t = this.items.indexOf(e);
t > -1 && this.items.splice(t, 1), this.currentFocusedItem === e && (this.currentFocusedItem = null, 
this.controllerMode && (this.shouldRecalculate = !0)), this.currentHoveredItem === e && (this.currentHoveredItem = null), 
this.lastHoveredItem === e && (this.lastHoveredItem = null), this.lastFocusedItem === e && (this.lastFocusedItem = null);
var n = this.focusHistory.indexOf(e);
n > -1 && this.focusHistory.splice(n, 1);
}, e.prototype.removeFocus = function(e) {
this.currentFocusedItem === e && (this.currentFocusedItem = null), this.currentHoveredItem === e && (this.currentHoveredItem = null);
}, e.prototype.setAsFocused = function(e, t) {
if ((!e || e.isValidForFocus()) && (this.currentFocusedItem = e, e && (this.lastFocusSource = t, 
this.lastFocusedItem = e), this.setAsHovered(e, t), e)) {
var n = this.focusHistory.indexOf(e);
n > -1 && this.focusHistory.splice(n, 1), this.focusHistory.push(e);
}
}, e.prototype.setAsHovered = function(e, t) {
this.currentHoveredItem = e, e && (this.lastHoverSource = t, this.lastHoveredItem = e);
}, e.prototype.removeHover = function(e) {
this.currentHoveredItem === e && (this.currentHoveredItem = null);
}, e.prototype.createScaledComponent = function() {
var e = this, t = null;
return function(n) {
if (n) n._rootNodeID && (t = n._rootNodeID, e.scaledSurfaceIds.push(n._rootNodeID)); else if (t) {
var r = e.scaledSurfaceIds.indexOf(t);
r > -1 && e.scaledSurfaceIds.splice(r, 1), t = null;
}
};
}, e.prototype.isValidForFocus = function(e, t) {
return !!e && e !== t && e.isValidForFocus() && this.isVisible(e) && this.invalidQuery.isValid(e);
}, e.prototype.getDefaultItem = function(e) {
var t = this;
if (this.focusedItem && this.focusedItem !== e) return this.focusedItem;
var n = this.items.filter(function(n) {
return t.isValidForFocus(n, e);
}), r = n.filter(function(e) {
return e.autoFocusCandidate;
});
if (r.length > 0) return r[0];
for (var o = this.focusHistory.length; o >= 0; o--) {
var a = this.focusHistory[o];
if (this.isValidForFocus(a, e)) return a;
}
return this.isValidForFocus(this.currentHoveredItem, e) ? this.currentHoveredItem : this.isValidForFocus(this.lastHoveredItem, e) ? this.lastHoveredItem : n[0];
}, e.prototype.log = function(e) {
this.debug && console.log(e);
}, e.prototype.refreshBounds = function() {
this.log("*** Refreshing bounds ***"), this.refreshSurfaceIds = [], this.isRefreshingBounds = !0, 
this.items.forEach(function(e) {
return e.getBounds();
}), this.isRefreshingBounds = !1, this.boundsCache = this.dependencies.getMultipleBoundsSync(this.refreshSurfaceIds), 
this.invalidQuery.reset(), this.onInvalidQuery.trigger(this.invalidQuery);
}, e.prototype.withBounds = function(e) {
var t = this;
return o.untracked(function() {
if (t.isWithBoundsContext) return e();
t.isWithBoundsContext = !0, t.refreshBounds();
try {
return e();
} finally {
t.isWithBoundsContext = !1, t.invalidQuery.reset();
}
});
}, e.prototype.getBounds = function(e) {
if (!e) throw new Error("getBounds() for invalid surfaceId: " + e);
return this.isRefreshingBounds ? (this.refreshSurfaceIds.push(e), null) : (this.boundsCache[e] || (this.boundsCache[e] = this.dependencies.getBoundsSync(e)), 
this.boundsCache[e]);
}, e.prototype.isVisible = function(e) {
if (this.invalidQuery.isSetAsVisible(e)) return !0;
var t = e.getBackingSurfaceId();
if (!t) return this.log("No surfaceId: " + e.debugName), !1;
var n = this.getBounds(t);
if (!n) return this.log("No bounds: " + e.debugName), !1;
var r = !1;
this.scaledSurfaceIds.forEach(function(e) {
0 === t.indexOf(e) && (r = !0);
});
var o = p, a = c;
return r && (n = n.offset((p - 1920) / 2, (c - 1080) / 2), o = 1920, a = 1080), 
n.right <= 0 || n.left >= o || n.top >= a || n.bottom <= 0 ? (this.log("Outside window: " + e.debugName + " " + t + " " + n.left + " " + n.top + "->" + n.right + " " + n.bottom + "W" + o + "H" + a), 
!1) : !0;
}, e.prototype.recalculate = function() {
var e = this;
this.shouldRecalculate = !1, this.withBounds(function() {
var t = e.getDefaultItem();
t ? (e.log("Recalculated and selected " + t.debugName + " as the best choice to focus"), 
e.setAsFocused(t, i.FocusSource.Auto)) : e.log("Recalculated but found nothing to focus");
});
}, e.prototype.findClosestItem = function(e) {
var t = this;
return this.withBounds(function() {
var n = e.getBounds();
if (!n) return console.error("No bounds for fromItem", e.debugName), null;
var r = t.items.filter(function(n) {
return t.isValidForFocus(n, e);
}), o = t.getClosestItem(n, r, i.Direction.Down), a = t.getClosestItem(n, r, i.Direction.Up), s = t.getClosestItem(n, r, i.Direction.Right), l = t.getClosestItem(n, r, i.Direction.Left), u = {
item: null,
distance: Number.MAX_VALUE
};
return a.distance < u.distance && (u = a), s.distance < u.distance && (u = s), l.distance < u.distance && (u = l), 
o.distance < u.distance && (u = o), u.item;
});
}, e.prototype.getClosestItem = function(e, t, n) {
var r = t.slice(), o = null, i = Number.MAX_VALUE;
return r.forEach(function(t) {
var r = t.getBounds();
if (r) {
var s = a.getDistanceInDirection(e, r, n);
!isNaN(s) && i > s && (i = s, o = t);
}
}), {
item: o,
distance: i
};
}, e.prototype.findNextItem = function(e, t) {
var n = this, r = e.getBounds();
if (!r) return console.error("No bounds for fromItem", e.debugName), null;
var o = this.items.filter(function(t) {
return n.isValidForFocus(t, e);
});
return this.getClosestItem(r, o, t).item;
}, e.prototype.handleNavigationResult = function(e, t, n) {
if (t.group && (!e || t.group !== e.group)) {
var r = t.group.navigateToGroup(e, n, t);
r.result === i.NavigationResultType.HIT && r.toItem && (t = r.toItem);
}
t.focusOnHover ? t.setHovered(i.FocusSource.Spatial) : t.setFocused(i.FocusSource.Spatial);
}, e.prototype.navigate = function(e, t) {
var n = this;
if (this.focusedItem && this.focusedItem.group) {
var r = this.focusedItem.group.navigateFromItem(this.focusedItem, e);
if (r.result === i.NavigationResultType.HIT && r.toItem) return this.handleNavigationResult(this.focusedItem, r.toItem, e);
}
this.withBounds(function() {
if (n.log("------------------ Navigate " + i.Direction[e] + " ------------------------"), 
n.controllerMode = !0, !n.focusedItem || !n.isValidForFocus(n.focusedItem)) {
n.log("No focused item, focusing a default item");
var r = n.getDefaultItem();
return void (r && n.handleNavigationResult(null, r, e));
}
var o = n.focusedItem.navigate(e);
switch (o.result) {
case i.NavigationResultType.STOP:
return void n.log("-----------------------------------------------------------------");

case i.NavigationResultType.HIT:
return o.toItem && n.handleNavigationResult(n.focusedItem, o.toItem, e), n.log("-----------------------------------------------------------------"), 
void (o.toItem && t && t());

case i.NavigationResultType.FALLTHROUGH:
var a = n.findNextItem(n.focusedItem, e);
a && (n.handleNavigationResult(n.focusedItem, a, e), t && t()), n.log("-----------------------------------------------------------------");
}
});
}, r([ o.observable ], e.prototype, "isolatedGroups", void 0), r([ o.observable ], e.prototype, "isolatedAncestors", void 0), 
r([ o.observable ], e.prototype, "currentFocusedItem", void 0), r([ o.observable ], e.prototype, "currentHoveredItem", void 0), 
r([ o.observable ], e.prototype, "lastFocusedItem", void 0), r([ o.observable ], e.prototype, "ancestors", void 0), 
r([ o.observable ], e.prototype, "shouldRecalculate", void 0), r([ o.observable ], e.prototype, "controllerMode", void 0), 
r([ o.computed ], e.prototype, "focusedItem", null), r([ o.computed ], e.prototype, "hoveredItem", null), 
r([ o.computed ], e.prototype, "inputs", null), r([ o.action ], e.prototype, "remove", null), 
r([ o.action ], e.prototype, "removeFocus", null), r([ o.action ], e.prototype, "setAsFocused", null), 
r([ o.action ], e.prototype, "setAsHovered", null), r([ o.action ], e.prototype, "removeHover", null), 
r([ o.action ], e.prototype, "recalculate", null), r([ o.action ], e.prototype, "navigate", null), 
e;
}();
t.FocusSystem = d;
var h = function() {
function e(e, t) {
var n = this;
this.focusSystem = e, this.debugName = t, this.inputs = [], this.clickInput = null, 
this.group = null, this.surfaceElement = null, this.focusOnHover = !0, this.autoFocusCandidate = !1, 
this.disablers = [], this.onDestroy = new s.TwinkleSignal(), this.onClick = new s.TwinkleSignal(), 
this.onChange = new s.TwinkleTypedEvent(), this.element = null, this.directionHandlers = {}, 
this.callbackRef = o.action("callback ref", function(e) {
n.surfaceElement = e, e && n.didMount();
}), this.onFocus(function() {
return n.onChange.trigger(!0);
}), this.onBlur(function() {
return n.onChange.trigger(!1);
}), this.onDestroy.listen(o.autorun(function() {
n.isFocused && !n.isActive && o.untracked(function() {
return n.focusSystem.removeFocus(n);
});
}));
}
return e.prototype.toString = function() {
return "FocusItem(" + this.debugName + ")";
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
if (this.focusSystem.isolatedGroups.length > 0 && (!this.group || -1 === this.focusSystem.isolatedGroups.indexOf(this.group))) return !1;
var e = this.focusSystem.isolatedAncestors.length;
if (e > 0) {
var t = this.focusSystem.isolatedAncestors[e - 1];
if (-1 === t.getChildren().indexOf(this) && -1 === t.getIsolationExceptions().indexOf(this)) return !1;
}
return 0 === this.disablers.length && (!this.group || this.group.isActive);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isFocused", {
get: function() {
return this.focusSystem.focusedItem === this;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isHovered", {
get: function() {
return this.focusSystem.hoveredItem === this;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "activeInputs", {
get: function() {
return this.clickInput ? [ this.clickInput ] : this.inputs ? this.inputs : [];
},
enumerable: !0,
configurable: !0
}), e.prototype.didMount = function() {
this.autoFocusCandidate && !this.focusSystem.focusedItem && this.focusSystem.controllerMode && this.setFocused(i.FocusSource.Auto);
}, e.prototype.handleDirection = function(e, t) {
this.directionHandlers[e] = t;
}, e.prototype.isValidForFocus = function() {
return this.isActive && null !== this.getBackingSurfaceId();
}, e.prototype.navigate = function(e) {
if (this.focusSystem.log("Navigating from " + this.debugName + " to " + i.Direction[e]), 
this.group) {
var t = this.group.navigateFromItem(this, e);
if (t.result !== i.NavigationResultType.FALLTHROUGH) return t;
}
return this.directionHandlers[e] ? this.directionHandlers[e](e) : {
result: i.NavigationResultType.FALLTHROUGH
};
}, e.prototype.setClickInput = function(e) {
this.clickInput = e;
}, e.prototype.setInputs = function(e) {
e || (e = []), Array.isArray(e) || (e = [ e ]), console.log("SETTING INPUTS FOR " + this.debugName + " TO", e), 
this.inputs = e;
}, e.prototype.setActive = function(e, t) {
var n = this.disablers.indexOf(e);
n > -1 && t && this.disablers.splice(n, 1), -1 !== n || t || this.disablers.push(e);
}, e.prototype.setFocused = function(e) {
this.focusSystem.setAsFocused(this, e);
}, e.prototype.setHovered = function(e) {
this.focusOnHover ? this.focusSystem.setAsFocused(this, e) : this.focusSystem.setAsHovered(this, e);
}, e.prototype.removeHover = function() {
this.focusOnHover ? this.focusSystem.removeFocus(this) : this.focusSystem.removeHover(this);
}, e.prototype.handleClick = function() {
this.onClick.trigger(), this.focusSystem.controllerMode = !1, this.setFocused(i.FocusSource.Mouse), 
this.clickInput && this.clickInput.action();
}, e.prototype.handleMouseEnter = function() {
this.focusSystem.log("Mouse enter " + this.debugName), this.focusSystem.controllerMode = !1, 
this.focusSystem.log("Mouse enter " + this.debugName + " focusOnHover? " + this.focusOnHover), 
this.setHovered(i.FocusSource.Mouse);
}, e.prototype.handleMouseLeave = function() {
this.focusSystem.controllerMode = !1, this.removeHover();
}, e.prototype.onFocus = function(e) {
var t = this, n = o.autorun(function() {
t.isFocused && o.untracked(e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.onBlur = function(e) {
var t = this, n = this.onFocus(function() {
return o.when(function() {
return !t.isFocused;
}, e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.onHover = function(e) {
var t = this, n = o.autorun(function() {
t.isHovered && o.untracked(e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.onLeave = function(e) {
var t = this, n = this.onHover(function() {
return o.when(function() {
return !t.isHovered;
}, e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.connectLifeCycle = function(e) {
var t = this, n = e.componentWillUnmount, r = e.componentDidMount, o = 0;
e.componentDidMount = function() {
u.options.enableDevWarnings && (o = setTimeout(function() {
!t.surfaceElement && t.isActive && console.warn("Mounted focusable " + t.debugName + " without a surface element, did you forget to hook it to a surface?");
}, 1e3)), r && r.apply(e);
}, e.componentWillUnmount = function() {
u.options.enableDevWarnings && clearTimeout(o), t.destroy(), n && n.apply(e);
};
}, e.prototype.getBackingSurfaceId = function() {
return this.surfaceElement && this.surfaceElement._rootNodeID ? this.surfaceElement._rootNodeID : null;
}, e.prototype.getBounds = function() {
return this.surfaceElement && this.surfaceElement._rootNodeID ? this.focusSystem.getBounds(this.surfaceElement._rootNodeID) : null;
}, Object.defineProperty(e.prototype, "hooks", {
get: function() {
var e = this;
return {
ref: this.callbackRef,
onClick: function() {
return e.handleClick();
},
onMouseEnter: function() {
return e.handleMouseEnter();
},
onMouseLeave: function() {
return e.handleMouseLeave();
}
};
},
enumerable: !0,
configurable: !0
}), e.prototype.destroy = function() {
this.inputs = [], this.onChange.destroy(), this.onClick.destroy(), this.onDestroy.trigger(), 
this.onDestroy.destroy(), this.focusSystem.remove(this);
}, r([ o.observable ], e.prototype, "inputs", void 0), r([ o.observable ], e.prototype, "clickInput", void 0), 
r([ o.observable ], e.prototype, "group", void 0), r([ o.observable ], e.prototype, "surfaceElement", void 0), 
r([ o.observable ], e.prototype, "disablers", void 0), r([ o.computed ], e.prototype, "isActive", null), 
r([ o.computed ], e.prototype, "isFocused", null), r([ o.computed ], e.prototype, "isHovered", null), 
r([ o.computed ], e.prototype, "activeInputs", null), r([ o.action ], e.prototype, "setClickInput", null), 
r([ o.action ], e.prototype, "setInputs", null), r([ o.action ], e.prototype, "setActive", null), 
r([ o.action ], e.prototype, "setFocused", null), r([ o.action ], e.prototype, "setHovered", null), 
r([ o.action ], e.prototype, "removeHover", null), r([ o.action ], e.prototype, "handleClick", null), 
r([ o.action ], e.prototype, "handleMouseEnter", null), r([ o.action ], e.prototype, "handleMouseLeave", null), 
r([ o.action ], e.prototype, "destroy", null), e;
}();
t.FocusItem = h;
var y = function() {
function e(e, t) {
var n = this;
this.system = e, this.debugName = t, this.members = [], this.disablers = [], this.behavior = 0, 
this.lastFocusedMember = null, this.directionHandlers = {}, this.cancelAutorun = null, 
this.cancelAutorun = o.autorun(function() {
n.focusedMember && (n.lastFocusedMember = n.focusedMember);
});
}
return e.prototype.destroy = function() {
this.cancelAutorun && this.cancelAutorun(), this.members.forEach(function(e) {
e && (e.group = null);
});
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
return 0 === this.disablers.length;
},
enumerable: !0,
configurable: !0
}), e.prototype.isolate = function() {
this.deisolate(), this.system.isolatedGroups.push(this);
}, e.prototype.deisolate = function() {
var e = this.system.isolatedGroups.indexOf(this);
e > -1 && this.system.isolatedGroups.splice(e, 1);
}, e.prototype.addMember = function(e, t) {
var n = this;
if ("number" == typeof t && t >= 0) {
if (this.members.length > t && this.members[t] === e && e.group === this) return;
for (;this.members.length <= t; ) this.members.push(null);
this.members[t] !== e && (this.members[t] = e);
} else this.members.push(e);
e.group = this, e.onDestroy.listen(function() {
var t = n.members.indexOf(e);
t > -1 && (n.members[t] = null);
});
}, e.prototype.handleDirection = function(e, t) {
this.directionHandlers[e] = t;
}, e.prototype.enabled = function(e) {
return (this.behavior & e) > 0;
}, e.prototype.setActive = function(e, t) {
if ("string" != typeof e) throw new Error("Expected a uniqueKey: " + e);
var n = this.disablers.indexOf(e);
n > -1 && t && this.disablers.splice(n, 1), -1 !== n || t || this.disablers.push(e);
}, e.prototype.navigateFromItem = function(e, t) {
var n = this.directionHandlers[t];
if (n) {
var r = n(e, t);
if (r.result !== i.NavigationResultType.FALLTHROUGH) return r;
}
switch (t) {
case i.Direction.Left:
case i.Direction.Right:
if (this.enabled(i.GroupBehavior.HORIZONTAL)) return this.navigateOffset(e, t);
if (this.enabled(i.GroupBehavior.VERTICAL)) return this.navigateFromGroup(e, t);
break;

case i.Direction.Up:
case i.Direction.Down:
if (this.enabled(i.GroupBehavior.VERTICAL)) return this.navigateOffset(e, t);
if (this.enabled(i.GroupBehavior.HORIZONTAL)) return this.navigateFromGroup(e, t);
}
return {
result: i.NavigationResultType.FALLTHROUGH
};
}, e.prototype.navigateOffset = function(e, t) {
var n = t === i.Direction.Left || t === i.Direction.Up ? -1 : 1, r = this.members.filter(function(e) {
return e && e.isActive;
}), o = r.indexOf(e), a = o + n;
if (0 > a || a >= r.length) {
if (!this.enabled(i.GroupBehavior.WRAP_AROUND)) return this.enabled(i.GroupBehavior.EDGE_STOP) ? {
result: i.NavigationResultType.STOP
} : this.navigateFromGroup(e, t);
a = 0 > a ? r.length - 1 : 0;
}
return {
result: i.NavigationResultType.HIT,
toItem: r[a]
};
}, e.prototype.navigateFromGroup = function(e, t) {
return this.directionHandlers[t] ? (this.system.log("Group direction handler " + i.Direction[t]), 
this.directionHandlers[t](e, t)) : {
result: i.NavigationResultType.FALLTHROUGH
};
}, e.prototype.selectBestMember = function(e, t, n) {
var r = this, o = this.members.filter(function(e) {
return r.system.isValidForFocus(e);
});
return this.enabled(i.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER) && this.lastFocusedMember && o.indexOf(this.lastFocusedMember) > -1 ? this.lastFocusedMember : this.enabled(i.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET) ? o[0] : n || o[0];
}, e.prototype.navigateToGroup = function(e, t, n) {
var r = this.selectBestMember(e, t, n);
return r ? {
result: i.NavigationResultType.HIT,
toItem: r
} : {
result: i.NavigationResultType.FALLTHROUGH
};
}, Object.defineProperty(e.prototype, "focusedIndex", {
get: function() {
return this.system.focusedItem ? this.members.indexOf(this.system.focusedItem) : -1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "focusedMember", {
get: function() {
var e = this.focusedIndex;
return e > -1 ? this.members[e] : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasFocusedMember", {
get: function() {
return this.focusedIndex > -1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasLastFocusedMember", {
get: function() {
return this.system.lastFocusedItem ? this.members.indexOf(this.system.lastFocusedItem) > -1 : !1;
},
enumerable: !0,
configurable: !0
}), r([ o.observable ], e.prototype, "members", void 0), r([ o.observable ], e.prototype, "disablers", void 0), 
r([ o.action ], e.prototype, "destroy", null), r([ o.computed ], e.prototype, "isActive", null), 
r([ o.action ], e.prototype, "isolate", null), r([ o.action ], e.prototype, "deisolate", null), 
r([ o.action ], e.prototype, "addMember", null), r([ o.action ], e.prototype, "setActive", null), 
r([ o.computed ], e.prototype, "focusedIndex", null), r([ o.computed ], e.prototype, "focusedMember", null), 
r([ o.computed ], e.prototype, "hasFocusedMember", null), r([ o.computed ], e.prototype, "hasLastFocusedMember", null), 
e;
}();
t.FocusGroup = y;
var g = function() {
function e(e, t) {
var n = this;
this.system = e, this.debugName = t, this.surfaceElement = null, this.onChildFocus = new s.TwinkleSignal(), 
this.onChildBlur = new s.TwinkleSignal(), this.onFocusChildChanged = new s.TwinkleTypedEvent(), 
this.onInputFocusChanged = new s.TwinkleSignal(), this.disablers = [], this.cancelFocusChildReaction = function() {}, 
this.cancelAutorun = function() {}, this.cancelReaction = function() {}, this.hooks = {
ref: o.action("set ancestor element", function(e) {
n.surfaceElement = e;
})
}, this.cancelFocusChildReaction = o.reaction(function() {
return n.hasFocusedChild;
}, function(e) {
e ? n.onChildFocus.trigger() : n.onChildBlur.trigger();
}), this.cancelAutorun = o.autorun(function() {
var e = n.focusedChild;
o.untracked(function() {
return n.onFocusChildChanged.trigger(e);
});
}), o.action("Add focus ancestor", function() {
return n.system.ancestors.push(n);
})(), this.cancelReaction = o.reaction(function() {
return n.hasInputFocus;
}, function() {
return n.onInputFocusChanged.trigger();
});
}
return e.prototype.setActive = function(e, t) {
if ("string" != typeof e) throw new Error("Expected a uniqueKey: " + e);
var n = this.disablers.indexOf(e);
n > -1 && t && this.disablers.splice(n, 1), -1 !== n || t || this.disablers.push(e);
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
return 0 === this.disablers.length;
},
enumerable: !0,
configurable: !0
}), e.prototype.isolate = function() {
this.deisolate(), this.system.isolatedAncestors.push(this);
}, e.prototype.deisolate = function() {
var e = this.system.isolatedAncestors.indexOf(this);
e > -1 && this.system.isolatedAncestors.splice(e, 1);
}, e.prototype.destroy = function() {
var e = this.system.ancestors.indexOf(this);
e && this.system.ancestors.splice(e, 1), this.cancelAutorun(), this.cancelReaction(), 
this.onChildFocus.destroy(), this.onChildBlur.destroy(), this.cancelFocusChildReaction();
}, e.prototype.getChildren = function() {
var e = this.getSurfaceId();
return e ? this.system.items.filter(function(t) {
return t.surfaceElement && t.surfaceElement._rootNodeID && 0 === t.surfaceElement._rootNodeID.indexOf(e);
}) : (this.system.log("WARN: FocusAncestor " + this.debugName + " does not have a surfaceId, did you forget to hook it to a surface?"), 
[]);
}, e.prototype.getIsolationExceptions = function() {
return [];
}, e.prototype.getSurfaceId = function() {
return this.surfaceElement && this.surfaceElement._rootNodeID;
}, e.prototype.getSubAncestors = function() {
var e = this.getSurfaceId();
return e ? this.system.ancestors.filter(function(t) {
var n = t.getSurfaceId();
return n && 0 === n.indexOf(e);
}) : (this.system.log("WARN: FocusAncestor " + this.debugName + " does not have a surfaceId, did you forget to hook it to a surface?"), 
[]);
}, Object.defineProperty(e.prototype, "children", {
get: function() {
return this.getChildren();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "focusedChild", {
get: function() {
var e = this.system.focusedItem && this.system.focusedItem.surfaceElement, t = e && e._rootNodeID, n = this.surfaceElement && this.surfaceElement._rootNodeID;
return n && t && 0 === t.indexOf(n) ? this.system.focusedItem : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasFocusedChild", {
get: function() {
var e = this.system.focusedItem && this.system.focusedItem.surfaceElement, t = e && e._rootNodeID, n = this.surfaceElement && this.surfaceElement._rootNodeID;
return n && t ? 0 === t.indexOf(n) : !1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasInputFocus", {
get: function() {
return this.hasFocusedChild ? !0 : this.isActive && !this.system.focusedItem && !!this.surfaceElement;
},
enumerable: !0,
configurable: !0
}), r([ o.observable ], e.prototype, "surfaceElement", void 0), r([ o.observable ], e.prototype, "disablers", void 0), 
r([ o.action ], e.prototype, "setActive", null), r([ o.computed ], e.prototype, "isActive", null), 
r([ o.action ], e.prototype, "isolate", null), r([ o.action ], e.prototype, "deisolate", null), 
r([ o.action ], e.prototype, "destroy", null), r([ o.computed ], e.prototype, "children", null), 
r([ o.computed ], e.prototype, "focusedChild", null), r([ o.computed ], e.prototype, "hasFocusedChild", null), 
r([ o.computed ], e.prototype, "hasInputFocus", null), e;
}();
t.FocusAncestor = g;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__assign || Object.assign || function(e) {
for (var t, n = 1, r = arguments.length; r > n; n++) {
t = arguments[n];
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
}
return e;
}, a = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, i = n(1), s = n(251), l = n(8).observer, u = function(e) {
function t(t) {
var n = this;
e.call(this, t), this.focusAncestor = s.createAncestor(t.debugName), this.focusAncestor.onChildFocus.listen(function() {
n.props.onChildFocus && n.props.onChildFocus();
}), this.focusAncestor.onChildBlur.listen(function() {
n.props.onChildBlur && n.props.onChildBlur();
});
}
return r(t, e), t.prototype.componentWillUnmount = function() {
this.focusAncestor.destroy();
}, t.prototype.render = function() {
return i.createElement("surface", o({}, this.focusAncestor.hooks), this.props.children);
}, t = a([ l ], t);
}(i.Component);
t.FocusableAncestor = u;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
e.intersects(t) ? t = t.subtract(e) : t.intersects(e) && (e = e.subtract(t));
var r = !1;
switch (n) {
case o.Direction.Right:
r = t.left - e.right >= 0;
break;

case o.Direction.Down:
r = t.top - e.bottom >= 0;
break;

case o.Direction.Left:
r = t.right - e.left <= 0;
break;

case o.Direction.Up:
r = t.bottom - e.top <= 0;
}
return r ? e.edgeDistanceSquared(t) : NaN;
}
var o = n(250);
t.getDistanceInDirection = r;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(10), a = n(252), i = function() {
function e(e, t, n, r) {
this.R = e, this.G = t, this.B = n, this.A = r;
}
return e.prototype.add = function(e) {
this.R += e.R, this.G += e.G, this.B += e.B, this.A += e.A;
}, e.prototype.asArray = function() {
return [ this.R, this.G, this.B, this.A ];
}, e;
}();
t.ColorConfig = i;
var s = function() {
function e(e, t, n, r, o, a, i) {
void 0 === n && (n = "Linear"), void 0 === r && (r = .2), void 0 === o && (o = .2), 
void 0 === a && (a = .8), void 0 === i && (i = .8), this.fromColor = e, this.toColor = t, 
this.easing = n, this.p1x = r, this.p1y = o, this.p2x = a, this.p2y = i;
}
return e;
}();
t.ColorTweenConfig = s;
var l = function() {
function e(e, t, n, r, a) {
var i = this;
void 0 === a && (a = !0), this.absolute = !0, o.action("JitterColorConfig init", function() {
i.R = e, i.G = t, i.B = n, i.A = r, i.absolute = a;
})();
}
return e.prototype.generateValue = function() {
return new i(this.R.generateValue(), this.G.generateValue(), this.B.generateValue(), this.A.generateValue());
}, e.prototype.toJson = function() {
return {
R: this.R.toJson(),
G: this.G.toJson(),
B: this.B.toJson(),
A: this.A.toJson()
};
}, e.prototype.fromJson = function(e) {
this.R.fromJson(e.R), this.G.fromJson(e.G), this.B.fromJson(e.B), this.A.fromJson(e.A);
}, r([ o.observable ], e.prototype, "R", void 0), r([ o.observable ], e.prototype, "G", void 0), 
r([ o.observable ], e.prototype, "B", void 0), r([ o.observable ], e.prototype, "A", void 0), 
r([ o.observable ], e.prototype, "absolute", void 0), e;
}();
t.JitterColorConfig = l;
var u = function() {
function e(e, t, n) {
var r = this;
this.easing = "Linear", this.p1x = new a.JitterValue(.2, 0, null), this.p1y = new a.JitterValue(.2, 0, null), 
this.p2x = new a.JitterValue(.8, 0, null), this.p2y = new a.JitterValue(.8, 0, null), 
o.action("JitterColorTweenConfig init", function() {
r.fromColor = e, r.toColor = t, r.easing = n;
})();
}
return e.prototype.generateConfig = function() {
var e = this.fromColor.generateValue(), t = this.toColor.generateValue();
return this.fromColor.absolute && !this.toColor.absolute ? t.add(e) : !this.fromColor.absolute && this.toColor.absolute && e.add(t), 
new s(e, t, this.easing, this.p1x.generateValue(), this.p1y.generateValue(), this.p2x.generateValue(), this.p2y.generateValue());
}, e.prototype.toJson = function() {
return {
fromColor: this.fromColor.toJson(),
toColor: this.toColor.toJson(),
easing: this.easing,
p1x: this.p1x.toJson(),
p1y: this.p1y.toJson(),
p2x: this.p2x.toJson(),
p2y: this.p2y.toJson()
};
}, e.prototype.fromJson = function(e) {
this.fromColor.fromJson(e.fromColor), this.toColor.fromJson(e.toColor), this.easing = e.easing, 
this.p1x.fromJson(e.p1x), this.p1y.fromJson(e.p1y), this.p2x.fromJson(e.p2x), this.p2y.fromJson(e.p2y);
}, r([ o.observable ], e.prototype, "fromColor", void 0), r([ o.observable ], e.prototype, "toColor", void 0), 
r([ o.observable ], e.prototype, "easing", void 0), r([ o.observable ], e.prototype, "p1x", void 0), 
r([ o.observable ], e.prototype, "p1y", void 0), r([ o.observable ], e.prototype, "p2x", void 0), 
r([ o.observable ], e.prototype, "p2y", void 0), r([ o.action ], e.prototype, "fromJson", null), 
e;
}();
t.JitterColorTweenConfig = u;
}, function(e, t, n) {
"use strict";
var r = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, o = n(360), a = n(361), i = n(121), s = n(10), l = n(576), u = n(252), p = n(108), c = function() {
function e() {
this.texture = "", this.textureList = [], this.blendMode = "screen", this.maxParticles = 100, 
this.lifetimeMs = new u.JitterValue(2e3, 400, null), this.emitInterval = new u.JitterValue(300, 0, null), 
this.x = new a.JitterTweenConfig(new u.JitterValue(-500, 10, !0), new u.JitterValue(500, 10, !0), "Linear"), 
this.y = new a.JitterTweenConfig(new u.JitterValue(-500, 10, !0), new u.JitterValue(500, 10, !0), "Linear"), 
this.opacity = new a.JitterTweenConfig(new u.JitterValue(0, .1, !0), new u.JitterValue(1, .1, !0), "Linear"), 
this.scale = new a.JitterTweenConfig(new u.JitterValue(3, .3, !0), new u.JitterValue(1, .4, !0), "Linear"), 
this.rotate = new a.JitterTweenConfig(new u.JitterValue(3, .3, !0), new u.JitterValue(1, .4, !0), "Linear"), 
this.color = new l.JitterColorTweenConfig(new l.JitterColorConfig(new u.JitterValue(255, 0, !0), new u.JitterValue(255, 0, !0), new u.JitterValue(255, 0, !0), new u.JitterValue(255, 0, !0)), new l.JitterColorConfig(new u.JitterValue(255, 0, !0), new u.JitterValue(255, 0, !0), new u.JitterValue(255, 0, !0), new u.JitterValue(255, 0, !0)), "Linear");
}
return e.prototype.toJson = function() {
return {
texture: this.texture,
blendMode: this.blendMode,
maxParticles: this.maxParticles,
lifetimeMs: this.lifetimeMs.toJson(),
emitInterval: this.emitInterval.toJson(),
x: this.x.toJson(),
y: this.y.toJson(),
opacity: this.opacity.toJson(),
scale: this.scale.toJson(),
rotate: this.rotate.toJson(),
color: this.color.toJson()
};
}, e.prototype.fromJson = function(e) {
this.texture = e.texture, this.blendMode = e.blendMode, this.maxParticles = e.maxParticles, 
this.lifetimeMs.fromJson(e.lifetimeMs), this.emitInterval.fromJson(e.emitInterval), 
this.x.fromJson(e.x), this.y.fromJson(e.y), this.opacity.fromJson(e.opacity), this.scale.fromJson(e.scale), 
this.rotate.fromJson(e.rotate), this.color.fromJson(e.color);
}, r([ s.observable ], e.prototype, "texture", void 0), r([ s.observable ], e.prototype, "textureList", void 0), 
r([ s.observable ], e.prototype, "blendMode", void 0), r([ s.observable ], e.prototype, "maxParticles", void 0), 
r([ s.observable ], e.prototype, "lifetimeMs", void 0), r([ s.observable ], e.prototype, "emitInterval", void 0), 
r([ s.observable ], e.prototype, "x", void 0), r([ s.observable ], e.prototype, "y", void 0), 
r([ s.observable ], e.prototype, "opacity", void 0), r([ s.observable ], e.prototype, "scale", void 0), 
r([ s.observable ], e.prototype, "rotate", void 0), r([ s.observable ], e.prototype, "color", void 0), 
r([ s.action ], e.prototype, "fromJson", null), e;
}();
t.EmitterConfig = c;
var f = !1;
p.getBuildInfo().isRemoteEngine() && (window.pauseParticles = function() {
f = !f, console.log("Particle emitting " + (f ? "paused" : "resumed"));
});
var d = function() {
function e() {
this.started = !1, this.config = new c(), this.numParticles = 0, this.particleEmitted = new i.TwinkleTypedEvent(), 
this.configUpdated = new i.TwinkleSignal();
}
return e.prototype.start = function() {
this.started = !0, this.emitParticle();
}, e.prototype.stop = function() {
this.started = !1;
}, e.prototype.createParticle = function() {
var e = this;
this.numParticles++;
var t = new o.Particle(Math.max(1, this.config.lifetimeMs.generateValue()), this.config.x.generateConfig(), this.config.y.generateConfig(), this.config.opacity.generateConfig(), this.config.scale.generateConfig(), this.config.rotate.generateConfig(), this.config.color.generateConfig());
return t.death.listenOnce(function() {
e.numParticles--;
}), t;
}, e.prototype.emitParticle = function() {
var e = this;
if (this.numParticles < this.config.maxParticles && !f && this.particleEmitted.trigger(this.createParticle()), 
this.started) {
var t = this.config.emitInterval.generateValue();
setTimeout(function() {
return e.emitParticle();
}, Math.max(1, t));
}
}, e;
}();
t.Emitter = d;
}, function(e, t, n) {
"use strict";
var r = this && this.__extends || function(e, t) {
function __() {
this.constructor = e;
}
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());
}, o = this && this.__decorate || function(e, t, n, r) {
var o, a = arguments.length, i = 3 > a ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) i = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (i = (3 > a ? o(i) : a > 3 ? o(t, n, i) : o(t, n)) || i);
return a > 3 && i && Object.defineProperty(t, n, i), i;
}, a = n(1), i = n(10), s = (n(133).TweenBatching, n(8).observer), l = n(225), u = 0, p = function(e, t, n) {
return Math.max(Math.min(n, t), e);
}, c = function() {
function e(e) {
this.index = e, this.isDestroyed = !1, this.x = this.createTween("x"), this.y = this.createTween("y"), 
this.opacity = this.createTween("opacity"), this.scale = this.createTween("scale"), 
this.rotate = this.createTween("rotate"), this.color = this.createTween("color");
}
return e.prototype.createTween = function(e) {
var t = "p_" + e + "_" + this.index + "_" + u++, n = "color" === e ? [ 1, 1, 1, 1 ] : 0;
return new l(t, n, {});
}, e.prototype.destroy = function() {
this.isDestroyed = !0, this.x.destroy(), this.y.destroy(), this.opacity.destroy(), 
this.scale.destroy(), this.rotate.destroy(), this.color.destroy();
}, e.getSurfaceEasing = function(e) {
return "Bezier" === e.easing ? [ p(0, 1, e.p1x), p(0, 1, e.p1y), p(0, 1, e.p2x), p(0, 1, e.p2y) ] : e.easing;
}, e.prototype.runTween = function(t, n, r) {
var o = n.from, a = n.to;
t === this.opacity && (o = Math.min(1, Math.max(0, o)), a = Math.min(1, Math.max(0, a))), 
t.transition(o, a, {
duration: r,
easing: e.getSurfaceEasing(n)
});
}, e.prototype.run = function(e) {
this.runTween(this.x, e.x, e.lifespan), this.runTween(this.y, e.y, e.lifespan), 
this.runTween(this.opacity, e.opacity, e.lifespan), this.runTween(this.scale, e.scale, e.lifespan), 
this.runTween(this.rotate, e.rotate, e.lifespan), this.color.transition(e.color.fromColor.asArray(), e.color.toColor.asArray(), e.lifespan);
}, e.prototype.reset = function() {
this.isDestroyed || (this.opacity.set(0), this.x.set(0), this.y.set(0), this.scale.set(0), 
this.rotate.set(0), this.color.set([ 255, 255, 255, 255 ]));
}, e;
}();
t.ParticleRenderer = c;
var f = function(e) {
function t() {
e.apply(this, arguments), this.freeRenderers = [], this.numRenderersCreated = 0, 
this.indexToRenderer = {};
}
return r(t, e), t.prototype.componentDidMount = function() {
var e = this, t = this.props.emitter;
this.cancelConfig = t.configUpdated.listen(function() {
e.forceUpdate();
}), this.cancelEmit = t.particleEmitted.listen(function(t) {
e.setupParticle(t);
});
}, t.prototype.setupParticle = function(e) {
var t = this, n = this.freeRenderers.pop();
return "undefined" == typeof n ? void (this.numRenderersCreated < this.props.emitter.config.maxParticles ? this.numRenderersCreated++ : console.error("No free renderers")) : (n.run(e), 
void e.death.listenOnce(function() {
n.reset(), t.freeRenderers.push(n);
}));
}, t.prototype.componentWillUnmount = function() {
var e = this;
this.cancelConfig(), this.cancelEmit(), Object.keys(this.indexToRenderer).forEach(function(t) {
var n = e.indexToRenderer[t];
n.destroy(), delete e.indexToRenderer[t], e.freeRenderers.length = 0;
});
}, t.prototype.renderParticleSurface = function(e) {
var t = this.indexToRenderer[e + ""];
if (!t) {
if (t = this.indexToRenderer[e + ""] = new c(e), this.props.emitter.config.textureList && this.props.emitter.config.textureList.length > 0) {
var n = Math.floor(Math.random() * this.props.emitter.config.textureList.length);
t.texture = this.props.emitter.config.textureList[n];
} else "" !== this.props.emitter.config.texture && (t.texture = this.props.emitter.config.texture);
this.freeRenderers.push(t);
}
var r = {
position: "absolute",
translateX: t.x.getStyle(),
translateY: t.y.getStyle(),
opacity: t.opacity.getStyle(),
scaleX: t.scale.getStyle(),
scaleY: t.scale.getStyle(),
rotateZ: t.rotate.getStyle(),
width: 10,
height: 10,
color: t.color.getStyle(),
texture: t.texture
};
return "normal" !== this.props.emitter.config.blendMode && (r.blendMode = this.props.emitter.config.blendMode), 
a.createElement("surface", {
key: e,
style: r
});
}, t.prototype.render = function() {
for (var e = [], t = 0; t < this.numRenderersCreated; t++) e.push(this.renderParticleSurface(t));
return a.createElement("surface", null, e);
}, o([ i.observable ], t.prototype, "numRenderersCreated", void 0), o([ i.action ], t.prototype, "setupParticle", null), 
t = o([ s ], t);
}(a.Component);
t.Renderer = f;
}, function(e, t, n) {
"use strict";
var r = n(577);
t.Emitter = r.Emitter, t.EmitterConfig = r.EmitterConfig;
var o = n(360);
t.Particle = o.Particle;
var a = n(578);
t.Renderer = a.Renderer;
var i = n(361);
t.TweenConfig = i.TweenConfig;
}, function(e, t, n) {
"use strict";
var r = n(45), o = n(79), a = 1, i = function() {
function e(e, t, n, r) {
void 0 === n && (n = !1), void 0 === r && (r = 1), this.id = e, this.url = t, this.loop = n, 
this.volume = r, this.unload = this.stop;
}
return e.prototype.play = function() {
r.Native.playSound(this.id, this.url, this.loop), r.Native.setSoundVolume(this.id, this.volume);
}, e.prototype.stop = function() {
r.Native.stopSound(this.id);
}, e.prototype.setVolume = function(e) {
this.volume = e;
}, e.load = function(t) {
return o.options.urlHook && (t = o.options.urlHook(t)), new e(a++, t);
}, e.stopAll = function() {
r.Native.stopAllSounds();
}, e;
}();
t.Sound = i;
}, function(e, t, n) {
"use strict";
function r(e, t) {
return i.Native.getSurfaceChainAtPositionSync(e, t);
}
function o(e) {
for (var t = a.batchSyncCalls(e.map(function(e) {
return {
func: "getSurfaceChainAtPositionSync",
args: [ e.x, e.y ]
};
})), n = {}, r = 0; r < e.length; r++) {
var o = e[r];
n[o.key] = t[r];
}
return n;
}
var a = n(358), i = n(45);
t.getSurfaceChainAtPosition = r, t.getSurfaceChainsAtPositions = o;
}, function(e, t) {
"use strict";
!function(e) {
e[e.NOT_LOADED = 0] = "NOT_LOADED", e[e.LOADING = 1] = "LOADING", e[e.FAILED = 2] = "FAILED", 
e[e.LOADED = 3] = "LOADED";
}(t.TextureState || (t.TextureState = {}));
var n = t.TextureState, r = function() {
function e(e) {
this.reference = e, this.state = n.NOT_LOADED, this.refCount = 0, this.stateId = 0;
}
return e.toReference = function(e, t) {
return {
key: e + "_" + t,
url: e,
atlas: t
};
}, e.prototype.getState = function() {
return n[this.state];
}, e.prototype.changeState = function(e) {
this.state = e, this.stateId++;
}, e.prototype.isLoaded = function() {
return this.state === n.LOADED || this.state === n.FAILED;
}, e.prototype.onLoaded = function(e) {
var t = this;
return this.isLoaded() ? (e(!0), function() {}) : this.state === n.FAILED ? (e(!1), 
function() {}) : (this.callbacks ? this.callbacks.push(e) : this.callbacks = [ e ], 
function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
});
}, e.prototype.loaded = function(e) {
this.changeState(e ? n.LOADED : n.FAILED), this.callbacks && this.callbacks.forEach(function(t) {
return t(e);
});
}, e.prototype.unloaded = function() {
this.changeState(n.NOT_LOADED);
}, e.prototype.loading = function() {
this.changeState(n.LOADING);
}, e;
}();
t.Texture = r;
}, function(e, t, n) {
"use strict";
var r = n(151), o = n(133).TweenBatching, a = n(225), i = 0, s = function() {
function e(e) {
this.surface = e;
}
return e.prototype.setupTween = function(e) {
var t = this;
this.texture = e, this.cancel(), this.tween = new a("fadeIn_" + this.texture.reference.url + "_" + i++, .01, {
easing: "CubicOut",
duration: 300
}), this.cancelOnLoaded = e.onLoaded(function(e) {
e && (t.tween.to(t.fadeToOpacity, {}, function() {
t.surface._rootNodeID && r.updateSurface(t.surface._rootNodeID, {
opacity: t.oldOpacity
}), t.destroy();
}), o.flush());
});
}, e.prototype.destroy = function() {
this.cancel();
}, e.prototype.cancel = function() {
this.cancelOnLoaded && (this.cancelOnLoaded(), this.cancelOnLoaded = null), this.tween && (this.tween.destroy(), 
this.tween = null);
}, e.prototype.update = function(e, t) {
if (!e.isLoaded()) {
var n = t.opacity, r = typeof n;
if (this.oldOpacity = n, this.fadeToOpacity = 1, "number" === r) this.fadeToOpacity = n; else if ("string" === r) this.fadeToOpacity = 0; else {
if ("object" === r) return;
this.oldOpacity = null;
}
(!this.tween || this.texture && this.texture.reference.key !== e.reference.key) && this.setupTween(e), 
t.opacity = this.tween.getStyle();
}
}, e.handle = function(t, n, r) {
n.isLoaded() || (t._fadeIn || (t._fadeIn = new e(t)), t._fadeIn.update(n, r));
}, e.unmount = function(e) {
e._fadeIn && (e._fadeIn.destroy(), e._fadeIn = null);
}, e;
}();
t.TextureFadeIn = s;
}, function(e, t, n) {
"use strict";
var r = n(121), o = 0, a = {}, i = function() {
function e() {}
return e.add = function(t) {
a[t.reference.key] || (a[t.reference.key] = t, e.onTexturesChanged.trigger());
}, e.remove = function(t) {
a[t.reference.key] && (delete a[t.reference.key], e.onTexturesChanged.trigger());
}, e.handle = function(t, n, r) {
r.isPreloader ? delete r.isPreloader : o > 0 && t._primaryTexture !== n && (t._primaryTexture && e.decreaseRefCount(t._primaryTexture), 
t._primaryTexture = n, e.increaseRefCount(n));
}, e.increaseRefCount = function(t) {
t.refCount++, 1 === t.refCount && e.add(t);
}, e.decreaseRefCount = function(t) {
t.refCount--, 0 === t.refCount && (0 === o ? e.remove(t) : setTimeout(function() {
0 === t.refCount && e.remove(t);
}, o));
}, e.unmount = function(t) {
t._primaryTexture && (e.decreaseRefCount(t._primaryTexture), t._primaryTexture = null);
}, e.getTextures = function() {
return Object.keys(a).map(function(e) {
return a[e];
});
}, e.clear = function() {
e.getTextures().forEach(function(t) {
return e.remove(t);
});
}, e.toggleDebug = function() {
e.debug = !e.debug, e.onTexturesChanged.trigger(), console.log("Texture keep-alive debugging turned " + (e.debug ? "ON" : "OFF"));
}, e.onTexturesChanged = new r.TwinkleSignal(), e.debug = !1, e;
}();
t.TextureKeepAlive = i;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], t = new i["default"](), n = function r() {
t.publish.apply(t, arguments);
};
return Object.getOwnPropertyNames(i["default"].prototype).forEach(function(e) {
"function" == typeof t[e] ? n[e] = t[e].bind(t) : n[e] = t[e];
}), n.before.subscribe(function() {
n.preEmit && n.preEmit.apply(n, arguments);
}), e.children && e.children.forEach(function(e) {
n[e] = o();
}), n;
}
t.__esModule = !0, t["default"] = o;
var a = n(254), i = r(a);
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], t = new i["default"]();
for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
return t.init && t.init.apply(t), t;
}
t.__esModule = !0, t["default"] = o;
var a = n(43), i = r(a);
e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function() {
function e(t, r, o) {
n(this, e), this.publisher = t, this.onPublish = r, this.onUnsubscribe = o;
}
return e.prototype.unsubscribe = function t() {
this.publisher ? (this.publisher.removeSubscription(this), delete this.publisher) : console.warn("Double unsubscribe on the same publisher, is it shared or a race?");
}, e;
}();
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(589);
}, function(e, t, n) {
e.exports = {
stores: {
CalendarStore: n(366)
},
actions: {},
types: {
CalendarItem: n(365)
},
Calendar: n(590)
};
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return f(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = {
_$Calendar: {
displayName: "Calendar"
}
}, f = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-calendar/src/Calendar.jsx",
components: c,
locals: [],
imports: []
}), d = n(4), h = n(1), y = n(2), g = n(364), m = n(366), b = n(814), v = n(6), _ = n(16), S = n(7), w = y.createStyleSheet({
calendar1: {
alignItems: "center",
width: v.getWidth(1)
},
calendar5: {
alignItems: "center",
width: v.getWidth(5)
}
}), T = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
g.trigger();
}, t.prototype.renderMonth = function l(e, t) {
var n, o = new Date(), a = e.getMonth() === o.getMonth(), i = e.getFullYear() === o.getFullYear();
return n = a && i ? " " + __("ID_SPARTA_CALENDAR_THISMONTH") : i ? e.toLocaleDateString("en-us", {
month: "long"
}) : e.toLocaleDateString("en-us", {
month: "long",
year: "numeric"
}), {
$$typeof: p,
type: "surface",
key: n,
ref: null,
props: {
children: [ {
$$typeof: p,
type: b,
key: null,
ref: null,
props: r(b.defaultProps, {
text: n
}),
_owner: null
}, d.map(t, this.renderItem) ]
},
_owner: null
};
}, t.prototype.renderItem = function u(e, t) {
return {
$$typeof: p,
type: v.Row,
key: t,
ref: null,
props: r(v.Row.defaultProps, {
children: [ {
$$typeof: p,
type: v.Col,
key: null,
ref: null,
props: r(v.Col.defaultProps, {
children: {
$$typeof: p,
type: S,
key: null,
ref: null,
props: r(S.defaultProps, {
value: "*"
}),
_owner: null
},
style: w.calendar1
}),
_owner: null
}, {
$$typeof: p,
type: v.Col,
key: null,
ref: null,
props: r(v.Col.defaultProps, {
children: {
$$typeof: p,
type: S,
key: null,
ref: null,
props: r(S.defaultProps, {
value: e.date.toLocaleString("en-us", {
day: "numeric"
})
}),
_owner: null
},
style: w.calendar1
}),
_owner: null
}, {
$$typeof: p,
type: v.Col,
key: null,
ref: null,
props: r(v.Col.defaultProps, {
children: [ {
$$typeof: p,
type: b,
key: null,
ref: null,
props: r(b.defaultProps, {
text: e.name
}),
_owner: null
}, {
$$typeof: p,
type: b,
key: null,
ref: null,
props: r(b.defaultProps, {
text: e.description
}),
_owner: null
}, {
$$typeof: p,
type: b,
key: null,
ref: null,
props: r(b.defaultProps, {
text: e.date.toLocaleString("en-us", {
month: "long",
day: "numeric"
})
}),
_owner: null
} ],
width: 5
}),
_owner: null
} ]
}),
_owner: null
};
}, t.prototype.render = function c() {
var e = d.chain(this.state.calendar).filter(function(e) {
return "sparta" === e.gameId || e.gameId === this.props.gameId;
}.bind(this)).groupBy(function(e) {
return new Date(e.date.getFullYear(), e.date.getMonth(), 1);
}).value();
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: d.map(e, function(e, t) {
return this.renderMonth(new Date(t), e);
}.bind(this))
},
_owner: null
};
};
var n = t;
return t = i("_$Calendar")(t) || t, t = _({
calendar: m
})(t) || t;
}(h.Component);
t["default"] = T, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
e.exports = n(367);
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(21), s = r(i), l = n(26), u = r(l), p = n(130), c = r(p), f = n(38), d = r(f), h = n(223), y = r(h), g = s["default"].createClient({
request: function m(e, t) {
if (!e || !t) throw new Error("Missing parameter, expected game and dogtag");
var n = {
game: e,
tagType: t.type,
index: t.index
};
return u["default"].request("Loadout.equipDogtag", n);
},
parse: function b(e, t) {
var n, r = c["default"].getState(), o = a["default"].extend({}, r.gameStats[t]);
o.equippedDogtags = e;
var i = a["default"].extend({}, r.gameStats, (n = {}, n[t] = o, n)), s = new y["default"](a["default"].extend({}, r, {
gameStats: i
}));
return s;
},
update: function v(e) {
d["default"].updateCareer(e), d["default"].refreshCareer(), this.publish(e);
}
});
t["default"] = g, e.exports = t["default"];
}, function(e, t, n) {
var r = n(340), o = n(21), a = n(52).gatewayClient, i = o.createClient({
throttle: 2e4,
request: function s(e) {
return a.request("Wallet.getWallet", {
game: e
});
},
parse: function l(e) {
return e;
},
update: function u(e, t, n) {
r.walletStore.updateWallet(n, e);
}
});
e.exports = i;
}, function(e, t, n) {
function r(e) {
if (!e.progression) return !0;
var t = e.progression, n = e.price;
return 0 === n && !t.unlocked && 0 === t.valueAcquired && 0 === t.valueNeeded;
}
var o = n(193), a = n(339), i = n(4), s = n(21), l = n(52).gatewayClient, u = n(607), p = n(608), c = n(375), f = s.createClient({
throttle: 3e4,
request: function d(e) {
return l.request("Progression.getWeaponsWithAccessories", {
game: e
});
},
parse: function h(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? "" : arguments[1], n = arguments.length <= 2 || void 0 === arguments[2] ? {
black: "",
white: ""
} : arguments[2], s = arguments.length <= 3 || void 0 === arguments[3] ? !0 : arguments[3];
return i.map(e, function(e) {
var l = i.map(e.weapons, function(l) {
if (!r(l)) {
var p = i.map(l.accessories, function(e) {
return e.progression || (e.progression = {}), new c({
images: e.images,
name: e.name,
description: e.description.replace("\\n", ""),
progression: new o.Progression({
unlocked: e.progression.unlocked,
acquired: e.progression.valueAcquired,
needed: e.progression.valueNeeded
})
});
});
return s && (p = p.sort(a.sortItemsByProgression)), p = i.partition(p, function(e) {
return e.progression.needed > 1;
}), new u({
code: l.guid,
images: l.images,
hires: l.hires.hasOwnProperty("Small") ? l.hires : l.images,
name: l.name,
description: l.description,
progression: new o.Progression({
unlocked: l.progression.unlocked,
acquired: l.progression.valueAcquired,
needed: l.progression.valueNeeded
}),
stats: l.stats,
info: l.info,
star: l.star,
price: l.price,
accessories: p,
kit: {
name: t,
images: n
},
category: e.name,
categoryId: e.categoryId
});
}
});
return s && (l = l.sort(a.sortItemsByProgression)), new p({
name: e.name,
categoryId: e.categoryId,
items: i.filter(l, function(e) {
return e;
})
});
});
},
onRequestError: function y(e, t) {
this.publish(t, null, e);
},
update: function g(e, t, n) {
this.publish(n, e);
}
});
e.exports = f;
}, function(e, t, n) {
function r(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return S(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e) {
return [ 1 - e[2], 1 - e[3], 1 - e[0], 1 - e[1] ];
}
var p = n(3), c = l(p);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = n(1), y = l(h), g = n(6), m = l(g), b = n(13), v = l(b), _ = {
_$FlippingAwards: {
displayName: "FlippingAwards"
},
_$InlineAwards: {
displayName: "InlineAwards"
},
_$AwardEquipped: {
displayName: "AwardEquipped"
}
}, S = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/AwardEquipped.jsx",
components: _,
locals: [],
imports: []
}), w = {
rect: {
width: m["default"].getWidth(3.3),
height: m["default"].getHeight(11),
marginLeft: -m["default"].getWidth(1.5)
},
square: {
marginTop: -m["default"].getHeight(6.5),
width: m["default"].getHeight(18),
height: m["default"].getHeight(18),
marginLeft: -m["default"].getWidth(.5)
}
}, T = {
inlineContainer: {
flexDirection: "row",
justifyContent: "center"
},
flippingTags: function A(e) {
return d({
position: "relative",
textureMode: "contain"
}, w[e]);
},
inlineTags: function k(e, t) {
var n = d({
position: "relative",
textureMode: "contain"
}, w[e]);
return n.marginLeft *= t, n;
},
inlineTagBasic: {
zOffset: 1,
rotateZ: 5
},
inlineTagAdvanced: {
zOffset: 2,
rotateZ: -10
}
}, C = [ .95, .05, .5, .95 ], E = u(C), I = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
tagIndex: 0
};
}
i(t, e), t.prototype.componentWillMount = function r() {
this.rotationTween = v["default"].tween("0937bba9:79", 0);
}, t.prototype.componentDidMount = function o() {
var e = this;
SpartaGlobals.bundleIsPS4, this.initialFlipTimeoutId = setTimeout(function() {
return e.flip();
}, 1e3);
}, t.prototype.componentWillUnmount = function l() {
clearTimeout(this.initialFlipTimeoutId), this.rotationTween.destroy(), delete this.rotationTween;
}, t.prototype.flip = function u() {
var e = this;
return this.isFlipping ? !1 : (this.isFlipping = !0, void this.displayTag(0).then(function() {
return e.rotateTo(0, 90, C);
}).then(function() {
return e.displayTag(1);
}).then(function() {
return e.rotateTo(90, 0, E);
}).then(function() {
return e.wait(2e3);
}).then(function() {
return e.rotateTo(0, 90, C);
}).then(function() {
return e.displayTag(0);
}).then(function() {
return e.rotateTo(90, 0, E);
}).then(function() {
e.isFlipping = !1;
}));
}, t.prototype.displayTag = function p(e) {
var t = this;
return this.rotationTween ? new Promise(function(n) {
return t.setState({
tagIndex: e
}, n);
}) : Promise.resolve();
}, t.prototype.rotateTo = function c(e, t, n) {
var r = this;
return this.rotationTween ? new Promise(function(o) {
return r.rotationTween.transition(e, t, {
easing: n,
duration: 333
}, o);
}) : Promise.resolve();
}, t.prototype.wait = function h(e) {
return this.rotationTween ? new Promise(function(t) {
return setTimeout(t, e);
}) : Promise.resolve();
}, t.prototype.render = function y() {
var e = this, t = this.props.tags[this.state.tagIndex], n = d({}, T.flippingTags(this.props.size), {
rotateY: this.rotationTween.getStyle(),
texture: t && t.images ? t.images.Small : null
});
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: n,
onClick: function() {
return e.flip();
}
},
_owner: null
},
style: [ T.inlineContainer, this.props.style ]
},
_owner: null
};
};
var n = t;
return t = s("_$FlippingAwards")(t) || t;
}(y["default"].Component), P = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = this, t = this.props.tags.map(function(t, n) {
var r = d({}, T.inlineTags(e.props.size, n), T["inlineTag" + t.tagType.name]);
return {
$$typeof: f,
type: "surface",
key: "tagEquipped" + t.tagType.name,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: {
texture: t.images.Small,
flex: 1,
textureMode: "contain"
}
},
_owner: null
},
style: r
},
_owner: null
};
});
return {
$$typeof: f,
type: m["default"].Col,
key: null,
ref: null,
props: o(m["default"].Col.defaultProps, {
children: t,
style: [ T.inlineContainer, this.props.style ]
}),
_owner: null
};
};
var n = t;
return t = s("_$InlineAwards")(t) || t;
}(y["default"].Component), O = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function o() {
var e = this.props, t = e.type, n = r(e, [ "type" ]);
switch (t) {
case "inline":
return y["default"].createElement(P, n);

case "flipping":
return y["default"].createElement(I, n);
}
};
var n = t;
return t = s("_$AwardEquipped")(t) || t;
}(y["default"].Component);
t["default"] = O, O.propTypes = {
type: y["default"].PropTypes.oneOf([ "inline", "flipping" ]),
size: y["default"].PropTypes.oneOf(Object.keys(w))
}, O.defaultProps = {
type: "inline",
size: "rect"
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return x(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), h = n(1), y = l(h), g = n(4), m = l(g), b = n(2), v = r(b), _ = n(6), S = l(_), w = n(7), T = l(w), C = n(8), E = n(40), I = n(9), P = n(86), O = n(76), A = l(O), k = n(32), R = {
_$VehicleFocusPane: {
displayName: "VehicleFocusPane"
}
}, x = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/VehicleFocusPane.jsx",
components: R,
locals: [],
imports: []
}), M = v.createStyleSheet({
vehicleContainer: {
height: S["default"].getHeight(35)
},
vehicleName: {
marginBottom: S["default"].getHeight(2),
textAlignForRTL: "left"
},
vehicleImage: {
flexDirection: "row",
width: 256,
height: 100,
textureMode: "cover",
textureAlign: [ .5, .5 ],
marginBottom: 2 * S["default"].GUTTER
},
vehicleDescription: {
textLineSpacing: E.LINE_HEIGHTS.S,
marginBottom: 2 * S["default"].GUTTER,
textAlignForRTL: "left"
},
hrLine: {
height: 1,
backgroundColor: "#FFFFFF33",
marginTop: S["default"].getHeight(.5),
marginBottom: S["default"].getHeight(.5)
},
statsLine: {
flexDirection: "row",
justifyContent: "space-between",
marginBottom: S["default"].GUTTER,
alignItems: "center"
},
wideStatsTableKey: {
color: "#ffffff",
width: S["default"].getWidth(3)
},
starContainer: {
zOffset: 10,
flexDirection: "row",
alignItems: "center"
},
star: {
width: S["default"].getHeight(2),
height: S["default"].getHeight(2),
texture: I.bbOfflineUrl("/sparta/assets/ui/icons/ui/small-star-white-b3141b80.png"),
textureMode: "contain",
marginRight: S["default"].GUTTER / 2,
color: "#ff9900"
},
progressInfoWrapper: {
flexDirection: "row",
marginBottom: 2 * S["default"].GUTTER,
marginTop: 2 * S["default"].GUTTER
},
progressData: {
flex: 2,
textAlign: "right"
},
progressLabel: {
flex: 4
}
}), N = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.renderVehicle = function r() {
if (!this.item) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var e = k.isRTLLanguage() ? {
marginRight: S["default"].GUTTER
} : {};
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: [ M.vehicleImage, {
texture: this.item.images.Small
} ]
},
_owner: null
}, {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: this.item.name,
style: M.vehicleName
}),
_owner: null
}, this.item.progression && !this.item.progression.unlocked && this.renderProgression(this.item.progression), this.item.description && {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
size: "S",
value: this.item.description,
style: c({}, M.vehicleDescription, e)
}),
_owner: null
}, this.item.stats && this.item.stats.values && this.renderStats(this.item.stats.values) ]
},
_owner: null
};
}, t.prototype.renderProgression = function l(e) {
var t = e.acquired + "/" + e.needed, n = null;
return this.item.category && (n = (this.item.category + " " + __("ID_SPARTA_CAREER_SCORE")).toLocaleUpperCase()), 
{
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: A["default"],
key: null,
ref: null,
props: o(A["default"].defaultProps, {
width: S["default"].getWidth(this.props.widthGridCells),
height: "M",
backgroundColor: "#FFFFFF66",
completed: e.percent
}),
_owner: null
}, e.needed > 0 && {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: n,
size: "S",
style: M.progressLabel
}),
_owner: null
}, {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: t,
size: "S",
style: M.progressData
}),
_owner: null
} ],
style: M.progressInfoWrapper
},
_owner: null
} ]
},
_owner: null
};
}, t.prototype.renderStars = function u(e) {
var t = 100 === this.vehicle.star.timesAquired, n = t ? "#ff9900" : "ffffff", r = {
star: c({}, M.star, {
color: n
}),
starNumber: {
color: n
}
}, a = c({}, M.statsLine, {
marginBottom: 0
}), i = t ? 100 : this.vehicle.star.timesAquired, s = {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_STARS"),
size: "S"
}),
_owner: null
}, l = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: r.star
},
_owner: null
}, {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
style: r.starNumber,
value: "" + i,
size: "S",
gameId: this.props.gameId
}),
_owner: null
} ],
style: M.starContainer
},
_owner: null
}, u = e ? l : s, p = e ? s : l;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ u, p ],
style: a
},
_owner: null
};
}, t.prototype.renderStats = function p(e) {
var t = k.isRTLLanguage(), n = P.formatThousands(e.kills || 0), r = P.formatThousands(e.destroyed || 0), a = P.formatDecimals(e.seconds / 60, 1), i = [ {
name: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
value: n,
suffix: ""
}, {
name: __("ID_SPARTA_CAREER_DETAILS_DESTROYED"),
value: r,
suffix: ""
}, {
name: __("ID_SPARTA_CAREER_DETAILS_TIME_PLAYED"),
value: a,
suffix: __("ID_SPARTA_DATETIME_MIN")
} ], s = c({}, M.statsLine, {
marginBottom: 0
}), l = [];
return m["default"].map(i, function(e) {
var n = t ? e.value + " " + e.suffix : e.name, r = t ? e.name : e.value + " " + e.suffix, a = t ? null : M.wideStatsTableKey, i = t ? c({}, M.wideStatsTableKey, {
textAlignForRTL: "left"
}) : null;
l.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: M.hrLine
},
_owner: null
}), l.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: n,
size: "S",
style: a
}),
_owner: null
}, {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: r,
style: i,
size: "S"
}),
_owner: null
} ],
style: s
},
_owner: null
});
}), l.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: M.hrLine
},
_owner: null
}), this.item.star && (l.push(this.renderStars(t)), l.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: M.hrLine
},
_owner: null
})), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: l
},
_owner: null
};
}, t.prototype.render = function h() {
return {
$$typeof: f,
type: S["default"].Col,
key: null,
ref: null,
props: o(S["default"].Col.defaultProps, {
children: this.renderVehicle(),
width: this.props.widthGridCells
}),
_owner: null
};
}, d(t, [ {
key: "category",
get: function y() {
return this.props.selectionState.category;
}
}, {
key: "item",
get: function g() {
return this.props.selectionState.item;
}
} ]);
var n = t;
return t = s("_$VehicleFocusPane")(t) || t, t = C.observer(t) || t;
}(y["default"].Component);
t["default"] = N, N.defaultProps = {
widthGridCells: 7
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return A(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(2), g = r(y), m = n(6), b = l(m), v = n(7), _ = l(v), S = n(8), w = n(76), T = l(w), C = n(12), E = l(C), I = n(14), P = l(I), O = {
_$WeaponAccessories: {
displayName: "WeaponAccessories"
},
_$WeaponAccessoriesMatrix: {
displayName: "WeaponAccessoriesMatrix"
},
_$WeaponAccessoryItem: {
displayName: "WeaponAccessoryItem"
}
}, A = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/WeaponAccessories.jsx",
components: O,
locals: [],
imports: []
}), k = g.createStyleSheet({
accessoryContainer: {
marginTop: b["default"].getHeight(4),
marginBottom: b["default"].getHeight(4)
},
accessoryList: {
marginBottom: b["default"].getHeight(4)
},
accessoriesRow: {
flexDirection: "row"
},
accessoryItem: {
flex: 1,
height: b["default"].getHeight(7),
marginRight: 1,
marginBottom: 1,
backgroundColor: "#00000050"
},
accessoryItemEmpty: {
flex: 1,
height: b["default"].getHeight(7),
marginRight: 1,
marginBottom: 1,
backgroundColor: "#00000000"
},
accessoryItemFocused: {
backgroundColor: "#ffffff33"
},
accessoryItemHovered: {
backgroundColor: "#ffffff"
},
accessoriesHeader: {
marginBottom: b["default"].getHeight(2)
},
accessoryItemBlurred: {},
accessoryItemImage: {
zOffset: 1,
position: "absolute",
left: 0,
top: 0,
right: 0,
bottom: 0,
textureMode: "contain"
},
accessoryItemProgressBar: {
position: "absolute",
bottom: 0,
left: 0,
right: 0
},
accessorySpacing: {
marginTop: b["default"].getHeight(1)
},
accessoryImage: {
height: b["default"].getHeight(20),
textureMode: "contain"
},
noLocalBounds: {
localBounds: !1
},
hrLine: {
height: 1,
backgroundColor: "#FFFFFF33",
marginTop: b["default"].getHeight(2),
marginBottom: b["default"].getHeight(2)
},
progressInfoWrapper: {
flexDirection: "row",
marginBottom: b["default"].GUTTER,
marginTop: b["default"].GUTTER
},
progressData: {
flex: 2,
textAlign: "right"
},
progressLabel: {
flex: 4
}
}), R = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = this.setBaseSelection();
}
i(t, e), t.prototype.componentWillReceiveProps = function r(e) {
this.setState(this.setBaseSelection());
}, t.prototype.onSelectAccessory = function l(e, t) {
this.setState({
focusedAccessory: e,
focusedAccessoryIndex: t
});
}, t.prototype.renderProgression = function u(e) {
if (e.unlocked || e.needed <= 1) return null;
var t = e.acquired + "/" + e.needed, n = this.props.weaponName + " " + __("ID_SPARTA_CAREER_KILLS").toLocaleUpperCase();
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
width: this.props.containerWidth,
height: "S",
completed: e.percent
}),
_owner: null
}, e.needed > 0 && {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: n,
size: "S",
style: k.progressLabel
}),
_owner: null
}, {
$$typeof: f,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: t,
size: "S",
style: k.progressData
}),
_owner: null
} ],
style: k.progressInfoWrapper
},
_owner: null
} ],
style: {
marginTop: b["default"].GUTTER
}
},
_owner: null
};
}, t.prototype.renderFocusedAccessory = function p() {
if (!this.state.focusedAccessory) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: k.accessoryContainer
},
_owner: null
};
var e = this.state.focusedAccessory;
return h["default"].createElement("surface", {
ref: "accessoryDescription",
key: "focusedAccessory",
style: k.accessoryContainer
}, {
$$typeof: f,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: e.name,
size: "M",
type: "emphasis"
}),
_owner: null
}, this.renderProgression(e.progression), e.description && {
$$typeof: f,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
value: e.description,
size: "S",
style: k.accessorySpacing
}),
_owner: null
});
}, t.prototype.setBaseSelection = function c() {
return this.props.unselected ? {
focusedAccessory: null,
focusedAccessoryIndex: -1
} : {
focusedAccessory: this.props.accessories[0],
focusedAccessoryIndex: 0
};
}, t.prototype.render = function d() {
for (var e = this, t = 3, n = this.props.containerWidth / t - 2, r = [], a = Math.ceil(this.props.accessories.length / t), i = 0; a > i; i++) {
for (var s = i * t, l = !1, u = [], p = function(t) {
var r = e.props.accessories[t];
r ? u.push({
$$typeof: f,
type: M,
key: t,
ref: null,
props: o(M.defaultProps, {
onSelect: function() {
e.onSelectAccessory(r, t);
},
onEscape: e.props.onEscape,
accessory: r,
isSelected: t === e.state.focusedAccessoryIndex,
width: n,
index: t
}),
_owner: null
}) : u.push({
$$typeof: f,
type: "surface",
key: t,
ref: null,
props: {
style: k.accessoryItemEmpty
},
_owner: null
}), t === e.state.focusedAccessoryIndex && (l = !0);
}, c = s; s + t > c; c++) p(c);
r.push({
$$typeof: f,
type: "surface",
key: "accessoriesRow" + i,
ref: null,
props: {
children: u,
style: [ k.accessoriesRow, k.noLocalBounds ]
},
_owner: null
}), l && r.push(this.renderFocusedAccessory());
}
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: k.hrLine
},
_owner: null
}, {
$$typeof: f,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
type: "emphasis",
size: "S",
value: this.props.title,
style: k.accessoriesHeader
}),
_owner: null
}, h["default"].createElement(x, {
ref: "accessoriesMatrix",
key: "accessories-" + this.props.weaponName,
style: k.accessoryList
}, r) ],
style: [ this.props.style, k.noLocalBounds ]
},
_owner: null
};
};
var n = t;
return t = s("_$WeaponAccessories")(t) || t;
}(h["default"].Component);
t["default"] = R;
var x = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: c({}, this.props.style, k.noLocalBounds)
},
_owner: null
};
};
var n = t;
return t = s("_$WeaponAccessoriesMatrix")(t) || t;
}(h["default"].Component), M = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.focusItem = y.focus.create(this, "accessoryitem"), 
y.focus.onComponentUpdate(this, function(e, t) {
r.focusItem.debugName = "accessoryitem_" + e.index, e.input ? r.focusItem.setClickInput(e.input) : e.onSelect ? SpartaGlobals.bundleIsPC && r.focusItem.setClickInput(new P["default"]({
action: e.onSelect,
label: __("ID_SPARTA_ACTION_SELECT"),
key: E["default"].Accept
})) : console.warn("No action for accessoryitem " + e.index);
}), this.focusItem.onChange.listen(function(e) {
e && y.focus.system.controllerMode && t.onSelect();
});
}
i(t, e), t.prototype.render = function r() {
var e = k.accessoryItemBlurred;
return (this.focusItem.isFocused || this.props.isSelected) && (e = this.focusItem.isFocused ? k.accessoryItemFocused : k.accessoryItemHovered), 
e = c({}, e, {
opacity: this.props.accessory.progression.unlocked ? 1 : .33
}), h["default"].createElement("surface", c({}, this.focusItem.hooks, {
style: [ k.accessoryItem, e ]
}), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, k.accessoryItemImage, {
texture: this.props.accessory.images.Small
})
},
_owner: null
}, {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
width: this.props.width,
height: "S",
style: k.accessoryItemProgressBar,
completed: this.props.accessory.progression.percent
}),
_owner: null
});
};
var n = t;
return t = s("_$WeaponAccessoryItem")(t) || t, t = S.observer(t) || t;
}(h["default"].Component);
e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return D(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(4), h = l(d), y = n(1), g = l(y), m = n(2), b = r(m), v = n(6), _ = l(v), S = n(7), w = l(S), T = n(76), C = l(T), E = n(20), I = l(E), P = n(8), O = n(9), A = n(40), k = n(86), R = n(11), x = n(597), M = l(x), N = n(32), $ = {
_$Weapon: {
displayName: "Weapon"
},
_$WeaponFocusPane: {
displayName: "WeaponFocusPane"
}
}, D = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/components/WeaponFocusPane.jsx",
components: $,
locals: [],
imports: []
}), U = b.createStyleSheet({
weaponImageWrapper: {
height: 180,
justifyContent: "center",
alignItems: "center"
},
weaponImage: {
flexDirection: "row",
height: _["default"].getHeight(15),
width: 256,
textureAlign: [ .5, .5 ]
},
weaponName: {
marginBottom: _["default"].getHeight(2),
textAlignForRTL: "left"
},
weaponDescription: {
textLineSpacing: A.LINE_HEIGHTS.S,
marginBottom: _["default"].getHeight(2),
textAlignForRTL: "left"
},
usageStatsContainer: {
flexDirection: "row",
justifyContent: "space-between"
},
usageStatsHeading: {
marginBottom: 5
},
statsLine: {
flexDirection: "row",
justifyContent: "space-between",
marginBottom: _["default"].GUTTER,
alignItems: "center"
},
statsTableKey: {
color: "#ffffff",
width: 140
},
wideStatsTableKey: {
color: "#ffffff",
width: _["default"].getWidth(3)
},
hrLine: {
height: 1,
backgroundColor: "#FFFFFF33",
marginTop: _["default"].getHeight(.5),
marginBottom: _["default"].getHeight(.5)
},
fireModeContainer: {
flexDirection: "row"
},
fireMode: {
width: 23,
height: 15,
marginLeft: 10,
textureMode: "contain",
textureAlign: [ 0, .5 ],
opacity: .5
},
fireModeEnabled: {
opacity: 1
},
noLocalBounds: {
localBounds: !1
},
warBond: {
texture: O.bbUrl("/sparta/assets/tunguska/icons/icon-warbonds-d313ce05.png"),
height: _["default"].getHeight(3),
width: _["default"].getHeight(3),
marginRight: _["default"].GUTTER
},
starContainer: {
zOffset: 10,
flexDirection: "row",
alignItems: "center"
},
star: {
width: _["default"].getHeight(2),
height: _["default"].getHeight(2),
texture: O.bbOfflineUrl("/sparta/assets/ui/icons/ui/small-star-white-b3141b80.png"),
textureMode: "contain",
marginRight: _["default"].GUTTER / 2,
color: "#ff9900"
},
progressInfoWrapper: {
flexDirection: "row",
marginBottom: 2 * _["default"].GUTTER,
marginTop: _["default"].GUTTER
},
progressData: {
flex: 2,
textAlign: "right"
},
progressLabel: {
flex: 4
}
}), L = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.mapWeaponValues(this.props);
}
i(t, e), t.prototype.componentWillUpdate = function r(e) {
this.mapWeaponValues(e);
}, t.prototype.mapWeaponValues = function l(e) {
var t = k.formatThousands(e.weapon.stats.values.kills), n = k.formatDecimals(e.weapon.stats.values.accuracy, 1), r = k.formatDecimals(e.weapon.stats.values.seconds / 60, 0);
if (this.stats = null, Object.keys(e.weapon.stats.values).length > 0 && (this.stats = [ {
name: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
value: t,
suffix: ""
}, {
name: __("ID_SPARTA_CAREER_WEAPON_ACCURACY"),
value: n,
suffix: "%"
}, {
name: __("ID_SPARTA_CAREER_KILLS_TIME"),
value: r,
suffix: __("ID_SPARTA_DATETIME_MIN")
} ]), this.weaponStats = null, e.weapon.info) {
var o = e.weapon.info;
if (this.weaponStats = [ {
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_DAMAGE"),
value: o.statDamage
}, {
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_ACCURACY"),
value: o.statAccuracy
}, {
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_HIP_FIRE"),
value: o.statMobility
}, {
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_STABILITY"),
value: o.statHandling
}, {
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_CONTROL"),
value: o.statControl
} ], o.rateOfFire > 0 && this.weaponStats.push({
type: "text",
name: __("ID_SPARTA_CAREER_WEAPON_RATE_OF_FIRE"),
value: o.rateOfFire
}), (e.weapon.info.fireModeSingle || e.weapon.info.fireModeBurst || e.weapon.info.fireModeAuto) && this.weaponStats.push({
type: "firemodes",
settings: [ {
enabled: e.weapon.info.fireModeSingle,
image: O.bbUrl("/sparta/assets/career/weapon_single_mode-c13d88f5.png")
}, {
enabled: e.weapon.info.fireModeBurst,
image: O.bbUrl("/sparta/assets/career/weapon_burst_mode-cd3475ca.png")
}, {
enabled: e.weapon.info.fireModeAuto,
image: O.bbUrl("/sparta/assets/career/weapon_auto_mode-46f44ffd.png")
} ]
}), o.ammo > 0 && o.numberOfMagazines > 0) {
var a = parseInt(o.ammo, 10) * o.numberOfMagazines;
this.weaponStats.push({
type: "text",
name: __("ID_SPARTA_CAREER_WEAPON_MAGAZINE_SIZE"),
value: o.ammo + "/" + a
});
}
}
this.levelRequirement = null, e.weapon.progression && !e.weapon.progression.unlocked && (this.levelRequirement = e.weapon.progression.needed), 
this.price = null, e.weapon.price && !e.weapon.progression.unlocked && (this.price = e.weapon.price), 
this.unlocked = !1, e.weapon.progression && (this.unlocked = e.weapon.progression.unlocked), 
this.kit = null, e.weapon.kit && (this.kit = e.weapon.kit), this.star = null, e.weapon.star && (this.star = e.weapon.star);
}, t.prototype.renderUnlockBar = function u() {
var e = this.price, t = this.levelRequirement, n = this.unlocked, r = this.kit;
if (n || !R.gameStore.getGame(this.props.gameId).showUnlockBar) return null;
var a = {
flexDirection: "row",
alignItems: "center",
flex: 1,
zOffset: 1
}, i = f({}, a, {
justifyContent: "space-between",
marginBottom: _["default"].GUTTER,
padding: [ _["default"].GUTTER / 2, _["default"].GUTTER, _["default"].GUTTER / 2, _["default"].GUTTER ],
backgroundColor: t ? "#b9282866" : "#4b9b2d66"
}), s = {
texture: O.bbUrl("/sparta/assets/tunguska/icons/icon-lock-white-242e77e0.png"),
height: _["default"].getHeight(2),
width: _["default"].getHeight(2),
textureMode: "contain",
flex: 1,
zOffset: 1
}, l = {
texture: r.images && r.images.white ? r.images.white : null,
height: _["default"].getHeight(2),
width: _["default"].getHeight(2),
textureMode: "contain",
marginRight: _["default"].GUTTER
}, u = f({}, a, {
justifyContent: "flex-end"
}), p = e && e > 0 ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: U.warBond
},
_owner: null
}, {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
value: e + "",
size: "S"
}),
_owner: null
} ],
style: u
},
_owner: null
} : {
$$typeof: c,
type: "surfacee",
key: null,
ref: null,
props: {
style: a
},
_owner: null
}, d = t ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.kit ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: l
},
_owner: null
} : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
}, {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
value: t + "",
size: "S"
}),
_owner: null
} ],
style: a
},
_owner: null
} : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: a
},
_owner: null
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ d, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: s
},
_owner: null
}, p ],
style: i
},
_owner: null
};
}, t.prototype.renderStars = function p(e) {
var t = 100 === this.star.timesAquired, n = t ? "#ff9900" : "ffffff", r = {
star: f({}, U.star, {
color: n
}),
starNumber: {
color: n
}
}, a = f({}, U.statsLine, {
marginBottom: 0
}), i = t ? 100 : this.star.timesAquired, s = {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_DETAILS_STARS"),
size: "S"
}),
_owner: null
}, l = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: r.star
},
_owner: null
}, {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
style: r.starNumber,
value: "" + i,
size: "S",
gameId: this.props.gameId
}),
_owner: null
} ],
style: U.starContainer
},
_owner: null
}, u = e ? l : s, p = e ? s : l;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ u, p ],
style: a
},
_owner: null
};
}, t.prototype.renderProgressItem = function d(e, t) {
var n = "" + Math.round(100 * e.value), r = {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
size: "S",
value: e.name,
style: {
width: _["default"].getWidth(2),
whiteSpace: "nowrap",
textAlignForRTL: "left"
}
}),
_owner: null
}, a = {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
size: "S",
value: n,
style: {
width: _["default"].getWidth(.5),
whiteSpace: "nowrap"
}
}),
_owner: null
}, i = void 0, s = void 0;
return t ? (i = a, s = r) : (i = r, s = a), s.props.style.textAlign = "right", {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ i, {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
width: 150,
height: "S",
barColor: "#ffffff",
completed: e.value
}),
_owner: null
}, s ],
style: U.statsLine
},
_owner: null
};
}, t.prototype.renderTextItem = function y(e, t) {
var n = t ? "" + e.value : e.name, r = t ? e.name : "" + e.value, a = t ? null : U.wideStatsTableKey, i = t ? f({}, U.wideStatsTableKey, {
textAlignForRTL: "left"
}) : null;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
size: "S",
value: n,
style: a
}),
_owner: null
}, {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
size: "S",
value: r,
style: i
}),
_owner: null
} ],
style: U.statsLine
},
_owner: null
};
}, t.prototype.renderFiremodes = function g(e, t) {
var n = e.settings.map(function(e) {
var t = f({}, U.fireMode, {
texture: e.image,
textAlignForRTL: "left"
});
return e.enabled && (t = f({}, t, U.fireModeEnabled)), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
};
}), r = t ? n : {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_WEAPON_FIRE_MODES"),
style: U.statsTableKey
}),
_owner: null
}, a = t ? {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
size: "S",
value: __("ID_SPARTA_CAREER_WEAPON_FIRE_MODES"),
style: f({}, U.statsTableKey, {
textAlignForRTL: "left"
})
}),
_owner: null
} : n;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ r, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: a,
style: U.fireModeContainer
},
_owner: null
} ],
style: U.statsLine
},
_owner: null
};
}, t.prototype.renderProgression = function m(e) {
if (e.unlocked || e.needed <= 50) return null;
var t = e.acquired + "/" + e.needed, n = null;
return this.props.weapon.category && (n = (this.props.weapon.category + " " + __("ID_SPARTA_CAREER_SCORE")).toLocaleUpperCase()), 
{
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
width: this.props.contentWidth,
height: "S",
completed: e.percent
}),
_owner: null
}, e.needed > 0 && {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
value: n,
size: "S",
style: U.progressLabel
}),
_owner: null
}, {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
value: t,
size: "S",
style: U.progressData
}),
_owner: null
} ],
style: U.progressInfoWrapper
},
_owner: null
} ]
},
_owner: null
};
}, t.prototype.render = function b() {
var e = this, t = [], n = N.isRTLLanguage();
h["default"].each(this.stats, function(e) {
var r = f({}, U.statsLine, {
marginBottom: 0
}), a = n ? e.value + " " + e.suffix : e.name, i = n ? e.name : e.value + " " + e.suffix, s = n ? null : U.statsTableKey, l = n ? f({}, U.statsTableKey, {
textAlignForRTL: "left"
}) : null;
t.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
size: "S",
value: a,
style: s
}),
_owner: null
}, {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
size: "S",
value: i,
style: l
}),
_owner: null
} ],
style: r
},
_owner: null
}), t.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: U.hrLine
},
_owner: null
});
});
var r = [];
this.weaponStats && h["default"].each(this.weaponStats, function(t) {
"progress" === t.type && t.value && t.value > 0 && r.push(e.renderProgressItem(t, n)), 
"text" === t.type && t.value && (t.value > 0 || "" !== t.value) && r.push(e.renderTextItem(t, n)), 
"firemodes" === t.type && r.push(e.renderFiremodes(t, n));
}), this.star && (t.push(this.renderStars(n)), t.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: U.hrLine
},
_owner: null
}));
var a = this.props.weapon, i = a.hires.Png256xANY || a.hires.Small, s = a.description && a.description.toLowerCase() !== a.name.toLowerCase() ? {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
size: "S",
value: a.description,
style: U.weaponDescription
}),
_owner: null
} : null, l = "";
l = R.gameStore.getGame(this.props.gameId).shouldDisplayMedalProgression ? "cover" : "contain";
var u = n ? {
marginRight: _["default"].GUTTER
} : {};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderUnlockBar(), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ U.weaponImage, {
texture: i,
textureMode: l
} ]
},
_owner: null
},
style: U.weaponImageWrapper
},
_owner: null
}, {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
size: "M",
value: a.name,
style: U.weaponName
}),
_owner: null
}, this.renderProgression(a.progression), s, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: U.hrLine
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: t
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: r,
style: {
marginTop: _["default"].GUTTER
}
},
_owner: null
} ],
style: f({}, this.props.style, u)
},
_owner: null
};
};
var n = t;
return t = s("_$Weapon")(t) || t;
}(g["default"].Component), F = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.focusAncestor = b.focus.createAncestor("weaponfocuspane"), 
b.focus.system.onInvalidQuery.listen(function(e) {
r.focusAncestor.hasFocusedChild || e.reportInvalid(r.focusAncestor.getChildren());
});
}
i(t, e), t.prototype.componentWillUnmount = function r() {
this.focusAncestor.destroy();
}, t.prototype.render = function o() {
var e = this.props.selectionState.item;
if (!e) return null;
var t = this.props.widthGridCells, n = _["default"].getWidth(t), r = e.accessories[0].length > 0 && "ID_P_CAT_GADGET" !== e.categoryId, o = e.accessories[1].length > 0 && "ID_P_CAT_GADGET" !== e.categoryId;
return g["default"].createElement("surface", this.focusAncestor.hooks, g["default"].createElement(L, {
ref: "weapon",
key: "weapon",
contentWidth: n,
gameId: this.props.gameId,
weapon: e
}), r && g["default"].createElement(M["default"], {
key: "progressAccessories",
ref: "progressAccessories",
containerWidth: n,
weaponName: e.name,
title: __("ID_SPARTA_CAREER_WEAPON_ACCESSORIES"),
accessories: e.accessories[0],
onEscape: this.props.onEscape
}), o && g["default"].createElement(M["default"], {
key: "bpAccessories",
ref: "bpAccessories",
containerWidth: n,
unselected: !0,
weaponName: e.name,
title: __("ID_SPARTA_CAREER_WEAPON_ACCESSORIES_BP"),
accessories: e.accessories[1],
onEscape: this.props.onEscape
}));
};
var n = t;
return t = s("_$WeaponFocusPane")(t) || t, t = I["default"]()(t) || t, t = P.observer(t) || t;
}(g["default"].Component);
F.defaultProps = {
widthGridCells: 7
}, t["default"] = F, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
var r = n(4), o = n(600), a = o.transform(function(e) {
var t = {}, n = r.keys(e);
return r.each(n, function(n) {
var o = e[n];
t[n] = {
left: [],
right: []
};
var a = t[n];
r.each(o, function(e) {
var t = !1, n = !1;
r.each(e.items, function(r) {
"basic" === r.type.toLowerCase() ? (t || (a.left.push({
items: [],
name: e.name,
sortOrder: e.sortOrder
}), t = !0), a.left[a.left.length - 1].items.push(r)) : (n || (a.right.push({
items: [],
name: e.name,
sortOrder: e.sortOrder
}), n = !0), a.right[a.right.length - 1].items.push(r));
});
});
}), t;
});
e.exports = a;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
u.merge(e), p.trigger(u.getState());
}
var a = n(15), i = r(a), s = n(369), l = n(24), u = new l("DogtagStore"), p = i["default"].createStore({
init: function c() {
s.listen(function(e, t) {
var n = {};
n[e] = t, o(n);
});
},
getState: function f() {
return u.getState();
}
});
e.exports = p;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
u.merge(e), p.trigger(u.getState());
}
var a = n(15), i = r(a), s = n(370), l = n(24), u = new l("KitWeapon"), p = i["default"].createStore({
init: function c() {
s.listen(function(e, t) {
var n = {};
n[e] = t, o(n);
});
},
getState: function f() {
return u.getState();
}
});
e.exports = p;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
u.merge(e), p.trigger(u.getState());
}
var a = n(15), i = r(a), s = n(371), l = n(24), u = new l("StatsStore"), p = i["default"].createStore({
init: function c() {
s.listen(function(e, t) {
var n = {};
n[e] = t, o(n);
});
},
getState: function f() {
return u.getState();
}
});
e.exports = p;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
u.merge(e), p.trigger(u.getState());
}
var a = n(15), i = r(a), s = n(372), l = n(24), u = new l("VehicleStore"), p = i["default"].createStore({
init: function c() {
s.listen(function(e, t) {
var n = {};
n[e] = t, o(n);
});
},
getState: function f() {
return u.getState();
}
});
e.exports = p;
}, function(e, t) {
function n(e) {
e.name && (this.name = e.name), e.progression && (this.progression = e.progression), 
e.weapons && (this.items = e.weapons), e.images && (this.images = e.images);
}
e.exports = n;
}, function(e, t) {
function n(e) {
this.images = e.images || {}, this.id = e.id, e.name && (this.name = e.name), e.stats && (this.stats = e.stats), 
e.progression && (this.progression = e.progression), e.star && (this.star = e.star), 
e.packages && (this.packages = e.packages), e.description && (this.description = e.description);
}
e.exports = n;
}, function(e, t) {
function n(e) {
e.name && (this.name = e.name), this.images = e.images || {}, e.items && (this.items = e.items), 
e.star && (this.star = e.star), this.stats = e.stats || {}, e.vehicles && (this.vehicles = e.vehicles), 
e.sortOrder && (this.sortOrder = e.sortOrder);
}
t.__esModule = !0, t["default"] = n, e.exports = t["default"];
}, function(e, t) {
function n(e) {
this.code = e.code, this.images = e.images || {}, this.hires = e.hires || {}, e.description && (this.description = e.description), 
e.name && (this.name = e.name), e.stats && (this.stats = e.stats), e.info && (this.info = e.info), 
e.price && (this.price = e.price), e.star && (this.star = e.star), e.progression && (this.progression = e.progression), 
e.accessories && (this.accessories = e.accessories), e.kit && (this.kit = e.kit), 
e.category && (this.category = e.category), e.categoryId && (this.categoryId = e.categoryId);
}
e.exports = n;
}, function(e, t) {
function n(e) {
e.name && (this.name = e.name), e.items && (this.items = e.items), e.categoryId && (this.categoryId = e.categoryId);
}
e.exports = n;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return function(t) {
return Y(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e, t) {
return g["default"].some(e, function(e) {
return t && t.hasOwnProperty("code") ? e.unlockId === t.code : !1;
});
}
var u = n(3), p = s(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(8), y = n(4), g = s(y), m = n(203), b = s(m), v = n(373), _ = s(v), S = n(161), w = s(S), T = n(16), C = s(T), E = n(20), I = s(E), P = n(14), O = s(P), A = n(12), k = s(A), R = n(306), x = s(R), M = n(23), N = s(M), $ = n(6), D = s($), U = n(369), L = s(U), F = n(592), G = s(F), j = n(599), B = s(j), H = n(11), V = n(130), z = s(V), W = n(154), q = n(28), K = s(q), X = {
_$CareerDogtags: {
displayName: "CareerDogtags"
}
}, Y = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerDogtags.jsx",
components: X,
locals: [],
imports: []
}), J = h.observer(function(e) {
var t = e.selectionState.item, n = e.gameId, r = e.equipping, o = e.career && e.career.equippedDogtags ? l(e.career.equippedDogtags, t) : !1;
if (t && t.progression && t.progression.unlocked && SpartaGlobals.bundleIsPC) {
var i = __(o ? "ID_SPARTA_CAREER_DOGTAGS_EQUIPPED" : "ID_SPARTA_ACTION_EQUIP");
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: N["default"],
key: null,
ref: null,
props: a(N["default"].defaultProps, {
textSize: "S",
disabled: o || r,
text: i,
action: function() {
return e.doEquip(n, t);
},
style: {
width: D["default"].getWidth(6),
marginTop: D["default"].getHeight(2),
textAlignForRTL: "left"
}
}),
_owner: null
}
},
_owner: null
};
}
return null;
}), Q = function(e) {
function t() {
r(this, n), e.call(this), this.selectionState = new W.CareerSelectionState(), this.state = {
equipping: !1
};
}
o(t, e), t.prototype.componentWillMount = function s() {
this.subscribeToStores({
career: K["default"](z["default"], "gameStats", this.props.viewLocation.args.gameId)
});
}, t.prototype.componentDidMount = function u() {
L["default"].trigger(this.props.viewLocation.args.gameId);
}, t.prototype.getTabs = function p() {
var e = this, t = this.props.viewLocation.args.gameId, n = H.gameStore.getGame(t).dogtagsConfig, r = this.state.dogtags[t], o = this.state.career && this.state.career.equippedDogtags;
return n || (console.error("Dogtags config for " + t + " not present"), n = {
getLeft: function a() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_LEFT");
},
getRight: function i() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_RIGHT");
}
}), [ {
name: "left",
title: n.getLeft(),
component: w["default"],
onSelect: function s() {
e.selectionState.setActiveItem();
},
props: {
gameId: t,
ref: "careerSection",
onlyPreselectCategory: !0,
selectionState: this.selectionState,
categorizedData: r ? r.left : [],
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this),
preSelectedId: o && 2 === o.length ? o[0].unlockId + "" : null
}
}, {
name: "right",
title: n.getRight(),
component: w["default"],
onSelect: function l() {
e.selectionState.setActiveItem();
},
props: {
gameId: t,
ref: "careerSection",
onlyPreselectCategory: !0,
selectionState: this.selectionState,
categorizedData: r ? r.right : [],
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this),
preSelectedId: o && 2 === o.length ? o[1].unlockId + "" : null
}
} ];
}, t.prototype.equipDogtag = function f(e, t) {
var n = this;
this.setState({
equipping: !0
}), G["default"].trigger(e, t);
var r = G["default"].listen(function() {
r(), n.setState({
equipping: !1
});
});
}, t.prototype.renderItem = function y(e, t, n, r, o) {
var a = this, i = this.state.career && this.state.career.equippedDogtags ? l(this.state.career.equippedDogtags, t) : !1;
return this.action = t.progression && t.progression.unlocked && !this.state.equipping && !i ? new O["default"]({
label: __("ID_SPARTA_ACTION_EQUIP"),
key: k["default"].Option1,
action: function s() {
a.equipDogtag(a.props.viewLocation.args.gameId, a.selectionState.item);
}
}) : null, d["default"].createElement(b["default"], {
awardCount: t.timesTaken,
awardImage: t.images.Small,
style: e,
atlas: "DogtagsAtlas",
ref: "item" + n,
itemState: this.selectionState.getItemState(n),
checked: i,
unlocked: t.progression && t.progression.unlocked,
onFocus: o,
input: SpartaGlobals.bundleIsConsole ? this.action : null
});
}, t.prototype.renderFocusPane = function g() {
var e = this;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: _["default"],
key: null,
ref: null,
props: a(_["default"].defaultProps, {
selectionState: this.selectionState,
widthGridCells: 6,
showProgressBar: !1,
showProgressNumbers: !1,
gameId: this.props.gameId
}),
_owner: null
}, {
$$typeof: c,
type: J,
key: null,
ref: null,
props: a(J.defaultProps, {
gameId: this.props.viewLocation.args.gameId,
selectionState: this.selectionState,
career: this.state.career,
action: this.action,
equipping: this.state.equipping,
doEquip: function(t, n) {
return e.equipDogtag(t, n);
}
}),
_owner: null
} ]
},
_owner: null
};
}, t.prototype.render = function m() {
return this.state.dogtags && H.gameStore.games ? {
$$typeof: c,
type: x["default"],
key: null,
ref: null,
props: a(x["default"].defaultProps, {
topGutter: !1,
tabs: this.getTabs()
}),
_owner: null
} : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
};
var n = t;
return t = i("_$CareerDogtags")(t) || t, t = C["default"]({
dogtags: B["default"]
})(t) || t, t = I["default"]()(t) || t, t = h.observer(t) || t;
}(d["default"].Component);
t["default"] = Q, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return O(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(33), h = s(d), y = n(161), g = s(y), m = n(203), b = s(m), v = n(373), _ = s(v), S = n(16), w = s(S), T = n(11), C = n(154), E = n(368), I = s(E), P = {
_$CareerMedals: {
displayName: "CareerMedals"
}
}, O = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerMedals.jsx",
components: P,
locals: [],
imports: []
}), A = n(255), k = n(204), R = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.selectionState = new C.CareerSelectionState();
}
a(t, e), t.prototype.componentDidMount = function s() {
A.trigger(this.props.viewLocation.args.gameId), I["default"].medalsPageVisited();
}, t.prototype.renderCategoryInfo = function l(e) {
return e && e.infoComponent ? f["default"].createElement(e.infoComponent) : void 0;
}, t.prototype.renderItem = function u(e, t, n, r, o, a) {
var i = !0, s = this.props.viewLocation.args.gameId;
return T.gameStore.getGame(s).shouldDisplayMedalProgression || (i = "WEEKLY" === a.id), 
f["default"].createElement(b["default"], {
awardImage: t.images.Small,
style: e,
atlas: "AwardsAtlas",
stages: t.stages,
ref: "item" + n,
dependencies: t.dependencies,
itemState: this.selectionState.getItemState(n),
checked: t.equipped,
unlocked: t.progression && t.progression.unlocked,
dependencyAcquired: t.progression && t.progression.acquired,
dependencyNeeded: t.progression && t.progression.needed,
progressPercent: i ? t.progression && t.progression.percent : null,
onFocus: o
});
}, t.prototype.renderFocusPane = function c(e) {
return f["default"].createElement(_["default"], {
ref: "focuspane",
selectionState: this.selectionState,
widthGridCells: e,
showProgressBar: !0,
gameId: this.props.viewLocation.args.gameId
});
}, t.prototype.render = function d() {
var e = this.state.medals[this.props.viewLocation.args.gameId] || [];
return {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
children: {
$$typeof: p,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
gameId: this.props.viewLocation.args.gameId,
preSelectedId: this.props.viewLocation.args.id,
categorizedData: e,
selectionState: this.selectionState,
renderCategoryInfo: this.renderCategoryInfo.bind(this),
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this)
}),
_owner: null
},
tallContent: !0,
scrollContent: !1
}),
_owner: null
};
};
var n = t;
return t = i("_$CareerMedals")(t) || t, t = w["default"]({
medals: k
})(t) || t;
}(f["default"].Component);
t["default"] = R, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return oe(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = e.heading, n = e.value, o = e.valueElement, a = e.small, i = void 0 === a ? !1 : a, s = e.size, l = void 0 === s ? i ? "S" : "XL" : s;
return function() {
var e = i, a = i ? _["default"].GUTTER : 2 * _["default"].GUTTER;
"number" == typeof n && (n = Q.formatThousands(n)), o || (o = {
$$typeof: f,
type: H["default"],
key: null,
ref: null,
props: r(H["default"].defaultProps, {
value: n + ""
}),
_owner: null
}), o = m["default"].cloneElement(o, {
size: l,
style: se.statsValue
});
var s = d({}, se.statsItem, {
alignItems: e ? "center" : "flex-start"
}), u = d({}, se.statsHeading, {
marginBottom: a
});
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: H["default"],
key: null,
ref: null,
props: r(H["default"].defaultProps, {
value: t.toUpperCase(),
style: u,
size: "XS"
}),
_owner: null
}, o ],
style: s
},
_owner: null
};
}();
}
function u(e) {
var t = e.stats;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: _["default"].Row,
key: null,
ref: null,
props: r(_["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
heading: __("ID_SPARTA_CAREER_DETAILS_WINS"),
value: t.winPercentage + "%"
}),
_owner: null
}, {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
heading: __("ID_SPARTA_CAREER_TIME"),
valueElement: {
$$typeof: f,
type: z["default"],
key: null,
ref: null,
props: r(z["default"].defaultProps, {
timePlayed: t.timePlayed,
unit: "hours"
}),
_owner: null
}
}),
_owner: null
}, {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
heading: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
value: t.kills
}),
_owner: null
} ],
style: se.statsRow
}),
_owner: null
}, {
$$typeof: f,
type: _["default"].Row,
key: null,
ref: null,
props: r(_["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
heading: __("ID_SPARTA_CAREER_DETAILS_SPM"),
value: t.spm
}),
_owner: null
}, {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
heading: __("ID_SPARTA_CAREER_DETAILS_KPM"),
value: t.kpm
}),
_owner: null
}, {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
heading: __("ID_SPARTA_CAREER_DETAILS_KD"),
value: t.kdRatio
}),
_owner: null
} ],
style: d({}, se.statsRow, {
marginBottom: 0
})
}),
_owner: null
} ],
style: se.statsSummary
},
_owner: null
};
}
var p = n(3), c = s(p);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = n(4), y = s(h), g = n(1), m = s(g), b = n(2), v = n(6), _ = s(v), S = n(130), w = s(S), T = n(48), C = s(T), E = n(103), I = s(E), P = n(73), O = n(66), A = n(301), k = s(A), R = n(77), x = s(R), M = n(17), N = s(M), $ = n(16), D = s($), U = n(14), L = s(U), F = n(12), G = s(F), j = n(11), B = n(7), H = s(B), V = n(220), z = s(V), W = n(33), q = s(W), K = n(18), X = s(K), Y = n(13), J = s(Y), Q = n(86), Z = n(80), ee = s(Z), te = n(354), ne = n(8), re = {
_$GameCard: {
displayName: "GameCard"
},
_$CareerOverview: {
displayName: "CareerOverview"
}
}, oe = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerOverview.jsx",
components: re,
locals: [],
imports: []
}), ae = {
position: "absolute",
bottom: 0,
left: 0,
right: 0
}, ie = X["default"].content.height - X["default"].tallContent.height;
SpartaGlobals.bundleIsPC && (ie *= .66);
var se = {
leftContainer: {
width: _["default"].getWidth(8),
height: ie,
marginRight: _["default"].getWidth(1) + 2 * _["default"].GUTTER
},
cardCarousel: {
width: _["default"].getWidth(15),
height: ie
},
card: {
width: _["default"].getWidth(5),
height: ie
},
cardLogo: {
width: _["default"].getWidth(3),
height: _["default"].getHeight(4),
marginBottom: _["default"].getHeight(4),
textureMode: "contain"
},
cardContent: {
flex: 1,
alignItems: "center",
justifyContent: "center"
},
cardBadgeContainer: {
height: _["default"].getHeight(10),
margin: 2 * _["default"].GUTTER,
zOffset: 40
},
cardStats: d({
zOffset: 1e3,
padding: _["default"].getWidth(.5)
}, ae),
sellText: {
marginTop: -_["default"].getHeight(2)
},
avatar: {
width: _["default"].getWidth(3),
height: _["default"].getWidth(3),
backgroundColor: "#ffffff11"
},
userName: {
marginTop: 3 * _["default"].GUTTER,
marginBottom: _["default"].getHeight(10)
},
statsSummary: d({}, ae),
statsRow: {
marginBottom: _["default"].getHeight(4)
},
statsItem: {
flex: 1,
marginRight: _["default"].GUTTER
},
statsHeading: {
color: "#888888",
marginBottom: 2 * _["default"].GUTTER
},
statsValue: {
color: "#ffffff"
}
}, le = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = b.focus.create(this, "gamecard"), 
this.focusItem.autoFocusCandidate = !0, b.focus.onComponentUpdate(this, function(e, t) {
r.focusItem.setActive("46268e4b:123", r.areLinksEnabled(e));
});
}
a(t, e), t.prototype.areLinksEnabled = function s(e) {
return !1;
}, t.prototype.render = function u() {
var e = this.props, t = e.game, n = e.stats, o = e.isOwned, a = this.areLinksEnabled(this.props) && [ new L["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: G["default"].Accept,
action: o ? function() {
return N["default"].gotoLocation("career/" + t.gameId);
} : function() {
return N["default"].gotoLocation(t.storeConfig.route);
}
}) ], i = n && {
$$typeof: f,
type: _["default"].Row,
key: null,
ref: null,
props: r(_["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
small: !0,
heading: __("ID_SPARTA_CAREER_DETAILS_WINS"),
value: n.winPercentage + "%"
}),
_owner: null
}, {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
small: !0,
heading: __("ID_SPARTA_CAREER_TIME"),
valueElement: {
$$typeof: f,
type: z["default"],
key: null,
ref: null,
props: r(z["default"].defaultProps, {
timePlayed: n.timePlayed,
unit: "hours"
}),
_owner: null
}
}),
_owner: null
}, {
$$typeof: f,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
small: !0,
heading: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
value: n.kills
}),
_owner: null
} ],
style: se.cardStats
}),
_owner: null
}, s = {
$$typeof: f,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
gameId: t.gameId,
badgeSize: se.cardBadgeContainer.height,
align: t.styles.alignBadgeInfo,
bottomInfoScale: 1,
skipAnimation: !0
}),
_owner: null
};
t.isEnabled ? o || (s = {
$$typeof: f,
type: H["default"],
key: null,
ref: null,
props: r(H["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_CARD_GETITNOW").toUpperCase(),
size: "S",
section: t.gameId,
style: se.sellText
}),
_owner: null
}) : s = {
$$typeof: f,
type: H["default"],
key: null,
ref: null,
props: r(H["default"].defaultProps, {
value: __("ID_SPARTA_MENU_DISABLED_LABEL").toUpperCase(),
size: "S",
section: t.gameId,
style: se.sellText
}),
_owner: null
};
var u = d({}, se.card, {
opacity: J["default"].tweenSwitch(o ? 1 : .5, 1, this.focusItem.isFocused, J["default"].presets.focusables.enter.fast, J["default"].presets.focusables.leave)
});
return {
$$typeof: f,
type: O.BasicCard,
key: null,
ref: null,
props: r(O.BasicCard.defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: d({}, se.cardLogo, {
texture: t.logoUrl
})
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: s,
style: se.cardBadgeContainer
},
_owner: null
}, i ],
style: se.cardContent
},
_owner: null
},
enabled: this.areLinksEnabled(this.props),
useGrayScale: !(o && t.isEnabled),
background: t.tallCardImage.normal,
input: a,
style: u,
focusItem: this.focusItem
}),
_owner: null
};
};
var n = t;
return t = i("_$GameCard")(t) || t, t = ne.observer(t) || t;
}(m["default"].Component), ue = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.fetchCareer();
}, t.prototype.componentWillUpdate = function l(e, t) {
this.fetchCareer(t);
}, t.prototype.fetchCareer = function p() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? this.state : arguments[0];
if (e.games && e.entitlements) {
var t = y["default"].compact(y["default"].map(e.games, function(t, n) {
var r = e.entitlements.ownsGame(n);
return r ? n : null;
}));
te.careerFetchingState.addGamesToFetch(t);
}
}, t.prototype.render = function c() {
var e = this, t = this.state.sessionUser || new x["default"](), n = this.state.career || {}, o = y["default"].map(j.gameStore.games.toJS(), function(t, o) {
var a = e.state.entitlements.ownsGame(o), i = n.gameStats[o];
return {
$$typeof: f,
type: le,
key: o,
ref: null,
props: r(le.defaultProps, {
game: t,
stats: i,
isOwned: a
}),
_owner: null
};
}), a = n.stats && {
$$typeof: f,
type: u,
key: null,
ref: null,
props: r(u.defaultProps, {
stats: this.state.career.stats
}),
_owner: null
};
return {
$$typeof: f,
type: q["default"],
key: null,
ref: null,
props: r(q["default"].defaultProps, {
children: {
$$typeof: f,
type: _["default"].Row,
key: null,
ref: null,
props: r(_["default"].Row.defaultProps, {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {
user: t,
style: se.avatar
}),
_owner: null
}, {
$$typeof: f,
type: H["default"],
key: null,
ref: null,
props: r(H["default"].defaultProps, {
value: t.displayName,
style: se.userName,
size: "L",
type: "emphasis"
}),
_owner: null
}, a ],
style: se.leftContainer
},
_owner: null
}, {
$$typeof: f,
type: P.CardCarousel,
key: null,
ref: null,
props: r(P.CardCarousel.defaultProps, {
children: o,
style: se.cardCarousel,
width: se.cardCarousel.width
}),
_owner: null
} ],
style: {
flex: 1
}
}),
_owner: null
},
tallContent: !0,
clipContent: !1
}),
_owner: null
};
};
var n = t;
return t = i("_$CareerOverview")(t) || t, t = D["default"]({
career: w["default"],
entitlements: ee["default"],
sessionUser: C["default"]
})(t) || t, t = ne.observer(t) || t;
}(m["default"].Component);
t["default"] = ue, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return x(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(104), h = s(d), y = n(16), g = s(y), m = n(33), b = s(m), v = n(203), _ = s(v), S = n(596), w = s(S), T = n(161), C = s(T), E = n(154), I = n(18), P = s(I), O = n(58), A = s(O), k = n(11), R = {
_$CareerVehicles: {
displayName: "CareerVehicles"
}
}, x = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerVehicles.jsx",
components: R,
locals: [],
imports: []
}), M = n(372), N = n(603), $ = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.selectionState = new E.CareerSelectionState();
}
a(t, e), t.prototype.componentDidMount = function s() {
var e = this.props.viewLocation.args.gameId, t = k.gameStore.getGame(e).showCategorizationForVehicles;
M.trigger(e, t);
}, t.prototype.renderItem = function l(e, t, n, r, o) {
return f["default"].createElement(_["default"], {
awardImage: t.images.Small,
itemState: this.selectionState.getItemState(n),
style: e,
ref: "item" + n,
star: t.star,
activeColor: "#000000",
unlocked: t.progression && t.progression.unlocked,
progressPercent: t.progression && (t.progression.percent || t.progression.unlocked),
onFocus: o
});
}, t.prototype.renderFocusPane = function u(e) {
return f["default"].createElement(w["default"], {
ref: "focuspane",
widthGridCells: e,
selectionState: this.selectionState,
gameId: this.props.viewLocation.args.gameId
});
}, t.prototype.render = function c() {
var e = this.props.viewLocation.args.gameId, t = this.state.vehicles[e] || [], n = k.gameStore.getGame(e).showCategorizationForVehicles, o = null;
return o = 0 === t.length ? {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
children: {
$$typeof: p,
type: A["default"],
key: null,
ref: null,
props: r(A["default"].defaultProps, {
autoRun: !0,
size: 50
}),
_owner: null
}
}),
_owner: null
} : {
$$typeof: p,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
gameId: this.props.viewLocation.args.gameId,
preSelectedId: this.props.viewLocation.args.id,
categorizedData: t,
selectionState: this.selectionState,
showCategorization: n,
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this),
ensureItemFocus: !0
}),
_owner: null
}, {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: o,
style: {
height: P["default"].content.height
}
},
_owner: null
},
tallContent: !0,
scrollContent: !1
}),
_owner: null
};
};
var n = t;
return t = i("_$CareerVehicles")(t) || t, t = g["default"]({
vehicles: N
})(t) || t;
}(f["default"].Component);
t["default"] = $, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return B(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(8), y = n(16), g = s(y), m = n(33), b = s(m), v = n(598), _ = s(v), S = n(203), w = s(S), T = n(161), C = s(T), E = n(154), I = n(7), P = s(I), O = n(6), A = s(O), k = n(76), R = s(k), x = n(104), M = s(x), N = n(18), $ = s(N), D = n(9), U = n(58), L = s(U), F = n(86), G = n(340), j = {
_$CareerWeaponsGadgets: {
displayName: "CareerWeaponsGadgets"
}
}, B = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-career/src/views/CareerWeaponsGadgets.jsx",
components: j,
locals: [],
imports: []
}), H = n(370), V = n(593), z = n(601), W = {
header: {
flex: 1,
flexDirection: "row",
alignItems: "center",
justifyContent: "flex-end"
},
headerText: {
marginRight: A["default"].GUTTER
},
warBond: {
texture: D.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-warbonds-d313ce05.png"),
height: A["default"].getHeight(3),
width: A["default"].getHeight(3),
marginRight: A["default"].GUTTER,
marginLeft: A["default"].GUTTER
}
}, q = {
container: {
flexDirection: "row",
alignItems: "center",
marginBottom: 2 * A["default"].GUTTER
},
rankImage: {
width: 3 * A["default"].GUTTER,
height: 3 * A["default"].GUTTER,
marginRight: A["default"].GUTTER
},
text: {
marginRight: A["default"].GUTTER
},
progressBar: {
texture: D.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
marginRight: A["default"].GUTTER,
marginTop: 2
},
arrowImage: {
width: 1.5 * A["default"].GUTTER * .4,
height: 1.5 * A["default"].GUTTER,
texture: D.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-kitrank-progress-a5192751.png"),
marginRight: A["default"].GUTTER
},
progressText: {
marginLeft: A["default"].GUTTER
}
}, K = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.selectionState = new E.CareerSelectionState();
}
a(t, e), t.prototype.componentDidMount = function s() {
H.trigger(this.props.viewLocation.args.gameId), V.trigger(this.props.viewLocation.args.gameId);
}, t.prototype.renderCategoryInfo = function l(e) {
if (!e || !e.progression) return null;
var t = 10, n = e.progression, o = n.left / n.right, a = e.images && {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, q.rankImage, {
texture: e.images.white
})
},
_owner: null
}, i = n.rank < t && [ {
$$typeof: c,
type: "surface",
key: "arrow",
ref: null,
props: {
style: q.arrowImage
},
_owner: null
}, {
$$typeof: c,
type: P["default"],
key: "nextRank",
ref: null,
props: r(P["default"].defaultProps, {
size: "S",
value: "" + (n.rank + 1),
style: q.text
}),
_owner: null
} ], s = F.formatThousands(n.left) + "/" + F.formatThousands(n.right), l = n.rank < t && [ {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
size: "S",
value: s,
style: [ q.text, q.progressText ]
}),
_owner: null
} ], u = n.rank < t && [ {
$$typeof: c,
type: R["default"],
key: null,
ref: null,
props: r(R["default"].defaultProps, {
backgroundColor: "#ffffff01",
width: A["default"].getWidth(2),
height: "L",
padding: 3,
barColor: "#ffffff",
borderRadius: [ 1, 1, 1, 1 ],
completed: o,
style: q.progressBar
}),
_owner: null
} ];
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
size: "S",
value: "" + n.rank,
style: q.text
}),
_owner: null
}, u, i, l ],
style: q.container
},
_owner: null
};
}, t.prototype.renderItem = function u(e, t, n, r, o) {
return d["default"].createElement(w["default"], {
gameId: this.props.viewLocation.args.gameId,
style: e,
awardImage: t.images.Png256xANY,
ref: "item" + n,
activeColor: "#000000",
star: t.star,
itemState: this.selectionState.getItemState(n),
unlocked: t.progression ? t.progression.unlocked : !1,
showLockIcon: !0,
onSelect: r,
onFocus: o
});
}, t.prototype.renderFocusPane = function f(e, t) {
return d["default"].createElement(_["default"], {
ref: "focuspane",
widthGridCells: e,
onEscape: t,
selectionState: this.selectionState,
gameId: this.props.viewLocation.args.gameId
});
}, t.prototype.renderHeader = function y() {
var e = __("ID_SPARTA_TUNGUSKA_WARBONDS"), t = G.walletStore.getWallet(this.props.viewLocation.args.gameId), n = t && t.getValueOf("cash");
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
size: "S",
value: e.toUpperCase(),
style: W.headerText
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: W.warBond
},
_owner: null
}, {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
size: "S",
value: F.formatThousands(n),
type: "emphasis"
}),
_owner: null
} ],
style: W.header
},
_owner: null
};
}, t.prototype.render = function m() {
var e = this.state.kits[this.props.viewLocation.args.gameId] || [], t = null;
return t = 0 === e.length ? {
$$typeof: c,
type: M["default"],
key: null,
ref: null,
props: r(M["default"].defaultProps, {
children: {
$$typeof: c,
type: L["default"],
key: null,
ref: null,
props: r(L["default"].defaultProps, {
autoRun: !0,
size: 50
}),
_owner: null
}
}),
_owner: null
} : {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
hasCategories: !0,
gameId: this.props.viewLocation.args.gameId,
preSelectedId: this.props.viewLocation.args.id,
preSelectedCategory: this.props.viewLocation.args.category,
categorizedData: e,
sortCategoriesByLabel: !1,
selectionState: this.selectionState,
rowItemLength: 4,
renderCategoryInfo: this.renderCategoryInfo.bind(this),
renderItem: this.renderItem.bind(this),
renderFocusPane: this.renderFocusPane.bind(this)
}),
_owner: null
}, {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: {
height: $["default"].content.height
}
},
_owner: null
},
tallContent: !0,
scrollContent: !1,
header: this.renderHeader()
}),
_owner: null
};
};
var n = t;
return t = i("_$CareerWeaponsGadgets")(t) || t, t = g["default"]({
kits: z
})(t) || t, t = h.observer(t) || t;
}(d["default"].Component);
t["default"] = K, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
e.exports = n(615);
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var r = n(4), o = t(r), a = n(51), i = t(a), s = n(27), l = t(s), u = n(49), p = n(378), c = t(p), f = n(257), d = t(f), h = n(379), y = t(h), g = n(616), m = t(g), b = n(11), v = n(9), _ = n(524);
e.exports = {
types: {
Offer: n(259)
},
actions: {
CommerceActions: i["default"]
},
stores: {
OfferStore: n(122)
},
initialize: function S() {
var e = SpartaGlobals.bundleIsPC ? v.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-e580202a.png") : v.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-15285efc.png"), t = o["default"].map(b.gameStore.games.toJS(), function(e) {
return new u.Route(e.gameId, {
fonts: e.fonts,
backgroundSize: [ 2048, 1200 ],
backgroundUrl: e.defaultBackgroundUrl,
getTitle: function t() {
return e.displayName();
},
args: {
gameId: e.gameId
},
view: n(261)
});
});
l["default"].addRouteConfig(new u.Route("commerce", {
requireOnline: !0,
getTitle: function r() {
return __("ID_SPARTA_MAIN_TITLE_STORE");
},
disabled: !1,
normalIconUrl: e,
skipToFirstChild: !0,
backgroundUrl: v.bbOfflineUrl("/sparta/jsclient/builds/assets/background-generic-0275aa85.dds"),
backgroundSize: [ 4084, 1480 ],
priority: 6,
hideInMainMenu: !0,
children: [ new u.Route("store", {
getTitle: function a() {
return __("ID_SPARTA_MAIN_TITLE_STORE");
},
view: n(621),
children: [].concat(t, [ new u.Route("access", {
getTitle: function i() {
return __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_TAB_ORIGIN_ACCESS" : "ID_SPARTA_TAB_EA_ACCESS");
},
view: n(260),
children: [ new u.Route("play-first", {
getTitle: function s() {
return __("ID_SPARTA_ACCESS_PLAY_FIRST_TRIAL");
},
view: n(385)
}), new u.Route("common-questions", {
getTitle: function p() {
return __("ID_SPARTA_ACCESS_COMMON_QUESTIONS");
},
view: n(384)
}) ]
}) ])
}) ]
})), m["default"](), c["default"].startListening(), d["default"].startListening(), 
y["default"].startListening(), _.ShortcutKitsClient.startListening();
}
};
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
h.RSPResumablePurchasesClient.triggerAsPromise(e).then(function() {
var t = d.rspPurchaseStore.getType(e, y.PurchaseState.Pending);
t instanceof Array && t.forEach(function(e) {
h.RSPCompletePendingPurchaseClient.trigger(e);
});
});
}
function a() {
return g.gameStore.games.values().filter(function(e) {
return e.rspConfig && e.rspConfig.isEnabled();
});
}
var i = n(2), s = n(51), l = r(s), u = n(383), p = r(u), c = n(88), f = r(c), d = n(238), h = n(342), y = n(194), g = n(11), m = n(26), b = r(m), v = n(38), _ = r(v);
e.exports = function() {
i.frostbite.registerMessageListener("sparta.commerceStatusMessage", function(e, t) {
var n = p["default"].get(t.jobId);
n && l["default"].checkoutStatus(t, n);
}), l["default"].showUnavailableStore.listen(function() {
SpartaGlobals.bundleIsPS4 && i.frostbite.sendMessage("sparta.orbis.showUnavailableStore");
}), l["default"].purchasePsPlus.listen(function() {
if (SpartaGlobals.bundleIsPS4) {
i.frostbite.sendMessage("sparta.orbis.purchasePsPlus");
var e = i.frostbite.registerMessageListener("sparta.commerceStatusMessage", function(t, n) {
e(), n.status === n.CHECKOUT_COMPLETED && f["default"].connect();
});
}
}), b["default"].onSessionEstablished.listen(function() {
a().forEach(function(e) {
var t = e.gameId;
o(t);
});
}), l["default"].checkoutCompleted.listen(function(e, t) {
"rsp" === t.group ? o(t.gameId) : "shortcuts" === t.group && _["default"].refreshCareer();
});
};
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return $(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e, t) {
return function(n) {
return e(n, t);
};
}
var p = n(3), c = l(p);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(2), h = r(d), y = n(1), g = l(y), m = n(2), b = n(7), v = l(b), _ = n(23), S = l(_), w = n(6), T = l(w), C = n(378), E = l(C), I = n(17), P = l(I), O = n(47), A = l(O), k = n(25), R = l(k), x = n(58), M = l(x), N = {
_$PopupSuccess: {
displayName: "PopupSuccess"
}
}, $ = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/components/PopupSuccess.jsx",
components: N,
locals: [],
imports: []
}), D = {
header: SpartaGlobals.bundleIsConsole ? "XL" : "XXL",
heading: SpartaGlobals.bundleIsConsole ? "S" : "M",
text: SpartaGlobals.bundleIsConsole ? "S" : "M",
subtext: SpartaGlobals.bundleIsConsole ? "XS" : "S",
fineprint: SpartaGlobals.bundleIsConsole ? "XXS" : "S"
}, U = n(110), L = SpartaGlobals.bundleIsPC ? 1 : .75, F = 33.3 * L, G = 99 * L, j = "commerce/store/access", B = m.createStyleSheet({
container: {
marginTop: T["default"].getHeight(.3 * G),
width: T["default"].getWidth(.6 * F),
alignItems: "center",
alignSelf: "center"
},
buttonContainer: {
paddingBottom: 30,
width: T["default"].getWidth(.3 * F)
},
header: {
alignItems: "center",
marginBottom: 30
},
text: {
alignItems: "center",
marginBottom: 30
},
fineprint: {
alignItems: "center",
marginBottom: 30
},
spinnerContainer: {
alignItems: "center",
position: "absolute",
top: T["default"].getHeight(G / 2),
marginTop: 20,
left: 0,
right: 0,
bottom: 0
}
}), H = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.copy = U.getCopyPage("notifications"), this.state = {
offersLoaded: !1
};
var r = {
component: this
};
E["default"].request({
gameIds: [ "access" ]
}).then(E["default"].parse).then(u(this.createOffersMap, r));
}
i(t, e), t.prototype.componentDidMount = function r() {}, t.prototype.createOffersMap = function l(e, t) {
var n = U.getProperty(e, "offers.access") || [], r = null;
n && n.length > 0 && (r = n), t.component.setState({
offers: r,
offersLoaded: !0
});
}, t.prototype.actionPrimary = function p() {
R["default"].close("confirmPurchasePopup"), this.props.onClose && this.props.onClose();
try {
var e = U.getProperty(this.copy, "welcomeToAccess.button.actionGoto");
if (e) this.handleButtonGoto(e); else {
var t = this.state.offers[0].offerId;
this.openGDPPage(t);
}
} catch (n) {
P["default"].gotoLocation(j);
}
}, t.prototype.actionClose = function c() {
R["default"].close("confirmPurchasePopup"), this.props.onClose && this.props.onClose(), 
this.handleButtonGoto(U.getProperty(this.copy, "welcomeToAccess.button.cancelGoto"));
}, t.prototype.openGDPPage = function d(e) {
e && h.frostbite.sendMessage("sparta.commerceShowDetails", {
offerId: e,
jobId: 0
});
}, t.prototype.handleButtonGoto = function y(e) {
try {
e = (e || "").split("|");
var t = e.shift().toLowerCase() || null, n = e.shift() || null, r = this.state.offers[0].offerId;
switch (t) {
case "sparta":
P["default"].gotoLocation(n || j);
break;

case "gdp":
this.openGDPPage(n || r);
break;

default:
P["default"].gotoLocation(j);
}
} catch (o) {
P["default"].gotoLocation(j);
}
}, t.prototype.showFragment = function m(e, t) {
var n = U.getProperty(this.copy, e) || null;
return null !== n ? {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
value: n,
style: B[t],
size: D[t]
}),
_owner: null
} : [];
}, t.prototype.showMessaging = function b() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.showFragment("welcomeToAccess.header", "header"), this.showFragment("welcomeToAccess.copy", "text"), this.showFragment("welcomeToAccess.subcopy", "fineprint"), this.showInstallButton(), this.showSkipButton() ],
style: B.container
},
_owner: null
};
}, t.prototype.showSkipButton = function _() {
var e = this, t = U.getProperty(this.copy, "welcomeToAccess.button.cancelLabel") || null;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
text: t,
action: function() {
return e.actionClose();
}
}),
_owner: null
},
style: B.buttonContainer
},
_owner: null
};
}, t.prototype.showInstallButton = function w() {
var e = this, t = U.getProperty(this.copy, "welcomeToAccess.button.actionLabel") || null;
return this.state.offers ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
text: t,
action: function() {
return e.actionPrimary();
}
}),
_owner: null
},
style: B.buttonContainer
},
_owner: null
} : void 0;
}, t.prototype.showLoader = function T() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: g["default"].createElement(M["default"], {
ref: "indicator",
size: 50
}),
style: B.spinnerContainer
},
_owner: null
};
}, t.prototype.showContent = function C() {
return this.state.offersLoaded ? this.showMessaging() : this.showLoader();
}, t.prototype.render = function I() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: this.showContent()
},
_owner: null
};
};
var n = t;
return t = s("_$PopupSuccess")(t) || t;
}(g["default"].Component), V = function z() {
return new Promise(function(e) {
R["default"].display(new A["default"]({
content: {
$$typeof: f,
type: H,
key: null,
ref: null,
props: o(H.defaultProps, {
onClose: e
}),
_owner: null
},
id: "confirmPurchasePopup",
fullScreen: !0,
containContent: !1
}));
});
};
t.openPopupSuccess = V;
}, function(e, t) {
function n(e) {
this.jobId = e.jobId, this.purchaseId = e.purchaseId, this.offer = e.offer;
}
e.exports = n;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return G(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(2), y = n(11), g = n(6), m = s(g), b = n(7), v = s(b), _ = n(160), S = n(18), w = s(S), T = n(62), C = s(T), E = n(51), I = s(E), P = n(23), O = s(P), A = n(40), k = n(31), R = n(239), x = n(258), M = s(x), N = n(17), $ = s(N), D = n(122), U = s(D), L = n(136), F = {
_$GameOffer: {
displayName: "GameOffer"
}
}, G = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/GameOffer.jsx",
components: F,
locals: [],
imports: []
}), j = (SpartaGlobals.bundleIsPC, "S"), B = "/store/access/common-questions", H = "/store/access/join-buy", V = n(110), z = {
leftCol: {
width: m["default"].getWidth(1),
paddingRight: m["default"].getWidth(1)
},
mainCol: {
width: m["default"].getWidth(1),
flexWrap: SpartaGlobals.bundleIsPC ? "wrap" : "nowrap",
height: w["default"].content.height
},
rightCol: {
width: m["default"].getWidth(1),
flexWrap: SpartaGlobals.bundleIsPC ? "wrap" : "nowrap",
height: w["default"].content.height
},
gameLogo: {
textureMode: "contain",
textureAlign: [ 0, 0 ],
width: m["default"].getWidth(4),
height: m["default"].getHeight(8),
marginBottom: 3 * m["default"].GUTTER
},
offerDescription: {
textLineSpacing: Math.round(1.2 * A.LINE_HEIGHTS[j])
},
offerImage: {
textureMode: "contain",
width: m["default"].getWidth(6),
height: m["default"].getWidth(9),
textureAlign: [ 0, 0 ]
},
centered: {
flex: 1,
alignItems: "center",
justifyContent: "center",
flexDirection: "row",
width: w["default"].content.width,
height: w["default"].content.height - m["default"].getHeight(10)
},
accessImage: {
position: "absolute",
bottom: SpartaGlobals.bundleIsConsole ? m["default"].GUTTER : m["default"].getHeight(4),
right: SpartaGlobals.bundleIsConsole ? 0 : -m["default"].getWidth(1.25)
},
buttonContainer: {
margin: [ 0, 0, 20, 0 ]
},
bottomSpacer: {
margin: [ 0, 0, 20, 0 ]
},
labelOr: {
margin: [ 0, 0, 20, 0 ],
flexDirection: "row"
},
labelOrHandleBars: {
opacity: .3,
backgroundColor: "#FFFFFF",
flex: 1,
height: 1,
margin: [ 9, 0, 0, 0 ]
},
labelOrHandleBarLeft: {
marginRight: 10
},
labelOrHandleBarRight: {
marginLeft: 10
},
linkText: {
color: "#2bcff7"
}
}, W = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
selectedOfferIndex: 0
}, this.focusAncestor = h.focus.createAncestor("gameoffer"), this.copy = V.getCopyPage("pdp"), 
this.baseRoute = this.props.baseRoute || this.props.gameId;
}
a(t, e), t.prototype.getMenuItems = function s() {
var e = this, t = this.props.offers.map(function(t, n) {
return {
id: n,
label: t.displayName.replace("", ""),
showActiveIndicator: !0,
onClick: function r() {
e.refs.list.setActive(n), e.setState({
selectedOfferIndex: n
});
},
onTrigger: function o() {
e.refs.list.setActive(n), e.setState({
selectedOfferIndex: n
});
}
};
});
return t;
}, t.prototype.getNotification = function l() {
var e = V.getProperty(this.copy, "subscribeAndSave.notification") || "";
return "" === e ? null : SpartaGlobals.bundleIsPC ? {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: e,
style: z.bottomSpacer,
size: "XS"
}),
_owner: null
} : SpartaGlobals.bundleIsXBOXONE ? {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: e,
style: z.bottomSpacer,
size: "XS"
}),
_owner: null
} : void 0;
}, t.prototype.getAccessInfo = function u() {
var e = V.getProperty(this.copy, "subscribeAndSave.accessInfo") || "";
if ("" === e) return null;
var t = U["default"].getAccessOffers();
return 0 === t.length ? null : (e = e.replace("%PRICE%", t[0].price), SpartaGlobals.bundleIsPC ? {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: e,
size: "XS"
}),
_owner: null
} : SpartaGlobals.bundleIsXBOXONE ? {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: e,
style: z.bottomSpacer,
size: "XS"
}),
_owner: null
} : void 0);
}, t.prototype.getAccessLink = function f() {
var e = V.getProperty(this.copy, "subscribeAndSave.accessLinkLabel") || "";
if ("" === e) return null;
var t = this.baseRoute + B;
return SpartaGlobals.bundleIsPC ? {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: e,
style: [ z.bottomSpacer, z.linkText ],
size: "XXS",
onClick: function() {
$["default"].gotoLocation(t);
}
}),
_owner: null
} : SpartaGlobals.bundleIsXBOXONE ? {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: e,
style: z.bottomSpacer,
size: "XS"
}),
_owner: null
} : void 0;
}, t.prototype.getJoinAndBuyButton = function g(e) {
var t = y.gameStore.getGame(this.props.gameId).subscriberAccessFeatureFlagName, n = y.gameStore.getGame(this.props.gameId).subscriberAccessPdpFeatureFlagName;
if (y.settingsStore.isFeatureEnabled(t) && y.settingsStore.isFeatureEnabled(n) && !M["default"].state && !this.ownsGame(e)) {
this.joinAndBuy = !0;
var o = this.props.refCb || function() {}, a = V.getProperty(this.copy, "subscribeAndSave.ctaLabel") || "", i = V.getProperty(this.copy, "subscribeAndSave.dividerLabel") || "";
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.getNotification(), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: d["default"].createElement(O["default"], {
ref: o,
stealFocus: !0,
text: a,
textSize: "S",
action: this.joinAndBuyGame.bind(this, e)
}),
style: z.buttonContainer
},
_owner: null
}, this.getAccessInfo(), this.getAccessLink(), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ z.labelOrHandleBars, z.labelOrHandleBarLeft ]
},
_owner: null
}, {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: i,
size: "XS"
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ z.labelOrHandleBars, z.labelOrHandleBarRight ]
},
_owner: null
} ],
style: [ z.labelOr, this.props.style ]
},
_owner: null
} ]
},
_owner: null
};
}
return null;
}, t.prototype.getBuyButton = function b(e, t) {
var n = this.props.refCb || function() {};
if (this.ownsGame(e) && !t) return d["default"].createElement(O["default"], {
ref: n,
disabled: !0,
text: __("ID_SPARTA_COMMERCE_OFFER_OWNED"),
textSize: "M"
});
var r = this.ownsGame(e) ? __("ID_SPARTA_COMMERCE_OFFER_GAME_INSTALL").toUpperCase() : __("ID_SPARTA_COMMERCE_OFFER_GAME_BUY").toUpperCase() + " " + e.price;
return this.joinAndBuy === !0 ? d["default"].createElement(O["default"], {
ref: n,
text: r,
textSize: "S",
action: this.buyGame.bind(this, e)
}) : d["default"].createElement(O["default"], {
stealFocus: !0,
ref: n,
text: r,
textSize: "S",
action: this.buyGame.bind(this, e)
});
}, t.prototype.showOriginalPrice = function S(e) {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
size: "XS",
value: __("ID_SPARTA_COMMERCE_OFFER_ORIGINAL_PRICE"),
style: {
marginRight: 10
}
}),
_owner: null
}, {
$$typeof: c,
type: L.PS4StoreContent,
key: null,
ref: null,
props: r(L.PS4StoreContent.defaultProps, {
children: {
$$typeof: c,
type: _.Strikethrough,
key: null,
ref: null,
props: r(_.Strikethrough.defaultProps, {
value: e,
size: "XS"
}),
_owner: null
}
}),
_owner: null
} ],
style: {
flexDirection: "row",
marginTop: m["default"].GUTTER,
opacity: 2 / 3
}
},
_owner: null
};
}, t.prototype.ownsGame = function T(e) {
return e.owned || this.props.owned;
}, t.prototype.buyGame = function E(e) {
I["default"].checkout(e);
}, t.prototype.joinAndBuyGame = function P(e) {
$["default"].gotoLocation(this.baseRoute + H);
}, t.prototype.render = function A() {
var e = this.props.offers || [], t = e[this.state.selectedOfferIndex] || null, n = void 0;
this.props.gameId && (n = {
texture: y.gameStore.getGame(this.props.gameId).logoUrl
});
var o = t.backgroundUrl ? t.backgroundUrl : t.images && t.images.length > 0 && t.images[0] || null, a = this.getMenuItems(), i = m["default"].getHeight(52 - 7 * (a.length - 1)), s = m["default"].getWidth(11) + 2 * m["default"].GUTTER + 3;
return {
$$typeof: c,
type: m["default"].Row,
key: null,
ref: null,
props: r(m["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: m["default"].Col,
key: null,
ref: null,
props: r(m["default"].Col.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, z.offerImage, {
texture: o
})
},
_owner: null
},
width: 6
}),
_owner: null
}, {
$$typeof: c,
type: m["default"].Col,
key: null,
ref: null,
props: r(m["default"].Col.defaultProps, {
width: 1
}),
_owner: null
}, {
$$typeof: c,
type: m["default"].Col,
key: null,
ref: null,
props: r(m["default"].Col.defaultProps, {
children: [ this.props.gameId ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, z.gameLogo, n)
},
_owner: null
} : null, d["default"].createElement(C["default"], {
items: a,
ref: "list",
divider: "item",
activeItemId: 0,
forgetItemFocus: !1
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: d["default"].createElement(k.Scroller, {
ref: "scroller",
style: {
height: i,
width: s
},
controller: !0,
softClip: [ 0, m["default"].getHeight(2), 0, m["default"].getHeight(2) ]
}, {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
style: z.offerDescription,
size: j,
value: t.description.longDesc
}),
_owner: null
}),
style: {
marginTop: 2 * m["default"].GUTTER
}
},
_owner: null
} ],
width: 11.5
}),
_owner: null
}, {
$$typeof: c,
type: m["default"].Col,
key: null,
ref: null,
props: r(m["default"].Col.defaultProps, {
width: 1
}),
_owner: null
}, {
$$typeof: c,
type: m["default"].Col,
key: null,
ref: null,
props: r(m["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: L.PS4StoreContent,
key: null,
ref: null,
props: r(L.PS4StoreContent.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.getJoinAndBuyButton(t), this.getBuyButton(t, this.props.isInstallable), null !== t.listPrice ? this.showOriginalPrice(t.listPrice) : null ]
},
_owner: null
}
}),
_owner: null
}, {
$$typeof: c,
type: R.AccessImage,
key: null,
ref: null,
props: r(R.AccessImage.defaultProps, {
style: z.accessImage
}),
_owner: null
} ],
width: 5,
style: {
height: w["default"].content.height
}
}),
_owner: null
} ],
surfaceProps: this.focusAncestor.hooks
}),
_owner: null
};
};
var n = t;
return t = i("_$GameOffer")(t) || t;
}(d["default"].Component);
t["default"] = W, W.propTypes = {
gameId: d["default"].PropTypes.string,
isPremium: d["default"].PropTypes.bool,
isInstallable: d["default"].PropTypes.bool
}, W.defaultProps = {
isPremium: !1,
useImage: !1,
width: m["default"].getWidth(11.4),
isInstallable: !0
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return S(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(33), h = s(d), y = n(7), g = s(y), m = n(6), b = s(m), v = n(40), _ = {
_$JoinBuy: {
displayName: "JoinBuy"
}
}, S = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/JoinBuy.jsx",
components: _,
locals: [],
imports: []
}), w = n(110), T = {
header: "XL",
heading: "M",
text: "M",
subtext: "XS",
fineprint: "XXS"
}, C = {
container: {},
columnRight: {
width: b["default"].getWidth(12)
},
columnLeft: {
width: b["default"].getWidth(12)
},
rowMain: {
height: SpartaGlobals.bundleIsPC ? b["default"].getHeight(88) : b["default"].getHeight(68)
},
header: {
marginBottom: 35
},
heading: {
marginBottom: 15
},
paragraph: {
marginBottom: 25,
textLineSpacing: Math.round(1.2 * v.LINE_HEIGHTS[T.text])
},
surfaceRight: {
padding: [ 0, 30, 0, 0 ],
alignItems: "center"
},
surfaceLeft: {
padding: [ 0, 0, 0, 30 ],
alignItems: "center"
},
surfaceLegal: {
opacity: .6
},
columnBorder: {
position: "absolute",
top: 0,
bottom: 0,
width: 2,
backgroundColor: "#ffffff",
opacity: .2
}
}, E = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.copy = w.getCopyPage("join-buy"), this.settings = w.getCopyPage("settings");
}
a(t, e), t.prototype.render = function s() {
return {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: b["default"].Row,
key: null,
ref: null,
props: r(b["default"].Row.defaultProps, {
children: [ {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: r(b["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
value: "access subscription",
size: T.text
}),
_owner: null
},
style: C.surfaceRight
},
_owner: null
},
style: C.columnRight
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: r(b["default"].Col.defaultProps, {
style: C.columnBorder
}),
_owner: null
}, {
$$typeof: p,
type: b["default"].Col,
key: null,
ref: null,
props: r(b["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
value: "product purchase",
size: T.text
}),
_owner: null
},
style: C.surfaceLeft
},
_owner: null
},
style: C.columnLeft
}),
_owner: null
} ],
style: C.rowMain
}),
_owner: null
},
style: C.container
},
_owner: null
},
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$JoinBuy")(t) || t;
}(f["default"].Component);
t["default"] = E, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return z(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), f = n(1), d = s(f), h = n(4), y = s(h), g = n(2), m = n(10), b = n(8), v = n(16), _ = s(v), S = n(17), w = s(S), T = n(51), C = s(T), E = n(11), I = n(122), P = s(I), O = n(73), A = n(33), k = s(A), R = n(6), x = s(R), M = n(7), N = s(M), $ = n(66), D = n(287), U = s(D), L = n(14), F = s(L), G = n(12), j = s(G), B = n(262), H = s(B), V = {
_$StoreOverview: {
displayName: "StoreOverview"
}
}, z = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-commerce/src/views/StoreOverview.jsx",
components: V,
locals: [],
imports: []
}), W = {
text: {
width: x["default"].getWidth(24),
marginTop: x["default"].GUTTER,
marginBottom: x["default"].GUTTER
}
}, q = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.description = m.observable({
text: ""
});
}
a(t, e), t.prototype.componentWillMount = function s() {
this.recommendedOffers = [], C["default"].updateOffers();
}, t.prototype.componentWillUpdate = function l(e, t) {
var n = t.store.available;
void 0 !== this.state.store.available || void 0 === n || n || C["default"].showUnavailableStore();
}, t.prototype.onGameCardsFocus = function u() {
this.refs.template && this.recommendedOffers.length > 0 && this.refs.template.tiltTo(0, -x["default"].getHeight(32));
}, t.prototype.onGameCardsBlur = function f() {
this.refs.template && this.recommendedOffers.length > 0 && this.refs.template.tiltTo(0, 0);
}, t.prototype.onSelectOffer = function h(e) {
this.updateDescription(e.description.shortDesc);
}, t.prototype.mapOffers = function v() {
var e = [];
for (var t in this.state.store) e.push(this.state.store[t].offers);
return y["default"].flatten(e);
}, t.prototype.mapAvailability = function S() {
var e = [];
for (var t in this.state.store) e.push(this.state.store[t].available);
return y["default"].some(e);
}, t.prototype.mapErrors = function T() {
var e = [];
for (var t in this.state.store) e.push(this.state.store[t].error);
return y["default"].some(e);
}, t.prototype.setRecommendedOffers = function I(e) {
this.recommendedOffers = y["default"].sample(y["default"].filter(e, function(e) {
return !e.owned || e.isRepurchaseable;
}), 11);
}, t.prototype.renderGameCards = function A() {
var e = E.gameStore.games.toJS(), t = y["default"].map(e, function(e, t) {
var n = [ new F["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: j["default"].Accept,
action: function o() {
w["default"].gotoLocation(e.storeConfig.route);
}
}) ];
return {
$$typeof: p,
type: g.Focusable,
key: null,
ref: null,
props: r(g.Focusable.defaultProps, {
children: function a(o) {
return {
$$typeof: p,
type: $.BasicCard,
key: "store-" + t,
ref: null,
props: r($.BasicCard.defaultProps, {
focusItem: o,
input: n,
background: e.storeConfig.image
}),
_owner: null
};
},
debugName: "store_overview_" + e
}),
_owner: null
};
});
return t;
}, t.prototype.renderOffersPC = function R(e) {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: {
flexWrap: "wrap",
flexDirection: "row",
marginRight: 2 * -x["default"].GUTTER
}
},
_owner: null
};
}, t.prototype.renderOffersConsole = function M(e) {
return [ {
$$typeof: p,
type: O.CardCarousel,
key: null,
ref: null,
props: r(O.CardCarousel.defaultProps, {
children: e,
width: x["default"].getWidth(24)
}),
_owner: null
}, {
$$typeof: p,
type: N["default"],
key: null,
ref: null,
props: r(N["default"].defaultProps, {
value: this.description.text,
style: W.text,
size: "S"
}),
_owner: null
} ];
}, t.prototype.renderOffers = function D() {
var e = this, t = this.mapOffers();
0 === this.recommendedOffers.length && this.setRecommendedOffers(t);
var n = y["default"].map(this.recommendedOffers, function(t, n) {
return {
$$typeof: p,
type: g.Focusable,
key: null,
ref: null,
props: r(g.Focusable.defaultProps, {
children: function o(a) {
return a.onFocus(function() {
return e.onSelectOffer(t);
}), a.onBlur(function() {
return e.updateDescription("");
}), {
$$typeof: p,
type: U["default"],
key: "offer" + n,
ref: null,
props: r(U["default"].defaultProps, {
focusItem: a,
recommendation: t,
size: 0 === n ? "L" : "M"
}),
_owner: null
};
},
debugName: "offer-" + n
}),
_owner: null
};
}), o = SpartaGlobals.bundleIsPC ? this.renderOffersPC(n) : this.renderOffersConsole(n);
return d["default"].createElement(k["default"], {
scrollContent: SpartaGlobals.bundleIsPC,
clipContent: SpartaGlobals.bundleIsConsole,
tallContent: !0,
ref: "template"
}, o, d["default"].createElement("surface", {
ref: "gamecards",
style: {
marginTop: 3 * x["default"].GUTTER
}
}, {
$$typeof: p,
type: N["default"],
key: null,
ref: null,
props: r(N["default"].defaultProps, {
value: __("ID_SPARTA_COMMERCE_OFFER_BYGAME").toUpperCase(),
size: "S",
style: {
marginBottom: 1.5 * x["default"].GUTTER,
textLetterSpacing: 1
}
}),
_owner: null
}, {
$$typeof: p,
type: O.CardCarousel,
key: null,
ref: null,
props: r(O.CardCarousel.defaultProps, {
children: this.renderGameCards(),
width: x["default"].getWidth(24)
}),
_owner: null
}));
}, t.prototype.render = function L() {
var e = this.mapOffers(), t = this.mapAvailability(), n = this.mapErrors(), o = !t || n;
return {
$$typeof: p,
type: H["default"],
key: null,
ref: null,
props: r(H["default"].defaultProps, {
children: this.renderOffers(),
available: t && !n && e.length > 0,
loading: o
}),
_owner: null
};
}, c(t, [ {
key: "updateDescription",
decorators: [ m.action ],
value: function G(e) {
this.description.text = e;
}
} ]);
var n = t;
return t = i("_$StoreOverview")(t) || t, t = _["default"]({
store: P["default"]
})(t) || t, t = b.observer(t) || t;
}(d["default"].Component);
t["default"] = q, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function r(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
return function(t) {
var o = function(t) {
function o() {
n(this, o), t.apply(this, arguments);
}
return r(o, t), o.prototype.componentDidMount = function a() {
this.callTarget("componentDidEnter");
}, o.prototype.componentWillUpdate = function i(t, n) {
var r = e.id.call(this, this.props, this.state), o = e.id.call(this, t, n);
o !== r && this.callTarget("componentWillLeave");
}, o.prototype.componentDidUpdate = function s(t, n) {
var r = e.id.call(this, t, n), o = e.id.call(this, this.props, this.state);
o !== r && this.callTarget("componentDidEnter");
}, o.prototype.componentWillUnmount = function l() {
this.callTarget("componentWillLeave");
}, o.prototype.callTarget = function u(t) {
var n = e.ref ? this.refs[e.ref] : this;
n && n[t] && n[t]();
}, o;
}(t);
return o.displayName = t.displayName || t.name, o;
};
}
t.__esModule = !0, t["default"] = o, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? new Date() : arguments[2];
if (!e || !t) return !1;
var r = function s(e) {
var t = null;
return typeof e === Date ? t = e.getTime() : typeof e === String ? t = new Date(e.substr(0, 19)).getTime() : typeof e === Number && (t = e), 
t;
}, o = r(n), a = r(e), i = r(t);
return a && i ? o >= a && i > o : !1;
}
t.__esModule = !0, t["default"] = n, e.exports = t["default"];
}, function(e, t) {
function n(e) {
for (var t = {}, r = Object.keys(e).sort(), o = 0, a = r.length; a > o; o++) {
var i = r[o], s = e[i];
Array.isArray(s) ? t[i] = s.slice().sort() : "object" == typeof s ? t[i] = n(s) : t[i] = s;
}
return t;
}
t.__esModule = !0, t["default"] = n, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = new p["default"](), n = s["default"].extend(e, {
trigger: function r() {
this._applyListener.apply(this, arguments);
},
triggerAsPromise: function o() {
for (var t = this, n = arguments.length, r = Array(n), o = 0; n > o; o++) r[o] = arguments[o];
var i = a({}, e);
return new Promise(function(e, n) {
var o = t.listen(function() {
o(), e.apply(void 0, arguments);
});
t.onRequestError = function(e) {
i.onRequestError(e), n(e);
}, t.trigger.apply(t, r);
});
},
listen: function i(e) {
return t.listen(e);
},
unsubscribe: function l(e) {
t.removeSubscription(e);
},
intercept: function u(e) {
return t.interceptor.listen(e);
},
publish: function f() {
t.publish.apply(t, arguments);
},
reset: function d() {
this._previousRequests = {}, this._previousRequest = null;
},
startListening: function h() {
for (var e = this, t = arguments.length, n = Array(t), r = 0; t > r; r++) n[r] = arguments[r];
if (s["default"].isFunction(this.initialize)) try {
this.initialize.apply(this, n);
} catch (o) {
throw console.error("Could not initialize", o), o;
}
if (this.listeners = [], !(this.requestOn && this.requestOn.length > 0)) throw new Error("Client.startListening() was called, but no 'requestOn' listener specified!");
this.listeners = s["default"].map(this.requestOn, function(e) {
return e.listen(function() {
this._applyListener.apply(this, arguments), this.interval && !this._intervalHandler && (this._intervalHandler = setInterval(this._applyListener.bind(this), this.interval));
}.bind(this));
}.bind(this)), this.listenables && console.warn("The Requester prop 'listenables' has been renamed to 'requestOn'!"), 
this.updateOn && (this.listeners = this.listeners.concat(s["default"].map(this.updateOn, function(t) {
return t.listen(e._performParse.bind(e));
})));
},
start: function y() {
throw new Error("The Requester function 'start' has been renamed to 'startListening'");
},
stopListening: function g() {
s["default"].each(this.listeners, function(e) {
e();
}), this._intervalHandler && (clearInterval(this._intervalHandler), this._intervalHandler = void 0);
},
_applyListener: function m() {
if (s["default"].isNumber(this.throttleAll)) {
if (this._previousRequest && s["default"].now() - this._previousRequest < this.throttleAll) return !1;
this._previousRequest = s["default"].now();
}
var e;
try {
for (var t = arguments.length, n = Array(t), r = 0; t > r; r++) n[r] = arguments[r];
e = s["default"].isFunction(this.listener) ? this.listener.apply(this, n) : n;
} catch (o) {
throw console.error("Error in listener", o), o;
}
"[object Arguments]" === Object.prototype.toString.call(e) ? e = Array.prototype.slice.call(e) : "[object Array]" !== Object.prototype.toString.call(e) && (e = [ e ]), 
this._performRequest.apply(this, e);
},
_previousRequests: {},
_performRequest: function b() {
for (var e = this, t = arguments.length, n = Array(t), r = 0; t > r; r++) n[r] = arguments[r];
if (s["default"].isFunction(this.shouldPerformRequest)) try {
if (!this.shouldPerformRequest.apply(this, n)) return;
} catch (o) {
throw console.error("Error running shouldPerformRequest", o), o;
}
if (this.mutex) {
if (this._performingRequest) return !1;
this._performingRequest = !0;
}
if (s["default"].isNumber(this.throttle)) {
var a = JSON.stringify(n);
if (this._previousRequests[a] && s["default"].now() - this._previousRequests[a] < this.throttle) return !1;
this._previousRequests[a] = s["default"].now();
}
var i;
try {
i = this.request.apply(this, n);
} catch (o) {
throw this._performingRequest = !1, console.error("Could not perform request", n, o), 
o;
}
if (!(this.updateOn || i && s["default"].isFunction(i.then))) throw new Error("No updateOn specified, expected request to return a Promise");
i && s["default"].isFunction(i.then) && (i["catch"](function(e) {
if (this._performingRequest = !1, !s["default"].isFunction(this.onRequestError)) {
var t = "";
t = null == e ? "Request failed without error details!" : "string" == typeof e ? e : "Unable to perform request: " + (e.request && e.request.methodName) + "\nResponse: " + e.message + "\nParams: " + JSON.stringify(e.request && e.request.params), 
console.error("Request Error\n", t);
throw e;
}
this.onRequestError.apply(this, [ e ].concat(n));
}.bind(this)), i.then(function(t) {
e._performParse.apply(e, [ t ].concat(n));
}));
},
_performParse: function v(e) {
var t, n = Array.prototype.slice.call(arguments);
try {
t = this.parse.apply(this, n);
} catch (r) {
throw console.error("Could not parse response", e, r), r;
}
n.unshift(t);
var o = !0;
if (s["default"].isFunction(this.shouldPerformUpdate)) try {
o = this.shouldPerformUpdate.apply(this, n);
} catch (r) {
throw console.error("Error running shouldPerformUpdate", r), r;
}
if (this._performingRequest = !1, o) try {
this.update.apply(this, n);
} catch (r) {
throw this._performingRequest = !1, r;
}
this._performFinish.apply(this, n);
},
_performFinish: function _() {
s["default"].isFunction(this.finished) && this.finished.apply(this, arguments), 
s["default"].isFunction(this._finished) && this._finished.apply(this, arguments);
}
});
return c.push(n), n;
}
t.__esModule = !0;
var a = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, i = n(4), s = r(i), l = n(69), u = (r(l), n(254)), p = r(u), c = [];
t.instances = c, t["default"] = o;
}, function(e, t, n) {
function r(e) {
e = e || {}, this.name = e.name || "", this.rank = new a(e.rank), this.imageUrl = e.imageUrl || "", 
this.progress = new o(e.progress);
}
var o = n(392), a = n(393);
r.prototype.add = function(e) {
return new r({
name: this.name + " & " + e.name,
progress: new o({
current: this.progress.current + e.progress.current,
total: this.progress.total + e.progress.total
})
});
}, e.exports = r;
}, function(e, t, n) {
function r(e) {
e = e || {}, this.itemId = e.itemId, this.imageUrl = e.imageUrl || "", this.name = e.name || "", 
this.value = o.formatThousands(e.value), this.heading = e.highlightName || "", this.valueText = e.highlightText || "";
}
var o = n(86);
e.exports = r;
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var o = n(11), a = function() {
function e(t, n) {
r(this, e), this.group = "video", this.video = {
creationDate: t.creationDate ? new Date(t.creationDate.substr(0, 19)) : new Date(),
videoUrl: t.videoUrl || "fb://Sparta/UI/Movies/Battlefield4ProTips",
imageUrl: t.posterImage ? t.posterImage.linkTo : "",
description: t.description || "",
heading: t.title || "",
isFeatured: t.featured,
game: n ? o.gameStore.getGame(n).displayName : ""
};
}
return e.prototype.setFeatured = function t() {
this.video.isFeatured = !0;
}, e;
}();
t["default"] = a, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(21), a = r(o), i = n(52).gatewayClient, s = a["default"].createClient({
request: function l() {
return i.request("Companion.sendCompanionOnboardingEmail");
},
parse: function u(e) {
return e;
},
update: function p(e) {
this.publish(e);
}
});
t["default"] = s, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {
return new Date().getTime();
}
var a = n(4), i = r(a), s = n(2), l = n(10), u = n(87), p = r(u), c = n(11), f = n(633), d = r(f), h = n(61), y = r(h), g = n(75), m = r(g), b = n(30), v = r(b), _ = n(97), S = r(_), w = n(17), T = r(w), C = n(111), E = r(C), I = n(19), P = r(I), O = n(11), A = n(48), k = r(A), R = n(146), x = r(R), M = n(51), N = r(M), $ = {
Platform: 1,
Game: 2,
Language: 3,
Section: 4,
Environment: 5,
BuildNumber: 6
}, D = {
RecommendationClick: 1
};
p["default"].trackFunnel.listen(function(e) {
p["default"].trackScreen("funnel/" + e);
}), p["default"].trackScreen.listen(function(e) {
var t = e.split("/").shift();
t && "funnel" !== t && p["default"].trackDimension($.Section, t), d["default"].trackScreen(e);
}), p["default"].trackScreenState.listen(function(e) {
d["default"].trackScreen(c.locationStore.location.path + "/" + e);
}), p["default"].trackEvent.listen(function(e, t, n, r) {
d["default"].trackEvent(e, t, n, r);
}), p["default"].trackTimer.listen(function(e, t, n, r) {
d["default"].trackTimer(e, t, n, r);
}), p["default"].trackException.listen(function(e, t) {
d["default"].trackException(e, t);
}), p["default"].trackMetric.listen(function(e, t) {
d["default"].trackCustomMetric(e, t);
}), p["default"].trackDimension.listen(function(e, t) {
d["default"].setCustomDimension(e, t);
}), p["default"].trackPurchase.listen(function(e, t, n, r, o) {
d["default"].trackPurchase(e, t, n, r, o);
}), p["default"].flush.listen(function() {
d["default"].flush();
}), e.exports = function() {
function e(e) {
var t = e.args.tab ? e.path + "/" + e.args.tab : e.path;
p["default"].trackScreen(t);
}
var t, n = o(), r = !1;
p["default"].trackDimension($.Platform, SpartaGlobals.bundlePlatform), p["default"].trackDimension($.Language, "en-us"), 
p["default"].trackDimension($.BuildNumber, "9198"), l.autorun(function() {
O.settingsStore.isTelemetryEnabled && !r ? (d["default"].initialize("UA-63589416-1", !0), 
r = !0) : r && d["default"].setEnabled(O.settingsStore.isTelemetryEnabled);
});
var a = k["default"].getState();
a && d["default"].setUser(a.spartaUserId.getPlatformId()), k["default"].listen(function(e) {
e && d["default"].setUser(e.spartaUserId.getPlatformId());
});
var u = P["default"].listen(function(e) {
p["default"].trackDimension($.Game, e.hostingGameId), p["default"].trackDimension($.Environment, e.envOnlineEnvironment), 
u();
});
l.reaction(function() {
return c.locationStore.location;
}, e), T["default"].updateLocation.listen(e), E["default"].onReady.listen(function() {
p["default"].trackEvent("Presence", "Connected");
}), E["default"].onDisconnected.listen(function() {
p["default"].trackEvent("Presence", "Disconnected");
}), T["default"].quitSparta.listen(function() {
p["default"].flush();
}), y["default"].handleCardInteraction.listen(function(e, t) {
p["default"].trackMetric(D.RecommendationClick, 1), "filter" === e.group && p["default"].trackFunnel("recommendation/filter/interaction"), 
p["default"].trackEvent("RecommendationClick", e.group, e.telemetryId, t), "filter" === e.group && i["default"].each(x["default"](e.matchmake), function(e, t) {
"object" == typeof e && i["default"].each(e, function(e, n) {
p["default"].trackEvent("RecommendationFilterInteraction", t, n, "on" === e ? 1 : -1);
});
});
}), m["default"].scope("server").listen(function(e) {
e && p["default"].trackFunnel("matchmaking/success");
}), v["default"].handleJoinReady.listen(function() {
p["default"].trackFunnel("serverjoin/ready");
}), v["default"].joinedServer.listen(function() {
p["default"].trackFunnel("serverjoin/success"), t || (t = Math.floor(o() - n), p["default"].trackTimer("ServerJoin", "FirstServerJoin", t));
}), S["default"].onJoinMultiplayerFailed.listen(function() {
p["default"].trackFunnel("serverjoin/failed");
}), N["default"].checkoutStatus.listen(function(e, t) {
var n = {};
try {
n = JSON.parse(s.base64.decode(t.offer.pinData));
} catch (r) {
console.error("Failed to parse pinData", t.offer.pinData);
}
e.status === e.CHECKOUT_COMPLETED && p["default"].trackPurchase(t.purchaseId, t.offer.id, n.price, n.currency), 
p["default"].trackEvent("Purchase", e.status, t.offer.id);
});
};
}, function(e, t, n) {
(function(t) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function a() {
t.__spartaConfig && _.updateConfig(t.__spartaConfig);
var e = M.getState().gatewayHost, n = M.getState().gatewayProtocol, r = M.getState().envOnlineEnvironment;
n && e && r && _.updateConfig({
gatewayHost: n + "://" + e,
onlineEnvironment: r
});
}
var i = n(2), s = o(i), l = n(10), u = n(94), p = n(424), c = n(635), f = r(c), d = n(11), h = n(44), y = r(h), g = n(57), m = r(g), b = n(11), v = n(26), _ = n(17), S = n(124), w = n(163), T = n(69), C = n(165), E = n(632), I = n(636), P = n(637), O = n(630), A = n(639), k = n(638), R = n(12), x = n(265), M = n(19), N = n(87);
e.exports = {
stores: {
InputStore: n(166),
PresenceStateStore: n(34),
NetworkStore: n(395),
NativePropertiesStore: M,
AnalyticsStore: n(532),
ConfigStore: C,
ModuleStore: n(642)
},
actions: {
CoreActions: _,
CoreEvents: T,
AudioActions: w,
InputActions: S,
AnalyticsActions: N
},
types: {
Key: n(196),
Keys: n(12),
Input: n(14),
MouseButtons: n(209),
Location: u.Location,
Platform: n(396),
Platforms: n(645)
},
gatewayClient: v,
initialize: function $() {
function e(e) {
e.isRepeat || -1 === t.indexOf(e.key) || w.playEffect(2);
}
a(), M.listen(a), f["default"].start(), x.start(), O(), E(), I(), P(), A(), k(), 
s.events.getCommandHandler("throw").listen(function(e) {
if ("callundefined" !== e) throw new Error("Unknown param: " + e);
s.nonExisting();
}), SpartaGlobals.bundleIsConsole;
var t = [ R.Accept, R.Decline, R.Option1, R.Option3, R.Option4, R.Option2, R.Start, R.Home, R.End, R.Previous, R.Next, R.Select ];
S.calledAction.listen(e), S.calledHoldAction.listen(e), S.calledReleaseAction.listen(e), 
M.scope("hostingGameId").connect(function(e) {
var t = e && d.gameStore.getGame(e);
return t ? (_.gotoLocation(t.startRoute), !1) : void 0;
}), y["default"].scope("navigationState").connect(function(e) {
return e === m["default"].LoadingScreen ? (p.tryShowLegal(), !1) : void 0;
}), l.reaction(function() {
return b.backgroundMusicStore.currentTrackId;
}, function(e) {
var t = b.backgroundMusicStore.previousTrackId, n = M.getHostingGame();
n && (t || e !== n.backgroundMusicTrack) && (t && w.stopTrack(t), e && w.playTrack(e));
}), v.onError.listen(function(e, t) {
var n = t.methodName, r = t.params;
console.error("Gateway Error:", n, r, JSON.stringify(e)), N.trackException("GatewayRequest: " + n);
}), v.onResponse.listen(function(e, t) {
t.methodName, t.params;
}), v.onEnvironmentIdReceived.listen(function(e) {
_.updateConfig({
environmentId: e
});
}), l.reaction(function() {
return b.layoutStateStore.current.config.backgroundMusicTrack;
}, function(e) {
return b.backgroundMusicStore.setTrack(e);
});
}
};
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
switch (s.Metrics.inc("push." + t.topic), t.topic) {
case "FRIENDS_PLAYING":
setTimeout(function() {
p.ServerPresenceClient.trigger(e.payload.platformIds, p.PresenceRequestTypes.SPECIFIC);
}, 2e3);
break;

case "FRIENDS_STOPPED_PLAYING":
h["default"].removeServerPresences(e.payload.platformIds);
break;

case "MATCHMAKING_STATUS_UPDATED":
R(e.payload);
break;

case "QUEUESTATUS_UPDATED":
g["default"].handleQueueStatusUpdate(e.payload);
break;

default:
e.game ? k.handlePushNotification(e.game, t.topic, e.payload) : console.warn("Unhandled Push Notification", t);
}
}
function a() {
k.quitSparta.listen(function() {
i.frostbite.sendMessage("sparta.quit");
}), I.playEffect.listen(function(e) {
i.frostbite.sendMessage("sparta.audioMessage", {
type: 1,
effect: e
});
}), I.playTrack.listen(function(e) {
E.getState().navigationState !== A.LoadingScreen && i.frostbite.sendMessage("sparta.audioMessage", {
type: 2,
track: e,
action: 1
});
}), I.stopTrack.listen(function(e) {
E.getState().navigationState !== A.LoadingScreen && i.frostbite.sendMessage("sparta.audioMessage", {
type: 2,
track: e,
action: 2
});
});
var e = null;
i.frostbite.registerMessageListener("sparta.pushNotification", function(t, n) {
var r = JSON.parse(n.body), a = r.environmentId, i = b["default"].getState().environmentId;
return i || e ? a !== i ? void console.info("Push Notification: Ignored message from other gateway:", a, "expected:", i) : void o(r, n) : void (e = b["default"].listen(function(t) {
t.environmentId && (o(r, n), e());
}));
}), i.frostbite.registerMessageListener("sparta.nativeClientReadyMessage", function(e, t) {
P.nativeClientReadyMessage(t);
}), i.frostbite.registerMessageListener("sparta.nativeClientSettingsMessage", function(e, t) {
P.nativeClientSettingsMessage(t);
}), i.frostbite.registerMessageListener("sparta.firstPartyConnectedMessage", function(e, t) {
P.firstPartyConnectedMessage(t);
});
var t = !1;
i.frostbite.registerMessageListener("sparta.activated", function(e, n) {
var r = {
navigationState: n.navigationState,
levelName: n.levelName,
isMultiplayer: n.isMultiplayer,
isOnline: n.online,
isDeployed: n.isDeployed,
isSpectator: n.isSpectator
};
if (n.enterOffline) {
var o = u["default"].getHostingGame();
o && k.gotoLocation(o.startRoute);
}
n.hasOwnProperty("autoShowStartScreen") && (r.hideStartScreen = !n.autoShowStartScreen), 
g["default"].updateGameState(r), t ? k.handleSpartaActivatedUpdate() : (t = !0, 
k.handleSpartaActivated());
}), k.handleSpartaWillDeactivate.listen(function() {
t = !1;
}), i.frostbite.registerMessageListener("sparta.childProcessError", function(e, t) {
P.spartaErrorMessage(t.message);
}), i.events.onMouseEvent.listen(function(e) {
("onClick" === e.eventName || "onMouseDown" === e.eventName && e.button === O.Secondary) && I.playEffect(2);
}), i.events.onPropagatingMouseEvent.listen(function(e) {
if ("onMouseUp" === e.eventName) {
var t = Object.keys(w["default"].getState()).length;
if (C["default"].getState().isVisible || t > 0) return;
e.button === O.Back ? k.goBackInHistory() : e.button === O.Forward && k.goForwardInHistory();
}
}), k.setClientVideoRecordingEnabled.listen(function(e) {
i.frostbite.sendMessage("sparta.enableClientVideoRecording", {
enabled: e
});
});
}
var i = n(2), s = n(249), l = n(19), u = r(l), p = n(826), c = n(81), f = r(c), d = n(38), h = r(d), y = n(30), g = r(y), m = n(165), b = r(m), v = n(83), _ = r(v), S = n(171), w = r(S), T = n(50), C = r(T), E = (n(1), 
n(44)), I = n(163), P = n(69), O = n(209), A = n(57), k = n(17), R = _["default"](function(e) {
f["default"].receivedSessionUpdate(e);
}, 100);
e.exports = a;
}, function(e, t, n) {
function r() {
return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
var t = 16 * Math.random() | 0, n = "x" === e ? t : 3 & t | 8;
return n.toString(16);
});
}
function o() {
var e = l.flush();
e.length && (console.info("Analytics --->", e), i.httpRequest(i.HTTP_METHODS.POST, "http://www.google-analytics.com/batch", e.join("\n"), "", !1, function(e, t) {}));
}
function a(e, t) {
this.props = e || {}, this.transientProps = {}, this.enabled = !!t, this.set = function(e) {
s.extend(this.props, e);
}, this.setTransient = function(e) {
s.extend(this.transientProps, e);
}, this.getTransientProps = function() {
var e = s.extend({}, this.transientProps);
return this.transientProps = {}, e;
}, this.send = function(e) {
if (this.enabled) {
var t = s.extend({}, this.props, e, this.getTransientProps()), n = s.chain(t).map(function(e, t) {
return [ e, t ];
}).filter(function(e) {
return "undefined" != typeof e[0];
}).map(function(e) {
return e[1] + "=" + encodeURIComponent(e[0]);
}).value().join("&");
l.add(n);
}
};
}
var i = n(2), s = n(4), l = {
items: [],
add: function u(e) {
this.items.push(e);
},
flush: function p() {
var e = this.items.splice(0, 15);
return e;
}
};
e.exports = {
gaClient: new a({}, !1),
initialize: function c(e, t) {
var n = this;
this.gaClient.enabled = t, this.gaClient.set({
v: 1,
tid: e,
cid: r(),
an: "Sparta-" + SpartaGlobals.bundlePlatform,
aid: SpartaGlobals.bundlePlatform + "-tunguska",
av: SpartaGlobals.bundlePlatform + "-tunguska-release-bf1-xpack0-9198",
ul: "en-us",
ds: SpartaGlobals.bundlePlatform
}), setInterval(function() {
n.gaClient.enabled && o();
}, 1e3);
},
setEnabled: function f(e) {
this.gaClient.enabled = e;
},
flush: function d() {
this.gaClient.enabled && o();
},
_previousUserId: void 0,
setUser: function h(e) {
e !== this._previousUserId && (this.gaClient.set({
uid: e
}), this._previousUserId = e);
},
setCustomDimension: function y(e, t) {
var n;
this.gaClient.setTransient((n = {}, n["cd" + e] = t, n));
},
trackScreen: function g(e) {
this.gaClient.send({
t: "screenview",
cd: "/" + e
});
},
trackEvent: function m(e, t, n, r) {
this.gaClient.send({
t: "event",
ec: e,
ea: t,
el: n,
ev: r
});
},
trackTimer: function b(e, t, n, r) {
this.gaClient.send({
t: "timing",
utc: e,
utv: t,
utt: n,
utl: r
});
},
trackException: function v(e, t) {
this.gaClient.send({
t: "exception",
exd: e,
exf: !!t
});
},
trackCustomMetric: function _(e, t) {
var n;
this.gaClient.setTransient((n = {}, n["cm" + e] = t, n));
},
trackPurchase: function S(e, t, n, r) {
var o = arguments.length <= 4 || void 0 === arguments[4] ? 1 : arguments[4];
this.gaClient.send({
t: "item",
ti: e,
"in": t,
ip: n,
iq: o,
cu: r
});
}
};
}, function(e, t, n) {
function r(e) {
"object" != typeof e && (e = {}), e.method = i.HTTP_METHODS.GET, a(e);
}
function o(e) {
"object" != typeof e && (e = {}), e.method = i.HTTP_METHODS.POST, a(e);
}
function a(e) {
var t = e.method, n = e.url, r = e.data || "", o = e.headers || "", s = e.isJson || !1, l = e.retry || !1, u = e.attempt || 1, p = e.delay || 100, c = e.success, f = e.failure;
"number" != typeof l && (l = e.retry = !1);
var d = /(http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])?/;
"string" == typeof n && "" !== n && null !== d.exec(n) && i.httpRequest(t, n, r, o, s, function(t, r) {
return t ? void ("function" == typeof c && c(r, n)) : void (l !== !1 && l > u ? setTimeout(function() {
e.attempt = u + 1, e.delay = 2 * p, a(e);
}, p) : "function" == typeof f ? f(r, n) : console.error("Failed to call " + n));
});
}
t.__esModule = !0;
var i = n(2);
t["default"] = {
get: r,
post: o
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(2), a = n(15), i = r(a), s = n(267), l = r(s), u = n(17), p = r(u), c = n(263), f = r(c), d = n(19), h = r(d), y = i["default"].createAction();
f["default"]("sparta.streamingInstallStateChanged").listen(y), f["default"]("sparta.getStreamingInstallStateResponse").listen(y);
var g = {
start: function m() {
var e = this, t = y.listen(function(t) {
var n = e.parse(t);
p["default"].updateInstallState(n);
});
return h["default"].scope("ready").connect(function(e) {
if (e) {
if (h["default"].getState().isStreamingInstalling) {
console.info("Manually trigger install state due to message indicating that it is happening!");
var t = new l["default"]({
isInstalling: !0,
isMpInstalled: !1,
progress: -1
});
p["default"].updateInstallState(t);
}
return o.frostbite.sendMessage("sparta.getStreamingInstallStateRequest"), !1;
}
}), t;
},
parse: function b(e) {
var t = e.streamingInstall, n = t.isInstalling, r = t.isMpInstalled, o = t.installProgress;
return new l["default"]({
isInstalling: n,
isMpInstalled: 100 === Math.ceil(o) || r,
progress: o / 100
});
}
};
t["default"] = g, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(83), a = r(o), i = n(207), s = r(i), l = n(208), u = r(l), p = n(395), c = r(p), f = n(2), d = a["default"](function() {
s["default"].flushCache();
var e = c["default"].getState();
e.pingTargetsQueue.length && !function() {
var t = [];
e.pingTargetsQueue.forEach(function(n) {
e.pingCache[n] ? u["default"].pingCompleted(n, e.pingCache[n].ping, !1) : t.push(n);
}), t.length && f.frostbite.sendMessage("network.ping", {
targets: t,
isQos: !1
});
}(), e.qosPingTargetsQueue.length && !function() {
var t = [];
e.qosPingTargetsQueue.forEach(function(n) {
e.qosPingCache[n] ? u["default"].qosPingCompleted(n, e.qosPingCache[n].ping, !1) : t.push(n);
}), t.length && f.frostbite.sendMessage("network.ping", {
targets: t,
isQos: !0
});
}(), e.resolveTargetsQueue.length && !function() {
var t = [];
e.resolveTargetsQueue.forEach(function(n) {
e.resolveCache[n] ? u["default"].resolveCompleted(n, e.resolveCache[n].ip) : t.push(n);
}), t.length && f.frostbite.sendMessage("network.resolve", {
targets: t
});
}(), s["default"].emptyQueue();
}, 500, !1);
t["default"] = function() {
s["default"].ping.listen(d), s["default"].qosPing.listen(d), s["default"].resolve.listen(d), 
f.frostbite.registerMessageListener("network.pingCompleted", function(e, t) {
t.isQos ? u["default"].qosPingCompleted(t.target, t.ping, t.timeout) : u["default"].pingCompleted(t.target, t.ping, t.timeout);
}), f.frostbite.registerMessageListener("network.resolveCompleted", function(e, t) {
u["default"].resolveCompleted(t.host, t.ip);
});
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(2), a = n(19), i = r(a), s = n(34), l = r(s), u = n(88), p = r(u), c = n(111), f = r(c), d = n(38), h = r(d), y = n(83), g = r(y), m = n(241), b = n(120), v = g["default"](function(e) {
return o.frostbite.sendMessage("sparta.goOnline", {
silentOnline: e
});
}, 1e3, !0, !1);
t["default"] = function() {
p["default"].connect.listen(function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? !1 : arguments[0];
v(e);
}), p["default"].disconnect.listen(function() {
o.frostbite.sendMessage("sparta.goOffline");
}), o.frostbite.registerMessageListener("sparta.nativeClientReadyMessage", function(e, t) {
t.nativeClientInformation.isOnlineSnapshot && (p["default"].handleMessage(new b.PresenceStatusMessage({
gameId: i["default"].getState().hostingGameId,
eventType: b.ConnectionEventType.connectionReady,
resultType: b.ConnectionResultType.success,
mode: b.PresenceModeType.online
})), p["default"].handleMessage(new b.PresenceStatusMessage({
gameId: i["default"].getState().hostingGameId,
eventType: b.ConnectionEventType.qualityOfServiceDone
})));
}), p["default"].handleMessage.listen(function(e) {
e.resultType === b.ConnectionResultType.invalidUser && h["default"].showLocalUserSelectionUI();
}), l["default"].scope("state").listen(function(e) {
var t = l["default"].getState();
switch (e) {
case m.PresenceStates.connecting:
f["default"].onConnecting(t);
break;

case m.PresenceStates.disconnected:
f["default"].onDisconnected(t);
break;

case m.PresenceStates.ready:
f["default"].onReady(t);
}
}), l["default"].scope("isFirstPartyConnected").listen(function(e) {
e && f["default"].onFirstPartyConnected();
}), o.frostbite.registerMessageListener("sparta.authCodeAvailableMessage", function(e, t) {
var n = t.success;
t.authCode;
n || (console.warn("No Authcode returned, disconnecting blaze"), p["default"].disconnect());
});
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {
SpartaGlobals.bundleIsPC && s["default"].listen(function(e) {
var t = e.progress >= 1, n = t ? l.Normal : l.Paused, r = e.isInstalling ? l.Progress : n;
a.frostbite.sendMessage("sparta.pc.setTaskbarProgress", {
state: r,
currentValue: Math.round(100 * e.progress),
maxValue: 100
}), t && a.frostbite.sendMessage("sparta.pc.flashTaskbar", {
numTimes: 3,
timeoutMs: 750
});
});
}
t.__esModule = !0, t["default"] = o;
var a = n(2), i = n(89), s = r(i), l = {
Normal: 0,
IndeterminateProgress: 1,
Progress: 2,
Paused: 8,
Error: 4
};
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(10), a = n(164), i = r(a), s = n(640), l = r(s), u = n(30), p = r(u), c = n(97), f = r(c), d = n(44), h = r(d), y = n(50), g = r(y), m = n(27), b = r(m), v = n(61), _ = r(v), S = n(75), w = r(S), T = n(11), C = n(88), E = r(C), I = n(120), P = n(57), O = r(P), A = n(167), k = function R() {
var e = !1, t = new Date().getTime(), r = n(48), a = r.getState(), s = {};
a && (s.user = a);
var u = new l["default"](s), c = !1;
i["default"].trackJoinSources.listen(function(e, t) {
u.joinSource = t;
}), i["default"].trackEvent.listen(function(e, t) {
e === A.Events.GameStart && u.trackEvent(A.Events.SpartaEnd), u.trackEvent(e, t);
}), r.connect(function(e) {
u.setUser(e), c || (i["default"].trackEvent(A.Events.Login, !0), c = !0);
}), E["default"].handleMessage.listen(function(e) {
e.eventType === I.ConnectionEventType.connectFailed && (i["default"].trackEvent(A.Events.Login, !1), 
i["default"].trackEvent(A.Events.Error, e));
}), h["default"].scope("navigationState").connect(function(t) {
t === O["default"].FrontEnd && (e || (i["default"].trackEvent(A.Events.SessionStart), 
e = !0), i["default"].trackEvent(A.Events.GameEnd), i["default"].trackEvent(A.Events.SpartaStart));
});
var d, y = [];
w["default"].listen(function(e) {
e.server && (d = e);
}), p["default"].joinServer.listen(function(e) {
e.friend && y.push(e.friend.spartaUserId.getPlatformId());
}), p["default"].joinedServer.listen(function(e) {
i["default"].trackEvent(A.Events.MultiplayerJoin, {
server: e,
matchmakingSession: d,
joinedFriends: y
}), d = void 0, y = [];
}), f["default"].onJoinMultiplayerFailed.listen(function() {
d = void 0, y = [];
});
var m;
o.reaction(function() {
return T.locationStore.location;
}, function() {
m = Date.now();
}), g["default"].scope("isVisible").listen(function() {
m = Date.now();
}), b["default"].handleStartScreenClosed.listen(function() {
m = Date.now();
}), _["default"].handleCardInteraction.listen(function(e) {
var t = m && (Date.now() - m) / 1e3, n = "click";
i["default"].trackEvent(A.Events.Message, {
recommendation: e,
secondsDuration: t,
messageType: n
});
}), _["default"].handleCardDisplayed.listen(function(e) {
var t = "impression", n = 0;
i["default"].trackEvent(A.Events.Message, {
recommendation: e,
secondsDuration: n,
messageType: t
});
});
var v = null, S = [];
o.reaction(function() {
return T.locationStore.location;
}, function(e) {
var n = new Date().getTime(), r = n - t, o = "", a = "";
t = n, v && (o = v, S.push(v));
var s = e ? e.path : "";
if (v = s, T.locationStore.canGoBack && S.length > 1) {
var l = S[S.length - 2];
a = l || "";
}
var u = r / 1e3, p = "web_page", c = {
pageDurationSec: u,
navigatingTo: s,
currentPage: o,
navigatingFrom: a,
pageType: p
};
S = S.slice(-3), i["default"].trackEvent(A.Events.PageView, c);
});
};
t["default"] = k, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a, i = n(26), s = r(i), l = n(19), u = r(l), p = n(11), c = n(80), f = r(c), d = n(266), h = r(d), y = n(167), g = n(41), m = n(4), b = r(m), v = {
uuidKey: "hubble-uuid",
batchInterval: 10,
batchMaxSize: 10
}, _ = (a = {}, a[y.Events.SpartaStart] = "game_start", a[y.Events.SpartaEnd] = "game_end", 
a), S = !1, w = function() {
function e(t, n, r) {
var a = arguments.length <= 3 || void 0 === arguments[3] ? "" : arguments[3];
o(this, e), this.eventName = _[t] || t, this.params = n || {}, this.sequence = r, 
this.clientTimestamp = new Date().getTime(), this.gameSessionId = a, this.paramsToLowercase();
}
return e.prototype.paramsToLowercase = function t() {
var e = this;
Object.keys(this.params).forEach(function(t) {
"string" == typeof e.params[t] && (e.params[t] = e.params[t].toLowerCase());
});
}, e;
}(), T = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? [] : arguments[0];
o(this, e), this.items = t;
}
return e.prototype.add = function t(e) {
this.items.push(e);
}, e.prototype.flush = function n() {
var e = this.items.slice();
return this.items = [], e;
}, e;
}(), C = function() {
function e(t) {
var n = this;
o(this, e), setInterval(function() {
n.shouldHubbleBatchSend();
}, 1e3), this.props = t, this.sessionStart = new Date().getTime(), this.sequence = 0, 
this.uuid = t.uuid || "", this.currentGame = "", this.parentSessionId = "", this.gameSessionId = this.createUUID(), 
this.queue = new T(), this.timeSinceBatch = 0, this.isClientReady = !1, this.gameStartTimer = null, 
this.userSegments = [], this.hasFetchedSegments = !1, this.currentGameMode = {}, 
this.joinSource = [];
var r = new h["default"]();
"" === this.uuid && r.get(v.uuidKey, function(e) {
e || (e = n.createUUID(), r.save(v.uuidKey, e)), n.uuid = e;
}), t.hasOwnProperty("user") && (this.user = t.user), u["default"].scope("hostingGameId").connect(function(e) {
n.currentGame = e;
}), u["default"].scope("parentSessionId").connect(function(e) {
n.parentSessionId = e;
});
}
return e.prototype.isPremium = function t() {
return f["default"].getState().hasPremiumAccess(this.currentGame);
}, e.prototype.generateGuid = function n() {
this.gameSessionId = this.createUUID();
}, e.prototype.getSessionTime = function r() {
return parseInt((new Date().getTime() - this.sessionStart) / 1e3, 10);
}, e.prototype.getGameDuration = function a() {
return parseInt((new Date().getTime() - this.gameStartTimer) / 1e3, 10);
}, e.prototype.getGameBuild = function i() {
return "release-bf1-xpack0_9198_4bcc0069_tunguska_all_prod";
}, e.prototype.getSequence = function l() {
return this.sequence++, this.sequence;
}, e.prototype.getMessageSource = function c() {
var e = p.locationStore.location.path.replace(this.getGame(), "");
return "" === e ? "home" : e.replace(/^\//, "");
}, e.prototype.loadUserSegments = function d() {
var e = this;
S || (S = !0, s["default"].request("Recommender.showSegments", {
game: this.getGame()
}).then(function(t) {
t.length > 0 && (e.userSegments = t, e.hasFetchedSegments = !0);
}), setTimeout(function() {
S = !1;
}, 6e4));
}, e.prototype.attachSegmentId = function m(e) {
var t = this;
if (0 !== this.userSegments.length) return e.map(function(e) {
return "message" === e.eventName && "" === e.params.segmentId && (e.params.segmentId = t.getSegmentString()), 
e;
});
}, e.prototype.sendEvents = function _() {
if (g.onlineState.hasGatewaySession) {
var e = this.queue.flush();
if (this.attachSegmentId(e), !b["default"].isEmpty(e)) {
var t = this.getPayload(e);
s["default"].request("Telemetry.batchEvents", t);
}
this.timeSinceBatch = 0;
}
}, e.prototype.shouldHubbleBatchSend = function C() {
return g.onlineState.hasGatewaySession && p.settingsStore.isTelemetryEnabled && (this.queue.length >= v.batchMaxSize || this.timeSinceBatch >= v.batchInterval) ? void this.sendEvents() : void (this.timeSinceBatch = this.timeSinceBatch + 1);
}, e.prototype.isValidEvent = function E(e, t) {
var n = !0;
return e !== y.Events.GameEnd || this.isClientReady || (n = !1), e !== y.Events.GameStart || t || (n = !1), 
n;
}, e.prototype.trackEvent = function I(e, t) {
if (p.settingsStore.isTelemetryEnabled && this.isValidEvent(e, t)) {
var n = {}, r = !1;
switch (e) {
case y.Events.GameEnd:
n = this.onGameEnd(t);
break;

case y.Events.GameStart:
r = !0, n = this.onGameStart(t);
break;

case y.Events.PageView:
n = t;
break;

case y.Events.Login:
n = this.onLogin(t);
break;

case y.Events.Logout:
n = this.onLogout(t);
break;

case y.Events.Message:
n = this.onMessage(t);
break;

case y.Events.MultiplayerJoin:
n = this.onMultiplayerJoin(t);
break;

case y.Events.Transaction:
n = this.onTransaction(t);
break;

case y.Events.SpartaStart:
r = !0, n = this.onSpartaStart(t);
break;

case y.Events.SpartaEnd:
n = this.onSpartaEnd(t);
break;

case y.Events.SessionStart:
n = this.onSessionStart(t);
}
!this.hasFetchedSegments && this.getGame().length > 0 && g.onlineState.hasGatewaySession && this.loadUserSegments(), 
r && (this.sendEvents(), this.generateGuid());
var o = new w(e, n, this.getSequence(), this.getGameSessionId());
this.queue.add(o);
}
}, e.prototype.setUser = function P(e) {
this.user = e;
}, e.prototype.createUUID = function O() {
return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
var t = 16 * Math.random() | 0, n = "x" === e ? t : 3 & t | 8;
return n.toString(16);
});
}, e.prototype.getGameSessionId = function A() {
return this.gameSessionId;
}, e.prototype.getParentSessionId = function k() {
return this.parentSessionId;
}, e.prototype.getGame = function R() {
return this.currentGame || "";
}, e.prototype.getRelease = function x() {
var e = "";
return p.gatewayState.session.entitlements.hasTrial(this.currentGame) && (SpartaGlobals.bundleIsPC ? e = "trial_origin_access" : SpartaGlobals.bundleIsXBOXONE && (e = "trial_ea_access")), 
e;
}, e.prototype.getPayload = function M(e) {
return {
game: this.getGame(),
uuid: this.uuid,
gameSessionId: this.getGameSessionId(),
parentSessionId: this.getParentSessionId(),
events: e,
sessionDuration: this.getSessionTime(),
build: this.getGameBuild(),
release: this.getRelease()
};
}, e.prototype.getSegmentString = function N() {
return this.userSegments.join(",");
}, e.prototype.onGameStart = function $(e) {
return e ? (this.gameStartTimer = new Date().getTime(), this.isClientReady = !0, 
e.hasOwnProperty("gameType") || (e.gameType = ""), e.hasOwnProperty("gameMode") || (e.gameMode = ""), 
e.hasOwnProperty("params") || (e.params = {}), this.currentGameMode = e, e) : void 0;
}, e.prototype.onMultiplayerJoin = function D(e) {
var t = e.server, n = e.matchmakingSession, r = e.joinedFriends;
t || (t = {}, console.error("TelemetryClient onMultiplayerJoin - Expected server to be set"));
var o = {
joinStatus: n ? "found" : "success",
joinMethod: n ? "matchmaking" : "direct",
gameMode: t.mapMode,
map: t.mapName,
networkTopology: "client_server_dedicated",
gamePhase: "pre-game",
blazeGameSessionId: t.gameId,
gid: t.guid,
friends: r.join(","),
source: this.joinSource.join(",")
};
return n && (o.matchmakingDuration = n.getDuration() / 1e3), this.joinSource = [], 
o;
}, e.prototype.onLogin = function U(e) {
return {
status: e ? "success" : "error",
premium: this.isPremium()
};
}, e.prototype.onLogout = function L(e) {
return {
reason: e ? "normal" : "error"
};
}, e.prototype.onMessage = function F(e) {
var t = e.recommendation, n = e.secondsDuration, r = e.messageType;
return {
messageType: "in-game",
messageService: "sparta-recommendation",
contentType: t.recommendationType || "",
messageFormat: "friend" === t.group ? "friends" : t.group,
clientState: "foreground",
status: r,
sdur: n,
messageId: t.telemetryId || t.recommendationId,
segmentId: this.getSegmentString(),
ruleId: t.ruleName || "",
destinationId: t.positionIndex ? t.positionIndex.toString() : "",
destinationName: this.getMessageSource()
};
}, e.prototype.onGameEnd = function G() {
var e = this.currentGameMode;
return b["default"].extend(e, {
sessionDuration: this.getSessionTime(),
careerPlayDuration: this.getGameDuration()
});
}, e.prototype.onTransaction = function j(e) {
return {
transactionCode: e.transactionCode || "entitlement",
transactionSource: "battlepack_store",
transactionType: e.transactionType,
status: e.status,
price: e.price,
balance: e.balance,
currency: e.currency,
itemId: e.itemId,
revenueModel: e.revenueModel
};
}, e.prototype.onSpartaStart = function B() {
return {
gameType: "online",
gameMode: "sparta"
};
}, e.prototype.onSpartaEnd = function H() {
return {
gameType: "online",
gameMode: "sparta",
sessionDuration: this.getSessionTime()
};
}, e.prototype.onSessionStart = function V() {
return {
premium: this.isPremium()
};
}, e;
}();
t["default"] = C, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var a = n(15), i = o(a), s = n(2), l = r(s), u = n(4), p = n(166), c = n(265), f = {
current: []
}, d = i["default"].createStore({
init: function h() {
this.listenTo(p, function(e) {
var t = e.filter(function(e) {
return e && (e.visible || void 0 === e.visible && l.focus.system.controllerMode && "PC" !== c.currentInputType) && e.key;
}).sort(function(e, t) {
return e.key.order - t.key.order;
});
u.isEqual(f.current, t) || (f = {
current: t
}, d.trigger(f));
});
},
getState: function y() {
return f;
}
});
e.exports = d;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o), i = n(69), s = [], l = a["default"].createStore({
init: function u() {
i.allModulesDidLoad.listen(function(e) {
s = [].concat(e), l.trigger(s);
});
},
getState: function p() {
return s;
}
});
e.exports = l;
}, function(e, t) {
e.exports = {
NONE: 0,
INVALID_SESSION: -32501,
AUTHENTICATION_FAILED: -32502,
FIRST_PARTY_TOKEN_INVALID: -22300,
FIRST_PARTY_TOKEN_EXPIRED: -22301,
KILLSWITCH_SERVICE_DISABLED: -32800,
KILLSWITCH_SERVICE_RATE_LIMITED: -32801,
GAME_NOT_SUPPORTED: -32802,
SERVICE_NOT_AVAILABLE: -32804,
MAXIMUM_BOOKMARKS_REACHED: -32805
};
}, function(e, t) {
function n() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
this.host = e.host, this.ip = e.ip, this.pingSiteAlias = e.pingSiteAlias, this.ping = e.ping, 
this.createdAt = e.createdAt || Date.now();
}
e.exports = n;
}, function(e, t, n) {
var r = n(4), o = n(396), a = {
PC: new o("PC", "win32", "cem_ea_id"),
XBOXONE: new o("XBOXONE", "gen4a", "xbox"),
PS4: new o("PS4", "gen4b", "ps3")
};
a.list = r.values(a), a.byIdentifier = r.object(r.map(a.list, function(e) {
return [ e.identifier, e ];
})), e.exports = a;
}, function(e, t) {
e.exports = {
EU: "eu",
JP: "jp",
RU: "ru",
NA: "na"
};
}, function(e, t, n) {
e.exports = n(648);
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a() {
var e = 2;
u.events.onPropagatingMouseEvent.listen(function(t) {
if (t.button === e && 0 !== t.surfaces.length && "onMouseUp" === t.eventName) {
var n = t.surfaces[t.surfaces.length - 1];
n && n.x < 15 && n.y < 15 && c["default"].gotoLocation("debug-screen");
}
});
}
var i = n(27), s = o(i), l = n(49), u = n(2), p = n(17), c = o(p), f = r(u), d = n(10), h = n(11), y = "UIInputAction_TwinkleOption1";
e.exports = {
actions: {},
components: [],
initialize: function g() {
var e = null;
f.events.onConsoleMessage.listen(function(e) {
"debugscreen" === e && c["default"].gotoLocation("debug-screen");
}), u.events.onInputActionUp.listen(function(t, n) {
n === y && Date.now() - e > 5e3 && h.settingsStore.isFeatureEnabled("debugscreen") && c["default"].gotoLocation("debug-screen");
}), u.events.onInputActionDown.listen(function(t, n) {
n === y && (e = Date.now());
}), d.when(function() {
return h.settingsStore.isFeatureEnabled("debugscreen");
}, function() {
return a();
}), s["default"].addRouteConfig(new l.Route("debug-screen", {
view: n(539),
logoUrl: !1,
enableMainMenu: !1,
disableBackground: !0,
excludeFromHistory: !0,
priority: 999,
children: []
}));
}
};
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(43), h = s(d), y = n(16), g = s(y), m = n(88), b = s(m), v = n(294), _ = n(34), S = s(_), w = n(48), T = s(w), C = n(7), E = s(C), I = n(33), P = s(I), O = {
_$PresenceTester: {
displayName: "PresenceTester"
}
}, A = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-developer/src/components/PresenceTester.jsx",
components: O,
locals: [],
imports: []
}), k = new h["default"]([]);
b["default"].handleMessage.listen(function(e) {
k.setState([].concat(k.getState(), [ {
date: new Date(),
message: e,
user: T["default"].getState()
} ]));
});
var R = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this.state.messages.map(function(e, t) {
var n = e.date, o = e.message, a = e.user, i = a ? a.displayName : "null", s = [ n.getHours(), n.getMinutes(), n.getSeconds() ].join(":"), l = s + ": sessionUser: " + i + ", message: " + o.toString();
return {
$$typeof: p,
type: E["default"],
key: t,
ref: null,
props: r(E["default"].defaultProps, {
size: "S",
value: l
}),
_owner: null
};
});
return {
$$typeof: p,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
children: [ {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
value: "PresenceState:",
size: "XL",
style: {
marginBottom: 20
}
}),
_owner: null
}, {
$$typeof: p,
type: v.ConnectionState,
key: null,
ref: null,
props: r(v.ConnectionState.defaultProps, {}),
_owner: null
}, {
$$typeof: p,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
value: "PresenceStatusMessages",
size: "XL",
style: {
marginBottom: 20,
marginTop: 20
}
}),
_owner: null
}, e ],
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$PresenceTester")(t) || t, t = g["default"]({
presence: S["default"],
messages: k
})(t) || t;
}(f["default"].Component);
t["default"] = R, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(653);
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(1), a = (r(o), n(143)), i = r(a), s = n(19), l = r(s), u = n(34), p = r(u), c = n(272), f = n(56), d = n(168);
t["default"] = function() {
i["default"].joinMultiplayerServer.listen(function(e) {
if (l["default"].getState().hostingGameId !== e.gameId) if (e.friend && e.friend.spartaUserId) {
var t = {
gameMode: "MP",
gameId: e.server.gameId,
joinFriend: e.friend.spartaUserId.getPlatformId(),
role: e.role,
parentSessionId: l["default"].getState().parentSessionId,
asSpectator: "spectator" === e.role,
joinWithParty: !1,
serverPassword: e.password
}, n = __("ID_SPARTA_CROSSLAUNCH_JOINFRIEND");
c.continueCrosslaunch(e.gameId, t, n);
} else {
var t = {
gameMode: "MP",
gameId: e.server.gameId,
role: e.role,
parentSessionId: l["default"].getState().parentSessionId,
asSpectator: "spectator" === e.role,
joinWithParty: !1,
serverPassword: e.password
}, n = __("ID_SPARTA_CROSSLAUNCH_JOINGAME");
c.continueCrosslaunch(e.gameId, t, n);
}
}), i["default"].continueSinglePlayer.listen(function(e) {
l["default"].getState().hostingGameId !== e && (p["default"].getState().isReady() ? !function() {
var t = {
gameMode: "SP",
parentSessionId: l["default"].getState().parentSessionId
}, n = __("ID_SPARTA_CROSSLAUNCH_CAMPAIGN");
d.checkGameState().then(function() {
c.continueCrosslaunch(e, t, n);
});
}() : f.showNotInHostingGameAlert());
});
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
t.__esModule = !0;
var a = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, i = n(1), s = (r(i), 
n(2)), l = n(144), u = r(l), p = n(30), c = r(p), f = n(11), d = n(35), h = n(14), y = r(h), g = n(12), m = r(g), b = n(657), v = r(b), _ = n(25), S = r(_), w = n(47), T = r(w), C = n(273);
t["default"] = function() {
u["default"].launchGame.listen(function(e) {
var t = f.gameStore.getGame(e.gameId).productGuid, n = f.gameStore.getGame(e.gameId).crossLaunchIds, r = {
crossLaunchIds: n,
productGuid: t,
x86Version: e.x86Version,
args: e.params.toString()
};
c["default"].leftServer(), console.info("Sending sparta.crossLaunchGame", r), s.frostbite.sendMessage("sparta.crossLaunchGame", r);
}), u["default"].countdownThenLaunchGame.listen(function(e, t) {
S["default"].display(new T["default"]({
id: "crossLaunch",
content: {
$$typeof: a,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
game: e,
crossLaunchOptions: t
}),
_owner: null
},
inputs: [ new y["default"]({
label: __("ID_SPARTA_ACTION_CANCEL"),
key: m["default"].Decline
}) ]
}));
}), u["default"].launchGameWithNotification.listen(function(e, t) {
var n = f.gameStore.getGame(e);
d.alert(__("ID_SPARTA_CROSSLAUNCH_INTERCEPT").replace("[[game]]", n.displayName()).replace("[[action]]", t)).then(function() {
u["default"].countdownThenLaunchGame(n, new C.CrossLaunchOptions({
gameId: e,
params: {}
}));
});
});
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
var r = n(27), o = n(49).Route, a = n(69), i = n(30), s = n(656), l = n(46);
e.exports = {
actions: {
GameActions: i,
GameViewActions: l
},
stores: {
GameStateStore: n(44),
GameViewStateStore: n(50),
PingSiteStore: n(98),
EntitledGameStore: n(658),
GameEntitlementStore: n(80)
},
types: {
Game: n(155),
GameState: n(275)
},
initialize: function u() {
n(654)(), n(652)(), n(651)(), n(655)(), s.startListening(), a.allModulesDidLoad.listen(i.refreshInstalledGames), 
r.addRouteConfig(new o("gameview", {
logoUrl: !1,
enableMainMenu: !1,
disableBackground: !0,
excludeFromHistory: !0,
emptyView: !0,
priority: Number.MAX_VALUE
}));
}
};
}, function(e, t, n) {
(function(t, __) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
if (ve) {
for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; t > r; r++) n[r - 1] = arguments[r];
_e.log.apply(_e, [ e ].concat(n));
}
}
function a(e, t) {
return e.joinWithParty ? T["default"].request("Game.reserveSlotsAsGroup", {
game: e.gameId,
gameId: e.blazeGameId,
gameProtocolVersion: t,
groupId: e.party.blazeGroupId,
currentGame: S["default"].getHostingGame().gameId,
settings: {
role: e.role,
additionalPlayers: h["default"].map(h["default"].filter(e.party.members, function(e) {
var t = e.personaId && "0" !== e.personaId;
return t || console.warn("Filtered out Party member without personaId in Game.reserveSlotsAsGroup call, spartaUserId:", e), 
t;
}), function(t) {
return {
personaId: parseInt(t.personaId, 10),
role: e.role
};
})
}
}) : T["default"].request("Game.reserveSlot", {
game: e.gameId,
gameId: e.blazeGameId,
gameProtocolVersion: t,
currentGame: S["default"].getHostingGame().gameId,
settings: {
role: e.role
}
});
}
function i(e) {
return new Promise(function(t, n) {
function r(t) {
console.error(t), N["default"].setGameServerQueue({
gameId: e.gameId,
blazeGameId: e.blazeGameId,
status: q.QueueStatus.Failed
}), t && t.toHumanReadable ? n(t) : n();
}
var o = null;
if (S["default"].getState().hostingGameId === e.gameId && (o = S["default"].getState().protocolVersion), 
e.squadJoin) return e.party.size() > e.server.slots[e.role].max ? void k.confirm(__("ID_SPARTA_USER_PARTY_TOO_FEW_SLOTS_MESSAGE"), __("ID_SPARTA_USER_PARTY_TOO_FEW_SLOTS_TITLE"), __("ID_SPARTA_ACTION_CONTINUE"), __("ID_SPARTA_ACTION_CANCEL"), "fewSlots").then(function() {
t(e);
})["catch"](function(e) {
console.error(e), n();
}) : void t(e);
var i = a(e, o);
N["default"].setGameServerQueue({
gameId: e.gameId,
blazeGameId: e.blazeGameId,
status: q.QueueStatus.None
}), i.then(function(r) {
if (Se) return N["default"].resetGameServerQueue(), void n();
var o = r.status, a = r.errorResponse;
if ("Joined" === o) N["default"].setGameServerQueue({
gameId: e.gameId,
blazeGameId: e.blazeGameId,
status: q.QueueStatus.Joined
}), t(e); else if ("Queued" === o) N["default"].setGameServerQueue({
gameId: e.gameId,
blazeGameId: e.blazeGameId,
status: q.QueueStatus.Queued
}); else if ("Failed" === o) {
N["default"].resetGameServerQueue();
var i = a ? Y.lookupGatewayJoinError(a) : Y.JoinResultType.unknownError;
n(new J["default"]({
resultType: i
}));
}
})["catch"](r);
var s = N["default"].handleQueueStatusUpdate.listen(function(r) {
if (r.gameId !== e.blazeGameId) return Ce[r.gameId] = r, void console.warn("Ignored join status update for gameId:", r.gameId, "expected:", e.blazeGameId);
if (Se) return N["default"].resetGameServerQueue(), s(), void n();
var o = r.queueStatus.status.value;
o === q.QueueStatus.Joined ? (s(), t(e)) : o === q.QueueStatus.Failed && (s(), n(__("ID_SPARTA_ONLINE_JOIN_NO_SLOTS_AVAILABLE")));
});
});
}
function s(e) {
N["default"].setGameServerQueue({
status: q.QueueStatus.Cancelled
}), e && T["default"].request("Game.leaveGame", {
game: e.game,
gameId: e.gameId
});
}
function l(e) {
e.nativeAlreadyJoined || B["default"].joinMultiplayerServer(e);
}
function u(e) {
return Se && Te ? (Se = !1, void (Te = !1)) : (console.error("handleJoinFailed: ", e), 
e && f(e), D["default"].onJoinMultiplayerFailed(), N["default"].stopGame(), void A["default"].showComponent("all"));
}
function p(e) {
var t = G["default"].getState(), n = pe["default"].getState();
Se = !0, t.isRunning && e ? y.frostbite.sendMessage("sparta.leaveGame") : n.isPending && fe["default"].stop(), 
t.queue.status === q.QueueStatus.Queued && s(t.server), N["default"].leftServer();
}
function c() {
var e = v["default"].getState();
return e.isMissingMPPrivileges() && SpartaGlobals.bundleIsPS4;
}
function f(e, n) {
C.waitForTranslations().then(function() {
var r = !0;
if (e.disconnectionType === E.DisconnectionType.missingContent) {
var o = e.server || n;
o && (t.info("Found disconnectionType=missingContent, showing missing content joinflow popup."), 
r = I.validateContentAccessToServerWithPopup(o));
}
if (r) {
var a = e;
a.toHumanReadable || (a = new J["default"]({
customMessage: "string" == typeof e && e,
resultType: Y.JoinResultType.unknownError
})), m["default"].spartaErrorMessage(a.toHumanReadable(), a.getTitle());
}
});
}
var d = n(4), h = r(d), y = n(2), g = n(69), m = r(g), b = n(34), v = r(b), _ = n(19), S = r(_), w = n(26), T = r(w), C = n(388), E = n(400), I = n(270), P = n(170), O = n(27), A = r(O), k = n(35), R = n(25), x = r(R), M = n(30), N = r(M), $ = n(97), D = r($), U = n(111), L = r(U), F = n(44), G = r(F), j = n(143), B = r(j), H = n(168), V = n(270), z = n(57), W = r(z), q = n(169), K = n(398), X = n(397), Y = n(276), J = r(Y), Q = n(22), Z = r(Q), ee = n(38), te = r(ee), ne = n(310), re = r(ne), oe = n(271), ae = r(oe), ie = n(346), se = n(46), le = r(se), ue = n(75), pe = r(ue), ce = n(81), fe = r(ce), de = n(51), he = r(de), ye = n(144), ge = r(ye), me = n(272), be = n(56), ve = !1, _e = t.get("GameBindings"), Se = !1, we = null, Te = !1, Ce = {}, Ee = [ function(e, t) {
return "onFrostbiteMessage" === e && "sparta.friendInviteResp" === t[0] && t[1].event === t[1].Event_InviteAccepted;
}, function(e, t) {
return "onFrostbiteMessage" === e && "game.serverDisconnectedMessage" === t[0] && t[1].disconnectReason === t[1].DISCONNECT_OK;
}, function(e, t) {
return "onFrostbiteMessage" === e && "game.joinResultMessage" === t[0] && t[1].joinResult === t[1].JoinResult_Success && t[1].joinEvent === t[1].Event_Joined;
} ];
y.options.batchCallTransformer = function(e) {
var t = [], n = -1;
return e.forEach(function(e, r) {
var o = Ee[t.length];
o && o(e[0], e[1]) && t.push(r), "onFrostbiteMessage" === e[0] && "sparta.activated" === e[1][0] && (n = r);
}), t.length === Ee.length && (e = e.filter(function(e, r) {
return "onFrostbiteMessage" === e[0] && "sparta.activated" === e[1][0] && r !== n ? !1 : -1 === t.indexOf(r);
})), e;
}, e.exports = function Ie() {
N["default"].refreshInstalledGames.listen(function() {
y.frostbite.sendMessage("sparta.getInstalledGames");
}), N["default"].handleJoinReady.listen(function(e) {
N["default"].setGameServer(e.server), N["default"].setGameServerRole(e.role);
}), L["default"].onDisconnected.listen(function() {
G["default"].getState().isRunning || N["default"].leftServer();
}), N["default"].joinServer.listen(function(e) {
if (Se = !1, e.gameId !== S["default"].getState().hostingGameId) {
var t = me.getCrosslaunchSetting();
if (t === me.CrosslaunchSetting.None) return void be.showNotInHostingGameAlert();
if (t === me.CrosslaunchSetting.Simple) return void ge["default"].launchGameWithNotification(e.gameId, __("ID_SPARTA_CROSSLAUNCH_JOINSERVER"));
}
var n = function r(e) {
return new Promise(function(t, n) {
Z["default"].trackFilterJoin(e.server), N["default"].handleJoinReady(e), t(e);
}).then(X.checkMPInstalled).then(X.checkQoSReady).then(i).then(l)["catch"](u);
};
K.checkPresenceReady(e).then(H.checkGameState).then(function(e) {
return Se = !1, e;
}).then(V.checkJoinOptions).then(n, function() {
return console.info("Join cancelled: pre-check failed.");
});
}), N["default"].joinMatchmakingResult.listen(function(e) {
Se = !1, K.checkPresenceReady(e).then(H.checkGameState).then(function(e) {
return Se = !1, e;
}).then(V.checkJoinOptions).then(function(e) {
return N["default"].handleJoinReady(e), e;
}).then(l)["catch"](u);
}), N["default"].stopGame.listen(function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? !1 : arguments[0], t = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1];
if (e) {
var n = A["default"].handleBlackFadeDone.listen(function() {
n(), p(t);
});
A["default"].handleBlackFadeStart(1);
} else p(t);
}), N["default"].activateEor.listen(function() {
y.frostbite.sendMessage("sparta.eorActivated");
}), N["default"].sendServerInvite.listen(function(e) {
y.frostbite.sendMessage("sparta.inviteFriendRequest", {
spartaUserId: e.spartaUserId
});
}), D["default"].onJoinMultiplayerServerResult.listen(function(e) {
var t = G["default"].getState();
if (o("onJoinMultiplayerServerResult", e, t), t.queue.status === q.QueueStatus.Queued) {
o("onJoinMultiplayerServerResult - already queued");
var n = t.server && e.server && t.server.gameId !== e.server.gameId;
n && (console.warn("We are switching from queued to a new server, expect some warnings/errors"), 
T["default"].request("Game.leaveGame", {
game: t.server.game,
gameId: t.server.gameId
}), Se = !0, Te = !0, N["default"].handleQueueStatusUpdate({
gameId: t.server.gameId,
queueStatus: {}
}));
}
if (pe["default"].getState().isPending && fe["default"].stop(!0), we && we(), e.eventType === Y.JoinEventType.queued || e.resultType === Y.JoinResultType.queued ? (o("onJoinMultiplayerServerResult - queued"), 
N["default"].setGameServerQueue({
gameId: e.gameId,
blazeGameId: e.blazeGameId,
status: q.QueueStatus.Queued
}), Ce[e.blazeGameId] && N["default"].handleQueueStatusUpdate(Ce[e.blazeGameId])) : N["default"].resetGameServerQueue(), 
e.resultType === Y.JoinResultType.queued) o("onJoinMultiplayerServerResult - queued"), 
ie.joinFlowState.start(e.gameId); else if (e.resultType === Y.JoinResultType.success) {
if (o("onJoinMultiplayerServerResult - success"), e.server) if (N["default"].joinedServer(e.server), 
t.server) t.server.gameId !== e.server.gameId && N["default"].handleJoinReady(e.server.createJoinOptions()); else if (P.isVisibleStore.getState()) var r = A["default"].handleStartScreenClosed.listen(function() {
r(), N["default"].handleJoinReady(e.server.createJoinOptions());
}); else N["default"].handleJoinReady(e.server.createJoinOptions());
} else {
if (o("onJoinMultiplayerServerResult - failure"), c()) return;
f(e, t.server), u();
}
}), D["default"].onMultiplayerServerDisconnection.listen(function(e) {
var t = e.shouldShowErrorMessage(), n = G["default"].getState(), r = n.queue.status === q.QueueStatus.Cancelled;
N["default"].stopGame(n.navigationState !== W["default"].FrontEnd, !1), te["default"].refreshCareer(), 
x["default"].closeAll(), t && !r && (n.navigationState === W["default"].FrontEnd ? f(e, n.server) : !function() {
var t = G["default"].scope("navigationState").listen(function(r) {
r === W["default"].FrontEnd && (t(), f(e, n.server));
});
}());
}), y.frostbite.registerMessageListener("sparta.friendInviteResp", function(e, t) {
var n;
if (t.event !== t.Event_InviteAcceptFailed || t.failureReason !== t.FailureReason_AlreadyInSession) {
if (c()) return void he["default"].purchasePsPlus();
var r, o = (n = {}, n[t.FailureReason_NoMpPrivilege] = Y.JoinResultType.noMultiplayerPrivilege, 
n[t.FailureReason_InviteExpired] = Y.JoinResultType.inviteExpired, n[t.FailureReason_AlreadyInSession] = Y.JoinResultType.alreadyInSession, 
n[t.FailureReason_TooYoung] = Y.JoinResultType.tooYoung, n);
t.event === t.Event_InviteAccepted ? r = Y.JoinResultType.success : t.event === t.Event_InviteAcceptFailed && (r = o[t.failureReason]);
var a = new J["default"]({
resultType: r
});
a.resultType === Y.JoinResultType.success ? (fe["default"].stop(!0), le["default"].route("loading"), 
we = re["default"].onPartyUpdated.listen(function(e) {
var t = e && "0" !== e.gameId && e.gameId, n = G["default"].getState(), r = !n.server || n.server && n.server.gameId !== t;
t && r && (we(), ae["default"](t).then(function(e) {
N["default"].handleJoinReady(e.createJoinOptions());
}));
})) : r && u(a);
}
});
};
}).call(t, n(132), n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(269), s = r(i), l = n(98), u = r(l), p = n(401), c = r(p), f = n(207), d = r(f), h = n(208), y = r(h), g = n(34), m = r(g), b = {
dub: "ams",
ams: "dub",
brz: "gru",
gru: "brz",
lax: "sjc",
sjc: "lax"
};
t["default"] = function() {
s["default"].setPingSites.listen(function(e, t) {
m["default"].getState().isQoSReady && d["default"].qosPing(t.map(function(e) {
return e.alias;
}));
}), m["default"].scope("isQoSReady").listen(function(e) {
if (e) {
var t = u["default"].getState();
Object.keys(t).forEach(function(e) {
d["default"].qosPing(Object.keys(t[e]));
});
}
}), y["default"].qosPingCompleted.listen(function(e, t, n) {
var r = u["default"].getState();
Object.keys(r).forEach(function(n) {
var o = r[n][e];
!o && b[e] && (o = r[n][b[e]]), o && s["default"].updatePingSites(n, [ new c["default"](a["default"].extend({}, o, {
ping: t
})) ]);
});
});
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(21), s = r(i), l = n(11), u = n(269), p = r(u), c = n(26), f = r(c), d = n(401), h = r(d), y = s["default"].createClient({
requestOn: [ f["default"].onSessionEstablished ],
throttle: 3e4,
listener: function g() {
var e = l.gameStore.enabledGameIds;
return [ e ];
},
request: function m(e) {
return f["default"].request("Matchmaking.listPingSitesMulti", {
games: e
});
},
parse: function b(e) {
return a["default"].chain(e).map(function(e) {
var t = e.pingSiteAddressList.map(function(e) {
return new h["default"](e);
});
return [ e.env.game, t ];
}).object().value();
},
update: function v(e) {
a["default"].each(e, function(e, t) {
p["default"].setPingSites(t, e);
});
}
});
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return w(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(7), h = s(d), y = n(144), g = s(y), m = n(30), b = s(m), v = n(25), _ = s(v), S = {
_$CrossLaunchGamePopup: {
displayName: "CrossLaunchGamePopup"
}
}, w = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-game/src/components/CrossLaunchGamePopup.jsx",
components: S,
locals: [],
imports: []
}), T = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
secondsLeft: 5
};
}
a(t, e), t.prototype.componentDidMount = function s() {
this.countDown();
}, t.prototype.componentDidUpdate = function l(e, t) {
this.state.secondsLeft <= 0 ? this.launchGame() : this.countDown();
}, t.prototype.componentWillUnmount = function u() {
clearTimeout(this._timer), b["default"].leftServer();
}, t.prototype.launchGame = function c() {
g["default"].launchGame(this.props.crossLaunchOptions), _["default"].close(this.props.popupInfo.id);
}, t.prototype.countDown = function f() {
var e = this;
clearTimeout(this._timer), this.state.secondsLeft > 0 && (this._timer = setTimeout(function() {
e.setState({
secondsLeft: e.state.secondsLeft - 1
}, null, "count down");
}, 1e3));
}, t.prototype.render = function d() {
var e = __("ID_SPARTA_CROSSLAUNCH_POPUP").replace("[[game]]", this.props.game.displayName());
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
size: "L",
type: "emphasis",
value: e
}),
_owner: null
}, {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
size: "L",
style: {
marginTop: 20
},
value: "" + this.state.secondsLeft
}),
_owner: null
} ],
style: {
alignItems: "center"
}
},
_owner: null
};
};
var n = t;
return t = i("_$CrossLaunchGamePopup")(t) || t;
}(f["default"].Component);
t["default"] = T, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(43), s = r(i), l = n(11), u = n(80), p = r(u), c = s["default"].join(s["default"].fromMobxStore(function() {
return l.gameStore.games;
}), p["default"]).transform(function(e, t) {
return a["default"].chain(e.toJS()).filter(function(e, n) {
return t.hasOnlineAccess(n);
}).map(function(e) {
return [ e.gameId, e ];
}).object().value();
});
t["default"] = c, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, i = n(70), s = r(i), l = n(11), u = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
if (o(this, e), this.role = t.role || "soldier", this.password = t.password || "", 
this.server = t.server, this.friend = t.friend, this.party = t.party, !this.party && "soldier" === this.role) {
var n = s["default"].getState();
n.isValidParty() && n.size() > 1 && (console.warn("Party was not specified in joinOptions, defaulting from PartyStore."), 
this.party = n);
}
this.gameId = t.gameId, this.blazeGameId = t.blazeGameId, this.joinWithParty = void 0 !== t.joinWithParty ? t.joinWithParty : !!this.party;
var r = l.gameStore.getGame(this.server.game).joinConfig.useSquadJoin;
if (SpartaGlobals.bundleIsPS4 && this.joinWithParty && r && !this.party.forceSquadJoin && (this.joinWithParty = !1), 
this.squadJoin = this.joinWithParty && this.party.isInSquadJoin(), this.joinWithParty && !this.party) throw Error("Can't join with party without a party specified");
if (!this.server) throw Error("'server' property must be set");
this.nativeAlreadyJoined = t.nativeAlreadyJoined || !1;
}
return e.prototype.extend = function t(n) {
return new e(a({}, this, n));
}, e;
}();
t["default"] = u, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(661);
}, function(e, t, n) {
var r = n(145), o = n(277), a = n(408), i = n(278), s = n(405), l = n(665), u = n(667), p = n(666), c = n(407), f = n(409), d = n(406), h = n(404), y = n(402), g = n(403), m = {
stores: {
ServerStore: n(417),
ServerGameDataStore: n(99),
ServerFilterStore: n(125),
ServerBookmarkStore: n(413),
ServerHistoryStore: n(281),
ServerDetailsStore: n(415),
RentedServerDetailsStore: n(412),
SavedFiltersStore: n(212),
GameHintStore: n(411)
},
actions: {
ServerActions: n(22)
},
initialize: function b() {
a.startListening(), i.startListening(), s.startListening(), l.startListening(), 
u.startListening(), p.startListening(), c.startListening(), r.startToggleBookmarkClient(), 
f.startListening(), o.ListRSPClient.startListening(), d.startListening(), h.startListening(), 
y.startListening(), g.startListening();
}
};
e.exports = m;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return U(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(4), h = s(d), y = n(6), g = s(y), m = n(7), b = s(m), v = n(28), _ = s(v), S = n(16), w = s(S), T = n(281), C = s(T), E = n(22), I = s(E), P = n(430), O = s(P), A = n(222), k = s(A), R = n(23), x = s(R), M = n(17), N = s(M), $ = n(11), D = {
_$RecentServersGroup: {
displayName: "RecentServersGroup"
}
}, U = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-gameservers/src/RecentServersGroup.jsx",
components: D,
locals: [],
imports: []
}), L = {
seeAll: {
width: g["default"].getWidth(2),
position: "absolute",
top: 4 * -g["default"].GUTTER,
right: 0
}
}, F = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.subscription = k["default"].scope("userId").connect(this.onSessionUserChanged.bind(this)), 
this.subscribeToStores({
servers: _["default"](C["default"], this.props.gameId, "data")
});
}, t.prototype.onSessionUserChanged = function l(e) {
e && (I["default"].refreshHistory({
game: this.props.gameId
}), this.subscription && this.subscription.unsubscribe());
}, t.prototype.renderServerCards = function u() {
var e = this, t = (this.state.servers || []).slice(0, 6);
return h["default"].map(t, function(t) {
var n = {
group: "server",
game: e.props.gameId,
server: {
server: t
}
};
return {
$$typeof: p,
type: O["default"],
key: null,
ref: null,
props: r(O["default"].defaultProps, {
recommendation: n,
size: "M"
}),
_owner: null
};
});
}, t.prototype.render = function c() {
if (!this.state.servers || 0 === this.state.servers.length) return null;
var e = $.gameStore.getGame(this.props.gameId), t = SpartaGlobals.bundleIsPC && this.state.servers.length > 6 && {
$$typeof: p,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
textSize: "S",
text: __("ID_SPARTA_CONTENT_TITLE_SEEALL"),
style: L.seeAll,
action: function() {
return N["default"].gotoLocation(e.recentServersRoute);
}
}),
_owner: null
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: __("ID_SPARTA_CONTENT_TITLE_RECENTLYPLAYED").toUpperCase(),
style: {
marginBottom: g["default"].getHeight(2)
},
size: "S",
type: "emphasis"
}),
_owner: null
}, t ]
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderServerCards(),
style: {
flexDirection: "row"
}
},
_owner: null
} ],
style: this.props.style
},
_owner: null
};
};
var n = t;
return t = i("_$RecentServersGroup")(t) || t, t = w["default"]()(t) || t;
}(f["default"].Component);
t["default"] = F, F.propTypes = {
gameId: f["default"].PropTypes.string
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return E(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(16), y = s(h), g = n(7), m = s(g), b = n(28), v = s(b), _ = n(13), S = s(_), w = n(414), T = s(w), C = {
_$ServerCount: {
displayName: "ServerCount"
}
}, E = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-gameservers/src/ServerCount.jsx",
components: C,
locals: [],
imports: []
}), I = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.subscribeToStores({
count: v["default"](T["default"], this.props.counterId)
}), this.tweens = {
scale: S["default"].tween("6803d5f9:17", 1, S["default"].presets.list.enter)
};
}, t.prototype.shouldComponentUpdate = function l(e, t) {
return null !== t.count && this.state.count !== t.count;
}, t.prototype.componentWillUpdate = function u() {
var e = this;
this.scaleTo(1.25).then(function() {
return e.scaleTo(1);
});
}, t.prototype.componentWillUnmount = function f() {
this.tweens.scale.destroy();
}, t.prototype.scaleTo = function d(e) {
var t = this;
return new Promise(function(n) {
t.tweens.scale.isDestroyed() ? n() : t.tweens.scale.to(e, null, n);
});
}, t.prototype.formatCount = function h(e) {
return null == e ? "" : 0 === e ? __("ID_SPARTA_SERVER_COUNT_0") : 1 === e ? __("ID_SPARTA_SERVER_COUNT_1") : e >= 100 ? __("ID_SPARTA_SERVER_COUNT_OVER100") : __("ID_SPARTA_SERVER_COUNT_NORMAL").replace("[[count]]", e);
}, t.prototype.render = function g() {
var e = this.formatCount(this.state.count).toUpperCase(), t = {
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle()
};
return {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
value: e,
gameId: this.props.gameId,
size: this.props.size,
style: p({}, this.props.style, this.props.scale ? t : {})
}),
_owner: null
};
};
var n = t;
return t = i("_$ServerCount")(t) || t, t = y["default"]()(t) || t;
}(d["default"].Component);
t["default"] = I, I.propTypes = {
counterId: d["default"].PropTypes.string.isRequired,
gameId: d["default"].PropTypes.string.isRequired,
style: d["default"].PropTypes.object
}, I.defaultProps = {
scale: !1
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(16), h = s(d), y = n(28), g = s(y), m = n(13), b = s(m), v = n(414), _ = s(v), S = n(23), w = s(S), T = {
_$ServerCountButton: {
displayName: "ServerCountButton"
}
}, C = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-gameservers/src/ServerCountButton.jsx",
components: T,
locals: [],
imports: []
}), E = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.subscribeToStores({
count: g["default"](_["default"], this.props.counterId)
}), this.tweens = {
scale: b["default"].tween("e55d0591:19", 1, b["default"].presets.list.enter)
};
}, t.prototype.shouldComponentUpdate = function l(e, t) {
return null !== t.count && this.state.count !== t.count;
}, t.prototype.componentWillUpdate = function u() {
var e = this;
this.scaleTo(1.25).then(function() {
return e.scaleTo(1);
});
}, t.prototype.componentWillUnmount = function c() {
this.tweens.scale.destroy();
}, t.prototype.scaleTo = function f(e) {
var t = this;
return new Promise(function(n) {
t.tweens.scale.isDestroyed() ? n() : t.tweens.scale.to(e, null, n);
});
}, t.prototype.render = function d() {
var e = __("ID_SPARTA_ACTION_SERVER_VIEW");
null != this.state.count && (e = this.state.count >= 100 ? __("ID_SPARTA_ACTION_SERVER_VIEW_COUNT_OVER100") : __("ID_SPARTA_ACTION_SERVER_VIEW_COUNT").replace("[[serverCount]]", this.state.count));
var t = this.props.scale ? {
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle()
} : {};
return {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
text: e,
action: this.props.action,
style: this.props.style,
textStyle: t
}),
_owner: null
};
};
var n = t;
return t = i("_$ServerCountButton")(t) || t, t = h["default"]()(t) || t;
}(f["default"].Component);
t["default"] = E, E.propTypes = {
counterId: f["default"].PropTypes.string.isRequired,
action: f["default"].PropTypes.func.isRequired,
style: f["default"].PropTypes.object,
scale: f["default"].PropTypes["boolean"]
}, E.defaultProps = {
scale: !1
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = i["default"].reduce(e.filters, function(e, t) {
return e.protocolVersion === t.protocolVersion ? t : {};
});
return t.protocolVersion && (e.protocolVersion = t.protocolVersion), e;
}
var a = n(4), i = r(a), s = n(21), l = r(s), u = n(22), p = n(26), c = l["default"].createClient({
requestOn: [ u.fetchServerCounts ],
throttle: 500,
shouldPerformRequest: function f(e) {
return e.length > 0;
},
request: function d(e) {
var t = {
filters: e,
stopCountingAt: 100
};
return p.request("GameServer.countServers", o(t));
},
parse: function h(e) {
return e;
},
update: function y(e) {
u.setServerCounts(e);
}
});
e.exports = c;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(21), a = r(o), i = n(22), s = r(i), l = n(26), u = r(l), p = n(113), c = r(p), f = n(125), d = r(f), h = n(146), y = r(h), g = n(279), m = a["default"].createClient({
requestOn: [ s["default"].trackFilterJoin ],
shouldPerformRequest: function b(e) {
var t = e.game, n = d["default"].getState()[t], r = c["default"].getState()[t];
return !g.isDefaultFilter(n, r);
},
request: function v(e) {
var t = e.game, n = d["default"].getState()[t], r = y["default"](n);
return u["default"].request("Recommender.notifyFilterJoin", {
game: t,
filterJson: JSON.stringify(r)
});
},
parse: function _(e) {
return e;
},
update: function S() {}
});
e.exports = m;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(52), s = n(21), l = r(s), u = n(11), p = n(22), c = r(p), f = l["default"].createClient({
requestOn: [ i.gatewayClient.onSessionEstablished, c["default"].refreshGameData ],
listener: function d() {
return [ Object.keys(u.gameStore.games.toJS()) ];
},
request: function h(e) {
return i.gatewayClient.request("Gamedata.getGameServerData", {
games: e
});
},
parse: function y(e) {
return Object.keys(e).forEach(function(t) {
var n = e[t];
n.maps = n.maps.filter(function(e) {
return "MP" === e.levelType.toUpperCase();
}), "bf4" === t && a["default"].each(n.maps, function(e) {
return e.prettyName = e.name;
}), a["default"].each(n.modes, function(e) {
e.objectives && "EXAMPLE_HINT_NOT_IN_LOC" === e.objectives[0] && (e.objectives = []);
}), n.gameModes = n.modes, a["default"].each(n.gameModes, function(e) {
if (e.header && "" !== e.header && (e.catchphrase = e.header), e.body && "" !== e.body && (e.description = e.body), 
e.disabledFor = [], "Breakthrough" === e.name ? e.disabledFor = [ "ServerFilter" ] : "BreakthroughLarge" === e.name && (e.disabledFor = [ "ServerFilter", "QuickMatch" ]), 
e.videoUrl = null, n.tutorials) {
var t = a["default"].find(n.tutorials, function(t, n) {
return n === e.shortFilterKey;
});
t && (e.videoUrl = t);
}
});
}), e;
},
update: function g(e) {
c["default"].setGameData(e);
}
});
t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(21), a = r(o), i = n(26), s = a["default"].createClient({
throttle: 500,
request: function l(e, t) {
return i.request("GameServer.verifyPassword", {
game: e.game,
gameId: e.gameId,
password: t
});
},
parse: function u(e) {
return e;
},
update: function p(e) {
this.publish(e);
}
});
e.exports = s;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(4), i = r(a), s = n(123), l = r(s), u = function() {
function e() {
var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, e), this.id = t.id, this.filterName = t.filterName, this.version = t.version || 6, 
this.maps = new l["default"](t.maps), this.gameModes = new l["default"](t.gameModes), 
this.vehicles = new l["default"](t.vehicles), this.weaponClasses = new l["default"](t.weaponClasses), 
this.slots = new l["default"](t.slots), this.serverType = new l["default"](t.serverType), 
this.regions = new l["default"](t.regions), this.kits = new l["default"](t.kits), 
this.presets = new l["default"](t.presets), this.misc = new l["default"](t.misc), 
this.scales = new l["default"](t.scales), this.advanced = new l["default"](t.advanced), 
this.rules = new l["default"](t.rules), this.tickRates = new l["default"](t.tickRates), 
this.gameSizes = new l["default"](t.gameSizes), this.name = new l["default"](t.name);
}
return e.prototype.copy = function t(n, r) {
var o = Object.assign({}, this);
return o[n] = r, new e(o);
}, e.prototype.setFilterCondition = function n(e, t, r) {
var o = arguments.length <= 3 || void 0 === arguments[3] ? !1 : arguments[3];
if ("undefined" == typeof this[e]) return this;
var a = o && i["default"].some(this[e], function(e) {
return "off" === e;
});
return a ? null == this[e][t] ? this.copy(e, this[e].set(t, "off")) : this.copy(e, this[e].remove(t)) : null == r ? this.copy(e, this[e].remove(t)) : this.copy(e, this[e].set(t, r));
}, e.prototype.replaceFilterKeys = function r(e, t, n) {
if ("undefined" == typeof this[e]) return this;
var r = this[e];
return t && (r = r.remove(t)), n && (r = r.set(n, "on")), this.copy(e, r);
}, e.prototype.toggleConditionsInCategory = function a(e, t, n) {
var r = this;
if ("undefined" == typeof this[e]) return this;
var o = new l["default"]();
return i["default"].all(t, function(t) {
return r[e][t] === n;
}) || i["default"].each(t, function(e) {
return o = o.set(e, n);
}), this.copy(e, o);
}, e.prototype.invertCategory = function s(e, t, n) {
var r = this, o = i["default"].some(t, function(t) {
return "off" === r[e][t];
}), a = new l["default"]();
return t.forEach(function(t) {
null == r[e][t] && (a = a.set(t, o ? "on" : "off"));
}), this.copy(e, a);
}, e;
}();
t["default"] = u, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(672);
}, function(e, t, n) {
var r = n(68), o = n(49).Route;
e.exports = new o({
fonts: {
normal: r.fontState.fonts.generic.normal,
emphasis: r.fontState.fonts.generic.emphasis
}
});
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e, t) {
var n = arguments.length <= 2 || void 0 === arguments[2] ? function() {} : arguments[2];
t = t || __("ID_SPARTA_GAMESTATE_ERROR");
var r = e && (e.title || e) + "\n" + (e.description || "") || "";
a.alert(r, t).then(function() {
u.handleErrorPopupDismissed(), n();
});
}
var o = n(694), a = n(35), i = n(420), s = t(i), l = (n(1), n(69)), u = n(27), p = n(419);
n(544), e.exports = {
components: [ s["default"] ],
stores: {
LayoutVisibilityStore: n(53)
},
actions: {
LayoutActions: u,
OtherActions: p
},
initialize: function c() {
n(673)(), o.notificationBindings(), l.spartaErrorMessage.listen(r);
}
};
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(2), a = n(419), i = r(a), s = n(17), l = r(s), u = n(11);
e.exports = function() {
l["default"].goToParentRoute.listen(function() {
var e = u.layoutStateStore.current.config.parent;
e && l["default"].gotoLocation(e.location);
}), i["default"].spartaClientCaptureMouse.listen(function() {
o.frostbite.sendMessage("sparta.captureMouse");
}), i["default"].spartaClientMinimizeWindow.listen(function() {
o.frostbite.sendMessage("sparta.minimizeSpartaWindow");
}), i["default"].spartaClientExitToWindows.listen(function() {
o.frostbite.sendMessage("sparta.exitToWindows");
});
};
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return Ne(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(2), h = r(d), y = n(1), g = l(y), m = n(10), b = n(8), v = n(20), _ = l(v), S = n(37), w = l(S), T = n(6), C = l(T), E = n(17), I = l(E), P = n(19), O = l(P), A = n(18), k = l(A), R = n(38), x = l(R), M = n(12), N = l(M), $ = n(14), D = l($), U = n(7), L = l(U), F = n(13), G = l(F), j = n(77), B = l(j), H = n(48), V = l(H), z = n(131), W = l(z), q = n(70), K = l(q), X = n(312), Y = l(X), J = n(53), Q = l(J), Z = n(89), ee = l(Z), te = n(41), ne = n(34), re = l(ne), oe = n(166), ae = l(oe), ie = n(75), se = l(ie), le = n(298), ue = l(le), pe = n(103), ce = l(pe), fe = n(31), de = n(60), he = n(148), ye = l(he), ge = n(129), me = l(ge), be = n(27), ve = l(be), _e = n(30), Se = l(_e), we = n(309), Te = l(we), Ce = n(16), Ee = l(Ce), Ie = n(28), Pe = l(Ie), Oe = n(311), Ae = n(9), ke = n(74), Re = n(32), xe = n(114), Me = {
_$ComCenterHeader: {
displayName: "ComCenterHeader"
},
_$ComCenterUser: {
displayName: "ComCenterUser"
},
_$ComCenterGroup: {
displayName: "ComCenterGroup"
},
_$ComCenter: {
displayName: "ComCenter"
}
}, Ne = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/ComCenter.jsx",
components: Me,
locals: [],
imports: []
}), $e = Ae.bbOfflineUrl("/sparta/jsclient/builds/assets/invite_sent-b37cbd5b.png"), De = "#FFFFFFFF", Ue = "#000000", Le = function Ze() {
ae["default"].blockInputFor(500), ve["default"].hideComponent("comCenter");
}, Fe = function et(e) {
return [ k["default"].comCenter.maximized.style, {
position: "absolute",
zOffset: 40001,
height: k["default"].comCenter.maximized.style.height + C["default"].getHeight(5),
translateX: G["default"].tweenSwitch(0, -k["default"].comCenter.maximized.style.width, e),
translateY: xe.comCenterTranslateY.getStyle(),
padding: [ k["default"].dangerZoneSize.height, k["default"].dangerZoneSize.width, k["default"].dangerZoneSize.height, k["default"].dangerZoneSize.width ]
} ];
}, Ge = function tt(e, t) {
return {
flex: 1,
backgroundColor: e ? De : "#FFFFFF15",
height: 6 * C["default"].CELL_HEIGHT,
marginLeft: t ? C["default"].GUTTER : 0
};
}, je = function nt(e) {
return {
height: 6 * C["default"].CELL_HEIGHT + Re.isRTLLanguage() ? 0 : C["default"].GUTTER / 2,
justifyContent: "flex-start",
flexDirection: "row",
marginTop: e ? C["default"].GUTTER : 0,
marginBottom: C["default"].GUTTER
};
}, Be = function rt(e) {
return {
position: "absolute",
backgroundColor: e ? De : "#FFFFFF00",
top: 0,
bottom: 0,
right: -k["default"].dangerZoneSize.width,
left: -C["default"].GUTTER
};
}, He = function ot(e) {
return {
marginTop: C["default"].GUTTER / 2,
color: e ? Ue : "#FFFFFF"
};
}, Ve = function at(e) {
return {
color: e ? Ue : "#FFFFFF"
};
}, ze = h.createStyleSheet({
headerContainer: {
height: 14,
margin: [ C["default"].GUTTER, 0, C["default"].GUTTER, 0 ],
flexDirection: "row",
justifyContent: "space-between"
},
headerText: {
translateY: -7
},
dividerContainer: {
height: 1,
margin: [ C["default"].GUTTER, 0, C["default"].GUTTER, 0 ]
},
dividerLine: {
position: "absolute",
backgroundColor: "#88888888",
bottom: 0,
left: 0,
top: 0,
right: -k["default"].dangerZoneSize.width
},
comcenterContainerVisible: Fe(!0),
comcenterContainerHidden: Fe(!1),
tabsContainer: {
flexDirection: "row",
marginBottom: C["default"].GUTTER
},
tabContainerFocusedHasMargin: Ge(!0, !0),
tabContainerFocusedNoMargin: Ge(!0, !1),
tabContainerBlurredHasMargin: Ge(!1, !0),
tabContainerBlurredNoMargin: Ge(!1, !1),
tabIcon: {
flex: 1,
textureMode: "contain",
textureScale: .75,
textureAlign: [ .5, .5 ]
},
partyContainer: {
margin: [ C["default"].GUTTER, 0, C["default"].GUTTER, 0 ]
},
userContainerHasMargin: je(!0),
userContainerNoMargin: je(!1),
userBackgroundFocused: Be(!0),
userBackgroundBlurred: Be(!1),
userInviteSent: {
position: "absolute",
top: 0,
right: C["default"].getWidth(8),
height: 6 * C["default"].CELL_HEIGHT,
flexDirection: "row",
alignItems: "center",
left: -200
},
userInviteSentIndicator: {
width: 47,
height: 45,
spriteAnimation: {
spriteSheet: $e,
fps: 60,
frameWidth: 47,
frameHeight: 45,
totalFrames: 30,
looping: !1
}
},
userInviteSentText: {
color: "#ffffffff",
marginLeft: C["default"].GUTTER / 2,
textAlign: "center",
textAlignForRTL: "center",
width: C["default"].getWidth(2),
flexWrap: "wrap"
},
userAvatar: {
zOffset: 51,
width: 6 * C["default"].CELL_HEIGHT,
height: 6 * C["default"].CELL_HEIGHT,
marginRight: 2 * C["default"].GUTTER
},
userNameFocused: He(!0),
userNameBlurred: He(!1),
userCentered: {
zOffset: 51,
justifyContent: "center"
},
userPresenceFocused: Ve(!0),
userPresenceBlurred: Ve(!1),
pagination: {
content: {
flexDirection: "row",
justifyContent: "space-between",
alignItems: "center"
},
info: {},
button: {
width: C["default"].getHeight(4),
height: C["default"].getHeight(4)
}
}
}), We = w["default"]({}, G["default"].presets.trickleUp, {
initialState: "to"
}), qe = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = (this.props.text || "").toUpperCase(), t = Re.isRTLLanguage() ? {
textAlignForRTL: "left",
alignSelf: "flex-start",
paddingLeft: 2.5 * C["default"].GUTTER,
flex: 1
} : null;
return {
$$typeof: f,
type: d.AnimatedSurface,
key: null,
ref: null,
props: o(d.AnimatedSurface.defaultProps, {
children: {
$$typeof: f,
type: L["default"],
key: null,
ref: null,
props: o(L["default"].defaultProps, {
size: "S",
style: c({}, ze.headerText, t),
value: e,
section: "generic"
}),
_owner: null
},
style: ze.headerContainer
}),
_owner: null
};
};
var n = t;
return t = s("_$ComCenterHeader")(t) || t;
}(g["default"].Component);
qe.propTypes = {
text: g["default"].PropTypes.string.isRequired
};
var Ke = {
$$typeof: f,
type: d.AnimatedSurface,
key: null,
ref: null,
props: o(d.AnimatedSurface.defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: ze.dividerLine
},
_owner: null
},
style: ze.dividerContainer
}),
_owner: null
}, Xe = function it(e) {
return Ke;
}, Ye = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.timeouts = [], this.state = {
inviteSent: !1,
showInvite: !1
}, this.inviteTextTime = 2e3, this.inviteBlockTime = 5e3, this.focusItem = d.focus.create(this, "comcenter_user_" + t.user.displayName), 
ke.comcenterGroup.addMember(this.focusItem);
}
i(t, e), t.prototype.componentWillMount = function r() {
var e = this;
this.focusItem.onChange.listen(function() {
e.updateInput();
});
}, t.prototype.componentWillUpdate = function l(e, t) {
var n = this;
this.state.showInvite !== t.showInvite && this.timeouts.push(setTimeout(function() {
h.Native.playSpriteAnimation(n.refs.inviteIndicator.getSurfaceId(), t.showInvite);
}, 100));
}, t.prototype.componentWillUnmount = function u() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.getInput = function p() {
var e = this;
if (!this.focusItem.isFocused) return [];
var t = this.props, n = t.party, r = t.user, o = t.sessionUser, a = B["default"].getButtons(r, o);
if (!O["default"].getHostingGame().joinConfig.useSquadJoin && n.canInviteUserToParty(r) && this.state.inviteSent === !1) {
var i = "";
i = __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_PC" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_PS4" : "ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_XB1"), 
a.push(new D["default"]({
key: N["default"].Option2,
label: i,
action: function l() {
n.canCreateParty() && !n.isLeavingParty() && me["default"].create(), K["default"].waitForCreation().then(function() {
me["default"].invite(r), e.setState({
inviteSent: !0,
showInvite: !0
}), e.timeouts.push(setTimeout(function() {
e.setState({
showInvite: !1
});
}, e.inviteTextTime), setTimeout(function() {
e.setState({
inviteSent: !1
});
}, e.inviteBlockTime));
});
}
}));
}
o && o.presence.server && this.state.inviteSent === !1 && a.push(new D["default"]({
key: N["default"].Option4,
label: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_GAME"),
action: function u() {
Se["default"].sendServerInvite(r), e.setState({
inviteSent: !0
}), e.timeouts.push(setTimeout(function() {
e.setState({
inviteSent: !1
});
}, e.inviteBlockTime));
}
}));
var s = __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD" : "ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE");
return a.push(new D["default"]({
key: N["default"].Accept,
label: s,
action: function p() {
x["default"].showUserProfile(r);
}
})), a;
}, t.prototype.render = function y() {
var e = this.props.user, t = this.props.hasTopMargin ? ze.userContainerHasMargin : ze.userContainerNoMargin, n = this.focusItem.isFocused ? ze.userBackgroundFocused : ze.userBackgroundBlurred, r = this.focusItem.isFocused ? ze.userNameFocused : ze.userNameBlurred, a = this.focusItem.isFocused ? ze.userPresenceFocused : ze.userPresenceBlurred, i = this.bounds.width - ze.userAvatar.width - 25;
return {
$$typeof: f,
type: d.AnimatedSurface,
key: null,
ref: null,
props: o(d.AnimatedSurface.defaultProps, {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ g["default"].createElement("surface", {
style: ze.userInviteSentIndicator,
ref: "inviteIndicator"
}), {
$$typeof: f,
type: L["default"],
key: null,
ref: null,
props: o(L["default"].defaultProps, {
style: c({}, ze.userInviteSentText, {
translateY: G["default"].tweenTo(this.state.showInvite ? 0 : 25)
}),
size: "XS",
section: "generic",
value: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_SENT")
}),
_owner: null
} ],
style: c({}, ze.userInviteSent, {
opacity: G["default"].tweenTo(this.state.showInvite ? 1 : 0)
})
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: ce["default"],
key: null,
ref: null,
props: o(ce["default"].defaultProps, {
style: ze.userAvatar,
user: e,
showPresence: !0
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: L["default"],
key: null,
ref: null,
props: o(L["default"].defaultProps, {
size: "S",
style: r,
value: e.displayName,
type: "emphasis",
section: "generic"
}),
_owner: null
}, {
$$typeof: f,
type: de.Marquee,
key: null,
ref: null,
props: o(de.Marquee.defaultProps, {
children: {
$$typeof: f,
type: d.AnimatedSurface,
key: null,
ref: null,
props: o(d.AnimatedSurface.defaultProps, {
children: {
$$typeof: f,
type: L["default"],
key: null,
ref: null,
props: o(L["default"].defaultProps, {
size: "S",
style: a,
value: e.presence.toString(),
section: "generic"
}),
_owner: null
}
}),
_owner: null
},
scroll: this.focusItem.isFocused,
width: i
}),
_owner: null
} ],
style: c({}, ze.userCentered)
},
_owner: null
} ],
style: {
justifyContent: "flex-start",
flexDirection: "row",
opacity: this.state.inviteSent ? .66 : 1
}
},
_owner: null
} ],
style: c({}, t, {
zOffset: 50
}),
focusItem: this.focusItem
}),
_owner: null
};
};
var n = t;
return t = s("_$ComCenterUser")(t) || t, t = d.hasSurfaceBounds()(t) || t, t = _["default"]()(t) || t, 
t = b.observer(t) || t;
}(g["default"].Component), Je = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = {
localBounds: !1,
marginTop: 0 === this.props.index ? C["default"].getHeight(2) : 0
};
return g["default"].createElement(d.AnimatedSurface.Static, {
style: e,
ref: this.props.index
}, {
$$typeof: f,
type: qe,
key: "header",
ref: null,
props: o(qe.defaultProps, {
text: this.props.translation
}),
_owner: null
}, this.props.children, this.props.showDivider ? {
$$typeof: f,
type: Xe,
key: "divider",
ref: null,
props: o(Xe.defaultProps, {}),
_owner: null
} : void 0);
};
var n = t;
return t = s("_$ComCenterGroup")(t) || t;
}(g["default"].Component);
Je.defaultProps = {
showDivider: !0
};
var Qe = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
showPagination: !1,
page: 0,
totalPages: 0,
canGoBack: !1,
canGoForward: !1
};
}
i(t, e), t.prototype.componentWillMount = function r() {
var e = this;
this.cancelReaction = m.reaction(function() {
return ke.comcenterGroup.focusedMember;
}, function() {
return e.updateInput();
}), this.cancelQueryListener = d.focus.system.onInvalidQuery.listen(function(t) {
e.state.isVisible || t.reportInvalid(ke.comcenterGroup.members);
});
}, t.prototype.componentDidMount = function l() {
var e = this;
Te["default"].updatePagination.listen(function(t, n) {
e.refs.scroller.scrollTo(0, 0, !0), t > n ? Te["default"].fetchFriends(n, n) : 1 >= n ? e.setState({
showPagination: !1
}) : (e.state.page !== t + 1 || e.state.totalPages !== n) && e.setState({
showPagination: !0,
page: t + 1,
totalPages: n,
canGoBack: t + 1 > 1,
canGoForward: n > t + 1
});
}), this.dispose = m.autorun(function() {
!te.onlineState.isPresenceReady && e.state.isVisible && m.untracked(function() {
return Le();
});
});
}, t.prototype.componentWillUpdate = function u(e, t) {
this.state.isVisible !== t.isVisible && (ke.comcenterGroup.setActive("comCenterVisibility", t.isVisible), 
t.isVisible ? (this.isolateInputGroup(), ke.comcenterGroup.isolate(), this.focusActiveItem()) : (this.releaseInputGroup(), 
ke.comcenterGroup.deisolate(), h.focus.system.recalculate()));
}, t.prototype.componentWillUnmount = function p() {
this.cancelQueryListener(), this.dispose(), this.cancelReaction();
}, t.prototype.getInput = function y() {
var e = this;
if (!this.state.isVisible) return [];
var t = [ new D["default"]({
visible: !1,
action: Le,
key: N["default"].Home
}), new D["default"]({
visible: !1,
action: Le,
key: N["default"].End
}), new D["default"]({
key: N["default"].Decline,
label: __("ID_SPARTA_ACTION_BACK"),
action: Le
}), this.state.canGoBack ? new D["default"]({
visible: !this.state.presence.isTooYoung() && this.state.canGoBack ? void 0 : !1,
action: function o() {
e.fetchFriends(-1, e.state.canGoBack);
},
key: N["default"].Previous,
label: __("ID_SPARTA_LAYOUT_COMCENTER_GOBACK")
}) : new D["default"]({
visible: !1,
action: Le,
key: N["default"].Previous
}), this.state.canGoForward ? new D["default"]({
visible: !this.state.presence.isTooYoung() && this.state.canGoForward ? void 0 : !1,
action: function a() {
e.fetchFriends(1, e.state.canGoForward);
},
key: N["default"].Next,
label: __("ID_SPARTA_LAYOUT_COMCENTER_GOFORWARD")
}) : null ], n = !this.state.presence.isMissingMPPrivileges();
if (te.onlineState.isPresenceReady && this.state.isVisible) if (O["default"].getHostingGame().joinConfig.useSquadJoin) {
var r = null != se["default"].getState().status;
r || t.push(new D["default"]({
key: N["default"].Option1,
label: __("ID_SPARTA_LAYOUT_COMCENTER_SQUAD_JOIN"),
blockInputFor: 1e3,
action: function i() {
I["default"].gotoLocation(O["default"].getHostingGame().startRoute + "/mp/squadjoin");
}
}));
} else this.state.party.canLeaveParty() && n ? t.push(new D["default"]({
key: N["default"].Option1,
label: __(SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_COMCENTER_LEAVE_PARTY_PS4" : "ID_SPARTA_COMCENTER_LEAVE_PARTY_XB1"),
action: me["default"].leave
})) : this.state.party.canCreateParty() && n && t.push(new D["default"]({
key: N["default"].Option1,
label: __(SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_COMCENTER_CREATE_PARTY_PS4" : "ID_SPARTA_COMCENTER_CREATE_PARTY_XB1"),
action: me["default"].create
}));
return t;
}, t.prototype.focusActiveItem = function v(e) {
var t = ke.comcenterGroup.members[0];
t && t.setFocused();
}, t.prototype.fetchFriends = function S(e, t) {
t && Te["default"].fetchFriends(this.state.page + e, this.state.totalPages);
}, t.prototype.renderContent = function w() {
var e = this, t = [];
if (this.state.partyUsers.length > 0) {
var n = void 0;
n = __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_LAYOUT_COMCENTER_PARTY_XB1" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_LAYOUT_COMCENTER_PARTY_PS4" : "ID_SPARTA_LAYOUT_COMCENTER_PARTY_PC");
var r = this.state.partyUsers.map(function(t, n) {
return {
$$typeof: f,
type: Ye,
key: t.id,
ref: null,
props: o(Ye.defaultProps, {
user: t,
hasTopMargin: 0 === n,
party: e.state.party,
sessionUser: e.state.sessionUser
}),
_owner: null
};
}), a = {
index: 0,
key: "party",
translation: n,
showDivider: !0,
children: r
};
t.push(g["default"].createElement(Je, a));
}
var i = Oe.getGroupsForFriends(this.state.friends);
i.forEach(function(n, r) {
var a = {
index: r + 1,
key: n.key,
state: n.state,
translation: n.translation,
showDivider: r !== i.length - 1,
children: n.friends.map(function(t, n) {
return {
$$typeof: f,
type: Ye,
key: t.id,
ref: null,
props: o(Ye.defaultProps, {
user: t,
hasTopMargin: 0 === n,
party: e.state.party,
sessionUser: e.state.sessionUser
}),
_owner: null
};
})
};
t.push(g["default"].createElement(Je, a));
});
var s = {};
return Re.isRTLLanguage() && (s.textAlignForRTL = "left", s.marginRight = 9 * C["default"].GUTTER), 
0 === Object.keys(this.state.friends).length && t.push({
$$typeof: f,
type: Je,
key: "empty",
ref: null,
props: o(Je.defaultProps, {
children: {
$$typeof: f,
type: d.AnimatedSurface,
key: null,
ref: null,
props: o(d.AnimatedSurface.defaultProps, {
children: {
$$typeof: f,
type: L["default"],
key: null,
ref: null,
props: o(L["default"].defaultProps, {
value: __("ID_SPARTA_LAYOUT_COMCENTER_EMPTY_TEXT"),
size: "S",
section: "generic",
style: s
}),
_owner: null
}
}),
_owner: null
},
index: 1,
name: __("ID_SPARTA_LAYOUT_COMCENTER_EMPTY_TITLE"),
translation: __("ID_SPARTA_LAYOUT_COMCENTER_EMPTY_TITLE"),
showDivider: !1
}),
_owner: null
}), t;
}, t.prototype.renderPagination = function T() {
var e = __("ID_SPARTA_LAYOUT_COMCENTER_PAGER").replace("[[page]]", this.state.page).replace("[[total]]", this.state.totalPages), t = this.state.canGoBack ? {
texture: ye["default"].normal.Previous,
textureAtlas: "SpartaCommonAtlas"
} : null, n = this.state.canGoForward ? {
texture: ye["default"].normal.Next,
textureAtlas: "SpartaCommonAtlas"
} : null, r = ze.pagination;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, r.button, t)
},
_owner: null
}, {
$$typeof: f,
type: L["default"],
key: null,
ref: null,
props: o(L["default"].defaultProps, {
size: "S",
value: e,
style: r.info,
section: "generic"
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, r.button, n)
},
_owner: null
} ],
style: r.content
},
_owner: null
};
}, t.prototype.render = function E() {
var e, t = this.state.showPagination, n = this.state.isVisible ? ze.comcenterContainerVisible : ze.comcenterContainerHidden, r = k["default"].comCenter.width - C["default"].getWidth(2) - C["default"].GUTTER;
e = this.state.installState.isMpInstalled ? te.onlineState.isPresenceReady ? this.renderContent() : {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
} : {
$$typeof: f,
type: ue["default"],
key: null,
ref: null,
props: o(ue["default"].defaultProps, {
text: __("ID_SPARTA_LAYOUT_COMCENTER_INSTALLING_MP"),
state: this.state.installState
}),
_owner: null
};
var a = t ? -C["default"].getHeight(4) : -C["default"].getHeight(1.5), i = k["default"].comCenter.maximized.style.height + a - C["default"].getWidth(.75), s = [ 0, C["default"].getHeight(2), 0, C["default"].getHeight(2) ];
return g["default"].createElement("surface", {
ref: "container",
style: n
}, t && this.renderPagination(), g["default"].createElement(d.AnimatedSurface.Static, {
ref: "animation",
animation: We
}, g["default"].createElement(fe.Scroller, {
ref: "scroller",
style: {
height: i,
width: r
},
clipMargin: [ 0, 0, 0, C["default"].getWidth(3) ],
softClip: s
}, e)));
};
var n = t;
return t = s("_$ComCenter")(t) || t, t = _["default"]({
group: !0,
ignoreParentIsolation: !0
})(t) || t, t = Ee["default"]({
isVisible: Pe["default"](Q["default"], "comCenter"),
friends: W["default"],
party: K["default"],
partyUsers: Y["default"],
presence: re["default"],
sessionUser: V["default"],
installState: ee["default"]
})(t) || t, t = b.observer(t) || t;
}(g["default"].Component);
t["default"] = Qe, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return _e(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(4), y = s(h), g = n(11), m = n(2), b = n(308), v = n(67), _ = n(27), S = s(_), w = n(35), T = n(25), C = s(T), E = n(8), I = n(18), P = s(I), O = n(14), A = s(O), k = n(12), R = s(k), x = n(43), M = s(x), N = n(53), $ = s(N), D = n(50), U = s(D), L = n(89), F = s(L), G = n(34), j = s(G), B = n(16), H = s(B), V = n(28), z = s(V), W = n(6), q = s(W), K = n(7), X = s(K), Y = n(13), J = s(Y), Q = n(60), Z = n(103), ee = s(Z), te = n(105), ne = s(te), re = n(31), oe = n(150), ae = s(oe), ie = n(77), se = s(ie), le = n(74), ue = n(114), pe = n(311), ce = n(19), fe = s(ce), de = n(545), he = n(422), ye = s(he), ge = n(9), me = n(20), be = s(me), ve = {
_$GameViewComcenterButton: {
displayName: "GameViewComcenterButton"
},
_$PartySlot: {
displayName: "PartySlot"
},
_$ComCenterParty: {
displayName: "ComCenterParty"
},
_$PartyInfoContainer: {
displayName: "PartyInfoContainer"
},
_$PartyInviteMenu: {
displayName: "PartyInviteMenu"
},
_$PartyOverflow: {
displayName: "PartyOverflow"
},
_$PartyFriend: {
displayName: "PartyFriend"
}
}, _e = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/ComCenterParty.jsx",
components: ve,
locals: [],
imports: []
}), Se = b.actions.PartyActions, we = b.stores.FriendStore, Te = b.stores.PartyStore, Ce = b.stores.PartyUserStore, Ee = b.stores.SessionUserStore, Ie = 5, Pe = q["default"].getHeight(6), Oe = function Ue() {
return __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_LAYOUT_COMCENTER_PARTY_PC" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_LAYOUT_COMCENTER_PARTY_PS4" : "ID_SPARTA_LAYOUT_COMCENTER_PARTY_XB1");
}, Ae = m.createStyleSheet({
slot: {
zOffset: 6,
marginLeft: q["default"].GUTTER / 2,
width: Pe,
height: Pe,
enableMouseEvents: !1
},
members: {
flexDirection: "row"
},
overflowSlot: {
alignItems: "center",
justifyContent: "center",
texture: ge.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ]
},
overflowText: {
color: "#ffffff"
},
avatarPlaceholder: {
texture: ge.bbOfflineUrl("/sparta/jsclient/builds/assets/party-add-4f81dcd1.png"),
textureAtlas: "SpartaCommonAtlas",
textureMode: "none",
opacity: .3
},
avatarPlaceholderHover: {
opacity: .8
},
leaveable: {
position: "relative"
},
leaveButtonBackground: {
zOffset: 100,
position: "absolute",
top: 0,
right: 0,
padding: 2
},
leaveButton: {
width: 10,
height: 10,
texture: ge.bbOfflineUrl("/sparta/assets/layout/comcenter/small_close-a90991b2.png")
},
leaveButtonIconHover: {
texture: ge.bbOfflineUrl("/sparta/assets/layout/comcenter/small_close_hover-d29d535c.png"),
textureAtlas: "SpartaCommonAtlas"
},
popupContainer: {
width: P["default"].screen.style.width,
height: P["default"].screen.style.height,
position: "absolute",
right: 0,
bottom: 0,
textureMode: "contain",
flexDirection: "column",
justifyContent: "flex-start",
alignItems: "center",
paddingTop: P["default"].dangerZoneSize.height
},
popupScrollerContainer: {
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
marginTop: P["default"].dangerZoneSize.height
},
closeButtonContainer: {
position: "absolute",
top: P["default"].dangerZoneSize.height,
right: P["default"].dangerZoneSize.width,
zOffset: 100
},
friendScroller: {
width: q["default"].getWidth(11),
marginTop: q["default"].GUTTER
},
friendContainer: {
height: q["default"].getHeight(6),
flexDirection: "row",
zOffset: 50,
marginBottom: q["default"].GUTTER,
alignItems: "center",
justifyContent: "space-between"
},
profile: {
flex: 6,
flexDirection: "row",
alignItems: "center"
},
friendText: {
flex: 3,
flexDirection: "column",
paddingLeft: 2 * q["default"].GUTTER,
marginRight: q["default"].GUTTER
},
marqueeText: {
zOffset: 5
},
comCenterGroupStyle: {
zOffset: 3e4,
width: P["default"].comCenter.maximized.style.width - 2 * q["default"].GUTTER,
position: "absolute",
right: 4 * -q["default"].GUTTER,
top: P["default"].comCenter.maximized.style.height - q["default"].getHeight(3),
translateY: ue.comCenterTranslateY.getStyle()
},
iconsContainer: {
right: 3 * q["default"].GUTTER,
top: 3 * q["default"].GUTTER,
position: "absolute",
flexDirection: "row",
flexWrap: "nowrap"
},
friendsOnlineText: {
marginLeft: 5
},
friendsIcon: {
zOffset: 1,
width: 44,
height: 30,
texture: ge.bbOfflineUrl("/sparta/jsclient/builds/assets/friends-icon-84691f65.png"),
textureAtlas: "SpartaCommonAtlas",
alignSelf: "center"
},
friendIconsContainer: {
padding: [ 0, q["default"].GUTTER / 2, 0, q["default"].GUTTER / 2 ],
height: q["default"].getHeight(6),
width: q["default"].getHeight(6),
texture: ge.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureAtlas: "SpartaCommonAtlas",
textureBorder: [ 2, 2, 2, 2 ],
selfOpacity: .7,
textureMode: "fill",
flexDirection: "row",
alignItems: "center",
justifyContent: "center"
}
}), ke = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = m.focus.create(this, "gameview_comcenter_button"), 
this.focusItem.onFocus(function() {
t.onFocus && t.onFocus();
}), le.comcenterGroup.addMember(this.focusItem);
}
a(t, e), t.prototype.render = function r() {
var e = this.focusItem.isFocused ? {
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
backgroundColor: "#ffffff10",
opacity: 1
} : null;
return d["default"].createElement("surface", p({
"static": !0,
style: Ae.friendIconsContainer
}, this.focusItem.hooks), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
"static": !0,
style: Ae.friendsIcon
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: e
},
_owner: null
});
};
var n = t;
return t = i("_$GameViewComcenterButton")(t) || t, t = E.observer(t) || t;
}(d["default"].Component), Re = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = m.focus.create(this, "comcenter_party_slot"), 
le.comcenterGroup.addMember(this.focusItem), this.state = {
partyTitle: Oe()
};
}
a(t, e), t.prototype.componentWillMount = function s() {
this.handleFocusListeners(this.props);
}, t.prototype.componentWillUpdate = function l(e) {
this.handleFocusListeners(e);
}, t.prototype.getInput = function u() {
var e = this;
return this.focusItem.isFocused ? [ new A["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: R["default"].Accept,
action: function t() {
return e.select();
}
}) ] : void 0;
}, t.prototype.handleFocusListeners = function f(e) {
var t = this;
this.prevSlotType !== e.slot.type && (this.prevSlotType = e.slot.type, this.unsubscribeClick && this.unsubscribeClick(), 
this.unsubscribeClick && this.unsubscribeClick(), this.unsubscribeFocus && this.unsubscribeFocus(), 
this.unsubscribeBlur && this.unsubscribeBlur(), this.unsubscribeHover && this.unsubscribeHover(), 
this.unsubscribeLeave && this.unsubscribeLeave(), this.unsubscribeClick = this.focusItem.onClick.listen(function() {
return t.select();
}), this.unsubscribeFocus = this.focusItem.onFocus(function() {
t.changeHeading(t.props.slot.displayName);
}), this.unsubscribeBlur = this.focusItem.onBlur(function() {
t.changeHeading();
}), this.unsubscribeHover = this.focusItem.onHover(function() {
t.changeHeading(t.props.slot.displayName);
}), this.unsubscribeLeave = this.focusItem.onLeave(function() {
t.changeHeading();
}));
}, t.prototype.select = function h() {
switch (this.props.slot.type) {
case "empty":
this.inviteToParty();
break;

default:
this.showPartyOverflow();
}
}, t.prototype.changeHeading = function b(e) {
this.canLeaveParty() && this.props.changeHeading(e);
}, t.prototype.canLeaveParty = function v() {
return this.props.isSessionUser && this.props.party && this.props.party.canLeaveParty() || !this.props.isSessionUser;
}, t.prototype.leaveParty = function _(e) {
var t = "", n = "";
SpartaGlobals.bundleIsPC ? (t = __("ID_SPARTA_LAYOUT_COMCENTER_LEAVE_PARTY_CONFIRM_PC"), 
n = __("ID_SPARTA_LAYOUT_COMCENTER_LEAVE_PARTY_TITLE_PC")) : SpartaGlobals.bundleIsPS4 ? (t = __("ID_SPARTA_LAYOUT_COMCENTER_LEAVE_PARTY_CONFIRM_PS4"), 
n = __("ID_SPARTA_LAYOUT_COMCENTER_LEAVE_PARTY_TITLE_PS4")) : (t = __("ID_SPARTA_LAYOUT_COMCENTER_LEAVE_PARTY_CONFIRM_XB1"), 
n = __("ID_SPARTA_LAYOUT_COMCENTER_LEAVE_PARTY_TITLE_XB1")), w.confirm(t, n, __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_NO"), "leaveParty").then(function() {
Se.leave(), e();
});
}, t.prototype.inviteToParty = function S() {
return new Promise(function(e, t) {
var n = g.layoutStateStore.current.config.gameId || "generic", o = "";
o = __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_LAYOUT_COMCENTER_INVITE_FRIENDS_PC" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_LAYOUT_COMCENTER_INVITE_FRIENDS_PS4" : "ID_SPARTA_LAYOUT_COMCENTER_INVITE_FRIENDS_XB1"), 
C["default"].display({
fullScreen: !0,
blurBackground: !1,
createButtons: !1,
content: {
$$typeof: c,
type: Me,
key: null,
ref: null,
props: r(Me.defaultProps, {
children: {
$$typeof: c,
type: Ne,
key: null,
ref: null,
props: r(Ne.defaultProps, {
section: n
}),
_owner: null
},
heading: o,
onClose: e,
section: n
}),
_owner: null
},
inputs: [ new A["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: R["default"].Decline,
action: e
}) ]
});
});
}, t.prototype.showPartyOverflow = function T() {
return new Promise(function(e, t) {
var n = g.layoutStateStore.current.config.gameId || "generic", o = "";
o = __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_LAYOUT_COMCENTER_PARTY_MEMBERS_PC" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_LAYOUT_COMCENTER_PARTY_MEMBERS_PS4" : "ID_SPARTA_LAYOUT_COMCENTER_PARTY_MEMBERS_XB1"), 
C["default"].display({
fullScreen: !0,
blurBackground: !1,
createButtons: !1,
content: {
$$typeof: c,
type: Me,
key: null,
ref: null,
props: r(Me.defaultProps, {
children: {
$$typeof: c,
type: $e,
key: null,
ref: null,
props: r($e.defaultProps, {
section: n
}),
_owner: null
},
heading: o,
section: n,
onClose: e
}),
_owner: null
},
inputs: [ new A["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: R["default"].Decline,
action: e
}) ]
});
});
}, t.prototype.renderOverflowSlot = function I(e) {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: X["default"],
key: null,
ref: null,
props: r(X["default"].defaultProps, {
size: "M",
style: Ae.overflowText,
type: "emphasis",
value: "+" + e.count.toString(),
section: "generic"
}),
_owner: null
},
style: p({}, Ae.slot, Ae.overflowSlot)
},
_owner: null
};
}, t.prototype.renderQuitButton = function P(e) {
var t = this, n = this.state.hoveredLeaveButton ? Ae.leaveButtonIconHover : null, r = this.state.hoveredLeaveButton ? {
backgroundColor: "#ffffff99"
} : {
backgroundColor: "#00000099"
}, o = "";
return o = __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_LAYOUT_COMCENTER_CLICK_LEAVE_PC" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_LAYOUT_COMCENTER_CLICK_LEAVE_PS4" : "ID_SPARTA_LAYOUT_COMCENTER_CLICK_LEAVE_XB1"), 
{
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, Ae.leaveButton, n)
},
_owner: null
},
style: p({}, Ae.leaveButtonBackground, r),
onClick: function(n) {
n.stopPropagation.trigger(), t.leaveParty(e);
},
onMouseEnter: function() {
t.setState({
hoveredLeaveButton: !0
}), e(o);
},
onMouseLeave: function() {
t.setState({
hoveredLeaveButton: !1
}), e();
}
},
_owner: null
};
}, t.prototype.renderUserSlot = function O(e, t) {
var n = e;
if ("ONLINE" === e.presence.state) {
var r = new ae["default"](y["default"].extend({}, e.presence, {
state: "PLAYING"
})), o = y["default"].extend({}, e, {
presence: r
});
n = new se["default"](o);
}
return t ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderQuitButton(t), this.renderMemberSlot(n) ],
style: p({}, Ae.leaveable)
},
_owner: null
} : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderMemberSlot(n),
style: p({}, Ae.leaveable)
},
_owner: null
};
}, t.prototype.renderEmptyPlaceholderSlot = function k(e) {
var t = e ? Ae.avatarPlaceholderHover : null;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, Ae.slot, Ae.avatarPlaceholder, t)
},
_owner: null
};
}, t.prototype.renderMemberSlot = function x(e) {
return {
$$typeof: c,
type: ee["default"],
key: null,
ref: null,
props: r(ee["default"].defaultProps, {
style: Ae.slot,
size: Pe,
user: e,
showPresence: !0
}),
_owner: null
};
}, t.prototype.render = function M() {
var e = this.state.party, t = this.props, n = t.slot, r = t.changeHeading, o = t.isSessionUser, a = void 0;
switch (n.type) {
case "empty":
a = this.renderEmptyPlaceholderSlot(this.focusItem.isFocused);
break;

case "overflow":
a = this.renderOverflowSlot(n);
break;

default:
a = o && e && e.canLeaveParty() ? this.renderUserSlot(n, r) : o ? this.renderUserSlot(n) : this.renderMemberSlot(n);
}
return d["default"].createElement("surface", this.focusItem.hooks, a);
};
var n = t;
return t = i("_$PartySlot")(t) || t, t = E.observer(t) || t, t = H["default"]({
party: Te
})(t) || t, t = be["default"]()(t) || t;
}(d["default"].Component), xe = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
partyTitle: Oe()
};
}
a(t, e), t.prototype.slots = function s() {
var e = this.state, t = e.partyMembers, n = e.sessionUser, r = e.gameViewVisible, o = SpartaGlobals.bundleIsPC && r ? Ie - 1 : Ie, s = t.slice(), a = n && n.spartaUserId.getPlatformId();
for (0 === t.length && s.push(n || {
type: "empty"
}), s.sort(function(e, t) {
return e && e.spartaUserId.getPlatformId() === a ? -1 : t && t.spartaUserId.getPlatformId() === a ? 1 : 0;
}); s.length < o; ) s.push({
type: "empty"
});
return t.length > o ? (s[o - 1] = {
type: "overflow",
count: t.length - o + 1
}, s.slice(0, o)) : s;
}, t.prototype.changeHeading = function l(e) {
this.setState({
partyTitle: e ? e : Oe()
});
}, t.prototype.openComCenter = function u(e) {
S["default"].showComponent("comCenter");
}, t.prototype.render = function p() {
var e = this, t = this.slots(), n = this.state, o = n.partyTitle, a = n.sessionUser, i = n.gameViewVisible, s = n.visible, l = SpartaGlobals.bundleIsPC && i, u = this.state.maximized, p = !fe["default"].getHostingGame().joinConfig.useSquadJoin && s, f = t.map(function(t) {
return {
$$typeof: c,
type: Re,
key: null,
ref: null,
props: r(Re.defaultProps, {
slot: t,
changeHeading: e.changeHeading.bind(e),
isSessionUser: y["default"].isEqual(a, t)
}),
_owner: null
};
});
return l && f.push({
$$typeof: c,
type: ke,
key: null,
ref: null,
props: r(ke.defaultProps, {
onFocus: function(t) {
return e.openComCenter(t);
}
}),
_owner: null
}), p ? {
$$typeof: c,
type: ye["default"],
key: null,
ref: null,
props: r(ye["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: f,
style: Ae.members
},
_owner: null
},
alwaysVisible: !0,
hideMiniIcon: !0,
state: "party",
translation: o,
showDivider: !1,
maximized: u,
style: Ae.comCenterGroupStyle
}),
_owner: null
} : null;
};
var n = t;
return t = i("_$ComCenterParty")(t) || t, t = E.observer(t) || t, t = H["default"]({
partyMembers: Ce,
sessionUser: Ee,
maximized: z["default"]($["default"], "comCenter"),
gameViewVisible: z["default"](U["default"], "isVisible"),
visible: M["default"].join($["default"].scope("miniComCenter"), j["default"], F["default"]).transform(function(e, t, n) {
return e && t.isReady() && !t.isTooYoung() && t.isFirstPartyConnected && n.isMpInstalled;
})
})(t) || t;
}(d["default"].Component);
xe.defaultProps = {
partyMembers: []
};
var Me = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.opacityTween = J["default"].tween("7d6dd058:638", 0);
}
a(t, e), t.prototype.onClose = function s() {
var e = this, s = this.props.onClose, t = this.props.popupInfo.id;
this.opacityTween.to(0, {
duration: 250
}, function() {
e.opacityTween && e.opacityTween.destroy(), C["default"].close(t), s();
});
}, t.prototype.popupWillShow = function l() {
this.opacityTween.to(1, {
delay: 200
});
}, t.prototype.render = function u() {
var e = this, t = ge.bbOfflineUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"), n = SpartaGlobals.bundleIsPC ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: m.Focusable,
key: null,
ref: null,
props: r(m.Focusable.defaultProps, {
children: function l(n) {
return {
$$typeof: c,
type: ne["default"],
key: null,
ref: null,
props: r(ne["default"].defaultProps, {
action: e.onClose.bind(e),
size: 24,
focusItem: n,
icon: t,
style: {
padding: q["default"].GUTTER
}
}),
_owner: null
};
},
debugName: "party_close"
}),
_owner: null
},
style: p({}, Ae.closeButtonContainer)
},
_owner: null
} : null, o = p({}, Ae.popupContainer, {
top: 0,
left: 0,
opacity: this.opacityTween.getStyle()
}), a = {
height: q["default"].getHeight(8)
}, i = P["default"].screen.style.height - 2 * P["default"].dangerZoneSize.height - a.height, s = p({}, Ae.friendScroller, {
height: i
});
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ n, {
$$typeof: c,
type: X["default"],
key: null,
ref: null,
props: r(X["default"].defaultProps, {
size: "L",
value: this.props.heading,
style: a,
section: this.props.section
}),
_owner: null
}, d["default"].createElement(re.Scroller, {
key: "scroller",
ref: "scroller",
style: p({}, s, {
height: i,
width: q["default"].getWidth(11)
}),
softClip: [ 0, q["default"].getHeight(3), 0, q["default"].getHeight(3) ]
}, this.props.children) ],
style: p({}, o)
},
_owner: null
};
};
var n = t;
return t = i("_$PartyInfoContainer")(t) || t, t = E.observer(t) || t;
}(d["default"].Component), Ne = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.shouldComponentUpdate = function s(e, t) {
return !y["default"].isEqual(this.state.friends, t.friends);
}, t.prototype.getSortedFriends = function l() {
var e = this.state.friends;
if (!e) return [];
var t = y["default"].filter(e, function(e) {
return e.presence.state !== v.UserPresenceStates.Offline;
});
return t.sort(pe.compareFriends), t;
}, t.prototype.render = function u() {
var e = this, t = this.getSortedFriends();
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: t.map(function(t) {
return {
$$typeof: c,
type: De,
key: null,
ref: null,
props: r(De.defaultProps, {
friend: t,
showButton: !0,
section: e.props.section
}),
_owner: null
};
})
},
_owner: null
};
};
var n = t;
return t = i("_$PartyInviteMenu")(t) || t, t = E.observer(t) || t, t = H["default"]({
friends: we
})(t) || t;
}(d["default"].Component), $e = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this, t = this.state.partyMembers;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: t.map(function(t) {
return {
$$typeof: c,
type: De,
key: null,
ref: null,
props: r(De.defaultProps, {
friend: t,
section: e.props.section
}),
_owner: null
};
})
},
_owner: null
};
};
var n = t;
return t = i("_$PartyOverflow")(t) || t, t = E.observer(t) || t, t = H["default"]({
partyMembers: Ce
})(t) || t;
}(d["default"].Component), De = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = m.focus.create(this, "comcenter_party_friend_" + t.friend.displayName);
}
a(t, e), t.prototype.render = function s() {
var e = this.props.friend, t = this.focusItem.isFocused;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ d["default"].createElement("surface", p({}, this.focusItem.hooks, {
style: p({}, Ae.profile, {
backgroundColor: t ? "#ffffff" : null
})
}), {
$$typeof: c,
type: ee["default"],
key: null,
ref: null,
props: r(ee["default"].defaultProps, {
style: p({}, Ae.slot),
size: Pe,
user: e
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: Q.Marquee,
key: null,
ref: null,
props: r(Q.Marquee.defaultProps, {
children: {
$$typeof: c,
type: X["default"],
key: null,
ref: null,
props: r(X["default"].defaultProps, {
size: "S",
type: "emphasis",
style: p({}, Ae.marqueeText, {
color: t ? "#000000" : "#ffffff"
}),
value: e.displayName
}),
_owner: null
},
scroll: t
}),
_owner: null
}, {
$$typeof: c,
type: Q.Marquee,
key: null,
ref: null,
props: r(Q.Marquee.defaultProps, {
children: {
$$typeof: c,
type: X["default"],
key: null,
ref: null,
props: r(X["default"].defaultProps, {
size: "XS",
style: p({}, Ae.marqueeText, {
color: t ? "#000000" : "#a8a8a8"
}),
value: e.presence.toString()
}),
_owner: null
},
loop: t
}),
_owner: null
} ],
style: p({}, Ae.friendText)
},
_owner: null
}), this.props.showButton && {
$$typeof: c,
type: de.PartyFriendButton,
key: null,
ref: null,
props: r(de.PartyFriendButton.defaultProps, {
friend: e,
party: this.state.party
}),
_owner: null
} ],
style: p({}, Ae.friendContainer)
},
_owner: null
};
};
var n = t;
return t = i("_$PartyFriend")(t) || t, t = E.observer(t) || t, t = H["default"]({
party: Te
})(t) || t;
}(d["default"].Component);
De.defaultProps = {
showButton: !1
}, t["default"] = xe, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return k(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(2), y = n(181), g = s(y), m = n(6), b = s(m), v = n(284), _ = s(v), S = n(96), w = s(S), T = n(27), C = s(T), E = n(7), I = s(E), P = n(13), O = s(P), A = {
_$ContextMenuOption: {
displayName: "ContextMenuOption"
},
_$ContextMenu: {
displayName: "ContextMenu"
},
_$ContextMenuContainer: {
displayName: "ContextMenuContainer"
}
}, k = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/ContextMenus.jsx",
components: A,
locals: [],
imports: []
}), R = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, x = {
container: {
zOffset: 9e4,
position: "absolute",
top: g["default"].screen.top,
left: g["default"].screen.left,
width: g["default"].screen.width,
height: g["default"].screen.height
},
tint: c({
zOffset: 1,
backgroundColor: "#00000000"
}, R),
menu: {
zOffset: 2,
position: "absolute"
},
option: function D(e) {
return {
padding: [ 1.5 * b["default"].GUTTER, 2 * b["default"].GUTTER, 1.5 * b["default"].GUTTER, 2 * b["default"].GUTTER ],
backgroundColor: e ? "#ffffff" : "#000000",
flex: 1
};
},
optionText: function U(e) {
return {
color: e ? "#000000" : "#ffffff",
textAlignForRTL: "left"
};
}
}, M = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
isHovered: !1
};
}
a(t, e), t.prototype.onClick = function s(e) {
e.stopPropagation.trigger(), this.props.onClick();
}, t.prototype.render = function l() {
var e = this, t = x.option(this.state.isHovered), n = x.optionText(this.state.isHovered);
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {
type: "emphasis",
size: "XS",
value: this.props.label.toUpperCase(),
style: n
}),
_owner: null
},
style: t,
onMouseEnter: function() {
return e.setState({
isHovered: !0
});
},
onMouseLeave: function() {
return e.setState({
isHovered: !1
});
},
onClick: this.onClick.bind(this)
},
_owner: null
};
};
var n = t;
return t = i("_$ContextMenuOption")(t) || t;
}(d["default"].Component), N = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidUpdateBounds = function s() {
this.props.onBoundsChanged && this.props.onBoundsChanged(this.bounds);
}, t.prototype.render = function l() {
var e = this, t = this.props.options.map(function(t, n) {
return {
$$typeof: p,
type: M,
key: n,
ref: null,
props: r(M.defaultProps, {
label: t.label,
onClick: function() {
e.props.onOptionSelected(), t.action();
}
}),
_owner: null
};
}), n = c({}, x.menu, this.props.style);
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: n
},
_owner: null
};
};
var n = t;
return t = i("_$ContextMenu")(t) || t, t = h.hasSurfaceBounds()(t) || t;
}(d["default"].Component), $ = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
isVisible: !1,
options: [],
bounds: {
left: 0,
top: 0
}
};
}
a(t, e), t.prototype.getBestBounds = function r(e, t, n, o, a) {
var i = {
left: e.x,
top: e.y,
right: e.x + t.width,
bottom: e.y + t.height
};
if ("right" === o && (i.left -= t.width, i.right -= t.width), "bottom" === o && (i.top -= t.height, 
i.bottom -= t.height), i.top < 0 && (i.top = e.y, i.bottom = e.y + t.height), i.left < 0 && (i.left = e.x, 
i.right = e.x + t.width), i.right > n.width && (i.right = e.x, i.left = e.x - t.width), 
i.bottom > n.height) {
var s = a ? e.y - a : e.y;
i.bottom = s, i.top = s - t.height;
}
return {
left: i.left,
top: i.top,
width: t.width,
height: t.height
};
}, t.prototype.displayMenu = function s(e, t, n, r, o, a, i) {
var s = this;
this.state.isVisible && this.hideMenu();
var l = function p(e) {
var o = s.getBestBounds(t, e, x.container, n, i);
o ? s.setState({
bounds: o,
isVisible: !0,
onBoundsChanged: null
}) : s.setState({
isVisible: !0,
onBoundsChanged: null
}), r && r();
}, u = a || 0;
this.setState({
options: e,
bounds: {
width: u
},
isVisible: !1,
onBoundsChanged: l
}), this.closeCallback = o, C["default"].showComponent("contextMenus");
}, t.prototype.hideMenu = function l(e) {
this.setState({
isVisible: !1,
options: [],
bounds: {}
}), this.closeCallback && (this.closeCallback(e), delete this.closeCallback), C["default"].hideComponent("contextMenus");
}, t.prototype.render = function u() {
var e = this, t = c({}, x.container, {
enableMouseEvents: this.state.isVisible
}), n = c({}, x.tint, {
opacity: O["default"].tweenTo(this.state.isVisible ? 1 : 0)
}), r = c({
opacity: this.state.isVisible ? 1 : 0
}, this.state.bounds);
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: n,
onClick: function(t) {
return e.hideMenu(t);
}
},
_owner: null
}, d["default"].createElement(N, {
ref: "menu",
options: this.state.options,
style: r,
onOptionSelected: function() {
return e.hideMenu();
},
onBoundsChanged: this.state.onBoundsChanged
}) ],
style: t
},
_owner: null
};
};
var n = t;
return t = i("_$ContextMenuContainer")(t) || t, t = w["default"]({
displayMenu: _["default"].display,
hideMenu: _["default"].hide
})(t) || t;
}(d["default"].Component);
t["default"] = $, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return oe(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(10), g = n(8), m = n(2), b = r(m), v = n(346), _ = n(53), S = l(_), w = n(28), T = l(w), C = n(16), E = l(C), I = n(11), P = n(14), O = l(P), A = n(12), k = l(A), R = n(7), x = l(R), M = n(6), N = l(M), $ = n(105), D = l($), U = n(91), L = l(U), F = n(18), G = l(F), j = n(44), B = l(j), H = n(75), V = l(H), z = n(30), W = l(z), q = n(46), K = l(q), X = n(169), Y = n(13), J = l(Y), Q = n(27), Z = l(Q), ee = n(23), te = l(ee), ne = n(9), re = {
_$GameJoinNotice: {
displayName: "GameJoinNotice"
}
}, oe = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/GameJoinNotice.jsx",
components: re,
locals: [],
imports: []
}), ae = ne.bbOfflineUrl("/sparta/jsclient/builds/assets/matchmaking-sprite-7c9ed045.png"), ie = ne.bbUrl("/sparta/jsclient/builds/assets/BF1-Premium-Notice-9d796ca2.png"), se = ne.bbUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"), le = {
width: 421,
height: 85
}, ue = G["default"].logo.left - (le.width - G["default"].logo.width), pe = {
container: {
zOffset: 19999,
position: "absolute",
top: 0,
left: ue,
width: le.width,
backgroundColor: [ 0, 0, 0, 128 ]
},
statusText: {
textAlign: "center",
textAlignForRTL: "center",
width: le.width
},
overlay: {
paddingTop: 4 * N["default"].GUTTER,
paddingBottom: 3 * N["default"].GUTTER
},
indicatorContainer: {
position: "absolute",
left: 0,
bottom: -4,
height: le.height,
width: le.width,
enableMouseEvents: !1
},
indicator: {
spriteAnimation: {
spriteSheet: ae,
fps: 60,
frameWidth: le.width,
frameHeight: le.height,
totalFrames: 56,
looping: !0
},
width: le.width,
height: le.height
},
closeIcon: {
position: "absolute",
right: 15,
top: 15,
height: N["default"].getHeight(2),
width: N["default"].getHeight(2)
},
buttonsContainer: {
marginTop: 1.5 * N["default"].GUTTER,
alignItems: "center"
},
inlineInputPC: {
width: N["default"].getWidth(3.2),
height: 5 * N["default"].GUTTER
},
inlineInputConsole: {}
}, ce = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.tweens = {
translateY: J["default"].tween("f6adc53e:111", -N["default"].getHeight(20)),
opacity: J["default"].tween("f6adc53e:112", 0)
};
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this;
this.dispose = y.reaction(function() {
return v.joinFlowState.showNotice;
}, function(t) {
t ? e.showNotice() : e.hideNotice();
}, !0);
}, t.prototype.componentWillUnmount = function l() {
var e = this;
this.dispose(), this.hideNotice().then(function() {
e.tweens.opacity.destroy(), e.tweens.translateY.destroy();
});
}, t.prototype.getReturnInput = function u() {
return this.canOpenGameView() ? new O["default"]({
label: __("ID_SPARTA_MATCHMAKING_OPEN_GAME"),
key: k["default"].Start,
action: function e() {
K["default"].browseWhileWaiting(!1);
}
}) : void 0;
}, t.prototype.getCancelInput = function p() {
return this.canCancelMatchmaking() ? new O["default"]({
label: __("ID_SPARTA_MATCHMAKING_CANCEL_MATCHMAKING"),
key: k["default"].Start,
action: function e() {
W["default"].stopGame();
}
}) : this.canLeaveQueue() ? new O["default"]({
label: __("ID_SPARTA_MATCHMAKING_LEAVE_QUEUE"),
key: k["default"].Start,
action: function t() {
W["default"].stopGame();
}
}) : void 0;
}, t.prototype.getStatus = function d() {
var e = this.state.gameState.queue.getPrettyStatus(!0), t = this.state.match.getPrettyStatus(), n = this.state.gameState.getPrettyState();
return n && (n = __("ID_SPARTA_MATCHMAKING_JOINING_SERVER")), e || t || n || "";
}, t.prototype.canOpenGameView = function m() {
return v.joinFlowState.isRunning && null != v.joinFlowState.gameViewComponent;
}, t.prototype.canCancelMatchmaking = function _() {
return this.state.match.isCancellable;
}, t.prototype.canLeaveQueue = function w() {
var e = this.state.gameState.queue.gameId && "0" !== this.state.gameState.queue.gameId;
return e || this.state.gameState.queue.status !== X.QueueStatus.Queued || console.warn("You can't quit a queue without a gameId"), 
this.state.gameState.queue.status === X.QueueStatus.Queued && e && this.state.gameState.queue.position >= 0;
}, t.prototype.hideNotice = function C() {
var e = this;
return new Promise(function(t) {
Z["default"].showComponent("logo"), e.tweens.translateY.to(-N["default"].getHeight(20)), 
e.tweens.opacity.to(0, null, t);
});
}, t.prototype.showNotice = function P() {
var e = this;
this.tweens.opacity.to(1), this.tweens.translateY.to(0), Z["default"].hideComponent("logo"), 
setTimeout(function() {
e.refs.indicator && b.Native.playSpriteAnimation(e.refs.indicator.getSurfaceId(), !0);
}, 500);
}, t.prototype.renderCloseIcon = function A() {
var e = this.getCancelInput();
return SpartaGlobals.bundleIsPC && e ? {
$$typeof: f,
type: b.Focusable,
key: null,
ref: null,
props: o(b.Focusable.defaultProps, {
children: function t(n) {
return {
$$typeof: f,
type: D["default"],
key: null,
ref: null,
props: o(D["default"].defaultProps, {
focusItem: n,
action: e.action,
size: 15,
icon: se,
style: pe.closeIcon
}),
_owner: null
};
},
debugName: "cancel_matchmaking"
}),
_owner: null
} : void 0;
}, t.prototype.renderButtons = function R() {
var e = this.getReturnInput(), t = SpartaGlobals.bundleIsConsole && this.getCancelInput(), n = e || t;
return n ? SpartaGlobals.bundleIsConsole ? {
$$typeof: f,
type: L["default"],
key: null,
ref: null,
props: o(L["default"].defaultProps, {
action: n.action,
label: n.label,
inputKey: n.key,
style: pe.inlineInputConsole
}),
_owner: null
} : {
$$typeof: f,
type: te["default"],
key: null,
ref: null,
props: o(te["default"].defaultProps, {
action: e.action,
text: e.label,
style: pe.inlineInputPC
}),
_owner: null
} : void 0;
}, t.prototype.render = function M() {
var e = I.layoutStateStore.current.config.gameId || "generic", t = this.getStatus().toUpperCase(), n = c({}, pe.container, {
opacity: this.tweens.opacity.getStyle(),
translateY: this.tweens.translateY.getStyle()
});
this.state.shouldBlur && (n.layer = !0, n.layerBlur = 1, n.layerBlurStrength = 1);
var r = "#FFFFFF", a = pe.overlay;
return this.state.gameState.queue.hasPremium && (r = "#FF9900", a = c({}, pe.overlay, {
texture: ie,
blendMode: "screen",
textureMode: "contain",
textureAlign: [ 0, 0 ]
})), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderCloseIcon(), {
$$typeof: f,
type: x["default"],
key: null,
ref: null,
props: o(x["default"].defaultProps, {
value: t,
size: SpartaGlobals.bundleIsPC ? "S" : "XS",
style: pe.statusText,
color: r,
section: e
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderButtons(),
style: pe.buttonsContainer
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement("surface", {
ref: "indicator",
style: pe.indicator
}),
style: pe.indicatorContainer
},
_owner: null
} ],
style: a
},
_owner: null
},
style: n
},
_owner: null
};
};
var n = t;
return t = s("_$GameJoinNotice")(t) || t, t = E["default"]({
gameState: B["default"],
match: V["default"],
shouldBlur: T["default"](S["default"], "viewTint")
})(t) || t, t = g.observer(t) || t;
}(h["default"].Component);
t["default"] = ce, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return U(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(4), c = i(p), f = n(1), d = i(f), h = n(8), y = n(20), g = i(y), m = n(16), b = i(m), v = n(49), _ = n(12), S = i(_), w = n(14), T = i(w), C = n(27), E = i(C), I = n(44), P = i(I), O = n(114), A = n(50), k = i(A), R = n(75), x = i(R), M = n(19), N = i(M), $ = n(11), D = {
_$GameView: {
displayName: "GameView"
}
}, U = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/GameView.jsx",
components: D,
locals: [],
imports: []
}), L = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.getChildContext = function i() {
var e = N["default"].getHostingGame();
if (e) return {
routeConfig: new v.Route({
gameId: e.gameId,
fonts: e.fonts
})
};
}, t.prototype.componentWillMount = function s() {
this.configureFocus();
}, t.prototype.componentDidMount = function l() {
var e = this;
O.CanOpenComcenterStore.connect(function(t) {
e.canOpenComcenter = t, e.updateInput();
});
}, t.prototype.shouldComponentUpdate = function p(e, t) {
var n = this.getVisibility(this.state), r = this.getVisibility(t), o = this.state.gameViewState.route, a = t.gameViewState.route;
return n || r ? !0 : o !== a || r !== n;
}, t.prototype.componentWillUpdate = function c(e, t) {
var n = this.getVisibility(this.state), r = this.getVisibility(t);
n !== r && (r ? this.isolateInputGroup() : this.releaseInputGroup());
}, t.prototype.componentDidUpdate = function f() {
this.configureFocus();
}, t.prototype.getInput = function y() {
return this.getVisibility(this.state) ? this.canOpenComcenter ? new T["default"]({
visible: !1,
action: function e() {
return E["default"].showComponent("comCenter");
},
key: S["default"].End
}) : void 0 : [];
}, t.prototype.getVisibility = function m(e) {
return e.gameViewState.isVisible && this.getComponent(e) ? !0 : !1;
}, t.prototype.getGameId = function _(e) {
return e.match && e.match.gameId || e.gameState.gameId;
}, t.prototype.getComponent = function w(e) {
var t = $.gameStore.getGame(this.getGameId(e));
return t && t.gameViewComponent;
}, t.prototype.descendantDidFocus = function C() {
E["default"].setComponentVisibilities({
comCenter: !1
});
}, t.prototype.configureFocus = function I() {}, t.prototype.render = function A() {
var e = this.getComponent(this.state);
return e ? d["default"].createElement(e, u({
gameId: this.getGameId(this.state)
}, this.state)) : null;
};
var n = t;
return t = a("_$GameView")(t) || t, t = g["default"]({
group: !0
})(t) || t, t = b["default"]({
gameState: P["default"],
gameViewState: k["default"],
match: x["default"]
})(t) || t, t = h.observer(t) || t;
}(d["default"].Component);
t["default"] = L, L.childContextTypes = c["default"].extend({}, L.childContextTypes, {
routeConfig: d["default"].PropTypes.instanceOf(v.Route)
}), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return L(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u), c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(462), g = l(y), m = n(53), b = l(m), v = n(13), _ = l(v), S = n(18), w = l(S), T = n(2), C = r(T), E = n(11), I = n(68), P = n(6), O = l(P), A = n(171), k = l(A), R = n(28), x = l(R), M = n(16), N = l(M), $ = n(8), D = n(32), U = {
_$Input: {
displayName: "Input"
}
}, L = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/Input.jsx",
components: U,
locals: [],
imports: []
}), F = function B(e) {
return {
zOffset: 13e4,
position: "absolute",
justifyContent: "center",
opacity: _["default"].tweenSwitch(0, 1, e),
enableMouseEvents: !1
};
}, G = C.createStyleSheet({
layoutInputVisible: F(!0),
layoutInputHidden: F(!1)
}), j = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e, t, n = E.layoutStateStore.current.config, r = n.fonts, a = n.gameId;
r ? (t = r.letterSpacing || 0, e = a ? I.fontState.fonts[a].normal.name : I.fontState.fonts.generic.normal.name) : (console.log("No font config available, using default for route config:", E.layoutStateStore.current.config), 
e = I.fontState.fonts.generic.normal.name);
var i = this.state.isVisible ? G.layoutInputVisible : G.layoutInputHidden, s = f({}, w["default"].input.style, i), l = this.state.inverted && !this.state.hasVisiblePopups, u = null;
return this.state.isMenuVisible && SpartaGlobals.bundleIsXBOXONE && !this.state.hasVisiblePopups && (u = {
marginBottom: 1.5 * O["default"].GUTTER
}, s.width = w["default"].mainMenu.width - w["default"].dangerZoneSize.width - 4 * O["default"].GUTTER, 
s.height = 2 * s.height, s.marginTop = -w["default"].input.height + O["default"].GUTTER), 
(D.isItalianLanguage() || D.isFrenchLanguage()) && (t = 0), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: o(g["default"].defaultProps, {
height: w["default"].input.height / 2,
inverted: l,
labelProps: {
size: "S"
},
style: f({}, u),
labelStyle: {
fontFamily: e,
textLetterSpacing: t
},
visibleMenu: this.state.isMenuVisible
}),
_owner: null
},
style: s
},
_owner: null
};
};
var n = t;
return t = s("_$Input")(t) || t, t = $.observer(t) || t, t = N["default"]({
isVisible: x["default"](b["default"], "input"),
isMenuVisible: x["default"](b["default"], "mainMenu"),
inverted: x["default"](b["default"], "invertedInput"),
hasVisiblePopups: k["default"].transform(function(e) {
return Object.keys(e).length > 0;
})
})(t) || t;
}(h["default"].Component);
e.exports = j;
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return se(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(2), g = r(y), m = n(314), b = n(10), v = n(8), _ = n(18), S = l(_), w = n(53), T = l(w), C = n(11), E = n(48), I = l(E), P = n(166), O = l(P), A = n(41), k = n(19), R = l(k), x = n(38), M = l(x), N = n(17), $ = l(N), D = n(27), U = l(D), L = n(14), F = l(L), G = n(12), j = l(G), B = n(13), H = l(B), V = n(299), z = l(V), W = n(6), q = l(W), K = n(7), X = l(K), Y = n(74), J = n(20), Q = l(J), Z = n(16), ee = l(Z), te = n(28), ne = l(te), re = n(9), oe = n(32), ae = n(35), ie = {
_$DisabledMenuItem: {
displayName: "DisabledMenuItem"
},
_$MainMenuItem: {
displayName: "MainMenuItem"
},
_$MainMenuActiveIndicator: {
displayName: "MainMenuActiveIndicator"
},
_$MainMenu: {
displayName: "MainMenu"
}
}, se = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/MainMenu.jsx",
components: ie,
locals: [],
imports: []
}), le = q["default"].GUTTER, ue = 8 * q["default"].CELL_HEIGHT, pe = ue - 2 * le, ce = S["default"].dangerZoneSize, fe = 500, de = function ve(e) {
return {
zOffset: 5e4,
position: "absolute",
padding: [ ce.height, 0, ce.height, ce.width ],
backgroundColor: "#ffffff",
translateX: H["default"].tweenSwitch(0, S["default"].mainMenu.width, e)
};
}, he = g.createStyleSheet({
mainMenuItemLabelBlurred: {
color: "#5f6165"
},
mainMenuItemDisabled: {
opacity: .3
},
disabledMenuItem: {
layer: !0,
layerGrabBackground: !1,
layerGrayScale: 1
},
mainMenuItemLabelCurrent: {
color: "#5f6165"
},
mainMenuItemLabelFocused: {
color: "#000000"
},
mainMenuItem: {
zOffset: 10,
height: ue,
flexDirection: "row",
padding: [ le, 0, le, 0 ]
},
menuVisible: de(!0),
menuHidden: de(!1),
menuWrapper: {
height: q["default"].getHeight(5),
marginBottom: q["default"].getHeight(10),
flexDirection: "row"
},
menuLogo: {
width: 261,
height: 50,
textureMode: "contain",
textureAlign: [ 0, .5 ],
texture: re.bbOfflineUrl("/sparta/assets/layout/logos/logo-gray-on-white-e3651836.png")
},
activeIndicator: {
position: "absolute",
right: 0,
zOffset: 100,
top: le,
width: le,
height: pe,
backgroundColor: [ 255, 153, 0, 255 ]
}
}), ye = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = he.mainMenuItemLabelBlurred, t = this.props.disabledLabel, n = oe.isTradChineseLanguage() ? {
marginTop: -9
} : {}, r = oe.isRTLLanguage() ? {
marginTop: -13
} : n, a = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: X["default"],
key: null,
ref: null,
props: o(X["default"].defaultProps, {
size: "M",
value: this.props.title.toUpperCase(),
section: "generic",
style: e
}),
_owner: null
}, {
$$typeof: f,
type: X["default"],
key: null,
ref: null,
props: o(X["default"].defaultProps, {
value: t.toUpperCase(),
size: "XS",
section: "generic",
style: c({}, e, r)
}),
_owner: null
} ]
},
_owner: null
}, i = [ he.mainMenuItem, he.mainMenuItemDisabled ].concat(this.props.style);
return {
$$typeof: f,
type: y.AnimatedSurface,
key: null,
ref: null,
props: o(y.AnimatedSurface.defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: z["default"],
key: null,
ref: null,
props: o(z["default"].defaultProps, {
icon: this.props.iconUrl,
height: pe,
label: a,
isDisabled: !0
}),
_owner: null
},
style: he.disabledMenuItem
},
_owner: null
},
index: this.props.index,
style: i
}),
_owner: null
};
};
var n = t;
return t = s("_$DisabledMenuItem")(t) || t;
}(h["default"].Component), ge = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.focusItem = g.focus.create(this, "mainmenuitem_" + t.title), 
Y.mainmenuGroup.addMember(this.focusItem, t.index), this.focusItem.onFocus(function() {
r.props.onFocus();
});
}
i(t, e), t.prototype.render = function r() {
var e = "normal";
(this.focusItem.isFocused || this.props.isCurrent) && (e = "emphasis");
var t;
t = this.focusItem.isFocused ? he.mainMenuItemLabelFocused : this.props.isCurrent ? he.mainMenuItemLabelCurrent : he.mainMenuItemLabelCurrent;
var n = {
$$typeof: f,
type: X["default"],
key: null,
ref: null,
props: o(X["default"].defaultProps, {
size: "M",
value: this.props.title.toUpperCase(),
style: t,
type: e,
section: "generic"
}),
_owner: null
}, r = "career" === this.props.location.path ? 5 : 0, a = [ he.mainMenuItem ].concat(this.props.style), i = "career" === this.props.location.path ? 50 : pe;
return h["default"].createElement("surface", this.focusItem.hooks, {
$$typeof: f,
type: y.AnimatedSurface,
key: null,
ref: null,
props: o(y.AnimatedSurface.defaultProps, {
children: {
$$typeof: f,
type: z["default"],
key: null,
ref: null,
props: o(z["default"].defaultProps, {
icon: this.props.iconUrl,
height: i,
label: n,
iconSpace: r
}),
_owner: null
},
index: this.props.index,
style: a
}),
_owner: null
});
};
var n = t;
return t = s("_$MainMenuItem")(t) || t, t = v.observer(t) || t;
}(h["default"].Component), me = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentWillMount = function r() {
this.offsetTween = H["default"].tween("9a7bcec9:168", 0), this.style = c({}, he.activeIndicator, {
translateY: this.offsetTween.getStyle()
});
}, t.prototype.componentDidUpdate = function o() {
this.gotoIndex(this.props.activeIndex || 0, !0);
}, t.prototype.componentWillUnmount = function l() {
this.offsetTween.destroy();
}, t.prototype.gotoIndex = function u(e, t) {
var n = t ? {
duration: 100
} : {};
this.offsetTween.to(ue * e, n);
}, t.prototype.render = function p() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
"static": !0,
style: this.style
},
_owner: null
};
};
var n = t;
return t = s("_$MainMenuActiveIndicator")(t) || t;
}(h["default"].Component);
Y.mainmenuGroup.setActive("mainmenuVisibility", !1);
var be = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.state = {
activeIndex: C.layoutStateStore.current.mainMenuIndex
}, this.disposer = b.reaction(function() {
return C.layoutStateStore.current.mainMenuIndex;
}, function(e) {
return r.setState({
activeIndex: e
});
});
}
i(t, e), t.prototype.componentWillUpdate = function r(e, t) {
this.state.isVisible !== t.isVisible && (Y.mainmenuGroup.setActive("mainmenuVisibility", t.isVisible), 
t.isVisible ? (this.refs.menuItems.play(), Y.mainmenuGroup.isolate(), this.isolateInputGroup(), 
this.focusActiveItem()) : (Y.mainmenuGroup.deisolate(), this.releaseInputGroup(), 
g.focus.system.recalculate()));
}, t.prototype.componentWillUnmount = function l() {
this.disposer();
}, t.prototype.getAvatarUrl = function u() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? this.state : arguments[0], t = e.sessionUser && e.sessionUser.avatarUrl;
return t && A.onlineState.isOnlineBlazeAndGateway || (t = re.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-user-fallback-aaaf80be.png")), 
t;
}, t.prototype.getInput = function p() {
if (!this.state.isVisible) return [];
var e = [ new F["default"]({
visible: !1,
action: this.gotoActiveItemLocation.bind(this),
key: j["default"].Next
}), new F["default"]({
visible: !1,
action: this.gotoActiveItemLocation.bind(this),
key: j["default"].Previous
}), new F["default"]({
visible: !1,
action: this.gotoActiveItemLocation.bind(this),
key: j["default"].Home
}), new F["default"]({
visible: !1,
action: this.gotoActiveItemLocation.bind(this),
key: j["default"].End
}), new F["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: this.gotoActiveItemLocation.bind(this),
key: j["default"].Accept
}), new F["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
action: function n() {
return U["default"].hideComponent("mainMenu");
},
key: j["default"].Decline
}) ];
if (g.getBuildInfo().isEndUserBuild() || e.push(new F["default"]({
label: "Generate Sentry Report",
action: function r() {
var e = m.generateEvent({
name: "Generated",
message: "",
stack: ""
});
ae.alert("username: " + e.user.username + "\nuser id: " + e.user.id + "\n" + e.event_id, "Generated Sentry Report");
}
})), SpartaGlobals.bundleIsXBOXONE) {
var t = I["default"].getState();
"0" !== t.id && e.push(new F["default"]({
label: __("ID_SPARTA_MENU_CHANGE_PROFILE"),
action: function o() {
U["default"].hideComponent("mainMenu"), M["default"].showLocalUserSelectionUI();
},
key: j["default"].Option2
}));
}
return e;
}, t.prototype.focusActiveItem = function c() {
var e = this.state.activeIndex || 0, t = Y.mainmenuGroup.members[e];
t && t.setFocused(y.focus.FocusSource.Auto);
}, t.prototype.gotoActiveItemLocation = function d() {
var e = C.layoutStateStore.current.mainMenuConfigs[this.state.activeIndex];
if (!e) throw new Error("Could not find menu config for index", this.state.activeIndex);
var t = C.layoutStateStore.current.location, n = e.skipToFirstChild ? e.children[0].location : e.location;
n.section !== t.section ? (O["default"].blockInputFor(fe), setTimeout(function() {
return U["default"].hideComponent("mainMenu");
}, fe), $["default"].gotoLocation(n)) : U["default"].hideComponent("mainMenu");
}, t.prototype.render = function _() {
var e = this, t = C.layoutStateStore.current.mainMenuConfigs.map(function(t, n) {
var r = "";
r = "career" === t.location.path ? e.getAvatarUrl() : t.normalIconUrl;
var o = t.disabled, a = t.requireOnline && !t.offlineView, i = !!t.gameId, s = t.gameId === R["default"].getHostingGame().gameId, l = SpartaGlobals.bundleIsPS4 && A.onlineState.isMissingMPPrivileges && (a || i && !s);
if (o || l) {
var u = o ? t.getDisabledLabel() : "";
return h["default"].createElement(ye, {
ref: n,
key: t.location.path,
disabledLabel: u,
title: t.getTitle(),
iconUrl: r
});
}
return h["default"].createElement(ge, {
key: t.location.path,
ref: n,
index: n,
isCurrent: e.state.activeIndex === n,
onFocus: function() {
return e.setState({
activeIndex: n
});
},
title: t.getTitle(),
iconUrl: r,
location: t.location
});
});
oe.isJapaneseLanguage() && he.menuVisible.padding && (he.menuVisible.padding[3] = ce.width - 3 * q["default"].GUTTER, 
he.menuHidden.padding[3] = ce.width - 3 * q["default"].GUTTER);
var n = [ S["default"].mainMenu.style, this.state.isVisible ? he.menuVisible : he.menuHidden ];
return h["default"].createElement("surface", {
ref: "container",
style: n
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
"static": !0,
style: he.menuLogo
},
_owner: null
},
"static": !0,
style: he.menuWrapper
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ h["default"].createElement(y.AnimatedSurface.Static, {
ref: "menuItems",
animation: H["default"].presets.trickleUp
}, t), {
$$typeof: f,
type: me,
key: null,
ref: null,
props: o(me.defaultProps, {
activeIndex: this.state.activeIndex,
isVisible: this.state.isVisible
}),
_owner: null
} ],
"static": !0
},
_owner: null
});
};
var n = t;
return t = s("_$MainMenu")(t) || t, t = Q["default"]({
group: !0
})(t) || t, t = ee["default"]({
sessionUser: I["default"],
isVisible: ne["default"](T["default"], "mainMenu")
})(t) || t, t = v.observer(t) || t;
}(h["default"].Component);
t["default"] = be, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return te(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(2), g = r(y), m = n(314), b = n(59), v = l(b), _ = n(18), S = l(_), w = n(20), T = l(w), C = n(16), E = l(C), I = n(28), P = l(I), O = n(35), A = n(10), k = n(8), R = n(53), x = l(R), M = n(11), N = n(48), $ = l(N), D = n(17), U = l(D), L = n(418), F = l(L), G = n(14), j = l(G), B = n(12), H = l(B), V = n(13), z = l(V), W = n(127), q = l(W), K = n(6), X = l(K), Y = n(7), J = l(Y), Q = n(9), Z = n(74), ee = {
_$MenuItem: {
displayName: "MenuItem"
},
_$ActiveIndicator: {
displayName: "ActiveIndicator"
},
_$MiniMainMenu: {
displayName: "MiniMainMenu"
}
}, te = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/MiniMainMenu.jsx",
components: ee,
locals: [],
imports: []
}), ne = X["default"].getHeight(6), re = {
tooltip: {
duration: z["default"].defaultTweenOptions.duration / 4
},
icon: {
duration: z["default"].defaultTweenOptions.duration / 2
}
}, oe = g.createStyleSheet({
mainMenu: {
marginTop: X["default"].getHeight(26)
},
menuItem: {
marginLeft: 20,
zOffset: 10,
height: ne,
flexDirection: "row",
alignItems: "center",
marginBottom: X["default"].getHeight(2)
},
activeIndicator: {
position: "absolute",
left: 0,
zOffset: 100,
top: 0,
width: 2,
height: 0,
backgroundColor: [ 255, 153, 0, 255 ]
},
itemLabel: {
color: "#ffffff",
zOffset: 2
},
disabledLabel: {
color: "#ffffff99",
zOffset: 2
},
itemLabelWrapper: {
marginLeft: X["default"].GUTTER,
opacity: 0,
padding: [ X["default"].GUTTER / 2, X["default"].GUTTER, X["default"].GUTTER / 2, X["default"].GUTTER ],
enableMouseEvents: !1
},
itemLabelBackground: {
position: "absolute",
zOffset: 1,
top: 0,
bottom: 0,
left: 0,
right: 0,
backgroundColor: [ 0, 0, 0, 210 ]
},
line: {
backgroundColor: "#ffffff33",
position: "absolute",
width: 1,
top: 0,
left: 90,
bottom: 0
}
}), ae = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = g.focus.create(this, "menuitem_" + this.props.title), 
Z.minimainmenuGroup.addMember(this.focusItem, t.index);
}
i(t, e), t.prototype.render = function r() {
var e = f({}, oe.itemLabelWrapper, {
opacity: z["default"].tweenSwitch(0, 1, this.focusItem.isFocused, re.tooltip, re.tooltip)
}), t = f({}, oe.menuItem, this.props.style), n = void 0;
n = this.props.isDisabled ? {
from: .5,
to: .501
} : this.props.isActive ? {
from: .8,
to: 1
} : {
from: .5,
to: 1
};
var r = {
opacity: n.from
}, a = f({}, r, {
opacity: z["default"].tweenSwitch(n.from, n.to, this.focusItem.isFocused, re.icon)
}), i = this.props.location && "career" === this.props.location.path ? {
width: 40,
height: 40,
marginLeft: 4,
marginRight: 4
} : null, s = this.props.disabledLabel, l = this.props.isDisabled ? {
$$typeof: c,
type: J["default"],
key: null,
ref: null,
props: o(J["default"].defaultProps, {
size: "XS",
section: "generic",
value: s,
style: oe.disabledLabel
}),
_owner: null
} : null, u = this.props.isDisabled ? 1 : .7, p = new j["default"]({
action: this.props.isDisabled ? function() {} : this.props.onClick,
label: this.props.title,
key: H["default"].Accept
});
return {
$$typeof: c,
type: y.AnimatedSurface,
key: null,
ref: null,
props: o(y.AnimatedSurface.defaultProps, {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
children: {
$$typeof: c,
type: q["default"],
key: null,
ref: null,
props: o(q["default"].defaultProps, {
image: this.props.iconUrl,
size: "L",
style: i,
isDisabled: this.props.isDisabled
}),
_owner: null
},
focusItem: this.focusItem,
triggerMode: "after",
pressScale: u,
input: p
}),
_owner: null
},
style: a
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: J["default"],
key: null,
ref: null,
props: o(J["default"].defaultProps, {
size: "XS",
value: this.props.title.toUpperCase(),
style: oe.itemLabel,
section: "generic",
type: "emphasis"
}),
_owner: null
}, l, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: oe.itemLabelBackground
},
_owner: null
} ],
style: e
},
_owner: null
} ],
index: this.props.index,
style: t
}),
_owner: null
};
};
var n = t;
return t = s("_$MenuItem")(t) || t, t = y.hasSurfaceBounds()(t) || t, t = k.observer(t) || t;
}(h["default"].Component);
ae.propTypes = {
iconUrl: h["default"].PropTypes.string,
isDisabled: h["default"].PropTypes.bool
};
var ie, se = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.shouldComponentUpdate = function r(e) {
var t = this.props.highlightedBounds.top, n = e.highlightedBounds.top;
return t !== n;
}, t.prototype.render = function o() {
var e = {
duration: z["default"].defaultTweenOptions.duration / 8,
delay: 0
}, t = f({}, oe.activeIndicator, {
translateY: z["default"].tweenTo(this.props.highlightedBounds.top, e),
height: ne
});
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
};
};
var n = t;
return t = s("_$ActiveIndicator")(t) || t;
}(h["default"].Component);
g.focus.system.onInvalidQuery.listen(function(e) {
x["default"].getState().miniMenu || e.reportInvalid(Z.minimainmenuGroup.members);
});
var le = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.state = {
activeIndex: M.layoutStateStore.current.mainMenuIndex,
highlightedBounds: new y.Bounds()
}, this.quitItemIndex = -1, this.canStartTimeout = !0, this.disposer = A.reaction(function() {
return M.layoutStateStore.current.mainMenuIndex;
}, function(e) {
return r.setState({
activeIndex: e
});
});
}
i(t, e), t.prototype.componentDidMount = function r() {
y.TweenBatching.flush();
}, t.prototype.componentWillUnmount = function l() {
this.disposer();
}, t.prototype.componentWillFocus = function u() {
clearTimeout(ie);
}, t.prototype.componentWillBlur = function p() {
var e = this;
M.layoutStateStore.current.mainMenuIndex !== this.state.activeIndex && this.canStartTimeout && (ie = setTimeout(function() {
return e.updateHighlightedBounds(M.layoutStateStore.current.mainMenuIndex);
}, 1e3));
}, t.prototype.getAvatarUrl = function d() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? this.state : arguments[0], t = e.sessionUser && e.sessionUser.avatarUrl;
return t || (t = Q.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-user-fallback-aaaf80be.png")), 
t;
}, t.prototype.confirmQuit = function b() {
O.confirm(__("ID_SPARTA_MENU_QUIT_CONFIRM"), __("ID_SPARTA_MENU_QUIT_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_NO"), "quitGame").then(function() {
return U["default"].quitSparta();
});
}, t.prototype.createQuitItem = function v() {
var e = this, t = {
position: "absolute",
bottom: S["default"].dangerZoneSize.height
}, n = Q.bbOfflineUrl("/sparta/jsclient/builds/assets/quit_sparta_pc-light-a9ddd9c9.png");
return {
$$typeof: c,
type: ae,
key: "quit",
ref: null,
props: o(ae.defaultProps, {
title: __("ID_SPARTA_ACTION_QUIT"),
onClick: function() {
return e.confirmQuit();
},
iconUrl: n,
style: t
}),
_owner: null
};
}, t.prototype.createSentryItem = function _() {
var e = {
position: "absolute",
bottom: S["default"].dangerZoneSize.height + ne
}, t = Q.bbOfflineUrl("/sparta/jsclient/builds/assets/sentry-sparta-pc-light-9cbec5c5.png");
return {
$$typeof: c,
type: ae,
key: "sentry",
ref: null,
props: o(ae.defaultProps, {
title: "Generate Sentry Report",
onClick: function() {
var e = m.generateEvent({
name: "Generated",
message: "",
stack: ""
});
O.alert("username: " + e.user.username + "\nuser id: " + e.user.id + "\n" + e.event_id, "Generated Sentry Report");
},
iconUrl: t,
style: e
}),
_owner: null
};
}, t.prototype.gotoActiveItemLocation = function w() {
var e = this;
if (this.state.isVisible) {
var t = M.layoutStateStore.current.mainMenuConfigs[this.state.activeIndex];
if (t && !t.disabled) {
this.canStartTimeout = !1, clearTimeout(ie);
var n = t.skipToFirstChild ? t.children[0].location : t.location, r = F["default"].sectionTransitionComplete.listen(function() {
r(), e.canStartTimeout = !0;
});
U["default"].gotoLocation(n);
}
}
}, t.prototype.updateHighlightedBounds = function C(e) {
var t = this.bounds.top + oe.mainMenu.marginTop, n = this.refs[e];
if (n) {
var r = n.bounds.offset(this.bounds.left, t);
this.setState({
activeIndex: e,
highlightedBounds: r
});
}
}, t.prototype.render = function I() {
var e = this, t = M.layoutStateStore.current.mainMenuConfigs.map(function(t, n) {
var r = "";
r = "career" === t.location.path && e.state.sessionUser ? e.state.sessionUser.avatarUrl : t.normalIconUrl;
var o = n === M.layoutStateStore.current.mainMenuIndex;
return h["default"].createElement(ae, {
key: t.location.path,
ref: n,
index: n,
title: t.getTitle(),
onClick: function() {
e.updateHighlightedBounds(n), setTimeout(function() {
return e.gotoActiveItemLocation();
}, 1);
},
iconUrl: r,
isDisabled: t.disabled,
disabledLabel: t.getDisabledLabel(),
location: t.location,
isActive: o
});
}), n = g.getBuildInfo().isEndUserBuild() ? null : this.createSentryItem(), r = this.createQuitItem(), a = f({}, S["default"].mainMenu.style, {
zOffset: 5e4,
position: "absolute",
translateX: z["default"].tweenSwitch(-1, S["default"].mainMenu.width, this.state.isVisible),
opacity: z["default"].tweenSwitch(0, 1, this.state.isVisible, z["default"].presets.transition)
});
return h["default"].createElement("surface", {
ref: "container",
style: a
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ t, {
$$typeof: c,
type: se,
key: null,
ref: null,
props: o(se.defaultProps, {
activeIndex: this.state.activeIndex,
highlightedBounds: this.state.highlightedBounds
}),
_owner: null
} ],
"static": !0,
style: oe.mainMenu
},
_owner: null
}, n, r, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: oe.line
},
_owner: null
});
};
var n = t;
return t = s("_$MiniMainMenu")(t) || t, t = E["default"]({
isVisible: P["default"](x["default"], "miniMenu"),
sessionUser: $["default"]
})(t) || t, t = T["default"]()(t) || t, t = y.hasSurfaceBounds()(t) || t, t = k.observer(t) || t;
}(h["default"].Component);
t["default"] = le, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return P(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), f = i(c), d = n(18), h = i(d), y = n(13), g = i(y), m = n(27), b = i(m), v = n(53), _ = i(v), S = n(28), w = i(S), T = n(16), C = i(T), E = n(114), I = {
_$Tint: {
displayName: "Tint"
}
}, P = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/Tint.jsx",
components: I,
locals: [],
imports: []
}), O = p({
zOffset: 2e4,
position: "absolute",
backgroundColor: [ 0, 0, 0, 204 ]
}, h["default"].screen.style), A = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = this.state.mainMenuVisible ? .5 : 1, t = this.state.isVisible ? e : 0, n = p({}, O, {
opacity: g["default"].tweenTo(t),
enableMouseEvents: this.state.isVisible,
translateY: E.comCenterTranslateY.getStyle()
});
return {
$$typeof: u,
type: "surface",
key: "tint",
ref: null,
props: {
onClick: b["default"].focusPreviousComponent,
style: n
},
_owner: null
};
};
var n = t;
return t = a("_$Tint")(t) || t, t = C["default"]({
isVisible: w["default"](_["default"], "viewTint"),
mainMenuVisible: w["default"](_["default"], "mainMenu")
})(t) || t;
}(f["default"].Component);
t["default"] = A, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ae(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e) {
return {
zOffset: 61e3,
position: "absolute",
flexDirection: "row",
justifyContent: "flex-end",
alignItems: "center",
opacity: R["default"].tweenSwitch(0, 1, e)
};
}
var p = n(3), c = l(p);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(4), y = l(h), g = n(8), m = n(1), b = l(m), v = n(7), _ = l(v), S = n(6), w = l(S), T = n(18), C = l(T), E = n(27), I = l(E), P = n(67), O = n(103), A = l(O), k = n(13), R = l(k), x = n(2), M = r(x), N = n(53), $ = l(N), D = n(131), U = l(D), L = n(312), F = l(L), G = n(70), j = l(G), B = n(48), H = l(B), V = n(34), z = l(V), W = n(241), q = n(11), K = n(114), X = n(43), Y = l(X), J = n(16), Q = l(J), Z = n(28), ee = l(Z), te = n(9), ne = n(19), re = l(ne), oe = {
_$UserBar: {
displayName: "UserBar"
}
}, ae = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/UserBar.jsx",
components: oe,
locals: [],
imports: []
}), ie = te.bbOfflineUrl("/sparta/jsclient/builds/assets/friends-icon-84691f65.png"), se = n(148).normal.End, le = te.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"), ue = te.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-add-white-d6111a71.png"), pe = M.createStyleSheet({
visible: u(!0),
hidden: u(!1),
inviteSentIndicator: {
opacity: R["default"].tweenTo(0),
marginRight: w["default"].GUTTER,
marginLeft: w["default"].GUTTER
},
inviteSentIndicatorVisible: {
opacity: R["default"].tweenTo(1)
},
iconsContainer: {
marginLeft: w["default"].GUTTER,
padding: 1,
height: w["default"].getHeight(5),
texture: le,
textureAtlas: "SpartaCommonAtlas",
textureBorder: [ 2, 2, 2, 2 ],
selfOpacity: .7,
textureMode: "fill",
flexDirection: "row"
},
friendsOnline: {
paddingRight: w["default"].GUTTER,
paddingLeft: w["default"].GUTTER,
flexDirection: "row",
alignItems: "center"
},
friendsOnlineText: {
marginLeft: 5
},
friendsIcon: {
zOffset: 1,
width: 44,
height: 30,
texture: ie,
textureAtlas: "SpartaCommonAtlas",
marginRight: 2
},
avatar: {
marginLeft: 2,
width: w["default"].getHeight(5),
height: w["default"].getHeight(5)
},
avatarPlaceholder: {
texture: ue,
textureAtlas: "SpartaCommonAtlas",
opacity: .33
},
rt: {
marginLeft: 2 * w["default"].GUTTER
},
rtIcon: {
width: 30,
height: 30,
texture: se,
textureAtlas: "SpartaCommonAtlas"
},
borderLeft: {
position: "absolute",
top: 0,
left: 0,
bottom: 0,
width: 1,
backgroundColor: [ 255, 255, 255, 26 ]
}
}), ce = re["default"].scope("hostingGameId").join(Y["default"].fromMobxStore(function() {
return q.gameStore.games;
})).transform(function(e, t) {
if (SpartaGlobals.bundleIsPC) return !0;
var n = t[e];
return n && n.consolePartyBar;
}), fe = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.preloader = M.texture.createPreloader(this), this.preloader.preload(ie, "SpartaCommonAtlas"), 
this.preloader.preload(se, "SpartaCommonAtlas"), this.preloader.preload(ue, "SpartaCommonAtlas"), 
this.preloader.preload(le, "SpartaCommonAtlas"), this.isPresenceReady = !1;
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this;
z["default"].connect(function(t) {
e.isPresenceReady = t.state === W.PresenceStates.ready;
});
}, t.prototype.openComCenter = function l(e) {
I["default"].showComponent("comCenter");
}, t.prototype.renderAvatars = function u() {
var e = this.state.partyUsers.map(function(e, t) {
return {
$$typeof: d,
type: A["default"],
key: e.id || "avatar-" + t,
ref: null,
props: o(A["default"].defaultProps, {
user: e,
showPresence: !0,
style: pe.avatar
}),
_owner: null
};
});
for (0 === e.length && this.state.sessionUser && e.push({
$$typeof: d,
type: A["default"],
key: this.state.sessionUser.id || "avatar-session-user",
ref: null,
props: o(A["default"].defaultProps, {
showPresence: !0,
user: this.state.sessionUser,
style: pe.avatar
}),
_owner: null
}); e.length < 5; ) e.push({
$$typeof: d,
type: "surface",
key: "slot-" + e.length,
ref: null,
props: {
style: [ pe.avatar, pe.avatarPlaceholder ]
},
_owner: null
});
return e;
}, t.prototype.render = function p() {
var e, t, n, r = this, a = 0;
if (x.perfFlags.MISC) {
var i = this.state.friends;
for (var s in i) {
var l = i[s].presence;
l && l.state !== P.UserPresenceStates.Offline && a++;
}
} else {
var u = y["default"].filter(y["default"].values(this.state.friends), function(e) {
return e.presence.state !== P.UserPresenceStates.Offline;
});
a = u.length;
}
var p = f({}, C["default"].userBar.style, this.state.isVisible ? pe.visible : pe.hidden, {
enableMouseEvents: this.state.isVisible
}, this.props.style, {
translateY: K.comCenterTranslateY.getStyle()
});
return this.state.party.isInSquadJoin() || !this.isPresenceReady || this.state.presence.isTooYoung() || (n = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
"static": !0,
style: pe.friendsIcon
},
_owner: null
}, {
$$typeof: d,
type: _["default"],
key: null,
ref: null,
props: o(_["default"].defaultProps, {
style: pe.friendsOnlineText,
value: "" + a,
size: "S",
type: "emphasis",
section: q.layoutStateStore.current.config.gameId
}),
_owner: null
} ],
"static": !0,
style: pe.friendsOnline
},
_owner: null
},
"static": !0,
style: pe.iconsContainer
},
_owner: null
}, t = this.state.showParty ? this.renderAvatars() : null, SpartaGlobals.bundleIsPC || (e = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
"static": !0,
style: pe.rtIcon
},
_owner: null
},
"static": !0,
style: pe.rt
},
_owner: null
})), {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ t, n, e ],
style: p,
onClick: function(e) {
return r.openComCenter(e);
}
},
_owner: null
};
};
var n = t;
return t = s("_$UserBar")(t) || t, t = Q["default"]({
friends: U["default"],
party: j["default"],
partyUsers: F["default"],
sessionUser: H["default"],
isVisible: ee["default"]($["default"], "userBar"),
presence: z["default"],
showParty: ce
})(t) || t, t = g.observer(t) || t;
}(b["default"].Component);
t["default"] = fe, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return v(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), c = i(p), f = n(48), d = i(f), h = n(16), y = i(h), g = n(18), m = i(g), b = {
_$Watermark: {
displayName: "Watermark"
}
}, v = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/Watermark.jsx",
components: b,
locals: [],
imports: []
}), _ = function(e) {
function t(t) {
r(this, n), e.call(this, t), this._jumpPoints = this.createJumpPoints(60), this.state = {
jumpIndex: 0
};
}
o(t, e), t.prototype.componentWillMount = function i() {
var e = this;
setInterval(function() {
var t = e.state.jumpIndex + 1;
t === e._jumpPoints.length && (t = 0), e.setState({
jumpIndex: t
}, null, "set jump index");
}, 1e3);
}, t.prototype.createJumpPoints = function s(e) {
for (var t = [], n = 0; e > n; n++) t.push([ Math.random() * (.95 * m["default"].screen.width), Math.random() * (.95 * m["default"].screen.height) ]);
return t;
}, t.prototype.render = function l() {
var e = {
position: "absolute",
left: this._jumpPoints[this.state.jumpIndex][0],
top: this._jumpPoints[this.state.jumpIndex][1],
zOffset: 3e7,
enableMouseEvents: !1
}, t = {
color: "#ffffff66",
zOffset: 1
}, n = "";
return this.state.sessionUser && this.state.sessionUser.hasOwnProperty("spartaUserId") && this.state.sessionUser.spartaUserId.hasOwnProperty("personaName") && (n = this.state.sessionUser.spartaUserId.personaName), 
{
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
text: "tunguska-all-en-us-prod-9198",
style: t,
size: "S"
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
text: "2016-12-03 12:34:31 UTC",
style: t,
size: "S"
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
text: n,
style: t,
size: "S"
},
_owner: null
} ],
style: e
},
_owner: null
};
};
var n = t;
return t = a("_$Watermark")(t) || t, t = y["default"]({
sessionUser: d["default"]
})(t) || t;
}(c["default"].Component);
t["default"] = _, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return X(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(4), d = s(f), h = n(1), y = s(h), g = n(6), m = s(g), b = n(687), v = s(b), _ = n(690), S = s(_), w = n(43), T = s(w), C = n(53), E = s(C), I = n(50), P = s(I), O = n(89), A = s(O), k = n(34), R = s(k), x = n(114), M = n(16), N = s(M), $ = n(28), D = s($), U = n(13), L = s(U), F = n(18), G = s(F), j = n(2), B = n(27), H = s(B), V = n(219), z = s(V), W = n(74), q = n(10), K = {
_$ComCenterContent: {
displayName: "ComCenterContent"
},
_$ComCenter: {
displayName: "ComCenter"
}
}, X = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/comcenter/ComCenterContent.jsx",
components: K,
locals: [],
imports: []
}), Y = {
duration: SpartaGlobals.bundleIsPC ? 200 : 300,
easing: "CubicOut"
}, J = {
clipper: {
position: "absolute",
top: 0,
bottom: 0,
right: 0,
width: G["default"].comCenter.minimized.style.width,
zOffset: 15e3
},
content: {
position: "absolute",
backgroundColor: [ 0, 0, 0, 204 ],
top: 0,
bottom: 0,
right: 0,
paddingLeft: 2 * m["default"].GUTTER,
zOffset: 16e3
},
notifications: {
zOffset: 16100
}
}, Q = function(e) {
function t(t, r) {
o(this, n), e.call(this, t, r), this.tweens = {
translateX: L["default"].tween("2a5fe5b3:70", 0, Y),
selfOpacity: L["default"].tween("2a5fe5b3:71", 1, Y),
width: L["default"].tween("2a5fe5b3:72", G["default"].comCenter.minimized.style.width, Y)
}, this.debounceUpdate = d["default"].debounce(function(e, t) {
this.updateVisibilities(e, t);
}.bind(this), 50);
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this;
this.cancelAutorun = q.autorun(function() {
W.comcenterGroup.hasFocusedMember ? q.untracked(function() {
return H["default"].showComponent("comCenter");
}) : j.focus.system.focusedItem && e.state.maximized && q.untracked(function() {
return H["default"].hideComponent("comCenter");
});
}), this.updateVisibilities(this.props, this.state);
}, t.prototype.componentWillUpdate = function l(e, t) {
this.debounceUpdate(e, t);
}, t.prototype.componentWillUnmount = function u() {
var e = this;
Object.keys(this.tweens).forEach(function(t) {
e.tweens[t].destroy();
});
}, t.prototype.onMouseEnter = function f() {
H["default"].showComponent("comCenter");
}, t.prototype.onMouseLeave = function h() {
this.state.contextMenuOpen || H["default"].hideComponent("comCenter");
}, t.prototype.updateVisibilities = function y(e, t) {
t.maximized && t.visible ? (this.tweens.width.to(G["default"].comCenter.maximized.style.width - 4 * m["default"].GUTTER), 
this.tweens.translateX.to(0), this.tweens.selfOpacity.to(1)) : (this.tweens.width.to(G["default"].comCenter.minimized.style.width), 
this.tweens.selfOpacity.to(0), t.gameViewVisible || !t.visible ? this.tweens.translateX.to(G["default"].comCenter.minimized.style.width) : this.tweens.translateX.to(0));
}, t.prototype.setContextMenuStatus = function g(e) {
this.setState({
contextMenuOpen: e
});
}, t.prototype.render = function b() {
var e = this, t = this.state.maximized, n = c({}, J.content, {
translateX: this.tweens.translateX.getStyle(),
selfOpacity: this.tweens.selfOpacity.getStyle(),
width: this.tweens.width.getStyle()
});
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
maximized: t,
style: J.notifications
}),
_owner: null
}, {
$$typeof: p,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
maximized: t,
setContextMenuStatus: function(t) {
return e.setContextMenuStatus(t);
}
}),
_owner: null
} ],
style: n,
onMouseEnter: function() {
return e.onMouseEnter();
},
onMouseLeave: function() {
return e.onMouseLeave();
}
},
_owner: null
};
};
var n = t;
return t = i("_$ComCenterContent")(t) || t, t = N["default"]({
maximized: D["default"](E["default"], "comCenter"),
contextMenuOpen: D["default"](E["default"], "contextMenus"),
visible: T["default"].join(E["default"].scope("miniComCenter"), R["default"], A["default"]).transform(function(e, t, n) {
return e && t.isReady() && !t.isTooYoung() && t.isFirstPartyConnected && n.isMpInstalled;
}),
gameViewVisible: D["default"](P["default"], "isVisible")
})(t) || t;
}(y["default"].Component);
t.ComCenterContent = Q;
var Z = function(e) {
function t(t, r) {
o(this, n), e.call(this, t, r), this.tweens = {
width: L["default"].tween("2a5fe5b3:157", G["default"].comCenter.minimized.style.width, Y)
};
}
a(t, e), t.prototype.componentWillMount = function s() {
this.updateVisibilities(this.props, this.state);
}, t.prototype.componentWillUpdate = function l(e, t) {
this.updateVisibilities(e, t);
}, t.prototype.componentWillUnmount = function u() {
var e = this;
Object.keys(this.tweens).forEach(function(t) {
e.tweens[t].destroy();
});
}, t.prototype.updateVisibilities = function f(e, t) {
t.maximized ? this.tweens.width.to(G["default"].comCenter.containerMaximized.style.width) : this.tweens.width.to(G["default"].comCenter.containerMinimized.style.width);
}, t.prototype.render = function d() {
var e = c({}, J.clipper, {
width: this.tweens.width.getStyle(),
translateY: x.comCenterTranslateY.getStyle()
});
return {
$$typeof: p,
type: z["default"],
key: null,
ref: null,
props: r(z["default"].defaultProps, {
children: {
$$typeof: p,
type: Q,
key: null,
ref: null,
props: r(Q.defaultProps, {}),
_owner: null
},
style: e
}),
_owner: null
};
};
var n = t;
return t = i("_$ComCenter")(t) || t, t = N["default"]({
maximized: D["default"](E["default"], "comCenter")
})(t) || t;
}(y["default"].Component);
t["default"] = Z;
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return pe(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(2), y = n(8), g = n(10), m = n(74), b = n(18), v = s(b), _ = n(14), S = s(_), w = n(20), T = s(w), C = n(27), E = s(C), I = n(30), P = s(I), O = n(38), A = s(O), k = n(129), R = s(k), x = n(16), M = s(x), N = n(70), $ = s(N), D = n(44), U = s(D), L = n(80), F = s(L), G = n(19), j = s(G), B = n(67), H = n(9), V = n(103), z = s(V), W = n(7), q = s(W), K = n(6), X = s(K), Y = n(302), J = s(Y), Q = n(60), Z = n(127), ee = s(Z), te = n(284), ne = s(te), re = n(689), oe = s(re), ae = n(213), ie = s(ae), se = n(56), le = n(17), ue = {
_$ComCenterFriend: {
displayName: "ComCenterFriend"
}
}, pe = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/comcenter/ComCenterFriend.jsx",
components: ue,
locals: [],
imports: []
}), ce = h.createStyleSheet({
container: {
height: X["default"].getHeight(6),
flexDirection: "row",
marginBottom: X["default"].GUTTER,
zOffset: 50,
alignItems: "center"
},
playerInfo: {
flex: 3,
flexDirection: "row",
alignItems: "center"
},
background: {
position: "absolute",
backgroundColor: "#FFFFFFFF",
top: 0,
bottom: 0,
right: 0,
left: 0,
opacity: 0
},
avatar: {
alignSelf: "flex-start",
zOffset: 51,
width: X["default"].getHeight(6),
height: X["default"].getHeight(6),
marginRight: 2 * X["default"].GUTTER
},
friendName: {
zOffset: 5
},
friendPresence: {
zOffset: 5,
color: "#a8a8a8"
},
friendText: {
flex: 3,
flexDirection: "column"
},
textFocused: {
backgroundColor: "#FF00FF",
color: "#000000"
},
contextMenuButton: {
zOffset: 100,
height: X["default"].getHeight(6)
},
joinButton: {
flex: 1,
height: X["default"].getHeight(6),
alignItems: "center",
justifyContent: "center"
}
}), fe = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = h.focus.create(this, "comcenter_friend_" + t.friend.displayName), 
m.comcenterGroup.addMember(this.focusItem);
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this;
this.props.disableFocusInputUpdate || (this.cancelUpdateFocusInput = g.reaction(function() {
return h.focus.system.controllerMode && e.focusItem.isFocused;
}, function(t) {
t && e.updateInput();
}));
}, t.prototype.componentWillUpdate = function l(e, t) {
!e.maximized && this.props.maximized !== e.maximized && t.contextMenuOpen && (this.closeContextMenu(), 
ne["default"].hide());
}, t.prototype.componentWillUnmount = function u() {
this.cancelUpdateFocusInput && this.cancelUpdateFocusInput();
}, t.prototype.getContextMenuItems = function f() {
var e = this, t = this.state, n = t.party, r = t.gameState, o = this.props.friend, a = [];
if (r.server && a.push(new S["default"]({
label: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_GAME"),
action: function l() {
return e.onInviteToServer();
}
})), !j["default"].getHostingGame().joinConfig.useSquadJoin && n.canInviteUserToParty(o)) {
var i = "";
i = __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_PC" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_PS4" : "ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_XB1"), 
a.push(new S["default"]({
label: i,
action: function u() {
return e.onInviteToParty();
}
}));
}
if (this.canJoinFriendAsSpectator() && a.push(new S["default"]({
label: __("ID_SPARTA_LAYOUT_COMCENTER_JOIN_FRIEND_SPECTATOR"),
action: function p() {
return e.onJoinFriendPlaying("spectator");
}
})), this.canJoinFriend() && !function() {
var e = o.presence.server, t = j["default"].getHostingGame().serverDetailsRoute + "?blazeGameId=";
a.push(new S["default"]({
label: __("ID_SPARTA_LAYOUT_COMCENTER_SERVER_INFO"),
action: function n() {
le.gotoLocation(t + e.gameId);
}
}));
}(), SpartaGlobals.bundleIsConsole) {
var s = __(SpartaGlobals.bundleIsXBOXONE ? "ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD" : "ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE");
a.push(new S["default"]({
label: s,
action: function c() {
return A["default"].showUserProfile(o);
}
}));
}
return a;
}, t.prototype.getInput = function b() {
var e = this;
if (h.focus.system.controllerMode && this.focusItem.isFocused) {
var t = this.state.party, n = this.props.friend, r = [];
if (this.canJoinFriend()) r.push(new S["default"]({
label: __("ID_SPARTA_LAYOUT_COMCENTER_JOIN_FRIEND"),
action: function a() {
return e.onJoinFriendPlaying();
}
})); else if (t.canInviteUserToParty(n)) {
var o = "";
o = __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_PC" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_PS4" : "ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_XB1"), 
r.push(new S["default"]({
label: o,
action: function i() {
return e.onInviteToParty();
}
}));
}
return r;
}
}, t.prototype.getJoinButton = function _() {
var e = this;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: ie["default"],
key: "join-button-divider",
ref: null,
props: r(ie["default"].defaultProps, {
vertical: !0
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: ee["default"],
key: null,
ref: null,
props: r(ee["default"].defaultProps, {
image: H.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-join-black-d91ea425.png")
}),
_owner: null
},
style: ce.joinButton,
onClick: function() {
return e.onJoinFriendPlaying();
}
},
_owner: null
} ],
style: {
flex: 1
}
},
_owner: null
};
}, t.prototype.getContextMenu = function w(e) {
var t = this;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: ie["default"],
key: "context-menu-divider",
ref: null,
props: r(ie["default"].defaultProps, {
vertical: !0
}),
_owner: null
}, {
$$typeof: c,
type: J["default"],
key: "context-menu",
ref: null,
props: r(J["default"].defaultProps, {
dark: !0,
style: ce.contextMenuButton,
onOpen: function() {
return t.openContextMenu();
},
onClose: function(e) {
return t.closeContextMenu(e);
},
options: e,
position: {
x: this.bounds.right,
y: this.bounds.bottom
},
align: "right"
}),
_owner: null
} ]
},
_owner: null
};
}, t.prototype.getUserTextLength = function C(e, t) {
return e && t ? 90 : e ? 150 : t ? 160 : 190;
}, t.prototype.onInviteToServer = function I() {
var e = this;
if (!this.state.sendingInvite) {
var t = this.props.friend;
P["default"].sendServerInvite(t), this.setState({
sendingInvite: !0
}, null, "server invite sent"), setTimeout(function() {
return e.setState({
sendingInvite: !1
}, null, "server invite done");
}, 3e3);
}
}, t.prototype.onInviteToParty = function O() {
var e = this;
if (!this.state.sendingInvite) {
var t = this.state.party, n = this.props.friend;
t.canInviteUserToParty(n) && (t.canCreateParty() && !t.isLeavingParty() && R["default"].create(), 
$["default"].waitForCreation().then(function() {
R["default"].invite(n), e.setState({
sendingInvite: !0
}, null, "party invite sent"), setTimeout(function() {
return e.setState({
sendingInvite: !1
}, null, "party invite done");
}, 3e3);
}));
}
}, t.prototype.onJoinFriendPlaying = function k() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? "soldier" : arguments[0], t = this.props.friend;
P["default"].joinServer(t.presence.server.createJoinOptions({
friend: t,
role: e
}));
}, t.prototype.isClipped = function x() {
if (SpartaGlobals.bundleIsPC) {
var x = this.props.scrollerBounds && !this.props.scrollerBounds.intersects(this.bounds);
if (!x) {
var e = this.bounds.subtract(this.props.scrollerBounds).height, t = e !== this.bounds.height ? this.bounds.height - e : this.bounds.height;
x = t < .75 * this.bounds.height;
}
return x;
}
}, t.prototype.canJoinFriend = function N() {
var e = this.props, t = e.friend, n = e.gameState, r = t.presence.server;
return t.presence.state === B.UserPresenceStates.Joinable && r && n.isServerJoiningAllowed(r.gameId) && F["default"].getState().hasOnlineAccess(r.game);
}, t.prototype.canJoinFriendAsSpectator = function D() {
return this.canJoinFriend() ? se.supportsSpectating(this.props.friend.presence.server.game) : !1;
}, t.prototype.openContextMenu = function L() {
this.props.setContextMenuStatus(!0), this.setState({
contextMenuOpen: !0
});
}, t.prototype.closeContextMenu = function G(e) {
this.props.setContextMenuStatus(!1), this.setState({
contextMenuOpen: !1
});
var t = v["default"].comCenter.containerMaximized.x - v["default"].comCenter.containerMaximized.width;
e && e.x < t && E["default"].hideComponent("comCenter");
}, t.prototype.render = function V() {
var e = this.props, t = e.friend, n = e.alwaysVisible, o = e.maximized, a = this.state, i = a.sendingInvite, s = a.contextMenuOpen, l = this.focusItem.isFocused, u = l || s, f = u ? ce.textFocused : void 0, h = {
opacity: u ? 1 : 0
}, y = this.getContextMenuItems(), g = o && u && y.length > 0, m = u && this.canJoinFriend(), b = this.props.status !== B.UserPresenceStates.Offline ? "emphasis" : "normal", v = this.getUserTextLength(m, g), _ = n || u ? null : {
opacity: .66
}, S = {
opacity: o ? 1 : 0
};
return d["default"].createElement("surface", p({
style: ce.container
}, this.focusItem.hooks), {
$$typeof: c,
type: oe["default"],
key: null,
ref: null,
props: r(oe["default"].defaultProps, {
visible: i
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: z["default"],
key: null,
ref: null,
props: r(z["default"].defaultProps, {
style: p({}, ce.avatar, _),
user: t,
showPresence: !0
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: Q.Marquee,
key: null,
ref: null,
props: r(Q.Marquee.defaultProps, {
children: {
$$typeof: c,
type: q["default"],
key: null,
ref: null,
props: r(q["default"].defaultProps, {
size: "S",
type: b,
section: "generic",
style: p({}, ce.friendName, f),
value: t.displayName
}),
_owner: null
},
scroll: u,
width: v
}),
_owner: null
}, {
$$typeof: c,
type: Q.Marquee,
key: null,
ref: null,
props: r(Q.Marquee.defaultProps, {
children: {
$$typeof: c,
type: q["default"],
key: null,
ref: null,
props: r(q["default"].defaultProps, {
size: "XS",
section: "generic",
style: p({}, ce.friendPresence, f),
value: t.presence.toString()
}),
_owner: null
},
loop: u,
width: v
}),
_owner: null
} ],
style: p({}, ce.friendText, _, S)
},
_owner: null
} ],
onClick: function() {
return A["default"].showUserProfile(t);
},
style: ce.playerInfo
},
_owner: null
}, g && this.getContextMenu(y), m && this.getJoinButton(), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: p({}, ce.background, h)
},
_owner: null
});
};
var n = t;
return t = i("_$ComCenterFriend")(t) || t, t = M["default"]({
party: $["default"],
gameState: U["default"]
})(t) || t, t = T["default"]()(t) || t, t = h.hasSurfaceBounds()(t) || t, t = y.observer(t) || t;
}(d["default"].Component);
t["default"] = fe, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return K(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = n(1), y = l(h), g = n(18), m = l(g), b = n(9), v = n(74), _ = n(2), S = n(13), w = l(S), T = n(6), C = l(T), E = n(31), I = n(7), P = l(I), O = n(23), A = l(O), k = n(16), R = l(k), x = n(44), M = l(x), N = n(308), $ = n(67), D = n(213), U = l(D), L = n(686), F = l(L), G = n(422), j = l(G), B = n(311), H = n(309), V = l(H), z = n(96), W = l(z), q = {
_$ComCenterFriends: {
displayName: "ComCenterFriends"
},
_$ComCenterPagination: {
displayName: "ComCenterPagination"
}
}, K = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/comcenter/ComCenterFriends.jsx",
components: q,
locals: [],
imports: []
}), X = n(37), Y = N.stores.FriendStore, J = (c = {}, c[$.UserPresenceStates.Joinable] = !0, 
c[$.UserPresenceStates.Playing] = !0, c[$.UserPresenceStates.Online] = !0, c[$.UserPresenceStates.Offline] = !0, 
c), Q = {
back: {
normal: b.bbOfflineUrl("/sparta/jsclient/builds/assets/left_white-03807e66.png"),
hover: b.bbOfflineUrl("/sparta/jsclient/builds/assets/left_black-fab2d5b9.png")
},
forward: {
normal: b.bbOfflineUrl("/sparta/jsclient/builds/assets/right_white-8a3f8212.png"),
hover: b.bbOfflineUrl("/sparta/jsclient/builds/assets/right_black-bdf62701.png")
}
}, Z = {
friends: {
scroller: {
marginBottom: C["default"].GUTTER
},
group: {
zOffset: 100
}
},
pagination: {
content: {
paddingRight: 2 * C["default"].GUTTER,
flexDirection: "row",
justifyContent: "space-between",
alignItems: "center"
},
buttonContainer: {
flexDirection: "row"
},
button: {
marginRight: C["default"].GUTTER,
width: C["default"].getHeight(4),
height: C["default"].getHeight(4)
}
}
}, ee = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
showPagination: !1
};
}
i(t, e), t.prototype.componentDidMount = function l() {
var e = this;
V["default"].updatePagination.listen(function(t, n) {
1 >= n ? e.setState({
showPagination: !1
}) : e.setState({
showPagination: !0
});
});
}, t.prototype.componentWillReceiveProps = function u(e) {
var t = e.maximized;
!t && this.refs.scroller && this.refs.scroller.scrollTo(0, 0, !0);
}, t.prototype.friendsUpdated = function p() {
this.refs.scroller && this.refs.scroller.scrollTo(0, 0, !0);
}, t.prototype.render = function c() {
var e = this, t = this.state, n = t.friends, a = t.gameState, i = t.showPagination, s = this.props, l = s.maximized, u = s.setContextMenuStatus, p = r(s, [ "maximized", "setContextMenuStatus" ]), c = m["default"].comCenter.maximized.style.height - C["default"].getHeight(i ? 22 : 16), h = n ? B.getGroupsForFriends(n) : [], g = d({}, Z.friends), b = h.map(function(t) {
var n = t.friends, i = t.state, s = t.translation, c = t.key, h = r(t, [ "friends", "state", "translation", "key" ]);
return y["default"].createElement(j["default"], d({
alwaysVisible: J[i],
key: c,
maximized: l,
state: i,
translation: s
}, X({}, p, h)), e.refs.scroller ? n.map(function(t) {
return {
$$typeof: f,
type: F["default"],
key: null,
ref: null,
props: o(F["default"].defaultProps, {
scrollerBounds: e.refs.scroller.bounds,
alwaysVisible: J[i],
status: i,
gameState: a,
friend: t,
maximized: l,
setContextMenuStatus: u
}),
_owner: null
};
}) : null);
});
return !b.length && l ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
value: __("ID_SPARTA_LAYOUT_COMCENTER_EMPTY_TITLE").toUpperCase(),
size: "M",
type: "emphasis",
section: "generic",
style: {
marginTop: C["default"].GUTTER,
marginBottom: C["default"].GUTTER
}
}),
_owner: null
}, {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
value: __("ID_SPARTA_LAYOUT_COMCENTER_EMPTY_TEXT"),
size: "S",
section: "generic"
}),
_owner: null
} ],
style: {
zOffset: 100
}
},
_owner: null
} : {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ y["default"].createElement(E.Scroller, {
key: "scroller",
ref: "scroller",
style: d({}, g.scroller, {
width: m["default"].comCenter.maximized.style.width - 6 * C["default"].GUTTER,
height: c
}),
clipMargin: [ 0, 0, 0, 0 ],
softClip: [ -160, 0, 0, 100 ],
scrollbarPosition: "inside"
}, b), i && {
$$typeof: f,
type: te,
key: null,
ref: null,
props: o(te.defaultProps, {
maximized: l
}),
_owner: null
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$ComCenterFriends")(t) || t, t = W["default"]({
friendsUpdated: V["default"].fetchFriends
})(t) || t, t = R["default"]({
friends: Y,
gameState: M["default"]
})(t) || t;
}(y["default"].Component), te = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
page: 0,
totalPages: 0
};
}
i(t, e), t.prototype.componentWillReceiveProps = function r(e) {
var t = this.state, n = t.totalPages, r = t.page, o = this.props.maximized;
e.maximized === !1 && o === !0 && 1 !== r && V["default"].fetchFriends(1, n);
}, t.prototype.updatePagination = function l(e, t) {
e > t ? V["default"].fetchFriends(t, t) : (this.state.page !== e + 1 || this.state.totalPages !== t) && this.setState({
page: e + 1,
totalPages: t
});
}, t.prototype.fetchFriends = function u(e, t) {
var n = this.state, r = n.page, o = n.totalPages;
t && V["default"].fetchFriends(r + e, o);
}, t.prototype.render = function p() {
var e = this, t = {
duration: 500,
easing: "CubicOut"
}, n = this.state, r = n.page, a = n.totalPages, i = this.props.maximized, s = __("ID_SPARTA_LAYOUT_COMCENTER_PAGER").replace("[[page]]", r).replace("[[total]]", a), l = r > 1, u = a > r, p = {
opacity: w["default"].tweenSwitch(0, 1, i, t, t)
}, c = Z.pagination;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: o(U["default"].defaultProps, {
maximized: i
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
size: "S",
value: s,
section: "generic"
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: _.Focusable,
key: null,
ref: null,
props: o(_.Focusable.defaultProps, {
children: function d(t) {
return {
$$typeof: f,
type: A["default"],
key: "pagination-back",
ref: null,
props: o(A["default"].defaultProps, {
disabled: !l,
focusItem: t,
icon: Q.back,
style: c.button,
size: 16,
action: function() {
return e.fetchFriends(-1, l);
}
}),
_owner: null
};
},
group: v.comcenterGroup,
debugName: "comcenter_page_back"
}),
_owner: null
}, {
$$typeof: f,
type: _.Focusable,
key: null,
ref: null,
props: o(_.Focusable.defaultProps, {
children: function h(t) {
return {
$$typeof: f,
type: A["default"],
key: "pagination-forward",
ref: null,
props: o(A["default"].defaultProps, {
disabled: !u,
focusItem: t,
icon: Q.forward,
style: c.button,
size: 16,
action: function() {
return e.fetchFriends(1, u);
}
}),
_owner: null
};
},
group: v.comcenterGroup,
debugName: "comcenter_page_back"
}),
_owner: null
} ],
style: c.buttonContainer
},
_owner: null
} ],
style: c.content
},
_owner: null
}, {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: o(U["default"].defaultProps, {
maximized: i
}),
_owner: null
} ],
style: p
},
_owner: null
};
};
var n = t;
return t = s("_$ComCenterPagination")(t) || t, t = W["default"]({
updatePagination: V["default"].updatePagination
})(t) || t;
}(y["default"].Component);
t["default"] = ee, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return I(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = s(d), y = n(2), g = n(6), m = s(g), b = n(13), v = s(b), _ = n(7), S = s(_), w = n(9), T = n(67), C = n(32), E = {
_$ComCenterGroupHeader: {
displayName: "ComCenterGroupHeader"
}
}, I = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/comcenter/ComCenterGroupHeader.jsx",
components: E,
locals: [],
imports: []
}), P = {
duration: 300
}, O = {
duration: 200
}, A = 11, k = y.createStyleSheet({
container: {
height: 26,
margin: [ m["default"].GUTTER, 0, m["default"].GUTTER, 0 ],
flexDirection: "row",
justifyContent: "space-between",
layer: !0,
layerClip: !0
},
name: {
position: "absolute",
color: "#ffffff",
marginLeft: A + m["default"].GUTTER
},
icon: {
position: "absolute",
top: 4,
width: A,
height: A
}
}), R = (p = {}, p[T.UserPresenceStates.Playing] = {
texture: w.bbOfflineUrl("/sparta/jsclient/builds/assets/playing-minimized-741453a6.png")
}, p[T.UserPresenceStates.Online] = {
texture: w.bbOfflineUrl("/sparta/jsclient/builds/assets/online-minimized-91629ff7.png")
}, p[T.UserPresenceStates.Offline] = {
texture: w.bbOfflineUrl("/sparta/jsclient/builds/assets/offline-minimized-49aaf16e.png")
}, p.party = {
texture: w.bbOfflineUrl("/sparta/jsclient/builds/assets/lobby-minimized-529694b4.png")
}, p), x = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.render = function s() {
var e = this.props, t = e.state, n = e.translation, o = e.maximized, a = e.hideMiniIcon, i = !o && a, s = R[t], l = {
opacity: v["default"].tweenSwitch(0, 1, !i, P, O)
}, u = {
opacity: v["default"].tweenSwitch(0, 1, o, P, O)
}, p = s && s.texture ? null : {
marginLeft: 0
}, d = C.isRTLLanguage() ? {
textAlignForRTL: "left",
width: m["default"].getWidth(4.6)
} : null, h = f({}, k.name, u, p, d);
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
size: "S",
style: h,
section: "generic",
type: "emphasis",
value: n.toUpperCase()
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: f({}, k.icon, s, l)
},
_owner: null
} ],
style: k.container
},
_owner: null
};
};
var n = t;
return t = i("_$ComCenterGroupHeader")(t) || t;
}(h["default"].Component);
t["default"] = x, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return T(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(2), h = n(6), y = s(h), g = n(13), m = s(g), b = n(7), v = s(b), _ = n(9), S = n(18), w = {
_$ComCenterInviteIndicator: {
displayName: "ComCenterInviteIndicator"
}
}, T = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/comcenter/ComCenterInviteIndicator.jsx",
components: w,
locals: [],
imports: []
}), C = _.bbOfflineUrl("/sparta/jsclient/builds/assets/invite_sent-b37cbd5b.png"), E = d.createStyleSheet({
inviteSent: {
enableMouseEvents: !1,
position: "absolute",
top: 0,
left: -162,
width: S.comCenter.inviteNotificationWidth,
height: 6 * y["default"].CELL_HEIGHT,
flexDirection: "row",
alignItems: "center",
opacity: m["default"].tweenTo(0)
},
inviteSentVisible: {
opacity: m["default"].tweenTo(1)
},
inviteSentIndicator: {
width: 47,
height: 45,
spriteAnimation: {
spriteSheet: C,
fps: 60,
frameWidth: 47,
frameHeight: 45,
totalFrames: 30,
looping: !1
}
},
inviteSentText: {
color: "#ffffffff",
marginLeft: y["default"].GUTTER / 2,
opacity: m["default"].tweenTo(0),
translateY: m["default"].tweenTo(25),
textAlign: "center",
textAlignForRTL: "center",
width: y["default"].getWidth(2),
flexWrap: "wrap"
},
inviteSentTextVisible: {
opacity: m["default"].tweenTo(1),
translateY: m["default"].tweenTo(0)
}
}), I = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillUpdate = function s(e) {
this.props.visible !== e.visible && d.Native.playSpriteAnimation(this.refs.inviteIndicator.getSurfaceId(), e.visible);
}, t.prototype.render = function l() {
var e = this.props.visible;
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ f["default"].createElement("surface", {
style: E.inviteSentIndicator,
ref: "inviteIndicator"
}), {
$$typeof: p,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
style: [ E.inviteSentText, e ? E.inviteSentTextVisible : null ],
size: "XS",
value: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_SENT")
}),
_owner: null
} ],
style: [ E.inviteSent, e ? E.inviteSentVisible : null ]
},
_owner: null
};
};
var n = t;
return t = i("_$ComCenterInviteIndicator")(t) || t;
}(f["default"].Component);
t["default"] = I, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return S(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(6), y = s(h), g = n(2), m = n(213), b = s(m), v = n(9), _ = {
_$ComCenterNotification: {
displayName: "ComCenterNotification"
}
}, S = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/comcenter/ComCenterNotifications.jsx",
components: _,
locals: [],
imports: []
}), w = g.createStyleSheet({
notifications: {
marginTop: y["default"].getHeight(4),
flexDirection: "column"
},
icon: {
width: 35,
height: 24,
marginBottom: y["default"].getHeight(2),
texture: v.bbOfflineUrl("/sparta/jsclient/builds/assets/friends-icon-84691f65.png")
}
}), T = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this.props, t = e.maximized, n = e.style;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: w.icon
},
_owner: null
}, {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
maximized: t
}),
_owner: null
} ],
style: p({}, n, w.notifications)
},
_owner: null
};
};
var n = t;
return t = i("_$ComCenterNotification")(t) || t;
}(d["default"].Component);
t["default"] = T, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(21), a = r(o), i = n(4), s = r(i), l = n(11), u = n(198), p = n(52).gatewayClient, c = a["default"].createClient({
request: function f() {
return p.request("Notice.getNotices", {
games: s["default"].keys(l.gameStore.games.toJS())
});
},
parse: function d(e) {
return e;
},
update: function h(e) {
var t = {};
s["default"].each(e, function(e, n) {
s["default"].each(e, function(e) {
e.type = u.stringToNoticeType(e.severity);
}), t[n] = e;
}), u.store.setNotices(t);
}
});
t["default"] = c, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
n(this, o), this.topic = e.topic, this.description = e.description, this.action = e.action;
};
t.Notification = r;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = {
display: a["default"].createAction()
};
t.NotificationActions = i;
}, function(e, t) {
function n() {}
t.__esModule = !0, t.notificationBindings = n;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(24), s = r(i), l = n(692), u = n(693), p = new s["default"]("NotificationStore", {
notifications: []
}), c = 8e3, f = a["default"].createStore({
init: function d() {
var e = this;
this._queueTimer = -1;
var t = function n() {
-1 === e._queueTimer && (e._queueTimer = setTimeout(function() {
var t = p.get("notifications");
t = t.slice(1, t.length), p.set("notifications", t), f.trigger(p.getState()), e._queueTimer = -1, 
t.length > 0 && n();
}, c));
};
u.NotificationActions.display.listen(function(e) {
if (!(e instanceof l.Notification)) return void console.error("Expected display action parameter to be of type Notification");
var n = p.get("notifications");
n = n.concat([ e ]), p.set("notifications", n), f.trigger(p.getState()), t();
});
},
getState: function h() {
return p.getState();
},
getInitialState: function y() {
return this.getState();
}
});
t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return M(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(2), y = r(h), g = n(12), m = l(g), b = n(18), v = l(b), _ = n(6), S = l(_), w = n(7), T = l(w), C = n(91), E = l(C), I = n(28), P = l(I), O = n(16), A = l(O), k = n(695), R = l(k), x = {
_$Notifications: {
displayName: "Notifications"
}
}, M = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/notification/Notifications.jsx",
components: x,
locals: [],
imports: []
}), N = S["default"].window.rowSpan(10), $ = S["default"].window.colSpan(1), D = y.createStyleSheet({
container: {
position: "absolute",
top: v["default"].header.height,
left: 0,
zOffset: 99e3
},
notification: {
paddingLeft: v["default"].dangerZoneSize.width,
paddingRight: $,
width: v["default"].dangerZoneSize.width + S["default"].window.colSpan(8) + $,
height: N,
backgroundColor: "#000000ff",
flexDirection: "row"
},
image: {
width: N,
height: N,
marginRight: S["default"].GUTTER
},
body: {
justifyContent: "center"
},
interaction: {
position: "absolute",
right: 0,
top: 0,
height: N,
width: S["default"].window.colSpan(1),
justifyContent: "center"
},
topic: {
color: "#ffffffff"
},
description: {
color: "#ffffffff"
}
}), U = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.renderNotification = function r(e) {
if (!e) return null;
var t = null;
return e.action && (t = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
inputKey: m["default"].Select,
holdAction: SpartaGlobals.bundleIsConsole ? e.action : null,
action: SpartaGlobals.bundleIsPC ? e.action : null,
label: SpartaGlobals.bundleIsPC ? "#" : null
}),
_owner: null
},
style: D.interaction
},
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ D.image, e.image ? {
texture: e.image
} : null ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
style: D.topic,
type: "emphasis",
size: "S",
value: e.topic
}),
_owner: null
}, {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
style: D.description,
size: "S",
value: e.description
}),
_owner: null
} ],
style: D.body
},
_owner: null
}, t ],
style: D.notification
},
_owner: null
};
}, t.prototype.render = function l() {
var e = null;
return this.state.notifications && this.state.notifications.length > 0 && (e = this.renderNotification(this.state.notifications[0])), 
{
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: D.container
},
_owner: null
};
};
var n = t;
return t = s("_$Notifications")(t) || t, t = A["default"]({
notifications: P["default"](R["default"], "notifications")
})(t) || t;
}(d["default"].Component);
t.Notifications = U;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e, t) {
p["default"].close(e.id), t && t();
}
t.__esModule = !0;
var s = n(4), l = r(s), u = n(25), p = r(u), c = n(14), f = r(c), d = function(e) {
function t() {
var n = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
o(this, t), e.call(this, l["default"].extend({}, n, {
action: i.bind(null, n.popup, n.action)
}));
}
return a(t, e), t;
}(f["default"]);
t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return le(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(8), g = n(10), m = n(2), b = r(m), v = n(6), _ = l(v), S = n(18), w = l(S), T = n(13), C = l(T), E = n(148), I = l(E), P = n(12), O = l(P), A = n(14), k = l(A), R = n(53), x = l(R), M = n(27), N = l(M), $ = n(17), D = l($), U = n(20), L = l(U), F = n(28), G = l(F), j = n(16), B = l(j), H = n(96), V = l(H), z = n(41), W = n(7), q = l(W), K = n(149), X = l(K), Y = n(307), J = l(Y), Q = n(317), Z = l(Q), ee = n(105), te = l(ee), ne = n(9), re = n(297), oe = n(60), ae = n(32), ie = n(74), se = {
_$GlowText: {
displayName: "GlowText"
},
_$Underline: {
displayName: "Underline"
},
_$Breadcrumb: {
displayName: "Breadcrumb"
},
_$Breadcrumbs: {
displayName: "Breadcrumbs"
},
_$TopMenuItem: {
displayName: "TopMenuItem"
},
_$TopMenu: {
displayName: "TopMenu"
},
_$Header: {
displayName: "Header"
}
}, le = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/view/Header.jsx",
components: se,
locals: [],
imports: []
}), ue = _["default"].getHeight(SpartaGlobals.bundleIsPC ? 3 : 2), pe = {
position: "absolute",
left: 0,
bottom: 0,
right: 0
}, ce = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, fe = SpartaGlobals.bundleIsPC ? 0 : w["default"].safeZone.left, de = 1.5, he = _["default"].getHeight(5), ye = {
breadcrumbs: {
out: [ {
propertyName: "opacity",
fromValue: 1,
toValue: 0
}, {
propertyName: "scaleX",
fromValue: 1,
toValue: 1 + de
}, {
propertyName: "scaleY",
fromValue: 1,
toValue: 1 + de
}, {
propertyName: "translateY",
fromValue: 0,
toValue: -he
} ],
"in": [ {
propertyName: "opacity",
fromValue: 0,
toValue: 1
} ]
},
menu: {
out: [ {
propertyName: "opacity",
fromValue: 1,
toValue: 0
}, {
propertyName: "scaleX",
fromValue: 1,
toValue: 1 - .5 * de
}, {
propertyName: "scaleY",
fromValue: 1,
toValue: 1 - .5 * de
}, {
propertyName: "translateY",
fromValue: 0,
toValue: .5 * he
} ],
"in": [ {
propertyName: "opacity",
fromValue: 0,
toValue: 1
}, {
propertyName: "scaleX",
fromValue: 1 + de,
toValue: 1
}, {
propertyName: "scaleY",
fromValue: 1 + de,
toValue: 1
}, {
propertyName: "translateY",
fromValue: -he,
toValue: 0
} ]
}
}, ge = {
container: f({
zOffset: 1200,
position: "absolute"
}, w["default"].header.style, {
width: w["default"].header.width - w["default"].logo.width
}),
topBar: {
height: ue,
flexDirection: "row",
alignItems: "center"
},
topBarItem: {
marginRight: 4 * _["default"].GUTTER
},
breadcrumb: {
height: ue,
justifyContent: "center",
paddingLeft: 5,
paddingRight: 10
},
breadcrumbSlash: {
marginLeft: _["default"].GUTTER,
marginRight: _["default"].GUTTER
},
lowerBar: {
height: _["default"].getHeight(6),
marginTop: _["default"].getHeight(.5),
marginBottom: _["default"].getHeight(.5),
flexDirection: "row",
alignItems: "center"
},
lowerBarTitle: "XL",
underline: f({}, pe, {
bottom: 2 * -_["default"].CELL_HEIGHT,
left: -fe,
right: _["default"].getWidth(SpartaGlobals.bundleIsPC ? 2.5 : 2),
height: 1,
backgroundColor: "#ffffff33",
layer: !0,
layerClip: !0,
layerSoftClip: [ 0, 0, _["default"].getWidth(2), 0 ],
zOffset: 99
}),
underlineHighlight: {
backgroundColor: "#ffffff"
},
lbIcon: {
texture: I["default"].normal.Previous,
height: 3 * _["default"].CELL_HEIGHT,
width: 3 * _["default"].CELL_HEIGHT,
marginTop: 3
},
rbIcon: {
texture: I["default"].normal.Next,
height: 3 * _["default"].CELL_HEIGHT,
width: 3 * _["default"].CELL_HEIGHT,
marginTop: 3
},
hbIcon: {
texture: ne.bbOfflineUrl("/sparta/assets/ui/icons/ui/hamburger-d78cf787.png"),
height: ue - _["default"].getHeight(.5),
width: ue - _["default"].getHeight(.5),
marginTop: 3
}
}, me = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = {
value: this.props.value,
size: this.props.size,
type: this.props.type,
color: this.props.color,
section: this.props.gameId || "generic"
}, t = _["default"].GUTTER, n = {
position: "absolute",
layer: !0,
layerBlur: C["default"].tweenSwitch(0, .5, this.props.isGlowing, C["default"].presets.focusables.enter["default"]),
layerBlurStrength: 2,
padding: t,
top: -t,
left: -t,
right: -t,
bottom: -t
}, r = this.props.focusItem ? this.props.focusItem.hooks : {
onClick: this.props.onClick
};
return h["default"].createElement("surface", f({}, r, {
style: this.props.style
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(q["default"], e),
style: n
},
_owner: null
}, h["default"].createElement(q["default"], f({}, e, {
type: "emphasis",
style: {
opacity: 0
}
})), h["default"].createElement(q["default"], f({}, e, {
style: f({}, ce, {
zOffset: 1
})
})));
};
var n = t;
return t = s("_$GlowText")(t) || t;
}(h["default"].Component), be = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = this.props.highlightedBounds.left + fe, t = {
position: "absolute",
translateX: C["default"].tweenTo(e),
width: C["default"].tweenTo(this.props.highlightedBounds.width),
height: ge.underline.height
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: f({}, ge.underlineHighlight, t)
},
_owner: null
},
style: ge.underline
},
_owner: null
};
};
var n = t;
return t = s("_$Underline")(t) || t;
}(h["default"].Component), ve = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.state = {
isHovered: !1
}, t.focusItem.setClickInput(new k["default"]({
key: O["default"].Accept,
action: function i() {
return D["default"].gotoLocation(r.props.location);
},
label: __("ID_SPARTA_ACTION_SELECT")
}));
var o = {
duration: C["default"].defaultTweenOptions.duration / 2
};
this.slashHideOffset = -_["default"].getWidth(2), this.titleHider = C["default"].tween("a7a2a273:218", 0), 
this.slashOffset = C["default"].tween("a7a2a273:219", this.slashHideOffset, o), 
this.slashOpacity = C["default"].tween("a7a2a273:220", 0, o), this.mounted = !1;
}
i(t, e), t.prototype.componentDidMount = function r() {
this.mounted = !0, this.slashOffset.to(0), this.slashOpacity.to(1);
}, t.prototype.componentWillLeave = function l(e) {
var t = this;
this.titleHider.to(ge.breadcrumb.height, null, function() {
t.mounted && e();
}), this.slashOffset.to(this.slashHideOffset), this.slashOpacity.to(0);
}, t.prototype.componentWillUnmount = function u() {
this.mounted = !1, this.titleHider.destroy();
}, t.prototype.render = function p() {
var e = {
flexDirection: "row",
alignItems: "center",
layer: !0,
layerClip: !0
}, t = f({}, ge.breadcrumb, {
translateY: this.titleHider.getStyle()
}), n = f({}, ge.breadcrumbSlash, {
translateX: this.slashOffset.getStyle(),
opacity: this.slashOpacity.getStyle()
}), r = SpartaGlobals.bundleIsPC ? "S" : "XS";
return h["default"].createElement("surface", f({
style: e
}, this.props.focusItem.hooks), ae.localeRearrange([ h["default"].createElement(J["default"], {
key: "slider",
ref: "title",
transitionId: this.props.title,
style: t
}, {
$$typeof: c,
type: me,
key: null,
ref: null,
props: o(me.defaultProps, {
value: this.props.title.toUpperCase(),
isGlowing: this.props.focusItem.isHovered,
type: this.props.focusItem.isHovered ? "emphasis" : "normal",
color: "#ffffff",
gameId: this.props.gameId,
size: r
}),
_owner: null
}), {
$$typeof: c,
type: q["default"],
key: "text",
ref: null,
props: o(q["default"].defaultProps, {
value: ae.isRTLLanguage() ? "\\" : "/",
style: n,
size: r
}),
_owner: null
} ]));
};
var n = t;
return t = s("_$Breadcrumb")(t) || t, t = y.observer(t) || t;
}(h["default"].Component), _e = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentWillReceiveProps = function r(e, t) {
this.setState({
subTitle: void 0
});
}, t.prototype.setSubtitle = function l(e, t) {
var n = this.props.items.filter(function(e) {
return void 0 !== e.getTitle;
}), r = n[n.length - 1];
r.getTitle().toLowerCase() === e.toLowerCase() && this.setState({
subTitle: t
});
}, t.prototype.render = function u() {
var e = this.props.items.filter(function(e) {
return void 0 !== e.getTitle;
}), t = e.slice(1, e.length - 1), n = [];
this.state.isVisible && (n = t.filter(function(e) {
return !e.skipToFirstChild;
}).map(function(e, t) {
return {
$$typeof: c,
type: b.Focusable,
key: "breadcrumb" + t,
ref: null,
props: o(b.Focusable.defaultProps, {
children: function n(t) {
return {
$$typeof: c,
type: ve,
key: null,
ref: null,
props: o(ve.defaultProps, {
title: e.getTitle(),
focusItem: t,
gameId: e.gameId,
location: e.location
}),
_owner: null
};
},
debugName: "breadcrumb_" + t,
groupIndex: t,
isActive: SpartaGlobals.bundleIsPC,
group: ie.topmenuGroup
}),
_owner: null
};
}));
var r = e[e.length - 1];
if (SpartaGlobals.bundleIsPC) {
var a = {
texture: ae.isRTLLanguage() ? ne.bbOfflineUrl("/sparta/jsclient/builds/assets/back_ar_pc--a3cc78d1.png") : ne.bbOfflineUrl("/sparta/jsclient/builds/assets/back_pc-88d1ffe0.png"),
height: ue - _["default"].CELL_HEIGHT
};
n.unshift({
$$typeof: c,
type: b.Focusable,
key: "back",
ref: null,
props: o(b.Focusable.defaultProps, {
children: function s(e) {
return {
$$typeof: c,
type: te["default"],
key: null,
ref: null,
props: o(te["default"].defaultProps, {
icon: a.texture,
focusItem: e,
action: function() {
return D["default"].goBackInHistory();
},
size: a.height,
glow: !1,
style: {
margin: [ 0, _["default"].GUTTER, 0, 1.5 * -_["default"].GUTTER ],
padding: _["default"].GUTTER
}
}),
_owner: null
};
},
debugName: "breadcrumb_back",
groupIndex: n.length,
group: ie.topmenuGroup
}),
_owner: null
});
}
var i = r.getTitle();
return this.state.subTitle && (i = i + ": " + this.state.subTitle), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: Z["default"],
key: null,
ref: null,
props: o(Z["default"].defaultProps, {
children: ae.localeRearrange(n),
tag: "surface",
style: ge.topBar
}),
_owner: null
}, {
$$typeof: c,
type: J["default"],
key: null,
ref: null,
props: o(J["default"].defaultProps, {
children: {
$$typeof: c,
type: oe.Marquee,
key: null,
ref: null,
props: o(oe.Marquee.defaultProps, {
children: {
$$typeof: c,
type: q["default"],
key: null,
ref: null,
props: o(q["default"].defaultProps, {
value: i.toUpperCase(),
type: "emphasis",
size: ge.lowerBarTitle,
section: r.gameId
}),
_owner: null
},
width: ge.container.width - re.ELLIPSIS_OFFSET.M,
showEllipsis: !0
}),
_owner: null
},
transitionId: i,
style: ge.lowerBar
}),
_owner: null
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$Breadcrumbs")(t) || t, t = V["default"]({
setSubtitle: D["default"].setLocationSubtitle
})(t) || t, t = B["default"]({
isVisible: G["default"](x["default"], "breadcrumbs")
})(t) || t, t = L["default"]()(t) || t;
}(h["default"].Component), Se = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), t.focusItem.setActive("a7a2a273:373", t.isEnabled), 
t.focusItem.setActive("a7a2a273:374", SpartaGlobals.bundleIsPC), t.focusItem.setClickInput(new k["default"]({
key: O["default"].Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function o() {
r.props.isEnabled && D["default"].gotoLocation(r.props.location);
}
}));
}
i(t, e), t.prototype.componentDidUpdateBounds = function r() {
this.props.onBoundsChanged && this.props.onBoundsChanged();
}, t.prototype.render = function l() {
var e = (this.props.focusItem.isHovered || this.props.isActive) && this.props.isEnabled;
return {
$$typeof: c,
type: me,
key: null,
ref: null,
props: o(me.defaultProps, {
value: this.props.label.toUpperCase(),
focusItem: this.props.focusItem,
isGlowing: this.props.isEnabled && this.props.focusItem.isHovered,
type: this.props.isActive ? "emphasis" : "normal",
color: this.props.isEnabled ? "#ffffff" : "#ffffff99",
size: "M",
gameId: this.props.gameId,
style: {
opacity: C["default"].tweenSwitch(.66, 1, e)
}
}),
_owner: null
};
};
var n = t;
return t = s("_$TopMenuItem")(t) || t, t = b.hasSurfaceBounds()(t) || t, t = y.observer(t) || t;
}(h["default"].Component), we = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.menuItems = {}, this.state = {
highlightedBounds: null
}, this.menuWasTriggered = !1;
}
i(t, e), t.prototype.componentDidUpdate = function r(e) {
this.props.activeIndex !== e.activeIndex && this.updateHighlightedBounds();
}, t.prototype.componentDidUpdateBounds = function l() {
this.updateHighlightedBounds();
}, t.prototype.getInput = function u() {
var e = !this.state.mainMenuVisible && !this.state.comCenterVisible;
if (e) {
var t = ae.isRTLLanguage() ? "right" : "left", n = ae.isRTLLanguage() ? "left" : "right";
return [ new k["default"]({
visible: !1,
action: this.gotoOffset.bind(this, n),
key: O["default"].Next
}), new k["default"]({
visible: !1,
action: this.gotoOffset.bind(this, t),
key: O["default"].Previous
}) ];
}
}, t.prototype.getGameId = function p(e) {
var t = "generic";
for (var n in e) e[n].gameId && (t = e[n].gameId);
return t;
}, t.prototype.gotoOffset = function f(e, t) {
var n = this.findNextEnabledItem(e, Math.max(this.props.activeIndex, 0));
n && ("string" == typeof n ? N["default"].showComponent(n) : D["default"].gotoLocation(n.props.location));
}, t.prototype.findNextEnabledItem = function d(e, t) {
var n = "left" === e ? -1 : 1;
if (t += n, 1 === t && this.state.mainMenuVisible) return this.menuItems[0];
for (var r = t; r >= 0 && r < this.props.items.length; r += n) {
var o = this.menuItems[r];
if (o && o.props.isEnabled) return o;
}
var a = ae.isRTLLanguage() ? this.props.items.length : -1, i = ae.isRTLLanguage() ? -1 : this.props.items.length;
return t === a && SpartaGlobals.bundleIsConsole ? "mainMenu" : z.onlineState.isPresenceReady && t === i && SpartaGlobals.bundleIsConsole ? "comCenter" : !1;
}, t.prototype.updateHighlightedBounds = function g() {
var e = this.menuItems[this.props.activeIndex];
if (e) {
var t = b.getBoundsSync(e.props.focusItem.getBackingSurfaceId());
if (t) {
var n = t.offset(this.bounds.left, this.bounds.top);
n.width && this.setState({
highlightedBounds: n
});
}
}
}, t.prototype.renderItems = function m() {
var e = this, t = this.getGameId(this.props.items);
return this.props.items.map(function(n, r) {
var a = e.props.activeIndex === r, i = !n.disabled;
n.requireOnline && SpartaGlobals.bundleIsPS4 && (i = i && !z.onlineState.isMissingMPPrivileges);
var s = a && e.updateHighlightedBounds.bind(e);
return {
$$typeof: c,
type: b.Focusable,
key: null,
ref: null,
props: o(b.Focusable.defaultProps, {
children: function l(o) {
return h["default"].createElement(Se, {
key: r,
ref: function(t) {
e.menuItems[r] = t;
},
index: r,
label: n.getTitle(),
focusItem: o,
isActive: a,
isEnabled: i,
location: n.location,
onBoundsChanged: s,
gameId: t
});
},
isActive: SpartaGlobals.bundleIsPC,
debugName: "topmenu_item_" + n.getTitle()
}),
_owner: null
};
});
}, t.prototype.render = function v() {
var e = this.renderItems();
ae.isRTLLanguage() && (e = e.reverse()), SpartaGlobals.bundleIsConsole && (e.unshift({
$$typeof: c,
type: "surface",
key: "hb",
ref: null,
props: {
style: ge.hbIcon
},
_owner: null
}), e.length > 2 && (e.unshift({
$$typeof: c,
type: "surface",
key: "lb",
ref: null,
props: {
style: ge.lbIcon
},
_owner: null
}), e.push({
$$typeof: c,
type: "surface",
key: "rb",
ref: null,
props: {
style: ge.rbIcon
},
_owner: null
})), ae.isItalianLanguage() && (ge.topBarItem.marginRight = 3.25 * _["default"].GUTTER)), 
e = e.map(function(e) {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: ge.topBarItem
},
_owner: null
};
});
var t = null;
return this.state.highlightedBounds && (t = {
$$typeof: c,
type: be,
key: null,
ref: null,
props: o(be.defaultProps, {
highlightedBounds: this.state.highlightedBounds
}),
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ e, t ],
style: ge.topBar
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: ge.lowerBar
},
_owner: null
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$TopMenu")(t) || t, t = B["default"]({
mainMenuVisible: G["default"](x["default"], "mainMenu"),
comCenterVisible: x["default"].scope("comCenter")
})(t) || t, t = b.hasSurfaceBounds()(t) || t, t = L["default"]()(t) || t, t = y.observer(t) || t;
}(h["default"].Component), Te = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentWillMount = function r() {
var e = this;
this.topPaddingTween = C["default"].tween("a7a2a273:590", this.getTopPadding()), 
this.focusAncestor = b.focus.createAncestor("header"), this.cancelAutorun = g.autorun(function() {
e.topPaddingTween.to(e.getTopPadding());
}), this.cancelQuery = b.focus.system.onInvalidQuery.listen(function(t) {
e.state.isVisible || t.reportInvalid(e.focusAncestor.getChildren());
});
}, t.prototype.componentWillUnmount = function l() {
this.cancelQuery(), this.cancelAutorun(), this.topPaddingTween.destroy();
}, t.prototype.getTopPadding = function u() {
return this.props.viewState.current.aggregate.breadcrumbs.length > 3 ? SpartaGlobals.bundleIsPC ? 40 : 60 : SpartaGlobals.bundleIsPC ? 60 : 82;
}, t.prototype.render = function p() {
var e = this.props.viewState.current.aggregate, t = e.breadcrumbs, n = t.length > 3, r = n ? {
$$typeof: c,
type: _e,
key: null,
ref: null,
props: o(_e.defaultProps, {
items: t
}),
_owner: null
} : h["default"].createElement(we, {
ref: "topMenu",
items: e.subMenuConfigs,
showHamburger: e.enableMainMenu,
activeIndex: e.subMenuIndex,
section: e.location.section
}), a = f({}, ge.container, {
top: this.topPaddingTween.getStyle(),
opacity: C["default"].tweenSwitch(0, 1, this.state.isVisible)
}), i = n ? "breadcrumbs" : "menu", s = ye[i];
return h["default"].createElement("surface", f({
style: a
}, this.focusAncestor.hooks), {
$$typeof: c,
type: X["default"],
key: null,
ref: null,
props: o(X["default"].defaultProps, {
children: r,
transitionId: i,
inTweens: s["in"],
outTweens: s.out,
style: {
flex: 1
}
}),
_owner: null
});
};
var n = t;
return t = s("_$Header")(t) || t, t = B["default"]({
isVisible: G["default"](x["default"], "header")
})(t) || t, t = y.observer(t) || t;
}(h["default"].Component);
t["default"] = Te, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return B(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = s(d), y = n(8), g = n(18), m = s(g), b = n(6), v = s(b), _ = n(13), S = s(_), w = n(301), T = s(w), C = n(39), E = n(17), I = s(E), P = n(11), O = n(80), A = s(O), k = n(53), R = s(k), x = n(28), M = s(x), N = n(16), $ = s(N), D = n(9), U = n(198), L = n(7), F = s(L), G = n(224), j = {
_$Logo: {
displayName: "Logo"
}
}, B = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-layout/src/components/view/Logo.jsx",
components: j,
locals: [],
imports: []
});
p = SpartaGlobals.bundleIsConsole ? D.bbOfflineUrl("/sparta/jsclient/modules/layout/logos/bf-default-logo-console-9444ada5.png") : D.bbOfflineUrl("/sparta/jsclient/modules/layout/logos/bf-default-logo-pc-277a3da4.png");
var H = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getChildContext = function s() {
var e = P.layoutStateStore.current.config, t = {};
return e && e.fonts && (t.fonts = e.fonts), t;
}, t.prototype.renderXpBoost = function l() {
var e = P.gameStore.getGame(this.props.gameId), t = this.props.gameId && this.state.entitlements.hasPremiumAccess(this.props.gameId), n = {}, o = {
width: 230,
position: "absolute",
top: 60,
left: 129,
backgroundColor: "#000000",
padding: 4
};
C.acceptKeyword("accept_exclusive_keywords_start");
var a = {
alignSelf: "center",
texture2: D.bbOfflineUrl("/sparta/assets/tunguska/career/golden-texture-eae85f40.png"),
texture2Mode: "fill"
};
return C.acceptKeyword("accept_exclusive_keywords_end"), e.xpBoost && (n = t ? e.xpBoostPremium : e.xpBoost), 
{
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: F["default"],
key: null,
ref: null,
props: r(F["default"].defaultProps, {
value: "200% XP BOOST",
size: "XS",
type: "emphasis",
style: a
}),
_owner: null
},
style: c({}, o, n)
},
_owner: null
};
}, t.prototype.render = function u() {
var e = null, t = null, n = {
color: "#ff9900",
textAlign: "center",
textAlignForRTL: "center",
fontFamily: G.fonts.PURISTA.SEMI_BOLD
}, o = U.store.getDoubleXpNotice(this.props.gameId);
o && (e = {
$$typeof: f,
type: F["default"],
key: null,
ref: null,
props: r(F["default"].defaultProps, {
size: SpartaGlobals.bundleIsConsole ? "S" : "XS",
value: o.text.toUpperCase(),
type: "emphasis",
style: n
}),
_owner: null
});
var a = void 0 !== this.props.imageUrl ? this.props.imageUrl : p, i = P.gameStore.getGame(this.props.gameId);
if (i && this.state.entitlements) {
var s = i.logoUrl;
if (P.gatewayState.session.entitlements.hasTrial(this.props.gameId) && (s = i.trialLogoUrl ? i.trialLogoUrl : s, 
i.trialLogoUrl || console.warn("Missing trialLogoUrl for game '" + this.props.gameId + "'"), 
SpartaGlobals.bundleIsConsole)) {
var l = D.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-eaaccess-433bac60.png"), u = {
textureMode: "contain",
textureAlign: [ .5, .5 ],
height: SpartaGlobals.bundleIsPC ? 25 : 32,
marginBottom: v["default"].window.rowHeight,
marginTop: 4,
textureAtlas: "SpartaCommonAtlas",
texture: l
};
t = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: u
},
_owner: null
};
}
var d = this.props.gameId && this.state.entitlements.hasPremiumAccess(this.props.gameId);
s = d ? i.premiumLogoUrl : s, void 0 !== s ? a = s : console.error("Missing gameLogoUrl for " + this.props.gameId);
}
if (a === !1) return null;
var y;
C.acceptKeyword("accept_exclusive_keywords_start");
var g = P.gameStore.getGame(this.props.gameId), b = g.styles.rankBadge, _ = {
scale: SpartaGlobals.bundleIsConsole ? .5 : .45
}, w = g.fonts.emphasis.name, E = g.styles.alignBadgeInfo, O = 130;
y = {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
badgeSize: O,
gameId: this.props.gameId,
skipAnimation: !0,
align: E,
font: w,
badgeStyle: _,
style: c({}, b, {
marginLeft: -O
}),
rankIconScaling: g.styles.rankIconScaling,
onClick: function() {
return I["default"].gotoLocation(g.startRoute + "/soldier");
}
}),
_owner: null
}, C.acceptKeyword("accept_exclusive_keywords_end");
var A = void 0;
if (i.logo) A = h["default"].createElement(i.logo, {
children: [ y ],
image: a,
style: m["default"].logo.style,
visible: this.state.isVisible
}); else {
var k = {
flex: 1,
textureMode: "contain",
textureAlign: [ 0, .5 ],
textureAtlas: "SpartaCommonAtlas",
texture: a
};
A = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: y,
style: k
},
_owner: null
};
}
var R = this.state.isVisible && P.layoutStateStore.current.breadcrumbs.length <= 3, x = {
duration: S["default"].defaultTweenOptions.duration / 2
}, M = c({
position: "absolute"
}, m["default"].logo.style, {
zOffset: 1200,
enableMouseEvents: R,
opacity: S["default"].tweenSwitch(0, 1, R, x, x)
}, this.props.style), N = c({
position: "absolute"
}, m["default"].logo.style, {
top: m["default"].logo.style.top + m["default"].logo.height,
zOffset: 1200,
width: m["default"].logo.width,
enableMouseEvents: R,
opacity: S["default"].tweenSwitch(0, 1, R, x, x)
}, this.props.style);
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ t, e ],
style: N
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: A,
style: M
},
_owner: null
} ]
},
_owner: null
};
};
var n = t;
return t = i("_$Logo")(t) || t, t = $["default"]({
isVisible: M["default"](R["default"], "logo"),
entitlements: A["default"]
})(t) || t, t = y.observer(t) || t;
}(h["default"].Component);
t["default"] = H, H.childContextTypes = c({}, H.childContextTypes, {
fonts: h["default"].PropTypes.shape({
normal: h["default"].PropTypes.object,
emphasis: h["default"].PropTypes.object,
letterSpacing: h["default"].PropTypes.number
})
}), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
y = new f["default"](i["default"].extend({}, y, e)), g.trigger(y);
}
var a = n(4), i = r(a), s = n(15), l = r(s), u = n(283), p = r(u), c = n(701), f = r(c), d = n(11), h = n(10), y = new f["default"]({
isVideoEnabled: !0
}), g = l["default"].createStore({
init: function m() {
p["default"].enableVideo.listen(function() {
o({
isVideoEnabled: !0
});
}), p["default"].disableVideo.listen(function() {
o({
isVideoEnabled: !1
});
}), h.reaction(function() {
return d.layoutStateStore.current;
}, function(e) {
var t = Math.max(1, e.breadcrumbs.length - 2);
t > 1 ? p["default"].blur(t) : p["default"].focus();
});
},
getState: function b() {
return y;
}
});
e.exports = g;
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
n(this, o), this.isBlurred = e.isBlurred || !1, this.isVideoEnabled = e.isVideoEnabled || !1, 
this.depth = e.depth || 1;
};
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var o = function a(e) {
r(this, a), e = e || {};
var t = e.all !== !1;
if (this.values = e, this.content = void 0 !== e.content ? e.content : t, this.input = void 0 !== e.input ? e.input : t, 
this.background = void 0 !== e.background ? e.background : t, this.logo = void 0 !== e.logo ? e.logo : t, 
this.mainMenu = void 0 !== e.mainMenu ? e.mainMenu : t, this.header = void 0 !== e.header ? e.header : t, 
this.userBar = void 0 !== e.userBar ? e.userBar : t, this.contextMenus = void 0 !== e.contextMenus ? e.contextMenus : !1, 
this.comCenter = void 0 !== e.comCenter ? e.comCenter : !1, this.miniComCenter = !!e.miniComCenter, 
this.viewTint = void 0 !== e.viewTint ? e.viewTint : !1, this.invertedInput = !!e.invertedInput, 
this.miniMenu = e.miniMenu, this.breadcrumbs = void 0 !== e.breadcrumbs ? e.breadcrumbs : !0, 
(e.all === !1 || e.only) && (this.content = !1, this.input = !1, this.background = !1, 
this.logo = !1, this.mainMenu = !1, this.contextMenus = !1, this.miniComCenter = !1, 
this.comCenter = !1, this.header = !1, this.userBar = !1, this.viewTint = !1, this.invertedInput = !1, 
this.miniMenu = !1, this.breadcrumbs = !1, e.only)) if (Array.isArray(e.only)) for (var n = 0; n < e.only.length; n++) this[e.only[n]] = !0; else for (var o in e.only) {
var i = e.only[o];
this[o] = void 0 !== i ? i : e[o];
}
this.mainMenu && this.comCenter && (this.mainMenu = !1, this.comCenter = !1), SpartaGlobals.bundleIsConsole && (this.mainMenu && (this.header = !1), 
this.comCenter && (this.userBar = !1), (this.mainMenu || this.comCenter) && (this.viewTint = !0), 
this.viewOffsetX = this.mainMenu ? !0 : e.viewOffsetX, this.comCenter ? this.invertedInput = !1 : this.mainMenu && (this.invertedInput = !0));
};
t["default"] = o, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(704);
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
var t = u["default"].getState();
if (!t.sessionId) return void console.error("No MM session available");
if (t.server) return void console.error("No server in MM server info payload");
if (e.gameId) if (e.server && e.locale === O["default"].getState().locale) d["default"].receivedSessionServer(t, new C["default"](e.server)); else {
if (x === e.gameId) return;
x = e.gameId, w["default"](e.gameId, t.gameId).then(function(n) {
n ? d["default"].receivedSessionServer(t, n) : e.server ? (console.warn("Failed to find details for gameId " + e.gameId + ",\n                                    proceeding with unlocalized data"), 
d["default"].receivedSessionServer(t, new C["default"](e.server))) : "0" !== e.gameId ? (console.warn("Failed to find details for gameId " + e.gameId + ",\n                                    and no server info available, proceed with only the gameId"), 
d["default"].receivedSessionServer(t, new C["default"]({
game: t.gameId,
gameId: e.gameId
}))) : (console.warn("Failed to find details for gameId " + e.gameId + ", the gameId is wrong"), 
d["default"].receivedSessionUpdate({
sessionId: t.sessionId,
status: {
name: "JoinFailed"
}
})), x = null;
});
}
}
function o() {
var e = u["default"].getState();
if (e.status) {
var t = b["default"].getState().isReady(), n = null;
t ? "SessionTimedOut" === e.status ? n = {
title: __("ID_SPARTA_MATCHMAKING_FAILED"),
desc: __("ID_SPARTA_MATCHMAKING_FAILED_TIMEOUT")
} : "JoinFailed" === e.status && (n = {
title: __("ID_SPARTA_MATCHMAKING_FAILED"),
desc: __("ID_SPARTA_MATCHMAKING_FAILED_GENERIC")
}) : n = {
title: __("ID_SPARTA_MATCHMAKING_FAILED"),
desc: __("ID_SPARTA_MATCHMAKING_FAILED_CONNECTION")
}, n ? (setTimeout(function() {
d["default"].removeSession(e), d["default"].onMatchmakingFailed(e, t);
}, 100), R || (R = !0, i.alert(n.desc, n.title).then(function() {
d["default"].onMatchmakingFailedDismiss(t), R = !1;
}))) : e.server && (e.canJoin ? setTimeout(function() {
var t = e.server.createJoinOptions();
d["default"].removeSession(e), y["default"].joinMatchmakingResult(t);
}, 100) : d["default"].handleServerFound());
}
}
var a = n(1), i = (t(a), n(35)), s = n(270), l = n(75), u = t(l), p = n(705), c = t(p), f = n(81), d = t(f), h = n(30), y = t(h), g = n(168), m = n(34), b = t(m), v = n(398), _ = n(397), S = n(271), w = t(S), T = n(55), C = t(T), E = n(144), I = t(E), P = n(19), O = t(P), A = n(272), k = n(56), R = !1, x = null;
e.exports = {
stores: {
MatchmakingStore: u["default"]
},
actions: {
MatchmakingActions: d["default"]
},
types: {
MatchmakingSession: n(285)
},
initialize: function M() {
u["default"].listen(o), b["default"].listen(o), d["default"].receivedSessionUpdate.listen(r), 
c["default"].startListening(), d["default"].prepare.listen(function(e, t) {
if (e !== O["default"].getState().hostingGameId) {
var n = A.getCrosslaunchSetting();
if (n === A.CrosslaunchSetting.None) return void k.showNotInHostingGameAlert();
if (n === A.CrosslaunchSetting.Simple) return void I["default"].launchGameWithNotification(e, __("ID_SPARTA_GAMESTATE_MATCHMAKING").toLowerCase());
}
v.checkPresenceReady().then(_.checkMPInstalled).then(_.checkQoSReady).then(g.checkGameState).then(function() {
return s.checkMatchmakingOptions(e, t);
}).then(function() {
return d["default"].prepare["continue"](e, t);
})["catch"](function(e) {
console.error(e), d["default"].prepare.cancel();
});
});
}
};
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = v["default"].getState(), n = t[e];
if (!n) return console.error("Matchmaking: Falsey pingSites for gameId " + e), [];
var r = Object.keys(n).filter(function(e) {
return n[e].ping >= 0;
});
return 0 === r.length ? (console.error("Matchmaking: Zero responsive ping sites available"), 
[]) : r.map(function(e) {
return {
alias: e,
latencyMS: n[e].ping
};
});
}
function a(e) {
C["default"].removeSession(e), u["default"].request("Matchmaking.stopMatchmaking", {
sessionId: e.sessionId,
game: e.env.game
});
}
var i = n(4), s = r(i), l = n(26), u = r(l), p = n(21), c = r(p), f = n(55), d = r(f), h = n(211), y = r(h), g = n(70), m = r(g), b = n(98), v = r(b), _ = n(11), S = n(19), w = r(S), T = n(81), C = r(T), E = n(285), I = r(E), P = n(75), O = r(P), A = c["default"].createClient({
requestOn: [ C["default"].prepare["continue"] ],
listener: function R(e, t) {
var n = new I["default"]({
gameId: e,
status: "SessionStarting",
filter: t
});
return C["default"].newSession(n), C["default"].start(n), arguments;
},
request: function x(e, t) {
var n = {
game: e,
filterJson: JSON.stringify(s["default"].extend({}, t, {
version: 1
})),
pingSiteLatencyList: o(e),
currentGame: w["default"].getState().hostingGameId
}, r = "Matchmaking.startMatchmaking";
if (m["default"].isInAParty()) {
var a = m["default"].getState();
n.blazeGroupId = a.blazeGroupId, n.blazeGroupMembers = Object.keys(a.members).map(function(e) {
return a.members[e].personaId;
}), r = "Matchmaking.startGroupMatchmaking";
}
var i = y["default"].getByGameId(e);
return i && (n.protocolVersion = i), u["default"].request(r, n);
},
onRequestError: function M() {
C["default"].newSession(new I["default"]({
status: "JoinFailed"
}));
},
parse: function N(e, t, n) {
var r = _.gameStore.getGame(t), o = e.env.game !== w["default"].getState().hostingGameId;
return new I["default"]({
personaId: e.personaId,
sessionId: e.sessionId,
gameId: e.env.game,
env: e.env || {},
status: "SessionStarting",
server: e.server ? new d["default"](e.server) : void 0,
filter: n,
canJoin: r && !!r.joinConfig.mmAutoJoin || o
});
},
update: function $(e) {
C["default"].newSession(e);
}
});
C["default"].stop.listen(function() {
var e = O["default"].getState();
e.sessionId ? a(e) : console.warn("Received a stop matchmaking request but no matchmaking session was started.");
});
var k = {
startListening: function D() {
A.startListening();
}
};
e.exports = k;
}, function(e, t, n) {
e.exports = n(707);
}, function(e, t, n) {
(function(__) {
var t = n(9), r = n(27), o = n(49).Route, a = n(709);
e.exports = {
initialize: function i() {
var e = SpartaGlobals.bundleIsPC ? t.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-770ada4a.png") : t.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-3adc8b4c.png");
r.addRouteConfig(new o("news", {
requireOnline: !0,
getTitle: function i() {
return __("ID_SPARTA_MAIN_TITLE_NEWS");
},
disabled: !1,
getSubtitle: function s() {
return __("ID_SPARTA_MAIN_TITLE_NEWS");
},
view: n(711),
normalIconUrl: e,
backgroundUrl: t.bbOfflineUrl("/sparta/jsclient/builds/assets/generic_bg_4-2a73664c.dds"),
backgroundSize: [ 4084, 1440 ],
priority: 5
})), a.startListening();
}
};
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
updateNews: a["default"].createAction(),
refreshNews: a["default"].createAction()
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(391), a = r(o), i = n(4), s = n(21), l = n(52).gatewayClient, u = n(708), p = s.createClient({
requestOn: [ u.refreshNews ],
throttle: 3e4,
request: function c(e) {
return l.request("News.getNewsList", {
games: e
});
},
parse: function f(e) {
console.log("news client parse", e);
var t = [];
if (!i.isEmpty(e)) {
i.each(e, function(e, n) {
i.each(e, function(e) {
t.push(new a["default"](e, n));
});
}), t = i.sortBy(t, function(e) {
return e.creationDate.getTime();
}), t = t.reverse();
var n = i.filter(t, function(e) {
return e.isFeatured;
});
0 === n.length && (t[0].isFeatured = !0);
}
var r = {};
return i.each(t, function(e) {
e.hasRequiredFields() && (r[e.id] = e);
}), r;
},
update: function d(e) {
u.updateNews(e);
}
});
e.exports = p;
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return O(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(4), y = l(h), g = n(2), m = r(g), b = n(13), v = l(b), _ = n(220), S = l(_), w = n(7), T = l(w), C = n(6), E = l(C), I = n(40), P = {
_$NewsContent: {
displayName: "NewsContent"
},
_$FeaturedImage: {
displayName: "FeaturedImage"
},
_$Header: {
displayName: "Header"
}
}, O = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-news/src/views/NewsContent.jsx",
components: P,
locals: [],
imports: []
}), A = {
header: {
title: SpartaGlobals.bundleIsPC ? "XL" : "XXL",
description: SpartaGlobals.bundleIsPC ? "M" : "L"
},
content: SpartaGlobals.bundleIsPC ? "S" : "M"
}, k = m.createStyleSheet({
boundsContainer: {
localBounds: !1,
paddingBottom: E["default"].getHeight(3)
},
headingTitle: {
marginTop: -6,
marginBottom: 20
},
headingLine: {
height: 1,
flexDirection: "row",
backgroundColor: "#ffffff55",
marginBottom: 20
},
headingMetaDetails: {
marginBottom: 10,
color: "#b8b8b8"
},
headingDescription: {
marginBottom: 20
},
bodyImage: {
height: E["default"].getHeight(45),
textureMode: "contain",
textureAlign: [ .5, .5 ],
marginBottom: 30,
marginTop: 30
},
bodyParagraph: {
textLineSpacing: Math.round(1.2 * I.LINE_HEIGHTS[A.content]),
marginBottom: 20,
textAlign: "justify",
color: "#d3d3d3"
},
list: {
marginTop: 30,
marginBottom: 20
},
listItem: {
paddingLeft: 30,
marginBottom: 20
}
}), R = {
values: {
opacity: {
from: 0,
to: 1
},
scaleX: {
from: .9,
to: 1
},
scaleY: {
from: .9,
to: 1
}
},
options: y["default"].extend({}, v["default"].defaultTweenOptions, {
duration: 40 / 60 * 1e3,
delay: 150
})
}, x = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentDidMount = function r() {
this.refs.animation.play();
}, t.prototype.getParsedContent = function l() {
var e = this.props.routeConfig, t = e.gameId, n = e.fonts, r = t ? t : "generic", a = this.props.article.parsedChunks, i = "", s = "", l = [], u = n && n.hasOwnProperty("letterSpacing") ? n.letterSpacing : 0, p = function f() {
"TEXT" === i && (l.push({
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
style: k.bodyParagraph,
value: s,
size: A.content,
section: r,
letterSpacing: u
}),
_owner: null
}), s = "");
};
return y["default"].each(a, function(e) {
e.src ? (p(), l.push({
$$typeof: c,
type: M,
key: null,
ref: null,
props: o(M.defaultProps, {
image: e.src
}),
_owner: null
}), i = "IMAGE") : e.content ? (s += e.content.text, i = "TEXT") : e.items && !function() {
p();
var t = [];
y["default"].each(e.items, function(e) {
t.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: "- " + e.text,
size: A.content,
section: r,
letterSpacing: u
}),
_owner: null
},
style: k.listItem
},
_owner: null
});
}), l.push({
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: k.list
},
_owner: null
}), i = "LIST";
}();
}), s && p(), l;
}, t.prototype.render = function u() {
var e = this.props.article, t = this.getParsedContent();
return d["default"].createElement(g.AnimatedSurface.Static, {
ref: "animation",
animation: R,
style: k.boundsContainer
}, {
$$typeof: c,
type: N,
key: null,
ref: null,
props: o(N.defaultProps, {
pageTitle: e.pageTitle && e.pageTitle.text,
creationDate: e.creationDate,
routeConfig: this.props.routeConfig,
description: e.description
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: k.boundsContainer
},
_owner: null
});
};
var n = t;
return t = s("_$NewsContent")(t) || t;
}(d["default"].Component), M = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ k.bodyImage, {
texture: this.props.image
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$FeaturedImage")(t) || t;
}(d["default"].Component);
M.propTypes = {
image: d["default"].PropTypes.string
};
var N = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
var e = this.props.routeConfig, t = e.gameId, n = e.fonts, r = n && n.hasOwnProperty("letterSpacing") ? n.letterSpacing : 0, a = t ? t : "generic", i = A.header, s = i.title, l = i.description;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
date: this.props.creationDate,
type: "emphasis",
size: "S",
section: a,
letterSpacing: r,
style: k.headingMetaDetails
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: k.headingLine
},
_owner: null
} ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
size: s,
type: "emphasis",
value: this.props.pageTitle.toUpperCase(),
section: a,
letterSpacing: r
}),
_owner: null
},
style: k.headingTitle
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: this.props.description,
style: k.headingDescription,
size: l,
section: a,
letterSpacing: r
}),
_owner: null
}
},
_owner: null
} ]
},
_owner: null
};
};
var n = t;
return t = s("_$Header")(t) || t;
}(d["default"].Component);
N.propTypes = {
pageTitle: d["default"].PropTypes.string,
creationDate: d["default"].PropTypes.instanceOf(Date),
description: d["default"].PropTypes.string
}, t["default"] = x, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return I(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
return e.isFeatured ? "L" : "M";
}
var u = n(3), p = s(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(6), y = s(h), g = n(73), m = n(33), b = s(m), v = n(100), _ = s(v), S = n(126), w = s(S), T = n(13), C = s(T), E = {
_$NewsOverview: {
displayName: "NewsOverview"
}
}, I = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-news/src/views/NewsOverview.jsx",
components: E,
locals: [],
imports: []
}), P = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.renderNewsForPC = function s(e) {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: {
flexWrap: "wrap",
flexDirection: "row",
marginRight: 2 * -y["default"].GUTTER
}
},
_owner: null
};
}, t.prototype.renderNewsForConsole = function u(e) {
return {
$$typeof: c,
type: g.CardCarousel,
key: "carousel",
ref: null,
props: r(g.CardCarousel.defaultProps, {
children: e
}),
_owner: null
};
}, t.prototype.render = function p() {
var e = _["default"].renderCards(this.state.recommendations, l), t = {
opacity: C["default"].tweenSwitch(0, 1, this.state.recommendations)
};
return {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
children: {
$$typeof: c,
type: y["default"].Col,
key: "overviewCol",
ref: null,
props: r(y["default"].Col.defaultProps, {
children: SpartaGlobals.bundleIsPC ? this.renderNewsForPC(e) : this.renderNewsForConsole(e)
}),
_owner: null
},
scrollContent: SpartaGlobals.bundleIsPC,
style: t
}),
_owner: null
};
};
var n = t;
return t = i("_$NewsOverview")(t) || t, t = w["default"]({
count: 15,
games: [ "sparta" ],
ruleCategories: [ "sparta_news" ]
})(t) || t;
}(d["default"].Component);
t["default"] = P, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(713);
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var r = n(27), o = t(r), a = n(49), i = n(9), s = n(39), l = n(155), u = n(11);
e.exports = {
initialize: function p() {
s.acceptKeyword("accept_exclusive_keywords_start"), o["default"].addRouteConfig(new a.Route("omaha-coming-soon", {
getTitle: function e() {
return __("ID_SPARTA_OMAHA_TITLE");
},
disabled: !0,
normalIconUrl: i.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-4838bffd.png"),
priority: 1
})), u.gameStore.registerGame(new l.Game({
isEnabled: !1,
gameId: "bfh",
logoUrl: i.bbOfflineUrl("/sparta/jsclient/modules/omaha/logo2-caecc8e9.png"),
tallCardImage: {
normal: i.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BFH-53c6b43c.png"),
grayScale: i.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BFH-Gray-c8eabd33.png")
}
})), s.acceptKeyword("accept_exclusive_keywords_end");
}
};
}).call(t, n(5));
}, function(e, t, n) {
e.exports = n(100);
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return w(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(8), h = n(61), y = s(h), g = n(11), m = n(17), b = s(m), v = n(2), _ = n(66), S = {
_$BattlepackRecommendationCard: {
displayName: "BattlepackRecommendationCard"
}
}, w = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/BattlepackRecommendationCard.jsx",
components: S,
locals: [],
imports: []
}), T = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidMount = function s() {
y["default"].handleCardDisplayed(this.props.recommendation);
}, t.prototype.onAction = function l(e) {
y["default"].handleCardInteraction(this.props.recommendation), b["default"].gotoLocation(e);
}, t.prototype.render = function u() {
var e, t = this, n = this.props.recommendation, o = __("ID_SPARTA_CARD_BATTLEPACKS");
e = "battlepack-free" === n.recommendationType ? n.displayDetails.description : __("ID_SPARTA_BP_REC_UNOPENED_SHORT").replace("[[numUnopened]]", n.totalUnopened);
var a = g.gameStore.getGame(n.game).battlepacksRoute;
return {
$$typeof: p,
type: _.BasicCard,
key: null,
ref: null,
props: r(_.BasicCard.defaultProps, {
icon: n.displayDetails.image,
heading: o,
description: e,
onPress: function() {
return t.onAction(a);
},
size: this.props.size
}),
_owner: null
};
};
var n = t;
return t = i("_$BattlepackRecommendationCard")(t) || t, t = v.focusable("c9a40065:11")(t) || t, 
t = d.observer(t) || t;
}(f["default"].Component);
t["default"] = T, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return b(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(66), h = n(61), y = s(h), g = n(2), m = {
_$ChurnRecommendationCard: {
displayName: "ChurnRecommendationCard"
}
}, b = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/ChurnRecommendationCard.jsx",
components: m,
locals: [],
imports: []
}), v = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidMount = function s() {
y["default"].handleCardDisplayed(this.props.recommendation);
}, t.prototype.render = function l() {
var e = this;
return {
$$typeof: p,
type: g.Focusable,
key: null,
ref: null,
props: r(g.Focusable.defaultProps, {
children: function t(n) {
return {
$$typeof: p,
type: d.BasicCard,
key: null,
ref: null,
props: r(d.BasicCard.defaultProps, {
heading: "CHURN",
focusItem: n,
description: e.props.recommendation.id
}),
_owner: null
};
},
debugName: "churn_rec_card"
}),
_owner: null
};
};
var n = t;
return t = i("_$ChurnRecommendationCard")(t) || t;
}(f["default"].Component);
t["default"] = v, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(14), h = s(d), y = n(12), g = s(y), m = n(143), b = s(m), v = n(61), _ = s(v), S = n(2), w = n(159), T = {
_$ContinueRecommendationCard: {
displayName: "ContinueRecommendationCard"
}
}, C = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/ContinueRecommendationCard.jsx",
components: T,
locals: [],
imports: []
}), E = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = S.focus.create(this, "continue_rec_card"), 
this.focusItem.autoFocusCandidate = !0;
}
a(t, e), t.prototype.componentDidMount = function s() {
_["default"].handleCardDisplayed(this.props.recommendation);
}, t.prototype.getHeading = function l() {
return this.props.recommendation.name ? this.props.recommendation.name.toUpperCase() : this.props.recommendation.mode ? this.getModeString(this.props.recommendation.mode) : void 0;
}, t.prototype.getButtons = function u() {
var e = this;
return [ new h["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: g["default"].Accept,
blockInputFor: 500,
action: function t() {
_["default"].handleCardInteraction(e.props.recommendation), b["default"].continueSinglePlayer(e.props.recommendation.game);
}
}) ];
}, t.prototype.getModeString = function c(e) {
var t = e.value ? e.value.toUpperCase() : e.toUpperCase();
return "CAMPAIGN" === t ? __("ID_SPARTA_CARD_CAMPAIGN").toUpperCase() : t;
}, t.prototype.getMode = function f() {
return this.props.recommendation.description ? this.props.recommendation.description.toUpperCase() : this.props.recommendation.mode ? __("ID_SPARTA_RECCOMENDATIONS_CONTINUE_CAMPAIGN").toUpperCase() : void 0;
}, t.prototype.getMap = function d() {
return !this.props.recommendation.description && this.props.recommendation.mode ? __("ID_SPARTA_RECCOMENDATIONS_LEFT_OFF").toUpperCase() : " ";
}, t.prototype.render = function y() {
return {
$$typeof: p,
type: w.PlayCard,
key: null,
ref: null,
props: r(w.PlayCard.defaultProps, {
heading: this.getHeading(),
focusItem: this.focusItem,
input: this.getButtons(),
joinButtonName: __("ID_SPARTA_ACTION_PLAY").toUpperCase(),
modes: this.getMode(),
maps: this.getMap(),
size: this.props.size,
background: this.props.recommendation.image
}),
_owner: null
};
};
var n = t;
return t = i("_$ContinueRecommendationCard")(t) || t;
}(f["default"].Component);
t["default"] = E, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return F(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e) {
return g["default"].compact(g["default"].map(e, function(e, t) {
return "on" === e ? t : null;
}));
}
var p = n(3), c = l(p);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(4), g = l(y), m = n(8), b = n(14), v = l(b), _ = n(12), S = l(_), w = n(2), T = r(w), C = n(11), E = n(17), I = n(61), P = l(I), O = n(81), A = l(O), k = n(22), R = l(k), x = n(279), M = n(113), N = l(M), $ = n(28), D = l($), U = n(159), L = {
_$FilterRecommendationCard: {
displayName: "FilterRecommendationCard"
}
}, F = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/FilterRecommendationCard.jsx",
components: L,
locals: [],
imports: []
}), G = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = T.focus.create(this, "filtercard"), 
this.focusItem.autoFocusCandidate = !0, this.serverFilterOptionsStore = D["default"](N["default"], this.props.recommendation.game), 
this.state = {
serverFilterOptions: this.serverFilterOptionsStore.getState()
};
}
i(t, e), t.prototype.componentWillMount = function r() {
var e = this;
this.unsubscribeServerFilterOptions = this.serverFilterOptionsStore.listen(function(t) {
return e.setState({
serverFilterOptions: t
});
});
}, t.prototype.componentDidMount = function l() {
P["default"].handleCardDisplayed(this.props.recommendation);
}, t.prototype.componentWillUnmount = function p() {
this.unsubscribeServerFilterOptions();
}, t.prototype.getHeading = function c() {
if (this.props.recommendation.title) return this.props.recommendation.title;
switch (this.props.recommendation.recommendationType) {
case "OldFavoriteMapModeRecommendation":
return __("ID_SPARTA_CARD_OLDFAVORITE");

case "Trending":
return __("ID_SPARTA_CARD_TRENDING");

case "Recommended":
return __("ID_SPARTA_CARD_RECOMMENDED");

case "Pick":
case "EditorsPick":
return __("ID_SPARTA_CARD_EDITORSPICK");

case "MostRecentGame":
return __("ID_SPARTA_CARD_MOSTRECENT");

case "PopularMapModeRecommendation":
return __("ID_SPARTA_CARD_POPULAR");

case "UnplayedMapModeRecommendation":
return __("ID_SPARTA_CARD_UNPLAYED");

case "FavoriteMapModeRecommendation":
return __("ID_SPARTA_CARD_FAVORITE");

case "LeastPlayedMapModeRecommendation":
return __("ID_SPARTA_CARD_OLDFAVORITE");
}
return console.warn("Recommendation type not accounted for:", this.props.recommendation.recommendationType), 
" ";
}, t.prototype.getButtons = function d() {
var e = [ new v["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: S["default"].Accept,
blockInputFor: 500,
action: this.startMatchmaking.bind(this)
}) ];
return T.focus.system.controllerMode && !this.areAllModesDisabledForFilter() && e.push(new v["default"]({
label: __("ID_SPARTA_ACTION_LISTSERVERS"),
key: S["default"].Option1,
blockInputFor: 500,
action: this.gotoServerBrowser.bind(this)
})), e;
}, t.prototype.getContextMenu = function h() {
return [ new v["default"]({
blockInputFor: 500,
label: __("ID_SPARTA_ACTION_LISTSERVERS"),
action: this.gotoServerBrowser.bind(this)
}) ];
}, t.prototype.getBackgroundImage = function y(e) {
var t = this.props.recommendation.matchmake, n = t.maps, r = t.gameModes, o = u(n);
if (o && e.maps) {
var a = g["default"].find(e.maps, function(e) {
return e.filterKey === o[0];
});
if (a) return a.imageUrl;
}
var i = u(r);
if (i && e.modes) {
var s = g["default"].find(e.modes, function(e) {
return e.filterKey === i[0];
});
if (s) return s.imageUrl;
}
return null;
}, t.prototype.areAllModesDisabledForFilter = function b() {
var e = this, t = this.props.recommendation.matchmake.gameModes;
if (this.state.serverFilterOptions && this.state.serverFilterOptions.modes && t) {
var n = Object.keys(t), r = n.filter(function(t) {
var n = g["default"].find(e.state.serverFilterOptions.modes, function(e) {
return e.filterKey === t;
});
return n && -1 === n.disabledFor.indexOf("ServerFilter");
});
return 0 === r.length;
}
return !1;
}, t.prototype.startMatchmaking = function _() {
P["default"].handleCardInteraction(this.props.recommendation), A["default"].prepare(this.props.recommendation.game, this.props.recommendation.matchmake);
}, t.prototype.gotoServerBrowser = function w() {
P["default"].handleCardInteraction(this.props.recommendation);
var e = this.props.recommendation, t = e.game, n = e.matchmake, r = C.gameStore.getGame(t).serverListRoute;
R["default"].applyFilters(t, n), E.gotoLocation(r);
}, t.prototype.render = function I() {
var e, t = this.props.recommendation, n = C.quickmatchOptionsStore.quickmatchOptions && C.quickmatchOptionsStore.quickmatchOptions[t.game], r = n ? Object.assign({}, this.state.serverFilterOptions, {
gameModes: n.gameModes
}) : Object.assign({}, this.state.serverFilterOptions), a = SpartaGlobals.bundleIsPC && !this.areAllModesDisabledForFilter() ? {
options: this.getContextMenu()
} : null, i = x.getFilterCardSummary(t.matchmake, r);
if (t.display) {
e = this.props.size ? "M" === this.props.size ? t.display.imageSmall : t.display.imageMedium : t.display.imageSmall;
var s = i.subHeading;
i.subHeading = t.display.title.toUpperCase(), i.content = s;
} else e = this.getBackgroundImage(r);
return {
$$typeof: f,
type: U.PlayCard,
key: null,
ref: null,
props: o(U.PlayCard.defaultProps, {
heading: this.getHeading(),
input: this.getButtons(),
focusItem: this.focusItem,
game: t.game,
counterId: t.recommendationId,
contextMenu: a,
joinButtonName: __("ID_SPARTA_ACTION_QUICKMATCH").toUpperCase(),
modes: i.subHeading,
maps: i.content,
playersInfo: i.subHeadingExtra,
background: e,
size: this.props.size,
custom: !!t.display
}),
_owner: null
};
};
var n = t;
return t = s("_$FilterRecommendationCard")(t) || t, t = m.observer(t) || t;
}(h["default"].Component);
t["default"] = G, G.defaultProps = {
size: "M"
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return D(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(4), h = s(d), y = n(17), g = s(y), m = n(141), b = n(61), v = s(b), _ = n(66), S = n(76), w = s(S), T = n(7), C = s(T), E = n(11), I = n(2), P = n(14), O = s(P), A = n(12), k = s(A), R = n(6), x = s(R), M = n(13), N = s(M), $ = {
_$ItemRecommendationCard: {
displayName: "ItemRecommendationCard"
}
}, D = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/ItemRecommendationCard.jsx",
components: $,
locals: [],
imports: []
}), U = {
position: "absolute",
right: 0,
bottom: 0,
left: 0
}, L = function G(e) {
return {
margin: [ 0, 3 * x["default"].GUTTER, 3 * x["default"].GUTTER, 3 * x["default"].GUTTER ],
opacity: N["default"].tweenSwitch(0, 1, e, m.tweenInOptions, m.tweenOutOptions)
};
}, F = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidMount = function s() {
v["default"].handleCardDisplayed(this.props.recommendation);
}, t.prototype.getButtons = function l() {
var e = this, t = this.props.recommendation.itemType, n = this.props.recommendation.game, r = this.props.recommendation.recommendationId, o = E.gameStore.getGame(n);
if (t && o && r) {
var a, i = function() {
switch (a = "", t.toLowerCase()) {
case "medal":
a = "medals";
}
var n = o.startRoute + "/soldier";
return "tunguska" === E.layoutStateStore.current.config.gameId, "" !== a && (n += "/" + a + "?id=" + r), 
{
v: [ new O["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: k["default"].Accept,
blockInputFor: 500,
action: function i() {
v["default"].handleCardInteraction(e.props.recommendation), g["default"].gotoLocation(n);
}
}) ]
};
}();
if ("object" == typeof i) return i.v;
}
return [];
}, t.prototype.getHeading = function u() {
if (this.props.recommendation.recommendationType) switch (this.props.recommendation.recommendationType.toLowerCase()) {
case "unlock":
return __("ID_SPARTA_CARD_UPCOMING_UNLOCK").toUpperCase();

default:
return "";
}
}, t.prototype.getName = function c() {
return this.props.recommendation.displayDetails.name ? this.props.recommendation.displayDetails.name.toUpperCase() : void 0;
}, t.prototype.getProgression = function f(e, t, n) {
return e ? __("ID_SPARTA_CARD_TRACKEDMEDAL_STAGES_COMPLETED").replace("[[current]]", t).replace("[[needed]]", n) : __("ID_SPARTA_CARD_TRACKEDMEDAL_RIBBONS_COMPLETED").replace("[[current]]", t).replace("[[needed]]", n);
}, t.prototype.getImage = function d() {
return this.props.recommendation.displayDetails ? this.props.recommendation.displayDetails.image : void 0;
}, t.prototype.render = function y() {
var e = this, t = this.props.recommendation.displayDetails.completions, n = t.length > 1, o = 0, a = 0;
n ? (h["default"].each(t, function(e) {
e.current === e.needed && o++;
}), a = t.length) : (o = t[0].current, a = t[0].needed);
var i = o / a, s = this.getProgression(n, o, a);
return {
$$typeof: p,
type: I.Focusable,
key: null,
ref: null,
props: r(I.Focusable.defaultProps, {
children: function l(t) {
var n = t.isFocused || t.isHovered;
return {
$$typeof: p,
type: _.BasicCard,
key: null,
ref: null,
props: r(_.BasicCard.defaultProps, {
focusItem: t,
input: e.getButtons(),
heading: e.getHeading(),
description: e.getName(),
icon: e.getImage(),
size: e.props.size.replace("L", "M"),
fold: {
$$typeof: p,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
value: s,
style: L(n),
size: "XS"
}),
_owner: null
},
overlay: {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
style: U,
completed: i,
backgroundColor: n ? "#00000033" : "#ffffff33"
}),
_owner: null
}
}),
_owner: null
};
},
debugName: "item_rec_card"
}),
_owner: null
};
};
var n = t;
return t = i("_$ItemRecommendationCard")(t) || t;
}(f["default"].Component);
t["default"] = F, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return R(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(4), h = s(d), y = n(14), g = s(y), m = n(12), b = s(m), v = n(2), _ = n(44), S = s(_), w = n(30), T = s(w), C = n(61), E = s(C), I = n(16), P = s(I), O = n(159), A = n(56), k = {
_$PlayingFriendsRecommendationCard: {
displayName: "PlayingFriendsRecommendationCard"
}
}, R = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/PlayingFriendsRecommendationCard.jsx",
components: k,
locals: [],
imports: []
}), x = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = v.focus.create(this, "playing_friends_rec_card"), 
this.focusItem.autoFocusCandidate = !0;
}
a(t, e), t.prototype.componentDidMount = function s() {
E["default"].handleCardDisplayed(this.props.recommendation);
}, t.prototype.getButtons = function l(e, t) {
var n = this, r = [ new g["default"]({
label: __("ID_SPARTA_CARD_JOINFRIENDS"),
key: b["default"].Accept,
blockInputFor: 500,
action: function o() {
return n.onJoinFriend(e, t);
}
}) ];
return SpartaGlobals.bundleIsConsole && A.supportsSpectating(t.game) && r.push(new g["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
key: b["default"].Option1,
blockInputFor: 500,
action: function a() {
return n.onJoinAsSpectator(t);
}
})), r;
}, t.prototype.getContextMenuConfig = function u(e) {
var t = this, n = [];
if (A.supportsSpectating(e.game)) {
var r = {
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
action: function o() {
return t.onJoinAsSpectator(e);
}
};
n.push(r);
}
return n.length ? {
options: n
} : null;
}, t.prototype.getLargestGroup = function c(e) {
return h["default"].chain(e).groupBy(function(e) {
return e.presence.server.gameId;
}).values().sortBy(function(e) {
return e.length;
}).last().value();
}, t.prototype.onJoinFriend = function f(e, t) {
E["default"].handleCardInteraction({
group: "friend",
recommendationType: "FriendPlayingRecommendation"
}, this.props.recommendation.playingFriends.length), this.state.gameState.isServerJoiningAllowed(t.gameId) && T["default"].joinServer(t.createJoinOptions({
friend: e
}));
}, t.prototype.onJoinAsSpectator = function d(e) {
E["default"].handleCardInteraction({
group: "friend",
recommendationType: "FriendPlayingRecommendation"
}, this.props.recommendation.playingFriends.length), this.state.gameState.isServerJoiningAllowed(e.gameId) && T["default"].joinServer(e.createJoinOptions({
role: "spectator"
}));
}, t.prototype.render = function y() {
var e = this.props.recommendation.playingFriends;
if (!e || 0 === e.length) return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var t = this.getLargestGroup(e), n = t[0], o = n.presence.server, a = 1 === t.length ? __("ID_SPARTA_CARD_JOINFRIEND").toUpperCase() : __("ID_SPARTA_CARD_JOINFRIENDS").toUpperCase(), i = o.slots.soldier, s = o.mapModePretty.toUpperCase(), l = o.mapNamePretty.toUpperCase(), u = (i.current + "/" + i.max + " " + __("ID_SPARTA_SERVER_PLAYERS").toLowerCase()).toUpperCase(), c = SpartaGlobals.bundleIsPC ? this.getContextMenuConfig(o) : null;
return {
$$typeof: p,
type: O.PlayCard,
key: null,
ref: null,
props: r(O.PlayCard.defaultProps, {
heading: a,
focusItem: this.focusItem,
input: this.getButtons(n, o),
contextMenu: c,
joinButtonName: a,
modes: o.name,
maps: s + " - " + l,
playersInfo: u,
background: o.mapImageUrl,
friends: t,
size: this.props.size
}),
_owner: null
};
};
var n = t;
return t = i("_$PlayingFriendsRecommendationCard")(t) || t, t = P["default"]({
gameState: S["default"]
})(t) || t;
}(f["default"].Component);
x.propTypes = {
size: f["default"].PropTypes.oneOf([ "L", "SSL" ]),
recommendation: f["default"].PropTypes.object.isRequired
}, x.defaultProps = {
size: "L"
}, t["default"] = x, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return N(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(66), h = n(17), y = n(61), g = s(y), m = n(19), b = s(m), v = n(80), _ = s(v), S = n(16), w = s(S), T = n(144), C = s(T), E = n(273), I = n(30), P = s(I), O = n(2), A = n(14), k = s(A), R = n(12), x = s(R), M = {
_$RouteRecommendationCard: {
displayName: "RouteRecommendationCard"
}
}, N = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/RouteRecommendationCard.jsx",
components: M,
locals: [],
imports: []
}), $ = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidMount = function s() {
g["default"].handleCardDisplayed(this.props.recommendation);
}, t.prototype.gotoRoute = function l() {
g["default"].handleCardInteraction(this.props.recommendation);
var e = this.props.recommendation.route;
-1 !== e.indexOf("crosslaunch/") ? (e = e.replace("crosslaunch/", ""), C["default"].launchGame(new E.CrossLaunchOptions({
gameId: e,
params: {
gameMode: "None"
}
}))) : "operations" === e ? P["default"].enterSpecificGameMode("operations") : h.gotoLocation(e);
}, t.prototype.render = function u() {
var e = this, t = this.state.entitlements.hasAccess();
if (t && -1 !== this.props.recommendation.route.indexOf("store/list?tab=access")) return null;
var n = [ new k["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
blockInputFor: 500,
action: this.gotoRoute.bind(this),
key: x["default"].Accept
}) ], o = "";
-1 !== this.props.recommendation.route.indexOf("/store/list") && (o = __("ID_SPARTA_CARD_OFFER").toUpperCase());
var a = b["default"].getState().locale, i = this.props.recommendation.title || "", s = void 0 !== this.props.recommendation.localizedTitles ? this.props.recommendation.localizedTitles[a.toLowerCase()] || i : i;
return {
$$typeof: p,
type: O.Focusable,
key: null,
ref: null,
props: r(O.Focusable.defaultProps, {
children: function l(t) {
return {
$$typeof: p,
type: d.BasicCard,
key: null,
ref: null,
props: r(d.BasicCard.defaultProps, {
focusItem: t,
heading: o,
description: s.toUpperCase(),
background: e.props.recommendation.imageUrl,
size: e.props.size,
input: n
}),
_owner: null
};
},
debugName: "route_rec_card"
}),
_owner: null
};
};
var n = t;
return t = i("_$RouteRecommendationCard")(t) || t, t = w["default"]({
entitlements: _["default"]
})(t) || t;
}(f["default"].Component);
t["default"] = $, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
function s(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function l(e) {
return function(t) {
return k(t, e);
};
}
function u(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var p = n(3), c = u(p);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), h = n(1), y = u(h), g = n(2), m = n(8), b = n(10), v = n(463), _ = n(14), S = u(_), w = n(12), T = u(w), C = n(61), E = u(C), I = n(66), P = n(9), O = r(g), A = {
_$VideoRecommendationCard: {
displayName: "VideoRecommendationCard"
}
}, k = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-recommendations/src/cards/VideoRecommendationCard.jsx",
components: A,
locals: [],
imports: []
}), R = P.bbOfflineUrl("/sparta/jsclient/builds/assets/play_active-b7f2b328.png"), x = P.bbOfflineUrl("/sparta/jsclient/builds/assets/play-f2e293cf.png"), M = "SpartaCommonAtlas", N = function(e) {
function t(t) {
a(this, r), e.call(this, t), i(this, "isFullscreen", n), this.video = g.video.loadVideo(t.recommendation.url), 
this.focusItem = g.focus.create(this, "video_rec_card"), this.focusItem.autoFocusCandidate = !0, 
this.preloader = O.texture.createPreloader(this), this.preloader.preload(R, M), 
this.preloader.preload(x, M);
}
var n = {};
s(t, e), t.prototype.componentDidMount = function u() {
E["default"].handleCardDisplayed(this.props.recommendation);
}, t.prototype.componentWillUpdate = function p(e) {
this.video = g.video.loadVideo(e.recommendation.url);
}, t.prototype.render = function c() {
var e = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
texture: this.focusItem.isFocused ? R : x,
textureAtlas: M,
textureMode: "none",
textureAlign: [ .5, .5 ]
}
},
_owner: null
}, t = [ new S["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
blockInputFor: 500,
action: this.showFullScreenPopup.bind(this),
key: T["default"].Accept
}) ];
return {
$$typeof: f,
type: I.BasicCard,
key: null,
ref: null,
props: o(I.BasicCard.defaultProps, {
forcedActive: this.isFullscreen,
focusItem: this.focusItem,
input: t,
heading: __("ID_SPARTA_CARD_WATCH").toLocaleUpperCase(),
description: (this.props.recommendation.title || "").toLocaleUpperCase(),
background: this.props.recommendation.imageUrl,
backgroundVideo: this.video,
overlay: e,
size: this.props.size
}),
_owner: null
};
}, d(t, [ {
key: "showFullScreenPopup",
decorators: [ b.action ],
value: function h() {
var e = this;
clearTimeout(this.autoPlayTimeout);
var t = this.props.recommendation;
E["default"].handleCardInteraction(t), this.isFullscreen = !0, this.video.setLoop(!1), 
v.showFullscreenVideo(this.video, t.title, t.author).then(b.action(function() {
e.isFullscreen = !1, e.video.setLoop(!0), e.video.play();
}));
}
}, {
key: "isFullscreen",
decorators: [ b.observable ],
initializer: function y() {
return !1;
},
enumerable: !0
} ], null, n);
var r = t;
return t = l("_$VideoRecommendationCard")(t) || t, t = m.observer(t) || t;
}(y["default"].Component);
t["default"] = N, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
e.exports = n(553);
}, function(e, t, n) {
e.exports = n(725);
}, function(e, t, n) {
(function(__) {
function t(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(1), a = (r(o), n(367)), i = r(a), s = n(17), l = r(s), u = n(11), p = n(4), c = r(p), f = n(27), d = r(f), h = n(49), y = n(728), g = r(y), m = n(727), b = r(m), v = n(743), _ = r(v), S = n(155), w = n(68), T = n(22), C = r(T), E = n(36), I = r(E), P = n(349), O = r(P), A = n(147), k = r(A), R = n(450), x = r(R), M = n(102), N = r(M), $ = n(453), D = r($), U = n(451), L = r(U), F = n(735), G = r(F), j = n(54), B = t(j), H = n(757), V = t(H), z = n(432), W = r(z), q = n(734), K = n(9), X = n(39), Y = n(789), J = n(26), Q = r(J), Z = n(112), ee = r(Z), te = n(35), ne = n(730), re = r(ne), oe = n(376), ae = (r(oe), 
n(609)), ie = r(ae), se = n(613), le = r(se), ue = n(610), pe = r(ue), ce = n(612), fe = r(ce), de = n(530), he = K.bbOfflineUrl("/sparta/jsclient/builds/assets/bf1-soldier-temp-b116e195.png"), ye = {
Assault: K.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/assault-3f255430.png"),
Cavalry: K.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/cavalry-14c9646a.png"),
Medic: K.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/medic-8cfde563.png"),
Pilot: K.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/pilot-10ec93d7.png"),
Scout: K.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/scout-f24eac95.png"),
Support: K.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/support-d67fce25.png"),
Tanker: K.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/tanker-192d58c0.png")
};
e.exports = {
stores: {
TunguskaBattlepackStore: k["default"],
TunguskaBattlepackActiveStore: x["default"],
TunguskaBattlepackBalanceStore: N["default"],
TunguskaBattlepackPurchasableStore: D["default"],
TunguskaBattlepackBlueprintStore: L["default"]
},
actions: {
TunguskaActions: I["default"]
},
components: [],
initialize: function ge() {
function e() {
var e = [ "deluxe", "battlepacks" ], t = u.gameStore.getGame(o).subscriberAccessFeatureFlagName;
return u.settingsStore.isFeatureEnabled("tunguskaKitShortcuts") && e.push("shortcuts"), 
e.push("premium"), u.settingsStore.isFeatureEnabled("tunguskaRSP") && e.push("rent"), 
u.settingsStore.isFeatureEnabled(t) && e.push("access"), e;
}
function t(e, t, n) {
if (c["default"].findWhere(e, {
license: "xp0"
})) {
var r = __("ID_SPARTA_TUNGUSKA_XPACK0_POPUP_TEXT") + "\n\n";
r += __(u.settingsStore.isFeatureEnabled("tunguskaXpack0HideDate") ? "ID_SPARTA_TUNGUSKA_XPACK0_POPUP_GENERAL_TEXT" : "ID_SPARTA_TUNGUSKA_XPACK0_POPUP_DATE_TEXT"), 
r = r.toUpperCase();
var o = __("ID_SPARTA_TUNGUSKA_XPACK0_POPUP_STORE_TEXT");
return te.alertWithCenteredContent(r, o), !0;
}
return !1;
}
function r() {
var e = K.bbOfflineUrl("/sparta/jsclient/builds/assets/splash-bf1-launch-b78d6145.jpg");
return SpartaGlobals.bundleIsPC ? {
startScreenImageUrl: e,
logoUrl: K.bbOfflineUrl("/sparta/jsclient/builds/assets/logo_pc-795c9952.png"),
trialLogoUrl: K.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf1-pc-trial-e793fd34.png"),
premiumLogoUrl: K.bbOfflineUrl("/sparta/assets/layout/logos/logo-premium-pc-47319a70.png")
} : {
startScreenImageUrl: e,
logoUrl: K.bbOfflineUrl("/sparta/jsclient/builds/assets/logo_console-55b4af21.png"),
trialLogoUrl: K.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf1-console-trial-f22e507b.png"),
premiumLogoUrl: K.bbOfflineUrl("/sparta/assets/layout/logos/logo-premium-console-790d55d3.png")
};
}
var o = "tunguska", a = "tunguska", s = [ 4084, 1600 ], p = [ 4084, 1440 ];
X.acceptKeyword("accept_exclusive_keywords_start");
var f = [ {
bg: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Total_War_Background-77f660cf.dds"),
overlay: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Total_War_Foreground-6c8f0f87.dds"),
skyColor: "#6f7170"
}, {
bg: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Desert_Background-9f5af72b.dds"),
overlay: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Desert_Foreground-cfaf8ffe.dds"),
skyColor: "#4b565c"
}, {
bg: K.bbOfflineUrl("/sparta/assets/tunguska/Fao_Background-199b2844.dds"),
overlay: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Fao_Foreground-7db37300.dds"),
skyColor: "#ab8987"
}, {
bg: K.bbOfflineUrl("/sparta/assets/tunguska/Scar_Background-f3681fe6.dds"),
overlay: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Scar_Foreground-3899e316.dds"),
skyColor: "#80879b"
}, {
bg: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Forest_Background-07d95344.dds"),
overlay: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Forest_Foreground-44ffcba0.dds"),
skyColor: "#9daba5"
}, {
bg: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Prologue_Background-3c221a72.dds"),
overlay: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Prologue_Foreground-de0d6200.dds"),
skyColor: "#71858f"
}, {
bg: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Gallipoli_Background-afcdd49d.dds"),
overlay: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Gallipoli_Foreground-5327dbe0.dds"),
skyColor: "#688299"
} ];
X.acceptKeyword("accept_exclusive_keywords_end");
var y = f[Math.floor(Math.random() * f.length)], m = {
normal: w.fontState.fonts.tunguska.normal,
emphasis: w.fontState.fonts.tunguska.emphasis,
letterSpacing: 2
};
Q["default"].onSessionEstablished.listen(function() {
var e = Y.getServerFilters();
u.settingsStore.isFeatureEnabled("spectator") || (e.slots = e.slots.filter(function(e) {
return "spectator" !== e.filterKey;
})), C["default"].setFilterOptions({
tunguska: e
});
});
var v = {
serverType: {
OFFICIAL: "on"
},
passwordProtected: "off"
}, T = {
breakthrough: {
gameSizes: {
64: "on"
},
gameModes: {
Breakthrough: "on",
BreakthroughLarge: "on"
}
}
}, E = [ {
getTitle: function J() {
return __("ID_SPARTA_CUSTOMIZE_SOLDIER");
},
label: function Z() {
return __("ID_SPARTA_CUSTOMIZE_SOLDIER");
},
route: "loadout",
onTrigger: function ne() {
return I["default"].showLoadout();
},
isNative: !0,
requiresInstallation: !0,
featureFlag: "tunguskaCustomizeFrontend"
}, {
getTitle: function oe() {
return __("ID_SPARTA_CAREER_WEAPONS_AND_GADGETS");
},
label: function ae() {
return __("ID_SPARTA_CAREER_WEAPONS_AND_GADGETS");
},
route: "kits",
view: le["default"],
onTrigger: function se() {
return l["default"].gotoLocation("tunguska/soldier/kits");
},
completion: [ "WEAPONS", "GADGETS" ]
}, {
getTitle: function ue() {
return __("ID_SPARTA_CAREER_VEHICLES");
},
label: function ce() {
return __("ID_SPARTA_CAREER_VEHICLES");
},
route: "vehicles",
view: fe["default"],
onTrigger: function ge() {
return l["default"].gotoLocation("tunguska/soldier/vehicles");
}
}, {
getTitle: function me() {
return __("ID_SPARTA_CAREER_AWARDS");
},
label: function be() {
return __("ID_SPARTA_CAREER_AWARDS");
},
route: "medals",
view: pe["default"],
onTrigger: function ve() {
return l["default"].gotoLocation("tunguska/soldier/medals");
},
completion: "MEDALS"
}, {
getTitle: function _e() {
return __("ID_SPARTA_CAREER_CODEX");
},
label: function Se() {
return __("ID_SPARTA_CAREER_CODEX");
},
route: "codex",
view: re["default"],
onTrigger: function we() {
return l["default"].gotoLocation("tunguska/soldier/codex");
},
completion: "CODEX"
}, {
getTitle: function Te() {
return __("ID_SPARTA_CAREER_DOGTAGS");
},
label: function Ce() {
return __("ID_SPARTA_CAREER_DOGTAGS");
},
route: "dogtags",
view: ie["default"],
onTrigger: function Ee() {
return l["default"].gotoLocation("tunguska/soldier/dogtags");
},
completion: "DOG TAGS"
}, {
getTitle: function Ie() {
return __("ID_SPARTA_CAREER_BATTLEPACKS");
},
label: function Pe() {
return __("ID_SPARTA_CAREER_BATTLEPACKS");
},
route: "battlepacks",
isNative: !0,
onTrigger: function Oe() {
return l["default"].gotoLocation("tunguska/more/battlepacks");
}
} ], P = {
route: o + "/store/list",
image: K.bbOfflineUrl("/sparta/jsclient/builds/assets/bf1-e55ecb60.png"),
getTabs: e,
showShortcutKitReceipt: !0
}, A = [ ee["default"].ENGLISH, ee["default"].FRENCH, ee["default"].ITALIAN, ee["default"].SPANISH, ee["default"].GERMAN, ee["default"].POLISH, ee["default"].RUSSIAN, ee["default"].PORTUGUESE_BRAZIL, ee["default"].JAPANESE, ee["default"].SPANISH_MEXICO, ee["default"].ARABIC, ee["default"].CHINESE, ee["default"].TURKISH ], k = [ ee["default"].ENGLISH, ee["default"].FRENCH, ee["default"].SPANISH, ee["default"].PORTUGUESE_BRAZIL, ee["default"].SPANISH_MEXICO, ee["default"].CHINESE ], R = [ ee["default"].ENGLISH, ee["default"].FRENCH, ee["default"].ITALIAN, ee["default"].SPANISH, ee["default"].GERMAN, ee["default"].POLISH, ee["default"].RUSSIAN, ee["default"].ARABIC, ee["default"].TURKISH ], x = [ ee["default"].ENGLISH, ee["default"].JAPANESE ], M = [ ee["default"].ENGLISH, ee["default"].RUSSIAN ], N = {
eu: {
PC: A,
XBOXONE: A,
PS4: R
},
jp: {
PC: A,
XBOXONE: A,
PS4: x
},
na: {
PC: A,
XBOXONE: A,
PS4: k
},
ru: {
PC: A,
XBOXONE: A,
PS4: M
}
}, $ = {
completedText: {
color: "#ff9900"
},
customLabel: {
color: "#ff9900"
},
rankBadge: {
position: "absolute",
top: SpartaGlobals.bundleIsConsole ? -27 : -33
},
alignBadgeInfo: "bottom"
};
X.acceptKeyword("accept_exclusive_keywords_start");
var D = {
conquest: function Ae() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_CONQUEST");
},
domination: function ke() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_DOMINATION");
},
rush: function Re() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_RUSH");
},
teamdeathmatch: function xe() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_TDM");
},
breakthrough: function Me() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_BREAKTHROUGH");
},
possession: function Ne() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_POSESSION");
},
airsuperiority: function $e() {
return __("ID_SPARTA_GAMEDATA_CATCHPHRASE_AIRSUPERIORITY");
}
};
X.acceptKeyword("accept_exclusive_keywords_end"), u.gameStore.registerGame(new S.Game(Object.assign({
gameId: o,
branchNameTest: "tunguska",
productGuid: "{D4C9BAB0-CE51-4416-B51A-E0EF7154B8F4}",
crossLaunchIds: {
xboxOneId: "ms-xbl-52A4C121://crossLaunch",
ps4Ids: {
NA: "CUSA02429",
EU: "CUSA02387",
JP: "CUSA02400"
},
pcIds: {
masterTitleId: "190132",
multiplayerId: "1026023"
}
},
displayName: function De() {
return __("ID_SPARTA_TUNGUSKA_TITLE");
},
logo: q.TunguskaLogo,
cardImageUrl: K.bbOfflineUrl("/sparta/jsclient/builds/assets/card-1d551bae.jpg"),
tallCardImage: {
normal: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BF1-7f45c883.png"),
grayScale: K.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BF1-Gray-bb9fe705.png")
},
defaultBackgroundUrl: y.bg,
serverListRoute: "tunguska/mp/servers",
serverDetailsRoute: "tunguska/mp/servers/details",
serverListDefaultFilter: {
slots: {
oneToFive: "on",
sixToTen: "on"
},
regions: {}
},
expansionsImage: K.bbOfflineUrl("/sparta/assets/expansions-bf4-fb125f97.png"),
showMissingExpansionsPopupOverride: t,
battlepacksRoute: "tunguska/more/battlepacks",
quickMatchRoute: "tunguska/mp/quickmatch",
gameModeCatchphrases: D,
fonts: m,
gameViewComponent: n(758),
startRoute: "tunguska",
careerConfig: E,
shouldDisplayMedalProgression: !1,
dogtagsConfig: {
getLeft: function Ue() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_FRONT");
},
getRight: function Le() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_BACK");
},
size: "square",
type: "flipping"
},
customizeSoldierAction: function Fe() {
u.settingsStore.isFeatureEnabled("tunguskaCustomizeFrontend") && I["default"].showLoadout();
},
storeConfig: P,
rspConfig: {
isEnabled: function Ge() {
return u.settingsStore.isFeatureEnabled("tunguskaRSP");
},
excludedGameModes: [ "BT0", "BTL0" ],
requireAtLeastOneOfKits: [ "1", "2", "3", "4" ],
purchaseNewRoute: "tunguska/store/list/rsp",
renewRoute: "tunguska/mp/servers/rsp/renew",
configureRoute: "tunguska/mp/servers/rsp/configure"
},
legal: W["default"],
enforceEntitlements: !1,
styles: $,
backgroundMusicTrack: 1,
locales: N,
fetchCareer: !0,
supportedRoles: [ "soldier", "spectator" ],
supportedServerTypes: [ "PRIVATE" ],
hasParticleEffects: !0,
hasSpectatorFeatureFlag: !0,
showMissingEntitlementPopupOnJoinFor: {
XPACK0: [ "MP_Giant" ]
},
mutateCareerStats: function je(e) {
var t = e.highlightsByType.kit && e.highlightsByType.kit[0];
e.soldierImageUrl = ye[t && t.kitId] || ye[t && t.name] || he;
}
}, r())));
var U, L, F, j, H, z;
z = new h.Route("premium", {
getTitle: function Be() {
return __("ID_SPARTA_MENU_TITLE_PREMIUM");
},
visible: !1,
view: n(740)
}), U = new h.Route("mp", {
requireOnline: !0,
requireMpInstalled: !0,
getTitle: function He() {
return __("ID_SPARTA_MENU_TITLE_MULTIPLAYER");
},
view: n(737),
children: [ new h.Route("servers", {
getTitle: function Ve() {
return __("ID_SPARTA_MENU_TITLE_SERVER_BROWSER");
},
view: n(742),
children: [ new h.Route("details", {
getTitle: function ze() {
return __("ID_SPARTA_MENU_TITLE_SERVER_INFO");
},
view: n(741),
excludeFromHistory: !0
}), new h.Route("filter", {
getTitle: function We() {
return __("ID_SPARTA_MENU_TITLE_FILTER");
},
view: n(433),
excludeFromHistory: !0
}), new h.Route("rsp", {
getTitle: function qe() {
return __("ID_SPARTA_TAB_RENTEDSERVERS");
},
skipToFirstChild: !0,
children: [ new h.Route("renew", {
getTitle: function Ke() {
return __("ID_SPARTA_ACTION_SERVER_RENEW");
},
view: de.RenewExpiredServer,
args: {
gameId: o
},
excludeFromHistory: !0
}), new h.Route("configure", {
getTitle: function Xe() {
return __("ID_SPARTA_ACTION_SERVER_CONFIGURE");
},
view: de.ConfigureExistingServer,
args: {
gameId: o
},
excludeFromHistory: !0
}) ]
}) ]
}), new h.Route("quickmatch", {
getTitle: function Ye() {
return __("ID_SPARTA_MENU_TITLE_QUICKMATCH");
},
view: n(551).getGameSpecificQuickMatch("tunguska", v, T)
}), new h.Route("customgames", {
getTitle: function Je() {
return __("ID_SPARTA_MENU_TITLE_CUSTOM_GAMES");
},
view: n(733),
children: [ new h.Route("filter", {
excludeFromHistory: !0,
getTitle: function Qe() {
return __("ID_SPARTA_MENU_TITLE_FILTER");
},
view: n(433)
}) ]
}) ]
}), L = new h.Route("sp", {
requireOnline: !1,
requireMpInstalled: !1,
getTitle: function Ze() {
return __("ID_SPARTA_MENU_TITLE_CAMPAIGN");
},
view: n(729),
disabled: !1
}), F = new h.Route("soldier", {
getTitle: function et() {
return __("ID_SPARTA_MENU_TITLE_SOLDIER");
},
args: {
gameId: o
},
view: n(377),
children: i["default"].generateChildrenRoutes(o, E),
disabled: !1
}), j = new h.Route("store", {
getTitle: function tt() {
return __("ID_SPARTA_MAIN_TITLE_STORE");
},
args: {
gameId: o
},
view: n(386),
children: [ new h.Route("access", {
getTitle: function nt() {
return __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_TAB_ORIGIN_ACCESS" : "ID_SPARTA_TAB_EA_ACCESS");
},
view: n(260),
args: {
gameId: o,
baseRoute: a,
accessTabbedRoute: !0
},
children: [ new h.Route("play-first", {
getTitle: function rt() {
return __("ID_SPARTA_ACCESS_PLAY_FIRST_TRIAL");
},
args: {
gameId: o,
baseRoute: a,
accessTabbedRoute: !0
},
view: n(385)
}), new h.Route("common-questions", {
getTitle: function ot() {
return __("ID_SPARTA_ACCESS_COMMON_QUESTIONS");
},
args: {
gameId: o,
baseRoute: a,
accessTabbedRoute: !0
},
view: n(384)
}), new h.Route("join-buy", {
getTitle: function at() {
return __("ID_SPARTA_ACCESS_JOIN_AND_BUY");
},
args: {
gameId: o,
baseRoute: a,
accessTabbedRoute: !0
},
view: n(620)
}) ]
}), new h.Route("list", {
getTitle: function it() {
return __("ID_SPARTA_TUNGUSKA_TITLE");
},
args: {
gameId: "tunguska"
},
view: n(261),
children: [ new h.Route("rsp", {
getTitle: function st() {
return __("ID_SPARTA_COMMERCE_RSP");
},
visible: !1,
args: {
gameId: o
},
view: de.PurchaseNewServer,
excludeFromHistory: !0
}) ]
}) ]
}), H = new h.Route("more", {
requireOnline: !1,
requireMpInstalled: !1,
getTitle: function lt() {
return __("ID_SPARTA_MENU_TITLE_MORE");
},
view: n(736),
children: [ new h.Route("battlepacks", {
requireOnline: !0,
requireMpInstalled: !0,
getTitle: function ut() {
return __("ID_SPARTA_MENU_TITLE_BATTLEPACKS");
},
view: n(756)
}), new h.Route("about", {
getTitle: function pt() {
return __("ID_SPARTA_MENU_TITLE_ABOUT");
},
view: n(726)
}), new h.Route("companion", {
getTitle: function ct() {
return __("ID_SPARTA_MENU_TITLE_COMPANION");
},
view: n(731)
}) ]
}), d["default"].addRouteConfig(new h.Route("tunguska", {
requireOnline: !0,
requireMpInstalled: !0,
gameId: o,
getTitle: function ft() {
return __("ID_SPARTA_TUNGUSKA_TITLE");
},
getSubtitle: function dt() {
return __("ID_SPARTA_MENU_TITLE_HOME");
},
view: n(738),
offlineView: n(739),
logoUrl: r().logoUrl,
fonts: m,
backgroundMask: !0,
backgroundSize: s,
backgroundUrl: y.bg,
backgroundOverlayUrl: y.overlay,
backgroundOverlaySize: p,
backgroundMusicTrack: 1,
backgroundSkyColor: y.skyColor,
normalIconUrl: K.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-iconbf1-532597ae.png"),
priority: -1,
children: [ U, L, F, j, H, z ]
})), g["default"](), b["default"](), _["default"](), O["default"].startListening(), 
V.fetcher.startListening(), V.tracker.startListening(), G["default"](), B.startListening();
}
};
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return U(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(2), d = r(f), h = n(4), y = l(h), g = n(1), m = l(g), b = n(19), v = l(b), _ = n(305), S = l(_), w = n(432), T = l(w), C = n(62), E = l(C), I = n(7), P = l(I), O = n(6), A = l(O), k = n(221), R = n(16), x = l(R), M = n(128), N = l(M), $ = n(32), D = {
_$TunguskaAbout: {
displayName: "TunguskaAbout"
},
_$TextWithRenderDelay: {
displayName: "TextWithRenderDelay"
}
}, U = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaAbout.jsx",
components: D,
locals: [],
imports: []
}), L = {
marginTop: -A["default"].GUTTER,
marginBottom: A["default"].getHeight(5),
textAlignForRTL: "left"
}, F = {}, G = function(e) {
function t() {
a(this, n), e.call(this), this.state = {
text: null,
selected: T["default"].textsToAccept.EULA
};
}
i(t, e), t.prototype.componentDidMount = function r() {
this.loadTextForCurrentSelected();
}, t.prototype.componentDidUpdate = function l(e, t) {
this.state.selected !== t.selected && this.loadTextForCurrentSelected();
}, t.prototype.getMenuItems = function u() {
var e = this, t = y["default"].map(T["default"].textsToAccept, function(t, n) {
return e.mapItem(t, n);
}), n = y["default"].map(T["default"].textsToShow, function(t, n) {
return e.mapItem(t, n);
});
return [].concat(t, n);
}, t.prototype.loadTextForCurrentSelected = function p() {
var e = this, t = this.state.nativeProperties.locale, n = this.state.selected.sources[t];
return n ? F[n] ? void this.setState({
text: F[n]
}) : void d.loadAssetRequest(d.options.urlHook(n), function(r, o) {
r ? (e.setState({
text: o
}), F[n] = o) : (console.warn("Failed to fetch text for locale: " + t), e.setState({
text: ""
}));
}) : (console.warn("Missing source for locale: " + t), void this.setState({
text: ""
}));
}, t.prototype.mapItem = function f(e, t) {
var n = this;
return {
label: e.getTitle().toUpperCase(),
scrollLabel: !0,
id: t,
name: t,
showActiveIndicator: e.getTitle() === this.state.selected.getTitle(),
onTrigger: function r() {
n.state.selected !== e && (n.refs.list.setActive(t), n.setState({
text: null,
selected: e
}), n.refs.template.refs.scroller.scrollTo(0, 0));
}
};
}, t.prototype.render = function h() {
var e = this, t = this.state.selected.getTitle().toUpperCase(), n = [ {
$$typeof: c,
type: P["default"],
key: "title",
ref: null,
props: o(P["default"].defaultProps, {
value: t,
size: "L",
style: L
}),
_owner: null
} ];
return this.state.text && !function() {
var t = k.chunkTextByLines(e.state.text), r = 0 === t.length ? 100 : 2e3 / t.length, a = t.map(function(t, n) {
return {
$$typeof: c,
type: j,
key: n + "_" + e.state.selected.getTitle(),
ref: null,
props: o(j.defaultProps, {
delay: n * r,
text: t
}),
_owner: null
};
});
n.push.apply(n, a);
}(), m["default"].createElement(S["default"], {
tilting: !1,
useScroller: !0,
tallContent: !0,
showScrollAction: !0,
globalScrollListener: !0,
ref: "template",
sideContent: m["default"].createElement(E["default"], {
ref: "list",
items: this.getMenuItems(),
divider: "item"
})
}, {
$$typeof: c,
type: N["default"],
key: null,
ref: null,
props: o(N["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: n
},
_owner: null
},
transitionId: t
}),
_owner: null
});
};
var n = t;
return t = s("_$TunguskaAbout")(t) || t, t = x["default"]({
nativeProperties: v["default"]
})(t) || t;
}(m["default"].Component);
t["default"] = G;
var j = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
show: !1
}, this.timeout = null;
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this;
this.timeout = setTimeout(function() {
e.setState({
show: !0
});
}, this.props.delay);
}, t.prototype.componentWillUnmount = function l() {
clearTimeout(this.timeout);
}, t.prototype.render = function u() {
if (this.state.show) {
var e = $.isRTLLanguage() ? A["default"].GUTTER : 0;
return {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
value: this.props.text,
size: "S",
style: {
textAlignForRTL: "left",
marginRight: e
}
}),
_owner: null
};
}
return {
$$typeof: c,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
value: "",
size: "S"
}),
_owner: null
};
};
var n = t;
return t = s("_$TextWithRenderDelay")(t) || t;
}(m["default"].Component);
e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(36), a = r(o), i = n(143), s = r(i), l = n(19), u = r(l);
e.exports = function() {
s["default"].joinMultiplayerServer.listen(function(e) {
var t = e.gameId;
"tunguska" === t && "tunguska" === u["default"].getState().hostingGameId && a["default"].joinGame(e);
}), s["default"].continueSinglePlayer.listen(function(e) {
"tunguska" === e && "tunguska" === u["default"].getState().hostingGameId && a["default"].enterCampaign();
});
};
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t, n, r) {
G["default"].onJoinMultiplayerServerResult(new V["default"]({
gameId: "tunguska",
resultType: e,
eventType: t,
blazeGameId: n,
server: r
}));
}
function i() {
B["default"].route("loading"), B["default"].show();
}
function s() {
B["default"].hide(), B["default"].route("none");
}
function l() {
D.backgroundContainer.extra.addElements([ c.createElement(ve.TunguskaGlobe, {
key: "globe"
}, null) ]), he.startCampaignFlow(), de.startOperationFlow(), L["default"].handleJoinReady.listen(function() {
var e = K["default"].getState().isRunning;
de.operationFlow.state !== de.OperationState.none ? (i(), ae.cloudTransition.setToEarth()) : ae.cloudTransition.state !== ae.CloudTransitionState.earth || e ? ae.cloudTransition.state === ae.CloudTransitionState.earth ? i() : ae.cloudTransition.landOnEarth(i) : ae.cloudTransition.flyToClouds(function() {
ae.cloudTransition.landOnEarth(i);
});
}), G["default"].onJoinMultiplayerFailed.listen(function() {
ae.cloudTransition.landOnEarth();
});
var e;
ee["default"].scope("isVisible").listen(function(t) {
t ? e = D.backgroundContainer.extra.addElements([ {
$$typeof: u,
type: ie.GameBackground,
key: null,
ref: null,
props: o(ie.GameBackground.defaultProps, {}),
_owner: null
} ]) : e && e();
}), oe["default"].start.listen(function(e) {
if (e) {
var t = de.operationFlow.state === de.OperationState.matchmaking;
t ? (i(), fe.matchmakingCheckList.startNewCheckList({
mode: !0
})) : (fe.matchmakingCheckList.startNewCheckList({}), ae.cloudTransition.flyToSpace(i));
}
}), oe["default"].stop.listen(function(e) {
de.operationFlow.state === de.OperationState.matchmaking ? (ae.cloudTransition.setToSpace(), 
de.operationFlow.cancelMatchmaking(e)) : ae.cloudTransition.landOnEarth();
}), oe["default"].canJoinSession.listen(function(e) {
var t = ne["default"].getState();
e && t && "tunguska" === t.gameId && B["default"].hide();
}), L["default"].joinMatchmakingResult.listen(function() {
de.operationFlow.state === de.OperationState.none ? ae.cloudTransition.landOnEarth(i) : de.operationFlow.state === de.OperationState.serverFound && de.operationFlow.join();
}), oe["default"].onMatchmakingFailedDismiss.listen(function() {
de.operationFlow.state === de.OperationState.none && (s(), ae.cloudTransition.landOnEarth(s));
}), B["default"].browseWhileWaiting.listen(function(e) {
var t = ne["default"].getState(), n = t.sessionId && "SessionTimedOut" !== t.status;
e ? (s(), n && ae.cloudTransition.landOnEarth()) : n ? ae.cloudTransition.flyToSpace(i) : i();
}), SpartaGlobals.bundleIsPS4 && (v.reaction(function() {
return w.locationStore.location;
}, function(e) {
Se.test(e.path) && h.frostbite.sendMessage("sparta.orbis.enterAsyncMP");
}), R["default"].scope("resultType").listen(function(e) {
if (e === P.ConnectionResultType.noMultiplayerPrivilege) {
var t = I["default"].getHostingGame(), n = w.layoutStateStore.current, r = n.config;
(r.gameId !== t.gameId || r.requireOnline && !r.offlineView) && S["default"].gotoLocation(t.startRoute);
}
})), S["default"].handlePushNotification.listen(function(e, t, n) {
if ("tunguska" === e) switch (t) {
case "EOR_PACKS":
ye.tunguskaEndOfRoundStore.setBattlepacks(me.parseBattlePacks(n));
break;

default:
console.warn("Unhandled Tunguska Push Notification", t, n);
}
}), h.frostbite.registerMessageListener("game.joinResultMessage", function(e, t) {
var n, r, o = (n = {}, n[t.JoinResult_Success] = H.JoinResultType.success, n[t.JoinResult_TimeOut] = H.JoinResultType.timeOut, 
n[t.JoinResult_UnknownError] = H.JoinResultType.unknownError, n[t.JoinResult_GameNotFound] = H.JoinResultType.gameNotFound, 
n[t.JoinResult_GameFull] = H.JoinResultType.gameFull, n[t.JoinResult_GameNotJoinable] = H.JoinResultType.gameNotJoinable, 
n[t.JoinResult_InvalidGameState] = H.JoinResultType.invalidGameState, n[t.JoinResult_WrongVersion] = H.JoinResultType.wrongVersion, 
n[t.JoinResult_NoServerFound] = H.JoinResultType.noServerFound, n[t.JoinResult_PlayerNotFound] = H.JoinResultType.playerNotFound, 
n[t.JoinResult_FailedReputationCheck] = H.JoinResultType.failedReputationCheck, 
n[t.JoinResult_Banned] = H.JoinResultType.banned, n[t.JoinResult_RoleFull] = H.JoinResultType.roleFull, 
n[t.JoinResult_RoleCriteriaFailed] = H.JoinResultType.roleCriteriaFailed, n[t.JoinResult_NoReservationFound] = H.JoinResultType.noReservationFound, 
n[t.JoinResult_ReservationAlreadyExists] = H.JoinResultType.reservationAlreadyExists, 
n), i = (r = {}, r[t.Event_Joined] = H.JoinEventType.joined, r[t.Event_JoinFailed] = H.JoinEventType.joinFailed, 
r[t.Event_Queued] = H.JoinEventType.queued, r[t.Event_Disconnected] = H.JoinEventType.disconnected, 
r[t.Event_GameAttributeUpdated] = H.JoinEventType.gameAttributeUpdated, r[t.Event_PlayerClaimingReservation] = H.JoinEventType.playerClaimingReservation, 
r[t.Event_OtherPlayerJoined] = H.JoinEventType.otherPlayerJoined, r[t.Event_OtherPlayerLeft] = H.JoinEventType.otherPlayerLeft, 
r), s = o[t.joinResult], l = i[t.joinEvent], u = t.gameId && "0" !== t.gameId ? t.gameId : null;
s === H.JoinResultType.success ? Q["default"](u).then(function(e) {
var t = e;
e || (t = new b["default"]({
game: "tunguska",
gameId: u
})), a(s, l, u, t);
}) : a(s, l, u, null);
}), h.frostbite.registerMessageListener("game.serverDisconnectedMessage", function(e, t) {
var n, r, o = (n = {}, n[t.DISCONNECT_OK] = z.DisconnectionType.ok, n[t.DISCONNECT_WRONG_PROTOCOL_VERSION] = z.DisconnectionType.wrongProtocolVersion, 
n[t.DISCONNECT_WRONG_TITLE_VERSION] = z.DisconnectionType.wrongTitleVersion, n[t.DISCONNECT_SERVER_FULL] = z.DisconnectionType.serverFull, 
n[t.DISCONNECT_KICKED] = z.DisconnectionType.kickedOut, n[t.DISCONNECT_BANNED] = z.DisconnectionType.banned, 
n[t.DISCONNECT_GENERIC] = z.DisconnectionType.genericError, n[t.DISCONNECT_WRONG_PASSWORD] = z.DisconnectionType.wrongPassword, 
n[t.DISCONNECT_DEMO_OVER] = z.DisconnectionType.kickedOutDemoOver, n[t.DISCONNECT_RANK_RESTRICTED] = z.DisconnectionType.rankRestricted, 
n[t.DISCONNECT_CONFIGURATION_NOT_ALLOWED] = z.DisconnectionType.configurationNotAllowed, 
n[t.DISCONNECT_SERVER_RECLAIMED] = z.DisconnectionType.serverReclaimed, n[t.DISCONNECT_MISSING_CONTENT] = z.DisconnectionType.missingContent, 
n[t.DISCONNECT_NOT_VERIFIED] = z.DisconnectionType.notVerified, n[t.DISCONNECT_TIMED_OUT] = z.DisconnectionType.timedOut, 
n[t.DISCONNECT_CONNECT_FAILED] = z.DisconnectionType.connectFailed, n[t.DISCONNECT_NO_REPLY] = z.DisconnectionType.noReply, 
n[t.DISCONNECT_ACCEPT_FAILED] = z.DisconnectionType.acceptFailed, n[t.DISCONNECT_MISMATCHING_CONTENT] = z.DisconnectionType.mismatchingContent, 
n[t.DISCONNECT_KICKED_OUT_RANK_TOO_HIGH] = z.DisconnectionType.kickedOutRankTooHigh, 
n[t.DISCONNECT_INTERACTIVITY_TIMEOUT] = z.DisconnectionType.interactivityTimeout, 
n[t.DISCONNECT_KICKED_FROM_QUEUE] = z.DisconnectionType.kickedFromQueue, n[t.DISCONNECT_TEAM_KILL] = z.DisconnectionType.teamKills, 
n[t.DISCONNECT_KICKED_BY_ADMIN] = z.DisconnectionType.kickedByAdmin, n[t.DISCONNECT_KICKED_FULL] = z.DisconnectionType.kickedOutServerFull, 
n[t.DISCONNECT_ESPORT_STARTING] = z.DisconnectionType.eSportsMatchStarting, n[t.DISCONNECT_ESPORT_NOT_IN_ROSTER] = z.DisconnectionType.notInESportsRosters, 
n[t.DISCONNECT_ESPORT_ENDING] = z.DisconnectionType.eSportsMatchEnding, n[t.DISCONNECT_VIRTUAL_EXPIRED] = z.DisconnectionType.virtualServerExpired, 
n[t.DISCONNECT_VIRTUAL_RECREATE] = z.DisconnectionType.virtualServerRecreate, n[t.DISCONNECT_ESPORT_FULL] = z.DisconnectionType.eSportsTeamFull, 
n[t.DISCONNECT_ESPORT_ABORTED] = z.DisconnectionType.eSportsMatchAborted, n[t.DISCONNECT_ESPORT_WALKOVER] = z.DisconnectionType.eSportsMatchWalkover, 
n[t.DISCONNECT_ESPORT_WARMUP_TIME_OUT] = z.DisconnectionType.eSportsMatchWarmupTimedOut, 
n[t.DISCONNECT_NO_SPECTATORS] = z.DisconnectionType.notAllowedToSpectate, n[t.DISCONNECT_NO_SPECTATOT_SLOTS] = z.DisconnectionType.noSpectateSlotAvailable, 
n[t.DISCONNECT_INVALID_SPECTATE] = z.DisconnectionType.invalidSpectateJoin, n[t.DISCONNECT_KICKED_FAIR_FIGHT] = z.DisconnectionType.kickedViaFairFight, 
n[t.DISCONNECT_KICKED_COMMANDER_LEAVE] = z.DisconnectionType.kickedCommanderOnLeave, 
n[t.DISCONNECT_KICKED_COMMANDER_MUTINY] = z.DisconnectionType.kickedCommanderAfterMutiny, 
n[t.DISCONNECT_MAINTENANCE] = z.DisconnectionType.serverMaintenance, n[t.DISCONNECT_KICKED_GAME_TIME_OFFICIAL] = z.DisconnectionType.kickedGameTimeAccountOnUnofficial, 
n[t.DISCONNECT_KICKED_VIA_SHIELD] = z.DisconnectionType.kickedViaShield, n), a = (r = {}, 
r[t.DCREASON_UNKNOWN] = z.DisconnectionReasonType.unknown, r[t.DCREASON_TIMEOUT] = z.DisconnectionReasonType.timeout, 
r[t.DCREASON_CONNECTION_LOST] = z.DisconnectionReasonType.connectionLost, r[t.DCREASON_BACKEND_CONNECTION_LOST] = z.DisconnectionReasonType.backendConnectionLost, 
r[t.DCREASON_RESERVATION_TIMEOUT] = z.DisconnectionReasonType.reservationTimeout, 
r[t.DCREASON_BANNED] = z.DisconnectionReasonType.banned, r[t.DCREASON_GAME_DESTROYED] = z.DisconnectionReasonType.gameDestroyed, 
r[t.DCREASON_GAME_ENDED] = z.DisconnectionReasonType.gameEnded, r[t.DCREASON_GROUP_LEFT] = z.DisconnectionReasonType.groupLeft, 
r[t.DCREASON_HOST_EJECTED] = z.DisconnectionReasonType.hostEjected, r[t.DCREASON_HOST_INJECTED_FAILED] = z.DisconnectionReasonType.hostInjectedFailed, 
r[t.DCREASON_JOINED_ANOTHER_GAME] = z.DisconnectionReasonType.joinedAnotherGame, 
r[t.DCREASON_JOIN_FIRST_PARTY_SESSION_FAILED] = z.DisconnectionReasonType.joinFirstPartySessionFailed, 
r[t.DCREASON_KICKED] = z.DisconnectionReasonType.kicked, r[t.DCREASON_MIGRATION_FAILED] = z.DisconnectionReasonType.migrationFailed, 
r[t.DCREASON_PLAYERLEFT] = z.DisconnectionReasonType.playerLeft, r[t.DCREASON_QUEUE_PROMOTION_FAILED] = z.DisconnectionReasonType.queuePromotionFailed, 
r), i = o[t.disconnectReason], s = a[t.dcReason];
if (i === z.DisconnectionType.ok && s === z.DisconnectionReasonType.joinedAnotherGame) return void L["default"].updateGameState({
isChangingServer: !0
});
var l = t && t.dcReasonText ? t.dcReasonText : null;
G["default"].onMultiplayerServerDisconnection(new W["default"]({
gameId: "tunguska",
disconnectionType: i,
disconnectionReasonType: s,
customMessage: l
}));
}), h.frostbite.registerMessageListener("sparta.onlineStatusMessage", function(e, t) {
var n, r, o, a = (n = {}, n[t.MODE_CHANGED] = P.ConnectionEventType.modeChanged, 
n[t.DISCONNECTED] = P.ConnectionEventType.disconnected, n[t.CONNECTING] = P.ConnectionEventType.connecting, 
n[t.CONNECTION_FAILED] = P.ConnectionEventType.connectFailed, n[t.CONNECTION_READY] = P.ConnectionEventType.connectionReady, 
n[t.ONLINE_FLOW_DONE] = P.ConnectionEventType.onlineFlowDone, n[t.TELEMETRY_TOKEN_RECEIVED] = P.ConnectionEventType.telemetryTokenReceived, 
n[t.FIRST_PARTY_CONNECTED] = P.ConnectionEventType.firstPartyConnected, n[t.FIRST_PARTY_DISCONNECTED] = P.ConnectionEventType.firstPartyDisconnected, 
n[t.PING_VALUE_RESOLVED] = P.ConnectionEventType.pingValueResolved, n[t.CONNECTION_MESSAGE] = P.ConnectionEventType.connectionMessage, 
n[t.QOS_DONE] = P.ConnectionEventType.qualityOfServiceDone, n), i = (r = {}, r[t.PresenceConnectionResult_Success] = P.ConnectionResultType.success, 
r[t.PresenceConnectionResult_AuthCodeFailed] = P.ConnectionResultType.authCodeFailed, 
r[t.PresenceConnectionResult_ConnectionFailed] = P.ConnectionResultType.connectionFailed, 
r[t.PresenceConnectionResult_DuplicateLogin] = P.ConnectionResultType.duplicateLogin, 
r[t.PresenceConnectionResult_Failure] = P.ConnectionResultType.failure, r[t.PresenceConnectionResult_InvalidUser] = P.ConnectionResultType.invalidUser, 
r[t.PresenceConnectionResult_LoginCancelled] = P.ConnectionResultType.loginCancelled, 
r[t.PresenceConnectionResult_MissingOnlineAccess] = P.ConnectionResultType.missingOnlineAccess, 
r[t.PresenceConnectionResult_NeedUserInteraction] = P.ConnectionResultType.needUserInteraction, 
r[t.PresenceConnectionResult_NetworkDisconnect] = P.ConnectionResultType.networkDisconnect, 
r[t.PresenceConnectionResult_NetworkError] = P.ConnectionResultType.networkError, 
r[t.PresenceConnectionResult_NoMultiplayerPrivilege] = P.ConnectionResultType.noMultiplayerPrivilege, 
r[t.PresenceConnectionResult_OriginOffline] = P.ConnectionResultType.originOffline, 
r[t.PresenceConnectionResult_OriginStartupFailed] = P.ConnectionResultType.originStartupFailed, 
r[t.PresenceConnectionResult_RequiredUpdateExists] = P.ConnectionResultType.requiredUpdateExists, 
r[t.PresenceConnectionResult_ServerConfiguration] = P.ConnectionResultType.serverConfiguration, 
r[t.PresenceConnectionResult_ServerDisconnect] = P.ConnectionResultType.serverDisconnect, 
r[t.PresenceConnectionResult_ServerNotFound] = P.ConnectionResultType.serverNotFound, 
r[t.PresenceConnectionResult_SystemError] = P.ConnectionResultType.systemError, 
r[t.PresenceConnectionResult_Timeout] = P.ConnectionResultType.timeout, r[t.PresenceConnectionResult_TooYoung] = P.ConnectionResultType.tooYoung, 
r[t.PresenceConnectionResult_TooYoungForContent] = P.ConnectionResultType.tooYoungForContent, 
r[t.PresenceConnectionResult_UserLost] = P.ConnectionResultType.userLost, r[t.PresenceConnectionResult_OriginMandatoryUpdateNeeded] = P.ConnectionResultType.originMandatoryUpdate, 
r[t.PresenceConnectionResult_NoService] = P.ConnectionResultType.noService, r[t.PresenceConnectionResult_UserNotLoggedIn] = P.ConnectionResultType.originNotLoggedIn, 
r[t.PresenceConnectionResult_PsuLimitExceeded] = P.ConnectionResultType.psuLimitExceeded, 
r[t.PresenceConnectionResult_AccountBanned] = P.ConnectionResultType.accountBanned, 
r), s = (o = {}, o[t.Mode_Offline] = P.PresenceModeType.offline, o[t.Mode_SilentOnline] = P.PresenceModeType.silentOnline, 
o[t.Mode_Online] = P.PresenceModeType.online, o);
C["default"].handleMessage(new P.PresenceStatusMessage({
gameId: "tunguska",
eventType: a[t.status],
resultType: i[t.connectionResult],
mode: s[t.mode],
customMessage: t.connectionMessage
}));
}), h.frostbite.registerMessageListener("game.showEndOfRoundMessage", function(e, t) {
if (de.operationFlow.endRound(), ye.tunguskaEndOfRoundStore.clearEndOfRoundData(t.roundId), 
ge.emblemState.clearPersonaEmblems(), $["default"].closeAll(), t && t.mapName) {
var n = t.mapName.lastIndexOf("/"), r = t.mapName.substring(n + 1);
ye.tunguskaEndOfRoundStore.setFallbackMapName(r);
}
var o = 45, a = t.eorTimeout && t.eorTimeout > 10 ? t.eorTimeout : o, i = !1;
if (t && t.gameMode) {
var s = t.gameMode + "";
ye.tunguskaEndOfRoundStore.setFallbackGameMode(s), i = s.toLowerCase().indexOf("breakthrough") > -1;
}
i || (ce.nextRoundCountDown.start(0, a), ye.tunguskaEndOfRoundStore.isLoadingDataEnabled && ye.tunguskaEndOfRoundStore.initializeEor()), 
setTimeout(function() {
le["default"].fetchEorData(t.roundId, !1, K["default"].getState().isSpectator);
}, 1e3), L["default"].activateEor();
}), h.frostbite.registerMessageListener("sparta.startMatchmaking", function(e, t) {
if (t) {
var n = d["default"].find(t.settings, function(e) {
return "operationindex" === e.name;
}), r = n && n.values && n.values.length > 0 && parseInt(n.values[0], 10);
"number" != typeof r && console.warn("sparta.startMatchmaking event triggered with no valid operationIndex.");
var o = {
operationIndex: r,
gameSizes: {}
}, a = t.gameSize;
a && (o.gameSizes[a.toString()] = "on"), de.operationFlow.startMatchmaking(o);
}
}), h.frostbite.registerMessageListener("sparta.activated", function(e, t) {
switch (t.navigationState) {
case Y["default"].LoadingScreen:
t.isMultiplayer && (ye.tunguskaEndOfRoundStore.setLoadingState(t), Ee());
break;

case Y["default"].InGameMenu:
"" !== t.levelName && (t.isMultiplayer ? (Te("tunguska.levelDescriptionRequest"), 
Ee()) : (Ce("tunguska.currentObjectiveRequest"), le["default"].getCampaignEpisodes()));
break;

case Y["default"].FrontEnd:
we || (le["default"].getCampaignEpisodes(), t.online && pe["default"].trigger("tunguska"), 
we = !0);
}
});
}
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), c = r(p), f = n(4), d = t(f), h = n(2), y = n(83), g = t(y), m = n(55), b = t(m), v = n(10), _ = n(17), S = t(_), w = n(11), T = n(88), C = t(T), E = n(19), I = t(E), P = n(120), O = n(69), A = t(O), k = n(34), R = t(k), x = n(27), M = t(x), N = n(25), $ = t(N), D = n(197), U = n(30), L = t(U), F = n(97), G = t(F), j = n(46), B = t(j), H = n(276), V = t(H), z = n(400), W = t(z), q = n(44), K = t(q), X = n(57), Y = t(X), J = n(271), Q = t(J), Z = n(50), ee = t(Z), te = n(75), ne = t(te), re = n(81), oe = t(re), ae = n(157), ie = n(176), se = n(36), le = t(se), ue = n(444), pe = t(ue), ce = n(139), fe = n(246), de = n(140), he = n(561), ye = n(78), ge = n(192), me = n(349), be = n(170), ve = n(199), _e = n(543), Se = new RegExp("tunguska/mp/"), we = !1, Te = g["default"](function(e) {
h.frostbite.sendMessage(e);
}, 2e3, !1, !0), Ce = g["default"](function(e) {
h.frostbite.sendMessage(e);
}, 1e3, !0, !1), Ee = g["default"](function() {
le["default"].getTrackableMedals();
}, 2e3, !1, !0);
e.exports = function() {
I["default"].scope("hostingGameId").listen(function(e) {
"tunguska" === e && l();
}), le["default"].gameShowOptions.listen(function() {
M["default"].hideComponent("all", function() {
h.frostbite.sendMessage("sparta.showGameOptions");
});
}), le["default"].showLoadout.listen(function() {
M["default"].hideComponent("all", function() {
h.frostbite.sendMessage("sparta.showGameCustomization");
});
}), le["default"].gameShowCredits.listen(function() {
M["default"].hideComponent("all", function() {
h.frostbite.sendMessage("sparta.showGameCredits");
});
}), le["default"].endOfRoundCountdownCompleted.listen(function() {
h.frostbite.sendMessage("tunguska.endOfRoundCountdownCompleted");
}), le["default"].joinGame.listen(function(e) {
var t = {
asSpectator: "spectator" === e.role,
asCommander: "commander" === e.role,
password: e.password
};
e.friend ? t.spartaUserId = e.friend.spartaUserId : t.gameId = e.blazeGameId, t.hasReservation = !0, 
h.frostbite.sendMessage("game.joinGame", t);
}), h.frostbite.registerMessageListener("tunguska.joinFailedMessage", function(e, t) {
var n, r = (n = {}, n[t.STREAM_INSTALL_IN_PROGRESS] = H.JoinResultType.streamInstallInProgress, 
n), o = r[t.reason];
o === H.JoinResultType.streamInstallInProgress ? (console.error("joinFailedMessage: Could not join, stream install in progress. Dropping."), 
A["default"].spartaErrorMessage(__("ID_SPARTA_ONLINE_JOIN_STREAM_INSTALL_IN_PROGRESS"), __("ID_SPARTA_ONLINE_JOIN_FAILED_TITLE"))) : console.error("joinFailedMessage: Unknown joinFailed reason.");
}), h.frostbite.registerMessageListener("tunguska.notificationInvokedMessage", function(e, t) {
le["default"].showCodex(t);
}), h.frostbite.registerMessageListener("tunguska.playTogetherEvent", function(e, t) {
"SpartaTunguskaPlayTogetherEvent_PlayTogetherStarted" === t.event && S["default"].gotoLocation("tunguska/mp");
}), h.frostbite.registerMessageListener("tunguska.switchToScreen", function(e, t) {
switch (t.screenName) {
case "SpartaScreenType_Calibration":
be.overrideDismissCallback(function() {
M["default"].hideComponent("all", function() {
h.frostbite.sendMessage("tunguska.showCalibrationScreen");
});
});
break;

case "SpartaScreenType_Prologue":
M["default"].hideComponent("all", function() {
L["default"].setSinglePlayer(!0), B["default"].route("playing"), he.campaignFlow.enter(function() {}), 
h.frostbite.sendMessage("tunguska.gotoPrologue");
});
}
}), h.frostbite.registerMessageListener("tunguska.ongoingOperationsRequest", function() {
_e.getOperations("tunguska", I["default"].getState().region).then(function(e) {
var t = e.map(function(e) {
e = e || {};
var t = e.operation || {};
return {
operationIndex: t.operationIndex,
ongoingCount: parseInt(e.serverCount, 10) || 0
};
});
h.frostbite.sendMessage("tunguska.ongoingOperationsResponse", {
ongoingOperations: t
});
});
});
};
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return function(t) {
return G(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = e.value, n = e.title, r = e.style;
return {
$$typeof: d,
type: m["default"].Col,
key: null,
ref: null,
props: a(m["default"].Col.defaultProps, {
children: [ {
$$typeof: d,
type: T["default"],
key: null,
ref: null,
props: a(T["default"].defaultProps, {
value: n.toUpperCase(),
style: {
marginBottom: m["default"].getHeight(1)
},
size: "S"
}),
_owner: null
}, {
$$typeof: d,
type: T["default"],
key: null,
ref: null,
props: a(T["default"].defaultProps, {
value: t,
style: {
marginBottom: m["default"].getHeight(1)
},
size: "XL"
}),
_owner: null
} ],
width: 5,
style: f({
alignItems: "center"
}, r)
}),
_owner: null
};
}
function u(e) {
var t, n = e.campaignData, r = S.routeIsHostingGame();
if (r) {
var o = n.completedEpisodes + "/" + n.totalEpisodes, i = n.completedCodexEntries + "/" + n.totalCodexEntries, s = n.completedCodeBooks + "/" + n.totalCodeBooks;
t = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: l,
key: null,
ref: null,
props: a(l.defaultProps, {
style: {
flex: 1
},
value: o,
title: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_EPISODES_COMPLETE")
}),
_owner: null
}, {
$$typeof: d,
type: l,
key: null,
ref: null,
props: a(l.defaultProps, {
style: {
flex: 1
},
value: i,
title: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODEX_UNLOCKED")
}),
_owner: null
}, {
$$typeof: d,
type: l,
key: null,
ref: null,
props: a(l.defaultProps, {
style: {
flex: 1
},
value: s,
title: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODE_BOOKS_FOUND")
}),
_owner: null
} ],
style: {
flexDirection: "row"
}
},
_owner: null
};
} else t = null;
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: T["default"],
key: null,
ref: null,
props: a(T["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_PLAY").toUpperCase(),
size: "M",
type: "emphasis"
}),
_owner: null
},
style: {
marginBottom: m["default"].getHeight(5),
alignItems: "center",
justifyContent: "center"
}
},
_owner: null
}, t ]
},
_owner: null
};
}
var p = n(3), c = s(p);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = s(h), g = n(6), m = s(g), b = n(36), v = s(b), _ = n(350), S = n(56), w = n(7), T = s(w), C = n(33), E = s(C), I = n(141), P = n(9), O = n(8), A = n(143), k = s(A), R = n(19), x = s(R), M = n(34), N = s(M), $ = n(16), D = s($), U = n(28), L = s(U), F = {
_$TunguskaCampaign: {
displayName: "TunguskaCampaign"
}
}, G = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaCampaign.jsx",
components: F,
locals: [],
imports: []
}), j = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.componentWillMount = function s() {
v["default"].getCampaignEpisodes();
}, t.prototype.render = function l() {
var e = _.tunguskaCampaignStore.campaignProgress, t = "tunguska" === x["default"].getHostingGame().gameId || this.state.presence.isReady(), n = {
$$typeof: d,
type: I.Card,
key: null,
ref: null,
props: a(I.Card.defaultProps, {
style: {
width: m["default"].getWidth(16),
height: m["default"].getHeight(59)
},
bottom: {
$$typeof: d,
type: u,
key: null,
ref: null,
props: a(u.defaultProps, {
campaignData: e
}),
_owner: null
},
enabled: t,
onPress: function() {
return k["default"].continueSinglePlayer("tunguska");
},
background: [ P.bbOfflineUrl("/sparta/jsclient/builds/assets/CampaignCard1-f985030a.dds"), P.bbOfflineUrl("/sparta/jsclient/builds/assets/CampaignCard2-9cfb10cc.dds"), P.bbOfflineUrl("/sparta/jsclient/builds/assets/CampaignCard3-1efb8486.dds") ]
}),
_owner: null
};
if (SpartaGlobals.bundleIsConsole) {
var r = m["default"].getHeight(3);
n = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: {
alignItems: "center",
marginTop: r
}
},
_owner: null
};
}
return {
$$typeof: d,
type: E["default"],
key: null,
ref: null,
props: a(E["default"].defaultProps, {
children: n,
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaCampaign")(t) || t, t = D["default"]({
presence: L["default"](N["default"])
})(t) || t, t = O.observer(t) || t;
}(y["default"].Component);
t["default"] = j, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return B(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(4), y = s(h), g = n(8), m = n(47), b = s(m), v = n(14), _ = s(v), S = n(12), w = s(S), T = n(25), C = s(T), E = n(306), I = s(E), P = n(288), O = s(P), A = n(444), k = s(A), R = n(245), x = n(431), M = s(x), N = n(154), $ = n(161), D = s($), U = n(6), L = s(U), F = n(7), G = s(F), j = {
_$TunguskaCareerCodex: {
displayName: "TunguskaCareerCodex"
}
}, B = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaCareerCodex.jsx",
components: j,
locals: [],
imports: []
}), H = {
header: {
flexDirection: "row",
alignItems: "center"
},
headerText: {
marginRight: L["default"].GUTTER
}
}, V = function(e) {
function t() {
o(this, n), e.call(this), this.selectionState = new N.CareerSelectionState();
}
a(t, e), t.prototype.componentWillMount = function s() {
k["default"].trigger(this.props.viewLocation.args.gameId);
}, t.prototype.getTabs = function l(e) {
var t = this, n = this.props.viewLocation.args.gameId;
return y["default"].map(e, function(e) {
var r = "DEFAULT" === e.name ? "" : e.name;
return {
name: e.name,
title: r,
renderHeader: function o() {
return t.renderHeader();
},
component: D["default"],
onSelect: function a() {
t.selectionState.setActiveItem();
},
props: {
gameId: n,
ref: "careerSection",
selectionState: t.selectionState,
entries: e.entries,
categorizedData: e.entries,
renderItem: t.renderItem.bind(t),
disableFocusPane: !0,
widthGridCells: 17,
rowItemLength: 5,
renderFocusPane: function i() {}
}
};
});
}, t.prototype.renderHeader = function u() {
var e = R.tunguskaCodexStore.totalCodexProgression;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: G["default"],
key: null,
ref: null,
props: r(G["default"].defaultProps, {
size: "S",
value: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODEX_ENTRIES"),
style: H.headerText
}),
_owner: null
}, {
$$typeof: c,
type: G["default"],
key: null,
ref: null,
props: r(G["default"].defaultProps, {
size: "S",
value: e.completed + "/" + e.total,
type: "emphasis"
}),
_owner: null
} ],
style: H.header
},
_owner: null
};
}, t.prototype.renderItem = function f(e, t, n, o, a) {
var i = [ new _["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: w["default"].Accept,
blockInputFor: 500,
action: function s() {
return C["default"].display(new b["default"]({
content: {
$$typeof: c,
type: M["default"],
key: null,
ref: null,
props: r(M["default"].defaultProps, {
codex: t,
shouldPlayVoiceOver: !0
}),
_owner: null
},
leftAlignInputs: !0,
createButtons: !1,
inputs: [ new _["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: w["default"].Decline
}) ]
}));
}
}) ];
return {
$$typeof: c,
type: O["default"],
key: n,
ref: null,
props: r(O["default"].defaultProps, {
entry: t,
hasNoSideMargin: !0,
buttons: i,
style: p({}, e, {
height: 1.4 * e.width,
borderRadius: [ 5, 5, 5, 5 ]
})
}),
_owner: null
};
}, t.prototype.render = function d() {
var e = R.tunguskaCodexStore.careerCodexCategories, t = [ {
name: "",
entries: e,
progression: R.tunguskaCodexStore.totalCodexProgression
} ];
return 0 === e.length ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
} : {
$$typeof: c,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {
tabs: this.getTabs(t)
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaCareerCodex")(t) || t, t = g.observer(t) || t;
}(d["default"].Component);
t["default"] = V, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return $(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(2), h = r(d), y = n(1), g = l(y), m = n(7), b = l(m), v = n(6), _ = l(v), S = n(33), w = l(S), T = n(23), C = l(T), E = n(9), I = n(35), P = n(8), O = n(10), A = n(629), k = l(A), R = n(87), x = l(R), M = n(41), N = {
_$CompanionButton: {
displayName: "CompanionButton"
},
_$TunguskaCompanion: {
displayName: "TunguskaCompanion"
}
}, $ = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaCompanion.jsx",
components: N,
locals: [],
imports: []
}), D = h.createStyleSheet({
headlineContainer: {
alignItems: "center",
justifyContent: "center"
},
calloutContainer: {
width: _["default"].getWidth(5),
marginRight: _["default"].getWidth(1)
},
image: {
width: 226,
height: 334,
marginBottom: 20,
marginTop: 20
},
textContainer: {
marginLeft: 10,
marginRight: 10
},
textRTL: {
textAlignForRTL: "left"
}
}), U = O.observable({
enabled: !0,
text: ""
}), L = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.sendOnboardingEmail = function r() {
var e = k["default"].listen(function(t) {
null === t ? (I.alert(__("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_ERROR_TEXT"), __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_ERROR_TITLE")), 
U.enabled = !0, x["default"].trackFunnel("companion/onboarding/error"), x["default"].trackEvent("Companion", "Onboarding", "Error")) : (I.alert(__("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_CONFIRMATION_TEXT").replace("[[email]]", t), __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_CONFIRMATION_TITLE")), 
U.enabled = !1, U.text = __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_SEND_SENT"), x["default"].trackFunnel("companion/onboarding/success"), 
x["default"].trackEvent("Companion", "Onboarding", "Success")), e();
});
U.enabled = !1, U.text = __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_SEND_LOADING"), 
k["default"].trigger(), x["default"].trackFunnel("companion/onboarding/send"), x["default"].trackEvent("Companion", "Onboarding", "Send");
}, t.prototype.render = function l() {
return U.enabled ? {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
text: this.props.title.toUpperCase(),
action: this.sendOnboardingEmail,
style: {
width: _["default"].getWidth(6)
}
}),
_owner: null
} : {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
text: U.text,
style: {
width: _["default"].getWidth(6)
},
disabled: !0
}),
_owner: null
};
};
var n = t;
return t = s("_$CompanionButton")(t) || t, t = P.observer(t) || t;
}(g["default"].Component), F = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentDidMount = function r() {
x["default"].trackFunnel("companion/onboarding");
}, t.prototype.render = function l() {
var e = E.bbOfflineUrl("/sparta/jsclient/builds/assets/companion-career-a508a4f7.png"), t = E.bbOfflineUrl("/sparta/jsclient/builds/assets/companion-loadout-ed624170.png"), n = E.bbOfflineUrl("/sparta/jsclient/builds/assets/companion-emblem-d55dfde6.png"), r = E.bbOfflineUrl("/sparta/jsclient/builds/assets/companion-friends-a8b0c6d4.png");
return {
$$typeof: f,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
size: "M",
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_1_TITLE")
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, D.image, {
texture: e
})
},
_owner: null
} ],
style: D.headlineContainer
},
_owner: null
}, {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
size: "XS",
style: [ D.textContainer, D.textRTL ],
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_1_TEXT")
}),
_owner: null
} ],
style: c({}, D.calloutContainer, {
marginLeft: _["default"].getWidth(1)
})
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
size: "M",
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_2_TITLE")
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, D.image, {
texture: t
})
},
_owner: null
} ],
style: D.headlineContainer
},
_owner: null
}, {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
size: "XS",
style: [ D.textContainer, D.textRTL ],
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_2_TEXT")
}),
_owner: null
} ],
style: D.calloutContainer
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
size: "M",
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_3_TITLE")
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, D.image, {
texture: n
})
},
_owner: null
} ],
style: D.headlineContainer
},
_owner: null
}, {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
size: "XS",
style: [ D.textContainer, D.textRTL ],
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_3_TEXT")
}),
_owner: null
} ],
style: D.calloutContainer
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
size: "M",
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_4_TITLE")
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, D.image, {
texture: r
})
},
_owner: null
} ],
style: D.headlineContainer
},
_owner: null
}, {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
size: "XS",
style: [ D.textContainer, D.textRTL ],
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_4_TEXT")
}),
_owner: null
} ],
style: D.calloutContainer
},
_owner: null
} ],
style: {
flexDirection: "row"
}
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
size: "S",
value: __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_AVAILABLE_PLATFORMS")
}),
_owner: null
},
style: {
marginBottom: 20,
marginTop: 40
}
},
_owner: null
}, M.onlineState.isOnlineBlazeAndGateway ? {
$$typeof: f,
type: L,
key: null,
ref: null,
props: o(L.defaultProps, {
title: __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_SEND_BUTTON")
}),
_owner: null
} : null, M.onlineState.isOnlineBlazeAndGateway ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
size: "XS",
value: __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_INSTRUCTIONS")
}),
_owner: null
},
style: {
marginBottom: 20,
marginTop: 20
}
},
_owner: null
} : null ],
style: {
alignItems: "center",
justifyContent: "center"
}
},
_owner: null
} ],
tallContent: !0
}),
_owner: null
};
};
var n = t;
return t = s("_$TunguskaCompanion")(t) || t;
}(g["default"].Component);
t["default"] = F, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return b(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = r(f), h = n(7), y = l(h), g = n(40), m = {
_$CompanionNotificationPopup: {
displayName: "CompanionNotificationPopup"
}
}, b = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaCompanionNotification.jsx",
components: m,
locals: [],
imports: []
}), v = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: y["default"],
key: null,
ref: null,
props: o(y["default"].defaultProps, {
value: this.props.legal,
size: "S",
style: {
marginBottom: 24,
textAlign: "center",
textAlignForRTL: "center",
textLineSpacing: Math.round(1.2 * g.LINE_HEIGHTS.S)
}
}),
_owner: null
}
},
_owner: null
};
};
var n = t;
return t = s("_$CompanionNotificationPopup")(t) || t;
}(d.Component);
t["default"] = v, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return k(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(100), y = s(h), g = n(126), m = s(g), b = n(17), v = n(6), _ = s(v), S = n(73), w = n(33), T = s(w), C = n(23), E = s(C), I = n(104), P = s(I), O = n(11), A = {
_$CustomGames: {
displayName: "CustomGames"
}
}, k = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaCustomGames.jsx",
components: A,
locals: [],
imports: []
}), R = "tunguska", x = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.updateRecommenderOptions({
count: 10,
games: [ R ],
ruleCategories: [ "custom_games" ]
});
}, t.prototype.renderCreateCustomGameButton = function l() {
var e = O.gameStore.getGame("tunguska").rspConfig;
return e.isEnabled() ? {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
text: __("ID_SPARTA_CUSTOM_GAMES_CREATE").toLocaleUpperCase(),
style: {
marginTop: 7 * _["default"].GUTTER,
width: _["default"].getWidth(5)
},
action: function() {
return b.gotoLocation(e.purchaseNewRoute);
}
}),
_owner: null
} : void 0;
}, t.prototype.render = function u() {
function e(e, t) {
return 0 === t ? "L" : "M";
}
function t(e, t) {
return 0 === t ? "SSL" : "SSM";
}
var n = SpartaGlobals.bundleIsPC ? t : e;
return null != this.state.recommendations ? {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
children: [ {
$$typeof: c,
type: S.CardCarousel,
key: null,
ref: null,
props: r(S.CardCarousel.defaultProps, {
children: y["default"].renderCards(this.state.recommendations, n, "friends"),
width: _["default"].getWidth(24)
}),
_owner: null
}, this.renderCreateCustomGameButton() ],
wideContent: !0
}),
_owner: null
} : d["default"].createElement(P["default"], p({
key: "loadingState"
}, this.props.emptyState));
};
var n = t;
return t = i("_$CustomGames")(t) || t, t = m["default"]()(t) || t;
}(d["default"].Component);
t["default"] = x, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return d(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), c = i(p), f = {
_$TunguskaLogo: {
displayName: "TunguskaLogo"
}
}, d = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaLogo.jsx",
components: f,
locals: [],
imports: []
}), h = function(e) {
function t(t) {
r(this, n), e.call(this, t);
}
o(t, e), t.prototype.render = function i() {
var e = {
texture2: this.props.image,
texture2Mode: "contain",
texture2Align: [ .5, .5 ],
blendMode: "screen",
flex: 1,
zOffset: 2
}, t = {
width: this.props.style.width,
height: this.props.style.height,
blendMode: "screen"
};
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: e
},
_owner: null
},
style: t
},
_owner: null
};
};
var n = t;
return t = a("_$TunguskaLogo")(t) || t;
}(c["default"].Component);
t.TunguskaLogo = h;
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a() {
var e = {
flexDirection: "row",
marginBottom: 2 * w["default"].GUTTER
};
return 0 === A.length ? {
$$typeof: s,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: s,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_NOMEDALSAVAILABLE"),
size: "S"
}),
_owner: null
},
style: e
},
_owner: null
} : {
$$typeof: s,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: s,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: __("ID_SPARTA_CAREER_WEEKLY_MEDALS_RESETINFO"),
size: "S"
}),
_owner: null
}, {
$$typeof: s,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: "(",
size: "S",
style: {
marginLeft: w["default"].GUTTER
}
}),
_owner: null
}, {
$$typeof: s,
type: O["default"],
key: null,
ref: null,
props: o(O["default"].defaultProps, {
timeDelta: function() {
return 1e3 * I["default"].getTimeToNextReset();
},
size: "S"
}),
_owner: null
}, {
$$typeof: s,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_TIME_LEFT"),
size: "S",
style: {
marginLeft: w["default"].GUTTER
}
}),
_owner: null
}, {
$$typeof: s,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: ")",
size: "S"
}),
_owner: null
} ],
style: e
},
_owner: null
};
}
function i() {
var e = p["default"].transform(function(e) {
return A = e, {
tunguska: [ new h["default"]({
id: "WEEKLY",
sortOrder: -1,
infoComponent: a,
name: function t() {
return __("ID_SPARTA_CAREER_WEEKLY_MEDALS");
},
items: e.map(function(e) {
return new g["default"]({
xp: 5e3,
code: e.id,
description: e.description,
name: e.displayName,
images: {
Small: e.imageUrl
},
stages: e.stages,
progression: {
needed: e.completion.needed,
acquired: e.completion.done,
percent: e.completion.percentage,
unlocked: e.completion.completed
}
});
})
}) ]
};
});
b["default"].medalsPageVisited.listen(function() {
return _["default"].getTrackableMedals();
}), f["default"].addExternal(e), _["default"].getTrackableMedals();
}
t.__esModule = !0;
var s = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103;
t["default"] = i;
var l = n(1), u = (r(l), n(290)), p = r(u), c = n(204), f = r(c), d = n(256), h = r(d), y = n(162), g = r(y), m = n(368), b = r(m), v = n(36), _ = r(v), S = n(6), w = r(S), T = n(7), C = r(T), E = n(291), I = r(E), P = n(295), O = r(P), A = [];
e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return $(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(6), h = s(d), y = n(17), g = s(y), m = n(36), b = s(m), v = n(33), _ = s(v), S = n(16), w = s(S), T = n(34), C = s(T), E = n(89), I = s(E), P = n(9), O = n(75), A = s(O), k = n(563), R = n(390), x = n(66), M = n(73), N = {
_$TunguskaMore: {
displayName: "TunguskaMore"
}
}, $ = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaMore.jsx",
components: N,
locals: [],
imports: []
}), D = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.disableIfNativeUnavailable = function s(e, t) {
var n = R.getActionIfUnavailable(t);
return n ? f["default"].cloneElement(e, {
enabled: !1,
onPress: n
}) : e;
}, t.prototype.render = function l() {
var e = !this.state.presence || !this.state.presence.isReady(), t = !this.state.presence || this.state.presence.isTooYoung(), n = (!this.state.presence || this.state.presence.isMissingMPPrivileges()) && SpartaGlobals.bundleIsPS4, o = e || t, a = [], i = SpartaGlobals.bundleIsPC ? void 0 : "M", s = {
$$typeof: p,
type: x.BasicCard,
key: null,
ref: null,
props: r(x.BasicCard.defaultProps, {
size: i,
enabled: !o,
triggerMode: o ? "before" : "between",
heading: __("ID_SPARTA_CARD_BATTLEPACKS"),
iconSize: .5,
icon: P.bbOfflineUrl("/sparta/jsclient/builds/assets/battlepacks_bf1_big_white-b77228eb.png"),
activeIcon: P.bbOfflineUrl("/sparta/jsclient/builds/assets/battlepacks_bf1_big_black-80100170.png"),
onPress: function() {
return g["default"].gotoLocation("tunguska/more/battlepacks");
}
}),
_owner: null
}, l = {
$$typeof: p,
type: x.BasicCard,
key: null,
ref: null,
props: r(x.BasicCard.defaultProps, {
size: i,
heading: __("ID_SPARTA_CARD_OPTIONS"),
iconSize: .5,
icon: P.bbOfflineUrl("/sparta/jsclient/builds/assets/big_options-24a1279a.png"),
activeIcon: P.bbOfflineUrl("/sparta/jsclient/builds/assets/big_options_black-9c91f927.png"),
onPress: b["default"].gameShowOptions
}),
_owner: null
}, u = {
$$typeof: p,
type: x.BasicCard,
key: null,
ref: null,
props: r(x.BasicCard.defaultProps, {
size: i,
heading: __("ID_SPARTA_CARD_COMPANION"),
iconSize: .5,
icon: P.bbOfflineUrl("/sparta/jsclient/builds/assets/big_companion-38417f14.png"),
activeIcon: P.bbOfflineUrl("/sparta/jsclient/builds/assets/big_companion_black-bac21156.png"),
onPress: function() {
return g["default"].gotoLocation("tunguska/more/companion");
}
}),
_owner: null
}, c = {
$$typeof: p,
type: x.BasicCard,
key: null,
ref: null,
props: r(x.BasicCard.defaultProps, {
size: i,
heading: __("ID_SPARTA_CARD_ABOUT"),
iconSize: .5,
icon: P.bbOfflineUrl("/sparta/jsclient/builds/assets/big_about-aa28071c.png"),
activeIcon: P.bbOfflineUrl("/sparta/jsclient/builds/assets/big_about_black-0b144eb0.png"),
onPress: function() {
return g["default"].gotoLocation("tunguska/more/about");
}
}),
_owner: null
}, f = {
$$typeof: p,
type: x.BasicCard,
key: null,
ref: null,
props: r(x.BasicCard.defaultProps, {
size: i,
heading: __("ID_SPARTA_CARD_CREDITS"),
iconSize: .5,
icon: P.bbOfflineUrl("/sparta/jsclient/builds/assets/big_credits-30d1be9c.png"),
activeIcon: P.bbOfflineUrl("/sparta/jsclient/builds/assets/big_credits_black-31273b7f.png"),
onPress: b["default"].gameShowCredits
}),
_owner: null
};
return this.state.isInstalling || n || a.push(this.disableIfNativeUnavailable(s, this.state.matchmaking.status)), 
a.push(this.disableIfNativeUnavailable(l, this.state.matchmaking.status)), a.push(u), 
a.push(c), a.push(this.disableIfNativeUnavailable(f, this.state.matchmaking.status)), 
{
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
children: [ {
$$typeof: p,
type: M.CardCarousel,
key: null,
ref: null,
props: r(M.CardCarousel.defaultProps, {
children: a,
width: h["default"].getWidth(24)
}),
_owner: null
}, {
$$typeof: p,
type: k.BundleInfo,
key: null,
ref: null,
props: r(k.BundleInfo.defaultProps, {}),
_owner: null
} ],
wideContent: !0,
scrollContent: SpartaGlobals.bundleIsPC
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaMore")(t) || t, t = w["default"]({
presence: C["default"],
matchmaking: A["default"],
isInstalling: I["default"].scope("isInstalling")
})(t) || t;
}(f["default"].Component);
t["default"] = D, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return D(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(17), y = s(h), g = n(36), m = s(g), b = n(4), v = s(b), _ = n(6), S = s(_), w = n(66), T = n(33), C = s(T), E = n(16), I = s(E), P = n(28), O = s(P), A = n(99), k = s(A), R = n(304), x = n(56), M = n(41), N = n(9), $ = {
_$TunguskaMultiplayer: {
displayName: "TunguskaMultiplayer"
}
}, D = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaMultiplayer.jsx",
components: $,
locals: [],
imports: []
}), U = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.enterOperations = function s() {
M.onlineState.isOnlineBlazeAndGateway && m["default"].enterOperations();
}, t.prototype.handleOperations = function l() {
var e = this;
if (!x.isHostingGame("tunguska")) return void x.showNotInHostingGameAlert();
if (this.state.gameData && this.state.gameData.gameModes) {
var t = this.state.gameData.gameModes, n = v["default"].find(t, function(e) {
return "Breakthrough" === e.filterKey;
});
n && n.videoUrl ? R.showTutorialForGameMode(n).then(function() {
e.enterOperations();
}) : this.enterOperations();
} else this.enterOperations();
}, t.prototype.renderMainContent = function u() {
var e = this, t = x.isHostingGame("tunguska"), n = S["default"].getHeight(18), r = {
size: "XL",
style: {
height: S["default"].getHeight(59)
}
}, o = SpartaGlobals.bundleIsConsole ? S["default"].getHeight(3) : 0;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ d["default"].createElement(w.BasicCard, p({
layout: "split"
}, r, {
background: N.bbOfflineUrl("/sparta/jsclient/builds/assets/mp-cardimage-operations-a5d168cd.png"),
heading: __("ID_SPARTA_ACTION_OPERATIONS"),
description: __("ID_SPARTA_ACTION_OPERATIONS_DESCRIPTION"),
textHeight: n,
onPress: function() {
return e.handleOperations();
},
enabled: t
})), d["default"].createElement(w.BasicCard, p({
layout: "split"
}, r, {
background: N.bbOfflineUrl("/sparta/jsclient/builds/assets/mp-cardimage-quickmatch-c0372e70.png"),
heading: __("ID_SPARTA_ACTION_QUICKMATCH"),
description: __("ID_SPARTA_ACTION_QUICKMATCH_DESCRIPTION"),
textHeight: n,
onPress: function() {
return y["default"].gotoLocation("tunguska/mp/quickmatch");
}
})), d["default"].createElement(w.BasicCard, p({
layout: "split"
}, r, {
background: N.bbOfflineUrl("/sparta/jsclient/builds/assets/mp-cardimage-serverbrowser-a4afc40e.png"),
heading: __("ID_SPARTA_ACTION_SERVERBROWSER"),
description: __("ID_SPARTA_ACTION_SERVERBROWSER_DESCRIPTION"),
textHeight: n,
onPress: function() {
return y["default"].gotoLocation("tunguska/mp/servers");
}
})), d["default"].createElement(w.BasicCard, p({
layout: "split"
}, r, {
background: N.bbOfflineUrl("/sparta/jsclient/builds/assets/mp-cardimage-customgame-8ec012dd.png"),
heading: __("ID_SPARTA_ACTION_CUSTOMGAMES"),
description: __("ID_SPARTA_ACTION_CUSTOMGAMES_DESCRIPTION"),
textHeight: n,
onPress: function() {
return y["default"].gotoLocation("tunguska/mp/customgames");
}
})) ],
style: {
flexDirection: "row",
marginTop: o
}
},
_owner: null
};
}, t.prototype.render = function f() {
return {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
children: this.renderMainContent(),
wideContent: !0,
tallContent: !0,
scrollContent: SpartaGlobals.bundleIsPC
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaMultiplayer")(t) || t, t = I["default"]({
gameData: O["default"](k["default"], "tunguska")
})(t) || t;
}(d["default"].Component);
t["default"] = U, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ge(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e, t) {
return 0 === t ? "L" : "M";
}
function p(e, t) {
return 0 === t ? "SSL" : "SSM";
}
var c = n(3), f = l(c);
t.__esModule = !0;
var d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, y = n(1), g = l(y), m = n(4), b = l(m), v = n(2), _ = r(v), S = n(10), w = n(8), T = n(16), C = l(T), E = n(28), I = l(E), P = n(73), O = n(6), A = l(O), k = n(793), R = l(k), x = n(429), M = l(x), N = n(102), $ = l(N), D = n(36), U = l(D), L = n(126), F = l(L), G = n(100), j = l(G), B = n(428), H = l(B), V = n(54), z = n(13), W = l(z), q = n(33), K = l(q), X = n(7), Y = l(X), J = n(662), Q = l(J), Z = n(75), ee = l(Z), te = n(89), ne = l(te), re = n(691), oe = l(re), ae = n(548), ie = l(ae), se = n(198), le = n(390), ue = n(17), pe = n(41), ce = n(9), fe = n(32), de = n(11), he = n(549), ye = {
_$TunguskaOverviewContent: {
displayName: "TunguskaOverviewContent"
},
_$TunguskaOverview: {
displayName: "TunguskaOverview"
}
}, ge = f["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaOverview.jsx",
components: ye,
locals: [],
imports: []
}), me = _.createStyleSheet({
invisible: {
opacity: W["default"].tweenTo(0)
},
visible: {
opacity: W["default"].tweenTo(1)
},
row: {
flexDirection: "row"
},
heading: {
textLetterSpacing: 4
}
}), be = function(e) {
function t() {
a(this, n), e.call(this), this.ruleCategory = null;
}
i(t, e), t.prototype.componentWillMount = function r() {
this.setRecommenderOptions(this.props);
}, t.prototype.componentDidMount = function l() {
de.settingsStore.isFeatureEnabled("loadBattlepacksAtHome") && V.summary.trigger();
}, t.prototype.componentWillReceiveProps = function c(e) {
this.setRecommenderOptions(e);
}, t.prototype.getQuickLinks = function f() {
var e = [ {
icon: ce.bbUrl("/sparta/jsclient/builds/assets/serverbrowser-000e77bf.png"),
blur: ce.bbUrl("/sparta/jsclient/builds/assets/serverbrowser_blur-045932c3.png"),
action: function t() {
return ue.gotoLocation("tunguska/mp/servers");
},
description: __("ID_SPARTA_ACTION_SERVERBROWSER")
} ];
return de.settingsStore.isFeatureEnabled("tunguskaCustomizeFrontend") && !this.state.isInstalling && e.push(this.disableIfNativeUnavailable({
icon: ce.bbUrl("/sparta/jsclient/builds/assets/customize-8918fedd.png"),
blur: ce.bbUrl("/sparta/jsclient/builds/assets/customize_blur-e174b5d2.png"),
action: U["default"].showLoadout,
description: __("ID_SPARTA_ACTION_CUSTOMIZE")
}, this.state.matchmaking.status)), e.push({
icon: ce.bbUrl("/sparta/jsclient/builds/assets/favservers-f33e8992.png"),
blur: ce.bbUrl("/sparta/jsclient/builds/assets/favservers_blur-39031108.png"),
action: function n() {
return ue.gotoLocation("tunguska/mp/servers?tab=favorites");
},
description: __("ID_SPARTA_ACTION_FAVORITESERVERS")
}), e.push({
icon: ce.bbUrl("/sparta/jsclient/builds/assets/quickmatch-bd06be42.png"),
blur: ce.bbUrl("/sparta/jsclient/builds/assets/quickmatch_blur-1e2d3eda.png"),
action: function r() {
return ue.gotoLocation("tunguska/mp/quickmatch");
},
description: __("ID_SPARTA_ACTION_QUICKMATCH")
}), this.state.isInstalling || e.push(this.disableIfNativeUnavailable({
icon: ce.bbUrl("/sparta/jsclient/builds/assets/battlepacks_bf1-64e40c74.png"),
blur: ce.bbUrl("/sparta/jsclient/builds/assets/battlepacks_bf1_blur-c5550183.png"),
action: function o() {
return ue.gotoLocation("tunguska/more/battlepacks");
},
description: __("ID_SPARTA_ACTION_BATTLEPACKS"),
notificationText: this.state.unopenedPacks ? "" + this.state.unopenedPacks : null
}, this.state.matchmaking.status)), e.push(this.disableIfNativeUnavailable({
icon: ce.bbUrl("/sparta/jsclient/builds/assets/options-3d4d9691.png"),
blur: ce.bbUrl("/sparta/jsclient/builds/assets/options_blur-13fd633f.png"),
action: U["default"].gameShowOptions,
description: __("ID_SPARTA_ACTION_OPTIONS")
}, this.state.matchmaking.status)), e;
}, t.prototype.disableIfNativeUnavailable = function d(e, t) {
var n = le.getActionIfUnavailable(t);
return n ? Object.assign({}, e, {
muted: !0,
action: n
}) : e;
}, t.prototype.setRecommenderOptions = function y(e) {
if (pe.onlineState.isOnlineBlazeAndGateway) {
var t = {
count: 6,
games: [ "tunguska" ],
ruleCategories: [ "tunguska_home" ]
}, n = e.gatewayState.session.entitlements;
n.hasTrial("tunguska") ? t.ruleCategories = [ "tunguska_trial" ] : n.ownsGame("tunguska") || (t.ruleCategories = [ "tunguska_home_promo" ]), 
this.updateRecommenderOptions(t);
}
}, t.prototype.renderRecommendationsPC = function m(e) {
return {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: P.CardCarousel,
key: null,
ref: null,
props: o(P.CardCarousel.defaultProps, {
children: e,
width: A["default"].getWidth(23),
mouseScroll: !1
}),
_owner: null
}, this.state.recommendations && g["default"].createElement(R["default"], {
ref: "quicklinks",
items: this.getQuickLinks()
}), {
$$typeof: h,
type: Q["default"],
key: null,
ref: null,
props: o(Q["default"].defaultProps, {
gameId: "tunguska",
style: {
width: A["default"].getWidth(24)
}
}),
_owner: null
} ]
},
_owner: null
};
}, t.prototype.renderRecommendationsConsole = function v(e) {
var t = this;
return {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: h,
type: P.CardCarousel,
key: null,
ref: null,
props: o(P.CardCarousel.defaultProps, {
children: e,
width: A["default"].getWidth(24)
}),
_owner: null
},
onFocus: function() {
return t.refs.template && t.refs.template.tiltTo(0, 0);
}
},
_owner: null
}, this.state.recommendations && g["default"].createElement(R["default"], {
ref: "quicklinks",
items: this.getQuickLinks(),
onFocus: function() {
return t.refs.template && t.refs.template.tiltTo(0, -A["default"].getHeight(6));
}
}) ]
},
_owner: null
};
}, t.prototype.render = function _() {
var e = (this.state.recommendations || []).slice();
e.length > 0 && b["default"].each(e, function(e) {
"continue" === e.group && "CAMPAIGN" === e.mode && (e.image = ce.bbOfflineUrl("/sparta/jsclient/builds/assets/campaign-d909e655.jpg"));
});
var t = SpartaGlobals.bundleIsPC ? p : u, n = j["default"].renderCards(e, t), r = {
opacity: W["default"].tweenSwitch(0, 1, this.state.recommendations)
};
return {
$$typeof: h,
type: A["default"].Col,
key: "overviewCol",
ref: null,
props: o(A["default"].Col.defaultProps, {
children: SpartaGlobals.bundleIsPC ? this.renderRecommendationsPC(n) : this.renderRecommendationsConsole(n),
style: r
}),
_owner: null
};
};
var n = t;
return t = s("_$TunguskaOverviewContent")(t) || t, t = C["default"]({
matchmaking: ee["default"],
isInstalling: ne["default"].scope("isInstalling"),
unopenedPacks: I["default"]($["default"], "battlepacks")
})(t) || t, t = F["default"]()(t) || t, t = w.observer(t) || t;
}(g["default"].Component), ve = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentWillMount = function r() {
var e = {
minutesToUTC: new Date().getTimezoneOffset(),
game: "tunguska"
};
this.dispose = S.when(function() {
return pe.onlineState.isOnlineBlazeAndGateway;
}, function() {
return H["default"].trigger(e);
}), oe["default"].trigger();
}, t.prototype.componentWillUnmount = function l() {
this.dispose && this.dispose();
}, t.prototype.renderHeading = function u() {
var e = null, t = this.state.welcomeMessage;
if (se.store.isNoticeAvailable("tunguska")) e = {
$$typeof: h,
type: ie["default"],
key: null,
ref: null,
props: o(ie["default"].defaultProps, {
gameId: "tunguska"
}),
_owner: null
}; else if (t) {
var n = [], r = fe.localeLetterSpacing({}), a = SpartaGlobals.bundleIsPC ? "M" : "L", i = d({}, me.heading, r);
t.firstMessage && n.push({
$$typeof: h,
type: Y["default"],
key: null,
ref: null,
props: o(Y["default"].defaultProps, {
size: a,
value: t.firstMessage,
style: i
}),
_owner: null
}), t.secondMessage && n.push({
$$typeof: h,
type: Y["default"],
key: null,
ref: null,
props: o(Y["default"].defaultProps, {
size: a,
value: " " + t.secondMessage,
style: i
}),
_owner: null
}), e = {
$$typeof: h,
type: "surface",
key: null,
ref: null,
props: {
children: n,
style: me.row
},
_owner: null
};
}
return e;
}, t.prototype.render = function p() {
return g["default"].createElement(K["default"], {
ref: "template",
clipContent: SpartaGlobals.bundleIsPC,
wideContent: !0,
aboveContent: this.renderHeading(),
scrollContent: !1
}, {
$$typeof: h,
type: he.TakeoverComponent,
key: null,
ref: null,
props: o(he.TakeoverComponent.defaultProps, {}),
_owner: null
}, {
$$typeof: h,
type: be,
key: null,
ref: null,
props: o(be.defaultProps, {
gatewayState: de.gatewayState
}),
_owner: null
});
};
var n = t;
return t = s("_$TunguskaOverview")(t) || t, t = C["default"]({
welcomeMessage: I["default"](M["default"], "tunguska")
})(t) || t, t = w.observer(t) || t;
}(g["default"].Component);
t["default"] = ve, ve.prototype.displayName = "TunguskaOverview", e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return j(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(17), h = s(d), y = n(6), g = s(y), m = n(143), b = s(m), v = n(33), _ = s(v), S = n(7), w = s(S), T = n(51), C = s(T), E = n(16), I = s(E), P = n(34), O = s(P), A = n(41), k = n(26), R = s(k), x = n(88), M = s(x), N = n(23), $ = s(N), D = n(19), U = s(D), L = n(9), F = n(66), G = {
_$TunguskaOverviewOffline: {
displayName: "TunguskaOverviewOffline"
}
}, j = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaOverviewOffline.jsx",
components: G,
locals: [],
imports: []
}), B = g["default"].getHeight(17), H = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.renderMissingMultiplayerPrivileges = function s() {
var e = !this.state.presence || this.state.presence.isMissingMPPrivileges();
return e ? {
$$typeof: p,
type: F.BasicCard,
key: null,
ref: null,
props: r(F.BasicCard.defaultProps, {
background: L.bbOfflineUrl("/sparta/jsclient/builds/assets/card-mpcard-faf2de38.jpg"),
heading: __("ID_SPARTA_OFFLINE_PLAY_MULTIPLAYER"),
description: __("ID_SPARTA_OFFLINE_PLAY_MULTIPLAYER_DESC"),
textHeight: B,
onPress: function() {
SpartaGlobals.bundleIsPS4 ? C["default"].purchasePsPlus() : h["default"].gotoLocation("tunguska/mp");
}
}),
_owner: null
} : null;
}, t.prototype.renderOfflineHeading = function l() {
var e = !this.state.presence || this.state.presence.isMissingMPPrivileges(), t = __(e ? "ID_SPARTA_OFFLINE_MISSING_MP_HEADING" : "ID_SPARTA_OFFLINE_HEADING");
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
value: t
}),
_owner: null
},
style: {
flexDirection: "row"
}
},
_owner: null
};
}, t.prototype.renderGoOnlineButton = function u() {
if (A.onlineState.canGoOnline) {
var e = function n() {
A.onlineState.isPresenceReady ? R["default"].connect() : M["default"].connect();
}, t = __(A.onlineState.goOnlineIsRetry ? "ID_SPARTA_ONLINE_PRESENCE_TRY_AGAIN" : "ID_SPARTA_ONLINE_PRESENCE_GO_ONLINE");
return {
$$typeof: p,
type: $["default"],
key: null,
ref: null,
props: r($["default"].defaultProps, {
textSize: "S",
text: t,
style: {
width: g["default"].getWidth(6)
},
action: e
}),
_owner: null
};
}
return null;
}, t.prototype.render = function c() {
var e = "tunguska" === U["default"].getHostingGame().gameId || this.state.presence.isReady();
return f["default"].createElement(_["default"], {
ref: "template",
wideContent: !0,
aboveContent: this.renderOfflineHeading(),
scrollContent: SpartaGlobals.bundleIsPC
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: F.BasicCard,
key: null,
ref: null,
props: r(F.BasicCard.defaultProps, {
background: L.bbOfflineUrl("/sparta/assets/tunguska/mp-box-operations-cc6ef1d6.png"),
heading: __("ID_SPARTA_OFFLINE_PLAY_CAMPAIGN_HEADING"),
description: __("ID_SPARTA_OFFLINE_PLAY_TUNGUSKA_CAMPAIGN_DESCRIPTION"),
enabled: e,
size: "L",
textHeight: B,
onPress: function() {
return b["default"].continueSinglePlayer("tunguska");
}
}),
_owner: null
}, this.renderMissingMultiplayerPrivileges() ],
style: {
flexDirection: "row",
marginBottom: g["default"].getHeight(4)
}
},
_owner: null
}, SpartaGlobals.bundleIsPC && this.renderGoOnlineButton());
};
var n = t;
return t = i("_$TunguskaOverviewOffline")(t) || t, t = I["default"]({
presence: O["default"]
})(t) || t;
}(f["default"].Component);
t["default"] = H, H.prototype.displayName = "TunguskaOverviewOffline", e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return b(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(7), h = s(d), y = n(33), g = s(y), m = {
_$TunguskaMore: {
displayName: "TunguskaMore"
}
}, b = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaPremium.jsx",
components: m,
locals: [],
imports: []
}), v = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
return {
$$typeof: p,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
children: {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
value: "... Premium"
}),
_owner: null
}
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaMore")(t) || t;
}(f["default"].Component);
t["default"] = v, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return k(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(4), h = s(d), y = n(22), g = s(y), m = n(415), b = s(m), v = n(113), _ = s(v), S = n(16), w = s(S), T = n(7), C = s(T), E = n(804), I = s(E), P = n(28), O = s(P), A = {
_$TunguskaServerDetails: {
displayName: "TunguskaServerDetails"
}
}, k = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaServerDetails.js",
components: A,
locals: [],
imports: []
}), R = "tunguska", x = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
g["default"].clearServerDetails();
var e = {
game: R,
gameId: this.props.viewLocation.args.blazeGameId
};
g["default"].getDetailsForServer(e);
}, t.prototype.getOptionsMapping = function l() {
var e = this.state.details.settings, t = this.state.filterOptions;
if (h["default"].isEmpty(e)) return [ {
key: "CLASSESVEHICLES",
name: __("ID_SPARTA_FILTER_CLASSESVEHICLES"),
settings: [],
filterOptions: []
}, {
key: "WEAPONS",
name: __("ID_SPARTA_FILTER_WEAPONS"),
settings: [],
filterOptions: []
}, {
key: "ADVANCED",
name: __("ID_SPARTA_FILTER_ADVANCED"),
settings: [],
filterOptions: []
}, {
key: "RULES",
name: __("ID_SPARTA_FILTER_RULES"),
settings: [],
filterOptions: []
} ];
var n = h["default"].extend({}, e.Kits, e.Vehicles);
return [ {
key: "CLASSESVEHICLES",
name: __("ID_SPARTA_FILTER_CLASSESVEHICLES"),
settings: n,
filterOptions: t.kits.concat(t.vehicles)
}, {
key: "WEAPONS",
name: __("ID_SPARTA_FILTER_WEAPONS"),
settings: e.Weapons,
filterOptions: t.weaponClasses
}, {
key: "ADVANCED",
name: __("ID_SPARTA_FILTER_ADVANCED"),
settings: e.Misc,
filterOptions: t.misc
}, {
key: "RULES",
name: __("ID_SPARTA_FILTER_RULES"),
settings: e.Scales,
filterOptions: t.scales
} ];
}, t.prototype.getSettings = function u() {
var e = this, t = this.getOptionsMapping(), n = {}, r = {
on: __("ID_SPARTA_FILTER_SETTING_ON"),
off: __("ID_SPARTA_FILTER_SETTING_OFF")
};
return h["default"].each(t, function(t) {
var o = [];
h["default"].each(t.settings, function(n, a) {
var i = h["default"].find(t.filterOptions, function(e) {
return e.name === a;
}), s = i.defaultValue + "", l = !1, u = e.translateSettingValue(r, n);
"RULES" !== t.key ? (1 === i.defaultValue ? s = "on" : 0 === i.defaultValue && (s = "off"), 
l = s === n) : "scale" === i.type && n && (l = "1.0" === n, u = Math.round(100 * n) + "%"), 
o.push({
name: i.prettyName || i.name,
setting: u,
isDefault: l
});
}), n[t.name] = o;
}), n;
}, t.prototype.translateSettingValue = function c(e, t) {
return e.hasOwnProperty(t) ? e[t] : t;
}, t.prototype.render = function f() {
return !this.state.details || this.state.detailsError ? {
$$typeof: p,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
value: this.state.detailsError,
size: "L"
}),
_owner: null
} : {
$$typeof: p,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {
details: this.state.details,
settings: this.getSettings()
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaServerDetails")(t) || t, t = w["default"]({
details: O["default"](b["default"], "data"),
detailsError: O["default"](b["default"], "error"),
filterOptions: O["default"](_["default"], R)
})(t) || t;
}(f["default"].Component);
t["default"] = x, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return I(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(16), h = s(d), y = n(28), g = s(y), m = n(99), b = s(m), v = n(98), _ = s(v), S = n(247), w = n(810), T = n(803), C = n(11), E = {
_$TunguskaServerList: {
displayName: "TunguskaServerList"
}
}, I = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/TunguskaServerList.jsx",
components: E,
locals: [],
imports: []
}), P = "tunguska", O = "tunguska/mp/servers/filter", A = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getTabs = function s() {
var e = this, t = [ {
name: "servers",
title: __("ID_SPARTA_TAB_SERVERS"),
renderHeader: function n() {
return {
$$typeof: p,
type: T.SearchServersHeader,
key: null,
ref: null,
props: r(T.SearchServersHeader.defaultProps, {
gameId: P,
filtersRoute: O
}),
_owner: null
};
},
render: function o() {
return {
$$typeof: p,
type: T.SearchServers,
key: "servers",
ref: null,
props: r(T.SearchServers.defaultProps, {
gameId: P,
gameData: e.state.gameData,
pingSites: e.state.pingSites,
filtersRoute: O
}),
_owner: null
};
}
}, {
name: "favorites",
title: __("ID_SPARTA_TAB_FAVORITES"),
render: function a() {
return {
$$typeof: p,
type: w.FavoriteServers,
key: "favorites",
ref: null,
props: r(w.FavoriteServers.defaultProps, {
gameId: P,
gameData: e.state.gameData,
pingSites: e.state.pingSites
}),
_owner: null
};
}
} ];
return t.push({
name: "recent",
title: __("ID_SPARTA_TAB_RECENT"),
render: function i() {
return {
$$typeof: p,
type: w.RecentServers,
key: "recent",
ref: null,
props: r(w.RecentServers.defaultProps, {
gameId: P,
gameData: e.state.gameData,
pingSites: e.state.pingSites
}),
_owner: null
};
}
}), C.settingsStore.isFeatureEnabled("tunguskaRSP") && t.push({
name: "rented",
title: __("ID_SPARTA_TAB_RENTEDSERVERS"),
render: function s() {
return {
$$typeof: p,
type: w.RentedServers,
key: "rented",
ref: null,
props: r(w.RentedServers.defaultProps, {
gameId: P,
gameData: e.state.gameData,
pingSites: e.state.pingSites
}),
_owner: null
};
}
}), t;
}, t.prototype.render = function l() {
return f["default"].createElement(S.TabbedTemplate, {
ref: "template",
tabs: this.getTabs(),
showDivider: !0,
topGutter: !1
});
};
var n = t;
return t = i("_$TunguskaServerList")(t) || t, t = h["default"]({
pingSites: g["default"](_["default"], P),
gameData: g["default"](b["default"], P)
})(t) || t;
}(f["default"].Component);
t["default"] = A, A.gameId = P, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(36), a = r(o), i = n(164), s = r(i), l = n(167), u = function p() {
a["default"].enterCampaign.listen(function() {
s["default"].trackEvent(l.Events.GameStart, {
gameType: "offline",
gameMode: "sp_campaign"
});
}), a["default"].enterOperations.listen(function() {
s["default"].trackEvent(l.Events.GameStart, {
gameType: "online",
gameMode: "mp_operations"
});
}), a["default"].joinGame.listen(function(e) {
var t = e.server || {
mapMode: "",
mapName: ""
}, n = {
gameType: "online_mp",
gameMode: "mp_" + t.mapMode,
gameSessionId: e.blazeGameId,
blazeMatchId: e.blazeGameId,
map: t.mapName,
mid: e.blazeGameId,
gid: t.guid
};
s["default"].trackEvent(l.Events.GameStart, n);
});
};
t["default"] = u, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return G(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(2), y = r(h), g = n(6), m = l(g), b = n(23), v = l(b), _ = n(7), S = l(_), w = n(58), T = l(w), C = n(16), E = l(C), I = n(25), P = l(I), O = n(35), A = n(54), k = n(36), R = l(k), x = n(451), M = l(x), N = n(745), $ = l(N), D = n(439), U = l(D), L = n(172), F = {
_$BlueprintViewUnclaimed: {
displayName: "BlueprintViewUnclaimed"
},
_$BlueprintViewClaiming: {
displayName: "BlueprintViewClaiming"
},
_$BlueprintViewClaimed: {
displayName: "BlueprintViewClaimed"
},
_$TunguskaBattlepackBlueprint: {
displayName: "TunguskaBattlepackBlueprint"
}
}, G = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackBlueprint.jsx",
components: F,
locals: [],
imports: []
}), j = y.createStyleSheet({
dock: {
justifyContent: "center",
alignItems: "center",
position: "absolute",
top: 0,
right: 0,
left: 0,
bottom: 0
},
bpPrompt: {
marginBottom: 2 * m["default"].GUTTER
},
bpActions: {
width: m["default"].getWidth(6)
},
btn: {
flex: 1,
marginTop: m["default"].GUTTER
}
}), B = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.onClaimClick = function r() {
var e = A.claimBlueprint.listen(function(t, n) {
return e(), t ? void O.alert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CLAIM_BLUEPRINT_ERROR")) : void 0;
});
R["default"].claimBlueprint(this.props.blueprint.item.key);
}, t.prototype.render = function l() {
var e = this, t = this.props.blueprint.item, n = this.props.blueprint.puzzle, r = void 0;
this.props.onCancel && (r = {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_CANCEL"),
style: j.btn,
action: this.props.onCancel
}),
_owner: null
});
var a = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_BUILD_CONFIRM").replace("[[item]]", n.item.name);
return {
$$typeof: c,
type: L.PopupContainer,
key: null,
ref: null,
props: o(L.PopupContainer.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: $["default"],
key: null,
ref: null,
props: o($["default"].defaultProps, {
item: t
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
size: "M",
value: a
}),
_owner: null
},
style: j.bpPrompt
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_CONFIRM"),
style: j.btn,
action: function() {
return e.onClaimClick();
}
}),
_owner: null
}, r ],
style: j.bpActions
},
_owner: null
} ],
style: j.dock
},
_owner: null
}
}),
_owner: null
};
};
var n = t;
return t = s("_$BlueprintViewUnclaimed")(t) || t;
}(d["default"].Component);
B.propTypes = {
onCancel: d["default"].PropTypes.func
};
var H = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.render = function r() {
return {
$$typeof: c,
type: L.PopupContainer,
key: null,
ref: null,
props: o(L.PopupContainer.defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: d["default"].createElement(T["default"], {
ref: "spinner",
autoRun: !0
}),
style: j.dock
},
_owner: null
}
}),
_owner: null
};
};
var n = t;
return t = s("_$BlueprintViewClaiming")(t) || t;
}(d["default"].Component), V = function(e) {
function t(t) {
a(this, n), e.call(this, t);
}
i(t, e), t.prototype.render = function r() {
var e = this, t = this.props.blueprint && this.props.blueprint.reward && this.props.blueprint.reward.items, n = t && this.props.blueprint.reward.items[0];
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: U["default"],
key: null,
ref: null,
props: o(U["default"].defaultProps, {
item: n,
continueCallback: function() {
return e.props.onCancel();
}
}),
_owner: null
},
style: j.dock
},
_owner: null
};
};
var n = t;
return t = s("_$BlueprintViewClaimed")(t) || t;
}(d["default"].Component);
V.propTypes = {
onCancel: d["default"].PropTypes.func
};
var z = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
description: ""
};
}
i(t, e), t.prototype.render = function r() {
var e = void 0, t = this.props.popupInfo && this.props.popupInfo.id;
switch (this.state.blueprint.state) {
case "CLAIMING":
e = H;
break;

case "CLAIMED":
e = V;
break;

case "VIEW":
default:
e = B;
}
return d["default"].createElement(e, {
blueprint: this.state.blueprint,
onCancel: function n() {
return P["default"].close(t);
}
});
};
var n = t;
return t = s("_$TunguskaBattlepackBlueprint")(t) || t, t = E["default"]({
blueprint: M["default"]
})(t) || t;
}(d["default"].Component);
t["default"] = z, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
t.__esModule = !0;
var i = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, s = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, l = n(1), u = o(l), p = n(2), c = r(p), f = n(6), d = o(f), h = c.createStyleSheet({
box: {
flex: 0,
width: d["default"].getWidth(8),
height: d["default"].getHeight(24),
marginBottom: 2 * d["default"].GUTTER
},
image: {
textureAtlas: "SINGLE_TEXTURE",
textureMode: "contain",
position: "absolute",
top: 0,
left: -d["default"].getWidth(2),
width: d["default"].getWidth(12),
height: d["default"].getHeight(24),
zOffset: 2
}
}), y = function g(e) {
var t = void 0, n = void 0, r = e.item, o = e.style, l = a(e, [ "item", "style" ]);
if (r.images) {
var p = r.images;
t = p.Png1024xANY || p.Png300xANY || p.Png180xANY;
}
if (t) {
var c = {
texture: t
};
n = {
$$typeof: s,
type: "surface",
key: null,
ref: null,
props: {
style: [ h.image, c ]
},
_owner: null
};
}
return u["default"].createElement("surface", i({
style: [ h.box ].concat(o)
}, l), n);
};
t["default"] = y, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return F(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(2), g = r(y), m = n(6), b = l(m), v = n(73), _ = n(7), S = l(_), w = n(23), T = l(w), C = n(58), E = l(C), I = n(16), P = l(I), O = n(25), A = l(O), k = n(239), R = n(102), x = l(R), M = n(452), N = l(M), $ = n(747), D = l($), U = n(101), L = {
_$TunguskaBattlepackBuy: {
displayName: "TunguskaBattlepackBuy"
}
}, F = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackBuy.jsx",
components: L,
locals: [],
imports: []
}), G = g.createStyleSheet({
container: {
width: b["default"].getWidth(26),
marginTop: 6 * b["default"].GUTTER,
marginBottom: 6 * b["default"].GUTTER,
alignItems: "center",
justifyContent: "center"
},
scraps: {
position: "absolute",
top: 0,
right: 0,
marginTop: 2 * b["default"].GUTTER
},
header: {
marginBottom: 6 * b["default"].GUTTER
},
loading: {
height: $.cardContainerSize.height,
alignItems: "center",
justifyContent: "center"
},
backBtn: {
width: b["default"].getWidth(4)
},
accessImage: {
position: "absolute",
right: 0,
bottom: b["default"].getHeight(-16)
}
}), j = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
activeOffer: null
}, this.focusAncestor = g.focus.createAncestor("TunguskaBattlepackBuy");
}
i(t, e), t.prototype.onStartBuy = function r() {
this.closePopup();
}, t.prototype.onBuy = function l() {
"function" == typeof this.props.onBuy && this.props.onBuy();
}, t.prototype.closePopup = function u() {
var e = this.props.popupInfo && this.props.popupInfo.id;
A["default"].close(e);
}, t.prototype.renderCards = function p() {
var e = this, t = this.state.offers.values().sort(function(e, t) {
return e.amount - t.amount;
}), n = Math.min(t.length * ($.cardSize.width + b["default"].GUTTER), G.container.width), r = this.state.activeOffer;
null == r && t.length && (r = t[0].offerId);
var a = t.map(function(t) {
return {
$$typeof: f,
type: D["default"],
key: null,
ref: null,
props: o(D["default"].defaultProps, {
offer: t,
onStartBuy: function() {
return e.onStartBuy();
},
onBuy: function() {
return e.onBuy();
},
onFocus: function() {
return e.setState({
activeOffer: t.offerId
});
},
active: r === t.offerId
}),
_owner: null
};
});
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: v.CardCarousel,
key: "carousel",
ref: null,
props: o(v.CardCarousel.defaultProps, {
children: a,
width: n,
useAbsoluteBounds: !0
}),
_owner: null
},
style: {
marginLeft: b["default"].GUTTER
}
},
_owner: null
};
}, t.prototype.renderLoading = function d() {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(E["default"], {
ref: "spinner",
autoRun: !0
}),
style: G.loading
},
_owner: null
};
}, t.prototype.render = function y() {
var e = this, t = this.state.balance && this.state.balance.scraps || 0, n = void 0;
n = N["default"].hasLoadedOnce() ? this.renderCards() : this.renderLoading();
var r = void 0;
return SpartaGlobals.bundleIsPC && (r = {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_BACK"),
style: G.backBtn,
action: function() {
return e.closePopup();
}
}),
_owner: null
}), h["default"].createElement("surface", c({
style: G.container
}, this.focusAncestor.hooks), {
$$typeof: f,
type: U.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(U.TunguskaBattlepackScraps.defaultProps, {
size: "S",
prefix: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS").toUpperCase(),
value: t,
style: G.scraps
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
color: "#ffffff",
size: "XXL",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SELECT_AMOUNT").toUpperCase()
}),
_owner: null
},
style: G.header
},
_owner: null
}, n, r, {
$$typeof: f,
type: k.AccessImage,
key: null,
ref: null,
props: o(k.AccessImage.defaultProps, {
style: G.accessImage
}),
_owner: null
});
};
var n = t;
return t = s("_$TunguskaBattlepackBuy")(t) || t, t = P["default"]({
offers: N["default"],
balance: x["default"]
})(t) || t;
}(h["default"].Component);
t["default"] = j, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function e(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return K(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = e(f), h = n(2), y = e(h), g = n(4), m = s(g), b = n(8), v = n(14), _ = s(v), S = n(12), w = s(S), T = n(16), C = s(T), E = n(13), I = s(E), P = n(6), O = s(P), A = n(7), k = s(A), R = n(160), x = n(25), M = s(x), N = n(136), $ = n(47), D = s($), U = n(59), L = s(U), F = n(35), G = n(102), j = s(G), B = n(217), H = s(B), V = n(101), z = n(434), W = s(z), q = {
_$BattlepackBuyCardButton: {
displayName: "BattlepackBuyCardButton"
},
_$BattlepackBuyCard: {
displayName: "BattlepackBuyCard"
}
}, K = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackBuyCard.jsx",
components: q,
locals: [],
imports: []
}), X = {
width: O["default"].getWidth(5),
height: O["default"].getHeight(44)
};
t.cardSize = X;
var Y = {
height: X.height + O["default"].GUTTER + 2 * (O["default"].getHeight(7) + O["default"].GUTTER)
};
t.cardContainerSize = Y;
var J = y.createStyleSheet({
container: {
height: Y.height,
marginRight: O["default"].GUTTER
},
card: {
width: X.width,
height: X.height,
backgroundColor: "#00000085"
},
image: {
position: "absolute",
top: 3 * O["default"].GUTTER,
left: 3 * O["default"].GUTTER,
right: 3 * O["default"].GUTTER,
height: O["default"].getHeight(25),
textureMode: "cover"
},
info: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
padding: 2 * O["default"].GUTTER,
alignItems: "center"
},
count: {
marginBottom: O["default"].GUTTER
},
focusHighlight: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
height: O["default"].getHeight(1),
backgroundColor: "#ffffff"
},
buttons: {
marginTop: O["default"].GUTTER
},
button: {
width: X.width,
height: O["default"].getHeight(5),
marginBottom: O["default"].GUTTER,
paddingLeft: 2 * O["default"].GUTTER,
paddingRight: 2 * O["default"].GUTTER,
flexDirection: "row",
backgroundColor: "#00000085",
alignItems: "center",
justifyContent: "space-between"
},
price: {
flexDirection: "row"
},
listPrice: {
marginRight: O["default"].GUTTER,
opacity: .6
}
}), Q = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = y.focus.create(this, "battlepackBuyCardButton");
}
a(t, e), t.prototype.render = function s() {
var e = this.focusItem.isFocused, t = this.props.disabled ? .5 : 1, n = e && !this.props.disabled ? "#ffffff" : "#00000085", o = e || this.props.disabled ? "#00000085" : "#ffffff", a = void 0;
d.isValidElement(this.props.left) ? a = !this.props.disabled && e && d.isValidElement(this.props.leftFocused) ? this.props.leftFocused : this.props.left : null != this.props.left && (a = {
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
size: "S",
color: o,
value: this.props.left
}),
_owner: null
});
var i = void 0;
d.isValidElement(this.props.right) ? i = !this.props.disabled && e && d.isValidElement(this.props.rightFocused) ? this.props.rightFocused : this.props.right : null != this.props.right && (i = {
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
size: "S",
color: o,
value: this.props.right
}),
_owner: null
});
var s = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, i ],
style: [ J.button, {
opacity: t,
backgroundColor: n
} ]
},
_owner: null
};
if (this.props.disabled) return s;
var l = new _["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: this.props.action,
key: w["default"].Accept
});
return {
$$typeof: c,
type: L["default"],
key: null,
ref: null,
props: r(L["default"].defaultProps, {
children: s,
input: l,
focusItem: this.focusItem
}),
_owner: null
};
};
var n = t;
return t = i("_$BattlepackBuyCardButton")(t) || t, t = b.observer(t) || t;
}(d.Component);
Q.propTypes = {
left: d.PropTypes.oneOfType([ d.PropTypes.string, d.PropTypes.element ]),
leftFocused: d.PropTypes.element,
right: d.PropTypes.oneOfType([ d.PropTypes.string, d.PropTypes.element ]),
rightFocused: d.PropTypes.element,
disabled: d.PropTypes.bool
};
var Z = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = y.focus.create(this, "battlepackBuyCard");
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = this;
this.focusItem.onFocus(function() {
"function" == typeof e.props.onFocus && e.props.onFocus();
}), this.focusItem.onBlur(function() {
"function" == typeof e.props.onBlur && e.props.onBlur();
});
}, t.prototype.getPrice = function l(e) {
var t = m["default"].findWhere(this.props.offer.battlepack.prices.map(function(e) {
return e[0];
}), {
name: e
});
return t && t.quantity;
}, t.prototype.onStartBuy = function u() {
"function" == typeof this.props.onStartBuy && this.props.onStartBuy();
}, t.prototype.onBuy = function f() {
"function" == typeof this.props.onBuy && this.props.onBuy();
}, t.prototype.onBuyClick = function h(e) {
var t = this;
if (!e) {
var n = this.state.balance && this.state.balance.scraps || 0, o = this.getPrice("scraps");
if (o > n) return void F.alert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_NOT_ENOUGH_SCRAPS"));
}
M["default"].display(new D["default"]({
id: "battlepackConfirmPopup",
group: "battlepack",
content: {
$$typeof: c,
type: W["default"],
key: null,
ref: null,
props: r(W["default"].defaultProps, {
popupId: "battlepackConfirmPopup",
offer: this.props.offer,
onBuy: function() {
return t.onBuy();
},
realMoney: e
}),
_owner: null
},
requireOnline: !0,
fullScreen: !0,
createButtons: !1
})), this.onStartBuy();
}, t.prototype.render = function g() {
var e = this, t = this.props.offer, n = t.battlepack, o = n.images && (n.images.side_normal || n.images.side_small), a = this.getPrice("scraps"), i = I["default"].tweenSwitch(.5, 1, this.props.active, I["default"].presets.focusables.enter.fast, I["default"].presets.focusables.leave), s = I["default"].tweenSwitch(0, J.focusHighlight.height, this.focusItem.isFocused, I["default"].presets.focusables.enter.fast, I["default"].presets.focusables.enter.fast), l = void 0;
t.listPrice && (l = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: R.Strikethrough,
key: null,
ref: null,
props: r(R.Strikethrough.defaultProps, {
size: "S",
value: t.listPrice
}),
_owner: null
},
style: J.listPrice
},
_owner: null
});
var u = void 0;
return this.props.active && (u = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: Q,
key: null,
ref: null,
props: r(Q.defaultProps, {
left: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_GET_FOR_SCRAPS").toUpperCase(),
right: {
$$typeof: c,
type: V.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(V.TunguskaBattlepackScraps.defaultProps, {
value: a,
size: "S"
}),
_owner: null
},
rightFocused: {
$$typeof: c,
type: V.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(V.TunguskaBattlepackScraps.defaultProps, {
value: a,
size: "S",
dark: !0
}),
_owner: null
},
action: function() {
return e.onBuyClick(!1);
}
}),
_owner: null
}, {
$$typeof: c,
type: N.PS4StoreContent,
key: null,
ref: null,
props: r(N.PS4StoreContent.defaultProps, {
children: {
$$typeof: c,
type: Q,
key: null,
ref: null,
props: r(Q.defaultProps, {
left: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_BUY_SHORT").toUpperCase(),
right: t.price,
action: function() {
return e.onBuyClick(!0);
}
}),
_owner: null
}
}),
_owner: null
} ],
style: J.buttons
},
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ d.createElement("surface", p({
style: [ J.card, {
opacity: i
} ]
}, this.focusItem.hooks), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ J.image, {
texture: o
} ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
style: J.count,
color: "#ffffff99",
size: "XL",
value: "x" + t.amount
}),
_owner: null
}, {
$$typeof: c,
type: V.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(V.TunguskaBattlepackScraps.defaultProps, {
size: "S",
value: a
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
color: "#ffffff",
size: "S",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_OR").toUpperCase(),
style: {
marginRight: O["default"].GUTTER
}
}),
_owner: null
}, l, {
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
size: "S",
value: t.price
}),
_owner: null
} ],
style: J.price
},
_owner: null
} ],
style: J.info
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ J.focusHighlight, {
height: s
} ]
},
_owner: null
}), u ],
style: J.container
},
_owner: null
};
};
var n = t;
return t = i("_$BattlepackBuyCard")(t) || t, t = C["default"]({
balance: j["default"]
})(t) || t, t = b.observer(t) || t;
}(d.Component);
t["default"] = Z, Z.propTypes = {
offer: d.PropTypes.instanceOf(H["default"]).isRequired,
active: d.PropTypes.bool,
onStartBuy: d.PropTypes.func,
onBuy: d.PropTypes.func,
onFocus: d.PropTypes.func,
onBlur: d.PropTypes.func
};
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return M(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(2), g = r(y), m = n(8), b = n(6), v = l(b), _ = n(7), S = l(_), w = n(25), T = l(w), C = n(47), E = l(C), I = n(66), P = n(753), O = l(P), A = n(36), k = l(A), R = n(90), x = {
_$BattlepackCard: {
displayName: "BattlepackCard"
}
}, M = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackCard.jsx",
components: x,
locals: [],
imports: []
}), N = {
width: v["default"].getWidth(5),
height: v["default"].getHeight(44)
};
t.cardSize = N;
var $ = g.createStyleSheet({
quantity: {
position: "absolute",
bottom: 3 * -v["default"].GUTTER,
left: 0,
padding: [ v["default"].GUTTER, 2 * v["default"].GUTTER, v["default"].GUTTER, 2 * v["default"].GUTTER ],
backgroundColor: "#00000033"
},
rarity: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
textureOffset: [ 0, -N.height / 2 ]
}
}), D = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = t.focusItem || g.focus.create(this, g.autoId("battlepackCard"));
}
i(t, e), t.prototype.viewBattlepack = function r() {
k["default"].viewBattlepack(this.props.packName), T["default"].display(new E["default"]({
id: "battlepackPopup",
group: "battlepack",
content: {
$$typeof: f,
type: O["default"],
key: null,
ref: null,
props: o(O["default"].defaultProps, {
popupId: "battlepackPopup"
}),
_owner: null
},
requireOnline: !0,
fullScreen: !0,
createButtons: !1,
containContent: !1,
centerContent: !1,
priority: 1,
stackable: !0
}));
}, t.prototype.render = function l() {
var e = this, t = this.props.images && this.props.images.side_normal, n = this.props.images && this.props.images.side_white, r = this.props.rarenessLevel && this.props.rarenessLevel.value > 0, a = r && {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: c({}, $.rarity, {
texture: R.level[this.props.rarenessLevel.value]
})
},
_owner: null
}, i = this.props.quantity > 1 && {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
size: "S",
value: "x" + this.props.quantity
}),
_owner: null
},
style: $.quantity
},
_owner: null
};
return {
$$typeof: f,
type: I.BasicCard,
key: null,
ref: null,
props: o(I.BasicCard.defaultProps, {
children: i,
focusItem: this.focusItem,
style: c({}, N, this.props.style),
icon: this.focusItem.isFocused && n || t,
heading: this.props.visualName.toUpperCase(),
description: this.props.revision.toUpperCase(),
overlay: a,
onPress: function() {
return e.viewBattlepack();
}
}),
_owner: null
};
};
var n = t;
return t = s("_$BattlepackCard")(t) || t, t = m.observer(t) || t;
}(h.Component);
t["default"] = D;
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = r(f), h = n(2), y = r(h), g = n(4), m = r(g), b = n(13), v = s(b), _ = n(63), S = n(90), w = r(S), T = {
_$TunguskaBattlepackFrames: {
displayName: "TunguskaBattlepackFrames"
}
}, C = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackFrames.jsx",
components: T,
locals: [],
imports: []
}), E = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, I = {
"in": {
duration: 300,
delay: 80
},
out: {
duration: 1,
delay: 1
}
}, P = {
0: {
0: {
"in": {
duration: 200
},
out: {
duration: 300,
delay: 200
}
},
1: {
"in": {
duration: 200,
delay: 100
},
out: {
duration: 250,
delay: 300
}
},
2: {
"in": {
duration: 500,
delay: 100
},
out: {
duration: 500,
delay: 900
}
},
3: I
},
1: {
0: {
"in": {
duration: 200
},
out: {
duration: 300,
delay: 200
}
},
1: {
"in": {
duration: 300,
delay: 100
},
out: {
duration: 300,
delay: 400
}
},
2: {
"in": {
duration: 450,
delay: 100
},
out: {
duration: 450,
delay: 550
}
},
3: {
"in": {
duration: 500,
delay: 100
},
out: {
duration: 500,
delay: 900
}
},
4: I
},
2: {
0: {
"in": {
duration: 250
},
out: {
duration: 400,
delay: 250
}
},
1: {
"in": {
duration: 250,
delay: 100
},
out: {
duration: 250,
delay: 350
}
},
2: {
"in": {
duration: 350,
delay: 100
},
out: {
duration: 350,
delay: 450
}
},
3: {
"in": {
duration: 500,
delay: 100
},
out: {
duration: 500,
delay: 600
}
},
4: {
"in": {
duration: 500,
delay: 100
},
out: {
duration: 500,
delay: 900
}
},
5: I
}
}, O = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t);
var a = m.find(this.props.pack.items, function(e) {
return !e.nugget;
}), i = [], s = this.props.pack.rarenessLevel.value;
i.push.apply(i, w.openingFrames[s].frames.concat([ w.openingFrames[s][a.rarenessLevel.value], w.backgroundEnd ])), 
this.preloader = y.texture.createPreloader(this), i.forEach(function(e) {
return r.preloader.preload(e, "SINGLE_TEXTURE");
}), this.currentIndex = 0, this.sound = y.Sound.load(w.frameSounds[s]), this.state = {
item: a,
frames: i,
currentIndex: this.currentIndex
}, this.tweens = {
flash1TranslateX: v["default"].tween("184c6bad:102", 0),
flash1TranslateY: v["default"].tween("184c6bad:103", 0),
flash1Opacity: v["default"].tween("184c6bad:104", 0),
flash2TranslateX: v["default"].tween("184c6bad:105", 0),
flash2TranslateY: v["default"].tween("184c6bad:106", 0),
flash2Opacity: v["default"].tween("184c6bad:107", 0)
}, this.frameOpacity = [ v["default"].tween("184c6bad:111", 0), v["default"].tween("184c6bad:112", 0), v["default"].tween("184c6bad:113", 0), v["default"].tween("184c6bad:114", 0), v["default"].tween("184c6bad:115", 0), v["default"].tween("184c6bad:116", 0) ], 
this.frameScale = [ v["default"].tween("184c6bad:120", 1), v["default"].tween("184c6bad:121", 1), v["default"].tween("184c6bad:122", 1), v["default"].tween("184c6bad:123", 1), v["default"].tween("184c6bad:124", 1), v["default"].tween("184c6bad:125", 1) ], 
this.frameSettings = P[this.props.pack.rarenessLevel.value];
}
a(t, e), t.prototype.componentDidMount = function r() {
var e = this;
this.delayStart().then(function() {
return e.playSound();
}).then(function() {
return e.showFrames(0);
}).then(function() {
return e.exitLastFrame();
});
}, t.prototype.componentWillUnmount = function s() {
this.sound.stop(), m.each(this.tweens, function(e) {
return e.destroy();
}), m.each(this.frameOpacity, function(e) {
return e.destroy();
}), m.each(this.frameScale, function(e) {
return e.destroy();
});
}, t.prototype.delayStart = function l() {
return new Promise(function(e) {
setTimeout(e, 400);
});
}, t.prototype.playSound = function u() {
var e = this;
return new Promise(function(t) {
return e.sound.loop = !1, e.sound.setVolume(1), e.sound.play(), t();
});
}, t.prototype.showFrames = function f(e) {
var t = this;
return new Promise(function(n) {
return e >= t.state.frames.length ? n() : void t.animateFrame(e).then(function() {
return e++, t.currentIndex = e, t.setState({
currentIndex: e
}), t.showFrames(e).then(function() {
return n();
});
});
});
}, t.prototype.animateFlash = function d() {
var e = this, t = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0], n = {
duration: 250,
delay: t,
easing: "Linear"
}, r = {
duration: n.duration,
delay: t + n.duration,
easing: "Linear"
}, o = {
duration: n.duration / 2,
delay: t + n.duration / 2,
easing: "Linear"
}, a = {
duration: o.duration,
delay: o.delay + o.duration,
easing: "Linear"
}, i = {
duration: n.duration + r.duration,
easing: "Linear"
}, s = {
duration: o.duration + a.duration,
delay: o.delay,
easing: "Linear"
};
return new Promise(function(t) {
var l = 4, u = w.flare.width * l, p = w.flare.height * l, c = -50, f = -350, d = u / p, h = (c - f) * d, y = 600, g = y - h, m = 400;
e.tweens.flash1Opacity.to(1, n), e.tweens.flash1Opacity.to(0, r), e.tweens.flash1TranslateX.set(g), 
e.tweens.flash1TranslateX.to(y, i), e.tweens.flash1TranslateY.set(f), e.tweens.flash1TranslateY.to(c, i), 
e.tweens.flash2Opacity.to(1, o), e.tweens.flash2Opacity.to(0, a), e.tweens.flash2TranslateX.set(g + m), 
e.tweens.flash2TranslateX.to(y + m, s), e.tweens.flash2TranslateY.set(f), e.tweens.flash2TranslateY.to(c, s, t);
});
}, t.prototype.animateFrame = function h(e) {
var t = this;
return new Promise(function(n) {
var r = t.frameSettings[e], o = e === t.state.frames.length - 2, a = e === t.state.frames.length - 1;
t.frameOpacity[e].set(0), t.frameOpacity[e].to(1, r["in"]), o && t.animateFlash(r["in"].duration / 2 + r["in"].delay), 
a || (t.frameScale[e].set(1.2), t.frameScale[e].to(1, {
duration: r["in"].duration + r.out.duration
})), t.frameOpacity[e].to(a ? 1 : 0, r.out, n);
});
}, t.prototype.exitLastFrame = function g() {
this.props.onVideoComplete();
}, t.prototype.renderFrames = function b() {
for (var e = this.state.frames, t = this.currentIndex, n = Math.max(0, t - 1), r = Math.min(t + 2, e.length), o = c({
width: _.uiState.window.width,
height: _.uiState.window.height
}, E), a = []; r > n; ) {
var i = c({
zOffset: 10 - n,
texture: e[n],
textureScale: this.frameScale[n].getStyle(),
textureAtlas: "SINGLE_TEXTURE",
opacity: this.frameOpacity[n].getStyle()
}, o);
a.push({
$$typeof: p,
type: "surface",
key: i.texture.substr(-8) + n,
ref: null,
props: {
style: i
},
_owner: null
}), n++;
}
return a;
}, t.prototype.render = function S() {
var e = c({
zOffset: 1,
backgroundColor: "#000000",
opacity: 1,
layer: !0,
layerGrabBackground: !0
}, E), t = c({
texture: w.flare[this.state.item.rarenessLevel.value],
width: w.flare.width,
height: w.flare.height,
rotateZ: -20,
blendMode: "screen",
enableMouseEvents: !1
}, E), n = c({}, t, {
zOffset: 1600,
scaleX: 1,
scaleY: 4,
translateX: this.tweens.flash1TranslateX.getStyle(),
translateY: this.tweens.flash1TranslateY.getStyle(),
opacity: this.tweens.flash1Opacity.getStyle()
}), r = c({}, t, {
zOffset: 1601,
scaleX: 7,
scaleY: 7,
translateX: this.tweens.flash2TranslateX.getStyle(),
translateY: this.tweens.flash2TranslateY.getStyle(),
opacity: this.tweens.flash2Opacity.getStyle()
});
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: r
},
_owner: null
}, this.renderFrames(), this.props.children ],
style: e
},
_owner: null
};
};
var n = t;
return t = i("_$TunguskaBattlepackFrames")(t) || t;
}(d.Component);
t["default"] = O, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function s(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function l(e) {
return function(t) {
return I(t, e);
};
}
function u(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var p = n(3), c = u(p);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = u(h), g = n(2), m = r(g), b = n(8), v = n(6), _ = u(v), S = n(7), w = u(S), T = n(90), C = r(T), E = {
_$TunguskaBattlepackItem: {
displayName: "TunguskaBattlepackItem"
}
}, I = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackItem.jsx",
components: E,
locals: [],
imports: []
}), P = m.createStyleSheet({
box: {
flex: 0,
width: _["default"].getWidth(4),
height: _["default"].getHeight(14)
},
rarityWrapper: {
position: "absolute",
top: 0,
left: 0,
width: _["default"].getWidth(4),
height: _["default"].getHeight(14),
zOffset: 1
},
image: {
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
position: "absolute",
top: 2 * _["default"].GUTTER,
left: _["default"].GUTTER,
right: _["default"].GUTTER,
height: _["default"].getHeight(9),
zOffset: 2
},
multiplier: {
position: "absolute",
bottom: 4,
left: 8,
zOffset: 4
}
}), O = function(e) {
function t(t) {
i(this, n), e.call(this, t);
}
s(t, e), t.prototype.render = function r() {
var e = void 0, t = void 0, n = this.props, r = n.item, i = n.showRarity, s = n.style, l = n.textStyle, u = o(n, [ "item", "showRarity", "style", "textStyle" ]);
if (r.images) {
var p = r.images;
p.Png180xANY && (e = p.Png180xANY);
}
if (e) {
var c = {
texture: e
};
t = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: [ P.image, c ]
},
_owner: null
};
}
var h = void 0;
if (("undefined" == typeof i || i) && r.rarenessLevel) {
var g = {
position: "absolute",
top: 0,
left: 0,
texture: C.fade[r.rarenessLevel.value],
width: C.fade.width,
height: _["default"].getHeight(14)
};
h = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: g
},
_owner: null
};
}
var m = r.quantity > 1 ? "x" + r.quantity : "";
return y["default"].createElement("surface", f({}, u, {
style: [ P.box ].concat(s)
}, this.props.focusItem.hooks), t, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: h,
style: P.rarityWrapper
},
_owner: null
}, {
$$typeof: d,
type: w["default"],
key: null,
ref: null,
props: a(w["default"].defaultProps, {
value: m,
type: "emphasis",
size: "S",
style: [ P.multiplier, l ]
}),
_owner: null
});
};
var n = t;
return t = l("_$TunguskaBattlepackItem")(t) || t, t = b.observer(t) || t;
}(y["default"].Component);
t["default"] = O, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function i(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
t.__esModule = !0;
var s = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, l = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, u = n(1), p = o(u), c = n(2), f = r(c), d = n(6), h = o(d), y = n(7), g = o(y), m = n(90), b = r(m), v = n(32), _ = f.createStyleSheet({
box: {
flex: 0,
width: h["default"].getWidth(6)
},
rarityClip: {
position: "absolute",
top: h["default"].getHeight(-4),
left: 0,
right: 0,
bottom: h["default"].getHeight(-4),
layer: !0,
layerClip: !0,
layerSoftClip: [ 0, h["default"].getHeight(8), 0, h["default"].getHeight(8) ]
},
rarity: {
position: "absolute",
top: h["default"].getHeight(-28),
left: 0,
width: h["default"].getWidth(6),
height: h["default"].getHeight(74),
textureMode: "cover",
textureScale: .9,
zOffset: 1,
opacity: .95
},
image: {
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
height: h["default"].getHeight(18),
zOffset: 2
},
info: {
zOffset: 3,
marginTop: 4 * h["default"].GUTTER,
marginBottom: 2 * h["default"].GUTTER
},
description: {
marginTop: h["default"].GUTTER,
textAlignForRTL: "left"
},
multiplier: {
position: "absolute",
bottom: 0,
right: 8,
zOffset: 4
}
}), S = function w(e) {
var t = void 0, n = void 0, r = e.item, o = e.style, u = a(e, [ "item", "style" ]);
if (r.images) {
var c = r.images;
t = c.Png300xANY || c.Png180xANY;
}
if (t) {
var f = {
texture: t
};
n = {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
style: [ _.image, f ]
},
_owner: null
};
}
var d = void 0;
r.parentName && r.parentName !== r.name && (d = r.parentName);
var y = void 0, m = void 0, S = void 0;
r.rarenessLevel && (y = b.getName(r.rarenessLevel.value).toUpperCase(), m = {
color: b.rgb[r.rarenessLevel.value],
textAlignForRTL: "left"
}, S = {
texture: b.level[r.rarenessLevel.value]
});
var w = "VISUALS" === r.itemType ? '"' + r.name + '"' : r.name, T = r.quantity > 1 ? "x" + r.quantity : "", C = v.isRTLLanguage() ? s({}, _.multiplier, {
right: SpartaGlobals.bundleIsPC ? 300 : 380
}) : _.multiplier, E = void 0;
return r.nugget && r.description && (E = {
$$typeof: l,
type: g["default"],
key: null,
ref: null,
props: i(g["default"].defaultProps, {
value: r.description,
size: "XS",
style: _.description
}),
_owner: null
}), p["default"].createElement("surface", s({
style: [ _.box ].concat(o)
}, u), {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
style: [ _.rarity, S ]
},
_owner: null
},
style: _.rarityClip
},
_owner: null
}, n, {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: l,
type: g["default"],
key: null,
ref: null,
props: i(g["default"].defaultProps, {
value: d,
size: "S",
style: {
textAlignForRTL: "left"
}
}),
_owner: null
}, {
$$typeof: l,
type: g["default"],
key: null,
ref: null,
props: i(g["default"].defaultProps, {
value: w,
size: "M",
style: {
marginTop: h["default"].GUTTER / 2,
textAlignForRTL: "left"
}
}),
_owner: null
}, {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: l,
type: g["default"],
key: null,
ref: null,
props: i(g["default"].defaultProps, {
value: y,
size: "S",
type: "emphasis",
style: m
}),
_owner: null
}, {
$$typeof: l,
type: g["default"],
key: null,
ref: null,
props: i(g["default"].defaultProps, {
value: T,
size: "S",
type: "emphasis",
style: C
}),
_owner: null
} ],
style: {
marginTop: h["default"].GUTTER
}
},
_owner: null
}, E ],
style: _.info
},
_owner: null
});
};
t["default"] = S, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return G(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(4), g = r(y), m = n(2), b = r(m), v = n(8), _ = n(23), S = l(_), w = n(7), T = l(w), C = n(58), E = l(C), I = n(6), P = l(I), O = n(13), A = l(O), k = n(35), R = n(54), x = n(25), M = l(x), N = n(36), $ = l(N), D = n(442), U = l(D), L = n(101), F = {
_$BattlepackItemScrapView: {
displayName: "BattlepackItemScrapView"
}
}, G = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackItemScrapView.jsx",
components: F,
locals: [],
imports: []
}), j = b.createStyleSheet({
btn: {
flex: 1,
marginTop: P["default"].GUTTER
},
dock: {
justifyContent: "center",
alignItems: "center",
position: "absolute",
top: 0,
right: 0,
left: 0,
bottom: 0
},
actions: {
width: P["default"].getWidth(6)
},
prompt: {
alignItems: "center"
},
scraps: {
margin: [ P["default"].GUTTER, P["default"].GUTTER, P["default"].GUTTER, P["default"].GUTTER ]
}
}), B = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
isScrapping: !1,
isScrapped: !1
}, this.tweens = {
promptOpacity: A["default"].tween("481e88ec:57", 1),
opacity: A["default"].tween("481e88ec:58", 1),
scale: A["default"].tween("481e88ec:59", 1),
translateX: A["default"].tween("481e88ec:60", 0),
translateY: A["default"].tween("481e88ec:61", 0)
};
}
i(t, e), t.prototype.componentWillMount = function r() {
this.props.noConfirmation && this.scrapItem();
}, t.prototype.componentWillUnmount = function l() {
g.each(this.tweens, function(e) {
return e.destroy();
});
}, t.prototype.onOkClick = function u() {
this.scrapItem();
}, t.prototype.onCancelClick = function p() {
this.props.onCancel(), this.closePopup();
}, t.prototype.onSuccess = function d() {
this.props.onSuccess(), this.closePopup();
}, t.prototype.onScrapped = function y() {
var e = this;
this.setState({
isScrapped: !0
});
var t = {
delay: 500,
duration: 500,
easing: "CubicInOut"
}, n = {
delay: 700,
duration: 800,
easing: "CubicInOut"
};
this.tweens.promptOpacity.to(0, t), this.tweens.opacity.to(0, n), this.tweens.scale.to(.6, n), 
this.tweens.translateX.to(500, n), this.tweens.translateY.to(-400, n, function() {
return e.onSuccess();
});
}, t.prototype.onError = function m() {
this.props.onError(), this.closePopup();
}, t.prototype.scrapItem = function b() {
var e = this;
this.setState({
isScrapping: !0
});
var t = R.scrap.listen(function(n, r) {
return t(), n ? (k.alert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_ITEM_ERROR"), null, {
priority: 1,
stackable: !0
}), void e.onError(n)) : void e.onScrapped();
});
$["default"].scrapItem(this.props.item);
}, t.prototype.closePopup = function _() {
M["default"].close(this.props.popupInfo.id);
}, t.prototype.renderScrapped = function w() {
var e = this.props.item, t = f({}, j.prompt, {
opacity: this.tweens.promptOpacity.getStyle()
}), n = f({}, j.scraps, {
opacity: this.tweens.opacity.getStyle(),
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle(),
translateX: this.tweens.translateX.getStyle(),
translateY: this.tweens.translateY.getStyle()
});
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS_RECEIVED"),
size: "M"
}),
_owner: null
},
style: t
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: L.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(L.TunguskaBattlepackScraps.defaultProps, {
value: e.scrapValue,
size: "M"
}),
_owner: null
},
style: n
},
_owner: null
} ],
style: j.dock
},
_owner: null
};
}, t.prototype.renderScrapping = function C() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(E["default"], {
ref: "spinner",
autoRun: !0
}),
style: j.dock
},
_owner: null
};
}, t.prototype.renderPrompt = function I() {
var e = this;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: U["default"],
key: null,
ref: null,
props: o(U["default"].defaultProps, {
item: this.props.item
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_CONFIRM"),
size: "M"
}),
_owner: null
},
style: j.prompt
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_YES"),
action: function() {
return e.onOkClick();
},
style: j.btn
}),
_owner: null
}, {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_NO"),
action: function() {
return e.onCancelClick();
},
style: j.btn
}),
_owner: null
} ],
style: j.actions
},
_owner: null
} ],
style: j.dock
},
_owner: null
};
}, t.prototype.render = function P() {
return this.state.isScrapped ? this.renderScrapped() : this.state.isScrapping ? this.renderScrapping() : this.renderPrompt();
};
var n = t;
return t = s("_$BattlepackItemScrapView")(t) || t, t = v.observer(t) || t;
}(h["default"].Component);
t["default"] = B, B.propTypes = {
popupInfo: h["default"].PropTypes.object.isRequired,
item: h["default"].PropTypes.object.isRequired,
onSuccess: h["default"].PropTypes.func,
onError: h["default"].PropTypes.func,
onCancel: h["default"].PropTypes.func,
noConfirmation: h["default"].PropTypes.bool
}, B.defaultProps = {
onSuccess: function H() {},
onError: function V() {},
onCancel: function z() {}
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return fe(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(2), g = r(y), m = n(4), b = r(m), v = n(20), _ = l(v), S = n(18), w = l(S), T = n(25), C = l(T), E = n(14), I = l(E), P = n(12), O = l(P), A = n(11), k = n(50), R = l(k), x = n(6), M = l(x), N = n(7), $ = l(N), D = n(23), U = l(D), L = n(13), F = l(L), G = n(63), j = n(35), B = n(172), H = n(41), V = n(32), z = n(54), W = n(16), q = l(W), K = n(36), X = l(K), Y = n(450), J = l(Y), Q = n(102), Z = l(Q), ee = n(439), te = l(ee), ne = n(754), re = l(ne), oe = n(440), ae = l(oe), ie = n(755), se = l(ie), le = n(749), ue = l(le), pe = n(101), ce = {
_$BattlepackViewUnopened: {
displayName: "BattlepackViewUnopened"
},
_$BattlepackViewOpened: {
displayName: "BattlepackViewOpened"
},
_$TunguskaBattlepackView: {
displayName: "TunguskaBattlepackView"
}
}, fe = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackOpen.jsx",
components: ce,
locals: [],
imports: []
}), de = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, he = g.createStyleSheet({
openBtnContainer: {
flexDirection: "row",
marginTop: 2 * M["default"].GUTTER,
marginBottom: M["default"].GUTTER
},
openBtn: {
height: M["default"].getHeight(6),
width: M["default"].getWidth(8)
},
openQuantity: {
backgroundColor: "#ffffff33",
height: M["default"].getHeight(6),
width: M["default"].getHeight(8),
marginLeft: M["default"].GUTTER,
color: "#ffffff",
justifyContent: "center"
},
bpContent: {
alignItems: "center",
alignSelf: "center",
flexDirection: "row"
},
bpActions: {
width: M["default"].getWidth(14),
marginRight: M["default"].getWidth(2)
},
bpLoot: {
width: M["default"].getWidth(8),
marginTop: M["default"].getHeight(6)
},
battlepack: {
marginBottom: M["default"].getHeight(2)
},
bpTitle: {
justifyContent: "center"
},
bpImage: {
flex: 1,
height: M["default"].getHeight(56),
textureAtlas: "SINGLE_TEXTURE",
textureScale: 1,
textureMode: "contain"
}
}), ye = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
isOpening: !1
}, this.tweens = {
wrapperOpacity: F["default"].tween("282c75de:99", 1),
blackOpacity: F["default"].tween("282c75de:100", 0)
};
}
i(t, e), t.prototype.componentWillUnmount = function r() {
b.each(this.tweens, function(e) {
return e.destroy();
});
}, t.prototype.onOpenClick = function l() {
var e = this;
this.setState({
isOpening: !0
}), this.props.onOpenClick(), this.fadeOut().then(function() {
return X["default"].openBattlepack(e.props.pack.data.packKey);
});
}, t.prototype.fadeOut = function u() {
var e = this, t = {
duration: 500
};
return new Promise(function(n) {
e.tweens.blackOpacity.to(1, t), e.tweens.wrapperOpacity.to(0, t, n);
});
}, t.prototype.render = function p() {
var e = this, t = this.props && this.props.pack;
if (!t) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = t.data, r = void 0;
if (n && n.quantity) {
var a = void 0;
n.quantity > 1 && (a = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: $["default"],
key: null,
ref: null,
props: o($["default"].defaultProps, {
value: "x" + n.quantity,
size: "S",
style: {
alignSelf: "center"
}
}),
_owner: null
},
style: he.openQuantity
},
_owner: null
});
var i = __("ID_SPARTA_ACTION_OPEN");
r = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: o(U["default"].defaultProps, {
text: i,
style: he.openBtn,
action: function() {
return e.onOpenClick();
},
disabled: this.state.isOpening
}),
_owner: null
}, a ],
style: he.openBtnContainer
},
_owner: null
};
}
var s = void 0;
SpartaGlobals.bundleIsPC && (s = {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: o(U["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_BACK"),
style: he.openBtn,
action: this.props.closePopup,
disabled: this.state.isOpening
}),
_owner: null
});
var l = void 0, u = void 0, p = void 0, d = void 0, h = "";
n && (u = (n.visualName || "").toUpperCase(), d = n.images && n.images.side_big, 
p = [ n.revision, n.origin ].filter(function(e) {
return null != e && "" !== e;
}).join(" - ").toUpperCase(), l = {
$$typeof: f,
type: ae["default"],
key: null,
ref: null,
props: o(ae["default"].defaultProps, {
items: n.items,
hideScrollAction: this.state.isOpening
}),
_owner: null
}, h = n.revision);
var y = {
opacity: this.tweens.wrapperOpacity.getStyle()
}, g = c({}, he.bpTitle);
return V.isRTLLanguage() && (g = {
width: M["default"].getWidth(8),
textAlignForRTL: "left"
}), {
$$typeof: f,
type: B.PopupContainer,
key: null,
ref: null,
props: o(B.PopupContainer.defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: [ he.bpImage, {
texture: d
} ]
},
_owner: null
}, {
$$typeof: f,
type: $["default"],
key: null,
ref: null,
props: o($["default"].defaultProps, {
style: g,
size: "L",
type: "emphasis",
value: u
}),
_owner: null
}, {
$$typeof: f,
type: $["default"],
key: null,
ref: null,
props: o($["default"].defaultProps, {
style: g,
size: "S",
value: p
}),
_owner: null
}, r, s ],
style: he.battlepack
},
_owner: null
},
style: he.bpActions
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: $["default"],
key: null,
ref: null,
props: o($["default"].defaultProps, {
style: {
marginBottom: M["default"].GUTTER,
textAlignForRTL: "left"
},
size: "S",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_REVISION_CONTAINS").replace("[[revision]]", h).toUpperCase()
}),
_owner: null
}, l ],
style: he.bpLoot
},
_owner: null
} ],
style: he.bpContent
},
_owner: null
},
style: y
}),
_owner: null
};
};
var n = t;
return t = s("_$BattlepackViewUnopened")(t) || t, t = q["default"]({
balance: Z["default"]
})(t) || t;
}(h.Component);
ye.propTypes = {
closePopup: h.PropTypes.func.isRequired
};
var ge = function(e) {
function t(t) {
a(this, n), e.call(this, t);
var r = A.settingsStore.isFeatureEnabled("ingameBattlepackVideos") || "none" === R["default"].getState().route;
this.state = {
isVideoEnabled: r,
hasVideoPlayed: !1,
currentItem: 0
}, this.tweens = {
scrapsOpacity: F["default"].tween("282c75de:238", 0)
};
}
i(t, e), t.prototype.componentWillUnmount = function r() {
b.each(this.tweens, function(e) {
return e.destroy();
});
}, t.prototype.onVideoComplete = function l() {
this.setState({
hasVideoPlayed: !0
});
}, t.prototype.onItemAnimationComplete = function u() {
this.tweens.scrapsOpacity.to(1, {
duration: 700
});
}, t.prototype.gotoNextItem = function p() {
var e = this.props.pack;
e.open.items.length === this.state.currentItem + 1 ? this.props.closePopup() : this.setState({
currentItem: this.state.currentItem + 1
});
}, t.prototype.preloadImages = function c(e) {
var t = {
position: "absolute",
top: -1e3,
left: -1e3,
opacity: .1
}, n = {
width: 1,
height: 1
}, r = e.map(function(e) {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: [ n, {
texture: e.images.Png1024xANY
} ]
},
_owner: null
};
});
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: r,
style: t
},
_owner: null
};
}, t.prototype.renderOpenedItem = function d(e) {
var t = this;
return {
$$typeof: f,
type: te["default"],
key: "item",
ref: null,
props: o(te["default"].defaultProps, {
item: e,
onDone: function() {
return t.onItemAnimationComplete();
},
continueCallback: function() {
return t.gotoNextItem();
}
}),
_owner: null
};
}, t.prototype.renderOpenedNugget = function h(e) {
var t = this;
return {
$$typeof: f,
type: re["default"],
key: "nugget",
ref: null,
props: o(re["default"].defaultProps, {
item: e,
continueCallback: function() {
return t.gotoNextItem();
}
}),
_owner: null
};
}, t.prototype.render = function y() {
var e = this.props.pack, t = e && e.open;
if (!t) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = t.items.slice().sort(function(e) {
return e.nugget ? 1 : -1;
}), r = n[this.state.currentItem], a = void 0;
a = this.state.hasVideoPlayed ? r.nugget ? this.renderOpenedNugget(r) : this.renderOpenedItem(r) : this.preloadImages(n);
var i = {
zOffset: 1e3,
position: "absolute",
top: w["default"].dangerZoneSize.height + M["default"].getHeight(8),
right: w["default"].dangerZoneSize.width + M["default"].getWidth(2),
opacity: this.tweens.scrapsOpacity.getStyle()
}, s = this.state.balance && this.state.balance.scraps || 0;
return this.state.isVideoEnabled ? {
$$typeof: f,
type: se["default"],
key: null,
ref: null,
props: o(se["default"].defaultProps, {
children: [ a, {
$$typeof: f,
type: B.PopupContainer,
key: null,
ref: null,
props: o(B.PopupContainer.defaultProps, {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: pe.TunguskaBattlepackScraps,
key: null,
ref: null,
props: o(pe.TunguskaBattlepackScraps.defaultProps, {
prefix: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS").toUpperCase(),
value: s,
size: "S",
animated: !0
}),
_owner: null
},
style: i
},
_owner: null
}
}),
_owner: null
} ],
pack: t,
onVideoComplete: this.onVideoComplete.bind(this)
}),
_owner: null
} : {
$$typeof: f,
type: ue["default"],
key: null,
ref: null,
props: o(ue["default"].defaultProps, {
children: a,
pack: t,
onVideoComplete: this.onVideoComplete.bind(this)
}),
_owner: null
};
};
var n = t;
return t = s("_$BattlepackViewOpened")(t) || t, t = q["default"]({
balance: Z["default"]
})(t) || t;
}(h.Component);
ge.propTypes = {
closePopup: h.PropTypes.func.isRequired
};
var me = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.state = {
description: "",
isOpening: !1
}, this.tweens = {
blackOpacity: F["default"].tween("282c75de:356", 0)
}, this.openUnsubscribe = z.open.listen(function(e, t) {
r.openUnsubscribe(), e && (j.alert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_OPEN_ERROR")), 
r.closePopup());
});
}
i(t, e), t.prototype.componentWillUpdate = function r(e, t) {
var n = "OPEN" === t.pack.state ? 0 : 1;
this.tweens.blackOpacity.to(n, {
duration: 100
});
}, t.prototype.componentDidUpdate = function o() {
H.onlineState.isOnlineBlazeAndGateway || this.closePopup();
}, t.prototype.componentWillUnmount = function l() {
b.each(this.tweens, function(e) {
return e.destroy();
}), this.openUnsubscribe();
}, t.prototype.getInput = function u() {
var e = this, t = "UNOPENED" === this.state.pack.state && !this.state.isOpening;
return [ new I["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: O["default"].Decline,
action: function n() {
return t && e.closePopup();
},
visible: t && SpartaGlobals.bundleIsConsole
}) ];
}, t.prototype.onOpenClick = function p() {
this.setState({
isOpening: !0
}), this.tweens.blackOpacity.to(1, {
duration: 300
});
}, t.prototype.closePopup = function d() {
var e = this.props.popupInfo && this.props.popupInfo.id;
C["default"].close(e);
}, t.prototype.render = function y() {
var e = this, t = void 0, n = {
pack: this.state.pack,
closePopup: function a() {
return e.closePopup();
}
};
switch (this.state.pack.state) {
case "OPEN":
t = h.createElement(ge, n);
break;

case "OPENING":
case "UNOPENED":
default:
t = h.createElement(ye, c({
onOpenClick: function() {
return e.onOpenClick();
}
}, n));
}
var r = c({
zOffset: 2,
enableMouseEvents: !1,
opacity: this.tweens.blackOpacity.getStyle(),
backgroundColor: "#000000",
layer: !0,
layerGrabBackground: !0,
height: G.uiState.window.height
}, de), o = c({
zOffset: 1,
layer: !0,
layerGrabBackground: !0
}, de);
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: r
},
_owner: null
}, t ],
style: o
},
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackView")(t) || t, t = q["default"]({
pack: J["default"]
})(t) || t, t = _["default"]()(t) || t;
}(h.Component);
t["default"] = me, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return D(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = r(d), y = n(4), g = r(y), m = n(2), b = n(18), v = l(b), _ = n(6), S = l(_), w = n(7), T = l(w), C = n(23), E = l(C), I = n(13), P = l(I), O = n(90), A = r(O), k = n(214), R = l(k), x = n(8), M = n(63), N = n(172), $ = {
_$TunguskaBattlepackOpenedNugget: {
displayName: "TunguskaBattlepackOpenedNugget"
}
}, D = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackOpenedNugget.jsx",
components: $,
locals: [],
imports: []
}), U = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, L = 1024, F = 256, G = {
"default": {
duration: 500,
delay: 300
},
image: {
move: {
duration: 500,
delay: 500
},
moveUp: {
duration: 500
}
},
flare: {
scale: {
duration: 300,
delay: 300
}
},
parentName: {
opacity: {
duration: 700
}
}
}, j = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
isInputEnabled: !1
}, this.tweens = {
opacity: P["default"].tween("0c324c52:59", 0),
scale: P["default"].tween("0c324c52:60", 0),
translateX: P["default"].tween("0c324c52:61", 0),
translateY: P["default"].tween("0c324c52:62", 0),
flareWidth: P["default"].tween("0c324c52:65", A.flare.width),
flareHeight: P["default"].tween("0c324c52:66", A.flare.height),
flareRotate: P["default"].tween("0c324c52:67", 0),
flareScaleX: P["default"].tween("0c324c52:68", 1),
flareScaleY: P["default"].tween("0c324c52:69", 0),
flareOpacity: P["default"].tween("0c324c52:70", 0),
flareTranslateX: P["default"].tween("0c324c52:71", 0),
flareTranslateY: P["default"].tween("0c324c52:72", 0),
flash1TranslateX: P["default"].tween("0c324c52:75", 0),
flash1TranslateY: P["default"].tween("0c324c52:76", 0),
flash1Opacity: P["default"].tween("0c324c52:77", 0),
flash2TranslateX: P["default"].tween("0c324c52:78", 0),
flash2TranslateY: P["default"].tween("0c324c52:79", 0),
flash2Opacity: P["default"].tween("0c324c52:80", 0),
glowOpacity: P["default"].tween("0c324c52:84", 0),
itemNameTranslateY: P["default"].tween("0c324c52:87", 0),
itemNameOpacity: P["default"].tween("0c324c52:88", 0),
rarityNameOpacity: P["default"].tween("0c324c52:89", 0),
rarityTranslateY: P["default"].tween("0c324c52:90", 0),
buttonScale: P["default"].tween("0c324c52:93", 0),
buttonOpacity: P["default"].tween("0c324c52:94", 0)
};
}
i(t, e), t.prototype.componentDidMount = function r() {
this.startAnimations();
}, t.prototype.componentWillUnmount = function l() {
g.each(this.tweens, function(e) {
return e.destroy();
});
}, t.prototype.getHighestResolutionImage = function u(e) {
return e.Png1024xANY ? e.Png1024xANY : e.Png300xANY ? e.Png300xANY : e.Png180xANY ? e.Png180xANY : void 0;
}, t.prototype.startAnimations = function p() {
var e = this;
this.playSound().then(function() {
return e.step1();
}).then(function() {
return e.step2();
}).then(function() {
return e.step3();
}).then(function() {
return e.step4();
});
}, t.prototype.playSound = function d() {
var e = this, t = A.openingAudio.NUGGET;
return new Promise(function(n) {
e.sound = m.Sound.load(t), e.sound && e.sound.play(), setTimeout(function() {
return n();
}, 100);
});
}, t.prototype.stopSound = function h() {
this.sound && this.sound.stop();
}, t.prototype.step1 = function y() {
var e = this, t = v["default"].screen.height / 2 - F / 2, n = {
duration: 250,
easing: "Linear"
}, r = {
duration: n.duration,
delay: n.duration,
easing: "Linear"
}, o = {
duration: n.duration / 2,
delay: n.duration / 2,
easing: "Linear"
}, a = {
duration: o.duration,
delay: o.delay + o.duration,
easing: "Linear"
}, i = {
duration: n.duration + r.duration,
easing: "Linear"
}, s = {
duration: o.duration + a.duration,
delay: o.delay,
easing: "Linear"
}, l = {
duration: G["default"].duration,
delay: 200,
easing: "CubicOut"
};
return new Promise(function(u) {
var p = 4, c = A.flare.width * p, f = A.flare.height * p, d = -50, h = -350, y = c / f, g = (d - h) * y, m = 0, b = m - g, v = 600;
e.tweens.flash1Opacity.to(.5, n), e.tweens.flash1Opacity.to(0, r), e.tweens.flash1TranslateX.set(b), 
e.tweens.flash1TranslateX.to(m, i), e.tweens.flash1TranslateY.set(h), e.tweens.flash1TranslateY.to(d, i), 
e.tweens.flash2Opacity.to(.5, o), e.tweens.flash2Opacity.to(0, a), e.tweens.flash2TranslateX.set(b + v), 
e.tweens.flash2TranslateX.to(m + v, s), e.tweens.flash2TranslateY.set(h), e.tweens.flash2TranslateY.to(d, s, u), 
e.tweens.translateY.set(t), e.tweens.opacity.to(1, l), e.tweens.scale.to(.75, l);
});
}, t.prototype.step2 = function b() {
var e = this, t = {
duration: G.image.move.duration,
easing: "CubicInOut"
}, n = {
duration: G.flare.scale.duration,
easing: "QuadraticInOut"
};
return new Promise(function(r) {
e.tweens.glowOpacity.to(1, n), e.tweens.scale.to(1, t, r);
});
}, t.prototype.step3 = function _() {
var e = this, t = {
duration: 800,
easing: "Linear"
}, n = {
duration: 250,
easing: "Linear"
}, r = {
duration: n.duration,
delay: n.duration,
easing: "Linear"
}, o = {
duration: n.duration / 2,
delay: n.duration / 2,
easing: "Linear"
}, a = {
duration: o.duration,
delay: o.delay + o.duration,
easing: "Linear"
}, i = {
duration: n.duration + r.duration,
easing: "Linear"
}, s = {
duration: o.duration + a.duration,
delay: o.delay,
easing: "Linear"
};
return new Promise(function(l) {
var u = 4, p = A.flare.width * u, c = A.flare.height * u, f = -50, d = -350, h = p / c, y = (f - d) * h, g = 300, m = g - y, b = 600;
e.tweens.flash1Opacity.to(.5, n), e.tweens.flash1Opacity.to(0, r), e.tweens.flash1TranslateX.set(m), 
e.tweens.flash1TranslateX.to(g, i), e.tweens.flash1TranslateY.set(d), e.tweens.flash1TranslateY.to(f, i), 
e.tweens.flash2Opacity.to(.5, o), e.tweens.flash2Opacity.to(0, a), e.tweens.flash2TranslateX.set(m + b), 
e.tweens.flash2TranslateX.to(g + b, s), e.tweens.flash2TranslateY.set(d), e.tweens.flash2TranslateY.to(f, s, l), 
e.tweens.scale.to(1.1, t, l);
});
}, t.prototype.step4 = function w() {
var e = this, t = {
duration: G.image.moveUp.duration
}, n = {
duration: G.parentName.opacity.duration
}, r = {
duration: G.image.move.duration,
delay: 200
}, o = {
duration: G.image.move.duration,
delay: r.delay + r.duration
}, a = {
duration: 700,
easing: "CubicOut",
delay: o.delay + 240
}, i = v["default"].screen.height / 2 - F / 2, s = 250;
return new Promise(function(l) {
var u = .75;
e.tweens.translateY.to(s, t), e.tweens.scale.to(u, t), e.tweens.itemNameTranslateY.set(i), 
e.tweens.buttonScale.to(1, r), e.tweens.buttonOpacity.to(1, r, function() {
return e.setState({
isInputEnabled: !0
});
}), e.tweens.itemNameOpacity.to(1, n), e.tweens.itemNameTranslateY.to(s, n), e.tweens.rarityTranslateY.set(S["default"].getHeight(3)), 
e.tweens.rarityTranslateY.to(S["default"].getHeight(2), o), e.tweens.rarityNameOpacity.to(1, o);
var p = A.flare.width, c = A.flare.height, f = -c / 2 + 120, d = -c + 120, h = p / c, y = (f - d) * h, g = 0, m = g - y;
e.tweens.flareRotate.set(-20), e.tweens.flareOpacity.set(0), e.tweens.flareScaleX.set(1), 
e.tweens.flareScaleY.set(1), e.tweens.flareTranslateY.set(d), e.tweens.flareTranslateX.set(m), 
e.tweens.flareTranslateX.to(g, a), e.tweens.flareTranslateY.to(f, a), e.tweens.flareOpacity.to(1, a, l);
});
}, t.prototype["continue"] = function C() {
this.props.continueCallback && "function" == typeof this.props.continueCallback && this.props.continueCallback();
}, t.prototype.render = function I() {
var e = this, t = this.props.item;
if (!t) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = t.rarenessLevel.value, r = A.getName(t.rarenessLevel.value).toUpperCase(), a = this.getHighestResolutionImage(t.images), i = t.parentName && t.parentName !== t.name ? t.parentName : null, s = "VISUALS" === t.itemType ? '"' + t.name + '"' : t.name, l = {
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
zOffset: 1e3,
opacity: this.tweens.opacity.getStyle(),
translateX: this.tweens.translateX.getStyle(),
translateY: this.tweens.translateY.getStyle()
}, u = {
texture: a,
width: L,
height: F,
textureAtlas: "SINGLE_TEXTURE",
textureMode: "contain",
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle()
}, p = {
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
width: this.tweens.flareWidth.getStyle()
}, d = {
texture: A.flare[n],
textureAtlas: "SINGLE_TEXTURE",
zOffset: 1100,
enableMouseEvents: !1,
rotateZ: this.tweens.flareRotate.getStyle(),
blendMode: "screen",
width: this.tweens.flareWidth.getStyle(),
height: this.tweens.flareHeight.getStyle(),
position: "absolute",
top: 0,
left: 0,
translateX: this.tweens.flareTranslateX.getStyle(),
translateY: this.tweens.flareTranslateY.getStyle(),
scaleX: this.tweens.flareScaleX.getStyle(),
scaleY: this.tweens.flareScaleY.getStyle(),
opacity: this.tweens.flareOpacity.getStyle()
}, h = {
texture: A.bottomGlow[n],
width: A.bottomGlow.width,
height: A.bottomGlow.height,
opacity: this.tweens.glowOpacity.getStyle(),
blendMode: "screen",
zOffset: 10,
enableMouseEvents: !1,
position: "absolute",
left: 0,
top: 0,
translateX: M.uiState.window.width / 2 - A.bottomGlow.width / 2,
translateY: M.uiState.window.height - A.bottomGlow.height
}, y = {
zOffset: 999,
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
translateY: this.tweens.itemNameTranslateY.getStyle(),
opacity: this.tweens.itemNameOpacity.getStyle()
}, g = {
zOffset: 999,
marginBottom: S["default"].getHeight(3),
translateY: this.tweens.rarityTranslateY.getStyle(),
opacity: this.tweens.rarityNameOpacity.getStyle(),
color: A.rgb[n]
}, m = {
zOffset: 1e3,
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
scaleY: this.tweens.buttonScale.getStyle(),
scaleX: this.tweens.buttonScale.getStyle(),
opacity: this.tweens.buttonOpacity.getStyle()
}, b = {
marginTop: 2 * S["default"].GUTTER,
height: S["default"].getHeight(6),
width: S["default"].getWidth(8)
}, v = c({
width: M.uiState.window.width,
height: M.uiState.window.height
}, U), _ = c({
texture: A.flare[n],
width: A.flare.width,
height: A.flare.height,
rotateZ: -20,
blendMode: "screen",
enableMouseEvents: !1
}, U), w = c({}, _, {
zOffset: 1600,
scaleX: 4,
scaleY: 4,
translateX: this.tweens.flash1TranslateX.getStyle(),
translateY: this.tweens.flash1TranslateY.getStyle(),
opacity: this.tweens.flash1Opacity.getStyle()
}), C = c({}, _, {
zOffset: 1601,
scaleX: 4.5,
scaleY: 4.5,
translateX: this.tweens.flash2TranslateX.getStyle(),
translateY: this.tweens.flash2TranslateY.getStyle(),
opacity: this.tweens.flash2Opacity.getStyle()
}), I = __("ID_SPARTA_ACTION_BATTLEPACKS_ADD_TO_INVENTORY");
return "BLUEPRINT" === t.itemType && (I = __("ID_SPARTA_ACTION_BATTLEPACKS_ADD_TO_PUZZLES")), 
{
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: w
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: C
},
_owner: null
}, {
$$typeof: f,
type: N.PopupContainer,
key: null,
ref: null,
props: o(N.PopupContainer.defaultProps, {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: d
},
_owner: null
},
style: p
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: u
},
_owner: null
},
style: l
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: i,
size: "M"
}),
_owner: null
}, {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: s,
size: "L"
}),
_owner: null
}, {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
value: r,
style: g,
size: "M"
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
text: I,
style: b,
action: function() {
return e["continue"]();
},
disabled: !this.state.isInputEnabled
}),
_owner: null
}, {
$$typeof: f,
type: R["default"],
key: null,
ref: null,
props: o(R["default"].defaultProps, {
item: t,
style: b,
onSuccess: function() {
return e["continue"]();
},
disabled: !this.state.isInputEnabled
}),
_owner: null
} ],
style: m
},
_owner: null
} ],
style: y
},
_owner: null
} ],
style: {
justifyContent: "flex-start"
}
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: h
},
_owner: null
} ],
style: v
},
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackOpenedNugget")(t) || t, t = x.observer(t) || t;
}(h.Component);
j.propTypes = {
item: h.PropTypes.object.isRequired,
continueCallback: h.PropTypes.func.isRequired
}, t["default"] = j, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return U(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = r(d), y = n(2), g = r(y), m = n(4), b = r(m), v = n(18), _ = l(v), S = n(6), w = l(S), T = n(23), C = l(T), E = n(13), I = l(E), P = n(63), O = n(90), A = r(O), k = n(20), R = l(k), x = n(12), M = l(x), N = n(14), $ = l(N), D = {
_$TunguskaBattlepackVideo: {
displayName: "TunguskaBattlepackVideo"
}
}, U = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepackVideo.jsx",
components: D,
locals: [],
imports: []
}), L = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, F = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
video: null,
videoHasStarted: !1,
videoHasCompleted: !1
}, this.tweens = {
videoOpacity: I["default"].tween("b252771e:28", 0)
};
}
i(t, e), t.prototype.componentWillMount = function r() {
this.loadVideo();
}, t.prototype.componentDidMount = function l() {
this.playVideo(), this.fadeInVideo();
}, t.prototype.componentWillUnmount = function u() {
b.each(this.tweens, function(e) {
return e.destroy();
}), this.stopVideo();
}, t.prototype.getInput = function p() {
var e = this;
return !this.state.videoHasStarted || this.state.videoHasCompleted ? [] : [ new $["default"]({
action: function t() {
return e.stopVideo();
},
label: __("ID_SPARTA_ACTION_BATTLEPACKS_SKIP_VIDEO"),
key: M["default"].Accept
}) ];
}, t.prototype.loadVideo = function d() {
var e = this.props.pack, t = b.find(e.items, function(e) {
return !e.nugget;
}), n = e.rarenessLevel && e.rarenessLevel.value || 0, r = Math.min(t && t.rarenessLevel && t.rarenessLevel.value || 0, A.videos[n].length - 1), o = A.videos[n][r], a = g.video.loadVideo(o);
a.loop = !1, a.setVolume(1), this.setState({
video: a
});
}, t.prototype.playVideo = function h() {
var e = this, t = this.state.video;
this._failTimeout = setTimeout(function() {
e.stopVideo();
}, 1e4), t && !t.isPlaying && (setTimeout(function() {
t.play(), e.setState({
videoHasStarted: !0
});
}, 400), this.unsubVideo = g.events.onVideoStopped.listen(function(n) {
n === t.id && e.videoHasCompleted();
}));
}, t.prototype.videoHasCompleted = function y() {
clearTimeout(this._failTimeout), this.setState({
videoHasCompleted: !0
}), this.props.onVideoComplete(), this.videoHasCompleted = function() {};
}, t.prototype.stopVideo = function m() {
this.unsubVideo && this.unsubVideo(), this.state.video && this.state.video.stop(), 
this.videoHasCompleted();
}, t.prototype.fadeInVideo = function v() {
var e = this;
return new Promise(function(t) {
e.tweens.videoOpacity.set(.4), e.tweens.videoOpacity.to(1, {
duration: 200,
delay: 400
}, t);
});
}, t.prototype.render = function S() {
var e = this, t = f({
zOffset: 7,
opacity: this.tweens.videoOpacity.getStyle(),
width: P.uiState.window.width,
height: P.uiState.window.height,
texture: A.backgroundEnd,
video: this.state.video && this.state.video.id
}, L), n = f({
zOffset: 1,
backgroundColor: "#000000",
opacity: 1,
layer: !0,
layerGrabBackground: !0
}, L), r = {
zOffset: 10,
height: w["default"].getHeight(4),
width: w["default"].getWidth(3),
left: _["default"].dangerZoneSize.width,
top: P.uiState.window.height - _["default"].dangerZoneSize.height - w["default"].getHeight(6)
}, a = void 0;
return SpartaGlobals.bundleIsPC && this.state.videoHasStarted && !this.state.videoHasCompleted && (a = {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
action: function() {
return e.stopVideo();
},
text: __("ID_SPARTA_ACTION_BATTLEPACKS_SKIP_VIDEO"),
textSize: "XS",
style: r
}),
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: t
},
_owner: null
}, a, this.props.children ],
style: n
},
_owner: null
};
};
var n = t;
return t = s("_$TunguskaBattlepackVideo")(t) || t, t = R["default"]()(t) || t;
}(h.Component);
t["default"] = F, F.propTypes = {
onVideoComplete: h.PropTypes.func.isRequired
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return $(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(306), h = s(d), y = n(16), g = s(y), m = n(56), b = n(17), v = s(b), _ = n(147), S = s(_), w = n(102), T = s(w), C = n(443), E = s(C), I = n(435), P = s(I), O = n(436), A = s(O), k = n(441), R = s(k), x = n(101), M = n(54), N = {
_$TunguskaBattlepacks: {
displayName: "TunguskaBattlepacks"
}
}, $ = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/battlepacks/TunguskaBattlepacks.jsx",
components: N,
locals: [],
imports: []
}), D = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillMount = function s() {
m.routeIsHostingGame() ? M.initialFetch.trigger() : m.showNotInHostingGameAlert().then(function() {
return v["default"].goBackInHistory();
});
}, t.prototype.getTabs = function l() {
var e = this.state.balance.battlepacks > 0 ? " (" + this.state.balance.battlepacks + ")" : "";
return [ {
name: "unopened",
title: function t() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_UNOPENED") + e;
},
component: E["default"],
onSelect: this.updateTab.bind(this, "unopened")
}, {
name: "get",
title: function n() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_GET");
},
component: P["default"],
onSelect: this.updateTab.bind(this, "get")
}, {
name: "puzzle",
title: function r() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_PUZZLES");
},
component: R["default"],
onSelect: this.updateTab.bind(this, "puzzle")
}, {
name: "inventory",
title: function o() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_INVENTORY");
},
component: A["default"],
onSelect: this.updateTab.bind(this, "inventory")
} ];
}, t.prototype.updateTab = function u(e) {
this.setState({
activeTab: e
});
}, t.prototype.render = function c() {
var e = this.state.balance && this.state.balance.scraps || 0, t = {
$$typeof: p,
type: x.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(x.TunguskaBattlepackScraps.defaultProps, {
size: "S",
prefix: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS").toUpperCase(),
value: e,
animated: !0
}),
_owner: null
};
return {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
tabs: this.getTabs(),
header: t
}),
_owner: null
};
};
var n = t;
return t = i("_$TunguskaBattlepacks")(t) || t, t = g["default"]({
unopened: S["default"],
balance: T["default"]
})(t) || t;
}(f["default"].Component);
t["default"] = D, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!t.currentMedals) return [];
var n = i["default"].flatten(i["default"].map(e, function(e) {
return e.items;
})), r = t.richData, o = t.selectedMedal;
return t.currentMedals.map(function(e) {
var t = e.awardCode || e.id, a = r ? t : t.substring(0, 3), s = r ? e.currentStage && e.currentStage.awardCode : t, l = i["default"].find(n, function(e) {
return e.code === a;
}), u = i["default"].find(l.stages, function(e) {
return e.code === s;
});
if (r) {
var p = e.currentStage;
return new f["default"]({
id: a,
imageUrl: l && l.images.Small,
displayName: l && l.name,
description: l && l.description,
completion: {
done: Math.floor(e.totalProgression / 1e3),
needed: e.numMedalStages,
completed: e.completed,
percentage: e.totalProgression / (1e3 * e.numMedalStages)
},
currentStage: p && {
code: p.awardCode,
name: u && u.name,
description: u && u.description,
completion: {
done: p.progression,
needed: p.stage
}
},
stages: l.stages,
isTracked: o === a && !e.completed
});
}
return l ? new f["default"]({
id: a,
imageUrl: l.images.Small,
displayName: l.name,
description: l.description,
completion: l.progression && {
done: l.progression.acquired,
needed: l.progression.needed,
completed: l.progression.unlocked
},
currentStage: u && {
code: u.code,
name: u.name,
description: u.description,
completion: u.progression && {
completed: u.progression.unlocked,
done: u.progression.valueAcquired,
needed: u.progression.valueAcquired
}
},
stages: l.stages,
isTracked: void 0 !== l.progression ? o === a && !l.progression.unlocked : o === a
}) : new f["default"]({
id: a,
isTracked: o === a
});
});
}
t.__esModule = !0;
var a = n(4), i = r(a), s = n(21), l = r(s), u = n(36), p = r(u), c = n(456), f = r(c), d = n(255), h = r(d), y = n(204), g = r(y), m = n(2), b = n(263), v = r(b), _ = n(41), S = l["default"].createClient({
throttle: 2e3,
requestOn: [ v["default"]("tunguska.currentMedalsResponse") ],
initialize: function T() {
p["default"].getTrackableMedals.listen(function() {
m.frostbite.sendMessage("tunguska.currentMedalsRequest");
});
},
shouldPerformRequest: function C() {
return _.onlineState.isPresenceReady;
},
request: function E(e) {
return new Promise(function(e) {
var t = "tunguska", n = g["default"].getState()[t];
if (n) e(n); else {
var r = g["default"].scope(t).listen(function(t) {
r(), e(t);
});
_.onlineState.isOnlineBlazeAndGateway && h["default"].trigger(t);
}
});
},
parse: function I(e, t) {
return o(e, t);
},
update: function P(e) {
e && p["default"].setTrackableMedals(e);
}
});
t.fetcher = S;
var w = l["default"].createClient({
requestOn: [ p["default"].setTrackedMedal ],
request: function O(e) {
return new Promise(function(t) {
m.frostbite.sendMessage("tunguska.selectMedal", {
awardCode: e.id
}), t();
});
},
parse: function A(e) {},
update: function k(e) {}
});
t.tracker = w;
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return M(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(10), y = n(622), g = s(y), m = n(128), b = s(m), v = n(781), _ = s(v), S = n(782), w = s(S), T = n(780), C = s(T), E = n(779), I = s(E), P = n(778), O = s(P), A = n(783), k = s(A), R = n(176), x = {
_$TunguskaGameView: {
displayName: "TunguskaGameView"
}
}, M = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/TunguskaGameView.jsx",
components: x,
locals: [],
imports: []
}), N = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getComponent = function s() {
if (/playing\/wwcesupport\/help/.test(this.props.gameViewState.route)) return C["default"];
switch (this.props.gameViewState.subRoute) {
case "battlepacks":
return O["default"];

case "medals":
return k["default"];
}
switch (this.props.gameViewState.route) {
case "playing":
return w["default"];

case "eor":
return I["default"];

case "loading":
return _["default"];
}
return h.action("56721a5d:42", function() {
R.backgroundState.isVisible = !1;
}), null;
}, t.prototype.render = function l() {
var e = this.getComponent();
if (e) {
var t = d["default"].createElement(e, c({
ref: "route"
}, this.props));
return {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
children: t,
transitionId: this.props.gameViewState.route,
duration: 50
}),
_owner: null
};
}
return null;
};
var n = t;
return t = i("_$TunguskaGameView")(t) || t, t = g["default"]({
ref: "route",
id: function u(e) {
return e.gameViewState.route + "_" + e.gameViewState.isVisible;
}
})(t) || t;
}(d["default"].Component);
t["default"] = N, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return O(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(2), g = r(y), m = n(7), b = l(m), v = n(6), _ = l(v), S = n(59), w = l(S), T = n(9), C = n(13), E = l(C), I = n(8), P = {
_$Box: {
displayName: "Box"
}
}, O = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/Box.jsx",
components: P,
locals: [],
imports: []
}), A = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, k = "#ffffff", R = "#00000050", x = {
justifyContent: "center",
alignItems: "center"
}, M = _["default"].GUTTER / 2, N = _["default"].content.colSpan(5), $ = 2 * N, D = 300, U = {
duration: 6 * D,
easing: "CubicInOut",
delay: D
}, L = {
box: {
borderRadius: M
},
title: f({}, x, {
padding: _["default"].GUTTER,
marginBottom: _["default"].GUTTER,
borderRadius: [ M, M, 0, 0 ]
}),
content: f({}, x, {
flex: 1,
zOffset: 1
}),
bottom: f({}, x, {
padding: _["default"].GUTTER
}),
shimmer: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 4,
texture: T.bbOfflineUrl("/sparta/assets/ui/cards/shine-tiny-974103c1.png"),
textureMode: "none",
textureScale: 5
}
}, F = function(e) {
function t(t) {
if (a(this, n), e.call(this, t), !t.focusItem) throw new Error("No focusItem passed to <Box>");
this.tweens = {
shimmer: E["default"].tween("4e7e51fc:69", -$)
};
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this;
this.firstLaunch = setTimeout(function() {
return e.shimmer();
}, 3e3), this.repeat = setInterval(function() {
return e.shimmer();
}, 1e4);
}, t.prototype.componentWillUnmount = function l() {
clearInterval(this.repeat), clearTimeout(this.firstLaunch);
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.shimmer = function u() {
this.props.shimmer && (this.tweens.shimmer.to($, U), this.tweens.shimmer.set(-$));
}, t.prototype.render = function p() {
var e = this.props.focusItem.isFocused, t = f({}, L.box, {
width: this.props.width,
height: this.props.height,
backgroundColor: e ? k : R
}, this.props.style), n = {
color: e ? "#000000" : "#ffffff",
size: "XS",
style: {
zOffset: 1
}
}, r = {
opacity: 1,
textureOffsetY: this.tweens.shimmer.getStyle()
}, a = this.props.title && {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: h["default"].createElement(b["default"], f({
value: this.props.title.toUpperCase(),
type: "emphasis"
}, n)),
style: L.title
},
_owner: null
}, i = this.props.children || [], s = Array.isArray(i) ? i : [ i ];
s = s.map(function(e, t) {
return null == e ? e : e.props.style && (e.props.style.backgroundColor || e.props.style.texture) ? h["default"].cloneElement(e, {
key: t
}) : h["default"].cloneElement(e, {
key: t,
style: f({}, e.props.style, {
color: n.color
})
});
});
var l = this.props.bottom || [];
return l = "string" == typeof l ? {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: o(b["default"].defaultProps, {
value: l
}),
_owner: null
} : l, l = Array.isArray(l) ? l : [ l ], l = l.map(function(e, t) {
var r = f({}, e.props.style, n.style);
return h["default"].cloneElement(e, f({
key: t
}, e.props, n, {
style: r
}));
}), {
$$typeof: c,
type: w["default"],
key: null,
ref: null,
props: o(w["default"].defaultProps, {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ L.shimmer, r ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: s,
style: L.content
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: l,
style: L.bottom
},
_owner: null
} ],
style: f({}, A, {
zOffset: 10
})
},
_owner: null
} ],
input: this.props.input,
style: t,
focusItem: this.props.focusItem,
triggerMode: "after"
}),
_owner: null
};
};
var n = t;
return t = s("_$Box")(t) || t, t = I.observer(t) || t;
}(h["default"].Component);
t["default"] = F, F.propTypes = {
focusItem: h["default"].PropTypes.instanceOf(g.focus.FocusItem),
title: h["default"].PropTypes.string
}, F.defaultProps = {
shimmer: !0,
width: _["default"].window.xParts(6),
height: .65 * _["default"].window.xParts(6)
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = e.height, n = e.shouldUpdate, r = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: O.pcButtonBorder
},
_owner: null
};
return {
$$typeof: d,
type: _["default"],
key: null,
ref: null,
props: a(_["default"].defaultProps, {
height: t,
shouldUpdate: n,
labelType: "normal",
iconSize: 24,
labelDecoration: r,
styleSheetOverride: O,
useHorizontalMargin: !0
}),
_owner: null
};
}
function u(e) {
var t = e.inputs, n = e.height, r = e.small, o = {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: f({}, O.pcButtonBorder, O.pcButtonBorderLarge)
},
_owner: null
}, i = t.map(function(e, t) {
return {
$$typeof: d,
type: w["default"],
key: t,
ref: null,
props: a(w["default"].defaultProps, {
height: n,
label: e.label,
inputKey: e.key,
action: e.action,
large: !r,
labelType: "normal",
labelDecoration: o,
iconSize: 30,
styleSheetOverride: O
}),
_owner: null
};
});
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: i,
style: {
flexDirection: "row"
}
},
_owner: null
};
}
var p = n(3), c = s(p);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = s(h), g = n(2), m = n(6), b = s(m), v = n(462), _ = s(v), S = n(91), w = s(S), T = n(14), C = s(T), E = n(68), I = {
_$ButtonsGroup: {
displayName: "ButtonsGroup"
}
}, P = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/ButtonsGroup.jsx",
components: I,
locals: [],
imports: []
}), O = g.createStyleSheet({
pcButton: {
alignItems: "center",
justifyContent: "center",
margin: [ 0, b["default"].GUTTER / 2, 0, b["default"].GUTTER / 2 ],
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000090",
padding: [ 2, 3 * b["default"].GUTTER, 2, 3 * b["default"].GUTTER ],
height: b["default"].getHeight(5)
},
pcButtonLarge: {
height: b["default"].getHeight(7),
margin: [ 0, b["default"].GUTTER / 2, 0, b["default"].GUTTER / 2 ]
},
pcButtonHovered: {
backgroundColor: "#ffffff25"
},
pcButtonInverted: {
backgroundColor: "#00000011"
},
pcButtonInvertedHovered: {
backgroundColor: "#00000033"
},
pcButtonBorder: {
zOffset: 1,
position: "absolute",
right: 0,
bottom: 0,
left: 0,
height: 2,
backgroundColor: "#ffffff",
opacity: .8
},
pcButtonBorderLarge: {
height: 4
},
pcButtonInvertedBorder: {},
label: {
color: "#ffffff",
zOffset: 2
},
labelInverted: {
color: [ 0, 0, 0, 200 ]
},
labelContainer: {
alignItems: "center",
justifyContent: "center",
margin: [ 0, b["default"].GUTTER / 2, 0, b["default"].GUTTER / 2 ],
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000080",
opacity: .8,
padding: [ 2, 1.5 * b["default"].GUTTER, 4, 1.5 * b["default"].GUTTER ],
height: SpartaGlobals.bundleIsConsole ? 32 : b["default"].window.rowSpan(4),
zOffset: 1
},
labelContainerLarge: {
height: b["default"].getHeight(5),
padding: [ 2, 1.5 * b["default"].GUTTER, 4, 1.5 * b["default"].GUTTER ]
}
}), A = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.getChildContext = function s() {
return {
fonts: {
normal: E.fontState.fonts.tunguska.normal,
emphasis: E.fontState.fonts.tunguska.emphasis,
letterSpacing: 10
}
};
}, t.prototype.render = function p() {
var e = this.props.custom ? {
$$typeof: d,
type: u,
key: null,
ref: null,
props: a(u.defaultProps, {
inputs: this.props.custom,
height: this.props.height,
small: this.props.small
}),
_owner: null
} : {
$$typeof: d,
type: l,
key: null,
ref: null,
props: a(l.defaultProps, {
shouldUpdate: this.props.shouldUpdate,
height: this.props.height
}),
_owner: null
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: f({
flexDirection: "row"
}, this.props.style, {
zOffset: 130001
})
},
_owner: null
};
};
var n = t;
return t = i("_$ButtonsGroup")(t) || t;
}(y["default"].Component);
t["default"] = A, A.propTypes = {
custom: y["default"].PropTypes.arrayOf(y["default"].PropTypes.instanceOf(C["default"])),
height: y["default"].PropTypes.number,
shouldUpdate: y["default"].PropTypes.bool
}, A.childContextTypes = {
fonts: y["default"].PropTypes.shape({
normal: y["default"].PropTypes.any,
emphasis: y["default"].PropTypes.any,
letterSpacing: y["default"].PropTypes.number
})
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return A(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(7), g = l(y), m = n(2), b = n(6), v = l(b), _ = n(14), S = l(_), w = n(12), T = l(w), C = r(m), E = n(8), I = n(20), P = l(I), O = {
_$GameViewTab: {
displayName: "GameViewTab"
}
}, A = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/GameViewTab.jsx",
components: O,
locals: [],
imports: []
}), k = v["default"].window.rowSpan(4), R = m.createStyleSheet({
textStyle: {
alignSelf: "center",
zOffset: 2
},
textActive: {
color: "#000000"
},
textActiveHover: {
color: "#000000"
},
tabNormal: {
flex: 0,
alignItems: "center",
flexDirection: "column",
justifyContent: "center",
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000090",
padding: [ 2, 0, 0, 0 ],
width: v["default"].window.colSpan(4),
height: k
},
tabActive: {
backgroundColor: "#ffffff"
},
tabActiveHover: {
backgroundColor: "#ffffff"
},
tabHover: {
backgroundColor: "#ffffff25"
},
tabBorder: {
zOffset: 1,
height: 2,
backgroundColor: "#efefef",
width: v["default"].window.colSpan(4)
},
tabContainer: {
margin: [ 0, v["default"].GUTTER / 2, 0, v["default"].GUTTER / 2 ]
}
}), x = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = C.focus.create(this, "gameviewtab_" + t.text), 
SpartaGlobals.bundleIsPC ? this.focusItem.setClickInput(new S["default"]({
action: t.onClick,
label: t.text,
key: T["default"].Accept
})) : this.focusItem.setActive("gameviewtab_" + t.text, !1);
}
i(t, e), t.prototype.render = function r() {
var e = {}, t = {}, n = this.props.active;
n && this.focusItem.isHovered ? (t = R.tabActiveHover, e = R.textActiveHover) : n ? (t = R.tabActive, 
e = R.textActive) : this.focusItem.isHovered && (t = R.tabHover);
var r = this.props.text.toUpperCase(), a = this.props.bordered && {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: R.tabBorder
},
_owner: null
};
return h["default"].createElement("surface", c({
style: R.tabContainer
}, this.focusItem.hooks), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: g["default"],
key: null,
ref: null,
props: o(g["default"].defaultProps, {
size: "S",
value: r,
type: "emphasis",
style: [ R.textStyle, e ]
}),
_owner: null
},
style: [ R.tabNormal, t ]
},
_owner: null
}, a);
};
var n = t;
return t = s("_$GameViewTab")(t) || t, t = P["default"]()(t) || t, t = E.observer(t) || t;
}(h["default"].Component);
t["default"] = x, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = s(d), y = n(411), g = s(y), m = n(7), b = s(m), v = n(128), _ = s(v), S = n(6), w = s(S), T = {
_$Hints: {
displayName: "Hints"
}
}, C = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/Hints.jsx",
components: T,
locals: [],
imports: []
}), E = 1e4, I = 1e3, P = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
hint: ""
}, this.hints = [];
}
a(t, e), t.prototype.componentDidMount = function s() {
this.hints = g["default"].getHints(this.props.gameMode, this.props.map), this.startRotator();
}, t.prototype.componentWillUnmount = function l() {
this.stopRotator();
}, t.prototype.startRotator = function u() {
this.hints.length > 0 && (this.setState({
hint: this.hints[0]
}), clearTimeout(p), p = setTimeout(this.updateRotator.bind(this, 0), E));
}, t.prototype.updateRotator = function d(e) {
this.hints.length - 1 === e && (e = -1);
var t = e + 1;
this.setState({
hint: this.hints[t]
}), clearTimeout(p), p = setTimeout(this.updateRotator.bind(this, t), E);
}, t.prototype.stopRotator = function h() {
clearTimeout(p);
}, t.prototype.render = function y() {
if (!this.state.hint) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var e = c({
textAlignForRTL: "left",
width: w["default"].getWidth(18),
marginTop: w["default"].GUTTER
}, this.props.style);
return {
$$typeof: f,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
children: {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: this.state.hint,
style: e,
size: "XS",
section: this.props.gameId
}),
_owner: null
},
transitionId: this.state.hint,
duration: I,
style: e
}),
_owner: null
};
};
var n = t;
return t = i("_$Hints")(t) || t;
}(h["default"].Component);
t["default"] = P, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return b(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = i(c), d = n(62), h = i(d), y = n(764), g = i(y), m = {
_$TunguskaMenu: {
displayName: "TunguskaMenu"
}
}, b = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/Menu.jsx",
components: m,
locals: [],
imports: []
}), v = {
position: "absolute",
top: 0,
left: -1,
bottom: 0,
width: 1,
backgroundColor: [ 230, 230, 230, 204 ],
zOffset: 10
}, _ = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
var e = null;
return this.props.leftBorderWidth && (e = {
width: this.props.leftBorderWidth
}), f["default"].createElement(h["default"], u({}, this.props, {
divider: "none",
listItemComponent: g["default"]
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ v, e ]
},
_owner: null
});
};
var n = t;
return t = a("_$TunguskaMenu")(t) || t;
}(f["default"].Component);
t["default"] = _, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(2), y = n(20), g = s(y), m = n(14), b = s(m), v = n(12), _ = s(v), S = n(6), w = s(S), T = n(7), C = s(T), E = n(8), I = {
_$TunguskaMenuItem: {
displayName: "TunguskaMenuItem"
}
}, P = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/MenuItem.jsx",
components: I,
locals: [],
imports: []
}), O = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = h.focus.create(this, "tunguska_menuitem_" + t.label), 
this.focusItem.autoFocusCandidate = !0;
}
a(t, e), t.prototype.getInput = function s() {
if (this.focusItem.isFocused) {
if (this.props.input) return this.props.input;
if (this.props.action) return [ new b["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: _["default"].Accept,
action: this.props.action
}) ];
}
return [];
}, t.prototype.triggerInput = function l() {
var e = this.getInput();
e && (e = Array.isArray(e) ? e : [ e ], e.forEach(function(e) {
return e.action();
}));
}, t.prototype.render = function u() {
var e = this, t = c({
zOffset: 1,
backgroundColor: this.focusItem.isFocused ? "#ffffff" : void 0,
padding: [ w["default"].GUTTER, w["default"].GUTTER, w["default"].GUTTER, 2 * w["default"].GUTTER ],
borderRadius: [ 0, w["default"].GUTTER / 2, w["default"].GUTTER / 2, 0 ]
}, this.props.style), n = {
color: this.focusItem.isFocused ? "#000000" : "#ffffff",
zOffset: 1,
textAlignForRTL: "left"
};
return d["default"].createElement("surface", c({
style: t
}, this.focusItem.hooks, {
onClick: function() {
return e.triggerInput();
}
}), {
$$typeof: p,
type: "test",
key: null,
ref: null,
props: {
group: "menuitem",
label: this.props.label,
action: function() {
return e.triggerInput();
}
},
_owner: null
}, {
$$typeof: p,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
value: this.props.label.toUpperCase(),
style: n,
size: this.props.labelSize,
type: "emphasis"
}),
_owner: null
});
};
var n = t;
return t = i("_$TunguskaMenuItem")(t) || t, t = g["default"]()(t) || t, t = E.observer(t) || t;
}(d["default"].Component);
t["default"] = O, O.defaultProps = {
labelSize: "M"
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return v(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(8), h = n(7), y = s(h), g = n(139), m = n(32), b = {
_$NextRoundCountDown: {
displayName: "NextRoundCountDown"
}
}, v = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/NextRoundCountDown.jsx",
components: b,
locals: [],
imports: []
}), _ = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillUpdate = function s(e) {
g.nextRoundCountDown.timeLeft < 1 && g.nextRoundCountDown.active && e.gameState.isReady && (g.nextRoundCountDown.stop(), 
this.props.callback && this.props.callback());
}, t.prototype.render = function l() {
var e = g.nextRoundCountDown.timeLeft || 0, t = e.toString(), n = __("ID_SPARTA_HELP_LOADING"), o = void 0 !== this.props.text ? this.props.text : __("ID_SPARTA_GAMESTATE_NEXT_ROUND_STARTS_IN");
if (!g.nextRoundCountDown.active) return null;
1 > e && !this.props.gameState.isReady && (o = n, t = null);
var a = m.isRTLLanguage() ? {
marginRight: 15,
width: 50
} : {
marginLeft: 15,
width: 50
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: m.localeRearrange([ {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: o.toUpperCase(),
size: "M"
}),
_owner: null
}, {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: t,
size: "M",
style: a
}),
_owner: null
} ]),
style: this.props.style
},
_owner: null
};
};
var n = t;
return t = i("_$NextRoundCountDown")(t) || t, t = d.observer(t) || t;
}(f["default"].Component);
t["default"] = _, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return b(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(7), h = s(d), y = n(128), g = s(y), m = {
_$PulsatingText: {
displayName: "PulsatingText"
}
}, b = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/PulsatingText.jsx",
components: m,
locals: [],
imports: []
}), v = 2e3, _ = 1300, S = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
value: "first"
}, this.timeout = null;
}
a(t, e), t.prototype.componentDidMount = function s() {
this.startPulsating();
}, t.prototype.componentWillReceiveProps = function l(e) {
e.text && this.props.text && e.text !== this.props.text && (this.stopPulsating(), 
this.setState({
value: "first"
}), this.startPulsating());
}, t.prototype.componentWillUnmount = function u() {
this.stopPulsating();
}, t.prototype.startPulsating = function c() {
clearTimeout(this.timeout), this.timeout = setTimeout(this.continuePulsating.bind(this), v);
}, t.prototype.continuePulsating = function f() {
var e = "second" === this.state.value ? "first" : "second";
this.setState({
value: e
}), clearTimeout(this.timeout), this.timeout = setTimeout(this.continuePulsating.bind(this), v + _);
}, t.prototype.stopPulsating = function d() {
clearTimeout(this.timeout);
}, t.prototype.render = function y() {
return {
$$typeof: p,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
children: {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
value: this.props.text.toUpperCase()
}),
_owner: null
},
transitionId: this.state.value,
duration: _,
style: this.props.style
}),
_owner: null
};
};
var n = t;
return t = i("_$PulsatingText")(t) || t;
}(f["default"].Component);
t["default"] = S, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return x(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(2), y = n(7), g = s(y), m = n(6), b = s(m), v = n(13), _ = s(v), S = n(4), w = s(S), T = n(9), C = n(8), E = n(59), I = s(E), P = n(14), O = s(P), A = n(12), k = s(A), R = {
_$AwardCarousel: {
displayName: "AwardCarousel"
},
_$AwardCarouselItem: {
displayName: "AwardCarouselItem"
}
}, x = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/AwardCarousel.jsx",
components: R,
locals: [],
imports: []
}), M = [ T.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Personal_Tick_01-f761a7ee.wav"), T.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Personal_Tick_02-79e9579e.wav"), T.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Personal_Tick_03-67faa4b4.wav"), T.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Personal_Tick_04-e4ab4f8c.wav") ], N = {
back: {
normal: T.bbOfflineUrl("/sparta/jsclient/builds/assets/left_white-03807e66.png"),
hover: T.bbOfflineUrl("/sparta/jsclient/builds/assets/left_black-fab2d5b9.png")
},
forward: {
normal: T.bbOfflineUrl("/sparta/jsclient/builds/assets/right_white-8a3f8212.png"),
hover: T.bbOfflineUrl("/sparta/jsclient/builds/assets/right_black-bdf62701.png")
}
}, $ = T.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), D = 1165, U = 853, L = 180, F = 2 * b["default"].GUTTER, G = {
awardCarousel: {
flex: 2,
width: b["default"].window.colSpan(12) + b["default"].GUTTER,
flexDirection: "column",
justifyContent: "flex-end",
marginTop: F
},
awardsWrapper: {
width: b["default"].window.colSpan(12) + b["default"].GUTTER,
flexDirection: "row",
justifyContent: "flex-start"
},
buttonContainer: {
flexDirection: "row",
justifyContent: "flex-end",
position: "absolute",
top: 0,
right: 0,
width: b["default"].getHeight(8) + 2 * b["default"].GUTTER
},
button: {
flexDirection: "column",
alignItems: "center",
justifyContent: "center",
backgroundColor: "#00000080",
width: b["default"].getHeight(6),
height: L
},
focusedButton: {
backgroundColor: "#ffffff"
},
iconBack: {
height: b["default"].getHeight(5),
width: b["default"].getHeight(5),
marginRight: b["default"].GUTTER / 2,
texture: N.back.normal
},
iconForward: {
height: b["default"].getHeight(5),
width: b["default"].getHeight(5),
marginLeft: b["default"].GUTTER / 2,
texture: N.forward.normal
},
iconBackHover: {
texture: N.back.hover
},
iconForwardHover: {
texture: N.forward.hover
},
awardItem: {
marginRight: b["default"].GUTTER,
borderRadius: [ 4, 4, 4, 4 ],
width: L,
height: L,
backgroundColor: "#00000080",
alignItems: "center",
justifyContent: "center"
},
focusedAwardItem: {
scaleX: 1.0051,
scaleY: 1.0051,
backgroundColor: "#efefef"
},
awardImageCodex: {
width: 113,
height: 160
},
awardImageMedal: {
width: 160,
height: 160
},
awardImageDogtag: {
width: 160,
height: 160
},
awardImageStar: {
width: 160,
height: 160
},
info: {
content: {
position: "absolute",
left: 0,
top: L + 3 * b["default"].GUTTER
},
wrapper: {
flexDirection: "column"
},
header: {
flexDirection: "row"
},
description: {
marginTop: b["default"].GUTTER
},
title: {
marginRight: b["default"].GUTTER
},
xp: {
color: "#efefef80"
}
}
}, j = function(e) {
function t(t) {
o(this, n), e.call(this, t);
var r = t.items || [];
this.state = {
focusedItem: null,
batchIndex: 0,
batchedItems: this.createBatches(r)
}, this.focusGroup = h.focus.createGroup("awardcarousel");
}
a(t, e), t.prototype.componentWillUnmount = function s() {
this.focusGroup.destroy();
}, t.prototype.createBatches = function l(e) {
for (var t = [], n = 4, r = 0; r < e.length; r += n) {
var o = e.slice(r, r + n);
t.push(o);
}
return t;
}, t.prototype.goToBatch = function u(e) {
var t = this, n = this.state.batchIndex, r = n + e;
r >= 0 && r < this.state.batchedItems.length && this.setState({
batchIndex: r
}, function() {
h.focus.system.controllerMode && t.resetFocusAfterPagination(e);
});
}, t.prototype.resetFocusAfterPagination = function p(e) {
if (e > 0) {
var t = this.focusGroup.members[0];
t && t.setFocused(h.focus.FocusSource.Auto);
} else {
var t = this.focusGroup.members[this.focusGroup.members.length - 1];
t && t.setFocused(h.focus.FocusSource.Auto);
}
}, t.prototype.focusItem = function f(e) {
this.setState({
focusedItem: e
});
}, t.prototype.render = function d() {
var e = this, t = null, n = this.state.batchedItems[this.state.batchIndex] || [], o = this.state.batchIndex < this.state.batchedItems.length - 1, a = this.state.batchIndex > 0, i = n.map(function(t, n) {
return {
$$typeof: c,
type: H,
key: "aw-" + n,
ref: null,
props: r(H.defaultProps, {
item: t,
focusGroup: e.focusGroup,
onFocus: e.focusItem.bind(e, n),
index: n,
skipAnimation: e.props.skipAnimation
}),
_owner: null
};
}), s = n[this.state.focusedItem];
if (s) {
var l = s.score || 0, u = s.title || "", p = l > 0 ? {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
value: l + " " + __("ID_SPARTA_GENERIC_XP"),
size: "S",
style: G.info.xp
}),
_owner: null
} : null;
t = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
value: u,
size: "M",
type: "emphasis",
style: G.info.title
}),
_owner: null
}, p ],
style: G.info.header
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
value: s.description,
size: "S"
}),
_owner: null
},
style: G.info.description
},
_owner: null
} ],
style: G.info.wrapper
},
_owner: null
};
}
var f = new O["default"]({
action: function v() {
return e.goToBatch(-1);
},
label: __("ID_SPARTA_ACTION_SELECT"),
key: k["default"].Accept
}), d = a && {
$$typeof: c,
type: h.Focusable,
key: null,
ref: null,
props: r(h.Focusable.defaultProps, {
children: function _(e) {
return {
$$typeof: c,
type: I["default"],
key: "awardcarousel-back",
ref: null,
props: r(I["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ G.iconBack, e.isFocused ? G.iconBackHover : {} ]
},
_owner: null
},
style: [ {
marginRight: b["default"].GUTTER
}, G.button, e.isFocused ? G.focusedButton : {} ]
},
_owner: null
},
focusItem: e,
input: f
}),
_owner: null
};
},
debugName: "ac__back",
onFocus: function() {
h.focus.system.controllerMode && e.goToBatch(-1);
}
}),
_owner: null
}, y = new O["default"]({
action: function S() {
return e.goToBatch(1);
},
label: __("ID_SPARTA_ACTION_SELECT"),
key: k["default"].Accept
}), m = o && {
$$typeof: c,
type: h.Focusable,
key: null,
ref: null,
props: r(h.Focusable.defaultProps, {
children: function w(e) {
return {
$$typeof: c,
type: I["default"],
key: "awardcarousel-forward",
ref: null,
props: r(I["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ G.iconForward, e.isFocused ? G.iconForwardHover : {} ]
},
_owner: null
},
style: [ G.button, e.isFocused ? G.focusedButton : {} ]
},
_owner: null
},
focusItem: e,
input: y
}),
_owner: null
};
},
debugName: "ac_forward",
onFocus: function() {
h.focus.system.controllerMode && e.goToBatch(1);
}
}),
_owner: null
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ d, i, m ],
style: G.awardsWrapper
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: G.info.content
},
_owner: null
} ],
style: G.awardCarousel
},
_owner: null
};
};
var n = t;
return t = i("_$AwardCarousel")(t) || t, t = C.observer(t) || t;
}(d["default"].Component);
t["default"] = j;
var B = 600, H = function(e) {
function t(t) {
if (o(this, n), e.call(this, t), this.tweens = {
scaleY: _["default"].tween("e7d2fe1e:324", 0),
opacity: _["default"].tween("e7d2fe1e:325", t.skipAnimation ? 0 : 1)
}, this.focusItem = h.focus.create(this, "award_carousel_item_" + t.index), this.focusItem.onFocus(function() {
t.onFocus(t.index);
}), t.focusGroup.addMember(this.focusItem, t.index), 0 === t.index && (this.focusItem.autoFocusCandidate = !0), 
t.index < 6) {
var r = t.index < M.length ? t.index : 0, a = M[r];
this.tickSound = h.Sound.load(a), this.playSound = !0;
}
this.containerAnimation = {
initialState: t.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: w["default"].extend({}, _["default"].defaultTweenOptions, {
easing: "CubicInOut",
duration: B
})
};
}
a(t, e), t.prototype.componentWillMount = function r() {
this.timeouts = [];
}, t.prototype.componentDidMount = function s() {
var e = this, t = 100 * this.props.index;
this.props.skipAnimation || (this.playSound && this.setTimeout(function() {
e.tickSound.play();
}, t + 100), this.play(t));
}, t.prototype.componentWillUnmount = function l() {
this.clearTimeouts(), this.tweens.scaleY.destroy(), this.tweens.opacity.destroy();
}, t.prototype.clearTimeouts = function u() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.animateFlare = function f(e) {
var t = 1.2 * B, n = {
duration: t,
easing: "CubicInOut",
delay: e
}, r = {
duration: t / 3,
easing: "CubicInOut",
delay: e + t / 2
}, o = 1;
this.tweens.scaleY.to(o, n), this.tweens.opacity.to(0, r);
}, t.prototype.play = function y(e) {
this.refs.container.play(e), this.animateFlare(e);
}, t.prototype.render = function g() {
var e = this.focusItem.isFocused, t = this.props.item, n = t.imageUrl, r = n && "" !== n ? {
texture: n
} : {}, o = null;
switch (t.awardType) {
case "Codex":
o = G.awardImageCodex;
break;

case "Medal":
o = G.awardImageMedal;
break;

case "Dogtag":
o = G.awardImageDogtag;
break;

case "Star":
o = G.awardImageStar;
break;

default:
o = G.awardImageMedal;
}
var a = e ? G.focusedAwardItem : null, i = this.props.skipAnimation ? {} : {
zOffset: 100,
enableMouseEvents: !1,
position: "absolute",
rotateZ: -20,
height: D / 1.5,
width: U / 4,
left: 0,
top: 0,
translateX: -U / 21,
translateY: -D / 4,
scaleY: this.tweens.scaleY.getStyle(),
texture: $,
opacity: this.tweens.opacity.getStyle(),
layer: !0,
layerClip: !1
};
return d["default"].createElement(h.AnimatedSurface, {
ref: "container",
animation: this.containerAnimation
}, d["default"].createElement("surface", p({
style: [ G.awardItem, a ]
}, this.focusItem.hooks), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ o, r ]
},
_owner: null
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: i
},
_owner: null
});
};
var n = t;
return t = i("_$AwardCarouselItem")(t) || t, t = C.observer(t) || t;
}(d["default"].Component);
e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(2), h = n(103), y = s(h), g = n(7), m = s(g), b = n(59), v = s(b), _ = n(14), S = s(_), w = n(12), T = s(w), C = n(13), E = s(C), I = n(9), P = n(8), O = {
_$BattlepackWinner: {
displayName: "BattlepackWinner"
}
}, A = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/BattlepackWinner.jsx",
components: O,
locals: [],
imports: []
}), k = n(38), R = I.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/profile-glow-orange-95a00ad5.png"), x = {
packPlayer: {
position: "relative",
margin: [ 0, 2, 0, 2 ]
},
focusBorder: {
position: "absolute",
backgroundColor: "#ffffff",
height: 1,
left: 0,
right: 0,
bottom: -2
}
}, M = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.focusItem = d.focus.create(this, "scoreboard_row_" + t.player.name), 
0 === t.index && (this.focusItem.autoFocusCandidate = !0), this.state = {
description: ""
}, this.tweens = {
translateY: E["default"].tween("568a0d04:46", this.props.skipAnimation ? 0 : this.props.size),
opacity: E["default"].tween("568a0d04:47", this.props.skipAnimation ? 1 : 0)
}, t.focusGroup && t.focusGroup.addMember(this.focusItem, t.index);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.timeouts = [];
}, t.prototype.componentWillReceiveProps = function l(e) {
if (e.isReady && !this.props.skipAnimation) {
var t = 300, n = t * this.props.index + t;
this.play(n);
}
}, t.prototype.componentWillUnmount = function u() {
this.clearTimeouts();
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.showPlayerCard = function c(e) {
this.props.player.platformId && k.showUserProfile(e.platformId);
}, t.prototype.clearTimeouts = function f() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.play = function h(e) {
this.tweens.opacity.to(1, {
delay: e,
duration: 600
}), this.tweens.translateY.to(0, {
delay: e,
duration: 300
});
}, t.prototype.render = function g() {
var e = this.props.size, t = null, n = null, o = null, a = 300, i = this.props.player, s = this.focusItem.isFocused, l = i.name || "", u = {
duration: 100
}, c = new S["default"]({
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_VIEW_PROFILE"),
action: this.showPlayerCard.bind(this, i),
key: T["default"].Accept
}), f = {
opacity: this.tweens.opacity.getStyle(),
translateY: this.tweens.translateY.getStyle(),
scaleX: E["default"].tweenSwitch(1, 1.05, s, u, u),
scaleY: E["default"].tweenSwitch(1, 1.05, s, u, u)
}, h = {
alignSelf: "center"
}, g = {
opacity: E["default"].tweenSwitch(0, 1, s, u, u),
translateY: E["default"].tweenSwitch(10, 0, s, u, u),
width: a,
flexDirection: "row",
justifyContent: "center",
alignItems: "center",
position: "absolute",
top: e + 10,
left: -(a / 2 - e / 2),
height: 20
};
if (this.props.isMe) {
var b = 40, _ = {
zOffset: -5,
opacity: .8,
position: "absolute",
top: -b,
left: -b,
width: e + 2 * b,
height: e + 2 * b,
texture: R,
textureMode: "fill"
};
t = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: _
},
_owner: null
}, n = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: {
opacity: .66,
zOffset: -4,
left: -1,
top: -1,
bottom: -1,
right: -1,
position: "absolute",
backgroundColor: "#ff9900"
}
},
_owner: null
};
}
return s && (SpartaGlobals.bundleIsConsole || d.focus.system.controllerMode) && (o = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: x.focusBorder
},
_owner: null
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
children: [ {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
size: e,
user: i
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
size: "XS",
value: l,
style: h
}),
_owner: null
},
style: g
},
_owner: null
}, n, t, o ],
input: c,
triggerMode: "after",
focusItem: this.focusItem,
style: x.pressable
}),
_owner: null
},
style: [ x.packPlayer, f ]
},
_owner: null
};
};
var n = t;
return t = i("_$BattlepackWinner")(t) || t, t = P.observer(t) || t;
}(f["default"].Component);
t["default"] = M, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return L(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), f = n(1), d = s(f), h = n(2), y = n(103), g = s(y), m = n(7), b = s(m), v = n(6), _ = s(v), S = n(59), w = s(S), T = n(14), C = s(T), E = n(12), I = s(E), P = n(13), O = s(P), A = n(60), k = n(4), R = s(k), x = n(9), M = n(175), N = s(M), $ = n(297), D = n(8), U = {
_$Highlight: {
displayName: "Highlight"
}
}, L = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/Highlight.jsx",
components: U,
locals: [],
imports: []
}), F = n(38), G = SpartaGlobals.bundleIsPC ? _["default"].window.colSpan(4) + _["default"].window.colSpan(1) / 2 : _["default"].window.colSpan(4), j = SpartaGlobals.bundleIsPC ? _["default"].window.colSpan(3) + _["default"].window.colSpan(1) / 2 : _["default"].window.colSpan(3), B = SpartaGlobals.bundleIsPC ? "S" : "XS", H = SpartaGlobals.bundleIsPC ? "S" : "XS", V = SpartaGlobals.bundleIsPC ? "S" : "XS", z = SpartaGlobals.bundleIsPC ? "L" : "M", W = x.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), q = x.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-blur-42d30442.png"), K = x.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/profile-glow-orange-9d8cf9e7.png"), X = 1165, Y = 853, J = 500, Q = 2 * j, Z = 2 * G, ee = 300, te = {
highlightWrapper: {
flexDirection: "column",
alignItems: "center",
justifyContent: "center"
},
player: {
alignSelf: "center",
flexDirection: "row",
alignItems: "center",
justifyContent: "center",
marginTop: _["default"].window.rowSpan(2)
},
flag: {
width: 30,
height: 30,
marginRight: 10
},
name: {
marginBottom: _["default"].window.rowSpan(3),
alignSelf: "center"
},
unit: {
opacity: .66,
color: "#ffffff",
alignSelf: "center"
},
unitWrapper: {
marginTop: _["default"].window.rowSpan(2),
alignSelf: "center"
},
value: {
marginTop: _["default"].window.rowSpan(1),
alignSelf: "center"
},
focused: {
position: "absolute",
left: 0,
right: 0,
bottom: -4,
height: 2,
backgroundColor: "#ffffff"
},
pressable: {
position: "relative",
backgroundColor: "#222222"
},
shimmer: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 4,
texture: x.bbOfflineUrl("/sparta/assets/ui/cards/shine-tiny-974103c1.png"),
textureMode: "none",
textureScale: 5
},
highlightBorder: {
opacity: 0
}
}, ne = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
description: ""
}, this.tweens = {
scaleY: O["default"].tween("45887ae0:127", 0),
shimmer: O["default"].tween("45887ae0:128", this.props.big ? Z : Q),
opacity: O["default"].tween("45887ae0:129", 1),
fadeIn: O["default"].tween("45887ae0:130", this.props.skipAnimation ? 1 : 0),
backgroundGlowScale: O["default"].tween("45887ae0:131", 0),
backgroundGlowOpacity: O["default"].tween("45887ae0:132", 0),
borderWhiteOpacity: O["default"].tween("45887ae0:133", 0)
}, this.focusItem = h.focus.create(this, "highlights_highlight_" + t.index), 0 === t.index && (this.focusItem.autoFocusCandidate = !0), 
this.containerAnimation = {
initialState: this.props.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: R["default"].extend({}, O["default"].defaultTweenOptions, {
easing: "CubicOutBack",
duration: N["default"].highlights.highlight.grow.duration
})
}, this.flagAnimation = {
initialState: this.props.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
}
},
options: R["default"].extend({}, O["default"].defaultTweenOptions, {
easing: "CubicOut",
duration: N["default"].highlights.highlight.grow.duration / 2
})
}, this.scoreAnimation = {
initialState: this.props.skipAnimation ? "to" : "from",
values: {
opacity: {
from: 0,
to: 1
},
translateY: {
from: 50,
to: 0
}
},
options: R["default"].extend({}, O["default"].defaultTweenOptions, {
easing: "CubicInOut",
duration: N["default"].highlights.highlight.grow.duration
})
};
}
a(t, e), c(t, null, [ {
key: "defaultProps",
value: {
useNameMarquee: !0
},
enumerable: !0
} ]), t.prototype.componentWillMount = function s() {
this.timeouts = [];
}, t.prototype.componentDidMount = function l() {
var e = N["default"].highlights.highlight.base.delay, t = e * this.props.delay + e;
this.props.skipAnimation || this.play(t);
}, t.prototype.componentWillUnmount = function u() {
this.clearTimeouts();
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.getPlayerName = function f(e) {
return e.name;
}, t.prototype.clearTimeouts = function y() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.animateFlare = function m(e) {
var t = J, n = {
duration: t,
easing: "CubicInOut",
delay: e
}, r = {
duration: t / 2,
easing: "CubicOut",
delay: e + t / 2
}, o = this.props.big ? 3 : 2;
this.tweens.scaleY.to(o, n), this.tweens.opacity.to(0, r);
}, t.prototype.shimmer = function v(e) {
var t = {
duration: 3 * ee,
easing: "CubicInOut",
delay: e + J
};
this.tweens.shimmer.to(this.props.big ? -Z : -Q, t);
}, t.prototype.fadeIn = function S(e) {
var t = {
duration: J,
easing: "CubicInOut",
delay: e
};
this.tweens.fadeIn.to(1, t);
}, t.prototype.animateWhiteBorder = function T(e) {
var t = {
duration: ee,
easing: "CubicInOut",
delay: e
};
this.tweens.borderWhiteOpacity.to(.3, t), this.tweens.borderWhiteOpacity.to(0, {
duration: 2 * ee,
delay: e + ee
});
}, t.prototype.animateBackgroundGlow = function E(e) {
var t = 600, n = {
duration: t,
easing: "CubicInOut",
delay: e
};
this.tweens.backgroundGlowOpacity.to(.5, n), this.tweens.backgroundGlowOpacity.to(0, {
delay: e + t
}), this.tweens.backgroundGlowScale.to(1.5, n), this.tweens.backgroundGlowScale.to(0, {
delay: e + t
});
}, t.prototype.play = function P(e) {
this.refs.animation.play(e), this.refs.flag.play(e), this.refs.score.play(e), this.fadeIn(e), 
this.animateFlare(e), this.shimmer(e), this.animateWhiteBorder(e + J), this.animateBackgroundGlow(e);
}, t.prototype.showPlayerCard = function k(e) {
e.platformId && F.showUserProfile(e.platformId);
}, t.prototype.render = function x() {
var e = this.props.highlight, t = this.focusItem.isFocused, n = e.player || {}, o = this.props.big, a = o ? G : j, i = e.name || "", s = e.unit || "", l = this.props.flagUrl && "" !== this.props.flagUrl ? {
texture: this.props.flagUrl
} : null, u = t && (SpartaGlobals.bundleIsConsole || h.focus.system.controllerMode) ? {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: te.focused
},
_owner: null
} : null, c = new C["default"]({
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_VIEW_PROFILE"),
action: this.showPlayerCard.bind(this, this.props.highlight.player),
key: I["default"].Accept
}), f = o ? 20 : 10, y = o ? -10 : -8, m = {
position: "absolute",
zOffset: -4,
opacity: this.tweens.borderWhiteOpacity.getStyle(),
top: y,
left: y,
bottom: y,
right: y,
texture: q,
textureMode: "fill",
textureBorder: [ f, f, f, f ]
}, v = {
zOffset: 1,
enableMouseEvents: !1,
position: "absolute",
rotateZ: -20,
height: X / 2,
width: Y / 1.5,
left: 0,
top: 0,
translateX: -Y / (o ? 4.25 : 3.5),
translateY: -X / (o ? 4.5 : 4.75),
scaleY: this.tweens.scaleY.getStyle(),
texture: W,
opacity: this.tweens.opacity.getStyle()
}, S = {
opacity: this.tweens.fadeIn.getStyle()
}, T = {
opacity: o ? 1 : .6,
textureOffsetY: this.tweens.shimmer.getStyle()
}, E = {
zOffset: -5,
position: "absolute",
top: -10,
bottom: -10,
right: -10,
left: -10,
scaleX: this.tweens.backgroundGlowScale.getStyle(),
scaleY: this.tweens.backgroundGlowScale.getStyle(),
opacity: this.tweens.backgroundGlowOpacity.getStyle(),
texture: K
}, P = o && {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: E
},
_owner: null
}, O = e.unitValue || 0, k = this.getPlayerName(n), R = {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: k,
type: "emphasis",
size: H,
style: S
}),
_owner: null
};
return this.props.useNameMarquee && (R = {
$$typeof: p,
type: A.Marquee,
key: null,
ref: null,
props: r(A.Marquee.defaultProps, {
children: R,
scroll: t,
style: {
maxWidth: _["default"].window.colSpan(3) - $.ELLIPSIS_OFFSET.M
},
showEllipsis: !0
}),
_owner: null
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
style: [ te.name, S ],
size: B,
value: i.toUpperCase(),
type: "normal"
}),
_owner: null
}, d["default"].createElement(h.AnimatedSurface, {
ref: "animation",
animation: this.containerAnimation
}, {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ te.highlightBorder, m ]
},
_owner: null
}, {
$$typeof: p,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
size: a,
user: n
}),
_owner: null
}, u, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ te.shimmer, T ]
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: v
},
_owner: null
}, P ],
input: c,
scale: !0,
triggerMode: "after",
focusItem: this.focusItem,
style: te.pressable
}),
_owner: null
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ d["default"].createElement(h.AnimatedSurface, {
ref: "flag",
animation: this.flagAnimation,
style: [ te.flag, l ]
}), R ],
style: te.player
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
style: te.unit,
size: V,
value: s.toUpperCase(),
type: "emphasis"
}),
_owner: null
},
style: [ te.unitWrapper, S ]
},
_owner: null
}, d["default"].createElement(h.AnimatedSurface, {
ref: "score",
animation: this.scoreAnimation,
style: te.value
}, {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
size: z,
value: O + "",
type: "emphasis"
}),
_owner: null
}) ],
style: [ te.highlightWrapper ]
},
_owner: null
};
};
var n = t;
return t = i("_$Highlight")(t) || t, t = D.observer(t) || t;
}(d["default"].Component);
t["default"] = ne, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return S(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(7), y = s(h), g = n(40), m = n(6), b = s(m), v = n(2), _ = {
_$MapInfoDisplay: {
displayName: "MapInfoDisplay"
}
}, S = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/MapInfoDisplay.jsx",
components: _,
locals: [],
imports: []
}), w = 120, T = 60, C = v.createStyleSheet({
container: {
flexDirection: "row",
alignItems: "center"
},
text: {
marginLeft: 10,
marginRight: 10
},
image: {
height: T,
width: w
},
rightAligned: {
alignItems: "flex-end"
}
}), E = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e, t, n, o = {
texture: this.props.image
}, a = c({}, C.container), i = {};
if (SpartaGlobals.bundleIsConsole) {
var s = b["default"].getWidth(6);
a.marginTop = 40, i.title = {
textLineSpacing: g.LINE_HEIGHTS.XS,
width: s,
textAlignForRTL: "left"
}, i.description = {
textLineSpacing: g.LINE_HEIGHTS.XXS,
width: s,
textAlignForRTL: "left"
};
}
return this.props.image ? this.props.rightAligned ? (n = C.rightAligned, t = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ C.image, o ]
},
_owner: null
}) : e = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ C.image, o ]
},
_owner: null
} : n = this.props.rightAligned ? C.rightAligned : null, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ e, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: this.props.title,
type: "emphasis",
size: "XS",
style: i.title
}),
_owner: null
}, {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: this.props.description,
size: "XS",
style: i.description
}),
_owner: null
} ],
style: [ C.text, n ]
},
_owner: null
}, t ],
style: a
},
_owner: null
};
};
var n = t;
return t = i("_$MapInfoDisplay")(t) || t;
}(d["default"].Component);
t["default"] = E, E.defaultProps = {
alignRight: !1,
title: "",
description: "",
image: ""
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return k(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(2), h = n(7), y = s(h), g = n(13), m = s(g), b = n(6), v = s(b), _ = n(18), S = s(_), w = n(175), T = s(w), C = n(772), E = n(773), I = s(E), P = n(9), O = n(560), A = {
_$ProgressBar: {
displayName: "ProgressBar"
}
}, k = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/ProgressBar.jsx",
components: A,
locals: [],
imports: []
}), R = v["default"].window.colSpan(2), x = 18, M = S["default"].safeZone.width - 2 * R, N = 1165, $ = 853, D = P.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), U = 880, L = 1600, F = P.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/progress-bar-flare-6cee6e76.png"), G = P.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/War_Bonds-2d2c3757.wav"), j = P.bbOfflineUrl("/sparta/assets/tunguska/endofround/warbonds-469fb2a5.jpg"), B = 170, H = 148, V = 20, z = d.createStyleSheet({
barContainer: {
zOffset: 1,
position: "relative",
width: M,
height: x,
justifyContent: "flex-start",
flexWrap: "nowrap",
flexDirection: "row",
backgroundColor: "#00000080"
},
initialSegment: {
backgroundColor: "#FFFFFF",
marginLeft: 0,
height: x
},
segmentInfo: {
position: "absolute",
right: -20,
width: 200,
opacity: 0,
top: 20,
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
segmentInfoText: {
color: "#FFFFFF",
flex: 1,
marginTop: 8
},
segmentInfoTextValue: {
color: "#FFFFFF",
flex: 1,
marginTop: 2
},
estimate: {
container: {
flex: 1,
flexDirection: "row",
alignItems: "center",
justifyContent: "flex-end"
},
text: {
color: "#FFFFFF",
opacity: .66,
marginRight: 16
}
},
progress: {
flexDirection: "row",
marginBottom: v["default"].GUTTER
},
mainContainer: {
flexDirection: "row",
alignItems: "center",
justifyContent: "center",
height: v["default"].window.rowSpan(10)
},
currentRank: {
alignItems: "flex-start",
flex: 1
},
rankWrapper: {
flexDirection: "row",
justifyContent: "center",
zOffset: 10,
width: R
},
middle: {
width: M
},
warBonds: {
position: "absolute",
left: M / 2 - B / 2,
top: -(x / 2) - H / 6,
width: B,
height: H,
flex: 1,
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
warBondsImage: {
texture: j,
width: B,
height: H,
flex: 1,
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
position: "absolute",
zOffset: 12,
top: 0,
left: 0,
right: 0,
bottom: 0
},
bgFlare: {
zOffset: -1,
enableMouseEvents: !1,
position: "absolute",
width: L,
height: U,
top: -U / 1.8,
right: -L / 2
},
rankUpAnimationSegment: {
position: "absolute",
bottom: -9,
left: -9,
right: -9,
top: -9,
zOffset: -1,
texture: P.bbOfflineUrl("/sparta/assets/ui/cards/card-border-blur-red-f069fd70.png"),
textureMode: "fill",
textureBorder: [ 14, 14, 14, 14 ],
opacity: 0
},
rankUpAnimationSegmentInner: {
zOffset: 1,
backgroundColor: "#ffe034",
position: "absolute",
bottom: 9,
left: 9,
right: 9,
top: 9
}
}), W = function(e) {
function t(t) {
o(this, n), e.call(this, t);
var r = t.skipAnimation, a = t.initialValue, i = t.ranks, s = t.defaultWidth, l = O.getGoalValue(t.ranks, r), u = O.getInitialWidth(a, l, i, s, M, r);
this.state = {
reachedRank: null,
warBondsEarned: 0,
oldRank: null,
rankInProgress: !1,
segmentIndex: 0,
iterations: [],
rankFromIdx: O.getInitialRankIndexFrom(i, t.skipAnimation),
rankToIdx: O.getInitialRankIndexTo(i, t.skipAnimation),
goalValue: Math.max(l, 1),
startSegment: u,
segments: O.calculateIterations(t.segments, i, a, M, r)
}, this.tweens = {
flareScale: m["default"].tween("6899ba33:208", 0),
flareOpacity: m["default"].tween("6899ba33:209", 0),
warBondsOpacity: m["default"].tween("6899ba33:210", 0),
warBondsTextOpacity: m["default"].tween("6899ba33:211", 0),
warBondsScale: m["default"].tween("6899ba33:212", .5),
rankUpOverlayLeft: m["default"].tween("6899ba33:213", M - 18),
rankUpOverlayRight: m["default"].tween("6899ba33:214", -9),
rankUpOverlayOpacity: m["default"].tween("6899ba33:215", 0),
bgFlareOpacityTween: m["default"].tween("6899ba33:216", 0),
bgFlareLeftTween: m["default"].tween("6899ba33:217", M - L / 2),
startSegmentTween: m["default"].tween("6899ba33:218", u)
}, this.warBondSound = d.Sound.load(G);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.timeouts = [];
}, t.prototype.componentWillUnmount = function l() {
this.clearTimeouts();
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.clearTimeouts = function u() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.animateBondsIn = function c() {
var e = this, t = T["default"].bonds.flare.duration, n = 500, r = {
duration: T["default"].bonds.scale.duration,
delay: n,
easing: "CubicInOut"
};
return this.setTimeout(function() {
this.warBondSound.setVolume(1), this.warBondSound.play();
}.bind(this), n), new Promise(function(o) {
e.tweens.warBondsOpacity.to(1, r), e.tweens.warBondsTextOpacity.to(1, r), e.tweens.warBondsScale.to(1, r), 
e.tweens.flareScale.to(4, {
duration: 500,
delay: n
}), e.tweens.flareOpacity.to(1, {
duration: t,
delay: n
}), e.tweens.flareOpacity.to(0, {
duration: t - 100,
delay: n + 300
}, o);
});
}, t.prototype.animateBondsOut = function f() {
var e = this, t = {
duration: 300,
easing: "CubicInOut",
delay: 1500
}, n = {
duration: 150,
easing: "CubicInOut",
delay: 1500
};
return new Promise(function(r) {
e.tweens.warBondsTextOpacity.to(0, n), e.tweens.warBondsOpacity.to(0, t, r);
});
}, t.prototype.animateRankUpOverlay = function h() {
var e = T["default"].rankUpOverlay.opacity.duration, t = T["default"].rankImage.move.duration, n = -L / 2;
this.tweens.rankUpOverlayOpacity.to(1, {
duration: 1,
delay: 0
}), this.tweens.rankUpOverlayLeft.to(-9, {
duration: T["default"].rankUpOverlay.left.duration,
delay: 0
}), this.tweens.bgFlareOpacityTween.to(1, {
duration: e,
delay: 0
}), this.tweens.bgFlareLeftTween.to(n, {
duration: e,
delay: t
}), this.tweens.bgFlareOpacityTween.to(0, {
duration: e,
delay: t
}), this.tweens.rankUpOverlayOpacity.to(0, {
duration: T["default"].rankUpOverlay.left.duration,
delay: t
});
}, t.prototype.updateRanks = function g() {
var e = this;
this.animateBondsIn(1).then(function() {
return e.animateBondsOut(V);
}).then(function() {
var t = e.state.rankToIdx, n = e.state.rankFromIdx;
if (t + 1 < e.props.ranks.length) {
var r = e.props.ranks[t + 1], o = e.state.segmentIndex;
e.setState({
initialValue: 0,
startSegment: 0,
segmentIndex: o + 1,
goalValue: r.scoreNeeded,
rankFromIdx: n + 1,
rankToIdx: t + 1,
reachedRank: null,
rankInProgress: !1
});
} else e.setState({
initialValue: 0,
startSegment: 0,
rankFromIdx: n + 1,
reachedRank: null,
rankInProgress: !1
});
});
}, t.prototype.rankUp = function b() {
var e = this.props.ranks[this.state.rankToIdx], t = e.warBonds, n = this.props.ranks[this.state.rankFromIdx].number;
this.animateRankUpOverlay(), this.setState({
reachedRank: e,
warBondsEarned: t,
oldRank: n,
rankInProgress: !0
}), this.tweens.startSegmentTween.to(0, {
duration: 100,
delay: 300
});
}, t.prototype.lastSegmentCallback = function v() {
var e = this.state.segments || [];
(this.state.segmentIndex < e.length - 1 || this.state.segmentIndex === e.length - 1 && 2 === this.props.ranks.length && this.props.ranks[1].isMaxRank) && this.rankUp();
}, t.prototype.renderSegments = function _() {
var e = this.state.segments || [], t = this.state.segmentIndex;
if (e.length) {
var n = e[t], o = n.length - 1;
return n.filter(function(e) {
return e.value > 0;
}).map(function(n, a) {
var i = (this.state.segmentIndex < e.length - 1 || this.state.segmentIndex === e.length - 1 && 2 === this.props.ranks.length && this.props.ranks[1].isMaxRank) && o === a;
return n.value > 0 ? {
$$typeof: p,
type: C.ProgressBarSegment,
key: a + "-" + t,
ref: null,
props: r(C.ProgressBarSegment.defaultProps, {
rankInProgress: this.state.rankInProgress,
segment: n,
last: i,
index: a,
skipAnimation: this.props.skipAnimation,
rankCallback: this.lastSegmentCallback.bind(this)
}),
_owner: null
} : void 0;
}.bind(this));
}
}, t.prototype.renderSegmentsInfo = function S() {
var e = this.state.segments || [], t = this.state.segmentIndex;
if (e.length) {
var n = e[t];
return n.map(function(e, n) {
return e.value > 0 ? {
$$typeof: p,
type: C.ProgressBarText,
key: n + "-" + t,
ref: null,
props: r(C.ProgressBarText.defaultProps, {
segment: e,
index: n,
skipAnimation: this.props.skipAnimation
}),
_owner: null
} : void 0;
}.bind(this));
}
}, t.prototype.render = function w() {
var e = this.props.ranks, t = e[this.state.rankFromIdx] || {}, n = e[this.state.rankToIdx] || {}, o = this.props.minutesToNextRank, a = {
width: this.tweens.startSegmentTween.getStyle()
}, i = this.state.startSegment ? {
$$typeof: p,
type: "surface",
key: "initial-segment",
ref: null,
props: {
style: [ a, z.initialSegment ]
},
_owner: null
} : null, s = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_TIME_TO_RANK").toUpperCase(), l = o + " " + __("ID_SPARTA_DATETIME_MIN").toLowerCase(), u = this.state.warBondsEarned || 0, c = {
scaleX: this.tweens.warBondsScale.getStyle(),
scaleY: this.tweens.warBondsScale.getStyle(),
opacity: this.tweens.warBondsOpacity.getStyle()
}, f = {
color: "#E5C8A3",
zOffset: 13,
opacity: this.tweens.warBondsTextOpacity.getStyle()
}, d = {
zOffset: 10,
enableMouseEvents: !1,
position: "absolute",
rotateZ: 20,
height: N / 2,
width: $ / 1.5,
left: 0,
top: 0,
translateX: 1.3 * -B,
translateY: -N / 4.5,
scaleY: this.tweens.flareScale.getStyle(),
texture: D,
opacity: this.tweens.flareOpacity.getStyle()
}, h = {
texture: F,
opacity: this.tweens.bgFlareOpacityTween.getStyle(),
left: this.tweens.bgFlareLeftTween.getStyle()
}, g = {
zOffset: 1e3,
left: this.tweens.rankUpOverlayLeft.getStyle(),
right: this.tweens.rankUpOverlayRight.getStyle(),
opacity: this.tweens.rankUpOverlayOpacity.getStyle()
}, m = o > 0 ? {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: s,
size: "S",
type: "normal",
style: z.estimate.text
}),
_owner: null
}, {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: l,
size: "S",
type: "emphasis"
}),
_owner: null
} ],
style: z.estimate.container
},
_owner: null
} : null, b = this.state.warBondsEarned > 0 && {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: d
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: u + "",
size: "XL",
type: "emphasis",
style: f
}),
_owner: null
},
style: [ z.warBondsImage, c ]
},
_owner: null
} ],
style: [ z.warBonds ]
},
_owner: null
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: I["default"],
key: "current",
ref: null,
props: r(I["default"].defaultProps, {
rank: t,
oldRank: this.state.oldRank,
reachedRank: this.state.reachedRank
}),
_owner: null
},
style: z.rankWrapper
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: t.name,
size: "S",
type: "emphasis"
}),
_owner: null
},
style: z.currentRank
},
_owner: null
}, m ],
style: z.progress
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ i, this.renderSegments(this.state.segments), this.renderSegmentsInfo(this.state.segments), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: z.rankUpAnimationSegmentInner
},
_owner: null
},
style: [ z.rankUpAnimationSegment, g ]
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ z.bgFlare, h ]
},
_owner: null
} ],
style: z.barContainer
},
_owner: null
},
style: {
width: M,
height: x
}
},
_owner: null
}, b ],
style: z.middle
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: I["default"],
key: "next",
ref: null,
props: r(I["default"].defaultProps, {
rank: n,
animateIn: "true",
reachedRank: this.state.reachedRank,
oldRank: this.state.oldRank,
animationCallback: this.updateRanks.bind(this),
parentWidth: M
}),
_owner: null
},
style: z.rankWrapper
},
_owner: null
} ],
style: z.mainContainer
},
_owner: null
};
};
var n = t;
return t = i("_$ProgressBar")(t) || t;
}(f["default"].Component);
t["default"] = W, W.propTypes = {
width: f["default"].PropTypes.number.isRequired,
defaultWidth: f["default"].PropTypes.number
}, W.defaultProps = {
width: 0,
backgroundColor: "#000000AA",
defaultWidth: 0,
goalValue: 0,
initialValue: 0,
segments: []
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return E(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), c = i(p), f = n(2), d = n(7), h = i(d), y = n(13), g = i(y), m = n(6), b = i(m), v = n(564), _ = i(v), S = n(175), w = i(S), T = n(9), C = {
_$ProgressBarSegment: {
displayName: "ProgressBarSegment"
},
_$ProgressBarText: {
displayName: "ProgressBarText"
}
}, E = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/ProgressBarSegment.jsx",
components: C,
locals: [],
imports: []
}), I = 18, P = T.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/ProgressBar-85465d29.wav"), O = T.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Rank_Up-e540360d.wav"), A = f.createStyleSheet({
segmentContainer: {
zOffset: 1,
flex: 0,
width: 0,
height: I
},
segmentBaseColor: {
backgroundColor: "#FF9900",
position: "absolute",
top: 0,
left: 0,
bottom: 0,
right: 0
},
activeOverlay: {
position: "absolute",
top: 9,
left: 9,
right: 9,
bottom: 9,
backgroundColor: "#ff3d00"
},
glowInner: {
position: "absolute",
bottom: -8,
right: 0,
top: -8,
texture: T.bbOfflineUrl("/sparta/assets/tunguska/endofround/bar_glow_inside-0fdf8589.png"),
width: 0
},
glowLeft: {
position: "absolute",
bottom: -15,
left: 0,
right: 0,
top: -15,
texture: T.bbOfflineUrl("/sparta/assets/tunguska/endofround/bar_glow_left-98f1e490.png"),
textureMode: "fill",
blendMode: "screen"
},
glowRight: {
position: "absolute",
bottom: -16,
right: -33,
top: -16,
width: 32,
texture: T.bbOfflineUrl("/sparta/assets/tunguska/endofround/bar_glow_right-82e75fd7.png"),
blendMode: "screen"
},
segmentInfo: {
position: "absolute",
left: 0,
right: 0,
top: 3 * I,
flexDirection: "row",
justifyContent: "center",
alignItems: "center",
zOffset: -1
},
segmentInfoText: {
color: "#FFFFFF",
marginTop: 8,
marginRight: 2 * b["default"].GUTTER
},
segmentInfoValueContainer: {
marginTop: 2,
width: 170,
flexDirection: "row",
alignItems: "flex-end"
},
segmentInfoValueText: {
color: "#FFFFFF"
},
segmentInfoValue: {
color: "#FFFFFF",
marginLeft: 8,
marginRight: 8
}
}), k = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.tweens = {
widthTween: g["default"].tween("0859a962:95", t.skipAnimation ? t.segment.width : 0),
glowTween: g["default"].tween("0859a962:96", 0),
glowWidthTween: g["default"].tween("0859a962:97", 0),
activeOverlayTween: g["default"].tween("0859a962:98", 0),
activeColorOpacity: g["default"].tween("0859a962:99", 0)
}, this.progressSound = f.Sound.load(P), this.progressSound.setVolume(1), this.rankUpSound = f.Sound.load(O), 
this.rankUpSound.setVolume(.6);
}
o(t, e), t.prototype.componentWillMount = function i() {
this.timeouts = [];
}, t.prototype.componentDidMount = function s() {
this._isMounted = !0;
var e = w["default"].segment.baseDelay + w["default"].segment.scale.duration * this.props.index;
this.props.skipAnimation || this.play(e);
}, t.prototype.componentWillReceiveProps = function l(e) {
e.rankInProgress && !this.props.last && this.animateBack(100, 300);
}, t.prototype.componentWillUnmount = function p() {
this.clearTimeouts(), this.progressSound.stop(), this.rankUpSound.stop();
for (var e in this.tweens) this.tweens[e].destroy();
this._isMounted = !1;
}, t.prototype.clearTimeouts = function c() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.play = function d(e) {
var t = this, n = w["default"].segment.scale.duration + e, r = {
duration: w["default"].segment.scale.duration,
delay: e
}, o = {
duration: w["default"].segment.scale.duration / 4,
delay: e + 300
}, a = {
duration: w["default"].segment.scale.duration / 2,
delay: e + 3 * (w["default"].segment.scale.duration / 4)
};
if (this.tweens.widthTween.to(this.props.segment.width, r), this.setTimeout(function() {
t.progressSound.play();
}, e - 500), this.props.last && this.props.rankCallback && (this.setTimeout(function() {
t._isMounted && t.props.rankCallback();
}, n), this.setTimeout(function() {
t.rankUpSound.play();
}, n - 500)), this.props.last && this.props.rankCallback) {
var i = n + 500;
this.animateBackWithGlow(i);
}
this.tweens.glowTween.to(.7, o), this.tweens.glowTween.to(0, a), this.tweens.glowWidthTween.to(Math.min(this.props.segment.width, 284), r);
}, t.prototype.animateBackWithGlow = function h(e) {
var t = e, n = 400, r = {
duration: n,
delay: t
};
this.tweens.activeOverlayTween.to(1, {
duration: 10
}), this.tweens.widthTween.to(0, r), this.tweens.activeOverlayTween.to(0, {
duration: 10,
delay: e - 1e3
});
}, t.prototype.animateBack = function y(e, t) {
var n = {
duration: e,
delay: t
};
this.tweens.widthTween.to(0, n);
}, t.prototype.render = function m() {
var e = {
opacity: this.tweens.glowTween.getStyle()
}, t = {
opacity: this.tweens.glowTween.getStyle(),
width: this.tweens.glowWidthTween.getStyle()
}, n = {
opacity: this.tweens.activeOverlayTween.getStyle()
}, r = {
width: this.tweens.widthTween.getStyle(),
marginRight: this.props.last ? 0 : 1
};
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: A.segmentBaseColor
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ A.activeOverlay, n ]
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ A.glowInner, t ]
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ A.glowLeft, e ]
},
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: [ A.glowRight, e ]
},
_owner: null
} ],
style: [ this.props.style, A.segmentContainer, r ]
},
_owner: null
};
};
var n = t;
return t = a("_$ProgressBarSegment")(t) || t;
}(c["default"].Component);
t.ProgressBarSegment = k;
var R = function(t) {
function n(e) {
r(this, i), t.call(this, e), this.tweens = {
containerOpacityTween: g["default"].tween("0859a962:254", 1),
containerTranslateTween: g["default"].tween("0859a962:255", 0, {
easing: "CubicIn"
}),
textTranslateTween: g["default"].tween("0859a962:256", 64, {
easing: "CubicOut"
}),
textOpacityTween: g["default"].tween("0859a962:257", 0),
valueTranslateTween: g["default"].tween("0859a962:258", 64, {
easing: "CubicOut"
}),
valueOpacityTween: g["default"].tween("0859a962:259", 0)
};
}
o(n, t), n.prototype.componentDidMount = function s() {
var e = w["default"].segment.baseDelay + w["default"].segment.scale.duration * this.props.index;
this.props.skipAnimation || this.play(e);
}, n.prototype.componentWillUnmount = function l() {
for (var e in this.tweens) this.tweens[e].destroy();
}, n.prototype.play = function p(e) {
var t = {
duration: 1e3,
delay: e + 500
}, n = {
duration: 1e3,
delay: e + 750
}, r = {
duration: 500,
delay: w["default"].segment.scale.duration + e
};
this.tweens.containerTranslateTween.to(-64, r), this.tweens.containerOpacityTween.to(0, r), 
this.tweens.textOpacityTween.to(1, t), this.tweens.textTranslateTween.to(0, t), 
this.tweens.valueOpacityTween.to(1, n), this.tweens.valueTranslateTween.to(0, n);
}, n.prototype.render = function c() {
var t = this.props.segment.name.toUpperCase(), n = {
opacity: this.tweens.containerOpacityTween.getStyle(),
translateY: this.tweens.containerTranslateTween.getStyle()
}, r = {
opacity: this.tweens.textOpacityTween.getStyle(),
translateY: this.tweens.textTranslateTween.getStyle()
}, o = {
opacity: this.tweens.valueOpacityTween.getStyle(),
translateY: this.tweens.valueTranslateTween.getStyle()
}, a = w["default"].segment.baseDelay + w["default"].segment.scale.duration * this.props.index;
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: h["default"],
key: null,
ref: null,
props: e(h["default"].defaultProps, {
value: t,
size: "S",
type: "emphasis",
style: [ A.segmentInfoText, r ]
}),
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: h["default"],
key: null,
ref: null,
props: e(h["default"].defaultProps, {
value: "+",
size: "M",
style: A.segmentInfoValueText
}),
_owner: null
}, {
$$typeof: u,
type: _["default"],
key: null,
ref: null,
props: e(_["default"].defaultProps, {
countTo: this.props.segment.value,
duration: 1e3,
size: "M",
type: "emphasis",
delay: a + 1e3,
style: A.segmentInfoValue
}),
_owner: null
}, {
$$typeof: u,
type: h["default"],
key: null,
ref: null,
props: e(h["default"].defaultProps, {
value: __("ID_SPARTA_GENERIC_XP"),
size: "M",
style: A.segmentInfoValueText
}),
_owner: null
} ],
style: [ A.segmentInfoValueContainer, o ]
},
_owner: null
} ],
style: [ A.segmentInfo, n ]
},
_owner: null
};
};
var i = n;
return n = a("_$ProgressBarText")(n) || n;
}(c["default"].Component);
t.ProgressBarText = R;
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return E(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(2), y = n(13), g = s(y), m = n(6), b = s(m), v = n(175), _ = s(v), S = n(7), w = s(S), T = n(9), C = {
_$RankImageContainer: {
displayName: "RankImageContainer"
}
}, E = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/RankImageContainer.jsx",
components: C,
locals: [],
imports: []
}), I = T.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), P = 1165, O = 853, A = 90, k = 90, R = h.createStyleSheet({
image: {
zOffset: 100,
width: A,
height: k
}
}), x = T.bbOfflineUrl("/sparta/jsclient/builds/assets/blank-69d0497e.png"), M = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.tweens = {
opacity: g["default"].tween("0309f7d3:29", 1),
translateX: g["default"].tween("0309f7d3:30", 0),
flareScale: g["default"].tween("0309f7d3:31", 0),
flareOpacity: g["default"].tween("0309f7d3:32", 0),
scale: g["default"].tween("0309f7d3:33", 1)
};
}
a(t, e), t.prototype.componentDidUpdate = function s() {
var e = this;
if (this.props.rank && this.props.reachedRank && this.props.rank.number === this.props.reachedRank.number) {
var t = -(this.props.parentWidth / 2) - b["default"].window.colSpan(1), n = -this.props.parentWidth - b["default"].window.colSpan(2);
this.animateTo(t).then(function() {
return e.flareAndScaleTo(2);
}).then(function() {
return e.animateAndScaleBack(n);
}).then(function() {
return e.props.animationCallback();
});
} else this.props.rank.number === this.props.oldRank ? this.fadeOutSlow(0) : this.props.rank.number === this.props.oldRank + 1 ? this.fadeInSoft(1) : this.fadeOut(0).then(function() {
return e.resetX();
}).then(function() {
return e.fadeIn(1);
});
}, t.prototype.componentWillUnmount = function l() {
this.tweens.opacity.destroy(), this.tweens.translateX.destroy(), this.tweens.scale.destroy(), 
this.tweens.flareScale.destroy(), this.tweens.flareOpacity.destroy();
}, t.prototype.fadeIn = function u(e) {
var t = this;
return new Promise(function(n) {
t.tweens.opacity.to(e, {
duration: 1e3
}, n);
});
}, t.prototype.fadeOutSlow = function f(e) {
var t = this;
return new Promise(function(n) {
t.tweens.opacity.to(e, {
duration: 500
}, n);
});
}, t.prototype.fadeOut = function d(e) {
var t = this;
return new Promise(function(n) {
t.tweens.opacity.to(e, {
duration: 100
}, n);
});
}, t.prototype.fadeInSoft = function h(e) {
var t = this;
return new Promise(function(n) {
t.tweens.opacity.to(e, {
duration: 1
}, n);
});
}, t.prototype.flareAndScaleTo = function y(e) {
var t = this, n = {
duration: _["default"].rankImage.move.duration,
easing: "CubicInOut",
delay: _["default"].rankImage.move.delay
}, r = {
duration: _["default"].rankImage.move.duration,
easing: "CubicInOut"
};
return new Promise(function(o) {
t.tweens.flareScale.to(3, n), t.tweens.flareOpacity.to(1, r), t.tweens.flareOpacity.to(0, {
duration: _["default"].rankImage.move.duration,
delay: 350
}), t.tweens.scale.to(e, n, o);
});
}, t.prototype.resetX = function m() {
var e = this;
return new Promise(function(t) {
e.tweens.translateX.to(0, {
duration: 1
}, t);
});
}, t.prototype.animateTo = function v(e) {
var t = this, n = {
duration: _["default"].rankImage.move.duration,
easing: "CubicInOut"
};
return new Promise(function(r) {
t.tweens.translateX.to(e, n, r);
});
}, t.prototype.animateAndScaleBack = function S(e) {
var t = this, n = {
duration: _["default"].rankImage.scale.out.duration,
easing: "CubicInOut",
delay: _["default"].rankImage.scale.out.delay
};
return new Promise(function(r) {
t.tweens.scale.to(1, n), t.tweens.translateX.to(e, n, r);
});
}, t.prototype.render = function T() {
var e = {
zOffset: 1,
enableMouseEvents: !1,
position: "absolute",
rotateZ: -20,
height: P / 2,
width: O / 1.5,
left: 0,
top: 0,
translateX: -O / 3,
translateY: -P / 4.5,
scaleY: this.tweens.flareScale.getStyle(),
texture: I,
opacity: this.tweens.flareOpacity.getStyle()
}, t = this.props.rank.imageUrl || x, n = c({}, R.image, {
texture: t
}), o = {
marginBottom: -k / 2,
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
height: k,
width: A,
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle(),
zOffset: 1e3,
opacity: this.tweens.opacity.getStyle(),
translateX: this.tweens.translateX.getStyle()
}, a = this.props.rank.number || 0, i = a.toString();
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: n
},
_owner: null
}, {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
value: i,
size: "S",
type: "emphasis"
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: e
},
_owner: null
} ],
style: o
},
_owner: null
};
};
var n = t;
return t = i("_$RankImageContainer")(t) || t;
}(d["default"].Component);
t["default"] = M, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return k(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(2), h = n(7), y = s(h), g = n(6), m = s(g), b = n(13), v = s(b), _ = n(18), S = s(_), w = n(31), T = n(4), C = s(T), E = n(74), I = n(776), P = s(I), O = n(9), A = {
_$ScoreBoardTeam: {
displayName: "ScoreBoardTeam"
}
}, k = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/ScoreBoardTeam.jsx",
components: A,
locals: [],
imports: []
}), R = SpartaGlobals.bundleIsPC ? m["default"].window.rowSpan(35) : m["default"].window.rowSpan(15), x = S["default"].content.height - R, M = {
listBorder: {
position: "absolute",
width: 2,
left: -2,
top: 0,
bottom: 2,
zOffset: 1,
backgroundColor: "#efefef"
},
textStyle: {
zOffset: 1,
textAlign: "center",
textAlignForRTL: "center"
},
info: {
flex: 1,
flexDirection: "row"
},
teamLeft: {
paddingRight: 2 * m["default"].window.gutterWidth,
flex: 1
},
teamRight: {
paddingLeft: 2 * m["default"].window.gutterWidth,
flex: 1
},
flagTeam: {
flex: 0,
width: 4 * m["default"].GUTTER,
height: 4 * m["default"].GUTTER,
marginRight: 2 * m["default"].GUTTER
},
flagAttacker: {
texture: O.bbUrl("/sparta/assets/tunguska/endofround/placeholders/Austro-d589449b.png")
},
flagDefender: {
texture: O.bbUrl("/sparta/assets/tunguska/endofround/placeholders/Ottoman-6d0b8a14.png")
},
header: {
flexDirection: "row",
paddingRight: m["default"].GUTTER,
marginBottom: m["default"].window.rowSpan(2)
},
headerStats: {
marginTop: m["default"].GUTTER / 2,
textAlign: "right"
},
stat: {
kills: {
flex: 0,
width: m["default"].window.colSpan(1)
},
deaths: {
flex: 0,
width: m["default"].window.colSpan(1)
},
score: {
flex: 0,
width: 1.5 * m["default"].window.colSpan(2)
}
}
}, N = 1e3, $ = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
description: ""
}, this.tweens = {
headerOpacity: v["default"].tween("bedaa4c2:102", t.skipAnimation ? 1 : 0),
headerTransX: v["default"].tween("bedaa4c2:103", t.skipAnimation ? 0 : 10),
headerTransY: v["default"].tween("bedaa4c2:104", t.skipAnimation ? 0 : 15),
containerTranslateX: v["default"].tween("bedaa4c2:105", t.skipAnimation ? 0 : 400),
containerOpacity: v["default"].tween("bedaa4c2:106", t.skipAnimation ? 1 : 0),
borderOpacity: v["default"].tween("bedaa4c2:107", t.skipAnimation ? 1 : 0)
}, this.flagAnimation = {
initialState: t.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
opacity: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
}
},
options: C["default"].extend({}, v["default"].defaultTweenOptions, {
easing: "CubicOut",
duration: N / 2
})
};
}
a(t, e), t.prototype.componentDidMount = function s() {
var e = 100, t = e * this.props.index;
this.props.skipAnimation || this.play(t);
}, t.prototype.componentWillUnmount = function l() {
this.tweens.headerOpacity.destroy(), this.tweens.headerTransX.destroy(), this.tweens.headerTransY.destroy(), 
this.tweens.containerTranslateX.destroy(), this.tweens.borderOpacity.destroy();
}, t.prototype.play = function u(e) {
this.refs.flag.play(e), this.tweens.containerOpacity.to(1, {
delay: e,
duration: N
}), this.tweens.containerTranslateX.to(0, {
delay: e,
duration: 500
}), this.tweens.headerOpacity.to(1, {
delay: e,
duration: N
}), this.tweens.headerTransX.to(0, {
delay: e,
duration: N / 2
}), this.tweens.headerTransY.to(0, {
delay: e,
duration: N / 2
}), this.tweens.borderOpacity.to(1, {
delay: e + 300,
duration: 800
});
}, t.prototype.isSameSquad = function c(e, t) {
return e.squadId && 0 !== e.squadId ? e.teamId === t.teamId && e.squadId === t.squadId : !1;
}, t.prototype.renderTeamHeader = function h(e, t, n) {
var o = t;
o = null;
var a = {
translateX: this.tweens.headerTransX.getStyle(),
translateY: this.tweens.headerTransY.getStyle(),
opacity: this.tweens.headerOpacity.getStyle()
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ f["default"].createElement(d.AnimatedSurface, {
ref: "flag",
animation: this.flagAnimation,
style: [ M.flagTeam, n ]
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: e,
type: "emphasis",
size: "M"
}),
_owner: null
}, o ],
style: [ M.info, a ]
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD_K"),
type: "emphasis",
size: "S",
style: M.headerStats
}),
_owner: null
},
style: [ M.stat.kills, a ]
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD_D"),
type: "emphasis",
size: "S",
style: M.headerStats
}),
_owner: null
},
style: [ M.stat.deaths, a ]
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD_SCORE"),
type: "emphasis",
size: "S",
style: M.headerStats
}),
_owner: null
},
style: [ M.stat.score, a ]
},
_owner: null
} ],
style: M.header
},
_owner: null
};
}, t.prototype.renderTeamPlayer = function g(e, t, n, o) {
var a = n.personaId === e.personaId, i = t + 1 + "", s = this.isSameSquad(n, e), l = e.didFinish, u = o > 0 ? E.scoreboardTeamRightGroup : E.scoreboardTeamLeftGroup;
return l ? {
$$typeof: p,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
index: t,
player: e,
isMe: a,
sameSquad: s,
focusGroup: u,
placeNumber: i
}),
_owner: null
} : null;
}, t.prototype.render = function b() {
var e = this, t = this.props, n = t.me, r = t.left, o = t.team, a = o.faction, i = o.players, s = a.name.toUpperCase(), l = null, u = o.faction.imageUrl && "" !== o.faction.imageUrl ? {
texture: o.faction.imageUrl
} : null, c = r ? M.teamLeft : M.teamRight, d = i.filter(function(e) {
return e.didFinish;
}).map(function(t, r) {
return e.renderTeamPlayer(t, r, n, e.props.index);
}), h = {
marginLeft: 2,
translateX: this.tweens.containerTranslateX.getStyle(),
opacity: this.tweens.containerOpacity.getStyle(),
height: x
};
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderTeamHeader(s, l, u), f["default"].createElement(w.Scroller, {
style: h,
ref: "teamList",
controller: !1,
tween: !1,
softClip: [ 0, m["default"].window.rowSpan(1), 0, m["default"].window.rowSpan(3) ]
}, d, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ M.listBorder, {
opacity: this.tweens.borderOpacity.getStyle()
} ]
},
_owner: null
}) ],
style: c
},
_owner: null
};
};
var n = t;
return t = i("_$ScoreBoardTeam")(t) || t;
}(f["default"].Component);
t["default"] = $, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(25), h = s(d), y = n(7), g = s(y), m = n(18), b = s(m), v = n(6), _ = s(v), S = n(23), w = s(S), T = n(78), C = n(338), E = n(8), I = n(192), P = n(344), O = {
_$ScoreboardPlayerPopup: {
displayName: "ScoreboardPlayerPopup"
}
}, A = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/ScoreboardPlayerPopup.jsx",
components: O,
locals: [],
imports: []
}), k = 256, R = {
container: {
width: b["default"].safeZone.width,
height: .75 * b["default"].safeZone.height,
marginBottom: _["default"].getHeight(5),
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
content: {
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
title: {
marginBottom: 2 * _["default"].GUTTER
},
description: {
marginBottom: 4 * _["default"].GUTTER
},
playerImage: {
width: k,
height: k,
marginBottom: 2 * _["default"].GUTTER
},
button: {
width: _["default"].getWidth(2.5),
margin: [ _["default"].GUTTER, _["default"].GUTTER, 0, _["default"].GUTTER ]
},
reportControls: {
flexDirection: "row",
justifyContent: "center"
}
}, x = function(e) {
function t(t) {
o(this, n), e.call(this, t), I.emblemState.personaEmblems.has(t.player.personaId) || C.requestEmblemForPersona(t.player.personaId);
}
a(t, e), t.prototype.closePopup = function s() {
h["default"].close(this.props.popupInfo.id);
}, t.prototype.reportEmblem = function l(e) {
C.reportEquippedEmblem(e.personaId), T.tunguskaEndOfRoundStore.reportPlayer(e.personaId), 
this.closePopup();
}, t.prototype.render = function u() {
var e = this, t = __("ID_SPARTA_EOR_REPORT_EMBLEM"), n = this.props.player, o = null, a = null, i = null, s = "", l = I.emblemState.getEmblemForPersona(n.personaId);
if (l) if (l.url) {
var u = {
texture: P.imageUrlFromTemplate(l.url, k, "png")
};
i = __("ID_SPARTA_EOR_REPORT_EMBLEM_POPUP_MESSAGE"), s = __("ID_SPARTA_ACTION_CANCEL"), 
o = {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ R.playerImage, u ]
},
_owner: null
}, a = {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
text: __("ID_SPARTA_EOR_REPORT_EMBLEM_POPUP_CONFIRM"),
action: function() {
return e.reportEmblem(n);
},
style: R.button
}),
_owner: null
};
} else i = __("ID_SPARTA_EOR_REPORT_EMBLEM_POPUP_MESSAGE_NOT_FOUND"), s = __("ID_SPARTA_ACTION_OK"); else i = __("ID_SPARTA_START_LOADING"), 
s = __("ID_SPARTA_ACTION_CANCEL");
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
value: t.toUpperCase(),
type: "emphasis",
size: "L",
style: R.title
}),
_owner: null
}, o, {
$$typeof: p,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
value: i,
type: "emphasis",
size: "S",
style: R.description
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
text: s,
action: function() {
return e.closePopup();
},
style: R.button
}),
_owner: null
} ],
style: R.reportControls
},
_owner: null
} ],
style: R.container
},
_owner: null
};
};
var n = t;
return t = i("_$ScoreboardPlayerPopup")(t) || t, t = E.observer(t) || t;
}(f["default"].Component);
t["default"] = x, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return H(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = s(d), y = n(2), g = n(10), m = n(7), b = s(m), v = n(6), _ = s(v), S = n(47), w = s(S), T = n(14), C = s(T), E = n(12), I = s(E), P = n(78), O = n(20), A = s(O), k = n(9), R = n(8), x = n(351), M = n(559), N = n(60), $ = n(297), D = n(25), U = s(D), L = n(775), F = s(L), G = n(91), j = s(G), B = {
_$ScoreboardRow: {
displayName: "ScoreboardRow"
}
}, H = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/ScoreboardRow.jsx",
components: B,
locals: [],
imports: []
}), V = n(38), z = _["default"].window.rowSpan(3), W = y.createStyleSheet({
info: {
flex: 1,
height: z,
flexDirection: "row",
alignItems: "center"
},
stat: {
kills: {
zOffset: 1,
width: _["default"].window.colSpan(1),
textAlign: "right"
},
deaths: {
zOffset: 1,
width: _["default"].window.colSpan(1),
textAlign: "right"
},
score: {
zOffset: 1,
width: 1.5 * _["default"].window.colSpan(2),
textAlign: "right"
}
},
focusedText: {
color: "#000000"
},
squadTextStyle: {
color: "#84b34d"
},
textStyle: {
zOffset: 1,
textAlign: "center",
textAlignForRTL: "center"
},
playerStyle: {
flex: 1,
textAlign: "left",
alignSelf: "flex-start"
},
rankContainer: {
zOffset: 1,
width: 4 * _["default"].GUTTER,
marginRight: 2 * _["default"].GUTTER,
marginLeft: -1,
alignSelf: "center",
justifyContent: "center",
height: _["default"].window.rowSpan(2),
marginTop: SpartaGlobals.bundleIsPC ? 0 : -2,
texture: k.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ]
},
rankContainerFocused: {
texture: k.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-inv-83f715ff.png")
},
rankTextStyle: {
marginTop: 0,
fontSize: SpartaGlobals.bundleIsPC ? 8 : 10,
alignSelf: "center"
},
playerRow: {
localBounds: !1,
backgroundColor: "#00000033",
borderRadius: [ 0, 6, 6, 0 ],
paddingTop: SpartaGlobals.bundleIsPC ? 0 : 2,
zOffset: 4,
flex: 1,
paddingRight: _["default"].GUTTER,
flexDirection: "row",
marginBottom: 2
},
placing: {
zOffset: 1,
width: 4 * _["default"].GUTTER,
height: z,
margin: [ 0, _["default"].GUTTER, 0, 2 * _["default"].GUTTER ]
},
myBackgroundStyle: {
backgroundColor: "#ff9900"
},
squadBackgroundStyle: {
backgroundColor: "#4b9b2d90"
},
focusedBackgroundStyle: {
position: "absolute",
borderRadius: [ 0, 6, 6, 0 ],
top: 0,
left: 0,
right: 0,
bottom: 0,
backgroundColor: "#efefef"
},
selectedBackgroundStyle: {
opacity: .7
},
border: {
position: "absolute",
backgroundColor: "#efefef66"
},
borderBlack: {
position: "absolute",
backgroundColor: "#000000"
},
contextMenuContainer: {
position: "absolute",
right: 0,
top: 0,
width: _["default"].window.colSpan(1),
height: z,
backgroundColor: "#000000"
},
contextMenuButton: {
height: z
},
extraContent: {
flex: 1,
flexDirection: "row",
padding: [ _["default"].GUTTER, 0, 2 * _["default"].GUTTER, 2 * _["default"].GUTTER ]
}
}), q = y.createStyleSheet({
pcButton: {
alignItems: "center",
justifyContent: "center",
margin: [ 0, _["default"].GUTTER / 2, 0, _["default"].GUTTER / 2 ],
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000090",
padding: [ 2, 3 * _["default"].GUTTER, 2, 3 * _["default"].GUTTER ],
height: z
},
pcButtonHovered: {
backgroundColor: "#ffffff25"
},
pcButtonInverted: {
backgroundColor: "#00000011"
},
pcButtonInvertedHovered: {
backgroundColor: "#00000033"
},
pcButtonBorder: {
zOffset: 1,
position: "absolute",
right: 0,
bottom: 0,
left: 0,
height: 2,
backgroundColor: "#ffffff",
opacity: .8
},
pcButtonInvertedBorder: {},
pcButtonBorderLarge: {
height: 4
},
label: {
color: "#ffffff",
zOffset: 2
},
labelInverted: {
color: [ 0, 0, 0, 200 ]
},
labelContainer: {
alignItems: "center",
justifyContent: "center",
margin: [ 0, _["default"].GUTTER / 2, 0, _["default"].GUTTER / 2 ],
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000090",
padding: [ 2, 3 * _["default"].GUTTER, 2, 3 * _["default"].GUTTER ],
height: z,
zOffset: 1
}
}), K = R.observer(function(e) {
var t = M.voipState.getPlayer(e.onlineId), n = t ? t.status : x.SpeakingStatus.Silent, r = e.isFocused, o = e.isMe, a = null;
switch (n) {
case x.SpeakingStatus.Muted:
a = {
focused: k.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-mute-black-4602cdf1.png"),
normal: k.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-mute-white-baad1aee.png")
};
break;

case x.SpeakingStatus.Disabled:
a = {
focused: k.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-inactive-black-a46cd94b.png"),
normal: k.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-inactive-white-5e90a58e.png")
};
break;

case x.SpeakingStatus.Speaking:
a = {
focused: k.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-active-black-72954071.png"),
normal: k.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-active-white-57fbdf87.png")
};
break;

case x.SpeakingStatus.Silent:
a = e.sameSquad ? {
focused: k.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-inactive-black-a46cd94b.png"),
normal: k.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-inactive-white-5e90a58e.png")
} : null;
break;

default:
a = null;
}
if (a) {
var i = SpartaGlobals.bundleIsPC ? 0 : -1, s = {
texture: r || o ? a.focused : a.normal,
width: 17,
height: 18,
position: "absolute",
right: 0,
top: (e.rowHeight - 18) / 2 + i
};
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: s
},
_owner: null
};
}
return null;
}), X = g.observable({
id: null
}), Y = g.action(function(e) {
X.id = e;
}), J = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
contextMenuOpen: !1
}, this.focusItem = y.focus.create(this, "scoreboard_row_" + t.player.personaId), 
0 === t.index && (this.focusItem.autoFocusCandidate = !0), t.focusGroup && t.focusGroup.addMember(this.focusItem, t.index);
}
a(t, e), t.prototype.renderDisplayName = function s(e, t, n) {
var o = (e.platoon ? e.platoon + " " : "") + e.name, a = {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: o,
type: "emphasis",
size: "S",
style: n
}),
_owner: null
};
return o.length > 12 ? {
$$typeof: f,
type: N.Marquee,
key: null,
ref: null,
props: r(N.Marquee.defaultProps, {
children: a,
scroll: t,
style: {
maxWidth: _["default"].window.colSpan(5) - $.ELLIPSIS_OFFSET.M
},
showEllipsis: !0
}),
_owner: null
} : a;
}, t.prototype.getTextStyle = function l(e, t) {
return e || t ? W.focusedText : null;
}, t.prototype.getBackgroundStyle = function u(e) {
return e ? W.myBackgroundStyle : this.props.sameSquad ? W.squadBackgroundStyle : null;
}, t.prototype.getPlayerInputs = function d(e) {
var t = this, n = [];
return n.push(new C["default"]({
action: function o() {
return t.viewPlayerCard(e);
},
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_VIEW_PROFILE"),
key: I["default"].Accept
})), P.tunguskaEndOfRoundStore.isReported(e.personaId) || n.push(new C["default"]({
action: function a() {
U["default"].display(new w["default"]({
content: {
$$typeof: f,
type: F["default"],
key: null,
ref: null,
props: r(F["default"].defaultProps, {
player: e
}),
_owner: null
},
id: "scoreboardplayerpopup",
group: "scoreboardplayergroup",
stackable: !0,
leftAlignInputs: !0,
createButtons: !1,
inputs: [ new C["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: I["default"].Decline
}) ]
}));
},
label: __("ID_SPARTA_EOR_REPORT_EMBLEM"),
key: I["default"].Option1
})), n;
}, t.prototype.getInput = function m() {
return y.focus.system.controllerMode && this.focusItem.isFocused ? this.getPlayerInputs(this.props.player) : null;
}, t.prototype.viewPlayerCard = function v(e) {
e && e.platformId && V.showUserProfile(this.props.player.platformId);
}, t.prototype.renderExpandedContent = function S(e) {
var t = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: q.pcButtonBorder
},
_owner: null
};
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: this.getPlayerInputs(e).map(function(e, n) {
return {
$$typeof: f,
type: j["default"],
key: n,
ref: null,
props: r(j["default"].defaultProps, {
height: z / 2,
label: e.label,
labelDecoration: t,
inputKey: e.key,
action: e.action,
labelType: "normal",
iconSize: z / 2,
styleSheetOverride: q
}),
_owner: null
};
}),
style: W.extraContent
},
_owner: null
};
}, t.prototype.render = function T() {
var e = this, t = this.props.player || {}, n = this.props.isMe, o = t.rank || 0, a = o.toString(), i = this.props.sameSquad, s = "" === t.name ? t.personaId : t.name, l = this.focusItem.isFocused || this.isSelected, u = l && {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: [ W.focusedBackgroundStyle, this.isSelected ? W.selectedBackgroundStyle : {} ]
},
_owner: null
}, c = this.getTextStyle(l, n), d = l || n ? W.rankContainerFocused : {}, y = i && {
$$typeof: f,
type: K,
key: null,
ref: null,
props: r(K.defaultProps, {
onlineId: s,
rowHeight: z,
sameSquad: i,
isMe: n,
isFocused: l
}),
_owner: null
}, g = h["default"].createElement("surface", p({
style: [ W.playerRow, this.getBackgroundStyle(n) ]
}, this.focusItem.hooks, {
onClick: function() {
return Y(e.isSelected ? null : t.personaId);
}
}), {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: this.props.placeNumber,
type: "emphasis",
size: "S",
style: [ W.placing, c ]
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: a,
size: "XXS",
style: [ W.rankTextStyle, c ]
}),
_owner: null
},
style: [ W.rankContainer, d ]
},
_owner: null
}, this.renderDisplayName(t, l, c), y ],
style: [ W.info ]
},
_owner: null
}, {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: t.kills + "",
type: "emphasis",
size: "S",
style: [ W.stat.kills, c ]
}),
_owner: null
}, {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: t.deaths + "",
type: "emphasis",
size: "S",
style: [ W.stat.deaths, c ]
}),
_owner: null
}, {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: t.score + "",
type: "emphasis",
size: "S",
style: [ W.stat.score, c ]
}),
_owner: null
}, u);
if (SpartaGlobals.bundleIsPC) {
var m = this.isSelected && this.renderExpandedContent(t);
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ g, m ],
style: {
flexDirection: "column",
flex: 1
}
},
_owner: null
};
}
return g;
}, c(t, [ {
key: "isSelected",
decorators: [ g.computed ],
get: function E() {
return this.props.player && this.props.player.personaId === X.id;
}
} ]);
var n = t;
return t = i("_$ScoreboardRow")(t) || t, t = R.observer(t) || t, t = A["default"]()(t) || t;
}(h["default"].Component);
t["default"] = J, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return x(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(4), h = s(d), y = n(2), g = n(103), m = s(g), b = n(7), v = s(b), _ = n(6), S = s(_), w = n(59), T = s(w), C = n(14), E = s(C), I = n(12), P = s(I), O = n(13), A = s(O), k = n(9), R = {
_$SquadHighlight: {
displayName: "SquadHighlight"
}
}, x = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/components/eor/SquadHighlight.jsx",
components: R,
locals: [],
imports: []
}), M = n(38), N = SpartaGlobals.bundleIsPC ? 110 : 100, $ = N / 3, D = SpartaGlobals.bundleIsPC ? "M" : "S", U = SpartaGlobals.bundleIsPC ? "S" : "XS", L = [ k.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Squad_Tick_01-72b0cbbd.wav"), k.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Squad_Tick_02-81eed331.wav"), k.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Squad_Tick_03-41ad7dc9.wav"), k.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Squad_Tick_04-cc1a5a2c.wav"), k.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Squad_Tick_05-9d299db1.wav") ], F = {
highlightWrapper: {
flexDirection: "column",
alignItems: "center",
justifyContent: "center"
},
value: {
marginTop: S["default"].window.rowSpan(1),
alignSelf: "center"
},
focused: {
position: "absolute",
left: -4,
top: 0,
bottom: 0,
width: 2,
backgroundColor: "#ffffff"
},
wrapper: {
flexDirection: "row",
marginTop: S["default"].GUTTER
},
info: {
height: N,
justifyContent: "center"
},
recognitionText: {
color: "#ffffff",
opacity: .66
},
rankIcon: {
width: $,
height: $,
margin: [ 0, 2 * S["default"].GUTTER, 0, 2 * S["default"].GUTTER ],
backgroundColor: "#ffffff77",
alignSelf: "center"
},
rankWrapper: {
height: N,
justifyContent: "center",
alignItems: "center"
}
}, G = function(e) {
function t(t) {
o(this, n), e.call(this, t);
var r = this.props.delay && this.props.delay < L.length ? this.props.delay : 0, a = L[r];
this.tickSound = y.Sound.load(a), this.squadHighlightAnimation = {
initialState: this.props.skipAnimation ? "to" : "from",
values: {
translateX: {
from: 500,
to: 0
},
opacity: {
from: 0,
to: 1
}
},
options: h["default"].extend({}, A["default"].defaultTweenOptions, {
easing: "CubicInOut",
duration: 500
})
};
}
a(t, e), t.prototype.componentWillMount = function s() {
this.timeouts = [];
}, t.prototype.componentDidMount = function l() {
this.props.skipAnimation || this.play(100 * this.props.delay);
}, t.prototype.componentWillUnmount = function u() {
this.clearTimeouts();
}, t.prototype.getPlayerRecognitiontext = function c(e) {
var t = e.unitValue, n = e.name.toUpperCase(), o = "";
return "" !== e.personaId && e.unitValue > 0 && (o = n + ": " + t), {
$$typeof: p,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: o,
style: F.recognitionText,
size: U
}),
_owner: null
};
}, t.prototype.clearTimeouts = function d() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.play = function g(e) {
var t = this;
this.refs.animation.play(e), this.setTimeout(function() {
t.tickSound.play();
}, e + 100);
}, t.prototype.showPlayerCard = function b(e) {
e.platformId && M.showUserProfile(e.platformId);
}, t.prototype.render = function _() {
var e = this.focusItem.isFocused, t = this.props.highlight, n = t.player || {}, o = n.rank + "", a = n.name, i = e && y.focus.system.controllerMode ? {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: F.focused
},
_owner: null
} : null, s = new E["default"]({
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_VIEW_PROFILE"),
action: this.showPlayerCard.bind(this, this.props.highlight.player),
key: P["default"].Accept
});
return f["default"].createElement(y.AnimatedSurface, {
ref: "animation",
animation: this.squadHighlightAnimation,
style: F.wrapper
}, {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
children: [ {
$$typeof: p,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
size: N,
user: n,
style: F.avatar
}),
_owner: null
}, i ],
input: s,
scale: !0,
triggerMode: "after",
focusItem: this.focusItem
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ F.rankIcon, this.props.rankImageStyle ]
},
_owner: null
}, {
$$typeof: p,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: o,
type: "emphasis",
size: "XS"
}),
_owner: null
} ],
style: F.rankWrapper
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: a,
type: "emphasis",
size: D
}),
_owner: null
}, this.getPlayerRecognitiontext(t) ],
style: F.info
},
_owner: null
});
};
var n = t;
return t = i("_$SquadHighlight")(t) || t, t = y.focusable("e28a6f6e:79")(t) || t;
}(f["default"].Component);
t["default"] = G, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return W(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(16), y = s(h), g = n(149), m = s(g), b = n(6), v = s(b), _ = n(18), S = s(_), w = n(7), T = s(w), C = n(25), E = s(C), I = n(445), P = s(I), O = n(447), A = s(O), k = n(54), R = n(147), x = s(R), M = n(102), N = s(M), $ = n(443), D = s($), U = n(435), L = s(U), F = n(436), G = s(F), j = n(441), B = s(j), H = n(101), V = n(32), z = {
_$Battlepacks: {
displayName: "Battlepacks"
}
}, W = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/Battlepacks.jsx",
components: z,
locals: [],
imports: []
}), q = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
tabIndex: 0,
previousTabIndex: 0
};
}
a(t, e), t.prototype.componentWillMount = function s() {
k.initialFetch.trigger();
}, t.prototype.componentWillUnmount = function l() {
E["default"].closeGroup("battlepack");
}, t.prototype.getTabs = function u() {
var e = this.state.balance && this.state.balance.battlepacks || "0";
return [ {
component: D["default"],
props: {
centerCarousel: !0
},
id: "unopened",
title: function t() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_UNOPENED") + "(" + e + ")";
}
}, {
component: L["default"],
id: "get",
title: function n() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_GET");
}
}, {
component: B["default"],
id: "puzzles",
title: function r() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_PUZZLES");
}
}, {
component: G["default"],
id: "inventory",
title: function o() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_INVENTORY");
}
} ];
}, t.prototype.prevTab = function f() {
this.goToTab(this.state.tabIndex - 1);
}, t.prototype.goToTab = function h(e) {
var t = this.getTabs();
e > t.length - 1 ? e = 0 : 0 > e && (e = t.length - 1), this.setState({
tabIndex: e,
previousTabIndex: this.state.tabIndex
});
}, t.prototype.nextTab = function g() {
this.goToTab(this.state.tabIndex + 1);
}, t.prototype.renderTab = function b(e) {
return d["default"].createElement(e.component, c({
key: e.title
}, e.props));
}, t.prototype.renderContent = function _(e) {
var t = S["default"].content.width, n = this.state.tabIndex > this.state.previousTabIndex, o = [ {
propertyName: "translateX",
fromValue: n ? t : -t,
toValue: 0
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1
} ], a = [ {
propertyName: "translateX",
fromValue: 0,
toValue: n ? -t : t
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0
} ], i = {
flex: 1,
marginTop: this.props.topGutter ? v["default"].GUTTER : 0,
alignItems: "center"
};
return {
$$typeof: p,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
children: this.renderTab(e),
inTweens: o,
outTweens: a,
playInOnMount: !1,
transitionId: e.id,
style: i
}),
_owner: null
};
}, t.prototype.render = function w() {
var e = void 0, t = void 0, n = this.getTabs()[this.state.tabIndex], o = null, a = null, i = this.state.balance && this.state.balance.scraps;
if ("undefined" != typeof i) {
var s = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS").toUpperCase();
a = {
$$typeof: p,
type: H.TunguskaBattlepackScraps,
key: null,
ref: null,
props: r(H.TunguskaBattlepackScraps.defaultProps, {
prefix: s,
value: i,
size: "M",
animated: !0
}),
_owner: null
};
}
var l = c({}, this.props, {
header: {
left: o,
middle: {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
style: V.localeLetterSpacing({
textLetterSpacing: 9
}),
size: "XXL",
value: __("ID_SPARTA_MENU_TITLE_BATTLEPACKS").toUpperCase()
}),
_owner: null
},
right: a
}
});
return e = this.renderContent(n), t = {
$$typeof: p,
type: A["default"],
key: null,
ref: null,
props: r(A["default"].defaultProps, {
active: n,
tabs: this.getTabs(),
title: __("ID_SPARTA_MENU_TITLE_BATTLEPACKS"),
goToTab: this.goToTab.bind(this),
nextTab: this.nextTab.bind(this),
prevTab: this.prevTab.bind(this)
}),
_owner: null
}, d["default"].createElement(P["default"], l, t, e);
};
var n = t;
return t = i("_$Battlepacks")(t) || t, t = y["default"]({
unopened: x["default"],
balance: N["default"]
})(t) || t;
}(d["default"].Component);
t["default"] = q, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return re(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
return e ? [ {
component: F["default"],
id: "highlights",
title: function t() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_HIGHLIGHTS");
}
}, {
component: z["default"],
id: "scoreboard",
title: function n() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD");
}
} ] : [ {
component: F["default"],
id: "highlights",
title: function r() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_HIGHLIGHTS");
}
}, {
component: j["default"],
id: "squad",
title: function o() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD");
}
}, {
component: H["default"],
id: "personal",
title: function a() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL");
}
}, {
component: z["default"],
id: "scoreboard",
title: function i() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD");
}
} ];
}
var u = n(3), p = s(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = s(d), y = n(2), g = n(12), m = s(g), b = n(14), v = s(b), _ = n(174), S = s(_), w = n(58), T = s(w), C = n(770), E = s(C), I = n(149), P = s(I), O = n(18), A = s(O), k = n(6), R = s(k), x = n(46), M = s(x), N = n(91), $ = s(N), D = n(20), U = s(D), L = n(784), F = s(L), G = n(787), j = s(G), B = n(785), H = s(B), V = n(786), z = s(V), W = n(447), q = s(W), K = n(9), X = n(215), Y = s(X), J = n(173), Q = n(32), Z = n(140), ee = n(8), te = n(78), ne = {
_$EndOfRound: {
displayName: "EndOfRound"
}
}, re = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/EndOfRound.jsx",
components: ne,
locals: [],
imports: []
}), oe = K.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), ae = y.createStyleSheet({
labelStyle: {
textLetterSpacing: 1,
margin: [ 12, 4, 8, 4 ]
},
inputStyle: {
margin: [ 60, 0, 0, 0 ]
},
footer: {
right: {
alignItems: "flex-end"
},
left: {
flexDirection: "row",
alignItems: "center"
},
container: {
flexDirection: "row",
alignItems: "center"
},
image: {
height: 60,
width: 120
}
},
title: {
textLetterSpacing: 9,
fontSize: 52,
marginTop: 12
},
spinnerContainer: {
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0,
flexDirection: "row",
justifyContent: "center",
alignItems: "center"
},
preloadFlare: {
position: "absolute",
enableMouseEvents: !1,
width: 1,
height: 1,
top: -1e3,
left: -1e3,
texture: oe
}
}), ie = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.state = {
tabIndex: 0,
previousTabIndex: 0
}, this.mustQuitAfterUpdate = !1;
var a = t.gameState.isSpectator || "spectator" === t.gameState.role;
this.tabs = l(a), this.focusAncestor = y.focus.createAncestor("endofround"), this.focusAncestor.onFocusChildChanged.listen(function() {
r.updateInput();
});
}
a(t, e), t.prototype.componentWillUpdate = function s(e) {
this.props.gameState.isReady !== e.gameState.isReady && e.gameState.isReady && te.tunguskaEndOfRoundStore.quitInProgress && (this.mustQuitAfterUpdate = !0);
}, t.prototype.componentDidUpdate = function u() {
this.mustQuitAfterUpdate && te.tunguskaEndOfRoundStore.isQuitDuringLoadingEnabled && (this.mustQuitAfterUpdate = !1, 
J.toggleQuittingOverlay(!1));
}, t.prototype.componentWillUnmount = function p() {
clearTimeout(this._timer), this.currentVideo && (this.currentVideo.stop(), delete this.currentVideo);
}, t.prototype.getBackgroundState = function d() {
var e = te.tunguskaEndOfRoundStore.data, t = e && e.serverInfo && e.serverInfo.map && e.serverInfo.map.id || te.tunguskaEndOfRoundStore.fallbackMapName, n = {
duration: 1e3
};
return {
hideOverlay: !0,
mapName: t,
isBlurred: !!this.state.eor || te.tunguskaEndOfRoundStore.fallbackMapName,
showMap: !0,
tweenOptions: n
};
}, t.prototype.getInput = function g() {
var e = this;
return te.tunguskaEndOfRoundStore.isQuitDuringLoadingEnabled && Z.operationFlow.state !== Z.OperationState.eor ? [ new v["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_QUIT"),
key: m["default"].Option2,
action: function t() {
return e.quitGame();
}
}) ] : [];
}, t.prototype.prevTab = function b() {
this.goToTab(this.state.tabIndex - 1);
}, t.prototype.goToTab = function _(e) {
e > this.tabs.length - 1 ? e = 0 : 0 > e && (e = this.tabs.length - 1), this.setState({
tabIndex: e,
previousTabIndex: this.state.tabIndex
});
}, t.prototype.nextTab = function w() {
this.goToTab(this.state.tabIndex + 1);
}, t.prototype.goToScoreboard = function C() {
this.setState({
tabIndex: 3,
previousTabIndex: this.state.tabIndex
});
}, t.prototype.goToLoading = function I() {
J.fadeBlack(function() {
M["default"].route("loading");
}, !0);
}, t.prototype.quitGame = function O() {
J.quitWithConfirm(function() {
J.toggleQuittingOverlay(!te.tunguskaEndOfRoundStore.gameReadyToQuit && Z.operationFlow.state !== Z.OperationState.eor);
});
}, t.prototype.renderContent = function k(e) {
return te.tunguskaEndOfRoundStore.data ? h["default"].createElement(e.component, {
key: e.id
}) : null;
}, t.prototype.render = function x() {
var e = this, t = te.tunguskaEndOfRoundStore.data, n = null, o = this.tabs[this.state.tabIndex], a = null, i = null, s = null, l = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: ae.preloadFlare
},
_owner: null
};
if (t && t.serverInfo) {
var u = SpartaGlobals.bundleIsConsole ? "\r\n" : " | ", p = t.serverInfo.mode.name || "", d = t.serverInfo.map.name || "", y = p.replace("1", "").toUpperCase() + u + d.toUpperCase(), g = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_THIS_ROUND");
Q.isRTLLanguage() ? i = {
$$typeof: f,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
image: "",
title: g.toUpperCase(),
description: y,
rightAligned: !0
}),
_owner: null
} : a = {
$$typeof: f,
type: E["default"],
key: null,
ref: null,
props: r(E["default"].defaultProps, {
image: "",
title: g.toUpperCase(),
description: y
}),
_owner: null
};
}
var b = [];
Z.operationFlow.state === Z.OperationState.eor ? b.push(new v["default"]({
label: __("ID_SPARTA_ACTION_QUIT"),
key: m["default"].Start,
action: function N() {
return e.quitGame();
}
})) : te.tunguskaEndOfRoundStore.isLoadingDataEnabled && !te.tunguskaEndOfRoundStore.loadingScreenReady || te.tunguskaEndOfRoundStore.quitInProgress || b.push(new v["default"]({
label: __("ID_SPARTA_ACTION_CONTINUE").toLocaleUpperCase(),
key: m["default"].Start,
blockInputFor: J.fadeOptions.totalSlowDuration,
action: function D() {
return e.goToLoading();
}
}));
var _ = c({}, this.props, {
fadeInBlack: !0,
nextRoundCountDown: {
autoDismiss: !0
},
backgroundState: this.getBackgroundState(),
rightButtons: b,
header: {
left: a,
middle: {
$$typeof: f,
type: Y["default"],
key: null,
ref: null,
props: r(Y["default"].defaultProps, {
text: __("ID_SPARTA_GAMESTATE_END_OF_ROUND").toLocaleUpperCase()
}),
_owner: null
},
right: i
}
});
t ? (s = this.renderContent(o), n = {
$$typeof: f,
type: q["default"],
key: null,
ref: null,
props: r(q["default"].defaultProps, {
active: o,
tabs: this.tabs,
title: __("ID_SPARTA_GAMESTATE_END_OF_ROUND").toLocaleUpperCase(),
goToTab: this.goToTab.bind(this),
nextTab: this.nextTab.bind(this),
prevTab: this.prevTab.bind(this)
}),
_owner: null
}) : s = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {}),
_owner: null
},
style: ae.spinnerContainer
},
_owner: null
};
var w = new v["default"]({
key: m["default"].Select,
action: function U() {
return e.goToScoreboard();
}
}), C = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: $["default"],
key: "go-to-scoreboard-input",
ref: null,
props: r($["default"].defaultProps, {
visible: !1,
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_TO_SCOREBOARD"),
inputKey: w.key,
action: w.action
}),
_owner: null
},
style: {
height: 0,
width: 0,
position: "absolute",
opacity: 0
}
},
_owner: null
}, I = A["default"].content.width, O = this.state.tabIndex > this.state.previousTabIndex, k = [ {
propertyName: "translateX",
fromValue: O ? I : -I,
toValue: 0
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1
} ], x = [ {
propertyName: "translateX",
fromValue: 0,
toValue: O ? -I : I
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0
} ], M = {
flex: 1,
marginTop: this.props.topGutter ? R["default"].GUTTER : 0
};
return h["default"].createElement(S["default"], _, C, l, n, {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: r(P["default"].defaultProps, {
children: s,
inTweens: k,
outTweens: x,
playInOnMount: !1,
transitionId: o.id,
style: M
}),
_owner: null
});
};
var n = t;
return t = i("_$EndOfRound")(t) || t, t = ee.observer(t) || t, t = U["default"]()(t) || t;
}(h["default"].Component);
t["default"] = ie, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return N(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(174), y = s(h), g = n(476), m = n(469), b = s(m), v = n(470), _ = s(v), S = n(471), w = s(S), T = n(473), C = s(T), E = n(474), I = s(E), P = n(475), O = s(P), A = n(472), k = s(A), R = n(215), x = s(R), M = {
_$Help: {
displayName: "Help"
}
}, N = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/Help.jsx",
components: M,
locals: [],
imports: []
}), $ = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e, t, n = c({}, this.props, {
header: {}
});
e = this.props.gameState.isSingleplayer ? "help-sp" : "help-mp";
var o = this.props.gameViewState.route;
return "playing/wwcesupport/help" === o ? (t = {
$$typeof: p,
type: g.WwceSupportOverview,
key: null,
ref: null,
props: r(g.WwceSupportOverview.defaultProps, {}),
_owner: null
}, n.header.middle = {
$$typeof: p,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
text: __("ID_SPARTA_MAIN_TITLE_HELP")
}),
_owner: null
}) : "playing/wwcesupport/help/articledetail" === o ? t = {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {}),
_owner: null
} : "playing/wwcesupport/help/categoryselection" === o ? (t = {
$$typeof: p,
type: I["default"],
key: null,
ref: null,
props: r(I["default"].defaultProps, {}),
_owner: null
}, n.header.middle = {
$$typeof: p,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
text: __("ID_SPARTA_MENU_TITLE_HELP_CONTACT_US")
}),
_owner: null
}) : "playing/wwcesupport/help/channelselection" === o || "playing/wwcesupport/help/categoryselection/channelselection" === o ? (t = {
$$typeof: p,
type: O["default"],
key: null,
ref: null,
props: r(O["default"].defaultProps, {}),
_owner: null
}, n.header.middle = {
$$typeof: p,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
text: __("ID_SPARTA_MENU_TITLE_HELP_CONTACT_US")
}),
_owner: null
}) : "playing/wwcesupport/help/channelselection/callback" === o || "playing/wwcesupport/help/categoryselection/channelselection/callback" === o ? (t = {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {}),
_owner: null
}, n.header.middle = {
$$typeof: p,
type: x["default"],
key: null,
ref: null,
props: r(x["default"].defaultProps, {
text: __("ID_SPARTA_MENU_TITLE_HELP_CONTACT_US")
}),
_owner: null
}) : "playing/wwcesupport/help/channelselection/callbackconfirmation" === o || "playing/wwcesupport/help/categoryselection/channelselection/callbackconfirmation" === o ? t = {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {}),
_owner: null
} : "playing/wwcesupport/help/channelselection/callus" === o || "playing/wwcesupport/help/categoryselection/channelselection/callus" === o ? t = {
$$typeof: p,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {}),
_owner: null
} : ("playing/wwcesupport/help/channelselection/callbackDeflection" === o || "playing/wwcesupport/help/categoryselection/channelselection/callbackDeflection" === o) && (t = {
$$typeof: p,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {}),
_owner: null
}), d["default"].createElement(y["default"], c({
contentId: e
}, n), t);
};
var n = t;
return t = i("_$Help")(t) || t;
}(d["default"].Component);
t["default"] = $, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function i(e) {
return function(t) {
return be(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = [];
return e.text && t.push({
$$typeof: y,
type: M["default"],
key: null,
ref: null,
props: a(M["default"].defaultProps, {
value: e.text.toUpperCase(),
size: "S",
style: {
textAlignForRTL: "left"
}
}),
_owner: null
}), e.isCustomGames && (t.push({
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
style: {
width: R["default"].GUTTER
}
},
_owner: null
}), t.push({
$$typeof: y,
type: M["default"],
key: null,
ref: null,
props: a(M["default"].defaultProps, {
value: __("ID_SPARTA_FILTER_CUSTOM_FILTERS"),
size: "S",
style: {
color: "#FF9900"
}
}),
_owner: null
})), {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: {
width: R["default"].getWidth(24),
flexDirection: "row"
}
},
_owner: null
};
}
function u(e, t) {
var n = z["default"].getState()[t], r = {
text: H.getServerSettingsOneliner(e, n),
isCustomGames: !1
};
return l(r);
}
function p(e, t) {
var n = z["default"].getState()[t], r = B.getFilterSummary(e, n);
return l(r);
}
var c = n(3), f = s(c);
t.__esModule = !0;
var d = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), h = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, y = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, g = n(1), m = s(g), b = n(4), v = s(b), _ = n(8), S = n(10), w = n(20), T = s(w), C = n(28), E = s(C), I = n(16), P = s(I), O = n(18), A = s(O), k = n(6), R = s(k), x = n(7), M = s(x), N = n(178), $ = s(N), D = n(128), U = s(D), L = n(14), F = s(L), G = n(12), j = s(G), B = n(242), H = n(279), V = n(113), z = s(V), W = n(200), q = n(99), K = s(q), X = n(30), Y = s(X), J = n(46), Q = s(J), Z = n(57), ee = s(Z), te = n(169), ne = n(174), re = s(ne), oe = n(448), ae = s(oe), ie = n(446), se = s(ie), le = n(173), ue = n(139), pe = n(140), ce = n(246), fe = n(176), de = n(762), he = s(de), ye = n(78), ge = n(32), me = {
_$GameInfo: {
displayName: "GameInfo"
},
_$MatchmakingStatus: {
displayName: "MatchmakingStatus"
},
_$Loading: {
displayName: "Loading"
}
}, be = f["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/Loading.jsx",
components: me,
locals: [],
imports: []
}), ve = S.observable(!1), _e = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.getPrimarySettings = function s(e) {
var t = [];
return e.custom && t.push({
text: __("ID_SPARTA_SERVER_TYPE_CUSTOM_GAME"),
color: "#ff9900"
}), t;
}, t.prototype.getMapData = function l(e) {
return v["default"].find(this.state.gameData.maps, function(t) {
return t.filterKey === e;
});
}, t.prototype.render = function c() {
var e = this, t = this.props.server, n = t && t.mapMode, r = null;
if (ye.tunguskaEndOfRoundStore.isLoadingDataEnabled) {
var o = ye.tunguskaEndOfRoundStore.nextLevelName, i = ye.tunguskaEndOfRoundStore.nextGameMode;
i && (n = i), r = this.getMapData(o);
}
var s, l, c, f, d, g = null;
t && this.state.gameData ? s = v["default"].find(this.state.gameData.gameModes, function(e) {
return e.filterKey === n;
}) : this.props.session && this.state.gameData && (s = v["default"].find(this.state.gameData.gameModes, function(t) {
return t.filterKey === v["default"].keys(e.props.session.filter.gameModes)[0];
})), l = s && s.catchphrase || "", c = s && s.description || "";
var m = 0;
m = ge.isRTLLanguage() ? R["default"].getWidth(SpartaGlobals.bundleIsConsole ? 16 : 22) : R["default"].getWidth(SpartaGlobals.bundleIsConsole ? 22 : 28);
var b = ge.isRTLLanguage() ? {
width: m,
textAlignForRTL: "left"
} : {
width: m,
margin: [ 2 * R["default"].GUTTER, 0, 2 * R["default"].GUTTER, 0 ]
}, _ = ge.isRTLLanguage() ? {
width: m,
textAlignForRTL: "left"
} : {
width: m
}, S = ge.isRTLLanguage() ? {
width: m,
justifyContent: "flex-end"
} : {
width: m
}, w = ge.isRTLLanguage() ? {
width: m
} : {};
if (t && ve.get()) {
var T = t.mapNamePretty, C = t.mapModePretty;
ye.tunguskaEndOfRoundStore.isLoadingDataEnabled && (r && (T = r.prettyName), s && (C = s.prettyName)), 
f = {
text: C
}, d = {
text: T
}, g = {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: y,
type: ae["default"],
key: null,
ref: null,
props: a(ae["default"].defaultProps, {
elements: v["default"].flatten([ d, f, this.getPrimarySettings(t) ]),
style: S
}),
_owner: null
}, {
$$typeof: y,
type: M["default"],
key: null,
ref: null,
props: a(M["default"].defaultProps, {
value: l,
size: "XXL",
style: b
}),
_owner: null
}, {
$$typeof: y,
type: M["default"],
key: null,
ref: null,
props: a(M["default"].defaultProps, {
value: c,
size: "S",
style: h({}, _, {
marginBottom: 2 * R["default"].GUTTER
})
}),
_owner: null
}, {
$$typeof: y,
type: he["default"],
key: null,
ref: null,
props: a(he["default"].defaultProps, {
gameMode: n,
map: t.mapName,
gameId: t.game,
style: w
}),
_owner: null
}, u(t.settings, t.game) ]
},
_owner: null
};
} else this.props.session && pe.operationFlow.state === pe.OperationState.none && (g = {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: [ p(this.props.session.filter, this.props.session.gameId), {
$$typeof: y,
type: M["default"],
key: null,
ref: null,
props: a(M["default"].defaultProps, {
value: l,
size: "XXL",
style: b
}),
_owner: null
}, {
$$typeof: y,
type: M["default"],
key: null,
ref: null,
props: a(M["default"].defaultProps, {
value: c,
size: "S",
style: _
}),
_owner: null
} ]
},
_owner: null
});
return {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: g,
style: {
flexDirection: "row",
marginTop: A["default"].dangerZoneSize.height / 2
}
},
_owner: null
};
};
var n = t;
return t = i("_$GameInfo")(t) || t, t = P["default"]({
gameData: E["default"](K["default"], "tunguska")
})(t) || t, t = _.observer(t) || t;
}(m["default"].Component), Se = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.renderStages = function s() {
var e = ge.isRTLLanguage() ? {
marginRight: 2 * R["default"].GUTTER,
width: R["default"].getWidth(9.4),
textAlignForRTL: "left"
} : {
marginLeft: 2 * R["default"].GUTTER
};
return v["default"].map(ce.matchmakingCheckList.steps, function(t, n) {
return {
$$typeof: y,
type: "surface",
key: "step-" + n,
ref: null,
props: {
children: ge.localeRearrange([ {
$$typeof: y,
type: $["default"],
key: null,
ref: null,
props: a($["default"].defaultProps, {
value: t.done
}),
_owner: null
}, {
$$typeof: y,
type: M["default"],
key: null,
ref: null,
props: a(M["default"].defaultProps, {
value: t.name.toUpperCase(),
size: "S",
style: e
}),
_owner: null
} ]),
style: {
flexDirection: "row",
marginBottom: R["default"].GUTTER
}
},
_owner: null
};
});
}, t.prototype.render = function l() {
return {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderStages()
},
_owner: null
};
};
var n = t;
return t = i("_$MatchmakingStatus")(t) || t, t = _.observer(t) || t;
}(m["default"].Component), we = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.mustQuitAfterUpdate = !1;
}
o(t, e), t.prototype.componentWillMount = function s() {
this.updateServerInfo(this.props);
}, t.prototype.componentWillUpdate = function l(e) {
var t = pe.operationFlow.state !== pe.OperationState.none;
this.props.gameState.isReady !== e.gameState.isReady && e.gameState.isReady && (ye.tunguskaEndOfRoundStore.quitInProgress ? this.mustQuitAfterUpdate = !0 : ue.nextRoundCountDown.active || t || this.enterGame()), 
this.updateServerInfo(e);
}, t.prototype.componentDidUpdate = function u() {
this.mustQuitAfterUpdate && ye.tunguskaEndOfRoundStore.isQuitDuringLoadingEnabled && (this.mustQuitAfterUpdate = !1, 
le.toggleQuittingOverlay(!1, this.hideBackground));
}, t.prototype.getInput = function p() {
var e = this, t = [];
return this.props.gameViewState.isVisible ? (this.acceptMatchmakingInputs() || this.props.gameState.queue.status === te.QueueStatus.Queued ? t.push(new F["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_CANCEL"),
key: j["default"].Decline,
action: function n() {
return e.doQuitGame();
}
})) : ye.tunguskaEndOfRoundStore.isQuitDuringLoadingEnabled && ue.nextRoundCountDown.active ? t.push(new F["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_QUIT"),
key: j["default"].Option2,
action: function r() {
return e.quitGame();
}
})) : this.props.gameState.isReady && this.props.gameState.queue.status !== te.QueueStatus.Queued && t.push(new F["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_JOIN"),
key: j["default"].Option1,
action: function o() {
return e.enterGame();
}
})), this.acceptMatchmakingInputs() && pe.operationFlow.showLoadingScreen ? t.push(new F["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_BROWSE_WHILE_WAITING"),
key: j["default"].Start,
action: function a() {
Q["default"].browseWhileWaiting(!0), e.hideBackground();
}
})) : this.acceptQueueInputs() && pe.operationFlow.showLoadingScreen ? t.push(new F["default"]({
visible: !0,
label: __("ID_SPARTA_ACTION_BROWSE_WHILE_WAITING"),
key: j["default"].Start,
action: function i() {
Q["default"].browseWhileWaiting(!0);
}
})) : ue.nextRoundCountDown.active && t.push(new F["default"]({
visible: !0,
label: __("ID_SPARTA_GAMESTATE_PREVIOUS_ROUND"),
key: j["default"].Start,
blockInputFor: le.fadeOptions.totalSlowDuration,
action: function s() {
return e.gotoEor();
}
})), t) : [];
}, t.prototype.getBackgroundState = function c() {
var e = this.server && this.server.mapName;
if (ye.tunguskaEndOfRoundStore.isLoadingDataEnabled) {
var t = ye.tunguskaEndOfRoundStore.nextLevelName;
t && (e = t);
}
return {
mapName: e,
hideOverlay: !1,
isVisible: pe.operationFlow.showLoadingScreen,
isBlurred: pe.operationFlow.showLoadingScreen,
showMap: ve.get() || ue.nextRoundCountDown.active
};
}, t.prototype.gotoEor = function f() {
le.fadeBlack(S.action("hide bgstate overlay", function() {
fe.backgroundState.hideOverlay = !0, Q["default"].route("eor");
}), !0);
}, t.prototype.enterGame = function g() {
W.tunguskaLevelStore.clearMpLevel(), le.goToGame({
withBlackFade: !0,
changeRoute: "playing"
});
}, t.prototype.doQuitGame = function b() {
ue.nextRoundCountDown.stop(), Y["default"].stopGame(), this.hideBackground();
}, t.prototype.quitGame = function v() {
pe.operationFlow.state !== pe.OperationState.eor && le.quitWithConfirm(function() {
le.toggleQuittingOverlay(!ye.tunguskaEndOfRoundStore.gameReadyToQuit);
});
}, t.prototype.isMatchmaking = function w() {
return this.props.match && this.props.match.sessionId && "SessionTimedOut" !== this.props.match.status;
}, t.prototype.acceptMatchmakingInputs = function C() {
return this.props.gameState.navigationState === ee["default"].FrontEnd && this.isMatchmaking() && !ce.matchmakingCheckList.isServerReady;
}, t.prototype.acceptQueueInputs = function E() {
return this.props.gameState.navigationState === ee["default"].FrontEnd && this.props.gameState.queue.status === te.QueueStatus.Queued;
}, t.prototype.render = function I() {
var e = this.props.match && this.props.match.gameId && this.props.gameState.navigationState === ee["default"].FrontEnd, t = h({}, this.props, {
nextRoundCountDown: {
autoDismiss: !0
},
backgroundState: this.getBackgroundState(),
rightButtons: null
}), n = null, r = "wait";
this.server && ve.get() ? (r = "server", n = {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
}) : e && (r = "matchmaking", n = {
$$typeof: y,
type: Se,
key: null,
ref: null,
props: a(Se.defaultProps, {}),
_owner: null
});
var o = this.props.gameState.isSpectator || "spectator" === this.props.gameState.role, i = o ? null : {
$$typeof: y,
type: se["default"],
key: null,
ref: null,
props: a(se["default"].defaultProps, {
style: {
marginTop: 2 * R["default"].GUTTER
},
route: "loading"
}),
_owner: null
}, s = null !== n ? {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: y,
type: _e,
key: null,
ref: null,
props: a(_e.defaultProps, {
server: this.server,
session: this.props.match
}),
_owner: null
}, {
$$typeof: y,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: y,
type: U["default"],
key: null,
ref: null,
props: a(U["default"].defaultProps, {
children: [ n, i ],
transitionId: r
}),
_owner: null
},
style: {
position: "absolute",
bottom: R["default"].getHeight(10)
}
},
_owner: null
} ],
style: {
flex: 1
}
},
_owner: null
} : null;
return m["default"].createElement(re["default"], t, s);
}, d(t, [ {
key: "hideBackground",
decorators: [ S.action ],
value: function P() {
fe.backgroundState.isVisible = !1;
}
}, {
key: "updateServerInfo",
decorators: [ S.action ],
value: function O(e) {
this.server = e.gameState && e.gameState.server || e.match && e.match.server;
var t = !(!this.server || this.isMatchmaking()), n = pe.operationFlow.showLoadingScreen, r = this.server && this.isMatchmaking() && e.match.canJoin, o = e.gameState.navigationState === ee["default"].LoadingScreen;
ve.set((t || r || o) && n);
}
} ]);
var n = t;
return t = i("_$Loading")(t) || t, t = T["default"]()(t) || t, t = _.observer(t) || t;
}(m["default"].Component);
t["default"] = we, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return Pe(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = e.text || "";
return {
$$typeof: d,
type: ee["default"],
key: null,
ref: null,
props: r(ee["default"].defaultProps, {
value: t.toUpperCase(),
type: "normal",
color: "#ffffff",
size: "XS",
style: Me.spHeader
}),
_owner: null
};
}
function u(e) {
for (var t = [], n = e.codeBooksData, o = n ? n.codeBooksTotal : 0, a = n ? n.codeBooksCollected : 0, i = 0; o > i; i++) {
var s = null, u = i + 1;
a >= u && (s = {
opacity: .8
}), t.push({
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
style: [ Me.codeBookStyle, s ]
},
_owner: null
});
}
var p = null;
o && o > 0 && (p = {
$$typeof: d,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
text: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODE_BOOKS_FOUND")
}),
_owner: null
});
var c = Me.codeBooksContainer;
return Se.isRTLLanguage() && (c = f({}, c, {
justifyContent: "flex-end"
})), {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ p, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: c
},
_owner: null
} ],
style: {
marginBottom: 3 * ne["default"].GUTTER
}
},
_owner: null
};
}
var p = n(3), c = s(p);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = s(h), g = n(2), m = n(4), b = s(m), v = n(20), _ = s(v), S = n(8), w = n(16), T = s(w), C = n(173), E = n(35), I = n(96), P = s(I), O = n(36), A = s(O), k = n(30), R = s(k), x = n(25), M = s(x), N = n(46), $ = s(N), D = n(89), U = s(D), L = n(350), F = n(200), G = n(245), j = n(47), B = s(j), H = n(14), V = s(H), z = n(12), W = s(z), q = n(13), K = s(q), X = n(288), Y = s(X), J = n(446), Q = s(J), Z = n(7), ee = s(Z), te = n(6), ne = s(te), re = n(174), oe = s(re), ae = n(215), ie = s(ae), se = n(298), le = s(se), ue = n(448), pe = s(ue), ce = n(763), fe = s(ce), de = n(431), he = s(de), ye = n(68), ge = n(41), me = n(50), be = s(me), ve = n(49), _e = n(11), Se = n(32), we = n(82), Te = s(we), Ce = n(9), Ee = n(60), Ie = {
_$ChapterInfo: {
displayName: "ChapterInfo"
},
_$ObjectiveInfo: {
displayName: "ObjectiveInfo"
},
_$SingleplayerContent: {
displayName: "SingleplayerContent"
},
_$MultiplayerContent: {
displayName: "MultiplayerContent"
},
_$ServerInfo: {
displayName: "ServerInfo"
},
_$Playing: {
displayName: "Playing"
}
}, Pe = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/Playing.jsx",
components: Ie,
locals: [],
imports: []
}), Oe = Ce.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-codebook-34b9f74c.png"), Ae = ne["default"].window.rowSpan(6), ke = ne["default"].getHeight(10), Re = {
duration: 300
}, xe = 400, Me = g.createStyleSheet({
mpContainer: {
flex: 1,
flexDirection: "row",
alignItems: "flex-end",
paddingBottom: ke
},
spContainer: {
flex: 1,
flexDirection: "row",
paddingTop: Ae,
paddingBottom: ke
},
menuStyleMp: {
width: ne["default"].getWidth(7)
},
menuStyleSp: {
width: ne["default"].getWidth(8)
},
mpRightContainer: {
flexDirection: "row",
justifyContent: "flex-start",
flex: 1
},
mpLeftContainer: {
flexDirection: "row",
flex: 1
},
spLeftContainer: {
flex: 1,
flexDirection: "column",
justifyContent: "space-between"
},
spRightContainer: {
flex: 1,
flexDirection: "column",
justifyContent: "space-between"
},
codeBookStyle: {
width: 29,
height: 36,
texture: Oe,
marginRight: 2 * ne["default"].GUTTER,
opacity: .3
},
codeBooksContainer: {
flexDirection: "row",
height: 36
},
diagonalLine: {
zIndex: 20,
width: 1,
backgroundColor: "#ffffff1A",
rotateZ: -35
},
spChapterWrapper: {
flexDirection: "column",
justifyContent: "flex-end"
},
spHeader: {
marginBottom: 1.5 * ne["default"].GUTTER,
textAlignForRTL: "left"
},
spObjectiveText: {
flexDirection: "row",
flexWrap: "wrap",
textAlignForRTL: "left"
},
installStyle: {
alignItems: "flex-start"
}
}), Ne = function(e) {
function t() {
o(this, t), e.apply(this, arguments);
}
return a(t, e), t.prototype.getInput = function n() {
var e = this;
return [ new V["default"]({
label: __("ID_SPARTA_ACTION_BACK"),
key: W["default"].Decline,
action: function t() {
return e.gotoGameAction();
}
}), new V["default"]({
visible: !1,
key: W["default"].Start,
releaseAction: function n() {
return e.gotoGameAction();
}
}) ];
}, t.prototype.showCodex = function r(e) {
M["default"].display(new B["default"]({
content: e,
createButtons: !1,
leftAlignInputs: !0,
inputs: [ new V["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: W["default"].Decline
}) ]
}));
}, t.prototype.gotoGameAction = function i() {
var e = be["default"].getState();
e.isEORShown || "eor" === e.route || C.goToGame();
}, t.prototype.quitGame = function s(e) {
R["default"].stopGame(!0), e && A["default"].quitCampaign();
}, t.prototype.askToRestartCheckpoint = function l() {
E.confirm(__("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_CHECKPOINT_PROMPT"), __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_CHECKPOINT_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL"), "restartCheckpoint").then(function() {
C.hideSparta(function() {
return g.frostbite.sendMessage("sparta.restartCheckpoint");
});
});
}, t.prototype.askToRestartMission = function u() {
E.confirm(__("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_MISSION_PROMPT"), __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_MISSION_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL"), "restartMission").then(function() {
C.hideSparta(function() {
return g.frostbite.sendMessage("sparta.restartLevel");
});
});
}, t.prototype.askToQuitGame = function p(e) {
var t = this;
E.confirm(__("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_EXIT_PROMPT"), __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_EXIT_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL"), "leaveGame").then(function() {
return t.quitGame(e);
});
}, t.prototype.gotoHelp = function c() {
Te["default"].updateSource("InGame"), $["default"].route("playing/wwcesupport/help");
}, t;
}(y["default"].Component), $e = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.preloader = g.texture.createPreloader(this), this.preloader.preload(Oe, void 0);
}
a(t, e), t.prototype.render = function s() {
var e = this.props.chapter, t = e.codexEntries.length, n = 3 >= t ? ne["default"].window.xParts(8) : ne["default"].window.xParts(2 * t), o = t - 1, a = ge.onlineState.isOnlineBlazeAndGateway, i = Se.isRTLLanguage() ? e.codexEntries.reverse() : e.codexEntries, s = i.map(function(e, t) {
var s = i[t];
if (s) {
var l = function() {
var e = {
$$typeof: d,
type: he["default"],
key: null,
ref: null,
props: r(he["default"].defaultProps, {
codex: s,
isOffline: !a,
completedOverride: s.isCollected
}),
_owner: null
}, i = [ new V["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
key: W["default"].Accept,
blockInputFor: 500,
action: function u() {
return M["default"].display(new B["default"]({
content: e,
createButtons: !1,
leftAlignInputs: !0,
inputs: [ new V["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: W["default"].Decline
}) ]
}));
}
}) ], l = t !== o ? ne["default"].GUTTER : 0;
return {
v: {
$$typeof: d,
type: Y["default"],
key: null,
ref: null,
props: r(Y["default"].defaultProps, {
entry: s,
buttons: i,
hasNoSideMargin: !0,
skipProgress: !0,
completedOverride: s.isCollected,
style: {
marginRight: l,
width: n,
height: 1.4 * n
}
}),
_owner: null
}
};
}();
if ("object" == typeof l) return l.v;
}
}), p = {
flexDirection: "row"
};
Se.isRTLLanguage() && (p.justifyContent = "flex-end");
var c = L.tunguskaCampaignStore.currentObjective;
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: u,
key: null,
ref: null,
props: r(u.defaultProps, {
codeBooksData: c
}),
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
text: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODEX_ENTRIES")
}),
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: s,
style: p
},
_owner: null
} ]
},
_owner: null
} ],
style: Me.spChapterWrapper
},
_owner: null
};
};
var n = t;
return t = i("_$ChapterInfo")(t) || t, t = S.observer(t) || t;
}(y["default"].Component), De = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CURRENT_OBJECTIVE_TITLE"), t = L.tunguskaCampaignStore.currentObjective, n = null, o = null;
return t && "" !== t.title && (n = {
$$typeof: d,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
text: e
}),
_owner: null
}, o = {
$$typeof: d,
type: ee["default"],
key: null,
ref: null,
props: r(ee["default"].defaultProps, {
value: t.title,
type: "emphasis",
size: "S",
style: Me.spObjectiveText
}),
_owner: null
}), {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ n, o ]
},
_owner: null
};
};
var n = t;
return t = i("_$ObjectiveInfo")(t) || t, t = S.observer(t) || t;
}(y["default"].Component), Ue = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getChildContext = function s() {
return {
routeConfig: new ve.Route({
gameId: "tunguska",
fonts: {
normal: ye.fontState.fonts.tunguska.normal,
emphasis: ye.fontState.fonts.tunguska.emphasis,
letterSpacing: 2
}
})
};
}, t.prototype.getChapter = function l() {
var e = this.props.levelName && this.props.levelName.toLowerCase();
return L.tunguskaCampaignStore.getChapter(e);
}, t.prototype.handleShowCodex = function u(e) {
var t = null, n = !ge.onlineState.isOnlineBlazeAndGateway, o = n ? L.tunguskaCampaignStore.getCodexEntryById(e.tag) : G.tunguskaCodexStore.getCodexEntryById(e.tag);
t = o ? {
$$typeof: d,
type: he["default"],
key: null,
ref: null,
props: r(he["default"].defaultProps, {
codex: o,
isOffline: n,
completedOverride: !0
}),
_owner: null
} : {
$$typeof: d,
type: ee["default"],
key: null,
ref: null,
props: r(ee["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_CODEX_INFO_UNAVAILABLE")
}),
_owner: null
}, this.showCodex(t, n);
}, t.prototype.filterStartPoints = function p(e) {
return e && b["default"].filter(e, function(e) {
return e.name && -1 === e.name.indexOf("DEV_ONLY");
});
}, t.prototype.isCheckpointRestartAvailable = function c() {
var e = !1, t = this.getChapter();
if (t) {
var n = this.filterStartPoints(t.startPoints);
e = n.length > 1;
}
return e;
}, t.prototype.getMenuItems = function f() {
var e = this, t = [];
return t.push({
ref: function n(t) {
return e.currentElement = t;
},
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESUME_TITLE"),
action: function r() {
return e.gotoGameAction();
}
}), t.push({
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_OPTIONS_TITLE"),
action: function o() {
return C.hideSparta(function() {
return g.frostbite.sendMessage("sparta.showOptions");
});
}
}), this.isCheckpointRestartAvailable() && t.push({
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_CHECKPOINT_TITLE"),
action: function a() {
return e.askToRestartCheckpoint();
},
enabled: this.isCheckpointRestartAvailable()
}), t.push({
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_MISSION_TITLE"),
action: function i() {
return e.askToRestartMission();
}
}), _e.settingsStore.isFeatureEnabled("enableHelpSection") && t.push({
label: __("ID_SPARTA_MAIN_TITLE_HELP"),
action: function s() {
return e.gotoHelp();
}
}), t.push({
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_QUIT_TITLE"),
action: function l() {
return e.askToQuitGame(!0);
}
}), t;
}, t.prototype.render = function h() {
var e = this.getChapter(), t = void 0 !== e ? {
$$typeof: d,
type: $e,
key: null,
ref: null,
props: r($e.defaultProps, {
chapter: e
}),
_owner: null
} : null, n = void 0 !== e ? {
$$typeof: d,
type: De,
key: null,
ref: null,
props: r(De.defaultProps, {
chapter: e
}),
_owner: null
} : null, o = this.state.installState.isMpInstalled ? null : {
$$typeof: d,
type: le["default"],
key: null,
ref: null,
props: r(le["default"].defaultProps, {
text: __("ID_SPARTA_INSTALL_INSTALLING_MP"),
state: this.state.installState,
style: Me.installStyle
}),
_owner: null
}, a = {
opacity: K["default"].tweenSwitch(0, 1, this.props.isVisible, Re),
translateX: K["default"].tweenSwitch(-xe, 0, this.props.isVisible, Re)
}, i = {
opacity: K["default"].tweenSwitch(0, 1, this.props.isVisible, Re),
translateX: K["default"].tweenSwitch(xe, 0, this.props.isVisible, Re)
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: o
},
_owner: null
}, {
$$typeof: d,
type: fe["default"],
key: null,
ref: null,
props: r(fe["default"].defaultProps, {
items: this.getMenuItems(),
style: Me.menuStyleSp,
leftBorderWidth: 2
}),
_owner: null
} ],
style: [ Me.spLeftContainer, a ]
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ n, t ],
style: [ Me.spRightContainer, i ]
},
_owner: null
} ],
style: Me.spContainer
},
_owner: null
};
};
var n = t;
return t = i("_$SingleplayerContent")(t) || t, t = P["default"]({
handleShowCodex: A["default"].showCodex
})(t) || t, t = T["default"]({
installState: U["default"]
})(t) || t, t = S.observer(t) || t, t = g.focusable("77149a83:384")(t) || t, t = _["default"]()(t) || t;
}(Ne);
Ue.childContextTypes = {
parentInputDecoratedComponent: y["default"].PropTypes.any,
parent: y["default"].PropTypes.any,
routeConfig: y["default"].PropTypes.instanceOf(ve.Route)
};
var Le = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getChildContext = function s() {
return {
routeConfig: new ve.Route({
gameId: "tunguska",
fonts: {
normal: ye.fontState.fonts.tunguska.normal,
emphasis: ye.fontState.fonts.tunguska.emphasis,
letterSpacing: 2
}
})
};
}, t.prototype.handleShowCodex = function l(e) {
var t = null, n = !ge.onlineState.isOnlineBlazeAndGateway, o = G.tunguskaCodexStore.getCodexEntryById(e.tag);
t = o ? {
$$typeof: d,
type: he["default"],
key: null,
ref: null,
props: r(he["default"].defaultProps, {
codex: o,
isOffline: n,
completedOverride: !0
}),
_owner: null
} : {
$$typeof: d,
type: ee["default"],
key: null,
ref: null,
props: r(ee["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_CODEX_INFO_UNAVAILABLE")
}),
_owner: null
}, this.showCodex(t, n);
}, t.prototype.getMenuItems = function u() {
var e = this, t = [];
return t.push({
ref: function n(t) {
return e.currentElement = t;
},
label: __("ID_SPARTA_ACTION_RESUME"),
action: function r() {
return e.gotoGameAction();
}
}), t.push({
label: __("ID_SPARTA_ACTION_SCOREBOARD"),
action: function o() {
return C.hideSparta(function() {
return g.frostbite.sendMessage("sparta.showScoreboard");
});
}
}), this.props.isDeployed && t.push({
label: __("ID_SPARTA_ACTION_TEAM_SETUP"),
action: function a() {
return C.hideSparta(function() {
return g.frostbite.sendMessage("sparta.showTeamSetup");
});
}
}), this.props.isDeployed && t.push({
label: __("ID_SPARTA_ACTION_REDEPLOY").toLocaleUpperCase(),
action: function i() {
return C.hideSparta(function() {
return g.frostbite.sendMessage("sparta.gameRedeploy");
});
}
}), _e.settingsStore.isFeatureEnabled("enableHelpSection") && t.push({
label: __("ID_SPARTA_MAIN_TITLE_HELP"),
action: function s() {
return e.gotoHelp();
}
}), t.push({
label: __("ID_SPARTA_ACTION_OPTIONS"),
action: function l() {
return C.hideSparta(function() {
return g.frostbite.sendMessage("sparta.showOptions");
});
}
}), t.push({
enabled: !0,
label: __("ID_SPARTA_ACTION_QUIT"),
action: function u() {
return e.askToQuitGame();
}
}), t;
}, t.prototype.render = function p() {
var e = null;
this.props.isSpectator || (e = {
$$typeof: d,
type: Q["default"],
key: null,
ref: null,
props: r(Q["default"].defaultProps, {
route: "playing",
style: {
justifyContent: "flex-start"
}
}),
_owner: null
});
var t = {
opacity: K["default"].tweenSwitch(0, 1, this.props.isVisible, Re),
translateX: K["default"].tweenSwitch(-xe, 0, this.props.isVisible, Re)
}, n = {
opacity: K["default"].tweenSwitch(0, 1, this.props.isVisible, Re),
translateX: K["default"].tweenSwitch(xe, 0, this.props.isVisible, Re)
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: fe["default"],
key: null,
ref: null,
props: r(fe["default"].defaultProps, {
items: this.getMenuItems(),
style: Me.menuStyleMp,
leftBorderWidth: 2
}),
_owner: null
},
style: [ Me.mpLeftContainer, t ]
},
_owner: null
}, {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: [ Me.mpRightContainer, n ]
},
_owner: null
} ],
style: Me.mpContainer
},
_owner: null
};
};
var n = t;
return t = i("_$MultiplayerContent")(t) || t, t = P["default"]({
handleShowCodex: A["default"].showCodex
})(t) || t, t = _["default"]()(t) || t, t = S.observer(t) || t;
}(Ne);
Le.childContextTypes = {
parentInputDecoratedComponent: y["default"].PropTypes.any,
parent: y["default"].PropTypes.any,
routeConfig: y["default"].PropTypes.instanceOf(ve.Route)
};
var Fe = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = F.tunguskaLevelStore.currentMPLevel, t = e && e.title || "", n = e && e.gameMode || "", o = t && n, a = {
alignItems: "flex-end",
opacity: K["default"].tweenSwitch(0, 1, o, {
duration: 300
})
}, i = this.props.server && {
$$typeof: d,
type: Ee.Marquee,
key: null,
ref: null,
props: r(Ee.Marquee.defaultProps, {
children: {
$$typeof: d,
type: pe["default"],
key: null,
ref: null,
props: r(pe["default"].defaultProps, {
elements: [ {
text: this.props.server.name
} ]
}),
_owner: null
},
width: ne["default"].getWidth(7),
rtl: !0,
scroll: !0,
loop: !0
}),
_owner: null
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: d,
type: pe["default"],
key: null,
ref: null,
props: r(pe["default"].defaultProps, {
elements: [ {
text: t
}, {
text: n
} ]
}),
_owner: null
}, i ],
style: a
},
_owner: null
};
};
var n = t;
return t = i("_$ServerInfo")(t) || t, t = S.observer(t) || t;
}(y["default"].Component), Ge = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = !this.props.gameState.isSingleplayer && {
$$typeof: d,
type: Fe,
key: null,
ref: null,
props: r(Fe.defaultProps, {
server: this.props.gameState.server
}),
_owner: null
}, t = f({}, this.props, {
backgroundState: {
isVisible: !0,
isBlurred: !1,
showMap: !1
},
header: {
middle: {
$$typeof: d,
type: ie["default"],
key: null,
ref: null,
props: r(ie["default"].defaultProps, {
text: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_GAME")
}),
_owner: null
},
right: e
}
}), n = void 0, o = this.props.gameViewState.isVisible;
if (this.props.gameState.isSingleplayer) n = {
$$typeof: d,
type: Ue,
key: null,
ref: null,
props: r(Ue.defaultProps, {
levelName: this.props.gameState.levelName,
isVisible: o
}),
_owner: null
}; else {
var a = this.props.gameState.isSpectator || "spectator" === this.props.gameState.role;
n = {
$$typeof: d,
type: Le,
key: null,
ref: null,
props: r(Le.defaultProps, {
isSpectator: a,
isDeployed: this.props.gameState.isDeployed,
isVisible: o
}),
_owner: null
};
}
return y["default"].createElement(oe["default"], t, n);
};
var n = t;
return t = i("_$Playing")(t) || t;
}(y["default"].Component);
t["default"] = Ge, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return Q(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), h = n(1), y = l(h), g = n(4), m = l(g), b = n(10), v = n(318), _ = n(16), S = l(_), w = n(2), T = n(14), C = l(T), E = n(12), I = l(E), P = n(36), O = l(P), A = n(290), k = l(A), R = n(445), x = l(R), M = n(66), N = n(76), $ = l(N), D = n(7), U = l(D), L = n(178), F = l(L), G = n(6), j = l(G), B = n(104), H = l(B), V = n(215), z = l(V), W = n(32), q = n(291), K = l(q), X = n(295), Y = l(X), J = {
_$TrackedMedals: {
displayName: "TrackedMedals"
}
}, Q = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/TrackedMedals.jsx",
components: J,
locals: [],
imports: []
}), Z = {
medalsTiming: {
flexDirection: "row",
position: "absolute",
top: -j["default"].getHeight(1),
left: 0,
right: 0,
height: j["default"].getHeight(4),
justifyContent: "center"
}
}, ee = function(e) {
function t() {
o(this, l), e.apply(this, arguments), a(this, "focusedMedal", n);
}
var n = {};
i(t, e), t.prototype.renderCurrentMedalDetails = function u(e) {
var t = 5e3, n = 1e3, o = W.isRTLLanguage(), a = e.currentStage && e.currentStage.code, i = !1, s = e.stages.length - 1, l = m["default"].map(e.stages, function(l, u) {
a || c || (a = l.code);
var p = a === l.code && !e.completion.completed;
p && (i = !0);
var c = l.progression.unlocked || !i || e.completion.completed, d = {
marginLeft: o ? 0 : 2 * j["default"].GUTTER,
opacity: p ? 1 : .7,
textAlignForRTL: "left",
marginRight: o ? 2 * j["default"].GUTTER : 0
}, h = {
flexDirection: "row",
marginBottom: j["default"].GUTTER,
justifyContent: o ? "flex-end" : "flex-start"
}, y = p ? "emphasis" : "normal", g = u === s ? t : n, m = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
value: g + __("ID_SPARTA_GENERIC_XP"),
size: "S",
type: y
}),
_owner: null
},
style: d
},
_owner: null
};
return {
$$typeof: f,
type: "surface",
key: "stage-" + l.code,
ref: null,
props: {
children: W.localeRearrange([ {
$$typeof: f,
type: F["default"],
key: null,
ref: null,
props: r(F["default"].defaultProps, {
value: c,
style: {
opacity: p ? 1 : .7
}
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
value: l.name,
size: "S",
type: y
}),
_owner: null
},
style: d
},
_owner: null
}, m ]),
style: h
},
_owner: null
};
}), u = "", p = "";
e.isTracked && !e.completion.completed && (u = __("ID_SPARTA_TUNGUSKA_TRACKED").toUpperCase(), 
p = " - ");
var c = {
marginTop: SpartaGlobals.bundleIsPC ? 2 * j["default"].GUTTER : j["default"].getHeight(3),
marginLeft: j["default"].getWidth(SpartaGlobals.bundleIsPC ? 3.7 : 2)
}, d = {
marginBottom: j["default"].GUTTER
}, h = {}, y = {
flexDirection: "row",
marginBottom: 3 * j["default"].GUTTER
};
return W.isRTLLanguage() && (d.textAlignForRTL = "left", c.width = j["default"].getWidth(SpartaGlobals.bundleIsPC ? 24 : 20), 
y.justifyContent = "flex-end", h.width = j["default"].getWidth(SpartaGlobals.bundleIsPC ? 16 : 12), 
h.textAlignForRTL = "left"), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
value: e.displayName.toUpperCase(),
size: "L",
type: "emphasis",
style: d
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: W.localeRearrange([ {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
value: u,
type: "emphasis",
size: "S"
}),
_owner: null
}, {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
value: p + e.description,
size: "S",
style: h
}),
_owner: null
} ]),
style: y
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: l
},
_owner: null
} ],
style: c
},
_owner: null
};
}, t.prototype.render = function p() {
var e, t = this;
e = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: Y["default"],
key: null,
ref: null,
props: r(Y["default"].defaultProps, {
timeDelta: function() {
return 1e3 * K["default"].getTimeToNextReset();
}
}),
_owner: null
}, {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_TIME_LEFT"),
style: {
marginLeft: j["default"].GUTTER
}
}),
_owner: null
} ],
style: Z.medalsTiming
},
_owner: null
};
var n = c({}, this.props, {
header: {
middle: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: z["default"],
key: null,
ref: null,
props: r(z["default"].defaultProps, {
text: __("ID_SPARTA_CAREER_MEDALS").toUpperCase()
}),
_owner: null
},
style: {
alignItems: "center"
}
},
_owner: null
}
}
});
if (0 === this.state.medals.length) return y["default"].createElement(x["default"], n, e, {
$$typeof: f,
type: H["default"],
key: null,
ref: null,
props: r(H["default"].defaultProps, {
text: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_NOMEDALSAVAILABLE"),
subText: ""
}),
_owner: null
});
var o = m["default"].find(this.state.medals, function(e) {
return e.isTracked;
}), a = m["default"].map(this.state.medals, function(e, n) {
var o = new C["default"]({
label: __("ID_SPARTA_TUNGUSKA_TRACK"),
key: I["default"].Accept,
action: function p() {
e.isTracked || e.completion.completed || O["default"].setTrackedMedal(e);
}
}), a = e.displayName, i = SpartaGlobals.bundleIsPC ? 40 : 23;
e.displayName.length > i && (a = e.displayName.substr(0, i - 3) + "...");
var s = __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_STAGES_DONE").replace("[[done]]", e.completion.done).replace("[[needed]]", e.completion.needed), l = {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
value: s,
size: "XS",
style: {
margin: [ 0, 3 * j["default"].GUTTER, 3 * j["default"].GUTTER, 3 * j["default"].GUTTER ]
}
}),
_owner: null
}, u = {
position: "absolute",
right: 0,
bottom: 0,
left: 0
};
return {
$$typeof: f,
type: w.Focusable,
key: null,
ref: null,
props: r(w.Focusable.defaultProps, {
children: function c(t) {
var n = t.isFocused || t.isHovered, i = e.isTracked ? {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL").toUpperCase(),
size: SpartaGlobals.bundleIsPC ? "S" : "XS",
type: "emphasis",
style: {
marginBottom: j["default"].GUTTER
}
}),
_owner: null
} : void 0;
return {
$$typeof: f,
type: M.BasicCard,
key: null,
ref: null,
props: r(M.BasicCard.defaultProps, {
focusItem: t,
useGrayScale: e.completion.percentage < 1,
inactiveHighlightColor: e.isTracked ? "#ffffff33" : void 0,
input: o,
size: SpartaGlobals.bundleIsPC ? "SSM" : "S",
icon: e.imageUrl,
fold: l,
bottom: {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ i, {
$$typeof: f,
type: U["default"],
key: null,
ref: null,
props: r(U["default"].defaultProps, {
value: a.toUpperCase(),
size: SpartaGlobals.bundleIsPC ? "M" : "S"
}),
_owner: null
} ]
},
_owner: null
},
overlay: {
$$typeof: f,
type: $["default"],
key: null,
ref: null,
props: r($["default"].defaultProps, {
style: u,
completed: e.completion.percentage,
segmented: e.stages.length,
backgroundColor: n ? "#00000033" : "#ffffff33"
}),
_owner: null
}
}),
_owner: null
};
},
onFocus: function() {
return t.updateFocusedMedal(e);
},
onBlur: function() {
return t.clearFocusedMedal(e);
},
debugName: "medal_card_" + e.displayName,
autoFocusCandidate: 0 === n
}),
_owner: null
};
}), i = SpartaGlobals.bundleIsPC ? j["default"].getHeight(15) : j["default"].getHeight(5), s = this.focusedMedal || o;
return y["default"].createElement(x["default"], n, e, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: a,
style: {
flexDirection: "row",
justifyContent: "center",
marginTop: i
}
},
_owner: null
}, s && this.renderCurrentMedalDetails(s));
}, d(t, [ {
key: "updateFocusedMedal",
decorators: [ b.action ],
value: function h(e) {
this.focusedMedal = e;
}
}, {
key: "clearFocusedMedal",
decorators: [ b.action ],
value: function g(e) {
SpartaGlobals.bundleIsPC && !w.focus.system.controllerMode && this.focusedMedal.id === e.id && (this.focusedMedal = null);
}
}, {
key: "focusedMedal",
decorators: [ b.observable ],
initializer: function _() {
return null;
},
enumerable: !0
} ], null, n);
var l = t;
return t = s("_$TrackedMedals")(t) || t, t = S["default"]({
medals: k["default"]
})(t) || t, t = v.observer(t) || t;
}(y["default"].Component);
t["default"] = ee, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return M(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(2), y = r(h), g = n(7), m = l(g), b = n(769), v = l(b), _ = n(4), S = l(_), w = n(13), T = l(w), C = n(175), E = l(C), I = n(768), P = l(I), O = n(9), A = n(78), k = n(8), R = n(74), x = {
_$Highlights: {
displayName: "Highlights"
}
}, M = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/eor/Highlights.jsx",
components: x,
locals: [],
imports: []
}), N = O.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/UX_Sparta_EOR_Woodenbox-254c1b2c.wav"), $ = O.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Highlights_Highscore-2eaa41b0.wav"), D = O.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Battlepack_Flare-ba80aa6a.wav"), U = O.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/battlepack-flare-main-a7b03448.png"), L = 80, F = SpartaGlobals.bundleIsConsole ? 117 : 157, G = SpartaGlobals.bundleIsConsole ? 192 : 256, j = 698, B = 207, H = y.createStyleSheet({
highlights: {
flex: 1,
justifyContent: "flex-start",
flexDirection: "column"
},
highlightsWrapper: {
flexDirection: "row",
justifyContent: "space-around"
},
packWrapper: {
height: 160,
marginTop: SpartaGlobals.bundleIsConsole ? 0 : 30,
position: "relative",
flexDirection: "column",
alignItems: "center",
justifyContent: "center"
},
packs: {
flexDirection: "row",
justifyContent: "center",
alignItems: "center"
},
packImage: {
height: F,
width: G,
marginRight: 30
}
}), V = function(e) {
function t(t) {
a(this, n), e.call(this, t);
var r = A.tunguskaEndOfRoundStore.isViewed(A.EorPages.highlights), o = A.tunguskaEndOfRoundStore.battlePacks, i = o && o.players || [], s = (L + 4) * i.length + G + 30, l = r ? 0 : s / 2 - G / 2;
this.state = {
focusedId: null,
renderPlayers: !1,
packsContainerWidth: s
}, this.tweens = {
textTranslateY: T["default"].tween("c77b6fb3:78", 200),
textTranslateX: T["default"].tween("c77b6fb3:79", 0),
textOpacity: T["default"].tween("c77b6fb3:80", 0),
overlayTextOpacity: T["default"].tween("c77b6fb3:81", 0),
packImageTranslateY: T["default"].tween("c77b6fb3:82", r ? 0 : 100),
packImageTranslateX: T["default"].tween("c77b6fb3:83", l),
packImageOpacity: T["default"].tween("c77b6fb3:84", r ? 1 : 0),
flareOpacity: T["default"].tween("c77b6fb3:85", 0),
flareTranslateX: T["default"].tween("c77b6fb3:86", -j / 2)
}, this.battlepackSound = y.Sound.load(N), this.flareSound = y.Sound.load(D), this.highlightsSound = y.Sound.load($), 
this.highlightsSound.setVolume(1);
}
i(t, e), t.prototype.componentWillMount = function r() {
this.timeouts = [];
}, t.prototype.componentDidMount = function l() {
var e = 1e3, t = 3 * E["default"].highlights.highlight.base.delay + E["default"].highlights.highlight.grow.duration + e, n = A.tunguskaEndOfRoundStore.battlePacks || {};
A.tunguskaEndOfRoundStore.isViewed(A.EorPages.highlights) || (this.highlightsSound.play(), 
n.players && n.packs && n.players.length && this.play(t)), this._isMounted = !0;
}, t.prototype.componentWillUnmount = function u() {
A.tunguskaEndOfRoundStore.viewPage(A.EorPages.highlights), this._isMounted = !1, 
this.clearTimeouts();
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.getFactionFlagForTeam = function p(e, t) {
var n = "";
if (t) {
var r = S["default"].find(t.teams, function(t) {
return t.teamId === e;
});
r && (n = r.faction.imageUrl);
}
return n;
}, t.prototype.clearTimeouts = function f() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.setTimeout = function(e) {
function t() {
return e.apply(this, arguments);
}
return t.toString = function() {
return e.toString();
}, t;
}(function() {
this.timeouts.push(setTimeout.apply(void 0, arguments));
}), t.prototype.play = function d(e) {
var t = this, n = 700, r = 1e3, o = 1500, a = e + n + o;
this.tweens.textOpacity.to(1, {
delay: e,
duration: n,
easing: [ 0, .33, .33, 1 ]
}), this.tweens.textTranslateY.to(100, {
delay: e,
duration: n,
easing: [ 0, .33, .33, 1 ]
}, function() {
t._isMounted && (t.tweens.flareOpacity.to(1, {
duration: r / 2
}, function() {
t.tweens.flareOpacity.to(0, {
duration: r / 2
});
}), t.tweens.flareTranslateX.to(j / 4, {
duration: r
}), t.tweens.overlayTextOpacity.to(.5, {
delay: 100,
duration: r / 2
}, function() {
t.tweens.overlayTextOpacity.to(0, {
duration: r / 2
});
}));
}), this.setTimeout(function() {
t.flareSound.play();
}, e + n - 200), this.tweens.textTranslateX.to(600, {
delay: a,
duration: 800
}), this.tweens.textOpacity.to(0, {
delay: a,
duration: 800
}), this.setTimeout(function() {
t.battlepackSound.play();
}, a + 600), this.tweens.packImageOpacity.to(1, {
delay: a + 600,
duration: 800
}), this.tweens.packImageTranslateY.to(0, {
delay: a + 600,
duration: 800
}, function() {
t._isMounted && t.tweens.packImageTranslateX.to(0, {
delay: 100,
duration: 800
}, function() {
t.setState({
renderPlayers: !0
});
});
});
}, t.prototype.renderPackInfo = function h(e, t, n) {
var r = this, a = [];
if (!e.players || !e.packs) return a;
var i = e.players, s = e.packs;
if (s.length) {
var l = s[0] ? s[0].imageUrl : "", u = {
texture: l,
translateY: this.tweens.packImageTranslateY.getStyle(),
translateX: this.tweens.packImageTranslateX.getStyle(),
opacity: this.tweens.packImageOpacity.getStyle()
};
a.push({
$$typeof: c,
type: "surface",
key: "leftImage",
ref: null,
props: {
style: [ H.packImage, u ]
},
_owner: null
});
}
return i.length && !function() {
var e = R.battlepackWinnersGroup;
i.forEach(function(i, s) {
var l = t && t.personaId === i.personaId;
a.push({
$$typeof: c,
type: P["default"],
key: "bpw-" + s,
ref: null,
props: o(P["default"].defaultProps, {
player: i,
size: L,
isMe: l || i.isMe,
focusGroup: e,
skipAnimation: n,
index: s,
isReady: r.state.renderPlayers
}),
_owner: null
});
});
}(), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: a,
style: [ H.packs, {
width: this.state.packsContainerWidth
} ]
},
_owner: null
};
}, t.prototype.renderHighlights = function g(e, t) {
var n = this, r = [];
return e && e.highlights ? !function() {
var a = e.highlights.length > 3;
e.highlights.forEach(function(i, s) {
var l = 0 === s, u = i.player.teamId || 0, p = n.getFactionFlagForTeam(u, e.scoreboard), f = !0, d = 0;
0 !== s && s % 2 === 0 && (f = !1), s > 2 ? d = 2 : s > 0 && (d = 1), s % 2 ? r.push({
$$typeof: c,
type: v["default"],
key: "h-" + s,
ref: null,
props: o(v["default"].defaultProps, {
big: l,
highlight: i,
delay: d,
index: s,
skipAnimation: t,
playSound: f,
flagUrl: p,
useNameMarquee: a
}),
_owner: null
}) : r.unshift({
$$typeof: c,
type: v["default"],
key: "h-" + s,
ref: null,
props: o(v["default"].defaultProps, {
big: l,
highlight: i,
delay: d,
index: s,
skipAnimation: t,
playSound: f,
flagUrl: p,
useNameMarquee: a
}),
_owner: null
});
});
}() : r = {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_HIGHLIGHTS")
}),
_owner: null
}, r;
}, t.prototype.render = function b() {
var e = A.tunguskaEndOfRoundStore.data, t = e.personalInfo, n = A.tunguskaEndOfRoundStore.isViewed(A.EorPages.highlights), r = null, a = A.tunguskaEndOfRoundStore.battlePacks || {}, i = {
color: "#FF6600",
position: "absolute",
left: 0,
top: 0,
right: 0,
bottom: 0,
opacity: this.tweens.overlayTextOpacity.getStyle()
}, s = {
position: "relative",
color: "#ffffff",
opacity: this.tweens.textOpacity.getStyle(),
translateY: this.tweens.textTranslateY.getStyle(),
translateX: this.tweens.textTranslateX.getStyle()
}, l = {
backgroundColor: "#ffff0010",
height: B,
width: j,
position: "absolute",
left: 0,
top: -B / 4 - 10,
texture: U,
opacity: this.tweens.flareOpacity.getStyle(),
translateX: this.tweens.flareTranslateX.getStyle()
}, u = this.renderHighlights(e, n);
if (a.players && a.packs && a.players.length) {
var p = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_BATTLEPACKS_DROP"), f = SpartaGlobals.bundleIsConsole ? "L" : "XL";
r = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
value: p.toUpperCase(),
type: "normal",
size: f
}),
_owner: null
}, {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
value: p.toUpperCase(),
type: "normal",
size: f,
style: i
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: l
},
_owner: null
} ],
style: s
},
_owner: null
};
}
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: u,
style: H.highlightsWrapper
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ r, this.renderPackInfo(a, t, n) ],
style: H.packWrapper
},
_owner: null
} ],
style: H.highlights
},
_owner: null
};
};
var n = t;
return t = s("_$Highlights")(t) || t, t = k.observer(t) || t;
}(d["default"].Component);
t["default"] = V, v["default"].propTypes = {
rank: d["default"].PropTypes.number
}, v["default"].defaultProps = {
rank: 5
}, V.title = function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_HIGHLIGHTS");
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return P(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(4), h = s(d), y = n(6), g = s(y), m = n(18), b = s(m), v = n(771), _ = s(v), S = n(449), w = n(767), T = s(w), C = n(78), E = n(8), I = {
_$Personal: {
displayName: "Personal"
}
}, P = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/eor/Personal.jsx",
components: I,
locals: [],
imports: []
}), O = {
main: {
flex: 1,
alignSelf: "center",
flexDirection: "column",
justifyContent: "space-between",
width: b["default"].safeZone.width,
marginBottom: g["default"].window.rowSpan(2)
},
top: {
flex: 0
},
bottom: {
flexDirection: "row"
},
scores: {
wrapper: {
flex: 2,
flexDirection: "column",
alignSelf: "flex-end"
},
mid: {
flexDirection: "row",
justifyContent: "space-around",
margin: [ g["default"].GUTTER, 0, 2 * g["default"].GUTTER, 0 ]
}
},
medals: {
wrapper: {
flex: 3,
marginRight: 100,
flexDirection: "column",
justifyContent: "flex-end"
}
}
}, A = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.componentWillUnmount = function s() {
C.tunguskaEndOfRoundStore.viewPage(C.EorPages.personal);
}, t.prototype.renderRankProgression = function l(e, t) {
var n = e.rankProgression, o = n.initialValue, a = n.scores, i = n.ranks, s = n.minutesToNextRank || 0;
return {
$$typeof: p,
type: _["default"],
key: null,
ref: null,
props: r(_["default"].defaultProps, {
width: g["default"].window.rowSpan(20),
initialValue: o,
skipAnimation: t,
minutesToNextRank: s,
segments: a,
ranks: i
}),
_owner: null
};
}, t.prototype.renderMedals = function u(e, t) {
var n = e.awardTrain || [], o = null;
return o = {
$$typeof: p,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
items: n,
skipAnimation: t
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: o,
style: O.medals.wrapper
},
_owner: null
};
}, t.prototype.renderModeSpecifics = function c(e, t, n, o) {
var a = h["default"].values(e), i = a.map(function(e, t) {
return {
$$typeof: p,
type: S.AnimatedStatRow,
key: null,
ref: null,
props: r(S.AnimatedStatRow.defaultProps, {
children: [ {
$$typeof: p,
type: S.Divider,
key: null,
ref: null,
props: r(S.Divider.defaultProps, {}),
_owner: null
}, {
$$typeof: p,
type: S.StatRow,
key: null,
ref: null,
props: r(S.StatRow.defaultProps, {
name: e.name,
value: e.value,
place: e.place
}),
_owner: null
} ],
delay: n + t,
skipAnimation: o
}),
_owner: null
};
});
return i.length && i.length > t ? i.slice(0, t) : i;
}, t.prototype.renderPersonalStats = function f(e, t) {
var n = e.stats, o = n.rankScore, a = 2, i = n.kills, s = n.kd, l = parseInt(n.spm.value || 0, 10);
return n ? {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: S.AnimatedStatBlock,
key: null,
ref: null,
props: r(S.AnimatedStatBlock.defaultProps, {
children: {
$$typeof: p,
type: S.StatBlock,
key: null,
ref: null,
props: r(S.StatBlock.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL_SCORE"),
value: o.value
}),
_owner: null
},
delay: 0,
skipAnimation: t
}),
_owner: null
},
style: O.scores.mid
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: S.AnimatedStatRow,
key: null,
ref: null,
props: r(S.AnimatedStatRow.defaultProps, {
children: [ {
$$typeof: p,
type: S.Divider,
key: null,
ref: null,
props: r(S.Divider.defaultProps, {}),
_owner: null
}, {
$$typeof: p,
type: S.StatRow,
key: null,
ref: null,
props: r(S.StatRow.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL_KILLS"),
value: i.value,
place: i.place
}),
_owner: null
} ],
delay: 0,
skipAnimation: t
}),
_owner: null
}, {
$$typeof: p,
type: S.AnimatedStatRow,
key: null,
ref: null,
props: r(S.AnimatedStatRow.defaultProps, {
children: [ {
$$typeof: p,
type: S.Divider,
key: null,
ref: null,
props: r(S.Divider.defaultProps, {}),
_owner: null
}, {
$$typeof: p,
type: S.StatRow,
key: null,
ref: null,
props: r(S.StatRow.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL_KD_RATIO"),
value: s.value,
decimals: 2,
place: s.place
}),
_owner: null
} ],
delay: 1,
skipAnimation: t
}),
_owner: null
}, this.renderModeSpecifics(n.modeSpecifics, 2, 2, t), {
$$typeof: p,
type: S.AnimatedStatRow,
key: null,
ref: null,
props: r(S.AnimatedStatRow.defaultProps, {
children: [ {
$$typeof: p,
type: S.Divider,
key: null,
ref: null,
props: r(S.Divider.defaultProps, {}),
_owner: null
}, {
$$typeof: p,
type: S.StatRow,
key: null,
ref: null,
props: r(S.StatRow.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL_ROUND_SCORE_PER_MIN"),
value: l,
place: l.place
}),
_owner: null
} ],
delay: a + 2,
skipAnimation: t
}),
_owner: null
} ]
},
_owner: null
} ],
style: O.scores.wrapper
},
_owner: null
} : void 0;
}, t.prototype.render = function d() {
var e = C.tunguskaEndOfRoundStore.data, t = e.personalInfo, n = C.tunguskaEndOfRoundStore.isViewed(C.EorPages.personal);
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderRankProgression(t, n),
style: O.top
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderMedals(t, n), this.renderPersonalStats(t, n) ],
style: O.bottom
},
_owner: null
} ],
style: O.main
},
_owner: null
};
};
var n = t;
return t = i("_$Personal")(t) || t, t = E.observer(t) || t;
}(f["default"].Component);
t["default"] = A, A.title = function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL");
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return C(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(2), h = n(18), y = s(h), g = n(774), m = s(g), b = n(6), v = s(b), _ = n(9), S = n(78), w = n(8), T = {
_$Scoreboard: {
displayName: "Scoreboard"
}
}, C = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/eor/Scoreboard.jsx",
components: T,
locals: [],
imports: []
}), E = _.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Scoreboard-f2349c49.wav"), I = SpartaGlobals.bundleIsPC ? y["default"].dangerZoneSize.width - 2 * v["default"].GUTTER : 0, P = {
main: {
flex: 1,
alignSelf: "center",
flexDirection: "row",
width: y["default"].safeZone.width + I,
marginBottom: v["default"].window.rowSpan(3)
}
}, O = function(e) {
function t(t) {
o(this, n), e.call(this, t), S.tunguskaEndOfRoundStore.isViewed(S.EorPages.scoreboard) || (this.introSound = d.Sound.load(E), 
this.introSound.setVolume(1));
}
a(t, e), t.prototype.componentWillMount = function s() {
S.tunguskaEndOfRoundStore.isViewed(S.EorPages.scoreboard) || this.introSound.play();
}, t.prototype.componentWillUnmount = function l() {
S.tunguskaEndOfRoundStore.viewPage(S.EorPages.scoreboard);
}, t.prototype.renderTeam = function u(e, t, n, o, a) {
return {
$$typeof: p,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
index: t,
team: e,
me: n,
left: o,
skipAnimation: a
}),
_owner: null
};
}, t.prototype.render = function c() {
var e = this, t = S.tunguskaEndOfRoundStore.data || {}, n = t.scoreboard, r = t.personalInfo, o = r.teamId || 1, a = S.tunguskaEndOfRoundStore.isViewed(S.EorPages.scoreboard), i = [];
return n.teams.map(function(t) {
t.teamId === o ? i.unshift(e.renderTeam(t, 0, r, !0, a)) : i.push(e.renderTeam(t, 1, r, !1, a));
}), {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: i,
style: P.main
},
_owner: null
};
};
var n = t;
return t = i("_$Scoreboard")(t) || t, t = w.observer(t) || t;
}(f["default"].Component);
t["default"] = O, O.title = function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD");
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(4), h = s(d), y = n(6), g = s(y), m = n(7), b = s(m), v = n(18), _ = s(v), S = n(777), w = s(S), T = n(86), C = n(449), E = n(31), I = n(78), P = n(8), O = {
_$Squad: {
displayName: "Squad"
}
}, A = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-tunguska/src/gameview/routes/eor/Squad.jsx",
components: O,
locals: [],
imports: []
}), k = SpartaGlobals.bundleIsPC ? g["default"].window.rowSpan(35) : g["default"].window.rowSpan(20), R = _["default"].content.height - k, x = {
main: {
flex: 1,
alignSelf: "center",
flexDirection: "row",
justifyContent: "space-between",
width: _["default"].safeZone.width,
marginBottom: g["default"].window.rowSpan(2)
},
squad: {
wrapper: {
flex: 3,
justifyContent: "flex-start"
},
heading: {
flexDirection: "row",
alignItems: "flex-end",
marginBottom: g["default"].window.rowSpan(3)
},
empty: {
margin: g["default"].GUTTER,
justifyContent: "center"
},
decorator: {
color: "#efefef80",
marginLeft: 2 * g["default"].GUTTER
}
},
score: {
mid: {
flexDirection: "row",
justifyContent: "space-around",
margin: [ g["default"].GUTTER, 0, 2 * g["default"].GUTTER, 0 ]
},
top: {
flexDirection: "row",
justifyContent: "space-around"
},
wrapper: {
flex: 2,
flexDirection: "column",
alignSelf: "flex-end"
}
}
}, M = {
0: function $() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD_TEAM");
},
1: function D() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_APPLES");
},
2: function U() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_BUTTER");
},
3: function L() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_CHARLIE");
},
4: function F() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_DUFF");
},
5: function G() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_EDWARD");
},
6: function j() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_FREDDIE");
},
7: function B() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_GEORGE");
},
8: function H() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_HARRY");
},
9: function V() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_INK");
},
10: function z() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_JOHNNIE");
},
11: function W() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_KING");
},
12: function q() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_LONDON");
},
13: function K() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_MONKEY");
},
14: function X() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_NUTS");
},
15: function Y() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ORANGE");
},
16: function J() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_PUDDING");
},
17: function Q() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_QUEENIE");
},
18: function Z() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ROBERT");
},
19: function ee() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_SUGAR");
},
20: function te() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_TOMMY");
},
21: function ne() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_UNCLE");
},
22: function re() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_VIC");
},
23: function oe() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_WILLIAM");
},
24: function ae() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_XRAY");
},
25: function ie() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_YORKER");
},
26: function se() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ZEBRA");
},
27: function le() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_HAGGARD");
},
28: function ue() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_SWEETWATER");
},
29: function pe() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_PRESTON");
},
30: function ce() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_FAITH");
},
32: function fe() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_CELESTE");
}
}, N = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentWillUnmount = function s() {
I.tunguskaEndOfRoundStore.viewPage(I.EorPages.squad);
}, t.prototype.renderModeSpecifics = function l(e, t, n) {
var o = h["default"].values(e), a = o.map(function(e, t) {
return {
$$typeof: p,
type: C.AnimatedStatRow,
key: null,
ref: null,
props: r(C.AnimatedStatRow.defaultProps, {
children: [ {
$$typeof: p,
type: C.Divider,
key: null,
ref: null,
props: r(C.Divider.defaultProps, {}),
_owner: null
}, {
$$typeof: p,
type: C.StatRow,
key: null,
ref: null,
props: r(C.StatRow.defaultProps, {
name: e.name,
value: e.value,
place: e.place
}),
_owner: null
} ],
delay: t,
skipAnimation: n
}),
_owner: null
};
});
return a.length && a.length > t ? a.slice(0, t) : a;
}, t.prototype.renderSquadStats = function u(e, t) {
if (!e) return {
$$typeof: p,
type: g["default"].Col,
key: null,
ref: null,
props: r(g["default"].Col.defaultProps, {
children: {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_MISSING_DATA")
}),
_owner: null
},
width: "12",
style: x.squad.empty
}),
_owner: null
};
var n = e.deaths, o = e.kills, a = e.kd, i = parseInt(e.spm.value || 0, 10);
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: C.AnimatedStatBlock,
key: null,
ref: null,
props: r(C.AnimatedStatBlock.defaultProps, {
children: {
$$typeof: p,
type: C.StatBlock,
key: null,
ref: null,
props: r(C.StatBlock.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_SCORE"),
value: e.rankScore.value
}),
_owner: null
},
delay: 0,
skipAnimation: t
}),
_owner: null
}, {
$$typeof: p,
type: C.AnimatedStatBlock,
key: null,
ref: null,
props: r(C.AnimatedStatBlock.defaultProps, {
children: {
$$typeof: p,
type: C.StatBlock,
key: null,
ref: null,
props: r(C.StatBlock.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ROUND_SCORE_PER_MIN"),
value: i
}),
_owner: null
},
delay: 0,
skipAnimation: t
}),
_owner: null
} ],
style: x.score.top
},
_owner: null
}, {
$$typeof: p,
type: C.Divider,
key: null,
ref: null,
props: r(C.Divider.defaultProps, {}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: C.AnimatedStatBlock,
key: null,
ref: null,
props: r(C.AnimatedStatBlock.defaultProps, {
children: {
$$typeof: p,
type: C.SmallStatBlock,
key: null,
ref: null,
props: r(C.SmallStatBlock.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_KILLS"),
value: o.value
}),
_owner: null
},
delay: 0,
skipAnimation: t
}),
_owner: null
}, {
$$typeof: p,
type: C.AnimatedStatBlock,
key: null,
ref: null,
props: r(C.AnimatedStatBlock.defaultProps, {
children: {
$$typeof: p,
type: C.SmallStatBlock,
key: null,
ref: null,
props: r(C.SmallStatBlock.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_DEATHS"),
value: n.value
}),
_owner: null
},
delay: 1,
skipAnimation: t
}),
_owner: null
}, {
$$typeof: p,
type: C.AnimatedStatBlock,
key: null,
ref: null,
props: r(C.AnimatedStatBlock.defaultProps, {
children: {
$$typeof: p,
type: C.SmallStatBlock,
key: null,
ref: null,
props: r(C.SmallStatBlock.defaultProps, {
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_KD_RATIO"),
value: T.formatDecimals(a.value, 2)
}),
_owner: null
},
delay: 2,
skipAnimation: t
}),
_owner: null
} ],
style: x.score.mid
},
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderModeSpecifics(e.modeSpecifics, 4, t)
},
_owner: null
} ],
style: x.score.wrapper
},
_owner: null
};
}, t.prototype.renderSquadHighlights = function c(e, t, n) {
var o = n ? {
$$typeof: p,
type: E.Scroller,
key: null,
ref: null,
props: r(E.Scroller.defaultProps, {
children: e,
style: {
height: R,
width: g["default"].getWidth(11)
},
controller: !0,
softClip: [ 0, g["default"].getHeight(2), 0, g["default"].getHeight(2) ],
clipMargin: [ g["default"].getHeight(2), 0, g["default"].getHeight(2), 10 ]
}),
_owner: null
} : e;
return e ? {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: t.toUpperCase(),
type: "emphasis",
size: "M"
}),
_owner: null
},
style: x.squad.heading
},
_owner: null
}, o ],
style: x.squad.wrapper
},
_owner: null
} : {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD")
}),
_owner: null
},
width: "12",
style: x.squad.empty
},
_owner: null
};
}, t.prototype.render = function f() {
var e = I.tunguskaEndOfRoundStore.data, t = e.squadInfo, n = I.tunguskaEndOfRoundStore.isViewed(I.EorPages.squad), o = M[t.squadId] || __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD_TEAM"), a = o() === __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD_TEAM") ? __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD_TEAM").toLocaleUpperCase() : __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_TEAM").replace("[[SquadTeam]]", o()).toLocaleUpperCase(), i = t.highlights.length > 5, s = t.highlights.map(function(t, o) {
var a = t.player && t.player.rank || 0, i = e.getRankByNumber(a), s = i ? i.imageUrl : "", l = {
texture: s
};
return {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
highlight: t,
rankImageStyle: l,
delay: o,
skipAnimation: n
}),
_owner: null
};
});
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderSquadHighlights(s, a, i, n), this.renderSquadStats(t.stats, n) ],
style: x.main
},
_owner: null
};
};
var n = t;
return t = i("_$Squad")(t) || t, t = P.observer(t) || t;
}(f["default"].Component);
t["default"] = N, N.title = function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD");
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t) {
function n(e) {
e = e || {}, this.battlepacks = e.battlepacks || 0, this.items = e.items || 0, this.scraps = e.scraps || 0;
}
t.__esModule = !0, t["default"] = n, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e() {
return {
slots: [ {
name: __("ID_SPARTA_FILTER_SLOTS_NONE"),
filterKey: "none"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_ONETOFIVE"),
filterKey: "oneToFive"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_SIXTOTEN"),
filterKey: "sixToTen"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_TENPLUS"),
filterKey: "tenPlus"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_ALL"),
filterKey: "all"
}, {
name: __("ID_SPARTA_FILTER_SLOTS_SPECTATOR"),
filterKey: "spectator",
PCOnly: "true"
} ],
gameSizes: [ {
name: "10",
filterKey: "10"
}, {
name: "16",
filterKey: "16"
}, {
name: "24",
filterKey: "24"
}, {
name: "32",
filterKey: "32"
}, {
name: "48",
filterKey: "48"
}, {
name: "64",
filterKey: "64"
} ],
regions: [ {
name: __("ID_SPARTA_FILTER_REGION_NAM"),
filterKey: "NAm"
}, {
name: __("ID_SPARTA_FILTER_REGION_SAM"),
filterKey: "SAm"
}, {
name: __("ID_SPARTA_FILTER_REGION_AC"),
filterKey: "AC"
}, {
name: __("ID_SPARTA_FILTER_REGION_AFR"),
filterKey: "Afr"
}, {
name: __("ID_SPARTA_FILTER_REGION_EU"),
filterKey: "EU"
}, {
name: __("ID_SPARTA_FILTER_REGION_ASIA"),
filterKey: "Asia"
}, {
name: __("ID_SPARTA_FILTER_REGION_OC"),
filterKey: "OC"
} ]
};
}
t.__esModule = !0, t.getServerFilters = e;
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return L(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = n(1), d = s(f), h = n(7), y = s(h), g = n(181), m = s(g), b = n(13), v = s(b), _ = n(105), S = s(_), w = n(18), T = s(w), C = n(25), E = s(C), I = n(9), P = n(11), O = n(2), A = n(20), k = s(A), R = n(6), x = s(R), M = n(14), N = s(M), $ = n(12), D = s($), U = {
_$FullScreenVideoControls: {
displayName: "FullScreenVideoControls"
}
}, L = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/FullScreenVideoControls.jsx",
components: U,
locals: [],
imports: []
}), F = I.bbOfflineUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"), G = {
position: "absolute",
top: T["default"].dangerZoneSize.height,
right: T["default"].dangerZoneSize.width,
zOffset: 100
}, j = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.opacityTween = v["default"].tween("14cca595:33", 1), 
this.timeout = null, this.state = {
canClose: !t.timeout || t.timeout <= 0
};
}
a(t, e), t.prototype.componentDidMount = function s() {
var e = this;
this.state.canClose || (this.timeout = setTimeout(function() {
e.setState({
canClose: !0
}), clearTimeout(e.timeout);
}, this.props.timeout));
}, t.prototype.componentWillUnmount = function l() {
clearTimeout(this.timeout);
}, t.prototype.getInput = function u() {
var e = this;
return this.state.canClose ? [ new N["default"]({
label: this.props.label ? this.props.label : __("ID_SPARTA_ACTION_CLOSE"),
key: D["default"].Decline,
action: function t() {
return e.onClose();
}
}) ] : [];
}, t.prototype.onClose = function f() {
clearTimeout(this.timeout), E["default"].close(this.props.popupInfo.id), this.props.onClose();
}, t.prototype.popupWillShow = function d() {
this.opacityTween.transition(1, 0, {
delay: 3e3
});
}, t.prototype.render = function h() {
var e = this, t = {
width: T["default"].screen.style.width,
height: T["default"].screen.style.height,
backgroundColor: "#000000",
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
video: this.props.video.id,
textureMode: "contain"
}, n = {
zOffset: 11,
marginLeft: m["default"].dangerZoneSize.width,
marginRight: m["default"].dangerZoneSize.width,
marginTop: m["default"].dangerZoneSize.height,
opacity: this.opacityTween.getStyle()
}, o = c({}, G, {
enableMouseEvents: this.state.canClose,
opacity: v["default"].tweenSwitch(0, 1, this.state.canClose)
}), a = SpartaGlobals.bundleIsPC ? {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: O.Focusable,
key: null,
ref: null,
props: r(O.Focusable.defaultProps, {
children: function s(t) {
return {
$$typeof: p,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
action: function() {
return e.onClose();
},
size: 24,
focusItem: t,
icon: F,
style: {
padding: x["default"].GUTTER
}
}),
_owner: null
};
},
debugName: "video_close"
}),
_owner: null
},
style: o
},
_owner: null
} : null, i = P.layoutStateStore.current.config.gameId || "generic";
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
size: "L",
value: this.props.heading.toUpperCase(),
section: i
}),
_owner: null
}, {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
size: "XS",
value: this.props.author,
section: i
}),
_owner: null
} ],
style: n
},
_owner: null
} ],
style: t
},
_owner: null
};
};
var n = t;
return t = i("_$FullScreenVideoControls")(t) || t, t = k["default"]()(t) || t;
}(d["default"].Component);
t["default"] = j, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function() {
function e(t, r, o, a, i, s) {
n(this, e), this.width = t, this.height = r, this.columns = o, this.rows = a, this.gutterWidth = i, 
this.gutterHeight = s, this.columnWidth = (t - i * (o - 1)) / o, this.rowHeight = (r - s * (a - 1)) / a;
}
return e.prototype.fontSize = function t(e) {
return this.rowHeight * e * .7893;
}, e.prototype.xParts = function r(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? this.gutterWidth : arguments[1];
return (this.width - (e - 1) * t) / e;
}, e.prototype.yParts = function o(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? this.gutterHeight : arguments[1];
return (this.height - (e - 1) * t) / e;
}, e.prototype.colSpan = function a(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? this.gutterWidth : arguments[1];
return this.columnWidth * e + t * (e - 1);
}, e.prototype.rowSpan = function i(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? this.gutterHeight : arguments[1];
return this.rowHeight * e + t * (e - 1);
}, e;
}();
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
return "undefined" == typeof e ? "" : __(e ? "ID_SPARTA_FILTER_SETTING_ON" : "ID_SPARTA_FILTER_SETTING_OFF");
}
function i(e, t) {
return t ? "#000000" : void 0;
}
t.__esModule = !0;
var s = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, l = n(1), u = (r(l), 
n(7)), p = r(u), c = n(6), f = r(c);
t["default"] = function(e) {
var t = e.value, n = e.focused, r = e.isArabic, l = {
zOffset: 1,
flex: 1
};
return r ? l.marginRight = f["default"].GUTTER : l.marginLeft = f["default"].GUTTER, 
{
$$typeof: s,
type: p["default"],
key: null,
ref: null,
props: o(p["default"].defaultProps, {
size: "S",
value: a(t),
type: n ? "emphasis" : "normal",
color: i(t, n),
style: l
}),
_owner: null
};
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return $(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), h = n(1), y = l(h), g = n(2), m = r(g), b = n(4), v = l(b), _ = n(8), S = n(10), w = n(6), T = l(w), C = n(13), E = l(C), I = n(7), P = l(I), O = n(105), A = l(O), k = n(68), R = n(112), x = l(R), M = n(74), N = {
_$QuickLinks: {
displayName: "QuickLinks"
}
}, $ = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/QuickLinks.jsx",
components: N,
locals: [],
imports: []
}), D = m.createStyleSheet({
container: {
marginTop: T["default"].getHeight(3.5),
marginLeft: -T["default"].GUTTER,
marginBottom: T["default"].getHeight(3),
height: T["default"].getHeight(15)
},
descriptionRow: {
paddingLeft: T["default"].GUTTER,
marginTop: SpartaGlobals.bundleIsPC ? 2 * -T["default"].GUTTER : 0
},
iconRow: {
flexDirection: "row",
marginBottom: T["default"].getHeight(2),
zOffset: 1
},
iconButton: {
marginRight: T["default"].getWidth(1),
padding: SpartaGlobals.bundleIsPC ? [ T["default"].GUTTER, T["default"].GUTTER, T["default"].GUTTER, T["default"].GUTTER ] : 0,
alignItems: "center"
},
notifier: {
position: "absolute",
top: SpartaGlobals.bundleIsPC ? 1.5 * T["default"].GUTTER : 0,
left: SpartaGlobals.bundleIsPC ? T["default"].getHeight(5.5) : T["default"].getHeight(4),
height: T["default"].getHeight(3),
paddingLeft: T["default"].getHeight(1),
paddingRight: T["default"].getHeight(1),
alignItems: "center",
justifyContent: "center",
zOffset: 10,
backgroundColor: [ 255, 153, 0, 255 ],
borderRadius: T["default"].getHeight(1.3),
enableMouseEvents: !1
}
}), U = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.renderNotification = function r(e, t, n, a) {
return e.notificationText ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
size: "XS",
value: e.notificationText,
color: "#000000"
}),
_owner: null
},
style: c({}, D.notifier, {
opacity: E["default"].tweenSwitch(.8, 1, t.isFocused, n, a)
})
},
_owner: null
} : null;
}, t.prototype.render = function l() {
var e = this, t = {
duration: E["default"].defaultTweenOptions.duration
}, n = {
duration: E["default"].defaultTweenOptions.duration / 2
}, r = c({}, D.descriptionRow, {
opacity: E["default"].tweenSwitch(0, 1, this.hasFocus, t, n)
}), a = v["default"].map(this.props.items, function(r, a) {
var i = r.blur || null;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: g.Focusable,
key: null,
ref: null,
props: o(g.Focusable.defaultProps, {
children: function s(l) {
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: A["default"],
key: a,
ref: null,
props: o(A["default"].defaultProps, {
focusItem: l,
icon: r.icon,
blur: i,
action: r.action,
size: T["default"].getHeight(6),
style: D.iconButton,
muted: r.muted
}),
_owner: null
}, e.renderNotification(r, l, t, n) ]
},
_owner: null
};
},
debugName: "quicklink_" + a,
groupIndex: a,
group: M.quicklinksGroup
}),
_owner: null
}
},
_owner: null
};
});
k.fontState.locale === x["default"].ARABIC && (a = a.reverse());
var i = {
marginLeft: T["default"].GUTTER,
paddingRight: T["default"].GUTTER,
zOffset: 999,
width: T["default"].getWidth(2 * a.length),
textAlignForRTL: "left"
}, s = {
paddingRight: T["default"].GUTTER,
width: T["default"].getWidth(2 * a.length),
textAlignForRTL: "left"
};
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
value: __("ID_SPARTA_CONTENT_TITLE_QUICKLINKS").toUpperCase(),
size: "S",
type: "emphasis",
style: i
}),
_owner: null
}, y["default"].createElement("surface", {
style: D.iconRow,
ref: "icons"
}, a), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
value: this.description.toUpperCase(),
size: "S",
style: s
}),
_owner: null
},
style: r
},
_owner: null
} ],
style: D.container
},
_owner: null
};
}, d(t, [ {
key: "description",
decorators: [ S.computed ],
get: function u() {
if (M.quicklinksGroup.focusedIndex > -1) {
var e = this.props.items[M.quicklinksGroup.focusedIndex];
if (e) return e.description;
}
return "";
}
}, {
key: "hasFocus",
decorators: [ S.computed ],
get: function p() {
return M.quicklinksGroup.focusedIndex > -1;
}
} ]);
var n = t;
return t = s("_$QuickLinks")(t) || t, t = _.observer(t) || t;
}(y["default"].Component);
t["default"] = U, U.propTypes = {
items: y["default"].PropTypes.array
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return function(t) {
return c(t, e);
};
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e) {
return [ d.hexToR(e) / 255, d.hexToG(e) / 255, d.hexToB(e) / 255, d.hexToA(e) / 255 ];
}
var i = n(3), s = o(i);
t.__esModule = !0;
var l = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, u = n(9), p = {
_$Unknown: {}
}, c = s["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/RadialProgressBar/RadialProgressBar.jsx",
components: p,
locals: [],
imports: []
}), f = n(1), d = {
cutHex: function y(e) {
return "#" === e.charAt(0) ? e.substr(1) : e;
},
hexToR: function g(e) {
return parseInt(d.cutHex(e).substring(0, 2), 16);
},
hexToG: function m(e) {
return parseInt(d.cutHex(e).substring(2, 4), 16);
},
hexToB: function b(e) {
return parseInt(d.cutHex(e).substring(4, 6), 16);
},
hexToA: function v(e) {
return e = d.cutHex(e), 8 === e.length ? parseInt(e.substring(6, 8), 16) : 255;
},
hexToRGBA: function _(e) {
var t = "#" === e.charAt(0) ? e.substr(1) : e, n = [ parseInt(t.substring(0, 2), 16), parseInt(t.substring(2, 4), 16), parseInt(t.substring(4, 6), 16), 255 ];
return 8 === t.length && (n[3] = parseInt(t.substring(6, 8), 16)), n;
}
}, h = r("_$Unknown")(f.createClass({
propTypes: {
progress: f.PropTypes.number.isRequired,
progressColor: f.PropTypes.string,
bgColor: f.PropTypes.string
},
getDefaultProps: function S() {
return {
progress: 0,
progressColor: "#FFFFFFFF",
bgColor: "#333333FF",
size: 128
};
},
render: function w() {
var e = a(this.props.progressColor), t = a(this.props.bgColor), n = [ this.props.progress, 0, 0, 0 ], r = [ {
width: this.props.size,
height: this.props.size,
shaderProgram: "Twinkle_RadialProgressBar",
texture: u.bbOfflineUrl("/sparta/jsclient/builds/assets/radial_progress_bar-b474e4ed.png"),
textureAtlas: "SpartaCommonAtlas",
shaderSurfaceUv: !0,
shaderParam_radialProgressBar_color: e,
shaderParam_radialProgressBar_bgColor: t,
shaderParam_radialProgressBar_progress: n
} ].concat(this.props.style);
return {
$$typeof: l,
type: "surface",
key: null,
ref: null,
props: {
style: r
},
_owner: null
};
}
}));
t["default"] = h, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
return e ? __("ID_SPARTA_FORMAT_PERCENT").replace("[[value]]", e) : e;
}
function i(e) {
return e ? __("ID_SPARTA_FORMAT_SECONDS").replace("[[value]]", e) : e;
}
function s(e) {
return e ? e[0] === e[1] ? e[0] + "" : e[0] + " - " + e[1] : "";
}
t.__esModule = !0;
var l = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, u = n(1), p = (r(u), 
n(7)), c = r(p);
t["default"] = function(e) {
var t = e.value, n = e.focused, r = e.option, u = s(t);
return "percent" === r.format ? u = a(u) : "seconds" === r.format && (u = i(u)), 
{
$$typeof: l,
type: c["default"],
key: null,
ref: null,
props: o(c["default"].defaultProps, {
size: "S",
value: u,
type: n ? "emphasis" : "normal",
color: n ? "#000000" : void 0,
style: {
zOffset: 1
}
}),
_owner: null
};
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e) {
var t = c["default"].values(e);
return t.length ? 100 * t[0] + "%" : "";
}
t.__esModule = !0;
var i = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, s = n(1), l = (r(s), 
n(7)), u = r(l), p = n(4), c = r(p), f = n(6), d = r(f);
t["default"] = function(e) {
var t = e.value, n = e.focused, r = e.isArabic, s = {
zOffset: 1,
flex: 1
};
return r ? s.marginRight = d["default"].GUTTER : s.marginLeft = d["default"].GUTTER, 
{
$$typeof: i,
type: u["default"],
key: null,
ref: null,
props: o(u["default"].defaultProps, {
size: "S",
value: a(t),
type: n ? "emphasis" : "normal",
color: n ? "#000000" : void 0,
style: s
}),
_owner: null
};
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return W(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(1), h = l(d), y = n(20), g = l(y), m = n(2), b = r(m), v = n(22), _ = l(v), S = n(6), w = l(S), T = n(7), C = l(T), E = n(60), I = n(16), P = l(I), O = n(28), A = l(O), k = n(99), R = l(k), x = n(125), M = l(x), N = n(113), $ = l(N), D = n(242), U = n(17), L = l(U), F = n(14), G = l(F), j = n(12), B = l(j), H = n(32), V = n(8), z = {
_$FilterBar: {
displayName: "FilterBar"
}
}, W = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/FilterBar.jsx",
components: z,
locals: [],
imports: []
}), q = {
filter: {
flexDirection: "row"
},
spacer: {
width: w["default"].GUTTER
},
customGamesText: {
color: "#FF9900"
}
}, K = function(e) {
function t(t) {
var r = this;
a(this, n), e.call(this, t), this.focusItem = b.focus.create(this, "filterbar"), 
this.focusItem.setActive("9b20b6ec:40", SpartaGlobals.bundleIsPC), b.focus.onComponentUpdate(this, function(e, t) {
r.focusItem.setClickInput(new G["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function n() {
return L["default"].gotoLocation(e.filtersRoute);
},
key: B["default"].Accept
}));
});
}
i(t, e), t.prototype.componentWillMount = function r() {
this.subscribeToStores({
gamedata: A["default"](R["default"], this.props.gameId),
filter: A["default"](M["default"], this.props.gameId),
filterOptions: A["default"]($["default"], this.props.gameId)
}, !0);
}, t.prototype.componentDidMount = function l() {
this.state.gamedata || _["default"].refreshGameData();
}, t.prototype.render = function u() {
if (!this.state.filter) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var e = "", t = !1;
if (this.state.filter) {
var n = D.getFilterSummary(this.state.filter, this.state.filterOptions);
e = this.state.filter.filterName ? this.state.filter.filterName : n.text, t = n.isCustomGames;
}
e.length > 50 && (e = e.substring(0, 50) + "...");
var r = c({}, q.filter, {
opacity: this.focusItem.isFocused || SpartaGlobals.bundleIsConsole ? 1 : .66
}), a = [ {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: __("ID_SPARTA_FILTER_LABEL"),
size: "S",
type: "emphasis"
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: q.spacer
},
_owner: null
}, {
$$typeof: f,
type: E.Marquee,
key: null,
ref: null,
props: o(E.Marquee.defaultProps, {
children: {
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: e ? e.toUpperCase() : __("ID_SPARTA_FILTER_NONE"),
size: "S"
}),
_owner: null
},
showEllipsis: !0,
style: {
maxWidth: w["default"].getWidth(SpartaGlobals.bundleIsPC ? 11 : 7)
}
}),
_owner: null
} ];
return t && (a.push({
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: q.spacer
},
_owner: null
}), a.push({
$$typeof: f,
type: C["default"],
key: null,
ref: null,
props: o(C["default"].defaultProps, {
value: __("ID_SPARTA_FILTER_CUSTOM_FILTERS"),
size: "S",
style: q.customGamesText
}),
_owner: null
})), h["default"].createElement("surface", c({
style: r
}, this.focusItem.hooks), H.localeRearrange(a));
};
var n = t;
return t = s("_$FilterBar")(t) || t, t = P["default"]()(t) || t, t = g["default"]()(t) || t, 
t = V.observer(t) || t;
}(h["default"].Component);
t["default"] = K, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return O(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(4), y = s(h), g = n(7), m = s(g), b = n(6), v = s(b), _ = n(13), S = s(_), w = n(40), T = n(127), C = s(T), E = n(31), I = n(32), P = {
_$FilterItemInfo: {
displayName: "FilterItemInfo"
}
}, O = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/FilterItemInfo.jsx",
components: P,
locals: [],
imports: []
}), A = {
heading: SpartaGlobals.bundleIsConsole ? "L" : "M",
text: (SpartaGlobals.bundleIsConsole, "S")
}, k = SpartaGlobals.bundleIsConsole ? "M" : "S", R = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.tweens = {
opacity: S["default"].tween("29176900:23", 0)
}, this.width = v["default"].getWidth(10.5), this.state = {
filterItem: null
}, this.setFilterItem = this.setFilterItem.bind(this);
}
a(t, e), t.prototype.shouldComponentUpdate = function s(e, t) {
return null !== t.filterItem;
}, t.prototype.componentDidUpdate = function l() {
this.refs.scroller && this.refs.scroller.scrollTo(0, 0);
}, t.prototype.componentWillUnmount = function u() {
y["default"].each(this.tweens, function(e) {
e.destroy();
});
}, t.prototype.getImageUrl = function f(e) {
return e.images && (e.images.Jpg1000xANY || e.images.Medium) || e.imageUrl;
}, t.prototype.getIconUrl = function h(e, t) {
return t && t[e.filterKey];
}, t.prototype.getExpansionIcon = function g(e) {
if (0 !== e.toLowerCase().indexOf("xp")) return null;
var t = e.toLowerCase().substring(0, 3), n = {
marginLeft: v["default"].GUTTER,
marginTop: 2
};
return this.props.expansions && this.props.expansions[t] ? {
$$typeof: c,
type: C["default"],
key: null,
ref: null,
props: r(C["default"].defaultProps, {
image: this.props.expansions[t],
size: k,
style: n
}),
_owner: null
} : null;
}, t.prototype.setFilterItem = function b(e) {
!e && this.state.filterItem ? this.tweens.opacity.to(0) : e && !this.state.filterItem && this.tweens.opacity.to(1), 
this.setState({
filterItem: e
});
}, t.prototype.render = function _() {
var e = this.state.filterItem;
if (!e) return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var t = this.getImageUrl(e), n = "cover";
!t && this.props.icons && (t = this.getIconUrl(e, this.props.icons), t && (n = "none"));
var o = {
container: {
width: this.width,
opacity: this.tweens.opacity.getStyle()
},
name: {
marginBottom: 2 * v["default"].GUTTER,
textAlignForRTL: "left",
flex: 1
},
description: {
marginBottom: 2 * v["default"].GUTTER,
flexWrap: "wrap",
textLineSpacing: w.LINE_HEIGHTS[A.text],
textAlignForRTL: "left"
},
image: {
backgroundColor: "#000000",
texture: t,
width: this.width,
height: v["default"].getHeight(32),
textureMode: n,
marginBottom: 2 * v["default"].GUTTER,
layer: !0,
layerGrabBackground: !1
},
objectiveWrapper: {
flex: 1,
flexDirection: "row",
marginBottom: 2 * v["default"].GUTTER
},
objective: {
width: this.width - v["default"].getWidth(.5),
textLineSpacing: w.LINE_HEIGHTS[A.text]
},
listIndicator: {
width: v["default"].getWidth(.5) - v["default"].GUTTER
}
}, a = "";
e.description && e.description.length > 4 && (a = e.description.replace("\\n", "\n"));
var i = e.hasOwnProperty("assetName") ? this.getExpansionIcon(e.assetName) : null, s = e.objectives && e.objectives.map(function(e, t) {
return {
$$typeof: c,
type: "surface",
key: t,
ref: null,
props: {
children: [ {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
value: "-",
style: o.listIndicator,
size: A.text
}),
_owner: null
}, {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
value: e,
style: o.objective,
size: A.text
}),
_owner: null
} ],
style: o.objectiveWrapper
},
_owner: null
};
}), l = t ? {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: o.image
},
_owner: null
} : null, u = I.isRTLLanguage() ? {
marginRight: v["default"].GUTTER / 2
} : null;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ l, d["default"].createElement(E.Scroller, {
ref: "scroller",
style: {
height: v["default"].getHeight(40),
width: o.container.width
},
softClip: [ 0, v["default"].getHeight(.5), 0, v["default"].getHeight(2) ],
scrollbarPosition: "inside",
controller: !0
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
value: e.prettyName,
size: A.heading,
style: o.name
}),
_owner: null
}, i ],
style: {
flexDirection: "row"
}
},
_owner: null
}, {
$$typeof: c,
type: m["default"],
key: null,
ref: null,
props: r(m["default"].defaultProps, {
value: a,
size: A.text,
style: p({}, o.description, u)
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: s
},
_owner: null
}) ],
style: o.container
},
_owner: null
};
};
var n = t;
return t = i("_$FilterItemInfo")(t) || t;
}(d["default"].Component);
t["default"] = R, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return w(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(2), h = n(179), y = s(h), g = n(14), m = s(g), b = n(12), v = s(b), _ = n(8), S = {
_$FilterListItem: {
displayName: "FilterListItem"
}
}, w = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/FilterListItem.jsx",
components: S,
locals: [],
imports: []
}), T = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this.props.control, t = {
$$typeof: p,
type: e,
key: null,
ref: null,
props: r(e.defaultProps, {
value: this.props.value,
focused: this.props.focusItem.isFocused,
option: this.props.item
}),
_owner: null
}, n = this.props.onToggle && new m["default"]({
label: __("ID_SPARTA_ACTION_FILTER_TOGGLE"),
action: this.props.onToggle,
key: v["default"].Accept
});
return {
$$typeof: p,
type: y["default"],
key: null,
ref: null,
props: r(y["default"].defaultProps, {
focusItem: this.props.focusItem,
input: n,
item: this.props.item,
label: this.props.text,
subLabel: t,
scrollLabel: !0
}),
_owner: null
};
};
var n = t;
return t = i("_$FilterListItem")(t) || t, t = _.observer(t) || t;
}(f["default"].Component);
t["default"] = T, T.propTypes = {
focusItem: f["default"].PropTypes.instanceOf(d.focus.FocusItem).isRequired,
text: f["default"].PropTypes.string.isRequired,
item: f["default"].PropTypes.object,
onToggle: f["default"].PropTypes.func.isRequired
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return re(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(4), y = s(h), g = n(2), m = n(8), b = n(7), v = s(b), _ = n(296), S = s(_), w = n(23), T = s(w), C = n(31), E = n(6), I = s(E), P = n(178), O = s(P), A = n(180), k = s(A), R = n(60), x = n(219), M = s(x), N = n(14), $ = s(N), D = n(12), U = s(D), L = n(16), F = s(L), G = n(28), j = s(G), B = n(125), H = s(B), V = n(113), z = s(V), W = n(17), q = s(W), K = n(22), X = s(K), Y = n(83), J = s(Y), Q = n(9), Z = n(68), ee = n(112), te = s(ee), ne = {
_$QuickFilterCheckboxItem: {
displayName: "QuickFilterCheckboxItem"
},
_$QuickFilterTextItem: {
displayName: "QuickFilterTextItem"
},
_$QuickFilterCategoryHeader: {
displayName: "QuickFilterCategoryHeader"
},
_$QuickFilter: {
displayName: "QuickFilter"
}
}, re = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/QuickFilter.jsx",
components: ne,
locals: [],
imports: []
}), oe = Q.bbUrl("/sparta/assets/ui/icons/ui/down-1c405104.png"), ae = Q.bbUrl("/sparta/assets/ui/icons/ui/up-45fe9908.png"), ie = "4Th0rb3aR!1#@_28+&{.", se = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = g.focus.create(this, "quickfilter_checkbox_" + t.label), 
this.focusItem.setClickInput(new $["default"]({
action: function a() {
return r.props.onToggle();
},
label: t.label,
key: U["default"].Accept
}));
}
a(t, e), t.prototype.render = function s() {
var e = this.props.value || this.focusItem.isFocused ? 1 : .5, t = {
flexDirection: "row",
opacity: e,
marginBottom: I["default"].getHeight(1.3),
backgroundColor: "#00000001"
}, n = Z.fontState.locale === te["default"].ARABIC, o = n ? R.Direction.Left : R.Direction.Right, a = {
$$typeof: c,
type: O["default"],
key: null,
ref: null,
props: r(O["default"].defaultProps, {
value: this.props.value
}),
_owner: null
}, i = {
$$typeof: c,
type: M["default"],
key: null,
ref: null,
props: r(M["default"].defaultProps, {
children: {
$$typeof: c,
type: R.Marquee,
key: null,
ref: null,
props: r(R.Marquee.defaultProps, {
children: {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: this.props.label,
style: {
marginLeft: 2 * I["default"].GUTTER,
marginRight: 2 * I["default"].GUTTER
},
type: "normal",
size: "S"
}),
_owner: null
},
scroll: this.focusItem.isFocused,
scrollTo: o,
style: {
flex: 1
}
}),
_owner: null
},
width: I["default"].getWidth(3.5),
height: this.props.height,
clipContent: !0,
clipPadding: [ 0, 0, 0, 0 ],
softClip: [ 15, 0, 25, 0 ]
}),
_owner: null
};
return d["default"].createElement("surface", p({
style: t
}, this.focusItem.hooks), n ? i : a, n ? a : i);
};
var n = t;
return t = i("_$QuickFilterCheckboxItem")(t) || t, t = m.observer(t) || t;
}(d["default"].Component), le = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "test",
key: null,
ref: null,
props: {
guid: "server-quickfilter-text"
},
_owner: null
}, {
$$typeof: c,
type: k["default"],
key: null,
ref: null,
props: r(k["default"].defaultProps, {
size: "S",
initialValue: this.props.value,
onValueChanged: this.props.onValueChanged,
placeholder: __("ID_SPARTA_FILTER_BYNAME"),
maxLength: "25"
}),
_owner: null
} ],
style: {
marginTop: I["default"].GUTTER,
zOffset: 1
}
},
_owner: null
};
};
var n = t;
return t = i("_$QuickFilterTextItem")(t) || t;
}(d["default"].Component), ue = {
marginRight: I["default"].GUTTER,
width: I["default"].getHeight(1),
height: I["default"].getHeight(1),
textureMode: "contain",
marginTop: I["default"].getHeight(.5)
}, pe = {
zOffset: 1,
flexDirection: "row",
justifyContent: "space-between"
}, ce = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focusItem = g.focus.create(this, "quickfilter_header_" + t.category.label), 
this.focusItem.setClickInput(new $["default"]({
action: function a() {
return r.props.onClick();
},
label: t.category.label,
key: U["default"].Accept
}));
}
a(t, e), t.prototype.render = function s() {
var e = this.props.category, t = this.focusItem.isFocused ? {} : {
opacity: .66
}, n = "#FFFFFF", o = {
texture: this.props.isActive ? oe : ae,
opacity: this.focusItem.isFocused ? 1 : .6
}, a = Z.fontState.locale === te["default"].ARABIC, i = {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: e.label.toUpperCase(),
color: n,
style: t,
size: "S"
}),
_owner: null
}, s = {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ ue, o ]
},
_owner: null
};
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
spacing: 10
}),
_owner: null
}, d["default"].createElement("surface", p({
style: pe
}, this.focusItem.hooks), a ? s : i, a ? i : s) ]
},
_owner: null
};
};
var n = t;
return t = i("_$QuickFilterCategoryHeader")(t) || t, t = m.observer(t) || t;
}(d["default"].Component), fe = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.state = {
selectedCategory: null
}, this.onFilterChanged = J["default"](function() {
return X["default"].refreshServers({
game: r.props.gameId
});
}, 250), this.filterLayout = [ {
id: "gameModes",
label: __("ID_SPARTA_FILTER_GAMEMODES"),
toggleAll: !0
}, {
id: "maps",
label: __("ID_SPARTA_FILTER_MAPS"),
toggleAll: !0
}, {
id: "slots",
label: __("ID_SPARTA_FILTER_FREESLOTS"),
toggleAll: !0
}, {
id: "gameSizes",
label: __("ID_SPARTA_FILTER_GAMESIZE"),
toggleAll: !0,
invertOption: __("ID_SPARTA_FILTER_ITEM_OTHER")
} ], this.nameFilterLayout = {
id: "name",
label: __("ID_SPARTA_FILTER_NAME")
};
}
a(t, e), t.prototype.componentWillMount = function s() {
var e = j["default"](H["default"], this.props.gameId);
this.subscribeToStores({
filter: e,
filterOptions: j["default"](z["default"], this.props.gameId)
}, !0);
}, t.prototype.onResetFilter = function l() {
X["default"].resetFilters(this.props.gameId), X["default"].refreshServers({
game: this.props.gameId
});
}, t.prototype.onNameChanged = function u(e) {
e === ie && g.frostbite.sendMessage("sparta.triggerGameCrash"), X["default"].setFilterValue(this.props.gameId, "name", "name", "" === e ? null : e), 
this.onFilterChanged();
}, t.prototype.toggleCategory = function p(e) {
this.setState({
selectedCategory: this.state.selectedCategory === e ? null : e
});
}, t.prototype.renderCheckboxItem = function f(e, t, n, o) {
var a = this, i = "on" === n ? null : "on", s = function l() {
X["default"].setFilterValue(a.props.gameId, e.id, t.filterKey, i), a.onFilterChanged();
};
return {
$$typeof: c,
type: se,
key: null,
ref: null,
props: r(se.defaultProps, {
label: t.prettyName || t.name,
value: o ? null == n : "on" === n,
onToggle: s
}),
_owner: null
};
}, t.prototype.renderInvertCheckboxItem = function d(e, t, n) {
var o = this, a = function s(e) {
return y["default"].some(e, function(e) {
return "off" === e;
});
}, i = function l() {
X["default"].invertFilterCategory(o.props.gameId, e.id), o.onFilterChanged();
};
return {
$$typeof: c,
type: se,
key: null,
ref: null,
props: r(se.defaultProps, {
label: e.invertOption,
value: a(n),
onToggle: i
}),
_owner: null
};
}, t.prototype.renderCategoryItems = function h(e) {
var t = this, n = this.state.filterOptions[e.id], o = this.state.filter[e.id], a = y["default"].some(o, function(e) {
return "off" === e;
}), i = y["default"].map(n, function(n) {
return t.renderCheckboxItem(e, n, o[n.filterKey], a);
});
return e.invertOption && i.push(this.renderInvertCheckboxItem(e, n, o)), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: C.Scroller,
key: null,
ref: null,
props: r(C.Scroller.defaultProps, {
children: i,
style: {
height: I["default"].getHeight(24),
marginTop: I["default"].GUTTER
},
scrollbarPosition: "inside",
softClip: [ 0, 10, 0, 20 ]
}),
_owner: null
},
style: {
marginTop: 10,
marginBottom: 20
}
},
_owner: null
};
}, t.prototype.renderNameFilter = function m(e) {
var t = "";
return this.state.filter && this.state.filter[e.id] && this.state.filter[e.id].name && (t = this.state.filter[e.id].name), 
{
$$typeof: c,
type: le,
key: null,
ref: null,
props: r(le.defaultProps, {
value: t,
onValueChanged: this.onNameChanged.bind(this)
}),
_owner: null
};
}, t.prototype.renderCategoryHeader = function b(e) {
var t = this, n = this.state.selectedCategory === e.id;
return {
$$typeof: c,
type: ce,
key: null,
ref: null,
props: r(ce.defaultProps, {
onClick: function() {
return t.toggleCategory(e.id);
},
category: e,
isActive: n
}),
_owner: null
};
}, t.prototype.renderCategoryEditable = function _(e) {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderCategoryHeader(e), this.renderCategoryItems(e) ]
},
_owner: null
};
}, t.prototype.renderFilterCategory = function w(e) {
return this.state.selectedCategory === e.id ? this.renderCategoryEditable(e) : this.renderCategoryHeader(e);
}, t.prototype.render = function E() {
var e = this, t = y["default"].map(this.filterLayout, this.renderFilterCategory.bind(this));
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: r(v["default"].defaultProps, {
value: __("ID_SPARTA_CONTENT_TITLE_QUICKFILTER").toUpperCase(),
size: "S",
color: "#FFFFFF",
type: "emphasis",
style: {
flex: 1,
textAlignForRTL: "left"
}
}),
_owner: null
}, t, {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
spacing: 10
}),
_owner: null
}, this.renderNameFilter(this.nameFilterLayout), {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: r(S["default"].defaultProps, {
spacing: 20
}),
_owner: null
}, {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_FILTER_FULL").toUpperCase(),
action: function() {
return q["default"].gotoLocation(e.props.filtersRoute);
},
style: {
height: I["default"].getHeight(5)
}
}),
_owner: null
}, {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: r(T["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_FILTER_RESET").toUpperCase(),
action: function() {
return e.onResetFilter();
},
style: {
marginTop: I["default"].GUTTER,
height: I["default"].getHeight(5)
}
}),
_owner: null
} ]
},
_owner: null
};
};
var n = t;
return t = i("_$QuickFilter")(t) || t, t = F["default"]()(t) || t;
}(d["default"].Component);
t["default"] = fe, fe.propTypes = {
gameId: d["default"].PropTypes.string.isRequired,
filtersRoute: d["default"].PropTypes.string.isRequired
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return A(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), c = i(p), f = n(4), d = i(f), h = n(28), y = i(h), g = n(16), m = i(g), b = n(22), v = i(b), _ = n(62), S = i(_), w = n(7), T = i(w), C = n(6), E = i(C), I = n(212), P = i(I), O = {
_$QuickPresets: {
displayName: "QuickPresets"
}
}, A = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/QuickPresets.jsx",
components: O,
locals: [],
imports: []
}), k = function(t) {
function n(e) {
var n = this;
r(this, i), t.call(this, e), this.onFilterChanged = d["default"].debounce(function() {
return v["default"].refreshServers({
game: n.props.gameId
});
}, 250);
}
o(n, t), n.prototype.componentWillMount = function s() {
this.subscribeToStores({
savedFilters: y["default"](P["default"], this.props.gameId, "data")
}, !0), v["default"].refreshSavedFilters(this.props.gameId);
}, n.prototype.onPresetClicked = function l(e) {
v["default"].applyFilters(this.props.gameId, e), this.onFilterChanged();
}, n.prototype.renderPresetItem = function p(e) {
var t = this;
return {
fontSize: "XS",
id: e.id,
label: e.filterName,
scrollLabel: !0,
upperCase: !1,
onTrigger: function n() {
return t.onPresetClicked(e);
},
style: {
paddingLeft: 0,
paddingRight: 0,
height: E["default"].getHeight(5),
backgroundColor: "#00000022",
marginTop: E["default"].GUTTER
}
};
}, n.prototype.render = function c() {
var t = this;
if (!this.state.savedFilters || this.state.savedFilters.length < 1) return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var n = d["default"].first(d["default"].sortBy(this.state.savedFilters, "id").reverse(), 4), r = d["default"].map(n, function(e) {
return t.renderPresetItem(e);
});
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: u,
type: T["default"],
key: null,
ref: null,
props: e(T["default"].defaultProps, {
value: __("ID_SPARTA_CONTENT_TITLE_QUICKPRESETS").toUpperCase(),
size: "S",
type: "emphasis",
style: {
marginBottom: E["default"].GUTTER,
textAlignForRTL: "left"
}
}),
_owner: null
}, {
$$typeof: u,
type: S["default"],
key: null,
ref: null,
props: e(S["default"].defaultProps, {
items: r,
divider: "none"
}),
_owner: null
}, {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
style: {
height: E["default"].getHeight(2)
}
},
_owner: null
} ]
},
_owner: null
};
};
var i = n;
return n = a("_$QuickPresets")(n) || n, n = m["default"]()(n) || n;
}(c["default"].Component);
t.QuickPresets = k, k.propTypes = {
gameId: c["default"].PropTypes.string.isRequired
};
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return B(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(4), f = s(c), d = n(1), h = s(d), y = n(62), g = s(y), m = n(16), b = s(m), v = n(28), _ = s(v), S = n(212), w = s(S), T = n(125), C = s(T), E = n(22), I = s(E), P = n(6), O = s(P), A = n(12), k = s(A), R = n(14), x = s(R), M = n(104), N = s(M), $ = n(23), D = s($), U = n(18), L = s(U), F = n(35), G = n(31), j = {
_$SavedFiltersView: {
displayName: "SavedFiltersView"
}
}, B = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/SavedFiltersView.jsx",
components: j,
locals: [],
imports: []
}), H = {
itemSpacing: {
marginTop: O["default"].GUTTER
}
}, V = O["default"].getHeight(26), z = O["default"].getHeight(3), W = function(e) {
function t(t) {
o(this, n), e.call(this, t);
}
a(t, e), t.prototype.componentWillMount = function s() {
this.subscribeToStores({
savedFilters: _["default"](w["default"], this.props.gameId, "data"),
savedFiltersError: _["default"](w["default"], this.props.gameId, "error")
}, !0), I["default"].refreshSavedFilters(this.props.gameId);
}, t.prototype.onDelete = function l(e) {
var t = this, n = SpartaGlobals.bundleIsPC ? this.state.activeItem : e;
F.confirm(__("ID_SPARTA_FILTER_DELETE_MESSAGE").replace("[[filterName]]", n.filterName), __("ID_SPARTA_FILTER_DELETE_TITLE"), __("ID_SPARTA_FILTER_DELETE_TITLE")).then(function() {
var e = C["default"].getState()[t.props.gameId];
e && e.id === n.id && I["default"].resetFilters(t.props.gameId), I["default"].deleteSavedFilter(t.props.gameId, n), 
t.state.activeItem && t.setState({
activeItem: null
});
});
}, t.prototype.onApply = function u(e) {
var t = SpartaGlobals.bundleIsPC ? this.state.activeItem : e;
I["default"].applyFilters(this.props.gameId, t), this.props.switchTab && this.props.switchTab(0);
}, t.prototype.renderButtons = function c(e) {
var t = this;
return [ {
$$typeof: p,
type: D["default"],
key: null,
ref: null,
props: r(D["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_FILTER_APPLY").toUpperCase(),
style: H.itemSpacing,
disabled: !e,
action: function() {
return t.onApply();
}
}),
_owner: null
}, {
$$typeof: p,
type: D["default"],
key: null,
ref: null,
props: r(D["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_FILTER_DELETE").toUpperCase(),
style: H.itemSpacing,
disabled: !e,
action: function() {
return t.onDelete();
}
}),
_owner: null
} ];
}, t.prototype.renderItem = function d(e) {
var t = this, n = SpartaGlobals.bundleIsPC ? null : [ new x["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function r() {
return t.onApply(e);
},
key: k["default"].Accept
}), new x["default"]({
label: __("ID_SPARTA_ACTION_FILTER_DELETE"),
action: function o() {
return t.onDelete(e);
},
key: k["default"].Option2
}) ];
return {
id: e.id,
label: e.filterName,
isActive: e === this.state.activeItem,
input: n,
scrollLabel: !0,
upperCase: !1,
onTrigger: function a() {
return t.setState({
activeItem: e
});
}
};
}, t.prototype.render = function y() {
var e = this.state, t = e.savedFilters, n = e.savedFiltersError, o = {
height: L["default"].content.height - O["default"].getHeight(8)
};
if (n) return {
$$typeof: p,
type: N["default"],
key: "error",
ref: null,
props: r(N["default"].defaultProps, {
text: __("ID_SPARTA_FILTER_ERROR_TEXT"),
style: o,
subText: __("ID_SPARTA_FILTER_ERROR_SUBTEXT")
}),
_owner: null
};
if (null == t) return {
$$typeof: p,
type: "surface",
key: "loading",
ref: null,
props: {},
_owner: null
};
if (0 === t.length) return {
$$typeof: p,
type: N["default"],
key: "empty",
ref: null,
props: r(N["default"].defaultProps, {
style: o,
text: __("ID_SPARTA_FILTER_EMPTY_TEXT"),
subText: __("ID_SPARTA_FILTER_EMPTY_SUBTEXT")
}),
_owner: null
};
var a = f["default"].map(t, this.renderItem.bind(this)), i = SpartaGlobals.bundleIsPC ? L["default"].content.height - V : L["default"].content.height - z;
return {
$$typeof: p,
type: O["default"].Col,
key: null,
ref: null,
props: r(O["default"].Col.defaultProps, {
children: [ {
$$typeof: p,
type: G.Scroller,
key: null,
ref: null,
props: r(G.Scroller.defaultProps, {
children: h["default"].createElement(g["default"], {
divider: "item",
ref: "itemList",
items: a,
showActiveIndicator: !0
}),
style: {
height: i,
width: O["default"].getWidth(7)
},
softClip: [ 0, z, 0, z ]
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: SpartaGlobals.bundleIsPC ? this.renderButtons(this.state.activeItem) : null,
style: {
marginBottom: O["default"].getHeight(4)
}
},
_owner: null
} ],
width: 7,
style: {
height: L["default"].content.height,
justifyContent: "space-between"
}
}),
_owner: null
};
};
var n = t;
return t = i("_$SavedFiltersView")(t) || t, t = b["default"]()(t) || t;
}(h["default"].Component);
t["default"] = W, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return Z(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), c = i(p), f = n(459), d = i(f), h = n(16), y = i(h), g = n(28), m = i(g), b = n(2), v = n(10), _ = n(14), S = i(_), w = n(12), T = i(w), C = n(105), E = i(C), I = n(797), P = i(I), O = n(6), A = i(O), k = n(17), R = i(k), x = n(20), M = i(x), N = n(800), $ = i(N), D = n(801), U = n(417), L = i(U), F = n(416), G = i(F), j = n(22), B = i(j), H = n(96), V = i(H), z = n(9), W = n(97), q = i(W), K = n(91), X = i(K), Y = n(23), J = i(Y), Q = {
_$SearchServersHeader: {
displayName: "SearchServersHeader"
},
_$SearchServers: {
displayName: "SearchServers"
}
}, Z = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/SearchServers.jsx",
components: Q,
locals: [],
imports: []
}), ee = z.bbUrl("/sparta/assets/ui/icons/ui/refresh-a64e967a.png"), te = {
marginRight: 1.5 * -A["default"].GUTTER,
marginLeft: A["default"].GUTTER,
marginBottom: 4,
padding: A["default"].GUTTER
}, ne = function(t) {
function n() {
r(this, i), t.apply(this, arguments);
}
o(n, t), n.prototype.render = function s() {
var t = this, n = this.props, r = n.gameId, o = n.filtersRoute, a = SpartaGlobals.bundleIsConsole && {
$$typeof: u,
type: X["default"],
key: null,
ref: null,
props: e(X["default"].defaultProps, {
inputKey: T["default"].Option2,
action: function() {
return R["default"].gotoLocation(t.props.filtersRoute);
},
blockInputFor: 1e3
}),
_owner: null
}, i = SpartaGlobals.bundleIsPC && {
$$typeof: u,
type: b.Focusable,
key: null,
ref: null,
props: e(b.Focusable.defaultProps, {
children: function s(t) {
return {
$$typeof: u,
type: E["default"],
key: "refreshButton",
ref: null,
props: e(E["default"].defaultProps, {
icon: ee,
focusItem: t,
action: function() {
return B["default"].refreshServers({
game: r
});
},
size: A["default"].getHeight(2.4),
glow: !1,
style: te
}),
_owner: null
};
},
debugName: "server_refresh"
}),
_owner: null
};
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: [ a, {
$$typeof: u,
type: P["default"],
key: null,
ref: null,
props: e(P["default"].defaultProps, {
gameId: r,
filtersRoute: o
}),
_owner: null
}, i ],
style: {
flexDirection: "row",
alignItems: "center"
}
},
_owner: null
};
};
var i = n;
return n = a("_$SearchServersHeader")(n) || n;
}(c["default"].Component);
t.SearchServersHeader = ne;
var re = function ae(t) {
var n = t.filtersRoute, r = t.serverCount, o = __("ID_SPARTA_SERVER_MORERESULTS").replace("[[serverCount]]", r);
return {
$$typeof: u,
type: J["default"],
key: null,
ref: null,
props: e(J["default"].defaultProps, {
text: o,
textSize: "XS",
action: function() {
return R["default"].gotoLocation(n);
},
style: {
marginTop: A["default"].GUTTER
}
}),
_owner: null
};
}, oe = function(t) {
function n(e) {
r(this, i), t.call(this, e), this.emptyState = {
text: __("ID_SPARTA_SERVER_DEFAULT_EMPTY_TEXT"),
subText: __("ID_SPARTA_SERVER_DEFAULT_EMPTY_SUBTEXT")
}, this.errorState = {
text: __("ID_SPARTA_SERVER_DEFAULT_ERROR_TEXT"),
subText: __("ID_SPARTA_SERVER_DEFAULT_ERROR_SUBTEXT")
}, this.focusAncestor = b.focus.createAncestor("searchservers");
}
o(n, t), n.prototype.componentWillMount = function s() {
var e = this;
this.cancelReaction = v.reaction(function() {
return e.showInput;
}, function() {
return e.updateInput();
}), this.subscribeToStores({
searchResults: m["default"](L["default"], this.props.gameId, "data"),
error: m["default"](L["default"], this.props.gameId, "error"),
sort: G["default"]
}), L["default"].listen(function() {
return e.doneLoading();
}), B["default"].prepareFilters(this.props.gameId), B["default"].refreshServers({
game: this.props.gameId
}), this.focusAncestor.onInputFocusChanged.listen(function() {
e.updateInput();
});
}, n.prototype.componentDidMount = function l() {
this.startLoading();
}, n.prototype.componentWillUnmount = function p() {
this.focusAncestor.destroy(), this.cancelReaction();
}, n.prototype.getInput = function f() {
var e = this;
if (this.focusAncestor.hasInputFocus) return [ new S["default"]({
label: __("ID_SPARTA_ACTION_REFRESH"),
action: function t() {
return B["default"].refreshServers({
game: e.props.gameId
});
},
key: T["default"].Option4
}) ];
}, n.prototype.startLoading = function h() {
this.refs.list && this.refs.list.startLoading();
}, n.prototype.doneLoading = function g() {
this.refs.list && this.refs.list.doneLoading();
}, n.prototype.refreshOnReturn = function _() {
B["default"].refreshServers({
game: this.props.gameId
});
}, n.prototype.renderMoreResults = function w() {
return {
$$typeof: u,
type: re,
key: null,
ref: null,
props: e(re.defaultProps, {
filtersRoute: this.props.filtersRoute,
serverCount: this.state.searchResults.servers.length
}),
_owner: null
};
}, n.prototype.renderSidebar = function C() {
return {
$$typeof: u,
type: A["default"].Col,
key: null,
ref: null,
props: e(A["default"].Col.defaultProps, {
children: [ {
$$typeof: u,
type: D.QuickPresets,
key: null,
ref: null,
props: e(D.QuickPresets.defaultProps, {
gameId: this.props.gameId
}),
_owner: null
}, {
$$typeof: u,
type: $["default"],
key: null,
ref: null,
props: e($["default"].defaultProps, {
gameId: this.props.gameId,
filtersRoute: this.props.filtersRoute
}),
_owner: null
} ],
width: 4,
style: {
marginLeft: A["default"].getWidth(1)
}
}),
_owner: null
};
}, n.prototype.render = function E() {
var t = this.state, n = t.searchResults, r = t.sort, o = t.error, a = this.props, i = a.gameId, s = a.gameData, l = a.pingSites, p = n ? n.servers : null, f = n && n.hasMoreResults ? this.renderMoreResults() : null, h = SpartaGlobals.bundleIsPC ? this.renderSidebar() : null;
return {
$$typeof: u,
type: A["default"].Row,
key: null,
ref: null,
props: e(A["default"].Row.defaultProps, {
children: [ c["default"].createElement(d["default"], {
ref: "list",
key: "search",
servers: p,
bannerItem: f,
error: o,
sortBy: r.current,
gameId: i,
gameData: s,
pingSites: l,
errorState: this.errorState,
emptyState: this.emptyState
}), h ],
style: {
justifyContent: "flex-end"
},
surfaceProps: this.focusAncestor.hooks
}),
_owner: null
};
};
var i = n;
return n = a("_$SearchServers")(n) || n, n = V["default"]({
startLoading: B["default"].refreshServers.before,
refreshOnReturn: q["default"].onMultiplayerServerDisconnection
})(n) || n, n = y["default"]()(n) || n, n = M["default"]()(n) || n;
}(c["default"].Component);
t.SearchServers = oe, oe.propTypes = {
showFilters: c["default"].PropTypes.bool
};
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ue(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e, t) {
J["default"].trackJoinSource("joinServerBrowser", t || "soldier"), $["default"].joinServer(e.createJoinOptions({
role: t
}));
}
var p = n(3), c = l(p);
t.__esModule = !0;
var f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, h = n(1), y = l(h), g = n(33), m = l(g), b = n(7), v = l(b), _ = n(2), S = r(_), w = n(22), T = l(w), C = n(6), E = l(C), I = n(23), P = l(I), O = n(458), A = l(O), k = n(127), R = l(k), x = n(4), M = l(x), N = n(30), $ = l(N), D = n(11), U = n(159), L = n(14), F = l(L), G = n(300), j = l(G), B = n(8), H = n(55), V = l(H), z = n(20), W = l(z), q = n(12), K = l(q), X = n(9), Y = n(87), J = l(Y), Q = n(40), Z = n(98), ee = l(Z), te = n(115), ne = l(te), re = n(32), oe = n(60), ae = n(56), ie = n(70), se = l(ie), le = {
_$ServerDetails: {
displayName: "ServerDetails"
},
_$BasicInformation: {
displayName: "BasicInformation"
},
_$MapRotation: {
displayName: "MapRotation"
},
_$MapRotationItem: {
displayName: "MapRotationItem"
},
_$Settings: {
displayName: "Settings"
},
_$SettingsItem: {
displayName: "SettingsItem"
}
}, ue = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerDetails.jsx",
components: le,
locals: [],
imports: []
}), pe = {
textAlignForRTL: "left"
}, ce = {
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0
}, fe = {
shortValues: {
name: SpartaGlobals.bundleIsConsole ? 3.5 : 4.3,
value: SpartaGlobals.bundleIsConsole ? 1.4 : .9
},
longValues: {
name: SpartaGlobals.bundleIsConsole ? 2.2 : 2,
value: SpartaGlobals.bundleIsConsole ? 2.8 : 3.2
}
}, de = {
flexWrap: "wrap",
flexDirection: "row"
}, he = {
settings: SpartaGlobals.bundleIsConsole ? "S" : "XS",
serverName: SpartaGlobals.bundleIsConsole ? "XL" : "L",
serverInfo: SpartaGlobals.bundleIsConsole ? "M" : "S",
description: "S"
}, ye = {
off: {
normal: X.bbUrl("/sparta/assets/ui/icons/ui/star-white-outline-08d0884e.png"),
hover: X.bbUrl("/sparta/assets/ui/icons/ui/star-black-outline-0b5029f8.png")
},
on: {
normal: X.bbUrl("/sparta/assets/ui/icons/ui/star-white-23882f07.png"),
hover: X.bbUrl("/sparta/assets/ui/icons/ui/star-black-f93ce56b.png")
}
}, ge = {
official: X.bbUrl("/sparta/assets/ui/gameservers/type/official-6e10d16b.png"),
ranked: X.bbUrl("/sparta/assets/ui/gameservers/type/ranked-63ddf668.png"),
unranked: X.bbUrl("/sparta/assets/ui/gameservers/type/unranked-5b77f221.png"),
"private": X.bbUrl("/sparta/assets/ui/gameservers/type/private-40d383c1.png")
}, me = S.createStyleSheet({
serverDescription: d({
width: E["default"].getWidth(16),
textLineSpacing: Q.LINE_HEIGHTS[he.description],
marginTop: 2 * E["default"].GUTTER
}, de),
serverInfoColumn: {
width: E["default"].getWidth(3),
flexDirection: "column",
marginRight: E["default"].getWidth(1)
},
serverInfoTitle: d({}, pe),
serverInfoValue: d({}, pe, {
paddingTop: 5
}),
serverPingValue: d({}, pe, {
paddingTop: 10
}),
mapRotationWrapper: d({}, de, {
width: E["default"].getWidth(24) + 4 * E["default"].GUTTER
}),
mapRotation: {
marginRight: 2.4 * E["default"].GUTTER
},
serverSettings: {
marginLeft: 2 * E["default"].GUTTER,
marginRight: 2 * E["default"].GUTTER,
width: E["default"].getWidth(5.5) - 2 * E["default"].GUTTER,
textAlignForRTL: "left"
},
serverSettingsItemHighlight: {
zOffset: 0,
position: "absolute",
top: -E["default"].GUTTER,
left: 0,
bottom: E["default"].GUTTER,
width: E["default"].getWidth(6) - 2 * E["default"].GUTTER,
backgroundColor: "#ffffff"
},
serverSettingsItemContent: {
flexWrap: "wrap",
flexDirection: "row",
justifyContent: "space-between",
marginLeft: 2 * E["default"].GUTTER,
marginRight: 2 * E["default"].GUTTER
},
serverSettingsUnderline: {
height: 1,
flexDirection: "column",
backgroundColor: "#FFFFFF32",
justifyContent: "space-between",
marginTop: E["default"].GUTTER,
marginBottom: E["default"].GUTTER,
width: E["default"].getWidth(6) - 2 * E["default"].GUTTER
},
serverSettingsKey: d({}, de, {
zOffset: 1,
width: E["default"].getWidth(fe.shortValues.name),
marginRight: E["default"].GUTTER,
marginLeft: 2 * E["default"].GUTTER,
color: "#FFFFFF55",
textAlignForRTL: "right"
}),
serverSettingsValue: d({}, de, {
zOffset: 1,
width: E["default"].getWidth(fe.shortValues.value),
justifyContent: "flex-end",
color: "#FFFFFF55",
textAlign: "right",
textAlignForRTL: "left"
}),
infoColumn: {
width: E["default"].getWidth(6) - 2 * E["default"].GUTTER,
marginRight: 4 * E["default"].GUTTER
},
contextButton: {
height: E["default"].getHeight(7),
width: E["default"].getHeight(7)
},
contextMenuButton: {
zOffset: 2
},
contextButtonBorder: d({}, ce, {
zOffset: 1,
texture: X.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2
})
}), be = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.getInput = function r() {
if (SpartaGlobals.bundleIsPC) return [];
var e = this.props.details;
if (!e.guid) return [];
var t = new V["default"](e);
return [ new F["default"]({
label: __(t.isFavorite ? "ID_SPARTA_ACTION_SERVER_UNFAVORITE" : "ID_SPARTA_ACTION_SERVER_FAVORITE"),
key: K["default"].Option3,
action: function n() {
return T["default"].toggleBookmark(t);
}
}) ];
}, t.prototype.render = function l() {
var e = this.props.details.rotation, t = new V["default"](this.props.details);
return {
$$typeof: f,
type: m["default"],
key: null,
ref: null,
props: o(m["default"].defaultProps, {
children: [ {
$$typeof: f,
type: ve,
key: null,
ref: null,
props: o(ve.defaultProps, {
server: t,
roles: this.props.roles
}),
_owner: null
}, {
$$typeof: f,
type: we,
key: null,
ref: null,
props: o(we.defaultProps, {
settings: this.props.settings
}),
_owner: null
}, {
$$typeof: f,
type: _e,
key: null,
ref: null,
props: o(_e.defaultProps, {
rotation: e,
server: t
}),
_owner: null
} ],
scrollContent: !0,
tallContent: !0,
verticalIndicator: !0,
clipContent: !0,
showScrollAction: SpartaGlobals.bundleIsConsole,
useAbsoluteScrollBounds: !0
}),
_owner: null
};
};
var n = t;
return t = s("_$ServerDetails")(t) || t, t = W["default"]()(t) || t;
}(y["default"].Component);
t["default"] = be;
var ve = function(e) {
function t(t) {
a(this, n), e.call(this, t);
var r = D.gameStore.getGame(t.server.game);
this.game = r, this.localizedServerTypes = {
official: __("ID_SPARTA_SERVER_TYPE_OFFICIAL"),
ranked: __("ID_SPARTA_SERVER_TYPE_RANKED"),
unranked: __("ID_SPARTA_SERVER_TYPE_UNRANKED"),
"private": __("ID_SPARTA_SERVER_TYPE_PRIVATE")
}, this.state = {
isFavorite: t.server.isFavorite
};
}
i(t, e), t.prototype.componentWillReceiveProps = function r(e) {
this.setState({
isFavorite: e.server.isFavorite
});
}, t.prototype.getTopBar = function l() {
var e = this.props.server, t = e.name, n = e.gameId, r = t;
return ne["default"].getState().level !== te.UGCAccessLevel.Everyone && (r = n), 
{
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
type: "emphasis",
value: r,
size: he.serverName,
style: {
marginTop: -E["default"].GUTTER,
textAlignForRTL: "left"
}
}),
_owner: null
};
}, t.prototype.getStandardInformation = function p() {
var e = this.props.server, t = {}, n = this.getServerType(e.serverType), r = e.country ? {
$$typeof: f,
type: A["default"],
key: null,
ref: null,
props: o(A["default"].defaultProps, {
size: he.serverInfo,
country: e.country
}),
_owner: null
} : null, a = {
marginTop: 2 * E["default"].GUTTER,
height: E["default"].getHeight(3),
alignItems: "center"
}, i = re.localeRearrange([ e.mapModePretty, "|", e.mapNamePretty ]).join(" ").toUpperCase(), s = null != n ? n.icon : null, l = null != n ? n.text : null;
return re.isRTLLanguage() && (t = {
width: E["default"].getWidth(24),
justifyContent: "flex-end"
}), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: re.localeRearrange([ r, {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
size: he.serverInfo,
value: i
}),
_owner: null
}, s, l ]),
style: d({}, de, a, t)
},
_owner: null
};
}, t.prototype.getAdditionalInformation = function c() {
var e = this.props.server;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
style: me.serverInfoTitle,
value: __("ID_SPARTA_SERVER_PLAYERS").toUpperCase(),
size: "S"
}),
_owner: null
}, {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
style: me.serverInfoValue,
value: e.slots.soldier.current + " / " + e.slots.soldier.max
}),
_owner: null
} ],
style: me.serverInfoColumn
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
style: me.serverInfoTitle,
value: __("ID_SPARTA_SERVER_PING").toUpperCase(),
size: "S"
}),
_owner: null
}, this.renderPing(e) ],
style: me.serverInfoColumn
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
style: me.serverInfoTitle,
value: __("ID_SPARTA_SERVER_TICKRATE").toUpperCase(),
size: "S"
}),
_owner: null
}, {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
style: me.serverInfoValue,
value: e.tickRate + __("ID_SPARTA_SERVER_TICKRATE_UNIT")
}),
_owner: null
} ],
style: me.serverInfoColumn
},
_owner: null
} ],
style: d({}, de, {
marginTop: E["default"].getHeight(4)
})
},
_owner: null
};
}, t.prototype.getFavoriteIcon = function h() {
var e = this, t = this.props.server, n = this.state.isFavorite ? ye.on : ye.off, r = SpartaGlobals.bundleIsPC ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
action: function() {
return e.toggleFavorite(t);
},
icon: n,
size: E["default"].getHeight(3)
}),
_owner: null
},
style: {
marginLeft: E["default"].GUTTER
}
},
_owner: null
} : {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: {
texture: n.normal,
textureScale: .7,
textureMode: "contain",
width: E["default"].getHeight(7),
height: E["default"].getHeight(7)
}
},
_owner: null
};
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: r,
style: {
width: E["default"].getWidth(1.2),
marginLeft: E["default"].GUTTER
}
},
_owner: null
};
}, t.prototype.getServerType = function y(e) {
if (!e) return null;
if (-1 === this.game.supportedServerTypes.indexOf(e)) return null;
var t = ge[e.toLowerCase()];
if (!t) return null;
var n = "M" === he.serverInfo ? "S" : "XS", r = this.localizedServerTypes[e.toLowerCase()] || e;
return {
icon: {
$$typeof: f,
type: R["default"],
key: null,
ref: null,
props: o(R["default"].defaultProps, {
image: t,
size: n,
style: {
margin: [ 0, E["default"].GUTTER, 0, 2 * E["default"].GUTTER ]
}
}),
_owner: null
},
text: {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
value: r.toUpperCase(),
size: he.serverInfo
}),
_owner: null
}
};
}, t.prototype.toggleFavorite = function g(e) {
T["default"].toggleBookmark(e);
}, t.prototype.renderButtons = function m() {
var e = this.props.server, t = D.gameStore.getGame(e.game).supportedRoles, n = se["default"].isInAParty(), r = this.props.server.guid ? this.getFavoriteIcon() : null, a = {
width: E["default"].getWidth(6) - 2 * E["default"].GUTTER
}, i = d({}, a, {
marginLeft: E["default"].GUTTER
}), s = !n && ae.supportsSpectating(e.game) ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
action: function() {
return u(e, "spectator");
},
text: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR")
}),
_owner: null
},
style: i
},
_owner: null
} : null, l = !n && t.indexOf("commander") > -1 ? {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
action: function() {
return u(e, "commander");
},
text: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER")
}),
_owner: null
},
style: i
},
_owner: null
} : null;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: P["default"],
key: null,
ref: null,
props: o(P["default"].defaultProps, {
action: function() {
return u(e);
},
text: __("ID_SPARTA_ACTION_JOIN")
}),
_owner: null
},
style: a
},
_owner: null
}, s, l, r ],
style: d({}, de, {
marginTop: E["default"].getHeight(4)
})
},
_owner: null
};
}, t.prototype.renderPing = function b(e) {
var t = null;
if (SpartaGlobals.bundleIsConsole || "" === e.ip) {
var n = ee["default"].getState()[e.game], r = e.pingSiteAlias && n ? n[e.pingSiteAlias] : null;
t = r ? r.ping : null;
}
var a = null === t ? e.ip : null, i = t && t > -1 ? t + __("ID_SPARTA_DATETIME_MS") : "-";
return SpartaGlobals.bundleIsConsole ? {
$$typeof: f,
type: j["default"],
key: null,
ref: null,
props: o(j["default"].defaultProps, {
style: me.serverPingValue,
ping: t,
ip: a
}),
_owner: null
} : {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
style: me.serverInfoValue,
value: i
}),
_owner: null
};
}, t.prototype.render = function _() {
if (!this.props.server) return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {},
_owner: null
};
var e = ne["default"].getState().level === te.UGCAccessLevel.Everyone;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.getTopBar(), this.getStandardInformation(), this.props.server.description && e ? {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
size: he.description,
style: me.serverDescription,
value: this.props.server.description
}),
_owner: null
} : null, this.renderButtons(), this.getAdditionalInformation() ]
},
_owner: null
};
};
var n = t;
return t = s("_$BasicInformation")(t) || t, t = B.observer(t) || t;
}(y["default"].Component), _e = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.isCurrentlyPlaying = function r(e) {
var t = this.props.server, r = t.mapNamePretty.toUpperCase() === e.mapPrettyName.toUpperCase() && t.mapModePretty.toUpperCase() === e.modePrettyName.toUpperCase();
return this.hasCurrentlyPlaying === !0 ? r = !1 : r !== !0 || this.hasCurrentlyPlaying || (this.hasCurrentlyPlaying = !0), 
r;
}, t.prototype.mapRotation = function l() {
var e = this, t = this.props.rotation;
return M["default"].map(t, function(n, r) {
var a = e.isCurrentlyPlaying(n), i = t.length > 4 && r % 4 > 0;
return {
$$typeof: f,
type: Se,
key: r,
ref: null,
props: o(Se.defaultProps, {
settings: n,
currentlyPlaying: a,
bottomMargin: i
}),
_owner: null
};
});
}, t.prototype.render = function u() {
this.hasCurrentlyPlaying = !1;
var e = this.mapRotation();
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
value: __("ID_SPARTA_SERVER_MAPROTATION").toUpperCase(),
size: "S",
type: "emphasis"
}),
_owner: null
},
style: {
flexDirection: "row",
marginTop: E["default"].getHeight(4),
marginBottom: E["default"].getHeight(2)
}
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: d({
localBounds: !1
}, me.mapRotationWrapper)
},
_owner: null
} ],
style: {
localBounds: !1,
flexDirection: "column"
}
},
_owner: null
};
};
var n = t;
return t = s("_$MapRotation")(t) || t;
}(y["default"].Component), Se = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = S.focus.create(this, "map_rotation_item");
}
i(t, e), t.prototype.render = function r() {
var e = this.props, t = e.settings, n = e.currentlyPlaying, r = n ? __("ID_SPARTA_SERVER_PLAYINGNOW").toUpperCase() : "", a = d({}, me.mapRotation, {
marginBottom: this.props.bottomMargin ? 2.4 * E["default"].GUTTER : 0
});
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: U.PlayCard,
key: null,
ref: null,
props: o(U.PlayCard.defaultProps, {
heading: r,
headingColor: "#FFFFFF",
focusItem: this.focusItem,
useDefaultInput: !1,
modes: t.modePrettyName.toUpperCase(),
maps: t.mapPrettyName.toUpperCase(),
background: t.mapImage,
size: "SW"
}),
_owner: null
},
style: a
},
_owner: null
};
};
var n = t;
return t = s("_$MapRotationItem")(t) || t;
}(y["default"].Component), we = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.createSettingsGroup = function r(e, t) {
var n = t.hasOwnProperty("settings") ? t.settings : t, r = t.hasOwnProperty("size") ? t.size : "short", a = M["default"].compact(M["default"].map(n, function(e) {
return e.name && e.setting ? y["default"].createElement(Ce, d({}, e, {
size: r
})) : null;
})), i = {
marginLeft: 2 * E["default"].GUTTER,
opacity: .5
};
return re.isRTLLanguage() && (i.marginRight = 3 * E["default"].GUTTER, i.textAlignForRTL = "left"), 
0 === a.length && (a = {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
value: __("ID_SPARTA_SERVER_SETTINGS_EMPTY"),
size: he.settings,
style: i
}),
_owner: null
}), {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: Ee,
key: null,
ref: null,
props: o(Ee.defaultProps, {
title: e
}),
_owner: null
}, a ],
style: me.infoColumn
},
_owner: null
};
}, t.prototype.render = function l() {
var e = this, t = M["default"].compact(M["default"].map(this.props.settings, function(t, n) {
return e.createSettingsGroup(n, t);
}));
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: {
flexDirection: "row",
marginTop: E["default"].getHeight(4)
}
},
_owner: null
};
};
var n = t;
return t = s("_$Settings")(t) || t;
}(y["default"].Component), Te = "#FF9900", Ce = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.focusItem = S.focus.create(this, "settings_item_" + t.setting);
}
i(t, e), t.prototype.render = function r() {
var e = this.props, t = e.name, n = e.setting, r = e.isDefault, a = e.size, i = re.isRTLLanguage(), s = me.serverSettingsKey, l = me.serverSettingsValue;
"long" === a && (s = d({}, s, {
width: E["default"].getWidth(fe.longValues.name)
}), l = d({}, l, {
width: E["default"].getWidth(fe.longValues.value)
}));
var u = {};
i && (u = {
justifyContent: "flex-end"
}, s = d({}, s, {
marginLeft: 2 * E["default"].GUTTER
}), l = d({}, l, {
marginLeft: E["default"].GUTTER,
marginRight: s.marginLeft
}));
var p = this.focusItem.isFocused, c = p ? "#000000" : "#ffffff", h = r ? "normal" : "emphasis";
r || (c = Te);
var g = p && {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: me.serverSettingsItemHighlight
},
_owner: null
};
return y["default"].createElement("surface", this.focusItem.hooks, g, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: re.localeRearrange([ {
$$typeof: f,
type: oe.Marquee,
key: null,
ref: null,
props: o(oe.Marquee.defaultProps, {
children: {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
value: t.toLocaleUpperCase(),
size: he.settings,
color: c,
style: {
textAlignForRTL: s.textAlignForRTL,
zOffset: 2
},
type: h
}),
_owner: null
},
scroll: p,
style: u,
rtl: i,
width: me.serverSettingsKey.width
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
value: n.toLocaleUpperCase(),
size: he.settings,
style: {
color: c
},
type: h
}),
_owner: null
},
style: l
},
_owner: null
} ]),
style: me.serverSettingsItemContent
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: me.serverSettingsUnderline
},
_owner: null
});
};
var n = t;
return t = s("_$SettingsItem")(t) || t, t = B.observer(t) || t;
}(y["default"].Component), Ee = function Ie(e) {
var t = e.title;
return {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: f,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
style: me.serverSettings,
value: t.toLocaleUpperCase(),
type: "emphasis",
size: "S"
}),
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: me.serverSettingsValue
},
_owner: null
} ],
style: {
flexWrap: "wrap",
flexDirection: "row",
flex: 1
}
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
width: 5.5,
style: me.serverSettingsUnderline
},
_owner: null
} ]
},
_owner: null
};
};
e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return S(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(806), h = s(d), y = n(6), g = s(y), m = n(18), b = s(m), v = n(31), _ = {
_$ServerFilterCategory: {
displayName: "ServerFilterCategory"
}
}, S = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerFilterCategory.jsx",
components: _,
locals: [],
imports: []
}), w = [ 0, g["default"].CELL_WIDTH, 0, g["default"].CELL_WIDTH ], T = g["default"].getHeight(4), C = g["default"].getHeight(3), E = b["default"].content.height - (T + C), I = function(e) {
function t(t) {
var r = this;
o(this, n), e.call(this, t), this.focus = function() {
r.refs.filterScroller && r.refs.filterScroller.focus && r.refs.filterScroller.focus();
}, this.state = {
config: t.config
};
}
a(t, e), t.prototype.setCategory = function s(e) {
this.setState({
config: e
}), this.refs.scroller && this.refs.scroller.scrollTo(0, 0);
}, t.prototype.render = function l() {
return {
$$typeof: p,
type: g["default"].Row,
key: null,
ref: null,
props: r(g["default"].Row.defaultProps, {
children: {
$$typeof: p,
type: g["default"].Col,
key: null,
ref: null,
props: r(g["default"].Col.defaultProps, {
children: f["default"].createElement(v.Scroller, {
ref: "scroller",
key: "categoryScroller",
style: {
height: E,
margin: w
},
controller: !1
}, {
$$typeof: p,
type: h["default"],
key: null,
ref: null,
props: r(h["default"].defaultProps, {
gameId: this.props.gameId,
filterDefs: this.props.options,
filterState: this.props.state,
config: this.state.config,
onBlur: this.props.onBlur,
onFilterSelected: this.props.onFilterItemSelected.bind(this)
}),
_owner: null
}),
width: 7.75
}),
_owner: null
}
}),
_owner: null
};
};
var n = t;
return t = i("_$ServerFilterCategory")(t) || t;
}(f["default"].Component);
t["default"] = I, I.PropTypes = {
gameId: f["default"].PropTypes.string.isRequired,
config: f["default"].PropTypes.object.isRequired,
state: f["default"].PropTypes.object.isRequired,
options: f["default"].PropTypes.object.isRequired,
icons: f["default"].PropTypes.object.isRequired
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return B(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(4), f = s(c), d = n(1), h = s(d), y = n(2), g = n(8), m = n(799), b = s(m), v = n(62), _ = s(v), S = n(811), w = s(S), T = n(792), C = s(T), E = n(457), I = s(E), P = n(796), O = s(P), A = n(14), k = s(A), R = n(12), x = s(R), M = n(20), N = s(M), $ = n(795), D = s($), U = n(22), L = s(U), F = n(209), G = s(F), j = {
_$ServerFilterList: {
displayName: "ServerFilterList"
}
}, B = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerFilterList.jsx",
components: j,
locals: [],
imports: []
}), H = {
checkBox: {
control: I["default"],
parseCondition: function z(e) {
return "on" === e;
},
nextConditionHandler: function W(e, t) {
return function(n, r) {
var o = r ? null : "on";
L["default"].setFilterValue(e, t, n, o);
};
}
},
onOff: {
control: C["default"],
parseCondition: function q(e, t) {
return "string" == typeof e ? "on" === e && "off" !== e : void 0;
},
nextConditionHandler: function K(e, t) {
return function(n, r, o) {
var a = void 0;
"boolean" == typeof r ? (r && (a = "off"), r || (a = void 0)) : a = "on", L["default"].setFilterValue(e, t, n, a);
};
}
},
range: {
control: D["default"],
parseCondition: function X(e) {
return e;
},
nextConditionHandler: function Y(e, t) {
return function(n, r, o) {
var a = null == r, i = a ? [ o.defaultValue, o.defaultValue ] : null;
L["default"].setFilterValue(e, t, n, i);
};
}
},
scales: {
control: O["default"],
getSelectedOption: function J(e, t) {
var n = Object.keys(t.options).sort(function(e, n) {
return t.options[e] - t.options[n];
}), r = n.filter(function(t) {
return e[t] && "on" === e[t];
}), o = r.length > 0 ? r[0] : null;
return o ? f["default"].pick(t.options, o) : null;
},
nextConditionHandler: function Q(e, t) {
return function(n, r, o) {
var a = Object.keys(o.options).sort(function(e, t) {
return o.options[e] - o.options[t];
}), i = -1, s = null;
r && (s = f["default"].keys(r)[0], i = a.indexOf(s));
var l = i + 1, u = l < a.length ? a[l] : null;
L["default"].toggleFilters(e, t, s, u);
};
}
}
}, V = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.getFilterItemConfig = function s() {
return this.props.config.type ? H[this.props.config.type] : H.checkBox;
}, t.prototype.getInput = function l() {
return this.props.config.toggleAll ? [ new k["default"]({
label: __("ID_SPARTA_ACTION_FILTER_TOGGLEALL"),
action: this.toggleAll.bind(this),
key: x["default"].Option4
}) ] : [];
}, t.prototype.onItemDidFocus = function u(e) {
this.props.onFilterSelected && this.props.onFilterSelected(e);
}, t.prototype.onMenuWillBlur = function c() {
this.props.onFilterSelected && this.refs.list && this.props.onBlur && this.props.onBlur();
}, t.prototype.onMouseDown = function d(e) {
e && e.button === G["default"].Secondary && this.props.config.toggleAll && this.toggleAll();
}, t.prototype.toggleAll = function m() {
var e = this;
this.props.config.filters ? f["default"].each(this.props.config.filters, function(t) {
return L["default"].toggleFilterCategory(e.props.gameId, t.id);
}) : L["default"].toggleFilterCategory(this.props.gameId, this.props.config.id);
}, t.prototype.renderNameFilter = function v(e) {
var t = e.name ? e.name : "";
return [ {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
gameId: this.props.gameId,
name: "name",
filterName: "name",
text: t
}),
_owner: null
} ];
}, t.prototype.renderFilterItems = function S(e, t, n) {
var o = this, a = this.getFilterItemConfig(), i = a.control, s = a.parseCondition, l = a.getSelectedOption, u = a.nextConditionHandler, c = u(this.props.gameId, n);
return e.map(function(e) {
var n = l ? l(t, e) : s(t[e.filterKey], e);
e.value = n;
var a = function d() {
return c(e.filterKey, e.value, e);
}, u = "function" == typeof e.name ? e.name() : e.name, f = e.prettyName || u;
return {
$$typeof: p,
type: y.Focusable,
key: null,
ref: null,
props: r(y.Focusable.defaultProps, {
children: function h(t) {
return {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
text: f,
focusItem: t,
value: n,
control: i,
item: e,
onToggle: a.bind(e)
}),
_owner: null
};
},
debugName: "filterlistitem_" + f,
onFocus: function() {
return o.onItemDidFocus(e);
}
}),
_owner: null
};
});
}, t.prototype.renderFilterList = function T(e, t, n, r) {
if (!t) throw new Error("no filter values for category " + n);
if ("name" === n) return this.renderNameFilter(t);
if (!e) throw new Error("no options for category " + n);
var o = SpartaGlobals.bundleIsPC ? e : f["default"].filter(e, function(e) {
return !e.PCOnly;
});
return this.renderFilterItems(o, t, n);
}, t.prototype.renderFilterGroups = function C(e, t, n) {
var r = this;
return f["default"].map(n.filters, function(n) {
return r.renderFilterList(e[n.id], t[n.id], n.id);
});
}, t.prototype.render = function E() {
var e = this.props, t = e.config, n = e.filterState, r = e.filterDefs, o = t.filters ? this.renderFilterGroups(r, n, t) : [ this.renderFilterList(r[t.id], n[t.id], t.id, t.overrides) ];
return h["default"].createElement(_["default"], {
ref: "list",
onItemDidFocus: this.onItemDidFocus.bind(this),
onBlur: this.onMenuWillBlur.bind(this),
onMouseDown: this.onMouseDown.bind(this),
autoActivateItems: y.focus.system.controllerMode,
divider: "item",
groups: o,
forgetItemFocus: !0
});
};
var n = t;
return t = i("_$ServerFilterList")(t) || t, t = N["default"]()(t) || t, t = g.observer(t) || t;
}(h["default"].Component);
V.propTypes = {
gameId: h["default"].PropTypes.string.isRequired,
config: h["default"].PropTypes.object.isRequired,
filterDefs: h["default"].PropTypes.object.isRequired,
filterState: h["default"].PropTypes.object.isRequired,
onFilterSelected: h["default"].PropTypes.func.isRequired
}, t["default"] = V, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return pe(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(4), d = l(f), h = n(1), y = l(h), g = n(2), m = r(g), b = n(16), v = l(b), _ = n(96), S = l(_), w = n(8), T = n(28), C = l(T), E = n(17), I = l(E), P = n(22), O = l(P), A = n(125), k = l(A), R = n(212), x = l(R), M = n(113), N = l(M), $ = n(11), D = n(20), U = l(D), L = n(14), F = l(L), G = n(12), j = l(G), B = n(18), H = l(B), V = n(6), z = l(V), W = n(23), q = l(W), K = n(62), X = l(K), Y = n(31), J = n(805), Q = l(J), Z = n(664), ee = l(Z), te = n(242), ne = n(146), re = l(ne), oe = n(211), ae = l(oe), ie = n(35), se = n(798), le = l(se), ue = {
_$ServerFilterView: {
displayName: "ServerFilterView"
}
}, pe = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerFilterView.jsx",
components: ue,
locals: [],
imports: []
}), ce = z["default"].getHeight(1), fe = -ce, de = H["default"].content.height - ce, he = 36, ye = m.createStyleSheet({
scrollClipper: {
marginTop: fe,
height: H["default"].content.height - fe,
marginLeft: -ce,
padding: ce,
layer: !0,
layerClip: !0,
layerSoftClip: [ 0, ce, 0, ce ]
},
buttonContainer: {
flex: 1,
justifyContent: "flex-end",
marginTop: z["default"].GUTTER,
marginBottom: SpartaGlobals.bundleIsPC ? z["default"].getHeight(4) : 0
},
button: {
width: z["default"].getWidth(6)
},
serverCount: {
marginBottom: z["default"].GUTTER,
height: z["default"].getHeight(2),
width: z["default"].getWidth(1),
flexWrap: "nowrap",
flexDirection: "row"
},
itemSpacing: {
marginTop: z["default"].GUTTER
}
}), ge = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.categoryId = t.filterLayout[0].id, this.buttons = this.getButtons(t), 
this.onFilterChanged = d["default"].debounce(this.updateServerCount.bind(this), 250);
var r = $.gameStore.getGame(this.props.gameId);
this.expansionIcons = r ? r.expansions : null;
}
i(t, e), t.prototype.componentWillMount = function r() {
var e = C["default"](k["default"], this.props.gameId);
this.subscribeToStores({
filter: e,
filterOptions: C["default"](N["default"], this.props.gameId),
protocolVersion: C["default"](ae["default"], this.props.gameId)
}, !0), this.subscribeToActions({
onFilterChanged: e
});
}, t.prototype.componentDidMount = function l() {
this.state.filterOptions || O["default"].refreshGameData(), this.state.filter && this.state.filter.filterName && I["default"].setLocationSubtitle(__("ID_SPARTA_MENU_TITLE_FILTER"), this.state.filter.filterName), 
this.updateServerCount();
}, t.prototype.componentWillReceiveProps = function u(e) {
this.buttons = this.getButtons(e);
}, t.prototype.componentWillUpdate = function p(e, t) {
I["default"].setLocationSubtitle(__("ID_SPARTA_MENU_TITLE_FILTER"), t.filter.filterName);
}, t.prototype.getInput = function f() {
var e = this, t = [ new F["default"]({
label: __("ID_SPARTA_ACTION_SERVER_VIEW"),
action: function n() {
return e.gotoServerBrowserAction();
},
key: j["default"].Option2
}), new F["default"]({
label: __("ID_SPARTA_ACTION_FILTER_RESET"),
action: function r() {
return O["default"].resetFilters(e.props.gameId);
},
key: j["default"].Option1
}) ];
return t;
}, t.prototype.getButtons = function h(e) {
var t = this, n = [];
return n.push({
$$typeof: c,
type: ee["default"],
key: null,
ref: null,
props: o(ee["default"].defaultProps, {
counterId: "filterCount",
style: ye.itemSpacing,
action: function() {
return t.gotoServerBrowserAction();
},
scale: !0
}),
_owner: null
}), n.push({
$$typeof: c,
type: q["default"],
key: null,
ref: null,
props: o(q["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_FILTER_SAVE").toUpperCase(),
style: ye.itemSpacing,
action: function() {
return t.saveFilter();
}
}),
_owner: null
}), SpartaGlobals.bundleIsPC && n.push({
$$typeof: c,
type: q["default"],
key: null,
ref: null,
props: o(q["default"].defaultProps, {
text: __("ID_SPARTA_ACTION_FILTER_RESET").toUpperCase(),
style: ye.itemSpacing,
action: function() {
return O["default"].resetFilters(e.gameId);
}
}),
_owner: null
}), n;
}, t.prototype.getCategoryItems = function g(e, t, n) {
var r = this;
return e.map(function(e) {
return d["default"].extend(e, {
scrollLabel: !0,
onTrigger: r.onCategoryItemTriggered.bind(r, e),
subLabel: e.filters ? te.describeFilterCategories(t, n, e.filters.map(function(e) {
return e.id;
})) : te.describeFilterCategory(t[e.id], n[e.id], e.id)
});
});
}, t.prototype.onCategoryItemFocused = function b(e) {
if (this.onFilterItemSelected(null), e.props) return void console.error("component config passed to onCategoryItemFocused");
var t = e.id;
if (this.categoryId !== t) {
this.categoryId = t;
var n = d["default"].find(this.props.filterLayout, function(e) {
return e.id === t;
});
this.refs.filterCategory && n && this.refs.filterCategory.setCategory(n);
}
}, t.prototype.onCategoryItemTriggered = function _(e) {
SpartaGlobals.bundleIsPC ? (this.onCategoryItemFocused(e), this.refs.categoryList.setActive(e.id)) : this.refs.filterCategory.focus();
}, t.prototype.onFilterItemSelected = function T(e) {
this.refs.itemInfo && this.refs.itemInfo.setFilterItem && this.refs.itemInfo.setFilterItem(e);
}, t.prototype.saveFilter = function E() {
var e = this, t = function n(t) {
return new Promise(function(n, r) {
t.length > he && r(__("ID_SPARTA_FILTER_ERROR_NAMETOOLONG").replace("[[length]]", he)), 
t.trim().length < 1 && r(__("ID_SPARTA_FILTER_ERROR_VALIDNAME"));
var o = x["default"].getState()[e.props.gameId].data;
d["default"].some(o, function(e) {
return e.filterName === t;
}) ? r(__("ID_SPARTA_FILTER_ERROR_ALREADYEXISTS").replace("[[content]]", t)) : n();
});
};
O["default"].refreshSavedFilters(this.props.gameId), ie.prompt(__("ID_SPARTA_FILTER_NAMEYOURFILTER").toUpperCase(), 1, he, {
onOkValidate: t
}).then(function(t) {
O["default"].saveFilter(e.props.gameId, e.state.filter, t), e.props.switchTab && e.props.switchTab(1);
});
}, t.prototype.updateServerCount = function P() {
var e = {
id: "filterCount",
game: this.props.gameId,
signalFilterJson: JSON.stringify(re["default"](this.state.filter))
};
this.state.protocolVersion && (e.protocolVersion = this.state.protocolVersion), 
O["default"].setServerCounts({
filterCount: null
}), O["default"].fetchServerCounts([ e ]);
}, t.prototype.gotoServerBrowserAction = function A() {
var e = $.gameStore.getGame(this.props.gameId).serverListRoute, t = $.locationStore.isPreviousLocationPath(e);
t ? I["default"].goBackInHistory() : I["default"].gotoLocation(e);
}, t.prototype.render = function R() {
var e = this, t = this.props, n = t.filterLayout, r = t.gameId, a = t.filterIcons, i = this.state, s = i.filter, l = i.filterOptions, u = this.getCategoryItems(n, s, l), p = d["default"].find(this.props.filterLayout, function(t) {
return t.id === e.categoryId;
}), f = z["default"].getHeight(9 * this.buttons.length);
return {
$$typeof: c,
type: z["default"].Row,
key: null,
ref: null,
props: o(z["default"].Row.defaultProps, {
children: [ {
$$typeof: c,
type: z["default"].Col,
key: null,
ref: null,
props: o(z["default"].Col.defaultProps, {
children: [ {
$$typeof: c,
type: Y.Scroller,
key: null,
ref: null,
props: o(Y.Scroller.defaultProps, {
children: y["default"].createElement(X["default"], {
divider: "item",
items: u,
ref: "categoryList",
onItemDidFocus: this.onCategoryItemFocused.bind(this),
autoActivateItems: m.focus.system.controllerMode,
showActiveIndicator: !0
}),
style: {
height: de - f,
marginBottom: z["default"].getHeight(2)
},
controller: !1
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.buttons,
style: ye.buttonContainer
},
_owner: null
} ],
width: 6,
style: {
height: de
}
}),
_owner: null
}, {
$$typeof: c,
type: z["default"].Col,
key: null,
ref: null,
props: o(z["default"].Col.defaultProps, {
children: y["default"].createElement(Q["default"], {
ref: "filterCategory",
gameId: r,
config: p,
state: s,
options: l,
icons: a,
onBlur: function() {
return e.onFilterItemSelected(null);
},
onFilterItemSelected: this.onFilterItemSelected.bind(this)
})
}),
_owner: null
}, {
$$typeof: c,
type: z["default"].Col,
key: null,
ref: null,
props: o(z["default"].Col.defaultProps, {
children: y["default"].createElement(le["default"], {
ref: "itemInfo",
icons: this.props.icons,
expansions: this.expansionIcons
})
}),
_owner: null
} ]
}),
_owner: null
};
};
var n = t;
return t = s("_$ServerFilterView")(t) || t, t = S["default"]()(t) || t, t = v["default"]()(t) || t, 
t = U["default"]()(t) || t, t = w.observer(t) || t;
}(y["default"].Component);
ge.propTypes = {
supportsRentServer: y["default"].PropTypes.bool,
filterIcons: y["default"].PropTypes.object,
filterLayout: y["default"].PropTypes.array,
gameId: y["default"].PropTypes.string
}, ge.defaultProps = {
supportsRentServer: !1
}, t["default"] = ge, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return ae(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = n(1), h = l(d), y = n(2), g = r(y), m = n(20), b = l(m), v = n(8), _ = n(7), S = l(_), w = n(458), T = l(w), C = n(127), E = l(C), I = n(14), P = l(I), O = n(12), A = l(O), k = n(300), R = l(k), x = n(302), M = l(x), N = n(6), $ = l(N), D = n(22), U = l(D), L = n(4), F = l(L), G = n(11), j = n(60), B = n(460), H = l(B), V = n(17), z = l(V), W = n(809), q = l(W), K = n(59), X = l(K), Y = n(9), J = n(87), Q = l(J), Z = n(304), ee = n(32), te = n(56), ne = n(70), re = l(ne), oe = {
_$ServerListItem: {
displayName: "ServerListItem"
}
}, ae = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerListItem.jsx",
components: oe,
locals: [],
imports: []
}), ie = {
off: {
normal: Y.bbUrl("/sparta/assets/ui/icons/ui/star-white-outline-08d0884e.png"),
hover: Y.bbUrl("/sparta/assets/ui/icons/ui/star-black-outline-0b5029f8.png")
},
on: {
normal: Y.bbUrl("/sparta/assets/ui/icons/ui/star-white-23882f07.png"),
hover: Y.bbUrl("/sparta/assets/ui/icons/ui/star-black-f93ce56b.png")
}
}, se = {
official: Y.bbUrl("/sparta/assets/ui/gameservers/type/official-6e10d16b.png"),
ranked: Y.bbUrl("/sparta/assets/ui/gameservers/type/ranked-63ddf668.png"),
unranked: Y.bbUrl("/sparta/assets/ui/gameservers/type/unranked-5b77f221.png"),
"private": Y.bbUrl("/sparta/assets/ui/gameservers/type/private-40d383c1.png"),
focused: {
official: Y.bbUrl("/sparta/assets/ui/gameservers/type/official-dark-51eee93e.png"),
ranked: Y.bbUrl("/sparta/assets/ui/gameservers/type/ranked-dark-0dd09cdc.png"),
unranked: Y.bbUrl("/sparta/assets/ui/gameservers/type/unranked-dark-67d9d759.png"),
"private": Y.bbUrl("/sparta/assets/ui/gameservers/type/private-dark-8c96109b.png")
}
}, le = $["default"].getHeight(7), ue = SpartaGlobals.bundleIsPC ? {
name: "S",
info: "XS",
players: "S"
} : {
name: "S",
info: "XS",
players: "M"
}, pe = SpartaGlobals.bundleIsPC ? "XS" : "S", ce = g.createStyleSheet({
row: {
flexDirection: "row",
alignItems: "center",
zOffset: 1
},
rowDimmed: {
opacity: .5
},
nameSpan: {
flex: 1,
flexDirection: "row",
alignItems: "center"
},
slotsSpan: {
enableMouseEvents: !1,
zOffset: 1,
width: H["default"].slots
},
pingSpan: {
enableMouseEvents: !1,
zOffset: 1,
width: H["default"].ping,
flexDirection: "row",
alignItems: "center"
},
actionsSpan: {
width: H["default"].actions,
flexDirection: "row",
zOffset: 1,
alignItems: "center",
justifyContent: "flex-end"
},
text: {
color: "#ffffff",
fontSize: SpartaGlobals.bundleIsConsole ? 18 : 12
},
bodyText: {
color: "#cccccc",
marginTop: 2
},
settingText: {
color: "#ffffff",
opacity: .66,
marginTop: 2
},
imgCol: {
zOffset: 1,
width: $["default"].getWidth(2),
height: le,
marginRight: 2 * $["default"].GUTTER
},
mapGrayScale: {
grayScale: 1
},
favoriteCol: {
zOffset: 4,
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
width: $["default"].getWidth(1),
height: le
},
contentCol: {
enableMouseEvents: !1,
zOffset: 1,
alignItems: "center",
flexDirection: "row",
width: $["default"].getWidth(SpartaGlobals.bundleIsPC ? 7.5 : 12)
},
expansionCol: {
zOffset: 1,
alignItems: "center",
flexDirection: "row",
justifyContent: "flex-end",
marginLeft: $["default"].GUTTER
},
expansionIcon: {
marginLeft: 2,
marginTop: 0
},
serverTypeIcon: {
marginLeft: $["default"].GUTTER / 2
},
contextMenuButton: {
zOffset: 1,
height: le,
width: $["default"].getWidth(1.2),
opacity: 0
},
detailRow: {
zOffset: 1,
flexDirection: "row",
alignItems: "center"
},
nameCol: {
zOffset: 1
},
customLabel: {
color: "#FF9900",
marginLeft: $["default"].GUTTER
},
separatorLabel: {
marginLeft: $["default"].GUTTER / 4,
marginRight: $["default"].GUTTER / 2
},
verticalDivider: {
width: 1,
height: le,
backgroundColor: "#00000000"
},
joinButton: {
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
height: le,
zOffset: 4,
width: $["default"].getWidth(1.5),
paddingLeft: $["default"].GUTTER,
paddingRight: $["default"].GUTTER,
opacity: 0
}
}), fe = g.createStyleSheet({
row: f({}, ce.row, {
backgroundColor: "#FFFFFFFF"
}),
joinButton: f({}, ce.joinButton, {
opacity: 1
}),
text: f({}, ce.text, {
color: "#000000"
}),
bodyText: f({}, ce.bodyText, {
color: "#333333"
}),
verticalDivider: f({}, ce.verticalDivider, {
backgroundColor: "#00000033"
}),
contextMenuButton: f({}, ce.contextMenuButton, {
opacity: 1
})
}), de = function(e) {
function t(t) {
a(this, n), e.call(this, t);
var r = G.gameStore.getGame(t.server.game);
this.game = r, this.autoId = g.autoId("db617597:224"), this.gameStyles = r ? r.styles : {}, 
this.expansionIcons = r ? r.expansions : null, this.serverDetailsRoute = r ? r.serverDetailsRoute : null, 
this.focusItem = g.focus.create(this, "serverlistitem " + (t.server && t.server.name ? t.server.name : "unknown")), 
this.focusItem.autoFocusCandidate = !0;
}
i(t, e), t.prototype.componentWillUnmount = function r() {
this.state.contextMenuOpen && this.refs.contextMenu.close();
}, t.prototype.getAcceptInput = function l() {
var e = this;
if (this.props.server.isActive) {
if (g.focus.system.controllerMode) return [ new P["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function n() {
return e.onSelect();
},
key: A["default"].Accept
}) ];
var t = this.props.server.gameId;
return [ new P["default"]({
label: __("ID_SPARTA_ACTION_SERVER_INFO"),
action: function r() {
z["default"].gotoLocation(e.serverDetailsRoute + "?blazeGameId=" + t);
},
key: A["default"].Accept,
blockInputFor: 1e3
}) ];
}
}, t.prototype.getInput = function u() {
var e = this;
if (!this.focusItem.isFocused) return this.state.contextMenuOpen ? new P["default"]({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: A["default"].Decline,
action: function i() {
return e.refs.contextMenu.close();
}
}) : null;
var t = this.props.server.gameId, n = this.props.server.rsp.serverId, r = this.props.server.rsp && this.props.server.rsp.status && "ServerStatusExpired" === this.props.server.rsp.status.name, o = this.props.server.isActive ? new P["default"]({
label: __("ID_SPARTA_ACTION_SERVER_INFO"),
action: function s() {
z["default"].gotoLocation(e.serverDetailsRoute + "?blazeGameId=" + t);
},
key: A["default"].Option1,
blockInputFor: 1e3
}) : void 0, a = this.game.rspConfig.isEnabled() && n ? new P["default"]({
label: __(r ? "ID_SPARTA_ACTION_SERVER_RENEW" : "ID_SPARTA_ACTION_SERVER_CONFIGURE"),
action: function l() {
r ? z["default"].gotoLocation(e.game.rspConfig.renewRoute + "?serverId=" + n) : z["default"].gotoLocation(e.game.rspConfig.configureRoute + "?serverId=" + n);
},
key: A["default"].Option2
}) : void 0;
return F["default"].compact([ o, a ]);
}, t.prototype.getContextMenu = function p() {
var e = this, t = this.props.server.gameId, n = this.props.server.rsp.serverId, r = [];
if (this.props.server.isActive) {
var o = re["default"].isInAParty();
r.push(new P["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN"),
action: function i() {
e.onSelect();
}
})), !o && te.supportsSpectating(this.props.server.game) && r.push(new P["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
action: function s() {
e.onSelect("spectator");
}
})), !o && this.props.roles.indexOf("commander") >= 0 && r.push(new P["default"]({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER"),
action: function l() {
e.onSelect("commander");
}
})), r.push(new P["default"]({
label: __("ID_SPARTA_ACTION_SERVER_INFO"),
action: function u() {
z["default"].gotoLocation(e.serverDetailsRoute + "?blazeGameId=" + t);
}
})), this.props.server.guid && r.push(new P["default"]({
label: __(this.props.server.isFavorite ? "ID_SPARTA_ACTION_SERVER_UNFAVORITE" : "ID_SPARTA_ACTION_SERVER_FAVORITE"),
action: function p() {
e.toggleFavorite();
}
}));
}
if (this.game.rspConfig.isEnabled() && n) {
var a = this.props.server.rsp && this.props.server.rsp.status && "ServerStatusExpired" === this.props.server.rsp.status.name;
r.push(new P["default"]({
label: __(a ? "ID_SPARTA_ACTION_SERVER_RENEW" : "ID_SPARTA_ACTION_SERVER_CONFIGURE"),
action: function c() {
a ? z["default"].gotoLocation(e.game.rspConfig.renewRoute + "?serverId=" + n) : z["default"].gotoLocation(e.game.rspConfig.configureRoute + "?serverId=" + n);
},
key: A["default"].Option2
}));
}
return r;
}, t.prototype.getDynamicStyles = function d(e, t) {
var n = {
row: e ? fe.row : ce.row,
joinButton: e ? fe.joinButton : ce.joinButton,
fontType: e ? "emphasis" : "normal",
text: e ? fe.text : ce.text,
settingText: e ? fe.bodyText : ce.settingText,
verticalDivider: e ? fe.verticalDivider : ce.verticalDivider,
contextMenuButton: e ? fe.contextMenuButton : ce.contextMenuButton
};
return t && (n.row = [ n.row, ce.rowDimmed ]), n;
}, t.prototype.getExpansionIcons = function y(e) {
var t = this;
return this.expansionIcons ? F["default"].map(e, function(e) {
if (!e && !e.license) return null;
var n = t.expansionIcons[e.license];
return n ? {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
image: n,
size: pe,
style: ce.expansionIcon
}),
_owner: null
} : null;
}) : [];
}, t.prototype.getServerTypeIcon = function m(e, t) {
if (!e) return null;
if (-1 === this.game.supportedServerTypes.indexOf(e)) return null;
var n = this.focusItem.isFocused ? se.focused : se, r = n[e.toLowerCase()];
return r ? {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
image: r,
style: ce.serverTypeIcon,
size: "XS"
}),
_owner: null
} : null;
}, t.prototype.getServerMapImage = function _(e) {
if (this.props.gameData && this.props.gameData.maps) {
var t = this.props.gameData.maps, n = F["default"].find(t, function(t) {
return t.filterKey === e.mapName;
});
if (n && n.images && n.images.Small) return n.images.Small;
}
return e.mapImageUrl;
}, t.prototype.onSelect = function w(e) {
var t = this;
if (this.props.server.isActive && !this.props.disabled) if (Q["default"].trackJoinSource("joinServerBrowser", e || "soldier"), 
this.props.gameData && this.props.gameData.gameModes) {
var n = this.props.gameData.gameModes, r = F["default"].find(n, function(e) {
return e.filterKey === t.props.server.mapMode;
});
r && r.videoUrl ? Z.showTutorialForGameMode(r).then(function() {
t.props.onSelect(e);
}) : this.props.onSelect(e);
} else this.props.onSelect(e);
}, t.prototype.openContextMenu = function C() {
this.setState({
contextMenuOpen: !0
});
}, t.prototype.closeContextMenu = function I() {
this.setState({
contextMenuOpen: !1
});
}, t.prototype.toggleFavorite = function O() {
this.props.server.isActive && U["default"].toggleBookmark(this.props.server);
}, t.prototype.renderFavouriteIcon = function k(e, t) {
return SpartaGlobals.bundleIsPC && t ? e.isFavorite ? {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
image: ie.on.hover
}),
_owner: null
} : {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
image: ie.off.hover
}),
_owner: null
} : e.isFavorite ? {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
image: ie.on.normal
}),
_owner: null
} : null;
}, t.prototype.renderActionsSpan = function x(e, t) {
var n = this, r = this.props.server.isActive;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ h["default"].createElement(M["default"], {
ref: "contextMenu",
onOpen: function() {
return n.openContextMenu();
},
onClose: function() {
return n.closeContextMenu();
},
options: this.getContextMenu(),
dark: t,
parentHeight: le,
offset: {
y: le,
x: H["default"].actions
},
align: "right",
style: e.contextMenuButton
}), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: e.verticalDivider
},
_owner: null
}, {
$$typeof: c,
type: q["default"],
key: null,
ref: null,
props: o(q["default"].defaultProps, {
children: {
$$typeof: c,
type: E["default"],
key: null,
ref: null,
props: o(E["default"].defaultProps, {
isDisabled: r,
image: Y.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-join-black-d91ea425.png")
}),
_owner: null
},
style: e.joinButton,
disabled: !r,
defaultEnabled: r,
onClick: this.onSelect.bind(this, null)
}),
_owner: null
} ],
style: ce.actionsSpan
},
_owner: null
};
}, t.prototype.renderNameSpan = function N(e, t, n, r) {
function a(e) {
var n = e.value, r = e.style;
return {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
value: n,
size: ue.info,
type: t.fontType,
style: f({}, t.settingText, r)
}),
_owner: null
};
}
var i = this, s = [], l = [ e.mapModePretty || e.mapMode, e.mapNamePretty || e.mapName ], u = e.custom;
if (e.preset && l.push(e.preset), e.tickRate && s.push(e.tickRate + __("ID_SPARTA_SERVER_TICKRATE_UNIT")), 
e.rsp && e.rsp.status) switch (e.rsp.status.name) {
case "ServerStatusInactive":
s.push(__("ID_SPARTA_SERVER_RSP_PENDING"));
break;

case "ServerStatusActive":
e.gameId || s.push(__("ID_SPARTA_SERVER_RSP_PENDING"));
break;

case "ServerStatusExpired":
case "ServerStatusExpiring":
s.push(__("ID_SPARTA_SERVER_RSP_EXPIRED"));
}
var p = " - ", d = {
texture: this.getServerMapImage(e)
}, h = this.getServerTypeIcon(e.serverType, n), y = e.expansions ? this.getExpansionIcons(e.expansions) : [], g = this.props.hasUGCAccess ? e.name : e.gameId, m = e.country ? {
$$typeof: c,
type: T["default"],
key: null,
ref: null,
props: o(T["default"].defaultProps, {
country: e.country
}),
_owner: null
} : null, b = u && {
$$typeof: c,
type: a,
key: null,
ref: null,
props: o(a.defaultProps, {
value: __("ID_SPARTA_SERVER_CUSTOM").toUpperCase(),
style: f({}, ce.customLabel, this.gameStyles.customLabel)
}),
_owner: null
}, v = {
$$typeof: c,
type: a,
key: null,
ref: null,
props: o(a.defaultProps, {
value: p,
style: ce.separatorLabel
}),
_owner: null
}, _ = r ? ce.mapGrayScale : null;
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: c,
type: "test",
key: null,
ref: null,
props: {
group: "server-list-item",
server: e,
join: this.onSelect.bind(this, null)
},
_owner: null
}, SpartaGlobals.bundleIsPC ? {
$$typeof: c,
type: q["default"],
key: null,
ref: null,
props: o(q["default"].defaultProps, {
children: this.renderFavouriteIcon(e, n),
style: ce.favoriteCol,
disabled: !e.isActive,
defaultEnabled: e.isFavorite,
onClick: function() {
return i.toggleFavorite();
}
}),
_owner: null
} : {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderFavouriteIcon(e, n),
style: ce.favoriteCol
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: [ ce.imgCol, d, _ ]
},
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: j.Marquee,
key: null,
ref: null,
props: o(j.Marquee.defaultProps, {
children: [ {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
style: [ ce.name, t.text ],
value: g,
size: ue.name,
type: "emphasis"
}),
_owner: null
}, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ m, ee.localeRearrange([ {
$$typeof: c,
type: a,
key: null,
ref: null,
props: o(a.defaultProps, {
value: l.join(p).toUpperCase()
}),
_owner: null
}, u ? v : null, b ]), v, {
$$typeof: c,
type: a,
key: null,
ref: null,
props: o(a.defaultProps, {
value: s.join(p).toUpperCase()
}),
_owner: null
}, h, {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: y,
style: ce.expansionCol
},
_owner: null
} ],
style: ce.detailRow
},
_owner: null
} ],
scroll: n,
width: $["default"].getWidth(SpartaGlobals.bundleIsPC ? 10 : 14.5) - 2 * $["default"].GUTTER,
style: {
alignItems: "center"
},
delay: 100
}),
_owner: null
},
style: ce.contentCol
},
_owner: null
} ],
style: ce.nameSpan
},
_owner: null
};
}, t.prototype.render = function D() {
var e = this.props.canJoin, t = this.focusItem.isFocused, n = this.state.contextMenuOpen, r = t || n, a = !e, i = this.props.server, s = this.getDynamicStyles(r, a), l = "" + i.slots.soldier.current + " / " + i.slots.soldier.max;
i.slots.queue.current && (l += " [" + i.slots.queue.current + "]");
var u = null;
(SpartaGlobals.bundleIsConsole || "" === i.ip) && (u = this.props.pingSite ? this.props.pingSite.ping : null);
var p = null === u ? i.ip : null;
return {
$$typeof: c,
type: X["default"],
key: null,
ref: null,
props: o(X["default"].defaultProps, {
children: {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.renderNameSpan(i, s, r, a), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: c,
type: S["default"],
key: null,
ref: null,
props: o(S["default"].defaultProps, {
style: s.text,
size: ue.players,
type: "emphasis",
value: l
}),
_owner: null
},
style: ce.slotsSpan
},
_owner: null
}, {
$$typeof: c,
type: R["default"],
key: null,
ref: null,
props: o(R["default"].defaultProps, {
style: ce.pingSpan,
ping: u,
ip: p,
dark: r,
textStyle: s.settingText,
fontType: s.fontType
}),
_owner: null
}, SpartaGlobals.bundleIsPC && this.renderActionsSpan(s, r) ],
style: s.row
},
_owner: null
},
input: this.getAcceptInput(),
focusItem: this.focusItem,
disableFocusInputUpdate: !0
}),
_owner: null
};
};
var n = t;
return t = s("_$ServerListItem")(t) || t, t = v.observer(t) || t, t = b["default"]()(t) || t;
}(h["default"].Component);
t["default"] = de, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = n(1), c = i(p), f = n(13), d = i(f), h = {
_$ServerListItemButton: {
displayName: "ServerListItemButton"
}
}, y = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerListItemButton.jsx",
components: h,
locals: [],
imports: []
}), g = .5, m = .2, b = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.hoverOpacity = 1, this.blurOpacity = g, this.tweens = {
opacity: d["default"].tween("e8054df0:13", t.disabled ? m : this.blurOpacity)
};
}
o(t, e), t.prototype.componentWillReceiveProps = function i(e) {
this.props.disabled || (this.hoverOpacity = e.defaultEnabled ? g : 1, this.blurOpacity = e.defaultEnabled ? 1 : g);
}, t.prototype.componentWillUnmount = function s() {
this.tweens.opacity.destroy();
}, t.prototype.onMouseEnter = function l() {
this.props.disabled || this.tweens.opacity.set(this.hoverOpacity);
}, t.prototype.onMouseLeave = function p() {
this.props.disabled || this.tweens.opacity.set(this.blurOpacity);
}, t.prototype.render = function c() {
var e = this;
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: {
opacity: this.tweens.opacity.getStyle()
}
},
_owner: null
},
style: this.props.style,
onClick: function(t) {
e.props.onClick(), t.stopPropagation.trigger();
},
onMouseEnter: this.onMouseEnter.bind(this),
onMouseLeave: this.onMouseLeave.bind(this)
},
_owner: null
};
};
var n = t;
return t = a("_$ServerListItemButton")(t) || t;
}(c["default"].Component);
t["default"] = b, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function e(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function r(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function o(e) {
return function(t) {
return R(t, e);
};
}
function a(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var i = n(3), s = a(i);
t.__esModule = !0;
var l = n(1), u = a(l), p = n(459), c = a(p), f = n(16), d = a(f), h = n(28), y = a(h), g = n(413), m = a(g), b = n(281), v = a(b), _ = n(280), S = a(_), w = n(416), T = a(w), C = n(96), E = a(C), I = n(22), P = a(I), O = n(97), A = a(O), k = {
_$FavoriteServers: {
displayName: "FavoriteServers"
},
_$RecentServers: {
displayName: "RecentServers"
},
_$RentedServers: {
displayName: "RentedServers"
}
}, R = s["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/ServerLists.jsx",
components: k,
locals: [],
imports: []
}), x = function(t) {
function n(n) {
e(this, a), t.call(this, n), this.emptyState = {
text: __("ID_SPARTA_SERVER_FAVORITE_EMPTY_TEXT"),
subText: __("ID_SPARTA_SERVER_FAVORITE_EMPTY_SUBTEXT")
}, this.errorState = {
text: __("ID_SPARTA_SERVER_FAVORITE_ERROR_TEXT"),
subText: __("ID_SPARTA_SERVER_FAVORITE_ERROR_SUBTEXT")
};
}
r(n, t), n.prototype.componentWillMount = function i() {
var e = this;
this.subscribeToStores({
servers: y["default"](m["default"], this.props.gameId, "data"),
error: y["default"](m["default"], this.props.gameId, "error"),
sort: T["default"]
}), m["default"].listen(function() {
return e.doneLoading();
}), P["default"].refreshBookmarks({
game: this.props.gameId
});
}, n.prototype.componentDidMount = function s() {
this.startLoading();
}, n.prototype.startLoading = function l() {
this.refs.list && this.refs.list.startLoading();
}, n.prototype.doneLoading = function p() {
this.refs.list && this.refs.list.doneLoading();
}, n.prototype.refreshOnReturn = function f() {
P["default"].refreshBookmarks({
game: this.props.gameId
});
}, n.prototype.render = function h() {
var e = this.state, t = e.servers, n = e.sort, r = e.error, o = this.props, a = o.gameId, i = o.gameData;
return u["default"].createElement(c["default"], {
ref: "list",
key: "favorite",
servers: t,
error: r,
sortBy: n.current,
emptyState: this.emptyState,
errorState: this.errorState,
pingSites: this.props.pingSites,
gameId: a,
gameData: i
});
};
var a = n;
return n = o("_$FavoriteServers")(n) || n, n = E["default"]({
refreshOnReturn: A["default"].onMultiplayerServerDisconnection
})(n) || n, n = d["default"]()(n) || n;
}(u["default"].Component);
t.FavoriteServers = x;
var M = function(t) {
function n(n) {
e(this, a), t.call(this, n), this.emptyState = {
text: __("ID_SPARTA_SERVER_RECENT_EMPTY_TEXT"),
subText: __("ID_SPARTA_SERVER_RECENT_EMPTY_SUBTEXT")
}, this.errorState = {
text: __("ID_SPARTA_SERVER_RECENT_ERROR_TEXT"),
subText: __("ID_SPARTA_SERVER_RECENT_ERROR_SUBTEXT")
};
}
r(n, t), n.prototype.componentWillMount = function i() {
var e = this;
this.subscribeToStores({
servers: y["default"](v["default"], this.props.gameId, "data"),
error: y["default"](v["default"], this.props.gameId, "error"),
sort: T["default"]
}), v["default"].listen(function() {
return e.doneLoading();
}), P["default"].refreshHistory({
game: this.props.gameId
});
}, n.prototype.componentDidMount = function s() {
T["default"].reset(), this.startLoading();
}, n.prototype.startLoading = function l() {
this.refs.list && this.refs.list.startLoading();
}, n.prototype.doneLoading = function p() {
this.refs.list && this.refs.list.doneLoading();
}, n.prototype.refreshOnReturn = function f() {
P["default"].refreshHistory({
game: this.props.gameId
});
}, n.prototype.render = function h() {
var e = this.state, t = e.servers, n = e.sort, r = e.error, o = this.props, a = o.gameId, i = o.gameData;
return u["default"].createElement(c["default"], {
ref: "list",
key: "recent",
servers: t,
error: r,
sortBy: n.current,
emptyState: this.emptyState,
errorState: this.errorState,
pingSites: this.props.pingSites,
gameId: a,
gameData: i
});
};
var a = n;
return n = o("_$RecentServers")(n) || n, n = E["default"]({
refreshOnReturn: A["default"].onMultiplayerServerDisconnection
})(n) || n, n = d["default"]()(n) || n;
}(u["default"].Component);
t.RecentServers = M;
var N = function(t) {
function n(n) {
e(this, a), t.call(this, n), this.emptyState = {
text: __("ID_SPARTA_SERVER_RENTED_EMPTY_TEXT"),
subText: __("ID_SPARTA_SERVER_RENTED_EMPTY_SUBTEXT")
}, this.errorState = {
text: __("ID_SPARTA_SERVER_RENTED_ERROR_TEXT"),
subText: __("ID_SPARTA_SERVER_RENTED_ERROR_SUBTEXT")
};
}
r(n, t), n.prototype.componentWillMount = function i() {
var e = this;
this.subscribeToStores({
servers: y["default"](S["default"], this.props.gameId, "data"),
error: y["default"](S["default"], this.props.gameId, "error"),
sort: T["default"]
}), S["default"].listen(function() {
return e.doneLoading();
}), P["default"].refreshRentedServers(this.props.gameId);
}, n.prototype.componentDidMount = function s() {
this.startLoading();
}, n.prototype.startLoading = function l() {
this.refs.list && this.refs.list.startLoading();
}, n.prototype.doneLoading = function p() {
this.refs.list && this.refs.list.doneLoading();
}, n.prototype.refreshOnReturn = function f() {
P["default"].refreshRentedServers({
game: this.props.gameId
});
}, n.prototype.render = function h() {
var e = this.state, t = e.servers, n = e.sort, r = e.error, o = this.props, a = o.gameId, i = o.gameData;
return u["default"].createElement(c["default"], {
ref: "list",
key: "rented",
servers: t,
error: r,
sortBy: n.current,
emptyState: this.emptyState,
errorState: this.errorState,
pingSites: this.props.pingSites,
gameId: a,
gameData: i
});
};
var a = n;
return n = o("_$RentedServers")(n) || n, n = E["default"]({
refreshOnReturn: A["default"].onMultiplayerServerDisconnection
})(n) || n, n = d["default"]()(n) || n;
}(u["default"].Component);
t.RentedServers = N;
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return O(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(2), y = r(h), g = n(7), m = l(g), b = n(12), v = l(b), _ = n(6), S = l(_), w = n(22), T = l(w), C = n(180), E = l(C), I = n(32), P = {
_$TextFilterListItem: {
displayName: "TextFilterListItem"
}
}, O = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Server/TextFilterListItem.jsx",
components: P,
locals: [],
imports: []
}), A = "4Th0rb3aR!1#@_28+&{.", k = y.createStyleSheet({
item: {
height: S["default"].getHeight(7),
flexDirection: "row",
paddingLeft: 2 * S["default"].GUTTER,
paddingRight: 2 * S["default"].GUTTER,
marginBottom: 1,
alignItems: "center"
}
}), R = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.componentDidFocus = function r() {
!SpartaGlobals.bundleIsPC && this.refs.input && this.refs.input.focus();
}, t.prototype.textChanged = function l(e) {
e === A && h.frostbite.sendMessage("sparta.triggerGameCrash"), T["default"].setFilterValue(this.props.gameId, this.props.name, this.props.filterName, e);
}, t.prototype.render = function u() {
var e = this, t = I.isRTLLanguage() ? {
marginLeft: 2 * S["default"].GUTTER
} : {
paddingRight: 2 * S["default"].GUTTER
};
return {
$$typeof: c,
type: S["default"].Row,
key: null,
ref: null,
props: o(S["default"].Row.defaultProps, {
children: I.localeRearrange([ {
$$typeof: c,
type: m["default"],
key: "label",
ref: null,
props: o(m["default"].defaultProps, {
value: __("ID_SPARTA_FILTER_SERVERNAME").toUpperCase(),
size: "S",
style: t
}),
_owner: null
}, d["default"].createElement(E["default"], {
key: "control",
ref: "input",
initialValue: this.props.text,
maxLength: 25,
size: "S",
onValueChanged: function(t) {
return e.textChanged(t);
},
style: {
flex: 1
},
editKey: v["default"].Accept
}) ]),
style: k.item
}),
_owner: null
};
};
var n = t;
return t = s("_$TextFilterListItem")(t) || t;
}(d["default"].Component);
t["default"] = R, R.propTypes = {
gameId: d["default"].PropTypes.string.isRequired,
name: d["default"].PropTypes.string.isRequired,
filterName: d["default"].PropTypes.string.isRequired,
text: d["default"].PropTypes.string.isRequired
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return f(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l), p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = {
_$CompletionProgress: {
displayName: "CompletionProgress"
}
}, f = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Soldier/CompletionProgress.jsx",
components: c,
locals: [],
imports: []
}), d = n(1), h = n(7), y = n(76), g = {
text: {
whiteSpace: "nowrap",
textAlign: "right",
textAlignForRTL: "center",
marginBottom: 5,
width: 80,
zOffset: 3
}
}, m = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = this.props.completionObj, t = e.progress || {
current: 0,
total: 0
}, n = this.props.fontColor ? this.props.fontColor : "#ffffff";
this.props.focused && (n = "#000000");
var o, a = e.progress.total === e.progress.current;
return a ? n = "#ff9900" : o = {
$$typeof: p,
type: y,
key: null,
ref: null,
props: r(y.defaultProps, {
height: "S",
width: 80,
completed: t.percentage
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: h,
key: null,
ref: null,
props: r(h.defaultProps, {
style: g.text,
color: n,
size: "XS",
value: t.current + "/" + t.total
}),
_owner: null
}, o ]
},
_owner: null
};
};
var n = t;
return t = i("_$CompletionProgress")(t) || t;
}(d.Component);
e.exports = m;
}, function(e, t, n) {
(function(__) {
function t(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return x(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s), u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = i(c), d = n(8), h = n(4), y = i(h), g = n(2), m = n(59), b = i(m), v = n(12), _ = i(v), S = n(7), w = i(S), T = n(6), C = i(T), E = n(60), I = n(14), P = i(I), O = n(68), A = n(112), k = i(A), R = {
_$HighlightCard: {
displayName: "HighlightCard"
}
}, x = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Soldier/HighlightCard.jsx",
components: R,
locals: [],
imports: []
}), M = {
box: {
height: C["default"].getHeight(21),
padding: [ 10, 10, 10, 10 ],
backgroundColor: "#00000050"
},
boxFocus: {
backgroundColor: "#ffffff"
},
itemImage: {
position: "absolute",
left: 0,
right: 0,
bottom: 0,
top: 0
},
itemImageFocus: {
color: "#000000"
},
text: {
textAlignForRTL: "left"
},
textStyle: {
opacity: .66
}
}, N = function(e) {
function n(t) {
r(this, i), e.call(this, t), this.focusItem = g.focus.create(this, "highlight_card_" + (t.item ? t.item.heading : "unknown"));
}
o(n, e), n.prototype.render = function s() {
var e = this.props.item || {
heading: "",
name: "",
value: "",
valueText: ""
}, n = new P["default"]({
label: __("ID_SPARTA_ACTION_SELECT"),
action: this.props.onClick,
key: _["default"].Accept
}), r = "#ffffff", o = M.textStyle, a = M.box, i = {};
e.imageUrl && "" !== e.imageUrl ? i.texture = e.imageUrl : this.props.imageUrl && (i.texture = this.props.imageUrl), 
i.textureMode = this.props.textureMode ? this.props.textureMode : "contain";
var s = O.fontState.locale !== k["default"].ARABIC ? E.Direction.Right : E.Direction.Left;
return this.focusItem.isFocused && (a = y["default"].extend({}, a, M.boxFocus), 
o = {}, r = "#000000", i.color = "#000000"), {
$$typeof: p,
type: b["default"],
key: null,
ref: null,
props: t(b["default"].defaultProps, {
children: [ {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
style: [ i, {
height: C["default"].getHeight(9),
marginTop: C["default"].getHeight(4)
} ]
},
_owner: null
},
style: M.itemImage
},
_owner: null
}, {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: t(w["default"].defaultProps, {
size: "XS",
color: r,
value: e.heading.toUpperCase(),
style: u({}, M.text, o)
}),
_owner: null
}, {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
children: [ {
$$typeof: p,
type: E.Marquee,
key: null,
ref: null,
props: t(E.Marquee.defaultProps, {
children: {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: t(w["default"].defaultProps, {
size: "S",
color: r,
value: e.name,
style: {
flex: 1
}
}),
_owner: null
},
scroll: this.focusItem.isFocused,
scrollTo: s,
style: {
flex: 1
}
}),
_owner: null
}, {
$$typeof: p,
type: w["default"],
key: null,
ref: null,
props: t(w["default"].defaultProps, {
size: "XS",
color: r,
value: e.value + " " + e.valueText,
style: u({}, M.text, o)
}),
_owner: null
} ],
style: {
position: "absolute",
left: 0,
right: 0,
bottom: 0
}
},
_owner: null
} ],
style: a,
input: n,
focusItem: this.focusItem
}),
_owner: null
};
};
var i = n;
return n = a("_$HighlightCard")(n) || n, n = d.observer(n) || n;
}(f["default"].Component);
e.exports = N;
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return g(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, c = n(1), f = s(c), d = n(2), h = r(d), y = {
_$Heading: {
displayName: "Heading"
}
}, g = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Text/Heading.jsx",
components: y,
locals: [],
imports: []
}), m = h.createStyleSheet({}), b = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function r() {
return {
$$typeof: p,
type: "surface",
key: null,
ref: null,
props: {
text: this.props.text,
style: [ m ].concat(this.props.style)
},
_owner: null
};
};
var n = t;
return t = i("_$Heading")(t) || t;
}(f["default"].Component);
t["default"] = b, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return k(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
return T.LINE_HEIGHTS[e] / 5;
}
var u = n(3), p = s(u);
t.__esModule = !0;
var c = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, f = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, d = n(4), h = s(d), y = n(1), g = s(y), m = n(7), b = s(m), v = n(2), _ = n(49), S = n(13), w = s(S), T = n(40), C = n(9), E = n(8), I = n(11), P = n(19), O = s(P), A = {
_$BoundedSurface: {
displayName: "BoundedSurface"
},
_$TextField: {
displayName: "TextField"
}
}, k = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Text/TextField.jsx",
components: A,
locals: [],
imports: []
}), R = 10, x = {
container: {
position: "relative",
layer: !0,
layerClip: !0
},
border: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 5,
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2
},
borderValid: {
texture: C.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png")
},
borderInvalid: {
texture: C.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-red-04dcea22.png")
},
innerContainer: {
paddingLeft: R,
paddingRight: R,
position: "relative",
flexDirection: "row"
},
text: {
zOffset: 50,
color: "#ffffff"
},
selection: {
backgroundColor: "#ffffff99",
flexDirection: "row"
},
placeholder: {
color: "#ffffff",
opacity: .66
}
}, M = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.componentDidUpdateBounds = function r() {
this.props.onUpdateBounds && this.props.onUpdateBounds(this.bounds);
}, t.prototype.render = function s() {
return g["default"].createElement("surface", c({}, this.props.hooks, this.props), this.props.children);
};
var n = t;
return t = i("_$BoundedSurface")(t) || t, t = v.hasSurfaceBounds()(t) || t;
}(g["default"].Component), N = function(e) {
function t() {
o(this, n), e.call(this), this.offsetTween = w["default"].tween("334d3967:77", 0);
}
a(t, e), t.prototype.componentWillUnmount = function s() {
this.offsetTween.destroy();
}, t.prototype.getFontConfiguration = function u() {
return this.context.fonts ? this.context.fonts : this.context.routeConfig ? this.context.routeConfig.fonts : void 0;
}, t.prototype.getSection = function p() {
if (this.props.section) return this.props.section;
var e = null, t = I.layoutStateStore.current;
return e = t && t.config ? t.config.gameId || "generic" : O["default"].getHostingGame().gameId;
}, t.prototype.onCharClicked = function d(e, t, n, r) {
this.props.onCharacterClicked && (e.stopPropagation.trigger(), this.props.onCharacterClicked(n + r));
}, t.prototype.updateContainerWidth = function y(e) {
this.containerWidth = e.width;
}, t.prototype.updateOffset = function g(e) {
var t = e.width;
t > this.containerWidth - 4 * R ? this.offsetTween.set(this.containerWidth - (t + 4 * R)) : this.offsetTween.set(0);
}, t.prototype.renderClickableChar = function m(e, t, n, o) {
var a = this, i = this.getSection();
return " " === e ? {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: "_",
style: c({}, o, {
opacity: 0
}),
size: this.props.size,
section: i,
onClick: function(r) {
return a.onCharClicked(r, e, t, n);
}
}),
_owner: null
} : {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: e,
style: o,
section: i,
size: this.props.size,
onClick: function(r) {
return a.onCharClicked(r, e, t, n);
}
}),
_owner: null
};
}, t.prototype.renderClickableChars = function v(e, t, n) {
var r = this;
return h["default"].map(e, function(e, o) {
return r.renderClickableChar(e, o, t, n);
});
}, t.prototype.renderPlaceholder = function _() {
var e = this.getSection();
return {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: this.props.placeholder,
section: e,
size: this.props.size,
style: x.placeholder
}),
_owner: null
};
}, t.prototype.renderEmptyText = function S() {
var e = this.getSection();
return {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: " ",
style: {
position: "relative",
left: -10
},
size: this.props.size,
section: e
}),
_owner: null
};
}, t.prototype.renderTextField = function C() {
var e = this, t = this.props, n = t.selectionStart, o = t.selectionEnd, a = t.size, i = t.value, s = this.getFontConfiguration(), l = s ? s.letterSpacing : 0, u = l > 0 ? c({}, x.text, {
paddingLeft: l
}) : x.text, p = i.substring(0, n), d = i.substring(n, o), h = i.substring(o), y = {
$$typeof: f,
type: M,
key: null,
ref: null,
props: r(M.defaultProps, {
children: {
$$typeof: f,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
value: i.substring(0, o),
size: a
}),
_owner: null
},
style: {
position: "absolute",
opacity: 0
},
onUpdateBounds: function(t) {
return e.updateOffset(t);
}
}),
_owner: null
}, g = this.renderClickableChars(p, 0, u), m = {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: this.renderClickableChars(d, n, u),
style: x.selection
},
_owner: null
}, v = this.renderClickableChars(h, o, u);
return g.concat([ m ]).concat(v).concat([ y ]);
}, t.prototype.render = function P() {
var e = this, t = l(this.props.size), n = c({}, x.container, this.props.style, {
height: 3 * t + T.LINE_HEIGHTS[this.props.size],
paddingTop: 2 * t,
paddingBottom: t
});
!this.props.focusItem.isFocused || !SpartaGlobals.bundleIsConsole && this.props.isActive || (n.backgroundColor = "#ffffff10");
var o = this.props.isInvalid ? .5 : .2, a = SpartaGlobals.bundleIsPC || !this.props.isActive, i = c({}, x.border, this.props.isInvalid && a ? x.borderInvalid : x.borderValid, {
opacity: this.props.isActive ? 1 : o
}), s = null;
s = this.props.isActive ? "" === this.props.value ? this.renderEmptyText() : this.renderTextField() : "" === this.props.value ? this.renderPlaceholder() : this.renderTextField();
var u = this.props.focusItem.hooks;
return delete u.onClick, {
$$typeof: f,
type: M,
key: null,
ref: null,
props: r(M.defaultProps, {
children: [ {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
style: i
},
_owner: null
}, {
$$typeof: f,
type: "surface",
key: null,
ref: null,
props: {
children: [ s, this.props.children ],
style: [ x.innerContainer, {
translateX: this.offsetTween.getStyle()
} ]
},
_owner: null
} ],
hooks: u,
onUpdateBounds: function(t) {
return e.updateContainerWidth(t);
},
style: n,
onClick: function(t) {
return e.props.onClick(t);
}
}),
_owner: null
};
};
var n = t;
return t = i("_$TextField")(t) || t, t = E.observer(t) || t;
}(g["default"].Component);
t["default"] = N, N.defaultProps = {
value: "",
selectionStart: 0,
selectionEnd: 0,
size: "M",
placeholder: "",
isActive: !1
}, N.propTypes = {
value: g["default"].PropTypes.string,
selectionStart: g["default"].PropTypes.number.isRequired,
selectionEnd: g["default"].PropTypes.number.isRequired,
size: g["default"].PropTypes.string,
placeholder: g["default"].PropTypes.string,
isActive: g["default"].PropTypes.bool
}, N.contextTypes = {
routeConfig: g["default"].PropTypes.instanceOf(_.Route),
fonts: g["default"].PropTypes.shape({
normal: g["default"].PropTypes.shape({
name: g["default"].PropTypes.string,
emphasis: g["default"].PropTypes.string
}),
emphasis: g["default"].PropTypes.shape({
name: g["default"].PropTypes.string,
emphasis: g["default"].PropTypes.string
}),
letterSpacing: g["default"].PropTypes.number
})
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return A(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
var t = e.message, n = e.containerStyle, r = e.textProps, o = f({
whiteSpace: "nowrap",
color: n && n.color,
textAlign: "center"
}, r && r.style);
return b["default"].createElement(_["default"], f({
value: t.text()
}, r, {
style: o
}));
}
function u(e) {
var t = e.padding, n = e.paddingTop, r = e.paddingBottom;
return n || r ? (n || 0) + (r || 0) : t ? t[0] + t[2] : 0;
}
var p = n(3), c = s(p);
t.__esModule = !0;
var f = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), y = n(4), g = s(y), m = n(1), b = s(m), v = n(7), _ = s(v), S = n(307), w = s(S), T = n(6), C = s(T), E = n(13), I = s(E), P = n(289), O = {
_$TextRotator: {
displayName: "TextRotator"
},
_$TextRotatorWithBounds: {
displayName: "TextRotatorWithBounds"
},
_$BoundsCollector: {
displayName: "BoundsCollector"
}
}, A = c["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/TextRotator.jsx",
components: O,
locals: [],
imports: []
}), k = b["default"].PropTypes.shape({
text: b["default"].PropTypes.func,
voiceTrack: b["default"].PropTypes.string,
delay: b["default"].PropTypes.number
}), R = {
position: "absolute",
top: 0,
left: 0,
bottom: 0
}, x = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
isBoundsCollected: !1
};
}
a(t, e), h(t, null, [ {
key: "propTypes",
value: {
style: b["default"].PropTypes.object,
textProps: b["default"].PropTypes.object,
tweenOptions: b["default"].PropTypes.object,
messages: b["default"].PropTypes.arrayOf(k),
defaultDelay: b["default"].PropTypes.number,
loop: b["default"].PropTypes.bool,
autoStart: b["default"].PropTypes.bool,
onMessageStart: b["default"].PropTypes.func,
onMessageEnd: b["default"].PropTypes.func,
onEnd: b["default"].PropTypes.func
},
enumerable: !0
}, {
key: "defaultProps",
value: {
tweenOptions: {
duration: 500
},
messages: [],
defaultDelay: 1e3,
loop: !1,
autoStart: !0,
onMessageStart: function s() {},
onMessageEnd: function u() {},
onEnd: function p() {}
},
enumerable: !0
} ]), t.prototype.componentWillUpdate = function c(e, t) {
g["default"].isEqual(e.messages, this.props.messages) || this.setState({
isBoundsCollected: !1
});
}, t.prototype.render = function y() {
var e = this;
return this.state.isBoundsCollected ? b["default"].createElement(M, f({}, this.props, {
bounds: this.state.bounds
})) : {
$$typeof: d,
type: N,
key: null,
ref: null,
props: r(N.defaultProps, {
elements: this.props.messages.map(function(t) {
return {
$$typeof: d,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
textProps: e.props.textProps,
message: t
}),
_owner: null
};
}),
onBoundsCollected: function(t) {
return e.setState({
bounds: t,
isBoundsCollected: !0
});
}
}),
_owner: null
};
};
var n = t;
return t = i("_$TextRotator")(t) || t;
}(b["default"].Component);
t["default"] = x;
var M = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
index: 0
}, this.tweens = {
opacity: I["default"].tween("b843cdcc:103", 0)
};
}
a(t, e), h(t, null, [ {
key: "propTypes",
value: f({}, x.propTypes, {
bounds: b["default"].PropTypes.arrayOf(b["default"].PropTypes.shape({
width: b["default"].PropTypes.number
}))
}),
enumerable: !0
}, {
key: "defaultProps",
value: x.defaultProps,
enumerable: !0
} ]), t.prototype.componentDidMount = function s() {
this.tweens.opacity.to(1), this.props.messages.length && (this.props.onMessageStart(this.state.index), 
this.props.onMessageEnd(this.state.index), this.playCurrentTrack()), this.props.autoStart && (this.props.messages.length ? this.next() : this.props.onEnd());
}, t.prototype.componentWillUnmount = function p() {
for (var e in this.tweens) this.tweens[e].destroy();
clearTimeout(this.nextTimeoutId);
}, t.prototype.getCurrentDelay = function c() {
var e = this.props.messages[this.state.index].delay;
return void 0 === e ? this.props.defaultDelay : e;
}, t.prototype.onTransitionFinished = function y() {
this.props.onMessageEnd(this.state.index);
var e = this.props.messages.length - 1;
(this.state.index !== e || (setTimeout(this.props.onEnd, this.getCurrentDelay()), 
this.props.loop)) && this.next();
}, t.prototype.next = function g() {
var e = this;
clearTimeout(this.nextTimeoutId), this.nextTimeoutId = setTimeout(function() {
var t = (e.state.index + 1) % e.props.messages.length;
e.setState({
index: t
}, function() {
e.props.onMessageStart(t), e.playCurrentTrack();
});
}, this.getCurrentDelay());
}, t.prototype.playCurrentTrack = function m() {
var e = this.props.messages[this.state.index].voiceTrack, t = !1;
e && t && P.playMenuVO(e);
}, t.prototype.render = function v() {
var e = this, t = f({}, this.props.style, {
opacity: this.tweens.opacity.getStyle()
}), n = t.height || C["default"].getHeight(SpartaGlobals.bundleIsPC ? 6 : 8), o = this.props.messages[this.state.index], a = this.props.bounds[this.state.index], i = u(t), s = f({}, this.props.tweenOptions);
s.delay = s.duration || I["default"].defaultTweenOptions.duration;
var p = {
flex: 1,
width: I["default"].tweenTo(a.width, s)
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: w["default"],
key: null,
ref: null,
props: r(w["default"].defaultProps, {
children: {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: l,
key: null,
ref: null,
props: r(l.defaultProps, {
containerStyle: t,
textProps: this.props.textProps,
message: o
}),
_owner: null
},
style: p
},
_owner: null
},
transitionId: "slide" + this.state.index,
height: n - i,
options: s,
onTransitionFinished: function() {
return e.onTransitionFinished();
}
}),
_owner: null
},
style: t
},
_owner: null
};
};
var n = t;
return t = i("_$TextRotatorWithBounds")(t) || t;
}(b["default"].Component), N = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.layers = [];
}
a(t, e), t.prototype.componentDidMount = function r() {
var e = this;
this.timeoutId = setTimeout(function() {
if (e.props.onBoundsCollected) {
var t = e.layers.map(function(e) {
return e.getBounds();
});
e.props.onBoundsCollected(t);
}
}, 1e3);
}, t.prototype.componentWillUnmount = function s() {
clearTimeout(this.timeoutId);
}, t.prototype.render = function l() {
var e = this, t = this.props.elements.map(function(t, n) {
return b["default"].createElement("surface", {
ref: function(t) {
return e.layers[n] = t;
},
style: R
}, t);
});
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: {
flex: 1,
opacity: 0
}
},
_owner: null
};
};
var n = t;
return t = i("_$BoundsCollector")(t) || t;
}(b["default"].Component);
e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
var n = {};
for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
return n;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return g(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), f = s(c), d = n(818), h = s(d), y = {
_$TextureCrossfade: {
displayName: "TextureCrossfade"
}
}, g = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/TextureCrossfade.jsx",
components: y,
locals: [],
imports: []
}), m = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.state = {
textureIndex: 0
};
}
a(t, e), t.prototype.componentDidMount = function s() {
this.startOrStopCrossfading();
}, t.prototype.componentDidUpdate = function l() {
this.startOrStopCrossfading();
}, t.prototype.componentWillUnmount = function u() {
this.startOrStopCrossfading(!0);
}, t.prototype.startOrStopCrossfading = function c(e) {
var t = this;
e || this.props.textures.length <= 1 ? (clearInterval(this.transitionTimeoutId), 
delete this.transitionTimeoutId) : void 0 === this.transitionTimeoutId && (this.transitionTimeoutId = setInterval(function() {
return t.nextCrossfade();
}, this.props.interval));
}, t.prototype.nextCrossfade = function d() {
var e = (this.state.textureIndex + 1) % this.props.textures.length;
this.setState({
textureIndex: e
});
}, t.prototype.render = function y() {
var e = this.props, t = e.textures, n = r(e, [ "textures" ]), o = t[this.state.textureIndex], a = this.props.interval + this.props.duration / 2, i = this.props.offsetSpeed * (a / 1e3), s = {
opacity: {
enter: {
playOnMount: !1,
from: 0,
to: 1,
options: {
duration: this.props.duration
}
},
leave: {
from: 1,
to: 0,
options: {
duration: this.props.duration
}
}
},
textureOffsetX: {
enter: {
from: i / 2,
to: -i / 2,
waitFor: !1,
options: {
duration: a,
easing: "Linear"
}
}
}
};
return f["default"].createElement(h["default"], p({
texture: o,
tweens: s
}, n));
};
var n = t;
return t = i("_$TextureCrossfade")(t) || t;
}(f["default"].Component);
t["default"] = m, m.defaultProps = {
offsetSpeed: 8,
interval: 6e3,
duration: 2e3,
textures: []
}, m.propTypes = {
offsetSpeed: f["default"].PropTypes.number,
interval: f["default"].PropTypes.number,
duration: f["default"].PropTypes.number,
textures: f["default"].PropTypes.arrayOf(f["default"].PropTypes.string)
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return _(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var l = n(3), u = s(l);
t.__esModule = !0;
var p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(2), y = n(317), g = s(y), m = n(13), b = s(m), v = {
_$TextureTransition: {
displayName: "TextureTransition"
},
_$Texture: {
displayName: "Texture"
}
}, _ = u["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/TextureTransition.jsx",
components: v,
locals: [],
imports: []
}), S = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.render = function s() {
var e = [ {
$$typeof: c,
type: T,
key: this.props.texture,
ref: null,
props: r(T.defaultProps, {
style: p({
texture: this.props.texture
}, this.props.textureStyle),
tweens: this.props.tweens
}),
_owner: null
} ];
return {
$$typeof: c,
type: g["default"],
key: null,
ref: null,
props: r(g["default"].defaultProps, {
children: e,
tag: "surface",
style: this.props.style
}),
_owner: null
};
};
var n = t;
return t = i("_$TextureTransition")(t) || t;
}(d["default"].Component);
t["default"] = S;
var w = d["default"].PropTypes.shape({
from: d["default"].PropTypes.number.isRequired,
to: d["default"].PropTypes.number.isRequired,
playOnMount: d["default"].PropTypes.bool,
waitFor: d["default"].PropTypes.bool,
options: d["default"].PropTypes.object
});
S.defaultProps = {
tweens: []
}, S.propTypes = {
style: d["default"].PropTypes.object,
texture: d["default"].PropTypes.string,
textureStyle: d["default"].PropTypes.object,
tweens: d["default"].PropTypes.objectOf(d["default"].PropTypes.shape({
enter: w,
leave: w
})).isRequired
};
var T = function(e) {
function t(t) {
o(this, n), e.call(this, t), this.tweens = Object.keys(t.tweens).reduce(function(e, n) {
var r = t.tweens[n], o = r.enter && r.enter.to || r.leave && r.leave.from || 0;
return e[n] = b["default"].tween("60f69b46:76_" + n, o), e;
}, {});
}
a(t, e), t.prototype.componentDidMount = function r() {
this.playTweens("enter", function(e) {
return void 0 !== e.playOnMount ? e.playOnMount : !0;
});
}, t.prototype.componentWillEnter = function s(e) {
var t = this;
this.playTweens("enter").then(function() {
t._isCancelled || e();
});
}, t.prototype.componentWillLeave = function l(e) {
var t = this;
this.playTweens("leave").then(function() {
t._isCancelled || e();
});
}, t.prototype.componentWillUnmount = function u() {
this._isCancelled = !0;
for (var e in this.tweens) this.tweens[e].destroy();
}, t.prototype.playTweens = function f(e) {
var t = this, n = arguments.length <= 1 || void 0 === arguments[1] ? function() {
return !0;
} : arguments[1], r = Object.keys(this.props.tweens), o = r.map(function(r) {
var o = t.props.tweens[r][e];
if (o && n(o)) {
var a = new Promise(function(e) {
t.tweens[r].transition(o.from, o.to, o.options, e);
}), i = void 0 !== o.waitFor ? o.waitFor : !0;
if (i) return a;
}
return Promise.resolve();
});
return Promise.all(o);
}, t.prototype.render = function d() {
var e = p({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, h.Tween.getStyles(this.tweens), this.props.style);
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
style: e
},
_owner: null
};
};
var n = t;
return t = i("_$Texture")(t) || t;
}(d["default"].Component);
e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return g(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, p = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, c = n(1), f = i(c), d = n(13), h = i(d), y = {
_$Tilter: {
displayName: "Tilter"
}
}, g = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/Tilter.jsx",
components: y,
locals: [],
imports: []
}), m = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.tweens = {
translateX: h["default"].tween("3b440f2a:9", 0, this.props.animation),
translateY: h["default"].tween("3b440f2a:10", 0, this.props.animation)
};
}
o(t, e), t.prototype.tiltTo = function i(e, t) {
this.tweens.translateX.to(e), this.tweens.translateY.to(t);
}, t.prototype.render = function s() {
var e = p({
translateX: this.tweens.translateX.getStyle(),
translateY: this.tweens.translateY.getStyle()
}, this.props.style);
return {
$$typeof: u,
type: "surface",
key: null,
ref: null,
props: {
children: this.props.children,
style: e
},
_owner: null
};
};
var n = t;
return t = a("_$Tilter")(t) || t;
}(f["default"].Component);
t["default"] = m, m.defaultProps = {
animation: {
duration: h["default"].defaultTweenOptions.duration / 2
}
}, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return y(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), c = i(p), f = n(464), d = i(f), h = {
_$Masher: {
displayName: "Masher"
}
}, y = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-ui/lib/tweeners/Masher.jsx",
components: h,
locals: [],
imports: []
}), g = function(e) {
function t() {
r(this, n), e.apply(this, arguments);
}
o(t, e), t.prototype.render = function i() {
return c["default"].createElement(d["default"], u({}, this.props, {
tweens: [ {
propertyName: "opacity",
inValue: 1,
outValue: 0
}, {
propertyName: "scaleY",
inValue: 1,
outValue: 0
} ]
}));
};
var n = t;
return t = a("_$Masher")(t) || t;
}(c["default"].Component);
t["default"] = g, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
t.__esModule = !0;
var r = n(289), o = {
onboarded_home: {
base: [ {
text: function a() {
return __("ID_SPARTA_START_ONBOARDING_WELCOME_BACK").toUpperCase();
},
voiceTrack: r.menuSounds.SPLASH_WELCOME_BACK_TO_YOUR_BATTLEFIELD_SOLDIER,
delay: 8e3
}, {
text: function i() {
return __("ID_SPARTA_START_ONBOARDING_PERSONALIZING").toUpperCase();
},
voiceTrack: r.menuSounds.SPLASH_WELCOME_TO_THE_BATTLEFIELD_PREPARING_YOUR_EXPERIENCE,
delay: 5e3
} ],
onboarding: [ {
text: function() {
return __("ID_SPARTA_TUNGUSKA_WELCOME").toUpperCase() + "...";
},
voiceTrack: r.menuSounds.GREETINGS_WELCOME_TO_THE_BATTLEFIELD,
delay: 8e3
}, {
text: function s() {
return __("ID_SPARTA_START_ONBOARDING_PERSONALIZING").toUpperCase();
},
voiceTrack: r.menuSounds.SPLASH_WELCOME_TO_THE_BATTLEFIELD_PREPARING_YOUR_EXPERIENCE,
delay: 4e3
} ]
},
crossLaunch: {
MP: [ {
text: function() {
return __("ID_SPARTA_TUNGUSKA_WELCOME").toUpperCase() + "...";
},
voiceTrack: r.menuSounds.GREETINGS_WELCOME_TO_THE_BATTLEFIELD,
delay: 6e3
}, {
text: function l() {
return __("ID_SPARTA_ONBOARDING_CROSSLAUNCH_MULTIPLAYER_SERVER");
},
delay: 6e3
} ],
MP_FRIEND: [ {
text: function() {
return __("ID_SPARTA_TUNGUSKA_WELCOME").toUpperCase() + "...";
},
voiceTrack: r.menuSounds.GREETINGS_WELCOME_TO_THE_BATTLEFIELD,
delay: 6e3
}, {
text: function u() {
return __("ID_SPARTA_ONBOARDING_CROSSLAUNCH_MULTIPLAYER_FRIEND");
},
delay: 6e3
} ],
SP: [ {
text: function() {
return __("ID_SPARTA_TUNGUSKA_WELCOME").toUpperCase() + "...";
},
voiceTrack: r.menuSounds.GREETINGS_WELCOME_TO_THE_BATTLEFIELD,
delay: 6e3
}, {
text: function p() {
return __("ID_SPARTA_ONBOARDING_CROSSLAUNCH_CAMPAIGN");
},
delay: 6e3
} ]
}
};
t["default"] = o, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {
function e(e) {
if (!e.isEmpty()) {
var n = i["default"].values(e).filter(function(e) {
var n = -1 !== t.indexOf(e.id);
return !n;
}).map(function(e) {
return t.push(e.id), e.spartaUserId;
});
n.length > 0 && s.frostbite.sendMessage("sparta.getUserProfiles", {
users: n
});
}
}
var t = [];
SpartaGlobals.bundleIsXBOXONE || y["default"].listen(function(e) {
if (e) {
var n = -1 !== t.indexOf(e.id);
n || (t.push(e.id), s.frostbite.sendMessage("sparta.getUserProfiles", {
users: [ e.spartaUserId ]
}));
}
}), m["default"].scope("isFirstPartyConnected").connect(function(t) {
t && e(d["default"].getState());
}), d["default"].listen(function(t) {
m["default"].getState().isReady() && e(t);
}), s.frostbite.registerMessageListener("sparta.getUserProfilesResp", function(e, t) {
if (t && t.success) {
var n = [];
i["default"].each(t.userProfiles, function(e) {
var t = new S["default"](e.spartaUserId), r = d["default"].getUserById(t.getPlatformId());
r ? n.push(new c["default"](i["default"].extend({}, r, {
displayName: e.displayName,
avatarUrl: v["default"](e.profileImageUrl)
}))) : console.warn("Could not find user with id", t.getPlatformId(), e);
}), n.length && u["default"].updateUsers(n);
}
});
var n = T["default"](function(e) {
var t = i["default"].compact(i["default"].map(e.users, function(e) {
var t = d["default"].getUserByName(e.name);
return t ? new c["default"](i["default"].extend({}, t, {
spartaUserId: S["default"].update(t.spartaUserId, e.spartaUserId)
})) : null;
}));
t.length && u["default"].updateUsers(t);
}, 1e3, !1, !0);
s.frostbite.registerMessageListener("sparta.userTitleInfo", function(e, t) {
t.success && n(t);
});
}
t.__esModule = !0;
var a = n(4), i = r(a), s = n(2), l = n(38), u = r(l), p = n(77), c = r(p), f = n(116), d = r(f), h = n(48), y = r(h), g = n(34), m = r(g), b = n(465), v = r(b), _ = n(142), S = r(_), w = n(83), T = r(w);
t["default"] = o, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var a, i = n(4), s = o(i), l = n(2), u = r(l), p = n(77), c = o(p), f = n(116), d = o(f), h = n(131), y = o(h), g = n(38), m = o(g), b = n(309), v = o(b), _ = n(111), S = o(_), w = n(26), T = o(w), C = n(21), E = o(C), I = n(142), P = o(I), O = n(831), A = E["default"].createClient({
request: function R() {
return T["default"].request("Friend.notifyFriendsChanged");
},
parse: function x() {},
update: function M() {}
}), k = E["default"].createClient({
requestOn: [ S["default"].onReady, T["default"].onSessionEstablished, v["default"].fetchFriends ],
updateOn: [ v["default"].handleFriendsReceived ],
listener: function N(e, t) {
var n = void 0;
n = "number" == typeof e && e >= t && t > 0 ? t - 1 : "number" == typeof e && e > 0 ? e - 1 : 0;
var r = [ "InTitleFilter", "OnlineOtherTitleFilter" ];
return SpartaGlobals.bundleIsXBOXONE ? r.push("OfflineFilter") : r.push("MutualOfflineFilter"), 
{
pagination: {
use: !0,
size: 32,
page: n,
lock: !1,
filters: r
}
};
},
request: function $(e) {
return u.frostbite.sendMessage("sparta.getFriends", e);
},
parse: function D(e) {
var t = s["default"].chain(e.Friends).map(function(e) {
var t, n = P["default"].getPlatformId(e.spartaUserId), r = d["default"].getUserById(n), o = O.parsePlatformPresence(e, r), a = O.parsePlatformUser(e, o), i = O.updateSpartaUserId(a, r);
return r && (t = {
displayName: r.displayName && "" !== r.displayName ? r.displayName : a.displayName,
name: r.name && "" !== r.name ? r.name : a.name
}), new c["default"](s["default"].extend({}, r, a, i, t));
}).compact().value(), n = s["default"].pluck(t, "id"), r = s["default"].chain(y["default"].getState()).filter(function(e) {
return n.indexOf(e.id) < 0;
}).map(function(e) {
return new c["default"](s["default"].extend({}, e, {
friendState: void 0
}));
}).value();
return {
friends: t,
exFriends: r
};
},
update: function U(e, t) {
void 0 !== a && t.totalNrFriends !== a && A.trigger(), a = t.totalNrFriends;
var n = e.friends.concat(e.exFriends), r = Math.ceil(t.totalNrFriends / t.pagination.size);
0 === n.length && t.pagination.page >= 1 && r <= t.pagination.page ? v["default"].fetchFriends(t.pagination.page - 1, r) : (m["default"].updateUsers(e.friends.concat(e.exFriends)), 
v["default"].updatePagination(t.pagination.page, r));
}
});
t["default"] = k, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(21), s = r(i), l = n(26), u = r(l), p = n(38), c = r(p), f = n(11), d = s["default"].createClient({
requestOn: [ u["default"].onSessionEstablished, c["default"].getOnboardingFlags ],
throttle: 3e4,
listener: function y() {
return [ a["default"].keys(f.gameStore.games.toJS()).concat([ "sparta" ]) ];
},
request: function g(e) {
return u["default"].request("State.getUserFlags", {
games: e
});
},
onRequestError: function m(e, t) {
var n = a["default"].object(a["default"].map(t, function(e) {
return [ e, !0 ];
}));
c["default"].receiveOnboardingFlagsError(n);
},
parse: function b(e) {
return e;
},
update: function v(e) {
c["default"].receiveOnboardingFlags(e);
}
}), h = s["default"].createClient({
requestOn: [ c["default"].setOnboardingFlag ],
request: function _(e, t) {
return u["default"].request("State.setFlag", {
game: e,
flag: t
});
},
parse: function S(e) {
return e;
},
update: function w(e, t, n, r) {
c["default"].receiveOnboardingFlag(n, r);
}
});
t["default"] = {
startListening: function T() {
d.startListening(), h.startListening();
}
}, e.exports = t["default"];
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(37), s = r(i), l = n(2), u = n(116), p = r(u), c = n(38), f = r(c), d = n(70), h = r(d), y = n(129), g = r(y), m = n(310), b = r(m), v = n(313), _ = n(77), S = r(_), w = n(465), T = r(w), C = n(142), E = r(C), I = n(35);
t["default"] = function() {
g["default"].getStatus.listen(function() {
l.frostbite.sendMessage("sparta.partyGetPartyMembers");
}), g["default"].getMembers.listen(function() {
l.frostbite.sendMessage("sparta.partyGetPartyMembers");
}), g["default"].create.listen(function() {
h["default"].getState().canCreateParty() && (b["default"].onPartyUpdated({
state: v.PartyState.Creating
}), l.frostbite.sendMessage("sparta.partyCreate"));
}), g["default"].leave.listen(function() {
h["default"].getState().canLeaveParty() && (b["default"].onPartyUpdated({
state: v.PartyState.Leaving
}), l.frostbite.sendMessage("sparta.partyLeaveParty"));
}), g["default"].invite.listen(function(e) {
l.frostbite.sendMessage("sparta.partySendInvites", {
users: [ e.spartaUserId ]
});
}), l.frostbite.registerMessageListener("sparta.partyUpdatedResp", function(e, t) {
b["default"].onPartyUpdated({
id: t.partyId,
gameId: t.gameId
}), g["default"].getStatus();
}), l.frostbite.registerMessageListener("sparta.partyCreateResp", function(e, t) {
0 === t.result ? (b["default"].onPartyUpdated({
state: v.PartyState.Stable
}), g["default"].getStatus()) : b["default"].onPartyDisbanded();
}), l.frostbite.registerMessageListener("sparta.partyLeavePartyResp", function(e, t) {
0 === t.result ? b["default"].onPartyDisbanded() : b["default"].onPartyUpdated({
state: v.PartyState.Stable
});
}), l.frostbite.registerMessageListener("sparta.partyGetSendInvitesResp", function(e, t) {
g["default"].getMembers();
}), l.frostbite.registerMessageListener("sparta.partyGetPartyResp", function(e, t) {
b["default"].onPartyUpdated({
gameId: t.gameId
}), g["default"].getMembers();
}), l.frostbite.registerMessageListener("sparta.partyGetPartyMembersResp", function(e, t) {
if (t.members) {
var n = a["default"].map(a["default"].filter(t.members, function(e) {
return e.gameGroupId && "0" !== e.gameGroupId;
}), function(e) {
var t = new E["default"](e.spartaUserId), n = T["default"](e.profileImageUrl), r = e.onlineId, o = p["default"].getUserById(t.getPlatformId()) || new S["default"](), a = {
isLeader: e.isLeader
};
return r && !o.name && (a.name = r), n && (a.avatarUrl = n), new S["default"](s["default"]({}, o, a, {
spartaUserId: E["default"].update(o.spartaUserId, t)
}));
});
f["default"].updateUsers(n);
var r = !1, o = null;
if (t.members.length > 0) {
for (var i = void 0, l = void 0, u = 0; u < t.members.length; ++u) if (parseInt(t.members[u].partyId, 10) && parseInt(t.members[u].gameGroupId, 10)) {
i = t.members[u].partyId, l = t.members[u].gameGroupId, r = t.members[u].isinSquad;
break;
}
for (var u = 0; u < t.members.length; ++u) {
var c = parseInt(t.members[u].modMask, 10);
c && (o = o ? o & c : c);
}
var d = n.reduce(function(e, t) {
return e[t.spartaUserId.getPlatformId()] = t.spartaUserId, e;
}, {});
b["default"].onPartyUpdated({
id: i,
blazeGroupId: l,
state: v.PartyState.Stable,
squadJoinFromParty: r,
expansionMask: o
}), b["default"].onPartyMembersUpdated(d);
} else b["default"].onPartyDisbanded();
}
});
var e, t = !1;
l.frostbite.registerMessageListener("sparta.partyGameSessionAvailableResp", function(n, r) {
if (r && r.needInteraction && (e = r.gameId, !t)) {
t = !0;
var o = "";
o = __(SpartaGlobals.bundleIsPC ? "ID_SPARTA_USER_PARTY_JOINED_GAME_CONFIRM_PC" : SpartaGlobals.bundleIsPS4 ? "ID_SPARTA_USER_PARTY_JOINED_GAME_CONFIRM_PS4" : "ID_SPARTA_USER_PARTY_JOINED_GAME_CONFIRM_XB1"), 
I.confirm(o, "", __("ID_SPARTA_USER_PARTY_JOIN"), __("ID_SPARTA_USER_PARTY_IGNORE"), "joinGame").then(function() {
t = !1, l.frostbite.sendMessage("sparta.partyJoinGameSession", {
gameId: e
});
})["catch"](function(n) {
console.error(n), t = !1, b["default"].onGameSessionJoinRefused(e);
});
}
}), l.frostbite.registerMessageListener("sparta.partyJoinPartyResp", function(e, t) {
if (t) {
var n = void 0;
switch (t.result) {
case t.SpartaPartyResponseResult_Success:
break;

case t.SpartaPartyResponseResult_Cancelled:
n = __("ID_SPARTA_USER_PARTY_INVITE_CANCELLED");
break;

case t.SpartaPartyResponseResult_Failure:
switch (SpartaGlobals.bundlePlatform) {
case "PS4":
n = __("ID_SPARTA_USER_PARTY_FAILURE_GENERIC_PS4");
break;

case "XBOXONE":
n = __("ID_SPARTA_USER_PARTY_FAILURE_GENERIC_XB1");
break;

default:
n = __("ID_SPARTA_USER_PARTY_FAILURE_GENERIC_PC");
}
break;

case t.SpartaPartyResponseResult_FailureNoParty:
switch (SpartaGlobals.bundlePlatform) {
case "PS4":
n = __("ID_SPARTA_USER_PARTY_NO_PARTY_AVAILABLE_PS4");
break;

case "XBOXONE":
n = __("ID_SPARTA_USER_PARTY_NO_PARTY_AVAILABLE_XB1");
break;

default:
n = __("ID_SPARTA_USER_PARTY_NO_PARTY_AVAILABLE_PC");
}
break;

case t.SpartaPartyResponseResult_FailureNoMpPrivilege:
n = __("ID_SPARTA_USER_PARTY_NO_MULTIPLAYER_PRIVILEGE");
break;

case t.SpartaPartyResponseResult_FailurePartyIsFull:
switch (SpartaGlobals.bundlePlatform) {
case "PS4":
n = __("ID_SPARTA_USER_PARTY_FULL_PARTY_PS4");
break;

case "XBOXONE":
n = __("ID_SPARTA_USER_PARTY_FULL_PARTY_XB1");
break;

default:
n = __("ID_SPARTA_USER_PARTY_FULL_PARTY_PC");
}
break;

case t.SpartaPartyResponseResult_Unknown:
n = __("ID_SPARTA_USER_PARTY_UNKNOWN_ERROR");
}
n && I.alert(n, __("ID_SPARTA_USER_PARTY_FAILED_TO_JOIN"));
}
});
}, e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t, n) {
e === R.SPECIFIC && k["default"].trackEvent("ServerPresence", t, n);
}
function i() {
var e = p["default"].map(E["default"].getState(), function(e) {
return e.spartaUserId.getPlatformId();
});
e.length && U.trigger(e, R.GENERAL);
}
function s(e) {
e.isEmpty() || (D(), i());
}
t.__esModule = !0;
var l = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), u = n(4), p = r(u), c = n(21), f = r(c), d = n(26), h = r(d), y = n(150), g = r(y), m = n(116), b = r(m), v = n(38), _ = r(v), S = n(67), w = n(55), T = r(w), C = n(131), E = r(C), I = n(30), P = r(I), O = n(41), A = n(87), k = r(A), R = {
GENERAL: "GENERAL",
SPECIFIC: "SPECIFIC"
};
t.PresenceRequestTypes = R;
var x = {}, M = 3, N = 5e3, $ = function() {
function e(t) {
o(this, e), this.serializedPlatformIds = JSON.stringify(t);
}
return e.prototype.reset = function t() {
delete x[this.serializedPlatformIds];
}, e.prototype.maybeRetry = function n(e) {
return this.attempts < M ? (x[this.serializedPlatformIds] = this.attempts + 1, setTimeout(e, N), 
!0) : (this.reset(), !1);
}, l(e, [ {
key: "attempts",
get: function r() {
return x[this.serializedPlatformIds] || 1;
}
} ]), e;
}();
h["default"].onSessionEstablished.listen(i), P["default"].leftServer.listen(i);
var D = E["default"].listen(s), U = f["default"].createClient({
throttle: 4e3,
shouldPerformRequest: function L(e) {
if (!O.onlineState.isOnlineBlazeAndGateway) {
var t = new $(e);
t.reset();
}
return O.onlineState.isOnlineBlazeAndGateway;
},
listener: function F(e, t) {
return [ e, t || R.SPECIFIC ];
},
request: function G(e, t) {
if (t === R.GENERAL) return h["default"].request("GameServer.getServersByPlatformIds", {
platformIds: e
});
var n = new $(e);
return h["default"].request("GameServer.getServersByPlatformIds", {
platformIds: e,
attempts: n.attempts,
expectPlaying: !0
});
},
onRequestError: function j(e, t, n) {
var r = new $(t);
a(n, "ErrorResponse", e.code), r.maybeRetry(function() {
return U.trigger(t, n);
}) || a(n, "Failure", "ErrorResponse");
},
parse: function B(e, t, n) {
if (n === R.SPECIFIC) {
var r = new $(t), o = p["default"].compact(p["default"].map(t, function(t) {
return e[t] ? void 0 : t;
}));
o.length < t.length ? (a(n, "Success", r.attempts), r.reset(t)) : (a(n, "EmptyResponse", r.attempts), 
r.maybeRetry(function() {
return U.trigger(t, n);
}) || a(n, "Failure", "EmptyResponse")), o.length && o.length < t.length && setTimeout(function() {
U.trigger(o, n);
}, N);
}
return p["default"].chain(e).map(function(e, t) {
var n = b["default"].getUserById(t);
return n && n.presence.state !== S.UserPresenceStates.Offline ? new g["default"](p["default"].extend({}, n.presence, {
userId: n.id,
server: e ? new T["default"](e) : void 0,
state: e ? S.UserPresenceStates.Joinable : n.presence.firstPartyState
})) : void 0;
}).compact().value();
},
update: function H(e) {
_["default"].updatePresences(e);
}
});
t.ServerPresenceClient = U;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
(D && !e || D && e && !e.spartaUserId.equals(D.spartaUserId)) && (h["default"].resetClients(), 
p["default"].disconnect(), T["default"].setUGCAccessLevel()), D = e, T["default"].receiveSessionUser(e);
}
function a() {
return new Promise(function(e) {
var t = l.frostbite.registerMessageListener("sparta.getLocalUserResp", function(n, r) {
t();
var o = new b["default"](r.spartaUserId);
e({
spartaUserId: o,
name: SpartaGlobals.bundleIsPC ? r.personaName : r.gamerTag
}), null != r.modMask && P["default"].setInstalledExpansions(A["default"].getState().hostingGameId, r.modMask);
});
l.frostbite.sendMessage("sparta.getLocalUser");
});
}
var i, s = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, l = n(2), u = n(26), p = r(u), c = n(263), f = r(c), d = n(21), h = r(d), y = n(77), g = r(y), m = n(142), b = r(m), v = n(41), _ = n(48), S = r(_), w = n(38), T = r(w), C = n(83), E = r(C), I = n(30), P = r(I), O = n(19), A = r(O), k = n(34), R = (r(k), 
n(111)), x = r(R), M = n(115), N = r(M), $ = E["default"](function() {
a().then(function(e) {
var t = e && e.spartaUserId;
i && i.equals(t) && (e = s({}, S["default"].getState(), e)), o(new g["default"](e)), 
SpartaGlobals.bundleIsPC || i && i.equals(t) || (i = t);
});
}, 100);
f["default"]("sparta.activated").listen(function(e) {
(!SpartaGlobals.bundleIsPC || v.onlineState.presenceState.isFirstPartyConnected) && e.navigationState !== e.NavigationState_InGameMenu && $();
}), f["default"]("sparta.onlineStatusMessage").listen(function(e) {
SpartaGlobals.bundleIsPC && e.status === e.FIRST_PARTY_DISCONNECTED || $();
}), x["default"].onFirstPartyConnected.listen(function() {
null == N["default"].getState().level && T["default"].getOnlinePrivileges();
}), f["default"]("sparta.durango.userSwitched").listen(function() {
$();
});
var D;
}, function(e, t, n) {
var r = n(67), o = n(466), a = n(823), i = n(824), s = n(77), l = n(150), u = n(38), p = n(129);
e.exports = {
stores: {
UserStore: n(116),
OnboardingFlagStore: n(832),
OnboardingStateStore: n(833),
SessionStore: n(222),
SessionUserStore: n(48),
CareerStore: n(130),
FriendStore: n(131),
PlayingFriendStore: n(467),
PartyStore: n(70),
PartyUserStore: n(312)
},
types: {
Career: n(223),
User: s,
UserPresence: l,
UserPresenceStates: r.UserPresenceStates,
FriendStates: n(468),
Party: n(313)
},
actions: {
UserActions: u,
PartyActions: n(129)
},
initialize: function c() {
o.startListening(), a.startListening(), i.startListening(), n(829)(), n(822)(), 
n(825)(), n(827);
},
onConnectionReady: function f() {
p.getStatus();
}
};
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var r = n(2), o = n(38), a = t(o), i = n(77), s = t(i), l = n(115), u = n(11), p = n(35);
e.exports = function() {
a["default"].showLocalUserSelectionUI.listen(function() {
r.frostbite.sendMessage("sparta.durango.showProfileSelectionUI");
}), a["default"].getOnlinePrivileges.listen(function() {
var e = r.frostbite.registerMessageListener("sparta.getOnlinePrivilegesResponse", function(t, n) {
e();
var r = n.userGeneratedContent ? l.UGCAccessLevel.Everyone : l.UGCAccessLevel.None;
a["default"].setUGCAccessLevel(r);
});
r.frostbite.sendMessage("sparta.getOnlinePrivileges");
}), a["default"].showUserProfile.listen(function(e) {
if (SpartaGlobals.bundleIsPC && !u.settingsStore.isOriginInGameOverlayAvailable) return void p.alert(__("ID_SPARTA_ORIGIN_IGO_DISABLED"));
var t = e instanceof s["default"] ? e.spartaUserId.getPlatformId() : e;
r.frostbite.sendMessage("sparta.showUserProfile", {
platformId: t
});
}), r.frostbite.registerMessageListener("game.showEndOfRoundMessage", function() {
return a["default"].refreshCareer();
});
};
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e) {
var t = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1], n = [];
if (!e.presence.server) return n;
if (y["default"].getState().hasOnlineAccess(e.presence.server.game)) {
var r = t && t.presence && t.presence.server ? t.presence.server.gameId : null, o = d["default"].getState().isServerJoiningAllowed(e.presence.server.gameId);
e.presence.server.gameId !== r && o && n.push(new p["default"]({
key: l["default"].Option3,
label: __(e.friendState === i["default"].Mutual ? "ID_SPARTA_LAYOUT_COMCENTER_JOIN_FRIEND" : "ID_SPARTA_LAYOUT_COMCENTER_JOIN_GAME"),
action: function a() {
S["default"].hideComponent("comCenter"), m["default"].joinServer(e.presence.server.createJoinOptions({
friend: e
}));
}
}));
} else n.push(new p["default"]({
key: l["default"].Option3,
label: __("ID_SPARTA_COMMERCE_OFFER_GAME_BUY") + " " + c.gameStore.getGame(e.presence.server.game).displayName,
action: function s() {
S["default"].hideComponent("comCenter"), S["default"].focusComponent("content"), 
v["default"].gotoLocation(c.gameStore.getGame(e.presence.server.game).storeConfig.route);
}
}));
return n;
}
t.__esModule = !0, t["default"] = o;
var a = n(468), i = r(a), s = n(12), l = r(s), u = n(14), p = r(u), c = n(11), f = n(44), d = r(f), h = n(80), y = r(h), g = n(30), m = r(g), b = n(17), v = r(b), _ = n(27), S = r(_);
e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
return new c["default"]({
spartaUserId: e.spartaUserId,
displayName: e.Persona,
name: e.Persona,
friendState: e.State,
presence: t
});
}
function a(e, t) {
var n = h[e.Presence];
if (!n) throw Error("Unknown presence state: " + e.Presence);
var r;
return n !== u.UserPresenceStates.Offline && t && t.presence.server && (r = t.presence.server, 
n = u.UserPresenceStates.Joinable), new l["default"]({
userId: o(e, !0).id,
state: n,
firstPartyState: h[e.Presence],
text: e.RichPresence,
server: r
});
}
function i(e, t) {
return t ? {
spartaUserId: d["default"].update(t.spartaUserId, e.spartaUserId)
} : {};
}
t.__esModule = !0, t.parsePlatformUser = o, t.parsePlatformPresence = a, t.updateSpartaUserId = i;
var s = n(150), l = r(s), u = n(67), p = n(77), c = r(p), f = n(142), d = r(f), h = {
ONLINE: u.UserPresenceStates.Online,
OFFLINE: u.UserPresenceStates.Offline,
IDLE: u.UserPresenceStates.Away,
INGAME: u.UserPresenceStates.Playing,
JOINABLE: u.UserPresenceStates.Joinable
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(4), a = r(o), i = n(15), s = r(i), l = n(24), u = r(l), p = n(38), c = r(p), f = new u["default"]("OnboardingFlagStore"), d = new u["default"]("OnboardingFlagStoreError"), h = s["default"].createStore({
init: function y() {
this.listenTo(c["default"].receiveOnboardingFlagsError, function(e) {
d.setState(e), this.trigger(this.getState());
}), this.listenTo(c["default"].receiveOnboardingFlags, function(e) {
f.setState(e), d.setState({}), this.trigger(this.getState());
}), this.listenTo(c["default"].receiveOnboardingFlag, function(e, t) {
var n, r = f.get(e), o = a["default"].extend({}, r, (n = {}, n[t] = !0, n));
f.set(e, o), d.set(e, !1), this.trigger(this.getState());
});
},
getState: function g() {
return f.getState();
},
getError: function m() {
return d.getState();
}
});
t["default"] = h, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(24), s = r(i), l = n(123), u = r(l), p = n(38), c = r(p), f = new s["default"]("OnboardingStateStore"), d = a["default"].createStore({
init: function h() {
this.listenTo(c["default"].setOnboardingState, function(e, t) {
var n = f.get(e) || new u["default"]();
f.set(e, n.set(t, !0)), this.trigger(this.getState());
});
},
getState: function y() {
return f.getState();
}
});
t["default"] = d, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(835);
}, function(e, t, n) {
(function(__) {
function t(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var r = n(1), o = (t(r), n(165)), a = t(o), i = n(27), s = t(i), l = n(11), u = n(49), p = n(155), c = n(68), f = n(112), d = t(f), h = n(9);
e.exports = {
initialize: function y() {
function e() {
return [];
}
var t = "bf4", r = a["default"].getState(), o = h.bbOfflineUrl("/sparta/jsclient/builds/assets/background-warsaw-26489744.dds"), i = h.bbOfflineUrl("/sparta/jsclient/builds/assets/background-warsaw-splash-2dc3ab87.dds"), f = {
normal: c.fontState.fonts.bf4.normal,
emphasis: c.fontState.fonts.bf4.emphasis
}, y = [ {
bg: h.bbOfflineUrl("/sparta/jsclient/builds/assets/mp_bf4_background-d55ff8ef.jpg"),
bgSize: [ 4084, 1480 ],
overlay: h.bbOfflineUrl("/sparta/jsclient/builds/assets/mp_bf4_overlay-4754f35f.png"),
overlaySize: [ 4084, 504 ]
} ], g = {}, m = {};
SpartaGlobals.bundleIsPC ? (g = {
width: 239,
top: 60,
left: 128
}, m = {
width: 215,
top: 70,
left: 139
}) : (g = {
width: 283,
top: 73,
left: 217
}, m = {
width: 255,
top: 85,
left: 230
});
var b = y[Math.floor(Math.random() * y.length)], v = {
route: "bf4/store/list",
image: h.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-625c9007.png"),
getTabs: e
}, _ = SpartaGlobals.bundleIsPC ? {
xp0: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp0-209a4da9.png"),
xp1: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp1-5e8bfc37.png"),
xp2: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp2-00f7e4bd.png"),
xp3: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp3-6a55a656.png"),
xp4: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp4-5ca7ee99.png"),
xp5: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp5-e5beb264.png"),
xp6: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp6-5c93809b.png"),
xp7: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp7-1f5b5f2d.png")
} : {
xp0: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp0-366c1cc4.png"),
xp1: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp1-f813098b.png"),
xp2: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp2-dba8e98d.png"),
xp3: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp3-fecbde66.png"),
xp4: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp4-c9675c03.png"),
xp5: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp5-1055b2f2.png"),
xp6: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp6-2d90bb22.png"),
xp7: h.bbOfflineUrl("/sparta/jsclient/builds/assets/xp7-49e041e2.png")
}, S = {
rankBadge: {
position: "absolute",
top: SpartaGlobals.bundleIsConsole ? -27 : -33
}
}, w = {
eu: {
PC: [ d["default"].ENGLISH, d["default"].CZECH, d["default"].GERMAN, d["default"].SPANISH, d["default"].SPANISH_MEXICO, d["default"].FRENCH, d["default"].ITALIAN, d["default"].JAPANESE, d["default"].KOREAN, d["default"].POLISH, d["default"].PORTUGUESE_BRAZIL, d["default"].RUSSIAN, d["default"].CHINESE ],
XBOXONE: [ d["default"].ENGLISH, d["default"].GERMAN, d["default"].SPANISH, d["default"].SPANISH_MEXICO, d["default"].FRENCH, d["default"].ITALIAN, d["default"].JAPANESE, d["default"].POLISH, d["default"].PORTUGUESE_BRAZIL, d["default"].RUSSIAN ],
PS4: [ d["default"].ENGLISH, d["default"].GERMAN, d["default"].SPANISH, d["default"].SPANISH_MEXICO, d["default"].FRENCH, d["default"].ITALIAN, d["default"].POLISH, d["default"].RUSSIAN ]
},
jp: {
PC: [ d["default"].ENGLISH, d["default"].JAPANESE ],
XBOXONE: [ d["default"].ENGLISH, d["default"].GERMAN, d["default"].SPANISH, d["default"].SPANISH_MEXICO, d["default"].FRENCH, d["default"].ITALIAN, d["default"].JAPANESE, d["default"].POLISH, d["default"].PORTUGUESE_BRAZIL, d["default"].RUSSIAN ],
PS4: [ d["default"].ENGLISH, d["default"].JAPANESE ]
},
na: {
PC: [ d["default"].ENGLISH, d["default"].CZECH, d["default"].GERMAN, d["default"].SPANISH, d["default"].SPANISH_MEXICO, d["default"].FRENCH, d["default"].ITALIAN, d["default"].JAPANESE, d["default"].KOREAN, d["default"].POLISH, d["default"].PORTUGUESE_BRAZIL, d["default"].RUSSIAN, d["default"].CHINESE ],
XBOXONE: [ d["default"].ENGLISH, d["default"].GERMAN, d["default"].SPANISH, d["default"].SPANISH_MEXICO, d["default"].FRENCH, d["default"].ITALIAN, d["default"].JAPANESE, d["default"].POLISH, d["default"].PORTUGUESE_BRAZIL, d["default"].RUSSIAN ],
PS4: [ d["default"].ENGLISH, d["default"].SPANISH, d["default"].SPANISH_MEXICO, d["default"].FRENCH, d["default"].PORTUGUESE_BRAZIL ]
},
ru: {
PC: [ d["default"].RUSSIAN, d["default"].POLISH ],
XBOXONE: [ d["default"].ENGLISH, d["default"].GERMAN, d["default"].SPANISH, d["default"].SPANISH_MEXICO, d["default"].FRENCH, d["default"].ITALIAN, d["default"].JAPANESE, d["default"].POLISH, d["default"].PORTUGUESE_BRAZIL, d["default"].RUSSIAN ],
PS4: []
}
};
l.gameStore.registerGame(new p.Game({
gameId: t,
branchNameTest: "warsaw",
productGuid: "{ABADE36E-EC37-413B-8179-B432AD3FACE7}",
displayName: function T() {
return __("ID_SPARTA_WARSAW_TITLE");
},
releaseDate: Date.parse("October 29, 2013"),
logoUrl: SpartaGlobals.bundleIsPC ? h.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf4-pc-91f70f4b.png") : h.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf4-console-15f89cb0.png"),
cardImageUrl: h.bbOfflineUrl("/sparta/jsclient/builds/assets/card-89cae66e.jpg"),
tallCardImage: {
normal: h.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BF4-83119f43.png"),
grayScale: h.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BF4-Gray-f00e26c9.png")
},
startScreenImageUrl: i,
defaultBackgroundUrl: o,
serverListRoute: "warsaw/mp/servers",
serverDetailsRoute: "warsaw/mp/servers/details",
serverListDefaultFilter: "OnlineEnvironment_Prod" !== r.onlineEnvironment ? null : {
slots: {
oneToFive: "on",
sixToTen: "on"
},
serverType: {
OFFICIAL: "on",
RANKED: "on"
},
regions: {}
},
quickMatchRoute: "warsaw/mp/quickmatch",
fonts: f,
startRoute: "warsaw",
dogtagsConfig: {
getLeft: function C() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_LEFT");
},
getRight: function E() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_RIGHT");
}
},
storeConfig: v,
joinConfig: {
useSquadJoin: !0,
mmAutoJoin: !0
},
enforceEntitlements: !0,
expansions: _,
styles: S,
backgroundMusicTrack: 2,
locales: w,
xpBoost: g,
xpBoostPremium: m,
expansionsImage: h.bbOfflineUrl("/sparta/assets/expansions-bf4-fb125f97.png"),
fetchCareer: !0,
mutateCareerStats: function I(e) {
e.soldierImageUrl = h.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-soldier-1836f76d.png");
},
premiumLogoUrl: SpartaGlobals.bundleIsPC ? h.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf4-premium-pc-67a96e94.png") : h.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf4-premium-console-9d419d19.png")
})), s["default"].addRouteConfig(new u.Route("warsaw", {
requireOnline: !0,
requireMpInstalled: !0,
gameId: t,
getTitle: function P() {
return __("ID_SPARTA_WARSAW_TITLE");
},
getSubtitle: function O() {
return __("ID_SPARTA_MENU_TITLE_HOME");
},
disabled: !1,
view: n(836),
logoUrl: h.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-31a57363.png"),
backgroundSize: b.bgSize,
backgroundUrl: b.bg,
backgroundOffset: 400,
backgroundMusicTrack: 2,
normalIconUrl: h.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-31e29b06.png"),
fonts: f,
priority: 0,
children: [ new u.Route("store", {
getTitle: function A() {
return __("ID_SPARTA_MAIN_TITLE_STORE");
},
args: {
gameId: t,
recommendationCategory: "store_game_overview_promo"
},
view: n(386),
children: [ new u.Route("list", {
getTitle: function k() {
return "Battlefield 4";
},
args: {
gameId: "bf4"
},
view: n(261),
children: []
}) ]
}) ]
}));
}
};
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return x(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function u(e, t) {
return 0 === t ? "L" : "M";
}
function p(e, t) {
return 0 === t ? "SSL" : "SSM";
}
var c = n(3), f = l(c);
t.__esModule = !0;
var d = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, h = n(1), y = l(h), g = n(2), m = r(g), b = n(73), v = n(6), _ = l(v), S = n(13), w = l(S), T = n(33), C = l(T), E = n(7), I = l(E), P = n(126), O = l(P), A = n(100), k = l(A), R = {
_$WarsawPromoOverview: {
displayName: "WarsawPromoOverview"
}
}, x = f["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-warsaw-promo/src/WarsawPromoOverview.jsx",
components: R,
locals: [],
imports: []
}), M = m.createStyleSheet({
invisible: {
opacity: w["default"].tweenTo(0)
},
visible: {
opacity: w["default"].tweenTo(1)
},
row: {
flexDirection: "row"
}
}), N = function(e) {
function t() {
a(this, n), e.apply(this, arguments);
}
i(t, e), t.prototype.renderOpenBetaRecommendations = function r(e) {
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: {
$$typeof: d,
type: b.CardCarousel,
key: null,
ref: null,
props: o(b.CardCarousel.defaultProps, {
children: e,
width: _["default"].getWidth(24)
}),
_owner: null
}
},
_owner: null
};
}, t.prototype.renderOverview = function l() {
var e = (this.state.recommendations || []).slice(), t = SpartaGlobals.bundleIsPC ? p : u, n = k["default"].renderCards(e, t, "friends"), r = {
opacity: w["default"].tweenSwitch(0, 1, e)
};
return {
$$typeof: d,
type: _["default"].Col,
key: "overviewCol",
ref: null,
props: o(_["default"].Col.defaultProps, {
children: this.renderOpenBetaRecommendations(n),
style: r
}),
_owner: null
};
}, t.prototype.renderHeading = function c() {
var e = M.visible, t = {
$$typeof: d,
type: I["default"],
key: null,
ref: null,
props: o(I["default"].defaultProps, {
size: "L",
value: __("ID_SPARTA_WARSAW_WELCOME"),
style: e,
type: "normal"
}),
_owner: null
};
return {
$$typeof: d,
type: "surface",
key: null,
ref: null,
props: {
children: t,
style: M.row
},
_owner: null
};
}, t.prototype.render = function f() {
var e = this.renderOverview();
return y["default"].createElement(C["default"], {
ref: "template",
wideContent: !0,
aboveContent: this.renderHeading(),
scrollContent: SpartaGlobals.bundleIsPC
}, e);
};
var n = t;
return t = s("_$WarsawPromoOverview")(t) || t, t = O["default"]({
count: 6,
games: [ "bf4" ],
ruleCategories: [ "bf4_promo_home" ]
})(t) || t;
}(y["default"].Component);
t["default"] = N, N.prototype.displayName = "WarsawPromoOverview", e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
e.exports = n(838);
}, function(e, t, n) {
(function(__) {
var t = n(9), r = n(27), o = n(49).Route, a = n(840);
e.exports = {
initialize: function i() {
var e = SpartaGlobals.bundleIsPC ? t.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-d9da8eb1.png") : t.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-d0015b17.png");
r.addRouteConfig(new o("watch", {
requireOnline: !0,
getTitle: function i() {
return __("ID_SPARTA_MAIN_TITLE_WATCH");
},
disabled: !1,
getSubtitle: function s() {
return __("ID_SPARTA_MAIN_TITLE_WATCH");
},
view: n(841),
normalIconUrl: e,
backgroundUrl: t.bbOfflineUrl("/sparta/jsclient/builds/assets/bg4-16e7413c.dds"),
backgroundSize: [ 4084, 1480 ],
priority: 4
})), a.startListening();
}
};
}).call(t, n(5));
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(15), a = r(o);
e.exports = {
updateVideos: a["default"].createAction(),
refreshVideos: a["default"].createAction()
};
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var o = n(628), a = r(o), i = n(4), s = n(21), l = n(52).gatewayClient, u = n(839), p = s.createClient({
requestOn: [ u.refreshVideos ],
throttle: 3e4,
request: function c(e) {
return l.request("News.getVideoList", {
games: e
});
},
parse: function f(e) {
var t = [];
return i.isEmpty(e) || (i.each(e, function(e, n) {
i.each(e, function(e) {
t.push(new a["default"](e, n));
});
}), t = i.sortBy(t, function(e) {
return e.video.creationDate.getTime();
}), t = t.reverse(), t[0].setFeatured()), {
list: t
};
},
update: function d(e) {
u.updateVideos(e);
}
});
e.exports = p;
}, function(e, t, n) {
function r(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function a(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function i(e) {
return function(t) {
return I(t, e);
};
}
function s(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function l(e) {
return e.isFeatured ? "L" : "M";
}
var u = n(3), p = s(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = s(f), h = n(6), y = s(h), g = n(73), m = n(33), b = s(m), v = n(100), _ = s(v), S = n(126), w = s(S), T = n(13), C = s(T), E = {
_$WatchOverview: {
displayName: "WatchOverview"
}
}, I = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-watch/src/views/WatchOverview.jsx",
components: E,
locals: [],
imports: []
}), P = function(e) {
function t() {
o(this, n), e.apply(this, arguments);
}
a(t, e), t.prototype.renderNewsForPC = function s(e) {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: e,
style: {
flexWrap: "wrap",
flexDirection: "row",
marginRight: 2 * -y["default"].GUTTER
}
},
_owner: null
};
}, t.prototype.renderNewsForConsole = function u(e) {
return {
$$typeof: c,
type: g.CardCarousel,
key: "carousel",
ref: null,
props: r(g.CardCarousel.defaultProps, {
children: e
}),
_owner: null
};
}, t.prototype.render = function p() {
var e = _["default"].renderCards(this.state.recommendations, l), t = {
opacity: C["default"].tweenSwitch(0, 1, this.state.recommendations)
};
return {
$$typeof: c,
type: b["default"],
key: null,
ref: null,
props: r(b["default"].defaultProps, {
children: {
$$typeof: c,
type: y["default"].Col,
key: "overviewCol",
ref: null,
props: r(y["default"].Col.defaultProps, {
children: SpartaGlobals.bundleIsPC ? this.renderNewsForPC(e) : this.renderNewsForConsole(e)
}),
_owner: null
},
scrollContent: SpartaGlobals.bundleIsPC,
style: t
}),
_owner: null
};
};
var n = t;
return t = i("_$WatchOverview")(t) || t, t = w["default"]({
count: 15,
games: [ "sparta" ],
ruleCategories: [ "sparta_watch" ]
})(t) || t;
}(d["default"].Component);
t["default"] = P, e.exports = t["default"];
}, function(e, t, n) {
e.exports = n(844);
}, function(e, t, n) {
(function(__) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return P(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(2), d = r(f), h = n(1), y = l(h), g = n(19), m = l(g), b = n(7), v = l(b), _ = n(6), S = l(_), w = n(221), T = n(16), C = l(T), E = n(9), I = {
_$PrivacyPolicyContent: {
displayName: "PrivacyPolicyContent"
},
_$TextWithRenderDelay: {
displayName: "TextWithRenderDelay"
}
}, P = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/sparta_modules/sparta-wwce-support/src/PrivacyPolicyContent.jsx",
components: I,
locals: [],
imports: []
}), O = {
titleStyle: {
marginTop: -S["default"].GUTTER,
marginBottom: S["default"].getHeight(5),
textAlignForRTL: "left"
}
}, A = {}, k = {
xboxone: {
PP: {
"ar-sa": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ar-c5b69842.txt"),
"cs-cz": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-cs-e8558212.txt"),
"de-de": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-de-87aa792f.txt"),
"en-us": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-en-19b7fd61.txt"),
"es-es": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-es-58a02f3a.txt"),
"es-mx": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-mx-c16db0b8.txt"),
"fr-fr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-fr-65fbf187.txt"),
"it-it": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-it-58253880.txt"),
"ja-jp": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-jp-b69421f7.txt"),
"ko-kr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ko-45b894c8.txt"),
"pl-pl": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-pl-421c8f85.txt"),
"pt-br": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-br-f63d2687.txt"),
"ru-ru": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ru-2cc0c661.txt"),
"tr-tr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-tr-ecb70fcd.txt"),
"zh-tw": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-tc-a26a741a.txt")
}
},
ps4: {
PP: {
"ar-sa": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ar-d23e6be9.txt"),
"cs-cz": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-cz-10dcf052.txt"),
"de-de": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-de-5db91fe6.txt"),
"en-us": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-en-16fa45b7.txt"),
"es-es": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-es-6eeac95c.txt"),
"es-mx": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-mx-1430f8e3.txt"),
"fr-fr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-fr-928bd643.txt"),
"it-it": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-it-0d3747ea.txt"),
"ja-jp": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ja-2f18926b.txt"),
"ko-kr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ko-8e236800.txt"),
"pl-pl": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-pl-b99d410e.txt"),
"pt-br": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-br-8254622f.txt"),
"ru-ru": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ru-c6b56e0d.txt"),
"tr-tr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-tr-375ff060.txt"),
"zh-tw": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-tc-3289d77a.txt")
}
},
pc: {
PP: {
"ar-sa": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ar-e158ccf8.txt"),
"cs-cz": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-cs-08e36f8e.txt"),
"de-de": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-de-5acd94c7.txt"),
"en-us": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-en-d41c6ce1.txt"),
"es-es": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-es-9b5b964e.txt"),
"es-mx": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-mx-239b4588.txt"),
"fr-fr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-fr-751c0122.txt"),
"it-it": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-it-e918e658.txt"),
"ja-jp": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-jp-d0447da4.txt"),
"ko-kr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ko-a64cd41f.txt"),
"pl-pl": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-pl-9011ec1f.txt"),
"pt-br": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-br-40bcc8f5.txt"),
"ru-ru": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ru-eeb84d61.txt"),
"tr-tr": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-tr-1162c67a.txt"),
"zh-tw": E.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-tc-20c38a96.txt")
}
}
}, R = [];
R.XBOXONE = {
getTitle: function $() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: k.xboxone.PP
}, R.PS4 = {
getTitle: function D() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: k.ps4.PP
}, R.PC = {
getTitle: function U() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: k.pc.PP
};
var x = R[SpartaGlobals.bundlePlatform], M = function(e) {
function t() {
a(this, n), e.call(this), this.state = {
text: null,
selected: x
};
}
i(t, e), t.prototype.componentDidMount = function r() {
this.loadTextForCurrentSelected();
}, t.prototype.loadTextForCurrentSelected = function l() {
var e = this, t = this.state.nativeProperties.locale, n = this.state.selected.sources[t];
return n ? A[n] ? void this.setState({
text: A[n]
}) : void d.loadAssetRequest(d.options.urlHook(n), function(r, o) {
r ? (e.setState({
text: o
}), A[n] = o) : (console.warn("Failed to fetch text for locale: " + t), e.setState({
text: ""
}));
}) : (console.warn("Missing source for locale: " + t), void this.setState({
text: ""
}));
}, t.prototype.render = function u() {
var e = this, t = this.state.selected.getTitle().toUpperCase(), n = [ {
$$typeof: c,
type: v["default"],
key: "title",
ref: null,
props: o(v["default"].defaultProps, {
value: t,
size: "L",
style: O.titleStyle
}),
_owner: null
} ];
return this.state.text && !function() {
var t = w.chunkTextByLines(e.state.text), r = 0 === t.length ? 100 : 2e3 / t.length, a = t.map(function(t, n) {
return {
$$typeof: c,
type: N,
key: n + "_" + e.state.selected.getTitle(),
ref: null,
props: o(N.defaultProps, {
delay: n * r,
text: t
}),
_owner: null
};
});
n.push.apply(n, a);
}(), {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: n
},
_owner: null
};
};
var n = t;
return t = s("_$PrivacyPolicyContent")(t) || t, t = C["default"]({
nativeProperties: m["default"]
})(t) || t;
}(y["default"].Component);
t["default"] = M;
var N = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
show: !1
}, this.timeout = null;
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this;
this.timeout = setTimeout(function() {
e.setState({
show: !0
});
}, this.props.delay);
}, t.prototype.componentWillUnmount = function l() {
clearTimeout(this.timeout);
}, t.prototype.render = function u() {
return this.state.show ? {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
value: this.props.text,
size: "S",
style: {
textAlignForRTL: "left"
}
}),
_owner: null
} : {
$$typeof: c,
type: v["default"],
key: null,
ref: null,
props: o(v["default"].defaultProps, {
value: "",
size: "S"
}),
_owner: null
};
};
var n = t;
return t = s("_$TextWithRenderDelay")(t) || t;
}(y["default"].Component);
e.exports = t["default"];
}).call(t, n(5));
}, function(e, t, n) {
(function(__) {
function t(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o() {
if (d.settingsStore.isFeatureEnabled("enableHelpSection")) {
g = y;
var e = SpartaGlobals.bundleIsPC ? f.bbOfflineUrl("/sparta/jsclient/builds/assets/HelpIcon-dfd17476.png") : f.bbOfflineUrl("/sparta/assets/console-help-menu-icon-6ab6486a.png"), t = new u.Route("channelselection", {
getTitle: function r() {
return __("ID_SPARTA_MENU_TITLE_HELP_CONTACT_US");
},
view: n(475),
children: [ new u.Route("callback", {
getTitle: function o() {
return __("ID_SPARTA_MENU_TITLE_HELP_GET_A_CALL");
},
view: n(470),
excludeFromHistory: !0
}), new u.Route("callbackDeflection", {
view: n(472),
excludeFromHistory: !0
}), new u.Route("callbackconfirmation", {
view: n(471),
excludeFromHistory: !0
}), new u.Route("callus", {
view: n(473),
excludeFromHistory: !0
}) ]
});
y = new u.Route("wwcesupport", {
getTitle: function a() {
return __("ID_SPARTA_MAIN_TITLE_HELP");
},
skipToFirstChild: !0,
backgroundSize: [ 4084, 1440 ],
normalIconUrl: e,
priority: 7,
children: [ new u.Route("help", {
getTitle: function i() {
return __("ID_SPARTA_MAIN_TITLE_HELP");
},
getSubtitle: function s() {
return __("ID_SPARTA_MENU_TITLE_HELP_ARTICLE");
},
view: h.WwceSupportOverview,
children: [ new u.Route("articledetail", {
getTitle: function p() {
return __("ID_SPARTA_MENU_TITLE_HELP_ARTICLE");
},
view: n(469),
excludeFromHistory: !0
}), new u.Route("categoryselection", {
getTitle: function c() {
return __("ID_SPARTA_MENU_TITLE_HELP_TOPIC");
},
view: n(474),
children: [ t ]
}), t ]
}) ]
}), g ? l["default"].replaceRouteConfig(g, y) : l["default"].addRouteConfig(y);
}
}
var a = n(1), i = (r(a), n(10)), s = n(27), l = r(s), u = n(49), p = n(182), c = t(p), f = n(9), d = n(11), h = n(476), y = void 0, g = void 0;
e.exports = {
initialize: function m() {
i.reaction(function() {
return d.settingsStore.featureFlags;
}, function() {
o();
}), o(), c.startListening();
}
};
}).call(t, n(5));
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o(e) {
n(this, o), this.id = e.id || "", this.title = e.title || "", this.summary = e.summary || "", 
this.categories = e.categories || [];
};
t["default"] = r, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o(e) {
n(this, o), this.id = e.id || "", this.content = e.content || "", this.categories = e.categories || [], 
this.title = e.title || "", this.summary = e.summary || "";
};
t["default"] = r, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function o(e) {
n(this, o), this.channel = e.channel || "", this.caseNumber = e.caseNumber || "", 
this.waitTime = e.waitTime || "", this.waitTimeRange = e.waitTimeRange || "";
};
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var a = n(4), i = r(a), s = function l(e) {
o(this, l), this.message = e.message || [], this.name = e.name || "", this.rank = e.rank || "", 
this.customerValue = e.customerValue || "", this.lifeCycle = e.lifeCycle || "", 
this.waitTime = e.waitTime || "", this.waitTimeRange = e.waitTimeRange || "", this.skill = e.skill || "", 
this.notInBusinessHours = i["default"].isUndefined(e.notInBusinessHours) ? "" : e.notInBusinessHours;
};
t["default"] = s, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(24), s = r(i), l = n(182), u = n(82), p = r(u), c = new s["default"]("WwceSupportArticleDetailStore"), f = a["default"].createStore({
init: function d() {
l.articleDetail.listen(function(e) {
c = e, f.trigger(c);
}), p["default"].resetArticleDetailState.listen(function() {
c = {};
});
},
getState: function h() {
return c;
},
getInitialState: function y() {
return this.getState();
}
});
t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t, n) {
var r = n[t];
if (r) {
var o = {};
for (var a in r) o[a] = r[a];
o.value = o.initializer ? o.initializer.call(e) : void 0, Object.defineProperty(e, t, o);
}
}
t.__esModule = !0;
var a = function() {
function e(e, t, n) {
for (var r = 0; r < t.length; r++) {
var o = t[r], a = o.decorators, i = o.key;
if (delete o.key, delete o.decorators, o.enumerable = o.enumerable || !1, o.configurable = !0, 
("value" in o || o.initializer) && (o.writable = !0), a) {
for (var s = 0; s < a.length; s++) {
var l = a[s];
if ("function" != typeof l) throw new TypeError("The decorator for method " + o.key + " is of the invalid type " + typeof l);
o = l(e, i, o) || o;
}
if (void 0 !== o.initializer) {
n[i] = o;
continue;
}
}
Object.defineProperty(e, i, o);
}
}
return function(t, n, r, o, a) {
return n && e(t.prototype, n, o), r && e(t, r, a), t;
};
}(), i = n(10), s = n(182), l = function() {
function e() {
var n = this;
r(this, e), o(this, "items", t), s.articleList.listen(function(e) {
n.populate(e);
});
}
var t = {}, t = {};
return a(e, [ {
key: "items",
decorators: [ i.observable ],
initializer: function n() {
return {};
},
enumerable: !0
} ], null, t), a(e, [ {
key: "reset",
decorators: [ i.action ],
value: function l() {
this.items = {};
}
}, {
key: "populate",
decorators: [ i.action ],
value: function u(e) {
this.items = e;
}
} ], null, t), e;
}(), u = new l();
t.wwceSupportArticleState = u;
}, function(e, t, n) {
function r(e) {
return e && e.__esModule ? e : {
"default": e
};
}
t.__esModule = !0;
var o = n(15), a = r(o), i = n(24), s = r(i), l = n(182), u = n(82), p = r(u), c = new s["default"]("WwceSupportCaseStore"), f = a["default"].createStore({
init: function d() {
l.createCase.listen(function(e) {
c = e, f.trigger(c);
}), p["default"].resetCaseDetailState.listen(function() {
c = {};
});
},
getState: function h() {
return c;
},
getInitialState: function y() {
return this.getState();
}
});
t["default"] = f, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e, t) {
if (e) for (var n in e) "undefined" == typeof t[n] && (t[n] = e[n]);
return t;
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s(e) {
return function(t) {
return R(t, e);
};
}
function l(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var u = n(3), p = l(u);
t.__esModule = !0;
var c = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103, f = n(1), d = l(f), h = n(8), y = n(2), g = r(y), m = n(388), b = n(28), v = l(b), _ = n(16), S = l(_), w = n(19), T = l(w), C = n(68), E = n(854), I = l(E), P = n(248), O = n(83), A = l(O), k = {
_$TexturePreloader: {
displayName: "TexturePreloader"
},
_$Client: {
displayName: "Client"
}
}, R = p["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/client/src/Client.jsx",
components: k,
locals: [],
imports: []
}), x = new P.ExtraElements();
t.extraRoot = x;
var M = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.state = {
textures: []
};
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this, t = function r() {
return e.setState({
textures: g.texture.keepAlive.getTextures(),
debug: g.texture.keepAlive.debug
});
}, n = A["default"](t, 50, !1, !0);
this.cancel = g.texture.keepAlive.onTexturesChanged.listen(n);
}, t.prototype.componentWillUnmount = function o() {
this.cancel();
}, t.prototype.render = function l() {
var e = this.state.debug, t = 30, n = 30, r = {
position: "absolute",
width: 1,
height: 1,
left: 0,
top: 0
}, o = this.state.textures.map(function(r, o) {
var a = r.reference.url, i = r.reference.atlas, s = {
width: e ? t : 1,
height: e ? n : 1,
opacity: e ? 1 : .01,
position: "absolute",
left: e ? o % 40 * t : 0,
top: e ? Math.floor(o / 40) * n : 0,
texture: a,
textureAtlas: i
};
return {
$$typeof: c,
type: "surface",
key: o,
ref: null,
props: {
style: s,
isPreloader: !0
},
_owner: null
};
});
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: o,
style: r
},
_owner: null
};
};
var n = t;
return t = s("_$TexturePreloader")(t) || t, t = h.observer(t) || t;
}(d["default"].Component), N = function(e) {
function t(t) {
a(this, n), e.call(this, t), this.timeout = 0, this.state = {
loadedTranslations: !1
};
}
i(t, e), t.prototype.componentDidMount = function r() {
var e = this, t = 15e3;
this.timeout = setTimeout(function() {
console.error("Could not load translations in time (" + t + "ms). Forcing UI to show."), 
e.setState({
loadedTranslations: !0
});
}, t);
}, t.prototype.componentWillUpdate = function l(e, t) {
var n = this;
this.state.locale !== t.locale && t.locale && (C.fontState.setLocales(t.locale, t.commerceLocale || t.locale), 
m.loadTranslations(t.locale).then(function() {
return C.fontState.updateFontsForLocale(t.locale);
}).then(function() {
clearTimeout(n.timeout), I["default"](), n.setState({
loadedTranslations: !0
});
})["catch"](function(e) {
console.error(e);
}));
}, t.prototype.render = function u() {
return {
$$typeof: c,
type: "surface",
key: null,
ref: null,
props: {
children: [ this.state.loadedTranslations ? this.props.components : [], this.state.loadedTranslations ? x.elements.slice() : [], {
$$typeof: c,
type: M,
key: null,
ref: null,
props: o(M.defaultProps, {}),
_owner: null
} ],
style: {
flex: 1,
left: 0,
top: 0,
position: "absolute"
},
onMouseScroll: function() {}
},
_owner: null
};
};
var n = t;
return t = s("_$Client")(t) || t, t = S["default"]({
locale: v["default"](T["default"], "locale"),
commerceLocale: v["default"](T["default"], "commerceLocale")
})(t) || t, t = h.observer(t) || t;
}(d["default"].Component);
t.Client = N, N.render = function(e) {
g.render({
$$typeof: c,
type: N,
key: null,
ref: null,
props: o(N.defaultProps, {
components: e
}),
_owner: null
});
};
}, function(e, t, n) {
n(872)([ n(52), n(650), n(670), n(308), n(714), n(703), n(660), n(523), n(647), n(723), n(724), n(834), n(712), n(591), n(588), n(837), n(706), n(614), n(842) ]);
}, function(e, t, n) {
function r() {
SpartaGlobals.bundleIsPC ? o("default", {
softness: 1.1,
edgeOffset: .7
}) : o("default", {
softness: 0,
edgeOffset: 0
});
}
function o(e, t) {
i.options.fontSettings[e] = t;
}
t.__esModule = !0, t["default"] = r;
var a = n(39), i = n(2);
a.acceptKeyword("accept_exclusive_keywords_start"), a.acceptKeyword("accept_exclusive_keywords_end"), 
e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-AR-b175aa25.ttf")
},
emphasis: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/assets/fonts/FuturaMaxiBook-AR-Bold-dfde16c9.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-AR-b175aa25.ttf")
},
emphasis: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/assets/fonts/FuturaMaxiBook-AR-Bold-dfde16c9.ttf")
}
},
bfh: {
normal: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-AR-b175aa25.ttf")
},
emphasis: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/assets/fonts/FuturaMaxiBook-AR-Bold-dfde16c9.ttf")
}
},
generic: {
normal: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-AR-b175aa25.ttf")
},
emphasis: {
name: "FuturaMaxiBook-AR",
url: r.bbOfflineUrl("/sparta/assets/fonts/FuturaMaxiBook-AR-Bold-dfde16c9.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-b70f7609.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-3dd46895.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(39);
r.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "",
url: ""
},
emphasis: {
name: "",
url: ""
}
},
tunguska: {
normal: {
name: "",
url: ""
},
emphasis: {
name: "",
url: ""
}
},
bfh: {
normal: {
name: "",
url: ""
},
emphasis: {
name: "",
url: ""
}
},
generic: {
normal: {
name: "",
url: ""
},
emphasis: {
name: "",
url: ""
}
}
}, r.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "DFP_sougeitai_W5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf")
},
emphasis: {
name: "DFP_sougeitai_W5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiBook-JP",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-JP-d50af3c6.ttf")
},
emphasis: {
name: "FuturaMaxiBook-JP",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-JP-d50af3c6.ttf")
}
},
bfh: {
normal: {
name: "DFP_sougeitai_W5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf")
},
emphasis: {
name: "DFP_sougeitai_W5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf")
}
},
generic: {
normal: {
name: "DFP_sougeitai_W5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf")
},
emphasis: {
name: "DFP_sougeitai_W5",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
},
emphasis: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
}
},
tunguska: {
normal: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
},
emphasis: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
}
},
bfh: {
normal: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
},
emphasis: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
}
},
generic: {
normal: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
},
emphasis: {
name: "Asiajunggothic",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiStd-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf")
},
emphasis: {
name: "FuturaMaxiBook",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
t.__esModule = !0;
var r = n(9), o = n(39);
o.acceptKeyword("accept_exclusive_keywords_start"), t["default"] = {
bf4: {
normal: {
name: "Purista-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf")
},
emphasis: {
name: "Purista-SemiBold",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf")
}
},
tunguska: {
normal: {
name: "FuturaMaxiBook-TC",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-TC-c3bf1e0d.ttf")
},
emphasis: {
name: "FuturaMaxiBook-TC",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-TC-c3bf1e0d.ttf")
}
},
bfh: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
},
generic: {
normal: {
name: "Roboto-Light",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Light-0f30b75b.ttf")
},
emphasis: {
name: "Roboto-Medium",
url: r.bbOfflineUrl("/sparta/jsclient/builds/assets/Roboto-Medium-89302f17.ttf")
}
}
}, o.acceptKeyword("accept_exclusive_keywords_end"), e.exports = t["default"];
}, function(e, t, n) {
var r = n(9), o = n(2);
e.exports = {
load: function a() {
o.texture.loadDefaultTexture(1, r.bbOfflineUrl("/sparta/assets/ui/lib/RoundedRect-4806f472.png"), "SINGLE_TEXTURE"), 
o.texture.loadDefaultTexture(3, r.bbOfflineUrl("/sparta/jsclient/builds/assets/StereoPostProcess_noise-aaa19f6e.png"), "SINGLE_TEXTURE"), 
o.texture.loadDefaultTexture(4, r.bbOfflineUrl("/sparta/jsclient/builds/assets/StereoPostProcess_scanlines-287143c5.png"), "SINGLE_TEXTURE");
}
};
}, function(e, t, n) {
(function(t) {
function r() {
if (l.getRootId()) {
var e = l.getBoundsSync(l.getRootId());
if (e) return void l.events.onWindowSizeChanged.trigger(e.width, e.height);
}
setTimeout(r, 500);
}
function o(e) {
return u.chain(e).map(function(e, t) {
return u.values(e.components).map(function(e, t) {
return p.createElement(e, {
key: e.displayName
});
});
}).compact().flatten().value();
}
function a(e) {
e.forEach(function(e) {
u.isFunction(e.initialize) && e.initialize();
});
}
function i(e) {
e.forEach(function(e) {
if (u.isFunction(e.onConnectionReady)) try {
e.onConnectionReady();
} catch (t) {
console.error("Could not trigger connection ready handler in module", e, t);
}
});
}
function s(e) {
function n(e, n) {
var r = !0, o = void 0;
r && (o = g.generateEvent(n)), t.isJSC ? l.Native.showError("Error calling '" + e + "':\n" + n.toString() + ".\n" + ("Line: " + n.line + "\nColumn:" + n.column + "\nStack:\n" + n.stack) + (o ? "\nSentry Event ID:" + o.event_id : "")) : l.Native.showError("Error calling '" + e + "'. Reason: " + n.stack);
}
console.log("##################################################"), console.log("Sparta JavaScript version", "release-bf1-xpack0_9198_4bcc0069_tunguska_all_prod"), 
console.log("##################################################"), l.getBuildInfo().isRemoteEngine() && (t.twinkle = l), 
b.action("Initial controllerMode value", function() {
return l.focus.system.controllerMode = SpartaGlobals.bundleIsConsole;
})(), e = u.compact(e), a(e), f.allModulesDidLoad(e), l.Native.start(function() {
h.load(), l.options.defaultFontFamily = y.ROBOTO.LIGHT, l.options.defaultFontSize = 18, 
l.options.defaultFontColor = "#ffffff", l.options.enableDevWarnings = !1, l.options.enableLogging = !l.getBuildInfo().isEndUserBuild(), 
l.options.onErrorCallback = n, l.options.rlvSocketUrl = void 0, l.getBuildInfo().hasJsCreateAtlas() && (l.Native.createDynamicAtlasSync("SpartaCommonAtlas", 1024, 1024, "RGBA", 0, 0), 
l.Native.createDynamicAtlasSync("AvatarAtlas", 512, 512, "RGBA", 0, 0), l.Native.createDynamicAtlasSync("DogtagsAtlas", 1024, 1024, "RGBA", 0, 0), 
l.Native.createDynamicAtlasSync("WeaponsAtlas", 1024, 1024, "RGBA", 0, 0), l.Native.createDynamicAtlasSync("VehiclesAtlas", 1024, 1024, "RGBA", 0, 0), 
l.Native.createDynamicAtlasSync("KitsAtlas", 1024, 1024, "RGBA", 0, 0), l.Native.createDynamicAtlasSync("AwardsAtlas", 1024, 1024, "RGBA", 0, 0), 
l.Native.createDynamicAtlasSync("CodexAtlas", 1024, 1024, "RGBA", 0, 0), l.Native.createDynamicAtlasSync("AssignmentsAtlas", 1024, 1024, "RGBA", 0, 0));
var t = o(e);
m.render(t), r(), l.events.onWindowSizeChanged.listen(function(e, t) {
if (l.getBuildInfo().hasSetGlyphSamplesSync()) {
var n = 2;
(SpartaGlobals.bundleIsPC && t > 600 || t > 1080) && (n = 3), l.Native.setGlyphSamplesSync(n);
}
l.renderer.updateSurface(".root", {
width: e,
height: t
});
});
}), l.frostbite.sendMessage("sparta.jsClientReady"), l.frostbite.sendMessage("sparta.setJsBuildInfo", {
changelist: "4bcc0069c590b7dd2ee00ee692c00d47d02b1335",
version: "release-bf1-xpack0/9198/tunguska",
gatewayUrl: ""
}), l.frostbite.sendMessage("sparta.origin.isIgoAvailable");
var s = !1;
d.onReady.preEmit = function() {
s || (s = !0, i(e));
}, SpartaGlobals.bundleIsPS4 && d.onReady.listen(function() {
l.frostbite.sendMessage("sparta.orbis.getAccountInfo");
});
}
var l = n(2);
l.init(), n(892);
var u = n(4), p = n(1), c = n(240), f = n(69), d = n(111), h = n(871), y = n(224).fonts, g = n(314), m = n(852).Client, b = n(10);
n(568), b.useStrict(!1), l.events.endReactTransaction.listen(function() {
l.Native.applyStateChanges && l.Native.applyStateChanges();
}), c.init(), l.Native.setFullscreenResampleSync(!1, 1920, 1080), e.exports = s;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e) {
return function(t) {
return g(t, e);
};
}
function i(e) {
return e && e.__esModule ? e : {
"default": e
};
}
var s = n(3), l = i(s);
t.__esModule = !0;
var u = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, p = n(1), c = i(p), f = n(225), d = i(f), h = n(133), y = {
_$AnimatedSurface: {
displayName: "AnimatedSurface"
}
}, g = l["default"]({
filename: "/home/teamcity/agent/work/4f54818186c80483/twinkle/src/components/AnimatedSurface.js",
components: y,
locals: [],
imports: []
}), m = function(e) {
function t(t) {
r(this, n), e.call(this, t), this.animate = void 0 !== t.animate ? t.animate : !0, 
this.animation = t.animation, this.hasCustomIndex = void 0 !== t.index, this.animationIndex = this.hasCustomIndex ? t.index : 0, 
this.animationChildren = [], this.tweens = {}, this.tweenStyles = {};
}
o(t, e), t.prototype.getChildContext = function i() {
return {
animationGroup: this,
animationRoot: this.context.animationRoot
};
}, t.prototype.componentWillMount = function s() {
this.context.animationGroup && (this.animation || (this.animation = this.context.animationGroup.animation), 
this.context.animationGroup.animationChildren.push(this), this.context.animationGroup.updateIndexes()), 
this.shouldAnimate() && (this.tweens = this.createTweens(), this.tweenStyles = d["default"].getStyles(this.tweens));
}, t.prototype.componentWillUpdate = function l() {
this.isIndexDirty && (this.animationIndex = this.context.animationGroup.indexCounter++), 
this.isIndexDirty = !1;
}, t.prototype.componentWillUnmount = function p() {
if (this.context.animationGroup) {
var e = this.context.animationGroup.animationChildren.indexOf(this);
this.context.animationGroup.animationChildren.splice(e, 1), this.context.animationGroup.updateIndexes();
}
if (this.shouldAnimate()) for (var t in this.tweens) this.tweens.hasOwnProperty(t) && this.tweens[t].destroy();
}, t.prototype.shouldAnimate = function f() {
return this.animate && this.animation;
}, t.prototype.createTweens = function y() {
var e = {};
for (var t in this.animation.values) if (this.animation.values.hasOwnProperty(t)) {
var n = this.animation.values[t], r = [ this._reactInternalInstance._rootNodeID, this.animationIndex, t ].join("_"), o = n[this.animation.initialState || "from"];
e[t] = new d["default"](r, o);
}
return e;
}, t.prototype.updateIndexes = function g() {
this.animationChildren.forEach(function(e) {
e.hasCustomIndex || (e.isIndexDirty = !0);
}), this.indexCounter = 0;
var e = this.context.animationRoot || this.context.animationGroup;
e && e.forceUpdate();
}, t.prototype.play = function m() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0], t = arguments.length <= 1 || void 0 === arguments[1] ? "from" : arguments[1], n = arguments.length <= 2 || void 0 === arguments[2] ? "to" : arguments[2], r = e + this.animationIndex * (this.animation && this.animation.options.delay || 0);
if (h.TweenBatching.start(), this.shouldAnimate()) {
var o = Object.assign({}, this.animation.options, {
delay: r
});
for (var a in this.tweens) if (this.tweens.hasOwnProperty(a)) {
var i = this.tweens[a], s = this.animation.values[a];
i.set(s[t]), i.to(s[n], o);
}
}
this.animationChildren.forEach(function(e) {
e.play(r, t, n);
}), h.TweenBatching.stop();
}, t.prototype.rewind = function b() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
this.play(e, "to", "from");
}, t.prototype.render = function v() {
var e = u({
style: [ this.tweenStyles ].concat(this.props.style)
}, this.props.focusItem ? this.props.focusItem.hooks : {});
return c["default"].createElement("surface", e, this.props.children);
};
var n = t;
return t = a("_$AnimatedSurface")(t) || t;
}(c["default"].Component);
t.AnimatedSurface = m, m.childContextTypes = m.contextTypes = {
animationGroup: c["default"].PropTypes.any,
animationRoot: c["default"].PropTypes.any
};
var b = function(e) {
function t() {
r(this, t), e.apply(this, arguments);
}
return o(t, e), t;
}(m);
b.defaultProps = {
animate: !1
}, m.Static = b;
}, function(e, t, n) {
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var o = n(121), a = function i(e) {
var t = e.surfaceId, n = e.eventName, a = e.x, s = e.y, l = e.button, u = e.scroll;
r(this, i), this.surfaceId = t, this.eventName = n, this.x = a, this.y = s, this.button = l, 
this.scroll = u, this.stopPropagation = new o.TwinkleEvent();
};
t["default"] = a, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
for (var t in e) if (e.hasOwnProperty(t)) {
var n = e[t];
if ("object" != typeof n) {
var r = JSON.stringify(e);
throw new Error("Expected object of objects when creating stylesheet, but got " + r);
}
e[t] = o(t, n);
}
return e;
}
function o(e, t) {
if (Array.isArray(t)) {
for (var n = {}, r = 0, o = t.length; o > r; r++) a.objectAssignDefined(n, t[r]);
return n;
}
return t;
}
var a = n(45).Native;
e.exports = {
createStyleSheet: r,
createStyle: o
};
}, function(e, t, n) {
(function(e) {
function t(e) {
return function t() {
var t = e.apply(void 0, arguments);
return o.Native.applyStateChanges(), t;
};
}
function r(e) {
return function(n) {
if (n) {
if ("function" != typeof n) throw new Error("Callback argument must be a function, got " + typeof n);
for (var r = arguments.length, o = Array(r > 1 ? r - 1 : 0), a = 1; r > a; a++) o[a - 1] = arguments[a];
return e.apply(void 0, [ t(n) ].concat(o));
}
};
}
var o = n(45);
e.setTimeout = r(e.setTimeout), e.setInterval = r(e.setInterval);
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
(function(e, t) {
Object.assign = function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, t.console = e, t.performance = {
now: t.TwinkleNative.profilerTime ? function() {
return 1e3 * t.TwinkleNative.profilerTime();
} : function() {
return Date.now();
}
};
var n = [];
t.window = {
addEventListener: function r(e, t) {
n.push({
name: e,
callback: t
});
},
postMessage: function o(e) {
for (var t = 0; t < n.length; t++) {
var r = n[t];
"message" === r.name && r.callback({
data: e
});
}
}
}, t.document = {
body: null,
getElementsByTagName: function a(e) {
return "head" === e ? [ t.head ] : void 0;
},
createElement: function i(e) {
return {
tag: e
};
}
};
}).call(t, n(132), function() {
return this;
}());
}, function(e, t, n) {
(function(t) {
t.isJSC = "undefined" == typeof t.Duktape && t.TwinkleNative, t.isDuktape = "undefined" != typeof t.Duktape, 
t.isBrowser = "undefined" != typeof t.navigator, t.isNode = "undefined" != typeof t.process;
var r;
if (t.isNode) r = n(880); else if (t.isDuktape) r = n(877); else if (t.isBrowser) r = n(876); else {
if (!t.TwinkleNative) throw new Error("Unable to detect JavaScript runtime!");
r = n(879);
}
n(480), e.exports = r;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
(function(e, t) {
"function" != typeof Object.assign && (Object.assign = function(e) {
"use strict";
if (void 0 === e || null === e) throw new TypeError("Cannot convert undefined or null to object");
for (var t = Object(e), n = 1; n < arguments.length; n++) {
var r = arguments[n];
if (void 0 !== r && null !== r) for (var o in r) r.hasOwnProperty(o) && (t[o] = r[o]);
}
return t;
}), String.prototype.startsWith || (String.prototype.startsWith = function(e, t) {
return t = t || 0, this.substr(t, e.length) === e;
}), t.console = e, t.performance = {
now: function r() {
return Date.now();
}
};
var n = [];
t.window = {
addEventListener: function o(e, t) {
n.push({
name: e,
callback: t
});
},
postMessage: function a(e) {
for (var t = 0; t < n.length; t++) {
var r = n[t];
"message" === r.name && r.callback({
data: e
});
}
}
}, t.document = {
body: null,
getElementsByTagName: function i(e) {
return "head" === e ? [ t.head ] : void 0;
},
createElement: function s(e) {
return {
tag: e
};
}
};
}).call(t, n(132), function() {
return this;
}());
}, function(e, t) {
(function(e) {
e.__ = function(e) {
return e;
};
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
(function(e) {
function t(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
var r = n(316), o = t(r), a = n(484), i = t(a), s = n(482), l = t(s), u = n(480), p = t(u), c = n(483), f = t(c), d = n(184), h = n(109), y = t(h), g = n(202);
e.onHttpRequestCompleted = o.onHttpRequestCompleted, e.onLoadAssetRequestCompleted = i.onLoadAssetRequestCompleted, 
e.onSurfaceBoundsChanged = d.onSurfaceBoundsChanged, e.onInputActionDown = l.onInputActionDown, 
e.onInputActionUp = l.onInputActionUp, e.onKeyDown = l.onKeyDown, e.onKeyUp = l.onKeyUp, 
e.onPadButtonDown = l.onPadButtonDown, e.onPadButtonUp = l.onPadButtonUp, e.onMouseEvents = l.onMouseEvents, 
e.onMouseMove = l.onMouseMove, e.onTextureLoaded = g.textureHandler.onTextureLoaded.bind(g.textureHandler), 
e.onTextureUnloaded = g.textureHandler.onTextureUnloaded.bind(g.textureHandler), 
e.onTimeout = p.onTimeout, e.onKeyFetched = f.onKeyFetched, e.onKeyStored = f.onKeyStored, 
e.onKeyRemoved = f.onKeyRemoved, e.onKeysCleared = f.onKeysCleared, e.onConsoleMessage = function(e) {
y.onConsoleMessage.trigger(e);
}, e.onTypingInput = function() {
var e;
(e = y.onTypingInput).trigger.apply(e, arguments);
}, e.onWindowSizeChanged = function(e, t) {
y.onWindowSizeChanged.trigger(e, t);
}, e.onSoundStopped = function(e) {
console.log("onSoundStopped " + e);
}, e.onAssetLoaded = function(e, t) {
y.onAssetLoaded.trigger(e, t);
}, e.onVideoStopped = function(e) {
y.onVideoStopped.trigger(e);
}, e.onVideoLooped = function(e) {
y.onVideoLooped.trigger(e);
}, e.onManifestStatus = function(e, t) {
"newManifest" === e ? y.onManifestDownloaded.trigger({
bundleVersion: t.bundleVersion,
newBundleVersion: t.newBundleVersion,
isMandatory: t.isMandatory
}) : console.error("Unknown manifest status type: " + e);
};
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
(function(e) {
function r() {
var e = n(481).frostbite, t = n(109);
e.registerMessageListener("sparta.manifestBundleDownloadStarted", function(e, n) {
t.onManifestAssetsDownloadStarted.trigger({
manifestVersion: n.version,
numAssets: n.numberOfFiles
});
}), e.registerMessageListener("sparta.manifestBundleDownloadCompletedMessage", function(e, n) {
t.onManifestAssetsDownloadCompleted.trigger({
manifestVersion: n.version
});
});
}
function o() {
n(878), e.Promise = n(899);
var t = n(884);
t(), n(881), r(), n(45).Native.jsStart();
}
t.__esModule = !0, t.init = o;
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var i = n(45), s = n(885), l = o(s), u = n(151), p = r(u), c = n(315), f = r(c), d = n(226), h = o(d), y = (n(227), 
n(479)), g = o(y), m = n(184), b = r(m), v = n(79), _ = n(202), S = n(362), w = r(S), T = h["default"].USE_STATIC_SURFACES, C = function() {
function e(t) {
a(this, e), this._tag = t, this._rootNodeID = null, this._isStaticSurface = !1, 
this._renderedChildren = null, this._surfaceProps = null, this._primaryTexture = null, 
this._fadeIn = null;
}
return e.prototype.construct = function t(e) {
this._currentElement = e;
}, e.prototype.getSurfaceId = function n() {
return this._rootNodeID;
}, e.prototype.getObject = function r(e) {
var t = this.getPropsShallowCopy();
return t.id = this._rootNodeID, t.children = e, t;
}, e.prototype.getPropsShallowCopy = function o() {
var e = i.Native.objectAssign({}, this._surfaceProps);
return delete e.children, e;
}, e.prototype.mountComponent = function s(e, t, n) {
this._rootNodeID = e, "test" === this._tag ? (w.mount(e, this._currentElement.props), 
this._surfaceProps = {}) : this._surfaceProps = this.parseProps(this._currentElement.props), 
"function" == typeof this._currentElement.props.onSurfaceId && this._currentElement.props.onSurfaceId(e), 
T && (this._isStaticSurface = !!this._currentElement.props["static"]);
var r = [], o = this._currentElement.props.children;
return o && (Array.isArray(o) || (o = [ o ]), r = this.mountChildren(o, t, n)), 
this.getObject(r);
}, e.prototype.receiveComponent = function l(e, t, n) {
if ("test" === this._tag) w.update(this._rootNodeID, this._currentElement.props, e.props); else if (!this._isStaticSurface || this._fadeIn || v.options.enableDevWarnings) {
var r = this._surfaceProps;
this._surfaceProps = this.parseProps(e.props);
var o = this._surfaceProps;
this._currentElement = e;
var a = {}, i = p.diffProps(r, o, a);
i && (this._isStaticSurface && !this._fadeIn ? console.error("Error: " + this._rootNodeID + " was marked as static but its props (" + Object.keys(a).join(", ") + ") changed!") : p.updateSurface(this._rootNodeID, a));
}
var s = e.props.children;
s = s ? [].concat(s) : [], this.updateChildren(s, t, n);
}, e.prototype.unmountComponent = function u() {
"test" === this._tag && w.unmount(this._rootNodeID, this._currentElement.props), 
"function" == typeof this._currentElement.props.onSurfaceId && this._currentElement.props.onSurfaceId(null), 
_.textureHandler.unmount(this), f.destroy(this._rootNodeID), this.unmountChildren(), 
this._rootNodeID = null;
}, e.prototype.getPublicInstance = function c() {
return this;
}, e.prototype.parseProps = function d(e) {
var t = this._rootNodeID, n = {
children: e.children
}, r = e.style;
void 0 !== r && (Array.isArray(r) ? (i.Native.objectAssignDefined(n, r[0] || null, r[1] || null), 
i.Native.objectAssignDefined(n, r[2] || null, r[3] || null)) : i.Native.objectAssignDefined(n, r), 
_.textureHandler.update(this, n));
var o = [];
if (b.hasSubscription(t) && o.push("onBoundsChanged"), v.options.enableMouse && !h["default"].DISABLE_EVENTS) for (var a = 0, s = g["default"].length; s > a; a++) {
var l = g["default"][a], u = e[l];
u && "function" == typeof u ? f.register(t, l, "internal", u) : f.lookup[t] && f.lookup[t][l] && f.destroy(t, l, "internal"), 
f.hasCallbacks(t, l) && o.push(l);
}
if (o.length > 0 && (n.events = o), "string" == typeof e.text) {
n.text = e.text, !n.fontSize && v.options.defaultFontSize && (n.fontSize = v.options.defaultFontSize), 
!n.color && v.options.defaultFontColor && (n.color = v.options.defaultFontColor), 
!n.fontFamily && v.options.defaultFontFamily && (n.fontFamily = v.options.defaultFontFamily);
var p = v.options.getFontSettings(n.fontFamily);
"number" != typeof n.textEdgeOffset && "number" == typeof p.edgeOffset && (n.textEdgeOffset = p.edgeOffset), 
"number" != typeof n.textSoftness && "number" == typeof p.softness && (n.textSoftness = p.softness);
}
return "object" == typeof e.shader && (n.shader = e.shader), "object" == typeof e.spriteAnimation && (n.spriteAnimation = e.spriteAnimation), 
n;
}, e.prototype.getBounds = function y() {
return m.getBoundsSync(this._rootNodeID);
}, e;
}();
t["default"] = C, i.Native.objectAssign(C.prototype, l["default"].Mixin), e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a() {
s["default"].NativeComponent.injectGenericComponentClass(d["default"]), s["default"].NativeComponent.injectTextComponentClass(y["default"]), 
s["default"].Updates.injectReconcileTransaction(c["default"]), s["default"].EmptyComponent.injectEmptyComponent("element"), 
s["default"].RootIndex.injectCreateReactRootIndex(function() {
return "root";
}), u["default"].processChildrenUpdates = function(e, t) {
m.processChildrenUpdates(e, t);
}, u["default"].replaceNodeWithMarkupByID = function(e, t) {
m.replaceSurface(e, t);
};
}
t.__esModule = !0, t["default"] = a;
var i = n(505), s = o(i), l = n(187), u = o(l), p = n(886), c = o(p), f = n(883), d = o(f), h = n(887), y = o(h), g = n(151), m = r(g);
e.exports = t["default"];
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
g.push({
parentID: e,
parentNode: null,
type: c.INSERT_MARKUP,
markupIndex: m.push(t) - 1,
content: null,
fromIndex: null,
toIndex: n
});
}
function o(e, t, n) {
g.push({
parentID: e,
parentNode: null,
type: c.MOVE_EXISTING,
markupIndex: null,
content: null,
fromIndex: t,
toIndex: n
});
}
function a(e, t) {
g.push({
parentID: e,
parentNode: null,
type: c.REMOVE_NODE,
markupIndex: null,
content: null,
fromIndex: t,
toIndex: null
});
}
function i(e, t) {
g.push({
parentID: e,
parentNode: null,
type: c.SET_MARKUP,
markupIndex: null,
content: t,
fromIndex: null,
toIndex: null
});
}
function s(e, t) {
g.push({
parentID: e,
parentNode: null,
type: c.TEXT_CONTENT,
markupIndex: null,
content: t,
fromIndex: null,
toIndex: null
});
}
function l() {
g.length && (p.processChildrenUpdates(g, m), u());
}
function u() {
g.length = 0, m.length = 0;
}
var p = n(187), c = n(324), f = (n(93), n(118)), d = n(492), h = n(328), y = 0, g = [], m = [], b = {
Mixin: {
_reconcilerInstantiateChildren: function v(e, t, n) {
return d.instantiateChildren(e, t, n);
},
_reconcilerUpdateChildren: function _(e, t, n, r) {
var o;
return o = h(t), d.updateChildren(e, o, n, r);
},
mountChildren: function S(e, t, n) {
var r = this._reconcilerInstantiateChildren(e, t, n);
this._renderedChildren = r;
var o = [], a = 0;
for (var i in r) if (r.hasOwnProperty(i)) {
var s = r[i], l = this._rootNodeID + i, u = f.mountComponent(s, l, t, n);
s._mountIndex = a++, o.push(u);
}
return o;
},
updateTextContent: function w(e) {
y++;
var t = !0;
try {
var n = this._renderedChildren;
d.unmountChildren(n);
for (var r in n) n.hasOwnProperty(r) && this._unmountChild(n[r]);
this.setTextContent(e), t = !1;
} finally {
y--, y || (t ? u() : l());
}
},
updateMarkup: function T(e) {
y++;
var t = !0;
try {
var n = this._renderedChildren;
d.unmountChildren(n);
for (var r in n) n.hasOwnProperty(r) && this._unmountChildByName(n[r], r);
this.setMarkup(e), t = !1;
} finally {
y--, y || (t ? u() : l());
}
},
updateChildren: function C(e, t, n) {
y++;
var r = !0;
try {
this._updateChildren(e, t, n), r = !1;
} finally {
y--, y || (r ? u() : l());
}
},
_updateChildren: function E(e, t, n) {
var r = this._renderedChildren, o = this._reconcilerUpdateChildren(r, e, t, n);
if (this._renderedChildren = o, o || r) {
var a, i = 0, s = 0;
for (a in o) if (o.hasOwnProperty(a)) {
var l = r && r[a], u = o[a];
l === u ? (this.moveChild(l, s, i), i = Math.max(l._mountIndex, i), l._mountIndex = s) : (l && (i = Math.max(l._mountIndex, i), 
this._unmountChild(l)), this._mountChildByNameAtIndex(u, a, s, t, n)), s++;
}
for (a in r) !r.hasOwnProperty(a) || o && o.hasOwnProperty(a) || this._unmountChild(r[a]);
}
},
unmountChildren: function I() {
var e = this._renderedChildren;
d.unmountChildren(e), this._renderedChildren = null;
},
moveChild: function P(e, t, n) {
e._mountIndex < n && o(this._rootNodeID, e._mountIndex, t);
},
createChild: function O(e, t) {
r(this._rootNodeID, t, e._mountIndex);
},
removeChild: function A(e) {
a(this._rootNodeID, e._mountIndex);
},
setTextContent: function k(e) {
s(this._rootNodeID, e);
},
setMarkup: function R(e) {
i(this._rootNodeID, e);
},
_mountChildByNameAtIndex: function x(e, t, n, r, o) {
var a = this._rootNodeID + t, i = f.mountComponent(e, a, r, o);
e._mountIndex = n, this.createChild(e, i);
},
_unmountChild: function M(e) {
this.removeChild(e), e._mountIndex = null;
}
}
};
e.exports = b;
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a() {
this.reinitializeTransaction(), this.reactMountReady = s["default"].getPooled(null);
}
t.__esModule = !0;
var i = n(228), s = o(i), l = n(107), u = o(l), p = n(190), c = o(p), f = n(4), d = o(f), h = n(151), y = r(h), g = {
initialize: function b() {
y.beginTransaction(), this.reactMountReady.reset();
},
close: function v() {
y.endTransaction(), this.reactMountReady.notifyAll();
}
}, m = {
getTransactionWrappers: function _() {
return [ g ];
},
getReactMountReady: function S() {
return this.reactMountReady;
},
destructor: function w() {
s["default"].release(this.reactMountReady), this.reactMountReady = null;
}
};
d["default"].extend(a.prototype, c["default"].Mixin, m), u["default"].addPoolingTo(a), 
t["default"] = a, e.exports = t["default"];
}, function(e, t) {
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.__esModule = !0;
var r = function() {
function e() {
n(this, e);
}
return e.prototype.construct = function t(e) {
this._currentElement = e, this._stringText = "" + e, console.error('Constructed an invalid text element with content "' + e + '"'), 
this._rootNodeID = null, this._mountIndex = 0;
}, e.prototype.mountComponent = function r(e, t, n) {
return console.error("Mounting invalid text element at", e), {};
}, e.prototype.receiveComponent = function o(e, t) {
console.error('Invalid text element updated with text "' + e + '"');
}, e.prototype.unmountComponent = function a() {
this._rootNodeID = null;
}, e;
}();
t["default"] = r, e.exports = t["default"];
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a() {
return b;
}
function i(e) {
b || (b = l["default"].createReactRootID());
var t = f["default"](e);
return p["default"].batchedUpdates(function() {
var e = p["default"].ReactReconcileTransaction.getPooled();
e.perform(function() {
var n = t.mountComponent(b, e, {});
h.replaceRoot(n);
}), p["default"].ReactReconcileTransaction.release(e);
}), t;
}
t.__esModule = !0, t.getRootId = a, t.render = i;
var s = n(134), l = o(s), u = n(64), p = o(u), c = n(235), f = o(c), d = n(151), h = r(d), y = n(10);
p["default"].batchedUpdate = function(e) {
e();
};
var g = p["default"].batchedUpdates;
p["default"].batchedUpdates = function() {
for (var e = arguments.length, t = Array(e), n = 0; e > n; n++) t[n] = arguments[n];
y.transaction(function() {
return g.apply(void 0, t);
});
};
var m = p["default"].flushBatchedUpdates;
p["default"].flushBatchedUpdates = function() {
for (var e = arguments.length, t = Array(e), n = 0; e > n; n++) t[n] = arguments[n];
y.transaction(function() {
return m.apply(void 0, t);
});
};
var b = null;
}, function(e, t, n) {
function r(e) {
if (e in l) return l[e];
var t = u++;
return l[e] = new c(t, e), l[e];
}
function o() {
for (var e in l) l[e].stop();
i.Native.stopAllVideo();
}
function a(e) {
e in l && l[e].stop();
}
t.__esModule = !0, t.loadVideo = r, t.stopAll = o, t.stopUrl = a;
for (var i = n(45), s = n(108), l = {}, u = 1, p = 0; 5 > p; p++) i.Native.stopVideo(p);
var c = function f(e, t) {
this.id = e, this.url = t, this.loop = !0, this.volume = 1, this.audioBus = "", 
this.isPlaying = !1;
};
c.prototype.play = function() {
this.isPlaying || (s.getBuildInfo().hasAudioBus() ? i.Native.playVideoAudioBus(this.id, this.url, this.loop, this.audioBus) : i.Native.playVideo(this.id, this.url, this.loop), 
this.isPlaying = !0), i.Native.setVideoVolume(this.id, this.volume), this.applyVolumeFix();
}, c.prototype.stop = function() {
this.isPlaying && (i.Native.stopVideo(this.id), this.isPlaying = !1);
}, c.prototype.setVolume = function(e) {
this.volume = e;
}, c.prototype.setAudioBus = function(e) {
this.audioBus = e;
}, c.prototype.applyVolumeFix = function() {
1 === this.volume ? i.Native.setVideoVolume(this.id, .999) : 0 === this.volume && i.Native.setVideoVolume(this.id, .001);
}, c.prototype.setLoop = function(e) {
this.loop = e;
};
}, function(e, t, n) {
function r(e) {
if (e && e.__esModule) return e;
var t = {};
if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
return t["default"] = e, t;
}
function o(e) {
return e && e.__esModule ? e : {
"default": e
};
}
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function s() {}
function l() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], t = e.onUpdate || s;
return function(e) {
var n = function(e) {
function n(t) {
a(this, n), e.call(this, t), this.bounds = new f.Bounds();
}
return i(n, e), n.prototype.componentWillMount = function r() {
e.prototype.componentWillMount && e.prototype.componentWillMount.call(this), c.subscribe(this);
}, n.prototype.componentWillUnmount = function o() {
e.prototype.componentWillUnmount && e.prototype.componentWillUnmount.call(this), 
c.unsubscribe(this);
}, n.prototype.componentDidUpdateBounds = function s() {
e.prototype.componentDidUpdateBounds && e.prototype.componentDidUpdateBounds.call(this, this.bounds), 
t();
}, n.prototype.receiveBounds = function l(e) {
this.bounds = e, this.componentDidUpdateBounds(this.bounds);
}, n.prototype.getSurfaceId = function u() {
return this._reactInternalInstance && this._reactInternalInstance._rootNodeID;
}, n;
}(e);
return n.displayName = e.displayName || e.name, n;
};
}
t.__esModule = !0;
var u = n(1), p = (o(u), n(184)), c = r(p), f = n(253);
t["default"] = l, e.exports = t["default"];
}, function(e, t) {
(function(n) {
function r() {
var e = {};
return p.forEach(function(t) {
e[t] = {
numCalls: 0,
totalTime: 0
};
}), e;
}
function o(e, t) {
var n = [];
for (var r in u) {
var o = 0, a = {};
for (var i in u[r]) {
var s = "time" == e ? "totalTime" : "numCalls";
a[i] = u[r][i][s], o += u[r][i][s];
}
a.all = o, n.push([ r, a ]);
}
n.sort(function(e, t) {
return t[1].all - e[1].all;
});
var l = {};
return n.slice(0, t).forEach(function(e) {
l[e[0]] = e[1];
}), l;
}
function a(e, t, n, o) {
var a = t;
void 0 === u[a] && (u[a] = r()), u[a][n].numCalls++, u[a][n].totalTime += o;
}
function i() {
u = {};
}
function s() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? 20 : arguments[0], t = o("time", e);
console.log("Total time"), console.table(t);
}
function l() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? 20 : arguments[0], t = o("time", e), n = "\nLifecycle Total Time per component and lifecycle function:\n";
n += "Component", p.forEach(function(e) {
n += "	" + e;
}), n += "	All\n";
for (var r in t) n += r, p.forEach(function(e) {
n += "	" + t[r][e].toFixed(2);
}), n += "	" + t[r].all.toFixed(2) + "\n";
console.log(n);
}
t.__esModule = !0;
var u = {}, p = [ "willMount", "didMount", "willReceiveProps", "shouldUpdate", "willUpdate", "didUpdate", "willUnmount", "render" ], c = {
logTiming: a,
reset: i,
printTotalTimeBrowser: s,
printTotalTime: l
};
"undefined" != typeof window && (n.window.lifecycleProfiler = c), t["default"] = c, 
e.exports = t["default"];
}).call(t, function() {
return this;
}());
}, function(e, t, n) {
(function(t) {
e.exports = t.SpartaGlobals = n(566);
}).call(t, function() {
return this;
}());
}, function(e, t) {
e.exports = {
texture: "",
blendMode: "screen",
maxParticles: 5,
lifetimeMs: {
value: 1e4,
variance: 500,
absolute: null
},
emitInterval: {
value: 1e3,
variance: 0,
absolute: null
},
x: {
from: {
value: 0,
variance: 500,
absolute: !1
},
to: {
value: 500,
variance: 100,
absolute: !0
},
easing: "Linear",
p1x: {
value: .3464566929133858,
variance: 0,
absolute: null
},
p1y: {
value: .05437499999999995,
variance: 0,
absolute: null
},
p2x: {
value: .33858267716535434,
variance: 0,
absolute: null
},
p2y: {
value: .984375,
variance: 0,
absolute: null
}
},
y: {
from: {
value: 0,
variance: 0,
absolute: !0
},
to: {
value: -900,
variance: 10,
absolute: !1
},
easing: "SineIn",
p1x: {
value: .6692913385826772,
variance: 0,
absolute: null
},
p1y: {
value: .014375000000000027,
variance: 0,
absolute: null
},
p2x: {
value: .3779527559055118,
variance: 0,
absolute: null
},
p2y: {
value: .994375,
variance: 0,
absolute: null
}
},
opacity: {
from: {
value: 1,
variance: .1,
absolute: !0
},
to: {
value: 0,
variance: .1,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
scale: {
from: {
value: 2,
variance: .3,
absolute: !0
},
to: {
value: 0,
variance: .4,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
rotate: {
from: {
value: -10,
variance: 2,
absolute: !0
},
to: {
value: 5,
variance: 2,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
color: {
fromColor: {
R: {
value: 255,
variance: 0,
absolute: !0
},
G: {
value: 126,
variance: 0,
absolute: !0
},
B: {
value: 0,
variance: 0,
absolute: !0
},
A: {
value: 255,
variance: 0,
absolute: !0
}
},
toColor: {
R: {
value: 255,
variance: 0,
absolute: !0
},
G: {
value: 126,
variance: 0,
absolute: !0
},
B: {
value: 0,
variance: 0,
absolute: !0
},
A: {
value: 255,
variance: 0,
absolute: !0
}
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
}
};
}, function(e, t) {
e.exports = {
texture: "",
blendMode: "screen",
maxParticles: 15,
lifetimeMs: {
value: 15e3,
variance: 1500,
absolute: null
},
emitInterval: {
value: 10,
variance: 50,
absolute: null
},
x: {
from: {
value: 0,
variance: 300,
absolute: !0
},
to: {
value: 200,
variance: 300,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
y: {
from: {
value: 0,
variance: 0,
absolute: !0
},
to: {
value: 400,
variance: -200,
absolute: !0
},
easing: "QuadraticIn",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
opacity: {
from: {
value: 1,
variance: 0,
absolute: !0
},
to: {
value: 1,
variance: 0,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
scale: {
from: {
value: 26,
variance: 0,
absolute: !0
},
to: {
value: 0,
variance: 0,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
rotate: {
from: {
value: -60,
variance: 10,
absolute: !0
},
to: {
value: 0,
variance: 0,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
color: {
fromColor: {
R: {
value: 255,
variance: 0,
absolute: !0
},
G: {
value: 255,
variance: 0,
absolute: !0
},
B: {
value: 255,
variance: 0,
absolute: !0
},
A: {
value: 255,
variance: 0,
absolute: !0
}
},
toColor: {
R: {
value: 255,
variance: 0,
absolute: !0
},
G: {
value: 255,
variance: 0,
absolute: !0
},
B: {
value: 255,
variance: 0,
absolute: !0
},
A: {
value: 255,
variance: 0,
absolute: !0
}
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
}
};
}, function(e, t, n) {
"use strict";
e.exports = n(495);
}, function(e, t) {
"use strict";
function n(e, t) {
return Object.prototype.hasOwnProperty.call(e, t);
}
e.exports = function(e, t, o, a) {
t = t || "&", o = o || "=";
var i = {};
if ("string" != typeof e || 0 === e.length) return i;
var s = /\+/g;
e = e.split(t);
var l = 1e3;
a && "number" == typeof a.maxKeys && (l = a.maxKeys);
var u = e.length;
l > 0 && u > l && (u = l);
for (var p = 0; u > p; ++p) {
var c, f, d, h, y = e[p].replace(s, "%20"), g = y.indexOf(o);
g >= 0 ? (c = y.substr(0, g), f = y.substr(g + 1)) : (c = y, f = ""), d = decodeURIComponent(c), 
h = decodeURIComponent(f), n(i, d) ? r(i[d]) ? i[d].push(h) : i[d] = [ i[d], h ] : i[d] = h;
}
return i;
};
var r = Array.isArray || function(e) {
return "[object Array]" === Object.prototype.toString.call(e);
};
}, function(e, t) {
"use strict";
function n(e, t) {
if (e.map) return e.map(t);
for (var n = [], r = 0; r < e.length; r++) n.push(t(e[r], r));
return n;
}
var r = function(e) {
switch (typeof e) {
case "string":
return e;

case "boolean":
return e ? "true" : "false";

case "number":
return isFinite(e) ? e : "";

default:
return "";
}
};
e.exports = function(e, t, i, s) {
return t = t || "&", i = i || "=", null === e && (e = void 0), "object" == typeof e ? n(a(e), function(a) {
var s = encodeURIComponent(r(a)) + i;
return o(e[a]) ? n(e[a], function(e) {
return s + encodeURIComponent(r(e));
}).join(t) : s + encodeURIComponent(r(e[a]));
}).join(t) : s ? encodeURIComponent(r(s)) + i + encodeURIComponent(r(e)) : "";
};
var o = Array.isArray || function(e) {
return "[object Array]" === Object.prototype.toString.call(e);
}, a = Object.keys || function(e) {
var t = [];
for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.push(n);
return t;
};
}, function(e, t, n) {
"use strict";
t.decode = t.parse = n(896), t.encode = t.stringify = n(897);
}, function(e, t, n) {
"use strict";
e.exports = n(903);
}, function(e, t, n) {
"use strict";
var r = n(152);
e.exports = r, r.prototype.done = function(e, t) {
var n = arguments.length ? this.then.apply(this, arguments) : this;
n.then(null, function(e) {
setTimeout(function() {
throw e;
}, 0);
});
};
}, function(e, t, n) {
"use strict";
function r(e) {
var t = new o(o._61);
return t._81 = 1, t._65 = e, t;
}
var o = n(152);
e.exports = o;
var a = r(!0), i = r(!1), s = r(null), l = r(void 0), u = r(0), p = r("");
o.resolve = function(e) {
if (e instanceof o) return e;
if (null === e) return s;
if (void 0 === e) return l;
if (e === !0) return a;
if (e === !1) return i;
if (0 === e) return u;
if ("" === e) return p;
if ("object" == typeof e || "function" == typeof e) try {
var t = e.then;
if ("function" == typeof t) return new o(t.bind(e));
} catch (n) {
return new o(function(e, t) {
t(n);
});
}
return r(e);
}, o.all = function(e) {
var t = Array.prototype.slice.call(e);
return new o(function(e, n) {
function r(i, s) {
if (s && ("object" == typeof s || "function" == typeof s)) {
if (s instanceof o && s.then === o.prototype.then) {
for (;3 === s._81; ) s = s._65;
return 1 === s._81 ? r(i, s._65) : (2 === s._81 && n(s._65), void s.then(function(e) {
r(i, e);
}, n));
}
var l = s.then;
if ("function" == typeof l) {
var u = new o(l.bind(s));
return void u.then(function(e) {
r(i, e);
}, n);
}
}
t[i] = s, 0 === --a && e(t);
}
if (0 === t.length) return e([]);
for (var a = t.length, i = 0; i < t.length; i++) r(i, t[i]);
});
}, o.reject = function(e) {
return new o(function(t, n) {
n(e);
});
}, o.race = function(e) {
return new o(function(t, n) {
e.forEach(function(e) {
o.resolve(e).then(t, n);
});
});
}, o.prototype["catch"] = function(e) {
return this.then(null, e);
};
}, function(e, t, n) {
"use strict";
var r = n(152);
e.exports = r, r.prototype["finally"] = function(e) {
return this.then(function(t) {
return r.resolve(e()).then(function() {
return t;
});
}, function(t) {
return r.resolve(e()).then(function() {
throw t;
});
});
};
}, function(e, t, n) {
"use strict";
e.exports = n(152), n(900), n(902), n(901), n(904), n(905);
}, function(e, t, n) {
"use strict";
function r(e, t) {
for (var n = [], r = 0; t > r; r++) n.push("a" + r);
var o = [ "return function (" + n.join(",") + ") {", "var self = this;", "return new Promise(function (rs, rj) {", "var res = fn.call(", [ "self" ].concat(n).concat([ s ]).join(","), ");", "if (res &&", '(typeof res === "object" || typeof res === "function") &&', 'typeof res.then === "function"', ") {rs(res);}", "});", "};" ].join("");
return Function([ "Promise", "fn" ], o)(a, e);
}
function o(e) {
for (var t = Math.max(e.length - 1, 3), n = [], r = 0; t > r; r++) n.push("a" + r);
var o = [ "return function (" + n.join(",") + ") {", "var self = this;", "var args;", "var argLength = arguments.length;", "if (arguments.length > " + t + ") {", "args = new Array(arguments.length + 1);", "for (var i = 0; i < arguments.length; i++) {", "args[i] = arguments[i];", "}", "}", "return new Promise(function (rs, rj) {", "var cb = " + s + ";", "var res;", "switch (argLength) {", n.concat([ "extra" ]).map(function(e, t) {
return "case " + t + ":res = fn.call(" + [ "self" ].concat(n.slice(0, t)).concat("cb").join(",") + ");break;";
}).join(""), "default:", "args[argLength] = cb;", "res = fn.apply(self, args);", "}", "if (res &&", '(typeof res === "object" || typeof res === "function") &&', 'typeof res.then === "function"', ") {rs(res);}", "});", "};" ].join("");
return Function([ "Promise", "fn" ], o)(a, e);
}
var a = n(152), i = n(906);
e.exports = a, a.denodeify = function(e, t) {
return "number" == typeof t && t !== 1 / 0 ? r(e, t) : o(e);
};
var s = "function (err, res) {if (err) { rj(err); } else { rs(res); }}";
a.nodeify = function(e) {
return function() {
var t = Array.prototype.slice.call(arguments), n = "function" == typeof t[t.length - 1] ? t.pop() : null, r = this;
try {
return e.apply(this, arguments).nodeify(n, r);
} catch (o) {
if (null === n || "undefined" == typeof n) return new a(function(e, t) {
t(o);
});
i(function() {
n.call(r, o);
});
}
};
}, a.prototype.nodeify = function(e, t) {
return "function" != typeof e ? this : void this.then(function(n) {
i(function() {
e.call(t, null, n);
});
}, function(n) {
i(function() {
e.call(t, n);
});
});
};
}, function(e, t, n) {
"use strict";
var r = n(152);
e.exports = r, r.enableSynchronous = function() {
r.prototype.isPending = function() {
return 0 == this.getState();
}, r.prototype.isFulfilled = function() {
return 1 == this.getState();
}, r.prototype.isRejected = function() {
return 2 == this.getState();
}, r.prototype.getValue = function() {
if (3 === this._81) return this._65.getValue();
if (!this.isFulfilled()) throw new Error("Cannot get a value of an unfulfilled promise.");
return this._65;
}, r.prototype.getReason = function() {
if (3 === this._81) return this._65.getReason();
if (!this.isRejected()) throw new Error("Cannot get a rejection reason of a non-rejected promise.");
return this._65;
}, r.prototype.getState = function() {
return 3 === this._81 ? this._65.getState() : -1 === this._81 || -2 === this._81 ? 0 : this._81;
};
}, r.disableSynchronous = function() {
r.prototype.isPending = void 0, r.prototype.isFulfilled = void 0, r.prototype.isRejected = void 0, 
r.prototype.getValue = void 0, r.prototype.getReason = void 0, r.prototype.getState = void 0;
};
}, function(e, t, n) {
"use strict";
function r() {
if (l.length) throw l.shift();
}
function o(e) {
var t;
t = s.length ? s.pop() : new a(), t.task = e, i(t);
}
function a() {
this.task = null;
}
var i = n(487), s = [], l = [], u = i.makeRequestCallFromTimer(r);
e.exports = o, a.prototype.call = function() {
try {
this.task.call();
} catch (e) {
o.onerror ? o.onerror(e) : (l.push(e), u());
} finally {
this.task = null, s[s.length] = this;
}
};
}, function(e, t, n) {
"use strict";
var r = n(72), o = n(327), a = n(519), i = {
componentDidMount: function() {
this.props.autoFocus && a(o(this));
}
}, s = {
Mixin: i,
focusDOMComponent: function() {
a(r.getNode(this._rootNodeID));
}
};
e.exports = s;
}, function(e, t, n) {
"use strict";
function r() {
var e = window.opera;
return "object" == typeof e && "function" == typeof e.version && parseInt(e.version(), 10) <= 12;
}
function o(e) {
return (e.ctrlKey || e.altKey || e.metaKey) && !(e.ctrlKey && e.altKey);
}
function a(e) {
switch (e) {
case O.topCompositionStart:
return A.compositionStart;

case O.topCompositionEnd:
return A.compositionEnd;

case O.topCompositionUpdate:
return A.compositionUpdate;
}
}
function i(e, t) {
return e === O.topKeyDown && t.keyCode === S;
}
function s(e, t) {
switch (e) {
case O.topKeyUp:
return -1 !== _.indexOf(t.keyCode);

case O.topKeyDown:
return t.keyCode !== S;

case O.topKeyPress:
case O.topMouseDown:
case O.topBlur:
return !0;

default:
return !1;
}
}
function l(e) {
var t = e.detail;
return "object" == typeof t && "data" in t ? t.data : null;
}
function u(e, t, n, r, o) {
var u, p;
if (w ? u = a(e) : R ? s(e, r) && (u = A.compositionEnd) : i(e, r) && (u = A.compositionStart), 
!u) return null;
E && (R || u !== A.compositionStart ? u === A.compositionEnd && R && (p = R.getData()) : R = g.getPooled(t));
var c = m.getPooled(u, n, r, o);
if (p) c.data = p; else {
var f = l(r);
null !== f && (c.data = f);
}
return h.accumulateTwoPhaseDispatches(c), c;
}
function p(e, t) {
switch (e) {
case O.topCompositionEnd:
return l(t);

case O.topKeyPress:
var n = t.which;
return n !== I ? null : (k = !0, P);

case O.topTextInput:
var r = t.data;
return r === P && k ? null : r;

default:
return null;
}
}
function c(e, t) {
if (R) {
if (e === O.topCompositionEnd || s(e, t)) {
var n = R.getData();
return g.release(R), R = null, n;
}
return null;
}
switch (e) {
case O.topPaste:
return null;

case O.topKeyPress:
return t.which && !o(t) ? String.fromCharCode(t.which) : null;

case O.topCompositionEnd:
return E ? null : t.data;

default:
return null;
}
}
function f(e, t, n, r, o) {
var a;
if (a = C ? p(e, r) : c(e, r), !a) return null;
var i = b.getPooled(A.beforeInput, n, r, o);
return i.data = a, h.accumulateTwoPhaseDispatches(i), i;
}
var d = n(106), h = n(186), y = n(65), g = n(916), m = n(945), b = n(948), v = n(119), _ = [ 9, 13, 27, 32 ], S = 229, w = y.canUseDOM && "CompositionEvent" in window, T = null;
y.canUseDOM && "documentMode" in document && (T = document.documentMode);
var C = y.canUseDOM && "TextEvent" in window && !T && !r(), E = y.canUseDOM && (!w || T && T > 8 && 11 >= T), I = 32, P = String.fromCharCode(I), O = d.topLevelTypes, A = {
beforeInput: {
phasedRegistrationNames: {
bubbled: v({
onBeforeInput: null
}),
captured: v({
onBeforeInputCapture: null
})
},
dependencies: [ O.topCompositionEnd, O.topKeyPress, O.topTextInput, O.topPaste ]
},
compositionEnd: {
phasedRegistrationNames: {
bubbled: v({
onCompositionEnd: null
}),
captured: v({
onCompositionEndCapture: null
})
},
dependencies: [ O.topBlur, O.topCompositionEnd, O.topKeyDown, O.topKeyPress, O.topKeyUp, O.topMouseDown ]
},
compositionStart: {
phasedRegistrationNames: {
bubbled: v({
onCompositionStart: null
}),
captured: v({
onCompositionStartCapture: null
})
},
dependencies: [ O.topBlur, O.topCompositionStart, O.topKeyDown, O.topKeyPress, O.topKeyUp, O.topMouseDown ]
},
compositionUpdate: {
phasedRegistrationNames: {
bubbled: v({
onCompositionUpdate: null
}),
captured: v({
onCompositionUpdateCapture: null
})
},
dependencies: [ O.topBlur, O.topCompositionUpdate, O.topKeyDown, O.topKeyPress, O.topKeyUp, O.topMouseDown ]
}
}, k = !1, R = null, x = {
eventTypes: A,
extractEvents: function(e, t, n, r, o) {
return [ u(e, t, n, r, o), f(e, t, n, r, o) ];
}
};
e.exports = x;
}, function(e, t, n) {
"use strict";
var r = n(488), o = n(65), a = n(84), i = (n(961), n(953)), s = n(966), l = n(970), u = (n(42), 
l(function(e) {
return s(e);
})), p = !1, c = "cssFloat";
if (o.canUseDOM) {
var f = document.createElement("div").style;
try {
f.font = "";
} catch (d) {
p = !0;
}
void 0 === document.documentElement.style.cssFloat && (c = "styleFloat");
}
var h = {
createMarkupForStyles: function(e) {
var t = "";
for (var n in e) if (e.hasOwnProperty(n)) {
var r = e[n];
null != r && (t += u(n) + ":", t += i(n, r) + ";");
}
return t || null;
},
setValueForStyles: function(e, t) {
var n = e.style;
for (var o in t) if (t.hasOwnProperty(o)) {
var a = i(o, t[o]);
if ("float" === o && (o = c), a) n[o] = a; else {
var s = p && r.shorthandPropertyExpansions[o];
if (s) for (var l in s) n[l] = ""; else n[o] = "";
}
}
}
};
a.measureMethods(h, "CSSPropertyOperations", {
setValueForStyles: "setValueForStyles"
}), e.exports = h;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = e.nodeName && e.nodeName.toLowerCase();
return "select" === t || "input" === t && "file" === e.type;
}
function o(e) {
var t = T.getPooled(A.change, R, e, C(e));
_.accumulateTwoPhaseDispatches(t), w.batchedUpdates(a, t);
}
function a(e) {
v.enqueueEvents(e), v.processEventQueue(!1);
}
function i(e, t) {
k = e, R = t, k.attachEvent("onchange", o);
}
function s() {
k && (k.detachEvent("onchange", o), k = null, R = null);
}
function l(e, t, n) {
return e === O.topChange ? n : void 0;
}
function u(e, t, n) {
e === O.topFocus ? (s(), i(t, n)) : e === O.topBlur && s();
}
function p(e, t) {
k = e, R = t, x = e.value, M = Object.getOwnPropertyDescriptor(e.constructor.prototype, "value"), 
Object.defineProperty(k, "value", D), k.attachEvent("onpropertychange", f);
}
function c() {
k && (delete k.value, k.detachEvent("onpropertychange", f), k = null, R = null, 
x = null, M = null);
}
function f(e) {
if ("value" === e.propertyName) {
var t = e.srcElement.value;
t !== x && (x = t, o(e));
}
}
function d(e, t, n) {
return e === O.topInput ? n : void 0;
}
function h(e, t, n) {
e === O.topFocus ? (c(), p(t, n)) : e === O.topBlur && c();
}
function y(e, t, n) {
return e !== O.topSelectionChange && e !== O.topKeyUp && e !== O.topKeyDown || !k || k.value === x ? void 0 : (x = k.value, 
R);
}
function g(e) {
return e.nodeName && "input" === e.nodeName.toLowerCase() && ("checkbox" === e.type || "radio" === e.type);
}
function m(e, t, n) {
return e === O.topClick ? n : void 0;
}
var b = n(106), v = n(185), _ = n(186), S = n(65), w = n(64), T = n(135), C = n(331), E = n(333), I = n(516), P = n(119), O = b.topLevelTypes, A = {
change: {
phasedRegistrationNames: {
bubbled: P({
onChange: null
}),
captured: P({
onChangeCapture: null
})
},
dependencies: [ O.topBlur, O.topChange, O.topClick, O.topFocus, O.topInput, O.topKeyDown, O.topKeyUp, O.topSelectionChange ]
}
}, k = null, R = null, x = null, M = null, N = !1;
S.canUseDOM && (N = E("change") && (!("documentMode" in document) || document.documentMode > 8));
var $ = !1;
S.canUseDOM && ($ = E("input") && (!("documentMode" in document) || document.documentMode > 9));
var D = {
get: function() {
return M.get.call(this);
},
set: function(e) {
x = "" + e, M.set.call(this, e);
}
}, U = {
eventTypes: A,
extractEvents: function(e, t, n, o, a) {
var i, s;
if (r(t) ? N ? i = l : s = u : I(t) ? $ ? i = d : (i = y, s = h) : g(t) && (i = m), 
i) {
var p = i(e, t, n);
if (p) {
var c = T.getPooled(A.change, p, o, a);
return c.type = "change", _.accumulateTwoPhaseDispatches(c), c;
}
}
s && s(e, t, n);
}
};
e.exports = U;
}, function(e, t) {
"use strict";
var n = 0, r = {
createReactRootIndex: function() {
return n++;
}
};
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
return e.substring(1, e.indexOf(" "));
}
var o = n(65), a = n(963), i = n(85), s = n(521), l = n(29), u = /^(<[^ \/>]+)/, p = "data-danger-index", c = {
dangerouslyRenderMarkup: function(e) {
o.canUseDOM ? void 0 : l(!1);
for (var t, n = {}, c = 0; c < e.length; c++) e[c] ? void 0 : l(!1), t = r(e[c]), 
t = s(t) ? t : "*", n[t] = n[t] || [], n[t][c] = e[c];
var f = [], d = 0;
for (t in n) if (n.hasOwnProperty(t)) {
var h, y = n[t];
for (h in y) if (y.hasOwnProperty(h)) {
var g = y[h];
y[h] = g.replace(u, "$1 " + p + '="' + h + '" ');
}
for (var m = a(y.join(""), i), b = 0; b < m.length; ++b) {
var v = m[b];
v.hasAttribute && v.hasAttribute(p) && (h = +v.getAttribute(p), v.removeAttribute(p), 
f.hasOwnProperty(h) ? l(!1) : void 0, f[h] = v, d += 1);
}
}
return d !== f.length ? l(!1) : void 0, f.length !== e.length ? l(!1) : void 0, 
f;
},
dangerouslyReplaceNodeWithMarkup: function(e, t) {
o.canUseDOM ? void 0 : l(!1), t ? void 0 : l(!1), "html" === e.tagName.toLowerCase() ? l(!1) : void 0;
var n;
n = "string" == typeof t ? a(t, i)[0] : t, e.parentNode.replaceChild(n, e);
}
};
e.exports = c;
}, function(e, t, n) {
"use strict";
var r = n(119), o = [ r({
ResponderEventPlugin: null
}), r({
SimpleEventPlugin: null
}), r({
TapEventPlugin: null
}), r({
EnterLeaveEventPlugin: null
}), r({
ChangeEventPlugin: null
}), r({
SelectEventPlugin: null
}), r({
BeforeInputEventPlugin: null
}) ];
e.exports = o;
}, function(e, t, n) {
"use strict";
var r = n(106), o = n(186), a = n(232), i = n(72), s = n(119), l = r.topLevelTypes, u = i.getFirstReactDOM, p = {
mouseEnter: {
registrationName: s({
onMouseEnter: null
}),
dependencies: [ l.topMouseOut, l.topMouseOver ]
},
mouseLeave: {
registrationName: s({
onMouseLeave: null
}),
dependencies: [ l.topMouseOut, l.topMouseOver ]
}
}, c = [ null, null ], f = {
eventTypes: p,
extractEvents: function(e, t, n, r, s) {
if (e === l.topMouseOver && (r.relatedTarget || r.fromElement)) return null;
if (e !== l.topMouseOut && e !== l.topMouseOver) return null;
var f;
if (t.window === t) f = t; else {
var d = t.ownerDocument;
f = d ? d.defaultView || d.parentWindow : window;
}
var h, y, g = "", m = "";
if (e === l.topMouseOut ? (h = t, g = n, y = u(r.relatedTarget || r.toElement), 
y ? m = i.getID(y) : y = f, y = y || f) : (h = f, y = t, m = n), h === y) return null;
var b = a.getPooled(p.mouseLeave, g, r, s);
b.type = "mouseleave", b.target = h, b.relatedTarget = y;
var v = a.getPooled(p.mouseEnter, m, r, s);
return v.type = "mouseenter", v.target = y, v.relatedTarget = h, o.accumulateEnterLeaveDispatches(b, v, g, m), 
c[0] = b, c[1] = v, c;
}
};
e.exports = f;
}, function(e, t, n) {
"use strict";
function r(e) {
return e === g.topMouseUp || e === g.topTouchEnd || e === g.topTouchCancel;
}
function o(e) {
return e === g.topMouseMove || e === g.topTouchMove;
}
function a(e) {
return e === g.topMouseDown || e === g.topTouchStart;
}
function i(e, t, n, r) {
var o = e.type || "unknown-event";
e.currentTarget = y.Mount.getNode(r), t ? d.invokeGuardedCallbackWithCatch(o, n, e, r) : d.invokeGuardedCallback(o, n, e, r), 
e.currentTarget = null;
}
function s(e, t) {
var n = e._dispatchListeners, r = e._dispatchIDs;
if (Array.isArray(n)) for (var o = 0; o < n.length && !e.isPropagationStopped(); o++) i(e, t, n[o], r[o]); else n && i(e, t, n, r);
e._dispatchListeners = null, e._dispatchIDs = null;
}
function l(e) {
var t = e._dispatchListeners, n = e._dispatchIDs;
if (Array.isArray(t)) {
for (var r = 0; r < t.length && !e.isPropagationStopped(); r++) if (t[r](e, n[r])) return n[r];
} else if (t && t(e, n)) return n;
return null;
}
function u(e) {
var t = l(e);
return e._dispatchIDs = null, e._dispatchListeners = null, t;
}
function p(e) {
var t = e._dispatchListeners, n = e._dispatchIDs;
Array.isArray(t) ? h(!1) : void 0;
var r = t ? t(e, n) : null;
return e._dispatchListeners = null, e._dispatchIDs = null, r;
}
function c(e) {
return !!e._dispatchListeners;
}
var f = n(106), d = n(504), h = n(29), y = (n(42), {
Mount: null,
injectMount: function(e) {
y.Mount = e;
}
}), g = f.topLevelTypes, m = {
isEndish: r,
isMoveish: o,
isStartish: a,
executeDirectDispatch: p,
executeDispatchesInOrder: s,
executeDispatchesInOrderStopAtTrue: u,
hasDispatches: c,
getNode: function(e) {
return y.Mount.getNode(e);
},
getID: function(e) {
return y.Mount.getID(e);
},
injection: y
};
e.exports = m;
}, function(e, t, n) {
"use strict";
function r(e) {
this._root = e, this._startText = this.getText(), this._fallbackText = null;
}
var o = n(107), a = n(37), i = n(515);
a(r.prototype, {
destructor: function() {
this._root = null, this._startText = null, this._fallbackText = null;
},
getText: function() {
return "value" in this._root ? this._root.value : this._root[i()];
},
getData: function() {
if (this._fallbackText) return this._fallbackText;
var e, t, n = this._startText, r = n.length, o = this.getText(), a = o.length;
for (e = 0; r > e && n[e] === o[e]; e++) ;
var i = r - e;
for (t = 1; i >= t && n[r - t] === o[a - t]; t++) ;
var s = t > 1 ? 1 - t : void 0;
return this._fallbackText = o.slice(e, s), this._fallbackText;
}
}), o.addPoolingTo(r), e.exports = r;
}, function(e, t, n) {
"use strict";
var r, o = n(153), a = n(65), i = o.injection.MUST_USE_ATTRIBUTE, s = o.injection.MUST_USE_PROPERTY, l = o.injection.HAS_BOOLEAN_VALUE, u = o.injection.HAS_SIDE_EFFECTS, p = o.injection.HAS_NUMERIC_VALUE, c = o.injection.HAS_POSITIVE_NUMERIC_VALUE, f = o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;
if (a.canUseDOM) {
var d = document.implementation;
r = d && d.hasFeature && d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1");
}
var h = {
isCustomAttribute: RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),
Properties: {
accept: null,
acceptCharset: null,
accessKey: null,
action: null,
allowFullScreen: i | l,
allowTransparency: i,
alt: null,
async: l,
autoComplete: null,
autoPlay: l,
capture: i | l,
cellPadding: null,
cellSpacing: null,
charSet: i,
challenge: i,
checked: s | l,
classID: i,
className: r ? i : s,
cols: i | c,
colSpan: null,
content: null,
contentEditable: null,
contextMenu: i,
controls: s | l,
coords: null,
crossOrigin: null,
data: null,
dateTime: i,
"default": l,
defer: l,
dir: null,
disabled: i | l,
download: f,
draggable: null,
encType: null,
form: i,
formAction: i,
formEncType: i,
formMethod: i,
formNoValidate: l,
formTarget: i,
frameBorder: i,
headers: null,
height: i,
hidden: i | l,
high: null,
href: null,
hrefLang: null,
htmlFor: null,
httpEquiv: null,
icon: null,
id: s,
inputMode: i,
integrity: null,
is: i,
keyParams: i,
keyType: i,
kind: null,
label: null,
lang: null,
list: i,
loop: s | l,
low: null,
manifest: i,
marginHeight: null,
marginWidth: null,
max: null,
maxLength: i,
media: i,
mediaGroup: null,
method: null,
min: null,
minLength: i,
multiple: s | l,
muted: s | l,
name: null,
nonce: i,
noValidate: l,
open: l,
optimum: null,
pattern: null,
placeholder: null,
poster: null,
preload: null,
radioGroup: null,
readOnly: s | l,
rel: null,
required: l,
reversed: l,
role: i,
rows: i | c,
rowSpan: null,
sandbox: null,
scope: null,
scoped: l,
scrolling: null,
seamless: i | l,
selected: s | l,
shape: null,
size: i | c,
sizes: i,
span: c,
spellCheck: null,
src: null,
srcDoc: s,
srcLang: null,
srcSet: i,
start: p,
step: null,
style: null,
summary: null,
tabIndex: null,
target: null,
title: null,
type: null,
useMap: null,
value: s | u,
width: i,
wmode: i,
wrap: null,
about: i,
datatype: i,
inlist: i,
prefix: i,
property: i,
resource: i,
"typeof": i,
vocab: i,
autoCapitalize: null,
autoCorrect: null,
autoSave: null,
color: null,
itemProp: i,
itemScope: i | l,
itemType: i,
itemID: i,
itemRef: i,
results: null,
security: i,
unselectable: i
},
DOMAttributeNames: {
acceptCharset: "accept-charset",
className: "class",
htmlFor: "for",
httpEquiv: "http-equiv"
},
DOMPropertyNames: {
autoCapitalize: "autocapitalize",
autoComplete: "autocomplete",
autoCorrect: "autocorrect",
autoFocus: "autofocus",
autoPlay: "autoplay",
autoSave: "autosave",
encType: "encoding",
hrefLang: "hreflang",
radioGroup: "radiogroup",
spellCheck: "spellcheck",
srcDoc: "srcdoc",
srcSet: "srcset"
}
};
e.exports = h;
}, function(e, t, n) {
"use strict";
var r = (n(188), n(327)), o = (n(42), "_getDOMNodeDidWarn"), a = {
getDOMNode: function() {
return this.constructor[o] = !0, r(this);
}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = e._currentElement._owner || null;
if (t) {
var n = t.getName();
if (n) return " Check the render method of `" + n + "`.";
}
return "";
}
function o(e) {}
var a = n(187), i = n(93), s = n(71), l = n(188), u = n(84), p = n(231), c = (n(230), 
n(118)), f = n(325), d = n(37), h = n(191), y = n(29), g = n(335);
n(42);
o.prototype.render = function() {
var e = l.get(this)._currentElement.type;
return e(this.props, this.context, this.updater);
};
var m = 1, b = {
construct: function(e) {
this._currentElement = e, this._rootNodeID = null, this._instance = null, this._pendingElement = null, 
this._pendingStateQueue = null, this._pendingReplaceState = !1, this._pendingForceUpdate = !1, 
this._renderedComponent = null, this._context = null, this._mountOrder = 0, this._topLevelWrapper = null, 
this._pendingCallbacks = null;
},
mountComponent: function(e, t, n) {
this._context = n, this._mountOrder = m++, this._rootNodeID = e;
var r, a, i = this._processProps(this._currentElement.props), u = this._processContext(n), p = this._currentElement.type, d = "prototype" in p;
d && (r = new p(i, u, f)), (!d || null === r || r === !1 || s.isValidElement(r)) && (a = r, 
r = new o(p)), r.props = i, r.context = u, r.refs = h, r.updater = f, this._instance = r, 
l.set(r, this);
var g = r.state;
void 0 === g && (r.state = g = null), "object" != typeof g || Array.isArray(g) ? y(!1) : void 0, 
this._pendingStateQueue = null, this._pendingReplaceState = !1, this._pendingForceUpdate = !1, 
r.componentWillMount && (r.componentWillMount(), this._pendingStateQueue && (r.state = this._processPendingState(r.props, r.context))), 
void 0 === a && (a = this._renderValidatedComponent()), this._renderedComponent = this._instantiateReactComponent(a);
var b = c.mountComponent(this._renderedComponent, e, t, this._processChildContext(n));
return r.componentDidMount && t.getReactMountReady().enqueue(r.componentDidMount, r), 
b;
},
unmountComponent: function() {
var e = this._instance;
e.componentWillUnmount && e.componentWillUnmount(), c.unmountComponent(this._renderedComponent), 
this._renderedComponent = null, this._instance = null, this._pendingStateQueue = null, 
this._pendingReplaceState = !1, this._pendingForceUpdate = !1, this._pendingCallbacks = null, 
this._pendingElement = null, this._context = null, this._rootNodeID = null, this._topLevelWrapper = null, 
l.remove(e);
},
_maskContext: function(e) {
var t = null, n = this._currentElement.type, r = n.contextTypes;
if (!r) return h;
t = {};
for (var o in r) t[o] = e[o];
return t;
},
_processContext: function(e) {
var t = this._maskContext(e);
return t;
},
_processChildContext: function(e) {
var t = this._currentElement.type, n = this._instance, r = n.getChildContext && n.getChildContext();
if (r) {
"object" != typeof t.childContextTypes ? y(!1) : void 0;
for (var o in r) o in t.childContextTypes ? void 0 : y(!1);
return d({}, e, r);
}
return e;
},
_processProps: function(e) {
return e;
},
_checkPropTypes: function(e, t, n) {
var o = this.getName();
for (var a in e) if (e.hasOwnProperty(a)) {
var i;
try {
"function" != typeof e[a] ? y(!1) : void 0, i = e[a](t, a, o, n);
} catch (s) {
i = s;
}
if (i instanceof Error) {
r(this);
n === p.prop;
}
}
},
receiveComponent: function(e, t, n) {
var r = this._currentElement, o = this._context;
this._pendingElement = null, this.updateComponent(t, r, e, o, n);
},
performUpdateIfNecessary: function(e) {
null != this._pendingElement && c.receiveComponent(this, this._pendingElement || this._currentElement, e, this._context), 
(null !== this._pendingStateQueue || this._pendingForceUpdate) && this.updateComponent(e, this._currentElement, this._currentElement, this._context, this._context);
},
updateComponent: function(e, t, n, r, o) {
var a, i = this._instance, s = this._context === o ? i.context : this._processContext(o);
t === n ? a = n.props : (a = this._processProps(n.props), i.componentWillReceiveProps && i.componentWillReceiveProps(a, s));
var l = this._processPendingState(a, s), u = this._pendingForceUpdate || !i.shouldComponentUpdate || i.shouldComponentUpdate(a, l, s);
u ? (this._pendingForceUpdate = !1, this._performComponentUpdate(n, a, l, s, e, o)) : (this._currentElement = n, 
this._context = o, i.props = a, i.state = l, i.context = s);
},
_processPendingState: function(e, t) {
var n = this._instance, r = this._pendingStateQueue, o = this._pendingReplaceState;
if (this._pendingReplaceState = !1, this._pendingStateQueue = null, !r) return n.state;
if (o && 1 === r.length) return r[0];
for (var a = d({}, o ? r[0] : n.state), i = o ? 1 : 0; i < r.length; i++) {
var s = r[i];
d(a, "function" == typeof s ? s.call(n, a, e, t) : s);
}
return a;
},
_performComponentUpdate: function(e, t, n, r, o, a) {
var i, s, l, u = this._instance, p = Boolean(u.componentDidUpdate);
p && (i = u.props, s = u.state, l = u.context), u.componentWillUpdate && u.componentWillUpdate(t, n, r), 
this._currentElement = e, this._context = a, u.props = t, u.state = n, u.context = r, 
this._updateRenderedComponent(o, a), p && o.getReactMountReady().enqueue(u.componentDidUpdate.bind(u, i, s, l), u);
},
_updateRenderedComponent: function(e, t) {
var n = this._renderedComponent, r = n._currentElement, o = this._renderValidatedComponent();
if (g(r, o)) c.receiveComponent(n, o, e, this._processChildContext(t)); else {
var a = this._rootNodeID, i = n._rootNodeID;
c.unmountComponent(n), this._renderedComponent = this._instantiateReactComponent(o);
var s = c.mountComponent(this._renderedComponent, a, e, this._processChildContext(t));
this._replaceNodeWithMarkupByID(i, s);
}
},
_replaceNodeWithMarkupByID: function(e, t) {
a.replaceNodeWithMarkupByID(e, t);
},
_renderValidatedComponentWithoutOwnerOrContext: function() {
var e = this._instance, t = e.render();
return t;
},
_renderValidatedComponent: function() {
var e;
i.current = this;
try {
e = this._renderValidatedComponentWithoutOwnerOrContext();
} finally {
i.current = null;
}
return null === e || e === !1 || s.isValidElement(e) ? void 0 : y(!1), e;
},
attachRef: function(e, t) {
var n = this.getPublicInstance();
null == n ? y(!1) : void 0;
var r = t.getPublicInstance(), o = n.refs === h ? n.refs = {} : n.refs;
o[e] = r;
},
detachRef: function(e) {
var t = this.getPublicInstance().refs;
delete t[e];
},
getName: function() {
var e = this._currentElement.type, t = this._instance && this._instance.constructor;
return e.displayName || t && t.displayName || e.name || t && t.name || null;
},
getPublicInstance: function() {
var e = this._instance;
return e instanceof o ? null : e;
},
_instantiateReactComponent: null
};
u.measureMethods(b, "ReactCompositeComponent", {
mountComponent: "mountComponent",
updateComponent: "updateComponent",
_renderValidatedComponent: "_renderValidatedComponent"
});
var v = {
Mixin: b
};
e.exports = v;
}, function(e, t) {
"use strict";
var n = {
onClick: !0,
onDoubleClick: !0,
onMouseDown: !0,
onMouseMove: !0,
onMouseUp: !0,
onClickCapture: !0,
onDoubleClickCapture: !0,
onMouseDownCapture: !0,
onMouseMoveCapture: !0,
onMouseUpCapture: !0
}, r = {
getNativeProps: function(e, t, r) {
if (!t.disabled) return t;
var o = {};
for (var a in t) t.hasOwnProperty(a) && !n[a] && (o[a] = t[a]);
return o;
}
};
e.exports = r;
}, function(e, t, n) {
"use strict";
function r() {
return this;
}
function o() {
var e = this._reactInternalComponent;
return !!e;
}
function a() {
}
function i(e, t) {
var n = this._reactInternalComponent;
n && (x.enqueueSetPropsInternal(n, e), t && x.enqueueCallbackInternal(n, t));
}
function s(e, t) {
var n = this._reactInternalComponent;
n && (x.enqueueReplacePropsInternal(n, e), t && x.enqueueCallbackInternal(n, t));
}
function l(e, t) {
t && (null != t.dangerouslySetInnerHTML && (null != t.children ? D(!1) : void 0, 
"object" == typeof t.dangerouslySetInnerHTML && W in t.dangerouslySetInnerHTML ? void 0 : D(!1)), 
null != t.style && "object" != typeof t.style ? D(!1) : void 0);
}
function u(e, t, n, r) {
var o = A.findReactContainerForID(e);
if (o) {
var a = o.nodeType === q ? o.ownerDocument : o;
j(t, a);
}
r.getReactMountReady().enqueue(p, {
id: e,
registrationName: t,
listener: n
});
}
function p() {
var e = this;
w.putListener(e.id, e.registrationName, e.listener);
}
function c() {
var e = this;
e._rootNodeID ? void 0 : D(!1);
var t = A.getNode(e._rootNodeID);
switch (t ? void 0 : D(!1), e._tag) {
case "iframe":
e._wrapperState.listeners = [ w.trapBubbledEvent(S.topLevelTypes.topLoad, "load", t) ];
break;

case "video":
case "audio":
e._wrapperState.listeners = [];
for (var n in K) K.hasOwnProperty(n) && e._wrapperState.listeners.push(w.trapBubbledEvent(S.topLevelTypes[n], K[n], t));
break;

case "img":
e._wrapperState.listeners = [ w.trapBubbledEvent(S.topLevelTypes.topError, "error", t), w.trapBubbledEvent(S.topLevelTypes.topLoad, "load", t) ];
break;

case "form":
e._wrapperState.listeners = [ w.trapBubbledEvent(S.topLevelTypes.topReset, "reset", t), w.trapBubbledEvent(S.topLevelTypes.topSubmit, "submit", t) ];
}
}
function f() {
E.mountReadyWrapper(this);
}
function d() {
P.postUpdateWrapper(this);
}
function h(e) {
Z.call(Q, e) || (J.test(e) ? void 0 : D(!1), Q[e] = !0);
}
function y(e, t) {
return e.indexOf("-") >= 0 || null != t.is;
}
function g(e) {
h(e), this._tag = e.toLowerCase(), this._renderedChildren = null, this._previousStyle = null, 
this._previousStyleCopy = null, this._rootNodeID = null, this._wrapperState = null, 
this._topLevelWrapper = null, this._nodeWithLegacyProperties = null;
}
var m = n(907), b = n(909), v = n(153), _ = n(319), S = n(106), w = n(229), T = n(322), C = n(920), E = n(923), I = n(924), P = n(497), O = n(927), A = n(72), k = n(931), R = n(84), x = n(325), M = n(37), N = n(233), $ = n(234), D = n(29), U = (n(333), 
n(119)), L = n(236), F = n(334), G = (n(522), n(337), n(42), w.deleteListener), j = w.listenTo, B = w.registrationNameModules, H = {
string: !0,
number: !0
}, V = U({
children: null
}), z = U({
style: null
}), W = U({
__html: null
}), q = 1, K = {
topAbort: "abort",
topCanPlay: "canplay",
topCanPlayThrough: "canplaythrough",
topDurationChange: "durationchange",
topEmptied: "emptied",
topEncrypted: "encrypted",
topEnded: "ended",
topError: "error",
topLoadedData: "loadeddata",
topLoadedMetadata: "loadedmetadata",
topLoadStart: "loadstart",
topPause: "pause",
topPlay: "play",
topPlaying: "playing",
topProgress: "progress",
topRateChange: "ratechange",
topSeeked: "seeked",
topSeeking: "seeking",
topStalled: "stalled",
topSuspend: "suspend",
topTimeUpdate: "timeupdate",
topVolumeChange: "volumechange",
topWaiting: "waiting"
}, X = {
area: !0,
base: !0,
br: !0,
col: !0,
embed: !0,
hr: !0,
img: !0,
input: !0,
keygen: !0,
link: !0,
meta: !0,
param: !0,
source: !0,
track: !0,
wbr: !0
}, Y = {
listing: !0,
pre: !0,
textarea: !0
}, J = (M({
menuitem: !0
}, X), /^[a-zA-Z][a-zA-Z:_\.\-\d]*$/), Q = {}, Z = {}.hasOwnProperty;
g.displayName = "ReactDOMComponent", g.Mixin = {
construct: function(e) {
this._currentElement = e;
},
mountComponent: function(e, t, n) {
this._rootNodeID = e;
var r = this._currentElement.props;
switch (this._tag) {
case "iframe":
case "img":
case "form":
case "video":
case "audio":
this._wrapperState = {
listeners: null
}, t.getReactMountReady().enqueue(c, this);
break;

case "button":
r = C.getNativeProps(this, r, n);
break;

case "input":
E.mountWrapper(this, r, n), r = E.getNativeProps(this, r, n);
break;

case "option":
I.mountWrapper(this, r, n), r = I.getNativeProps(this, r, n);
break;

case "select":
P.mountWrapper(this, r, n), r = P.getNativeProps(this, r, n), n = P.processChildContext(this, r, n);
break;

case "textarea":
O.mountWrapper(this, r, n), r = O.getNativeProps(this, r, n);
}
l(this, r);
var o;
if (t.useCreateElement) {
var a = n[A.ownerDocumentContextKey], i = a.createElement(this._currentElement.type);
_.setAttributeForID(i, this._rootNodeID), A.getID(i), this._updateDOMProperties({}, r, t, i), 
this._createInitialChildren(t, r, n, i), o = i;
} else {
var s = this._createOpenTagMarkupAndPutListeners(t, r), u = this._createContentMarkup(t, r, n);
o = !u && X[this._tag] ? s + "/>" : s + ">" + u + "</" + this._currentElement.type + ">";
}
switch (this._tag) {
case "input":
t.getReactMountReady().enqueue(f, this);

case "button":
case "select":
case "textarea":
r.autoFocus && t.getReactMountReady().enqueue(m.focusDOMComponent, this);
}
return o;
},
_createOpenTagMarkupAndPutListeners: function(e, t) {
var n = "<" + this._currentElement.type;
for (var r in t) if (t.hasOwnProperty(r)) {
var o = t[r];
if (null != o) if (B.hasOwnProperty(r)) o && u(this._rootNodeID, r, o, e); else {
r === z && (o && (o = this._previousStyleCopy = M({}, t.style)), o = b.createMarkupForStyles(o));
var a = null;
null != this._tag && y(this._tag, t) ? r !== V && (a = _.createMarkupForCustomAttribute(r, o)) : a = _.createMarkupForProperty(r, o), 
a && (n += " " + a);
}
}
if (e.renderToStaticMarkup) return n;
var i = _.createMarkupForID(this._rootNodeID);
return n + " " + i;
},
_createContentMarkup: function(e, t, n) {
var r = "", o = t.dangerouslySetInnerHTML;
if (null != o) null != o.__html && (r = o.__html); else {
var a = H[typeof t.children] ? t.children : null, i = null != a ? null : t.children;
if (null != a) r = $(a); else if (null != i) {
var s = this.mountChildren(i, e, n);
r = s.join("");
}
}
return Y[this._tag] && "\n" === r.charAt(0) ? "\n" + r : r;
},
_createInitialChildren: function(e, t, n, r) {
var o = t.dangerouslySetInnerHTML;
if (null != o) null != o.__html && L(r, o.__html); else {
var a = H[typeof t.children] ? t.children : null, i = null != a ? null : t.children;
if (null != a) F(r, a); else if (null != i) for (var s = this.mountChildren(i, e, n), l = 0; l < s.length; l++) r.appendChild(s[l]);
}
},
receiveComponent: function(e, t, n) {
var r = this._currentElement;
this._currentElement = e, this.updateComponent(t, r, e, n);
},
updateComponent: function(e, t, n, r) {
var o = t.props, a = this._currentElement.props;
switch (this._tag) {
case "button":
o = C.getNativeProps(this, o), a = C.getNativeProps(this, a);
break;

case "input":
E.updateWrapper(this), o = E.getNativeProps(this, o), a = E.getNativeProps(this, a);
break;

case "option":
o = I.getNativeProps(this, o), a = I.getNativeProps(this, a);
break;

case "select":
o = P.getNativeProps(this, o), a = P.getNativeProps(this, a);
break;

case "textarea":
O.updateWrapper(this), o = O.getNativeProps(this, o), a = O.getNativeProps(this, a);
}
l(this, a), this._updateDOMProperties(o, a, e, null), this._updateDOMChildren(o, a, e, r), 
!N && this._nodeWithLegacyProperties && (this._nodeWithLegacyProperties.props = a), 
"select" === this._tag && e.getReactMountReady().enqueue(d, this);
},
_updateDOMProperties: function(e, t, n, r) {
var o, a, i;
for (o in e) if (!t.hasOwnProperty(o) && e.hasOwnProperty(o)) if (o === z) {
var s = this._previousStyleCopy;
for (a in s) s.hasOwnProperty(a) && (i = i || {}, i[a] = "");
this._previousStyleCopy = null;
} else B.hasOwnProperty(o) ? e[o] && G(this._rootNodeID, o) : (v.properties[o] || v.isCustomAttribute(o)) && (r || (r = A.getNode(this._rootNodeID)), 
_.deleteValueForProperty(r, o));
for (o in t) {
var l = t[o], p = o === z ? this._previousStyleCopy : e[o];
if (t.hasOwnProperty(o) && l !== p) if (o === z) if (l ? l = this._previousStyleCopy = M({}, l) : this._previousStyleCopy = null, 
p) {
for (a in p) !p.hasOwnProperty(a) || l && l.hasOwnProperty(a) || (i = i || {}, i[a] = "");
for (a in l) l.hasOwnProperty(a) && p[a] !== l[a] && (i = i || {}, i[a] = l[a]);
} else i = l; else B.hasOwnProperty(o) ? l ? u(this._rootNodeID, o, l, n) : p && G(this._rootNodeID, o) : y(this._tag, t) ? (r || (r = A.getNode(this._rootNodeID)), 
o === V && (l = null), _.setValueForAttribute(r, o, l)) : (v.properties[o] || v.isCustomAttribute(o)) && (r || (r = A.getNode(this._rootNodeID)), 
null != l ? _.setValueForProperty(r, o, l) : _.deleteValueForProperty(r, o));
}
i && (r || (r = A.getNode(this._rootNodeID)), b.setValueForStyles(r, i));
},
_updateDOMChildren: function(e, t, n, r) {
var o = H[typeof e.children] ? e.children : null, a = H[typeof t.children] ? t.children : null, i = e.dangerouslySetInnerHTML && e.dangerouslySetInnerHTML.__html, s = t.dangerouslySetInnerHTML && t.dangerouslySetInnerHTML.__html, l = null != o ? null : e.children, u = null != a ? null : t.children, p = null != o || null != i, c = null != a || null != s;
null != l && null == u ? this.updateChildren(null, n, r) : p && !c && this.updateTextContent(""), 
null != a ? o !== a && this.updateTextContent("" + a) : null != s ? i !== s && this.updateMarkup("" + s) : null != u && this.updateChildren(u, n, r);
},
unmountComponent: function() {
switch (this._tag) {
case "iframe":
case "img":
case "form":
case "video":
case "audio":
var e = this._wrapperState.listeners;
if (e) for (var t = 0; t < e.length; t++) e[t].remove();
break;

case "input":
E.unmountWrapper(this);
break;

case "html":
case "head":
case "body":
D(!1);
}
if (this.unmountChildren(), w.deleteAllListeners(this._rootNodeID), T.unmountIDFromEnvironment(this._rootNodeID), 
this._rootNodeID = null, this._wrapperState = null, this._nodeWithLegacyProperties) {
var n = this._nodeWithLegacyProperties;
n._reactInternalComponent = null, this._nodeWithLegacyProperties = null;
}
},
getPublicInstance: function() {
if (!this._nodeWithLegacyProperties) {
var e = A.getNode(this._rootNodeID);
e._reactInternalComponent = this, e.getDOMNode = r, e.isMounted = o, e.setState = a, 
e.replaceState = a, e.forceUpdate = a, e.setProps = i, e.replaceProps = s, e.props = this._currentElement.props, 
this._nodeWithLegacyProperties = e;
}
return this._nodeWithLegacyProperties;
}
}, R.measureMethods(g, "ReactDOMComponent", {
mountComponent: "mountComponent",
updateComponent: "updateComponent"
}), M(g.prototype, g.Mixin, k.Mixin), e.exports = g;
}, function(e, t, n) {
"use strict";
function r(e) {
return o.createFactory(e);
}
var o = n(71), a = (n(501), n(969)), i = a({
a: "a",
abbr: "abbr",
address: "address",
area: "area",
article: "article",
aside: "aside",
audio: "audio",
b: "b",
base: "base",
bdi: "bdi",
bdo: "bdo",
big: "big",
blockquote: "blockquote",
body: "body",
br: "br",
button: "button",
canvas: "canvas",
caption: "caption",
cite: "cite",
code: "code",
col: "col",
colgroup: "colgroup",
data: "data",
datalist: "datalist",
dd: "dd",
del: "del",
details: "details",
dfn: "dfn",
dialog: "dialog",
div: "div",
dl: "dl",
dt: "dt",
em: "em",
embed: "embed",
fieldset: "fieldset",
figcaption: "figcaption",
figure: "figure",
footer: "footer",
form: "form",
h1: "h1",
h2: "h2",
h3: "h3",
h4: "h4",
h5: "h5",
h6: "h6",
head: "head",
header: "header",
hgroup: "hgroup",
hr: "hr",
html: "html",
i: "i",
iframe: "iframe",
img: "img",
input: "input",
ins: "ins",
kbd: "kbd",
keygen: "keygen",
label: "label",
legend: "legend",
li: "li",
link: "link",
main: "main",
map: "map",
mark: "mark",
menu: "menu",
menuitem: "menuitem",
meta: "meta",
meter: "meter",
nav: "nav",
noscript: "noscript",
object: "object",
ol: "ol",
optgroup: "optgroup",
option: "option",
output: "output",
p: "p",
param: "param",
picture: "picture",
pre: "pre",
progress: "progress",
q: "q",
rp: "rp",
rt: "rt",
ruby: "ruby",
s: "s",
samp: "samp",
script: "script",
section: "section",
select: "select",
small: "small",
source: "source",
span: "span",
strong: "strong",
style: "style",
sub: "sub",
summary: "summary",
sup: "sup",
table: "table",
tbody: "tbody",
td: "td",
textarea: "textarea",
tfoot: "tfoot",
th: "th",
thead: "thead",
time: "time",
title: "title",
tr: "tr",
track: "track",
u: "u",
ul: "ul",
"var": "var",
video: "video",
wbr: "wbr",
circle: "circle",
clipPath: "clipPath",
defs: "defs",
ellipse: "ellipse",
g: "g",
image: "image",
line: "line",
linearGradient: "linearGradient",
mask: "mask",
path: "path",
pattern: "pattern",
polygon: "polygon",
polyline: "polyline",
radialGradient: "radialGradient",
rect: "rect",
stop: "stop",
svg: "svg",
text: "text",
tspan: "tspan"
}, r);
e.exports = i;
}, function(e, t, n) {
"use strict";
function r() {
this._rootNodeID && f.updateWrapper(this);
}
function o(e) {
var t = this._currentElement.props, n = i.executeOnChange(t, e);
l.asap(r, this);
var o = t.name;
if ("radio" === t.type && null != o) {
for (var a = s.getNode(this._rootNodeID), u = a; u.parentNode; ) u = u.parentNode;
for (var f = u.querySelectorAll("input[name=" + JSON.stringify("" + o) + '][type="radio"]'), d = 0; d < f.length; d++) {
var h = f[d];
if (h !== a && h.form === a.form) {
var y = s.getID(h);
y ? void 0 : p(!1);
var g = c[y];
g ? void 0 : p(!1), l.asap(r, g);
}
}
}
return n;
}
var a = n(323), i = n(320), s = n(72), l = n(64), u = n(37), p = n(29), c = {}, f = {
getNativeProps: function(e, t, n) {
var r = i.getValue(t), o = i.getChecked(t), a = u({}, t, {
defaultChecked: void 0,
defaultValue: void 0,
value: null != r ? r : e._wrapperState.initialValue,
checked: null != o ? o : e._wrapperState.initialChecked,
onChange: e._wrapperState.onChange
});
return a;
},
mountWrapper: function(e, t) {
var n = t.defaultValue;
e._wrapperState = {
initialChecked: t.defaultChecked || !1,
initialValue: null != n ? n : null,
onChange: o.bind(e)
};
},
mountReadyWrapper: function(e) {
c[e._rootNodeID] = e;
},
unmountWrapper: function(e) {
delete c[e._rootNodeID];
},
updateWrapper: function(e) {
var t = e._currentElement.props, n = t.checked;
null != n && a.updatePropertyByID(e._rootNodeID, "checked", n || !1);
var r = i.getValue(t);
null != r && a.updatePropertyByID(e._rootNodeID, "value", "" + r);
}
};
e.exports = f;
}, function(e, t, n) {
"use strict";
var r = n(493), o = n(497), a = n(37), i = (n(42), o.valueContextKey), s = {
mountWrapper: function(e, t, n) {
var r = n[i], o = null;
if (null != r) if (o = !1, Array.isArray(r)) {
for (var a = 0; a < r.length; a++) if ("" + r[a] == "" + t.value) {
o = !0;
break;
}
} else o = "" + r == "" + t.value;
e._wrapperState = {
selected: o
};
},
getNativeProps: function(e, t, n) {
var o = a({
selected: void 0,
children: void 0
}, t);
null != e._wrapperState.selected && (o.selected = e._wrapperState.selected);
var i = "";
return r.forEach(t.children, function(e) {
null != e && ("string" == typeof e || "number" == typeof e) && (i += e);
}), o.children = i, o;
}
};
e.exports = s;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
return e === n && t === r;
}
function o(e) {
var t = document.selection, n = t.createRange(), r = n.text.length, o = n.duplicate();
o.moveToElementText(e), o.setEndPoint("EndToStart", n);
var a = o.text.length, i = a + r;
return {
start: a,
end: i
};
}
function a(e) {
var t = window.getSelection && window.getSelection();
if (!t || 0 === t.rangeCount) return null;
var n = t.anchorNode, o = t.anchorOffset, a = t.focusNode, i = t.focusOffset, s = t.getRangeAt(0);
try {
s.startContainer.nodeType, s.endContainer.nodeType;
} catch (l) {
return null;
}
var u = r(t.anchorNode, t.anchorOffset, t.focusNode, t.focusOffset), p = u ? 0 : s.toString().length, c = s.cloneRange();
c.selectNodeContents(e), c.setEnd(s.startContainer, s.startOffset);
var f = r(c.startContainer, c.startOffset, c.endContainer, c.endOffset), d = f ? 0 : c.toString().length, h = d + p, y = document.createRange();
y.setStart(n, o), y.setEnd(a, i);
var g = y.collapsed;
return {
start: g ? h : d,
end: g ? d : h
};
}
function i(e, t) {
var n, r, o = document.selection.createRange().duplicate();
"undefined" == typeof t.end ? (n = t.start, r = n) : t.start > t.end ? (n = t.end, 
r = t.start) : (n = t.start, r = t.end), o.moveToElementText(e), o.moveStart("character", n), 
o.setEndPoint("EndToStart", o), o.moveEnd("character", r - n), o.select();
}
function s(e, t) {
if (window.getSelection) {
var n = window.getSelection(), r = e[p()].length, o = Math.min(t.start, r), a = "undefined" == typeof t.end ? o : Math.min(t.end, r);
if (!n.extend && o > a) {
var i = a;
a = o, o = i;
}
var s = u(e, o), l = u(e, a);
if (s && l) {
var c = document.createRange();
c.setStart(s.node, s.offset), n.removeAllRanges(), o > a ? (n.addRange(c), n.extend(l.node, l.offset)) : (c.setEnd(l.node, l.offset), 
n.addRange(c));
}
}
}
var l = n(65), u = n(956), p = n(515), c = l.canUseDOM && "selection" in document && !("getSelection" in window), f = {
getOffsets: c ? o : a,
setOffsets: c ? i : s
};
e.exports = f;
}, function(e, t, n) {
"use strict";
var r = n(500), o = n(936), a = n(326);
r.inject();
var i = {
renderToString: o.renderToString,
renderToStaticMarkup: o.renderToStaticMarkup,
version: a
};
e.exports = i;
}, function(e, t, n) {
"use strict";
function r() {
this._rootNodeID && p.updateWrapper(this);
}
function o(e) {
var t = this._currentElement.props, n = a.executeOnChange(t, e);
return s.asap(r, this), n;
}
var a = n(320), i = n(323), s = n(64), l = n(37), u = n(29), p = (n(42), {
getNativeProps: function(e, t, n) {
null != t.dangerouslySetInnerHTML ? u(!1) : void 0;
var r = l({}, t, {
defaultValue: void 0,
value: void 0,
children: e._wrapperState.initialValue,
onChange: e._wrapperState.onChange
});
return r;
},
mountWrapper: function(e, t) {
var n = t.defaultValue, r = t.children;
null != r && (null != n ? u(!1) : void 0, Array.isArray(r) && (r.length <= 1 ? void 0 : u(!1), 
r = r[0]), n = "" + r), null == n && (n = "");
var i = a.getValue(t);
e._wrapperState = {
initialValue: "" + (null != i ? i : n),
onChange: o.bind(e)
};
},
updateWrapper: function(e) {
var t = e._currentElement.props, n = a.getValue(t);
null != n && i.updatePropertyByID(e._rootNodeID, "value", "" + n);
}
});
e.exports = p;
}, function(e, t, n) {
"use strict";
function r(e) {
o.enqueueEvents(e), o.processEventQueue(!1);
}
var o = n(185), a = {
handleTopLevel: function(e, t, n, a, i) {
var s = o.extractEvents(e, t, n, a, i);
r(s);
}
};
e.exports = a;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = f.getID(e), n = c.getReactRootIDFromNodeID(t), r = f.findReactContainerForID(n), o = f.getFirstReactDOM(r);
return o;
}
function o(e, t) {
this.topLevelType = e, this.nativeEvent = t, this.ancestors = [];
}
function a(e) {
i(e);
}
function i(e) {
for (var t = f.getFirstReactDOM(y(e.nativeEvent)) || window, n = t; n; ) e.ancestors.push(n), 
n = r(n);
for (var o = 0; o < e.ancestors.length; o++) {
t = e.ancestors[o];
var a = f.getID(t) || "";
m._handleTopLevel(e.topLevelType, t, a, e.nativeEvent, y(e.nativeEvent));
}
}
function s(e) {
var t = g(window);
e(t);
}
var l = n(517), u = n(65), p = n(107), c = n(134), f = n(72), d = n(64), h = n(37), y = n(331), g = n(964);
h(o.prototype, {
destructor: function() {
this.topLevelType = null, this.nativeEvent = null, this.ancestors.length = 0;
}
}), p.addPoolingTo(o, p.twoArgumentPooler);
var m = {
_enabled: !0,
_handleTopLevel: null,
WINDOW_HANDLE: u.canUseDOM ? window : null,
setHandleTopLevel: function(e) {
m._handleTopLevel = e;
},
setEnabled: function(e) {
m._enabled = !!e;
},
isEnabled: function() {
return m._enabled;
},
trapBubbledEvent: function(e, t, n) {
var r = n;
return r ? l.listen(r, t, m.dispatchEvent.bind(null, e)) : null;
},
trapCapturedEvent: function(e, t, n) {
var r = n;
return r ? l.capture(r, t, m.dispatchEvent.bind(null, e)) : null;
},
monitorScrollValue: function(e) {
var t = s.bind(null, e);
l.listen(window, "scroll", t);
},
dispatchEvent: function(e, t) {
if (m._enabled) {
var n = o.getPooled(e, t);
try {
d.batchedUpdates(a, n);
} finally {
o.release(n);
}
}
}
};
e.exports = m;
}, function(e, t, n) {
"use strict";
var r = n(493), o = n(321), a = n(494), i = n(922), s = n(71), l = (n(501), n(510)), u = n(326), p = n(37), c = n(957), f = s.createElement, d = s.createFactory, h = s.cloneElement, y = {
Children: {
map: r.map,
forEach: r.forEach,
count: r.count,
toArray: r.toArray,
only: c
},
Component: o,
createElement: f,
cloneElement: h,
isValidElement: s.isValidElement,
PropTypes: l,
createClass: a.createClass,
createFactory: d,
createMixin: function(e) {
return e;
},
DOM: i,
version: u,
__spread: p
};
e.exports = y;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
g.push({
parentID: e,
parentNode: null,
type: c.INSERT_MARKUP,
markupIndex: m.push(t) - 1,
content: null,
fromIndex: null,
toIndex: n
});
}
function o(e, t, n) {
g.push({
parentID: e,
parentNode: null,
type: c.MOVE_EXISTING,
markupIndex: null,
content: null,
fromIndex: t,
toIndex: n
});
}
function a(e, t) {
g.push({
parentID: e,
parentNode: null,
type: c.REMOVE_NODE,
markupIndex: null,
content: null,
fromIndex: t,
toIndex: null
});
}
function i(e, t) {
g.push({
parentID: e,
parentNode: null,
type: c.SET_MARKUP,
markupIndex: null,
content: t,
fromIndex: null,
toIndex: null
});
}
function s(e, t) {
g.push({
parentID: e,
parentNode: null,
type: c.TEXT_CONTENT,
markupIndex: null,
content: t,
fromIndex: null,
toIndex: null
});
}
function l() {
g.length && (p.processChildrenUpdates(g, m), u());
}
function u() {
g.length = 0, m.length = 0;
}
var p = n(187), c = n(324), f = (n(93), n(118)), d = n(492), h = n(328), y = 0, g = [], m = [], b = {
Mixin: {
_reconcilerInstantiateChildren: function(e, t, n) {
return d.instantiateChildren(e, t, n);
},
_reconcilerUpdateChildren: function(e, t, n, r) {
var o;
return o = h(t), d.updateChildren(e, o, n, r);
},
mountChildren: function(e, t, n) {
var r = this._reconcilerInstantiateChildren(e, t, n);
this._renderedChildren = r;
var o = [], a = 0;
for (var i in r) if (r.hasOwnProperty(i)) {
var s = r[i], l = this._rootNodeID + i, u = f.mountComponent(s, l, t, n);
s._mountIndex = a++, o.push(u);
}
return o;
},
updateTextContent: function(e) {
y++;
var t = !0;
try {
var n = this._renderedChildren;
d.unmountChildren(n);
for (var r in n) n.hasOwnProperty(r) && this._unmountChild(n[r]);
this.setTextContent(e), t = !1;
} finally {
y--, y || (t ? u() : l());
}
},
updateMarkup: function(e) {
y++;
var t = !0;
try {
var n = this._renderedChildren;
d.unmountChildren(n);
for (var r in n) n.hasOwnProperty(r) && this._unmountChildByName(n[r], r);
this.setMarkup(e), t = !1;
} finally {
y--, y || (t ? u() : l());
}
},
updateChildren: function(e, t, n) {
y++;
var r = !0;
try {
this._updateChildren(e, t, n), r = !1;
} finally {
y--, y || (r ? u() : l());
}
},
_updateChildren: function(e, t, n) {
var r = this._renderedChildren, o = this._reconcilerUpdateChildren(r, e, t, n);
if (this._renderedChildren = o, o || r) {
var a, i = 0, s = 0;
for (a in o) if (o.hasOwnProperty(a)) {
var l = r && r[a], u = o[a];
l === u ? (this.moveChild(l, s, i), i = Math.max(l._mountIndex, i), l._mountIndex = s) : (l && (i = Math.max(l._mountIndex, i), 
this._unmountChild(l)), this._mountChildByNameAtIndex(u, a, s, t, n)), s++;
}
for (a in r) !r.hasOwnProperty(a) || o && o.hasOwnProperty(a) || this._unmountChild(r[a]);
}
},
unmountChildren: function() {
var e = this._renderedChildren;
d.unmountChildren(e), this._renderedChildren = null;
},
moveChild: function(e, t, n) {
e._mountIndex < n && o(this._rootNodeID, e._mountIndex, t);
},
createChild: function(e, t) {
r(this._rootNodeID, t, e._mountIndex);
},
removeChild: function(e) {
a(this._rootNodeID, e._mountIndex);
},
setTextContent: function(e) {
s(this._rootNodeID, e);
},
setMarkup: function(e) {
i(this._rootNodeID, e);
},
_mountChildByNameAtIndex: function(e, t, n, r, o) {
var a = this._rootNodeID + t, i = f.mountComponent(e, a, r, o);
e._mountIndex = n, this.createChild(e, i);
},
_unmountChild: function(e) {
this.removeChild(e), e._mountIndex = null;
}
}
};
e.exports = b;
}, function(e, t, n) {
"use strict";
var r = n(29), o = {
isValidOwner: function(e) {
return !(!e || "function" != typeof e.attachRef || "function" != typeof e.detachRef);
},
addComponentAsRefTo: function(e, t, n) {
o.isValidOwner(n) ? void 0 : r(!1), n.attachRef(t, e);
},
removeComponentAsRefFrom: function(e, t, n) {
o.isValidOwner(n) ? void 0 : r(!1), n.getPublicInstance().refs[t] === e.getPublicInstance() && n.detachRef(t);
}
};
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
this.reinitializeTransaction(), this.renderToStaticMarkup = !1, this.reactMountReady = o.getPooled(null), 
this.useCreateElement = !e && s.useCreateElement;
}
var o = n(228), a = n(107), i = n(229), s = n(496), l = n(506), u = n(190), p = n(37), c = {
initialize: l.getSelectionInformation,
close: l.restoreSelection
}, f = {
initialize: function() {
var e = i.isEnabled();
return i.setEnabled(!1), e;
},
close: function(e) {
i.setEnabled(e);
}
}, d = {
initialize: function() {
this.reactMountReady.reset();
},
close: function() {
this.reactMountReady.notifyAll();
}
}, h = [ c, f, d ], y = {
getTransactionWrappers: function() {
return h;
},
getReactMountReady: function() {
return this.reactMountReady;
},
destructor: function() {
o.release(this.reactMountReady), this.reactMountReady = null;
}
};
p(r.prototype, u.Mixin, y), a.addPoolingTo(r), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n) {
"function" == typeof e ? e(t.getPublicInstance()) : a.addComponentAsRefTo(t, e, n);
}
function o(e, t, n) {
"function" == typeof e ? e(null) : a.removeComponentAsRefFrom(t, e, n);
}
var a = n(932), i = {};
i.attachRefs = function(e, t) {
if (null !== t && t !== !1) {
var n = t.ref;
null != n && r(n, e, t._owner);
}
}, i.shouldUpdateRefs = function(e, t) {
var n = null === e || e === !1, r = null === t || t === !1;
return n || r || t._owner !== e._owner || t.ref !== e.ref;
}, i.detachRefs = function(e, t) {
if (null !== t && t !== !1) {
var n = t.ref;
null != n && o(n, e, t._owner);
}
}, e.exports = i;
}, function(e, t) {
"use strict";
var n = {
isBatchingUpdates: !1,
batchedUpdates: function(e) {}
};
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
i.isValidElement(e) ? void 0 : h(!1);
var t;
try {
c.injection.injectBatchingStrategy(u);
var n = s.createReactRootID();
return t = p.getPooled(!1), t.perform(function() {
var r = d(e, null), o = r.mountComponent(n, t, f);
return l.addChecksumToMarkup(o);
}, null);
} finally {
p.release(t), c.injection.injectBatchingStrategy(a);
}
}
function o(e) {
i.isValidElement(e) ? void 0 : h(!1);
var t;
try {
c.injection.injectBatchingStrategy(u);
var n = s.createReactRootID();
return t = p.getPooled(!0), t.perform(function() {
var r = d(e, null);
return r.mountComponent(n, t, f);
}, null);
} finally {
p.release(t), c.injection.injectBatchingStrategy(a);
}
}
var a = n(499), i = n(71), s = n(134), l = n(507), u = n(935), p = n(937), c = n(64), f = n(191), d = n(235), h = n(29);
e.exports = {
renderToString: r,
renderToStaticMarkup: o
};
}, function(e, t, n) {
"use strict";
function r(e) {
this.reinitializeTransaction(), this.renderToStaticMarkup = e, this.reactMountReady = a.getPooled(null), 
this.useCreateElement = !1;
}
var o = n(107), a = n(228), i = n(190), s = n(37), l = n(85), u = {
initialize: function() {
this.reactMountReady.reset();
},
close: l
}, p = [ u ], c = {
getTransactionWrappers: function() {
return p;
},
getReactMountReady: function() {
return this.reactMountReady;
},
destructor: function() {
a.release(this.reactMountReady), this.reactMountReady = null;
}
};
s(r.prototype, i.Mixin, c), o.addPoolingTo(r), e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(328), o = {
getChildMapping: function(e) {
return e ? r(e) : e;
},
mergeChildMappings: function(e, t) {
function n(n) {
return t.hasOwnProperty(n) ? t[n] : e[n];
}
e = e || {}, t = t || {};
var r = {}, o = [];
for (var a in e) t.hasOwnProperty(a) ? o.length && (r[a] = o, o = []) : o.push(a);
var i, s = {};
for (var l in t) {
if (r.hasOwnProperty(l)) for (i = 0; i < r[l].length; i++) {
var u = r[l][i];
s[r[l][i]] = n(u);
}
s[l] = n(l);
}
for (i = 0; i < o.length; i++) s[o[i]] = n(o[i]);
return s;
}
};
e.exports = o;
}, function(e, t, n) {
"use strict";
var r = n(491), o = n(938), a = n(37), i = n(85), s = r.createClass({
displayName: "ReactTransitionGroup",
propTypes: {
component: r.PropTypes.any,
childFactory: r.PropTypes.func
},
getDefaultProps: function() {
return {
component: "span",
childFactory: i.thatReturnsArgument
};
},
getInitialState: function() {
return {
children: o.getChildMapping(this.props.children)
};
},
componentWillMount: function() {
this.currentlyTransitioningKeys = {}, this.keysToEnter = [], this.keysToLeave = [];
},
componentDidMount: function() {
var e = this.state.children;
for (var t in e) e[t] && this.performAppear(t);
},
componentWillReceiveProps: function(e) {
var t = o.getChildMapping(e.children), n = this.state.children;
this.setState({
children: o.mergeChildMappings(n, t)
});
var r;
for (r in t) {
var a = n && n.hasOwnProperty(r);
!t[r] || a || this.currentlyTransitioningKeys[r] || this.keysToEnter.push(r);
}
for (r in n) {
var i = t && t.hasOwnProperty(r);
!n[r] || i || this.currentlyTransitioningKeys[r] || this.keysToLeave.push(r);
}
},
componentDidUpdate: function() {
var e = this.keysToEnter;
this.keysToEnter = [], e.forEach(this.performEnter);
var t = this.keysToLeave;
this.keysToLeave = [], t.forEach(this.performLeave);
},
performAppear: function(e) {
this.currentlyTransitioningKeys[e] = !0;
var t = this.refs[e];
t.componentWillAppear ? t.componentWillAppear(this._handleDoneAppearing.bind(this, e)) : this._handleDoneAppearing(e);
},
_handleDoneAppearing: function(e) {
var t = this.refs[e];
t.componentDidAppear && t.componentDidAppear(), delete this.currentlyTransitioningKeys[e];
var n = o.getChildMapping(this.props.children);
n && n.hasOwnProperty(e) || this.performLeave(e);
},
performEnter: function(e) {
this.currentlyTransitioningKeys[e] = !0;
var t = this.refs[e];
t.componentWillEnter ? t.componentWillEnter(this._handleDoneEntering.bind(this, e)) : this._handleDoneEntering(e);
},
_handleDoneEntering: function(e) {
var t = this.refs[e];
t.componentDidEnter && t.componentDidEnter(), delete this.currentlyTransitioningKeys[e];
var n = o.getChildMapping(this.props.children);
n && n.hasOwnProperty(e) || this.performLeave(e);
},
performLeave: function(e) {
this.currentlyTransitioningKeys[e] = !0;
var t = this.refs[e];
t.componentWillLeave ? t.componentWillLeave(this._handleDoneLeaving.bind(this, e)) : this._handleDoneLeaving(e);
},
_handleDoneLeaving: function(e) {
var t = this.refs[e];
t.componentDidLeave && t.componentDidLeave(), delete this.currentlyTransitioningKeys[e];
var n = o.getChildMapping(this.props.children);
n && n.hasOwnProperty(e) ? this.performEnter(e) : this.setState(function(t) {
var n = a({}, t.children);
return delete n[e], {
children: n
};
});
},
render: function() {
var e = [];
for (var t in this.state.children) {
var n = this.state.children[t];
n && e.push(r.cloneElement(this.props.childFactory(n), {
ref: t,
key: t
}));
}
return r.createElement(this.props.component, this.props, e);
}
});
e.exports = s;
}, function(e, t, n) {
"use strict";
var r = n(153), o = r.injection.MUST_USE_ATTRIBUTE, a = {
xlink: "http://www.w3.org/1999/xlink",
xml: "http://www.w3.org/XML/1998/namespace"
}, i = {
Properties: {
clipPath: o,
cx: o,
cy: o,
d: o,
dx: o,
dy: o,
fill: o,
fillOpacity: o,
fontFamily: o,
fontSize: o,
fx: o,
fy: o,
gradientTransform: o,
gradientUnits: o,
markerEnd: o,
markerMid: o,
markerStart: o,
offset: o,
opacity: o,
patternContentUnits: o,
patternUnits: o,
points: o,
preserveAspectRatio: o,
r: o,
rx: o,
ry: o,
spreadMethod: o,
stopColor: o,
stopOpacity: o,
stroke: o,
strokeDasharray: o,
strokeLinecap: o,
strokeOpacity: o,
strokeWidth: o,
textAnchor: o,
transform: o,
version: o,
viewBox: o,
x1: o,
x2: o,
x: o,
xlinkActuate: o,
xlinkArcrole: o,
xlinkHref: o,
xlinkRole: o,
xlinkShow: o,
xlinkTitle: o,
xlinkType: o,
xmlBase: o,
xmlLang: o,
xmlSpace: o,
y1: o,
y2: o,
y: o
},
DOMAttributeNamespaces: {
xlinkActuate: a.xlink,
xlinkArcrole: a.xlink,
xlinkHref: a.xlink,
xlinkRole: a.xlink,
xlinkShow: a.xlink,
xlinkTitle: a.xlink,
xlinkType: a.xlink,
xmlBase: a.xml,
xmlLang: a.xml,
xmlSpace: a.xml
},
DOMAttributeNames: {
clipPath: "clip-path",
fillOpacity: "fill-opacity",
fontFamily: "font-family",
fontSize: "font-size",
gradientTransform: "gradientTransform",
gradientUnits: "gradientUnits",
markerEnd: "marker-end",
markerMid: "marker-mid",
markerStart: "marker-start",
patternContentUnits: "patternContentUnits",
patternUnits: "patternUnits",
preserveAspectRatio: "preserveAspectRatio",
spreadMethod: "spreadMethod",
stopColor: "stop-color",
stopOpacity: "stop-opacity",
strokeDasharray: "stroke-dasharray",
strokeLinecap: "stroke-linecap",
strokeOpacity: "stroke-opacity",
strokeWidth: "stroke-width",
textAnchor: "text-anchor",
viewBox: "viewBox",
xlinkActuate: "xlink:actuate",
xlinkArcrole: "xlink:arcrole",
xlinkHref: "xlink:href",
xlinkRole: "xlink:role",
xlinkShow: "xlink:show",
xlinkTitle: "xlink:title",
xlinkType: "xlink:type",
xmlBase: "xml:base",
xmlLang: "xml:lang",
xmlSpace: "xml:space"
}
};
e.exports = i;
}, function(e, t, n) {
"use strict";
function r(e) {
if ("selectionStart" in e && l.hasSelectionCapabilities(e)) return {
start: e.selectionStart,
end: e.selectionEnd
};
if (window.getSelection) {
var t = window.getSelection();
return {
anchorNode: t.anchorNode,
anchorOffset: t.anchorOffset,
focusNode: t.focusNode,
focusOffset: t.focusOffset
};
}
if (document.selection) {
var n = document.selection.createRange();
return {
parentElement: n.parentElement(),
text: n.text,
top: n.boundingTop,
left: n.boundingLeft
};
}
}
function o(e, t) {
if (_ || null == m || m !== p()) return null;
var n = r(m);
if (!v || !d(v, n)) {
v = n;
var o = u.getPooled(g.select, b, e, t);
return o.type = "select", o.target = m, i.accumulateTwoPhaseDispatches(o), o;
}
return null;
}
var a = n(106), i = n(186), s = n(65), l = n(506), u = n(135), p = n(520), c = n(516), f = n(119), d = n(522), h = a.topLevelTypes, y = s.canUseDOM && "documentMode" in document && document.documentMode <= 11, g = {
select: {
phasedRegistrationNames: {
bubbled: f({
onSelect: null
}),
captured: f({
onSelectCapture: null
})
},
dependencies: [ h.topBlur, h.topContextMenu, h.topFocus, h.topKeyDown, h.topMouseDown, h.topMouseUp, h.topSelectionChange ]
}
}, m = null, b = null, v = null, _ = !1, S = !1, w = f({
onSelect: null
}), T = {
eventTypes: g,
extractEvents: function(e, t, n, r, a) {
if (!S) return null;
switch (e) {
case h.topFocus:
(c(t) || "true" === t.contentEditable) && (m = t, b = n, v = null);
break;

case h.topBlur:
m = null, b = null, v = null;
break;

case h.topMouseDown:
_ = !0;
break;

case h.topContextMenu:
case h.topMouseUp:
return _ = !1, o(r, a);

case h.topSelectionChange:
if (y) break;

case h.topKeyDown:
case h.topKeyUp:
return o(r, a);
}
return null;
},
didPutListener: function(e, t, n) {
t === w && (S = !0);
}
};
e.exports = T;
}, function(e, t) {
"use strict";
var n = Math.pow(2, 53), r = {
createReactRootIndex: function() {
return Math.ceil(Math.random() * n);
}
};
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(106), o = n(517), a = n(186), i = n(72), s = n(944), l = n(135), u = n(947), p = n(949), c = n(232), f = n(946), d = n(950), h = n(189), y = n(951), g = n(85), m = n(329), b = n(29), v = n(119), _ = r.topLevelTypes, S = {
abort: {
phasedRegistrationNames: {
bubbled: v({
onAbort: !0
}),
captured: v({
onAbortCapture: !0
})
}
},
blur: {
phasedRegistrationNames: {
bubbled: v({
onBlur: !0
}),
captured: v({
onBlurCapture: !0
})
}
},
canPlay: {
phasedRegistrationNames: {
bubbled: v({
onCanPlay: !0
}),
captured: v({
onCanPlayCapture: !0
})
}
},
canPlayThrough: {
phasedRegistrationNames: {
bubbled: v({
onCanPlayThrough: !0
}),
captured: v({
onCanPlayThroughCapture: !0
})
}
},
click: {
phasedRegistrationNames: {
bubbled: v({
onClick: !0
}),
captured: v({
onClickCapture: !0
})
}
},
contextMenu: {
phasedRegistrationNames: {
bubbled: v({
onContextMenu: !0
}),
captured: v({
onContextMenuCapture: !0
})
}
},
copy: {
phasedRegistrationNames: {
bubbled: v({
onCopy: !0
}),
captured: v({
onCopyCapture: !0
})
}
},
cut: {
phasedRegistrationNames: {
bubbled: v({
onCut: !0
}),
captured: v({
onCutCapture: !0
})
}
},
doubleClick: {
phasedRegistrationNames: {
bubbled: v({
onDoubleClick: !0
}),
captured: v({
onDoubleClickCapture: !0
})
}
},
drag: {
phasedRegistrationNames: {
bubbled: v({
onDrag: !0
}),
captured: v({
onDragCapture: !0
})
}
},
dragEnd: {
phasedRegistrationNames: {
bubbled: v({
onDragEnd: !0
}),
captured: v({
onDragEndCapture: !0
})
}
},
dragEnter: {
phasedRegistrationNames: {
bubbled: v({
onDragEnter: !0
}),
captured: v({
onDragEnterCapture: !0
})
}
},
dragExit: {
phasedRegistrationNames: {
bubbled: v({
onDragExit: !0
}),
captured: v({
onDragExitCapture: !0
})
}
},
dragLeave: {
phasedRegistrationNames: {
bubbled: v({
onDragLeave: !0
}),
captured: v({
onDragLeaveCapture: !0
})
}
},
dragOver: {
phasedRegistrationNames: {
bubbled: v({
onDragOver: !0
}),
captured: v({
onDragOverCapture: !0
})
}
},
dragStart: {
phasedRegistrationNames: {
bubbled: v({
onDragStart: !0
}),
captured: v({
onDragStartCapture: !0
})
}
},
drop: {
phasedRegistrationNames: {
bubbled: v({
onDrop: !0
}),
captured: v({
onDropCapture: !0
})
}
},
durationChange: {
phasedRegistrationNames: {
bubbled: v({
onDurationChange: !0
}),
captured: v({
onDurationChangeCapture: !0
})
}
},
emptied: {
phasedRegistrationNames: {
bubbled: v({
onEmptied: !0
}),
captured: v({
onEmptiedCapture: !0
})
}
},
encrypted: {
phasedRegistrationNames: {
bubbled: v({
onEncrypted: !0
}),
captured: v({
onEncryptedCapture: !0
})
}
},
ended: {
phasedRegistrationNames: {
bubbled: v({
onEnded: !0
}),
captured: v({
onEndedCapture: !0
})
}
},
error: {
phasedRegistrationNames: {
bubbled: v({
onError: !0
}),
captured: v({
onErrorCapture: !0
})
}
},
focus: {
phasedRegistrationNames: {
bubbled: v({
onFocus: !0
}),
captured: v({
onFocusCapture: !0
})
}
},
input: {
phasedRegistrationNames: {
bubbled: v({
onInput: !0
}),
captured: v({
onInputCapture: !0
})
}
},
keyDown: {
phasedRegistrationNames: {
bubbled: v({
onKeyDown: !0
}),
captured: v({
onKeyDownCapture: !0
})
}
},
keyPress: {
phasedRegistrationNames: {
bubbled: v({
onKeyPress: !0
}),
captured: v({
onKeyPressCapture: !0
})
}
},
keyUp: {
phasedRegistrationNames: {
bubbled: v({
onKeyUp: !0
}),
captured: v({
onKeyUpCapture: !0
})
}
},
load: {
phasedRegistrationNames: {
bubbled: v({
onLoad: !0
}),
captured: v({
onLoadCapture: !0
})
}
},
loadedData: {
phasedRegistrationNames: {
bubbled: v({
onLoadedData: !0
}),
captured: v({
onLoadedDataCapture: !0
})
}
},
loadedMetadata: {
phasedRegistrationNames: {
bubbled: v({
onLoadedMetadata: !0
}),
captured: v({
onLoadedMetadataCapture: !0
})
}
},
loadStart: {
phasedRegistrationNames: {
bubbled: v({
onLoadStart: !0
}),
captured: v({
onLoadStartCapture: !0
})
}
},
mouseDown: {
phasedRegistrationNames: {
bubbled: v({
onMouseDown: !0
}),
captured: v({
onMouseDownCapture: !0
})
}
},
mouseMove: {
phasedRegistrationNames: {
bubbled: v({
onMouseMove: !0
}),
captured: v({
onMouseMoveCapture: !0
})
}
},
mouseOut: {
phasedRegistrationNames: {
bubbled: v({
onMouseOut: !0
}),
captured: v({
onMouseOutCapture: !0
})
}
},
mouseOver: {
phasedRegistrationNames: {
bubbled: v({
onMouseOver: !0
}),
captured: v({
onMouseOverCapture: !0
})
}
},
mouseUp: {
phasedRegistrationNames: {
bubbled: v({
onMouseUp: !0
}),
captured: v({
onMouseUpCapture: !0
})
}
},
paste: {
phasedRegistrationNames: {
bubbled: v({
onPaste: !0
}),
captured: v({
onPasteCapture: !0
})
}
},
pause: {
phasedRegistrationNames: {
bubbled: v({
onPause: !0
}),
captured: v({
onPauseCapture: !0
})
}
},
play: {
phasedRegistrationNames: {
bubbled: v({
onPlay: !0
}),
captured: v({
onPlayCapture: !0
})
}
},
playing: {
phasedRegistrationNames: {
bubbled: v({
onPlaying: !0
}),
captured: v({
onPlayingCapture: !0
})
}
},
progress: {
phasedRegistrationNames: {
bubbled: v({
onProgress: !0
}),
captured: v({
onProgressCapture: !0
})
}
},
rateChange: {
phasedRegistrationNames: {
bubbled: v({
onRateChange: !0
}),
captured: v({
onRateChangeCapture: !0
})
}
},
reset: {
phasedRegistrationNames: {
bubbled: v({
onReset: !0
}),
captured: v({
onResetCapture: !0
})
}
},
scroll: {
phasedRegistrationNames: {
bubbled: v({
onScroll: !0
}),
captured: v({
onScrollCapture: !0
})
}
},
seeked: {
phasedRegistrationNames: {
bubbled: v({
onSeeked: !0
}),
captured: v({
onSeekedCapture: !0
})
}
},
seeking: {
phasedRegistrationNames: {
bubbled: v({
onSeeking: !0
}),
captured: v({
onSeekingCapture: !0
})
}
},
stalled: {
phasedRegistrationNames: {
bubbled: v({
onStalled: !0
}),
captured: v({
onStalledCapture: !0
})
}
},
submit: {
phasedRegistrationNames: {
bubbled: v({
onSubmit: !0
}),
captured: v({
onSubmitCapture: !0
})
}
},
suspend: {
phasedRegistrationNames: {
bubbled: v({
onSuspend: !0
}),
captured: v({
onSuspendCapture: !0
})
}
},
timeUpdate: {
phasedRegistrationNames: {
bubbled: v({
onTimeUpdate: !0
}),
captured: v({
onTimeUpdateCapture: !0
})
}
},
touchCancel: {
phasedRegistrationNames: {
bubbled: v({
onTouchCancel: !0
}),
captured: v({
onTouchCancelCapture: !0
})
}
},
touchEnd: {
phasedRegistrationNames: {
bubbled: v({
onTouchEnd: !0
}),
captured: v({
onTouchEndCapture: !0
})
}
},
touchMove: {
phasedRegistrationNames: {
bubbled: v({
onTouchMove: !0
}),
captured: v({
onTouchMoveCapture: !0
})
}
},
touchStart: {
phasedRegistrationNames: {
bubbled: v({
onTouchStart: !0
}),
captured: v({
onTouchStartCapture: !0
})
}
},
volumeChange: {
phasedRegistrationNames: {
bubbled: v({
onVolumeChange: !0
}),
captured: v({
onVolumeChangeCapture: !0
})
}
},
waiting: {
phasedRegistrationNames: {
bubbled: v({
onWaiting: !0
}),
captured: v({
onWaitingCapture: !0
})
}
},
wheel: {
phasedRegistrationNames: {
bubbled: v({
onWheel: !0
}),
captured: v({
onWheelCapture: !0
})
}
}
}, w = {
topAbort: S.abort,
topBlur: S.blur,
topCanPlay: S.canPlay,
topCanPlayThrough: S.canPlayThrough,
topClick: S.click,
topContextMenu: S.contextMenu,
topCopy: S.copy,
topCut: S.cut,
topDoubleClick: S.doubleClick,
topDrag: S.drag,
topDragEnd: S.dragEnd,
topDragEnter: S.dragEnter,
topDragExit: S.dragExit,
topDragLeave: S.dragLeave,
topDragOver: S.dragOver,
topDragStart: S.dragStart,
topDrop: S.drop,
topDurationChange: S.durationChange,
topEmptied: S.emptied,
topEncrypted: S.encrypted,
topEnded: S.ended,
topError: S.error,
topFocus: S.focus,
topInput: S.input,
topKeyDown: S.keyDown,
topKeyPress: S.keyPress,
topKeyUp: S.keyUp,
topLoad: S.load,
topLoadedData: S.loadedData,
topLoadedMetadata: S.loadedMetadata,
topLoadStart: S.loadStart,
topMouseDown: S.mouseDown,
topMouseMove: S.mouseMove,
topMouseOut: S.mouseOut,
topMouseOver: S.mouseOver,
topMouseUp: S.mouseUp,
topPaste: S.paste,
topPause: S.pause,
topPlay: S.play,
topPlaying: S.playing,
topProgress: S.progress,
topRateChange: S.rateChange,
topReset: S.reset,
topScroll: S.scroll,
topSeeked: S.seeked,
topSeeking: S.seeking,
topStalled: S.stalled,
topSubmit: S.submit,
topSuspend: S.suspend,
topTimeUpdate: S.timeUpdate,
topTouchCancel: S.touchCancel,
topTouchEnd: S.touchEnd,
topTouchMove: S.touchMove,
topTouchStart: S.touchStart,
topVolumeChange: S.volumeChange,
topWaiting: S.waiting,
topWheel: S.wheel
};
for (var T in w) w[T].dependencies = [ T ];
var C = v({
onClick: null
}), E = {}, I = {
eventTypes: S,
extractEvents: function(e, t, n, r, o) {
var i = w[e];
if (!i) return null;
var g;
switch (e) {
case _.topAbort:
case _.topCanPlay:
case _.topCanPlayThrough:
case _.topDurationChange:
case _.topEmptied:
case _.topEncrypted:
case _.topEnded:
case _.topError:
case _.topInput:
case _.topLoad:
case _.topLoadedData:
case _.topLoadedMetadata:
case _.topLoadStart:
case _.topPause:
case _.topPlay:
case _.topPlaying:
case _.topProgress:
case _.topRateChange:
case _.topReset:
case _.topSeeked:
case _.topSeeking:
case _.topStalled:
case _.topSubmit:
case _.topSuspend:
case _.topTimeUpdate:
case _.topVolumeChange:
case _.topWaiting:
g = l;
break;

case _.topKeyPress:
if (0 === m(r)) return null;

case _.topKeyDown:
case _.topKeyUp:
g = p;
break;

case _.topBlur:
case _.topFocus:
g = u;
break;

case _.topClick:
if (2 === r.button) return null;

case _.topContextMenu:
case _.topDoubleClick:
case _.topMouseDown:
case _.topMouseMove:
case _.topMouseOut:
case _.topMouseOver:
case _.topMouseUp:
g = c;
break;

case _.topDrag:
case _.topDragEnd:
case _.topDragEnter:
case _.topDragExit:
case _.topDragLeave:
case _.topDragOver:
case _.topDragStart:
case _.topDrop:
g = f;
break;

case _.topTouchCancel:
case _.topTouchEnd:
case _.topTouchMove:
case _.topTouchStart:
g = d;
break;

case _.topScroll:
g = h;
break;

case _.topWheel:
g = y;
break;

case _.topCopy:
case _.topCut:
case _.topPaste:
g = s;
}
g ? void 0 : b(!1);
var v = g.getPooled(i, n, r, o);
return a.accumulateTwoPhaseDispatches(v), v;
},
didPutListener: function(e, t, n) {
if (t === C) {
var r = i.getNode(e);
E[e] || (E[e] = o.listen(r, "click", g));
}
},
willDeleteListener: function(e, t) {
t === C && (E[e].remove(), delete E[e]);
}
};
e.exports = I;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(135), a = {
clipboardData: function(e) {
return "clipboardData" in e ? e.clipboardData : window.clipboardData;
}
};
o.augmentClass(r, a), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(135), a = {
data: null
};
o.augmentClass(r, a), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(232), a = {
dataTransfer: null
};
o.augmentClass(r, a), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(189), a = {
relatedTarget: null
};
o.augmentClass(r, a), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(135), a = {
data: null
};
o.augmentClass(r, a), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(189), a = n(329), i = n(955), s = n(330), l = {
key: i,
location: null,
ctrlKey: null,
shiftKey: null,
altKey: null,
metaKey: null,
repeat: null,
locale: null,
getModifierState: s,
charCode: function(e) {
return "keypress" === e.type ? a(e) : 0;
},
keyCode: function(e) {
return "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0;
},
which: function(e) {
return "keypress" === e.type ? a(e) : "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0;
}
};
o.augmentClass(r, l), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(189), a = n(330), i = {
touches: null,
targetTouches: null,
changedTouches: null,
altKey: null,
metaKey: null,
ctrlKey: null,
shiftKey: null,
getModifierState: a
};
o.augmentClass(r, i), e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
o.call(this, e, t, n, r);
}
var o = n(232), a = {
deltaX: function(e) {
return "deltaX" in e ? e.deltaX : "wheelDeltaX" in e ? -e.wheelDeltaX : 0;
},
deltaY: function(e) {
return "deltaY" in e ? e.deltaY : "wheelDeltaY" in e ? -e.wheelDeltaY : "wheelDelta" in e ? -e.wheelDelta : 0;
},
deltaZ: null,
deltaMode: null
};
o.augmentClass(r, a), e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
for (var t = 1, n = 0, o = 0, a = e.length, i = -4 & a; i > o; ) {
for (;o < Math.min(o + 4096, i); o += 4) n += (t += e.charCodeAt(o)) + (t += e.charCodeAt(o + 1)) + (t += e.charCodeAt(o + 2)) + (t += e.charCodeAt(o + 3));
t %= r, n %= r;
}
for (;a > o; o++) n += t += e.charCodeAt(o);
return t %= r, n %= r, t | n << 16;
}
var r = 65521;
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e, t) {
var n = null == t || "boolean" == typeof t || "" === t;
if (n) return "";
var r = isNaN(t);
return r || 0 === t || a.hasOwnProperty(e) && a[e] ? "" + t : ("string" == typeof t && (t = t.trim()), 
t + "px");
}
var o = n(488), a = o.isUnitlessNumber;
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r, o) {
return o;
}
n(37), n(42);
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
if (e.key) {
var t = a[e.key] || e.key;
if ("Unidentified" !== t) return t;
}
if ("keypress" === e.type) {
var n = o(e);
return 13 === n ? "Enter" : String.fromCharCode(n);
}
return "keydown" === e.type || "keyup" === e.type ? i[e.keyCode] || "Unidentified" : "";
}
var o = n(329), a = {
Esc: "Escape",
Spacebar: " ",
Left: "ArrowLeft",
Up: "ArrowUp",
Right: "ArrowRight",
Down: "ArrowDown",
Del: "Delete",
Win: "OS",
Menu: "ContextMenu",
Apps: "ContextMenu",
Scroll: "ScrollLock",
MozPrintableKey: "Unidentified"
}, i = {
8: "Backspace",
9: "Tab",
12: "Clear",
13: "Enter",
16: "Shift",
17: "Control",
18: "Alt",
19: "Pause",
20: "CapsLock",
27: "Escape",
32: " ",
33: "PageUp",
34: "PageDown",
35: "End",
36: "Home",
37: "ArrowLeft",
38: "ArrowUp",
39: "ArrowRight",
40: "ArrowDown",
45: "Insert",
46: "Delete",
112: "F1",
113: "F2",
114: "F3",
115: "F4",
116: "F5",
117: "F6",
118: "F7",
119: "F8",
120: "F9",
121: "F10",
122: "F11",
123: "F12",
144: "NumLock",
145: "ScrollLock",
224: "Meta"
};
e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
for (;e && e.firstChild; ) e = e.firstChild;
return e;
}
function r(e) {
for (;e; ) {
if (e.nextSibling) return e.nextSibling;
e = e.parentNode;
}
}
function o(e, t) {
for (var o = n(e), a = 0, i = 0; o; ) {
if (3 === o.nodeType) {
if (i = a + o.textContent.length, t >= a && i >= t) return {
node: o,
offset: t - a
};
a = i;
}
o = n(r(o));
}
}
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
return o.isValidElement(e) ? void 0 : a(!1), e;
}
var o = n(71), a = n(29);
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
return '"' + o(e) + '"';
}
var o = n(234);
e.exports = r;
}, function(e, t, n) {
"use strict";
var r = n(72);
e.exports = r.renderSubtreeIntoContainer;
}, function(e, t) {
"use strict";
function n(e) {
return e.replace(r, function(e, t) {
return t.toUpperCase();
});
}
var r = /-(.)/g;
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
return o(e.replace(a, "ms-"));
}
var o = n(960), a = /^-ms-/;
e.exports = r;
}, function(e, t, n) {
"use strict";
function r(e) {
return !!e && ("object" == typeof e || "function" == typeof e) && "length" in e && !("setInterval" in e) && "number" != typeof e.nodeType && (Array.isArray(e) || "callee" in e || "item" in e);
}
function o(e) {
return r(e) ? Array.isArray(e) ? e.slice() : a(e) : [ e ];
}
var a = n(971);
e.exports = o;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = e.match(p);
return t && t[1].toLowerCase();
}
function o(e, t) {
var n = u;
u ? void 0 : l(!1);
var o = r(e), a = o && s(o);
if (a) {
n.innerHTML = a[1] + e + a[2];
for (var p = a[0]; p--; ) n = n.lastChild;
} else n.innerHTML = e;
var c = n.getElementsByTagName("script");
c.length && (t ? void 0 : l(!1), i(c).forEach(t));
for (var f = i(n.childNodes); n.lastChild; ) n.removeChild(n.lastChild);
return f;
}
var a = n(65), i = n(962), s = n(521), l = n(29), u = a.canUseDOM ? document.createElement("div") : null, p = /^\s*<(\w+)/;
e.exports = o;
}, function(e, t) {
"use strict";
function n(e) {
return e === window ? {
x: window.pageXOffset || document.documentElement.scrollLeft,
y: window.pageYOffset || document.documentElement.scrollTop
} : {
x: e.scrollLeft,
y: e.scrollTop
};
}
e.exports = n;
}, function(e, t) {
"use strict";
function n(e) {
return e.replace(r, "-$1").toLowerCase();
}
var r = /([A-Z])/g;
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
return o(e).replace(a, "-ms-");
}
var o = n(965), a = /^ms-/;
e.exports = r;
}, function(e, t) {
"use strict";
function n(e) {
return !(!e || !("function" == typeof Node ? e instanceof Node : "object" == typeof e && "number" == typeof e.nodeType && "string" == typeof e.nodeName));
}
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
return o(e) && 3 == e.nodeType;
}
var o = n(967);
e.exports = r;
}, function(e, t) {
"use strict";
function n(e, t, n) {
if (!e) return null;
var o = {};
for (var a in e) r.call(e, a) && (o[a] = t.call(n, e[a], a, e));
return o;
}
var r = Object.prototype.hasOwnProperty;
e.exports = n;
}, function(e, t) {
"use strict";
function n(e) {
var t = {};
return function(n) {
return t.hasOwnProperty(n) || (t[n] = e.call(this, n)), t[n];
};
}
e.exports = n;
}, function(e, t, n) {
"use strict";
function r(e) {
var t = e.length;
if (Array.isArray(e) || "object" != typeof e && "function" != typeof e ? o(!1) : void 0, 
"number" != typeof t ? o(!1) : void 0, 0 === t || t - 1 in e ? void 0 : o(!1), e.hasOwnProperty) try {
return Array.prototype.slice.call(e);
} catch (n) {}
for (var r = Array(t), a = 0; t > a; a++) r[a] = e[a];
return r;
}
var o = n(29);
e.exports = r;
} ]);
/*! accept_exclusive_keywords_start*/
//# sourceMappingURL=http://collector.ops.dice.se/artifacts/sparta-client/sources/release-bf1-xpack0/tunguska/ALL/bundle-release-bf1-xpack0_9198_4bcc0069_tunguska_all_prod.js.map
/*! accept_exclusive_keywords_end */